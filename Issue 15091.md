# Issue 15091: Filtered vector spaces and Klyachko bundles on toric varieties

archive/issues_015091.json:
```json
{
    "body": "This ticket implements filtered vector spaces and multi-filtered vector spaces (multiple filtrations of a single vector space). This is then used to implement Klyachko bundles.\n\nIssue created by migration from https://trac.sagemath.org/ticket/15328\n\n",
    "created_at": "2013-10-26T13:20:55Z",
    "labels": [
        "component: algebraic geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Filtered vector spaces and Klyachko bundles on toric varieties",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15091",
    "user": "https://github.com/vbraun"
}
```
This ticket implements filtered vector spaces and multi-filtered vector spaces (multiple filtrations of a single vector space). This is then used to implement Klyachko bundles.

Issue created by migration from https://trac.sagemath.org/ticket/15328





---

archive/issue_comments_193169.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2013-10-26T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193169",
    "user": "https://github.com/vbraun"
}
```

Last 10 new commits:



---

archive/issue_comments_193170.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-10-26T13:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193170",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_193171.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2013-10-27T21:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193171",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_044440.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44440"
}
```



---

archive/issue_events_044441.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44441"
}
```



---

archive/issue_events_044442.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44442"
}
```



---

archive/issue_comments_193172.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-11T06:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193172",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_193173.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-05-12T09:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193174.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-05-12T09:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193174",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193175.json:
```json
{
    "body": "```\nError building the documentation.\nTraceback (most recent call last):\n...\nOSError: [modules  ] /home/ralf/sage/local/lib/python2.7/site-packages/sage/modules/tensor_operations.py:docstring of sage.modules.tensor_operations:31: ERROR: Unexpected indentation.\n```",
    "created_at": "2014-05-18T16:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193175",
    "user": "https://github.com/rwst"
}
```

```
Error building the documentation.
Traceback (most recent call last):
...
OSError: [modules  ] /home/ralf/sage/local/lib/python2.7/site-packages/sage/modules/tensor_operations.py:docstring of sage.modules.tensor_operations:31: ERROR: Unexpected indentation.
```



---

archive/issue_comments_193176.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-05-18T16:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193176",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_044443.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44443"
}
```



---

archive/issue_events_044444.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44444"
}
```



---

archive/issue_events_044445.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-09T09:10:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44445"
}
```



---

archive/issue_events_044446.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-08-09T09:10:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44446"
}
```



---

archive/issue_comments_193177.json:
```json
{
    "body": "rebased\n\n---\nNew commits:",
    "created_at": "2015-08-09T09:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193177",
    "user": "https://github.com/fchapoton"
}
```

rebased

---
New commits:



---

archive/issue_comments_193178.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-09T09:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193178",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193179.json:
```json
{
    "body": "doc now builds. Back to needs review.",
    "created_at": "2015-08-09T09:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193179",
    "user": "https://github.com/fchapoton"
}
```

doc now builds. Back to needs review.



---

archive/issue_comments_193180.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-09T09:55:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193180",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193181.json:
```json
{
    "body": "Missing doctests  modules/tensor_operations.py 12 / 14 = 85%\n\n```\nSCORE src/sage/modules/tensor_operations.py: 85.7% (12 of 14)\n\nMissing documentation:\n     * line 170: def __init__(self, vector_collection, base_ring, dim)\n     * line 254: def __init__(self, vector_collections, operation='product')\n\nPossibly wrong (function name doesn't occur in doctests):\n     * line 341: def _init_product(self)\n     * line 361: def _init_symmetric(self)\n     * line 383: def _init_antisymmetric(self)\n\n```\nso needs_work again",
    "created_at": "2015-08-09T11:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193181",
    "user": "https://github.com/fchapoton"
}
```

Missing doctests  modules/tensor_operations.py 12 / 14 = 85%

```
SCORE src/sage/modules/tensor_operations.py: 85.7% (12 of 14)

Missing documentation:
     * line 170: def __init__(self, vector_collection, base_ring, dim)
     * line 254: def __init__(self, vector_collections, operation='product')

Possibly wrong (function name doesn't occur in doctests):
     * line 341: def _init_product(self)
     * line 361: def _init_symmetric(self)
     * line 383: def _init_antisymmetric(self)

```
so needs_work again



---

archive/issue_comments_193182.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-09T11:37:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193182",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_193183.json:
```json
{
    "body": "Changing keywords from \"\" to \"filtered\".",
    "created_at": "2015-08-09T18:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193183",
    "user": "https://github.com/fchapoton"
}
```

Changing keywords from "" to "filtered".



---

archive/issue_comments_193184.json:
```json
{
    "body": "See also #17096",
    "created_at": "2015-08-09T18:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193184",
    "user": "https://github.com/fchapoton"
}
```

See also #17096



---

archive/issue_comments_193185.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-09-10T19:48:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193185",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_events_044447.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-18T20:13:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44447"
}
```



---

archive/issue_events_044448.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-10-18T20:13:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "milestone": "sage-6.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44448"
}
```



---

archive/issue_comments_193186.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-22T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193187.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-27T20:32:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193188.json:
```json
{
    "body": "There is no dot product in `tensor_operations.py`, only tensor products. Your fix was incorrect because of this (somewhat questionable) behavior of cartesian product:\n\n```\nsage: cartesian_product([[1,2], [3,4]])\nThe cartesian product of ({1, 2}, {3, 4})\nsage: list(_)\n[(1, 3), (1, 4), (2, 3), (2, 4)]\n```\nvs.\n\n```\nsage: cartesian_product([vector([1,2]), vector([3,4])])\n((1, 2), (3, 4))\n```",
    "created_at": "2015-12-27T20:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193188",
    "user": "https://github.com/vbraun"
}
```

There is no dot product in `tensor_operations.py`, only tensor products. Your fix was incorrect because of this (somewhat questionable) behavior of cartesian product:

```
sage: cartesian_product([[1,2], [3,4]])
The cartesian product of ({1, 2}, {3, 4})
sage: list(_)
[(1, 3), (1, 4), (2, 3), (2, 4)]
```
vs.

```
sage: cartesian_product([vector([1,2]), vector([3,4])])
((1, 2), (3, 4))
```



---

archive/issue_comments_193189.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-27T20:39:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193189",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_193190.json:
```json
{
    "body": "Main question: what about the relation to filtered modules introduced in #17096 ?\n\na typo : function accepcts various",
    "created_at": "2016-01-10T14:03:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193190",
    "user": "https://github.com/fchapoton"
}
```

Main question: what about the relation to filtered modules introduced in #17096 ?

a typo : function accepcts various



---

archive/issue_comments_193191.json:
```json
{
    "body": "Replying to [comment:22 chapoton]:\n> Main question: what about the relation to filtered modules introduced in #17096 ?\n\n\nNone, this ticket predates #17096 by a year",
    "created_at": "2016-01-10T15:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193191",
    "user": "https://github.com/vbraun"
}
```

Replying to [comment:22 chapoton]:
> Main question: what about the relation to filtered modules introduced in #17096 ?


None, this ticket predates #17096 by a year



---

archive/issue_comments_193192.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-10T15:40:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193193.json:
```json
{
    "body": "Yes, and so what ? Do you claim priority of ticket *creation* has any importance ?\n\nNow #17096 is in sage and this ticket is not. I think that there should be at least a try not to duplicate filtered modules.",
    "created_at": "2016-01-10T17:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193193",
    "user": "https://github.com/fchapoton"
}
```

Yes, and so what ? Do you claim priority of ticket *creation* has any importance ?

Now #17096 is in sage and this ticket is not. I think that there should be at least a try not to duplicate filtered modules.



---

archive/issue_comments_193194.json:
```json
{
    "body": "#17096 doesn't have tensor operations as far as I can tell, its totally useless for this ticket.",
    "created_at": "2016-01-10T18:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193194",
    "user": "https://github.com/vbraun"
}
```

#17096 doesn't have tensor operations as far as I can tell, its totally useless for this ticket.



---

archive/issue_comments_193195.json:
```json
{
    "body": "this has just one reference, to a paper by Alex Klyachko published 25 years ago. Certainly there should be more modern references, otherwise it's unclear why one wants to have this in Sage...\n(this paper has a large following, perhaps you can mention more popular sources? A reference to a chapter in the Cox's et al. \"Toric Varieties\" book?)",
    "created_at": "2016-01-15T11:09:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193195",
    "user": "https://github.com/dimpase"
}
```

this has just one reference, to a paper by Alex Klyachko published 25 years ago. Certainly there should be more modern references, otherwise it's unclear why one wants to have this in Sage...
(this paper has a large following, perhaps you can mention more popular sources? A reference to a chapter in the Cox's et al. "Toric Varieties" book?)



---

archive/issue_comments_193196.json:
```json
{
    "body": "Its implemented in M2 http://www.math.uiuc.edu/Macaulay2/doc/Macaulay2-1.8.2/share/doc/Macaulay2/ToricVectorBundles/html/\n\nThis implementation is a good deal faster, in fact I wrote it because M2 was too slow.\n\nI don't know of a better reference than Klyachko. Really its obvious, an equivariant bundle is determined by how the (finitely many, in the case of a toric variety) orbits fit together. The rest is just technical bookkeeping, and Klyachko writes down the details if you care for them.",
    "created_at": "2016-01-15T11:18:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193196",
    "user": "https://github.com/vbraun"
}
```

Its implemented in M2 http://www.math.uiuc.edu/Macaulay2/doc/Macaulay2-1.8.2/share/doc/Macaulay2/ToricVectorBundles/html/

This implementation is a good deal faster, in fact I wrote it because M2 was too slow.

I don't know of a better reference than Klyachko. Really its obvious, an equivariant bundle is determined by how the (finitely many, in the case of a toric variety) orbits fit together. The rest is just technical bookkeeping, and Klyachko writes down the details if you care for them.



---

archive/issue_comments_193197.json:
```json
{
    "body": "well, add this ref to M2, at least; otherwise it's really hard to put into context for anyone who is not deeply involved in the toric varieties business.\n\nAnd, by the way, the name is wrong:\n\n```\n+ Klyachko, Anton Alexander:\n```\nit's a different guy: Klyachko, Aleksandr Anatol\u02b9evich (MR Author ID: \t189605)\n\n      Published as: Klja\u010dko, A. A. ...\n         Klyachko, A.\n         Klyachko, A. A.\n         Klyachko, Alexander\n         Klyachko, Alexander A.",
    "created_at": "2016-01-15T12:15:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193197",
    "user": "https://github.com/dimpase"
}
```

well, add this ref to M2, at least; otherwise it's really hard to put into context for anyone who is not deeply involved in the toric varieties business.

And, by the way, the name is wrong:

```
+ Klyachko, Anton Alexander:
```
it's a different guy: Klyachko, Aleksandr Anatolʹevich (MR Author ID: 	189605)

      Published as: Kljačko, A. A. ...
         Klyachko, A.
         Klyachko, A. A.
         Klyachko, Alexander
         Klyachko, Alexander A.



---

archive/issue_comments_193198.json:
```json
{
    "body": "there is indeed a mathematician named Anton Aleksandrovich Klyachko; the name says that the name of his father is Alexander.",
    "created_at": "2016-01-15T12:18:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193198",
    "user": "https://github.com/dimpase"
}
```

there is indeed a mathematician named Anton Aleksandrovich Klyachko; the name says that the name of his father is Alexander.



---

archive/issue_comments_193199.json:
```json
{
    "body": "The Journal website says \"Alexander A Klyachko\" fwiw:\n\nhttp://iopscience.iop.org/article/10.1070/IM1990v035n02ABEH000707/meta;jsessionid=02E4331E01230A500B4CD6E8046730FF.c2.iopscience.cld.iop.org",
    "created_at": "2016-01-15T12:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193199",
    "user": "https://github.com/vbraun"
}
```

The Journal website says "Alexander A Klyachko" fwiw:

http://iopscience.iop.org/article/10.1070/IM1990v035n02ABEH000707/meta;jsessionid=02E4331E01230A500B4CD6E8046730FF.c2.iopscience.cld.iop.org



---

archive/issue_comments_193200.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-15T13:00:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193201.json:
```json
{
    "body": "tried building docs and got errors, cause this ref is already there:\n\n```\ngit blame src/sage/geometry/fan.py | grep \"\\[Klya\"\n...\nbfd3bb4c (Volker Braun       2011-12-15 22:41:11 +0000 3435)         ..  [Klyachko]\n```",
    "created_at": "2016-01-15T22:23:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193201",
    "user": "https://github.com/dimpase"
}
```

tried building docs and got errors, cause this ref is already there:

```
git blame src/sage/geometry/fan.py | grep "\[Klya"
...
bfd3bb4c (Volker Braun       2011-12-15 22:41:11 +0000 3435)         ..  [Klyachko]
```



---

archive/issue_comments_193202.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-16T00:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193203.json:
```json
{
    "body": "Hmm strange the patchbot didn't notice; Anyways fixed now.",
    "created_at": "2016-01-16T00:44:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193203",
    "user": "https://github.com/vbraun"
}
```

Hmm strange the patchbot didn't notice; Anyways fixed now.



---

archive/issue_comments_193204.json:
```json
{
    "body": "try other fields, not just QQ. E.g. the following looks weird:\n\n```\nsage: FilteredVectorSpace({1:[(1,0), (-1,1)], 3:[(1,0)]},base_ring=GF(3))\nFinite Field of size 3^2 >= Finite Field of size 3^1 >= Finite Field of size 3^1 >= 0\n```",
    "created_at": "2016-01-16T07:50:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193204",
    "user": "https://github.com/dimpase"
}
```

try other fields, not just QQ. E.g. the following looks weird:

```
sage: FilteredVectorSpace({1:[(1,0), (-1,1)], 3:[(1,0)]},base_ring=GF(3))
Finite Field of size 3^2 >= Finite Field of size 3^1 >= Finite Field of size 3^1 >= 0
```



---

archive/issue_comments_193205.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-16T09:38:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193206.json:
```json
{
    "body": "```\nsage: f1.random_deformation()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-2-904b4efece1b> in <module>()\n----> 1 f1.random_deformation()\n\n/home/dima/software/sage/local/lib/python2.7/site-packages/sage/modules/filtered_vector_space.pyc in random_deformation(self, epsilon)\n   1230                           for v in filt.echelonized_basis()]\n   1231             filtration[deg] = generators\n-> 1232         return FilteredVectorSpace(filtration, check=True)\n\n...\nTypeError: Unable to coerce 1 (<type 'sage.rings.finite_rings.element_givaro.FiniteField_givaroElement'>) to Rational\nsage: \n```\nSomewhere here char=0 seems to be assumed...",
    "created_at": "2016-01-16T13:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193206",
    "user": "https://github.com/dimpase"
}
```

```
sage: f1.random_deformation()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-2-904b4efece1b> in <module>()
----> 1 f1.random_deformation()

/home/dima/software/sage/local/lib/python2.7/site-packages/sage/modules/filtered_vector_space.pyc in random_deformation(self, epsilon)
   1230                           for v in filt.echelonized_basis()]
   1231             filtration[deg] = generators
-> 1232         return FilteredVectorSpace(filtration, check=True)

...
TypeError: Unable to coerce 1 (<type 'sage.rings.finite_rings.element_givaro.FiniteField_givaroElement'>) to Rational
sage: 
```
Somewhere here char=0 seems to be assumed...



---

archive/issue_comments_193207.json:
```json
{
    "body": "there\n\n```\nsage: f1=FilteredVectorSpace({1:[(1,0), (0,1)], 3:[(1,0)]},base_ring=GF(9,'a'),check=True)\n```",
    "created_at": "2016-01-16T13:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193207",
    "user": "https://github.com/dimpase"
}
```

there

```
sage: f1=FilteredVectorSpace({1:[(1,0), (0,1)], 3:[(1,0)]},base_ring=GF(9,'a'),check=True)
```



---

archive/issue_comments_193208.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-16T14:38:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193209.json:
```json
{
    "body": "Thanks, fixed.",
    "created_at": "2016-01-16T14:38:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193209",
    "user": "https://github.com/vbraun"
}
```

Thanks, fixed.



---

archive/issue_comments_193210.json:
```json
{
    "body": "Could you add a couple of examples in positive characteristic, just to illustrate that this all works? Otherwise I am happy to give it a positive review.",
    "created_at": "2016-01-17T21:21:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193210",
    "user": "https://github.com/dimpase"
}
```

Could you add a couple of examples in positive characteristic, just to illustrate that this all works? Otherwise I am happy to give it a positive review.



---

archive/issue_comments_193211.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-23T16:57:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193211",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_193212.json:
```json
{
    "body": "Done",
    "created_at": "2016-01-23T16:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193212",
    "user": "https://github.com/vbraun"
}
```

Done



---

archive/issue_comments_193213.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-01-23T16:58:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193213",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_193214.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-01-24T12:52:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15091#issuecomment-193214",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_044449.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-01-24T12:52:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15091",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15091#event-44449"
}
```
