# Issue 32650: sage.misc.latex: Replace have_... functions by Features

archive/issues_032413.json:
```json
{
    "body": "... or more generally, replacing all uses of `sage.misc.os_tools.have_program` by `Executable`\n\n**CC:**  @kwankyu\n\n**Branch:** [2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** S\u00e9bastien Labb\u00e9\n\n**Dependencies:** #32634\n\nIssue created by migration from https://trac.sagemath.org/ticket/32650\n\n",
    "closed_at": "2021-11-12T21:27:39Z",
    "created_at": "2021-10-07T19:10:34Z",
    "labels": [
        "component: refactoring",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "title": "sage.misc.latex: Replace have_... functions by Features",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/32650",
    "user": "https://github.com/mkoeppe"
}
```
... or more generally, replacing all uses of `sage.misc.os_tools.have_program` by `Executable`

**CC:**  @kwankyu

**Branch:** [2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)

**Reviewer:** Matthias Koeppe

**Author:** Sébastien Labbé

**Dependencies:** #32634

Issue created by migration from https://trac.sagemath.org/ticket/32650





---

archive/issue_comments_529326.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+... or more generally, replacing all uses of `sage.misc.os_tools.have_program` by `Executable`\n``````\n",
    "created_at": "2021-10-07T19:12:03Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529326",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+... or more generally, replacing all uses of `sage.misc.os_tools.have_program` by `Executable`
``````




---

archive/issue_comments_529327.json:
```json
{
    "body": "**Commit:** [f3291d8191a32978090febfb343fe2af39b43ac2](https://github.com/sagemath/sagetrac-mirror/commit/f3291d8191a32978090febfb343fe2af39b43ac2)",
    "created_at": "2021-11-02T16:12:09Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529327",
    "user": "https://github.com/seblabbe"
}
```

**Commit:** [f3291d8191a32978090febfb343fe2af39b43ac2](https://github.com/sagemath/sagetrac-mirror/commit/f3291d8191a32978090febfb343fe2af39b43ac2)



---

archive/issue_comments_529328.json:
```json
{
    "body": "**Author:** S\u00e9bastien Labb\u00e9",
    "created_at": "2021-11-02T16:12:09Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529328",
    "user": "https://github.com/seblabbe"
}
```

**Author:** Sébastien Labbé



---

archive/issue_comments_529329.json:
```json
{
    "body": "<a id='comment:2'></a>\nHere is some work towards that goal removing all uses of `have_program` in `misc/latex.py`.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8068ba5d1b1e0919c9059d04dede6472b9f6bbd0\">8068ba5</a></td><td><code>32650: Creating feature dvipng</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a96e94d31d38c59db30d1995711203777cd67a6f\">a96e94d</a></td><td><code>32650: Creating feature pdf2svg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/870d461bdd5484894ff3d7c030f33757bea99bd2\">870d461</a></td><td><code>32650: Creating features latex, xelatex, pdflatex, lualatex</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/385569e797b35f16a1f336ec25bfa8126bfdf969\">385569e</a></td><td><code>32650: adding latex, xelatex, pdflatex, lualatex, pdf2svg, dvipng to doctest/external.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3291d8191a32978090febfb343fe2af39b43ac2\">f3291d8</a></td><td><code>32650: using features instead of have_program in misc/latex.py</code></td></tr></table>\n",
    "created_at": "2021-11-02T16:12:09Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529329",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:2'></a>
Here is some work towards that goal removing all uses of `have_program` in `misc/latex.py`.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8068ba5d1b1e0919c9059d04dede6472b9f6bbd0">8068ba5</a></td><td><code>32650: Creating feature dvipng</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a96e94d31d38c59db30d1995711203777cd67a6f">a96e94d</a></td><td><code>32650: Creating feature pdf2svg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/870d461bdd5484894ff3d7c030f33757bea99bd2">870d461</a></td><td><code>32650: Creating features latex, xelatex, pdflatex, lualatex</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/385569e797b35f16a1f336ec25bfa8126bfdf969">385569e</a></td><td><code>32650: adding latex, xelatex, pdflatex, lualatex, pdf2svg, dvipng to doctest/external.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3291d8191a32978090febfb343fe2af39b43ac2">f3291d8</a></td><td><code>32650: using features instead of have_program in misc/latex.py</code></td></tr></table>




---

archive/issue_comments_529330.json:
```json
{
    "body": "**Branch:** [u/slabbe/32650](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/32650)",
    "created_at": "2021-11-02T16:12:09Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529330",
    "user": "https://github.com/seblabbe"
}
```

**Branch:** [u/slabbe/32650](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/32650)



---

archive/issue_comments_529331.json:
```json
{
    "body": "<a id='comment:3'></a>\nRemainings usage of `have_program` are:\n\n```\n$ git grep have_program\ninterfaces/chomp.py:        from sage.misc.sage_ostools import have_program\ninterfaces/chomp.py:        _have_chomp[program] = have_program(program)\ninterfaces/phc.py:            from sage.misc.sage_ostools import have_program\ninterfaces/phc.py:            if not have_program('phc'):\nmisc/dist.py:    from sage.misc.sage_ostools import have_program\nmisc/dist.py:        cmd_inside_sage = have_program(cmd, path=SAGE_BIN)\nmisc/dist.py:        cmd_outside_sage = have_program(cmd, path=PATH)\nmisc/sage_ostools.pyx:def have_program(program, path=None):\nmisc/sage_ostools.pyx:        sage: from sage.misc.sage_ostools import have_program\nmisc/sage_ostools.pyx:        sage: have_program('ls')\nmisc/sage_ostools.pyx:        sage: have_program('there_is_not_a_program_with_this_name')\nmisc/sage_ostools.pyx:        sage: have_program('sage', os.path.join(SAGE_VENV, 'bin'))\nmisc/sage_ostools.pyx:        sage: have_program('sage', '/there_is_not_a_path_with_this_name')\nmisc/sage_ostools.pyx:        sage: have_program('there_is_not_a_program_with_this_name', os.path.join(SAGE_VENV, 'bin'))\nmisc/viewer.py:    from sage.misc.sage_ostools import have_program\nmisc/viewer.py:    elif have_program('xdg-open'):\nmisc/viewer.py:                if have_program(cmd):\nmisc/viewer.py:                if have_program(cmd):\nmisc/viewer.py:                if have_program(cmd):\nplot/animate.py:        from sage.misc.sage_ostools import have_program\nplot/animate.py:        have_convert = have_program('convert')\nplot/animate.py:        from sage.misc.sage_ostools import have_program\nplot/animate.py:        return have_program('ffmpeg')\nplot/graphics.py:                from sage.misc.sage_ostools import have_program\nplot/graphics.py:                                         if have_program(i)]\nplot/multigraphics.py:                from sage.misc.sage_ostools import have_program\nplot/multigraphics.py:                                         if have_program(i)]\n```",
    "created_at": "2021-11-02T16:13:01Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529331",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:3'></a>
Remainings usage of `have_program` are:

```
$ git grep have_program
interfaces/chomp.py:        from sage.misc.sage_ostools import have_program
interfaces/chomp.py:        _have_chomp[program] = have_program(program)
interfaces/phc.py:            from sage.misc.sage_ostools import have_program
interfaces/phc.py:            if not have_program('phc'):
misc/dist.py:    from sage.misc.sage_ostools import have_program
misc/dist.py:        cmd_inside_sage = have_program(cmd, path=SAGE_BIN)
misc/dist.py:        cmd_outside_sage = have_program(cmd, path=PATH)
misc/sage_ostools.pyx:def have_program(program, path=None):
misc/sage_ostools.pyx:        sage: from sage.misc.sage_ostools import have_program
misc/sage_ostools.pyx:        sage: have_program('ls')
misc/sage_ostools.pyx:        sage: have_program('there_is_not_a_program_with_this_name')
misc/sage_ostools.pyx:        sage: have_program('sage', os.path.join(SAGE_VENV, 'bin'))
misc/sage_ostools.pyx:        sage: have_program('sage', '/there_is_not_a_path_with_this_name')
misc/sage_ostools.pyx:        sage: have_program('there_is_not_a_program_with_this_name', os.path.join(SAGE_VENV, 'bin'))
misc/viewer.py:    from sage.misc.sage_ostools import have_program
misc/viewer.py:    elif have_program('xdg-open'):
misc/viewer.py:                if have_program(cmd):
misc/viewer.py:                if have_program(cmd):
misc/viewer.py:                if have_program(cmd):
plot/animate.py:        from sage.misc.sage_ostools import have_program
plot/animate.py:        have_convert = have_program('convert')
plot/animate.py:        from sage.misc.sage_ostools import have_program
plot/animate.py:        return have_program('ffmpeg')
plot/graphics.py:                from sage.misc.sage_ostools import have_program
plot/graphics.py:                                         if have_program(i)]
plot/multigraphics.py:                from sage.misc.sage_ostools import have_program
plot/multigraphics.py:                                         if have_program(i)]
```



---

archive/issue_comments_529332.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5aebb91127617da0d0662f43e4fdc476dbea9ed\">a5aebb9</a></td><td><code>32650: using features in plot/animate.py (currently with .require(need_msg) which is not yet supported)</code></td></tr></table>\n",
    "created_at": "2021-11-02T16:31:55Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529332",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5aebb91127617da0d0662f43e4fdc476dbea9ed">a5aebb9</a></td><td><code>32650: using features in plot/animate.py (currently with .require(need_msg) which is not yet supported)</code></td></tr></table>




---

archive/issue_comments_529333.json:
```json
{
    "body": "**Changing commit** from \"[f3291d8191a32978090febfb343fe2af39b43ac2](https://github.com/sagemath/sagetrac-mirror/commit/f3291d8191a32978090febfb343fe2af39b43ac2)\" to \"[a5aebb91127617da0d0662f43e4fdc476dbea9ed](https://github.com/sagemath/sagetrac-mirror/commit/a5aebb91127617da0d0662f43e4fdc476dbea9ed)\".",
    "created_at": "2021-11-02T16:31:55Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529333",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f3291d8191a32978090febfb343fe2af39b43ac2](https://github.com/sagemath/sagetrac-mirror/commit/f3291d8191a32978090febfb343fe2af39b43ac2)" to "[a5aebb91127617da0d0662f43e4fdc476dbea9ed](https://github.com/sagemath/sagetrac-mirror/commit/a5aebb91127617da0d0662f43e4fdc476dbea9ed)".



---

archive/issue_comments_529334.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e9a6b12f61fd71a89ed6a7825971e5f96b57d36\">2e9a6b1</a></td><td><code>32650: using features in plot/graphics.py and plot/multigraphics.py</code></td></tr></table>\n",
    "created_at": "2021-11-02T16:39:12Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529334",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e9a6b12f61fd71a89ed6a7825971e5f96b57d36">2e9a6b1</a></td><td><code>32650: using features in plot/graphics.py and plot/multigraphics.py</code></td></tr></table>




---

archive/issue_comments_529335.json:
```json
{
    "body": "**Changing commit** from \"[a5aebb91127617da0d0662f43e4fdc476dbea9ed](https://github.com/sagemath/sagetrac-mirror/commit/a5aebb91127617da0d0662f43e4fdc476dbea9ed)\" to \"[2e9a6b12f61fd71a89ed6a7825971e5f96b57d36](https://github.com/sagemath/sagetrac-mirror/commit/2e9a6b12f61fd71a89ed6a7825971e5f96b57d36)\".",
    "created_at": "2021-11-02T16:39:12Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529335",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a5aebb91127617da0d0662f43e4fdc476dbea9ed](https://github.com/sagemath/sagetrac-mirror/commit/a5aebb91127617da0d0662f43e4fdc476dbea9ed)" to "[2e9a6b12f61fd71a89ed6a7825971e5f96b57d36](https://github.com/sagemath/sagetrac-mirror/commit/2e9a6b12f61fd71a89ed6a7825971e5f96b57d36)".



---

archive/issue_comments_529336.json:
```json
{
    "body": "<a id='comment:6'></a>\nI suggest this ticket should handle only the removal of `have_program` in `misc.latex.py` and `sage.plot`.\n\nTODO: Answer this question: do we want `.require(needed_for_msg)` to provide an additional message explaining why the feature is needed for?",
    "created_at": "2021-11-02T16:43:54Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529336",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>
I suggest this ticket should handle only the removal of `have_program` in `misc.latex.py` and `sage.plot`.

TODO: Answer this question: do we want `.require(needed_for_msg)` to provide an additional message explaining why the feature is needed for?



---

archive/issue_comments_529337.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddd2287595b2d3bb115767cb008b50166bd65e95\">ddd2287</a></td><td><code>32650: using features in plot/animate.py (currently with .require(need_msg) which is not yet supported)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d438c45692954fe96403301ff52b9e781edfd24c\">d438c45</a></td><td><code>32650: using features in plot/graphics.py and plot/multigraphics.py</code></td></tr></table>\n",
    "created_at": "2021-11-02T20:40:42Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529337",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddd2287595b2d3bb115767cb008b50166bd65e95">ddd2287</a></td><td><code>32650: using features in plot/animate.py (currently with .require(need_msg) which is not yet supported)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d438c45692954fe96403301ff52b9e781edfd24c">d438c45</a></td><td><code>32650: using features in plot/graphics.py and plot/multigraphics.py</code></td></tr></table>




---

archive/issue_comments_529338.json:
```json
{
    "body": "**Changing commit** from \"[2e9a6b12f61fd71a89ed6a7825971e5f96b57d36](https://github.com/sagemath/sagetrac-mirror/commit/2e9a6b12f61fd71a89ed6a7825971e5f96b57d36)\" to \"[d438c45692954fe96403301ff52b9e781edfd24c](https://github.com/sagemath/sagetrac-mirror/commit/d438c45692954fe96403301ff52b9e781edfd24c)\".",
    "created_at": "2021-11-02T20:40:42Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529338",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2e9a6b12f61fd71a89ed6a7825971e5f96b57d36](https://github.com/sagemath/sagetrac-mirror/commit/2e9a6b12f61fd71a89ed6a7825971e5f96b57d36)" to "[d438c45692954fe96403301ff52b9e781edfd24c](https://github.com/sagemath/sagetrac-mirror/commit/d438c45692954fe96403301ff52b9e781edfd24c)".



---

archive/issue_comments_529339.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4559932b6311de0a825154947daaedbda9099e0\">d455993</a></td><td><code>32650: using features in plot/animate.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf02094eda368e2e9ad381b0bad65e06c56c383a\">cf02094</a></td><td><code>32650: using features in plot/graphics.py and plot/multigraphics.py</code></td></tr></table>\n",
    "created_at": "2021-11-02T20:44:45Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529339",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4559932b6311de0a825154947daaedbda9099e0">d455993</a></td><td><code>32650: using features in plot/animate.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf02094eda368e2e9ad381b0bad65e06c56c383a">cf02094</a></td><td><code>32650: using features in plot/graphics.py and plot/multigraphics.py</code></td></tr></table>




---

archive/issue_comments_529340.json:
```json
{
    "body": "**Changing commit** from \"[d438c45692954fe96403301ff52b9e781edfd24c](https://github.com/sagemath/sagetrac-mirror/commit/d438c45692954fe96403301ff52b9e781edfd24c)\" to \"[cf02094eda368e2e9ad381b0bad65e06c56c383a](https://github.com/sagemath/sagetrac-mirror/commit/cf02094eda368e2e9ad381b0bad65e06c56c383a)\".",
    "created_at": "2021-11-02T20:44:45Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529340",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d438c45692954fe96403301ff52b9e781edfd24c](https://github.com/sagemath/sagetrac-mirror/commit/d438c45692954fe96403301ff52b9e781edfd24c)" to "[cf02094eda368e2e9ad381b0bad65e06c56c383a](https://github.com/sagemath/sagetrac-mirror/commit/cf02094eda368e2e9ad381b0bad65e06c56c383a)".



---

archive/issue_comments_529341.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [slabbe](#comment%3A6):\n> TODO: Answer this question: do we want `.require(needed_for_msg)` to provide an additional message explaining why the feature is needed for?\n\n\nI decided to get rid of the `.require(needed_for_msg)`. I did a forced push to clean the commit about `plot/animate.py` file.",
    "created_at": "2021-11-02T20:46:00Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529341",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'></a>
Replying to [slabbe](#comment%3A6):
> TODO: Answer this question: do we want `.require(needed_for_msg)` to provide an additional message explaining why the feature is needed for?


I decided to get rid of the `.require(needed_for_msg)`. I did a forced push to clean the commit about `plot/animate.py` file.



---

archive/issue_comments_529342.json:
```json
{
    "body": "<a id='comment:10'></a>\nOn my side, the command\n\n```\n$ sage -tp --optional=sage,optional,external --long src/sage/features src/sage/plot src/sage/doctest\n```\ncurrently gives:\n\n```\nGit branch: 32650\nUsing --optional=4ti2,bliss,cbc,ccache,cryptominisat,database_symbolic_data,debian,dot2tex,e_antic,external,fricas,glucose,latte_int,libnauty,lidia,normaliz,notedown,pandoc_attributes,pip,pycosat,pynormaliz,rst2ipynb,rubiks,sage,sage.geometry.polyhedron,sage.rings.real_double,sage_numerical_backends_coin,sage_spkg,sage_sws2rst\nExternal software to be detected: 4ti2,cplex,dvipng,ffmpeg,graphviz,gurobi,imagemagick,internet,latex,lualatex,macaulay2,magma,maple,mathematica,matlab,octave,pandoc,pdf2svg,pdflatex,rubiks,scilab,xelatex\nSorting sources by runtime so that slower doctests are run first....\nDoctesting 95 files using 8 threads.\n[...]\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 455.6 seconds\n    cpu time: 680.6 seconds\n    cumulative wall time: 2815.7 seconds\nExternal software detected for doctesting: dvipng,ffmpeg,graphviz,imagemagick,internet,latex,lualatex,octave,pandoc,pdf2svg,pdflatex,xelatex\n```",
    "created_at": "2021-11-02T20:52:08Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529342",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:10'></a>
On my side, the command

```
$ sage -tp --optional=sage,optional,external --long src/sage/features src/sage/plot src/sage/doctest
```
currently gives:

```
Git branch: 32650
Using --optional=4ti2,bliss,cbc,ccache,cryptominisat,database_symbolic_data,debian,dot2tex,e_antic,external,fricas,glucose,latte_int,libnauty,lidia,normaliz,notedown,pandoc_attributes,pip,pycosat,pynormaliz,rst2ipynb,rubiks,sage,sage.geometry.polyhedron,sage.rings.real_double,sage_numerical_backends_coin,sage_spkg,sage_sws2rst
External software to be detected: 4ti2,cplex,dvipng,ffmpeg,graphviz,gurobi,imagemagick,internet,latex,lualatex,macaulay2,magma,maple,mathematica,matlab,octave,pandoc,pdf2svg,pdflatex,rubiks,scilab,xelatex
Sorting sources by runtime so that slower doctests are run first....
Doctesting 95 files using 8 threads.
[...]
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 455.6 seconds
    cpu time: 680.6 seconds
    cumulative wall time: 2815.7 seconds
External software detected for doctesting: dvipng,ffmpeg,graphviz,imagemagick,internet,latex,lualatex,octave,pandoc,pdf2svg,pdflatex,xelatex
```



---

archive/issue_events_293087.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2021-11-02T20:52:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32650#event-293087"
}
```



---

archive/issue_comments_529343.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28f1f4a5fef37adebff969b86913533501f8fa76\">28f1f4a</a></td><td><code>32650: deprecating have_* functions in misc/latex.py in favor of features</code></td></tr></table>\n",
    "created_at": "2021-11-02T21:18:49Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529343",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28f1f4a5fef37adebff969b86913533501f8fa76">28f1f4a</a></td><td><code>32650: deprecating have_* functions in misc/latex.py in favor of features</code></td></tr></table>




---

archive/issue_comments_529344.json:
```json
{
    "body": "**Changing commit** from \"[cf02094eda368e2e9ad381b0bad65e06c56c383a](https://github.com/sagemath/sagetrac-mirror/commit/cf02094eda368e2e9ad381b0bad65e06c56c383a)\" to \"[28f1f4a5fef37adebff969b86913533501f8fa76](https://github.com/sagemath/sagetrac-mirror/commit/28f1f4a5fef37adebff969b86913533501f8fa76)\".",
    "created_at": "2021-11-02T21:18:49Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529344",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[cf02094eda368e2e9ad381b0bad65e06c56c383a](https://github.com/sagemath/sagetrac-mirror/commit/cf02094eda368e2e9ad381b0bad65e06c56c383a)" to "[28f1f4a5fef37adebff969b86913533501f8fa76](https://github.com/sagemath/sagetrac-mirror/commit/28f1f4a5fef37adebff969b86913533501f8fa76)".



---

archive/issue_comments_529345.json:
```json
{
    "body": "<a id='comment:12'></a>\nNeeds review!",
    "created_at": "2021-11-02T21:28:08Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529345",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:12'></a>
Needs review!



---

archive/issue_comments_529346.json:
```json
{
    "body": "**Changing commit** from \"[28f1f4a5fef37adebff969b86913533501f8fa76](https://github.com/sagemath/sagetrac-mirror/commit/28f1f4a5fef37adebff969b86913533501f8fa76)\" to \"[5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab](https://github.com/sagemath/sagetrac-mirror/commit/5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab)\".",
    "created_at": "2021-11-04T10:29:03Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529346",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[28f1f4a5fef37adebff969b86913533501f8fa76](https://github.com/sagemath/sagetrac-mirror/commit/28f1f4a5fef37adebff969b86913533501f8fa76)" to "[5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab](https://github.com/sagemath/sagetrac-mirror/commit/5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab)".



---

archive/issue_comments_529347.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab\">5d9414d</a></td><td><code>32650: .. note -> .. NOTE</code></td></tr></table>\n",
    "created_at": "2021-11-04T10:29:03Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529347",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab">5d9414d</a></td><td><code>32650: .. note -> .. NOTE</code></td></tr></table>




---

archive/issue_comments_529348.json:
```json
{
    "body": "<a id='comment:14'></a>\nI added a commit to fix a pyflakes warning.",
    "created_at": "2021-11-04T10:29:50Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529348",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:14'></a>
I added a commit to fix a pyflakes warning.



---

archive/issue_comments_529349.json:
```json
{
    "body": "<a id='comment:15'></a>\n@mkoeppe: I have a question for you with respect to a choice I made I am not sure of. Within the class `class latex(Executable)`, I addded the method `is_functional` where I reused the code which was in the previous `have_latex` in `sage.misc.latex.py`. This allows to have a behavior which matches the previous behavior when `have_latex` was called. But doing so, there are now imports `from sage.misc.latex import `_run_latex_`, _latex_file_` within the file `sage/features/latex.py`. Is this a file dependency we want to avoid with respect to modularization?",
    "created_at": "2021-11-04T10:34:47Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529349",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:15'></a>
@mkoeppe: I have a question for you with respect to a choice I made I am not sure of. Within the class `class latex(Executable)`, I addded the method `is_functional` where I reused the code which was in the previous `have_latex` in `sage.misc.latex.py`. This allows to have a behavior which matches the previous behavior when `have_latex` was called. But doing so, there are now imports `from sage.misc.latex import `_run_latex_`, _latex_file_` within the file `sage/features/latex.py`. Is this a file dependency we want to avoid with respect to modularization?



---

archive/issue_comments_529350.json:
```json
{
    "body": "<a id='comment:16'></a>\nGreat question. In this code:\n\n```\n+    def is_functional(self):\n...\n+        from sage.misc.latex import _run_latex_, _latex_file_\n```\nit would probably be good to use `try...except` around the import and return a `False` test result if `sage.misc.latex` is not available.",
    "created_at": "2021-11-04T15:32:50Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529350",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
Great question. In this code:

```
+    def is_functional(self):
...
+        from sage.misc.latex import _run_latex_, _latex_file_
```
it would probably be good to use `try...except` around the import and return a `False` test result if `sage.misc.latex` is not available.



---

archive/issue_comments_529351.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [mkoeppe](#comment%3A16):\n> and return a `False` test result if `sage.misc.latex` is not available. \n\n\n`False`? But maybe `latex` is available and functional even if `sage.misc.latex` module is not available, so we could return `True`.",
    "created_at": "2021-11-04T16:10:47Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529351",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:17'></a>
Replying to [mkoeppe](#comment%3A16):
> and return a `False` test result if `sage.misc.latex` is not available. 


`False`? But maybe `latex` is available and functional even if `sage.misc.latex` module is not available, so we could return `True`.



---

archive/issue_comments_529352.json:
```json
{
    "body": "<a id='comment:18'></a>\nDo we have code that calls `latex` without going through `sage.misc.latex`?",
    "created_at": "2021-11-04T16:17:39Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529352",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Do we have code that calls `latex` without going through `sage.misc.latex`?



---

archive/issue_comments_529353.json:
```json
{
    "body": "<a id='comment:19'></a>\nIn fact, I hate the function `_run_latex_` as it is a bunch of spaghetti code involving everything:\n\nhttps://gitlab.com/sagemath/sage/-/blob/develop/src/sage/misc/latex.py#L643\n\nSo I think it is preferable to not call it within `features/latex.py` at all.",
    "created_at": "2021-11-04T16:20:47Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529353",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:19'></a>
In fact, I hate the function `_run_latex_` as it is a bunch of spaghetti code involving everything:

https://gitlab.com/sagemath/sage/-/blob/develop/src/sage/misc/latex.py#L643

So I think it is preferable to not call it within `features/latex.py` at all.



---

archive/issue_comments_529354.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [mkoeppe](#comment%3A18):\n> Do we have code that calls `latex` without going through `sage.misc.latex`?\n\n\nYes, it can be done without, by using a simple `subprocess.run`. I do that in #20343, for instance in the method `def pdf(self)`.",
    "created_at": "2021-11-04T16:22:08Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529354",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:20'></a>
Replying to [mkoeppe](#comment%3A18):
> Do we have code that calls `latex` without going through `sage.misc.latex`?


Yes, it can be done without, by using a simple `subprocess.run`. I do that in #20343, for instance in the method `def pdf(self)`.



---

archive/issue_comments_529355.json:
```json
{
    "body": "<a id='comment:21'></a>\n(note to myself: I just noticed that `have_latex` should be updated in `src/sage/doctest/external.py` to use features as well.)",
    "created_at": "2021-11-04T16:30:55Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529355",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:21'></a>
(note to myself: I just noticed that `have_latex` should be updated in `src/sage/doctest/external.py` to use features as well.)



---

archive/issue_comments_529356.json:
```json
{
    "body": "<a id='comment:22'></a>\nAre you still planning to add the distro info for pdf2svg here as you wrote in #20343?",
    "created_at": "2021-11-04T20:37:40Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529356",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>
Are you still planning to add the distro info for pdf2svg here as you wrote in #20343?



---

archive/issue_comments_529357.json:
```json
{
    "body": "<a id='comment:23'></a>\nYes.",
    "created_at": "2021-11-04T20:59:09Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529357",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:23'></a>
Yes.



---

archive/issue_comments_529358.json:
```json
{
    "body": "**Changing commit** from \"[5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab](https://github.com/sagemath/sagetrac-mirror/commit/5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab)\" to \"[345c760b9e2e31829b995ddbb7b58bb7ce531624](https://github.com/sagemath/sagetrac-mirror/commit/345c760b9e2e31829b995ddbb7b58bb7ce531624)\".",
    "created_at": "2021-11-04T21:03:42Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab](https://github.com/sagemath/sagetrac-mirror/commit/5d9414ddc4ec72d6b32ac88e9aa94a0fe2433dab)" to "[345c760b9e2e31829b995ddbb7b58bb7ce531624](https://github.com/sagemath/sagetrac-mirror/commit/345c760b9e2e31829b995ddbb7b58bb7ce531624)".



---

archive/issue_comments_529359.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/345c760b9e2e31829b995ddbb7b58bb7ce531624\">345c760</a></td><td><code>32650: using features in has_latex method of doctest/external.py</code></td></tr></table>\n",
    "created_at": "2021-11-04T21:03:42Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/345c760b9e2e31829b995ddbb7b58bb7ce531624">345c760</a></td><td><code>32650: using features in has_latex method of doctest/external.py</code></td></tr></table>




---

archive/issue_comments_529360.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c6b3325a0927ae00b773b34c63cd7db9c7589f4\">6c6b332</a></td><td><code>32650: independent and improved method latex().is_functional()</code></td></tr></table>\n",
    "created_at": "2021-11-04T21:24:33Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529360",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c6b3325a0927ae00b773b34c63cd7db9c7589f4">6c6b332</a></td><td><code>32650: independent and improved method latex().is_functional()</code></td></tr></table>




---

archive/issue_comments_529361.json:
```json
{
    "body": "**Changing commit** from \"[345c760b9e2e31829b995ddbb7b58bb7ce531624](https://github.com/sagemath/sagetrac-mirror/commit/345c760b9e2e31829b995ddbb7b58bb7ce531624)\" to \"[6c6b3325a0927ae00b773b34c63cd7db9c7589f4](https://github.com/sagemath/sagetrac-mirror/commit/6c6b3325a0927ae00b773b34c63cd7db9c7589f4)\".",
    "created_at": "2021-11-04T21:24:33Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529361",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[345c760b9e2e31829b995ddbb7b58bb7ce531624](https://github.com/sagemath/sagetrac-mirror/commit/345c760b9e2e31829b995ddbb7b58bb7ce531624)" to "[6c6b3325a0927ae00b773b34c63cd7db9c7589f4](https://github.com/sagemath/sagetrac-mirror/commit/6c6b3325a0927ae00b773b34c63cd7db9c7589f4)".



---

archive/issue_comments_529362.json:
```json
{
    "body": "**Changing commit** from \"[6c6b3325a0927ae00b773b34c63cd7db9c7589f4](https://github.com/sagemath/sagetrac-mirror/commit/6c6b3325a0927ae00b773b34c63cd7db9c7589f4)\" to \"[c8330fe39151df1bed83de2bfdb3376e419efc30](https://github.com/sagemath/sagetrac-mirror/commit/c8330fe39151df1bed83de2bfdb3376e419efc30)\".",
    "created_at": "2021-11-04T21:41:59Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529362",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6c6b3325a0927ae00b773b34c63cd7db9c7589f4](https://github.com/sagemath/sagetrac-mirror/commit/6c6b3325a0927ae00b773b34c63cd7db9c7589f4)" to "[c8330fe39151df1bed83de2bfdb3376e419efc30](https://github.com/sagemath/sagetrac-mirror/commit/c8330fe39151df1bed83de2bfdb3376e419efc30)".



---

archive/issue_comments_529363.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63555d2ee5280e83f14cd207a5d20d4fff3abc5a\">63555d2</a></td><td><code>32650: adding spkg pdf2svg in build/pkgs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8330fe39151df1bed83de2bfdb3376e419efc30\">c8330fe</a></td><td><code>32650: linking pdf2svg feature to spkg pdf2svg</code></td></tr></table>\n",
    "created_at": "2021-11-04T21:41:59Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529363",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63555d2ee5280e83f14cd207a5d20d4fff3abc5a">63555d2</a></td><td><code>32650: adding spkg pdf2svg in build/pkgs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8330fe39151df1bed83de2bfdb3376e419efc30">c8330fe</a></td><td><code>32650: linking pdf2svg feature to spkg pdf2svg</code></td></tr></table>




---

archive/issue_comments_529364.json:
```json
{
    "body": "<a id='comment:27'></a>\nSo I created the `build/pkgs/pdf2svg` by immitating what was done for `build/pkgs/pandoc` and `build/pkgs/graphviz`. I hope it makes sense.",
    "created_at": "2021-11-04T21:49:51Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529364",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:27'></a>
So I created the `build/pkgs/pdf2svg` by immitating what was done for `build/pkgs/pandoc` and `build/pkgs/graphviz`. I hope it makes sense.



---

archive/issue_comments_529365.json:
```json
{
    "body": "<a id='comment:28'></a>\nWhile testing `sage -i pdf2svg`, I noticed this strange part in the output:\n\n```\nError: pdf2svg is a dummy script package that the Sage distribution uses\nto provide information about equivalent system packages.\nIt cannot be installed using the Sage distribution.\nPlease install it manually, for example using the system packages\nrecommended at the end of a run of './configure'\nSee below for package-specific information.\n```\n\nmaybe this message should be fixed in another ticket.",
    "created_at": "2021-11-04T21:50:53Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529365",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:28'></a>
While testing `sage -i pdf2svg`, I noticed this strange part in the output:

```
Error: pdf2svg is a dummy script package that the Sage distribution uses
to provide information about equivalent system packages.
It cannot be installed using the Sage distribution.
Please install it manually, for example using the system packages
recommended at the end of a run of './configure'
See below for package-specific information.
```

maybe this message should be fixed in another ticket.



---

archive/issue_comments_529366.json:
```json
{
    "body": "<a id='comment:29'></a>\nWhat did you expect to happen?",
    "created_at": "2021-11-04T21:51:42Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529366",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>
What did you expect to happen?



---

archive/issue_comments_529367.json:
```json
{
    "body": "**Changing commit** from \"[c8330fe39151df1bed83de2bfdb3376e419efc30](https://github.com/sagemath/sagetrac-mirror/commit/c8330fe39151df1bed83de2bfdb3376e419efc30)\" to \"[2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)\".",
    "created_at": "2021-11-04T21:56:01Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529367",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c8330fe39151df1bed83de2bfdb3376e419efc30](https://github.com/sagemath/sagetrac-mirror/commit/c8330fe39151df1bed83de2bfdb3376e419efc30)" to "[2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)".



---

archive/issue_comments_529368.json:
```json
{
    "body": "<a id='comment:30'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a\">2ea4d9e</a></td><td><code>32650: fixing two doctests now that we latex().require() it when we use it</code></td></tr></table>\n",
    "created_at": "2021-11-04T21:56:01Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a">2ea4d9e</a></td><td><code>32650: fixing two doctests now that we latex().require() it when we use it</code></td></tr></table>




---

archive/issue_comments_529369.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [mkoeppe](#comment%3A29):\n> What did you expect to happen?\n\n\nWell, the part that surprised me is `Error: pdf2svg is a dummy script package`, which I attributed to `_prereq`, `_recommmended` and `_bootstrap`. But, now, rereading it again, I understand what it means. It is just that it does not contain the source. Maybe `dummy` could be replaced by another word which better describe what it is? Or just leave it as it is...",
    "created_at": "2021-11-04T22:02:04Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529369",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:31'></a>
Replying to [mkoeppe](#comment%3A29):
> What did you expect to happen?


Well, the part that surprised me is `Error: pdf2svg is a dummy script package`, which I attributed to `_prereq`, `_recommmended` and `_bootstrap`. But, now, rereading it again, I understand what it means. It is just that it does not contain the source. Maybe `dummy` could be replaced by another word which better describe what it is? Or just leave it as it is...



---

archive/issue_comments_529370.json:
```json
{
    "body": "<a id='comment:32'></a>\nOk, so this ticket now needs review. I did not have anything else in mind to be done with respect to `have_...` within `sage.misc.latex.py` and `sage.plot`.",
    "created_at": "2021-11-04T22:03:58Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529370",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:32'></a>
Ok, so this ticket now needs review. I did not have anything else in mind to be done with respect to `have_...` within `sage.misc.latex.py` and `sage.plot`.



---

archive/issue_comments_529371.json:
```json
{
    "body": "<a id='comment:33'></a>\nWhile at it, also dummy script packages for `ffmpeg` and `imagemagick` could be added (see #30930)",
    "created_at": "2021-11-04T22:17:36Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529371",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>
While at it, also dummy script packages for `ffmpeg` and `imagemagick` could be added (see #30930)



---

archive/issue_comments_529372.json:
```json
{
    "body": "<a id='comment:34'></a>\nok, I can do this, but next week. Going to bed now!",
    "created_at": "2021-11-04T22:22:51Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529372",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:34'></a>
ok, I can do this, but next week. Going to bed now!



---

archive/issue_comments_529373.json:
```json
{
    "body": "**Reviewer:** Matthias Koeppe",
    "created_at": "2021-11-07T04:35:26Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529373",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** Matthias Koeppe



---

archive/issue_comments_529374.json:
```json
{
    "body": "<a id='comment:36'></a>\nLGTM. One green patchbot, one patchbot that is not feeling well.",
    "created_at": "2021-11-07T04:35:26Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529374",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
LGTM. One green patchbot, one patchbot that is not feeling well.



---

archive/issue_events_293088.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-07T04:35:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32650#event-293088"
}
```



---

archive/issue_events_293089.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-07T04:35:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32650#event-293089"
}
```



---

archive/issue_events_293090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-12T21:27:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32650#event-293090"
}
```



---

archive/issue_events_293091.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-12T21:27:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32650#event-293091"
}
```



---

archive/issue_comments_529375.json:
```json
{
    "body": "**Changing branch** from \"[u/slabbe/32650](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/32650)\" to \"[2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)\".",
    "created_at": "2021-11-12T21:27:39Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529375",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/slabbe/32650](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/32650)" to "[2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)".



---

archive/issue_comments_529376.json:
```json
{
    "body": "<a id='comment:38'></a>\nThere does not seem to be a Cygwin package for pdf2svg.\n\nAt least I could not find one by searching Cygwin packages via\n\n- https://cygwin.com/packages/\n\nand the command `apt-cyg install pdf2svg` fails.",
    "created_at": "2021-11-18T15:48:20Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529376",
    "user": "https://github.com/slel"
}
```

<a id='comment:38'></a>
There does not seem to be a Cygwin package for pdf2svg.

At least I could not find one by searching Cygwin packages via

- https://cygwin.com/packages/

and the command `apt-cyg install pdf2svg` fails.



---

archive/issue_comments_529377.json:
```json
{
    "body": "**Changing commit** from \"[2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)\" to \"\".",
    "created_at": "2021-11-18T15:48:20Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529377",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[2ea4d9eaa99477cc248fd10bb049925d32806c1a](https://github.com/sagemath/sagetrac-mirror/commit/2ea4d9eaa99477cc248fd10bb049925d32806c1a)" to "".



---

archive/issue_comments_529378.json:
```json
{
    "body": "<a id='comment:39'></a>\nDo you mean that the file `build/pkgs/pdf2svg/distros/cygwin.txt` should be removed?",
    "created_at": "2021-11-18T16:28:48Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529378",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:39'></a>
Do you mean that the file `build/pkgs/pdf2svg/distros/cygwin.txt` should be removed?



---

archive/issue_comments_529379.json:
```json
{
    "body": "<a id='comment:40'></a>\nYes, otherwise configure ends with a recommendation\nto run `apt-cyg install pdf2svg`.",
    "created_at": "2021-11-18T16:50:43Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529379",
    "user": "https://github.com/slel"
}
```

<a id='comment:40'></a>
Yes, otherwise configure ends with a recommendation
to run `apt-cyg install pdf2svg`.



---

archive/issue_comments_529380.json:
```json
{
    "body": "<a id='comment:41'></a>\nOr package pdf2svg for Cygwin...  : )",
    "created_at": "2021-11-18T16:52:04Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529380",
    "user": "https://github.com/slel"
}
```

<a id='comment:41'></a>
Or package pdf2svg for Cygwin...  : )



---

archive/issue_comments_529381.json:
```json
{
    "body": "<a id='comment:42'></a>\nI created #32931 to deal with this issue.",
    "created_at": "2021-11-25T10:14:24Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529381",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:42'></a>
I created #32931 to deal with this issue.



---

archive/issue_comments_529382.json:
```json
{
    "body": "<a id='comment:43'></a>\nA request on the Cygwin mailing list to package pdf2svg\nwas answered as follows:\n\n- https://cygwin.com/pipermail/cygwin/2021-November/250061.html\n\n> The pdf2svg home page recommends instead pdftocairo\n> from the poppler package, which does the same and\n> is maintained as part of the package, rather than\n> being a standalone utility which integrates the two,\n> and is not as well maintained:\n\n>\n> \n> ```\n> $ pdftocairo --help\n> [...]\n> ```\n\n\nThat suggests `pdftocairo --svg file.pdf`\nwill transform `file.pdf` to `file.svg`.\n\nIt seems poppler is widely packaged:\n\n- https://repology.org/project/poppler/versions",
    "created_at": "2021-11-29T16:30:18Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529382",
    "user": "https://github.com/slel"
}
```

<a id='comment:43'></a>
A request on the Cygwin mailing list to package pdf2svg
was answered as follows:

- https://cygwin.com/pipermail/cygwin/2021-November/250061.html

> The pdf2svg home page recommends instead pdftocairo
> from the poppler package, which does the same and
> is maintained as part of the package, rather than
> being a standalone utility which integrates the two,
> and is not as well maintained:

>
> 
> ```
> $ pdftocairo --help
> [...]
> ```


That suggests `pdftocairo --svg file.pdf`
will transform `file.pdf` to `file.svg`.

It seems poppler is widely packaged:

- https://repology.org/project/poppler/versions



---

archive/issue_comments_529383.json:
```json
{
    "body": "<a id='comment:44'></a>\nThen, should we replace `pdf2svg` feature by `pdftocairo`?",
    "created_at": "2021-12-01T20:52:18Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529383",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:44'></a>
Then, should we replace `pdf2svg` feature by `pdftocairo`?



---

archive/issue_comments_529384.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [mkoeppe](#comment%3A33):\n> While at it, also dummy script packages for `ffmpeg` and `imagemagick` could be added (see #30930)\n\n\nI just created #32956 for that. I will work on it tomorrow.",
    "created_at": "2021-12-01T21:08:53Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529384",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:45'></a>
Replying to [mkoeppe](#comment%3A33):
> While at it, also dummy script packages for `ffmpeg` and `imagemagick` could be added (see #30930)


I just created #32956 for that. I will work on it tomorrow.



---

archive/issue_comments_529385.json:
```json
{
    "body": "<a id='comment:46'></a>\nReplying to [slabbe](#comment%3A3):\n> Remainings usage of `have_program` are:\n\n\nI created #32957 to deal with remaining usage of `have_program`",
    "created_at": "2021-12-01T21:12:44Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529385",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:46'></a>
Replying to [slabbe](#comment%3A3):
> Remainings usage of `have_program` are:


I created #32957 to deal with remaining usage of `have_program`



---

archive/issue_comments_529386.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [slelievre](#comment%3A43):\n> That suggests `pdftocairo --svg file.pdf`\n> will transform `file.pdf` to `file.svg`.\n> \n> It seems poppler is widely packaged:\n> \n> - https://repology.org/project/poppler/versions\n\n\nI created #33005 to add the feature pdftocairo.",
    "created_at": "2021-12-09T17:15:41Z",
    "issue": "https://github.com/sagemath/sage/issues/32650",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32650#issuecomment-529386",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:47'></a>
Replying to [slelievre](#comment%3A43):
> That suggests `pdftocairo --svg file.pdf`
> will transform `file.pdf` to `file.svg`.
> 
> It seems poppler is widely packaged:
> 
> - https://repology.org/project/poppler/versions


I created #33005 to add the feature pdftocairo.
