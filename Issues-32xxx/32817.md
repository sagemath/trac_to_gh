# Issue 32817: Fix two tests failing at random

archive/issues_032580.json:
```json
{
    "body": "Part of #32544:\n\n```\nsage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\", line 994, in sage.rings.polynomial.multi_polynomial_ring_base.MPolynomialRing_base.random_element\nFailed example:\n    len(list(f))\nExpected:\n    1\nGot:\n    0\n```\n\n```\nsage -t --long --random-seed=324642231642420052385517156149041216749 src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n**********************************************************************\nFile \"src/sage/dynamics/arithmetic_dynamics/projective_ds.py\", line 7076, in sage.dynamics.arithmetic_dynamics.projective_ds.?.conjugating_set\nFailed example:\n    D6.conjugating_set(D6)\nExpected:\n    [\n    [1 0]  [0 1]  [0 2]  [4 0]  [2 0]  [0 4]\n    [0 1], [1 0], [1 0], [0 1], [0 1], [1 0]\n    ]\nGot:\n    [\n    [4 0]  [2 0]  [0 4]  [1 0]  [0 1]  [0 2]\n    [0 1], [0 1], [1 0], [0 1], [1 0], [1 0]\n    ]\n```\n\nI can't reproduce the later one with that seed, but I can reproduce it (with a loop until it fails).\n\n**CC:**  @mkoeppe\n\n**Branch:** [4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)\n\n**Reviewer:** John Cremona, Markus Wageringel\n\n**Author:** Jonathan Kliem\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32817\n\n",
    "closed_at": "2021-11-07T09:36:22Z",
    "created_at": "2021-11-03T10:39:13Z",
    "labels": [
        "component: doctest framework",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Fix two tests failing at random",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32817",
    "user": "https://github.com/kliem"
}
```
Part of #32544:

```
sage -t --long --random-seed=321172385432269463934777057410284981568 src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ring_base.pyx", line 994, in sage.rings.polynomial.multi_polynomial_ring_base.MPolynomialRing_base.random_element
Failed example:
    len(list(f))
Expected:
    1
Got:
    0
```

```
sage -t --long --random-seed=324642231642420052385517156149041216749 src/sage/dynamics/arithmetic_dynamics/projective_ds.py
**********************************************************************
File "src/sage/dynamics/arithmetic_dynamics/projective_ds.py", line 7076, in sage.dynamics.arithmetic_dynamics.projective_ds.?.conjugating_set
Failed example:
    D6.conjugating_set(D6)
Expected:
    [
    [1 0]  [0 1]  [0 2]  [4 0]  [2 0]  [0 4]
    [0 1], [1 0], [1 0], [0 1], [0 1], [1 0]
    ]
Got:
    [
    [4 0]  [2 0]  [0 4]  [1 0]  [0 1]  [0 2]
    [0 1], [0 1], [1 0], [0 1], [1 0], [1 0]
    ]
```

I can't reproduce the later one with that seed, but I can reproduce it (with a loop until it fails).

**CC:**  @mkoeppe

**Branch:** [4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)

**Reviewer:** John Cremona, Markus Wageringel

**Author:** Jonathan Kliem

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/32817





---

archive/issue_comments_654189.json:
```json
{
    "body": "**Commit:** [4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)",
    "created_at": "2021-11-03T10:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654189",
    "user": "https://github.com/kliem"
}
```

**Commit:** [4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)



---

archive/issue_comments_654190.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-11-03T10:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654190",
    "user": "https://github.com/kliem"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_654191.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f\">4b2e8b8</a></td><td><code>fix two tests failing at random</code></td></tr></table>\n",
    "created_at": "2021-11-03T10:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654191",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f">4b2e8b8</a></td><td><code>fix two tests failing at random</code></td></tr></table>




---

archive/issue_comments_654192.json:
```json
{
    "body": "**Branch:** [public/32817](https://github.com/sagemath/sagetrac-mirror/tree/public/32817)",
    "created_at": "2021-11-03T10:40:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654192",
    "user": "https://github.com/kliem"
}
```

**Branch:** [public/32817](https://github.com/sagemath/sagetrac-mirror/tree/public/32817)



---

archive/issue_comments_654193.json:
```json
{
    "body": "<a id='comment:2'></a>\nI'm happy with the fix to the second one.",
    "created_at": "2021-11-04T15:32:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654193",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
I'm happy with the fix to the second one.



---

archive/issue_comments_654194.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-11-04T20:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654194",
    "user": "https://github.com/mwageringel"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_654195.json:
```json
{
    "body": "**Reviewer:** John Cremona, Markus Wageringel",
    "created_at": "2021-11-04T20:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654195",
    "user": "https://github.com/mwageringel"
}
```

**Reviewer:** John Cremona, Markus Wageringel



---

archive/issue_comments_654196.json:
```json
{
    "body": "<a id='comment:3'></a>\nThis looks good to me, too.",
    "created_at": "2021-11-04T20:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654196",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:3'></a>
This looks good to me, too.



---

archive/issue_comments_654197.json:
```json
{
    "body": "<a id='comment:4'></a>\nThank you.",
    "created_at": "2021-11-04T22:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654197",
    "user": "https://github.com/kliem"
}
```

<a id='comment:4'></a>
Thank you.



---

archive/issue_comments_654198.json:
```json
{
    "body": "**Changing branch** from \"[public/32817](https://github.com/sagemath/sagetrac-mirror/tree/public/32817)\" to \"[4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)\".",
    "created_at": "2021-11-07T09:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654198",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/32817](https://github.com/sagemath/sagetrac-mirror/tree/public/32817)" to "[4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)".



---

archive/issue_comments_654199.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2021-11-07T09:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654199",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_097637.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-07T09:36:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32817#event-97637"
}
```



---

archive/issue_comments_654200.json:
```json
{
    "body": "<a id='comment:6'></a>\nWhy does the link in the branch field here\ninclude changes to `build/pkgs/configure`?",
    "created_at": "2021-11-17T17:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654200",
    "user": "https://github.com/slel"
}
```

<a id='comment:6'></a>
Why does the link in the branch field here
include changes to `build/pkgs/configure`?



---

archive/issue_comments_654201.json:
```json
{
    "body": "**Changing commit** from \"[4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)\" to \"\".",
    "created_at": "2021-11-17T17:31:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654201",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[4b2e8b832956a4e427779c2727f33eca73c9053f](https://github.com/sagemath/sagetrac-mirror/commit/4b2e8b832956a4e427779c2727f33eca73c9053f)" to "".



---

archive/issue_comments_654202.json:
```json
{
    "body": "<a id='comment:7'></a>\nGood question. The ticket didn't do those changes:\n\nChecking that my develop is clean:\n\n```\n$ git fetch trac develop\nFrom git://trac.sagemath.org/sage\n * branch                  develop    -> FETCH_HEAD\n$ git diff develop FETCH_HEAD \n```\n\nChecking on the branch `public/32817`:\n\n```\n$ git fetch trac public/32817\nFrom git://trac.sagemath.org/sage\n * branch                  public/32817 -> FETCH_HEAD\njonathan@kliem-ThinkPad-L570:~/Applications/sage$ git log FETCH_HEAD \ncommit 4b2e8b832956a4e427779c2727f33eca73c9053f\nAuthor: Jonathan Kliem <jonathan.kliem@fu-berlin.de>\nDate:   Wed Nov 3 11:39:47 2021 +0100\n\n    fix two tests failing at random\n\ncommit f716a0b366e31bbb546230140489244cfb68390d\nAuthor: Release Manager <release@sagemath.org>\nDate:   Fri Oct 29 00:56:37 2021 +0200\n\n    Updated SageMath version to 9.5.beta5\n\ncommit c5a87834e7e2939b878a5134cd240e6c712bd573\nMerge: 50776daec4 c8499d1a70\nAuthor: Release Manager <release@sagemath.org>\nDate:   Tue Oct 26 01:00:51 2021 +0200\n\n    Trac #32758: fix E713 and E714 in schemes\n    \n    about negative comparison using \"is not\"\n    \n    URL: https://trac.sagemath.org/32758\n    Reported by: chapoton\n    Ticket author(s): Fr\u00e9d\u00e9ric Chapoton\n    Reviewer(s): Jonathan Kliem\n...\n```\n\nComparing to `develop`:\n\n```\n$ git log develop | grep \"Updated SageMath version to 9.5.beta5\" -A 10 -B 10\ncommit fd91cb6a89a9f947b2369cea5d9cf9a71f31dc2c\nAuthor: Matthias Koeppe <mkoeppe@math.ucdavis.edu>\nDate:   Sun Oct 24 12:58:43 2021 -0700\n\n    build/bin/sage-dist-helpers (sdh_pip_install): Pass options on to sdh_store_and_pip_install_wheel\n\ncommit f716a0b366e31bbb546230140489244cfb68390d\nAuthor: Release Manager <release@sagemath.org>\nDate:   Fri Oct 29 00:56:37 2021 +0200\n\n    Updated SageMath version to 9.5.beta5\n\ncommit c5a87834e7e2939b878a5134cd240e6c712bd573\nMerge: 50776daec4 c8499d1a70\nAuthor: Release Manager <release@sagemath.org>\nDate:   Tue Oct 26 01:00:51 2021 +0200\n\n    Trac #32758: fix E713 and E714 in schemes\n    \n    about negative comparison using \"is not\"\n```\n\n```\n$ git diff FETCH_HEAD f716a0b366e31bbb546230140489244cfb68390d\ndiff --git a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\nindex 7eacde3bab..d4cb66af78 100644\n--- a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n+++ b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n@@ -6940,10 +6940,10 @@ class DynamicalSystem_projective_field(DynamicalSystem_projective,\n \n             sage: P.<x,y> = ProjectiveSpace(GF(7), 1)\n             sage: D6 = DynamicalSystem_projective([y^2, x^2])\n-            sage: sorted(D6.conjugating_set(D6))\n+            sage: D6.conjugating_set(D6)\n             [\n-            [0 1]  [0 2]  [0 4]  [1 0]  [2 0]  [4 0]\n-            [1 0], [1 0], [1 0], [0 1], [0 1], [0 1]\n+            [1 0]  [0 1]  [0 2]  [4 0]  [2 0]  [0 4]\n+            [0 1], [1 0], [1 0], [0 1], [0 1], [1 0]\n             ]\n \n         ::\ndiff --git a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\nindex 5b99c540de..4378d95588 100644\n--- a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\n+++ b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\n@@ -990,7 +990,7 @@ cdef class MPolynomialRing_base(sage.rings.ring.CommutativeRing):\n \n             sage: R = QQ['x,y']\n             sage: S = R['t,u']\n-            sage: f = S._random_nonzero_element(degree=2, terms=1)\n+            sage: f = S.random_element(degree=2, terms=1)\n             sage: len(list(f))\n             1\n             sage: f.degree() <= 2\n```\n\nSame result for `4b2e8b832956a4e427779c2727f33eca73c9053f`:\n\n```\n$ git fetch trac 4b2e8b832956a4e427779c2727f33eca73c9053f\nFrom git://trac.sagemath.org/sage\n * branch                  4b2e8b832956a4e427779c2727f33eca73c9053f -> FETCH_HEAD\n$ git diff FETCH_HEAD f716a0b366e31bbb546230140489244cfb68390d\ndiff --git a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\nindex 7eacde3bab..d4cb66af78 100644\n--- a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n+++ b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n@@ -6940,10 +6940,10 @@ class DynamicalSystem_projective_field(DynamicalSystem_projective,\n \n             sage: P.<x,y> = ProjectiveSpace(GF(7), 1)\n             sage: D6 = DynamicalSystem_projective([y^2, x^2])\n-            sage: sorted(D6.conjugating_set(D6))\n+            sage: D6.conjugating_set(D6)\n             [\n-            [0 1]  [0 2]  [0 4]  [1 0]  [2 0]  [4 0]\n-            [1 0], [1 0], [1 0], [0 1], [0 1], [0 1]\n+            [1 0]  [0 1]  [0 2]  [4 0]  [2 0]  [0 4]\n+            [0 1], [1 0], [1 0], [0 1], [0 1], [1 0]\n             ]\n \n         ::\ndiff --git a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\nindex 5b99c540de..4378d95588 100644\n--- a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\n+++ b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx\n@@ -990,7 +990,7 @@ cdef class MPolynomialRing_base(sage.rings.ring.CommutativeRing):\n \n             sage: R = QQ['x,y']\n             sage: S = R['t,u']\n-            sage: f = S._random_nonzero_element(degree=2, terms=1)\n+            sage: f = S.random_element(degree=2, terms=1)\n             sage: len(list(f))\n             1\n             sage: f.degree() <= 2\n```",
    "created_at": "2021-11-17T17:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32817#issuecomment-654202",
    "user": "https://github.com/kliem"
}
```

<a id='comment:7'></a>
Good question. The ticket didn't do those changes:

Checking that my develop is clean:

```
$ git fetch trac develop
From git://trac.sagemath.org/sage
 * branch                  develop    -> FETCH_HEAD
$ git diff develop FETCH_HEAD 
```

Checking on the branch `public/32817`:

```
$ git fetch trac public/32817
From git://trac.sagemath.org/sage
 * branch                  public/32817 -> FETCH_HEAD
jonathan@kliem-ThinkPad-L570:~/Applications/sage$ git log FETCH_HEAD 
commit 4b2e8b832956a4e427779c2727f33eca73c9053f
Author: Jonathan Kliem <jonathan.kliem@fu-berlin.de>
Date:   Wed Nov 3 11:39:47 2021 +0100

    fix two tests failing at random

commit f716a0b366e31bbb546230140489244cfb68390d
Author: Release Manager <release@sagemath.org>
Date:   Fri Oct 29 00:56:37 2021 +0200

    Updated SageMath version to 9.5.beta5

commit c5a87834e7e2939b878a5134cd240e6c712bd573
Merge: 50776daec4 c8499d1a70
Author: Release Manager <release@sagemath.org>
Date:   Tue Oct 26 01:00:51 2021 +0200

    Trac #32758: fix E713 and E714 in schemes
    
    about negative comparison using "is not"
    
    URL: https://trac.sagemath.org/32758
    Reported by: chapoton
    Ticket author(s): Frédéric Chapoton
    Reviewer(s): Jonathan Kliem
...
```

Comparing to `develop`:

```
$ git log develop | grep "Updated SageMath version to 9.5.beta5" -A 10 -B 10
commit fd91cb6a89a9f947b2369cea5d9cf9a71f31dc2c
Author: Matthias Koeppe <mkoeppe@math.ucdavis.edu>
Date:   Sun Oct 24 12:58:43 2021 -0700

    build/bin/sage-dist-helpers (sdh_pip_install): Pass options on to sdh_store_and_pip_install_wheel

commit f716a0b366e31bbb546230140489244cfb68390d
Author: Release Manager <release@sagemath.org>
Date:   Fri Oct 29 00:56:37 2021 +0200

    Updated SageMath version to 9.5.beta5

commit c5a87834e7e2939b878a5134cd240e6c712bd573
Merge: 50776daec4 c8499d1a70
Author: Release Manager <release@sagemath.org>
Date:   Tue Oct 26 01:00:51 2021 +0200

    Trac #32758: fix E713 and E714 in schemes
    
    about negative comparison using "is not"
```

```
$ git diff FETCH_HEAD f716a0b366e31bbb546230140489244cfb68390d
diff --git a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
index 7eacde3bab..d4cb66af78 100644
--- a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
+++ b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
@@ -6940,10 +6940,10 @@ class DynamicalSystem_projective_field(DynamicalSystem_projective,
 
             sage: P.<x,y> = ProjectiveSpace(GF(7), 1)
             sage: D6 = DynamicalSystem_projective([y^2, x^2])
-            sage: sorted(D6.conjugating_set(D6))
+            sage: D6.conjugating_set(D6)
             [
-            [0 1]  [0 2]  [0 4]  [1 0]  [2 0]  [4 0]
-            [1 0], [1 0], [1 0], [0 1], [0 1], [0 1]
+            [1 0]  [0 1]  [0 2]  [4 0]  [2 0]  [0 4]
+            [0 1], [1 0], [1 0], [0 1], [0 1], [1 0]
             ]
 
         ::
diff --git a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
index 5b99c540de..4378d95588 100644
--- a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
+++ b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
@@ -990,7 +990,7 @@ cdef class MPolynomialRing_base(sage.rings.ring.CommutativeRing):
 
             sage: R = QQ['x,y']
             sage: S = R['t,u']
-            sage: f = S._random_nonzero_element(degree=2, terms=1)
+            sage: f = S.random_element(degree=2, terms=1)
             sage: len(list(f))
             1
             sage: f.degree() <= 2
```

Same result for `4b2e8b832956a4e427779c2727f33eca73c9053f`:

```
$ git fetch trac 4b2e8b832956a4e427779c2727f33eca73c9053f
From git://trac.sagemath.org/sage
 * branch                  4b2e8b832956a4e427779c2727f33eca73c9053f -> FETCH_HEAD
$ git diff FETCH_HEAD f716a0b366e31bbb546230140489244cfb68390d
diff --git a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
index 7eacde3bab..d4cb66af78 100644
--- a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
+++ b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
@@ -6940,10 +6940,10 @@ class DynamicalSystem_projective_field(DynamicalSystem_projective,
 
             sage: P.<x,y> = ProjectiveSpace(GF(7), 1)
             sage: D6 = DynamicalSystem_projective([y^2, x^2])
-            sage: sorted(D6.conjugating_set(D6))
+            sage: D6.conjugating_set(D6)
             [
-            [0 1]  [0 2]  [0 4]  [1 0]  [2 0]  [4 0]
-            [1 0], [1 0], [1 0], [0 1], [0 1], [0 1]
+            [1 0]  [0 1]  [0 2]  [4 0]  [2 0]  [0 4]
+            [0 1], [1 0], [1 0], [0 1], [0 1], [1 0]
             ]
 
         ::
diff --git a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
index 5b99c540de..4378d95588 100644
--- a/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
+++ b/src/sage/rings/polynomial/multi_polynomial_ring_base.pyx
@@ -990,7 +990,7 @@ cdef class MPolynomialRing_base(sage.rings.ring.CommutativeRing):
 
             sage: R = QQ['x,y']
             sage: S = R['t,u']
-            sage: f = S._random_nonzero_element(degree=2, terms=1)
+            sage: f = S.random_element(degree=2, terms=1)
             sage: len(list(f))
             1
             sage: f.degree() <= 2
```
