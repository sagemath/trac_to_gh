# Issue 32618: Some micro-optimizations and cleanup to (skew) tableau

archive/issues_032381.json:
```json
{
    "body": "The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.\n\nCC:  @fchapoton\n\nBranch/Commit: bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Travis Scrimshaw\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32618\n\n",
    "closed_at": "2021-10-13T22:50:05Z",
    "created_at": "2021-10-04T00:28:41Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Some micro-optimizations and cleanup to (skew) tableau",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32618",
    "user": "https://github.com/tscrim"
}
```
The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.

CC:  @fchapoton

Branch/Commit: bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84

Reviewer: Frédéric Chapoton

Author: Travis Scrimshaw

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32618





---

archive/issue_comments_649799.json:
```json
{
    "body": "Changing branch from \"\" to \"public/combinat/micro_optimizations_tableau-32618\"",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649799",
    "user": "https://github.com/tscrim"
}
```

Changing branch from "" to "public/combinat/micro_optimizations_tableau-32618"



---

archive/issue_comments_649800.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649800",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_649801.json:
```json
{
    "body": "Changing commit from \"\" to \"8964311a5e358b93a72381faa550e31e5d9ed90d\"",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649801",
    "user": "https://github.com/tscrim"
}
```

Changing commit from "" to "8964311a5e358b93a72381faa550e31e5d9ed90d"



---

archive/issue_comments_649802.json:
```json
{
    "body": "<a id='comment:1'></a>\nShould be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.\n\n---\nNew commits:\n|                                                                                                                                          |                                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[8964311](https://git.sagemath.org/sage.git/commit?id=8964311a5e358b93a72381faa550e31e5d9ed90d)|`Some cleanup and micro-optimizations to (skew) tableau.`|",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649802",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
Should be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.

---
New commits:
|                                                                                                                                          |                                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[8964311](https://git.sagemath.org/sage.git/commit?id=8964311a5e358b93a72381faa550e31e5d9ed90d)|`Some cleanup and micro-optimizations to (skew) tableau.`|



---

archive/issue_comments_649803.json:
```json
{
    "body": "<a id='comment:2'></a>\ncould use an iterator inside, here:\n\n```diff\n@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,\n             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)\n             [[None, 1], [1]]\n         \"\"\"\n-        t = self[:]\n         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]\n-                                        for x in t] if z])\n+                                        for x in self] if z])\n```",
    "created_at": "2021-10-04T06:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649803",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
could use an iterator inside, here:

```diff
@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,
             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)
             [[None, 1], [1]]
         """
-        t = self[:]
         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]
-                                        for x in t] if z])
+                                        for x in self] if z])
```



---

archive/issue_comments_649804.json:
```json
{
    "body": "Changing commit from \"8964311a5e358b93a72381faa550e31e5d9ed90d\" to \"bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84\"",
    "created_at": "2021-10-04T06:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649804",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8964311a5e358b93a72381faa550e31e5d9ed90d" to "bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84"



---

archive/issue_comments_649805.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n|[bc4e07d](https://git.sagemath.org/sage.git/commit/?id=bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)|`Using another iterator in restrict().`|",
    "created_at": "2021-10-04T06:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649805",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
|[bc4e07d](https://git.sagemath.org/sage.git/commit/?id=bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)|`Using another iterator in restrict().`|



---

archive/issue_comments_649806.json:
```json
{
    "body": "<a id='comment:4'></a>\nGood idea; done.",
    "created_at": "2021-10-04T06:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649806",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Good idea; done.



---

archive/issue_comments_649807.json:
```json
{
    "body": "<a id='comment:5'></a>\nok",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649807",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok



---

archive/issue_comments_649808.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649808",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_649809.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649809",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_649810.json:
```json
{
    "body": "<a id='comment:6'></a>\nThank you!",
    "created_at": "2021-10-04T11:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649810",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Thank you!



---

archive/issue_events_086436.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32618#event-86436"
}
```



---

archive/issue_comments_649811.json:
```json
{
    "body": "Changing branch from \"public/combinat/micro_optimizations_tableau-32618\" to \"bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84\"",
    "created_at": "2021-10-13T22:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649811",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/combinat/micro_optimizations_tableau-32618" to "bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84"



---

archive/issue_comments_649812.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-13T22:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-649812",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
