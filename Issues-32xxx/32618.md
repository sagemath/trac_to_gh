# Issue 32618: Some micro-optimizations and cleanup to (skew) tableau

archive/issues_032381.json:
```json
{
    "body": "The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.\n\n**CC:**  @fchapoton\n\n**Branch/Commit:** [bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Travis Scrimshaw\n\nIssue created by migration from https://trac.sagemath.org/ticket/32618\n\n",
    "closed_at": "2021-10-13T22:50:05Z",
    "created_at": "2021-10-04T00:28:41Z",
    "labels": [
        "component: combinatorics",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Some micro-optimizations and cleanup to (skew) tableau",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32618",
    "user": "https://github.com/tscrim"
}
```
The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.

**CC:**  @fchapoton

**Branch/Commit:** [bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)

**Reviewer:** Frédéric Chapoton

**Author:** Travis Scrimshaw

Issue created by migration from https://trac.sagemath.org/ticket/32618





---

archive/issue_comments_528815.json:
```json
{
    "body": "**Branch:** [public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528815",
    "user": "https://github.com/tscrim"
}
```

**Branch:** [public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)



---

archive/issue_events_292853.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-04T00:29:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32618#event-292853"
}
```



---

archive/issue_comments_528816.json:
```json
{
    "body": "**Commit:** [8964311a5e358b93a72381faa550e31e5d9ed90d](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528816",
    "user": "https://github.com/tscrim"
}
```

**Commit:** [8964311a5e358b93a72381faa550e31e5d9ed90d](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)



---

archive/issue_comments_528817.json:
```json
{
    "body": "<a id='comment:1'></a>\nShould be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d\">8964311</a></td><td><code>Some cleanup and micro-optimizations to (skew) tableau.</code></td></tr></table>\n",
    "created_at": "2021-10-04T00:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528817",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>
Should be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d">8964311</a></td><td><code>Some cleanup and micro-optimizations to (skew) tableau.</code></td></tr></table>




---

archive/issue_comments_528818.json:
```json
{
    "body": "<a id='comment:2'></a>\ncould use an iterator inside, here:\n\n```diff\n@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,\n             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)\n             [[None, 1], [1]]\n         \"\"\"\n-        t = self[:]\n         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]\n-                                        for x in t] if z])\n+                                        for x in self] if z])\n```",
    "created_at": "2021-10-04T06:40:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528818",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
could use an iterator inside, here:

```diff
@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,
             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)
             [[None, 1], [1]]
         """
-        t = self[:]
         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]
-                                        for x in t] if z])
+                                        for x in self] if z])
```



---

archive/issue_comments_528819.json:
```json
{
    "body": "**Changing commit** from \"[8964311a5e358b93a72381faa550e31e5d9ed90d](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)\" to \"[bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)\".",
    "created_at": "2021-10-04T06:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528819",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[8964311a5e358b93a72381faa550e31e5d9ed90d](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)" to "[bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)".



---

archive/issue_comments_528820.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84\">bc4e07d</a></td><td><code>Using another iterator in restrict().</code></td></tr></table>\n",
    "created_at": "2021-10-04T06:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528820",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84">bc4e07d</a></td><td><code>Using another iterator in restrict().</code></td></tr></table>




---

archive/issue_comments_528821.json:
```json
{
    "body": "<a id='comment:4'></a>\nGood idea; done.",
    "created_at": "2021-10-04T06:46:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528821",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'></a>
Good idea; done.



---

archive/issue_comments_528822.json:
```json
{
    "body": "<a id='comment:5'></a>\nok",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528822",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'></a>
ok



---

archive/issue_events_292854.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-04T11:24:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32618#event-292854"
}
```



---

archive/issue_events_292855.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-04T11:24:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32618#event-292855"
}
```



---

archive/issue_comments_528823.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2021-10-04T11:24:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528823",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_comments_528824.json:
```json
{
    "body": "<a id='comment:6'></a>\nThank you!",
    "created_at": "2021-10-04T11:46:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528824",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>
Thank you!



---

archive/issue_events_292856.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32618#event-292856"
}
```



---

archive/issue_events_292857.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32618#event-292857"
}
```



---

archive/issue_comments_528825.json:
```json
{
    "body": "**Changing branch** from \"[public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)\" to \"[bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)\".",
    "created_at": "2021-10-13T22:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32618#issuecomment-528825",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)" to "[bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)".
