# Issue 32618: Some micro-optimizations and cleanup to (skew) tableau

archive/issues_032381.json:
```json
{
    "assignees": [],
    "body": "The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.\n\nCC:  @fchapoton\n\nBranch/Commit: **[bc4e07d](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Travis Scrimshaw**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32618_\n\n",
    "closed_at": "2021-10-13T22:50:05Z",
    "created_at": "2021-10-04T00:28:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Some micro-optimizations and cleanup to (skew) tableau",
    "type": "issue",
    "updated_at": "2021-10-13T22:50:05Z",
    "url": "https://github.com/sagemath/sage/issues/32618",
    "user": "https://github.com/tscrim"
}
```
The usual: avoid transient objects, less calls to `__getitem__`, using `not self` instead of `len(self) == 0`.

CC:  @fchapoton

Branch/Commit: **[bc4e07d](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)**

Reviewer: **Frédéric Chapoton**

Author: **Travis Scrimshaw**

_Issue created by migration from https://trac.sagemath.org/ticket/32618_





---

archive/issue_events_431125.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-04T00:28:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431125"
}
```



---

archive/issue_events_431126.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-04T00:28:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431126"
}
```



---

archive/issue_events_431127.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-04T00:28:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431127"
}
```



---

archive/issue_events_431128.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-04T00:28:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431128"
}
```



---

archive/issue_comments_529104.json:
```json
{
    "body": "Branch: **[public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)**",
    "created_at": "2021-10-04T00:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529104",
    "user": "https://github.com/tscrim"
}
```

Branch: **[public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)**



---

archive/issue_events_431129.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-10-04T00:29:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431129"
}
```



---

archive/issue_comments_529105.json:
```json
{
    "body": "Commit: **[8964311](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)**",
    "created_at": "2021-10-04T00:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529105",
    "user": "https://github.com/tscrim"
}
```

Commit: **[8964311](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)**



---

archive/issue_comments_529106.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nShould be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d\">8964311</a></td><td><code>Some cleanup and micro-optimizations to (skew) tableau.</code></td></tr></table>\n",
    "created_at": "2021-10-04T00:29:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529106",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'>Comment 1:</a>
Should be fairly easy to review. Please feel free to provide any additional suggestions of things to improve/fix/etc.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d">8964311</a></td><td><code>Some cleanup and micro-optimizations to (skew) tableau.</code></td></tr></table>




---

archive/issue_comments_529107.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\ncould use an iterator inside, here:\n\n```diff\n@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,\n             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)\n             [[None, 1], [1]]\n         \"\"\"\n-        t = self[:]\n         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]\n-                                        for x in t] if z])\n+                                        for x in self] if z])\n```",
    "created_at": "2021-10-04T06:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529107",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
could use an iterator inside, here:

```diff
@@ -708,9 +703,8 @@ class SkewTableau(ClonableList,
             sage: SkewTableau([[None,1],[1],[2]]).restrict(1)
             [[None, 1], [1]]
         """
-        t = self[:]
         return SkewTableau([z for z in [[y for y in x if y is None or y <= n]
-                                        for x in t] if z])
+                                        for x in self] if z])
```



---

archive/issue_comments_529108.json:
```json
{
    "body": "Changed commit from **[8964311](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)** to **[bc4e07d](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)**",
    "created_at": "2021-10-04T06:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529108",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8964311](https://github.com/sagemath/sagetrac-mirror/commit/8964311a5e358b93a72381faa550e31e5d9ed90d)** to **[bc4e07d](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)**



---

archive/issue_comments_529109.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84\">bc4e07d</a></td><td><code>Using another iterator in restrict().</code></td></tr></table>\n",
    "created_at": "2021-10-04T06:46:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529109",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84">bc4e07d</a></td><td><code>Using another iterator in restrict().</code></td></tr></table>




---

archive/issue_comments_529110.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nGood idea; done.",
    "created_at": "2021-10-04T06:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529110",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:4'>Comment 4:</a>
Good idea; done.



---

archive/issue_comments_529111.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nok",
    "created_at": "2021-10-04T11:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529111",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>Comment 5:</a>
ok



---

archive/issue_events_431130.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-04T11:24:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431130"
}
```



---

archive/issue_events_431131.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-10-04T11:24:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431131"
}
```



---

archive/issue_comments_529112.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2021-10-04T11:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529112",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_529113.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nThank you!",
    "created_at": "2021-10-04T11:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529113",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'>Comment 6:</a>
Thank you!



---

archive/issue_events_431132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-13T22:50:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431132"
}
```



---

archive/issue_events_431133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a55a400f56da3a9c31ba974f29553df9a20a4978",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-13T22:50:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32618#event-431133"
}
```



---

archive/issue_comments_529114.json:
```json
{
    "body": "Changed branch from **[public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)** to **[bc4e07d](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)**",
    "created_at": "2021-10-13T22:50:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32618",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32618#issuecomment-529114",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/combinat/micro_optimizations_tableau-32618](https://github.com/sagemath/sagetrac-mirror/tree/public/combinat/micro_optimizations_tableau-32618)** to **[bc4e07d](https://github.com/sagemath/sagetrac-mirror/commit/bc4e07dc4e0bc7999fcc31ba5db3d065a7ddfb84)**
