# Issue 32961: number of entries of a matrix cannot be more than  2^{32}-1

archive/issues_032724.json:
```json
{
    "body": "As reported on \nhttps://groups.google.com/g/sage-devel/c/T8eyq77mlnA/m/FmG7HbTeCAAJ\n\n```\nFF = GF(next_prime(1000000))\nM = 70000\nN = 80000\nv1 = vector(FF, [FF(k) for k in range(N)])\nv2 = vector(FF, [N] * N)\nvecs = [v1 + v2*FF(i) for i in range(M)]\nmat = matrix(FF, M, N, vecs)\nmat[0] == vecs[0] # return False\n```\ndoes not work correctly. This is due to the array storing `mat` being indexed by `long`, which is at most 2<sup>32</sup>-1<MN.\n\n---\n\nAt least we should check that the number of entries can be\nhandled by the current implementation.\n\n\nCC:  @kliem\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/32961\n\n",
    "created_at": "2021-12-02T20:53:26Z",
    "labels": [
        "component: linear algebra",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "number of entries of a matrix cannot be more than  2^{32}-1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32961",
    "user": "https://github.com/dimpase"
}
```
As reported on 
https://groups.google.com/g/sage-devel/c/T8eyq77mlnA/m/FmG7HbTeCAAJ

```
FF = GF(next_prime(1000000))
M = 70000
N = 80000
v1 = vector(FF, [FF(k) for k in range(N)])
v2 = vector(FF, [N] * N)
vecs = [v1 + v2*FF(i) for i in range(M)]
mat = matrix(FF, M, N, vecs)
mat[0] == vecs[0] # return False
```
does not work correctly. This is due to the array storing `mat` being indexed by `long`, which is at most 2<sup>32</sup>-1<MN.

---

At least we should check that the number of entries can be
handled by the current implementation.


CC:  @kliem

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/32961





---

archive/issue_comments_498433.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -10,7 +10,8 @@\n mat = matrix(FF, M, N, vecs)\n mat[0] == vecs[0] # return False\n ```\n-does not work correctly. This is due to the array storing `mat` being indexed by `long`, with is at most 2<sup>32</sup>-1 - smaller than MN.\n+does not work correctly. This is due to the array storing `mat` being indexed by `long`, with is at most 2<sup>32</sup>-1<MN.\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2021-12-02T20:54:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32961#issuecomment-498433",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -10,7 +10,8 @@
 mat = matrix(FF, M, N, vecs)
 mat[0] == vecs[0] # return False
 ```
-does not work correctly. This is due to the array storing `mat` being indexed by `long`, with is at most 2<sup>32</sup>-1 - smaller than MN.
+does not work correctly. This is due to the array storing `mat` being indexed by `long`, with is at most 2<sup>32</sup>-1<MN.
+
 
 Comment: 1
 
```




---

archive/issue_comments_498434.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,21 @@\n+As reported on https://groups.google.com/d/msgid/sage-devel/d06f39c6-f066-4e83-a2c1-2bbcba345f36n\n+\n+```\n+FF = GF(next_prime(1000000))\n+M = 70000\n+N = 80000\n+v1 = vector(FF, [FF(k) for k in range(N)])\n+v2 = vector(FF, [N] * N)\n+vecs = [v1 + v2*FF(i) for i in range(M)]\n+mat = matrix(FF, M, N, vecs)\n+mat[0] == vecs[0] # return False\n+```\n+does not work correctly. This is due to the array storing `mat` being indexed by `long`, with is at most 2<sup>32</sup>-1<MN.\n+\n+---\n+\n+At least we should check that the number of entries can be\n+handled by the current implementation.\n \n \n Comment: 1\n```\n",
    "created_at": "2021-12-02T20:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32961#issuecomment-498434",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,21 @@
+As reported on https://groups.google.com/d/msgid/sage-devel/d06f39c6-f066-4e83-a2c1-2bbcba345f36n
+
+```
+FF = GF(next_prime(1000000))
+M = 70000
+N = 80000
+v1 = vector(FF, [FF(k) for k in range(N)])
+v2 = vector(FF, [N] * N)
+vecs = [v1 + v2*FF(i) for i in range(M)]
+mat = matrix(FF, M, N, vecs)
+mat[0] == vecs[0] # return False
+```
+does not work correctly. This is due to the array storing `mat` being indexed by `long`, with is at most 2<sup>32</sup>-1<MN.
+
+---
+
+At least we should check that the number of entries can be
+handled by the current implementation.
 
 
 Comment: 1
```




---

archive/issue_comments_498435.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,21 @@\n+As reported on https://groups.google.com/d/msgid/sage-devel/d06f39c6-f066-4e83-a2c1-2bbcba345f36n\n+\n+```\n+FF = GF(next_prime(1000000))\n+M = 70000\n+N = 80000\n+v1 = vector(FF, [FF(k) for k in range(N)])\n+v2 = vector(FF, [N] * N)\n+vecs = [v1 + v2*FF(i) for i in range(M)]\n+mat = matrix(FF, M, N, vecs)\n+mat[0] == vecs[0] # return False\n+```\n+does not work correctly. This is due to the array storing `mat` being indexed by `long`, which is at most 2<sup>32</sup>-1<MN.\n+\n+---\n+\n+At least we should check that the number of entries can be\n+handled by the current implementation.\n \n \n Comment: 1\n```\n",
    "created_at": "2021-12-03T06:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32961#issuecomment-498435",
    "user": "https://github.com/kliem"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,21 @@
+As reported on https://groups.google.com/d/msgid/sage-devel/d06f39c6-f066-4e83-a2c1-2bbcba345f36n
+
+```
+FF = GF(next_prime(1000000))
+M = 70000
+N = 80000
+v1 = vector(FF, [FF(k) for k in range(N)])
+v2 = vector(FF, [N] * N)
+vecs = [v1 + v2*FF(i) for i in range(M)]
+mat = matrix(FF, M, N, vecs)
+mat[0] == vecs[0] # return False
+```
+does not work correctly. This is due to the array storing `mat` being indexed by `long`, which is at most 2<sup>32</sup>-1<MN.
+
+---
+
+At least we should check that the number of entries can be
+handled by the current implementation.
 
 
 Comment: 1
```




---

archive/issue_comments_498436.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,22 @@\n+As reported on \n+https://groups.google.com/g/sage-devel/c/T8eyq77mlnA/m/FmG7HbTeCAAJ\n+\n+```\n+FF = GF(next_prime(1000000))\n+M = 70000\n+N = 80000\n+v1 = vector(FF, [FF(k) for k in range(N)])\n+v2 = vector(FF, [N] * N)\n+vecs = [v1 + v2*FF(i) for i in range(M)]\n+mat = matrix(FF, M, N, vecs)\n+mat[0] == vecs[0] # return False\n+```\n+does not work correctly. This is due to the array storing `mat` being indexed by `long`, which is at most 2<sup>32</sup>-1<MN.\n+\n+---\n+\n+At least we should check that the number of entries can be\n+handled by the current implementation.\n \n \n Comment: 1\n```\n",
    "created_at": "2021-12-03T10:23:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32961#issuecomment-498436",
    "user": "https://github.com/dimpase"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,22 @@
+As reported on 
+https://groups.google.com/g/sage-devel/c/T8eyq77mlnA/m/FmG7HbTeCAAJ
+
+```
+FF = GF(next_prime(1000000))
+M = 70000
+N = 80000
+v1 = vector(FF, [FF(k) for k in range(N)])
+v2 = vector(FF, [N] * N)
+vecs = [v1 + v2*FF(i) for i in range(M)]
+mat = matrix(FF, M, N, vecs)
+mat[0] == vecs[0] # return False
+```
+does not work correctly. This is due to the array storing `mat` being indexed by `long`, which is at most 2<sup>32</sup>-1<MN.
+
+---
+
+At least we should check that the number of entries can be
+handled by the current implementation.
 
 
 Comment: 1
```




---

archive/issue_events_087089.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32961#event-87089"
}
```



---

archive/issue_events_087090.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32961#event-87090"
}
```



---

archive/issue_events_087091.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32961#event-87091"
}
```



---

archive/issue_events_087092.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32961#event-87092"
}
```



---

archive/issue_events_087093.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32961",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32961#event-87093"
}
```
