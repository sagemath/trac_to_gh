# Issue 32420: Prepare for sympy 1.9

archive/issues_032183.json:
```json
{
    "body": "https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n\nThere are some upcoming changes that will require changes to doctests.\n\nDone:\n- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n- Relax doctest for `laplace(dirac_delta)`\n\n\nThe branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n\n\nFollow-up tickets:\n- #32542: Upgrade to sympy 1.9\n- #32563: Drop support for sympy < 1.9\n\n\nCC:  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb\n\nBranch/Commit: beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\n\nReviewer: Antonio Rojas\n\nAuthor: Matthias Koeppe\n\nDependencies: #32418, #32461, #32449, #32514\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32420\n\n",
    "closed_at": "2021-10-09T11:09:50Z",
    "created_at": "2021-08-25T16:54:11Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Prepare for sympy 1.9",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32420",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9

There are some upcoming changes that will require changes to doctests.

Done:
- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
- Relax doctest for `laplace(dirac_delta)`


The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941


Follow-up tickets:
- #32542: Upgrade to sympy 1.9
- #32563: Drop support for sympy < 1.9


CC:  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb

Branch/Commit: beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8

Reviewer: Antonio Rojas

Author: Matthias Koeppe

Dependencies: #32418, #32461, #32449, #32514

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32420





---

archive/issue_comments_490733.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490733",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_490734.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n There are some upcoming changes that will require changes to doctests.\n \n https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490734",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,6 +1,9 @@
 There are some upcoming changes that will require changes to doctests.
 
 https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+
 
 Comment: 1
 
```




---

archive/issue_comments_490735.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n+There are some upcoming changes that will require changes to doctests.\n+\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n \n Comment: 1\n```\n",
    "created_at": "2021-08-25T23:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490735",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,9 @@
+There are some upcoming changes that will require changes to doctests.
+
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
 
 Comment: 1
```




---

archive/issue_comments_490736.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,11 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n \n Comment: 1\n```\n",
    "created_at": "2021-08-26T01:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490736",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,11 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
 
 Comment: 1
```




---

archive/issue_comments_490737.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-30T05:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490737",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490738.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- some of the \\`sympy_init\\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n \n Comment: 1\n```\n",
    "created_at": "2021-08-30T19:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490738",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,12 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- some of the \`sympy_init\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
 
 Comment: 1
```




---

archive/issue_comments_490739.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- some of the \\`sympy_init\\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n \n Comment: 1\n```\n",
    "created_at": "2021-08-31T17:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490739",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,12 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- some of the \`sympy_init\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
 
 Comment: 1
```




---

archive/issue_comments_490740.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-01T03:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490741.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,13 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+- Change to \\`heaviside\\` (https://github.com/sympy/sympy/issues/21945)\n+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- some of the \\`sympy_init\\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n \n Comment: 1\n```\n",
    "created_at": "2021-09-06T23:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490741",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,13 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+- Change to \`heaviside\` (https://github.com/sympy/sympy/issues/21945)
+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- some of the \`sympy_init\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
 
 Comment: 1
```




---

archive/issue_comments_490742.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-07T00:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490742",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490743.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,39 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n \n+There are some upcoming changes that will require changes to doctests.\n+\n+Done:\n+- Adjust tests to change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+Waiting for:\n+- Change to \\`heaviside\\` (https://github.com/sympy/sympy/issues/21945)\n+\n+Todo:\n+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+  {{{\n+File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n+Failed example:\n+    rsolve(f,u(n))\n+Expected:\n+    2**(-n)*(C0 + C1*n)\n+Got:\n+    (C0 + C1*n)/2**n\n+\n+File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n+Failed example:\n+    rsolve(f, u(n), {u(0):-1,u(1):1})\n+Expected:\n+    3 - 4*2**(-n)\n+Got:\n+    3 - 4/2**n\n+  }}}\n+\n+\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n+\n+\n+Follow-up tickets:\n+- some of the \\`sympy_init\\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n Comment: 1\n \n```\n",
    "created_at": "2021-09-07T00:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490743",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,39 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
 
+There are some upcoming changes that will require changes to doctests.
+
+Done:
+- Adjust tests to change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+Waiting for:
+- Change to \`heaviside\` (https://github.com/sympy/sympy/issues/21945)
+
+Todo:
+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+  {{{
+File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
+Failed example:
+    rsolve(f,u(n))
+Expected:
+    2**(-n)*(C0 + C1*n)
+Got:
+    (C0 + C1*n)/2**n
+
+File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
+Failed example:
+    rsolve(f, u(n), {u(0):-1,u(1):1})
+Expected:
+    3 - 4*2**(-n)
+Got:
+    3 - 4/2**n
+  }}}
+
+
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
+
+
+Follow-up tickets:
+- some of the \`sympy_init\` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
 Comment: 1
 
```




---

archive/issue_comments_490744.json:
```json
{
    "body": "<a id='comment:14'></a>sympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.\n\nQuestion: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?",
    "created_at": "2021-09-07T00:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490744",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>sympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.

Question: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?



---

archive/issue_comments_490745.json:
```json
{
    "body": "<a id='comment:15'></a>The sympy 1.9 release is imminent\n\nThe change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ",
    "created_at": "2021-09-11T04:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490745",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>The sympy 1.9 release is imminent

The change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ



---

archive/issue_comments_490746.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T19:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490746",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490747.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-17T17:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490747",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490748.json:
```json
{
    "body": "<a id='comment:20'></a>The Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:\n\nhttps://github.com/sympy/sympy/pull/22117\n\nhttps://github.com/sympy/sympy/pull/22118",
    "created_at": "2021-09-19T12:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490748",
    "user": "https://github.com/oscarbenjamin"
}
```

<a id='comment:20'></a>The Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:

https://github.com/sympy/sympy/pull/22117

https://github.com/sympy/sympy/pull/22118



---

archive/issue_comments_490749.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,40 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+Done:\n+- Adjust tests to change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+Waiting for:\n+- Change to \\`heaviside\\` (https://github.com/sympy/sympy/issues/21945)\n+\n+Todo:\n+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+  {{{\n+File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n+Failed example:\n+    rsolve(f,u(n))\n+Expected:\n+    2**(-n)*(C0 + C1*n)\n+Got:\n+    (C0 + C1*n)/2**n\n+\n+File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n+Failed example:\n+    rsolve(f, u(n), {u(0):-1,u(1):1})\n+Expected:\n+    3 - 4*2**(-n)\n+Got:\n+    3 - 4/2**n\n+  }}}\n+\n+\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n+\n+\n+Follow-up tickets:\n+- #32542: Upgrade to sympy 1.9\n+- #32563: Drop support for sympy < 1.9\n \n \n Comment: 1\n```\n",
    "created_at": "2021-09-25T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490749",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,40 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+Done:
+- Adjust tests to change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+Waiting for:
+- Change to \`heaviside\` (https://github.com/sympy/sympy/issues/21945)
+
+Todo:
+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+  {{{
+File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
+Failed example:
+    rsolve(f,u(n))
+Expected:
+    2**(-n)*(C0 + C1*n)
+Got:
+    (C0 + C1*n)/2**n
+
+File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
+Failed example:
+    rsolve(f, u(n), {u(0):-1,u(1):1})
+Expected:
+    3 - 4*2**(-n)
+Got:
+    3 - 4/2**n
+  }}}
+
+
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
+
+
+Follow-up tickets:
+- #32542: Upgrade to sympy 1.9
+- #32563: Drop support for sympy < 1.9
 
 
 Comment: 1
```




---

archive/issue_comments_490750.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,38 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+Done:\n+- Adjust tests to change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- Changes to \\`heaviside\\` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n+\n+Todo:\n+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+  {{{\n+File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n+Failed example:\n+    rsolve(f,u(n))\n+Expected:\n+    2**(-n)*(C0 + C1*n)\n+Got:\n+    (C0 + C1*n)/2**n\n+\n+File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n+Failed example:\n+    rsolve(f, u(n), {u(0):-1,u(1):1})\n+Expected:\n+    3 - 4*2**(-n)\n+Got:\n+    3 - 4/2**n\n+  }}}\n+\n+\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n+\n+\n+Follow-up tickets:\n+- #32542: Upgrade to sympy 1.9\n+- #32563: Drop support for sympy < 1.9\n \n \n Comment: 1\n```\n",
    "created_at": "2021-09-25T18:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490750",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,38 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+Done:
+- Adjust tests to change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- Changes to \`heaviside\` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
+
+Todo:
+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+  {{{
+File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
+Failed example:
+    rsolve(f,u(n))
+Expected:
+    2**(-n)*(C0 + C1*n)
+Got:
+    (C0 + C1*n)/2**n
+
+File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
+Failed example:
+    rsolve(f, u(n), {u(0):-1,u(1):1})
+Expected:
+    3 - 4*2**(-n)
+Got:
+    3 - 4/2**n
+  }}}
+
+
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
+
+
+Follow-up tickets:
+- #32542: Upgrade to sympy 1.9
+- #32563: Drop support for sympy < 1.9
 
 
 Comment: 1
```




---

archive/issue_comments_490751.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-25T18:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490751",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490752.json:
```json
{
    "body": "<a id='comment:24'></a>I've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`",
    "created_at": "2021-09-25T18:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490752",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>I've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`



---

archive/issue_comments_490753.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-25T19:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_490754.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-25T19:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490754",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_490755.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,20 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n+There are some upcoming changes that will require changes to doctests.\n+\n+Done:\n+- Adjust tests to change in printing of \\`FiniteSet\\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- Changes to \\`heaviside\\` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Relax doctest for \\`laplace(dirac_delta)\\`\n+\n+\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n+\n+\n+Follow-up tickets:\n+- #32542: Upgrade to sympy 1.9\n+- #32563: Drop support for sympy < 1.9\n \n \n Comment: 1\n```\n",
    "created_at": "2021-09-25T19:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490755",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,20 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
+There are some upcoming changes that will require changes to doctests.
+
+Done:
+- Adjust tests to change in printing of \`FiniteSet\` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- Changes to \`heaviside\` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Relax doctest for \`laplace(dirac_delta)\`
+
+
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
+
+
+Follow-up tickets:
+- #32542: Upgrade to sympy 1.9
+- #32563: Drop support for sympy < 1.9
 
 
 Comment: 1
```




---

archive/issue_comments_490756.json:
```json
{
    "body": "<a id='comment:29'></a>All good here with 1.9-rc1",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490756",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:29'></a>All good here with 1.9-rc1



---

archive/issue_comments_490757.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490757",
    "user": "https://github.com/antonio-rojas"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_490758.json:
```json
{
    "body": "<a id='comment:30'></a>Thanks!",
    "created_at": "2021-09-26T15:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490758",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Thanks!



---

archive/issue_comments_490759.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_490760.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490760",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_490761.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-30T22:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490761",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_086005.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:09:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32420#event-86005"
}
```



---

archive/issue_comments_490762.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-09T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-490762",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
