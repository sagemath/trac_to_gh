# Issue 32420: Prepare for sympy 1.9

archive/issues_032183.json:
```json
{
    "assignees": [],
    "body": "https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n\nThere are some upcoming changes that will require changes to doctests.\n\nDone:\n- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n- Relax doctest for `laplace(dirac_delta)`\n\n\nThe branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n\n\nFollow-up tickets:\n- #32542: Upgrade to sympy 1.9\n- #32563: Drop support for sympy < 1.9\n\n\nDepends on #32418\n\nDepends on #32461\n\nDepends on #32449\n\nDepends on #32514\n\n**CC:**  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb\n\n**Branch/Commit:** [beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)\n\n**Reviewer:** Antonio Rojas\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/32420\n\n",
    "closed_at": "2021-10-09T11:09:50Z",
    "created_at": "2021-08-25T16:54:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Prepare for sympy 1.9",
    "type": "issue",
    "updated_at": "2021-10-09T11:09:50Z",
    "url": "https://github.com/sagemath/sage/issues/32420",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9

There are some upcoming changes that will require changes to doctests.

Done:
- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
- Relax doctest for `laplace(dirac_delta)`


The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941


Follow-up tickets:
- #32542: Upgrade to sympy 1.9
- #32563: Drop support for sympy < 1.9


Depends on #32418

Depends on #32461

Depends on #32449

Depends on #32514

**CC:**  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb

**Branch/Commit:** [beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)

**Reviewer:** Antonio Rojas

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/32420





---

archive/issue_events_393749.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-25T16:54:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393749"
}
```



---

archive/issue_events_393750.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-25T16:54:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20symbolics",
    "label_color": "08517b",
    "label_name": "component: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393750"
}
```



---

archive/issue_events_393751.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-25T16:54:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393751"
}
```



---

archive/issue_comments_525407.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)",
    "created_at": "2021-08-25T18:58:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525407",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)



---

archive/issue_comments_525408.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21da195aa9a0f40dedc88eca249a10ef516e93b6\">21da195</a></td><td><code>fix one doctest for archlinux</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945\">0fd70ad</a></td><td><code>Merge #32418</code></td></tr></table>\n",
    "created_at": "2021-08-25T19:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525408",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21da195aa9a0f40dedc88eca249a10ef516e93b6">21da195</a></td><td><code>fix one doctest for archlinux</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945">0fd70ad</a></td><td><code>Merge #32418</code></td></tr></table>




---

archive/issue_comments_525409.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n There are some upcoming changes that will require changes to doctests.\n \n https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+\n``````\n",
    "created_at": "2021-08-25T19:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525409",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 There are some upcoming changes that will require changes to doctests.
 
 https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+
``````




---

archive/issue_comments_525410.json:
```json
{
    "body": "**Commit:** [0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)",
    "created_at": "2021-08-25T19:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525410",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)



---

archive/issue_comments_525411.json:
```json
{
    "body": "**Dependencies:** #32418",
    "created_at": "2021-08-25T19:00:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525411",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32418



---

archive/issue_comments_525412.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n There are some upcoming changes that will require changes to doctests.\n \n-https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n \n The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n``````\n",
    "created_at": "2021-08-25T23:15:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525412",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 There are some upcoming changes that will require changes to doctests.
 
-https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 
 The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
``````




---

archive/issue_comments_525413.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n There are some upcoming changes that will require changes to doctests.\n \n - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n``````\n",
    "created_at": "2021-08-26T01:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525413",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
 There are some upcoming changes that will require changes to doctests.
 
 - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
``````




---

archive/issue_comments_525414.json:
```json
{
    "body": "**Changing commit** from \"[0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)\" to \"[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)\".",
    "created_at": "2021-08-30T05:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525414",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)" to "[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)".



---

archive/issue_comments_525415.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e\">266c3dd</a></td><td><code>sage.symbolic.ring.UnderscoreSageMorphism.__init__: Call sympy_init</code></td></tr></table>\n",
    "created_at": "2021-08-30T05:37:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525415",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e">266c3dd</a></td><td><code>sage.symbolic.ring.UnderscoreSageMorphism.__init__: Call sympy_init</code></td></tr></table>




---

archive/issue_comments_525416.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n``````\n",
    "created_at": "2021-08-30T19:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525416",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
 The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
``````




---

archive/issue_comments_525417.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n-The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n``````\n",
    "created_at": "2021-08-31T17:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525417",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
-The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
``````




---

archive/issue_comments_525418.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600\">a0a5c0f</a></td><td><code>src/sage/sets/real_set.py, src/sage/categories/sets_cat.py: Update doctests to accept sympy 1.9</code></td></tr></table>\n",
    "created_at": "2021-09-01T03:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525418",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600">a0a5c0f</a></td><td><code>src/sage/sets/real_set.py, src/sage/categories/sets_cat.py: Update doctests to accept sympy 1.9</code></td></tr></table>




---

archive/issue_comments_525419.json:
```json
{
    "body": "**Changing commit** from \"[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)\" to \"[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)\".",
    "created_at": "2021-09-01T03:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525419",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)" to "[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)".



---

archive/issue_comments_525420.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-09-01T03:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525420",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_525421.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,8 @@\n \n There are some upcoming changes that will require changes to doctests.\n \n-- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n``````\n",
    "created_at": "2021-09-06T23:59:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525421",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,8 @@
 
 There are some upcoming changes that will require changes to doctests.
 
-- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
``````




---

archive/issue_comments_525422.json:
```json
{
    "body": "**Changing dependencies** from \"#32418\" to \"#32418, #32461\".",
    "created_at": "2021-09-07T00:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525422",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32418" to "#32418, #32461".



---

archive/issue_comments_525423.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5df10fa356c4635a631918c231fcc360904a0f5b\">5df10fa</a></td><td><code>Merge tag '9.5.beta0' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a6ff9d5d22ffd11c661f6d8eacdb548f4dd8663\">2a6ff9d</a></td><td><code>src/doc/en/prep/Calculus.rst: Add a missing '# long time'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd\">6a796e7</a></td><td><code>Merge #32461</code></td></tr></table>\n",
    "created_at": "2021-09-07T00:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525423",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5df10fa356c4635a631918c231fcc360904a0f5b">5df10fa</a></td><td><code>Merge tag '9.5.beta0' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a6ff9d5d22ffd11c661f6d8eacdb548f4dd8663">2a6ff9d</a></td><td><code>src/doc/en/prep/Calculus.rst: Add a missing '# long time'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd">6a796e7</a></td><td><code>Merge #32461</code></td></tr></table>




---

archive/issue_comments_525424.json:
```json
{
    "body": "**Changing commit** from \"[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)\" to \"[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)\".",
    "created_at": "2021-09-07T00:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525424",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)" to "[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)".



---

archive/issue_comments_525425.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,10 +2,36 @@\n \n There are some upcoming changes that will require changes to doctests.\n \n+Done:\n+- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+Waiting for:\n - Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n-- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n-- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+\n+Todo:\n+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+\n+  ```\n+  File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n+  Failed example:\n+      rsolve(f,u(n))\n+  Expected:\n+      2**(-n)*(C0 + C1*n)\n+  Got:\n+      (C0 + C1*n)/2**n\n+  \n+  File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n+  Failed example:\n+      rsolve(f, u(n), {u(0):-1,u(1):1})\n+  Expected:\n+      3 - 4*2**(-n)\n+  Got:\n+      3 - 4/2**n\n+  ```\n+\n \n The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n+\n+Follow-up tickets:\n+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n``````\n",
    "created_at": "2021-09-07T00:05:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525425",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,10 +2,36 @@
 
 There are some upcoming changes that will require changes to doctests.
 
+Done:
+- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+Waiting for:
 - Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
-- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
-- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+
+Todo:
+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+
+  ```
+  File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
+  Failed example:
+      rsolve(f,u(n))
+  Expected:
+      2**(-n)*(C0 + C1*n)
+  Got:
+      (C0 + C1*n)/2**n
+  
+  File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
+  Failed example:
+      rsolve(f, u(n), {u(0):-1,u(1):1})
+  Expected:
+      3 - 4*2**(-n)
+  Got:
+      3 - 4/2**n
+  ```
+
 
 The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
+
+Follow-up tickets:
+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
``````




---

archive/issue_comments_525426.json:
```json
{
    "body": "<a id='comment:14'></a>\nsympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.\n\nQuestion: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?",
    "created_at": "2021-09-07T00:11:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525426",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
sympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.

Question: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?



---

archive/issue_comments_525427.json:
```json
{
    "body": "<a id='comment:15'></a>\nThe sympy 1.9 release is imminent\n\nThe change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ",
    "created_at": "2021-09-11T04:21:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525427",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
The sympy 1.9 release is imminent

The change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ



---

archive/issue_comments_525428.json:
```json
{
    "body": "**Changing dependencies** from \"#32418, #32461\" to \"#32418, #32461, #32449\".",
    "created_at": "2021-09-14T19:49:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525428",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32418, #32461" to "#32418, #32461, #32449".



---

archive/issue_comments_525429.json:
```json
{
    "body": "**Changing commit** from \"[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)\" to \"[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)\".",
    "created_at": "2021-09-14T19:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525429",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)" to "[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)".



---

archive/issue_comments_525430.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/378cf5bff021053eb01e8d1a68d5fb6051045d7b\">378cf5b</a></td><td><code>Merge tag '9.5.beta1' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d6a7b82886827480d8ef4664c0e484cb669aa1d\">7d6a7b8</a></td><td><code>Make test pass with giac 1.7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e\">ae145d9</a></td><td><code>Merge #32449</code></td></tr></table>\n",
    "created_at": "2021-09-14T19:52:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525430",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/378cf5bff021053eb01e8d1a68d5fb6051045d7b">378cf5b</a></td><td><code>Merge tag '9.5.beta1' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d6a7b82886827480d8ef4664c0e484cb669aa1d">7d6a7b8</a></td><td><code>Make test pass with giac 1.7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e">ae145d9</a></td><td><code>Merge #32449</code></td></tr></table>




---

archive/issue_comments_525431.json:
```json
{
    "body": "**Changing dependencies** from \"#32418, #32461, #32449\" to \"#32418, #32461, #32449, #32514\".",
    "created_at": "2021-09-17T17:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525431",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32418, #32461, #32449" to "#32418, #32461, #32449, #32514".



---

archive/issue_comments_525432.json:
```json
{
    "body": "**Changing commit** from \"[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)\" to \"[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)\".",
    "created_at": "2021-09-17T17:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525432",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)" to "[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)".



---

archive/issue_comments_525433.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b3ac0905d71390d62ba73d9b7c961f50262812a\">2b3ac09</a></td><td><code>src/sage/misc/persist.pyx: Fix doctest so it works when run as root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d\">837c600</a></td><td><code>Merge #32514</code></td></tr></table>\n",
    "created_at": "2021-09-17T17:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525433",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b3ac0905d71390d62ba73d9b7c961f50262812a">2b3ac09</a></td><td><code>src/sage/misc/persist.pyx: Fix doctest so it works when run as root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d">837c600</a></td><td><code>Merge #32514</code></td></tr></table>




---

archive/issue_comments_525434.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:\n\nhttps://github.com/sympy/sympy/pull/22117\n\nhttps://github.com/sympy/sympy/pull/22118",
    "created_at": "2021-09-19T12:38:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525434",
    "user": "https://github.com/oscarbenjamin"
}
```

<a id='comment:20'></a>
The Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:

https://github.com/sympy/sympy/pull/22117

https://github.com/sympy/sympy/pull/22118



---

archive/issue_comments_525435.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -34,4 +34,6 @@\n \n \n Follow-up tickets:\n-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+- #32542: Upgrade to sympy 1.9\n+- #32563: Drop support for sympy < 1.9\n+\n``````\n",
    "created_at": "2021-09-25T18:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525435",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -34,4 +34,6 @@
 
 
 Follow-up tickets:
-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+- #32542: Upgrade to sympy 1.9
+- #32563: Drop support for sympy < 1.9
+
``````




---

archive/issue_comments_525436.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,9 +4,7 @@\n \n Done:\n - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n-\n-Waiting for:\n-- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n+- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n \n Todo:\n - Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n``````\n",
    "created_at": "2021-09-25T18:23:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525436",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,9 +4,7 @@
 
 Done:
 - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
-
-Waiting for:
-- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
+- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
 
 Todo:
 - Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
``````




---

archive/issue_comments_525437.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75\">b41384a</a></td><td><code>src/sage/calculus/test_sympy.py, src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py: Make doctests pass with sympy 1.9 and <1.9</code></td></tr></table>\n",
    "created_at": "2021-09-25T18:37:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525437",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75">b41384a</a></td><td><code>src/sage/calculus/test_sympy.py, src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py: Make doctests pass with sympy 1.9 and <1.9</code></td></tr></table>




---

archive/issue_comments_525438.json:
```json
{
    "body": "**Changing commit** from \"[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)\" to \"[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)\".",
    "created_at": "2021-09-25T18:37:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525438",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)" to "[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)".



---

archive/issue_comments_525439.json:
```json
{
    "body": "<a id='comment:24'></a>\nI've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`",
    "created_at": "2021-09-25T18:59:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525439",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
I've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`



---

archive/issue_comments_525440.json:
```json
{
    "body": "**Changing commit** from \"[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)\" to \"[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)\".",
    "created_at": "2021-09-25T19:08:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525440",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)" to "[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)".



---

archive/issue_comments_525441.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29\">28797f9</a></td><td><code>src/sage/calculus/calculus.py: Prepare laplace(dirac_delta) doctest for sympy 1.9</code></td></tr></table>\n",
    "created_at": "2021-09-25T19:08:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525441",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29">28797f9</a></td><td><code>src/sage/calculus/calculus.py: Prepare laplace(dirac_delta) doctest for sympy 1.9</code></td></tr></table>




---

archive/issue_events_393752.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-25T19:15:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393752"
}
```



---

archive/issue_comments_525442.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,27 +5,8 @@\n Done:\n - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n-\n-Todo:\n-- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n-\n-  ```\n-  File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n-  Failed example:\n-      rsolve(f,u(n))\n-  Expected:\n-      2**(-n)*(C0 + C1*n)\n-  Got:\n-      (C0 + C1*n)/2**n\n-  \n-  File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n-  Failed example:\n-      rsolve(f, u(n), {u(0):-1,u(1):1})\n-  Expected:\n-      3 - 4*2**(-n)\n-  Got:\n-      3 - 4/2**n\n-  ```\n+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Relax doctest for `laplace(dirac_delta)`\n \n \n The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n``````\n",
    "created_at": "2021-09-25T19:16:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525442",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,27 +5,8 @@
 Done:
 - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
-
-Todo:
-- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
-
-  ```
-  File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
-  Failed example:
-      rsolve(f,u(n))
-  Expected:
-      2**(-n)*(C0 + C1*n)
-  Got:
-      (C0 + C1*n)/2**n
-  
-  File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
-  Failed example:
-      rsolve(f, u(n), {u(0):-1,u(1):1})
-  Expected:
-      3 - 4*2**(-n)
-  Got:
-      3 - 4/2**n
-  ```
+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Relax doctest for `laplace(dirac_delta)`
 
 
 The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
``````




---

archive/issue_comments_525443.json:
```json
{
    "body": "**Reviewer:** Antonio Rojas",
    "created_at": "2021-09-26T07:15:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525443",
    "user": "https://github.com/antonio-rojas"
}
```

**Reviewer:** Antonio Rojas



---

archive/issue_comments_525444.json:
```json
{
    "body": "<a id='comment:29'></a>\nAll good here with 1.9-rc1",
    "created_at": "2021-09-26T07:15:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525444",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:29'></a>
All good here with 1.9-rc1



---

archive/issue_events_393753.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-09-26T07:15:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393753"
}
```



---

archive/issue_events_393754.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-09-26T07:15:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393754"
}
```



---

archive/issue_comments_525445.json:
```json
{
    "body": "<a id='comment:30'></a>\nThanks!",
    "created_at": "2021-09-26T15:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525445",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Thanks!



---

archive/issue_events_393755.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-09-30T22:57:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393755"
}
```



---

archive/issue_events_393756.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-09-30T22:57:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393756"
}
```



---

archive/issue_comments_525446.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\">beed4e1</a></td><td><code>Merge tag '9.5.beta2' into t/32420/prepare_for_sympy_1_9</code></td></tr></table>\n",
    "created_at": "2021-09-30T22:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525446",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8">beed4e1</a></td><td><code>Merge tag '9.5.beta2' into t/32420/prepare_for_sympy_1_9</code></td></tr></table>




---

archive/issue_comments_525447.json:
```json
{
    "body": "**Changing commit** from \"[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)\" to \"[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)\".",
    "created_at": "2021-09-30T22:57:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525447",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)" to "[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)".



---

archive/issue_events_393757.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-30T22:58:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393757"
}
```



---

archive/issue_events_393758.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-30T22:58:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393758"
}
```



---

archive/issue_comments_525448.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)\" to \"[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)\".",
    "created_at": "2021-10-09T11:09:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32420#issuecomment-525448",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)" to "[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)".



---

archive/issue_events_393759.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:09:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393759"
}
```



---

archive/issue_events_393760.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e8e66b45fef9a0644115259c6a6163dd620f5531",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-09T11:09:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32420",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32420#event-393760"
}
```
