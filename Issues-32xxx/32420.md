# Issue 32420: Prepare for sympy 1.9

archive/issues_032183.json:
```json
{
    "body": "https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n\nThere are some upcoming changes that will require changes to doctests.\n\nDone:\n- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n- Relax doctest for `laplace(dirac_delta)`\n\n\nThe branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n\n\nFollow-up tickets:\n- #32542: Upgrade to sympy 1.9\n- #32563: Drop support for sympy < 1.9\n\n\n**CC:**  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb\n\n**Branch/Commit:** [beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)\n\n**Reviewer:** Antonio Rojas\n\n**Author:** Matthias Koeppe\n\n**Dependencies:** #32418, #32461, #32449, #32514\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32420\n\n",
    "closed_at": "2021-10-09T11:09:50Z",
    "created_at": "2021-08-25T16:54:11Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Prepare for sympy 1.9",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32420",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9

There are some upcoming changes that will require changes to doctests.

Done:
- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
- Relax doctest for `laplace(dirac_delta)`


The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941


Follow-up tickets:
- #32542: Upgrade to sympy 1.9
- #32563: Drop support for sympy < 1.9


**CC:**  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb

**Branch/Commit:** [beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)

**Reviewer:** Antonio Rojas

**Author:** Matthias Koeppe

**Dependencies:** #32418, #32461, #32449, #32514

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/32420





---

archive/issue_comments_645873.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)",
    "created_at": "2021-08-25T18:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645873",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)



---

archive/issue_comments_645874.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21da195aa9a0f40dedc88eca249a10ef516e93b6\">21da195</a></td><td><code>fix one doctest for archlinux</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945\">0fd70ad</a></td><td><code>Merge #32418</code></td></tr></table>\n",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645874",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21da195aa9a0f40dedc88eca249a10ef516e93b6">21da195</a></td><td><code>fix one doctest for archlinux</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945">0fd70ad</a></td><td><code>Merge #32418</code></td></tr></table>




---

archive/issue_comments_645875.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n There are some upcoming changes that will require changes to doctests.\n \n https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+\n``````\n",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645875",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 There are some upcoming changes that will require changes to doctests.
 
 https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+
``````




---

archive/issue_comments_645876.json:
```json
{
    "body": "**Commit:** [0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645876",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)



---

archive/issue_comments_645877.json:
```json
{
    "body": "**Dependencies:** #32418",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645877",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32418



---

archive/issue_comments_645878.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n There are some upcoming changes that will require changes to doctests.\n \n-https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n \n The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n``````\n",
    "created_at": "2021-08-25T23:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645878",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 There are some upcoming changes that will require changes to doctests.
 
-https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 
 The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
``````




---

archive/issue_comments_645879.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n There are some upcoming changes that will require changes to doctests.\n \n - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n``````\n",
    "created_at": "2021-08-26T01:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645879",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
 There are some upcoming changes that will require changes to doctests.
 
 - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
``````




---

archive/issue_comments_645880.json:
```json
{
    "body": "**Changing commit** from \"[0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)\" to \"[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)\".",
    "created_at": "2021-08-30T05:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645880",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0fd70adedbf1f5d608d453db454e079604946945](https://github.com/sagemath/sagetrac-mirror/commit/0fd70adedbf1f5d608d453db454e079604946945)" to "[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)".



---

archive/issue_comments_645881.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e\">266c3dd</a></td><td><code>sage.symbolic.ring.UnderscoreSageMorphism.__init__: Call sympy_init</code></td></tr></table>\n",
    "created_at": "2021-08-30T05:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645881",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e">266c3dd</a></td><td><code>sage.symbolic.ring.UnderscoreSageMorphism.__init__: Call sympy_init</code></td></tr></table>




---

archive/issue_comments_645882.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n``````\n",
    "created_at": "2021-08-30T19:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645882",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
 The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
``````




---

archive/issue_comments_645883.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n-The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n``````\n",
    "created_at": "2021-08-31T17:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645883",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
-The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
``````




---

archive/issue_comments_645884.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600\">a0a5c0f</a></td><td><code>src/sage/sets/real_set.py, src/sage/categories/sets_cat.py: Update doctests to accept sympy 1.9</code></td></tr></table>\n",
    "created_at": "2021-09-01T03:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600">a0a5c0f</a></td><td><code>src/sage/sets/real_set.py, src/sage/categories/sets_cat.py: Update doctests to accept sympy 1.9</code></td></tr></table>




---

archive/issue_comments_645885.json:
```json
{
    "body": "**Changing commit** from \"[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)\" to \"[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)\".",
    "created_at": "2021-09-01T03:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e](https://github.com/sagemath/sagetrac-mirror/commit/266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e)" to "[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)".



---

archive/issue_comments_645886.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-09-01T03:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645886",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_645887.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,8 @@\n \n There are some upcoming changes that will require changes to doctests.\n \n-- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n``````\n",
    "created_at": "2021-09-06T23:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645887",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,8 @@
 
 There are some upcoming changes that will require changes to doctests.
 
-- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
``````




---

archive/issue_comments_645888.json:
```json
{
    "body": "**Changing dependencies** from \"#32418\" to \"#32418, #32461\".",
    "created_at": "2021-09-07T00:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645888",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32418" to "#32418, #32461".



---

archive/issue_comments_645889.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5df10fa356c4635a631918c231fcc360904a0f5b\">5df10fa</a></td><td><code>Merge tag '9.5.beta0' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a6ff9d5d22ffd11c661f6d8eacdb548f4dd8663\">2a6ff9d</a></td><td><code>src/doc/en/prep/Calculus.rst: Add a missing '# long time'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd\">6a796e7</a></td><td><code>Merge #32461</code></td></tr></table>\n",
    "created_at": "2021-09-07T00:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5df10fa356c4635a631918c231fcc360904a0f5b">5df10fa</a></td><td><code>Merge tag '9.5.beta0' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a6ff9d5d22ffd11c661f6d8eacdb548f4dd8663">2a6ff9d</a></td><td><code>src/doc/en/prep/Calculus.rst: Add a missing '# long time'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd">6a796e7</a></td><td><code>Merge #32461</code></td></tr></table>




---

archive/issue_comments_645890.json:
```json
{
    "body": "**Changing commit** from \"[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)\" to \"[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)\".",
    "created_at": "2021-09-07T00:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645890",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a0a5c0f4d65c700469b9ee09fb5df708eeded600](https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600)" to "[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)".



---

archive/issue_comments_645891.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,10 +2,36 @@\n \n There are some upcoming changes that will require changes to doctests.\n \n+Done:\n+- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+Waiting for:\n - Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n-- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n-- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+\n+Todo:\n+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+\n+  ```\n+  File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n+  Failed example:\n+      rsolve(f,u(n))\n+  Expected:\n+      2**(-n)*(C0 + C1*n)\n+  Got:\n+      (C0 + C1*n)/2**n\n+  \n+  File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n+  Failed example:\n+      rsolve(f, u(n), {u(0):-1,u(1):1})\n+  Expected:\n+      3 - 4*2**(-n)\n+  Got:\n+      3 - 4/2**n\n+  ```\n+\n \n The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n+\n+Follow-up tickets:\n+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n``````\n",
    "created_at": "2021-09-07T00:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645891",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,10 +2,36 @@
 
 There are some upcoming changes that will require changes to doctests.
 
+Done:
+- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+Waiting for:
 - Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
-- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
-- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+
+Todo:
+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+
+  ```
+  File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
+  Failed example:
+      rsolve(f,u(n))
+  Expected:
+      2**(-n)*(C0 + C1*n)
+  Got:
+      (C0 + C1*n)/2**n
+  
+  File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
+  Failed example:
+      rsolve(f, u(n), {u(0):-1,u(1):1})
+  Expected:
+      3 - 4*2**(-n)
+  Got:
+      3 - 4/2**n
+  ```
+
 
 The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
+
+Follow-up tickets:
+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
``````




---

archive/issue_comments_645892.json:
```json
{
    "body": "<a id='comment:14'></a>\nsympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.\n\nQuestion: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?",
    "created_at": "2021-09-07T00:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645892",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
sympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.

Question: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?



---

archive/issue_comments_645893.json:
```json
{
    "body": "<a id='comment:15'></a>\nThe sympy 1.9 release is imminent\n\nThe change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ",
    "created_at": "2021-09-11T04:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645893",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>
The sympy 1.9 release is imminent

The change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ



---

archive/issue_comments_645894.json:
```json
{
    "body": "**Changing dependencies** from \"#32418, #32461\" to \"#32418, #32461, #32449\".",
    "created_at": "2021-09-14T19:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645894",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32418, #32461" to "#32418, #32461, #32449".



---

archive/issue_comments_645895.json:
```json
{
    "body": "**Changing commit** from \"[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)\" to \"[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)\".",
    "created_at": "2021-09-14T19:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645895",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6a796e7c77aa9bc3dbff61bf13d9831455916cbd](https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd)" to "[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)".



---

archive/issue_comments_645896.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/378cf5bff021053eb01e8d1a68d5fb6051045d7b\">378cf5b</a></td><td><code>Merge tag '9.5.beta1' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d6a7b82886827480d8ef4664c0e484cb669aa1d\">7d6a7b8</a></td><td><code>Make test pass with giac 1.7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e\">ae145d9</a></td><td><code>Merge #32449</code></td></tr></table>\n",
    "created_at": "2021-09-14T19:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645896",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/378cf5bff021053eb01e8d1a68d5fb6051045d7b">378cf5b</a></td><td><code>Merge tag '9.5.beta1' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d6a7b82886827480d8ef4664c0e484cb669aa1d">7d6a7b8</a></td><td><code>Make test pass with giac 1.7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e">ae145d9</a></td><td><code>Merge #32449</code></td></tr></table>




---

archive/issue_comments_645897.json:
```json
{
    "body": "**Changing dependencies** from \"#32418, #32461, #32449\" to \"#32418, #32461, #32449, #32514\".",
    "created_at": "2021-09-17T17:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645897",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32418, #32461, #32449" to "#32418, #32461, #32449, #32514".



---

archive/issue_comments_645898.json:
```json
{
    "body": "**Changing commit** from \"[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)\" to \"[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)\".",
    "created_at": "2021-09-17T17:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ae145d9550ab41756a59aeb851840be37560dc2e](https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e)" to "[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)".



---

archive/issue_comments_645899.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b3ac0905d71390d62ba73d9b7c961f50262812a\">2b3ac09</a></td><td><code>src/sage/misc/persist.pyx: Fix doctest so it works when run as root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d\">837c600</a></td><td><code>Merge #32514</code></td></tr></table>\n",
    "created_at": "2021-09-17T17:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645899",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b3ac0905d71390d62ba73d9b7c961f50262812a">2b3ac09</a></td><td><code>src/sage/misc/persist.pyx: Fix doctest so it works when run as root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d">837c600</a></td><td><code>Merge #32514</code></td></tr></table>




---

archive/issue_comments_645900.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:\n\nhttps://github.com/sympy/sympy/pull/22117\n\nhttps://github.com/sympy/sympy/pull/22118",
    "created_at": "2021-09-19T12:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645900",
    "user": "https://github.com/oscarbenjamin"
}
```

<a id='comment:20'></a>
The Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:

https://github.com/sympy/sympy/pull/22117

https://github.com/sympy/sympy/pull/22118



---

archive/issue_comments_645901.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -34,4 +34,6 @@\n \n \n Follow-up tickets:\n-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+- #32542: Upgrade to sympy 1.9\n+- #32563: Drop support for sympy < 1.9\n+\n``````\n",
    "created_at": "2021-09-25T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645901",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -34,4 +34,6 @@
 
 
 Follow-up tickets:
-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+- #32542: Upgrade to sympy 1.9
+- #32563: Drop support for sympy < 1.9
+
``````




---

archive/issue_comments_645902.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,9 +4,7 @@\n \n Done:\n - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n-\n-Waiting for:\n-- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n+- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n \n Todo:\n - Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n``````\n",
    "created_at": "2021-09-25T18:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645902",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,9 +4,7 @@
 
 Done:
 - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
-
-Waiting for:
-- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
+- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
 
 Todo:
 - Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
``````




---

archive/issue_comments_645903.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75\">b41384a</a></td><td><code>src/sage/calculus/test_sympy.py, src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py: Make doctests pass with sympy 1.9 and <1.9</code></td></tr></table>\n",
    "created_at": "2021-09-25T18:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645903",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75">b41384a</a></td><td><code>src/sage/calculus/test_sympy.py, src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py: Make doctests pass with sympy 1.9 and <1.9</code></td></tr></table>




---

archive/issue_comments_645904.json:
```json
{
    "body": "**Changing commit** from \"[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)\" to \"[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)\".",
    "created_at": "2021-09-25T18:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645904",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[837c6001d381a8fc9fa14bd15f97031b9b007b6d](https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d)" to "[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)".



---

archive/issue_comments_645905.json:
```json
{
    "body": "<a id='comment:24'></a>\nI've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`",
    "created_at": "2021-09-25T18:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645905",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>
I've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`



---

archive/issue_comments_645906.json:
```json
{
    "body": "**Changing commit** from \"[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)\" to \"[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)\".",
    "created_at": "2021-09-25T19:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b41384a03ddd87b759c056b911d2eb0bf05afb75](https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75)" to "[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)".



---

archive/issue_comments_645907.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29\">28797f9</a></td><td><code>src/sage/calculus/calculus.py: Prepare laplace(dirac_delta) doctest for sympy 1.9</code></td></tr></table>\n",
    "created_at": "2021-09-25T19:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29">28797f9</a></td><td><code>src/sage/calculus/calculus.py: Prepare laplace(dirac_delta) doctest for sympy 1.9</code></td></tr></table>




---

archive/issue_comments_645908.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-09-25T19:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645908",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_645909.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,27 +5,8 @@\n Done:\n - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n-\n-Todo:\n-- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n-\n-  ```\n-  File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n-  Failed example:\n-      rsolve(f,u(n))\n-  Expected:\n-      2**(-n)*(C0 + C1*n)\n-  Got:\n-      (C0 + C1*n)/2**n\n-  \n-  File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n-  Failed example:\n-      rsolve(f, u(n), {u(0):-1,u(1):1})\n-  Expected:\n-      3 - 4*2**(-n)\n-  Got:\n-      3 - 4/2**n\n-  ```\n+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Relax doctest for `laplace(dirac_delta)`\n \n \n The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n``````\n",
    "created_at": "2021-09-25T19:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645909",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,27 +5,8 @@
 Done:
 - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
-
-Todo:
-- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
-
-  ```
-  File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
-  Failed example:
-      rsolve(f,u(n))
-  Expected:
-      2**(-n)*(C0 + C1*n)
-  Got:
-      (C0 + C1*n)/2**n
-  
-  File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
-  Failed example:
-      rsolve(f, u(n), {u(0):-1,u(1):1})
-  Expected:
-      3 - 4*2**(-n)
-  Got:
-      3 - 4/2**n
-  ```
+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Relax doctest for `laplace(dirac_delta)`
 
 
 The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
``````




---

archive/issue_comments_645910.json:
```json
{
    "body": "**Reviewer:** Antonio Rojas",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645910",
    "user": "https://github.com/antonio-rojas"
}
```

**Reviewer:** Antonio Rojas



---

archive/issue_comments_645911.json:
```json
{
    "body": "<a id='comment:29'></a>\nAll good here with 1.9-rc1",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645911",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:29'></a>
All good here with 1.9-rc1



---

archive/issue_comments_645912.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645912",
    "user": "https://github.com/antonio-rojas"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_645913.json:
```json
{
    "body": "<a id='comment:30'></a>\nThanks!",
    "created_at": "2021-09-26T15:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645913",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Thanks!



---

archive/issue_comments_645914.json:
```json
{
    "body": "**Changing status** from positive_review to needs_review.",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645914",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing status** from positive_review to needs_review.



---

archive/issue_comments_645915.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\">beed4e1</a></td><td><code>Merge tag '9.5.beta2' into t/32420/prepare_for_sympy_1_9</code></td></tr></table>\n",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645915",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8">beed4e1</a></td><td><code>Merge tag '9.5.beta2' into t/32420/prepare_for_sympy_1_9</code></td></tr></table>




---

archive/issue_comments_645916.json:
```json
{
    "body": "**Changing commit** from \"[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)\" to \"[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)\".",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645916",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[28797f945da0af77844d847505ce717587cfca29](https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29)" to "[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)".



---

archive/issue_comments_645917.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-09-30T22:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645917",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_645918.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)\" to \"[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)\".",
    "created_at": "2021-10-09T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645918",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/prepare_for_sympy_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/prepare_for_sympy_1_9)" to "[beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8](https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8)".



---

archive/issue_events_096713.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:09:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32420#event-96713"
}
```



---

archive/issue_comments_645919.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2021-10-09T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645919",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed
