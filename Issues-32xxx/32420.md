# Issue 32420: Prepare for sympy 1.9

archive/issues_032183.json:
```json
{
    "body": "https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n\nThere are some upcoming changes that will require changes to doctests.\n\nDone:\n- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n- Relax doctest for `laplace(dirac_delta)`\n\n\nThe branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n\n\nFollow-up tickets:\n- #32542: Upgrade to sympy 1.9\n- #32563: Drop support for sympy < 1.9\n\n\nCC:  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb\n\nBranch/Commit: beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\n\nReviewer: Antonio Rojas\n\nAuthor: Matthias Koeppe\n\nDependencies: #32418, #32461, #32449, #32514\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32420\n\n",
    "closed_at": "2021-10-09T11:09:50Z",
    "created_at": "2021-08-25T16:54:11Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Prepare for sympy 1.9",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32420",
    "user": "https://github.com/mkoeppe"
}
```
https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9

There are some upcoming changes that will require changes to doctests.

Done:
- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
- Relax doctest for `laplace(dirac_delta)`


The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941


Follow-up tickets:
- #32542: Upgrade to sympy 1.9
- #32563: Drop support for sympy < 1.9


CC:  @EmmanuelCharpentier @mwageringel @fchapoton @mforets @antonio-rojas @kiwifb

Branch/Commit: beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8

Reviewer: Antonio Rojas

Author: Matthias Koeppe

Dependencies: #32418, #32461, #32449, #32514

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32420





---

archive/issue_comments_645733.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/prepare_for_sympy_1_9\"",
    "created_at": "2021-08-25T18:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645733",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/prepare_for_sympy_1_9"



---

archive/issue_comments_645734.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645734",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_645735.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n There are some upcoming changes that will require changes to doctests.\n \n https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+\n+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+\n``````\n",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645735",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 There are some upcoming changes that will require changes to doctests.
 
 https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+
+The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+
``````




---

archive/issue_comments_645736.json:
```json
{
    "body": "Changing commit from \"\" to \"0fd70adedbf1f5d608d453db454e079604946945\"",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645736",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "0fd70adedbf1f5d608d453db454e079604946945"



---

archive/issue_comments_645737.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#32418\"",
    "created_at": "2021-08-25T19:00:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645737",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "" to "#32418"



---

archive/issue_comments_645738.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n There are some upcoming changes that will require changes to doctests.\n \n-https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n \n The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n``````\n",
    "created_at": "2021-08-25T23:15:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645738",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 There are some upcoming changes that will require changes to doctests.
 
-https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 
 The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
``````




---

archive/issue_comments_645739.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9\n+\n There are some upcoming changes that will require changes to doctests.\n \n - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n``````\n",
    "created_at": "2021-08-26T01:03:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645739",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+https://github.com/sympy/sympy/wiki/Release-Notes-for-1.9
+
 There are some upcoming changes that will require changes to doctests.
 
 - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
``````




---

archive/issue_comments_645740.json:
```json
{
    "body": "Changing commit from \"0fd70adedbf1f5d608d453db454e079604946945\" to \"266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e\"",
    "created_at": "2021-08-30T05:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645740",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0fd70adedbf1f5d608d453db454e079604946945" to "266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e"



---

archive/issue_comments_645741.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-30T05:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645741",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645742.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,7 @@\n \n - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n \n``````\n",
    "created_at": "2021-08-30T19:32:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645742",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,7 @@
 
 - https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
 The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
 
``````




---

archive/issue_comments_645743.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n-The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.\n+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n``````\n",
    "created_at": "2021-08-31T17:17:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645743",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
-The branch on this ticket is also used as the target for the sympy CI workflow added in this PR.
+The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
``````




---

archive/issue_comments_645744.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-01T03:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645744",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645745.json:
```json
{
    "body": "Changing commit from \"266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e\" to \"a0a5c0f4d65c700469b9ee09fb5df708eeded600\"",
    "created_at": "2021-09-01T03:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645745",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "266c3dd3e3b14346cd2b4b1554d8b5c581c22e6e" to "a0a5c0f4d65c700469b9ee09fb5df708eeded600"



---

archive/issue_comments_645746.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-09-01T03:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645746",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_645747.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,8 @@\n \n There are some upcoming changes that will require changes to doctests.\n \n-- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n \n``````\n",
    "created_at": "2021-09-06T23:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645747",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,8 @@
 
 There are some upcoming changes that will require changes to doctests.
 
-- https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
+- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
 - change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
 
``````




---

archive/issue_comments_645748.json:
```json
{
    "body": "Changing dependencies from \"#32418\" to \"#32418, #32461\"",
    "created_at": "2021-09-07T00:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645748",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#32418" to "#32418, #32461"



---

archive/issue_comments_645749.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-07T00:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645749",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645750.json:
```json
{
    "body": "Changing commit from \"a0a5c0f4d65c700469b9ee09fb5df708eeded600\" to \"6a796e7c77aa9bc3dbff61bf13d9831455916cbd\"",
    "created_at": "2021-09-07T00:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645750",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a0a5c0f4d65c700469b9ee09fb5df708eeded600" to "6a796e7c77aa9bc3dbff61bf13d9831455916cbd"



---

archive/issue_comments_645751.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,10 +2,35 @@\n \n There are some upcoming changes that will require changes to doctests.\n \n+Done:\n+- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n+\n+Waiting for:\n - Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n-- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n-- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+\n+Todo:\n+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+  {{{\n+File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n+Failed example:\n+    rsolve(f,u(n))\n+Expected:\n+    2**(-n)*(C0 + C1*n)\n+Got:\n+    (C0 + C1*n)/2**n\n+\n+File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n+Failed example:\n+    rsolve(f, u(n), {u(0):-1,u(1):1})\n+Expected:\n+    3 - 4*2**(-n)\n+Got:\n+    3 - 4/2**n\n+  }}}\n+\n \n The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n \n+\n+Follow-up tickets:\n+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n``````\n",
    "created_at": "2021-09-07T00:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645751",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,10 +2,35 @@
 
 There are some upcoming changes that will require changes to doctests.
 
+Done:
+- Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
+
+Waiting for:
 - Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
-- Some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
-- change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+
+Todo:
+- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+  {{{
+File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
+Failed example:
+    rsolve(f,u(n))
+Expected:
+    2**(-n)*(C0 + C1*n)
+Got:
+    (C0 + C1*n)/2**n
+
+File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
+Failed example:
+    rsolve(f, u(n), {u(0):-1,u(1):1})
+Expected:
+    3 - 4*2**(-n)
+Got:
+    3 - 4/2**n
+  }}}
+
 
 The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
 
+
+Follow-up tickets:
+- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
``````




---

archive/issue_comments_645752.json:
```json
{
    "body": "<a id='comment:14'></a>sympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.\n\nQuestion: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?",
    "created_at": "2021-09-07T00:11:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645752",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>sympy 1.9 will include a change to `heaviside` (https://github.com/sympy/sympy/pull/21452), defining it at 0.

Question: Will this require changes on our side (other than adjusting doctest output - waiting for possible printing changes in sympy https://github.com/sympy/sympy/issues/21945)?



---

archive/issue_comments_645753.json:
```json
{
    "body": "<a id='comment:15'></a>The sympy 1.9 release is imminent\n\nThe change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ",
    "created_at": "2021-09-11T04:21:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645753",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'></a>The sympy 1.9 release is imminent

The change to `heaviside` in sympy is also being discussed in https://groups.google.com/g/sympy/c/54iwY7KxlMA/m/lX-RlDfjBQAJ



---

archive/issue_comments_645754.json:
```json
{
    "body": "Changing dependencies from \"#32418, #32461\" to \"#32418, #32461, #32449\"",
    "created_at": "2021-09-14T19:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645754",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#32418, #32461" to "#32418, #32461, #32449"



---

archive/issue_comments_645755.json:
```json
{
    "body": "Changing commit from \"6a796e7c77aa9bc3dbff61bf13d9831455916cbd\" to \"ae145d9550ab41756a59aeb851840be37560dc2e\"",
    "created_at": "2021-09-14T19:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645755",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6a796e7c77aa9bc3dbff61bf13d9831455916cbd" to "ae145d9550ab41756a59aeb851840be37560dc2e"



---

archive/issue_comments_645756.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T19:52:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645757.json:
```json
{
    "body": "Changing dependencies from \"#32418, #32461, #32449\" to \"#32418, #32461, #32449, #32514\"",
    "created_at": "2021-09-17T17:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645757",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#32418, #32461, #32449" to "#32418, #32461, #32449, #32514"



---

archive/issue_comments_645758.json:
```json
{
    "body": "Changing commit from \"ae145d9550ab41756a59aeb851840be37560dc2e\" to \"837c6001d381a8fc9fa14bd15f97031b9b007b6d\"",
    "created_at": "2021-09-17T17:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ae145d9550ab41756a59aeb851840be37560dc2e" to "837c6001d381a8fc9fa14bd15f97031b9b007b6d"



---

archive/issue_comments_645759.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-17T17:15:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645760.json:
```json
{
    "body": "<a id='comment:20'></a>The Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:\n\nhttps://github.com/sympy/sympy/pull/22117\n\nhttps://github.com/sympy/sympy/pull/22118",
    "created_at": "2021-09-19T12:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645760",
    "user": "https://github.com/oscarbenjamin"
}
```

<a id='comment:20'></a>The Heaviside printing issue in SymPy has been resolved and the printing change was reverted in SymPy master and the 1.9 release branch:

https://github.com/sympy/sympy/pull/22117

https://github.com/sympy/sympy/pull/22118



---

archive/issue_comments_645761.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -33,4 +33,6 @@\n \n \n Follow-up tickets:\n-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893\n+- #32542: Upgrade to sympy 1.9\n+- #32563: Drop support for sympy < 1.9\n+\n``````\n",
    "created_at": "2021-09-25T18:21:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645761",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -33,4 +33,6 @@
 
 
 Follow-up tickets:
-- some of the `sympy_init` calls (in particular in the doctests) will no longer be needed if we require sympy >= 1.9 - https://github.com/sympy/sympy/pull/21958#discussion_r698749893
+- #32542: Upgrade to sympy 1.9
+- #32563: Drop support for sympy < 1.9
+
``````




---

archive/issue_comments_645762.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,9 +4,7 @@\n \n Done:\n - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n-\n-Waiting for:\n-- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)\n+- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n \n Todo:\n - Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n``````\n",
    "created_at": "2021-09-25T18:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645762",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,9 +4,7 @@
 
 Done:
 - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
-
-Waiting for:
-- Change to `heaviside` (https://github.com/sympy/sympy/issues/21945)
+- Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
 
 Todo:
 - Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
``````




---

archive/issue_comments_645763.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-25T18:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645763",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645764.json:
```json
{
    "body": "Changing commit from \"837c6001d381a8fc9fa14bd15f97031b9b007b6d\" to \"b41384a03ddd87b759c056b911d2eb0bf05afb75\"",
    "created_at": "2021-09-25T18:37:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645764",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "837c6001d381a8fc9fa14bd15f97031b9b007b6d" to "b41384a03ddd87b759c056b911d2eb0bf05afb75"



---

archive/issue_comments_645765.json:
```json
{
    "body": "<a id='comment:24'></a>I've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`",
    "created_at": "2021-09-25T18:59:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645765",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>I've opened #32564 for the more general issue of expression conversions involving `heaviside(0)`



---

archive/issue_comments_645766.json:
```json
{
    "body": "Changing commit from \"b41384a03ddd87b759c056b911d2eb0bf05afb75\" to \"28797f945da0af77844d847505ce717587cfca29\"",
    "created_at": "2021-09-25T19:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645766",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "b41384a03ddd87b759c056b911d2eb0bf05afb75" to "28797f945da0af77844d847505ce717587cfca29"



---

archive/issue_comments_645767.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-25T19:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645767",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_645768.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-25T19:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645768",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_645769.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,26 +5,8 @@\n Done:\n - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750\n - Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream\n-\n-Todo:\n-- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n-  {{{\n-File \"src/sage/calculus/test_sympy.py\", line 196, in sage.calculus.test_sympy\n-Failed example:\n-    rsolve(f,u(n))\n-Expected:\n-    2**(-n)*(C0 + C1*n)\n-Got:\n-    (C0 + C1*n)/2**n\n-\n-File \"src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py\", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest\n-Failed example:\n-    rsolve(f, u(n), {u(0):-1,u(1):1})\n-Expected:\n-    3 - 4*2**(-n)\n-Got:\n-    3 - 4/2**n\n-  }}}\n+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713\n+- Relax doctest for `laplace(dirac_delta)`\n \n \n The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941\n``````\n",
    "created_at": "2021-09-25T19:16:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645769",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,26 +5,8 @@
 Done:
 - Adjust tests to change in printing of `FiniteSet` https://github.com/sympy/sympy/pull/21941#issuecomment-905930750
 - Changes to `heaviside` (https://github.com/sympy/sympy/issues/21945) were reverted or resolved otherwise (https://github.com/sympy/sympy/pull/22117, https://github.com/sympy/sympy/pull/22117) by upstream
-
-Todo:
-- Adjust tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
-  {{{
-File "src/sage/calculus/test_sympy.py", line 196, in sage.calculus.test_sympy
-Failed example:
-    rsolve(f,u(n))
-Expected:
-    2**(-n)*(C0 + C1*n)
-Got:
-    (C0 + C1*n)/2**n
-
-File "src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py", line 377, in sage.tests.books.computational-mathematics-with-sagemath.recequadiff_doctest
-Failed example:
-    rsolve(f, u(n), {u(0):-1,u(1):1})
-Expected:
-    3 - 4*2**(-n)
-Got:
-    3 - 4/2**n
-  }}}
+- Adjusted tests to some changes to expression formatting https://github.com/sympy/sympy/pull/21941#issuecomment-905386713
+- Relax doctest for `laplace(dirac_delta)`
 
 
 The branch on this ticket is also currently used as the target for the CI workflow https://github.com/sympy/sympy/blob/master/.github/workflows/ci-sage.yml added in PR https://github.com/sympy/sympy/pull/21941
``````




---

archive/issue_comments_645770.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Antonio Rojas\"",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645770",
    "user": "https://github.com/antonio-rojas"
}
```

Changing reviewer from "" to "Antonio Rojas"



---

archive/issue_comments_645771.json:
```json
{
    "body": "<a id='comment:29'></a>All good here with 1.9-rc1",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645771",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:29'></a>All good here with 1.9-rc1



---

archive/issue_comments_645772.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-26T07:15:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645772",
    "user": "https://github.com/antonio-rojas"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_645773.json:
```json
{
    "body": "<a id='comment:30'></a>Thanks!",
    "created_at": "2021-09-26T15:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645773",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>Thanks!



---

archive/issue_comments_645774.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645774",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_645775.json:
```json
{
    "body": "<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645775",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_645776.json:
```json
{
    "body": "Changing commit from \"28797f945da0af77844d847505ce717587cfca29\" to \"beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\"",
    "created_at": "2021-09-30T22:57:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645776",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "28797f945da0af77844d847505ce717587cfca29" to "beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8"



---

archive/issue_comments_645777.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-30T22:58:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645777",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_645778.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/prepare_for_sympy_1_9\" to \"beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\"",
    "created_at": "2021-10-09T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645778",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/prepare_for_sympy_1_9" to "beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8"



---

archive/issue_events_086005.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:09:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32420#event-86005"
}
```



---

archive/issue_comments_645779.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-09T11:09:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32420",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32420#issuecomment-645779",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
