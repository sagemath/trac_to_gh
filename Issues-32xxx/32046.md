# Issue 32046: Use pip --use-feature=in-tree-build, replace use of sdh_setup_bdist_wheel by sdh_pip_install

archive/issues_031809.json:
```json
{
    "body": "This is a feature added in pip 21.1.\n\nWe can now build wheels for all packages using `pip wheel`, even those with symlinks or that need in-tree configuration files. Direct invocation of `setup.py bdist_wheel` is no longer necessary.\n\n\nCC:  @jhpalmieri @kliem @isuruf\n\nBranch/Commit: 290fa2ff50ca053d726bb0a1a8e0470a66040c26\n\nReviewer: John Palmieri\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32046\n\n",
    "closed_at": "2021-08-31T22:00:50Z",
    "created_at": "2021-06-23T18:43:30Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Use pip --use-feature=in-tree-build, replace use of sdh_setup_bdist_wheel by sdh_pip_install",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32046",
    "user": "https://github.com/mkoeppe"
}
```
This is a feature added in pip 21.1.

We can now build wheels for all packages using `pip wheel`, even those with symlinks or that need in-tree configuration files. Direct invocation of `setup.py bdist_wheel` is no longer necessary.


CC:  @jhpalmieri @kliem @isuruf

Branch/Commit: 290fa2ff50ca053d726bb0a1a8e0470a66040c26

Reviewer: John Palmieri

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32046





---

archive/issue_comments_638069.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install\"",
    "created_at": "2021-06-23T19:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638069",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install"



---

archive/issue_comments_638070.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|\n|[a1e78f2](https://github.com/sagemath/sagetrac-mirror/commit/a1e78f226cd7d81a5af85866c1db530361453b21)|`build/pkgs/pillow/spkg-install.in: Switch from sdh_setup_bdist_wheel to sdh_pip_install, fix quoting of CONDA_PREFIX with whitespace`|\n|[6166a8c](https://github.com/sagemath/sagetrac-mirror/commit/6166a8c07067740b495a5ff63104cbfe919a74b5)|`build/bin/sage-dist-helpers: Generalize sdh_globaloptionify to sdh_prefix_args`|\n|[2dae827](https://github.com/sagemath/sagetrac-mirror/commit/2dae827aa6542798105df5deca76e910943494c1)|`build/pkgs/jupyter_jsmol/spkg-install.in: Switch from sdh_setup_bdist_wheel to sdh_pip_install`|\n|[f358345](https://github.com/sagemath/sagetrac-mirror/commit/f3583457677284130daed94f8a96e480714fcec9)|`build/pkgs/python_igraph/spkg-install.in: Switch from sdh_setup_bdist_wheel to sdh_pip_install`|",
    "created_at": "2021-06-23T20:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638070",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|
|[a1e78f2](https://github.com/sagemath/sagetrac-mirror/commit/a1e78f226cd7d81a5af85866c1db530361453b21)|`build/pkgs/pillow/spkg-install.in: Switch from sdh_setup_bdist_wheel to sdh_pip_install, fix quoting of CONDA_PREFIX with whitespace`|
|[6166a8c](https://github.com/sagemath/sagetrac-mirror/commit/6166a8c07067740b495a5ff63104cbfe919a74b5)|`build/bin/sage-dist-helpers: Generalize sdh_globaloptionify to sdh_prefix_args`|
|[2dae827](https://github.com/sagemath/sagetrac-mirror/commit/2dae827aa6542798105df5deca76e910943494c1)|`build/pkgs/jupyter_jsmol/spkg-install.in: Switch from sdh_setup_bdist_wheel to sdh_pip_install`|
|[f358345](https://github.com/sagemath/sagetrac-mirror/commit/f3583457677284130daed94f8a96e480714fcec9)|`build/pkgs/python_igraph/spkg-install.in: Switch from sdh_setup_bdist_wheel to sdh_pip_install`|



---

archive/issue_comments_638071.json:
```json
{
    "body": "Changing commit from \"\" to \"f3583457677284130daed94f8a96e480714fcec9\"",
    "created_at": "2021-06-23T20:24:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638071",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "f3583457677284130daed94f8a96e480714fcec9"



---

archive/issue_comments_638072.json:
```json
{
    "body": "Changing commit from \"f3583457677284130daed94f8a96e480714fcec9\" to \"413f6b5c4be4286f6b7c411e498129b16fbc77f0\"",
    "created_at": "2021-06-23T20:35:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638072",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f3583457677284130daed94f8a96e480714fcec9" to "413f6b5c4be4286f6b7c411e498129b16fbc77f0"



---

archive/issue_comments_638073.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|\n|[a1d33bc](https://github.com/sagemath/sagetrac-mirror/commit/a1d33bc99aa357c9cca692b311f9eadb922f2950)|`build/pkgs/pillow/spkg-install.in, build/bin/sage-dist-helpers: Remove debugging code`|\n|[413f6b5](https://github.com/sagemath/sagetrac-mirror/commit/413f6b5c4be4286f6b7c411e498129b16fbc77f0)|`build/pkgs/{jupyter_jsmol,python_igraph,pillow}/spkg-install.in: Use --build-option, not --global-option`|",
    "created_at": "2021-06-23T20:35:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|[a1d33bc](https://github.com/sagemath/sagetrac-mirror/commit/a1d33bc99aa357c9cca692b311f9eadb922f2950)|`build/pkgs/pillow/spkg-install.in, build/bin/sage-dist-helpers: Remove debugging code`|
|[413f6b5](https://github.com/sagemath/sagetrac-mirror/commit/413f6b5c4be4286f6b7c411e498129b16fbc77f0)|`build/pkgs/{jupyter_jsmol,python_igraph,pillow}/spkg-install.in: Use --build-option, not --global-option`|



---

archive/issue_comments_638074.json:
```json
{
    "body": "<a id='comment:4'></a>\nA similar change can be done with `numpy`, but to avoid conflicts, that's best done in #32021 or #31565",
    "created_at": "2021-06-23T20:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638074",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
A similar change can be done with `numpy`, but to avoid conflicts, that's best done in #32021 or #31565



---

archive/issue_comments_638075.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-23T20:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638075",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_638076.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-06-23T20:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638076",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_638077.json:
```json
{
    "body": "<a id='comment:5'></a>\nDo we need to change `build/pkgs/pip/install-requires.txt` to require at least version 21.1?",
    "created_at": "2021-06-27T22:19:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638077",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
Do we need to change `build/pkgs/pip/install-requires.txt` to require at least version 21.1?



---

archive/issue_comments_638078.json:
```json
{
    "body": "<a id='comment:6'></a>\nYes, it's a good idea to update it to document this lower bound - although technically pip's lower bound is not used - pip does not appear in `build/pkgs/sagelib/src/pyproject.toml.m4` nor `build/pkgs/sagelib/src/setup.cfg.m4`.",
    "created_at": "2021-06-27T22:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638078",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
Yes, it's a good idea to update it to document this lower bound - although technically pip's lower bound is not used - pip does not appear in `build/pkgs/sagelib/src/pyproject.toml.m4` nor `build/pkgs/sagelib/src/setup.cfg.m4`.



---

archive/issue_comments_638079.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                         |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|\n|[8c5ee65](https://github.com/sagemath/sagetrac-mirror/commit/8c5ee65a8872549cdfcce321bbee8bef81b57ccb)|`build/pkgs/pip/install-requires.txt: Update lower bound`|",
    "created_at": "2021-06-27T22:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                         |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|
|[8c5ee65](https://github.com/sagemath/sagetrac-mirror/commit/8c5ee65a8872549cdfcce321bbee8bef81b57ccb)|`build/pkgs/pip/install-requires.txt: Update lower bound`|



---

archive/issue_comments_638080.json:
```json
{
    "body": "Changing commit from \"413f6b5c4be4286f6b7c411e498129b16fbc77f0\" to \"8c5ee65a8872549cdfcce321bbee8bef81b57ccb\"",
    "created_at": "2021-06-27T22:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "413f6b5c4be4286f6b7c411e498129b16fbc77f0" to "8c5ee65a8872549cdfcce321bbee8bef81b57ccb"



---

archive/issue_comments_638081.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [mkoeppe](#comment%3A6):\n> Yes, it's a good idea to update it to document this lower bound - although technically pip's lower bound is not used - pip does not appear in `build/pkgs/sagelib/src/pyproject.toml.m4` nor `build/pkgs/sagelib/src/setup.cfg.m4`.\n\n\nSo what happens if someone has a system version of pip installed that doesn't support `--use-feature=in-tree-build`?",
    "created_at": "2021-06-28T03:41:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638081",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>
Replying to [mkoeppe](#comment%3A6):
> Yes, it's a good idea to update it to document this lower bound - although technically pip's lower bound is not used - pip does not appear in `build/pkgs/sagelib/src/pyproject.toml.m4` nor `build/pkgs/sagelib/src/setup.cfg.m4`.


So what happens if someone has a system version of pip installed that doesn't support `--use-feature=in-tree-build`?



---

archive/issue_comments_638082.json:
```json
{
    "body": "<a id='comment:9'></a>\nWe don't use any system Python packages, even when we use system Python.",
    "created_at": "2021-06-28T03:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638082",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
We don't use any system Python packages, even when we use system Python.



---

archive/issue_comments_638083.json:
```json
{
    "body": "<a id='comment:10'></a>\nAre you saying that we always build and use our own pip? Are the entries in `pip/distros` ignored?",
    "created_at": "2021-06-28T04:35:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638083",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:10'></a>
Are you saying that we always build and use our own pip? Are the entries in `pip/distros` ignored?



---

archive/issue_comments_638084.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jhpalmieri](#comment%3A10):\n> Are you saying that we always build and use our own pip? \n\n\nThat's right. See `build/bin/sage-venv`, which is the script that we use to set up our venv over the system Python. https://docs.python.org/3/library/venv.html#venv.EnvBuilder `with_pip` defaults to False; and we also use `system_site_packages=False`.\nWe then bootstrap `setuptools`, `pip`, and `wheel` in our empty virtual environment -- same as we do when we build our own python.\n\n> Are the entries in `pip/distros` ignored?\n\n\nYes, they are only decoration. There is currently only one use-case for Python system packages, and that is a conda development environment (see `src/environment.yml`).",
    "created_at": "2021-06-28T04:44:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638084",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Replying to [jhpalmieri](#comment%3A10):
> Are you saying that we always build and use our own pip? 


That's right. See `build/bin/sage-venv`, which is the script that we use to set up our venv over the system Python. https://docs.python.org/3/library/venv.html#venv.EnvBuilder `with_pip` defaults to False; and we also use `system_site_packages=False`.
We then bootstrap `setuptools`, `pip`, and `wheel` in our empty virtual environment -- same as we do when we build our own python.

> Are the entries in `pip/distros` ignored?


Yes, they are only decoration. There is currently only one use-case for Python system packages, and that is a conda development environment (see `src/environment.yml`).



---

archive/issue_comments_638085.json:
```json
{
    "body": "Changing work_issues from \"\" to \"rebase\"",
    "created_at": "2021-07-24T19:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638085",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "" to "rebase"



---

archive/issue_comments_638086.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-24T19:10:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638086",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_638087.json:
```json
{
    "body": "Changing commit from \"8c5ee65a8872549cdfcce321bbee8bef81b57ccb\" to \"ed5f9f0c9219a86a85cd46df588414c920b063b9\"",
    "created_at": "2021-07-24T19:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638087",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "8c5ee65a8872549cdfcce321bbee8bef81b57ccb" to "ed5f9f0c9219a86a85cd46df588414c920b063b9"



---

archive/issue_comments_638088.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|\n|[ed5f9f0](https://github.com/sagemath/sagetrac-mirror/commit/ed5f9f0c9219a86a85cd46df588414c920b063b9)|`Merge tag '9.4.beta6' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install`|",
    "created_at": "2021-07-24T19:14:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
|[ed5f9f0](https://github.com/sagemath/sagetrac-mirror/commit/ed5f9f0c9219a86a85cd46df588414c920b063b9)|`Merge tag '9.4.beta6' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install`|



---

archive/issue_comments_638089.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-24T19:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638089",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_095403.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:14:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32046#event-95403"
}
```



---

archive/issue_comments_638090.json:
```json
{
    "body": "Changing work_issues from \"rebase\" to \"\"",
    "created_at": "2021-07-24T19:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638090",
    "user": "https://github.com/mkoeppe"
}
```

Changing work_issues from "rebase" to ""



---

archive/issue_comments_638091.json:
```json
{
    "body": "<a id='comment:16'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|\n|[85d1d27](https://github.com/sagemath/sagetrac-mirror/commit/85d1d2716188e67b85b48838c52d8f919f7244ef)|`Merge tag '9.4.rc1' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install`|",
    "created_at": "2021-08-12T20:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
|[85d1d27](https://github.com/sagemath/sagetrac-mirror/commit/85d1d2716188e67b85b48838c52d8f919f7244ef)|`Merge tag '9.4.rc1' into t/32046/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install`|



---

archive/issue_comments_638092.json:
```json
{
    "body": "Changing commit from \"ed5f9f0c9219a86a85cd46df588414c920b063b9\" to \"85d1d2716188e67b85b48838c52d8f919f7244ef\"",
    "created_at": "2021-08-12T20:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ed5f9f0c9219a86a85cd46df588414c920b063b9" to "85d1d2716188e67b85b48838c52d8f919f7244ef"



---

archive/issue_comments_638093.json:
```json
{
    "body": "Changing commit from \"85d1d2716188e67b85b48838c52d8f919f7244ef\" to \"050f8df9a056a966e4fed9371ddb6244d0cb18f2\"",
    "created_at": "2021-08-12T21:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "85d1d2716188e67b85b48838c52d8f919f7244ef" to "050f8df9a056a966e4fed9371ddb6244d0cb18f2"



---

archive/issue_comments_638094.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[050f8df](https://github.com/sagemath/sagetrac-mirror/commit/050f8df9a056a966e4fed9371ddb6244d0cb18f2)|`build/pkgs/numpy/spkg-install.in: Use sdh_pip_install, sdh_prefix_args`|",
    "created_at": "2021-08-12T21:07:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[050f8df](https://github.com/sagemath/sagetrac-mirror/commit/050f8df9a056a966e4fed9371ddb6244d0cb18f2)|`build/pkgs/numpy/spkg-install.in: Use sdh_pip_install, sdh_prefix_args`|



---

archive/issue_comments_638095.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [mkoeppe](#comment%3A4):\n> A similar change can be done with `numpy`, but to avoid conflicts, that's best done in #32021 or #31565\n\n\nI've made the change now",
    "created_at": "2021-08-12T21:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638095",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>
Replying to [mkoeppe](#comment%3A4):
> A similar change can be done with `numpy`, but to avoid conflicts, that's best done in #32021 or #31565


I've made the change now



---

archive/issue_comments_638096.json:
```json
{
    "body": "Changing commit from \"050f8df9a056a966e4fed9371ddb6244d0cb18f2\" to \"290fa2ff50ca053d726bb0a1a8e0470a66040c26\"",
    "created_at": "2021-08-12T22:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "050f8df9a056a966e4fed9371ddb6244d0cb18f2" to "290fa2ff50ca053d726bb0a1a8e0470a66040c26"



---

archive/issue_comments_638097.json:
```json
{
    "body": "<a id='comment:19'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[290fa2f](https://github.com/sagemath/sagetrac-mirror/commit/290fa2ff50ca053d726bb0a1a8e0470a66040c26)|`build/pkgs/sagelib/src: Restore lost symlink`|",
    "created_at": "2021-08-12T22:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[290fa2f](https://github.com/sagemath/sagetrac-mirror/commit/290fa2ff50ca053d726bb0a1a8e0470a66040c26)|`build/pkgs/sagelib/src: Restore lost symlink`|



---

archive/issue_comments_638098.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-16T20:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638098",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_638099.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2021-08-16T20:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638099",
    "user": "https://github.com/jhpalmieri"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_638100.json:
```json
{
    "body": "<a id='comment:20'></a>\nOkay, let's merge it. It works for me on OS X. I haven't tested with conda, but the changes make sense.",
    "created_at": "2021-08-16T20:25:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638100",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>
Okay, let's merge it. It works for me on OS X. I haven't tested with conda, but the changes make sense.



---

archive/issue_comments_638101.json:
```json
{
    "body": "<a id='comment:21'></a>\nThanks!",
    "created_at": "2021-08-16T20:44:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638101",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Thanks!



---

archive/issue_comments_638102.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-08-31T22:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638102",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_095404.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-31T22:00:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32046#event-95404"
}
```



---

archive/issue_comments_638103.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install\" to \"290fa2ff50ca053d726bb0a1a8e0470a66040c26\"",
    "created_at": "2021-08-31T22:00:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32046#issuecomment-638103",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/use_pip___use_feature_in_tree_build__replace_use_of_sdh_setup_bdist_wheel_by_sdh_pip_install" to "290fa2ff50ca053d726bb0a1a8e0470a66040c26"
