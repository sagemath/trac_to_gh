# Issue 32958: findstat: enforce limit on how many elements to compute

archive/issues_032721.json:
```json
{
    "body": "If a statistic is hard to compute we may want to limit the number of terms that are computed upon submission:\n\n```\nsage: s = findstat(\"Dyck paths\", hard_statistic, max_values=100); s\nSt000000: a new statistic on Dyck paths\nsage: s.submit(max_values=100)\n```\nPreviously, this computed `FINDSTAT_MAX_SUBMISSION_VALUES` values anyway.\n\nKeywords: findstat\n\nBranch/Commit: cbeebc648544fea54791e87f36746772f59a4a8a\n\nReviewer: Travis Scrimshaw\n\nAuthor: Martin Rubey\n\nDependencies: #32694\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32958\n\n",
    "closed_at": "2022-02-27T22:00:32Z",
    "created_at": "2021-12-02T10:29:08Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "findstat: enforce limit on how many elements to compute",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32958",
    "user": "https://github.com/mantepse"
}
```
If a statistic is hard to compute we may want to limit the number of terms that are computed upon submission:

```
sage: s = findstat("Dyck paths", hard_statistic, max_values=100); s
St000000: a new statistic on Dyck paths
sage: s.submit(max_values=100)
```
Previously, this computed `FINDSTAT_MAX_SUBMISSION_VALUES` values anyway.

Keywords: findstat

Branch/Commit: cbeebc648544fea54791e87f36746772f59a4a8a

Reviewer: Travis Scrimshaw

Author: Martin Rubey

Dependencies: #32694

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32958





---

archive/issue_comments_657164.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/do_not_compute_more_elements_than_asked_for_on_submission\"",
    "created_at": "2021-12-02T10:30:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657164",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/do_not_compute_more_elements_than_asked_for_on_submission"



---

archive/issue_comments_657165.json:
```json
{
    "body": "Changing author from \"\" to \"mantepse\"",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657165",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "mantepse"



---

archive/issue_comments_657166.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[e142c39](https://git.sagemath.org/sage.git/commit?id=e142c3973ae87efad72b25ccf57ae401dbeab8f9)|`add optional argument to first_terms`|",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657166",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[e142c39](https://git.sagemath.org/sage.git/commit?id=e142c3973ae87efad72b25ccf57ae401dbeab8f9)|`add optional argument to first_terms`|



---

archive/issue_comments_657167.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657167",
    "user": "https://github.com/mantepse"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_657168.json:
```json
{
    "body": "Changing commit from \"\" to \"e142c3973ae87efad72b25ccf57ae401dbeab8f9\"",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657168",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "e142c3973ae87efad72b25ccf57ae401dbeab8f9"



---

archive/issue_comments_657169.json:
```json
{
    "body": "Changing keywords from \"\" to \"findstat\".",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657169",
    "user": "https://github.com/mantepse"
}
```

Changing keywords from "" to "findstat".



---

archive/issue_comments_657170.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657170",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_657171.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,8 @@\n+If a statistic is hard to compute we may want to limit the number of terms that are computed upon submission:\n \n+```\n+sage: s = findstat(\"Dyck paths\", hard_statistic, max_values=100); s\n+St000000: a new statistic on Dyck paths\n+sage: s.submit(max_values=100)\n+```\n+Previously, this computed `FINDSTAT_MAX_SUBMISSION_VALUES` values anyway.\n``````\n",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657171",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,8 @@
+If a statistic is hard to compute we may want to limit the number of terms that are computed upon submission:
 
+```
+sage: s = findstat("Dyck paths", hard_statistic, max_values=100); s
+St000000: a new statistic on Dyck paths
+sage: s.submit(max_values=100)
+```
+Previously, this computed `FINDSTAT_MAX_SUBMISSION_VALUES` values anyway.
``````




---

archive/issue_comments_657172.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to combinatorics.",
    "created_at": "2021-12-02T10:34:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657172",
    "user": "https://github.com/mantepse"
}
```

Changing component from PLEASE CHANGE to combinatorics.



---

archive/issue_comments_657173.json:
```json
{
    "body": "Changing author from \"mantepse\" to \"Martin Rubey\"",
    "created_at": "2021-12-02T10:35:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657173",
    "user": "https://github.com/mantepse"
}
```

Changing author from "mantepse" to "Martin Rubey"



---

archive/issue_comments_657174.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[cd0dd7f](https://git.sagemath.org/sage.git/commit/?id=cd0dd7fa0c2c54c057f27210d905df62b182583b)|`fix maximal depth`|",
    "created_at": "2021-12-03T09:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657174",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[cd0dd7f](https://git.sagemath.org/sage.git/commit/?id=cd0dd7fa0c2c54c057f27210d905df62b182583b)|`fix maximal depth`|



---

archive/issue_comments_657175.json:
```json
{
    "body": "Changing commit from \"e142c3973ae87efad72b25ccf57ae401dbeab8f9\" to \"cd0dd7fa0c2c54c057f27210d905df62b182583b\"",
    "created_at": "2021-12-03T09:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e142c3973ae87efad72b25ccf57ae401dbeab8f9" to "cd0dd7fa0c2c54c057f27210d905df62b182583b"



---

archive/issue_comments_657176.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[f0e5f85](https://git.sagemath.org/sage.git/commit/?id=f0e5f85e9d961592fb27dc379e0bb9bdeb72f1dd)|`fix doctests and add info method`|\n|[3889263](https://git.sagemath.org/sage.git/commit/?id=3889263d1b06cdb73f14b3d7fc580ed2c9399ba1)|`Merge branch 'u/mantepse/9_internet_doctests_failing_in_src_sage_databases_findstat_py' of git://trac.sagemath.org/sage into t/32958/do_not_compute_more_elements_than_asked_for_on_submission`|\n|[9469495](https://git.sagemath.org/sage.git/commit/?id=946949524fae2dff8c3deb47822e8002c22584c8)|`fix doctest`|",
    "created_at": "2021-12-12T20:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[f0e5f85](https://git.sagemath.org/sage.git/commit/?id=f0e5f85e9d961592fb27dc379e0bb9bdeb72f1dd)|`fix doctests and add info method`|
|[3889263](https://git.sagemath.org/sage.git/commit/?id=3889263d1b06cdb73f14b3d7fc580ed2c9399ba1)|`Merge branch 'u/mantepse/9_internet_doctests_failing_in_src_sage_databases_findstat_py' of git://trac.sagemath.org/sage into t/32958/do_not_compute_more_elements_than_asked_for_on_submission`|
|[9469495](https://git.sagemath.org/sage.git/commit/?id=946949524fae2dff8c3deb47822e8002c22584c8)|`fix doctest`|



---

archive/issue_comments_657177.json:
```json
{
    "body": "Changing commit from \"cd0dd7fa0c2c54c057f27210d905df62b182583b\" to \"946949524fae2dff8c3deb47822e8002c22584c8\"",
    "created_at": "2021-12-12T20:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657177",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "cd0dd7fa0c2c54c057f27210d905df62b182583b" to "946949524fae2dff8c3deb47822e8002c22584c8"



---

archive/issue_comments_657178.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#32694\"",
    "created_at": "2021-12-12T20:22:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657178",
    "user": "https://github.com/mantepse"
}
```

Changing dependencies from "" to "#32694"



---

archive/issue_events_087081.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32958#event-87081"
}
```



---

archive/issue_comments_657179.json:
```json
{
    "body": "Changing commit from \"946949524fae2dff8c3deb47822e8002c22584c8\" to \"c20f7bc9e71c06b483f89d96b3990e6a86949231\"",
    "created_at": "2022-02-14T20:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657179",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "946949524fae2dff8c3deb47822e8002c22584c8" to "c20f7bc9e71c06b483f89d96b3990e6a86949231"



---

archive/issue_comments_657180.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|\n|[3da274f](https://git.sagemath.org/sage.git/commit/?id=3da274f1441b39a2972ee7a6d94257d04e58d06e)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/32958/do_not_compute_more_elements_than_asked_for_on_submission`|\n|[c20f7bc](https://git.sagemath.org/sage.git/commit/?id=c20f7bc9e71c06b483f89d96b3990e6a86949231)|`remove obsolete code`|",
    "created_at": "2022-02-14T20:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
|[3da274f](https://git.sagemath.org/sage.git/commit/?id=3da274f1441b39a2972ee7a6d94257d04e58d06e)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/32958/do_not_compute_more_elements_than_asked_for_on_submission`|
|[c20f7bc](https://git.sagemath.org/sage.git/commit/?id=c20f7bc9e71c06b483f89d96b3990e6a86949231)|`remove obsolete code`|



---

archive/issue_comments_657181.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-15T05:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657181",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_657182.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2022-02-15T05:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657182",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_657183.json:
```json
{
    "body": "<a id='comment:10'></a>\nLGTM.",
    "created_at": "2022-02-15T05:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657183",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
LGTM.



---

archive/issue_comments_657184.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2022-02-20T10:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657184",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_657185.json:
```json
{
    "body": "<a id='comment:11'></a>\n\n```\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1020, in sage.databases.findstat.?\nFailed example:\n    findstat(\"Permutations\", lambda x: 1, depth=\"x\")\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: E021: Depth should be a non-negative integer at most 9, but is x.\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"sage/misc/cachefunc.pyx\", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)\n        return self.cache[k]\n      File \"sage/misc/weak_dict.pyx\", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)\n        raise KeyError(k)\n    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 169, in _new_conn\n        conn = connection.create_connection(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 96, in create_connection\n        raise err\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 86, in create_connection\n        sock.connect(sa)\n    OSError: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 696, in urlopen\n        self._prepare_proxy(conn)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 964, in _prepare_proxy\n        conn.connect()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 353, in connect\n        conn = self._new_conn()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 181, in _new_conn\n        raise NewConnectionError(\n    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 439, in send\n        resp = conn.urlopen(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 755, in urlopen\n        retries = retries.increment(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py\", line 574, in increment\n        raise MaxRetryError(_pool, url, error or ResponseError(cause))\n    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.databases.findstat.?[1]>\", line 1, in <module>\n        findstat(\"Permutations\", lambda x: Integer(1), depth=\"x\")\n      File \"sage/misc/lazy_import.pyx\", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)\n        return self.get_object()(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 1107, in findstat\n        domain = FindStatCollection(domain)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4014, in __classcall_private__\n        return FindStatCollections()(entry)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)\n        w = self.f(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py\", line 1007, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"sage/misc/classcall_metaclass.pyx\", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)\n        return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4639, in __init__\n        d = _get_json(url, object_pairs_hook=OrderedDict)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 439, in _get_json\n        response = requests.get(url)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 75, in get\n        return request('get', url, params=params, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 61, in request\n        return session.request(method=method, url=url, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 542, in request\n        resp = self.send(prep, **send_kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 655, in send\n        r = adapter.send(request, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 510, in send\n        raise ProxyError(e, request=request)\n    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))\n**********************************************************************\nFile \"src/sage/databases/findstat.py\", line 1025, in sage.databases.findstat.?\nFailed example:\n    findstat(\"Permutations\", lambda x: 1, depth=100)\nExpected:\n    Traceback (most recent call last):\n    ...\n    ValueError: E021: Depth should be a non-negative integer at most 9, but is 100.\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"sage/misc/cachefunc.pyx\", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)\n        return self.cache[k]\n      File \"sage/misc/weak_dict.pyx\", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)\n        raise KeyError(k)\n    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 169, in _new_conn\n        conn = connection.create_connection(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 96, in create_connection\n        raise err\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py\", line 86, in create_connection\n        sock.connect(sa)\n    OSError: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 696, in urlopen\n        self._prepare_proxy(conn)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 964, in _prepare_proxy\n        conn.connect()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 353, in connect\n        conn = self._new_conn()\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py\", line 181, in _new_conn\n        raise NewConnectionError(\n    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 439, in send\n        resp = conn.urlopen(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 755, in urlopen\n        retries = retries.increment(\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py\", line 574, in increment\n        raise MaxRetryError(_pool, url, error or ResponseError(cause))\n    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))\n    <BLANKLINE>\n    During handling of the above exception, another exception occurred:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.databases.findstat.?[2]>\", line 1, in <module>\n        findstat(\"Permutations\", lambda x: Integer(1), depth=Integer(100))\n      File \"sage/misc/lazy_import.pyx\", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)\n        return self.get_object()(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 1107, in findstat\n        domain = FindStatCollection(domain)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4014, in __classcall_private__\n        return FindStatCollections()(entry)\n      File \"sage/misc/classcall_metaclass.pyx\", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)\n        return cls.classcall(cls, *args, **kwds)\n      File \"sage/misc/cachefunc.pyx\", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)\n        w = self.f(*args, **kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py\", line 1007, in __classcall__\n        instance = typecall(cls, *args, **options)\n      File \"sage/misc/classcall_metaclass.pyx\", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)\n        return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 4639, in __init__\n        d = _get_json(url, object_pairs_hook=OrderedDict)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py\", line 439, in _get_json\n        response = requests.get(url)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 75, in get\n        return request('get', url, params=params, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py\", line 61, in request\n        return session.request(method=method, url=url, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 542, in request\n        resp = self.send(prep, **send_kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py\", line 655, in send\n        r = adapter.send(request, **kwargs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py\", line 510, in send\n        raise ProxyError(e, request=request)\n    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))\n**********************************************************************\n1 item had failures:\n   2 of  16 in sage.databases.findstat.?\n    [137 tests, 2 failures, 0.32 s]\n----------------------------------------------------------------------\nsage -t --long --random-seed=0 src/sage/databases/findstat.py  # 2 doctests failed\n----------------------------------------------------------------------\n```",
    "created_at": "2022-02-20T10:03:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657185",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:11'></a>

```
**********************************************************************
File "src/sage/databases/findstat.py", line 1020, in sage.databases.findstat.?
Failed example:
    findstat("Permutations", lambda x: 1, depth="x")
Expected:
    Traceback (most recent call last):
    ...
    ValueError: E021: Depth should be a non-negative integer at most 9, but is x.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "sage/misc/cachefunc.pyx", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)
        return self.cache[k]
      File "sage/misc/weak_dict.pyx", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)
        raise KeyError(k)
    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 169, in _new_conn
        conn = connection.create_connection(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 96, in create_connection
        raise err
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 86, in create_connection
        sock.connect(sa)
    OSError: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 696, in urlopen
        self._prepare_proxy(conn)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 964, in _prepare_proxy
        conn.connect()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 353, in connect
        conn = self._new_conn()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 181, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 755, in urlopen
        retries = retries.increment(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py", line 574, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.findstat.?[1]>", line 1, in <module>
        findstat("Permutations", lambda x: Integer(1), depth="x")
      File "sage/misc/lazy_import.pyx", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)
        return self.get_object()(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 1107, in findstat
        domain = FindStatCollection(domain)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4014, in __classcall_private__
        return FindStatCollections()(entry)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)
        w = self.f(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py", line 1007, in __classcall__
        instance = typecall(cls, *args, **options)
      File "sage/misc/classcall_metaclass.pyx", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)
        return (<PyTypeObject*>type).tp_call(cls, args, kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4639, in __init__
        d = _get_json(url, object_pairs_hook=OrderedDict)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 439, in _get_json
        response = requests.get(url)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 75, in get
        return request('get', url, params=params, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 61, in request
        return session.request(method=method, url=url, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 542, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 655, in send
        r = adapter.send(request, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 510, in send
        raise ProxyError(e, request=request)
    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1690059a0>: Failed to establish a new connection: [Errno 65] No route to host')))
**********************************************************************
File "src/sage/databases/findstat.py", line 1025, in sage.databases.findstat.?
Failed example:
    findstat("Permutations", lambda x: 1, depth=100)
Expected:
    Traceback (most recent call last):
    ...
    ValueError: E021: Depth should be a non-negative integer at most 9, but is 100.
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "sage/misc/cachefunc.pyx", line 996, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6061)
        return self.cache[k]
      File "sage/misc/weak_dict.pyx", line 704, in sage.misc.weak_dict.WeakValueDictionary.__getitem__ (build/cythonized/sage/misc/weak_dict.c:3815)
        raise KeyError(k)
    KeyError: ((<class 'sage.databases.findstat.FindStatCollections'>,), ())
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 169, in _new_conn
        conn = connection.create_connection(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 96, in create_connection
        raise err
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/connection.py", line 86, in create_connection
        sock.connect(sa)
    OSError: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 696, in urlopen
        self._prepare_proxy(conn)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 964, in _prepare_proxy
        conn.connect()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 353, in connect
        conn = self._new_conn()
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connection.py", line 181, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/connectionpool.py", line 755, in urlopen
        retries = retries.increment(
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/urllib3/util/retry.py", line 574, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))
    <BLANKLINE>
    During handling of the above exception, another exception occurred:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.databases.findstat.?[2]>", line 1, in <module>
        findstat("Permutations", lambda x: Integer(1), depth=Integer(100))
      File "sage/misc/lazy_import.pyx", line 391, in sage.misc.lazy_import.LazyImport.__call__ (build/cythonized/sage/misc/lazy_import.c:4250)
        return self.get_object()(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 1107, in findstat
        domain = FindStatCollection(domain)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4014, in __classcall_private__
        return FindStatCollections()(entry)
      File "sage/misc/classcall_metaclass.pyx", line 320, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1842)
        return cls.classcall(cls, *args, **kwds)
      File "sage/misc/cachefunc.pyx", line 1001, in sage.misc.cachefunc.CachedFunction.__call__ (build/cythonized/sage/misc/cachefunc.c:6189)
        w = self.f(*args, **kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/structure/unique_representation.py", line 1007, in __classcall__
        instance = typecall(cls, *args, **options)
      File "sage/misc/classcall_metaclass.pyx", line 482, in sage.misc.classcall_metaclass.typecall (build/cythonized/sage/misc/classcall_metaclass.c:2306)
        return (<PyTypeObject*>type).tp_call(cls, args, kwds)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 4639, in __init__
        d = _get_json(url, object_pairs_hook=OrderedDict)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/sage/databases/findstat.py", line 439, in _get_json
        response = requests.get(url)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 75, in get
        return request('get', url, params=params, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/api.py", line 61, in request
        return session.request(method=method, url=url, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 542, in request
        resp = self.send(prep, **send_kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/sessions.py", line 655, in send
        r = adapter.send(request, **kwargs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/var/lib/sage/venv-python3.9.9/lib/python3.9/site-packages/requests/adapters.py", line 510, in send
        raise ProxyError(e, request=request)
    requests.exceptions.ProxyError: HTTPSConnectionPool(host='www.findstat.org', port=443): Max retries exceeded with url: /api/CollectionsDatabase/?fields=LevelsWithSizes,Name,NamePlural,NameWiki (Caused by ProxyError('Cannot connect to proxy.', NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x168ffaeb0>: Failed to establish a new connection: [Errno 65] No route to host')))
**********************************************************************
1 item had failures:
   2 of  16 in sage.databases.findstat.?
    [137 tests, 2 failures, 0.32 s]
----------------------------------------------------------------------
sage -t --long --random-seed=0 src/sage/databases/findstat.py  # 2 doctests failed
----------------------------------------------------------------------
```



---

archive/issue_comments_657186.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|\n|[cbeebc6](https://git.sagemath.org/sage.git/commit/?id=cbeebc648544fea54791e87f36746772f59a4a8a)|`the error message is now fetched from findstat.org and therefore needs internet`|",
    "created_at": "2022-02-20T20:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|
|[cbeebc6](https://git.sagemath.org/sage.git/commit/?id=cbeebc648544fea54791e87f36746772f59a4a8a)|`the error message is now fetched from findstat.org and therefore needs internet`|



---

archive/issue_comments_657187.json:
```json
{
    "body": "Changing commit from \"c20f7bc9e71c06b483f89d96b3990e6a86949231\" to \"cbeebc648544fea54791e87f36746772f59a4a8a\"",
    "created_at": "2022-02-20T20:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c20f7bc9e71c06b483f89d96b3990e6a86949231" to "cbeebc648544fea54791e87f36746772f59a4a8a"



---

archive/issue_comments_657188.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-02-20T20:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657188",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_657189.json:
```json
{
    "body": "<a id='comment:14'></a>\nI am sorry, Volker.  Please excuse me.",
    "created_at": "2022-02-20T20:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657189",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:14'></a>
I am sorry, Volker.  Please excuse me.



---

archive/issue_comments_657190.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-21T05:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657190",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_657191.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-02-27T22:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657191",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_657192.json:
```json
{
    "body": "Changing branch from \"u/mantepse/do_not_compute_more_elements_than_asked_for_on_submission\" to \"cbeebc648544fea54791e87f36746772f59a4a8a\"",
    "created_at": "2022-02-27T22:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32958#issuecomment-657192",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mantepse/do_not_compute_more_elements_than_asked_for_on_submission" to "cbeebc648544fea54791e87f36746772f59a4a8a"



---

archive/issue_events_087082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-27T22:00:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32958",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32958#event-87082"
}
```
