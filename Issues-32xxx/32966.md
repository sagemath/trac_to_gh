# Issue 32966: tox / GH Actions: Add ubuntu variants using ppa:ubuntu-toolchain-r

archive/issues_032729.json:
```json
{
    "assignees": [],
    "body": "(from #30876)\n\nsee https://askubuntu.com/a/1149383/309919\n\nTo test:\n\n- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=trusty: \n\n  ```\n  tox -e docker-ubuntu-trusty-standard-toolchain-gcc_9\n  ```\n- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=xenial\n\n  ```\n  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9\n  ```\n- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=bionic\n\n  ```\n  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_9\n  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_10\n  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_11\n  ```\n- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=jammy\n\n  ```\n  tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12\n  ```\n\nNB: Your Docker should have enough RAM allowed  (I'd advice 8GB). In Docker Desktop this setting is in Preferences->Resources -> Advanced.\n\nDepends on #33187\nDepends on #33103\n\nCC:  @dimpase @tobiasdiez\n\nBranch/Commit: **[d42bc03](https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **porting**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32966_\n\n",
    "closed_at": "2022-02-20T13:28:04Z",
    "created_at": "2021-12-04T01:59:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20porting",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "tox / GH Actions: Add ubuntu variants using ppa:ubuntu-toolchain-r",
    "type": "issue",
    "updated_at": "2022-02-20T13:28:04Z",
    "url": "https://github.com/sagemath/sage/issues/32966",
    "user": "https://github.com/mkoeppe"
}
```
(from #30876)

see https://askubuntu.com/a/1149383/309919

To test:

- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=trusty: 

  ```
  tox -e docker-ubuntu-trusty-standard-toolchain-gcc_9
  ```
- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=xenial

  ```
  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9
  ```
- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=bionic

  ```
  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_9
  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_10
  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_11
  ```
- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=jammy

  ```
  tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12
  ```

NB: Your Docker should have enough RAM allowed  (I'd advice 8GB). In Docker Desktop this setting is in Preferences->Resources -> Advanced.

Depends on #33187
Depends on #33103

CC:  @dimpase @tobiasdiez

Branch/Commit: **[d42bc03](https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **porting**

_Issue created by migration from https://trac.sagemath.org/ticket/32966_





---

archive/issue_events_453687.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-04T01:59:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453687"
}
```



---

archive/issue_events_453688.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-04T01:59:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20porting",
    "label_color": "000080",
    "label_name": "c: porting",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453688"
}
```



---

archive/issue_events_453689.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-04T01:59:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453689"
}
```



---

archive/issue_events_453690.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-04T01:59:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453690"
}
```



---

archive/issue_events_453691.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453691"
}
```



---

archive/issue_events_453692.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453692"
}
```



---

archive/issue_comments_532456.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,29 @@\n (from #30876)\n \n see https://askubuntu.com/a/1149383/309919\n+\n+To test:\n+\n+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=trusty: \n+\n+  ```\n+  tox -e docker-ubuntu-trusty-standard-toolchain-gcc_9\n+  ```\n+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=xenial\n+\n+  ```\n+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9\n+  ```\n+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=bionic\n+\n+  ```\n+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9\n+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_10\n+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_11\n+  ```\n+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=jammy\n+\n+  ```\n+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_12\n+  ```\n+\n``````\n",
    "created_at": "2021-12-25T23:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532456",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,29 @@
 (from #30876)
 
 see https://askubuntu.com/a/1149383/309919
+
+To test:
+
+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=trusty: 
+
+  ```
+  tox -e docker-ubuntu-trusty-standard-toolchain-gcc_9
+  ```
+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=xenial
+
+  ```
+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9
+  ```
+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=bionic
+
+  ```
+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9
+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_10
+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_11
+  ```
+- https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=jammy
+
+  ```
+  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_12
+  ```
+
``````




---

archive/issue_comments_532457.json:
```json
{
    "body": "Branch: **[u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r)**",
    "created_at": "2021-12-25T23:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532457",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r)**



---

archive/issue_comments_532458.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de42909be8a8e9bf7261a2d528b0fafd5a382bb0\">de42909</a></td><td><code>build/pkgs/_gcc*/distros: Add homebrew.txt</code></td></tr></table>\n",
    "created_at": "2021-12-25T23:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532458",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de42909be8a8e9bf7261a2d528b0fafd5a382bb0">de42909</a></td><td><code>build/pkgs/_gcc*/distros: Add homebrew.txt</code></td></tr></table>




---

archive/issue_comments_532459.json:
```json
{
    "body": "Commit: **[de42909](https://github.com/sagemath/sagetrac-mirror/commit/de42909be8a8e9bf7261a2d528b0fafd5a382bb0)**",
    "created_at": "2021-12-25T23:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532459",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[de42909](https://github.com/sagemath/sagetrac-mirror/commit/de42909be8a8e9bf7261a2d528b0fafd5a382bb0)**



---

archive/issue_comments_532460.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-12-28T02:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532460",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_453693.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-28T02:16:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453693"
}
```



---

archive/issue_comments_532461.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,13 +17,13 @@\n - https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=bionic\n \n   ```\n-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9\n-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_10\n-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_11\n+  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_9\n+  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_10\n+  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_11\n   ```\n - https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=jammy\n \n   ```\n-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_12\n+  tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12\n   ```\n \n``````\n",
    "created_at": "2022-02-07T04:17:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532461",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,13 +17,13 @@
 - https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=bionic
 
   ```
-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9
-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_10
-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_11
+  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_9
+  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_10
+  tox -e docker-ubuntu-bionic-standard-toolchain-gcc_11
   ```
 - https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test?field.series_filter=jammy
 
   ```
-  tox -e docker-ubuntu-xenial-standard-toolchain-gcc_12
+  tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12
   ```
 
``````




---

archive/issue_comments_532462.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nDo we really need to add tests for each possible combination of system packages? This would also mean that we voucher to support these systems (otherwise, what's the point of these tests?). I think maintaining the \"standard\" system config is already enough overhead. How much people on ubuntu add custom package repos?\n\nMaybe it would be worthwhile to have a general discussion about which systems sage wants to support (how old, which system configs, when to drop support etc) and then based on this outcome add tests. (Please excuse my ignorance if there have been already such a discussion.)\n\nAlso this ticket seems to be the exact opposite of #32532 and as far as I followed the discussion on the dev list no final conclusion has been reached there yet.",
    "created_at": "2022-02-07T12:38:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532462",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:8" align="right">comment:8</div>

Do we really need to add tests for each possible combination of system packages? This would also mean that we voucher to support these systems (otherwise, what's the point of these tests?). I think maintaining the "standard" system config is already enough overhead. How much people on ubuntu add custom package repos?

Maybe it would be worthwhile to have a general discussion about which systems sage wants to support (how old, which system configs, when to drop support etc) and then based on this outcome add tests. (Please excuse my ignorance if there have been already such a discussion.)

Also this ticket seems to be the exact opposite of #32532 and as far as I followed the discussion on the dev list no final conclusion has been reached there yet.



---

archive/issue_comments_532463.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThe standard ones on these museum-grade systems are too old to be supported. IMHO we must  be much more aggressive in dropping old systems than we currently are...",
    "created_at": "2022-02-07T13:10:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532463",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:9" align="right">comment:9</div>

The standard ones on these museum-grade systems are too old to be supported. IMHO we must  be much more aggressive in dropping old systems than we currently are...



---

archive/issue_comments_532464.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@tobiasdiez](#comment:8):\n> This would also mean that we vouch to support these systems (otherwise, what's the point of these tests?).\n\nNo, this ticket (and all of tox.ini) does not come with a promise that we support a particular system configuration. \n\nIt only makes it easy to test it.",
    "created_at": "2022-02-07T16:23:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532464",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@tobiasdiez](#comment:8):
> This would also mean that we vouch to support these systems (otherwise, what's the point of these tests?).

No, this ticket (and all of tox.ini) does not come with a promise that we support a particular system configuration. 

It only makes it easy to test it.



---

archive/issue_comments_532465.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@dimpase](#comment:9):\n> The standard ones on these museum-grade systems are too old to be supported.\n\nExactly, in particular because of upcoming updates of several of our standard packages, see #32074.",
    "created_at": "2022-02-07T16:25:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532465",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@dimpase](#comment:9):
> The standard ones on these museum-grade systems are too old to be supported.

Exactly, in particular because of upcoming updates of several of our standard packages, see #32074.



---

archive/issue_comments_532466.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@mkoeppe](#comment:10):\n> Replying to [@tobiasdiez](#comment:8):\n> > This would also mean that we vouch to support these systems (otherwise, what's the point of these tests?).\n\n> \n> No, this ticket (and all of tox.ini) does not come with a promise that we support a particular system configuration. \n> \n> It only makes it easy to test it. \n\nBut why do you want to test something (and spend resources on implementing and maintaining such tests) if there is no intention to support this particular config?",
    "created_at": "2022-02-07T17:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532466",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@mkoeppe](#comment:10):
> Replying to [@tobiasdiez](#comment:8):
> > This would also mean that we vouch to support these systems (otherwise, what's the point of these tests?).

> 
> No, this ticket (and all of tox.ini) does not come with a promise that we support a particular system configuration. 
> 
> It only makes it easy to test it. 

But why do you want to test something (and spend resources on implementing and maintaining such tests) if there is no intention to support this particular config?



---

archive/issue_comments_532467.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOnce we can easily test if something works, a decision can be made whether to support it.",
    "created_at": "2022-02-07T17:59:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532467",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

Once we can easily test if something works, a decision can be made whether to support it.



---

archive/issue_comments_532468.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlso, this infrastructure is now used by several upstream projects for portability testing; most recent add: https://github.com/pypa/setuptools/pull/2923",
    "created_at": "2022-02-07T18:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532468",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Also, this infrastructure is now used by several upstream projects for portability testing; most recent add: https://github.com/pypa/setuptools/pull/2923



---

archive/issue_comments_532469.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@mkoeppe](#comment:13):\n> Once we can easily test if something works, a decision can be made whether to support it.\n\nI think you have proven very successfully that the existing infrastructure can easily be extended to incorporate new system configs. Thus, the important question is if we want to support a certain config, and not if its technically possible to test it. I don't have enough experience with the linux environment to judge if custom gcc installations are common enough on recent systems. However, a common theme in the discussion about removing the gcc package was that's a pain in the * * to maintain different configs. So I think there should be good reasons to add another config to the already pretty long list of variations.",
    "created_at": "2022-02-07T21:58:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532469",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@mkoeppe](#comment:13):
> Once we can easily test if something works, a decision can be made whether to support it.

I think you have proven very successfully that the existing infrastructure can easily be extended to incorporate new system configs. Thus, the important question is if we want to support a certain config, and not if its technically possible to test it. I don't have enough experience with the linux environment to judge if custom gcc installations are common enough on recent systems. However, a common theme in the discussion about removing the gcc package was that's a pain in the * * to maintain different configs. So I think there should be good reasons to add another config to the already pretty long list of variations.



---

archive/issue_comments_532470.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nLet me rephrase for clarity: \n\nOnce we can easily test if something works on a platform, a decision can be made whether to support [SageMath](../wiki/SageMath) on this platform.",
    "created_at": "2022-02-07T22:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532470",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Let me rephrase for clarity: 

Once we can easily test if something works on a platform, a decision can be made whether to support [SageMath](../wiki/SageMath) on this platform.



---

archive/issue_comments_532471.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAs we saw recently a few times, such obsolete systems, where one needs such non-standard toolchains to get anywhere, are well-supported by conda. \n\nDirect support of such configurations is not buying us much.",
    "created_at": "2022-02-07T22:20:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532471",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

As we saw recently a few times, such obsolete systems, where one needs such non-standard toolchains to get anywhere, are well-supported by conda. 

Direct support of such configurations is not buying us much.



---

archive/issue_comments_532472.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@tobiasdiez](#comment:15):\n> Replying to [@mkoeppe](#comment:13):\n> a common theme in the discussion about removing the gcc package was that's a pain in the * * to maintain different configs. So I think there should be good reasons to add another config to the already pretty long list of variations.\n\nNo, it sounds like you have misunderstood the discussion. We want people to be able to use GCC (and other toolchain components) from their distribution -- to reduce our maintenance burden for our project regarding the gcc spkg.",
    "created_at": "2022-02-07T22:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532472",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@tobiasdiez](#comment:15):
> Replying to [@mkoeppe](#comment:13):
> a common theme in the discussion about removing the gcc package was that's a pain in the * * to maintain different configs. So I think there should be good reasons to add another config to the already pretty long list of variations.

No, it sounds like you have misunderstood the discussion. We want people to be able to use GCC (and other toolchain components) from their distribution -- to reduce our maintenance burden for our project regarding the gcc spkg.



---

archive/issue_comments_532473.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI think a long-term idea of what systems to support and in which way would be preferably. For example, numpy has a clear strategy where they recommend people to install it via conda and are relatively restrictive on which compilers they support for from-source installations. Not saying that sage should go the same path, but I think narrowing down the range of supported distribution channels would open up more resources for actual features and bug fixes.\n\nAnyway, should we transfer this discussion to the dev mailing list?",
    "created_at": "2022-02-07T22:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532473",
    "user": "https://github.com/tobiasdiez"
}
```

<div id="comment:19" align="right">comment:19</div>

I think a long-term idea of what systems to support and in which way would be preferably. For example, numpy has a clear strategy where they recommend people to install it via conda and are relatively restrictive on which compilers they support for from-source installations. Not saying that sage should go the same path, but I think narrowing down the range of supported distribution channels would open up more resources for actual features and bug fixes.

Anyway, should we transfer this discussion to the dev mailing list?



---

archive/issue_comments_532474.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI have made a plan for platform support in Sage 9.6, 9.7 in #32074 because major changes are coming from upstream.",
    "created_at": "2022-02-07T22:38:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532474",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

I have made a plan for platform support in Sage 9.6, 9.7 in #32074 because major changes are coming from upstream.



---

archive/issue_comments_532475.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThe present ticket does not need more discussion. It's an improvement because it expands the platforms that we can easily test. \n\nBeing able to test is better than not being able to test.",
    "created_at": "2022-02-07T22:40:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532475",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:21" align="right">comment:21</div>

The present ticket does not need more discussion. It's an improvement because it expands the platforms that we can easily test. 

Being able to test is better than not being able to test.



---

archive/issue_comments_532476.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\n\n```\nSending build context to Docker daemon  519.8MB\nStep 1/46 : ARG BASE_IMAGE=ubuntu:latest\nStep 2/46 : FROM ${BASE_IMAGE} as with-system-packages\nbionic: Pulling from library/ubuntu\n68e7bb398b9f: Pull complete \nDigest: sha256:c2aa13782650aa7ade424b12008128b60034c795f25456e8eb552d0a0f447cad\nStatus: Downloaded newer image for ubuntu:bionic\n ---> dcf4d4bef137\nStep 3/46 : RUN DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common\n ---> Running in 600f78310b95\nE: Unable to locate package software-properties-common\nThe command '/bin/sh -c DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common' returned a non-zero code: 100\nsha256:18cedbf3aa838b99f9bfd9684434a6f4ed1de5d8be02a579bcb51212082c839f\nERROR: InvocationError for command /bin/bash -c 'for docker_target in with-targets; do  BUILD_TAG=sage-docker-ubuntu-bionic-standard-toolchain-gcc_9-$docker_target:$(git describe --dirty --always);  DOCKER_BUILDKIT=0  docker build . -f /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_9/Dockerfile  --target $docker_target  --tag $BUILD_TAG  --build-arg EXTRA_CONFIGURE_ARGS=\"--enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes --with-system-gcc=force CC=gcc-9 CXX=g++-9 FC=gfortran-9 \"  --build-arg BASE_IMAGE=ubuntu:bionic  --build-arg BOOTSTRAP=\"./bootstrap\"  --build-arg TARGETS_PRE=\"$(if test -n \"$TARGETS_PRE\"; then echo $TARGETS_PRE; else echo all-sage-local; fi)\"  --build-arg TARGETS=\"build\"  --build-arg TARGETS_OPTIONAL=\"ptest\"  ; status=$?;  if [ $status != 0 ]; then BUILD_TAG=\"$BUILD_TAG-failed\"; docker commit $(docker ps -l -q) $BUILD_TAG; fi;  echo $BUILD_TAG >> /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_9/Dockertags;  if [ x\"\" != x ]; then echo Pushing $BUILD_TAG; docker push $BUILD_TAG || echo \"(ignoring errors)\"; fi;  if [ $status != 0 ]; then exit $status; fi; done' (exited with code 100)\n_______________________________________________________ summary ________________________________________________________\nERROR:   docker-ubuntu-bionic-standard-toolchain-gcc_9: commands failed\n```",
    "created_at": "2022-02-09T23:44:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532476",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>


```
Sending build context to Docker daemon  519.8MB
Step 1/46 : ARG BASE_IMAGE=ubuntu:latest
Step 2/46 : FROM ${BASE_IMAGE} as with-system-packages
bionic: Pulling from library/ubuntu
68e7bb398b9f: Pull complete 
Digest: sha256:c2aa13782650aa7ade424b12008128b60034c795f25456e8eb552d0a0f447cad
Status: Downloaded newer image for ubuntu:bionic
 ---> dcf4d4bef137
Step 3/46 : RUN DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common
 ---> Running in 600f78310b95
E: Unable to locate package software-properties-common
The command '/bin/sh -c DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common' returned a non-zero code: 100
sha256:18cedbf3aa838b99f9bfd9684434a6f4ed1de5d8be02a579bcb51212082c839f
ERROR: InvocationError for command /bin/bash -c 'for docker_target in with-targets; do  BUILD_TAG=sage-docker-ubuntu-bionic-standard-toolchain-gcc_9-$docker_target:$(git describe --dirty --always);  DOCKER_BUILDKIT=0  docker build . -f /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_9/Dockerfile  --target $docker_target  --tag $BUILD_TAG  --build-arg EXTRA_CONFIGURE_ARGS="--enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes --with-system-gcc=force CC=gcc-9 CXX=g++-9 FC=gfortran-9 "  --build-arg BASE_IMAGE=ubuntu:bionic  --build-arg BOOTSTRAP="./bootstrap"  --build-arg TARGETS_PRE="$(if test -n "$TARGETS_PRE"; then echo $TARGETS_PRE; else echo all-sage-local; fi)"  --build-arg TARGETS="build"  --build-arg TARGETS_OPTIONAL="ptest"  ; status=$?;  if [ $status != 0 ]; then BUILD_TAG="$BUILD_TAG-failed"; docker commit $(docker ps -l -q) $BUILD_TAG; fi;  echo $BUILD_TAG >> /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_9/Dockertags;  if [ x"" != x ]; then echo Pushing $BUILD_TAG; docker push $BUILD_TAG || echo "(ignoring errors)"; fi;  if [ $status != 0 ]; then exit $status; fi; done' (exited with code 100)
_______________________________________________________ summary ________________________________________________________
ERROR:   docker-ubuntu-bionic-standard-toolchain-gcc_9: commands failed
```



---

archive/issue_comments_532477.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\n\n```\nStep 1/46 : ARG BASE_IMAGE=ubuntu:latest\nStep 2/46 : FROM ${BASE_IMAGE} as with-system-packages\n ---> dcf4d4bef137\nStep 3/46 : RUN DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common\n ---> Using cache\n ---> 18cedbf3aa83\nStep 4/46 : RUN add-apt-repository ppa:ubuntu-toolchain-r/test\n ---> Running in 8f18951793c2\n/bin/sh: 1: add-apt-repository: not found\nThe command '/bin/sh -c add-apt-repository ppa:ubuntu-toolchain-r/test' returned a non-zero code: 127\nsha256:96636bafcff5cb8b60716791c2613a2d9a01ad33e8bf5b825d0f0fd32caaaeb8\nERROR: InvocationError for command /bin/bash -c 'for docker_target in with-targets; do  BUILD_TAG=sage-docker-ubuntu-bionic-standard-toolchain-gcc_10-$docker_target:$(git describe --dirty --always);  DOCKER_BUILDKIT=0  docker build . -f /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_10/Dockerfile  --target $docker_target  --tag $BUILD_TAG  --build-arg EXTRA_CONFIGURE_ARGS=\"--enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes --with-system-gcc=force CC=gcc-10 CXX=g++-10 FC=gfortran-10 \"  --build-arg BASE_IMAGE=ubuntu:bionic  --build-arg BOOTSTRAP=\"./bootstrap\"  --build-arg TARGETS_PRE=\"$(if test -n \"$TARGETS_PRE\"; then echo $TARGETS_PRE; else echo all-sage-local; fi)\"  --build-arg TARGETS=\"build\"  --build-arg TARGETS_OPTIONAL=\"ptest\"  ; status=$?;  if [ $status != 0 ]; then BUILD_TAG=\"$BUILD_TAG-failed\"; docker commit $(docker ps -l -q) $BUILD_TAG; fi;  echo $BUILD_TAG >> /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_10/Dockertags;  if [ x\"\" != x ]; then echo Pushing $BUILD_TAG; docker push $BUILD_TAG || echo \"(ignoring errors)\"; fi;  if [ $status != 0 ]; then exit $status; fi; done' (exited with code 127)\n_______________________________________________________ summary ________________________________________________________\nERROR:   docker-ubuntu-bionic-standard-toolchain-gcc_10: commands failed\n\n```",
    "created_at": "2022-02-09T23:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532477",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:23" align="right">comment:23</div>


```
Step 1/46 : ARG BASE_IMAGE=ubuntu:latest
Step 2/46 : FROM ${BASE_IMAGE} as with-system-packages
 ---> dcf4d4bef137
Step 3/46 : RUN DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common
 ---> Using cache
 ---> 18cedbf3aa83
Step 4/46 : RUN add-apt-repository ppa:ubuntu-toolchain-r/test
 ---> Running in 8f18951793c2
/bin/sh: 1: add-apt-repository: not found
The command '/bin/sh -c add-apt-repository ppa:ubuntu-toolchain-r/test' returned a non-zero code: 127
sha256:96636bafcff5cb8b60716791c2613a2d9a01ad33e8bf5b825d0f0fd32caaaeb8
ERROR: InvocationError for command /bin/bash -c 'for docker_target in with-targets; do  BUILD_TAG=sage-docker-ubuntu-bionic-standard-toolchain-gcc_10-$docker_target:$(git describe --dirty --always);  DOCKER_BUILDKIT=0  docker build . -f /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_10/Dockerfile  --target $docker_target  --tag $BUILD_TAG  --build-arg EXTRA_CONFIGURE_ARGS="--enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes --with-system-gcc=force CC=gcc-10 CXX=g++-10 FC=gfortran-10 "  --build-arg BASE_IMAGE=ubuntu:bionic  --build-arg BOOTSTRAP="./bootstrap"  --build-arg TARGETS_PRE="$(if test -n "$TARGETS_PRE"; then echo $TARGETS_PRE; else echo all-sage-local; fi)"  --build-arg TARGETS="build"  --build-arg TARGETS_OPTIONAL="ptest"  ; status=$?;  if [ $status != 0 ]; then BUILD_TAG="$BUILD_TAG-failed"; docker commit $(docker ps -l -q) $BUILD_TAG; fi;  echo $BUILD_TAG >> /Users/dima/sage/.tox/docker-ubuntu-bionic-standard-toolchain-gcc_10/Dockertags;  if [ x"" != x ]; then echo Pushing $BUILD_TAG; docker push $BUILD_TAG || echo "(ignoring errors)"; fi;  if [ $status != 0 ]; then exit $status; fi; done' (exited with code 127)
_______________________________________________________ summary ________________________________________________________
ERROR:   docker-ubuntu-bionic-standard-toolchain-gcc_10: commands failed

```



---

archive/issue_comments_532478.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nalthough `docker-ubuntu-bionic-standard-toolchain-gcc_11` fares better so far.",
    "created_at": "2022-02-09T23:48:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532478",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

although `docker-ubuntu-bionic-standard-toolchain-gcc_11` fares better so far.



---

archive/issue_comments_532479.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nLooks like this needs an apt-get update first sometimes.",
    "created_at": "2022-02-09T23:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532479",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Looks like this needs an apt-get update first sometimes.



---

archive/issue_comments_532480.json:
```json
{
    "body": "Changed commit from **[de42909](https://github.com/sagemath/sagetrac-mirror/commit/de42909be8a8e9bf7261a2d528b0fafd5a382bb0)** to **[4e2d536](https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491)**",
    "created_at": "2022-02-09T23:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532480",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[de42909](https://github.com/sagemath/sagetrac-mirror/commit/de42909be8a8e9bf7261a2d528b0fafd5a382bb0)** to **[4e2d536](https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491)**



---

archive/issue_comments_532481.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491\">4e2d536</a></td><td><code>build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common</code></td></tr></table>\n",
    "created_at": "2022-02-09T23:52:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532481",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491">4e2d536</a></td><td><code>build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common</code></td></tr></table>




---

archive/issue_comments_532482.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nCan you rebase over the latest beta?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491\">4e2d536</a></td><td><code>build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common</code></td></tr></table>\n",
    "created_at": "2022-02-09T23:55:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532482",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

Can you rebase over the latest beta?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491">4e2d536</a></td><td><code>build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common</code></td></tr></table>




---

archive/issue_comments_532483.json:
```json
{
    "body": "Changed commit from **[4e2d536](https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491)** to **[80057ba](https://github.com/sagemath/sagetrac-mirror/commit/80057ba50ef98ff097b930efded426e5f51b6e1b)**",
    "created_at": "2022-02-10T01:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532483",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4e2d536](https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491)** to **[80057ba](https://github.com/sagemath/sagetrac-mirror/commit/80057ba50ef98ff097b930efded426e5f51b6e1b)**



---

archive/issue_comments_532484.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80057ba50ef98ff097b930efded426e5f51b6e1b\">80057ba</a></td><td><code>Merge tag '9.6.beta0' into t/32966/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r</code></td></tr></table>\n",
    "created_at": "2022-02-10T01:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532484",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80057ba50ef98ff097b930efded426e5f51b6e1b">80057ba</a></td><td><code>Merge tag '9.6.beta0' into t/32966/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r</code></td></tr></table>




---

archive/issue_comments_532485.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nwith docker-ubuntu-bionic-standard-toolchain-gcc_9, g++ dies building fplll (not such a surprise...)\nHere docker is running on a macOS 12.2 MacBook Pro.\n\n```\n  [fplll-5.4.1] error installing, exit status 1. End of log file:\n  [fplll-5.4.1]   Makefile:1697: recipe for target 'enum-parallel/libfplll_la-enumlib_dim.40.lo' failed\n  [fplll-5.4.1]   make[6]: *** [enum-parallel/libfplll_la-enumlib_dim.40.lo] Error 1\n  [fplll-5.4.1]   /bin/bash ../libtool  --tag=CXX   --mode=compile g++-9 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/sage/local/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c -o enum-parallel/libfplll_la-enumlib_dim.20.lo `test -f 'enum-parallel/enumlib_dim.20.cpp' || echo './'`enum-parallel/enumlib_dim.20.cpp\n  [fplll-5.4.1]   libtool: compile:  g++-9 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/sage/local/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c enum-parallel/enumlib_dim.20.cpp  -fPIC -DPIC -o enum-parallel/.libs/libfplll_la-enumlib_dim.20.o\n  [fplll-5.4.1]   g++-9: fatal error: Killed signal terminated program cc1plus\n  [fplll-5.4.1]   compilation terminated.\n```\n\nthat's not something to fix here, it's just an artefact...",
    "created_at": "2022-02-10T08:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532485",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:29" align="right">comment:29</div>

with docker-ubuntu-bionic-standard-toolchain-gcc_9, g++ dies building fplll (not such a surprise...)
Here docker is running on a macOS 12.2 MacBook Pro.

```
  [fplll-5.4.1] error installing, exit status 1. End of log file:
  [fplll-5.4.1]   Makefile:1697: recipe for target 'enum-parallel/libfplll_la-enumlib_dim.40.lo' failed
  [fplll-5.4.1]   make[6]: *** [enum-parallel/libfplll_la-enumlib_dim.40.lo] Error 1
  [fplll-5.4.1]   /bin/bash ../libtool  --tag=CXX   --mode=compile g++-9 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAULT_STRATEGY_PATH=\"/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/sage/local/share/fplll/strategies/default.json\" -I./.. -I/sage/local/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c -o enum-parallel/libfplll_la-enumlib_dim.20.lo `test -f 'enum-parallel/enumlib_dim.20.cpp' || echo './'`enum-parallel/enumlib_dim.20.cpp
  [fplll-5.4.1]   libtool: compile:  g++-9 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/sage/local/share/fplll/strategies/default.json\" -I./.. -I/sage/local/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c enum-parallel/enumlib_dim.20.cpp  -fPIC -DPIC -o enum-parallel/.libs/libfplll_la-enumlib_dim.20.o
  [fplll-5.4.1]   g++-9: fatal error: Killed signal terminated program cc1plus
  [fplll-5.4.1]   compilation terminated.
```

that's not something to fix here, it's just an artefact...



---

archive/issue_comments_532486.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nwith `docker-ubuntu-bionic-standard-toolchain-gcc_10`, fflas_ffpack and fplll don't build.\n\nwith  `docker-ubuntu-bionic-standard-toolchain-gcc_11`, fplll doesn't build.",
    "created_at": "2022-02-10T15:01:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532486",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:30" align="right">comment:30</div>

with `docker-ubuntu-bionic-standard-toolchain-gcc_10`, fflas_ffpack and fplll don't build.

with  `docker-ubuntu-bionic-standard-toolchain-gcc_11`, fplll doesn't build.



---

archive/issue_comments_532487.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nIt's  also basically the same error\n\n```\nlibtool: compile:  g++-11 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/sage/local/s\nhare/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/sage/loca\nl/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c enum-parallel/enumlib_dim.70.cpp  -fPIC -DP\nIC -o enum-parallel/.libs/libfplll_la-enumlib_dim.70.o\n/bin/bash ../libtool  --tag=CXX   --mode=compile g++-11 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAUL\nT_STRATEGY_PATH=\\\"/sage/local/share/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/sage/local/share/fplll/strategies/def\nault.json\\\" -I./.. -I/sage/local/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c -o enum-para\nllel/libfplll_la-enumlib_dim.60.lo `test -f 'enum-parallel/enumlib_dim.60.cpp' || echo './'`enum-parallel/enumlib_dim.60\n.cpp\nlibtool: compile:  g++-11 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\\\"/sage/local/s\nhare/fplll/strategies\\\" -DFPLLL_DEFAULT_STRATEGY=\\\"/sage/local/share/fplll/strategies/default.json\\\" -I./.. -I/sage/loca\nl/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c enum-parallel/enumlib_dim.60.cpp  -fPIC -DP\nIC -o enum-parallel/.libs/libfplll_la-enumlib_dim.60.o\ng++-11: fatal error: Killed signal terminated program cc1plus\ncompilation terminated.\n```\nThat's most probably due to incorrect installation of the toolchain, as I get (in the container):\n\n```\nroot@aa964bbe7c63:/sage# g++ -v\nUsing built-in specs.\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/7/lto-wrapper\nOFFLOAD_TARGET_NAMES=nvptx-none\nOFFLOAD_TARGET_DEFAULT=1\nTarget: x86_64-linux-gnu\nConfigured with: ../src/configure -v --with-pkgversion='Ubuntu 7.5.0-3ubuntu1~18.04' --with-bugurl=file:///usr/share/doc/gcc-7/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++ --prefix=/usr --with-gcc-major-version-only --program-suffix=-7 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-bootstrap --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\nThread model: posix\ngcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04) \n```\n\nEDIT - the latter is OK. Probably it runs out of RAM - indeed, running `top` inside container shows at some point\n\n```\n58565 root      20   0  117276  83472  23364 R  53.8  4.1   0:01.63 cc1                                                \n58437 root      20   0  122516  89136  24412 R  51.5  4.4   0:02.01 cc1plus                                            \n51528 root      20   0 1104248 991.5m  24356 R  49.2 49.9   0:34.28 cc1plus                                            \n58678 root      20   0  180576 140236  17928 R  39.9  6.9   0:01.20 cc1plus                                            \n58670 root      20   0  103460  70476  22816 R  35.2  3.5   0:01.06 cc1                                                \n58833 root      20   0   92080  49640  17428 R   6.3  2.4   0:00.19 cc1plus    \n```\n- no wonder on heavier C++ code it might get killed due to inability to get more RAM...\n\nIn my Docker settings I see it uses 2GB of RAM, that's way too little.\nlet me try with more RAM, 8GB...",
    "created_at": "2022-02-10T16:13:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532487",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

It's  also basically the same error

```
libtool: compile:  g++-11 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/sage/local/s
hare/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/sage/local/share/fplll/strategies/default.json\" -I./.. -I/sage/loca
l/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c enum-parallel/enumlib_dim.70.cpp  -fPIC -DP
IC -o enum-parallel/.libs/libfplll_la-enumlib_dim.70.o
/bin/bash ../libtool  --tag=CXX   --mode=compile g++-11 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I..  -DFPLLL_DEFAUL
T_STRATEGY_PATH=\"/sage/local/share/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/sage/local/share/fplll/strategies/def
ault.json\" -I./.. -I/sage/local/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c -o enum-para
llel/libfplll_la-enumlib_dim.60.lo `test -f 'enum-parallel/enumlib_dim.60.cpp' || echo './'`enum-parallel/enumlib_dim.60
.cpp
libtool: compile:  g++-11 -std=gnu++11 -std=c++11 -DHAVE_CONFIG_H -I. -I.. -DFPLLL_DEFAULT_STRATEGY_PATH=\"/sage/local/s
hare/fplll/strategies\" -DFPLLL_DEFAULT_STRATEGY=\"/sage/local/share/fplll/strategies/default.json\" -I./.. -I/sage/loca
l/include/ -pthread -g -O2 -fPIC -I/sage/local/include/ -L/sage/local/lib -c enum-parallel/enumlib_dim.60.cpp  -fPIC -DP
IC -o enum-parallel/.libs/libfplll_la-enumlib_dim.60.o
g++-11: fatal error: Killed signal terminated program cc1plus
compilation terminated.
```
That's most probably due to incorrect installation of the toolchain, as I get (in the container):

```
root@aa964bbe7c63:/sage# g++ -v
Using built-in specs.
COLLECT_GCC=g++
COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/7/lto-wrapper
OFFLOAD_TARGET_NAMES=nvptx-none
OFFLOAD_TARGET_DEFAULT=1
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu 7.5.0-3ubuntu1~18.04' --with-bugurl=file:///usr/share/doc/gcc-7/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++ --prefix=/usr --with-gcc-major-version-only --program-suffix=-7 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-bootstrap --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-libmpx --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04) 
```

EDIT - the latter is OK. Probably it runs out of RAM - indeed, running `top` inside container shows at some point

```
58565 root      20   0  117276  83472  23364 R  53.8  4.1   0:01.63 cc1                                                
58437 root      20   0  122516  89136  24412 R  51.5  4.4   0:02.01 cc1plus                                            
51528 root      20   0 1104248 991.5m  24356 R  49.2 49.9   0:34.28 cc1plus                                            
58678 root      20   0  180576 140236  17928 R  39.9  6.9   0:01.20 cc1plus                                            
58670 root      20   0  103460  70476  22816 R  35.2  3.5   0:01.06 cc1                                                
58833 root      20   0   92080  49640  17428 R   6.3  2.4   0:00.19 cc1plus    
```
- no wonder on heavier C++ code it might get killed due to inability to get more RAM...

In my Docker settings I see it uses 2GB of RAM, that's way too little.
let me try with more RAM, 8GB...



---

archive/issue_comments_532488.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,3 +27,4 @@\n   tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12\n   ```\n \n+NB: Your Docker should have enough RAM allowed  (I'd advice 8GB). In Docker Desktop this setting is in Preferences->Resources -> Advanced.\n``````\n",
    "created_at": "2022-02-10T16:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532488",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,3 +27,4 @@
   tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12
   ```
 
+NB: Your Docker should have enough RAM allowed  (I'd advice 8GB). In Docker Desktop this setting is in Preferences->Resources -> Advanced.
``````




---

archive/issue_comments_532489.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nOK, with bigger RAM, `docker-ubuntu-bionic-standard-toolchain-gcc_11` builds fine. Sorry for noise.\n\nNow, checking the rest.",
    "created_at": "2022-02-10T17:49:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532489",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">comment:33</div>

OK, with bigger RAM, `docker-ubuntu-bionic-standard-toolchain-gcc_11` builds fine. Sorry for noise.

Now, checking the rest.



---

archive/issue_comments_532490.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nI looked at tags assigned, and saw e.g.\n\n```\nsage-docker-ubuntu-bionic-standard-toolchain-gcc_9-with-targets    9.2.rc2-12022-g9c4903c921\n```\n\nWhy is it `9.2` there?",
    "created_at": "2022-02-11T09:48:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532490",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

I looked at tags assigned, and saw e.g.

```
sage-docker-ubuntu-bionic-standard-toolchain-gcc_9-with-targets    9.2.rc2-12022-g9c4903c921
```

Why is it `9.2` there?



---

archive/issue_comments_532491.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\ngcc-12 obviously needs #33187, to have a chance of working. As well, `tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12`\nfails early on without the following patch:\n\n```diff\n--- a/build/pkgs/_prereq/distros/debian.txt\n+++ b/build/pkgs/_prereq/distros/debian.txt\n@@ -28,3 +28,5 @@ gcc\n g++\n # Needed if we download some packages from a https upstream URL\n ca-certificates\n+gpg\n+gpg-agent\n```",
    "created_at": "2022-02-11T10:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532491",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">comment:35</div>

gcc-12 obviously needs #33187, to have a chance of working. As well, `tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12`
fails early on without the following patch:

```diff
--- a/build/pkgs/_prereq/distros/debian.txt
+++ b/build/pkgs/_prereq/distros/debian.txt
@@ -28,3 +28,5 @@ gcc
 g++
 # Needed if we download some packages from a https upstream URL
 ca-certificates
+gpg
+gpg-agent
```



---

archive/issue_comments_532492.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nAlso, on jammy recognition of libsingular fails, as it's `/usr/lib/x86_64-linux-gnu/libsingular-Singular-4.2.1.so` there, and so\n`dlopen($LIBSINGULAR_PATH)` test fails, as it expects `libSingular.so`. Potentially, the correct library name can be found by looking\nat the output of of pkg-config\n\n```\n# pkg-config --libs singular\n-lsingular-Singular -lsingular-polys -lflint -lmpfr -lgmp -lsingular-factory -lflint -lmpfr -lgmp -lntl -lgmp -lsingular-omalloc -lsingular-resources\n```\n\nPS. - this is tracked in #32789",
    "created_at": "2022-02-11T10:31:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532492",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

Also, on jammy recognition of libsingular fails, as it's `/usr/lib/x86_64-linux-gnu/libsingular-Singular-4.2.1.so` there, and so
`dlopen($LIBSINGULAR_PATH)` test fails, as it expects `libSingular.so`. Potentially, the correct library name can be found by looking
at the output of of pkg-config

```
# pkg-config --libs singular
-lsingular-Singular -lsingular-polys -lflint -lmpfr -lgmp -lsingular-factory -lflint -lmpfr -lgmp -lntl -lgmp -lsingular-omalloc -lsingular-resources
```

PS. - this is tracked in #32789



---

archive/issue_comments_532493.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nOK, subject to [comment:35](#comment:35), all good.",
    "created_at": "2022-02-11T13:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532493",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:37" align="right">comment:37</div>

OK, subject to [comment:35](#comment:35), all good.



---

archive/issue_comments_532494.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@dimpase](#comment:34):\n> I looked at tags assigned, and saw e.g.\n> \n> ```\n> sage-docker-ubuntu-bionic-standard-toolchain-gcc_9-with-targets    9.2.rc2-12022-g9c4903c921\n> ```\n> \n> Why is it `9.2` there?\n\nThat's just the output of `git describe --dirty --always`. It seems you haven't run `git fetch --tags` for a long time, so it expresses version as being 12022 commits ahead of 9.2.rc2",
    "created_at": "2022-02-11T17:56:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532494",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@dimpase](#comment:34):
> I looked at tags assigned, and saw e.g.
> 
> ```
> sage-docker-ubuntu-bionic-standard-toolchain-gcc_9-with-targets    9.2.rc2-12022-g9c4903c921
> ```
> 
> Why is it `9.2` there?

That's just the output of `git describe --dirty --always`. It seems you haven't run `git fetch --tags` for a long time, so it expresses version as being 12022 commits ahead of 9.2.rc2



---

archive/issue_comments_532495.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nReplying to [@dimpase](#comment:35):\n>  `tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12`\n> fails early on without the following patch:\n> \n> ```diff\n> --- a/build/pkgs/_prereq/distros/debian.txt\n> +++ b/build/pkgs/_prereq/distros/debian.txt\n> @@ -28,3 +28,5 @@ gcc\n>  g++\n>  # Needed if we download some packages from a https upstream URL\n>  ca-certificates\n> +gpg\n> +gpg-agent\n> ```\n\nI'd guess this is just temporary breakage in their packaging. `jammy` is not released yet",
    "created_at": "2022-02-11T17:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532495",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:39" align="right">comment:39</div>

Replying to [@dimpase](#comment:35):
>  `tox -e docker-ubuntu-jammy-standard-toolchain-gcc_12`
> fails early on without the following patch:
> 
> ```diff
> --- a/build/pkgs/_prereq/distros/debian.txt
> +++ b/build/pkgs/_prereq/distros/debian.txt
> @@ -28,3 +28,5 @@ gcc
>  g++
>  # Needed if we download some packages from a https upstream URL
>  ca-certificates
> +gpg
> +gpg-agent
> ```

I'd guess this is just temporary breakage in their packaging. `jammy` is not released yet



---

archive/issue_comments_532496.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nReplying to [@mkoeppe](#comment:39):\n> \n> \n> I'd guess this is just temporary breakage in their packaging. `jammy` is not released yet\n> \n> \n\nit doesn't hurt to list these explicitly, anyway.",
    "created_at": "2022-02-11T18:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532496",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:40" align="right">comment:40</div>

Replying to [@mkoeppe](#comment:39):
> 
> 
> I'd guess this is just temporary breakage in their packaging. `jammy` is not released yet
> 
> 

it doesn't hurt to list these explicitly, anyway.



---

archive/issue_comments_532497.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nWhat are they needed for?",
    "created_at": "2022-02-11T18:33:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532497",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">comment:41</div>

What are they needed for?



---

archive/issue_comments_532498.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nReplying to [@mkoeppe](#comment:41):\n> What are they needed for?\n\nwithout them, one gets an error about needing `gpg-agent` very early on - it seems that `apt` is using it for the gcc_12 repo (i.e. for `ppa:ubuntu-toolchain-r/test`).",
    "created_at": "2022-02-11T18:52:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532498",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

Replying to [@mkoeppe](#comment:41):
> What are they needed for?

without them, one gets an error about needing `gpg-agent` very early on - it seems that `apt` is using it for the gcc_12 repo (i.e. for `ppa:ubuntu-toolchain-r/test`).



---

archive/issue_comments_532499.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@dimpase](#comment:42):\n> Replying to [@mkoeppe](#comment:41):\n> > What are they needed for?\n\n> without them, one gets an error about needing `gpg-agent` very early on - it seems that `apt` is using it for the gcc_12 repo (i.e. for `ppa:ubuntu-toolchain-r/test`).\n\n```\n...\nRunning hooks in /etc/ca-certificates/update.d...\ndone.\nProcessing triggers for dbus (1.12.20-2ubuntu2) ...\nRemoving intermediate container 97b378424ff4\n ---> a7905d898dc3\nStep 4/46 : RUN add-apt-repository ppa:ubuntu-toolchain-r/test\n ---> Running in 089462f9b5bb\ngpg: error running '/usr/bin/gpg-agent': probably not installed\ngpg: failed to start agent '/usr/bin/gpg-agent': Configuration error\ngpg: can't connect to the agent: Configuration error\nPPA publishes dbgsym, you may need to include 'main/debug' component\nRepository: 'deb https://ppa.launchpadcontent.net/ubuntu-toolchain-r/test/ubuntu/ jammy main'\nDescription:\nToolchain test builds; see https://wiki.ubuntu.com/ToolChain\n\nMore info: https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test\nAdding repository.\nAdding deb entry to /etc/apt/sources.list.d/ubuntu-toolchain-r-ubuntu-test-jammy.list\nAdding disabled deb-src entry to /etc/apt/sources.list.d/ubuntu-toolchain-r-ubuntu-test-jammy.list\nAdding key to /etc/apt/trusted.gpg.d/ubuntu-toolchain-r-ubuntu-test.gpg with fingerprint 60C317803A41BA51845E371A1E9377A2BA9EF27F\nTraceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/softwareproperties/shortcuthandler.py\", line 423, in add_key\n    subprocess.run(cmd.split(), check=True, input=keys)\n  File \"/usr/lib/python3.9/subprocess.py\", line 528, in run\n    raise CalledProcessError(retcode, process.args,\nsubprocess.CalledProcessError: Command '['gpg', '-q', '--no-options', '--no-default-keyring', '--batch', '--keyring', '/etc/apt/trusted.gpg.d/ubuntu-toolchain-r-ubuntu-test.gpg', '--homedir', '/tmp/tmpxpjb8_ko', '--import']' returned non-zero exit status 2.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/bin/add-apt-repository\", line 364, in <module>\n    sys.exit(0 if addaptrepo.main() else 1)\n  File \"/usr/bin/add-apt-repository\", line 357, in main\n    shortcut.add()\n  File \"/usr/lib/python3/dist-packages/softwareproperties/shortcuthandler.py\", line 222, in add\n    self.add_key()\n  File \"/usr/lib/python3/dist-packages/softwareproperties/shortcuthandler.py\", line 425, in add_key\n    raise ShortcutException(e)\nsoftwareproperties.shortcuthandler.ShortcutException: Command '['gpg', '-q', '--no-options', '--no-default-keyring', '--batch', '--keyring', '/etc/apt/trusted.gpg.d/ubuntu-toolchain-r-ubuntu-test.gpg', '--homedir', '/tmp/tmpxpjb8_ko', '--import']' returned non-zero exit status 2.\nThe command '/bin/sh -c add-apt-repository ppa:ubuntu-toolchain-r/test' returned a non-zero code: 1\nsha256:33b87097694e74588596c1c4562ad74acf4538864dc306022e8a29465c38099e\nERROR: InvocationError for command /bin/bash -c 'for docker_target in with-targets; do  BUILD_TAG=sage-docker-ubuntu-jammy-standard-toolchain-gcc_12-$docker_target:$(git describe --dirty --always);  DOCKER_BUILDKIT=0  docker build . -f /Users/dima/sage/.tox/docker-ubuntu-jammy-standard-toolchain-gcc_12/Dockerfile  --target $docker_target  --tag $BUILD_TAG  --build-arg EXTRA_CONFIGURE_ARGS=\"--enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes --with-system-gcc=force CC=gcc-12 CXX=g++-12 FC=gfortran-12 \"  --build-arg BASE_IMAGE=ubuntu:jammy  --build-arg BOOTSTRAP=\"./bootstrap\"  --build-arg TARGETS_PRE=\"$(if test -n \"$TARGETS_PRE\"; then echo $TARGETS_PRE; else echo all-sage-local; fi)\"  --build-arg TARGETS=\"build\"  --build-arg TARGETS_OPTIONAL=\"ptest\"  ; status=$?;  if [ $status != 0 ]; then BUILD_TAG=\"$BUILD_TAG-failed\"; docker commit $(docker ps -l -q) $BUILD_TAG; fi;  echo $BUILD_TAG >> /Users/dima/sage/.tox/docker-ubuntu-jammy-standard-toolchain-gcc_12/Dockertags;  if [ x\"\" != x ]; then echo Pushing $BUILD_TAG; docker push $BUILD_TAG || echo \"(ignoring errors)\"; fi;  if [ $status != 0 ]; then exit $status; fi; done' (exited with code 1)\n_______________________________________________________ summary ________________________________________________________\nERROR:   docker-ubuntu-jammy-standard-toolchain-gcc_12: commands failed\n```\n\nI guess `gpg/gpg-agent` is used for signature verification of that `ppa`.",
    "created_at": "2022-02-11T19:11:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532499",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@dimpase](#comment:42):
> Replying to [@mkoeppe](#comment:41):
> > What are they needed for?

> without them, one gets an error about needing `gpg-agent` very early on - it seems that `apt` is using it for the gcc_12 repo (i.e. for `ppa:ubuntu-toolchain-r/test`).

```
...
Running hooks in /etc/ca-certificates/update.d...
done.
Processing triggers for dbus (1.12.20-2ubuntu2) ...
Removing intermediate container 97b378424ff4
 ---> a7905d898dc3
Step 4/46 : RUN add-apt-repository ppa:ubuntu-toolchain-r/test
 ---> Running in 089462f9b5bb
gpg: error running '/usr/bin/gpg-agent': probably not installed
gpg: failed to start agent '/usr/bin/gpg-agent': Configuration error
gpg: can't connect to the agent: Configuration error
PPA publishes dbgsym, you may need to include 'main/debug' component
Repository: 'deb https://ppa.launchpadcontent.net/ubuntu-toolchain-r/test/ubuntu/ jammy main'
Description:
Toolchain test builds; see https://wiki.ubuntu.com/ToolChain

More info: https://launchpad.net/~ubuntu-toolchain-r/+archive/ubuntu/test
Adding repository.
Adding deb entry to /etc/apt/sources.list.d/ubuntu-toolchain-r-ubuntu-test-jammy.list
Adding disabled deb-src entry to /etc/apt/sources.list.d/ubuntu-toolchain-r-ubuntu-test-jammy.list
Adding key to /etc/apt/trusted.gpg.d/ubuntu-toolchain-r-ubuntu-test.gpg with fingerprint 60C317803A41BA51845E371A1E9377A2BA9EF27F
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/softwareproperties/shortcuthandler.py", line 423, in add_key
    subprocess.run(cmd.split(), check=True, input=keys)
  File "/usr/lib/python3.9/subprocess.py", line 528, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['gpg', '-q', '--no-options', '--no-default-keyring', '--batch', '--keyring', '/etc/apt/trusted.gpg.d/ubuntu-toolchain-r-ubuntu-test.gpg', '--homedir', '/tmp/tmpxpjb8_ko', '--import']' returned non-zero exit status 2.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/bin/add-apt-repository", line 364, in <module>
    sys.exit(0 if addaptrepo.main() else 1)
  File "/usr/bin/add-apt-repository", line 357, in main
    shortcut.add()
  File "/usr/lib/python3/dist-packages/softwareproperties/shortcuthandler.py", line 222, in add
    self.add_key()
  File "/usr/lib/python3/dist-packages/softwareproperties/shortcuthandler.py", line 425, in add_key
    raise ShortcutException(e)
softwareproperties.shortcuthandler.ShortcutException: Command '['gpg', '-q', '--no-options', '--no-default-keyring', '--batch', '--keyring', '/etc/apt/trusted.gpg.d/ubuntu-toolchain-r-ubuntu-test.gpg', '--homedir', '/tmp/tmpxpjb8_ko', '--import']' returned non-zero exit status 2.
The command '/bin/sh -c add-apt-repository ppa:ubuntu-toolchain-r/test' returned a non-zero code: 1
sha256:33b87097694e74588596c1c4562ad74acf4538864dc306022e8a29465c38099e
ERROR: InvocationError for command /bin/bash -c 'for docker_target in with-targets; do  BUILD_TAG=sage-docker-ubuntu-jammy-standard-toolchain-gcc_12-$docker_target:$(git describe --dirty --always);  DOCKER_BUILDKIT=0  docker build . -f /Users/dima/sage/.tox/docker-ubuntu-jammy-standard-toolchain-gcc_12/Dockerfile  --target $docker_target  --tag $BUILD_TAG  --build-arg EXTRA_CONFIGURE_ARGS="--enable-experimental-packages --enable-download-from-upstream-url  --with-system-python3=yes --with-system-gcc=force CC=gcc-12 CXX=g++-12 FC=gfortran-12 "  --build-arg BASE_IMAGE=ubuntu:jammy  --build-arg BOOTSTRAP="./bootstrap"  --build-arg TARGETS_PRE="$(if test -n "$TARGETS_PRE"; then echo $TARGETS_PRE; else echo all-sage-local; fi)"  --build-arg TARGETS="build"  --build-arg TARGETS_OPTIONAL="ptest"  ; status=$?;  if [ $status != 0 ]; then BUILD_TAG="$BUILD_TAG-failed"; docker commit $(docker ps -l -q) $BUILD_TAG; fi;  echo $BUILD_TAG >> /Users/dima/sage/.tox/docker-ubuntu-jammy-standard-toolchain-gcc_12/Dockertags;  if [ x"" != x ]; then echo Pushing $BUILD_TAG; docker push $BUILD_TAG || echo "(ignoring errors)"; fi;  if [ $status != 0 ]; then exit $status; fi; done' (exited with code 1)
_______________________________________________________ summary ________________________________________________________
ERROR:   docker-ubuntu-jammy-standard-toolchain-gcc_12: commands failed
```

I guess `gpg/gpg-agent` is used for signature verification of that `ppa`.



---

archive/issue_comments_532500.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bc45ce6cae778073e5e205f11a5e2834bc5fa35\">6bc45ce</a></td><td><code>build/bin/write-dockerfile.sh (debian) [EXTRA_REPOSITORY]: Also install gpg, gpg-agent</code></td></tr></table>\n",
    "created_at": "2022-02-11T20:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532500",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bc45ce6cae778073e5e205f11a5e2834bc5fa35">6bc45ce</a></td><td><code>build/bin/write-dockerfile.sh (debian) [EXTRA_REPOSITORY]: Also install gpg, gpg-agent</code></td></tr></table>




---

archive/issue_comments_532501.json:
```json
{
    "body": "Changed commit from **[80057ba](https://github.com/sagemath/sagetrac-mirror/commit/80057ba50ef98ff097b930efded426e5f51b6e1b)** to **[6bc45ce](https://github.com/sagemath/sagetrac-mirror/commit/6bc45ce6cae778073e5e205f11a5e2834bc5fa35)**",
    "created_at": "2022-02-11T20:10:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532501",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[80057ba](https://github.com/sagemath/sagetrac-mirror/commit/80057ba50ef98ff097b930efded426e5f51b6e1b)** to **[6bc45ce](https://github.com/sagemath/sagetrac-mirror/commit/6bc45ce6cae778073e5e205f11a5e2834bc5fa35)**



---

archive/issue_comments_532502.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThanks for catching this!",
    "created_at": "2022-02-11T20:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532502",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">comment:45</div>

Thanks for catching this!



---

archive/issue_comments_532503.json:
```json
{
    "body": "Dependencies: **#33187**",
    "created_at": "2022-02-11T20:14:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532503",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#33187**



---

archive/issue_comments_532504.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07bbd64eddd557eb92f3899b052ae22e792ce8c0\">07bbd64</a></td><td><code>build/pkgs/{gcc,gfortran}/spkg-configure.m4: Accept 12.x</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/734ba2358c4cbc478b01476cfdc8307a80e696be\">734ba23</a></td><td><code>build/pkgs/gcc/spkg-configure.m4: Reject GCC 4.9.x</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35857d84578f8df864be8f95d32aff7e45022542\">35857d8</a></td><td><code>build/pkgs/singular: Add upstream PR 1128 for GCC 12 support</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f27ff174acff12708b7dcb8a143a142f4a86f16b\">f27ff17</a></td><td><code>build/pkgs/giac/spkg-install.in: Use -std=gnu++11</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/459749bac30503f16b84abe2ddb00410a164a85b\">459749b</a></td><td><code>Merge #33187</code></td></tr></table>\n",
    "created_at": "2022-02-11T20:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07bbd64eddd557eb92f3899b052ae22e792ce8c0">07bbd64</a></td><td><code>build/pkgs/{gcc,gfortran}/spkg-configure.m4: Accept 12.x</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/734ba2358c4cbc478b01476cfdc8307a80e696be">734ba23</a></td><td><code>build/pkgs/gcc/spkg-configure.m4: Reject GCC 4.9.x</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35857d84578f8df864be8f95d32aff7e45022542">35857d8</a></td><td><code>build/pkgs/singular: Add upstream PR 1128 for GCC 12 support</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f27ff174acff12708b7dcb8a143a142f4a86f16b">f27ff17</a></td><td><code>build/pkgs/giac/spkg-install.in: Use -std=gnu++11</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/459749bac30503f16b84abe2ddb00410a164a85b">459749b</a></td><td><code>Merge #33187</code></td></tr></table>




---

archive/issue_comments_532505.json:
```json
{
    "body": "Changed commit from **[6bc45ce](https://github.com/sagemath/sagetrac-mirror/commit/6bc45ce6cae778073e5e205f11a5e2834bc5fa35)** to **[459749b](https://github.com/sagemath/sagetrac-mirror/commit/459749bac30503f16b84abe2ddb00410a164a85b)**",
    "created_at": "2022-02-11T20:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6bc45ce](https://github.com/sagemath/sagetrac-mirror/commit/6bc45ce6cae778073e5e205f11a5e2834bc5fa35)** to **[459749b](https://github.com/sagemath/sagetrac-mirror/commit/459749bac30503f16b84abe2ddb00410a164a85b)**



---

archive/issue_comments_532506.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nReplying to [@dimpase](#comment:35):\n> gcc-12 obviously needs #33187, to have a chance of working. \n\nOK, I have made it a dependency",
    "created_at": "2022-02-11T20:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532506",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:48" align="right">comment:48</div>

Replying to [@dimpase](#comment:35):
> gcc-12 obviously needs #33187, to have a chance of working. 

OK, I have made it a dependency



---

archive/issue_comments_532507.json:
```json
{
    "body": "<div id=\"comment:49\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/983b4a85964362e7545012d331323c39a9e2f55e\">983b4a8</a></td><td><code>src/doc/en/developer/portability_testing.rst: Document RAM needs for Docker containers</code></td></tr></table>\n",
    "created_at": "2022-02-11T20:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532507",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:49"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/983b4a85964362e7545012d331323c39a9e2f55e">983b4a8</a></td><td><code>src/doc/en/developer/portability_testing.rst: Document RAM needs for Docker containers</code></td></tr></table>




---

archive/issue_comments_532508.json:
```json
{
    "body": "Changed commit from **[459749b](https://github.com/sagemath/sagetrac-mirror/commit/459749bac30503f16b84abe2ddb00410a164a85b)** to **[983b4a8](https://github.com/sagemath/sagetrac-mirror/commit/983b4a85964362e7545012d331323c39a9e2f55e)**",
    "created_at": "2022-02-11T20:20:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532508",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[459749b](https://github.com/sagemath/sagetrac-mirror/commit/459749bac30503f16b84abe2ddb00410a164a85b)** to **[983b4a8](https://github.com/sagemath/sagetrac-mirror/commit/983b4a85964362e7545012d331323c39a9e2f55e)**



---

archive/issue_comments_532509.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nOK, it's good to go.",
    "created_at": "2022-02-11T22:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532509",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">comment:50</div>

OK, it's good to go.



---

archive/issue_events_453694.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-11T22:38:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453694"
}
```



---

archive/issue_events_453695.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-11T22:38:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453695"
}
```



---

archive/issue_comments_532510.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-02-11T22:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532510",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_532511.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nThank you!",
    "created_at": "2022-02-11T22:38:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532511",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">comment:51</div>

Thank you!



---

archive/issue_events_453696.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-11T22:39:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453696"
}
```



---

archive/issue_events_453697.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-11T22:39:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453697"
}
```



---

archive/issue_comments_532512.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nMerge failure on top of:\n\nb34c0d5ded Trac #31529: texlive: Add spkg-configure.m4 and system package information; remove install script\n\nc4e4a6387f Trac #31415: GH Actions workflow that builds documentation on each push\n\n9cc853b81b Trac #33107: Generic cholesky() fails on the trivial matrix\n\n88a98d50c3 Trac #33103: gitpod integration using Docker images from portability testing workflow\n\nd4466d825b Trac #33102: some details in shuffle and multizeta\n\n09de266470 Trac #33098: Add more void packages to distros/void.txt\n\n73dd8d1cf5 Trac #33096: src/tox.ini (relint): Exclude editor temp files etc.\n\na0d0888f54 Trac #33095: again some details in Dyck words\n\n4fa191a754 Trac #33071: Update pillow to 8.4\n\n733ed250a3 Trac #33070: Package upgrades for Python 3.10 support\n\ne4f3f1dc9b Trac #33069: Remove spkg speaklater\n\n18ba1d8cdd Trac #33064: sage_docbuild: fails when cache cannot be saved\n\n467c32cce3 Trac #33049: Update scipy to 1.7.3\n\n2cf334f97d Trac #33048: Update setuptools to 59.8.0\n\n3a4cc169b4 Trac #33045: ffmpeg tests time out\n\n8fb89a37bb Trac #33039: Random doctest failure in continued_fraction_gosper\n\n236856d0da Trac #33026: make BinaryQF.solve_integer() work for square discriminants\n\n2ad7305f87 Trac #33015: Random failure in number_field_element.pyx\n\nc45f12e9e6 Trac #33009: Move is_prism and is_bipyramid to combinatorial polyhedron\n\n87011e965e Trac #33008: Polyhedron_base.facet_adjacency_matrix: Do not use face_lattice\n\n46cc022732 Trac #33007: Remove imports from sage.interfaces.all\n\n57fe9e661a Trac #33005: Add feature for pdftocairo\n\n69d9945eb0 Trac #32993: add pictures to line.py documentation\n\n3834fded18 Trac #32788: Permanently get rid of bare except: statements\n\n0207af8674 Trac #32209: Allow evaluation of morphisms of schemes on points over different rings\n\n206ff0b058 Trac #33269: fix for build/pkgs/tox/distros/gentoo.txt\n\n6d154b634f Trac #33226: Support giac-1.7.0.45 in doctests\n\nd5d2e23df5 Trac #33187: Allow gcc/gfortran 12\n\n59c0620436 Trac #33140: GH Actions (macOS): Fix filtering of experimental packages\n\n0669c95412 Trac #32211: Upgrade FLINT to 2.8.4, arb to 2.22.1\n\n508ea2d518 Trac #33284: Fix macro name clash introduced in #25633\n\nb511685469 Trac #32989: Remove imports from sage.misc.all\n\n9c6afb97c8 Trac #32505: Finitely presented graded modules over graded connected algebras\n\n226937dfa9 Updated [SageMath](../wiki/SageMath) version to 9.6.beta0\n\n\n\nmerge was not clean: conflicts in build/bin/write-dockerfile.sh",
    "created_at": "2022-02-12T22:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532512",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:53" align="right">comment:53</div>

Merge failure on top of:

b34c0d5ded Trac #31529: texlive: Add spkg-configure.m4 and system package information; remove install script

c4e4a6387f Trac #31415: GH Actions workflow that builds documentation on each push

9cc853b81b Trac #33107: Generic cholesky() fails on the trivial matrix

88a98d50c3 Trac #33103: gitpod integration using Docker images from portability testing workflow

d4466d825b Trac #33102: some details in shuffle and multizeta

09de266470 Trac #33098: Add more void packages to distros/void.txt

73dd8d1cf5 Trac #33096: src/tox.ini (relint): Exclude editor temp files etc.

a0d0888f54 Trac #33095: again some details in Dyck words

4fa191a754 Trac #33071: Update pillow to 8.4

733ed250a3 Trac #33070: Package upgrades for Python 3.10 support

e4f3f1dc9b Trac #33069: Remove spkg speaklater

18ba1d8cdd Trac #33064: sage_docbuild: fails when cache cannot be saved

467c32cce3 Trac #33049: Update scipy to 1.7.3

2cf334f97d Trac #33048: Update setuptools to 59.8.0

3a4cc169b4 Trac #33045: ffmpeg tests time out

8fb89a37bb Trac #33039: Random doctest failure in continued_fraction_gosper

236856d0da Trac #33026: make BinaryQF.solve_integer() work for square discriminants

2ad7305f87 Trac #33015: Random failure in number_field_element.pyx

c45f12e9e6 Trac #33009: Move is_prism and is_bipyramid to combinatorial polyhedron

87011e965e Trac #33008: Polyhedron_base.facet_adjacency_matrix: Do not use face_lattice

46cc022732 Trac #33007: Remove imports from sage.interfaces.all

57fe9e661a Trac #33005: Add feature for pdftocairo

69d9945eb0 Trac #32993: add pictures to line.py documentation

3834fded18 Trac #32788: Permanently get rid of bare except: statements

0207af8674 Trac #32209: Allow evaluation of morphisms of schemes on points over different rings

206ff0b058 Trac #33269: fix for build/pkgs/tox/distros/gentoo.txt

6d154b634f Trac #33226: Support giac-1.7.0.45 in doctests

d5d2e23df5 Trac #33187: Allow gcc/gfortran 12

59c0620436 Trac #33140: GH Actions (macOS): Fix filtering of experimental packages

0669c95412 Trac #32211: Upgrade FLINT to 2.8.4, arb to 2.22.1

508ea2d518 Trac #33284: Fix macro name clash introduced in #25633

b511685469 Trac #32989: Remove imports from sage.misc.all

9c6afb97c8 Trac #32505: Finitely presented graded modules over graded connected algebras

226937dfa9 Updated [SageMath](../wiki/SageMath) version to 9.6.beta0



merge was not clean: conflicts in build/bin/write-dockerfile.sh



---

archive/issue_events_453698.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-12T22:07:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453698"
}
```



---

archive/issue_events_453699.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-12T22:07:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453699"
}
```



---

archive/issue_comments_532513.json:
```json
{
    "body": "Changed dependencies from **#33187** to **#33187, #33103**",
    "created_at": "2022-02-12T22:21:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532513",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#33187** to **#33187, #33103**



---

archive/issue_comments_532514.json:
```json
{
    "body": "Changed commit from **[983b4a8](https://github.com/sagemath/sagetrac-mirror/commit/983b4a85964362e7545012d331323c39a9e2f55e)** to **[a78c109](https://github.com/sagemath/sagetrac-mirror/commit/a78c10907c3950c934a07765a51be5f50e02ab03)**",
    "created_at": "2022-02-12T22:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532514",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[983b4a8](https://github.com/sagemath/sagetrac-mirror/commit/983b4a85964362e7545012d331323c39a9e2f55e)** to **[a78c109](https://github.com/sagemath/sagetrac-mirror/commit/a78c10907c3950c934a07765a51be5f50e02ab03)**



---

archive/issue_comments_532515.json:
```json
{
    "body": "<div id=\"comment:55\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36050766eb9d84679210ead65650869ba0e46412\">3605076</a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up deleting temp.*</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d87027c8d35dbd268d12de6e6d8fa03b1afaa63d\">d87027c</a></td><td><code>sage --package list: Add option --exclude</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c02c03c8465a2515676b25f0686c1485083bb757\">c02c03c</a></td><td><code>tox.ini (gitpod-standard): Exclude some packages</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6285cd9563c8d3a4dc3f8b97e128373a6021a668\">6285cd9</a></td><td><code>.gitpod.Dockerfile: Save space by removing apt lists</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e74607979224e0b8f7d2803fc8b68f3802a64f4\">7e74607</a></td><td><code>.gitpod.Dockerfile: Remove built Sage documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f71c8b6c625017b0d37e956b0386111630ad6fe1\">f71c8b6</a></td><td><code>docker/.gitpod.Dockerfile: Clean more</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f95322851c6494818bc08cd6fb3ce94e9c27debb\">f953228</a></td><td><code>Merge tag '9.5.rc0' into t/33103/gitpod_integration_using_docker_images_from_portability_testing_workflow</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d0902a1fee81d0749cc274fbec1d965cc522466\">2d0902a</a></td><td><code>src/doc/en/developer/workspace.rst: Fix markup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078f247c9a5ea383178499e9b0e990777f497a6e\">078f247</a></td><td><code>.github/workflows/tox*.yml: Transform GITHUB_REF_NAME to a valid docker tag</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a78c10907c3950c934a07765a51be5f50e02ab03\">a78c109</a></td><td><code>Merge #33103</code></td></tr></table>\n",
    "created_at": "2022-02-12T22:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532515",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:55"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36050766eb9d84679210ead65650869ba0e46412">3605076</a></td><td><code>build/pkgs/sagelib/spkg-install: Fix up deleting temp.*</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d87027c8d35dbd268d12de6e6d8fa03b1afaa63d">d87027c</a></td><td><code>sage --package list: Add option --exclude</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c02c03c8465a2515676b25f0686c1485083bb757">c02c03c</a></td><td><code>tox.ini (gitpod-standard): Exclude some packages</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6285cd9563c8d3a4dc3f8b97e128373a6021a668">6285cd9</a></td><td><code>.gitpod.Dockerfile: Save space by removing apt lists</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e74607979224e0b8f7d2803fc8b68f3802a64f4">7e74607</a></td><td><code>.gitpod.Dockerfile: Remove built Sage documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f71c8b6c625017b0d37e956b0386111630ad6fe1">f71c8b6</a></td><td><code>docker/.gitpod.Dockerfile: Clean more</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f95322851c6494818bc08cd6fb3ce94e9c27debb">f953228</a></td><td><code>Merge tag '9.5.rc0' into t/33103/gitpod_integration_using_docker_images_from_portability_testing_workflow</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d0902a1fee81d0749cc274fbec1d965cc522466">2d0902a</a></td><td><code>src/doc/en/developer/workspace.rst: Fix markup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078f247c9a5ea383178499e9b0e990777f497a6e">078f247</a></td><td><code>.github/workflows/tox*.yml: Transform GITHUB_REF_NAME to a valid docker tag</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a78c10907c3950c934a07765a51be5f50e02ab03">a78c109</a></td><td><code>Merge #33103</code></td></tr></table>




---

archive/issue_events_453700.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T22:23:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453700"
}
```



---

archive/issue_events_453701.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T22:23:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453701"
}
```



---

archive/issue_comments_532516.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nJust noticed that now `tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9 -- config.status` gives\n\n```\nE: Package 'gpg' has no installation candidate\nE: Unable to locate package gpg-agent\nThe command '/bin/sh -c apt-get update &&  DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common gpg gpg-agent' returned a non-zero code: 100\n```",
    "created_at": "2022-02-12T22:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532516",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:57" align="right">comment:57</div>

Just noticed that now `tox -e docker-ubuntu-xenial-standard-toolchain-gcc_9 -- config.status` gives

```
E: Package 'gpg' has no installation candidate
E: Unable to locate package gpg-agent
The command '/bin/sh -c apt-get update &&  DEBIAN_FRONTEND=noninteractive apt-get install -qqq --no-install-recommends --yes software-properties-common gpg gpg-agent' returned a non-zero code: 100
```



---

archive/issue_events_453702.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T22:38:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453702"
}
```



---

archive/issue_events_453703.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T22:38:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453703"
}
```



---

archive/issue_comments_532517.json:
```json
{
    "body": "Changed commit from **[a78c109](https://github.com/sagemath/sagetrac-mirror/commit/a78c10907c3950c934a07765a51be5f50e02ab03)** to **[f98e0dc](https://github.com/sagemath/sagetrac-mirror/commit/f98e0dc0c94687344589387bf093445fef9bb6c7)**",
    "created_at": "2022-02-12T22:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532517",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a78c109](https://github.com/sagemath/sagetrac-mirror/commit/a78c10907c3950c934a07765a51be5f50e02ab03)** to **[f98e0dc](https://github.com/sagemath/sagetrac-mirror/commit/f98e0dc0c94687344589387bf093445fef9bb6c7)**



---

archive/issue_comments_532518.json:
```json
{
    "body": "<div id=\"comment:58\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f98e0dc0c94687344589387bf093445fef9bb6c7\">f98e0dc</a></td><td><code>build/bin/write-dockerfile.sh (debian) [EXTRA_REPOSITORY]: Do not fail if gpg, gpg-agent cannot be installed</code></td></tr></table>\n",
    "created_at": "2022-02-12T22:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532518",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:58"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f98e0dc0c94687344589387bf093445fef9bb6c7">f98e0dc</a></td><td><code>build/bin/write-dockerfile.sh (debian) [EXTRA_REPOSITORY]: Do not fail if gpg, gpg-agent cannot be installed</code></td></tr></table>




---

archive/issue_events_453704.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T22:43:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453704"
}
```



---

archive/issue_events_453705.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T22:43:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453705"
}
```



---

archive/issue_comments_532519.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@sagetrac-git](#comment:26):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491\">4e2d536</a></td><td><code>build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common</code></td></tr></table>\n\nyou forgot this one, and without it one gets an error early on.",
    "created_at": "2022-02-13T10:38:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532519",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@sagetrac-git](#comment:26):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491">4e2d536</a></td><td><code>build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common</code></td></tr></table>

you forgot this one, and without it one gets an error early on.



---

archive/issue_comments_532520.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nReplying to [@dimpase](#comment:60):\n> Replying to [@sagetrac-git](#comment:26):\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n\n> |                                                                                                                                                 |                                                                                                         |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|\n> |[4e2d536](https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491)|`build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common`|\n> \n> you forgot this one, and without it one gets an error early on.\n\noops, sorry, I messed up my branches. It's good here. Still testing.",
    "created_at": "2022-02-13T13:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532520",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:61" align="right">comment:61</div>

Replying to [@dimpase](#comment:60):
> Replying to [@sagetrac-git](#comment:26):
> > Branch pushed to git repo; I updated commit sha1. New commits:

> |                                                                                                                                                 |                                                                                                         |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
> |[4e2d536](https://github.com/sagemath/sagetrac-mirror/commit/4e2d53621d0a2ab5ae8b8b30056b6d7644daf491)|`build/bin/write-dockerfile.sh (ubuntu): Run apt-get update before installing software-properties-common`|
> 
> you forgot this one, and without it one gets an error early on.

oops, sorry, I messed up my branches. It's good here. Still testing.



---

archive/issue_comments_532521.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nPlease add wiping up `/etc/dpkg/dpkg.cfg.d/excludes` in handling of Ubuntu images, otherwise `apt` will drop stuff there, see [#32789 comment:61](https://github.com/sagemath/sage/issues/32789#comment:61) (and https://bugs.launchpad.net/ubuntu/+source/dpkg/+bug/1960749 mentioned there)",
    "created_at": "2022-02-13T20:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532521",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:62" align="right">comment:62</div>

Please add wiping up `/etc/dpkg/dpkg.cfg.d/excludes` in handling of Ubuntu images, otherwise `apt` will drop stuff there, see [#32789 comment:61](https://github.com/sagemath/sage/issues/32789#comment:61) (and https://bugs.launchpad.net/ubuntu/+source/dpkg/+bug/1960749 mentioned there)



---

archive/issue_comments_532522.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nI've pushed this change to the branch of #32789",
    "created_at": "2022-02-13T20:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532522",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">comment:63</div>

I've pushed this change to the branch of #32789



---

archive/issue_events_453706.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-14T14:45:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453706"
}
```



---

archive/issue_events_453707.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-14T14:45:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453707"
}
```



---

archive/issue_comments_532523.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nOK, lgtm",
    "created_at": "2022-02-14T14:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532523",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:64" align="right">comment:64</div>

OK, lgtm



---

archive/issue_comments_532524.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nThanks!",
    "created_at": "2022-02-14T16:44:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532524",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">comment:65</div>

Thanks!



---

archive/issue_comments_532525.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nneeds a rebase",
    "created_at": "2022-02-16T12:53:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532525",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:66" align="right">comment:66</div>

needs a rebase



---

archive/issue_comments_532526.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89\">d42bc03</a></td><td><code>Merge tag '9.6.beta1' into t/32966/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r</code></td></tr></table>\n",
    "created_at": "2022-02-16T16:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532526",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89">d42bc03</a></td><td><code>Merge tag '9.6.beta1' into t/32966/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r</code></td></tr></table>




---

archive/issue_comments_532527.json:
```json
{
    "body": "Changed commit from **[f98e0dc](https://github.com/sagemath/sagetrac-mirror/commit/f98e0dc0c94687344589387bf093445fef9bb6c7)** to **[d42bc03](https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89)**",
    "created_at": "2022-02-16T16:30:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532527",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f98e0dc](https://github.com/sagemath/sagetrac-mirror/commit/f98e0dc0c94687344589387bf093445fef9bb6c7)** to **[d42bc03](https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89)**



---

archive/issue_events_453708.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-02-16T16:30:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453708"
}
```



---

archive/issue_events_453709.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2022-02-16T16:30:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453709"
}
```



---

archive/issue_events_453710.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-16T16:30:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453710"
}
```



---

archive/issue_events_453711.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-16T16:30:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453711"
}
```



---

archive/issue_comments_532528.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r)** to **[d42bc03](https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89)**",
    "created_at": "2022-02-20T13:28:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32966#issuecomment-532528",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/tox___gh_actions__add_ubuntu_variants_using_ppa_ubuntu_toolchain_r)** to **[d42bc03](https://github.com/sagemath/sagetrac-mirror/commit/d42bc03b1a39736de8534dcf3a05c2b02ec3ce89)**



---

archive/issue_events_453712.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-20T13:28:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453712"
}
```



---

archive/issue_events_453713.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "03d78e2ff6441ca1f6429aed5cd6696b7e811ca7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-20T13:28:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32966",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32966#event-453713"
}
```
