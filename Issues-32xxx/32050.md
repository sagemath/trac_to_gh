# Issue 32050: 2 internet doctest failing in oeis.py

archive/issues_031813.json:
```json
{
    "body": "With 9.4.beta3\n\n```\nsage -t --optional=sage,internet src/sage/databases/oeis.py\n```\n\ngives\n\n```\nsage -t --long --random-seed=0 src/sage/databases/oeis.py\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 1506, in sage.databases.oeis.OEISSequence.references\nFailed example:\n    w.references()                        # optional -- internet\nExpected:\n    0: A. H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.\n    1: C. Clawson, Mathematical Mysteries, Plenum Press, 1996, p. 180.\n    2: R. Crandall and C. Pomerance, Prime Numbers: A Computational Perspective, Springer, NY, 2001; see p. 29.\n    3: G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 5th ed., Oxford Univ. Press, 1979, th. 80.\n    ...\nGot:\n    0: N. G. W. H. Beeger, On the Congruence (p-1)! == -1 (mod p^2), Messenger of Mathematics, Vol. 49 (1920), pp. 177-178.\n    1: Albert H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.\n    2: Calvin C. Clawson, Mathematical Mysteries, Plenum Press, 1996, p. 180.\n    3: Richard Crandall and Carl Pomerance, Prime Numbers: A Computational Perspective, Springer, NY, 2001; see p. 29.\n    4: G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 5th ed., Oxford Univ. Press, 1979, th. 80.\n    5: Paulo Ribenboim, My Numbers, My Friends: Popular Lectures on Number Theory, Springer Science & Business Media, 2000, ISBN 0-387-98911-0.\n    6: Paulo Ribenboim, The Book of Prime Number Records. Springer-Verlag, NY, 2nd ed., 1989, p. 277.\n    7: N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence).\n    8: Ilan Vardi, Computational Recreations in Mathematica. Addison-Wesley, Redwood City, CA, 1991, p. 73.\n    9: David Wells, The Penguin Dictionary of Curious and Interesting Numbers. Penguin Books, NY, 1986, 163.\n**********************************************************************\nFile \"src/sage/databases/oeis.py\", line 1513, in sage.databases.oeis.OEISSequence.references\nFailed example:\n    _[0]                                  # optional -- internet\nExpected:\n    'A. H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.'\nGot:\n    'N. G. W. H. Beeger, On the Congruence (p-1)! == -1 (mod p^2), Messenger of Mathematics, Vol. 49 (1920), pp. 177-178.'\n\n**********************************************************************\n1 item had failures:\n   2 of   6 in sage.databases.oeis.OEISSequence.references\n    5 webbrowser tests not run\n    0 tests not run because we ran out of time\n    [290 tests, 2 failures, 38.95 s]\n```\n\nCC:  @tscrim @slel @kliem\n\nReviewer: Travis Scrimshaw\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nBranch: 618c9d2fc856b415c096e9623dd54177632f9c44\n\nCommit: 618c9d2fc856b415c096e9623dd54177632f9c44\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32050\n\n",
    "closed_at": "2021-08-31T22:00:47Z",
    "created_at": "2021-06-24T11:53:22Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "2 internet doctest failing in oeis.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32050",
    "user": "https://github.com/seblabbe"
}
```
With 9.4.beta3

```
sage -t --optional=sage,internet src/sage/databases/oeis.py
```

gives

```
sage -t --long --random-seed=0 src/sage/databases/oeis.py
**********************************************************************
File "src/sage/databases/oeis.py", line 1506, in sage.databases.oeis.OEISSequence.references
Failed example:
    w.references()                        # optional -- internet
Expected:
    0: A. H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.
    1: C. Clawson, Mathematical Mysteries, Plenum Press, 1996, p. 180.
    2: R. Crandall and C. Pomerance, Prime Numbers: A Computational Perspective, Springer, NY, 2001; see p. 29.
    3: G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 5th ed., Oxford Univ. Press, 1979, th. 80.
    ...
Got:
    0: N. G. W. H. Beeger, On the Congruence (p-1)! == -1 (mod p^2), Messenger of Mathematics, Vol. 49 (1920), pp. 177-178.
    1: Albert H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.
    2: Calvin C. Clawson, Mathematical Mysteries, Plenum Press, 1996, p. 180.
    3: Richard Crandall and Carl Pomerance, Prime Numbers: A Computational Perspective, Springer, NY, 2001; see p. 29.
    4: G. H. Hardy and E. M. Wright, An Introduction to the Theory of Numbers, 5th ed., Oxford Univ. Press, 1979, th. 80.
    5: Paulo Ribenboim, My Numbers, My Friends: Popular Lectures on Number Theory, Springer Science & Business Media, 2000, ISBN 0-387-98911-0.
    6: Paulo Ribenboim, The Book of Prime Number Records. Springer-Verlag, NY, 2nd ed., 1989, p. 277.
    7: N. J. A. Sloane and Simon Plouffe, The Encyclopedia of Integer Sequences, Academic Press, 1995 (includes this sequence).
    8: Ilan Vardi, Computational Recreations in Mathematica. Addison-Wesley, Redwood City, CA, 1991, p. 73.
    9: David Wells, The Penguin Dictionary of Curious and Interesting Numbers. Penguin Books, NY, 1986, 163.
**********************************************************************
File "src/sage/databases/oeis.py", line 1513, in sage.databases.oeis.OEISSequence.references
Failed example:
    _[0]                                  # optional -- internet
Expected:
    'A. H. Beiler, Recreations in the Theory of Numbers, Dover, NY, 1964, p. 52.'
Got:
    'N. G. W. H. Beeger, On the Congruence (p-1)! == -1 (mod p^2), Messenger of Mathematics, Vol. 49 (1920), pp. 177-178.'

**********************************************************************
1 item had failures:
   2 of   6 in sage.databases.oeis.OEISSequence.references
    5 webbrowser tests not run
    0 tests not run because we ran out of time
    [290 tests, 2 failures, 38.95 s]
```

CC:  @tscrim @slel @kliem

Reviewer: Travis Scrimshaw

Author: Frédéric Chapoton

Branch: 618c9d2fc856b415c096e9623dd54177632f9c44

Commit: 618c9d2fc856b415c096e9623dd54177632f9c44

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32050





---

archive/issue_comments_454120.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-02T16:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32050#issuecomment-454120",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_454121.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2021-08-02T16:26:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32050#issuecomment-454121",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_454122.json:
```json
{
    "body": "<a id='comment:2'></a>simple ticket, please review",
    "created_at": "2021-08-11T12:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32050#issuecomment-454122",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>simple ticket, please review



---

archive/issue_comments_454123.json:
```json
{
    "body": "<a id='comment:3'></a>It would be nice to make this fully independent of the data that is upstream, but that might be too much to hope for... This will work for now as it is unlikely to change much...hopefully...",
    "created_at": "2021-08-11T12:48:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32050#issuecomment-454123",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>It would be nice to make this fully independent of the data that is upstream, but that might be too much to hope for... This will work for now as it is unlikely to change much...hopefully...



---

archive/issue_comments_454124.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-11T12:48:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32050#issuecomment-454124",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_084807.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-22T20:35:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32050#event-84807"
}
```



---

archive/issue_comments_454125.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-08-31T22:00:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32050#issuecomment-454125",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084808.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-08-31T22:00:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32050",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32050#event-84808"
}
```
