# Issue 32438: Restore the "backward" option for graph dot2tex

archive/issues_032201.json:
```json
{
    "body": "The change made on #31381 is not compatible with the previous behavior of `backward=True` for the edge options with `dot2tex` rendering of graphs. In particular, this was seen when viewing KR crystals such as\n\n```\nview(crystals.KirillovReshetikhin(['C',3,1], 3,1))\n```\n\nWe will add back in the `backward` option, which supports different behavior than `dir='back'`:\n\n- `backward=True` will be a layout-only indication that a particular arrow should be oriented in the opposite direction compared to other arrows.\n- `dir='back'` will have the arrows pointing in the backwards direction.\n\nThis also reverts the change in #31719 to get the previous behavior.\n\nCC:  sage-combinat @seblabbe @fchapoton @anneschilling @dwbump @nthiery @bsalisbury1\n\nKeywords: dot2tex\n\nReviewer: S\u00e9bastien Labb\u00e9\n\nAuthor: Travis Scrimshaw\n\nBranch: 7e2b1deabdaf20a8e78629ed69a356af4c4b0846\n\nCommit: 7e2b1deabdaf20a8e78629ed69a356af4c4b0846\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32438\n\n",
    "closed_at": "2021-10-09T11:09:45Z",
    "created_at": "2021-08-30T22:25:04Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Restore the \"backward\" option for graph dot2tex",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32438",
    "user": "https://github.com/tscrim"
}
```
The change made on #31381 is not compatible with the previous behavior of `backward=True` for the edge options with `dot2tex` rendering of graphs. In particular, this was seen when viewing KR crystals such as

```
view(crystals.KirillovReshetikhin(['C',3,1], 3,1))
```

We will add back in the `backward` option, which supports different behavior than `dir='back'`:

- `backward=True` will be a layout-only indication that a particular arrow should be oriented in the opposite direction compared to other arrows.
- `dir='back'` will have the arrows pointing in the backwards direction.

This also reverts the change in #31719 to get the previous behavior.

CC:  sage-combinat @seblabbe @fchapoton @anneschilling @dwbump @nthiery @bsalisbury1

Keywords: dot2tex

Reviewer: Sébastien Labbé

Author: Travis Scrimshaw

Branch: 7e2b1deabdaf20a8e78629ed69a356af4c4b0846

Commit: 7e2b1deabdaf20a8e78629ed69a356af4c4b0846

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32438





---

archive/issue_comments_459521.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-30T22:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459521",
    "user": "https://github.com/tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_459522.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2021-08-30T22:43:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459522",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_459523.json:
```json
{
    "body": "<a id='comment:2'></a>Green bot (essentially).",
    "created_at": "2021-09-08T01:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459523",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>Green bot (essentially).



---

archive/issue_comments_459524.json:
```json
{
    "body": "<a id='comment:3'></a>I would prefer that S\u00e9bastien gives a positive review, if possible.",
    "created_at": "2021-09-08T05:50:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459524",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>I would prefer that Sébastien gives a positive review, if possible.



---

archive/issue_comments_459525.json:
```json
{
    "body": "<a id='comment:4'></a>Yes, please, let me take a look. I was overloaded by the \"rentr\u00e9e\". Next days will be better, I check this tomorrow on Thursday.",
    "created_at": "2021-09-08T11:58:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459525",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>Yes, please, let me take a look. I was overloaded by the "rentrée". Next days will be better, I check this tomorrow on Thursday.



---

archive/issue_comments_459526.json:
```json
{
    "body": "<a id='comment:5'></a>No problem. There isn't a big rush on this. I would appreciate it if this got into 9.5. `:)`",
    "created_at": "2021-09-08T22:02:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459526",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>No problem. There isn't a big rush on this. I would appreciate it if this got into 9.5. `:)`



---

archive/issue_comments_459527.json:
```json
{
    "body": "<a id='comment:6'></a>I still haven't had the opportunity the try the branch. My last update of sage broke and I need to take a look. But looking at the proposed branch, I have one comment:\n\nthe change\n\n```diff\n+        - ``\"backward\"`` (boolean)\n```\nneeds documentation. Maybe for an English speaker it is clear, but to me, it is difficult to understand the difference between `dir='back'` and `backward=True`. That difference needs to be explained in words here. Secondly, it should explicit what it does (that is, `u,v=v,u` and etc.). Also, it should be explained that it is something that will work only when `prog='dot'` and not for the other Graphviz programs like neato, fdp, circo, etc.\n\nThis is why I still think it is kind of a hack but I don't disagree to put it back.",
    "created_at": "2021-09-09T14:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459527",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>I still haven't had the opportunity the try the branch. My last update of sage broke and I need to take a look. But looking at the proposed branch, I have one comment:

the change

```diff
+        - ``"backward"`` (boolean)
```
needs documentation. Maybe for an English speaker it is clear, but to me, it is difficult to understand the difference between `dir='back'` and `backward=True`. That difference needs to be explained in words here. Secondly, it should explicit what it does (that is, `u,v=v,u` and etc.). Also, it should be explained that it is something that will work only when `prog='dot'` and not for the other Graphviz programs like neato, fdp, circo, etc.

This is why I still think it is kind of a hack but I don't disagree to put it back.



---

archive/issue_comments_459528.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-09T14:03:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459528",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_459529.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-10T02:06:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459530.json:
```json
{
    "body": "<a id='comment:8'></a>I added a bit more to the example to indicate more clearly what changes, which is in line with the rest of the documentation for that section. Everything within that the code does works for all such programs (although it may or may not have an impact, but that is irrelevant).\n\nIt is definitely not a hack as the layout order matters (for at least one program), and we have mathematical information attached to the digraph that would be wrong if we change the arrows.",
    "created_at": "2021-09-10T02:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459530",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>I added a bit more to the example to indicate more clearly what changes, which is in line with the rest of the documentation for that section. Everything within that the code does works for all such programs (although it may or may not have an impact, but that is irrelevant).

It is definitely not a hack as the layout order matters (for at least one program), and we have mathematical information attached to the digraph that would be wrong if we change the arrows.



---

archive/issue_comments_459531.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-14T23:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459531",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_459532.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-30T09:17:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_459533.json:
```json
{
    "body": "<a id='comment:11'></a>I added some documentation to the 'backward' option. I give a positive review to the commits made before mine. I let Travis change the status to positive review if he agrees with my commit.",
    "created_at": "2021-09-30T09:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459533",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:11'></a>I added some documentation to the 'backward' option. I give a positive review to the commits made before mine. I let Travis change the status to positive review if he agrees with my commit.



---

archive/issue_comments_459534.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-09-30T09:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459534",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_459535.json:
```json
{
    "body": "<a id='comment:13'></a>Let's get this in.",
    "created_at": "2021-09-30T09:36:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459535",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>Let's get this in.



---

archive/issue_events_086058.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-09T11:09:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32438#event-86058"
}
```



---

archive/issue_comments_459536.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-09T11:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32438#issuecomment-459536",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
