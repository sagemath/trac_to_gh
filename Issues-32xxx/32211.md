# Issue 32211: Upgrade FLINT to 2.8.4, arb to 2.22.1

archive/issues_031974.json:
```json
{
    "assignees": [],
    "body": "FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3,\nthen FLINT 2.8.4:\n\n- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ\n- https://groups.google.com/g/sage-devel/c/YAXRi9r13b0\n- https://groups.google.com/g/sage-devel/c/8UX7uniBb5E\n\nArb release history:\n\n- https://arblib.org/history.html\n\n\n\nDepends on #33189\n\nCC:  @slel\n\nKeywords: **upgrade, arb, flint**\n\nBranch/Commit: **[`45f4984`](https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Jonathan Kliem, Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32211_\n\n",
    "closed_at": "2022-02-12T22:07:05Z",
    "created_at": "2021-07-16T16:44:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade FLINT to 2.8.4, arb to 2.22.1",
    "type": "issue",
    "updated_at": "2022-02-12T22:07:05Z",
    "url": "https://github.com/sagemath/sage/issues/32211",
    "user": "https://github.com/mkoeppe"
}
```
FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3,
then FLINT 2.8.4:

- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ
- https://groups.google.com/g/sage-devel/c/YAXRi9r13b0
- https://groups.google.com/g/sage-devel/c/8UX7uniBb5E

Arb release history:

- https://arblib.org/history.html



Depends on #33189

CC:  @slel

Keywords: **upgrade, arb, flint**

Branch/Commit: **[`45f4984`](https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502)**

Reviewer: **Dima Pasechnik**

Author: **Jonathan Kliem, Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/32211_





---

archive/issue_events_441108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-16T16:44:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441108"
}
```



---

archive/issue_events_441109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-16T16:44:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441109"
}
```



---

archive/issue_events_441110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-16T16:44:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441110"
}
```



---

archive/issue_events_441111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-16T16:44:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441111"
}
```



---

archive/issue_comments_518833.json:
```json
{
    "body": "Branch: **[u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0)**",
    "created_at": "2021-07-16T17:00:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518833",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0)**



---

archive/issue_comments_518834.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d14c453e2233b6390a9ee79818c836ed35d65e8\"><code>6d14c45</code></a></td><td><code>build/pkgs/flint: Use 2.8.0-rc2</code></td></tr></table>\n",
    "created_at": "2021-07-16T17:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518834",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d14c453e2233b6390a9ee79818c836ed35d65e8"><code>6d14c45</code></a></td><td><code>build/pkgs/flint: Use 2.8.0-rc2</code></td></tr></table>




---

archive/issue_comments_518835.json:
```json
{
    "body": "Reviewer: **https://github.com/mkoeppe/sage/actions/runs/1038241361**",
    "created_at": "2021-07-16T17:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518835",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/mkoeppe/sage/actions/runs/1038241361**



---

archive/issue_comments_518836.json:
```json
{
    "body": "Commit: **[`6d14c45`](https://github.com/sagemath/sagetrac-mirror/commit/6d14c453e2233b6390a9ee79818c836ed35d65e8)**",
    "created_at": "2021-07-16T17:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518836",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`6d14c45`](https://github.com/sagemath/sagetrac-mirror/commit/6d14c453e2233b6390a9ee79818c836ed35d65e8)**



---

archive/issue_comments_518837.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ac4693646b3cbfccb46b6cdd842cd329240cf1cf\"><code>ac46936</code></a></td><td><code>build/pkgs/flint/spkg-install.in: Use cmake</code></td></tr></table>\n",
    "created_at": "2021-07-16T20:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518837",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ac4693646b3cbfccb46b6cdd842cd329240cf1cf"><code>ac46936</code></a></td><td><code>build/pkgs/flint/spkg-install.in: Use cmake</code></td></tr></table>




---

archive/issue_comments_518838.json:
```json
{
    "body": "Changed commit from **[`6d14c45`](https://github.com/sagemath/sagetrac-mirror/commit/6d14c453e2233b6390a9ee79818c836ed35d65e8)** to **[`ac46936`](https://github.com/sagemath/sagetrac-mirror/commit/ac4693646b3cbfccb46b6cdd842cd329240cf1cf)**",
    "created_at": "2021-07-16T20:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518838",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6d14c45`](https://github.com/sagemath/sagetrac-mirror/commit/6d14c453e2233b6390a9ee79818c836ed35d65e8)** to **[`ac46936`](https://github.com/sagemath/sagetrac-mirror/commit/ac4693646b3cbfccb46b6cdd842cd329240cf1cf)**



---

archive/issue_comments_518839.json:
```json
{
    "body": "Changed commit from **[`ac46936`](https://github.com/sagemath/sagetrac-mirror/commit/ac4693646b3cbfccb46b6cdd842cd329240cf1cf)** to **[`9ea2e5c`](https://github.com/sagemath/sagetrac-mirror/commit/9ea2e5ca5c498528766e205b5a0fd9e4e64405f5)**",
    "created_at": "2021-07-17T04:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518839",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ac46936`](https://github.com/sagemath/sagetrac-mirror/commit/ac4693646b3cbfccb46b6cdd842cd329240cf1cf)** to **[`9ea2e5c`](https://github.com/sagemath/sagetrac-mirror/commit/9ea2e5ca5c498528766e205b5a0fd9e4e64405f5)**



---

archive/issue_comments_518840.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ea2e5ca5c498528766e205b5a0fd9e4e64405f5\"><code>9ea2e5c</code></a></td><td><code>build/pkgs/arb/patches: Add https://github.com/fredrik-johansson/arb/commit/b6c8032e2da1b19eb7c5a5f5c2f3372643e3d170</code></td></tr></table>\n",
    "created_at": "2021-07-17T04:58:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518840",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ea2e5ca5c498528766e205b5a0fd9e4e64405f5"><code>9ea2e5c</code></a></td><td><code>build/pkgs/arb/patches: Add https://github.com/fredrik-johansson/arb/commit/b6c8032e2da1b19eb7c5a5f5c2f3372643e3d170</code></td></tr></table>




---

archive/issue_comments_518841.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1038241361** to **https://github.com/mkoeppe/sage/actions/runs/1039613405**",
    "created_at": "2021-07-17T05:03:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518841",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1038241361** to **https://github.com/mkoeppe/sage/actions/runs/1039613405**



---

archive/issue_comments_518842.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAfter switching to the `cmake` build system:\n\nFailure on `ubuntu-trusty-standard` (where Sage rejects system `ntl`), likely because FLINT accepts system NTL:\n\n```\n-- Detecting CXX compile features - done\n-- Found GMP: /usr/include/x86_64-linux-gnu (Required is at least version \"6.0.0\") \n-- Found MPFR: /usr/include (Required is at least version \"1.0.0\") \n-- Found NTL: /usr/lib/libntl.so  \n-- Found PythonInterp: /usr/bin/python (found version \"2.7.6\") \n-- Found CBLAS: /usr/include  \n...\nlib/libflint.so.16.1.0: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'\nlib/libflint.so.16.1.0: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'\nlib/libflint.so.16.1.0: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'\nlib/libflint.so.16.1.0: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'\nlib/libflint.so.16.1.0: undefined reference to `mpfr_rootn_ui'\nlib/libflint.so.16.1.0: undefined reference to `NTL::TerminalError(char const*)'\ncollect2: error: ld returned 1 exit status\nmake[5]: *** [bin/test-t-umul_ppmm] Error 1\n```\n(`ubuntu-trusty-minimal`, i.e., without installation of system `ntl`, is OK)\n\n\n\nLikewise `ubuntu-xenial`, `debian-jessie`, `debian-stretch`, etc.",
    "created_at": "2021-07-17T20:56:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518842",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

After switching to the `cmake` build system:

Failure on `ubuntu-trusty-standard` (where Sage rejects system `ntl`), likely because FLINT accepts system NTL:

```
-- Detecting CXX compile features - done
-- Found GMP: /usr/include/x86_64-linux-gnu (Required is at least version "6.0.0") 
-- Found MPFR: /usr/include (Required is at least version "1.0.0") 
-- Found NTL: /usr/lib/libntl.so  
-- Found PythonInterp: /usr/bin/python (found version "2.7.6") 
-- Found CBLAS: /usr/include  
...
lib/libflint.so.16.1.0: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'
lib/libflint.so.16.1.0: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'
lib/libflint.so.16.1.0: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'
lib/libflint.so.16.1.0: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'
lib/libflint.so.16.1.0: undefined reference to `mpfr_rootn_ui'
lib/libflint.so.16.1.0: undefined reference to `NTL::TerminalError(char const*)'
collect2: error: ld returned 1 exit status
make[5]: *** [bin/test-t-umul_ppmm] Error 1
```
(`ubuntu-trusty-minimal`, i.e., without installation of system `ntl`, is OK)



Likewise `ubuntu-xenial`, `debian-jessie`, `debian-stretch`, etc.



---

archive/issue_events_441112.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441112"
}
```



---

archive/issue_events_441113.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441113"
}
```



---

archive/issue_events_441114.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-02T21:05:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.0, arb to 2.20.0",
    "title_was": "Test ticket: Upgrade FLINT to 2.8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441114"
}
```



---

archive/issue_comments_518843.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n \n+\n+https://arblib.org/history.html#version-2-20-0\n+\n``````\n",
    "created_at": "2021-08-02T21:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518843",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,4 @@
 
+
+https://arblib.org/history.html#version-2-20-0
+
``````




---

archive/issue_comments_518844.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n \n \n-https://arblib.org/history.html#version-2-20-0\n+https://arblib.org/history.html\n \n``````\n",
    "created_at": "2021-09-25T23:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518844",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 
 
-https://arblib.org/history.html#version-2-20-0
+https://arblib.org/history.html
 
``````




---

archive/issue_events_441115.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-25T23:17:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.0, arb to 2.21.0",
    "title_was": "Upgrade FLINT to 2.8.0, arb to 2.20.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441115"
}
```



---

archive/issue_comments_518845.json:
```json
{
    "body": "Changed dependencies from **#32175** to **#32175 #32567**",
    "created_at": "2021-09-26T10:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518845",
    "user": "https://github.com/antonio-rojas"
}
```

Changed dependencies from **#32175** to **#32175 #32567**



---

archive/issue_events_441116.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-01T19:04:19Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.1, arb to 2.21.0",
    "title_was": "Upgrade FLINT to 2.8.0, arb to 2.21.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441116"
}
```



---

archive/issue_comments_518846.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ\n \n https://arblib.org/history.html\n \n``````\n",
    "created_at": "2021-10-01T19:04:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518846",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ
 
 https://arblib.org/history.html
 
``````




---

archive/issue_comments_518847.json:
```json
{
    "body": "Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1039613405** to none",
    "created_at": "2021-10-02T15:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518847",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/mkoeppe/sage/actions/runs/1039613405** to none



---

archive/issue_comments_518848.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ\n+FLINT 2.8.1 and FLINT 2.8.2 announced:\n \n-https://arblib.org/history.html\n+- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ\n \n+Arb release history:\n+\n+- https://arblib.org/history.html\n+\n``````\n",
    "created_at": "2021-10-22T11:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518848",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
-https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ
+FLINT 2.8.1 and FLINT 2.8.2 announced:
 
-https://arblib.org/history.html
+- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ
 
+Arb release history:
+
+- https://arblib.org/history.html
+
``````




---

archive/issue_events_441117.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-10-22T11:08:33Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.2, arb to 2.21.0",
    "title_was": "Upgrade FLINT to 2.8.1, arb to 2.21.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441117"
}
```



---

archive/issue_comments_518849.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFlint 2.8.3 is out, please update.",
    "created_at": "2021-11-03T14:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518849",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:14" align="right">comment:14</div>

Flint 2.8.3 is out, please update.



---

archive/issue_events_441118.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-07T18:30:41Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.3, arb to 2.21.0",
    "title_was": "Upgrade FLINT to 2.8.2, arb to 2.21.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441118"
}
```



---

archive/issue_comments_518850.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,3 +6,4 @@\n \n - https://arblib.org/history.html\n \n+Upgrading FLINT will require using unreleased changes in Singular\n``````\n",
    "created_at": "2021-11-07T18:30:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518850",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,3 +6,4 @@
 
 - https://arblib.org/history.html
 
+Upgrading FLINT will require using unreleased changes in Singular
``````




---

archive/issue_comments_518851.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n-FLINT 2.8.1 and FLINT 2.8.2 announced:\n+FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3:\n \n-- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ\n+- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ\n+- https://groups.google.com/g/sage-devel/c/YAXRi9r13b0\n \n Arb release history:\n \n``````\n",
    "created_at": "2021-11-12T17:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518851",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
-FLINT 2.8.1 and FLINT 2.8.2 announced:
+FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3:
 
-- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ/m/JVJ3E9WrAAAJ
+- https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ
+- https://groups.google.com/g/sage-devel/c/YAXRi9r13b0
 
 Arb release history:
 
``````




---

archive/issue_comments_518852.json:
```json
{
    "body": "Changed keywords from none to **upgrade, arb, flint**",
    "created_at": "2021-11-12T17:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518852",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **upgrade, arb, flint**



---

archive/issue_events_441119.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-11-17T21:58:21Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.4, arb to 2.21.0",
    "title_was": "Upgrade FLINT to 2.8.3, arb to 2.21.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441119"
}
```



---

archive/issue_comments_518853.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,10 +1,13 @@\n-FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3:\n+FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3,\n+then FLINT 2.8.4:\n \n - https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ\n - https://groups.google.com/g/sage-devel/c/YAXRi9r13b0\n+- https://groups.google.com/g/sage-devel/c/8UX7uniBb5E\n \n Arb release history:\n \n - https://arblib.org/history.html\n \n-Upgrading FLINT will require using unreleased changes in Singular\n+Upgrading FLINT will require using unreleased changes\n+in Singular.\n``````\n",
    "created_at": "2021-11-17T21:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518853",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,10 +1,13 @@
-FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3:
+FLINT 2.8.1 and FLINT 2.8.2 announced, then FLINT 2.8.3,
+then FLINT 2.8.4:
 
 - https://groups.google.com/g/sage-devel/c/VdIl7NvcJbQ
 - https://groups.google.com/g/sage-devel/c/YAXRi9r13b0
+- https://groups.google.com/g/sage-devel/c/8UX7uniBb5E
 
 Arb release history:
 
 - https://arblib.org/history.html
 
-Upgrading FLINT will require using unreleased changes in Singular
+Upgrading FLINT will require using unreleased changes
+in Singular.
``````




---

archive/issue_comments_518854.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@mkoeppe](#comment%3A6):\n> After switching to the `cmake` build system:\n> \n> Failure on `ubuntu-trusty-standard` (where Sage rejects system `ntl`), likely because FLINT accepts system NTL:\n> \n> ```\n> -- Detecting CXX compile features - done\n> -- Found GMP: /usr/include/x86_64-linux-gnu (Required is at least version \"6.0.0\") \n> -- Found MPFR: /usr/include (Required is at least version \"1.0.0\") \n> -- Found NTL: /usr/lib/libntl.so  \n> -- Found PythonInterp: /usr/bin/python (found version \"2.7.6\") \n> -- Found CBLAS: /usr/include  \n> ...\n> lib/libflint.so.16.1.0: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'\n> lib/libflint.so.16.1.0: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'\n> lib/libflint.so.16.1.0: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'\n> lib/libflint.so.16.1.0: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'\n> lib/libflint.so.16.1.0: undefined reference to `mpfr_rootn_ui'\n> lib/libflint.so.16.1.0: undefined reference to `NTL::TerminalError(char const*)'\n> collect2: error: ld returned 1 exit status\n> make[5]: *** [bin/test-t-umul_ppmm] Error 1\n> ```\n> (`ubuntu-trusty-minimal`, i.e., without installation of system `ntl`, is OK)\n> \n> \n> \n> Likewise `ubuntu-xenial`, `debian-jessie`, `debian-stretch`, etc.\n> \n\nAccording to `CMake/FindNTL.cmake` it accepts hints, namely by setting `$ENV{NTLDIR}`. It seems the same holds for the other packages.",
    "created_at": "2021-11-18T08:49:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518854",
    "user": "https://github.com/kliem"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@mkoeppe](#comment%3A6):
> After switching to the `cmake` build system:
> 
> Failure on `ubuntu-trusty-standard` (where Sage rejects system `ntl`), likely because FLINT accepts system NTL:
> 
> ```
> -- Detecting CXX compile features - done
> -- Found GMP: /usr/include/x86_64-linux-gnu (Required is at least version "6.0.0") 
> -- Found MPFR: /usr/include (Required is at least version "1.0.0") 
> -- Found NTL: /usr/lib/libntl.so  
> -- Found PythonInterp: /usr/bin/python (found version "2.7.6") 
> -- Found CBLAS: /usr/include  
> ...
> lib/libflint.so.16.1.0: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'
> lib/libflint.so.16.1.0: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'
> lib/libflint.so.16.1.0: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'
> lib/libflint.so.16.1.0: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'
> lib/libflint.so.16.1.0: undefined reference to `mpfr_rootn_ui'
> lib/libflint.so.16.1.0: undefined reference to `NTL::TerminalError(char const*)'
> collect2: error: ld returned 1 exit status
> make[5]: *** [bin/test-t-umul_ppmm] Error 1
> ```
> (`ubuntu-trusty-minimal`, i.e., without installation of system `ntl`, is OK)
> 
> 
> 
> Likewise `ubuntu-xenial`, `debian-jessie`, `debian-stretch`, etc.
> 

According to `CMake/FindNTL.cmake` it accepts hints, namely by setting `$ENV{NTLDIR}`. It seems the same holds for the other packages.



---

archive/issue_comments_518855.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f31c75452ff9489775c3974c040e3c340ba57f09\"><code>f31c754</code></a></td><td><code>update flint to 2.8.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fc559fbfc5a67deef29d1a04462d1ae3d3196ca\"><code>8fc559f</code></a></td><td><code>merge  u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/012db33d013ff349d3981d7c108837772fad1eba\"><code>012db33</code></a></td><td><code>provide hints to find GMP libaries and NTL</code></td></tr></table>\n",
    "created_at": "2021-11-18T09:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518855",
    "user": "https://github.com/kliem"
}
```

<div id="comment:19"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f31c75452ff9489775c3974c040e3c340ba57f09"><code>f31c754</code></a></td><td><code>update flint to 2.8.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fc559fbfc5a67deef29d1a04462d1ae3d3196ca"><code>8fc559f</code></a></td><td><code>merge  u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/012db33d013ff349d3981d7c108837772fad1eba"><code>012db33</code></a></td><td><code>provide hints to find GMP libaries and NTL</code></td></tr></table>




---

archive/issue_comments_518856.json:
```json
{
    "body": "Changed commit from **[`9ea2e5c`](https://github.com/sagemath/sagetrac-mirror/commit/9ea2e5ca5c498528766e205b5a0fd9e4e64405f5)** to **[`012db33`](https://github.com/sagemath/sagetrac-mirror/commit/012db33d013ff349d3981d7c108837772fad1eba)**",
    "created_at": "2021-11-18T09:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518856",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[`9ea2e5c`](https://github.com/sagemath/sagetrac-mirror/commit/9ea2e5ca5c498528766e205b5a0fd9e4e64405f5)** to **[`012db33`](https://github.com/sagemath/sagetrac-mirror/commit/012db33d013ff349d3981d7c108837772fad1eba)**



---

archive/issue_comments_518857.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0)** to **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)**",
    "created_at": "2021-11-18T09:22:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518857",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/test_ticket__upgrade_flint_to_2_8_0)** to **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)**



---

archive/issue_comments_518858.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nWhat are these \"unreleased changes in Singular\"?",
    "created_at": "2021-11-18T09:39:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518858",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:20" align="right">comment:20</div>

What are these "unreleased changes in Singular"?



---

archive/issue_comments_518859.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nEither these should be a Singular patch, or this should be removed in the ticket description.",
    "created_at": "2021-11-18T09:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518859",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

Either these should be a Singular patch, or this should be removed in the ticket description.



---

archive/issue_comments_518860.json:
```json
{
    "body": "Reviewer: **https://github.com/kliem/sage/pull/49/checks**",
    "created_at": "2021-11-18T17:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518860",
    "user": "https://github.com/kliem"
}
```

Reviewer: **https://github.com/kliem/sage/pull/49/checks**



---

archive/issue_comments_518861.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nWorks locally for me, however I had to distclean.",
    "created_at": "2021-11-18T17:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518861",
    "user": "https://github.com/kliem"
}
```

<div id="comment:22" align="right">comment:22</div>

Works locally for me, however I had to distclean.



---

archive/issue_comments_518862.json:
```json
{
    "body": "Changed commit from **[`012db33`](https://github.com/sagemath/sagetrac-mirror/commit/012db33d013ff349d3981d7c108837772fad1eba)** to **[`1e16b3b`](https://github.com/sagemath/sagetrac-mirror/commit/1e16b3b46025a943c1887d905fa2b9c1ff911152)**",
    "created_at": "2021-11-18T20:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518862",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`012db33`](https://github.com/sagemath/sagetrac-mirror/commit/012db33d013ff349d3981d7c108837772fad1eba)** to **[`1e16b3b`](https://github.com/sagemath/sagetrac-mirror/commit/1e16b3b46025a943c1887d905fa2b9c1ff911152)**



---

archive/issue_comments_518863.json:
```json
{
    "body": "<div id=\"comment:23\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e16b3b46025a943c1887d905fa2b9c1ff911152\"><code>1e16b3b</code></a></td><td><code>push minimal cmake version</code></td></tr></table>\n",
    "created_at": "2021-11-18T20:26:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518863",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e16b3b46025a943c1887d905fa2b9c1ff911152"><code>1e16b3b</code></a></td><td><code>push minimal cmake version</code></td></tr></table>




---

archive/issue_comments_518864.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAre we upgrading arb here, too?",
    "created_at": "2021-11-19T10:01:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518864",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:24" align="right">comment:24</div>

Are we upgrading arb here, too?



---

archive/issue_comments_518865.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@dimpase](#comment%3A21):\n> Either these should be a Singular patch, or this should be removed in the ticket description.\n\nThey have just tagged `Release-4-2-1p2`. \"update for using FLINT 2.8.x\" is a News item there, I don't know the details. We should probably do this update",
    "created_at": "2021-11-19T18:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518865",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@dimpase](#comment%3A21):
> Either these should be a Singular patch, or this should be removed in the ticket description.

They have just tagged `Release-4-2-1p2`. "update for using FLINT 2.8.x" is a News item there, I don't know the details. We should probably do this update



---

archive/issue_comments_518866.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI've opened #32907 for the Singular upgrade",
    "created_at": "2021-11-19T18:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518866",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>

I've opened #32907 for the Singular upgrade



---

archive/issue_comments_518867.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nLooks like we need to push the minimal version of NTL required, I'm not sure what is needed here:\n\n```\n   [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `mpfr_rootn_ui'\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `NTL::TerminalError(char const*)'\n```\n\nAnd similar other failures.\n\nCentos complains about:\n\n```\n   [flint-2.8.4]   make[5]: *** [CMakeFiles/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv.dir/build.make:103: bin/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv] Error 1\n  [flint-2.8.4]   make[5]: Target 'CMakeFiles/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv.dir/build' not remade because of errors.\n  [flint-2.8.4]   make[4]: *** [CMakeFiles/Makefile2:63248: CMakeFiles/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv.dir/all] Error 2\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `mpfr_rootn_ui'\n  [flint-2.8.4]   collect2: error: ld returned 1 exit status\n  [flint-2.8.4]   make[5]: *** [CMakeFiles/fq_poly-test-t-powmod_fmpz_binexp_preinv.dir/build.make:103: bin/fq_poly-test-t-powmod_fmpz_binexp_preinv] Error 1\n  [flint-2.8.4]   make[5]: Target 'CMakeFiles/fq_poly-test-t-powmod_fmpz_binexp_preinv.dir/build' not remade because of errors.\n  [flint-2.8.4]   make[4]: *** [CMakeFiles/Makefile2:63221: CMakeFiles/fq_poly-test-t-powmod_fmpz_binexp_preinv.dir/all] Error 2\n  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `mpfr_rootn_ui'\n```\n\nApparently centos has an old version of mpfr.",
    "created_at": "2021-11-19T22:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518867",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27" align="right">comment:27</div>

Looks like we need to push the minimal version of NTL required, I'm not sure what is needed here:

```
   [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `mpfr_rootn_ui'
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `NTL::TerminalError(char const*)'
```

And similar other failures.

Centos complains about:

```
   [flint-2.8.4]   make[5]: *** [CMakeFiles/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv.dir/build.make:103: bin/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv] Error 1
  [flint-2.8.4]   make[5]: Target 'CMakeFiles/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv.dir/build' not remade because of errors.
  [flint-2.8.4]   make[4]: *** [CMakeFiles/Makefile2:63248: CMakeFiles/fq_nmod_poly_factor-test-t-iterated_frobenius_preinv.dir/all] Error 2
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `mpfr_rootn_ui'
  [flint-2.8.4]   collect2: error: ld returned 1 exit status
  [flint-2.8.4]   make[5]: *** [CMakeFiles/fq_poly-test-t-powmod_fmpz_binexp_preinv.dir/build.make:103: bin/fq_poly-test-t-powmod_fmpz_binexp_preinv] Error 1
  [flint-2.8.4]   make[5]: Target 'CMakeFiles/fq_poly-test-t-powmod_fmpz_binexp_preinv.dir/build' not remade because of errors.
  [flint-2.8.4]   make[4]: *** [CMakeFiles/Makefile2:63221: CMakeFiles/fq_poly-test-t-powmod_fmpz_binexp_preinv.dir/all] Error 2
  [flint-2.8.4]   lib/libflint.so.16.1.4: undefined reference to `mpfr_rootn_ui'
```

Apparently centos has an old version of mpfr.



---

archive/issue_comments_518868.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@kliem](#comment%3A18):\n> Replying to [@mkoeppe](#comment%3A6):\n> > After switching to the `cmake` build system:\n> > \n> > Failure on `ubuntu-trusty-standard` (where Sage rejects system `ntl`), likely because FLINT accepts system NTL:\n> > \n> > ```\n> > -- Detecting CXX compile features - done\n> > -- Found GMP: /usr/include/x86_64-linux-gnu (Required is at least version \"6.0.0\") \n> > -- Found MPFR: /usr/include (Required is at least version \"1.0.0\") \n> > -- Found NTL: /usr/lib/libntl.so  \n> > -- Found PythonInterp: /usr/bin/python (found version \"2.7.6\") \n> > -- Found CBLAS: /usr/include  \n> > ...\n> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'\n> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'\n> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'\n> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'\n> > lib/libflint.so.16.1.0: undefined reference to `mpfr_rootn_ui'\n> > lib/libflint.so.16.1.0: undefined reference to `NTL::TerminalError(char const*)'\n> > collect2: error: ld returned 1 exit status\n> > make[5]: *** [bin/test-t-umul_ppmm] Error 1\n> > ```\n> > (`ubuntu-trusty-minimal`, i.e., without installation of system `ntl`, is OK)\n> > \n> > \n> > \n> > Likewise `ubuntu-xenial`, `debian-jessie`, `debian-stretch`, etc.\n> > \n\n> \n> According to `CMake/FindNTL.cmake` it accepts hints, namely by setting `$ENV{NTLDIR}`. It seems the same holds for the other packages.\n\nOk, I really don't know how this works with cmake.\n\nE.g. with mpfr flint does:\n\n```\nfind_path(MPFR_INCLUDE_DIRS NAMES mpfr.h PATHS $ENV{GMPDIR} $ENV{MPFRDIR} ${INCLUDE_INSTALL_DIR})    \n```",
    "created_at": "2021-11-19T22:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518868",
    "user": "https://github.com/kliem"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@kliem](#comment%3A18):
> Replying to [@mkoeppe](#comment%3A6):
> > After switching to the `cmake` build system:
> > 
> > Failure on `ubuntu-trusty-standard` (where Sage rejects system `ntl`), likely because FLINT accepts system NTL:
> > 
> > ```
> > -- Detecting CXX compile features - done
> > -- Found GMP: /usr/include/x86_64-linux-gnu (Required is at least version "6.0.0") 
> > -- Found MPFR: /usr/include (Required is at least version "1.0.0") 
> > -- Found NTL: /usr/lib/libntl.so  
> > -- Found PythonInterp: /usr/bin/python (found version "2.7.6") 
> > -- Found CBLAS: /usr/include  
> > ...
> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gscompare(_ntl_gbigint_body*, long)'
> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gmod(_ntl_gbigint_body*, _ntl_gbigint_body*, _ntl_gbigint_body**)'
> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gfree(_ntl_gbigint_body*)'
> > lib/libflint.so.16.1.0: undefined reference to `_ntl_gsetlength(_ntl_gbigint_body**, long)'
> > lib/libflint.so.16.1.0: undefined reference to `mpfr_rootn_ui'
> > lib/libflint.so.16.1.0: undefined reference to `NTL::TerminalError(char const*)'
> > collect2: error: ld returned 1 exit status
> > make[5]: *** [bin/test-t-umul_ppmm] Error 1
> > ```
> > (`ubuntu-trusty-minimal`, i.e., without installation of system `ntl`, is OK)
> > 
> > 
> > 
> > Likewise `ubuntu-xenial`, `debian-jessie`, `debian-stretch`, etc.
> > 

> 
> According to `CMake/FindNTL.cmake` it accepts hints, namely by setting `$ENV{NTLDIR}`. It seems the same holds for the other packages.

Ok, I really don't know how this works with cmake.

E.g. with mpfr flint does:

```
find_path(MPFR_INCLUDE_DIRS NAMES mpfr.h PATHS $ENV{GMPDIR} $ENV{MPFRDIR} ${INCLUDE_INSTALL_DIR})    
```



---

archive/issue_comments_518869.json:
```json
{
    "body": "Changed commit from **[`1e16b3b`](https://github.com/sagemath/sagetrac-mirror/commit/1e16b3b46025a943c1887d905fa2b9c1ff911152)** to **[`da45eb1`](https://github.com/sagemath/sagetrac-mirror/commit/da45eb11a8d9d54a5eea0a4e77cdfc1df9f12fd9)**",
    "created_at": "2021-11-20T14:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518869",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1e16b3b`](https://github.com/sagemath/sagetrac-mirror/commit/1e16b3b46025a943c1887d905fa2b9c1ff911152)** to **[`da45eb1`](https://github.com/sagemath/sagetrac-mirror/commit/da45eb11a8d9d54a5eea0a4e77cdfc1df9f12fd9)**



---

archive/issue_comments_518870.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da45eb11a8d9d54a5eea0a4e77cdfc1df9f12fd9\"><code>da45eb1</code></a></td><td><code>use autotools instead of cmake</code></td></tr></table>\n",
    "created_at": "2021-11-20T14:43:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518870",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da45eb11a8d9d54a5eea0a4e77cdfc1df9f12fd9"><code>da45eb1</code></a></td><td><code>use autotools instead of cmake</code></td></tr></table>




---

archive/issue_comments_518871.json:
```json
{
    "body": "Changed dependencies from **#32175 #32567** to **#32175 #32567, #32907**",
    "created_at": "2021-11-21T20:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518871",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32175 #32567** to **#32175 #32567, #32907**



---

archive/issue_comments_518872.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nSomehow `make build` after upgrading or downgrading flint doesn't work:\n\n```\n  File \"sage/rings/polynomial/polynomial_element.pyx\", line 67, in init sage.rings.polynomial.polynomial_element (build/cythonized/sage/rings/polynomial/polynomial_element.c:107015)\n  File \"/srv/public/kliem/sage/local/var/lib/sage/venv-python3.7/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_ring.py\", line 154, in <module>\n    import sage.rings.polynomial.polynomial_element_generic as polynomial_element_generic\n  File \"/srv/public/kliem/sage/local/var/lib/sage/venv-python3.7/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_element_generic.py\", line 1556, in <module>\n    from sage.rings.polynomial.polynomial_rational_flint import Polynomial_rational_flint\nImportError: libflint.so.16: cannot open shared object file: No such file or directory\n```\n\nRunning `make build-clean` helped.",
    "created_at": "2021-11-29T08:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518872",
    "user": "https://github.com/kliem"
}
```

<div id="comment:31" align="right">comment:31</div>

Somehow `make build` after upgrading or downgrading flint doesn't work:

```
  File "sage/rings/polynomial/polynomial_element.pyx", line 67, in init sage.rings.polynomial.polynomial_element (build/cythonized/sage/rings/polynomial/polynomial_element.c:107015)
  File "/srv/public/kliem/sage/local/var/lib/sage/venv-python3.7/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_ring.py", line 154, in <module>
    import sage.rings.polynomial.polynomial_element_generic as polynomial_element_generic
  File "/srv/public/kliem/sage/local/var/lib/sage/venv-python3.7/lib/python3.7/site-packages/sage/rings/polynomial/polynomial_element_generic.py", line 1556, in <module>
    from sage.rings.polynomial.polynomial_rational_flint import Polynomial_rational_flint
ImportError: libflint.so.16: cannot open shared object file: No such file or directory
```

Running `make build-clean` helped.



---

archive/issue_events_441120.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441120"
}
```



---

archive/issue_events_441121.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441121"
}
```



---

archive/issue_events_441122.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-01T00:29:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441122"
}
```



---

archive/issue_events_441123.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-01T00:29:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441123"
}
```



---

archive/issue_comments_518873.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nNeeds rebasing.",
    "created_at": "2022-02-01T07:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518873",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:34" align="right">comment:34</div>

Needs rebasing.



---

archive/issue_comments_518874.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nTake the opportunity to upgrade to Arb 2.22.1?",
    "created_at": "2022-02-01T08:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518874",
    "user": "https://github.com/slel"
}
```

<div id="comment:35" align="right">comment:35</div>

Take the opportunity to upgrade to Arb 2.22.1?



---

archive/issue_comments_518875.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nYes, that's probably a good idea",
    "created_at": "2022-02-01T09:03:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518875",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:36" align="right">comment:36</div>

Yes, that's probably a good idea



---

archive/issue_comments_518876.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)** to **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)**",
    "created_at": "2022-02-02T23:37:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518876",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)** to **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)**



---

archive/issue_events_441124.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-02T23:37:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "title_is": "Upgrade FLINT to 2.8.4, arb to 2.22.1",
    "title_was": "Upgrade FLINT to 2.8.4, arb to 2.21.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441124"
}
```



---

archive/issue_comments_518877.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)** to **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)**",
    "created_at": "2022-02-02T23:37:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518877",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)** to **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)**



---

archive/issue_comments_518878.json:
```json
{
    "body": "Changed reviewer from **https://github.com/kliem/sage/pull/49/checks** to none",
    "created_at": "2022-02-02T23:39:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518878",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/kliem/sage/pull/49/checks** to none



---

archive/issue_comments_518879.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)** to **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)**",
    "created_at": "2022-02-03T00:03:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518879",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-kliem/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/flint_2_8_4)** to **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)**



---

archive/issue_comments_518880.json:
```json
{
    "body": "Changed commit from **[`da45eb1`](https://github.com/sagemath/sagetrac-mirror/commit/da45eb11a8d9d54a5eea0a4e77cdfc1df9f12fd9)** to **[`45f4984`](https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502)**",
    "created_at": "2022-02-03T00:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518880",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[`da45eb1`](https://github.com/sagemath/sagetrac-mirror/commit/da45eb11a8d9d54a5eea0a4e77cdfc1df9f12fd9)** to **[`45f4984`](https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502)**



---

archive/issue_comments_518881.json:
```json
{
    "body": "<div id=\"comment:41\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6c8b76ce7e2e6fe18d72184200f6cf1b951975a\"><code>b6c8b76</code></a></td><td><code>update flint to 2.8.4</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9357e9858742f6aceda6d1c8c09c6f4aeac0f7f\"><code>f9357e9</code></a></td><td><code>build/pkgs/arb: Update to 2.22.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502\"><code>45f4984</code></a></td><td><code>build/pkgs/arb/patches/arb-flint-2.8-compatibility-b6c8032e2da1b19eb7c5a5f5c2f3372643e3d170.patch: Remove</code></td></tr></table>\n",
    "created_at": "2022-02-03T00:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518881",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6c8b76ce7e2e6fe18d72184200f6cf1b951975a"><code>b6c8b76</code></a></td><td><code>update flint to 2.8.4</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9357e9858742f6aceda6d1c8c09c6f4aeac0f7f"><code>f9357e9</code></a></td><td><code>build/pkgs/arb: Update to 2.22.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502"><code>45f4984</code></a></td><td><code>build/pkgs/arb/patches/arb-flint-2.8-compatibility-b6c8032e2da1b19eb7c5a5f5c2f3372643e3d170.patch: Remove</code></td></tr></table>




---

archive/issue_comments_518882.json:
```json
{
    "body": "Changed dependencies from **#32175 #32567, #32907** to none",
    "created_at": "2022-02-03T00:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518882",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32175 #32567, #32907** to none



---

archive/issue_comments_518883.json:
```json
{
    "body": "Author: **Jonathan Kliem, Matthias Koeppe**",
    "created_at": "2022-02-03T00:07:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518883",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Jonathan Kliem, Matthias Koeppe**



---

archive/issue_comments_518884.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,5 +9,4 @@\n \n - https://arblib.org/history.html\n \n-Upgrading FLINT will require using unreleased changes\n-in Singular.\n+\n``````\n",
    "created_at": "2022-02-03T00:07:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518884",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,5 +9,4 @@
 
 - https://arblib.org/history.html
 
-Upgrading FLINT will require using unreleased changes
-in Singular.
+
``````




---

archive/issue_events_441125.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-03T00:07:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441125"
}
```



---

archive/issue_comments_518885.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nI see doctest errors (numerical noise) in e.g. here\n\n```\nFile \"src/sage/rings/real_arb.pyx\", line 3509, in sage.rings.real_arb.RealBall.erf\nFailed example:\n    RBF(1/2).erf()\nExpected:\n    [0.520499877813047 +/- 6.10e-16]\nGot:\n    [0.520499877813047 +/- 5.93e-16]\n```\n(this is on Debian 11,x86_64)",
    "created_at": "2022-02-04T01:16:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518885",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:43" align="right">comment:43</div>

I see doctest errors (numerical noise) in e.g. here

```
File "src/sage/rings/real_arb.pyx", line 3509, in sage.rings.real_arb.RealBall.erf
Failed example:
    RBF(1/2).erf()
Expected:
    [0.520499877813047 +/- 6.10e-16]
Got:
    [0.520499877813047 +/- 5.93e-16]
```
(this is on Debian 11,x86_64)



---

archive/issue_comments_518886.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\n#33189 is needed here, so that [comment:43](#comment%3A43) no longer applies.",
    "created_at": "2022-02-04T16:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518886",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">comment:44</div>

#33189 is needed here, so that [comment:43](#comment%3A43) no longer applies.



---

archive/issue_comments_518887.json:
```json
{
    "body": "Dependencies: **#33189**",
    "created_at": "2022-02-04T16:14:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518887",
    "user": "https://github.com/dimpase"
}
```

Dependencies: **#33189**



---

archive/issue_comments_518888.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nlgtm",
    "created_at": "2022-02-04T16:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518888",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:45" align="right">comment:45</div>

lgtm



---

archive/issue_events_441126.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-04T16:53:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441126"
}
```



---

archive/issue_events_441127.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-04T16:53:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441127"
}
```



---

archive/issue_comments_518889.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-02-04T16:53:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518889",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_518890.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThanks.",
    "created_at": "2022-02-04T17:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518890",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">comment:46</div>

Thanks.



---

archive/issue_comments_518891.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nSee https://github.com/vbraun/sage/runs/5086538238",
    "created_at": "2022-02-07T15:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518891",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:47" align="right">comment:47</div>

See https://github.com/vbraun/sage/runs/5086538238



---

archive/issue_events_441128.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-07T15:35:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441128"
}
```



---

archive/issue_events_441129.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-07T15:35:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441129"
}
```



---

archive/issue_comments_518892.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nVolker, you did not merge the dependency, #33189, that's why you got errors, e.g. here:\nhttps://github.com/vbraun/sage/blob/7b26bb58475d9bc707bc9ed7d2a63351f2f4686c/src/sage/rings/real_arb.pyx#L3509\n\nIt should be \n\n```\nsage: RBF(1/2).erf() # abs tol 1e-16\n```\nand not\n\n```\nsage: RBF(1/2).erf()\n```\nas in the branch you're testing.",
    "created_at": "2022-02-07T15:58:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518892",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:48" align="right">comment:48</div>

Volker, you did not merge the dependency, #33189, that's why you got errors, e.g. here:
https://github.com/vbraun/sage/blob/7b26bb58475d9bc707bc9ed7d2a63351f2f4686c/src/sage/rings/real_arb.pyx#L3509

It should be 

```
sage: RBF(1/2).erf() # abs tol 1e-16
```
and not

```
sage: RBF(1/2).erf()
```
as in the branch you're testing.



---

archive/issue_events_441130.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-07T15:58:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441130"
}
```



---

archive/issue_events_441131.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-07T15:58:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441131"
}
```



---

archive/issue_comments_518893.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nWhen I added #33189 and set this to positive review, #33189 was already marked as merged,so I don't really understand how it was tested without it in the end.",
    "created_at": "2022-02-07T16:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518893",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:49" align="right">comment:49</div>

When I added #33189 and set this to positive review, #33189 was already marked as merged,so I don't really understand how it was tested without it in the end.



---

archive/issue_comments_518894.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)** to **[`45f4984`](https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502)**",
    "created_at": "2022-02-12T22:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32211#issuecomment-518894",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/flint_2_8_4](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/flint_2_8_4)** to **[`45f4984`](https://github.com/sagemath/sagetrac-mirror/commit/45f4984776ff410bc507244bc8628452c3d67502)**



---

archive/issue_events_441132.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-12T22:07:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441132"
}
```



---

archive/issue_events_441133.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0669c95412bf96edfe57df434b0657466dc55753",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-12T22:07:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32211",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32211#event-441133"
}
```
