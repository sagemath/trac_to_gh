# Issue 32205: Removing deprecated parameters and methods in projective_ds

archive/issues_031968.json:
```json
{
    "assignees": [],
    "body": "Currently there are several old deprecation warnings in dynamical systems on projective space. They are:\n\n- deprecation of the keyword embedding in sigma_invariants (4 years old, #23333)\n\n- deprecation of rational_periodic_points method (2 years old, #28109)\n\n- deprecation of rational_preperiodic_points method (2 years old, #28213)\n\nWe remove these deprecated methods in this ticket, and make it an error if the deprecated keyword is passed.\n\nCC:  @bhutz\n\nKeywords: **gsoc2021**\n\nBranch/Commit: **[5123115](https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a)**\n\nReviewer: **Ben Hutz, Matthias Koeppe**\n\nAuthor: **Alexander Galarraga**\n\nComponent: **dynamics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32205_\n\n",
    "closed_at": "2021-10-25T22:59:37Z",
    "created_at": "2021-07-15T20:22:56Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p%3A%205%20%E2%80%93%20trivial",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Removing deprecated parameters and methods in projective_ds",
    "type": "issue",
    "updated_at": "2021-10-25T22:59:37Z",
    "url": "https://github.com/sagemath/sage/issues/32205",
    "user": "https://github.com/EnderWannabe"
}
```
Currently there are several old deprecation warnings in dynamical systems on projective space. They are:

- deprecation of the keyword embedding in sigma_invariants (4 years old, #23333)

- deprecation of rational_periodic_points method (2 years old, #28109)

- deprecation of rational_preperiodic_points method (2 years old, #28213)

We remove these deprecated methods in this ticket, and make it an error if the deprecated keyword is passed.

CC:  @bhutz

Keywords: **gsoc2021**

Branch/Commit: **[5123115](https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a)**

Reviewer: **Ben Hutz, Matthias Koeppe**

Author: **Alexander Galarraga**

Component: **dynamics**

_Issue created by migration from https://trac.sagemath.org/ticket/32205_





---

archive/issue_events_444238.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-15T20:22:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444238"
}
```



---

archive/issue_events_444239.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-15T20:22:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "c: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444239"
}
```



---

archive/issue_events_444240.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-15T20:22:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/p%3A%205%20%E2%80%93%20trivial",
    "label_color": "fff9e5",
    "label_name": "p: 5 \u2013 trivial",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444240"
}
```



---

archive/issue_events_444241.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-15T20:22:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444241"
}
```



---

archive/issue_comments_518876.json:
```json
{
    "body": "Branch: **[u/gh-EnderWannabe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/remove_deprecations)**",
    "created_at": "2021-07-15T20:23:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518876",
    "user": "https://github.com/EnderWannabe"
}
```

Branch: **[u/gh-EnderWannabe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/remove_deprecations)**



---

archive/issue_comments_518877.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90f87989b761e02306b1e86cec4bcb961b46bebf\">90f8798</a></td><td><code>32205: removed deprecations</code></td></tr></table>\n",
    "created_at": "2021-07-15T20:25:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518877",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90f87989b761e02306b1e86cec4bcb961b46bebf">90f8798</a></td><td><code>32205: removed deprecations</code></td></tr></table>




---

archive/issue_comments_518878.json:
```json
{
    "body": "Commit: **[90f8798](https://github.com/sagemath/sagetrac-mirror/commit/90f87989b761e02306b1e86cec4bcb961b46bebf)**",
    "created_at": "2021-07-15T20:25:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518878",
    "user": "https://github.com/EnderWannabe"
}
```

Commit: **[90f8798](https://github.com/sagemath/sagetrac-mirror/commit/90f87989b761e02306b1e86cec4bcb961b46bebf)**



---

archive/issue_events_444242.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-15T20:25:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444242"
}
```



---

archive/issue_events_444243.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-20T14:43:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444243"
}
```



---

archive/issue_events_444244.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-20T14:43:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444244"
}
```



---

archive/issue_comments_518879.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis looks fine to me.",
    "created_at": "2021-07-20T14:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518879",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:3" align="right">comment:3</div>

This looks fine to me.



---

archive/issue_comments_518880.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2021-07-20T14:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518880",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_events_444245.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-20T22:13:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444245"
}
```



---

archive/issue_events_444246.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-20T22:13:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444246"
}
```



---

archive/issue_comments_518881.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI don't think this is the correct next step after deprecating the `embedding` keyword.\nIt should become an error if `embedding` is passed.",
    "created_at": "2021-07-20T22:13:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518881",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

I don't think this is the correct next step after deprecating the `embedding` keyword.
It should become an error if `embedding` is passed.



---

archive/issue_comments_518882.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nif that's the process, then ok. But note that the keyword hasn't been accepted for 4 years now.",
    "created_at": "2021-07-21T00:45:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518882",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:5" align="right">comment:5</div>

if that's the process, then ok. But note that the keyword hasn't been accepted for 4 years now.



---

archive/issue_comments_518883.json:
```json
{
    "body": "Changed commit from **[90f8798](https://github.com/sagemath/sagetrac-mirror/commit/90f87989b761e02306b1e86cec4bcb961b46bebf)** to **[d905c48](https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496)**",
    "created_at": "2021-07-23T14:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518883",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[90f8798](https://github.com/sagemath/sagetrac-mirror/commit/90f87989b761e02306b1e86cec4bcb961b46bebf)** to **[d905c48](https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496)**



---

archive/issue_comments_518884.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/795799ebc96a69b9c0cfdd122d9dc0003b90053e\">795799e</a></td><td><code>Merge branch 'u/gh-EnderWannabe/remove_deprecations' of trac.sagemath.org:sage into deprecations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496\">d905c48</a></td><td><code>32205: throw error when embedding is passed</code></td></tr></table>\n",
    "created_at": "2021-07-23T14:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518884",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/795799ebc96a69b9c0cfdd122d9dc0003b90053e">795799e</a></td><td><code>Merge branch 'u/gh-EnderWannabe/remove_deprecations' of trac.sagemath.org:sage into deprecations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496">d905c48</a></td><td><code>32205: throw error when embedding is passed</code></td></tr></table>




---

archive/issue_events_444247.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-23T14:25:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444247"
}
```



---

archive/issue_events_444248.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-23T14:25:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444248"
}
```



---

archive/issue_comments_518885.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOk, added an error when the `embedding` keyword is passed.",
    "created_at": "2021-07-23T14:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518885",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:7" align="right">comment:7</div>

Ok, added an error when the `embedding` keyword is passed.



---

archive/issue_comments_518886.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThere error needs to reference the ticket for the deprecation.",
    "created_at": "2021-07-23T15:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518886",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:8" align="right">comment:8</div>

There error needs to reference the ticket for the deprecation.



---

archive/issue_events_444249.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-23T15:35:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444249"
}
```



---

archive/issue_events_444250.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-23T15:35:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444250"
}
```



---

archive/issue_comments_518887.json:
```json
{
    "body": "Changed commit from **[d905c48](https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496)** to **[9e6fd69](https://github.com/sagemath/sagetrac-mirror/commit/9e6fd690e8ca385367d74fb249a9d870a8c6c5d1)**",
    "created_at": "2021-07-23T16:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518887",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d905c48](https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496)** to **[9e6fd69](https://github.com/sagemath/sagetrac-mirror/commit/9e6fd690e8ca385367d74fb249a9d870a8c6c5d1)**



---

archive/issue_comments_518888.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e6fd690e8ca385367d74fb249a9d870a8c6c5d1\">9e6fd69</a></td><td><code>32205: added ticket reference</code></td></tr></table>\n",
    "created_at": "2021-07-23T16:44:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518888",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e6fd690e8ca385367d74fb249a9d870a8c6c5d1">9e6fd69</a></td><td><code>32205: added ticket reference</code></td></tr></table>




---

archive/issue_comments_518889.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@bhutz](#comment:8):\n> There error needs to reference the ticket for the deprecation.\n\nAdded",
    "created_at": "2021-07-23T16:45:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518889",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@bhutz](#comment:8):
> There error needs to reference the ticket for the deprecation.

Added



---

archive/issue_events_444251.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-23T16:45:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444251"
}
```



---

archive/issue_events_444252.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-23T16:45:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444252"
}
```



---

archive/issue_events_444253.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-23T17:54:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444253"
}
```



---

archive/issue_events_444254.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-23T17:54:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444254"
}
```



---

archive/issue_comments_518890.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n\n```\n+        if not embedding is None:\n+            raise ValueError('the embedding keyword is deprecated, see :trac:`32205`')\n```\nthis makes no sense - \"deprecated\" means that it still works \n\n\nAlso note that changes like this:\n\n```\n-    def sigma_invariants(self, n, formal=False, embedding=None, type='point'):\n+    def sigma_invariants(self, n, **kwds):\n```\nmake an incompatible change to the signature -- after the change, it is not possible any more to pass these arguments as positional arguments.\n\nThis is something to keep in mind when creating new code -- if arguments are meant to be keyword-only, they should be marked as such.\n\n\nAlso a comment on the ticket description:\n> We remove these old deprecations in this ticket.\n\nOne does not \"remove deprecations\" -- one removes deprecated features or deprecated code.",
    "created_at": "2021-07-23T18:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518890",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>


```
+        if not embedding is None:
+            raise ValueError('the embedding keyword is deprecated, see :trac:`32205`')
```
this makes no sense - "deprecated" means that it still works 


Also note that changes like this:

```
-    def sigma_invariants(self, n, formal=False, embedding=None, type='point'):
+    def sigma_invariants(self, n, **kwds):
```
make an incompatible change to the signature -- after the change, it is not possible any more to pass these arguments as positional arguments.

This is something to keep in mind when creating new code -- if arguments are meant to be keyword-only, they should be marked as such.


Also a comment on the ticket description:
> We remove these old deprecations in this ticket.

One does not "remove deprecations" -- one removes deprecated features or deprecated code.



---

archive/issue_events_444255.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-23T18:47:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444255"
}
```



---

archive/issue_events_444256.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-23T18:47:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444256"
}
```



---

archive/issue_comments_518891.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis is getting a little circular now.\n\nThe signature is changed because you asked for the embedding keyword to be accepted so that an error could be raised. This particular function has never accepted the embedding keyword. The function it replaced was deprecated 2 years ago. That replaced function accepted an embedding keyword until 4 years ago. So adding an embedding keyword to this function just to raise an error does not seem like a good choice.\n\nWhat should have happened is that after the embedding keyword was deprecated that change was followed-up on before the whole function was deprecated and replaced. However, that's not where we are today.\n\nSo, should Alex continue and adjust the error message to be better phrased and leave the code as is or go back to the original solution which seemed to most logical based on the current situation?\n\nSince you have strong opinions about this particular issue, I'm happy to back off and let you handle the review.",
    "created_at": "2021-07-23T19:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518891",
    "user": "https://github.com/bhutz"
}
```

<div id="comment:13" align="right">comment:13</div>

This is getting a little circular now.

The signature is changed because you asked for the embedding keyword to be accepted so that an error could be raised. This particular function has never accepted the embedding keyword. The function it replaced was deprecated 2 years ago. That replaced function accepted an embedding keyword until 4 years ago. So adding an embedding keyword to this function just to raise an error does not seem like a good choice.

What should have happened is that after the embedding keyword was deprecated that change was followed-up on before the whole function was deprecated and replaced. However, that's not where we are today.

So, should Alex continue and adjust the error message to be better phrased and leave the code as is or go back to the original solution which seemed to most logical based on the current situation?

Since you have strong opinions about this particular issue, I'm happy to back off and let you handle the review.



---

archive/issue_comments_518892.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@bhutz](#comment:13):\n> you asked for the embedding keyword to be accepted so that an error could be raised.\n\nNo, actually \u200b90f8798 had kept the parameter and removed the warning and the documentation of the parameter - so effectively the function would silently accept this parameter.\n\nI asked for it to become an error to pass the previously deprecated parameter. \n\nNormally one would just remove the parameter from the function signature. Then it becomes an error to pass the parameter just by the fact that passing an unknown keyword argument is an error in Python.\n\nHowever, you have the problem that these functions also accept these arguments as positional arguments. By just removing the `embedding` parameter, you are changing the signature -- a previous call of `.sigma_invariants(n, False, None, 'point')` would no longer be valid.\n\nThe current change, to `**kwds`, makes all calls like `.sigma_invariants(n, False)` invalid too. This is an incompatible change and should not be done without deprecation.\n\n(See #16607 for a related discussion.)",
    "created_at": "2021-07-23T19:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518892",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@bhutz](#comment:13):
> you asked for the embedding keyword to be accepted so that an error could be raised.

No, actually ​90f8798 had kept the parameter and removed the warning and the documentation of the parameter - so effectively the function would silently accept this parameter.

I asked for it to become an error to pass the previously deprecated parameter. 

Normally one would just remove the parameter from the function signature. Then it becomes an error to pass the parameter just by the fact that passing an unknown keyword argument is an error in Python.

However, you have the problem that these functions also accept these arguments as positional arguments. By just removing the `embedding` parameter, you are changing the signature -- a previous call of `.sigma_invariants(n, False, None, 'point')` would no longer be valid.

The current change, to `**kwds`, makes all calls like `.sigma_invariants(n, False)` invalid too. This is an incompatible change and should not be done without deprecation.

(See #16607 for a related discussion.)



---

archive/issue_comments_518893.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,4 +6,4 @@\n \n - deprecation of rational_preperiodic_points method (2 years old, #28213)\n \n-We remove these old deprecations in this ticket.\n+We remove these deprecated methods in this ticket, and make it an error if the deprecated keyword is passed.\n``````\n",
    "created_at": "2021-07-23T19:40:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518893",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,4 +6,4 @@
 
 - deprecation of rational_preperiodic_points method (2 years old, #28213)
 
-We remove these old deprecations in this ticket.
+We remove these deprecated methods in this ticket, and make it an error if the deprecated keyword is passed.
``````




---

archive/issue_events_444257.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-23T19:40:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "title_is": "Removing deprecated parameters and methods in projective_ds",
    "title_was": "Removing Deprecation Notices in projective_ds",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444257"
}
```



---

archive/issue_comments_518894.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mkoeppe](#comment:12):\n> Also a comment on the ticket description:\n> > We remove these old deprecations in this ticket.\n\n> \n> One does not \"remove deprecations\" -- one removes deprecated features or deprecated code.\n\nFixed it for you in description and title",
    "created_at": "2021-07-23T19:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518894",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mkoeppe](#comment:12):
> Also a comment on the ticket description:
> > We remove these old deprecations in this ticket.

> 
> One does not "remove deprecations" -- one removes deprecated features or deprecated code.

Fixed it for you in description and title



---

archive/issue_comments_518895.json:
```json
{
    "body": "Changed reviewer from **Ben Hutz** to **Ben Hutz, Matthias Koeppe**",
    "created_at": "2021-07-23T19:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518895",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **Ben Hutz** to **Ben Hutz, Matthias Koeppe**



---

archive/issue_comments_518896.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@mkoeppe](#comment:14):\n> However, you have the problem that these functions also accept these arguments as positional arguments. By just removing the `embedding` parameter, you are changing the signature -- a previous call of `.sigma_invariants(n, False, None, 'point')` would no longer be valid.\n\nThis is an excellent point I had not thought about.\n\nIf we change the code to throw an error when an `embedding` parameter is passed, then we have reached a dead end where `sigma_invariants` has a useless parameter which must be documented as useless, indefinitely. This seems sub optimal, and confusing for a user.\n\nIs there some way to avoid having to maintain a useless parameter? I can't think of one short of deprecating the entire function and creating a new function with a new name but identical functionality.\n\nIf there isn't a way to avoid maintaining a useless parameter, I'm inclined to leave `embedding` as deprecated. That way it is at least clear why `embedding` is still accepted, and if we add a note referencing this ticket, hopefully no one will make my same mistake.",
    "created_at": "2021-07-23T20:47:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518896",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@mkoeppe](#comment:14):
> However, you have the problem that these functions also accept these arguments as positional arguments. By just removing the `embedding` parameter, you are changing the signature -- a previous call of `.sigma_invariants(n, False, None, 'point')` would no longer be valid.

This is an excellent point I had not thought about.

If we change the code to throw an error when an `embedding` parameter is passed, then we have reached a dead end where `sigma_invariants` has a useless parameter which must be documented as useless, indefinitely. This seems sub optimal, and confusing for a user.

Is there some way to avoid having to maintain a useless parameter? I can't think of one short of deprecating the entire function and creating a new function with a new name but identical functionality.

If there isn't a way to avoid maintaining a useless parameter, I'm inclined to leave `embedding` as deprecated. That way it is at least clear why `embedding` is still accepted, and if we add a note referencing this ticket, hopefully no one will make my same mistake.



---

archive/issue_comments_518897.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@EnderWannabe](#comment:18):\n> If we change the code to throw an error when an `embedding` parameter is passed, then we have reached a dead end where `sigma_invariants` has a useless parameter which must be documented as useless, indefinitely. This seems sub optimal, and confusing for a user.\n\nYes, it is an unfortunate situation that comes from the fact that Sage was stuck in Python 2 for too long, in which the syntax for marking keyword-only parameters was not available. It is affecting many interfaces in Sage.\n\n> Is there some way to avoid having to maintain a useless parameter? \n\nI'm not aware of a satisfactory mechanism really. We have a `@`rename_keyword decorator, but (as far as I know) not a decorator that would make it an error to pass the keyword - without changing the positional signature.\n\n> I can't think of one short of deprecating the entire function and creating a new function with a new name but identical functionality.\n\nWell, a possible way forward would be to decide to deprecate passing certain parameters as positional arguments. In the example of `sigma_invariants`, I would guess that you would be OK to make all arguments except `n` keyword-only at some point in the future.\n\nSo along the lines of the discussion in #16607, one could introduce this deprecation.\nUnfortunately this may lead to rather complicated code. So ideally it would be implemented using a decorator instead of doing it one by one in every function that needs it.\n\nAfter that deprecation has expired, one would finally be able to remove the parameter completely.\n\n\n> If there isn't a way to avoid maintaining a useless parameter, I'm inclined to leave `embedding` as deprecated. That way it is at least clear why `embedding` is still accepted, and if we add a note referencing this ticket, hopefully no one will make my same mistake.\n\nYes, I think this is a simple reasonable solution; but instead of calling `deprecation`, you could as well raise an error.",
    "created_at": "2021-07-23T21:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518897",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@EnderWannabe](#comment:18):
> If we change the code to throw an error when an `embedding` parameter is passed, then we have reached a dead end where `sigma_invariants` has a useless parameter which must be documented as useless, indefinitely. This seems sub optimal, and confusing for a user.

Yes, it is an unfortunate situation that comes from the fact that Sage was stuck in Python 2 for too long, in which the syntax for marking keyword-only parameters was not available. It is affecting many interfaces in Sage.

> Is there some way to avoid having to maintain a useless parameter? 

I'm not aware of a satisfactory mechanism really. We have a `@`rename_keyword decorator, but (as far as I know) not a decorator that would make it an error to pass the keyword - without changing the positional signature.

> I can't think of one short of deprecating the entire function and creating a new function with a new name but identical functionality.

Well, a possible way forward would be to decide to deprecate passing certain parameters as positional arguments. In the example of `sigma_invariants`, I would guess that you would be OK to make all arguments except `n` keyword-only at some point in the future.

So along the lines of the discussion in #16607, one could introduce this deprecation.
Unfortunately this may lead to rather complicated code. So ideally it would be implemented using a decorator instead of doing it one by one in every function that needs it.

After that deprecation has expired, one would finally be able to remove the parameter completely.


> If there isn't a way to avoid maintaining a useless parameter, I'm inclined to leave `embedding` as deprecated. That way it is at least clear why `embedding` is still accepted, and if we add a note referencing this ticket, hopefully no one will make my same mistake.

Yes, I think this is a simple reasonable solution; but instead of calling `deprecation`, you could as well raise an error.



---

archive/issue_comments_518898.json:
```json
{
    "body": "Changed commit from **[9e6fd69](https://github.com/sagemath/sagetrac-mirror/commit/9e6fd690e8ca385367d74fb249a9d870a8c6c5d1)** to **[3d6dd04](https://github.com/sagemath/sagetrac-mirror/commit/3d6dd04ebbb891e194b9c24337bd8336a749611d)**",
    "created_at": "2021-07-25T16:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518898",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9e6fd69](https://github.com/sagemath/sagetrac-mirror/commit/9e6fd690e8ca385367d74fb249a9d870a8c6c5d1)** to **[3d6dd04](https://github.com/sagemath/sagetrac-mirror/commit/3d6dd04ebbb891e194b9c24337bd8336a749611d)**



---

archive/issue_comments_518899.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d6dd04ebbb891e194b9c24337bd8336a749611d\">3d6dd04</a></td><td><code>32205: fixed positional arguments</code></td></tr></table>\n",
    "created_at": "2021-07-25T16:45:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518899",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d6dd04ebbb891e194b9c24337bd8336a749611d">3d6dd04</a></td><td><code>32205: fixed positional arguments</code></td></tr></table>




---

archive/issue_comments_518900.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@mkoeppe](#comment:19):\n> Yes, I think this is a simple reasonable solution; but instead of calling `deprecation`, you could as well raise an error.\n\nOk, pushed a branch with such an error.",
    "created_at": "2021-07-25T16:47:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518900",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@mkoeppe](#comment:19):
> Yes, I think this is a simple reasonable solution; but instead of calling `deprecation`, you could as well raise an error.

Ok, pushed a branch with such an error.



---

archive/issue_events_444258.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-25T16:47:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444258"
}
```



---

archive/issue_events_444259.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-25T16:47:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444259"
}
```



---

archive/issue_comments_518901.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nLooking good, but `multiplier_spectra` will need a fix for the positional arguments as well",
    "created_at": "2021-07-25T16:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518901",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:23" align="right">comment:23</div>

Looking good, but `multiplier_spectra` will need a fix for the positional arguments as well



---

archive/issue_events_444260.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-25T16:53:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444260"
}
```



---

archive/issue_events_444261.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-25T16:53:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444261"
}
```



---

archive/issue_comments_518902.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/36233292cb559a57f73cd2f9caa4f4ab97498fe2\">3623329</a></td><td><code>32205: changed multiplier spectra function definition</code></td></tr></table>\n",
    "created_at": "2021-07-25T18:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518902",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/36233292cb559a57f73cd2f9caa4f4ab97498fe2">3623329</a></td><td><code>32205: changed multiplier spectra function definition</code></td></tr></table>




---

archive/issue_comments_518903.json:
```json
{
    "body": "Changed commit from **[3d6dd04](https://github.com/sagemath/sagetrac-mirror/commit/3d6dd04ebbb891e194b9c24337bd8336a749611d)** to **[3623329](https://github.com/sagemath/sagetrac-mirror/commit/36233292cb559a57f73cd2f9caa4f4ab97498fe2)**",
    "created_at": "2021-07-25T18:16:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518903",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3d6dd04](https://github.com/sagemath/sagetrac-mirror/commit/3d6dd04ebbb891e194b9c24337bd8336a749611d)** to **[3623329](https://github.com/sagemath/sagetrac-mirror/commit/36233292cb559a57f73cd2f9caa4f4ab97498fe2)**



---

archive/issue_events_444262.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-25T18:16:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444262"
}
```



---

archive/issue_events_444263.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-25T18:16:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444263"
}
```



---

archive/issue_comments_518904.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n\n```\n--- a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n+++ b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py\n@@ -4149,7 +4149,7 @@ class DynamicalSystem_projective(SchemeMorphism_polynomial_projective_space,\n         else:\n             raise ValueError(\"algorithm must be either 'variety' or 'cyclegraph'\")\n \n-    def multiplier_spectra(self, n, formal=False, type='point', use_algebraic_closure=True):\n+    def multiplier_spectra(self, n, formal=False, embedding=None, type='point'):\n         r\"\"\"\n         Computes the ``n`` multiplier spectra of this dynamical system.\n \n```\nI don't understand what the purpose of this change is\n\n```\n@@ -4172,6 +4172,8 @@ class DynamicalSystem_projective(SchemeMorphism_polynomial_projective_space,\n           to find the formal ``n`` multiplier spectra of this map and\n           ``False`` specifies to find the ``n`` multiplier spectra\n \n+        - ``embedding`` -- (default: ``None``) ignored. See :trac: `32205`.\n+\n         - ``type`` -- (default: ``'point'``) string; either ``'point'``\n           or ``'cycle'`` depending on whether you compute one multiplier\n           per point or one per cycle\n@@ -4296,6 +4298,9 @@ class DynamicalSystem_projective(SchemeMorphism_polynomial_projective_space,\n         PS = self.domain()\n         n = Integer(n)\n \n+        if not embedding is None:\n+            raise ValueError('do not specify an embedding')\n+\n         if (n < 1):\n             raise ValueError(\"period must be a positive integer\")\n         if not is_ProjectiveSpace(PS):\n```\nDocumentation does not match the implementation. `embedding` is not ignored.\nHow about something like this:\n\n```\n>>>        - ``embedding`` -- (default: ``None``) must be ``None``, passing an embedding is no longer supported, see :trac:`32205`.\n```\nLikewise in the other method.",
    "created_at": "2021-07-25T18:40:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518904",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:26" align="right">comment:26</div>


```
--- a/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
+++ b/src/sage/dynamics/arithmetic_dynamics/projective_ds.py
@@ -4149,7 +4149,7 @@ class DynamicalSystem_projective(SchemeMorphism_polynomial_projective_space,
         else:
             raise ValueError("algorithm must be either 'variety' or 'cyclegraph'")
 
-    def multiplier_spectra(self, n, formal=False, type='point', use_algebraic_closure=True):
+    def multiplier_spectra(self, n, formal=False, embedding=None, type='point'):
         r"""
         Computes the ``n`` multiplier spectra of this dynamical system.
 
```
I don't understand what the purpose of this change is

```
@@ -4172,6 +4172,8 @@ class DynamicalSystem_projective(SchemeMorphism_polynomial_projective_space,
           to find the formal ``n`` multiplier spectra of this map and
           ``False`` specifies to find the ``n`` multiplier spectra
 
+        - ``embedding`` -- (default: ``None``) ignored. See :trac: `32205`.
+
         - ``type`` -- (default: ``'point'``) string; either ``'point'``
           or ``'cycle'`` depending on whether you compute one multiplier
           per point or one per cycle
@@ -4296,6 +4298,9 @@ class DynamicalSystem_projective(SchemeMorphism_polynomial_projective_space,
         PS = self.domain()
         n = Integer(n)
 
+        if not embedding is None:
+            raise ValueError('do not specify an embedding')
+
         if (n < 1):
             raise ValueError("period must be a positive integer")
         if not is_ProjectiveSpace(PS):
```
Documentation does not match the implementation. `embedding` is not ignored.
How about something like this:

```
>>>        - ``embedding`` -- (default: ``None``) must be ``None``, passing an embedding is no longer supported, see :trac:`32205`.
```
Likewise in the other method.



---

archive/issue_comments_518905.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment:26):\n> I don't understand what the purpose of this change is\n\nSorry, I thoughtlessly changed multiplier spectra. You said that multiplier spectra will need a fix for positional arguments as well. Looking back at commits, I don't think multiplier spectra was accepting a deprecated argument before this ticket. Could you clarify?",
    "created_at": "2021-07-25T19:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518905",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment:26):
> I don't understand what the purpose of this change is

Sorry, I thoughtlessly changed multiplier spectra. You said that multiplier spectra will need a fix for positional arguments as well. Looking back at commits, I don't think multiplier spectra was accepting a deprecated argument before this ticket. Could you clarify?



---

archive/issue_comments_518906.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nFor this method, I think you only need to undo the change to using `**kwds` that you did in https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496",
    "created_at": "2021-07-25T19:11:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518906",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

For this method, I think you only need to undo the change to using `**kwds` that you did in https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496



---

archive/issue_comments_518907.json:
```json
{
    "body": "Changed commit from **[3623329](https://github.com/sagemath/sagetrac-mirror/commit/36233292cb559a57f73cd2f9caa4f4ab97498fe2)** to **[7a9f9d7](https://github.com/sagemath/sagetrac-mirror/commit/7a9f9d7c3ae3661d15a0f55b1a9d513d06e03314)**",
    "created_at": "2021-07-25T19:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518907",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3623329](https://github.com/sagemath/sagetrac-mirror/commit/36233292cb559a57f73cd2f9caa4f4ab97498fe2)** to **[7a9f9d7](https://github.com/sagemath/sagetrac-mirror/commit/7a9f9d7c3ae3661d15a0f55b1a9d513d06e03314)**



---

archive/issue_comments_518908.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a9f9d7c3ae3661d15a0f55b1a9d513d06e03314\">7a9f9d7</a></td><td><code>32205: multiplier spectra fix</code></td></tr></table>\n",
    "created_at": "2021-07-25T19:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518908",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a9f9d7c3ae3661d15a0f55b1a9d513d06e03314">7a9f9d7</a></td><td><code>32205: multiplier spectra fix</code></td></tr></table>




---

archive/issue_comments_518909.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@mkoeppe](#comment:28):\n> For this method, I think you only need to undo the change to using `**kwds` that you did in https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496\n\nThanks for clarifying. Hopefully that last push does the trick.",
    "created_at": "2021-07-25T19:14:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518909",
    "user": "https://github.com/EnderWannabe"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@mkoeppe](#comment:28):
> For this method, I think you only need to undo the change to using `**kwds` that you did in https://github.com/sagemath/sagetrac-mirror/commit/d905c4814cb4f3c6362e2f29bbcfced677055496

Thanks for clarifying. Hopefully that last push does the trick.



---

archive/issue_comments_518910.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nLooking good.",
    "created_at": "2021-07-25T19:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518910",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:31" align="right">comment:31</div>

Looking good.



---

archive/issue_events_444264.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-25T19:18:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444264"
}
```



---

archive/issue_events_444265.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-25T19:18:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444265"
}
```



---

archive/issue_comments_518911.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nMerge conflict",
    "created_at": "2021-07-25T20:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518911",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">comment:32</div>

Merge conflict



---

archive/issue_events_444266.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-25T20:27:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444266"
}
```



---

archive/issue_events_444267.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-25T20:27:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444267"
}
```



---

archive/issue_comments_518912.json:
```json
{
    "body": "Changed branch from **[u/gh-EnderWannabe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/remove_deprecations)** to **[u/mkoeppe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove_deprecations)**",
    "created_at": "2021-08-01T21:29:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518912",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/gh-EnderWannabe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/remove_deprecations)** to **[u/mkoeppe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove_deprecations)**



---

archive/issue_comments_518913.json:
```json
{
    "body": "Changed commit from **[7a9f9d7](https://github.com/sagemath/sagetrac-mirror/commit/7a9f9d7c3ae3661d15a0f55b1a9d513d06e03314)** to **[9a9e4d8](https://github.com/sagemath/sagetrac-mirror/commit/9a9e4d803feaa70dd30989ed4647b1f13581a5cf)**",
    "created_at": "2021-08-01T21:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518913",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[7a9f9d7](https://github.com/sagemath/sagetrac-mirror/commit/7a9f9d7c3ae3661d15a0f55b1a9d513d06e03314)** to **[9a9e4d8](https://github.com/sagemath/sagetrac-mirror/commit/9a9e4d803feaa70dd30989ed4647b1f13581a5cf)**



---

archive/issue_comments_518914.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nSquashed/rebased on 9.4.rc0 to remove the merge conflict\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a9e4d803feaa70dd30989ed4647b1f13581a5cf\">9a9e4d8</a></td><td><code>Remove deprecated parameters and methods in projective_ds</code></td></tr></table>\n",
    "created_at": "2021-08-01T21:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518914",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:34" align="right">comment:34</div>

Squashed/rebased on 9.4.rc0 to remove the merge conflict

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a9e4d803feaa70dd30989ed4647b1f13581a5cf">9a9e4d8</a></td><td><code>Remove deprecated parameters and methods in projective_ds</code></td></tr></table>




---

archive/issue_events_444268.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-01T21:30:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444268"
}
```



---

archive/issue_events_444269.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-01T21:30:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444269"
}
```



---

archive/issue_events_444270.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444270"
}
```



---

archive/issue_events_444271.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-09T21:07:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444271"
}
```



---

archive/issue_comments_518915.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nMerge conflict",
    "created_at": "2021-10-23T23:23:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518915",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:37" align="right">comment:37</div>

Merge conflict



---

archive/issue_events_444272.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-23T23:23:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444272"
}
```



---

archive/issue_events_444273.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-23T23:23:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444273"
}
```



---

archive/issue_comments_518916.json:
```json
{
    "body": "Changed commit from **[9a9e4d8](https://github.com/sagemath/sagetrac-mirror/commit/9a9e4d803feaa70dd30989ed4647b1f13581a5cf)** to **[5123115](https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a)**",
    "created_at": "2021-10-24T02:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518916",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9a9e4d8](https://github.com/sagemath/sagetrac-mirror/commit/9a9e4d803feaa70dd30989ed4647b1f13581a5cf)** to **[5123115](https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a)**



---

archive/issue_comments_518917.json:
```json
{
    "body": "<div id=\"comment:38\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a\">5123115</a></td><td><code>Merge tag '9.5.beta4' into t/32205/remove_deprecations</code></td></tr></table>\n",
    "created_at": "2021-10-24T02:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518917",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:38"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a">5123115</a></td><td><code>Merge tag '9.5.beta4' into t/32205/remove_deprecations</code></td></tr></table>




---

archive/issue_events_444274.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-24T02:28:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444274"
}
```



---

archive/issue_events_444275.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-24T02:28:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444275"
}
```



---

archive/issue_comments_518918.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove_deprecations)** to **[5123115](https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a)**",
    "created_at": "2021-10-25T22:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32205#issuecomment-518918",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/remove_deprecations](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/remove_deprecations)** to **[5123115](https://github.com/sagemath/sagetrac-mirror/commit/512311586a607902d7e80e873ee95d50ed3ac26a)**



---

archive/issue_events_444276.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-25T22:59:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444276"
}
```



---

archive/issue_events_444277.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cf1a7a533da48a8c5e2434e9eb765be8974b71cc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-25T22:59:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32205",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32205#event-444277"
}
```
