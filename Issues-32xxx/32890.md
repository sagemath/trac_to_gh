# Issue 32890: Unstable doctest in hmm/chmm.pyx

archive/issues_032653.json:
```json
{
    "body": "Part of #32544:\n\n```\nsage -t --long --warn-long 42.1 --random-seed=30462179883676183063850454726642654182 src/sage/stats/hmm/chmm.pyx\n**********************************************************************\nFile \"src/sage/stats/hmm/chmm.pyx\", line 136, in sage.stats.hmm.chmm.GaussianHiddenMarkovModel\nFailed example:\n    try:\n        p, s = m.baum_welch(obs)\n        assert p > log_likelihood\n        assert (4 <= s < 200)\n    except RuntimeError:\n        pass\nException raised:\n    Traceback (most recent call last):\n      File \"/home/jonathan/Applications/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/jonathan/Applications/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.stats.hmm.chmm.GaussianHiddenMarkovModel[12]>\", line 4, in <module>\n        assert (Integer(4) <= s < Integer(200))\n    AssertionError\n**********************************************************************\n1 item had failures:\n   1 of  15 in sage.stats.hmm.chmm.GaussianHiddenMarkovModel\n    [119 tests, 1 failure, 0.53 s]\n```\n\nCC:  @orlitzky\n\nBranch/Commit: 657a8615891ac2822c4a131f19ee3d493dc4fc2c\n\nReviewer: Markus Wageringel\n\nAuthor: Michael Orlitzky\n\nDependencies: #32907\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32890\n\n",
    "closed_at": "2022-01-31T23:30:59Z",
    "created_at": "2021-11-17T16:16:40Z",
    "labels": [
        "component: doctest framework",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Unstable doctest in hmm/chmm.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32890",
    "user": "https://github.com/kliem"
}
```
Part of #32544:

```
sage -t --long --warn-long 42.1 --random-seed=30462179883676183063850454726642654182 src/sage/stats/hmm/chmm.pyx
**********************************************************************
File "src/sage/stats/hmm/chmm.pyx", line 136, in sage.stats.hmm.chmm.GaussianHiddenMarkovModel
Failed example:
    try:
        p, s = m.baum_welch(obs)
        assert p > log_likelihood
        assert (4 <= s < 200)
    except RuntimeError:
        pass
Exception raised:
    Traceback (most recent call last):
      File "/home/jonathan/Applications/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/jonathan/Applications/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.stats.hmm.chmm.GaussianHiddenMarkovModel[12]>", line 4, in <module>
        assert (Integer(4) <= s < Integer(200))
    AssertionError
**********************************************************************
1 item had failures:
   1 of  15 in sage.stats.hmm.chmm.GaussianHiddenMarkovModel
    [119 tests, 1 failure, 0.53 s]
```

CC:  @orlitzky

Branch/Commit: 657a8615891ac2822c4a131f19ee3d493dc4fc2c

Reviewer: Markus Wageringel

Author: Michael Orlitzky

Dependencies: #32907

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32890





---

archive/issue_events_086938.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T20:12:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32890#event-86938"
}
```



---

archive/issue_comments_655745.json:
```json
{
    "body": "<a id='comment:2'></a>The return value `s` here is a number of iterations, and should probably lie between zero (or maybe one) and the `max_iter` of the `baum_welch()` method, inclusive.",
    "created_at": "2021-12-29T12:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655745",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>The return value `s` here is a number of iterations, and should probably lie between zero (or maybe one) and the `max_iter` of the `baum_welch()` method, inclusive.



---

archive/issue_comments_655746.json:
```json
{
    "body": "Changing commit from \"\" to \"657a8615891ac2822c4a131f19ee3d493dc4fc2c\"",
    "created_at": "2021-12-29T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655746",
    "user": "https://github.com/orlitzky"
}
```

Changing commit from "" to "657a8615891ac2822c4a131f19ee3d493dc4fc2c"



---

archive/issue_comments_655747.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-29T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655747",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_655748.json:
```json
{
    "body": "<a id='comment:3'></a>Last 10 new commits:",
    "created_at": "2021-12-29T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655748",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:3'></a>Last 10 new commits:



---

archive/issue_comments_655749.json:
```json
{
    "body": "Changing author from \"\" to \"Michael Orlitzky\"",
    "created_at": "2021-12-29T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655749",
    "user": "https://github.com/orlitzky"
}
```

Changing author from "" to "Michael Orlitzky"



---

archive/issue_comments_655750.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mjo/ticket/32890\"",
    "created_at": "2021-12-29T18:48:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655750",
    "user": "https://github.com/orlitzky"
}
```

Changing branch from "" to "u/mjo/ticket/32890"



---

archive/issue_comments_655751.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#32907\"",
    "created_at": "2022-01-03T17:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655751",
    "user": "https://github.com/mwageringel"
}
```

Changing dependencies from "" to "#32907"



---

archive/issue_comments_655752.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-03T17:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655752",
    "user": "https://github.com/mwageringel"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_655753.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Markus Wageringel\"",
    "created_at": "2022-01-03T17:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655753",
    "user": "https://github.com/mwageringel"
}
```

Changing reviewer from "" to "Markus Wageringel"



---

archive/issue_comments_655754.json:
```json
{
    "body": "<a id='comment:4'></a>The last commit looks good to me. Let me add the dependency for completeness.",
    "created_at": "2022-01-03T17:42:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655754",
    "user": "https://github.com/mwageringel"
}
```

<a id='comment:4'></a>The last commit looks good to me. Let me add the dependency for completeness.



---

archive/issue_comments_655755.json:
```json
{
    "body": "Changing branch from \"u/mjo/ticket/32890\" to \"657a8615891ac2822c4a131f19ee3d493dc4fc2c\"",
    "created_at": "2022-01-31T23:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655755",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mjo/ticket/32890" to "657a8615891ac2822c4a131f19ee3d493dc4fc2c"



---

archive/issue_comments_655756.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-31T23:30:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32890#issuecomment-655756",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_086939.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-31T23:30:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32890",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32890#event-86939"
}
```
