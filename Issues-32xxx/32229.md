# Issue 32229: Asymptotic Ring BTerms: fix conversion

archive/issues_031992.json:
```json
{
    "assignees": [],
    "body": "\n\nDepends on #31933\nDepends on #32215\n\nCC:  @cheuberg @behackl @thhagelmayer\n\nBranch/Commit: **[b29460f](https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba)**\n\nReviewer: **Benjamin Hackl, Thomas Hagelmayer**\n\nAuthor: **Daniel Krenn**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32229_\n\n",
    "closed_at": "2021-12-19T11:47:51Z",
    "created_at": "2021-07-18T11:15:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20asymptotic%20expansions",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Asymptotic Ring BTerms: fix conversion",
    "type": "issue",
    "updated_at": "2021-12-19T11:47:51Z",
    "url": "https://github.com/sagemath/sage/issues/32229",
    "user": "https://github.com/dkrenn"
}
```


Depends on #31933
Depends on #32215

CC:  @cheuberg @behackl @thhagelmayer

Branch/Commit: **[b29460f](https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba)**

Reviewer: **Benjamin Hackl, Thomas Hagelmayer**

Author: **Daniel Krenn**

_Issue created by migration from https://trac.sagemath.org/ticket/32229_





---

archive/issue_events_426317.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T11:15:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426317"
}
```



---

archive/issue_events_426318.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T11:15:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20asymptotic%20expansions",
    "label_color": "0000ff",
    "label_name": "component: asymptotic expansions",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426318"
}
```



---

archive/issue_events_426319.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T11:15:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426319"
}
```



---

archive/issue_events_426320.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T11:15:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426320"
}
```



---

archive/issue_comments_522236.json:
```json
{
    "body": "Branch: **[u/dkrenn/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/bterms_conversion)**",
    "created_at": "2021-07-18T11:20:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522236",
    "user": "https://github.com/dkrenn"
}
```

Branch: **[u/dkrenn/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/bterms_conversion)**



---

archive/issue_comments_522237.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3498449102a89f07c2bfa0d757e2cb2fce383249\">3498449</a></td><td><code>Trac #31933 review: unify spelling B-term</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1933586595d8bd7730a41e5e13c2dae8d3d53710\">1933586</a></td><td><code>Trac #31933 review: simplfy doctests by using factory</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/77717e4d71091ad09810b0fdc08133b84c17b046\">77717e4</a></td><td><code>Trac #31933 review: minor changes to docstrings etc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2660d4c5760dc4ce95a6adc0c3408b74d0a1e8d4\">2660d4c</a></td><td><code>Merge branch 't/31933/initial_support_for_bterms' into t/32229/bterms_conversion</code></td></tr></table>\n",
    "created_at": "2021-07-18T14:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522237",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2" align="right">Comment 2</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3498449102a89f07c2bfa0d757e2cb2fce383249">3498449</a></td><td><code>Trac #31933 review: unify spelling B-term</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1933586595d8bd7730a41e5e13c2dae8d3d53710">1933586</a></td><td><code>Trac #31933 review: simplfy doctests by using factory</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/77717e4d71091ad09810b0fdc08133b84c17b046">77717e4</a></td><td><code>Trac #31933 review: minor changes to docstrings etc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2660d4c5760dc4ce95a6adc0c3408b74d0a1e8d4">2660d4c</a></td><td><code>Merge branch 't/31933/initial_support_for_bterms' into t/32229/bterms_conversion</code></td></tr></table>




---

archive/issue_comments_522238.json:
```json
{
    "body": "Commit: **[2660d4c](https://github.com/sagemath/sagetrac-mirror/commit/2660d4c5760dc4ce95a6adc0c3408b74d0a1e8d4)**",
    "created_at": "2021-07-18T14:48:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522238",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[2660d4c](https://github.com/sagemath/sagetrac-mirror/commit/2660d4c5760dc4ce95a6adc0c3408b74d0a1e8d4)**



---

archive/issue_comments_522239.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\n5 failing doctests:\n\n1. `FutureWarning` (2 failing doctests), see review item 67 of #31933\n\n2. Negative coefficients in `BTerm`s (2 failing doctests). How to solve this? Is (simply) taking absolute values an option?\n\n3. Positional argument in failing doctests, see review item 73 of #31933.",
    "created_at": "2021-07-18T14:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522239",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:3" align="right">Comment 3</div>

5 failing doctests:

1. `FutureWarning` (2 failing doctests), see review item 67 of #31933

2. Negative coefficients in `BTerm`s (2 failing doctests). How to solve this? Is (simply) taking absolute values an option?

3. Positional argument in failing doctests, see review item 73 of #31933.



---

archive/issue_events_426321.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T14:52:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426321"
}
```



---

archive/issue_events_426322.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T14:52:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426322"
}
```



---

archive/issue_events_426323.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T14:52:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426323"
}
```



---

archive/issue_comments_522240.json:
```json
{
    "body": "Author: **Daniel Krenn**",
    "created_at": "2021-07-18T14:52:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522240",
    "user": "https://github.com/dkrenn"
}
```

Author: **Daniel Krenn**



---

archive/issue_events_426324.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T14:53:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426324"
}
```



---

archive/issue_events_426325.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2021-07-18T14:53:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426325"
}
```



---

archive/issue_comments_522241.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522241",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_426326.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426326"
}
```



---

archive/issue_events_426327.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426327"
}
```



---

archive/issue_comments_522242.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@dkrenn](#comment%3A3):\n> 2. Negative coefficients in `BTerm`s (2 failing doctests). How to solve this? Is (simply) taking absolute values an option?\n\nI think that negative coefficients should be forbidden for B-Terms.",
    "created_at": "2021-08-02T19:14:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522242",
    "user": "https://github.com/cheuberg"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@dkrenn](#comment%3A3):
> 2. Negative coefficients in `BTerm`s (2 failing doctests). How to solve this? Is (simply) taking absolute values an option?

I think that negative coefficients should be forbidden for B-Terms.



---

archive/issue_comments_522243.json:
```json
{
    "body": "Changed branch from **[u/dkrenn/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/bterms_conversion)** to **[u/gh-thhagelmayer/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-thhagelmayer/bterms_conversion)**",
    "created_at": "2021-08-07T18:08:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522243",
    "user": "https://github.com/thhagelmayer"
}
```

Changed branch from **[u/dkrenn/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/bterms_conversion)** to **[u/gh-thhagelmayer/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-thhagelmayer/bterms_conversion)**



---

archive/issue_comments_522244.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI merged tickets #32215 and #31933 which bumped the sage version to beta4. I also fixed the doctests which were failing after the merge.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f49586077352048af0b06a5bf9412a5ef993d4b\">9f49586</a></td><td><code>Trac #31933. Item 77: move hint to a more meaningful line</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c8c8ec486fad105cc65e68b1889ff95575b49c97\">c8c8ec4</a></td><td><code>Trac #31933. Item 76: revert GenericGrowthElement._find_minimum_ Input explanation introduced in 1c1ebd41. Add missing empty line.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d076a0d1435246b2a87e2932a033a132e28dd8f4\">d076a0d</a></td><td><code>Trac #31933. Item 83: remove unused import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/343ddd856f15814f738b7a87d719b59ac033e267\">343ddd8</a></td><td><code>Trac #31933. Item 84: correct spelling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff4747bcded0c6d8c2e8de0ee9a49753a8de082a\">ff4747b</a></td><td><code>Trac #31933. Item 86: make f-string an fr-string</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f62e7ed1ccbba9f488361642079722c8b17f5eeb\">f62e7ed</a></td><td><code>Trac #31933. Item 87: use the same description for MonomialGrowthElement._find_minimum_ as in GenericGrowthElement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/832c80f6b3defb5ca04a7e8a7a729e656371887f\">832c80f</a></td><td><code>Trac #31933. Item 88: remove 'the' in the acknowledgements to have consistency</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e46c20aee507515cdb19f3847d0a337f840b535\">2e46c20</a></td><td><code>Trac #31933. Item 85: BTerm.__init__: Replace >= by \\ge in all TeX formatted code</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/309d1e18e536afc53cc6aa96877a02c71975af44\">309d1e1</a></td><td><code>Merge branch 't/31933/initial_support_for_bterms' into t/32229/bterms_conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e5b3fbdae06cd9ff787866df3ada169cbdb88d6\">9e5b3fb</a></td><td><code>Trac #32229: fix doctests</code></td></tr></table>\n",
    "created_at": "2021-08-07T18:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522244",
    "user": "https://github.com/thhagelmayer"
}
```

<div id="comment:10" align="right">Comment 10</div>

I merged tickets #32215 and #31933 which bumped the sage version to beta4. I also fixed the doctests which were failing after the merge.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f49586077352048af0b06a5bf9412a5ef993d4b">9f49586</a></td><td><code>Trac #31933. Item 77: move hint to a more meaningful line</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c8c8ec486fad105cc65e68b1889ff95575b49c97">c8c8ec4</a></td><td><code>Trac #31933. Item 76: revert GenericGrowthElement._find_minimum_ Input explanation introduced in 1c1ebd41. Add missing empty line.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d076a0d1435246b2a87e2932a033a132e28dd8f4">d076a0d</a></td><td><code>Trac #31933. Item 83: remove unused import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/343ddd856f15814f738b7a87d719b59ac033e267">343ddd8</a></td><td><code>Trac #31933. Item 84: correct spelling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff4747bcded0c6d8c2e8de0ee9a49753a8de082a">ff4747b</a></td><td><code>Trac #31933. Item 86: make f-string an fr-string</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f62e7ed1ccbba9f488361642079722c8b17f5eeb">f62e7ed</a></td><td><code>Trac #31933. Item 87: use the same description for MonomialGrowthElement._find_minimum_ as in GenericGrowthElement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/832c80f6b3defb5ca04a7e8a7a729e656371887f">832c80f</a></td><td><code>Trac #31933. Item 88: remove 'the' in the acknowledgements to have consistency</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e46c20aee507515cdb19f3847d0a337f840b535">2e46c20</a></td><td><code>Trac #31933. Item 85: BTerm.__init__: Replace >= by \ge in all TeX formatted code</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/309d1e18e536afc53cc6aa96877a02c71975af44">309d1e1</a></td><td><code>Merge branch 't/31933/initial_support_for_bterms' into t/32229/bterms_conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e5b3fbdae06cd9ff787866df3ada169cbdb88d6">9e5b3fb</a></td><td><code>Trac #32229: fix doctests</code></td></tr></table>




---

archive/issue_comments_522245.json:
```json
{
    "body": "Changed commit from **[2660d4c](https://github.com/sagemath/sagetrac-mirror/commit/2660d4c5760dc4ce95a6adc0c3408b74d0a1e8d4)** to **[9e5b3fb](https://github.com/sagemath/sagetrac-mirror/commit/9e5b3fbdae06cd9ff787866df3ada169cbdb88d6)**",
    "created_at": "2021-08-07T18:09:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522245",
    "user": "https://github.com/thhagelmayer"
}
```

Changed commit from **[2660d4c](https://github.com/sagemath/sagetrac-mirror/commit/2660d4c5760dc4ce95a6adc0c3408b74d0a1e8d4)** to **[9e5b3fb](https://github.com/sagemath/sagetrac-mirror/commit/9e5b3fbdae06cd9ff787866df3ada169cbdb88d6)**



---

archive/issue_comments_522246.json:
```json
{
    "body": "Reviewer: **Benjamin Hackl**",
    "created_at": "2021-08-18T18:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522246",
    "user": "https://github.com/behackl"
}
```

Reviewer: **Benjamin Hackl**



---

archive/issue_comments_522247.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nReplying to [@dkrenn](#comment%3A3):\n> 5 failing doctests:\n> \n> 1. `FutureWarning` (2 failing doctests), see review item 67 of #31933\n> \n> 2. Negative coefficients in `BTerm`s (2 failing doctests). How to solve this? Is (simply) taking absolute values an option?\n> \n> 3. Positional argument in failing doctests, see review item 73 of #31933.\n\nI believe that 1 and 3 are resolved in the meantime. Regarding 2 I also believe that upon creation of B-Terms, we should take the absolute value of the specified coefficient. That should be relatively easy to take care of; do we just need to adapt `BTerm.__init__`, or other places like `BTermMonoid._convert_construction_` (as indicated by the added TODO) as well?\n\nEDIT: forgot to say: I've reviewed the code here, the implementation looks good to me (and the fact that #32278 works as intended is also a good indicator of the code here doing what it should).",
    "created_at": "2021-08-18T18:21:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522247",
    "user": "https://github.com/behackl"
}
```

<div id="comment:11" align="right">Comment 11</div>

Replying to [@dkrenn](#comment%3A3):
> 5 failing doctests:
> 
> 1. `FutureWarning` (2 failing doctests), see review item 67 of #31933
> 
> 2. Negative coefficients in `BTerm`s (2 failing doctests). How to solve this? Is (simply) taking absolute values an option?
> 
> 3. Positional argument in failing doctests, see review item 73 of #31933.

I believe that 1 and 3 are resolved in the meantime. Regarding 2 I also believe that upon creation of B-Terms, we should take the absolute value of the specified coefficient. That should be relatively easy to take care of; do we just need to adapt `BTerm.__init__`, or other places like `BTermMonoid._convert_construction_` (as indicated by the added TODO) as well?

EDIT: forgot to say: I've reviewed the code here, the implementation looks good to me (and the fact that #32278 works as intended is also a good indicator of the code here doing what it should).



---

archive/issue_comments_522248.json:
```json
{
    "body": "Changed reviewer from **Benjamin Hackl** to **Benjamin Hackl, Thomas Hagelmayer**",
    "created_at": "2021-08-19T16:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522248",
    "user": "https://github.com/thhagelmayer"
}
```

Changed reviewer from **Benjamin Hackl** to **Benjamin Hackl, Thomas Hagelmayer**



---

archive/issue_comments_522249.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI have reviewed the code and it looks good to me as well.",
    "created_at": "2021-08-19T16:34:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522249",
    "user": "https://github.com/thhagelmayer"
}
```

<div id="comment:12" align="right">Comment 12</div>

I have reviewed the code and it looks good to me as well.



---

archive/issue_comments_522250.json:
```json
{
    "body": "Changed branch from **[u/gh-thhagelmayer/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-thhagelmayer/bterms_conversion)** to **[u/behackl/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/behackl/bterms_conversion)**",
    "created_at": "2021-08-20T09:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522250",
    "user": "https://github.com/behackl"
}
```

Changed branch from **[u/gh-thhagelmayer/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-thhagelmayer/bterms_conversion)** to **[u/behackl/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/behackl/bterms_conversion)**



---

archive/issue_comments_522251.json:
```json
{
    "body": "Changed commit from **[9e5b3fb](https://github.com/sagemath/sagetrac-mirror/commit/9e5b3fbdae06cd9ff787866df3ada169cbdb88d6)** to **[84ad7a3](https://github.com/sagemath/sagetrac-mirror/commit/84ad7a3efb761d10cbc0b02c4dd8145e8c991f04)**",
    "created_at": "2021-08-20T09:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522251",
    "user": "https://github.com/behackl"
}
```

Changed commit from **[9e5b3fb](https://github.com/sagemath/sagetrac-mirror/commit/9e5b3fbdae06cd9ff787866df3ada169cbdb88d6)** to **[84ad7a3](https://github.com/sagemath/sagetrac-mirror/commit/84ad7a3efb761d10cbc0b02c4dd8145e8c991f04)**



---

archive/issue_comments_522252.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI've merged the latest versions of #31933 and #32215, and then added another commit ensuring that we take the absolute value of the passed coefficient when constructing a BTerm. Needs review.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62330c08787aab87bae2ac18233ecda2a37bd536\">62330c0</a></td><td><code>Merge branch 'u/gh-thhagelmayer/initial_support_for_bterms' of trac.sagemath.org:sage into t/32229/bterms_conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f9c6b6eeb3f51ee0b919b8ab6da2edd67fae3ec\">2f9c6b6</a></td><td><code>Trac #32214: unify dash in monoid repr</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7c1823d67bf01936a38bcd01ff4d0102e8d85b6\">f7c1823</a></td><td><code>Merge branch 't/32214/term-monoids-unify-repr' into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba8efe684bd13c2122d5f72c4cae554d5e70928a\">ba8efe6</a></td><td><code>Merge branch 'u/gh-thhagelmayer/refactor-element-construction-term-monoids' of git://trac.sagemath.org/sage into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51e035f56d430e6acb0417a91899ed9d869b5bb6\">51e035f</a></td><td><code>Trac #32215: fix doctests (due to merge of #32214)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d763d663355c4519128a616fb5f6ce7ebba2cfee\">d763d66</a></td><td><code>Trac #32215: full coverage of _element_constructor_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/540d08880bdcc5fbda1b2487bce9c74d3d35f27c\">540d088</a></td><td><code>Merge commit 'c11b2f4' into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/62cae10d33ab58abe5b2bbb2388adce8e01d1487\">62cae10</a></td><td><code>Trac #32215: fix doctest after merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a84a2f2750ae18cd56695cf967fc9d4886f53134\">a84a2f2</a></td><td><code>Merge branch 'u/dkrenn/refactor-element-construction-term-monoids' of trac.sagemath.org:sage into t/32229/bterms_conversion</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84ad7a3efb761d10cbc0b02c4dd8145e8c991f04\">84ad7a3</a></td><td><code>Trac #32229: take absolute value of coefficient of BTerm</code></td></tr></table>\n",
    "created_at": "2021-08-20T09:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522252",
    "user": "https://github.com/behackl"
}
```

<div id="comment:14" align="right">Comment 14</div>

I've merged the latest versions of #31933 and #32215, and then added another commit ensuring that we take the absolute value of the passed coefficient when constructing a BTerm. Needs review.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62330c08787aab87bae2ac18233ecda2a37bd536">62330c0</a></td><td><code>Merge branch 'u/gh-thhagelmayer/initial_support_for_bterms' of trac.sagemath.org:sage into t/32229/bterms_conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f9c6b6eeb3f51ee0b919b8ab6da2edd67fae3ec">2f9c6b6</a></td><td><code>Trac #32214: unify dash in monoid repr</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7c1823d67bf01936a38bcd01ff4d0102e8d85b6">f7c1823</a></td><td><code>Merge branch 't/32214/term-monoids-unify-repr' into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba8efe684bd13c2122d5f72c4cae554d5e70928a">ba8efe6</a></td><td><code>Merge branch 'u/gh-thhagelmayer/refactor-element-construction-term-monoids' of git://trac.sagemath.org/sage into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51e035f56d430e6acb0417a91899ed9d869b5bb6">51e035f</a></td><td><code>Trac #32215: fix doctests (due to merge of #32214)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d763d663355c4519128a616fb5f6ce7ebba2cfee">d763d66</a></td><td><code>Trac #32215: full coverage of _element_constructor_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/540d08880bdcc5fbda1b2487bce9c74d3d35f27c">540d088</a></td><td><code>Merge commit 'c11b2f4' into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/62cae10d33ab58abe5b2bbb2388adce8e01d1487">62cae10</a></td><td><code>Trac #32215: fix doctest after merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a84a2f2750ae18cd56695cf967fc9d4886f53134">a84a2f2</a></td><td><code>Merge branch 'u/dkrenn/refactor-element-construction-term-monoids' of trac.sagemath.org:sage into t/32229/bterms_conversion</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84ad7a3efb761d10cbc0b02c4dd8145e8c991f04">84ad7a3</a></td><td><code>Trac #32229: take absolute value of coefficient of BTerm</code></td></tr></table>




---

archive/issue_events_426328.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-08-20T09:23:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426328"
}
```



---

archive/issue_events_426329.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-08-20T09:23:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426329"
}
```



---

archive/issue_comments_522253.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nI looked at the new changes. Looks good to me.",
    "created_at": "2021-08-20T16:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522253",
    "user": "https://github.com/thhagelmayer"
}
```

<div id="comment:15" align="right">Comment 15</div>

I looked at the new changes. Looks good to me.



---

archive/issue_comments_522254.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nI have just started playing with BTerms. They are a nice addition, thank you all for your work!\n\nThe way the validity condition gets lost here looks like a bug to me:\n\n```\nsage: n = SR.var('n')\nsage: Asy = AsymptoticRing('QQ^n * n^ZZ', QQ)\nsage: ET = Asy.term_monoid('exact')\nsage: BT = Asy.term_monoid('B')\n/home/marc/co/sage/local/lib/python3.9/site-packages/sage/structure/unique_representation.py:1007: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.\nSee https://trac.sagemath.org/31922 for details.\n  instance = typecall(cls, *args, **options)\nsage: bt = Asy(BT(n, valid_from={'n': 10})); bt\nB(1.000000000000000*n, n >= 10)\nsage: Asy(ET(2^n))*bt\nB(1.000000000000000*2^n*n, n >= 0)\n```\n(This is with 9.5.beta0 + branch from this ticket.)\nBut maybe I am misunderstanding how BTerms are supposed to behave?",
    "created_at": "2021-09-02T12:28:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522254",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:16" align="right">Comment 16</div>

I have just started playing with BTerms. They are a nice addition, thank you all for your work!

The way the validity condition gets lost here looks like a bug to me:

```
sage: n = SR.var('n')
sage: Asy = AsymptoticRing('QQ^n * n^ZZ', QQ)
sage: ET = Asy.term_monoid('exact')
sage: BT = Asy.term_monoid('B')
/home/marc/co/sage/local/lib/python3.9/site-packages/sage/structure/unique_representation.py:1007: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.
See https://trac.sagemath.org/31922 for details.
  instance = typecall(cls, *args, **options)
sage: bt = Asy(BT(n, valid_from={'n': 10})); bt
B(1.000000000000000*n, n >= 10)
sage: Asy(ET(2^n))*bt
B(1.000000000000000*2^n*n, n >= 0)
```
(This is with 9.5.beta0 + branch from this ticket.)
But maybe I am misunderstanding how BTerms are supposed to behave?



---

archive/issue_comments_522255.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@mezzarobba](#comment%3A16):\n> I have just started playing with BTerms. They are a nice addition, thank you all for your work!\n> \n> The way the validity condition gets lost here looks like a bug to me:\n> \n> ```\n> sage: n = SR.var('n')\n> sage: Asy = AsymptoticRing('QQ^n * n^ZZ', QQ)\n> sage: ET = Asy.term_monoid('exact')\n> sage: BT = Asy.term_monoid('B')\n> /home/marc/co/sage/local/lib/python3.9/site-packages/sage/structure/unique_representation.py:1007: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.\n> See https://trac.sagemath.org/31922 for details.\n>   instance = typecall(cls, *args, **options)\n> sage: bt = Asy(BT(n, valid_from={'n': 10})); bt\n> B(1.000000000000000*n, n >= 10)\n> sage: Asy(ET(2^n))*bt\n> B(1.000000000000000*2^n*n, n >= 0)\n> ```\n> (This is with 9.5.beta0 + branch from this ticket.)\n> But maybe I am misunderstanding how BTerms are supposed to behave?\n\nIndeed this is wrong. When I remember correctly, at the moment only polynomial terms are fully implemented (by #31933) and I would expect a `NotImplementedError` for the above.",
    "created_at": "2021-09-02T12:42:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522255",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@mezzarobba](#comment%3A16):
> I have just started playing with BTerms. They are a nice addition, thank you all for your work!
> 
> The way the validity condition gets lost here looks like a bug to me:
> 
> ```
> sage: n = SR.var('n')
> sage: Asy = AsymptoticRing('QQ^n * n^ZZ', QQ)
> sage: ET = Asy.term_monoid('exact')
> sage: BT = Asy.term_monoid('B')
> /home/marc/co/sage/local/lib/python3.9/site-packages/sage/structure/unique_representation.py:1007: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.
> See https://trac.sagemath.org/31922 for details.
>   instance = typecall(cls, *args, **options)
> sage: bt = Asy(BT(n, valid_from={'n': 10})); bt
> B(1.000000000000000*n, n >= 10)
> sage: Asy(ET(2^n))*bt
> B(1.000000000000000*2^n*n, n >= 0)
> ```
> (This is with 9.5.beta0 + branch from this ticket.)
> But maybe I am misunderstanding how BTerms are supposed to behave?

Indeed this is wrong. When I remember correctly, at the moment only polynomial terms are fully implemented (by #31933) and I would expect a `NotImplementedError` for the above.



---

archive/issue_events_426330.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-09-02T12:44:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426330"
}
```



---

archive/issue_events_426331.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-09-02T12:44:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426331"
}
```



---

archive/issue_comments_522256.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nReplying to [@mezzarobba](#comment%3A16):\n> I have just started playing with BTerms. They are a nice addition, thank you all for your work!\n> \n> The way the validity condition gets lost here looks like a bug to me:\n> \n> ```\n> sage: n = SR.var('n')\n> sage: Asy = AsymptoticRing('QQ^n * n^ZZ', QQ)\n> sage: ET = Asy.term_monoid('exact')\n> sage: BT = Asy.term_monoid('B')\n> /home/marc/co/sage/local/lib/python3.9/site-packages/sage/structure/unique_representation.py:1007: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.\n> See https://trac.sagemath.org/31922 for details.\n>   instance = typecall(cls, *args, **options)\n> sage: bt = Asy(BT(n, valid_from={'n': 10})); bt\n> B(1.000000000000000*n, n >= 10)\n> sage: Asy(ET(2^n))*bt\n> B(1.000000000000000*2^n*n, n >= 0)\n> ```\n> (This is with 9.5.beta0 + branch from this ticket.)\n> But maybe I am misunderstanding how BTerms are supposed to behave?\n\nHey! You are definitely right, multiplying BTerms apparently has some problems, I can reproduce it even in a simpler setting:\n\n```\nsage: AR.<n> = AsymptoticRing('n^QQ', QQ)\nsage: AR.B(42*n, valid_from=3) * AR.B(n, valid_from=5)                                                                                                                                                         \nB(42*n^2, n >= 0)\nsage: AR.B(42*n, valid_from=3) * n                                                                                                                                                                             \nB(42*n^2, n >= 0)\n```\n\nI'll investigate where things go wrong. Thanks for checking it out!",
    "created_at": "2021-09-02T12:44:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522256",
    "user": "https://github.com/behackl"
}
```

<div id="comment:18" align="right">Comment 18</div>

Replying to [@mezzarobba](#comment%3A16):
> I have just started playing with BTerms. They are a nice addition, thank you all for your work!
> 
> The way the validity condition gets lost here looks like a bug to me:
> 
> ```
> sage: n = SR.var('n')
> sage: Asy = AsymptoticRing('QQ^n * n^ZZ', QQ)
> sage: ET = Asy.term_monoid('exact')
> sage: BT = Asy.term_monoid('B')
> /home/marc/co/sage/local/lib/python3.9/site-packages/sage/structure/unique_representation.py:1007: FutureWarning: This class/method/function is marked as experimental. It, its functionality or its interface might change without a formal deprecation.
> See https://trac.sagemath.org/31922 for details.
>   instance = typecall(cls, *args, **options)
> sage: bt = Asy(BT(n, valid_from={'n': 10})); bt
> B(1.000000000000000*n, n >= 10)
> sage: Asy(ET(2^n))*bt
> B(1.000000000000000*2^n*n, n >= 0)
> ```
> (This is with 9.5.beta0 + branch from this ticket.)
> But maybe I am misunderstanding how BTerms are supposed to behave?

Hey! You are definitely right, multiplying BTerms apparently has some problems, I can reproduce it even in a simpler setting:

```
sage: AR.<n> = AsymptoticRing('n^QQ', QQ)
sage: AR.B(42*n, valid_from=3) * AR.B(n, valid_from=5)                                                                                                                                                         
B(42*n^2, n >= 0)
sage: AR.B(42*n, valid_from=3) * n                                                                                                                                                                             
B(42*n^2, n >= 0)
```

I'll investigate where things go wrong. Thanks for checking it out!



---

archive/issue_comments_522257.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc32a4b28abed3e4a80a1ccc705e3727e3640b94\">cc32a4b</a></td><td><code>implement multiplication for BTerm</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffdfd69f79010eaa5d59b0981676662c6967f438\">ffdfd69</a></td><td><code>let BTermMonoid coerce into OTermMonoid</code></td></tr></table>\n",
    "created_at": "2021-09-02T16:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522257",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19" align="right">Comment 19</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc32a4b28abed3e4a80a1ccc705e3727e3640b94">cc32a4b</a></td><td><code>implement multiplication for BTerm</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffdfd69f79010eaa5d59b0981676662c6967f438">ffdfd69</a></td><td><code>let BTermMonoid coerce into OTermMonoid</code></td></tr></table>




---

archive/issue_comments_522258.json:
```json
{
    "body": "Changed commit from **[84ad7a3](https://github.com/sagemath/sagetrac-mirror/commit/84ad7a3efb761d10cbc0b02c4dd8145e8c991f04)** to **[ffdfd69](https://github.com/sagemath/sagetrac-mirror/commit/ffdfd69f79010eaa5d59b0981676662c6967f438)**",
    "created_at": "2021-09-02T16:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522258",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[84ad7a3](https://github.com/sagemath/sagetrac-mirror/commit/84ad7a3efb761d10cbc0b02c4dd8145e8c991f04)** to **[ffdfd69](https://github.com/sagemath/sagetrac-mirror/commit/ffdfd69f79010eaa5d59b0981676662c6967f438)**



---

archive/issue_comments_522259.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nCuriously, we simply had not implemented multiplication of `BTerms` so far. Now multiplication should respect the bounds; and I've also fixed  `BTermMonoid`s not coercing into `OTermMonoid`s.",
    "created_at": "2021-09-02T16:28:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522259",
    "user": "https://github.com/behackl"
}
```

<div id="comment:20" align="right">Comment 20</div>

Curiously, we simply had not implemented multiplication of `BTerms` so far. Now multiplication should respect the bounds; and I've also fixed  `BTermMonoid`s not coercing into `OTermMonoid`s.



---

archive/issue_events_426332.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-09-02T16:28:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426332"
}
```



---

archive/issue_events_426333.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-09-02T16:28:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426333"
}
```



---

archive/issue_comments_522260.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nAlso, I would expect absorption into B-terms to ignore non-growth factors in the absorbed term (and B-term creation to remove non-growth factors, like it replaces the coefficient by its absolute value); this does not seem to be the case. (Not sure if this is something for this ticket, nor if I have already reported it!)",
    "created_at": "2021-09-10T09:54:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522260",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:21" align="right">Comment 21</div>

Also, I would expect absorption into B-terms to ignore non-growth factors in the absorbed term (and B-term creation to remove non-growth factors, like it replaces the coefficient by its absolute value); this does not seem to be the case. (Not sure if this is something for this ticket, nor if I have already reported it!)



---

archive/issue_comments_522261.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI have opened #32692 for the point about non-growth factors raised in my last previous comment.\n\nThere are several comments above along the lines of \"I have reviewed the code up to this point at it looks good to me\". `_I_` have reviewed the two commits made in response to my comment, and they look good to me, but I am reluctant to set the ticket to positive review without input from people actually working on asymptotic expansions `:-)`.\n\nWhat do you think? It there a reason to delay this ticket any longer?",
    "created_at": "2021-10-14T12:49:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522261",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:22" align="right">Comment 22</div>

I have opened #32692 for the point about non-growth factors raised in my last previous comment.

There are several comments above along the lines of "I have reviewed the code up to this point at it looks good to me". `_I_` have reviewed the two commits made in response to my comment, and they look good to me, but I am reluctant to set the ticket to positive review without input from people actually working on asymptotic expansions `:-)`.

What do you think? It there a reason to delay this ticket any longer?



---

archive/issue_comments_522262.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nReplying to [@mezzarobba](#comment%3A22):\n> What do you think? It there a reason to delay this ticket any longer?\n\nSorry for the inconvenience, there is no reason to delay this ticket.\n\nI have reviewed the implementation of multiplication for `BTerms`. LGTM.",
    "created_at": "2021-10-14T14:45:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522262",
    "user": "https://github.com/thhagelmayer"
}
```

<div id="comment:23" align="right">Comment 23</div>

Replying to [@mezzarobba](#comment%3A22):
> What do you think? It there a reason to delay this ticket any longer?

Sorry for the inconvenience, there is no reason to delay this ticket.

I have reviewed the implementation of multiplication for `BTerms`. LGTM.



---

archive/issue_events_426334.json:
```json
{
    "actor": "https://github.com/thhagelmayer",
    "created_at": "2021-10-14T14:45:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426334"
}
```



---

archive/issue_events_426335.json:
```json
{
    "actor": "https://github.com/thhagelmayer",
    "created_at": "2021-10-14T14:45:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426335"
}
```



---

archive/issue_comments_522263.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nReplying to [@thhagelmayer](#comment%3A23):\n> Sorry for the inconvenience, there is no reason to delay this ticket.\n\nNo problem at all--and thank you!",
    "created_at": "2021-10-14T15:04:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522263",
    "user": "https://github.com/mezzarobba"
}
```

<div id="comment:24" align="right">Comment 24</div>

Replying to [@thhagelmayer](#comment%3A23):
> Sorry for the inconvenience, there is no reason to delay this ticket.

No problem at all--and thank you!



---

archive/issue_comments_522264.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nMerge conflict",
    "created_at": "2021-12-05T11:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522264",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:25" align="right">Comment 25</div>

Merge conflict



---

archive/issue_events_426336.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-05T11:21:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426336"
}
```



---

archive/issue_events_426337.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-05T11:21:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426337"
}
```



---

archive/issue_comments_522265.json:
```json
{
    "body": "Changed commit from **[ffdfd69](https://github.com/sagemath/sagetrac-mirror/commit/ffdfd69f79010eaa5d59b0981676662c6967f438)** to **[b29460f](https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba)**",
    "created_at": "2021-12-08T11:47:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522265",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ffdfd69](https://github.com/sagemath/sagetrac-mirror/commit/ffdfd69f79010eaa5d59b0981676662c6967f438)** to **[b29460f](https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba)**



---

archive/issue_comments_522266.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c3af69c70abfd729faa03b70f8d14f77ce16861\">6c3af69</a></td><td><code>Merge commit 'f631489' into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dfd5ae49c72effc3d0811f84d9e7a9d346809933\">dfd5ae4</a></td><td><code>Trac #32215: fix doctest after merge</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e7b5c7bf93c713e3688a94ccb33561092556b83\">7e7b5c7</a></td><td><code>Trac #32215: fix a doctest. Use **kwds instead of coefficient</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89ad9d2cbd4aed3a7c0b1065766c03727c754e01\">89ad9d2</a></td><td><code>Trac #31125: fix deprecation plugin failure</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba\">b29460f</a></td><td><code>Merge branch 'u/gh-thhagelmayer/refactor-element-construction-term-monoids' of trac.sagemath.org:sage into t/32229/bterms_conversion</code></td></tr></table>\n",
    "created_at": "2021-12-08T11:47:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522266",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c3af69c70abfd729faa03b70f8d14f77ce16861">6c3af69</a></td><td><code>Merge commit 'f631489' into t/32215/refactor-element-construction-term-monoids</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dfd5ae49c72effc3d0811f84d9e7a9d346809933">dfd5ae4</a></td><td><code>Trac #32215: fix doctest after merge</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e7b5c7bf93c713e3688a94ccb33561092556b83">7e7b5c7</a></td><td><code>Trac #32215: fix a doctest. Use **kwds instead of coefficient</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89ad9d2cbd4aed3a7c0b1065766c03727c754e01">89ad9d2</a></td><td><code>Trac #31125: fix deprecation plugin failure</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba">b29460f</a></td><td><code>Merge branch 'u/gh-thhagelmayer/refactor-element-construction-term-monoids' of trac.sagemath.org:sage into t/32229/bterms_conversion</code></td></tr></table>




---

archive/issue_events_426338.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-12-08T14:20:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426338"
}
```



---

archive/issue_events_426339.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2021-12-08T14:20:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426339"
}
```



---

archive/issue_comments_522267.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nResolved conflict and tested locally, should be good now.",
    "created_at": "2021-12-08T14:20:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522267",
    "user": "https://github.com/behackl"
}
```

<div id="comment:27" align="right">Comment 27</div>

Resolved conflict and tested locally, should be good now.



---

archive/issue_events_426340.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-19T11:47:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426340"
}
```



---

archive/issue_events_426341.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ec3bd6ebe04e6bcc47299375258a3c6b1134635f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-19T11:47:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32229#event-426341"
}
```



---

archive/issue_comments_522268.json:
```json
{
    "body": "Changed branch from **[u/behackl/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/behackl/bterms_conversion)** to **[b29460f](https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba)**",
    "created_at": "2021-12-19T11:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32229",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32229#issuecomment-522268",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/behackl/bterms_conversion](https://github.com/sagemath/sagetrac-mirror/tree/u/behackl/bterms_conversion)** to **[b29460f](https://github.com/sagemath/sagetrac-mirror/commit/b29460f0a2bf90d646a15383a7e6d62309d9a9ba)**
