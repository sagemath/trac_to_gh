# Issue 32336: Implement to_polynomial and from_polynomial for quasimodular forms

archive/issues_032099.json:
```json
{
    "body": "The goal of this ticket is like the ticket #32135: implement the methods `to_polynomial` and `from_polynomial` for the class `QuasiModularFormElement` (see #31560, #31512)\n\nIn particular, we want to be able to write a quasimodular form as a polynomial in terms of the generators of the graded algebra of quasimodular forms. Examples:\n\n```\nsage: QM = QuasiModularForms(1)\nsage: f = QM.0 + QM.1\nsage: f.to_polynomial()\nE2 + E4\nsage: P.<E2, E4, E6> = QQ[]\nsage: g = QM.from_polynomial(E2 + E4); g\n2 + 216*q + 2088*q^2 + 6624*q^3 + 17352*q^4 + 30096*q^5 + O(q^6)\nsage: f == g\nTrue\n```\n\nCC:  @videlec\n\nBranch/Commit: 6b729bc9426c65b2d76269b57a2839a65139b5c2\n\nReviewer: Marc Mezzarobba, Travis Scrimshaw\n\nAuthor: David Ayotte\n\nDependencies: #31512\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32336\n\n",
    "closed_at": "2021-10-10T10:17:00Z",
    "created_at": "2021-08-05T14:51:50Z",
    "labels": [
        "component: modular forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Implement to_polynomial and from_polynomial for quasimodular forms",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32336",
    "user": "https://github.com/DavidAyotte"
}
```
The goal of this ticket is like the ticket #32135: implement the methods `to_polynomial` and `from_polynomial` for the class `QuasiModularFormElement` (see #31560, #31512)

In particular, we want to be able to write a quasimodular form as a polynomial in terms of the generators of the graded algebra of quasimodular forms. Examples:

```
sage: QM = QuasiModularForms(1)
sage: f = QM.0 + QM.1
sage: f.to_polynomial()
E2 + E4
sage: P.<E2, E4, E6> = QQ[]
sage: g = QM.from_polynomial(E2 + E4); g
2 + 216*q + 2088*q^2 + 6624*q^3 + 17352*q^4 + 30096*q^5 + O(q^6)
sage: f == g
True
```

CC:  @videlec

Branch/Commit: 6b729bc9426c65b2d76269b57a2839a65139b5c2

Reviewer: Marc Mezzarobba, Travis Scrimshaw

Author: David Ayotte

Dependencies: #31512

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32336





---

archive/issue_comments_643825.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-DavidAyotte/quasiform_to_from_polynomial\"",
    "created_at": "2021-08-05T18:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643825",
    "user": "https://github.com/DavidAyotte"
}
```

Changing branch from "" to "u/gh-DavidAyotte/quasiform_to_from_polynomial"



---

archive/issue_comments_643826.json:
```json
{
    "body": "Changing author from \"\" to \"David Ayotte\"",
    "created_at": "2021-08-05T18:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643826",
    "user": "https://github.com/DavidAyotte"
}
```

Changing author from "" to "David Ayotte"



---

archive/issue_comments_643827.json:
```json
{
    "body": "Changing commit from \"\" to \"094d64a17f45068f3cefc68bd0d1e2a44783bfc9\"",
    "created_at": "2021-08-05T18:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643827",
    "user": "https://github.com/DavidAyotte"
}
```

Changing commit from "" to "094d64a17f45068f3cefc68bd0d1e2a44783bfc9"



---

archive/issue_comments_643828.json:
```json
{
    "body": "<a id='comment:2'></a>Last 10 new commits:",
    "created_at": "2021-08-05T18:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643828",
    "user": "https://github.com/DavidAyotte"
}
```

<a id='comment:2'></a>Last 10 new commits:



---

archive/issue_comments_643829.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-05T18:25:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643829",
    "user": "https://github.com/DavidAyotte"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_643830.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-06T13:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643830",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_643831.json:
```json
{
    "body": "Changing commit from \"094d64a17f45068f3cefc68bd0d1e2a44783bfc9\" to \"6057a6f75afde0bf53ac18f180030e297ad31979\"",
    "created_at": "2021-08-06T13:37:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643831",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "094d64a17f45068f3cefc68bd0d1e2a44783bfc9" to "6057a6f75afde0bf53ac18f180030e297ad31979"



---

archive/issue_comments_643832.json:
```json
{
    "body": "Changing commit from \"6057a6f75afde0bf53ac18f180030e297ad31979\" to \"71ba9f00e0d253bb519b8f7d28de86ecd6dfd113\"",
    "created_at": "2021-09-08T14:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643832",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "6057a6f75afde0bf53ac18f180030e297ad31979" to "71ba9f00e0d253bb519b8f7d28de86ecd6dfd113"



---

archive/issue_comments_643833.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-08T14:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_643834.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T18:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643834",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_643835.json:
```json
{
    "body": "Changing commit from \"71ba9f00e0d253bb519b8f7d28de86ecd6dfd113\" to \"936b3b64c67e656c2cf528aba70be6638a27d19c\"",
    "created_at": "2021-09-14T18:47:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643835",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "71ba9f00e0d253bb519b8f7d28de86ecd6dfd113" to "936b3b64c67e656c2cf528aba70be6638a27d19c"



---

archive/issue_comments_643836.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-27T14:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643836",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_643837.json:
```json
{
    "body": "Changing commit from \"936b3b64c67e656c2cf528aba70be6638a27d19c\" to \"782d722f886587a40cf9db4fc5e2230790582a99\"",
    "created_at": "2021-09-27T14:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "936b3b64c67e656c2cf528aba70be6638a27d19c" to "782d722f886587a40cf9db4fc5e2230790582a99"



---

archive/issue_comments_643838.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-27T14:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643838",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_643839.json:
```json
{
    "body": "Changing commit from \"782d722f886587a40cf9db4fc5e2230790582a99\" to \"d4eb6cd2b312a5bacdeb020797fad75203c869c3\"",
    "created_at": "2021-09-27T14:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643839",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "782d722f886587a40cf9db4fc5e2230790582a99" to "d4eb6cd2b312a5bacdeb020797fad75203c869c3"



---

archive/issue_comments_643840.json:
```json
{
    "body": "<a id='comment:8'></a>Just a minor remark: almost all other methods that convert something to a polynomial are called just `polynomial`, not `to_polynomial`. (I have no idea if there is a good reason to deviate from that here.)",
    "created_at": "2021-09-27T17:33:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643840",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:8'></a>Just a minor remark: almost all other methods that convert something to a polynomial are called just `polynomial`, not `to_polynomial`. (I have no idea if there is a good reason to deviate from that here.)



---

archive/issue_comments_643841.json:
```json
{
    "body": "<a id='comment:9'></a>Thank you very much for bringing up this remark! I was not aware of this fact, as I never used polynomial conversion methods before. I agree with you: everything should be consistent. What do you think about adding an alias `polynomial = to_polynomial`?\n\nI will also fix the work in #32135 to be consistent with the option we decide.",
    "created_at": "2021-09-27T18:00:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643841",
    "user": "https://github.com/DavidAyotte"
}
```

<a id='comment:9'></a>Thank you very much for bringing up this remark! I was not aware of this fact, as I never used polynomial conversion methods before. I agree with you: everything should be consistent. What do you think about adding an alias `polynomial = to_polynomial`?

I will also fix the work in #32135 to be consistent with the option we decide.



---

archive/issue_comments_643842.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 gh-DavidAyotte]:\n> Thank you very much for bringing up this remark! I was not aware of this fact, as I never used polynomial conversion methods before. I agree with you: everything should be consistent. What do you think about adding an alias `polynomial = to_polynomial`?\n\n\nI am not sure that the alias is necessary, but I have nothing against it!",
    "created_at": "2021-09-27T19:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643842",
    "user": "https://github.com/mezzarobba"
}
```

<a id='comment:10'></a>Replying to [comment:9 gh-DavidAyotte]:
> Thank you very much for bringing up this remark! I was not aware of this fact, as I never used polynomial conversion methods before. I agree with you: everything should be consistent. What do you think about adding an alias `polynomial = to_polynomial`?


I am not sure that the alias is necessary, but I have nothing against it!



---

archive/issue_comments_643843.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-01T17:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_643844.json:
```json
{
    "body": "Changing commit from \"d4eb6cd2b312a5bacdeb020797fad75203c869c3\" to \"a3245b8c3f02b066178b8f12b4f052cbc8b689b3\"",
    "created_at": "2021-10-01T17:39:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d4eb6cd2b312a5bacdeb020797fad75203c869c3" to "a3245b8c3f02b066178b8f12b4f052cbc8b689b3"



---

archive/issue_comments_643845.json:
```json
{
    "body": "<a id='comment:12'></a>It seems like you also have some stuff from #32357 merged in here. While I am not strictly opposed to that, I feel it would be better to have this ticket be \"clean\" in the sense it only has the code going to/from a polynomial ring.\n\nI agree with Marc about calling the method `polynomial`. I might want to avoid the alias because it clutters things a bit. I am not that opposed to it, but I would want to call the method `polynomial` with `to_polynomial = polynomial` to subtly indicate which is the \"main\" method.",
    "created_at": "2021-10-03T08:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643845",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>It seems like you also have some stuff from #32357 merged in here. While I am not strictly opposed to that, I feel it would be better to have this ticket be "clean" in the sense it only has the code going to/from a polynomial ring.

I agree with Marc about calling the method `polynomial`. I might want to avoid the alias because it clutters things a bit. I am not that opposed to it, but I would want to call the method `polynomial` with `to_polynomial = polynomial` to subtly indicate which is the "main" method.



---

archive/issue_comments_643846.json:
```json
{
    "body": "<a id='comment:13'></a>> It seems like you also have some stuff from #32357 merged in here.\n\n\nThank you very much for finding this. I think that you are talking about the method `differentiation_operator` (are you?). In fact, this method was written at the beginning of my GSOC project (in #31512) and it happens that I removed it in #31512, but it must have slipped through the cracks when I resolved the merge conflicts. It is indeed important to clean this!\n\nConcerning the `to_polynomial` method, I will rename it as you and Marc suggested. For now, I will also leave an alias `to_polynomial = polynomial`.\n\nAgain, thank you very much for taking the time to look at this.",
    "created_at": "2021-10-06T14:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643846",
    "user": "https://github.com/DavidAyotte"
}
```

<a id='comment:13'></a>> It seems like you also have some stuff from #32357 merged in here.


Thank you very much for finding this. I think that you are talking about the method `differentiation_operator` (are you?). In fact, this method was written at the beginning of my GSOC project (in #31512) and it happens that I removed it in #31512, but it must have slipped through the cracks when I resolved the merge conflicts. It is indeed important to clean this!

Concerning the `to_polynomial` method, I will rename it as you and Marc suggested. For now, I will also leave an alias `to_polynomial = polynomial`.

Again, thank you very much for taking the time to look at this.



---

archive/issue_comments_643847.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-06T15:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_643848.json:
```json
{
    "body": "Changing commit from \"a3245b8c3f02b066178b8f12b4f052cbc8b689b3\" to \"6b729bc9426c65b2d76269b57a2839a65139b5c2\"",
    "created_at": "2021-10-06T15:06:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643848",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a3245b8c3f02b066178b8f12b4f052cbc8b689b3" to "6b729bc9426c65b2d76269b57a2839a65139b5c2"



---

archive/issue_comments_643849.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Marc Mezzarobba, Travis Scrimshaw\"",
    "created_at": "2021-10-06T22:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643849",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Marc Mezzarobba, Travis Scrimshaw"



---

archive/issue_comments_643850.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-06T22:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643850",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_643851.json:
```json
{
    "body": "<a id='comment:15'></a>Thanks. LGTM.",
    "created_at": "2021-10-06T22:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643851",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:15'></a>Thanks. LGTM.



---

archive/issue_comments_643852.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-10T10:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643852",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_643853.json:
```json
{
    "body": "Changing branch from \"u/gh-DavidAyotte/quasiform_to_from_polynomial\" to \"6b729bc9426c65b2d76269b57a2839a65139b5c2\"",
    "created_at": "2021-10-10T10:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32336#issuecomment-643853",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-DavidAyotte/quasiform_to_from_polynomial" to "6b729bc9426c65b2d76269b57a2839a65139b5c2"



---

archive/issue_events_085788.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-10T10:17:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32336",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32336#event-85788"
}
```
