# Issue 32061: New SPKG for GNU gengetopt

archive/issues_031824.json:
```json
{
    "assignees": [],
    "body": "The latest version of lcalc requires gengetopt to build:\n\n  https://www.gnu.org/software/gengetopt/\n\nWe'll need an SPKG for lcalc to depend on.\n\n\n\n**Branch/Commit:** [734d3a168e5abf27f0ff3daa55c00059fa1565fa](https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Michael Orlitzky\n\nIssue created by migration from https://trac.sagemath.org/ticket/32061\n\n",
    "closed_at": "2021-11-12T21:27:52Z",
    "created_at": "2021-06-25T17:13:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "New SPKG for GNU gengetopt",
    "type": "issue",
    "updated_at": "2021-11-12T21:27:52Z",
    "url": "https://github.com/sagemath/sage/issues/32061",
    "user": "https://github.com/orlitzky"
}
```
The latest version of lcalc requires gengetopt to build:

  https://www.gnu.org/software/gengetopt/

We'll need an SPKG for lcalc to depend on.



**Branch/Commit:** [734d3a168e5abf27f0ff3daa55c00059fa1565fa](https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa)

**Reviewer:** Dima Pasechnik

**Author:** Michael Orlitzky

Issue created by migration from https://trac.sagemath.org/ticket/32061





---

archive/issue_events_389272.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-06-25T17:13:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389272"
}
```



---

archive/issue_events_389273.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-06-25T17:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "08517b",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389273"
}
```



---

archive/issue_events_389274.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-06-25T17:13:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389274"
}
```



---

archive/issue_events_389275.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-06-25T18:06:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389275"
}
```



---

archive/issue_comments_519066.json:
```json
{
    "body": "**Author:** Michael Orlitzky",
    "created_at": "2021-06-25T18:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519066",
    "user": "https://github.com/orlitzky"
}
```

**Author:** Michael Orlitzky



---

archive/issue_comments_519067.json:
```json
{
    "body": "**Branch:** [u/mjo/ticket/32061](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/32061)",
    "created_at": "2021-06-25T18:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519067",
    "user": "https://github.com/orlitzky"
}
```

**Branch:** [u/mjo/ticket/32061](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/32061)



---

archive/issue_comments_519068.json:
```json
{
    "body": "**Commit:** [1855ba710310a61a71574b3262f24610de126a8c](https://github.com/sagemath/sagetrac-mirror/commit/1855ba710310a61a71574b3262f24610de126a8c)",
    "created_at": "2021-06-25T18:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519068",
    "user": "https://github.com/orlitzky"
}
```

**Commit:** [1855ba710310a61a71574b3262f24610de126a8c](https://github.com/sagemath/sagetrac-mirror/commit/1855ba710310a61a71574b3262f24610de126a8c)



---

archive/issue_comments_519069.json:
```json
{
    "body": "<a id='comment:1'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1855ba710310a61a71574b3262f24610de126a8c\">1855ba7</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr></table>\n",
    "created_at": "2021-06-25T18:06:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519069",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:1'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1855ba710310a61a71574b3262f24610de126a8c">1855ba7</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr></table>




---

archive/issue_comments_519070.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/697ffe7d7601f22cfc9175cfd37edde05d6a9b61\">697ffe7</a></td><td><code>Trac #32061: add Gentoo package information for GNU Gengetopt.</code></td></tr></table>\n",
    "created_at": "2021-06-25T18:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519070",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/697ffe7d7601f22cfc9175cfd37edde05d6a9b61">697ffe7</a></td><td><code>Trac #32061: add Gentoo package information for GNU Gengetopt.</code></td></tr></table>




---

archive/issue_comments_519071.json:
```json
{
    "body": "**Changing commit** from \"[1855ba710310a61a71574b3262f24610de126a8c](https://github.com/sagemath/sagetrac-mirror/commit/1855ba710310a61a71574b3262f24610de126a8c)\" to \"[697ffe7d7601f22cfc9175cfd37edde05d6a9b61](https://github.com/sagemath/sagetrac-mirror/commit/697ffe7d7601f22cfc9175cfd37edde05d6a9b61)\".",
    "created_at": "2021-06-25T18:08:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519071",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1855ba710310a61a71574b3262f24610de126a8c](https://github.com/sagemath/sagetrac-mirror/commit/1855ba710310a61a71574b3262f24610de126a8c)" to "[697ffe7d7601f22cfc9175cfd37edde05d6a9b61](https://github.com/sagemath/sagetrac-mirror/commit/697ffe7d7601f22cfc9175cfd37edde05d6a9b61)".



---

archive/issue_comments_519072.json:
```json
{
    "body": "**Changing commit** from \"[697ffe7d7601f22cfc9175cfd37edde05d6a9b61](https://github.com/sagemath/sagetrac-mirror/commit/697ffe7d7601f22cfc9175cfd37edde05d6a9b61)\" to \"[41150cc481846907d0749a4ca87194058add7be5](https://github.com/sagemath/sagetrac-mirror/commit/41150cc481846907d0749a4ca87194058add7be5)\".",
    "created_at": "2021-06-25T23:03:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519072",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[697ffe7d7601f22cfc9175cfd37edde05d6a9b61](https://github.com/sagemath/sagetrac-mirror/commit/697ffe7d7601f22cfc9175cfd37edde05d6a9b61)" to "[41150cc481846907d0749a4ca87194058add7be5](https://github.com/sagemath/sagetrac-mirror/commit/41150cc481846907d0749a4ca87194058add7be5)".



---

archive/issue_comments_519073.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/41150cc481846907d0749a4ca87194058add7be5\">41150cc</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr></table>\n",
    "created_at": "2021-06-25T23:03:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519073",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/41150cc481846907d0749a4ca87194058add7be5">41150cc</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr></table>




---

archive/issue_comments_519074.json:
```json
{
    "body": "<a id='comment:4'></a>\nTitle (first line) in SPKG.rst needs to start with the SPKG name (= directory name in build/pkgs/)",
    "created_at": "2021-06-26T01:21:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519074",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Title (first line) in SPKG.rst needs to start with the SPKG name (= directory name in build/pkgs/)



---

archive/issue_comments_519075.json:
```json
{
    "body": "<a id='comment:5'></a>\nhttps://repology.org/project/gengetopt/versions has the missing distro information",
    "created_at": "2021-06-26T01:21:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519075",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
https://repology.org/project/gengetopt/versions has the missing distro information



---

archive/issue_comments_519076.json:
```json
{
    "body": "**Changing commit** from \"[41150cc481846907d0749a4ca87194058add7be5](https://github.com/sagemath/sagetrac-mirror/commit/41150cc481846907d0749a4ca87194058add7be5)\" to \"[37299edba78bcd3a720eae3725a2756e7336b519](https://github.com/sagemath/sagetrac-mirror/commit/37299edba78bcd3a720eae3725a2756e7336b519)\".",
    "created_at": "2021-06-26T01:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519076",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[41150cc481846907d0749a4ca87194058add7be5](https://github.com/sagemath/sagetrac-mirror/commit/41150cc481846907d0749a4ca87194058add7be5)" to "[37299edba78bcd3a720eae3725a2756e7336b519](https://github.com/sagemath/sagetrac-mirror/commit/37299edba78bcd3a720eae3725a2756e7336b519)".



---

archive/issue_comments_519077.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d7c7489e0bc5799e4c8a6a5d5426105ba77460b\">6d7c748</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f248552456ccd1e78666e5059bd0011e3cadfff5\">f248552</a></td><td><code>Trac #32061: add distro package information for GNU Gengetopt.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37299edba78bcd3a720eae3725a2756e7336b519\">37299ed</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr></table>\n",
    "created_at": "2021-06-26T01:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519077",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d7c7489e0bc5799e4c8a6a5d5426105ba77460b">6d7c748</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f248552456ccd1e78666e5059bd0011e3cadfff5">f248552</a></td><td><code>Trac #32061: add distro package information for GNU Gengetopt.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37299edba78bcd3a720eae3725a2756e7336b519">37299ed</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr></table>




---

archive/issue_comments_519078.json:
```json
{
    "body": "<a id='comment:7'></a>\nWith the current branch, \"make gengetopt\" persists to try to upload from the mirrors, even if configure says\n\n```\ngengetopt-2.23:                              using system package; SPKG will not be installed\n```\nThis is on Ubuntu 20.04\n\n**EDIT** ok, I guess this may be the normal behaviour.",
    "created_at": "2021-06-26T07:13:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519078",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
With the current branch, "make gengetopt" persists to try to upload from the mirrors, even if configure says

```
gengetopt-2.23:                              using system package; SPKG will not be installed
```
This is on Ubuntu 20.04

**EDIT** ok, I guess this may be the normal behaviour.



---

archive/issue_comments_519079.json:
```json
{
    "body": "<a id='comment:8'></a>\nok, installs correctly for me. \n\n@mkoeppe : Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.",
    "created_at": "2021-07-01T07:19:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519079",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
ok, installs correctly for me. 

@mkoeppe : Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.



---

archive/issue_comments_519080.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@fchapoton](#comment%3A8):\n> Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.\n\nYes, see https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions",
    "created_at": "2021-07-01T16:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519080",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Replying to [@fchapoton](#comment%3A8):
> Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.

Yes, see https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions



---

archive/issue_comments_519081.json:
```json
{
    "body": "<a id='comment:10'></a>\nplease also add homebrew gengetopt (yes it is gengetopt)",
    "created_at": "2021-07-01T19:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519081",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
please also add homebrew gengetopt (yes it is gengetopt)



---

archive/issue_comments_519082.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@mkoeppe](#comment%3A9):\n> Replying to [@fchapoton](#comment%3A8):\n> > Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.\n\n> \n> Yes, see https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions\n\nit can be started from a browser, very cool :-)",
    "created_at": "2021-07-01T19:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519082",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
Replying to [@mkoeppe](#comment%3A9):
> Replying to [@fchapoton](#comment%3A8):
> > Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.

> 
> Yes, see https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions

it can be started from a browser, very cool :-)



---

archive/issue_comments_519083.json:
```json
{
    "body": "<a id='comment:12'></a>\ncomment:10 needs to be done",
    "created_at": "2021-07-04T08:08:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519083",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>
comment:10 needs to be done



---

archive/issue_comments_519084.json:
```json
{
    "body": "<a id='comment:13'></a>\nconda has gengetopt too.",
    "created_at": "2021-07-04T10:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519084",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
conda has gengetopt too.



---

archive/issue_comments_519085.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9401a54d8febdde99b1046ec68032e3c4956134c\">9401a54</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e09522978b53449f8429b66164016bafd7dee92\">8e09522</a></td><td><code>Trac #32061: add distro package information for GNU Gengetopt.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/237c142647b179463506a1f169a146f6beb1e2ca\">237c142</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr></table>\n",
    "created_at": "2021-07-04T12:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519085",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9401a54d8febdde99b1046ec68032e3c4956134c">9401a54</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e09522978b53449f8429b66164016bafd7dee92">8e09522</a></td><td><code>Trac #32061: add distro package information for GNU Gengetopt.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/237c142647b179463506a1f169a146f6beb1e2ca">237c142</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr></table>




---

archive/issue_comments_519086.json:
```json
{
    "body": "**Changing commit** from \"[37299edba78bcd3a720eae3725a2756e7336b519](https://github.com/sagemath/sagetrac-mirror/commit/37299edba78bcd3a720eae3725a2756e7336b519)\" to \"[237c142647b179463506a1f169a146f6beb1e2ca](https://github.com/sagemath/sagetrac-mirror/commit/237c142647b179463506a1f169a146f6beb1e2ca)\".",
    "created_at": "2021-07-04T12:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519086",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[37299edba78bcd3a720eae3725a2756e7336b519](https://github.com/sagemath/sagetrac-mirror/commit/37299edba78bcd3a720eae3725a2756e7336b519)" to "[237c142647b179463506a1f169a146f6beb1e2ca](https://github.com/sagemath/sagetrac-mirror/commit/237c142647b179463506a1f169a146f6beb1e2ca)".



---

archive/issue_comments_519087.json:
```json
{
    "body": "<a id='comment:15'></a>\nboth done",
    "created_at": "2021-07-04T12:07:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519087",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:15'></a>
both done



---

archive/issue_comments_519088.json:
```json
{
    "body": "<a id='comment:16'></a>\ndo other reviewers agree on a positive review ?",
    "created_at": "2021-07-05T15:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519088",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
do other reviewers agree on a positive review ?



---

archive/issue_comments_519089.json:
```json
{
    "body": "<a id='comment:17'></a>\n@orlitzky I know it's kind of late for this, but have you considered just shipping the generated C files as part of `lcalc`'s `make dist` and use `AM_MAINTAINER_MODE`, just like one used to do with `bison`?",
    "created_at": "2021-07-05T16:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519089",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
@orlitzky I know it's kind of late for this, but have you considered just shipping the generated C files as part of `lcalc`'s `make dist` and use `AM_MAINTAINER_MODE`, just like one used to do with `bison`?



---

archive/issue_comments_519090.json:
```json
{
    "body": "<a id='comment:18'></a>\nYes, but not too much. The gengetopt input file is preprocessed by `./configure` to avoid duplication (i.e. to avoid leaving the old version in `lcalc --version` after changing `configure.ac`). I'm sure it could still be made to work, but the fact that the source files get touched on the user's machine would involve some autotools voodoo that I didn't really feel like dealing with.",
    "created_at": "2021-07-05T16:41:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519090",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:18'></a>
Yes, but not too much. The gengetopt input file is preprocessed by `./configure` to avoid duplication (i.e. to avoid leaving the old version in `lcalc --version` after changing `configure.ac`). I'm sure it could still be made to work, but the fact that the source files get touched on the user's machine would involve some autotools voodoo that I didn't really feel like dealing with.



---

archive/issue_comments_519091.json:
```json
{
    "body": "<a id='comment:19'></a>\nI think gengetopt is small and everywhere, let's just add it and forget about it",
    "created_at": "2021-07-05T16:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519091",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
I think gengetopt is small and everywhere, let's just add it and forget about it



---

archive/issue_events_389276.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-05T16:58:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389276"
}
```



---

archive/issue_events_389277.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-05T16:58:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389277"
}
```



---

archive/issue_comments_519092.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2021-07-05T16:58:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519092",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_519093.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [@mkoeppe](#comment%3A9):\n> Replying to [@fchapoton](#comment%3A8):\n> > Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.\n\n> \n> Yes, see https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions\n\nWell, did someone actually run it on GH Actions?",
    "created_at": "2021-07-05T17:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519093",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Replying to [@mkoeppe](#comment%3A9):
> Replying to [@fchapoton](#comment%3A8):
> > Is there any way to check against many other machine configurations before setting to positive ? Because this will become a standard package, one should be cautious.

> 
> Yes, see https://doc.sagemath.org/html/en/developer/portability_testing.html#automatic-parallel-tox-runs-on-github-actions

Well, did someone actually run it on GH Actions?



---

archive/issue_comments_519094.json:
```json
{
    "body": "<a id='comment:22'></a>\nI tried, but everything I tried failed.",
    "created_at": "2021-07-05T19:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519094",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:22'></a>
I tried, but everything I tried failed.



---

archive/issue_comments_519095.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [@fchapoton](#comment%3A22):\n> I tried, but everything I tried failed.\n\nthe only workflow that can be started from browser is\n`SAGE_ROOT/tox.ini`\n\nstarted here: \nhttps://github.com/sagemath/sagetrac-mirror/actions/runs/1002175317",
    "created_at": "2021-07-05T19:40:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519095",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'></a>
Replying to [@fchapoton](#comment%3A22):
> I tried, but everything I tried failed.

the only workflow that can be started from browser is
`SAGE_ROOT/tox.ini`

started here: 
https://github.com/sagemath/sagetrac-mirror/actions/runs/1002175317



---

archive/issue_comments_519096.json:
```json
{
    "body": "<a id='comment:24'></a>\nalthough many old systems fail due to #32101 not yet merged.",
    "created_at": "2021-07-06T08:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519096",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:24'></a>
although many old systems fail due to #32101 not yet merged.



---

archive/issue_comments_519097.json:
```json
{
    "body": "<a id='comment:25'></a>\nThe default build fails if `makeinfo` is not installed. I don't immediately see how to disable it, it seems to be hardwired.\nIn its aclocal.m4 one sees\n\n```\n# Some tools Automake needs.\nAC_REQUIRE([AM_SANITY_CHECK])dnl\nAC_REQUIRE([AC_ARG_PROGRAM])dnl\nAM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])\nAM_MISSING_PROG([AUTOCONF], [autoconf])\nAM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])\nAM_MISSING_PROG([AUTOHEADER], [autoheader])\nAM_MISSING_PROG([MAKEINFO], [makeinfo])\nAC_REQUIRE([AM_PROG_INSTALL_SH])dnl\nAC_REQUIRE([AM_PROG_INSTALL_STRIP])dnl\nAC_REQUIRE([AC_PROG_MKDIR_P])dnl\n```\n\nso it seems to be treated in the same scope as autotools.",
    "created_at": "2021-07-08T11:23:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519097",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'></a>
The default build fails if `makeinfo` is not installed. I don't immediately see how to disable it, it seems to be hardwired.
In its aclocal.m4 one sees

```
# Some tools Automake needs.
AC_REQUIRE([AM_SANITY_CHECK])dnl
AC_REQUIRE([AC_ARG_PROGRAM])dnl
AM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])
AM_MISSING_PROG([AUTOCONF], [autoconf])
AM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])
AM_MISSING_PROG([AUTOHEADER], [autoheader])
AM_MISSING_PROG([MAKEINFO], [makeinfo])
AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
AC_REQUIRE([AM_PROG_INSTALL_STRIP])dnl
AC_REQUIRE([AC_PROG_MKDIR_P])dnl
```

so it seems to be treated in the same scope as autotools.



---

archive/issue_events_389278.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-08T11:23:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389278"
}
```



---

archive/issue_events_389279.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-07-08T11:23:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389279"
}
```



---

archive/issue_comments_519098.json:
```json
{
    "body": "<a id='comment:26'></a>\nShould we just add gengetopt to the general pre-reqs instead (and texinfo, for the good measure).\nIn fact if we added texinfo to the general pre-reqs then we'd be able to build gengetopt always.",
    "created_at": "2021-07-08T12:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519098",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:26'></a>
Should we just add gengetopt to the general pre-reqs instead (and texinfo, for the good measure).
In fact if we added texinfo to the general pre-reqs then we'd be able to build gengetopt always.



---

archive/issue_comments_519099.json:
```json
{
    "body": "<a id='comment:27'></a>\nThe info/html files are not supposed to be rebuilt (and makeinfo should not be required). There's just some stupid timestamp issue that I need to figure out.",
    "created_at": "2021-07-08T12:55:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519099",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:27'></a>
The info/html files are not supposed to be rebuilt (and makeinfo should not be required). There's just some stupid timestamp issue that I need to figure out.



---

archive/issue_comments_519100.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43eb34e8129e18a603cdbeabc9ac5d19e60b4d2a\">43eb34e</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/76192dcc3542de8f0a253a3534f57e51229f1825\">76192dc</a></td><td><code>Trac #32061: add distro package information for GNU Gengetopt.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/881c768aae06938d0abcf45db24d2a5bcfa12cd0\">881c768</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dca0d36fa63a44aec842c5b03299ed89d75c5651\">dca0d36</a></td><td><code>Trac #32061: allow gengetopt to build without makeinfo.</code></td></tr></table>\n",
    "created_at": "2021-07-08T13:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519100",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43eb34e8129e18a603cdbeabc9ac5d19e60b4d2a">43eb34e</a></td><td><code>Trac #32061: new standard SPKG for GNU Gengetopt 2.23.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/76192dcc3542de8f0a253a3534f57e51229f1825">76192dc</a></td><td><code>Trac #32061: add distro package information for GNU Gengetopt.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/881c768aae06938d0abcf45db24d2a5bcfa12cd0">881c768</a></td><td><code>Trac #32061: add spkg-check.in for gengetopt.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dca0d36fa63a44aec842c5b03299ed89d75c5651">dca0d36</a></td><td><code>Trac #32061: allow gengetopt to build without makeinfo.</code></td></tr></table>




---

archive/issue_comments_519101.json:
```json
{
    "body": "**Changing commit** from \"[237c142647b179463506a1f169a146f6beb1e2ca](https://github.com/sagemath/sagetrac-mirror/commit/237c142647b179463506a1f169a146f6beb1e2ca)\" to \"[dca0d36fa63a44aec842c5b03299ed89d75c5651](https://github.com/sagemath/sagetrac-mirror/commit/dca0d36fa63a44aec842c5b03299ed89d75c5651)\".",
    "created_at": "2021-07-08T13:35:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519101",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[237c142647b179463506a1f169a146f6beb1e2ca](https://github.com/sagemath/sagetrac-mirror/commit/237c142647b179463506a1f169a146f6beb1e2ca)" to "[dca0d36fa63a44aec842c5b03299ed89d75c5651](https://github.com/sagemath/sagetrac-mirror/commit/dca0d36fa63a44aec842c5b03299ed89d75c5651)".



---

archive/issue_comments_519102.json:
```json
{
    "body": "<a id='comment:29'></a>\nThat new commit fixes it, but is a pretty ugly solution. I'm open to suggestions.\n\nThe next version of gengetopt should allow us to disable the documentation: https://git.savannah.gnu.org/cgit/gengetopt.git/commit/?h=devel&id=e3fe8db2b67cdb18e1a2a6765644c8cc476d0b0a",
    "created_at": "2021-07-08T13:41:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519102",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>
That new commit fixes it, but is a pretty ugly solution. I'm open to suggestions.

The next version of gengetopt should allow us to disable the documentation: https://git.savannah.gnu.org/cgit/gengetopt.git/commit/?h=devel&id=e3fe8db2b67cdb18e1a2a6765644c8cc476d0b0a



---

archive/issue_comments_519103.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [@dimpase](#comment%3A26):\n> Should we just add gengetopt to the general pre-reqs instead (and texinfo, for the good measure).\n\nDefinitely no - it does not exist on macOS without homebrew.\n\n\nI'd suggest to investigate comment 17 above more. \n\nThe generated files are a clear use case for just being shipped in the \"make dist\" of lcalc.",
    "created_at": "2021-07-08T13:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519103",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'></a>
Replying to [@dimpase](#comment%3A26):
> Should we just add gengetopt to the general pre-reqs instead (and texinfo, for the good measure).

Definitely no - it does not exist on macOS without homebrew.


I'd suggest to investigate comment 17 above more. 

The generated files are a clear use case for just being shipped in the "make dist" of lcalc.



---

archive/issue_comments_519104.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@mkoeppe](#comment%3A30):\n> \n> I'd suggest to investigate comment 17 above more. \n> \n> The generated files are a clear use case for just being shipped in the \"make dist\" of lcalc. \n> \n\nThis isn't a good long-term solution even if we can hack autotools to avoid re-running gengetopt. Currently only the package name and version (which are static) are substituted into the ggo file, but that should change. For example...\n\n\n```\n$ lcalc -O5 -z 10\n\nERROR: lcalc has not been compiled with openmp enabled.\n...\n```\n\nIgnoring the nonsense advice it gives you, that option simply shouldn't be present. In other words, `./configure --disable-openmp` should not add the `-O` flag to the gengetopt file. Likewise for the elliptic curve flags that require `--with-pari`. Fixing that will make it thoroughly impossible to ship the generated C++ sources.\n\nI've opened https://gitlab.com/sagemath/lcalc/-/issues/12 to track the issue.",
    "created_at": "2021-07-08T14:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519104",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:31'></a>
Replying to [@mkoeppe](#comment%3A30):
> 
> I'd suggest to investigate comment 17 above more. 
> 
> The generated files are a clear use case for just being shipped in the "make dist" of lcalc. 
> 

This isn't a good long-term solution even if we can hack autotools to avoid re-running gengetopt. Currently only the package name and version (which are static) are substituted into the ggo file, but that should change. For example...


```
$ lcalc -O5 -z 10

ERROR: lcalc has not been compiled with openmp enabled.
...
```

Ignoring the nonsense advice it gives you, that option simply shouldn't be present. In other words, `./configure --disable-openmp` should not add the `-O` flag to the gengetopt file. Likewise for the elliptic curve flags that require `--with-pari`. Fixing that will make it thoroughly impossible to ship the generated C++ sources.

I've opened https://gitlab.com/sagemath/lcalc/-/issues/12 to track the issue.



---

archive/issue_comments_519105.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [@orlitzky](#comment%3A31):\n> Replying to [@mkoeppe](#comment%3A30):\n> > \n> > I'd suggest to investigate comment 17 above more. \n> > \n> > The generated files are a clear use case for just being shipped in the \"make dist\" of lcalc. \n> > \n\n> \n> This isn't a good long-term solution even if we can hack autotools to avoid re-running gengetopt. Currently only the package name and version (which are static) are substituted into the ggo file, but that should change. For example...\n> \n> \n> ```\n> $ lcalc -O5 -z 10\n> \n> ERROR: lcalc has not been compiled with openmp enabled.\n> ...\n> ```\n> \n> Ignoring the nonsense advice it gives you, that option simply shouldn't be present.\n\nI don't think so. I think in general a user would prefer that a package informs them about an option disabled at compile time rather than just pretending that it has never heard of this option.",
    "created_at": "2021-07-08T15:44:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519105",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:32'></a>
Replying to [@orlitzky](#comment%3A31):
> Replying to [@mkoeppe](#comment%3A30):
> > 
> > I'd suggest to investigate comment 17 above more. 
> > 
> > The generated files are a clear use case for just being shipped in the "make dist" of lcalc. 
> > 

> 
> This isn't a good long-term solution even if we can hack autotools to avoid re-running gengetopt. Currently only the package name and version (which are static) are substituted into the ggo file, but that should change. For example...
> 
> 
> ```
> $ lcalc -O5 -z 10
> 
> ERROR: lcalc has not been compiled with openmp enabled.
> ...
> ```
> 
> Ignoring the nonsense advice it gives you, that option simply shouldn't be present.

I don't think so. I think in general a user would prefer that a package informs them about an option disabled at compile time rather than just pretending that it has never heard of this option.



---

archive/issue_comments_519106.json:
```json
{
    "body": "<a id='comment:33'></a>\ntesting this branch + #32101 on https://github.com/dimpase/sagetrac-mirror/actions/runs/1012429541",
    "created_at": "2021-07-08T17:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519106",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'></a>
testing this branch + #32101 on https://github.com/dimpase/sagetrac-mirror/actions/runs/1012429541



---

archive/issue_comments_519107.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [@mkoeppe](#comment%3A32):\n> \n> I don't think so. I think in general a user would prefer that a package informs them about an option disabled at compile time rather than just pretending that it has never heard of this option.\n\nI can see your point, but am still aesthetically opposed to compiling in decoy options. If the user builds lcalc from source, the decoy options do him no good, since he's the one that disabled them in the first place. And if he's using a binary package, having them documented also does him no good, since he can't do anything about it. And in this case, while OpenMP isn't too bad, the pari options significantly clutter up the `--help` output.\n\nIf there were no gengetopt at all, I think these option would have been hidden by an `#if HAVE_FOO` a long time ago.",
    "created_at": "2021-07-08T19:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519107",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:34'></a>
Replying to [@mkoeppe](#comment%3A32):
> 
> I don't think so. I think in general a user would prefer that a package informs them about an option disabled at compile time rather than just pretending that it has never heard of this option.

I can see your point, but am still aesthetically opposed to compiling in decoy options. If the user builds lcalc from source, the decoy options do him no good, since he's the one that disabled them in the first place. And if he's using a binary package, having them documented also does him no good, since he can't do anything about it. And in this case, while OpenMP isn't too bad, the pari options significantly clutter up the `--help` output.

If there were no gengetopt at all, I think these option would have been hidden by an `#if HAVE_FOO` a long time ago.



---

archive/issue_comments_519108.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [@orlitzky](#comment%3A34):\n> if he's using a binary package, having them documented also does him no good, since he can't do anything about it.\n\nSure, the user can then complain to the packager.",
    "created_at": "2021-07-08T19:48:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519108",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:35'></a>
Replying to [@orlitzky](#comment%3A34):
> if he's using a binary package, having them documented also does him no good, since he can't do anything about it.

Sure, the user can then complain to the packager.



---

archive/issue_comments_519109.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [@orlitzky](#comment%3A34):\n> If the user builds lcalc from source, the decoy options do him no good, since he's the one that disabled them in the first place. \n\nThat may have been 3 years in the past.",
    "created_at": "2021-07-08T19:49:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519109",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Replying to [@orlitzky](#comment%3A34):
> If the user builds lcalc from source, the decoy options do him no good, since he's the one that disabled them in the first place. 

That may have been 3 years in the past.



---

archive/issue_comments_519110.json:
```json
{
    "body": "<a id='comment:37'></a>\n\n```\n[gengetopt-2.23] if /bin/bash /var/lib/buildbot/slave/sage_git/build/local/var/tmp/sage/build/gengetopt-2.23/src/build-aux/missing makeinfo   -I . \\\n[gengetopt-2.23]  -o gengetopt.info `test -f 'gengetopt.texi' || echo './'`gengetopt.texi; \\\n[gengetopt-2.23] then \\\n[gengetopt-2.23]   rc=0; \\\n[gengetopt-2.23] else \\\n[gengetopt-2.23]   rc=$?; \\\n[gengetopt-2.23]   $restore $backupdir/* `echo \"./gengetopt.info\" | sed 's|[^/]*$||'`; \\\n[gengetopt-2.23] fi; \\\n[gengetopt-2.23] rm -rf $backupdir; exit $rc\n[gengetopt-2.23] /var/lib/buildbot/slave/sage_git/build/local/var/tmp/sage/build/gengetopt-2.23/src/build-aux/missing: line 81: makeinfo: command not found\n[gengetopt-2.23] WARNING: 'makeinfo' is missing on your system.\n[gengetopt-2.23]          You should only need it if you modified a '.texi' file, or\n[gengetopt-2.23]          any other file indirectly affecting the aspect of the manual.\n[gengetopt-2.23]          You might want to install the Texinfo package:\n[gengetopt-2.23]          <https://www.gnu.org/software/texinfo/>\n[gengetopt-2.23]          The spurious makeinfo call might also be the consequence of\n[gengetopt-2.23]          using a buggy 'make' (AIX, DU, IRIX), in which case you might\n[gengetopt-2.23]          want to install GNU make:\n[gengetopt-2.23]          <https://www.gnu.org/software/make/>\n[gengetopt-2.23] make[8]: *** [Makefile:812: gengetopt.info] Error 127\n```",
    "created_at": "2021-07-08T21:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519110",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:37'></a>

```
[gengetopt-2.23] if /bin/bash /var/lib/buildbot/slave/sage_git/build/local/var/tmp/sage/build/gengetopt-2.23/src/build-aux/missing makeinfo   -I . \
[gengetopt-2.23]  -o gengetopt.info `test -f 'gengetopt.texi' || echo './'`gengetopt.texi; \
[gengetopt-2.23] then \
[gengetopt-2.23]   rc=0; \
[gengetopt-2.23] else \
[gengetopt-2.23]   rc=$?; \
[gengetopt-2.23]   $restore $backupdir/* `echo "./gengetopt.info" | sed 's|[^/]*$||'`; \
[gengetopt-2.23] fi; \
[gengetopt-2.23] rm -rf $backupdir; exit $rc
[gengetopt-2.23] /var/lib/buildbot/slave/sage_git/build/local/var/tmp/sage/build/gengetopt-2.23/src/build-aux/missing: line 81: makeinfo: command not found
[gengetopt-2.23] WARNING: 'makeinfo' is missing on your system.
[gengetopt-2.23]          You should only need it if you modified a '.texi' file, or
[gengetopt-2.23]          any other file indirectly affecting the aspect of the manual.
[gengetopt-2.23]          You might want to install the Texinfo package:
[gengetopt-2.23]          <https://www.gnu.org/software/texinfo/>
[gengetopt-2.23]          The spurious makeinfo call might also be the consequence of
[gengetopt-2.23]          using a buggy 'make' (AIX, DU, IRIX), in which case you might
[gengetopt-2.23]          want to install GNU make:
[gengetopt-2.23]          <https://www.gnu.org/software/make/>
[gengetopt-2.23] make[8]: *** [Makefile:812: gengetopt.info] Error 127
```



---

archive/issue_comments_519111.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [@vbraun](#comment%3A37):\n> \n> ```\n> ...\n> [gengetopt-2.23] make[8]: *** [Makefile:812: gengetopt.info] Error 127\n> ```\n\nis this including the latest commit?",
    "created_at": "2021-07-08T22:04:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519111",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
Replying to [@vbraun](#comment%3A37):
> 
> ```
> ...
> [gengetopt-2.23] make[8]: *** [Makefile:812: gengetopt.info] Error 127
> ```

is this including the latest commit?



---

archive/issue_comments_519112.json:
```json
{
    "body": "**Changing commit** from \"[dca0d36fa63a44aec842c5b03299ed89d75c5651](https://github.com/sagemath/sagetrac-mirror/commit/dca0d36fa63a44aec842c5b03299ed89d75c5651)\" to \"[e8ecc6b9c8e7996557eb8c28062b3c400461a395](https://github.com/sagemath/sagetrac-mirror/commit/e8ecc6b9c8e7996557eb8c28062b3c400461a395)\".",
    "created_at": "2021-07-09T16:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519112",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[dca0d36fa63a44aec842c5b03299ed89d75c5651](https://github.com/sagemath/sagetrac-mirror/commit/dca0d36fa63a44aec842c5b03299ed89d75c5651)" to "[e8ecc6b9c8e7996557eb8c28062b3c400461a395](https://github.com/sagemath/sagetrac-mirror/commit/e8ecc6b9c8e7996557eb8c28062b3c400461a395)".



---

archive/issue_comments_519113.json:
```json
{
    "body": "<a id='comment:39'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8ecc6b9c8e7996557eb8c28062b3c400461a395\">e8ecc6b</a></td><td><code>Trac #32061: allow gengetopt to build without makeinfo.</code></td></tr></table>\n",
    "created_at": "2021-07-09T16:11:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519113",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8ecc6b9c8e7996557eb8c28062b3c400461a395">e8ecc6b</a></td><td><code>Trac #32061: allow gengetopt to build without makeinfo.</code></td></tr></table>




---

archive/issue_comments_519114.json:
```json
{
    "body": "<a id='comment:40'></a>\nThe new commit works around the \"makeinfo\" problem in a better way. Instead of running \"make\" at the top level, we `cd` into the `gl` and `src` subdirectories and run \"make\" there.",
    "created_at": "2021-07-09T16:12:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519114",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:40'></a>
The new commit works around the "makeinfo" problem in a better way. Instead of running "make" at the top level, we `cd` into the `gl` and `src` subdirectories and run "make" there.



---

archive/issue_events_389280.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-07-09T16:12:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389280"
}
```



---

archive/issue_events_389281.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-07-09T16:12:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389281"
}
```



---

archive/issue_events_389282.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389282"
}
```



---

archive/issue_events_389283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389283"
}
```



---

archive/issue_comments_519115.json:
```json
{
    "body": "<a id='comment:42'></a>\nlgtm",
    "created_at": "2021-11-01T12:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519115",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
lgtm



---

archive/issue_events_389284.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-01T12:21:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389284"
}
```



---

archive/issue_events_389285.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-01T12:21:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389285"
}
```



---

archive/issue_comments_519116.json:
```json
{
    "body": "<a id='comment:43'></a>\nRunning with SAGE_CHECK=yes still fails:\n\n```\n[gengetopt-2.23]          using a buggy 'make' (AIX, DU, IRIX), in which case you might\n[gengetopt-2.23]          want to install GNU make:\n[gengetopt-2.23]          <https://www.gnu.org/software/make/>\n[gengetopt-2.23] Makefile:842: recipe for target 'gengetopt.html' failed\n[gengetopt-2.23] make[7]: *** [gengetopt.html] Error 1\n[gengetopt-2.23] Makefile:812: recipe for target 'gengetopt.info' failed\n[gengetopt-2.23] make[7]: *** [gengetopt.info] Error 127\n[gengetopt-2.23] make[7]: Target 'check-am' not remade because of errors.\n[gengetopt-2.23] Makefile:1201: recipe for target 'check' failed\n[gengetopt-2.23] make[6]: *** [check] Error 2\n```",
    "created_at": "2021-11-06T13:25:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519116",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:43'></a>
Running with SAGE_CHECK=yes still fails:

```
[gengetopt-2.23]          using a buggy 'make' (AIX, DU, IRIX), in which case you might
[gengetopt-2.23]          want to install GNU make:
[gengetopt-2.23]          <https://www.gnu.org/software/make/>
[gengetopt-2.23] Makefile:842: recipe for target 'gengetopt.html' failed
[gengetopt-2.23] make[7]: *** [gengetopt.html] Error 1
[gengetopt-2.23] Makefile:812: recipe for target 'gengetopt.info' failed
[gengetopt-2.23] make[7]: *** [gengetopt.info] Error 127
[gengetopt-2.23] make[7]: Target 'check-am' not remade because of errors.
[gengetopt-2.23] Makefile:1201: recipe for target 'check' failed
[gengetopt-2.23] make[6]: *** [check] Error 2
```



---

archive/issue_events_389286.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-06T13:25:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389286"
}
```



---

archive/issue_events_389287.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-06T13:25:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389287"
}
```



---

archive/issue_comments_519117.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa\">734d3a1</a></td><td><code>Trac #32061: fix gengetopt's test suite in the absence of makeinfo.</code></td></tr></table>\n",
    "created_at": "2021-11-06T16:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519117",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa">734d3a1</a></td><td><code>Trac #32061: fix gengetopt's test suite in the absence of makeinfo.</code></td></tr></table>




---

archive/issue_comments_519118.json:
```json
{
    "body": "**Changing commit** from \"[e8ecc6b9c8e7996557eb8c28062b3c400461a395](https://github.com/sagemath/sagetrac-mirror/commit/e8ecc6b9c8e7996557eb8c28062b3c400461a395)\" to \"[734d3a168e5abf27f0ff3daa55c00059fa1565fa](https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa)\".",
    "created_at": "2021-11-06T16:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519118",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[e8ecc6b9c8e7996557eb8c28062b3c400461a395](https://github.com/sagemath/sagetrac-mirror/commit/e8ecc6b9c8e7996557eb8c28062b3c400461a395)" to "[734d3a168e5abf27f0ff3daa55c00059fa1565fa](https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa)".



---

archive/issue_events_389288.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-11-06T16:43:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389288"
}
```



---

archive/issue_events_389289.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-11-06T16:43:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389289"
}
```



---

archive/issue_comments_519119.json:
```json
{
    "body": "<a id='comment:45'></a>\nReplying to [@vbraun](#comment%3A43):\n> Running with SAGE_CHECK=yes still fails:\n\nWhoops, we need to copy the fix from `spkg-build.in` into `spkg-check.in`, too. Should work now.",
    "created_at": "2021-11-06T16:43:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519119",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:45'></a>
Replying to [@vbraun](#comment%3A43):
> Running with SAGE_CHECK=yes still fails:

Whoops, we need to copy the fix from `spkg-build.in` into `spkg-check.in`, too. Should work now.



---

archive/issue_events_389290.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-12T21:27:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389290"
}
```



---

archive/issue_events_389291.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "b3ce5f4843dabf8224ecedb92e1f474b0b8e2b38",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-11-12T21:27:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32061#event-389291"
}
```



---

archive/issue_comments_519120.json:
```json
{
    "body": "**Changing branch** from \"[u/mjo/ticket/32061](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/32061)\" to \"[734d3a168e5abf27f0ff3daa55c00059fa1565fa](https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa)\".",
    "created_at": "2021-11-12T21:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32061",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32061#issuecomment-519120",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mjo/ticket/32061](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/32061)" to "[734d3a168e5abf27f0ff3daa55c00059fa1565fa](https://github.com/sagemath/sagetrac-mirror/commit/734d3a168e5abf27f0ff3daa55c00059fa1565fa)".
