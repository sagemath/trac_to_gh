# Issue 32384: make some AdditiveAbelianGroupWrapper methods visible

archive/issues_032147.json:
```json
{
    "body": "Since #23940 we have a reasonably good implementation of logarithms for (finite) `AdditiveAbelianGroupWrapper`s, but the method is still named `_discrete_log` and therefore hidden from the public.\n\nThis patch removes the leading underscore. While I was at it, I also removed the underscore from `discrete_exp` and did a couple smaller things to improve the documentation of that class in general, so that it hopefully looks a little bit less like an obscure internal helper class.\n\n\nCC:  @roed314 @loefflerd\n\nKeywords: abelian group wrapper, visibility, documentation\n\nBranch/Commit: 294f5bddfa4dcc10973aa30834a7ee0f22ebb043\n\nReviewer: Vincent Delecroix\n\nAuthor: Lorenz Panny\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32384\n\n",
    "closed_at": "2022-03-03T22:19:15Z",
    "created_at": "2021-08-16T07:15:27Z",
    "labels": [
        "component: group theory",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "make some AdditiveAbelianGroupWrapper methods visible",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32384",
    "user": "https://github.com/yyyyx4"
}
```
Since #23940 we have a reasonably good implementation of logarithms for (finite) `AdditiveAbelianGroupWrapper`s, but the method is still named `_discrete_log` and therefore hidden from the public.

This patch removes the leading underscore. While I was at it, I also removed the underscore from `discrete_exp` and did a couple smaller things to improve the documentation of that class in general, so that it hopefully looks a little bit less like an obscure internal helper class.


CC:  @roed314 @loefflerd

Keywords: abelian group wrapper, visibility, documentation

Branch/Commit: 294f5bddfa4dcc10973aa30834a7ee0f22ebb043

Reviewer: Vincent Delecroix

Author: Lorenz Panny

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32384





---

archive/issue_comments_636906.json:
```json
{
    "body": "<a id='comment:1'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|\n|[9722265](https://github.com/sagemath/sagetrac-mirror/commit/97222656f50552089521187abdf75cc63818009d)|`make discrete_{log,exp} public; improve documentation`|",
    "created_at": "2021-08-16T07:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:1'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|
|[9722265](https://github.com/sagemath/sagetrac-mirror/commit/97222656f50552089521187abdf75cc63818009d)|`make discrete_{log,exp} public; improve documentation`|



---

archive/issue_comments_636907.json:
```json
{
    "body": "Changing commit from \"\" to \"97222656f50552089521187abdf75cc63818009d\"",
    "created_at": "2021-08-16T07:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "97222656f50552089521187abdf75cc63818009d"



---

archive/issue_comments_636908.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-16T07:19:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636908",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_636909.json:
```json
{
    "body": "Changing commit from \"97222656f50552089521187abdf75cc63818009d\" to \"bc2d551a1a2fc2d900db8c401ba57ea1444ffddf\"",
    "created_at": "2021-09-03T05:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636909",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "97222656f50552089521187abdf75cc63818009d" to "bc2d551a1a2fc2d900db8c401ba57ea1444ffddf"



---

archive/issue_comments_636910.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[bc2d551](https://github.com/sagemath/sagetrac-mirror/commit/bc2d551a1a2fc2d900db8c401ba57ea1444ffddf)|`more logical order of doctests`|",
    "created_at": "2021-09-03T05:49:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636910",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[bc2d551](https://github.com/sagemath/sagetrac-mirror/commit/bc2d551a1a2fc2d900db8c401ba57ea1444ffddf)|`more logical order of doctests`|



---

archive/issue_comments_636911.json:
```json
{
    "body": "<a id='comment:4'></a>\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636911",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_104535.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32384#event-104535"
}
```



---

archive/issue_comments_636912.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Delecroix\"",
    "created_at": "2021-12-29T11:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636912",
    "user": "https://github.com/videlec"
}
```

Changing reviewer from "" to "Vincent Delecroix"



---

archive/issue_comments_636913.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-12-29T11:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636913",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_636914.json:
```json
{
    "body": "<a id='comment:5'></a>\nYou should doctest the deprecations to check that calling `_discrete_log`/`_discrete_exp` still works. The test could go in the `TESTS` section of respectively `discrete_log`/`discrete_exp`. Otherwise it looks good.",
    "created_at": "2021-12-29T11:47:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636914",
    "user": "https://github.com/videlec"
}
```

<a id='comment:5'></a>
You should doctest the deprecations to check that calling `_discrete_log`/`_discrete_exp` still works. The test could go in the `TESTS` section of respectively `discrete_log`/`discrete_exp`. Otherwise it looks good.



---

archive/issue_comments_636915.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|\n|[22f5160](https://github.com/sagemath/sagetrac-mirror/commit/22f5160ad7eba28dcc69c3079a38d1b53f4cdcd1)|`Merge branch 'develop' into public/make_AdditiveAbelianGroupWrapper_methods_visible`|\n|[20d3283](https://github.com/sagemath/sagetrac-mirror/commit/20d32835c7c3da63316f66d9dcd040f927d3d69d)|`doctest deprecation`|",
    "created_at": "2021-12-29T15:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636915",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
|[22f5160](https://github.com/sagemath/sagetrac-mirror/commit/22f5160ad7eba28dcc69c3079a38d1b53f4cdcd1)|`Merge branch 'develop' into public/make_AdditiveAbelianGroupWrapper_methods_visible`|
|[20d3283](https://github.com/sagemath/sagetrac-mirror/commit/20d32835c7c3da63316f66d9dcd040f927d3d69d)|`doctest deprecation`|



---

archive/issue_comments_636916.json:
```json
{
    "body": "Changing commit from \"bc2d551a1a2fc2d900db8c401ba57ea1444ffddf\" to \"20d32835c7c3da63316f66d9dcd040f927d3d69d\"",
    "created_at": "2021-12-29T15:48:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636916",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "bc2d551a1a2fc2d900db8c401ba57ea1444ffddf" to "20d32835c7c3da63316f66d9dcd040f927d3d69d"



---

archive/issue_comments_636917.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-12-29T15:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636917",
    "user": "https://github.com/yyyyx4"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_636918.json:
```json
{
    "body": "<a id='comment:7'></a>\nThank you, done.",
    "created_at": "2021-12-29T15:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636918",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:7'></a>
Thank you, done.



---

archive/issue_comments_636919.json:
```json
{
    "body": "<a id='comment:8'></a>\nGiven that you did not change a single line in the code, it seems a bit overstated to put yourself as the single author of the function\n\n```diff\n+        AUTHORS:\n+\n+        - Lorenz Panny (2017)\n```",
    "created_at": "2022-01-05T08:10:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636919",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>
Given that you did not change a single line in the code, it seems a bit overstated to put yourself as the single author of the function

```diff
+        AUTHORS:
+
+        - Lorenz Panny (2017)
```



---

archive/issue_comments_636920.json:
```json
{
    "body": "<a id='comment:9'></a>\nBut I actually *am* the author of that code! I wrote it in 2017. See #23940 and in particular commit `9a96ea10e0`.",
    "created_at": "2022-01-05T09:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636920",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:9'></a>
But I actually *am* the author of that code! I wrote it in 2017. See #23940 and in particular commit `9a96ea10e0`.



---

archive/issue_comments_636921.json:
```json
{
    "body": "<a id='comment:10'></a>\nThis is confusing :)",
    "created_at": "2022-01-05T11:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636921",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>
This is confusing :)



---

archive/issue_comments_636922.json:
```json
{
    "body": "<a id='comment:11'></a>\nCould you add a copyright banner to the file, it seems to be missing ? (you can have a look at almost any file in the sage source code)",
    "created_at": "2022-01-05T12:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636922",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
Could you add a copyright banner to the file, it seems to be missing ? (you can have a look at almost any file in the sage source code)



---

archive/issue_comments_636923.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                               |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|\n|[294f5bd](https://github.com/sagemath/sagetrac-mirror/commit/294f5bddfa4dcc10973aa30834a7ee0f22ebb043)|`add missing copyright comment`|",
    "created_at": "2022-01-05T13:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636923",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                               |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------|
|[294f5bd](https://github.com/sagemath/sagetrac-mirror/commit/294f5bddfa4dcc10973aa30834a7ee0f22ebb043)|`add missing copyright comment`|



---

archive/issue_comments_636924.json:
```json
{
    "body": "Changing commit from \"20d32835c7c3da63316f66d9dcd040f927d3d69d\" to \"294f5bddfa4dcc10973aa30834a7ee0f22ebb043\"",
    "created_at": "2022-01-05T13:38:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636924",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "20d32835c7c3da63316f66d9dcd040f927d3d69d" to "294f5bddfa4dcc10973aa30834a7ee0f22ebb043"



---

archive/issue_comments_636925.json:
```json
{
    "body": "<a id='comment:13'></a>\nDone.",
    "created_at": "2022-01-05T13:39:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636925",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:13'></a>
Done.



---

archive/issue_comments_636926.json:
```json
{
    "body": "<a id='comment:14'></a>\nTo be complete, you could have mentioned `2021 Lorenz Panny` in the copyright header. This information is more relevant than the autorship (that could be anyway tracked down via git). It does not matter much.",
    "created_at": "2022-01-05T15:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636926",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>
To be complete, you could have mentioned `2021 Lorenz Panny` in the copyright header. This information is more relevant than the autorship (that could be anyway tracked down via git). It does not matter much.



---

archive/issue_comments_636927.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-01-05T15:39:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636927",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_636928.json:
```json
{
    "body": "<a id='comment:15'></a>\nMy impression from looking at other files was that the copyright header usually only named the person who first created the file, hence why I did it like that. Of course, that's kind of a strange practice in itself... In any case, it should already be clear enough (e.g. from the top-level LICENSE.txt) that Sage is under GPL, so none of this should matter indeed.\n\nThanks for reviewing!",
    "created_at": "2022-01-05T16:14:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636928",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:15'></a>
My impression from looking at other files was that the copyright header usually only named the person who first created the file, hence why I did it like that. Of course, that's kind of a strange practice in itself... In any case, it should already be clear enough (e.g. from the top-level LICENSE.txt) that Sage is under GPL, so none of this should matter indeed.

Thanks for reviewing!



---

archive/issue_comments_636929.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-03T22:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636929",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_104536.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-03T22:19:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32384#event-104536"
}
```



---

archive/issue_comments_636930.json:
```json
{
    "body": "Changing branch from \"public/make_AdditiveAbelianGroupWrapper_methods_visible\" to \"294f5bddfa4dcc10973aa30834a7ee0f22ebb043\"",
    "created_at": "2022-03-03T22:19:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32384",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32384#issuecomment-636930",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/make_AdditiveAbelianGroupWrapper_methods_visible" to "294f5bddfa4dcc10973aa30834a7ee0f22ebb043"
