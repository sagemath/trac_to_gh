# Issue 32260: Deprecate sage.numerical.optimize functions

archive/issues_032023.json:
```json
{
    "assignees": [],
    "body": "`sage.numerical.optimize` provides the following functions:\n\n- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) \n  - [1] refers to this function and to the `Expression.find_root` method\n  - [2] refers to this function in a short section \"using Sage as a numerical solver\" - which explains `sage_root` and nothing else\n\n- [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`\n  - does not appear in [1]\n  - does not appear in [2]\n\n- [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)\n  - does not appear in [1]\n  - appears in [2] in a section \"Minimizations and Lagrange Multipliers\" (the latter ends in a disappointment)\n\n- [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)\n  - does not appear in [2]\n\n- [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)\n  - does not appear in [1]\n  - appears in [2] in a short section titled \"making your own regressions in Sage\"\n\n([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)\n\n[1] Book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html)\n[2] [Gregory Bard's book](http://gregorybard.com/Sage.html)\n\n\nWithin the Sage library itself, there is only minimal use of this module.\n\n```\n$ git grep sage.numerical.optimize\nsrc/doc/en/reference/numerical/index.rst:   sage/numerical/optimize\nsrc/sage/coding/code_bounds.py:    from sage.numerical.optimize import find_root\nsrc/sage/crypto/lwe.py:from sage.numerical.optimize import find_root\nsrc/sage/numerical/all.py:lazy_import(\"sage.numerical.optimize\",\nsrc/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking\nsrc/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking\nsrc/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_root\nsrc/sage/symbolic/expression.pyx:        Uses :func:`sage.numerical.optimize.find_local_minimum`.\nsrc/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum\n```\n\n\nIn this ticket, we \n- discuss which of these functions provide sufficient added value to users over just using `scipy`; \n- deprecate functions that do not provide sufficient added value;\n- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility) - see #24536 for some new adapters\n\n\n\nSymptoms:\n- `minimize_constrained` https://groups.google.com/g/sage-devel/c/5vp5UTexpxQ/m/DG_lmN9ZAwAJ\n\nCC:  @dimpase @orlitzky @sagetrac-tmonteil @slel\n\nBranch/Commit: **[u/mkoeppe/deprecate_sage_numerical_optimize](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/deprecate_sage_numerical_optimize) @ [`84c4a6e`](https://github.com/sagemath/sagetrac-mirror/commit/84c4a6e720c559e7a92e20d49eae23f92e11b1c8)**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **numerical**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32260_\n\n",
    "created_at": "2021-07-21T22:29:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20numerical",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Deprecate sage.numerical.optimize functions",
    "type": "issue",
    "updated_at": "2023-01-07T21:39:40Z",
    "url": "https://github.com/sagemath/sage/issues/32260",
    "user": "https://github.com/mkoeppe"
}
```
`sage.numerical.optimize` provides the following functions:

- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) 
  - [1] refers to this function and to the `Expression.find_root` method
  - [2] refers to this function in a short section "using Sage as a numerical solver" - which explains `sage_root` and nothing else

- [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`
  - does not appear in [1]
  - does not appear in [2]

- [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)
  - does not appear in [1]
  - appears in [2] in a section "Minimizations and Lagrange Multipliers" (the latter ends in a disappointment)

- [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)
  - does not appear in [2]

- [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)
  - does not appear in [1]
  - appears in [2] in a short section titled "making your own regressions in Sage"

([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)

[1] Book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html)
[2] [Gregory Bard's book](http://gregorybard.com/Sage.html)


Within the Sage library itself, there is only minimal use of this module.

```
$ git grep sage.numerical.optimize
src/doc/en/reference/numerical/index.rst:   sage/numerical/optimize
src/sage/coding/code_bounds.py:    from sage.numerical.optimize import find_root
src/sage/crypto/lwe.py:from sage.numerical.optimize import find_root
src/sage/numerical/all.py:lazy_import("sage.numerical.optimize",
src/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking
src/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking
src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_root
src/sage/symbolic/expression.pyx:        Uses :func:`sage.numerical.optimize.find_local_minimum`.
src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum
```


In this ticket, we 
- discuss which of these functions provide sufficient added value to users over just using `scipy`; 
- deprecate functions that do not provide sufficient added value;
- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility) - see #24536 for some new adapters



Symptoms:
- `minimize_constrained` https://groups.google.com/g/sage-devel/c/5vp5UTexpxQ/m/DG_lmN9ZAwAJ

CC:  @dimpase @orlitzky @sagetrac-tmonteil @slel

Branch/Commit: **[u/mkoeppe/deprecate_sage_numerical_optimize](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/deprecate_sage_numerical_optimize) @ [`84c4a6e`](https://github.com/sagemath/sagetrac-mirror/commit/84c4a6e720c559e7a92e20d49eae23f92e11b1c8)**

Author: **Matthias Koeppe**

Component: **numerical**

_Issue created by migration from https://trac.sagemath.org/ticket/32260_





---

archive/issue_events_444974.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-21T22:29:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444974"
}
```



---

archive/issue_events_444975.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-21T22:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20numerical",
    "label_color": "0000ff",
    "label_name": "c: numerical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444975"
}
```



---

archive/issue_events_444976.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-21T22:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444976"
}
```



---

archive/issue_events_444977.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-21T22:29:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444977"
}
```



---

archive/issue_comments_519736.json:
```json
{
    "body": "Changed dependencies from **#32226** to none",
    "created_at": "2021-08-27T23:34:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519736",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32226** to none



---

archive/issue_comments_519737.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,19 @@\n \n We should replace it by documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).\n \n+Within the Sage library itself, there is only minimal use of this module.\n+\n+```\n+$ git grep sage.numerical.optimize\n+src/doc/en/reference/numerical/index.rst:   sage/numerical/optimize\n+src/sage/coding/code_bounds.py:    from sage.numerical.optimize import find_root\n+src/sage/crypto/lwe.py:from sage.numerical.optimize import find_root\n+src/sage/numerical/all.py:lazy_import(\"sage.numerical.optimize\",\n+src/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking\n+src/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking\n+src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_root\n+src/sage/symbolic/expression.pyx:        Uses :func:`sage.numerical.optimize.find_local_minimum`.\n+src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum\n+```\n \n \n``````\n",
    "created_at": "2021-08-27T23:39:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519737",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,19 @@
 
 We should replace it by documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).
 
+Within the Sage library itself, there is only minimal use of this module.
+
+```
+$ git grep sage.numerical.optimize
+src/doc/en/reference/numerical/index.rst:   sage/numerical/optimize
+src/sage/coding/code_bounds.py:    from sage.numerical.optimize import find_root
+src/sage/crypto/lwe.py:from sage.numerical.optimize import find_root
+src/sage/numerical/all.py:lazy_import("sage.numerical.optimize",
+src/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking
+src/sage/numerical/optimize.py:        sage: from sage.numerical.optimize import binpacking
+src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_root
+src/sage/symbolic/expression.pyx:        Uses :func:`sage.numerical.optimize.find_local_minimum`.
+src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum
+```
 
 
``````




---

archive/issue_comments_519738.json:
```json
{
    "body": "Branch: **[u/mkoeppe/deprecate_sage_numerical_optimize](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/deprecate_sage_numerical_optimize)**",
    "created_at": "2021-08-30T01:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519738",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/deprecate_sage_numerical_optimize](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/deprecate_sage_numerical_optimize)**



---

archive/issue_comments_519739.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,4 +17,5 @@\n src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum\n ```\n \n+The book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html) only refers to one of these functions,  `find_root` (both the global and the `Expression.find_root` method).\n \n``````\n",
    "created_at": "2021-09-02T20:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519739",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,4 +17,5 @@
 src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum
 ```
 
+The book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html) only refers to one of these functions,  `find_root` (both the global and the `Expression.find_root` method).
 
``````




---

archive/issue_comments_519740.json:
```json
{
    "body": "Commit: **[`84c4a6e`](https://github.com/sagemath/sagetrac-mirror/commit/84c4a6e720c559e7a92e20d49eae23f92e11b1c8)**",
    "created_at": "2021-09-02T20:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519740",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`84c4a6e`](https://github.com/sagemath/sagetrac-mirror/commit/84c4a6e720c559e7a92e20d49eae23f92e11b1c8)**



---

archive/issue_comments_519741.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84c4a6e720c559e7a92e20d49eae23f92e11b1c8\">84c4a6e</a></td><td><code>src/sage/coding/code_bounds.py: Replace use of sage.numerical.optimize by a direct scipy call</code></td></tr></table>\n",
    "created_at": "2021-09-02T20:51:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519741",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84c4a6e720c559e7a92e20d49eae23f92e11b1c8">84c4a6e</a></td><td><code>src/sage/coding/code_bounds.py: Replace use of sage.numerical.optimize by a direct scipy call</code></td></tr></table>




---

archive/issue_comments_519742.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'm not so sure about this one. These functions are minimal(ish) wrappers around scipy that,\n\n* allow you to use sage types as input/output\n* check the results for correctness\n* drop \"verbose\" return values\n\nThe essence of sage is wrapping other scientific libraries in a consistent and user-friendly interface. What  `find_root` does (for example) is not rocket surgery,  but I certainly wouldn't want to write it myself every time I have a calc1 problem to double-check.\n\nIn other news, Gregory Bard's book (http://gregorybard.com/Sage.html) also uses a few of these functions.",
    "created_at": "2021-09-03T15:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519742",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:5" align="right">comment:5</div>

I'm not so sure about this one. These functions are minimal(ish) wrappers around scipy that,

* allow you to use sage types as input/output
* check the results for correctness
* drop "verbose" return values

The essence of sage is wrapping other scientific libraries in a consistent and user-friendly interface. What  `find_root` does (for example) is not rocket surgery,  but I certainly wouldn't want to write it myself every time I have a calc1 problem to double-check.

In other news, Gregory Bard's book (http://gregorybard.com/Sage.html) also uses a few of these functions.



---

archive/issue_comments_519743.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThanks for the input and the pointer.\n\nI think we need to break this down function by function.",
    "created_at": "2021-09-03T17:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519743",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Thanks for the input and the pointer.

I think we need to break this down function by function.



---

archive/issue_comments_519744.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,3 +19,6 @@\n \n The book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html) only refers to one of these functions,  `find_root` (both the global and the `Expression.find_root` method).\n \n+\n+Symptoms:\n+- `minimize_constrained` https://groups.google.com/g/sage-devel/c/5vp5UTexpxQ/m/DG_lmN9ZAwAJ\n``````\n",
    "created_at": "2021-09-03T17:11:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519744",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,3 +19,6 @@
 
 The book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html) only refers to one of these functions,  `find_root` (both the global and the `Expression.find_root` method).
 
+
+Symptoms:
+- `minimize_constrained` https://groups.google.com/g/sage-devel/c/5vp5UTexpxQ/m/DG_lmN9ZAwAJ
``````




---

archive/issue_comments_519745.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,20 @@\n-There is no added value that the functions `find_root`, `find_local_maximum`, `find_local_minimum`, `minimize`, `minimize_constrained`, `find_fit` would provide over just using `scipy`. \n+`sage.numerical.optimize` provides the following functions:\n \n-We should replace it by documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).\n+- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) [1] refers to this function and to the `Expression.find_root` method\n+\n+- [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`\n+\n+- [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)\n+\n+- [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)\n+\n+- [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)\n+\n+([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)\n+\n+[1] Book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html)\n+[2] [Gregory Bard's book](http://gregorybard.com/Sage.html)\n+\n \n Within the Sage library itself, there is only minimal use of this module.\n \n@@ -17,7 +31,12 @@\n src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum\n ```\n \n-The book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html) only refers to one of these functions,  `find_root` (both the global and the `Expression.find_root` method).\n+\n+In this ticket, we \n+- discuss which of these functions provide sufficient added value to users over just using `scipy`; \n+- deprecate functions that do not provide sufficient added value;\n+- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).\n+\n \n \n Symptoms:\n``````\n",
    "created_at": "2021-09-04T21:57:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519745",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,20 @@
-There is no added value that the functions `find_root`, `find_local_maximum`, `find_local_minimum`, `minimize`, `minimize_constrained`, `find_fit` would provide over just using `scipy`. 
+`sage.numerical.optimize` provides the following functions:
 
-We should replace it by documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).
+- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) [1] refers to this function and to the `Expression.find_root` method
+
+- [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`
+
+- [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)
+
+- [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)
+
+- [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)
+
+([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)
+
+[1] Book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html)
+[2] [Gregory Bard's book](http://gregorybard.com/Sage.html)
+
 
 Within the Sage library itself, there is only minimal use of this module.
 
@@ -17,7 +31,12 @@
 src/sage/symbolic/expression.pyx:        from sage.numerical.optimize import find_local_minimum
 ```
 
-The book [Computational Mathematics with SageMath](http://sagebook.gforge.inria.fr/english.html) only refers to one of these functions,  `find_root` (both the global and the `Expression.find_root` method).
+
+In this ticket, we 
+- discuss which of these functions provide sufficient added value to users over just using `scipy`; 
+- deprecate functions that do not provide sufficient added value;
+- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).
+
 
 
 Symptoms:
``````




---

archive/issue_events_444978.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-04T21:57:44Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "title_is": "Deprecate sage.numerical.optimize functions",
    "title_was": "Deprecate sage.numerical.optimize",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444978"
}
```



---

archive/issue_comments_519746.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-09-23T22:14:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519746",
    "user": "https://github.com/slel"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_444979.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444979"
}
```



---

archive/issue_events_444980.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444980"
}
```



---

archive/issue_comments_519747.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -35,7 +35,7 @@\n In this ticket, we \n - discuss which of these functions provide sufficient added value to users over just using `scipy`; \n - deprecate functions that do not provide sufficient added value;\n-- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).\n+- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility) - see #24536 for some new adapters\n \n \n \n``````\n",
    "created_at": "2022-02-26T17:53:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519747",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -35,7 +35,7 @@
 In this ticket, we 
 - discuss which of these functions provide sufficient added value to users over just using `scipy`; 
 - deprecate functions that do not provide sufficient added value;
-- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility).
+- provide documentation that empowers users to use Sage functions with `scipy` (including the `sage.ext.fast_callable` facility) - see #24536 for some new adapters
 
 
 
``````




---

archive/issue_comments_519748.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> Thanks for the input and the pointer.\n> \n> I think we need to break this down function by function.\n\n+1\n\nIdeally these could be pretty light wrappers in general.  But having something top-level for undergraduate instruction is very, very convenient (as evidenced by the two books mentioned in the ticket).",
    "created_at": "2022-02-26T23:02:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519748",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">comment:12</div>

> Thanks for the input and the pointer.
> 
> I think we need to break this down function by function.

+1

Ideally these could be pretty light wrappers in general.  But having something top-level for undergraduate instruction is very, very convenient (as evidenced by the two books mentioned in the ticket).



---

archive/issue_comments_519749.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,7 @@\n - [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)\n \n - [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)\n+  - appears in [2] in a short section titled \"making your own regressions in Sage\"\n \n ([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)\n \n``````\n",
    "created_at": "2022-02-27T01:20:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519749",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,7 @@
 - [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)
 
 - [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)
+  - appears in [2] in a short section titled "making your own regressions in Sage"
 
 ([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)
 
``````




---

archive/issue_comments_519750.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,12 +1,16 @@\n `sage.numerical.optimize` provides the following functions:\n \n-- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) [1] refers to this function and to the `Expression.find_root` method\n+- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) \n+  - [1] refers to this function and to the `Expression.find_root` method\n+  - [2] refers to this function in a short section \"using Sage as a numerical solver\" - which explains `sage_root` and nothing else\n \n - [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`\n+  - does not appear in [2]\n \n - [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)\n-\n+  - appears in [2] in a section \"Minimizations and Lagrange Multipliers\"\n - [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)\n+  - does not appear in [2]\n \n - [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)\n   - appears in [2] in a short section titled \"making your own regressions in Sage\"\n``````\n",
    "created_at": "2022-02-27T01:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519750",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,12 +1,16 @@
 `sage.numerical.optimize` provides the following functions:
 
-- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) [1] refers to this function and to the `Expression.find_root` method
+- [find_root](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_root) 
+  - [1] refers to this function and to the `Expression.find_root` method
+  - [2] refers to this function in a short section "using Sage as a numerical solver" - which explains `sage_root` and nothing else
 
 - [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`
+  - does not appear in [2]
 
 - [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)
-
+  - appears in [2] in a section "Minimizations and Lagrange Multipliers"
 - [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)
+  - does not appear in [2]
 
 - [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)
   - appears in [2] in a short section titled "making your own regressions in Sage"
``````




---

archive/issue_comments_519751.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kcrisman](#comment:12):\n> something top-level for undergraduate instruction is very, very convenient (as evidenced by the two books mentioned in the ticket).\n\nWell, I have looked at the sections related to the present ticket in the books and I wouldn't recommend using these parts for instruction at any level.",
    "created_at": "2022-02-27T01:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519751",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kcrisman](#comment:12):
> something top-level for undergraduate instruction is very, very convenient (as evidenced by the two books mentioned in the ticket).

Well, I have looked at the sections related to the present ticket in the books and I wouldn't recommend using these parts for instruction at any level.



---

archive/issue_comments_519752.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,14 +5,18 @@\n   - [2] refers to this function in a short section \"using Sage as a numerical solver\" - which explains `sage_root` and nothing else\n \n - [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`\n+  - does not appear in [1]\n   - does not appear in [2]\n \n - [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)\n-  - appears in [2] in a section \"Minimizations and Lagrange Multipliers\"\n+  - does not appear in [1]\n+  - appears in [2] in a section \"Minimizations and Lagrange Multipliers\" (the latter ends in a disappointment)\n+\n - [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)\n   - does not appear in [2]\n \n - [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)\n+  - does not appear in [1]\n   - appears in [2] in a short section titled \"making your own regressions in Sage\"\n \n ([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)\n``````\n",
    "created_at": "2022-02-27T01:35:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519752",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,14 +5,18 @@
   - [2] refers to this function in a short section "using Sage as a numerical solver" - which explains `sage_root` and nothing else
 
 - [find_local_minimum](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_local_minimum), `find_local_maximum`
+  - does not appear in [1]
   - does not appear in [2]
 
 - [minimize](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize)
-  - appears in [2] in a section "Minimizations and Lagrange Multipliers"
+  - does not appear in [1]
+  - appears in [2] in a section "Minimizations and Lagrange Multipliers" (the latter ends in a disappointment)
+
 - [minimize_constrained](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.minimize_constrained)
   - does not appear in [2]
 
 - [find_fit](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.find_fit)
+  - does not appear in [1]
   - appears in [2] in a short section titled "making your own regressions in Sage"
 
 ([linear_program](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.linear_program) is already deprecated; we ignore the function [binpacking](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/optimize.html#sage.numerical.optimize.binpacking) in this ticket.)
``````




---

archive/issue_comments_519753.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@kcrisman](#comment:12):\n> \n> Ideally these could be pretty light wrappers in general.  But having something top-level for undergraduate instruction is very, very convenient (as evidenced by the two books mentioned in the ticket).\n\nI fully agree. For instance, I would be -1 in removing `find_root` for it is heavily used and very convenient for a basic usage.  For more sophisticated use, of course, the user shall import `scipy` functions.",
    "created_at": "2022-03-01T10:24:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519753",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@kcrisman](#comment:12):
> 
> Ideally these could be pretty light wrappers in general.  But having something top-level for undergraduate instruction is very, very convenient (as evidenced by the two books mentioned in the ticket).

I fully agree. For instance, I would be -1 in removing `find_root` for it is heavily used and very convenient for a basic usage.  For more sophisticated use, of course, the user shall import `scipy` functions.



---

archive/issue_comments_519754.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nYes, `find_root` is not so bad.",
    "created_at": "2022-03-01T17:41:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32260#issuecomment-519754",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

Yes, `find_root` is not so bad.



---

archive/issue_events_444981.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444981"
}
```



---

archive/issue_events_444982.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444982"
}
```



---

archive/issue_events_444983.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444983"
}
```



---

archive/issue_events_444984.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444984"
}
```



---

archive/issue_events_444985.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444985"
}
```



---

archive/issue_events_444986.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32260",
    "milestone_number": null,
    "milestone_title": "sage-9.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32260#event-444986"
}
```
