# Issue 32542: Upgrade sympy to 1.9

archive/issues_032305.json:
```json
{
    "body": "1.9 was released on 2021-10-08 - https://pypi.org/project/sympy/#history\n\nFixes in #32420\n\n\n**CC:**  @dimpase @kiwifb @antonio-rojas\n\n**Branch/Commit:** [d3044bddfe40b954cf49e433422e89ffb1166b85](https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Matthias Koeppe\n\n**Dependencies:** #32420\n\nIssue created by migration from https://trac.sagemath.org/ticket/32542\n\n",
    "closed_at": "2021-12-05T11:15:34Z",
    "created_at": "2021-09-21T03:26:37Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Upgrade sympy to 1.9",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32542",
    "user": "https://github.com/mkoeppe"
}
```
1.9 was released on 2021-10-08 - https://pypi.org/project/sympy/#history

Fixes in #32420


**CC:**  @dimpase @kiwifb @antonio-rojas

**Branch/Commit:** [d3044bddfe40b954cf49e433422e89ffb1166b85](https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85)

**Reviewer:** Dima Pasechnik

**Author:** Matthias Koeppe

**Dependencies:** #32420

Issue created by migration from https://trac.sagemath.org/ticket/32542





---

archive/issue_comments_529198.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/upgrade_sympy_to_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_sympy_to_1_9)",
    "created_at": "2021-09-25T18:17:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529198",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/upgrade_sympy_to_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_sympy_to_1_9)



---

archive/issue_comments_529199.json:
```json
{
    "body": "**Dependencies:** #32420",
    "created_at": "2021-09-25T18:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529199",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32420



---

archive/issue_comments_529200.json:
```json
{
    "body": "**Commit:** [9b7e365c67e3e350809215fc0a97ac5e0377234b](https://github.com/sagemath/sagetrac-mirror/commit/9b7e365c67e3e350809215fc0a97ac5e0377234b)",
    "created_at": "2021-09-25T18:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529200",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [9b7e365c67e3e350809215fc0a97ac5e0377234b](https://github.com/sagemath/sagetrac-mirror/commit/9b7e365c67e3e350809215fc0a97ac5e0377234b)



---

archive/issue_comments_529201.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600\">a0a5c0f</a></td><td><code>src/sage/sets/real_set.py, src/sage/categories/sets_cat.py: Update doctests to accept sympy 1.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5df10fa356c4635a631918c231fcc360904a0f5b\">5df10fa</a></td><td><code>Merge tag '9.5.beta0' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd\">6a796e7</a></td><td><code>Merge #32461</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/378cf5bff021053eb01e8d1a68d5fb6051045d7b\">378cf5b</a></td><td><code>Merge tag '9.5.beta1' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7d6a7b82886827480d8ef4664c0e484cb669aa1d\">7d6a7b8</a></td><td><code>Make test pass with giac 1.7</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e\">ae145d9</a></td><td><code>Merge #32449</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b3ac0905d71390d62ba73d9b7c961f50262812a\">2b3ac09</a></td><td><code>src/sage/misc/persist.pyx: Fix doctest so it works when run as root</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d\">837c600</a></td><td><code>Merge #32514</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5dae102fef987a6675993b61c73203a9275126d\">a5dae10</a></td><td><code>Merge #32420</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b7e365c67e3e350809215fc0a97ac5e0377234b\">9b7e365</a></td><td><code>build/pkgs/sympy: Update to 1.9rc1</code></td></tr></table>\n",
    "created_at": "2021-09-25T18:18:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529201",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0a5c0f4d65c700469b9ee09fb5df708eeded600">a0a5c0f</a></td><td><code>src/sage/sets/real_set.py, src/sage/categories/sets_cat.py: Update doctests to accept sympy 1.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5df10fa356c4635a631918c231fcc360904a0f5b">5df10fa</a></td><td><code>Merge tag '9.5.beta0' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a796e7c77aa9bc3dbff61bf13d9831455916cbd">6a796e7</a></td><td><code>Merge #32461</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/378cf5bff021053eb01e8d1a68d5fb6051045d7b">378cf5b</a></td><td><code>Merge tag '9.5.beta1' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7d6a7b82886827480d8ef4664c0e484cb669aa1d">7d6a7b8</a></td><td><code>Make test pass with giac 1.7</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae145d9550ab41756a59aeb851840be37560dc2e">ae145d9</a></td><td><code>Merge #32449</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b3ac0905d71390d62ba73d9b7c961f50262812a">2b3ac09</a></td><td><code>src/sage/misc/persist.pyx: Fix doctest so it works when run as root</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/837c6001d381a8fc9fa14bd15f97031b9b007b6d">837c600</a></td><td><code>Merge #32514</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5dae102fef987a6675993b61c73203a9275126d">a5dae10</a></td><td><code>Merge #32420</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b7e365c67e3e350809215fc0a97ac5e0377234b">9b7e365</a></td><td><code>build/pkgs/sympy: Update to 1.9rc1</code></td></tr></table>




---

archive/issue_comments_529202.json:
```json
{
    "body": "**Changing commit** from \"[9b7e365c67e3e350809215fc0a97ac5e0377234b](https://github.com/sagemath/sagetrac-mirror/commit/9b7e365c67e3e350809215fc0a97ac5e0377234b)\" to \"[f894019097327fb198b241045a95c2cb746904fa](https://github.com/sagemath/sagetrac-mirror/commit/f894019097327fb198b241045a95c2cb746904fa)\".",
    "created_at": "2021-09-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9b7e365c67e3e350809215fc0a97ac5e0377234b](https://github.com/sagemath/sagetrac-mirror/commit/9b7e365c67e3e350809215fc0a97ac5e0377234b)" to "[f894019097327fb198b241045a95c2cb746904fa](https://github.com/sagemath/sagetrac-mirror/commit/f894019097327fb198b241045a95c2cb746904fa)".



---

archive/issue_comments_529203.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75\">b41384a</a></td><td><code>src/sage/calculus/test_sympy.py, src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py: Make doctests pass with sympy 1.9 and <1.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29\">28797f9</a></td><td><code>src/sage/calculus/calculus.py: Prepare laplace(dirac_delta) doctest for sympy 1.9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f894019097327fb198b241045a95c2cb746904fa\">f894019</a></td><td><code>Merge #32420</code></td></tr></table>\n",
    "created_at": "2021-09-25T19:19:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529203",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b41384a03ddd87b759c056b911d2eb0bf05afb75">b41384a</a></td><td><code>src/sage/calculus/test_sympy.py, src/sage/tests/books/computational-mathematics-with-sagemath/recequadiff_doctest.py: Make doctests pass with sympy 1.9 and <1.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28797f945da0af77844d847505ce717587cfca29">28797f9</a></td><td><code>src/sage/calculus/calculus.py: Prepare laplace(dirac_delta) doctest for sympy 1.9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f894019097327fb198b241045a95c2cb746904fa">f894019</a></td><td><code>Merge #32420</code></td></tr></table>




---

archive/issue_comments_529204.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-1.9rc1 is available - https://pypi.org/project/sympy/#history\n+1.9 was released on 2021-10-08 - https://pypi.org/project/sympy/#history\n \n Fixes in #32420\n \n``````\n",
    "created_at": "2021-10-09T02:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529204",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-1.9rc1 is available - https://pypi.org/project/sympy/#history
+1.9 was released on 2021-10-08 - https://pypi.org/project/sympy/#history
 
 Fixes in #32420
 
``````




---

archive/issue_comments_529205.json:
```json
{
    "body": "**Changing commit** from \"[f894019097327fb198b241045a95c2cb746904fa](https://github.com/sagemath/sagetrac-mirror/commit/f894019097327fb198b241045a95c2cb746904fa)\" to \"[d3044bddfe40b954cf49e433422e89ffb1166b85](https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85)\".",
    "created_at": "2021-10-09T02:51:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529205",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f894019097327fb198b241045a95c2cb746904fa](https://github.com/sagemath/sagetrac-mirror/commit/f894019097327fb198b241045a95c2cb746904fa)" to "[d3044bddfe40b954cf49e433422e89ffb1166b85](https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85)".



---

archive/issue_comments_529206.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8\">beed4e1</a></td><td><code>Merge tag '9.5.beta2' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8edf14e425609200d197641e4935c740a46c5b9\">e8edf14</a></td><td><code>Merge #32420</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85\">d3044bd</a></td><td><code>build/pkgs/sympy: Update to 1.9</code></td></tr></table>\n",
    "created_at": "2021-10-09T02:51:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529206",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/beed4e16aff32e47d0c3b1c58cb1e2f4c38590f8">beed4e1</a></td><td><code>Merge tag '9.5.beta2' into t/32420/prepare_for_sympy_1_9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8edf14e425609200d197641e4935c740a46c5b9">e8edf14</a></td><td><code>Merge #32420</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85">d3044bd</a></td><td><code>build/pkgs/sympy: Update to 1.9</code></td></tr></table>




---

archive/issue_events_297111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-09T02:52:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32542#event-297111"
}
```



---

archive/issue_comments_529207.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-10-09T02:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529207",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_529208.json:
```json
{
    "body": "**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/1429845185, https://github.com/mkoeppe/sage/actions/runs/1429845182",
    "created_at": "2021-11-06T20:11:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529208",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/1429845185, https://github.com/mkoeppe/sage/actions/runs/1429845182



---

archive/issue_comments_529209.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/1429845185, https://github.com/mkoeppe/sage/actions/runs/1429845182\" to \"https://github.com/mkoeppe/sage/actions/runs/1430376300\".",
    "created_at": "2021-11-07T01:18:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529209",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/1429845185, https://github.com/mkoeppe/sage/actions/runs/1429845182" to "https://github.com/mkoeppe/sage/actions/runs/1430376300".



---

archive/issue_comments_529210.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/1430376300\" to \"https://github.com/mkoeppe/sage/actions/runs/1430376304, https://github.com/mkoeppe/sage/actions/runs/1430376300\".",
    "created_at": "2021-11-08T00:50:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529210",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/1430376300" to "https://github.com/mkoeppe/sage/actions/runs/1430376304, https://github.com/mkoeppe/sage/actions/runs/1430376300".



---

archive/issue_comments_529211.json:
```json
{
    "body": "<a id='comment:11'></a>\nlgtm",
    "created_at": "2021-11-16T14:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529211",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
lgtm



---

archive/issue_events_297112.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-16T14:51:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32542#event-297112"
}
```



---

archive/issue_events_297113.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-16T14:51:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32542#event-297113"
}
```



---

archive/issue_comments_529212.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/1430376304, https://github.com/mkoeppe/sage/actions/runs/1430376300\" to \"Dima Pasechnik\".",
    "created_at": "2021-11-16T14:51:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529212",
    "user": "https://github.com/dimpase"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/1430376304, https://github.com/mkoeppe/sage/actions/runs/1430376300" to "Dima Pasechnik".



---

archive/issue_comments_529213.json:
```json
{
    "body": "<a id='comment:12'></a>\nThanks!",
    "created_at": "2021-11-16T18:04:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529213",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
Thanks!



---

archive/issue_comments_529214.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/upgrade_sympy_to_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_sympy_to_1_9)\" to \"[d3044bddfe40b954cf49e433422e89ffb1166b85](https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85)\".",
    "created_at": "2021-12-05T11:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32542#issuecomment-529214",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/upgrade_sympy_to_1_9](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/upgrade_sympy_to_1_9)" to "[d3044bddfe40b954cf49e433422e89ffb1166b85](https://github.com/sagemath/sagetrac-mirror/commit/d3044bddfe40b954cf49e433422e89ffb1166b85)".



---

archive/issue_events_297114.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-05T11:15:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32542#event-297114"
}
```



---

archive/issue_events_297115.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-05T11:15:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32542",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32542#event-297115"
}
```
