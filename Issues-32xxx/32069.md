# Issue 32069: Upgrade jupyterlab to 3.3.x, add "sage -n nbclassic" and "sage -n retrolab"

archive/issues_031832.json:
```json
{
    "body": "#30246 added jupyterlab 2.2.x as an optional package as part of Meta-ticket #30399.\n\nThe 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history \n\nCurrent as of Mar 2022 is 3.3.0. It still supports Python 3.7, as needed for Sage 9.6.\n\nIt is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/ \n(See also https://github.com/jupyterlab/retrolab#relation-to-other-jupyter-frontends)\n\n\n\nCC:  @slel @jcamp0x2a @dimpase @egourgoulhon\n\nKeywords: jupyterlab\n\nBranch/Commit: 1243bd895a378550cd305d48bc4f87b3171f0f32\n\nReviewer: Eric Gourgoulhon\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32069\n\n",
    "closed_at": "2022-03-09T23:38:24Z",
    "created_at": "2021-06-27T21:25:40Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Upgrade jupyterlab to 3.3.x, add \"sage -n nbclassic\" and \"sage -n retrolab\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32069",
    "user": "https://github.com/mkoeppe"
}
```
#30246 added jupyterlab 2.2.x as an optional package as part of Meta-ticket #30399.

The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history 

Current as of Mar 2022 is 3.3.0. It still supports Python 3.7, as needed for Sage 9.6.

It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/ 
(See also https://github.com/jupyterlab/retrolab#relation-to-other-jupyter-frontends)



CC:  @slel @jcamp0x2a @dimpase @egourgoulhon

Keywords: jupyterlab

Branch/Commit: 1243bd895a378550cd305d48bc4f87b3171f0f32

Reviewer: Eric Gourgoulhon

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32069





---

archive/issue_comments_485672.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -2,6 +2,9 @@\n \n The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history \n Current as of June 2021 is 3.0.16.\n+\n+It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/\n+\n \n Comment: 1\n \n```\n",
    "created_at": "2021-06-27T23:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485672",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -2,6 +2,9 @@
 
 The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history 
 Current as of June 2021 is 3.0.16.
+
+It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/
+
 
 Comment: 1
 
```




---

archive/issue_comments_485673.json:
```json
{
    "body": "<a id='comment:5'></a>Last 10 new commits:",
    "created_at": "2021-06-27T23:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485673",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>Last 10 new commits:



---

archive/issue_comments_485674.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-27T23:23:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485674",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_485675.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-06T19:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485675",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485676.json:
```json
{
    "body": "<a id='comment:8'></a>Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485676",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_084871.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84871"
}
```



---

archive/issue_comments_485677.json:
```json
{
    "body": "<a id='comment:9'></a>JupyterLab 3.1.0 was released.\n\n- https://github.com/jupyterlab/jupyterlab/releases/tag/v3.1.0",
    "created_at": "2021-07-27T20:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485677",
    "user": "https://github.com/slel"
}
```

<a id='comment:9'></a>JupyterLab 3.1.0 was released.

- https://github.com/jupyterlab/jupyterlab/releases/tag/v3.1.0



---

archive/issue_comments_485678.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-12T05:03:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485678",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_485679.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-09-14T01:31:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_485680.json:
```json
{
    "body": "<a id='comment:13'></a>New commits:",
    "created_at": "2021-09-14T01:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485680",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>New commits:



---

archive/issue_comments_485681.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-09-14T01:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485681",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_485682.json:
```json
{
    "body": "<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-09-14T02:05:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485683.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-09-14T02:05:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485683",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_485684.json:
```json
{
    "body": "<a id='comment:18'></a>On `debian-bullseye` (https://github.com/mkoeppe/sage/runs/3594020610?check_suite_focus=true)\n\n```\nError:  ==== ERROR IN LOG FILE artifacts/logs-commit-be4c7c8fe60812ff2bb6a0725d9041b2c7687980-tox-docker-debian-bullseye-maximal/logs/pkgs/jupyterlab_widgets-2.0.log ====\n-\ufffd\\\ufffd|\ufffd/\ufffd-\ufffd\\\ufffd|\ufffd/\ufffd-\ufffdAn error occurred.\nValueError: \n\"@jupyter-widgets/jupyterlab-manager@2.0.0\" is not compatible with the current JupyterLab\nConflicting Dependencies:\nJupyterLab                        Extension       Package\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/application\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/logconsole\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/mainmenu\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/notebook\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/rendermime\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/rendermime-interfaces\n>=6.1.11 <6.2.0                   >=5.0.0 <6.0.0  @jupyterlab/services\n>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/settingregistry\nSee the log file for details:  /tmp/jupyterlab-debug-lp7xrnhx.log\nError installing jupyter-widgets extension into jupyterlab ... exiting\n```",
    "created_at": "2021-09-17T18:23:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485684",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:18'></a>On `debian-bullseye` (https://github.com/mkoeppe/sage/runs/3594020610?check_suite_focus=true)

```
Error:  ==== ERROR IN LOG FILE artifacts/logs-commit-be4c7c8fe60812ff2bb6a0725d9041b2c7687980-tox-docker-debian-bullseye-maximal/logs/pkgs/jupyterlab_widgets-2.0.log ====
-�\�|�/�-�\�|�/�-�An error occurred.
ValueError: 
"@jupyter-widgets/jupyterlab-manager@2.0.0" is not compatible with the current JupyterLab
Conflicting Dependencies:
JupyterLab                        Extension       Package
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/application
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/logconsole
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/mainmenu
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/notebook
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/rendermime
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/rendermime-interfaces
>=6.1.11 <6.2.0                   >=5.0.0 <6.0.0  @jupyterlab/services
>=3.1.11 <3.2.0                   >=2.0.0 <3.0.0  @jupyterlab/settingregistry
See the log file for details:  /tmp/jupyterlab-debug-lp7xrnhx.log
Error installing jupyter-widgets extension into jupyterlab ... exiting
```



---

archive/issue_comments_485685.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-17T18:24:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485685",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_485686.json:
```json
{
    "body": "<a id='comment:20'></a>apparently we should aim for version 3.2.4, as my experiment shows.",
    "created_at": "2021-12-04T20:37:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485686",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:20'></a>apparently we should aim for version 3.2.4, as my experiment shows.



---

archive/issue_events_084872.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84872"
}
```



---

archive/issue_events_084873.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84873"
}
```



---

archive/issue_events_084874.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-04T23:25:46Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84874"
}
```



---

archive/issue_events_084875.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-04T23:25:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84875"
}
```



---

archive/issue_comments_485687.json:
```json
{
    "body": "<a id='comment:26'></a>I've just made a few experiments with jupyterlab 3.3.10; it seems to work well with Sage 9.5.\nBasically, here is what I did in a Sage 9.5 root directory on Ubuntu 20.04:\n\n```\n./sage -i install jupyterlab_widgets         # => installed jupyterlab 2.2.10\n./sage -sh\n(sage-sh) pip install --upgrade jupyterlab   # => installed jupyterlab 3.3.10\n(sage-sh) pip install --upgrade jupyterlab_widgets\n(sage-sh) pip install ipympl                 # required for %matplotlib widget\n(sage-sh) exit\n./sage -n jupyterlab\n```\nThen jupyterlab 3.3.10 opens in the browser and everything seems to work well. In particular, ``@`interact` works, as well as threejs animations, both tested via https://github.com/egourgoulhon/SageMathTest/blob/master/Notebooks/test_interact.ipynb. The interactive Matplotlib display has been tested with the notebook https://github.com/egourgoulhon/SageMathTest/blob/master/Notebooks/test_display_latex.ipynb, where `%matplotlib notebook` had to be replaced with `%matplotlib widget`, outside the scope of `%display latex`. \n\nIs the issue with Debian bullseye mentioned in comment:18 still there with jupyterlab 3.3 ? Otherwise, what prevents jupyterlab 3.3 to go into Sage 9.6?",
    "created_at": "2022-03-04T23:50:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485687",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:26'></a>I've just made a few experiments with jupyterlab 3.3.10; it seems to work well with Sage 9.5.
Basically, here is what I did in a Sage 9.5 root directory on Ubuntu 20.04:

```
./sage -i install jupyterlab_widgets         # => installed jupyterlab 2.2.10
./sage -sh
(sage-sh) pip install --upgrade jupyterlab   # => installed jupyterlab 3.3.10
(sage-sh) pip install --upgrade jupyterlab_widgets
(sage-sh) pip install ipympl                 # required for %matplotlib widget
(sage-sh) exit
./sage -n jupyterlab
```
Then jupyterlab 3.3.10 opens in the browser and everything seems to work well. In particular, ``@`interact` works, as well as threejs animations, both tested via https://github.com/egourgoulhon/SageMathTest/blob/master/Notebooks/test_interact.ipynb. The interactive Matplotlib display has been tested with the notebook https://github.com/egourgoulhon/SageMathTest/blob/master/Notebooks/test_display_latex.ipynb, where `%matplotlib notebook` had to be replaced with `%matplotlib widget`, outside the scope of `%display latex`. 

Is the issue with Debian bullseye mentioned in comment:18 still there with jupyterlab 3.3 ? Otherwise, what prevents jupyterlab 3.3 to go into Sage 9.6?



---

archive/issue_comments_485688.json:
```json
{
    "body": "<a id='comment:27'></a>Replying to [comment:26 egourgoulhon]:\n> Is the issue with Debian bullseye mentioned in comment:18 still there with jupyterlab 3.3?\n\n\nLikely outdated, we'll have to test this.\n\n> Otherwise, what prevents jupyterlab 3.3 to go into Sage 9.6?\n\n\nNothing really; if this does not require updates of packages that regular ipython/jupyter uses, then this is fine.",
    "created_at": "2022-03-05T00:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485688",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:27'></a>Replying to [comment:26 egourgoulhon]:
> Is the issue with Debian bullseye mentioned in comment:18 still there with jupyterlab 3.3?


Likely outdated, we'll have to test this.

> Otherwise, what prevents jupyterlab 3.3 to go into Sage 9.6?


Nothing really; if this does not require updates of packages that regular ipython/jupyter uses, then this is fine.



---

archive/issue_events_084876.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:29:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84876"
}
```



---

archive/issue_events_084877.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:29:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84877"
}
```



---

archive/issue_comments_485689.json:
```json
{
    "body": "<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-05T00:44:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485689",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_485690.json:
```json
{
    "body": "<a id='comment:29'></a>Here's an attempt to update it (untested)",
    "created_at": "2022-03-05T00:44:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485690",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>Here's an attempt to update it (untested)



---

archive/issue_comments_485691.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,10 @@\n+#30246 added jupyterlab 2.2.x as an optional package as part of Meta-ticket #30399.\n+\n+The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history \n+\n+Current as of Mar 2022 is 3.3.0. It still supports Python 3.7, as needed for Sage 9.6.\n+\n+It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/\n \n \n Comment: 1\n```\n",
    "created_at": "2022-03-05T00:49:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485691",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,10 @@
+#30246 added jupyterlab 2.2.x as an optional package as part of Meta-ticket #30399.
+
+The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history 
+
+Current as of Mar 2022 is 3.3.0. It still supports Python 3.7, as needed for Sage 9.6.
+
+It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/
 
 
 Comment: 1
```




---

archive/issue_comments_485692.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-05T00:56:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485692",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_485693.json:
```json
{
    "body": "<a id='comment:33'></a>Tested very briefly on macOS, seems to work",
    "created_at": "2022-03-05T00:57:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485693",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'></a>Tested very briefly on macOS, seems to work



---

archive/issue_comments_485694.json:
```json
{
    "body": "<a id='comment:35'></a>After pulling the ticket branch in Sage 9.6.beta3 and running make, the command\n\n```\n./sage -i jupyterlab_widgets\n```\nfailed, telling that jupyter-packaging-0.11.1.tar.gz is not found on the mirrors:\n\n```\n[jupyter_packaging-0.11.1] Fastest mirror: http://www-ftp.lip6.fr/pub/math/sagemath/\n[jupyter_packaging-0.11.1] http://www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz\n[jupyter_packaging-0.11.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[jupyter_packaging-0.11.1] ERROR [transfer|run:135]: [Errno socket error] [Errno 404] Not Found: '//www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz'\n[jupyter_packaging-0.11.1] https://mirror.lyrahosting.com/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz\n[jupyter_packaging-0.11.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[jupyter_packaging-0.11.1] ERROR [transfer|run:135]: [Errno socket error] [Errno 404] Not Found: '//mirror.lyrahosting.com/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz'\n[jupyter_packaging-0.11.1] http://ftp.rediris.es/mirror/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz\n...\n[jupyter_packaging-0.11.1] sage_bootstrap.tarball.FileNotMirroredError: tarball does not exist on mirror network\n[jupyter_packaging-0.11.1] ************************************************************************\n[jupyter_packaging-0.11.1] ************************************************************************\n[jupyter_packaging-0.11.1] Error downloading jupyter-packaging-0.11.1.tar.gz\n[jupyter_packaging-0.11.1] ************************************************************************\n[jupyter_packaging-0.11.1] Please email sage-devel (http://groups.google.com/group/sage-devel)\n[jupyter_packaging-0.11.1] explaining the problem and including the log files\n[jupyter_packaging-0.11.1]   /home/eric/sage/9.6.develop/logs/pkgs/jupyter_packaging-0.11.1.log\n[jupyter_packaging-0.11.1] and\n[jupyter_packaging-0.11.1]   /home/eric/sage/9.6.develop/config.log\n[jupyter_packaging-0.11.1] Describe your computer, operating system, etc.\n[jupyter_packaging-0.11.1] ************************************************************************\nmake[2]: *** [Makefile:2765 : jupyter_packaging-SAGE_VENV-no-deps] Erreur 1\nmake[1]: *** [Makefile:2765 : /home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/var/lib/sage/installed/jupyter_packaging-0.11.1] Erreur 2\nmake[1]\u00a0: on quitte le r\u00e9pertoire \u00ab\u00a0/home/eric/sage/9.6.develop/build/make\u00a0\u00bb\n\nreal\t0m40.555s\nuser\t0m0.367s\nsys\t0m0.104s\n***************************************************************\nError building Sage.\n```",
    "created_at": "2022-03-05T13:22:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485694",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:35'></a>After pulling the ticket branch in Sage 9.6.beta3 and running make, the command

```
./sage -i jupyterlab_widgets
```
failed, telling that jupyter-packaging-0.11.1.tar.gz is not found on the mirrors:

```
[jupyter_packaging-0.11.1] Fastest mirror: http://www-ftp.lip6.fr/pub/math/sagemath/
[jupyter_packaging-0.11.1] http://www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz
[jupyter_packaging-0.11.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[jupyter_packaging-0.11.1] ERROR [transfer|run:135]: [Errno socket error] [Errno 404] Not Found: '//www-ftp.lip6.fr/pub/math/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz'
[jupyter_packaging-0.11.1] https://mirror.lyrahosting.com/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz
[jupyter_packaging-0.11.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[jupyter_packaging-0.11.1] ERROR [transfer|run:135]: [Errno socket error] [Errno 404] Not Found: '//mirror.lyrahosting.com/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz'
[jupyter_packaging-0.11.1] http://ftp.rediris.es/mirror/sagemath/spkg/upstream/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz
...
[jupyter_packaging-0.11.1] sage_bootstrap.tarball.FileNotMirroredError: tarball does not exist on mirror network
[jupyter_packaging-0.11.1] ************************************************************************
[jupyter_packaging-0.11.1] ************************************************************************
[jupyter_packaging-0.11.1] Error downloading jupyter-packaging-0.11.1.tar.gz
[jupyter_packaging-0.11.1] ************************************************************************
[jupyter_packaging-0.11.1] Please email sage-devel (http://groups.google.com/group/sage-devel)
[jupyter_packaging-0.11.1] explaining the problem and including the log files
[jupyter_packaging-0.11.1]   /home/eric/sage/9.6.develop/logs/pkgs/jupyter_packaging-0.11.1.log
[jupyter_packaging-0.11.1] and
[jupyter_packaging-0.11.1]   /home/eric/sage/9.6.develop/config.log
[jupyter_packaging-0.11.1] Describe your computer, operating system, etc.
[jupyter_packaging-0.11.1] ************************************************************************
make[2]: *** [Makefile:2765 : jupyter_packaging-SAGE_VENV-no-deps] Erreur 1
make[1]: *** [Makefile:2765 : /home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/var/lib/sage/installed/jupyter_packaging-0.11.1] Erreur 2
make[1] : on quitte le répertoire « /home/eric/sage/9.6.develop/build/make »

real	0m40.555s
user	0m0.367s
sys	0m0.104s
***************************************************************
Error building Sage.
```



---

archive/issue_comments_485695.json:
```json
{
    "body": "<a id='comment:36'></a>run\n\n```\n./configure --enable-download-from-upstream-url\n```\n\nthen it will be picked up by make etc.\n\nThis is the standard way to review package updates - unless you want to download package tarballs manually.",
    "created_at": "2022-03-05T14:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485695",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>run

```
./configure --enable-download-from-upstream-url
```

then it will be picked up by make etc.

This is the standard way to review package updates - unless you want to download package tarballs manually.



---

archive/issue_comments_485696.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:36 dimpase]:\n> run\n> \n> ```\n> ./configure --enable-download-from-upstream-url\n> ```\n> \n> then it will be picked up by make etc.\n> \n\n\nThanks! I did it, then run make and again `./sage -i jupyterlab_widgets`, but still get the same error...",
    "created_at": "2022-03-05T15:08:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485696",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:37'></a>Replying to [comment:36 dimpase]:
> run
> 
> ```
> ./configure --enable-download-from-upstream-url
> ```
> 
> then it will be picked up by make etc.
> 


Thanks! I did it, then run make and again `./sage -i jupyterlab_widgets`, but still get the same error...



---

archive/issue_comments_485697.json:
```json
{
    "body": "<a id='comment:38'></a>More precisely, the option `--enable-download-from-upstream-url` is taken into account but the download from upstream fails:\n\n```\n[jupyter_packaging-0.11.1] Attempting to download from https://pypi.io/packages/source/j/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz\n[jupyter_packaging-0.11.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]\n[jupyter_packaging-0.11.1] ERROR [transfer|run:135]: [Errno socket error] [Errno socket error] [Errno socket error] [Errno 404] Not Found: '//files.pythonhosted.org/packages/source/j/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz'\n```",
    "created_at": "2022-03-05T15:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485697",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:38'></a>More precisely, the option `--enable-download-from-upstream-url` is taken into account but the download from upstream fails:

```
[jupyter_packaging-0.11.1] Attempting to download from https://pypi.io/packages/source/j/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz
[jupyter_packaging-0.11.1] [xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx]
[jupyter_packaging-0.11.1] ERROR [transfer|run:135]: [Errno socket error] [Errno socket error] [Errno socket error] [Errno 404] Not Found: '//files.pythonhosted.org/packages/source/j/jupyter_packaging/jupyter-packaging-0.11.1.tar.gz'
```



---

archive/issue_comments_485698.json:
```json
{
    "body": "<a id='comment:39'></a>Thanks for testing! Looks like the tarball filename pattern has changed, I'll fix it",
    "created_at": "2022-03-05T18:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485698",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Thanks for testing! Looks like the tarball filename pattern has changed, I'll fix it



---

archive/issue_comments_485699.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-05T18:05:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485699",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485700.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+#30246 added jupyterlab 2.2.x as an optional package as part of Meta-ticket #30399.\n+\n+The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history \n+\n+Current as of Mar 2022 is 3.3.0. It still supports Python 3.7, as needed for Sage 9.6.\n+\n+It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/ \n+(See also https://github.com/jupyterlab/retrolab#relation-to-other-jupyter-frontends)\n+\n \n \n Comment: 1\n```\n",
    "created_at": "2022-03-05T18:35:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485700",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,12 @@
+#30246 added jupyterlab 2.2.x as an optional package as part of Meta-ticket #30399.
+
+The 3.0 series has been out since December 2020. https://pypi.org/project/jupyterlab/#history 
+
+Current as of Mar 2022 is 3.3.0. It still supports Python 3.7, as needed for Sage 9.6.
+
+It is now also possible to run the classic notebook on top of jupyterlab - https://pypi.org/project/nbclassic/ 
+(See also https://github.com/jupyterlab/retrolab#relation-to-other-jupyter-frontends)
+
 
 
 Comment: 1
```




---

archive/issue_comments_485701.json:
```json
{
    "body": "<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-05T18:59:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485701",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:42'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485702.json:
```json
{
    "body": "<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-05T19:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485702",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:43'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485703.json:
```json
{
    "body": "<a id='comment:45'></a>Added some more variants.",
    "created_at": "2022-03-05T19:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485703",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:45'></a>Added some more variants.



---

archive/issue_comments_485704.json:
```json
{
    "body": "<a id='comment:46'></a>Thanks for the update. There is no longer any issue with `jupyter_packaging`, but `./sage -i jupyterlab_widgets` fails now in the build of `ipyml`:\n\n```\n[ipympl-0.8.8] Attempting to download from https://pypi.io/packages/source/i/ipympl/ipympl-0.8.8.tar.gz\n[ipympl-0.8.8] [......................................................................]\n[ipympl-0.8.8] ipympl-0.8.8\n[ipympl-0.8.8] ====================================================\n[ipympl-0.8.8] Setting up build directory for ipympl-0.8.8\n[ipympl-0.8.8] Finished extraction\n[ipympl-0.8.8] No patch files found in ../patches\n[ipympl-0.8.8] ****************************************************\n[ipympl-0.8.8] Host system:\n[ipympl-0.8.8] Linux cartan 5.13.0-30-generic #33~20.04.1-Ubuntu SMP Mon Feb 7 14:25:10 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux\n[ipympl-0.8.8] ****************************************************\n[ipympl-0.8.8] C compiler: gcc\n[ipympl-0.8.8] C compiler version:\n[ipympl-0.8.8] Using built-in specs.\n[ipympl-0.8.8] COLLECT_GCC=gcc\n[ipympl-0.8.8] COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper\n[ipympl-0.8.8] OFFLOAD_TARGET_NAMES=nvptx-none:hsa\n[ipympl-0.8.8] OFFLOAD_TARGET_DEFAULT=1\n[ipympl-0.8.8] Target: x86_64-linux-gnu\n[ipympl-0.8.8] Configured with: ../src/configure -v --with-pkgversion='Ubuntu 9.3.0-17ubuntu1~20.04' --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-9-HskZEa/gcc-9-9.3.0/debian/tmp-nvptx/usr,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu\n[ipympl-0.8.8] Thread model: posix\n[ipympl-0.8.8] gcc version 9.3.0 (Ubuntu 9.3.0-17ubuntu1~20.04) \n[ipympl-0.8.8] ****************************************************\n[ipympl-0.8.8] Package 'ipympl' is currently not installed\n[ipympl-0.8.8] No legacy uninstaller found for 'ipympl'; nothing to do\n[ipympl-0.8.8] Installing ipympl-0.8.8\n[ipympl-0.8.8] Processing /home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/ipympl-0.8.8/src\n[ipympl-0.8.8]   Preparing metadata (pyproject.toml): started\n[ipympl-0.8.8]   Running command Preparing metadata (pyproject.toml)\n[ipympl-0.8.8]   Traceback (most recent call last):\n[ipympl-0.8.8]     File \"/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 363, in <module>\n[ipympl-0.8.8]       main()\n[ipympl-0.8.8]     File \"/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 345, in main\n[ipympl-0.8.8]       json_out['return_val'] = hook(**hook_input['kwargs'])\n[ipympl-0.8.8]     File \"/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 164, in prepare_metadata_for_build_wheel\n[ipympl-0.8.8]       return hook(metadata_directory, config_settings)\n[ipympl-0.8.8]     File \"/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/setuptools/build_meta.py\", line 174, in prepare_metadata_for_build_wheel\n[ipympl-0.8.8]       self.run_setup()\n[ipympl-0.8.8]     File \"/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/setuptools/build_meta.py\", line 158, in run_setup\n[ipympl-0.8.8]       exec(compile(code, __file__, 'exec'), locals())\n[ipympl-0.8.8]     File \"setup.py\", line 41, in <module>\n[ipympl-0.8.8]       cmdclass = create_cmdclass('jsdeps', data_files_spec=data_files_spec)\n[ipympl-0.8.8]   TypeError: 'NoneType' object is not callable\n[ipympl-0.8.8]   error: subprocess-exited-with-error\n```",
    "created_at": "2022-03-05T20:10:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485704",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:46'></a>Thanks for the update. There is no longer any issue with `jupyter_packaging`, but `./sage -i jupyterlab_widgets` fails now in the build of `ipyml`:

```
[ipympl-0.8.8] Attempting to download from https://pypi.io/packages/source/i/ipympl/ipympl-0.8.8.tar.gz
[ipympl-0.8.8] [......................................................................]
[ipympl-0.8.8] ipympl-0.8.8
[ipympl-0.8.8] ====================================================
[ipympl-0.8.8] Setting up build directory for ipympl-0.8.8
[ipympl-0.8.8] Finished extraction
[ipympl-0.8.8] No patch files found in ../patches
[ipympl-0.8.8] ****************************************************
[ipympl-0.8.8] Host system:
[ipympl-0.8.8] Linux cartan 5.13.0-30-generic #33~20.04.1-Ubuntu SMP Mon Feb 7 14:25:10 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
[ipympl-0.8.8] ****************************************************
[ipympl-0.8.8] C compiler: gcc
[ipympl-0.8.8] C compiler version:
[ipympl-0.8.8] Using built-in specs.
[ipympl-0.8.8] COLLECT_GCC=gcc
[ipympl-0.8.8] COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/9/lto-wrapper
[ipympl-0.8.8] OFFLOAD_TARGET_NAMES=nvptx-none:hsa
[ipympl-0.8.8] OFFLOAD_TARGET_DEFAULT=1
[ipympl-0.8.8] Target: x86_64-linux-gnu
[ipympl-0.8.8] Configured with: ../src/configure -v --with-pkgversion='Ubuntu 9.3.0-17ubuntu1~20.04' --with-bugurl=file:///usr/share/doc/gcc-9/README.Bugs --enable-languages=c,ada,c++,go,brig,d,fortran,objc,obj-c++,gm2 --prefix=/usr --with-gcc-major-version-only --program-suffix=-9 --program-prefix=x86_64-linux-gnu- --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --libdir=/usr/lib --enable-nls --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --with-default-libstdcxx-abi=new --enable-gnu-unique-object --disable-vtable-verify --enable-plugin --enable-default-pie --with-system-zlib --with-target-system-zlib=auto --enable-objc-gc=auto --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --enable-multilib --with-tune=generic --enable-offload-targets=nvptx-none=/build/gcc-9-HskZEa/gcc-9-9.3.0/debian/tmp-nvptx/usr,hsa --without-cuda-driver --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
[ipympl-0.8.8] Thread model: posix
[ipympl-0.8.8] gcc version 9.3.0 (Ubuntu 9.3.0-17ubuntu1~20.04) 
[ipympl-0.8.8] ****************************************************
[ipympl-0.8.8] Package 'ipympl' is currently not installed
[ipympl-0.8.8] No legacy uninstaller found for 'ipympl'; nothing to do
[ipympl-0.8.8] Installing ipympl-0.8.8
[ipympl-0.8.8] Processing /home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/var/tmp/sage/build/ipympl-0.8.8/src
[ipympl-0.8.8]   Preparing metadata (pyproject.toml): started
[ipympl-0.8.8]   Running command Preparing metadata (pyproject.toml)
[ipympl-0.8.8]   Traceback (most recent call last):
[ipympl-0.8.8]     File "/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py", line 363, in <module>
[ipympl-0.8.8]       main()
[ipympl-0.8.8]     File "/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py", line 345, in main
[ipympl-0.8.8]       json_out['return_val'] = hook(**hook_input['kwargs'])
[ipympl-0.8.8]     File "/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py", line 164, in prepare_metadata_for_build_wheel
[ipympl-0.8.8]       return hook(metadata_directory, config_settings)
[ipympl-0.8.8]     File "/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/setuptools/build_meta.py", line 174, in prepare_metadata_for_build_wheel
[ipympl-0.8.8]       self.run_setup()
[ipympl-0.8.8]     File "/home/eric/sage/9.6.develop/local/var/lib/sage/venv-python3.8/lib/python3.8/site-packages/setuptools/build_meta.py", line 158, in run_setup
[ipympl-0.8.8]       exec(compile(code, __file__, 'exec'), locals())
[ipympl-0.8.8]     File "setup.py", line 41, in <module>
[ipympl-0.8.8]       cmdclass = create_cmdclass('jsdeps', data_files_spec=data_files_spec)
[ipympl-0.8.8]   TypeError: 'NoneType' object is not callable
[ipympl-0.8.8]   error: subprocess-exited-with-error
```



---

archive/issue_comments_485705.json:
```json
{
    "body": "<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-05T21:57:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485705",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:47'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485706.json:
```json
{
    "body": "<a id='comment:48'></a>Thanks for testing! Here's a new version",
    "created_at": "2022-03-05T21:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485706",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:48'></a>Thanks for testing! Here's a new version



---

archive/issue_comments_485707.json:
```json
{
    "body": "<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-05T22:01:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485707",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:49'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_485708.json:
```json
{
    "body": "<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-05T22:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485708",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_485709.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-05T22:02:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485709",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_485710.json:
```json
{
    "body": "<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-05T22:03:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485710",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:52'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_485711.json:
```json
{
    "body": "<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-03-05T22:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485711",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:53'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_485712.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-05T22:05:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485712",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_485713.json:
```json
{
    "body": "<a id='comment:55'></a>Works like a charm now. Thank you!\nI've also tested the new notebook interfaces `nbclassic` and `retrolab`. Thanks for having added them!",
    "created_at": "2022-03-06T10:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485713",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:55'></a>Works like a charm now. Thank you!
I've also tested the new notebook interfaces `nbclassic` and `retrolab`. Thanks for having added them!



---

archive/issue_comments_485714.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-06T10:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485714",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_485715.json:
```json
{
    "body": "<a id='comment:56'></a>The issue of `%matplotlib widget` being inoperative within the scope of `%display latex` is tracked in #33469. This is not specific to jupyterlab: it also happens with jupyter.",
    "created_at": "2022-03-06T10:36:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485715",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:56'></a>The issue of `%matplotlib widget` being inoperative within the scope of `%display latex` is tracked in #33469. This is not specific to jupyterlab: it also happens with jupyter.



---

archive/issue_comments_485716.json:
```json
{
    "body": "Changing keywords from \"\" to \"jupyterlab\".",
    "created_at": "2022-03-06T10:50:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485716",
    "user": "https://github.com/egourgoulhon"
}
```

Changing keywords from "" to "jupyterlab".



---

archive/issue_comments_485717.json:
```json
{
    "body": "<a id='comment:58'></a>Thanks for testing!",
    "created_at": "2022-03-06T16:46:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485717",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>Thanks for testing!



---

archive/issue_comments_485718.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-09T23:38:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32069#issuecomment-485718",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084878.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-09T23:38:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32069",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32069#event-84878"
}
```
