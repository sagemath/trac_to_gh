# Issue 32136: Add parameter 'induced' to `connected_subgraphs_iterator`

archive/issues_031899.json:
```json
{
    "body": "This ticket adds:\n- a method that, given a connected (di)graph `G = (V, E)`, return an iterator over the connected subgraphs `H = (V, F)`, where `F` is a subset of `E`. \n- parameter `induced` to method connected_subgraphs_iterator`. When set to `True`, the method iterates over induced connected subgraphs (current behavior). When set to `False`, the method yields in addition the non-induced subgraphs.\n- parameter `edges_only` to yield list of edges instead of graphs or list of vertices.\n\nThis ticket was opened based on [#32047#comment:6](https://trac.sagemath.org/ticket/32047#comment:6) \n\nCC:  @dcoudert\n\nKeywords: connected graph, subgraph\n\nAuthor: David Coudert\n\nBranch: public/graphs/32136_subgraph_iterator\n\nCommit: e87054681e1aa4a2d72f5027ffdb031abb5b0535\n\nIssue created by migration from https://trac.sagemath.org/ticket/32136\n\n",
    "created_at": "2021-07-05T15:28:28Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Add parameter 'induced' to `connected_subgraphs_iterator`",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32136",
    "user": "https://github.com/galen-dorp"
}
```
This ticket adds:
- a method that, given a connected (di)graph `G = (V, E)`, return an iterator over the connected subgraphs `H = (V, F)`, where `F` is a subset of `E`. 
- parameter `induced` to method connected_subgraphs_iterator`. When set to `True`, the method iterates over induced connected subgraphs (current behavior). When set to `False`, the method yields in addition the non-induced subgraphs.
- parameter `edges_only` to yield list of edges instead of graphs or list of vertices.

This ticket was opened based on [#32047#comment:6](https://trac.sagemath.org/ticket/32047#comment:6) 

CC:  @dcoudert

Keywords: connected graph, subgraph

Author: David Coudert

Branch: public/graphs/32136_subgraph_iterator

Commit: e87054681e1aa4a2d72f5027ffdb031abb5b0535

Issue created by migration from https://trac.sagemath.org/ticket/32136





---

archive/issue_events_085069.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85069"
}
```



---

archive/issue_events_085070.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85070"
}
```



---

archive/issue_events_085071.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85071"
}
```



---

archive/issue_events_085072.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85072"
}
```



---

archive/issue_events_085073.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85073"
}
```



---

archive/issue_events_085074.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85074"
}
```



---

archive/issue_events_085075.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T16:33:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32136#event-85075"
}
```



---

archive/issue_comments_455263.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-10-15T18:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455263",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_455264.json:
```json
{
    "body": "<a id='comment:5'></a>This is a proposal for iterating over all non-induced subgraphs of a graph. I'm not sure that the name of the method is the best choice, but I don't have better proposals.\n\n---\nNew commits:",
    "created_at": "2022-10-15T18:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455264",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>This is a proposal for iterating over all non-induced subgraphs of a graph. I'm not sure that the name of the method is the best choice, but I don't have better proposals.

---
New commits:



---

archive/issue_comments_455265.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-16T13:05:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455266.json:
```json
{
    "body": "<a id='comment:7'></a>green bot, please review.",
    "created_at": "2022-10-16T13:14:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455266",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>green bot, please review.



---

archive/issue_comments_455267.json:
```json
{
    "body": "<a id='comment:8'></a>How complicated would it be to have parameters `min_num_edges`/`max_num_edges` in `connected_full_subgraphs`? I am asking because of https://gitlab.com/modulispaces/admcycles/-/issues/102.",
    "created_at": "2022-10-26T19:46:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455267",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'></a>How complicated would it be to have parameters `min_num_edges`/`max_num_edges` in `connected_full_subgraphs`? I am asking because of https://gitlab.com/modulispaces/admcycles/-/issues/102.



---

archive/issue_comments_455268.json:
```json
{
    "body": "<a id='comment:9'></a>This is not difficult. I just need to figure out how to use some bitset intrisic to count the number of 1s in an unsigned long.",
    "created_at": "2022-10-27T14:20:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455268",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>This is not difficult. I just need to figure out how to use some bitset intrisic to count the number of 1s in an unsigned long.



---

archive/issue_comments_455269.json:
```json
{
    "body": "<a id='comment:10'></a>Isn't it `static inline long _bitset_len(mp_limb_t* bits, mp_bitcnt_t limbs)` from `bitset_intrinsics.h`?",
    "created_at": "2022-10-27T14:30:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455269",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'></a>Isn't it `static inline long _bitset_len(mp_limb_t* bits, mp_bitcnt_t limbs)` from `bitset_intrinsics.h`?



---

archive/issue_comments_455270.json:
```json
{
    "body": "<a id='comment:11'></a>Yes. For some (unkown) reason, I crashed my sage installation while trying to fix the problem. I'm currently recompiling from scratch. I'll try again soon.",
    "created_at": "2022-10-27T16:15:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455270",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>Yes. For some (unkown) reason, I crashed my sage installation while trying to fix the problem. I'm currently recompiling from scratch. I'll try again soon.



---

archive/issue_comments_455271.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-28T10:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_455272.json:
```json
{
    "body": "<a id='comment:13'></a>This should answer #comment:8. I also fixed the output for digraphs.",
    "created_at": "2022-10-28T10:43:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455272",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:13'></a>This should answer #comment:8. I also fixed the output for digraphs.



---

archive/issue_comments_455273.json:
```json
{
    "body": "<a id='comment:14'></a>Thanks! Let me check this afternoon how it performs in admcycles. Also, I don't remember if I want a fixed number of edges or rather a fixed weight (as each edge carries a positive integral weight there).",
    "created_at": "2022-10-28T10:53:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455273",
    "user": "https://github.com/videlec"
}
```

<a id='comment:14'></a>Thanks! Let me check this afternoon how it performs in admcycles. Also, I don't remember if I want a fixed number of edges or rather a fixed weight (as each edge carries a positive integral weight there).



---

archive/issue_comments_455274.json:
```json
{
    "body": "<a id='comment:15'></a>It is possible to also consider weights, but not efficiently. This can be considered in another ticket.",
    "created_at": "2022-10-28T11:02:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455274",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:15'></a>It is possible to also consider weights, but not efficiently. This can be considered in another ticket.



---

archive/issue_comments_455275.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:15 David Coudert]:\n> It is possible to also consider weights, but not efficiently. This can be considered in another ticket.\n\n\n+1",
    "created_at": "2022-10-28T11:47:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455275",
    "user": "https://github.com/videlec"
}
```

<a id='comment:16'></a>Replying to [comment:15 David Coudert]:
> It is possible to also consider weights, but not efficiently. This can be considered in another ticket.


+1



---

archive/issue_comments_455276.json:
```json
{
    "body": "<a id='comment:17'></a>The random doctest errors reported by the patchbot in `src/sage/homology/tests.py` have been reported in #32544",
    "created_at": "2022-11-19T13:06:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455276",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:17'></a>The random doctest errors reported by the patchbot in `src/sage/homology/tests.py` have been reported in #32544



---

archive/issue_comments_455277.json:
```json
{
    "body": "<a id='comment:18'></a>Replying to [comment:16 Vincent Delecroix]:\n> Replying to [comment:15 David Coudert]:\n> > It is possible to also consider weights, but not efficiently. This can be considered in another ticket.\n\n> \n> +1\n\n\nIn my application I have a simple graph `G` with positive integer weights on its edges and an integer `k`. I need to iterate through subset of edges \n- whose corresponding subgraph is connected\n- of size at most `k` (the argument `min_edges` works for this)\n- of total weight at least `k` (there is no such thing yet)\n\nThis ticket is still a good step forward. Thanks.",
    "created_at": "2022-11-20T15:04:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455277",
    "user": "https://github.com/videlec"
}
```

<a id='comment:18'></a>Replying to [comment:16 Vincent Delecroix]:
> Replying to [comment:15 David Coudert]:
> > It is possible to also consider weights, but not efficiently. This can be considered in another ticket.

> 
> +1


In my application I have a simple graph `G` with positive integer weights on its edges and an integer `k`. I need to iterate through subset of edges 
- whose corresponding subgraph is connected
- of size at most `k` (the argument `min_edges` works for this)
- of total weight at least `k` (there is no such thing yet)

This ticket is still a good step forward. Thanks.



---

archive/issue_comments_455278.json:
```json
{
    "body": "<a id='comment:19'></a>If you are happy with this ticket, can we set it to positive review ? the patchbot is green",
    "created_at": "2022-12-10T13:17:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32136",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32136#issuecomment-455278",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:19'></a>If you are happy with this ticket, can we set it to positive review ? the patchbot is green
