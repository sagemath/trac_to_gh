# Issue 32637: Add sage.geometry.abc; remove uses of is_Polyhedron, is_LatticePolytope, is_Cone outside of sage.geometry

archive/issues_032400.json:
```json
{
    "assignees": [],
    "body": "\n```\n$ git grep 'def is_[A-Z]' src/sage/geometry/\nsrc/sage/geometry/cone.py:def is_Cone(x):\nsrc/sage/geometry/fan.py:def is_Fan(x):\nsrc/sage/geometry/lattice_polytope.py:def is_LatticePolytope(x):\nsrc/sage/geometry/lattice_polytope.py:def is_NefPartition(x):\nsrc/sage/geometry/point_collection.pyx:def is_PointCollection(x):\nsrc/sage/geometry/polyhedron/base.py:def is_Polyhedron(X):\nsrc/sage/geometry/toric_lattice.py:def is_ToricLattice(x):\nsrc/sage/geometry/toric_lattice.py:def is_ToricLatticeQuotient(x):\nsrc/sage/geometry/toric_lattice_element.pyx:def is_ToricLatticeElement(x):\n```\n\nIn this ticket, we add ABCs `LatticePolytope`, `ConvexRationalPolyhedralCone`, `Polyhedron`.\n\n\nA small number of uses outside of `sage.geometry` will need updating. `$ git grep 'geometry.*import.*is_[A-Z]' src/sage/`\n\n(Part of meta-ticket #32414)\n\n\nDepends on #32614\nDepends on #32649\n\nCC:  @kliem @orlitzky @egourgoulhon\n\nBranch/Commit: **[`44540f5`](https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb)**\n\nReviewer: **Michael Orlitzky**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **refactoring**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32637_\n\n",
    "closed_at": "2021-10-20T23:00:52Z",
    "created_at": "2021-10-05T17:52:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add sage.geometry.abc; remove uses of is_Polyhedron, is_LatticePolytope, is_Cone outside of sage.geometry",
    "type": "issue",
    "updated_at": "2021-10-20T23:00:52Z",
    "url": "https://github.com/sagemath/sage/issues/32637",
    "user": "https://github.com/mkoeppe"
}
```

```
$ git grep 'def is_[A-Z]' src/sage/geometry/
src/sage/geometry/cone.py:def is_Cone(x):
src/sage/geometry/fan.py:def is_Fan(x):
src/sage/geometry/lattice_polytope.py:def is_LatticePolytope(x):
src/sage/geometry/lattice_polytope.py:def is_NefPartition(x):
src/sage/geometry/point_collection.pyx:def is_PointCollection(x):
src/sage/geometry/polyhedron/base.py:def is_Polyhedron(X):
src/sage/geometry/toric_lattice.py:def is_ToricLattice(x):
src/sage/geometry/toric_lattice.py:def is_ToricLatticeQuotient(x):
src/sage/geometry/toric_lattice_element.pyx:def is_ToricLatticeElement(x):
```

In this ticket, we add ABCs `LatticePolytope`, `ConvexRationalPolyhedralCone`, `Polyhedron`.


A small number of uses outside of `sage.geometry` will need updating. `$ git grep 'geometry.*import.*is_[A-Z]' src/sage/`

(Part of meta-ticket #32414)


Depends on #32614
Depends on #32649

CC:  @kliem @orlitzky @egourgoulhon

Branch/Commit: **[`44540f5`](https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb)**

Reviewer: **Michael Orlitzky**

Author: **Matthias Koeppe**

Component: **refactoring**

_Issue created by migration from https://trac.sagemath.org/ticket/32637_





---

archive/issue_events_451811.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-05T17:52:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451811"
}
```



---

archive/issue_events_451812.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-05T17:52:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451812"
}
```



---

archive/issue_events_451813.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-05T17:52:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451813"
}
```



---

archive/issue_events_451814.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-05T17:52:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451814"
}
```



---

archive/issue_events_451815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-17T21:12:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "title_is": "Add sage.geometry.abc; remove uses of is_Polyhedron, is_LatticePolytope, is_Cone outside of sage.geometry",
    "title_was": "Add sage.geometry.abc; deprecate is_Polyhedron, is_LatticePolytope, is_Cone, ...",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451815"
}
```



---

archive/issue_comments_526233.json:
```json
{
    "body": "Branch: **[u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____)**",
    "created_at": "2021-10-17T21:16:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526233",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____)**



---

archive/issue_comments_526234.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-10-17T21:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526234",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_events_451816.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-17T21:17:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451816"
}
```



---

archive/issue_comments_526235.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/502546b177c9a1bb11752e08f713c93ac6de69bb\"><code>502546b</code></a></td><td><code>src/sage/geometry/abc.pyx: New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79a8ba4787ddab5a7318499aeba1888ed48959c4\"><code>79a8ba4</code></a></td><td><code>sage.schemes.toric: Remove use of is_Cone</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e32262a21842d4b1f979ce84801516f00a5025d\"><code>6e32262</code></a></td><td><code>src/sage/matrix/matrix2.pyx: Remove use of is_Cone</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19aee74596989e1f51fd857b0e0471beecedd7b3\"><code>19aee74</code></a></td><td><code>src/sage/groups/affine_gps/group_element.py: Remove use of is_Polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87ad226d6babe026e330894f1eba99aadefbafd3\"><code>87ad226</code></a></td><td><code>src/sage/manifolds/subsets/pullback.py: Remove use of is_Polyhedron</code></td></tr></table>\n",
    "created_at": "2021-10-17T21:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526235",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/502546b177c9a1bb11752e08f713c93ac6de69bb"><code>502546b</code></a></td><td><code>src/sage/geometry/abc.pyx: New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79a8ba4787ddab5a7318499aeba1888ed48959c4"><code>79a8ba4</code></a></td><td><code>sage.schemes.toric: Remove use of is_Cone</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e32262a21842d4b1f979ce84801516f00a5025d"><code>6e32262</code></a></td><td><code>src/sage/matrix/matrix2.pyx: Remove use of is_Cone</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19aee74596989e1f51fd857b0e0471beecedd7b3"><code>19aee74</code></a></td><td><code>src/sage/groups/affine_gps/group_element.py: Remove use of is_Polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87ad226d6babe026e330894f1eba99aadefbafd3"><code>87ad226</code></a></td><td><code>src/sage/manifolds/subsets/pullback.py: Remove use of is_Polyhedron</code></td></tr></table>




---

archive/issue_comments_526236.json:
```json
{
    "body": "Commit: **[`87ad226`](https://github.com/sagemath/sagetrac-mirror/commit/87ad226d6babe026e330894f1eba99aadefbafd3)**",
    "created_at": "2021-10-17T21:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526236",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`87ad226`](https://github.com/sagemath/sagetrac-mirror/commit/87ad226d6babe026e330894f1eba99aadefbafd3)**



---

archive/issue_comments_526237.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,6 +12,9 @@\n src/sage/geometry/toric_lattice_element.pyx:def is_ToricLatticeElement(x):\n ```\n \n+In this ticket, we add ABCs `LatticePolytope`, `ConvexRationalPolyhedralCone`, `Polyhedron`.\n+\n+\n A small number of uses outside of `sage.geometry` will need updating. `$ git grep 'geometry.*import.*is_[A-Z]' src/sage/`\n \n (Part of meta-ticket #32414)\n``````\n",
    "created_at": "2021-10-17T21:23:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526237",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,6 +12,9 @@
 src/sage/geometry/toric_lattice_element.pyx:def is_ToricLatticeElement(x):
 ```
 
+In this ticket, we add ABCs `LatticePolytope`, `ConvexRationalPolyhedralCone`, `Polyhedron`.
+
+
 A small number of uses outside of `sage.geometry` will need updating. `$ git grep 'geometry.*import.*is_[A-Z]' src/sage/`
 
 (Part of meta-ticket #32414)
``````




---

archive/issue_comments_526238.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI worry that we're changing `is_Foo()` to mean \"does this object provide the interface defined by `abc.Foo`?\" But then `abc.Foo` doesn't declare any methods, properties, or data.\n\nOn the other hand, you don't want to put the implementation into the base class, because the whole point is to avoid importing the implementations to perform a typecheck. Nor does it make much sense to blindly add a million `@abstractmethod def foo(...): pass` lines to each ABC. I guess in lieu of an alternative, it has to be OK.\n\nI wonder if something ridiculous like this wouldn't also work as an interim hack:\n\n```\nsage: def is_Polyhedron(C):\n....:     return \"Polyhedron_base\" in [c.__name__ for c in C.__class__.__mro__]\n```\n\nYou can also check the (string) module name with `c.__module__` to avoid name clashes. But chances are, it's slower at runtime.",
    "created_at": "2021-10-18T00:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526238",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:5" align="right">comment:5</div>

I worry that we're changing `is_Foo()` to mean "does this object provide the interface defined by `abc.Foo`?" But then `abc.Foo` doesn't declare any methods, properties, or data.

On the other hand, you don't want to put the implementation into the base class, because the whole point is to avoid importing the implementations to perform a typecheck. Nor does it make much sense to blindly add a million `@abstractmethod def foo(...): pass` lines to each ABC. I guess in lieu of an alternative, it has to be OK.

I wonder if something ridiculous like this wouldn't also work as an interim hack:

```
sage: def is_Polyhedron(C):
....:     return "Polyhedron_base" in [c.__name__ for c in C.__class__.__mro__]
```

You can also check the (string) module name with `c.__module__` to avoid name clashes. But chances are, it's slower at runtime.



---

archive/issue_comments_526239.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@orlitzky](#comment:5):\n> I worry that we're changing `is_Foo()` to mean \"does this object provide the interface defined by `abc.Foo`?\" But then `abc.Foo` doesn't declare any methods, properties, or data.\n\nAs explained in #32414, \"each of the new abstract base classes is intended to have a unique direct implementation subclass. Attempting to define new hierarchies of abstract base classes is beyond the scope of this ticket. Also, the new classes do not define any methods.\".",
    "created_at": "2021-10-18T00:37:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526239",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@orlitzky](#comment:5):
> I worry that we're changing `is_Foo()` to mean "does this object provide the interface defined by `abc.Foo`?" But then `abc.Foo` doesn't declare any methods, properties, or data.

As explained in #32414, "each of the new abstract base classes is intended to have a unique direct implementation subclass. Attempting to define new hierarchies of abstract base classes is beyond the scope of this ticket. Also, the new classes do not define any methods.".



---

archive/issue_comments_526240.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@orlitzky](#comment:5):\n> I wonder if something ridiculous like this wouldn't also work as an interim hack:\n> \n> ```\n> sage: def is_Polyhedron(C):\n> ....:     return \"Polyhedron_base\" in [c.__name__ for c in C.__class__.__mro__]\n> ```\n\nYeah, I'm not interested in a solution that looks like this",
    "created_at": "2021-10-18T00:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526240",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@orlitzky](#comment:5):
> I wonder if something ridiculous like this wouldn't also work as an interim hack:
> 
> ```
> sage: def is_Polyhedron(C):
> ....:     return "Polyhedron_base" in [c.__name__ for c in C.__class__.__mro__]
> ```

Yeah, I'm not interested in a solution that looks like this



---

archive/issue_comments_526241.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@mkoeppe](#comment:6):\n> \n> As explained in #32414, \"each of the new abstract base classes is intended to have a unique direct implementation subclass. Attempting to define new hierarchies of abstract base classes is beyond the scope of this ticket. Also, the new classes do not define any methods.\".\n\nI saw that, but unless you plan to live forever and spend most of it monitoring trac, there's no technical means to enforce that restriction.",
    "created_at": "2021-10-18T00:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526241",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@mkoeppe](#comment:6):
> 
> As explained in #32414, "each of the new abstract base classes is intended to have a unique direct implementation subclass. Attempting to define new hierarchies of abstract base classes is beyond the scope of this ticket. Also, the new classes do not define any methods.".

I saw that, but unless you plan to live forever and spend most of it monitoring trac, there's no technical means to enforce that restriction.



---

archive/issue_comments_526242.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSounds like someone wants to write a decorator for these types of classes",
    "created_at": "2021-10-18T00:50:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526242",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Sounds like someone wants to write a decorator for these types of classes



---

archive/issue_comments_526243.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b9839a860bc2c3c3e56077f129f560a5cfdd89b\"><code>8b9839a</code></a></td><td><code>src/sage/manifolds/subsets/pullback.py: Remove more uses of is_Polyhedron</code></td></tr></table>\n",
    "created_at": "2021-10-18T00:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526243",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b9839a860bc2c3c3e56077f129f560a5cfdd89b"><code>8b9839a</code></a></td><td><code>src/sage/manifolds/subsets/pullback.py: Remove more uses of is_Polyhedron</code></td></tr></table>




---

archive/issue_comments_526244.json:
```json
{
    "body": "Changed commit from **[`87ad226`](https://github.com/sagemath/sagetrac-mirror/commit/87ad226d6babe026e330894f1eba99aadefbafd3)** to **[`8b9839a`](https://github.com/sagemath/sagetrac-mirror/commit/8b9839a860bc2c3c3e56077f129f560a5cfdd89b)**",
    "created_at": "2021-10-18T00:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526244",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`87ad226`](https://github.com/sagemath/sagetrac-mirror/commit/87ad226d6babe026e330894f1eba99aadefbafd3)** to **[`8b9839a`](https://github.com/sagemath/sagetrac-mirror/commit/8b9839a860bc2c3c3e56077f129f560a5cfdd89b)**



---

archive/issue_comments_526245.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@mkoeppe](#comment:9):\n> Sounds like someone wants to write a decorator for these types of classes\n\nI don't know how to do it with a decorator, but I think a metaclass can ensure that a given class is only subclassed once. As an added bonus, the metaclass can explain why these exist and how they should be used (i.e. that they aren't really abstract base classes).\n\nThis example fails (as intended) the second time we subclass:\n\n```python\nclass TypeCheckWrapper(type):\n    _subclasses = 0\n\n    def __init__(cls, name, bases, clsdict):\n        if len(cls.mro()) > 2:\n            TypeCheckWrapper._subclasses += 1\n            if TypeCheckWrapper._subclasses > 1:\n                raise TypeError(\"TypeCheckWrapper with multiple subclasses\")\n        super(TypeCheckWrapper, cls).__init__(name, bases, clsdict)\n\nclass Polyhedron(metaclass=TypeCheckWrapper):\n    pass\n\nprint(\"Defined base class Polyhedron\")\n\nclass Cone(Polyhedron):\n    pass\n\nprint(\"Defined class Cone(Polyhedron)\")\n\nclass Polytope(Polyhedron):\n    pass\n\nprint(\"Defined class Polytope(Polyhedron)\")\n```",
    "created_at": "2021-10-18T01:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526245",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@mkoeppe](#comment:9):
> Sounds like someone wants to write a decorator for these types of classes

I don't know how to do it with a decorator, but I think a metaclass can ensure that a given class is only subclassed once. As an added bonus, the metaclass can explain why these exist and how they should be used (i.e. that they aren't really abstract base classes).

This example fails (as intended) the second time we subclass:

```python
class TypeCheckWrapper(type):
    _subclasses = 0

    def __init__(cls, name, bases, clsdict):
        if len(cls.mro()) > 2:
            TypeCheckWrapper._subclasses += 1
            if TypeCheckWrapper._subclasses > 1:
                raise TypeError("TypeCheckWrapper with multiple subclasses")
        super(TypeCheckWrapper, cls).__init__(name, bases, clsdict)

class Polyhedron(metaclass=TypeCheckWrapper):
    pass

print("Defined base class Polyhedron")

class Cone(Polyhedron):
    pass

print("Defined class Cone(Polyhedron)")

class Polytope(Polyhedron):
    pass

print("Defined class Polytope(Polyhedron)")
```



---

archive/issue_comments_526246.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI think this discussion should go to a separate ticket. Note also that some of the ABCs added in other tickets of #32414 are actually extension classes, and using a metaclass there is probably tricky.",
    "created_at": "2021-10-18T01:38:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526246",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:12" align="right">comment:12</div>

I think this discussion should go to a separate ticket. Note also that some of the ABCs added in other tickets of #32414 are actually extension classes, and using a metaclass there is probably tricky.



---

archive/issue_comments_526247.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nA simple solution could be to just add a doctest for the MRO length. We enforce pretty much everything else with doctests as well.",
    "created_at": "2021-10-18T02:04:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526247",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">comment:13</div>

A simple solution could be to just add a doctest for the MRO length. We enforce pretty much everything else with doctests as well.



---

archive/issue_comments_526248.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n\n```\n    TESTS::\n\n        sage: import sage.geometry.abc\n        sage: len(sage.geometry.abc.Polyhedron.__subclasses__()) <= 1\n        True\n```",
    "created_at": "2021-10-18T02:32:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526248",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>


```
    TESTS::

        sage: import sage.geometry.abc
        sage: len(sage.geometry.abc.Polyhedron.__subclasses__()) <= 1
        True
```



---

archive/issue_comments_526249.json:
```json
{
    "body": "Dependencies: **#32614**",
    "created_at": "2021-10-18T02:41:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526249",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32614**



---

archive/issue_comments_526250.json:
```json
{
    "body": "Changed commit from **[`8b9839a`](https://github.com/sagemath/sagetrac-mirror/commit/8b9839a860bc2c3c3e56077f129f560a5cfdd89b)** to **[`ceff8dc`](https://github.com/sagemath/sagetrac-mirror/commit/ceff8dcbdcc36d3b5232f48b650abe3538adc5e2)**",
    "created_at": "2021-10-18T02:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526250",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8b9839a`](https://github.com/sagemath/sagetrac-mirror/commit/8b9839a860bc2c3c3e56077f129f560a5cfdd89b)** to **[`ceff8dc`](https://github.com/sagemath/sagetrac-mirror/commit/ceff8dcbdcc36d3b5232f48b650abe3538adc5e2)**



---

archive/issue_comments_526251.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14fd1e54a13b1df7f81858019b31fb92cdf36007\"><code>14fd1e5</code></a></td><td><code>src/doc/en/developer/coding_basics.rst: Update discussion of feature tags</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27c53ac6450f789246b1df895bc26950a0cceb65\"><code>27c53ac</code></a></td><td><code>src/sage/features/sagemath.py: Add 'sage.plot'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/180e31d5d512e18a5cb50cf03c4bdc757f353dc1\"><code>180e31d</code></a></td><td><code>Merge #30887</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10e8d6395e1c829b6a28750d3035de95862230b8\"><code>10e8d63</code></a></td><td><code>sage.features.sagemath: Use JoinFeature when tag is different from the actually tested module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/654d09ca4c22f4888d8e511789e57a7627043492\"><code>654d09c</code></a></td><td><code>sage.features.sagemath: Change sage_optional_tags to sage_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f63a7d0171ba5f753d1755e0aff3fd00e373590c\"><code>f63a7d0</code></a></td><td><code>src/sage/features/: Move features depending on optional packages to separate files</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4558791ccdef49ec5045072fabf2c8d9358f066f\"><code>4558791</code></a></td><td><code>Merge tag '9.5.beta3' into t/32614/features_and_optional_tags_for_sage_subset_distributions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f68e5112bf4136708d47cef3547b694f9b88f69a\"><code>f68e511</code></a></td><td><code>Merge #32614</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18aa26ff345f8eeb78d63256599839dae0ba50a4\"><code>18aa26f</code></a></td><td><code>src/sage/features/sagemath.py: Add sage.geometry.polyhedron</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ceff8dcbdcc36d3b5232f48b650abe3538adc5e2\"><code>ceff8dc</code></a></td><td><code>src/sage/geometry/abc.pyx: Add doctests</code></td></tr></table>\n",
    "created_at": "2021-10-18T02:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526251",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14fd1e54a13b1df7f81858019b31fb92cdf36007"><code>14fd1e5</code></a></td><td><code>src/doc/en/developer/coding_basics.rst: Update discussion of feature tags</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27c53ac6450f789246b1df895bc26950a0cceb65"><code>27c53ac</code></a></td><td><code>src/sage/features/sagemath.py: Add 'sage.plot'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/180e31d5d512e18a5cb50cf03c4bdc757f353dc1"><code>180e31d</code></a></td><td><code>Merge #30887</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10e8d6395e1c829b6a28750d3035de95862230b8"><code>10e8d63</code></a></td><td><code>sage.features.sagemath: Use JoinFeature when tag is different from the actually tested module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/654d09ca4c22f4888d8e511789e57a7627043492"><code>654d09c</code></a></td><td><code>sage.features.sagemath: Change sage_optional_tags to sage_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f63a7d0171ba5f753d1755e0aff3fd00e373590c"><code>f63a7d0</code></a></td><td><code>src/sage/features/: Move features depending on optional packages to separate files</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4558791ccdef49ec5045072fabf2c8d9358f066f"><code>4558791</code></a></td><td><code>Merge tag '9.5.beta3' into t/32614/features_and_optional_tags_for_sage_subset_distributions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f68e5112bf4136708d47cef3547b694f9b88f69a"><code>f68e511</code></a></td><td><code>Merge #32614</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18aa26ff345f8eeb78d63256599839dae0ba50a4"><code>18aa26f</code></a></td><td><code>src/sage/features/sagemath.py: Add sage.geometry.polyhedron</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ceff8dcbdcc36d3b5232f48b650abe3538adc5e2"><code>ceff8dc</code></a></td><td><code>src/sage/geometry/abc.pyx: Add doctests</code></td></tr></table>




---

archive/issue_comments_526252.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHow's this?",
    "created_at": "2021-10-18T02:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526252",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

How's this?



---

archive/issue_comments_526253.json:
```json
{
    "body": "Changed commit from **[`ceff8dc`](https://github.com/sagemath/sagetrac-mirror/commit/ceff8dcbdcc36d3b5232f48b650abe3538adc5e2)** to **[`9471570`](https://github.com/sagemath/sagetrac-mirror/commit/94715701941f5eff63ff6eec4b7f1e36003efd6c)**",
    "created_at": "2021-10-18T03:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526253",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ceff8dc`](https://github.com/sagemath/sagetrac-mirror/commit/ceff8dcbdcc36d3b5232f48b650abe3538adc5e2)** to **[`9471570`](https://github.com/sagemath/sagetrac-mirror/commit/94715701941f5eff63ff6eec4b7f1e36003efd6c)**



---

archive/issue_comments_526254.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94715701941f5eff63ff6eec4b7f1e36003efd6c\"><code>9471570</code></a></td><td><code>src/sage/geometry/abc.pyx: Add doctests</code></td></tr></table>\n",
    "created_at": "2021-10-18T03:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526254",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94715701941f5eff63ff6eec4b7f1e36003efd6c"><code>9471570</code></a></td><td><code>src/sage/geometry/abc.pyx: Add doctests</code></td></tr></table>




---

archive/issue_comments_526255.json:
```json
{
    "body": "Changed dependencies from **#32614** to **#32614, #32649**",
    "created_at": "2021-10-18T03:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526255",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32614** to **#32614, #32649**



---

archive/issue_comments_526256.json:
```json
{
    "body": "Changed commit from **[`9471570`](https://github.com/sagemath/sagetrac-mirror/commit/94715701941f5eff63ff6eec4b7f1e36003efd6c)** to **[`44540f5`](https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb)**",
    "created_at": "2021-10-18T03:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526256",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9471570`](https://github.com/sagemath/sagetrac-mirror/commit/94715701941f5eff63ff6eec4b7f1e36003efd6c)** to **[`44540f5`](https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb)**



---

archive/issue_comments_526257.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/935850282818a526ad8c1e8f07bcf2f9f08efed1\"><code>9358502</code></a></td><td><code>Merge #32614</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6457ee93e17d32327bb03394e4da3993165f3043\"><code>6457ee9</code></a></td><td><code>src/sage/features/mip_backends.py: Fixup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eeaa722ec5cc8c6456bbe0e48359c903144da5bc\"><code>eeaa722</code></a></td><td><code>Merge #32614</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c872d69fe936caa1b002585d8a769a4120823f45\"><code>c872d69</code></a></td><td><code>Add description to features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08248a17ab2eea2b2ca843b06ee83947deda88e3\"><code>08248a1</code></a></td><td><code>Fix for doctest failures</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/759c88b08ed38cea181f6cf568cab5054f536bdb\"><code>759c88b</code></a></td><td><code>sage.doctest, sage.control: Remove unused imports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15729dcf018e6059c1ff127438b076aa35fe872c\"><code>15729dc</code></a></td><td><code>src/sage/features/mcqd.py: Add doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d02bd06da66b6e8b5f5b28121dcc8d0cf4b209c\"><code>1d02bd0</code></a></td><td><code>More doctests for coverage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58572e1cb08aae18015a06851b20bcee4b409754\"><code>58572e1</code></a></td><td><code>Merge #32649</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb\"><code>44540f5</code></a></td><td><code>src/sage/features/sagemath.py: Add doctests</code></td></tr></table>\n",
    "created_at": "2021-10-18T03:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526257",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/935850282818a526ad8c1e8f07bcf2f9f08efed1"><code>9358502</code></a></td><td><code>Merge #32614</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6457ee93e17d32327bb03394e4da3993165f3043"><code>6457ee9</code></a></td><td><code>src/sage/features/mip_backends.py: Fixup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eeaa722ec5cc8c6456bbe0e48359c903144da5bc"><code>eeaa722</code></a></td><td><code>Merge #32614</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c872d69fe936caa1b002585d8a769a4120823f45"><code>c872d69</code></a></td><td><code>Add description to features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08248a17ab2eea2b2ca843b06ee83947deda88e3"><code>08248a1</code></a></td><td><code>Fix for doctest failures</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/759c88b08ed38cea181f6cf568cab5054f536bdb"><code>759c88b</code></a></td><td><code>sage.doctest, sage.control: Remove unused imports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15729dcf018e6059c1ff127438b076aa35fe872c"><code>15729dc</code></a></td><td><code>src/sage/features/mcqd.py: Add doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d02bd06da66b6e8b5f5b28121dcc8d0cf4b209c"><code>1d02bd0</code></a></td><td><code>More doctests for coverage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58572e1cb08aae18015a06851b20bcee4b409754"><code>58572e1</code></a></td><td><code>Merge #32649</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb"><code>44540f5</code></a></td><td><code>src/sage/features/sagemath.py: Add doctests</code></td></tr></table>




---

archive/issue_events_451817.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-10-19T02:09:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451817"
}
```



---

archive/issue_events_451818.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-10-19T02:09:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451818"
}
```



---

archive/issue_comments_526258.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nWe actually have a module (`sage.cpython.cython_metaclass`)  that hacks metaclasses into cython using undocumented internals. What could possibly go wrong?\n\nUsing doctests is good enough.",
    "created_at": "2021-10-19T02:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526258",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:21" align="right">comment:21</div>

We actually have a module (`sage.cpython.cython_metaclass`)  that hacks metaclasses into cython using undocumented internals. What could possibly go wrong?

Using doctests is good enough.



---

archive/issue_comments_526259.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2021-10-19T02:09:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526259",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_comments_526260.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks!",
    "created_at": "2021-10-19T02:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526260",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks!



---

archive/issue_comments_526261.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____)** to **[`44540f5`](https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb)**",
    "created_at": "2021-10-20T23:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32637#issuecomment-526261",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/add_sage_geometry_abc__deprecate_is_polyhedron__is_latticepolytope__is_cone_____)** to **[`44540f5`](https://github.com/sagemath/sagetrac-mirror/commit/44540f589820374bcc50227accc4a8756036d3fb)**



---

archive/issue_events_451819.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-20T23:00:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451819"
}
```



---

archive/issue_events_451820.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e75948b94ee0973d96213aed6fdb5bdb03033312",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-20T23:00:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32637",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32637#event-451820"
}
```
