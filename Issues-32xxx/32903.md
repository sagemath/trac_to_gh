# Issue 32903: Improve getting rows and columns in dense integer matrices

archive/issues_032666.json:
```json
{
    "body": "Before:\n\n```\nsage: M = random_matrix(ZZ, 10)\nsage: %timeit M.row(3)\n2.48 \u00b5s \u00b1 6.84 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\nsage: %timeit M.column(3)\n2.49 \u00b5s \u00b1 6.26 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\nsage: M = random_matrix(ZZ, 100)\nsage: %timeit M.row(3)\n13.8 \u00b5s \u00b1 17.6 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\nsage: %timeit M.column(3)\n13.9 \u00b5s \u00b1 15.9 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n```\n\nAfter:\n\n```\nsage: M = random_matrix(ZZ, 10)\nsage: %timeit M.row(3)\n975 ns \u00b1 2.51 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\nsage: %timeit M.column(3)\n956 ns \u00b1 1.28 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\nsage: M = random_matrix(ZZ, 100)\nsage: %timeit M.row(3)\n7.36 \u00b5s \u00b1 7.26 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\nsage: %timeit M.column(3)\n7.37 \u00b5s \u00b1 8.25 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n```\n\nBranch/Commit: 52fcf0c5328363266c75ff0fe4b604dc30059d50\n\nReviewer: Michael Orlitzky\n\nAuthor: Jonathan Kliem\n\nDependencies: #32902\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32903\n\n",
    "closed_at": "2021-12-19T11:47:12Z",
    "created_at": "2021-11-19T09:24:07Z",
    "labels": [
        "component: linear algebra"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Improve getting rows and columns in dense integer matrices",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32903",
    "user": "https://github.com/kliem"
}
```
Before:

```
sage: M = random_matrix(ZZ, 10)
sage: %timeit M.row(3)
2.48 µs ± 6.84 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
sage: %timeit M.column(3)
2.49 µs ± 6.26 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
sage: M = random_matrix(ZZ, 100)
sage: %timeit M.row(3)
13.8 µs ± 17.6 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
sage: %timeit M.column(3)
13.9 µs ± 15.9 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
```

After:

```
sage: M = random_matrix(ZZ, 10)
sage: %timeit M.row(3)
975 ns ± 2.51 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)
sage: %timeit M.column(3)
956 ns ± 1.28 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)
sage: M = random_matrix(ZZ, 100)
sage: %timeit M.row(3)
7.36 µs ± 7.26 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
sage: %timeit M.column(3)
7.37 µs ± 8.25 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
```

Branch/Commit: 52fcf0c5328363266c75ff0fe4b604dc30059d50

Reviewer: Michael Orlitzky

Author: Jonathan Kliem

Dependencies: #32902

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32903





---

archive/issue_comments_497641.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2021-11-19T09:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497641",
    "user": "https://github.com/kliem"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_497642.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-19T09:25:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497642",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_497643.json:
```json
{
    "body": "<a id='comment:2'></a>I think this should be `ZZ`?\n\n```\nsage: m = matrix(QQ, 3, 2, [1, -2, 3, 4, -1, 0])\n```",
    "created_at": "2021-11-30T00:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497643",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:2'></a>I think this should be `ZZ`?

```
sage: m = matrix(QQ, 3, 2, [1, -2, 3, 4, -1, 0])
```



---

archive/issue_comments_497644.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -3,14 +3,14 @@\n \\`\\`\\`\n sage: M = random_matrix(ZZ, 10)\n sage: %timeit M.row(3)\n-4.86 \u00b5s \u00b1 22.5 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+2.48 \u00b5s \u00b1 6.84 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n sage: %timeit M.column(3)\n-4.76 \u00b5s \u00b1 19 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+2.49 \u00b5s \u00b1 6.26 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n sage: M = random_matrix(ZZ, 100)\n sage: %timeit M.row(3)\n-20.2 \u00b5s \u00b1 853 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+13.8 \u00b5s \u00b1 17.6 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n sage: %timeit M.column(3)\n-21.9 \u00b5s \u00b1 4.72 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n+13.9 \u00b5s \u00b1 15.9 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n \\`\\`\\`\n \n After:\n```\n",
    "created_at": "2021-11-30T08:06:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497644",
    "user": "https://github.com/kliem"
}
```

Description changed:
```diff
--- 
+++ 
@@ -3,14 +3,14 @@
 \`\`\`
 sage: M = random_matrix(ZZ, 10)
 sage: %timeit M.row(3)
-4.86 µs ± 22.5 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+2.48 µs ± 6.84 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
 sage: %timeit M.column(3)
-4.76 µs ± 19 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+2.49 µs ± 6.26 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
 sage: M = random_matrix(ZZ, 100)
 sage: %timeit M.row(3)
-20.2 µs ± 853 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+13.8 µs ± 17.6 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
 sage: %timeit M.column(3)
-21.9 µs ± 4.72 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)
+13.9 µs ± 15.9 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
 \`\`\`
 
 After:
```




---

archive/issue_comments_497645.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,32 @@\n+Before:\n \n+\\`\\`\\`\n+sage: M = random_matrix(ZZ, 10)\n+sage: %timeit M.row(3)\n+2.48 \u00b5s \u00b1 6.84 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+sage: %timeit M.column(3)\n+2.49 \u00b5s \u00b1 6.26 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+sage: M = random_matrix(ZZ, 100)\n+sage: %timeit M.row(3)\n+13.8 \u00b5s \u00b1 17.6 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+sage: %timeit M.column(3)\n+13.9 \u00b5s \u00b1 15.9 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+\\`\\`\\`\n+\n+After:\n+\n+\\`\\`\\`\n+sage: M = random_matrix(ZZ, 10)\n+sage: %timeit M.row(3)\n+975 ns \u00b1 2.51 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\n+sage: %timeit M.column(3)\n+956 ns \u00b1 1.28 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\n+sage: M = random_matrix(ZZ, 100)\n+sage: %timeit M.row(3)\n+7.36 \u00b5s \u00b1 7.26 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+sage: %timeit M.column(3)\n+7.37 \u00b5s \u00b1 8.25 ns per loop (mean \u00b1 std. dev. of 7 runs, 100000 loops each)\n+\\`\\`\\`\n \n Author: Jonathan Kliem\n \n```\n",
    "created_at": "2021-11-30T08:10:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497645",
    "user": "https://github.com/kliem"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,32 @@
+Before:
 
+\`\`\`
+sage: M = random_matrix(ZZ, 10)
+sage: %timeit M.row(3)
+2.48 µs ± 6.84 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+sage: %timeit M.column(3)
+2.49 µs ± 6.26 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+sage: M = random_matrix(ZZ, 100)
+sage: %timeit M.row(3)
+13.8 µs ± 17.6 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+sage: %timeit M.column(3)
+13.9 µs ± 15.9 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+\`\`\`
+
+After:
+
+\`\`\`
+sage: M = random_matrix(ZZ, 10)
+sage: %timeit M.row(3)
+975 ns ± 2.51 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)
+sage: %timeit M.column(3)
+956 ns ± 1.28 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)
+sage: M = random_matrix(ZZ, 100)
+sage: %timeit M.row(3)
+7.36 µs ± 7.26 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+sage: %timeit M.column(3)
+7.37 µs ± 8.25 ns per loop (mean ± std. dev. of 7 runs, 100000 loops each)
+\`\`\`
 
 Author: Jonathan Kliem
 
```




---

archive/issue_comments_497646.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-11-30T08:10:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_497647.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-30T15:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497647",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_497648.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-19T11:47:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32903#issuecomment-497648",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_086973.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-19T11:47:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32903",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32903#event-86973"
}
```
