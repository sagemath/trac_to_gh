# Issue 32860: Inaccurate documentation for number field elements_of_norm

archive/issues_032623.json:
```json
{
    "body": "CC:  @slel\n\nKeywords: number field norm\n\nFor a number field `K` and an integer `n`,\nthe function `K.elements_of_norm(n)` returns\na list of integral elements of `K` with norm `n`,\nup to multiplication by units of positive norm.\nThe docstring says that `n` should be an \"integer\nin this number field\", which is wrong (and makes\nno sense): it must be a rational integer.\n\nIf you give the function something else (e.g. a\nnon-integral rational or an element of `K` (even\n`K(0)`), a `PariError` is raised, and it would be\nbetter for Sage to check the input, say by trying\n`n = ZZ(n)` first.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32860\n\n",
    "closed_at": "2022-01-04T22:50:59Z",
    "created_at": "2021-11-12T15:20:03Z",
    "labels": [
        "component: number fields",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Inaccurate documentation for number field elements_of_norm",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32860",
    "user": "https://github.com/JohnCremona"
}
```
CC:  @slel

Keywords: number field norm

For a number field `K` and an integer `n`,
the function `K.elements_of_norm(n)` returns
a list of integral elements of `K` with norm `n`,
up to multiplication by units of positive norm.
The docstring says that `n` should be an "integer
in this number field", which is wrong (and makes
no sense): it must be a rational integer.

If you give the function something else (e.g. a
non-integral rational or an element of `K` (even
`K(0)`), a `PariError` is raised, and it would be
better for Sage to check the input, say by trying
`n = ZZ(n)` first.

Issue created by migration from https://trac.sagemath.org/ticket/32860





---

archive/issue_comments_464756.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to number fields.",
    "created_at": "2021-11-13T12:32:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464756",
    "user": "https://github.com/slel"
}
```

Changing component from PLEASE CHANGE to number fields.



---

archive/issue_comments_464757.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-09T16:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464757",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_464758.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-12-09T16:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464758",
    "user": "https://github.com/fchapoton"
}
```

New commits:



---

archive/issue_comments_464759.json:
```json
{
    "body": "here is a minimal branch",
    "created_at": "2021-12-09T16:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464759",
    "user": "https://github.com/fchapoton"
}
```

here is a minimal branch



---

archive/issue_comments_464760.json:
```json
{
    "body": "Thanks. I report things and then simply forget.\n\n\nI'm not familiar with the syntax --> list in the function header. Is that a new python thing?",
    "created_at": "2021-12-09T18:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464760",
    "user": "https://github.com/JohnCremona"
}
```

Thanks. I report things and then simply forget.


I'm not familiar with the syntax --> list in the function header. Is that a new python thing?



---

archive/issue_comments_464761.json:
```json
{
    "body": "This is a \"type annotation\". This means that it is a declaration stating that the output is a list.\n\nThis kind of annotation (optional) has been introduced in recent versions of python. It allows some tools (mypy) to check consistency inside the code. Also useful for refined tab completions, in principle.\n\nThe lights are green, so the branch is ready for review.",
    "created_at": "2021-12-09T18:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464761",
    "user": "https://github.com/fchapoton"
}
```

This is a "type annotation". This means that it is a declaration stating that the output is a list.

This kind of annotation (optional) has been introduced in recent versions of python. It allows some tools (mypy) to check consistency inside the code. Also useful for refined tab completions, in principle.

The lights are green, so the branch is ready for review.



---

archive/issue_comments_464762.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-09T20:50:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464762",
    "user": "https://github.com/JohnCremona"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_086891.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-04T22:50:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32860#event-86891"
}
```



---

archive/issue_comments_464763.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-04T22:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32860",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32860#issuecomment-464763",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
