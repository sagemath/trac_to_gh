# Issue 32652: sage.geometry.polyhedron: Mark doctests # optional - sage.rings.number_field

archive/issues_032415.json:
```json
{
    "body": "(cherry-picked from #32432)\n\nCC:  @kliem @tscrim\n\nBranch/Commit: 14006541f2adbeb76bdc032d8152c9badf3e6226\n\nReviewer: Jonathan Kliem\n\nAuthor: Matthias Koeppe\n\nDependencies: #32614\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32652\n\n",
    "closed_at": "2021-10-19T20:31:46Z",
    "created_at": "2021-10-08T02:00:32Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage.geometry.polyhedron: Mark doctests # optional - sage.rings.number_field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32652",
    "user": "https://github.com/mkoeppe"
}
```
(cherry-picked from #32432)

CC:  @kliem @tscrim

Branch/Commit: 14006541f2adbeb76bdc032d8152c9badf3e6226

Reviewer: Jonathan Kliem

Author: Matthias Koeppe

Dependencies: #32614

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32652





---

archive/issue_comments_493830.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+(cherry-picked from #32432)\n \n Comment: 1\n \n``````\n",
    "created_at": "2021-10-08T02:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493830",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+(cherry-picked from #32432)
 
 Comment: 1
 
``````




---

archive/issue_comments_493831.json:
```json
{
    "body": "<a id='comment:3'></a>Last 10 new commits:",
    "created_at": "2021-10-08T02:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493831",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>Last 10 new commits:



---

archive/issue_comments_493832.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-08T02:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493832",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_493833.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-10T20:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493833",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_493834.json:
```json
{
    "body": "<a id='comment:5'></a>Does `sage.symbolic` imply `sage.rings.number_field`?\n\n```diff\n-    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])\n+    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])                          # optional - sage.symbolic\n     Traceback (most recent call last):\n     ...\n     ValueError: no default backend for computations with Symbolic Ring\n \n-    sage: SR.is_exact()\n+    sage: SR.is_exact()                                                         # optional - sage.symbolic\n     False\n```",
    "created_at": "2021-10-11T05:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493834",
    "user": "https://github.com/kliem"
}
```

<a id='comment:5'></a>Does `sage.symbolic` imply `sage.rings.number_field`?

```diff
-    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])
+    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])                          # optional - sage.symbolic
     Traceback (most recent call last):
     ...
     ValueError: no default backend for computations with Symbolic Ring
 
-    sage: SR.is_exact()
+    sage: SR.is_exact()                                                         # optional - sage.symbolic
     False
```



---

archive/issue_comments_493835.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:5 gh-kliem]:\n> Does `sage.symbolic` imply `sage.rings.number_field`?\n\n\nNo, but number fields are not used in this example",
    "created_at": "2021-10-11T05:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493835",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Replying to [comment:5 gh-kliem]:
> Does `sage.symbolic` imply `sage.rings.number_field`?


No, but number fields are not used in this example



---

archive/issue_comments_493836.json:
```json
{
    "body": "<a id='comment:8'></a>Although here:\n\n```diff\n--- a/src/sage/geometry/polyhedron/constructor.py\n+++ b/src/sage/geometry/polyhedron/constructor.py\n@@ -177,8 +177,8 @@ equilateral triangle whose vertex coordinates involve `\\sqrt{3}`. An\n exact way to work with roots in Sage is the :mod:`Algebraic Real Field\n <sage.rings.qqbar>` ::\n \n-    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA)\n-    sage: triangle.Hrepresentation()\n+    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA) # optional - sage.rings.number_field\n+    sage: triangle.Hrepresentation()                                            # optional - sage.rings.number_field\n     (An inequality (-1, -0.5773502691896258?) x + 1 >= 0,\n      An inequality (1, -0.5773502691896258?) x + 0 >= 0,\n      An inequality (0, 1.154700538379252?) x + 0 >= 0)\n```\nI should have marked it `optional - sage.rings.number_field sage.symbolic`",
    "created_at": "2021-10-11T05:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493836",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>Although here:

```diff
--- a/src/sage/geometry/polyhedron/constructor.py
+++ b/src/sage/geometry/polyhedron/constructor.py
@@ -177,8 +177,8 @@ equilateral triangle whose vertex coordinates involve `\sqrt{3}`. An
 exact way to work with roots in Sage is the :mod:`Algebraic Real Field
 <sage.rings.qqbar>` ::
 
-    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA)
-    sage: triangle.Hrepresentation()
+    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA) # optional - sage.rings.number_field
+    sage: triangle.Hrepresentation()                                            # optional - sage.rings.number_field
     (An inequality (-1, -0.5773502691896258?) x + 1 >= 0,
      An inequality (1, -0.5773502691896258?) x + 0 >= 0,
      An inequality (0, 1.154700538379252?) x + 0 >= 0)
```
I should have marked it `optional - sage.rings.number_field sage.symbolic`



---

archive/issue_comments_493837.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-11T05:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493837",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_493838.json:
```json
{
    "body": "<a id='comment:10'></a>LGTM.",
    "created_at": "2021-10-11T05:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493838",
    "user": "https://github.com/kliem"
}
```

<a id='comment:10'></a>LGTM.



---

archive/issue_comments_493839.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-11T05:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493839",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_493840.json:
```json
{
    "body": "<a id='comment:11'></a>Thank you!",
    "created_at": "2021-10-11T05:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493840",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>Thank you!



---

archive/issue_comments_493841.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-10-11T22:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493841",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_493842.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-10-11T22:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_493843.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-11T22:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493843",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_086484.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:31:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32652#event-86484"
}
```



---

archive/issue_comments_493844.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32652",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32652#issuecomment-493844",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
