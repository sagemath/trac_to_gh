# Issue 32102: Chart: Add init argument coord_restrictions, deprecate method add_restrictions

archive/issues_031865.json:
```json
{
    "assignees": [],
    "body": "(from [#31901 comment:22](https://github.com/sagemath/sage/issues/31901#comment:22))\n\nThis will remove the appearance of mutability of `Chart`s.\n\nDeprecated chart declaration:\n\n```\n            sage: M = Manifold(2, 'M', structure='topological')\n\n            sage: X.<x,y> = M.chart()\n            sage: X.add_restrictions(x^2+y^2<1)\n            sage: X.add_restrictions(x>0)\n```\n\n**Replacement 1 (implemented):**\n\n```\n    sage: var(\"x y\")\n    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])\n```\n\nReplacement 2:\n\n```\n    sage: x, y = M.var()\n    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])\n```\n(`x`, `y` defined in the first line would be some temporary placeholder variables.)\n\n**Replacement 3 (implemented):**\n\n```\n    sage: in_disk(x,y) = x^2+y^2<1\n    sage: on_right(x,y) = x>0\n    sage: X.<x,y> = M.chart(coord_restrictions=[in_disk, on_right])\n```\n\nReplacement 4:\n\n```\n   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1, lambda x,y: x>0])\n```\n(chart initialization calls the lambdas on the symbolic variables x, y to get the symbolic relations)\n\n**Replacement 5 (implemented):**\n\n```\n   sage: X.<x,y> = M.chart(coord_restrictions=lambda x,y: [x^2+y^2<1, x>0])\n```\n(chart initialization calls the lambda on the symbolic variables x, y to get the list of symbolic relations)\n\n\n\n\nDepends on #32116\n\nDepends on #32009\n\n**CC:**  @egourgoulhon @mjungmath @tscrim @vbraun\n\n**Branch:** [u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions)\n\n**Commit:** [c218828e5bfea9d5cb75d29cc4e864961397989c](https://github.com/sagemath/sagetrac-mirror/commit/c218828e5bfea9d5cb75d29cc4e864961397989c)\n\n**Reviewer:** Eric Gourgoulhon\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/32102\n\n",
    "closed_at": "2021-07-24T19:06:00Z",
    "created_at": "2021-07-02T20:38:42Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Chart: Add init argument coord_restrictions, deprecate method add_restrictions",
    "type": "issue",
    "updated_at": "2021-07-24T19:06:00Z",
    "url": "https://github.com/sagemath/sage/issues/32102",
    "user": "https://github.com/mkoeppe"
}
```
(from [#31901 comment:22](https://github.com/sagemath/sage/issues/31901#comment:22))

This will remove the appearance of mutability of `Chart`s.

Deprecated chart declaration:

```
            sage: M = Manifold(2, 'M', structure='topological')

            sage: X.<x,y> = M.chart()
            sage: X.add_restrictions(x^2+y^2<1)
            sage: X.add_restrictions(x>0)
```

**Replacement 1 (implemented):**

```
    sage: var("x y")
    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])
```

Replacement 2:

```
    sage: x, y = M.var()
    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])
```
(`x`, `y` defined in the first line would be some temporary placeholder variables.)

**Replacement 3 (implemented):**

```
    sage: in_disk(x,y) = x^2+y^2<1
    sage: on_right(x,y) = x>0
    sage: X.<x,y> = M.chart(coord_restrictions=[in_disk, on_right])
```

Replacement 4:

```
   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1, lambda x,y: x>0])
```
(chart initialization calls the lambdas on the symbolic variables x, y to get the symbolic relations)

**Replacement 5 (implemented):**

```
   sage: X.<x,y> = M.chart(coord_restrictions=lambda x,y: [x^2+y^2<1, x>0])
```
(chart initialization calls the lambda on the symbolic variables x, y to get the list of symbolic relations)




Depends on #32116

Depends on #32009

**CC:**  @egourgoulhon @mjungmath @tscrim @vbraun

**Branch:** [u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions)

**Commit:** [c218828e5bfea9d5cb75d29cc4e864961397989c](https://github.com/sagemath/sagetrac-mirror/commit/c218828e5bfea9d5cb75d29cc4e864961397989c)

**Reviewer:** Eric Gourgoulhon

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/32102





---

archive/issue_events_389831.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-02T20:38:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389831"
}
```



---

archive/issue_events_389832.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-02T20:38:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
    "label_color": "08517b",
    "label_name": "component: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389832"
}
```



---

archive/issue_events_389833.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-02T20:38:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389833"
}
```



---

archive/issue_comments_519804.json:
```json
{
    "body": "**Dependencies:** #32089",
    "created_at": "2021-07-03T01:21:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519804",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32089



---

archive/issue_comments_519805.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,52 @@\n \n This will remove the appearance of mutability of `Chart`s.\n \n+Deprecated chart declaration:\n \n+```\n+            sage: M = Manifold(2, 'M', structure='topological')\n+\n+            sage: X.<x,y> = M.chart()\n+            sage: X.add_restrictions(x^2+y^2<1)\n+            sage: X.add_restrictions(x>0)\n+```\n+\n+Replacement 1:\n+\n+```\n+    sage: var(\"x y\")\n+    sage: X = M.chart((x, y), coord_restrictions=[x^2+y^2<1, x>0])\n+```\n+\n+Replacement 2:\n+\n+```\n+    sage: x, y = M.var()\n+    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])\n+```\n+\n+Replacement 3:\n+\n+```\n+    sage: in_disk(x,y) = x^2+y^2<1\n+    sage: on_right(x,y) = x>0\n+    sage: X.<x,y> = M.chart(coord_restrictions=[in_disk, on_right])\n+```\n+\n+Replacement 4:\n+\n+```\n+   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1,\n+                                               lambda x,y: x>0])\n+```\n+(chart initialization calls the lambdas on the symbolic variables x, y to get the symbolic relations)\n+\n+Replacement 5:\n+\n+```\n+   sage: X.<x,y> = M.chart(coord_restrictions=lambda x,y: [x^2+y^2<1, x>0])\n+```\n+(chart initialization calls the lambda on the symbolic variables x, y to get the list of symbolic relations)\n+\n+\n+\n``````\n",
    "created_at": "2021-07-03T01:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519805",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,52 @@
 
 This will remove the appearance of mutability of `Chart`s.
 
+Deprecated chart declaration:
 
+```
+            sage: M = Manifold(2, 'M', structure='topological')
+
+            sage: X.<x,y> = M.chart()
+            sage: X.add_restrictions(x^2+y^2<1)
+            sage: X.add_restrictions(x>0)
+```
+
+Replacement 1:
+
+```
+    sage: var("x y")
+    sage: X = M.chart((x, y), coord_restrictions=[x^2+y^2<1, x>0])
+```
+
+Replacement 2:
+
+```
+    sage: x, y = M.var()
+    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])
+```
+
+Replacement 3:
+
+```
+    sage: in_disk(x,y) = x^2+y^2<1
+    sage: on_right(x,y) = x>0
+    sage: X.<x,y> = M.chart(coord_restrictions=[in_disk, on_right])
+```
+
+Replacement 4:
+
+```
+   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1,
+                                               lambda x,y: x>0])
+```
+(chart initialization calls the lambdas on the symbolic variables x, y to get the symbolic relations)
+
+Replacement 5:
+
+```
+   sage: X.<x,y> = M.chart(coord_restrictions=lambda x,y: [x^2+y^2<1, x>0])
+```
+(chart initialization calls the lambda on the symbolic variables x, y to get the list of symbolic relations)
+
+
+
``````




---

archive/issue_comments_519806.json:
```json
{
    "body": "**Changing dependencies** from \"#32089\" to \"#32089, #32103\".",
    "created_at": "2021-07-03T06:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519806",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32089" to "#32089, #32103".



---

archive/issue_comments_519807.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nI like very much replacements 4 and 5. Using `lambda` function is a good idea! Why is this not immediately applicable? i.e. why #32089 and #32103 have been set as dependencies?",
    "created_at": "2021-07-03T11:14:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519807",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:4'>**Comment 4:**</a>
I like very much replacements 4 and 5. Using `lambda` function is a good idea! Why is this not immediately applicable? i.e. why #32089 and #32103 have been set as dependencies?



---

archive/issue_comments_519808.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nOK, converting a lambda to a callable symbolic expression is in #32103, but I guess for this ticket one could just call the lambda on the chart variables, so it's not really needed.\n\nI was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too",
    "created_at": "2021-07-03T16:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519808",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'>**Comment 5:**</a>
OK, converting a lambda to a callable symbolic expression is in #32103, but I guess for this ticket one could just call the lambda on the chart variables, so it's not really needed.

I was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too



---

archive/issue_comments_519809.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nThe `lambda` in the init args will unfortunately also create trouble with the pickling tests - lambdas cannot be pickled. So it will have to be transformed to the list/tuple format already in the `__classcall__` method - triggering the trouble with `UniqueRepresentation`...\n\nSo we can either go through #32089, or get rid of `UniqueRepresentation` for `Chart`s.",
    "created_at": "2021-07-03T17:16:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519809",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'>**Comment 6:**</a>
The `lambda` in the init args will unfortunately also create trouble with the pickling tests - lambdas cannot be pickled. So it will have to be transformed to the list/tuple format already in the `__classcall__` method - triggering the trouble with `UniqueRepresentation`...

So we can either go through #32089, or get rid of `UniqueRepresentation` for `Chart`s.



---

archive/issue_comments_519810.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions)",
    "created_at": "2021-07-03T17:58:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519810",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions)



---

archive/issue_comments_519811.json:
```json
{
    "body": "**Commit:** [d9520ae9989dfdccefdf3f20f45389cb4f632dc5](https://github.com/sagemath/sagetrac-mirror/commit/d9520ae9989dfdccefdf3f20f45389cb4f632dc5)",
    "created_at": "2021-07-03T18:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519811",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [d9520ae9989dfdccefdf3f20f45389cb4f632dc5](https://github.com/sagemath/sagetrac-mirror/commit/d9520ae9989dfdccefdf3f20f45389cb4f632dc5)



---

archive/issue_comments_519812.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\nIn the branch of #31894 I have a change from `def _init_coordinates` to `@classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9520ae9989dfdccefdf3f20f45389cb4f632dc5\">d9520ae</a></td><td><code>Chart: Add coord_restrictions init arg</code></td></tr></table>\n",
    "created_at": "2021-07-03T18:39:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519812",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'>**Comment 8:**</a>
In the branch of #31894 I have a change from `def _init_coordinates` to `@classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9520ae9989dfdccefdf3f20f45389cb4f632dc5">d9520ae</a></td><td><code>Chart: Add coord_restrictions init arg</code></td></tr></table>




---

archive/issue_comments_519813.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nReplying to [@mkoeppe](#comment%3A8):\n> In the branch of #31894 I have a change from `def _init_coordinates` to `@classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.\n\nThat's now on #32116.",
    "created_at": "2021-07-03T20:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519813",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'>**Comment 9:**</a>
Replying to [@mkoeppe](#comment%3A8):
> In the branch of #31894 I have a change from `def _init_coordinates` to `@classmethod def _parse_coordinates` that would be useful to implement `__classcall__`.

That's now on #32116.



---

archive/issue_comments_519814.json:
```json
{
    "body": "**Changing dependencies** from \"#32089, #32103\" to \"#32116, #32089, #32103\".",
    "created_at": "2021-07-03T20:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519814",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32089, #32103" to "#32116, #32089, #32103".



---

archive/issue_comments_519815.json:
```json
{
    "body": "**Changing commit** from \"[d9520ae9989dfdccefdf3f20f45389cb4f632dc5](https://github.com/sagemath/sagetrac-mirror/commit/d9520ae9989dfdccefdf3f20f45389cb4f632dc5)\" to \"[ce765863d3c5d81a6460e5e2f7fd305d690337fb](https://github.com/sagemath/sagetrac-mirror/commit/ce765863d3c5d81a6460e5e2f7fd305d690337fb)\".",
    "created_at": "2021-07-03T20:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519815",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d9520ae9989dfdccefdf3f20f45389cb4f632dc5](https://github.com/sagemath/sagetrac-mirror/commit/d9520ae9989dfdccefdf3f20f45389cb4f632dc5)" to "[ce765863d3c5d81a6460e5e2f7fd305d690337fb](https://github.com/sagemath/sagetrac-mirror/commit/ce765863d3c5d81a6460e5e2f7fd305d690337fb)".



---

archive/issue_comments_519816.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ba174cc014d892ab8defbb9453e847067af5b13\">8ba174c</a></td><td><code>Eliminate direct use of Chart._domain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/21297f385dc82a71d3b28ee43aa75b684189718e\">21297f3</a></td><td><code>Merge #32009</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deace8334e03bb4f722c5fa50787da723567be03\">deace83</a></td><td><code>Chart: Replace _init_coordinates by _parse_coordinates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4db499543d24006d4ea3b87c956baa5f0bee03a7\">4db4995</a></td><td><code>Chart: Fix up `__classcall__` and _parse_coordinates by avoiding unhashable things</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc59c9d6d46faeefd12626ab9946631de2608424\">fc59c9d</a></td><td><code>Chart.__classcall__: Add doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce765863d3c5d81a6460e5e2f7fd305d690337fb\">ce76586</a></td><td><code>Merge #32116</code></td></tr></table>\n",
    "created_at": "2021-07-03T20:21:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519816",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>**Comment 10:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ba174cc014d892ab8defbb9453e847067af5b13">8ba174c</a></td><td><code>Eliminate direct use of Chart._domain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/21297f385dc82a71d3b28ee43aa75b684189718e">21297f3</a></td><td><code>Merge #32009</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deace8334e03bb4f722c5fa50787da723567be03">deace83</a></td><td><code>Chart: Replace _init_coordinates by _parse_coordinates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4db499543d24006d4ea3b87c956baa5f0bee03a7">4db4995</a></td><td><code>Chart: Fix up `__classcall__` and _parse_coordinates by avoiding unhashable things</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc59c9d6d46faeefd12626ab9946631de2608424">fc59c9d</a></td><td><code>Chart.__classcall__: Add doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce765863d3c5d81a6460e5e2f7fd305d690337fb">ce76586</a></td><td><code>Merge #32116</code></td></tr></table>




---

archive/issue_comments_519817.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c31fb4baf8cefdff7a9864e774941caae697e603\">c31fb4b</a></td><td><code>Chart: Make coord restrictions hashable by using frozenset in place of list</code></td></tr></table>\n",
    "created_at": "2021-07-03T20:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519817",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>**Comment 11:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c31fb4baf8cefdff7a9864e774941caae697e603">c31fb4b</a></td><td><code>Chart: Make coord restrictions hashable by using frozenset in place of list</code></td></tr></table>




---

archive/issue_comments_519818.json:
```json
{
    "body": "**Changing commit** from \"[ce765863d3c5d81a6460e5e2f7fd305d690337fb](https://github.com/sagemath/sagetrac-mirror/commit/ce765863d3c5d81a6460e5e2f7fd305d690337fb)\" to \"[c31fb4baf8cefdff7a9864e774941caae697e603](https://github.com/sagemath/sagetrac-mirror/commit/c31fb4baf8cefdff7a9864e774941caae697e603)\".",
    "created_at": "2021-07-03T20:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519818",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ce765863d3c5d81a6460e5e2f7fd305d690337fb](https://github.com/sagemath/sagetrac-mirror/commit/ce765863d3c5d81a6460e5e2f7fd305d690337fb)" to "[c31fb4baf8cefdff7a9864e774941caae697e603](https://github.com/sagemath/sagetrac-mirror/commit/c31fb4baf8cefdff7a9864e774941caae697e603)".



---

archive/issue_comments_519819.json:
```json
{
    "body": "**Changing dependencies** from \"#32116, #32089, #32103\" to \"#32116, #32103\".",
    "created_at": "2021-07-03T20:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519819",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32116, #32089, #32103" to "#32116, #32103".



---

archive/issue_comments_519820.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nReplying to [@mkoeppe](#comment%3A5):\n> I was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too\n\nI have implemented a simpler solution",
    "created_at": "2021-07-03T20:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519820",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'>**Comment 13:**</a>
Replying to [@mkoeppe](#comment%3A5):
> I was expecting trouble with `UniqueRepresentation` because the mixture of lists and tuples in your format of coordinate restrictions is not hashable. My suggestion was to convert this to a `ConditionSet` (#32089); but I suppose simpler solutions are possible too

I have implemented a simpler solution



---

archive/issue_comments_519821.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/91c4c98dd8173f9d7255eda3b246c3100cc984d4\">91c4c98</a></td><td><code>TopologicalManifold.chart: Add keyword arg coord_restrictions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30bc60dffdadae7db53364edd7f650d1a3c24d49\">30bc60d</a></td><td><code>Chart: Handle lambda-quoted coord_restrictions</code></td></tr></table>\n",
    "created_at": "2021-07-03T21:28:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519821",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>**Comment 14:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/91c4c98dd8173f9d7255eda3b246c3100cc984d4">91c4c98</a></td><td><code>TopologicalManifold.chart: Add keyword arg coord_restrictions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30bc60dffdadae7db53364edd7f650d1a3c24d49">30bc60d</a></td><td><code>Chart: Handle lambda-quoted coord_restrictions</code></td></tr></table>




---

archive/issue_comments_519822.json:
```json
{
    "body": "**Changing commit** from \"[c31fb4baf8cefdff7a9864e774941caae697e603](https://github.com/sagemath/sagetrac-mirror/commit/c31fb4baf8cefdff7a9864e774941caae697e603)\" to \"[30bc60dffdadae7db53364edd7f650d1a3c24d49](https://github.com/sagemath/sagetrac-mirror/commit/30bc60dffdadae7db53364edd7f650d1a3c24d49)\".",
    "created_at": "2021-07-03T21:28:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519822",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[c31fb4baf8cefdff7a9864e774941caae697e603](https://github.com/sagemath/sagetrac-mirror/commit/c31fb4baf8cefdff7a9864e774941caae697e603)" to "[30bc60dffdadae7db53364edd7f650d1a3c24d49](https://github.com/sagemath/sagetrac-mirror/commit/30bc60dffdadae7db53364edd7f650d1a3c24d49)".



---

archive/issue_comments_519823.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nReplacements 1, 2, 3, and 5 should work now. For simplicity, let's skip 4.",
    "created_at": "2021-07-03T21:29:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519823",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:15'>**Comment 15:**</a>
Replacements 1, 2, 3, and 5 should work now. For simplicity, let's skip 4.



---

archive/issue_comments_519824.json:
```json
{
    "body": "**Changing dependencies** from \"#32116, #32103\" to \"#32116\".",
    "created_at": "2021-07-03T21:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519824",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32116, #32103" to "#32116".



---

archive/issue_comments_519825.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5820a9aabf558768caccfcbbfaec0f679cb5d26\">b5820a9</a></td><td><code>Remove most uses of Chart.add_restrictions in doctests</code></td></tr></table>\n",
    "created_at": "2021-07-03T22:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519825",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>**Comment 17:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5820a9aabf558768caccfcbbfaec0f679cb5d26">b5820a9</a></td><td><code>Remove most uses of Chart.add_restrictions in doctests</code></td></tr></table>




---

archive/issue_comments_519826.json:
```json
{
    "body": "**Changing commit** from \"[30bc60dffdadae7db53364edd7f650d1a3c24d49](https://github.com/sagemath/sagetrac-mirror/commit/30bc60dffdadae7db53364edd7f650d1a3c24d49)\" to \"[b5820a9aabf558768caccfcbbfaec0f679cb5d26](https://github.com/sagemath/sagetrac-mirror/commit/b5820a9aabf558768caccfcbbfaec0f679cb5d26)\".",
    "created_at": "2021-07-03T22:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519826",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[30bc60dffdadae7db53364edd7f650d1a3c24d49](https://github.com/sagemath/sagetrac-mirror/commit/30bc60dffdadae7db53364edd7f650d1a3c24d49)" to "[b5820a9aabf558768caccfcbbfaec0f679cb5d26](https://github.com/sagemath/sagetrac-mirror/commit/b5820a9aabf558768caccfcbbfaec0f679cb5d26)".



---

archive/issue_comments_519827.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e482307cd15ce4f40cfdfd1d477db3693fd5ab0\">1e48230</a></td><td><code>RealChart._tighten_bounds: Factor out from RealChart.add_restrictions, call it from `__init__` too</code></td></tr></table>\n",
    "created_at": "2021-07-03T22:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519827",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>**Comment 18:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e482307cd15ce4f40cfdfd1d477db3693fd5ab0">1e48230</a></td><td><code>RealChart._tighten_bounds: Factor out from RealChart.add_restrictions, call it from `__init__` too</code></td></tr></table>




---

archive/issue_comments_519828.json:
```json
{
    "body": "**Changing commit** from \"[b5820a9aabf558768caccfcbbfaec0f679cb5d26](https://github.com/sagemath/sagetrac-mirror/commit/b5820a9aabf558768caccfcbbfaec0f679cb5d26)\" to \"[1e482307cd15ce4f40cfdfd1d477db3693fd5ab0](https://github.com/sagemath/sagetrac-mirror/commit/1e482307cd15ce4f40cfdfd1d477db3693fd5ab0)\".",
    "created_at": "2021-07-03T22:48:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519828",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[b5820a9aabf558768caccfcbbfaec0f679cb5d26](https://github.com/sagemath/sagetrac-mirror/commit/b5820a9aabf558768caccfcbbfaec0f679cb5d26)" to "[1e482307cd15ce4f40cfdfd1d477db3693fd5ab0](https://github.com/sagemath/sagetrac-mirror/commit/1e482307cd15ce4f40cfdfd1d477db3693fd5ab0)".



---

archive/issue_comments_519829.json:
```json
{
    "body": "**Changing commit** from \"[1e482307cd15ce4f40cfdfd1d477db3693fd5ab0](https://github.com/sagemath/sagetrac-mirror/commit/1e482307cd15ce4f40cfdfd1d477db3693fd5ab0)\" to \"[939dcd5c3884adad6c757b0ce6cb0840f26b73d6](https://github.com/sagemath/sagetrac-mirror/commit/939dcd5c3884adad6c757b0ce6cb0840f26b73d6)\".",
    "created_at": "2021-07-03T23:47:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519829",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1e482307cd15ce4f40cfdfd1d477db3693fd5ab0](https://github.com/sagemath/sagetrac-mirror/commit/1e482307cd15ce4f40cfdfd1d477db3693fd5ab0)" to "[939dcd5c3884adad6c757b0ce6cb0840f26b73d6](https://github.com/sagemath/sagetrac-mirror/commit/939dcd5c3884adad6c757b0ce6cb0840f26b73d6)".



---

archive/issue_comments_519830.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a5217cd449ae5b03e26c10994bc6f2f7944470e\">3a5217c</a></td><td><code>Chart._normalize_coord_restrictions: Move resolution of lambdas here</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c8e6d3325e51fa97e92e93aefb5ecd099d7f8b6\">4c8e6d3</a></td><td><code>OpenInterval: Remove use of add_restrictions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8c537d55c119b5c58fb859650f73e2a09617555\">f8c537d</a></td><td><code>IntegratedCurve: Remove use of add_restrictions in doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/939dcd5c3884adad6c757b0ce6cb0840f26b73d6\">939dcd5</a></td><td><code>Chart.add_restrictions: Deprecate</code></td></tr></table>\n",
    "created_at": "2021-07-03T23:47:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519830",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>**Comment 19:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a5217cd449ae5b03e26c10994bc6f2f7944470e">3a5217c</a></td><td><code>Chart._normalize_coord_restrictions: Move resolution of lambdas here</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c8e6d3325e51fa97e92e93aefb5ecd099d7f8b6">4c8e6d3</a></td><td><code>OpenInterval: Remove use of add_restrictions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8c537d55c119b5c58fb859650f73e2a09617555">f8c537d</a></td><td><code>IntegratedCurve: Remove use of add_restrictions in doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/939dcd5c3884adad6c757b0ce6cb0840f26b73d6">939dcd5</a></td><td><code>Chart.add_restrictions: Deprecate</code></td></tr></table>




---

archive/issue_events_389834.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-03T23:55:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389834"
}
```



---

archive/issue_comments_519831.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-07-03T23:55:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519831",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_519832.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nThere is one remaining use of `add_restrictions` in `TopologicalSubmanifold.adapted_chart`, but it is not triggered by any doctest.\nBecause this code also uses `assume`, it is probably best to defer work on it to a follow-up ticket.",
    "created_at": "2021-07-03T23:55:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519832",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'>**Comment 20:**</a>
There is one remaining use of `add_restrictions` in `TopologicalSubmanifold.adapted_chart`, but it is not triggered by any doctest.
Because this code also uses `assume`, it is probably best to defer work on it to a follow-up ticket.



---

archive/issue_comments_519833.json:
```json
{
    "body": "**Changing dependencies** from \"#32116\" to \"#32116, #32009\".",
    "created_at": "2021-07-04T23:52:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519833",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32116" to "#32116, #32009".



---

archive/issue_comments_519834.json:
```json
{
    "body": "**Changing commit** from \"[939dcd5c3884adad6c757b0ce6cb0840f26b73d6](https://github.com/sagemath/sagetrac-mirror/commit/939dcd5c3884adad6c757b0ce6cb0840f26b73d6)\" to \"[0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a](https://github.com/sagemath/sagetrac-mirror/commit/0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a)\".",
    "created_at": "2021-07-04T23:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519834",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[939dcd5c3884adad6c757b0ce6cb0840f26b73d6](https://github.com/sagemath/sagetrac-mirror/commit/939dcd5c3884adad6c757b0ce6cb0840f26b73d6)" to "[0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a](https://github.com/sagemath/sagetrac-mirror/commit/0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a)".



---

archive/issue_comments_519835.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f43b3587eb7bacd0d6af43dcf85867746aaeb5eb\">f43b358</a></td><td><code>Chart._init_coordinates: Fix up use of domain</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e316e9f4e3e714192568594197afb34cfd8121f\">4e316e9</a></td><td><code>Fix bug in Chart.__init__ regarding the determination of top charts (Trac #32112)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/907c9bc9a2cdf35588a712e14ace6e7ab41274da\">907c9bc</a></td><td><code>Merge #32112</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a\">0dfc22e</a></td><td><code>Merge branch 't/32009/eliminate_direct_use_of_the_chart__domain_attribute' into t/32102/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions</code></td></tr></table>\n",
    "created_at": "2021-07-04T23:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519835",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'>**Comment 22:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f43b3587eb7bacd0d6af43dcf85867746aaeb5eb">f43b358</a></td><td><code>Chart._init_coordinates: Fix up use of domain</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e316e9f4e3e714192568594197afb34cfd8121f">4e316e9</a></td><td><code>Fix bug in Chart.__init__ regarding the determination of top charts (Trac #32112)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/907c9bc9a2cdf35588a712e14ace6e7ab41274da">907c9bc</a></td><td><code>Merge #32112</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a">0dfc22e</a></td><td><code>Merge branch 't/32009/eliminate_direct_use_of_the_chart__domain_attribute' into t/32102/chart__add_init_argument_coord_restrictions__deprecate_method_add_restrictions</code></td></tr></table>




---

archive/issue_comments_519836.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1742fdccd1e491fa6c15b18acf9990178a8495c0\">1742fdc</a></td><td><code>Merge #32009</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0e63ff14b415d468ee43578c512fa48f7813f983\">0e63ff1</a></td><td><code>Merge #32116</code></td></tr></table>\n",
    "created_at": "2021-07-05T00:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519836",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'>**Comment 23:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1742fdccd1e491fa6c15b18acf9990178a8495c0">1742fdc</a></td><td><code>Merge #32009</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0e63ff14b415d468ee43578c512fa48f7813f983">0e63ff1</a></td><td><code>Merge #32116</code></td></tr></table>




---

archive/issue_comments_519837.json:
```json
{
    "body": "**Changing commit** from \"[0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a](https://github.com/sagemath/sagetrac-mirror/commit/0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a)\" to \"[0e63ff14b415d468ee43578c512fa48f7813f983](https://github.com/sagemath/sagetrac-mirror/commit/0e63ff14b415d468ee43578c512fa48f7813f983)\".",
    "created_at": "2021-07-05T00:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519837",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a](https://github.com/sagemath/sagetrac-mirror/commit/0dfc22e151a7fbcf26d5bb06ce6bc36f5dee366a)" to "[0e63ff14b415d468ee43578c512fa48f7813f983](https://github.com/sagemath/sagetrac-mirror/commit/0e63ff14b415d468ee43578c512fa48f7813f983)".



---

archive/issue_comments_519838.json:
```json
{
    "body": "**Changing commit** from \"[0e63ff14b415d468ee43578c512fa48f7813f983](https://github.com/sagemath/sagetrac-mirror/commit/0e63ff14b415d468ee43578c512fa48f7813f983)\" to \"[f66e4bc00b87b87196743273ec8108c3b86fada8](https://github.com/sagemath/sagetrac-mirror/commit/f66e4bc00b87b87196743273ec8108c3b86fada8)\".",
    "created_at": "2021-07-07T23:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519838",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[0e63ff14b415d468ee43578c512fa48f7813f983](https://github.com/sagemath/sagetrac-mirror/commit/0e63ff14b415d468ee43578c512fa48f7813f983)" to "[f66e4bc00b87b87196743273ec8108c3b86fada8](https://github.com/sagemath/sagetrac-mirror/commit/f66e4bc00b87b87196743273ec8108c3b86fada8)".



---

archive/issue_comments_519839.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ac183438b80e55d6d994d61f5d92a7c5e056026\">9ac1834</a></td><td><code>src/sage/manifolds/chart.py: Add raw string marker</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f66e4bc00b87b87196743273ec8108c3b86fada8\">f66e4bc</a></td><td><code>Merge #32116</code></td></tr></table>\n",
    "created_at": "2021-07-07T23:13:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519839",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>**Comment 24:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ac183438b80e55d6d994d61f5d92a7c5e056026">9ac1834</a></td><td><code>src/sage/manifolds/chart.py: Add raw string marker</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f66e4bc00b87b87196743273ec8108c3b86fada8">f66e4bc</a></td><td><code>Merge #32116</code></td></tr></table>




---

archive/issue_comments_519840.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,11 +12,11 @@\n             sage: X.add_restrictions(x>0)\n ```\n \n-Replacement 1:\n+**Replacement 1 (implemented):**\n \n ```\n     sage: var(\"x y\")\n-    sage: X = M.chart((x, y), coord_restrictions=[x^2+y^2<1, x>0])\n+    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])\n ```\n \n Replacement 2:\n@@ -25,8 +25,9 @@\n     sage: x, y = M.var()\n     sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])\n ```\n+(`x`, `y` defined in the first line would be some temporary placeholder variables.)\n \n-Replacement 3:\n+**Replacement 3 (implemented):**\n \n ```\n     sage: in_disk(x,y) = x^2+y^2<1\n@@ -37,12 +38,11 @@\n Replacement 4:\n \n ```\n-   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1,\n-                                               lambda x,y: x>0])\n+   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1, lambda x,y: x>0])\n ```\n (chart initialization calls the lambdas on the symbolic variables x, y to get the symbolic relations)\n \n-Replacement 5:\n+**Replacement 5 (implemented):**\n \n ```\n    sage: X.<x,y> = M.chart(coord_restrictions=lambda x,y: [x^2+y^2<1, x>0])\n``````\n",
    "created_at": "2021-07-07T23:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519840",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,11 +12,11 @@
             sage: X.add_restrictions(x>0)
 ```
 
-Replacement 1:
+**Replacement 1 (implemented):**
 
 ```
     sage: var("x y")
-    sage: X = M.chart((x, y), coord_restrictions=[x^2+y^2<1, x>0])
+    sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])
 ```
 
 Replacement 2:
@@ -25,8 +25,9 @@
     sage: x, y = M.var()
     sage: X.<x,y> = M.chart(coord_restrictions=[x^2+y^2<1, x>0])
 ```
+(`x`, `y` defined in the first line would be some temporary placeholder variables.)
 
-Replacement 3:
+**Replacement 3 (implemented):**
 
 ```
     sage: in_disk(x,y) = x^2+y^2<1
@@ -37,12 +38,11 @@
 Replacement 4:
 
 ```
-   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1,
-                                               lambda x,y: x>0])
+   sage: X.<x,y> = M.chart(coord_restrictions=[lambda x,y: x^2+y^2<1, lambda x,y: x>0])
 ```
 (chart initialization calls the lambdas on the symbolic variables x, y to get the symbolic relations)
 
-Replacement 5:
+**Replacement 5 (implemented):**
 
 ```
    sage: X.<x,y> = M.chart(coord_restrictions=lambda x,y: [x^2+y^2<1, x>0])
``````




---

archive/issue_comments_519841.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nLooks good. Here are some remarks:\n\n1. The argument `calc_method` of `Chart.__init__` has no longer a default value. Is there any reason for this? This is not consistent with `RealChart.__init__`, which has `calc_method=None`. \n\n2. In the INPUT section of the docstring of class `Chart`:\n- the argument `coordinates` is described as having a default value, which is no longer true\n- in the description of the argument `coord_restrictions`, all instances of `restrictions` should be replaced by `coord_restrictions`\n- the argument `names` should removed\nMoreover, the arguments should be ordered in the same way as they appear in `Chart.__init__`. \n\n3. In the INPUT section of the docstring of class `RealChart`:\n- the argument `coordinates` is described as having a default value, which is no longer true\n- the argument `coord_restrictions` is missing\n- the argument `names` should be removed\n\n4. In the INPUT section of the docstring of `TopologicalManifold.chart`, the argument `coord_restrictions` is missing; also it could be nice to illustrate its use with a lambda function in the corresponding EXAMPLE section. Actually, this is the first piece of documentation about charts that the user encounters when typing `M.chart?`.",
    "created_at": "2021-07-08T13:24:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519841",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:26'>**Comment 26:**</a>
Looks good. Here are some remarks:

1. The argument `calc_method` of `Chart.__init__` has no longer a default value. Is there any reason for this? This is not consistent with `RealChart.__init__`, which has `calc_method=None`. 

2. In the INPUT section of the docstring of class `Chart`:
- the argument `coordinates` is described as having a default value, which is no longer true
- in the description of the argument `coord_restrictions`, all instances of `restrictions` should be replaced by `coord_restrictions`
- the argument `names` should removed
Moreover, the arguments should be ordered in the same way as they appear in `Chart.__init__`. 

3. In the INPUT section of the docstring of class `RealChart`:
- the argument `coordinates` is described as having a default value, which is no longer true
- the argument `coord_restrictions` is missing
- the argument `names` should be removed

4. In the INPUT section of the docstring of `TopologicalManifold.chart`, the argument `coord_restrictions` is missing; also it could be nice to illustrate its use with a lambda function in the corresponding EXAMPLE section. Actually, this is the first piece of documentation about charts that the user encounters when typing `M.chart?`.



---

archive/issue_comments_519842.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c003dba37f63144d36ec37109deb5b9dadeb9eb\">7c003db</a></td><td><code>Chart.__init__: Restore default of calc_method argument for consistency</code></td></tr></table>\n",
    "created_at": "2021-07-08T14:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519842",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>**Comment 27:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c003dba37f63144d36ec37109deb5b9dadeb9eb">7c003db</a></td><td><code>Chart.__init__: Restore default of calc_method argument for consistency</code></td></tr></table>




---

archive/issue_comments_519843.json:
```json
{
    "body": "**Changing commit** from \"[f66e4bc00b87b87196743273ec8108c3b86fada8](https://github.com/sagemath/sagetrac-mirror/commit/f66e4bc00b87b87196743273ec8108c3b86fada8)\" to \"[7c003dba37f63144d36ec37109deb5b9dadeb9eb](https://github.com/sagemath/sagetrac-mirror/commit/7c003dba37f63144d36ec37109deb5b9dadeb9eb)\".",
    "created_at": "2021-07-08T14:52:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519843",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f66e4bc00b87b87196743273ec8108c3b86fada8](https://github.com/sagemath/sagetrac-mirror/commit/f66e4bc00b87b87196743273ec8108c3b86fada8)" to "[7c003dba37f63144d36ec37109deb5b9dadeb9eb](https://github.com/sagemath/sagetrac-mirror/commit/7c003dba37f63144d36ec37109deb5b9dadeb9eb)".



---

archive/issue_comments_519844.json:
```json
{
    "body": "<a id='comment:28'>**Comment 28:**</a>\nReplying to [@egourgoulhon](#comment%3A26):\n> 2. In the INPUT section of the docstring of class `Chart`:\n> - the argument `coordinates` is described as having a default value, which is no longer true \n> [...]\n> - the argument `names` should removed\n\nActually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`",
    "created_at": "2021-07-08T14:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519844",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:28'>**Comment 28:**</a>
Replying to [@egourgoulhon](#comment%3A26):
> 2. In the INPUT section of the docstring of class `Chart`:
> - the argument `coordinates` is described as having a default value, which is no longer true 
> [...]
> - the argument `names` should removed

Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`



---

archive/issue_comments_519845.json:
```json
{
    "body": "**Changing commit** from \"[7c003dba37f63144d36ec37109deb5b9dadeb9eb](https://github.com/sagemath/sagetrac-mirror/commit/7c003dba37f63144d36ec37109deb5b9dadeb9eb)\" to \"[a39e6fcd968af4a05c777357cdd470e61c244114](https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114)\".",
    "created_at": "2021-07-08T15:08:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519845",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[7c003dba37f63144d36ec37109deb5b9dadeb9eb](https://github.com/sagemath/sagetrac-mirror/commit/7c003dba37f63144d36ec37109deb5b9dadeb9eb)" to "[a39e6fcd968af4a05c777357cdd470e61c244114](https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114)".



---

archive/issue_comments_519846.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f85e71030990cea8ba757facbda9e725e11c47fe\">f85e710</a></td><td><code>Chart: in the description of the argument coord_restrictions, replace all instances of 'restrictions' by 'coord_restrictions'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80f6195ad1e9156516a45fdefdc183661b8c897c\">80f6195</a></td><td><code>Chart, RealChart: In class docstring, order arguments as they appear in __classcall__/__init__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114\">a39e6fc</a></td><td><code>DiffChart, RealDiffChart: In class docstring, order arguments as they appear in __classcall__/__init__; add description of argument coord_restrictions</code></td></tr></table>\n",
    "created_at": "2021-07-08T15:08:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519846",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>**Comment 29:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f85e71030990cea8ba757facbda9e725e11c47fe">f85e710</a></td><td><code>Chart: in the description of the argument coord_restrictions, replace all instances of 'restrictions' by 'coord_restrictions'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80f6195ad1e9156516a45fdefdc183661b8c897c">80f6195</a></td><td><code>Chart, RealChart: In class docstring, order arguments as they appear in __classcall__/__init__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114">a39e6fc</a></td><td><code>DiffChart, RealDiffChart: In class docstring, order arguments as they appear in __classcall__/__init__; add description of argument coord_restrictions</code></td></tr></table>




---

archive/issue_comments_519847.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\nReplying to [@mkoeppe](#comment%3A28):\n> Replying to [@egourgoulhon](#comment%3A26):\n> > 2. In the INPUT section of the docstring of class `Chart`:\n> > - the argument `coordinates` is described as having a default value, which is no longer true \n> > [...]\n> > - the argument `names` should removed\n\n> \n> Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`\n\nYes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:\n\n```\nclass sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,\ncoord_restrictions=None)\n```\nThis is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. \n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f85e71030990cea8ba757facbda9e725e11c47fe\">f85e710</a></td><td><code>Chart: in the description of the argument coord_restrictions, replace all instances of 'restrictions' by 'coord_restrictions'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80f6195ad1e9156516a45fdefdc183661b8c897c\">80f6195</a></td><td><code>Chart, RealChart: In class docstring, order arguments as they appear in __classcall__/__init__</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114\">a39e6fc</a></td><td><code>DiffChart, RealDiffChart: In class docstring, order arguments as they appear in __classcall__/__init__; add description of argument coord_restrictions</code></td></tr></table>\n",
    "created_at": "2021-07-08T15:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519847",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:30'>**Comment 30:**</a>
Replying to [@mkoeppe](#comment%3A28):
> Replying to [@egourgoulhon](#comment%3A26):
> > 2. In the INPUT section of the docstring of class `Chart`:
> > - the argument `coordinates` is described as having a default value, which is no longer true 
> > [...]
> > - the argument `names` should removed

> 
> Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`

Yes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:

```
class sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,
coord_restrictions=None)
```
This is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. 

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f85e71030990cea8ba757facbda9e725e11c47fe">f85e710</a></td><td><code>Chart: in the description of the argument coord_restrictions, replace all instances of 'restrictions' by 'coord_restrictions'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80f6195ad1e9156516a45fdefdc183661b8c897c">80f6195</a></td><td><code>Chart, RealChart: In class docstring, order arguments as they appear in __classcall__/__init__</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114">a39e6fc</a></td><td><code>DiffChart, RealDiffChart: In class docstring, order arguments as they appear in __classcall__/__init__; add description of argument coord_restrictions</code></td></tr></table>




---

archive/issue_comments_519848.json:
```json
{
    "body": "**Changing commit** from \"[a39e6fcd968af4a05c777357cdd470e61c244114](https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114)\" to \"[cdf20b04b24497e66279b5b745f4ef1ca9e7b555](https://github.com/sagemath/sagetrac-mirror/commit/cdf20b04b24497e66279b5b745f4ef1ca9e7b555)\".",
    "created_at": "2021-07-08T15:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519848",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a39e6fcd968af4a05c777357cdd470e61c244114](https://github.com/sagemath/sagetrac-mirror/commit/a39e6fcd968af4a05c777357cdd470e61c244114)" to "[cdf20b04b24497e66279b5b745f4ef1ca9e7b555](https://github.com/sagemath/sagetrac-mirror/commit/cdf20b04b24497e66279b5b745f4ef1ca9e7b555)".



---

archive/issue_comments_519849.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cdf20b04b24497e66279b5b745f4ef1ca9e7b555\">cdf20b0</a></td><td><code>TopologicalManifold.chart: Add description of argument coord_restrictions</code></td></tr></table>\n",
    "created_at": "2021-07-08T15:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519849",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>**Comment 31:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cdf20b04b24497e66279b5b745f4ef1ca9e7b555">cdf20b0</a></td><td><code>TopologicalManifold.chart: Add description of argument coord_restrictions</code></td></tr></table>




---

archive/issue_comments_519850.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/741fd2e44276baaad155e2af6b9f2e7b4c1d9b82\">741fd2e</a></td><td><code>TopologicalManifold.chart: Add an example of using coord_restrictions</code></td></tr></table>\n",
    "created_at": "2021-07-08T15:29:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519850",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'>**Comment 32:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/741fd2e44276baaad155e2af6b9f2e7b4c1d9b82">741fd2e</a></td><td><code>TopologicalManifold.chart: Add an example of using coord_restrictions</code></td></tr></table>




---

archive/issue_comments_519851.json:
```json
{
    "body": "**Changing commit** from \"[cdf20b04b24497e66279b5b745f4ef1ca9e7b555](https://github.com/sagemath/sagetrac-mirror/commit/cdf20b04b24497e66279b5b745f4ef1ca9e7b555)\" to \"[741fd2e44276baaad155e2af6b9f2e7b4c1d9b82](https://github.com/sagemath/sagetrac-mirror/commit/741fd2e44276baaad155e2af6b9f2e7b4c1d9b82)\".",
    "created_at": "2021-07-08T15:29:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519851",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[cdf20b04b24497e66279b5b745f4ef1ca9e7b555](https://github.com/sagemath/sagetrac-mirror/commit/cdf20b04b24497e66279b5b745f4ef1ca9e7b555)" to "[741fd2e44276baaad155e2af6b9f2e7b4c1d9b82](https://github.com/sagemath/sagetrac-mirror/commit/741fd2e44276baaad155e2af6b9f2e7b4c1d9b82)".



---

archive/issue_comments_519852.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nReplying to [@egourgoulhon](#comment%3A30):\n> Replying to [@mkoeppe](#comment%3A28):\n> > Replying to [@egourgoulhon](#comment%3A26):\n> > > 2. In the INPUT section of the docstring of class `Chart`:\n> > > - the argument `coordinates` is described as having a default value, which is no longer true \n> > > [...]\n> > > - the argument `names` should removed\n\n> > \n> > Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`\n\n> \n> Yes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:\n> \n> ```\n> class sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,\n> coord_restrictions=None)\n> ```\n> This is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. \n\nGreat point; I have opened #32163 for this general issue.",
    "created_at": "2021-07-08T15:37:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519852",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:33'>**Comment 33:**</a>
Replying to [@egourgoulhon](#comment%3A30):
> Replying to [@mkoeppe](#comment%3A28):
> > Replying to [@egourgoulhon](#comment%3A26):
> > > 2. In the INPUT section of the docstring of class `Chart`:
> > > - the argument `coordinates` is described as having a default value, which is no longer true 
> > > [...]
> > > - the argument `names` should removed

> > 
> > Actually, `coordinates` and `names` still have the same behavior as before -- it is implemented by `__classcall__`

> 
> Yes I understand this; the question is rather about the consistency of the INPUT field with the class declaration as it appears in the reference manual:
> 
> ```
> class sage.manifolds.chart.Chart(domain, coordinates, calc_method, periods=None,
> coord_restrictions=None)
> ```
> This is because Sphinx constructs the above from the `__init__` method, not taking into account `__classcall__`. If one looks at the html output of the reference manual, the INPUT field arrives just after the class declaration. But I agree with you that this does not reflect the way the class should be invoked. I don't know what is the policy here. Possibly, this issue appears in other parts of Sage as well. 

Great point; I have opened #32163 for this general issue.



---

archive/issue_comments_519853.json:
```json
{
    "body": "<a id='comment:34'>**Comment 34:**</a>\nReplying to [@mkoeppe](#comment%3A33):\n> \n> Great point; I have opened #32163 for this general issue.\n> \n\nOK thanks. Meanwhile, let us leave things as they are, i.e. have the INPUT section of `Chart` and `RealChart` docstrings describe `__classcall__`.",
    "created_at": "2021-07-09T15:09:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519853",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:34'>**Comment 34:**</a>
Replying to [@mkoeppe](#comment%3A33):
> 
> Great point; I have opened #32163 for this general issue.
> 

OK thanks. Meanwhile, let us leave things as they are, i.e. have the INPUT section of `Chart` and `RealChart` docstrings describe `__classcall__`.



---

archive/issue_comments_519854.json:
```json
{
    "body": "**Reviewer:** Eric Gourgoulhon",
    "created_at": "2021-07-09T15:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519854",
    "user": "https://github.com/egourgoulhon"
}
```

**Reviewer:** Eric Gourgoulhon



---

archive/issue_comments_519855.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\nThanks for this improvement!",
    "created_at": "2021-07-09T15:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519855",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:35'>**Comment 35:**</a>
Thanks for this improvement!



---

archive/issue_events_389835.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-07-09T15:10:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389835"
}
```



---

archive/issue_events_389836.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-07-09T15:10:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389836"
}
```



---

archive/issue_comments_519856.json:
```json
{
    "body": "<a id='comment:36'>**Comment 36:**</a>\nThanks for reviewing!",
    "created_at": "2021-07-09T15:50:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519856",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'>**Comment 36:**</a>
Thanks for reviewing!



---

archive/issue_comments_519857.json:
```json
{
    "body": "**Changing commit** from \"[741fd2e44276baaad155e2af6b9f2e7b4c1d9b82](https://github.com/sagemath/sagetrac-mirror/commit/741fd2e44276baaad155e2af6b9f2e7b4c1d9b82)\" to \"[141ccb5427686ca042815c19d9dc01d3a11ca873](https://github.com/sagemath/sagetrac-mirror/commit/141ccb5427686ca042815c19d9dc01d3a11ca873)\".",
    "created_at": "2021-07-12T21:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519857",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[741fd2e44276baaad155e2af6b9f2e7b4c1d9b82](https://github.com/sagemath/sagetrac-mirror/commit/741fd2e44276baaad155e2af6b9f2e7b4c1d9b82)" to "[141ccb5427686ca042815c19d9dc01d3a11ca873](https://github.com/sagemath/sagetrac-mirror/commit/141ccb5427686ca042815c19d9dc01d3a11ca873)".



---

archive/issue_events_389837.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-12T21:24:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389837"
}
```



---

archive/issue_events_389838.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-12T21:24:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389838"
}
```



---

archive/issue_comments_519858.json:
```json
{
    "body": "<a id='comment:37'>**Comment 37:**</a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f602323e887305512a471771a575aef773fdc0b\">0f60232</a></td><td><code>ConditionSet: Do not sort the conditions, just use _stable_uniq</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69d045a4556bc20f6b3d6aaf65c0e1241ecfbdc2\">69d045a</a></td><td><code>ConditionSet: In doctests, do not rename ZZ^2 etc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daeb91e7313d4240002e573078fb5547cc3a8a78\">daeb91e</a></td><td><code>src/sage/sets/set.py: Fix docstring markup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cf21999c9e809038b2172ce5c176228f8dde4e8\">2cf2199</a></td><td><code>Merge #32015</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1eb270a5e34e0ae634e73054d644499f10c16779\">1eb270a</a></td><td><code>src/sage/docs/conf.py: Add more \\ensuremath to \\DeclareUnicodeCharacter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26824697667f2eec0977b532f442e8e2ed4a8058\">2682469</a></td><td><code>src/sage/interfaces/sympy_wrapper.py: Use Family, not Set, in doctests to make sure that the SageSet wrapper is actually used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/753babb46c7bbe70faa1e0da4d7887b4fa5867e0\">753babb</a></td><td><code>Set_object_enumerated._sympy_: Translate empty sets to EmptySet</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/141ecde3a8382635148f88aa8f5a736fd2f29a95\">141ecde</a></td><td><code>Merge #32015</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf62543e71954a3ad3acecd4a3089692a4eea9f5\">bf62543</a></td><td><code>Merge branch 't/32089/conditionset__conditionset_callable_symbolic_expression' into t/32009/eliminate_direct_use_of_the_chart__domain_attribute</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/141ccb5427686ca042815c19d9dc01d3a11ca873\">141ccb5</a></td><td><code>Merge #32009</code></td></tr></table>\n",
    "created_at": "2021-07-12T21:24:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519858",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:37'>**Comment 37:**</a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f602323e887305512a471771a575aef773fdc0b">0f60232</a></td><td><code>ConditionSet: Do not sort the conditions, just use _stable_uniq</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69d045a4556bc20f6b3d6aaf65c0e1241ecfbdc2">69d045a</a></td><td><code>ConditionSet: In doctests, do not rename ZZ^2 etc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daeb91e7313d4240002e573078fb5547cc3a8a78">daeb91e</a></td><td><code>src/sage/sets/set.py: Fix docstring markup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cf21999c9e809038b2172ce5c176228f8dde4e8">2cf2199</a></td><td><code>Merge #32015</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1eb270a5e34e0ae634e73054d644499f10c16779">1eb270a</a></td><td><code>src/sage/docs/conf.py: Add more \ensuremath to \DeclareUnicodeCharacter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26824697667f2eec0977b532f442e8e2ed4a8058">2682469</a></td><td><code>src/sage/interfaces/sympy_wrapper.py: Use Family, not Set, in doctests to make sure that the SageSet wrapper is actually used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/753babb46c7bbe70faa1e0da4d7887b4fa5867e0">753babb</a></td><td><code>Set_object_enumerated._sympy_: Translate empty sets to EmptySet</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/141ecde3a8382635148f88aa8f5a736fd2f29a95">141ecde</a></td><td><code>Merge #32015</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf62543e71954a3ad3acecd4a3089692a4eea9f5">bf62543</a></td><td><code>Merge branch 't/32089/conditionset__conditionset_callable_symbolic_expression' into t/32009/eliminate_direct_use_of_the_chart__domain_attribute</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/141ccb5427686ca042815c19d9dc01d3a11ca873">141ccb5</a></td><td><code>Merge #32009</code></td></tr></table>




---

archive/issue_events_389839.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-12T21:25:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389839"
}
```



---

archive/issue_events_389840.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-12T21:25:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389840"
}
```



---

archive/issue_comments_519859.json:
```json
{
    "body": "<a id='comment:38'>**Comment 38:**</a>\nMerged updated #32009",
    "created_at": "2021-07-12T21:25:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519859",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'>**Comment 38:**</a>
Merged updated #32009



---

archive/issue_comments_519860.json:
```json
{
    "body": "<a id='comment:39'>**Comment 39:**</a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea08261f4d62b469fdf6a75649a55fa5900727aa\">ea08261</a></td><td><code>Merge #32009</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d1c44d7e5dde0c2a65740a615998205b48be075\">3d1c44d</a></td><td><code>Merge tag '9.4.beta5' into t/32116/chart__parse_coordinates</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c218828e5bfea9d5cb75d29cc4e864961397989c\">c218828</a></td><td><code>Merge #32116</code></td></tr></table>\n",
    "created_at": "2021-07-19T01:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519860",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:39'>**Comment 39:**</a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea08261f4d62b469fdf6a75649a55fa5900727aa">ea08261</a></td><td><code>Merge #32009</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d1c44d7e5dde0c2a65740a615998205b48be075">3d1c44d</a></td><td><code>Merge tag '9.4.beta5' into t/32116/chart__parse_coordinates</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c218828e5bfea9d5cb75d29cc4e864961397989c">c218828</a></td><td><code>Merge #32116</code></td></tr></table>




---

archive/issue_comments_519861.json:
```json
{
    "body": "**Changing commit** from \"[141ccb5427686ca042815c19d9dc01d3a11ca873](https://github.com/sagemath/sagetrac-mirror/commit/141ccb5427686ca042815c19d9dc01d3a11ca873)\" to \"[c218828e5bfea9d5cb75d29cc4e864961397989c](https://github.com/sagemath/sagetrac-mirror/commit/c218828e5bfea9d5cb75d29cc4e864961397989c)\".",
    "created_at": "2021-07-19T01:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519861",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[141ccb5427686ca042815c19d9dc01d3a11ca873](https://github.com/sagemath/sagetrac-mirror/commit/141ccb5427686ca042815c19d9dc01d3a11ca873)" to "[c218828e5bfea9d5cb75d29cc4e864961397989c](https://github.com/sagemath/sagetrac-mirror/commit/c218828e5bfea9d5cb75d29cc4e864961397989c)".



---

archive/issue_events_389841.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-19T01:54:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389841"
}
```



---

archive/issue_events_389842.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-07-19T01:54:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389842"
}
```



---

archive/issue_events_389843.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:55:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389843"
}
```



---

archive/issue_events_389844.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:55:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389844"
}
```



---

archive/issue_events_389845.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:06:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389845"
}
```



---

archive/issue_events_389846.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-24T19:06:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32102#event-389846"
}
```



---

archive/issue_comments_519862.json:
```json
{
    "body": "<a id='comment:41'>**Comment 41:**</a>\nApparently this has been merged as part of #32089.",
    "created_at": "2021-07-24T19:06:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32102",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32102#issuecomment-519862",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'>**Comment 41:**</a>
Apparently this has been merged as part of #32089.
