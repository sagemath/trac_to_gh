# Issue 32716: pkgs/sagemath-*/tox.ini: Create environment that uses Sage's python as the basepython, fix sagemath-standard deps

archive/issues_032479.json:
```json
{
    "assignees": [],
    "body": "Newer versions of `tox` seem to provision python 3.10 when the environment `python` is used, but then our wheels don't necessarily fit.\n\nFor this reason, the examples shown in the developer's manual hardcoded the Python version (`tox -e py39`). \n\nWe now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples, such as:\n\n```\n./bootstrap && ./sage -sh -c '(cd pkgs/sagemath-standard && SAGE_NUM_THREADS=16 tox -v -v -v -e sagepython-sagewheels-nopypi)'\n```\n(to be run after `make build`)\n\nDepends on #33936\n\nCC:  @dimpase @kwankyu\n\nBranch: **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32716_\n\n",
    "closed_at": "2022-07-10T22:34:59Z",
    "created_at": "2021-10-18T22:08:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/refactoring",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "pkgs/sagemath-*/tox.ini: Create environment that uses Sage's python as the basepython, fix sagemath-standard deps",
    "type": "issue",
    "updated_at": "2022-07-27T01:36:40Z",
    "url": "https://github.com/sagemath/sage/issues/32716",
    "user": "https://github.com/mkoeppe"
}
```
Newer versions of `tox` seem to provision python 3.10 when the environment `python` is used, but then our wheels don't necessarily fit.

For this reason, the examples shown in the developer's manual hardcoded the Python version (`tox -e py39`). 

We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples, such as:

```
./bootstrap && ./sage -sh -c '(cd pkgs/sagemath-standard && SAGE_NUM_THREADS=16 tox -v -v -v -e sagepython-sagewheels-nopypi)'
```
(to be run after `make build`)

Depends on #33936

CC:  @dimpase @kwankyu

Branch: **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

_Issue created by migration from https://trac.sagemath.org/ticket/32716_





---

archive/issue_events_418028.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T22:08:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418028"
}
```



---

archive/issue_events_418029.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T22:08:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/refactoring",
    "label_color": "696969",
    "label_name": "refactoring",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418029"
}
```



---

archive/issue_events_418030.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T22:08:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418030"
}
```



---

archive/issue_events_418031.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T22:08:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418031"
}
```



---

archive/issue_events_418032.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T22:34:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "title_is": "pkgs/sagemath-standard/tox.ini: Use Sage's python by default",
    "title_was": "pkg/sagemath-standard/tox.ini: Use Sage's python by default",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418032"
}
```



---

archive/issue_events_418033.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-10T00:37:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418033"
}
```



---

archive/issue_events_418034.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-10T00:37:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418034"
}
```



---

archive/issue_events_418035.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418035"
}
```



---

archive/issue_events_418036.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418036"
}
```



---

archive/issue_comments_530927.json:
```json
{
    "body": "Branch: **[u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default)**",
    "created_at": "2022-05-07T23:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530927",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default)**



---

archive/issue_comments_530928.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2022-05-07T23:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530928",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_530929.json:
```json
{
    "body": "Commit: **[9db6b2f](https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb)**",
    "created_at": "2022-05-07T23:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530929",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[9db6b2f](https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb)**



---

archive/issue_comments_530930.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,6 @@\n-Newer versions of `tox` seem to provision python 3.10 when the environment `python` is used, but then our wheels don't fit.\n+Newer versions of `tox` seem to provision python 3.10 when the environment `python` is used, but then our wheels don't necessarily fit.\n \n+For this reason, the examples shown in the developer's manual hardcoded the Python version (`tox -e py39`). \n+\n+We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples.\n+\n``````\n",
    "created_at": "2022-05-07T23:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530930",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,6 @@
-Newer versions of `tox` seem to provision python 3.10 when the environment `python` is used, but then our wheels don't fit.
+Newer versions of `tox` seem to provision python 3.10 when the environment `python` is used, but then our wheels don't necessarily fit.
 
+For this reason, the examples shown in the developer's manual hardcoded the Python version (`tox -e py39`). 
+
+We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples.
+
``````




---

archive/issue_events_418037.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-07T23:06:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418037"
}
```



---

archive/issue_comments_530931.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ce30b8415cc104723c2a4850ca3c33064259959\">5ce30b8</a></td><td><code>pkgs/sage-setup, sagemath-{objects,categories,standard}: Add tox environment sagepython</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb\">9db6b2f</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Use sagepython instead of hardcoded py39</code></td></tr></table>\n",
    "created_at": "2022-05-07T23:06:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530931",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'>Comment 5:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ce30b8415cc104723c2a4850ca3c33064259959">5ce30b8</a></td><td><code>pkgs/sage-setup, sagemath-{objects,categories,standard}: Add tox environment sagepython</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb">9db6b2f</a></td><td><code>src/doc/en/developer/packaging_sage_library.rst: Use sagepython instead of hardcoded py39</code></td></tr></table>




---

archive/issue_events_418038.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-07T23:07:18Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "title_is": "pkgs/sagemath-standard/tox.ini: Create environment that uses Sage's python as the basepython",
    "title_was": "pkgs/sagemath-standard/tox.ini: Use Sage's python by default",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418038"
}
```



---

archive/issue_comments_530932.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,5 +2,9 @@\n \n For this reason, the examples shown in the developer's manual hardcoded the Python version (`tox -e py39`). \n \n-We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples.\n+We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples, such as:\n \n+```\n+./bootstrap && ./sage -sh -c '(cd pkgs/sagemath-standard && SAGE_NUM_THREADS=16 tox -v -v -v -e sagepython-sagewheels-nopypi)'\n+```\n+\n``````\n",
    "created_at": "2022-05-30T19:41:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530932",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,5 +2,9 @@
 
 For this reason, the examples shown in the developer's manual hardcoded the Python version (`tox -e py39`). 
 
-We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples.
+We now define tox environments `sagepython` in `tox.ini`, which takes Python as `SAGE_VENV/bin/python3` and change the manual to use this environment in examples, such as:
 
+```
+./bootstrap && ./sage -sh -c '(cd pkgs/sagemath-standard && SAGE_NUM_THREADS=16 tox -v -v -v -e sagepython-sagewheels-nopypi)'
+```
+
``````




---

archive/issue_events_418039.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-10T11:27:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418039"
}
```



---

archive/issue_events_418040.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-10T11:27:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418040"
}
```



---

archive/issue_comments_530933.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\ncommand in the ticket description fails with\n\n```\nWARNING: Url 'file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/../../../../venv/var/lib/sage/wheels' is ignored: it is neither a file nor a directory.\nERROR: Could not find a version that satisfies the requirement sage-conf==9.7.beta1\nERROR: No matching distribution found for sage-conf==9.7.beta1\nERROR: invocation failed (exit code 1)\nERROR: could not install deps [-rrequirements.txt]; v = InvocationError('/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -m pip install -rrequirements.txt', 1)\nsagepython-sagewheels-nopypi finish: getenv /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi after 0.69 seconds\n...\n```",
    "created_at": "2022-06-10T11:27:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530933",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'>Comment 8:</a>
command in the ticket description fails with

```
WARNING: Url 'file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/../../../../venv/var/lib/sage/wheels' is ignored: it is neither a file nor a directory.
ERROR: Could not find a version that satisfies the requirement sage-conf==9.7.beta1
ERROR: No matching distribution found for sage-conf==9.7.beta1
ERROR: invocation failed (exit code 1)
ERROR: could not install deps [-rrequirements.txt]; v = InvocationError('/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -m pip install -rrequirements.txt', 1)
sagepython-sagewheels-nopypi finish: getenv /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi after 0.69 seconds
...
```



---

archive/issue_comments_530934.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nDid you run `make build` as the manual explains?",
    "created_at": "2022-06-10T19:57:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530934",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'>Comment 9:</a>
Did you run `make build` as the manual explains?



---

archive/issue_comments_530935.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,4 +7,4 @@\n ```\n ./bootstrap && ./sage -sh -c '(cd pkgs/sagemath-standard && SAGE_NUM_THREADS=16 tox -v -v -v -e sagepython-sagewheels-nopypi)'\n ```\n-\n+(to be run after `make build`)\n``````\n",
    "created_at": "2022-06-12T18:47:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530935",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,4 +7,4 @@
 ```
 ./bootstrap && ./sage -sh -c '(cd pkgs/sagemath-standard && SAGE_NUM_THREADS=16 tox -v -v -v -e sagepython-sagewheels-nopypi)'
 ```
-
+(to be run after `make build`)
``````




---

archive/issue_events_418041.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-12T18:47:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418041"
}
```



---

archive/issue_events_418042.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-12T18:47:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418042"
}
```



---

archive/issue_events_418043.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-13T11:11:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418043"
}
```



---

archive/issue_events_418044.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-13T11:11:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418044"
}
```



---

archive/issue_comments_530936.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nbesides `make build`, I also needed to apply\n\n```diff\ndiff --git a/build/pkgs/sage_conf/install-requires.txt b/build/pkgs/sage_conf/install-requires.txt\nindex 83ad7e641fa..3d4ff51d565 100644\n--- a/build/pkgs/sage_conf/install-requires.txt\n+++ b/build/pkgs/sage_conf/install-requires.txt\n@@ -1 +1 @@\n-sage-conf ~= 9.5.b6\n+sage-conf\ndiff --git a/build/pkgs/sage_setup/install-requires.txt b/build/pkgs/sage_setup/install-requires.txt\nindex 01a931f5eb5..9d4666c07f4 100644\n--- a/build/pkgs/sage_setup/install-requires.txt\n+++ b/build/pkgs/sage_setup/install-requires.txt\n@@ -1 +1 @@\n-sage-setup ~= 9.5.b6\n+sage-setup\n```\nthat `9.5.b6` seemed to come from an obsolete workaround anyway.",
    "created_at": "2022-06-13T11:11:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530936",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'>Comment 11:</a>
besides `make build`, I also needed to apply

```diff
diff --git a/build/pkgs/sage_conf/install-requires.txt b/build/pkgs/sage_conf/install-requires.txt
index 83ad7e641fa..3d4ff51d565 100644
--- a/build/pkgs/sage_conf/install-requires.txt
+++ b/build/pkgs/sage_conf/install-requires.txt
@@ -1 +1 @@
-sage-conf ~= 9.5.b6
+sage-conf
diff --git a/build/pkgs/sage_setup/install-requires.txt b/build/pkgs/sage_setup/install-requires.txt
index 01a931f5eb5..9d4666c07f4 100644
--- a/build/pkgs/sage_setup/install-requires.txt
+++ b/build/pkgs/sage_setup/install-requires.txt
@@ -1 +1 @@
-sage-setup ~= 9.5.b6
+sage-setup
```
that `9.5.b6` seemed to come from an obsolete workaround anyway.



---

archive/issue_comments_530937.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nAnd after these changes, it errors out (much later) with\n\n```\nModuleNotFoundError: No module named 'primecountpy'\nERROR: InvocationError for command /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; \"\" in sys.path and sys.path.remove(\"\"); import sage.all; print(sage.all.__file__)' (exited with code 1)\n```",
    "created_at": "2022-06-13T11:18:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530937",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'>Comment 12:</a>
And after these changes, it errors out (much later) with

```
ModuleNotFoundError: No module named 'primecountpy'
ERROR: InvocationError for command /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; "" in sys.path and sys.path.remove(""); import sage.all; print(sage.all.__file__)' (exited with code 1)
```



---

archive/issue_comments_530938.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nthe latter is probably a config error, as the module is there and well:\n\n```\nsage: import primecountpy\nsage: primecountpy.primecount.prime_pi(100)\n25\n```",
    "created_at": "2022-06-13T11:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530938",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'>Comment 13:</a>
the latter is probably a config error, as the module is there and well:

```
sage: import primecountpy
sage: primecountpy.primecount.prime_pi(100)
25
```



---

archive/issue_comments_530939.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5\">b030e7a</a></td><td><code>Merge tag '9.7.beta2' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default</code></td></tr></table>\n",
    "created_at": "2022-06-17T19:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530939",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5">b030e7a</a></td><td><code>Merge tag '9.7.beta2' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default</code></td></tr></table>




---

archive/issue_comments_530940.json:
```json
{
    "body": "Changed commit from **[9db6b2f](https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb)** to **[b030e7a](https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5)**",
    "created_at": "2022-06-17T19:28:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530940",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9db6b2f](https://github.com/sagemath/sagetrac-mirror/commit/9db6b2f9dfc496edfcf955b3b66bf62919587ddb)** to **[b030e7a](https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5)**



---

archive/issue_comments_530941.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b\">c9ca4e4</a></td><td><code>pkgs/sagemath-standard/tox.ini: Set basepython correctly for all supported sagepython-* environments</code></td></tr></table>\n",
    "created_at": "2022-06-18T00:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530941",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b">c9ca4e4</a></td><td><code>pkgs/sagemath-standard/tox.ini: Set basepython correctly for all supported sagepython-* environments</code></td></tr></table>




---

archive/issue_comments_530942.json:
```json
{
    "body": "Changed commit from **[b030e7a](https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5)** to **[c9ca4e4](https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b)**",
    "created_at": "2022-06-18T00:33:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530942",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b030e7a](https://github.com/sagemath/sagetrac-mirror/commit/b030e7a306b6433d13b910119ea215556c6e53a5)** to **[c9ca4e4](https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b)**



---

archive/issue_comments_530943.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nThanks for testing. Indeed it didn't work with sagemath-standard because I made a mistake in the tox configuration. Fixed now",
    "created_at": "2022-06-18T00:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530943",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'>Comment 16:</a>
Thanks for testing. Indeed it didn't work with sagemath-standard because I made a mistake in the tox configuration. Fixed now



---

archive/issue_events_418045.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-18T00:34:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418045"
}
```



---

archive/issue_events_418046.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-18T00:34:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418046"
}
```



---

archive/issue_events_418047.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-18T00:43:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "title_is": "pkgs/sagemath-*/tox.ini: Create environment that uses Sage's python as the basepython",
    "title_was": "pkgs/sagemath-standard/tox.ini: Create environment that uses Sage's python as the basepython",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418047"
}
```



---

archive/issue_comments_530944.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec\">01bd09c</a></td><td><code>pkgs/sagemath-{environment,repl}/tox.ini: Add sagepython toxenv</code></td></tr></table>\n",
    "created_at": "2022-06-18T00:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530944",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'>Comment 18:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec">01bd09c</a></td><td><code>pkgs/sagemath-{environment,repl}/tox.ini: Add sagepython toxenv</code></td></tr></table>




---

archive/issue_comments_530945.json:
```json
{
    "body": "Changed commit from **[c9ca4e4](https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b)** to **[01bd09c](https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec)**",
    "created_at": "2022-06-18T00:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530945",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c9ca4e4](https://github.com/sagemath/sagetrac-mirror/commit/c9ca4e4f0d7c76c41c8afb3a882c92abc0cac85b)** to **[01bd09c](https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec)**



---

archive/issue_comments_530946.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI'm not a big yaml/tompl expert, but why\n\n```\nbasepython = {env:SAGE_VENV}/bin/python3\n``` \n\nis repeated 7 times? Can't it be set once and for all?",
    "created_at": "2022-06-18T07:50:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530946",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'>Comment 19:</a>
I'm not a big yaml/tompl expert, but why

```
basepython = {env:SAGE_VENV}/bin/python3
``` 

is repeated 7 times? Can't it be set once and for all?



---

archive/issue_comments_530947.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThe `basepython` variable has useful defaulting behavior: Environment names that include a `pyNM` factor configure `basepython = pythonN.M` etc., see https://tox.wiki/en/latest/config.html#tox-environments\n\nI want to override it only for environments with the `sagepython` factor. Unfortunately I haven't found a more elegant solution than repeating it for the listed environments.",
    "created_at": "2022-06-18T17:28:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530947",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:20'>Comment 20:</a>
The `basepython` variable has useful defaulting behavior: Environment names that include a `pyNM` factor configure `basepython = pythonN.M` etc., see https://tox.wiki/en/latest/config.html#tox-environments

I want to override it only for environments with the `sagepython` factor. Unfortunately I haven't found a more elegant solution than repeating it for the listed environments.



---

archive/issue_comments_530948.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745\">3839cee</a></td><td><code>Merge tag '9.7.beta3' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default</code></td></tr></table>\n",
    "created_at": "2022-06-25T23:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530948",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745">3839cee</a></td><td><code>Merge tag '9.7.beta3' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default</code></td></tr></table>




---

archive/issue_comments_530949.json:
```json
{
    "body": "Changed commit from **[01bd09c](https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec)** to **[3839cee](https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745)**",
    "created_at": "2022-06-25T23:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530949",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[01bd09c](https://github.com/sagemath/sagetrac-mirror/commit/01bd09cc6a6f276941975c8fb163b70fa1c04cec)** to **[3839cee](https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745)**



---

archive/issue_comments_530950.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\non Fedora 34:\n\n```\nsage: import sage_conf\nsage: sage_conf.VERSION\n'9.7.beta3'\n```\nbut\n\n```\n...\nSkipping link: wrong project name (not sage-conf): file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels/sphinxcontrib_serializinghtml-1.1.5-py2.py3-none-any.whl\n  Local files found: /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels/sage_conf-9.7b3-py3-none-any.whl\n  Given no hashes to check 0 links for project 'sage-conf': discarding no candidates\n  ERROR: Could not find a version that satisfies the requirement sage-conf~=9.5.b6\n  ERROR: No matching distribution found for sage-conf~=9.5.b6\n  Exception information:\n  Traceback (most recent call last):\n    File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib/python3.9/site-packages/pip/_vendor/resolvelib/resolvers.py\", line 171, in _merge_into_criterion\n \n     crit = self.state.criteria[name]\n  KeyError: 'sage-conf'\n```",
    "created_at": "2022-06-29T10:43:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530950",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:22'>Comment 22:</a>
on Fedora 34:

```
sage: import sage_conf
sage: sage_conf.VERSION
'9.7.beta3'
```
but

```
...
Skipping link: wrong project name (not sage-conf): file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels/sphinxcontrib_serializinghtml-1.1.5-py2.py3-none-any.whl
  Local files found: /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels/sage_conf-9.7b3-py3-none-any.whl
  Given no hashes to check 0 links for project 'sage-conf': discarding no candidates
  ERROR: Could not find a version that satisfies the requirement sage-conf~=9.5.b6
  ERROR: No matching distribution found for sage-conf~=9.5.b6
  Exception information:
  Traceback (most recent call last):
    File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib/python3.9/site-packages/pip/_vendor/resolvelib/resolvers.py", line 171, in _merge_into_criterion
 
     crit = self.state.criteria[name]
  KeyError: 'sage-conf'
```



---

archive/issue_events_418048.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-29T10:43:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418048"
}
```



---

archive/issue_events_418049.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-29T10:43:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418049"
}
```



---

archive/issue_comments_530951.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nit seems that `sage-conf` is not looked up in the right place, i.e. in `venv/`.",
    "created_at": "2022-06-29T10:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530951",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:23'>Comment 23:</a>
it seems that `sage-conf` is not looked up in the right place, i.e. in `venv/`.



---

archive/issue_comments_530952.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nDo you happen to use `--enable-editable` in this build?",
    "created_at": "2022-06-29T15:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530952",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'>Comment 24:</a>
Do you happen to use `--enable-editable` in this build?



---

archive/issue_comments_530953.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@mkoeppe](#comment%3A24):\n> Do you happen to use `--enable-editable` in this build?\n\nno",
    "created_at": "2022-06-29T16:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530953",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@mkoeppe](#comment%3A24):
> Do you happen to use `--enable-editable` in this build?

no



---

archive/issue_comments_530954.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nOK, I guess I have to make changes to `build/pkgs/sage_conf/install-requires.txt` so it does not reject the wheel",
    "created_at": "2022-06-30T00:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530954",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:26'>Comment 26:</a>
OK, I guess I have to make changes to `build/pkgs/sage_conf/install-requires.txt` so it does not reject the wheel



---

archive/issue_comments_530955.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe510ef42ceb7f9c25c838d8bb952019a246ac5a\">fe510ef</a></td><td><code>build/pkgs/sage_{conf,setup}/install-requires: Use ~= 9.7.b3</code></td></tr></table>\n",
    "created_at": "2022-06-30T00:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530955",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe510ef42ceb7f9c25c838d8bb952019a246ac5a">fe510ef</a></td><td><code>build/pkgs/sage_{conf,setup}/install-requires: Use ~= 9.7.b3</code></td></tr></table>




---

archive/issue_comments_530956.json:
```json
{
    "body": "Changed commit from **[3839cee](https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745)** to **[fe510ef](https://github.com/sagemath/sagetrac-mirror/commit/fe510ef42ceb7f9c25c838d8bb952019a246ac5a)**",
    "created_at": "2022-06-30T00:38:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530956",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3839cee](https://github.com/sagemath/sagetrac-mirror/commit/3839ceec11ae8397cf923464354fdf1d68287745)** to **[fe510ef](https://github.com/sagemath/sagetrac-mirror/commit/fe510ef42ceb7f9c25c838d8bb952019a246ac5a)**



---

archive/issue_events_418050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-30T00:40:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418050"
}
```



---

archive/issue_events_418051.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-06-30T00:40:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418051"
}
```



---

archive/issue_comments_530957.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nfor some reason, in this branch `./configure` was hanging (!) at testing for `giac` version. I did the following obvious change, and it passed\n\n```diff\n--- a/build/pkgs/giac/spkg-configure.m4\n+++ b/build/pkgs/giac/spkg-configure.m4\n@@ -23,5 +23,6 @@ SAGE_SPKG_CONFIGURE([giac], [\n         ], [sage_spkg_install_giac=yes])\n        ], [sage_spkg_install_giac=yes])\n        m4_popdef([GIAC_MIN_VERSION])\n+       m4_popdef([GIAC_MAX_VERSION])\n     ])\n ])\n```",
    "created_at": "2022-06-30T18:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530957",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:29'>Comment 29:</a>
for some reason, in this branch `./configure` was hanging (!) at testing for `giac` version. I did the following obvious change, and it passed

```diff
--- a/build/pkgs/giac/spkg-configure.m4
+++ b/build/pkgs/giac/spkg-configure.m4
@@ -23,5 +23,6 @@ SAGE_SPKG_CONFIGURE([giac], [
         ], [sage_spkg_install_giac=yes])
        ], [sage_spkg_install_giac=yes])
        m4_popdef([GIAC_MIN_VERSION])
+       m4_popdef([GIAC_MAX_VERSION])
     ])
 ])
```



---

archive/issue_comments_530958.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nThat's very strange",
    "created_at": "2022-06-30T18:13:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530958",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:30'>Comment 30:</a>
That's very strange



---

archive/issue_comments_530959.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nDo you want to push this change to the branch here or open a new ticket for it? Either way is fine with me",
    "created_at": "2022-06-30T18:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530959",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'>Comment 31:</a>
Do you want to push this change to the branch here or open a new ticket for it? Either way is fine with me



---

archive/issue_comments_530960.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nnow something is not right with `primecountpy` (which works fine with \"normal\" sage, e.g.\n`./sage -tp 16 src/sage/functions/prime_pi.pyx` passes just fine)\n\n```\nsagepython-sagewheels-nopypi finish: envreport  after 0.16 seconds\nsagepython-sagewheels-nopypi installed: DEPRECATION: --find-links option in pip freeze is deprecated. pip 21.2 will remove support for this functionality. You can find discussion regarding this at https://github.com/pypa/pip/issues/9069.,-f file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels,alabaster==0.7.12,Babel==2.9.1,backcall==0.2.0,certifi==2021.10.8,cffi==1.15.0,charset-normalizer==2.0.4,cvxopt==1.2.7,cycler==0.11.0,cypari2==2.1.2,cysignals==1.11.2,Cython==0.29.30,decorator==5.0.9,docutils==0.17.1,entrypoints==0.3,fonttools==4.28.4,fpylll==0.5.7,gmpy2==2.1.1,idna==3.2,imagesize==1.2.0,importlib-metadata==4.8.2,ipykernel==6.6.0,ipython==7.29.0,ipython-genutils==0.2.0,ipywidgets==7.6.5,jedi==0.18.1,Jinja2==3.1.2,jupyter-client==7.1.0,jupyter-core==4.9.1,kiwisolver==1.3.2,MarkupSafe==2.1.1,matplotlib==3.5.1,matplotlib-inline==0.1.2,memory-allocator==0.1.3,mpmath==1.2.1,nest-asyncio==1.5.4,networkx==2.6.3,numpy==1.21.4,packaging==21.3,parso==0.8.2,pexpect==4.8.0,pickleshare==0.7.5,Pillow==9.0.1,pkgconfig==1.5.5,pplpy==0.8.6,prompt-toolkit==3.0.22,ptyprocess==0.5.1,pycparser==2.21,Pygments==2.10.0,pyparsing==3.0.6,python-dateutil==2.8.2,pytz==2021.3,pyzmq==22.3.0,requests==2.26.0,rpy2==3.3.6,sage-conf==9.7b3,sagemath-standard @ file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/.tmp/package/1/sagemath-standard-9.7b3.zip,scipy==1.7.3,six==1.16.0,snowballstemmer==2.1.0,Sphinx==4.4.0,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==2.0.0,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.5,sympy==1.10.1,tornado==6.1,traitlets==5.1.1,tzlocal==2.1,urllib3==1.26.6,wcwidth==0.2.5,widgetsnbextension==3.5.2,zipp==3.5.0\n  removing /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/tmp\nsagepython-sagewheels-nopypi start: run-test-pre \nsagepython-sagewheels-nopypi run-test-pre: PYTHONHASHSEED='632737325'\nsagepython-sagewheels-nopypi finish: run-test-pre  after 0.00 seconds\nsagepython-sagewheels-nopypi start: run-test \nsagepython-sagewheels-nopypi run-test: commands[0] | python -c 'import sys; \"\" in sys.path and sys.path.remove(\"\"); import sage.all; print(sage.all.__file__)'\nsetting PATH=/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/src/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/build/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/bin:/home/scratch2/dimpase/mambaforge/bin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/lib64/qt-3.3/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/auto/users/dimpase/bin\n[3346474] /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard$ /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; \"\" in sys.path and sys.path.remove(\"\"); import sage.all; print(sage.all.__file__)'\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/all.py\", line 138, in <module>\n    from sage.algebras.all   import *\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/algebras/all.py\", line 21, in <module>\n    import sage.algebras.catalog as algebras\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/algebras/catalog.py\", line 84, in <module>\n    from sage.algebras.clifford_algebra import CliffordAlgebra as Clifford\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/algebras/clifford_algebra.py\", line 35, in <module>\n    from sage.quadratic_forms.quadratic_form import QuadraticForm\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/quadratic_forms/quadratic_form.py\", line 192, in <module>\n    class QuadraticForm(SageObject):\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/quadratic_forms/quadratic_form.py\", line 323, in QuadraticForm\n    from sage.quadratic_forms.quadratic_form__local_field_invariants import \\\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/quadratic_forms/quadratic_form__local_field_invariants.py\", line 30, in <module>\n    from sage.functions.all import sgn\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/functions/all.py\", line 68, in <module>\n    from .prime_pi import legendre_phi, partial_sieve_function, prime_pi\n  File \"sage/functions/prime_pi.pyx\", line 37, in init sage.functions.prime_pi (build/cythonized/sage/functions/prime_pi.c:5947)\n    from primecountpy.primecount import prime_pi as _prime_pi\nModuleNotFoundError: No module named 'primecountpy'\nERROR: InvocationError for command /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; \"\" in sys.path and sys.path.remove(\"\"); import sage.all; print(sage.all.__file__)' (exited with code 1)\nsagepython-sagewheels-nopypi finish: run-test  after 0.34 seconds\nsagepython-sagewheels-nopypi start: run-test-post \nsagepython-sagewheels-nopypi finish: run-test-post  after 0.00 seconds\n_______________________________________________ summary _______________________________________________\nERROR:   sagepython-sagewheels-nopypi: commands failed\ncleanup /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/.tmp/package/1/sagemath-standard-9.7b3.zip\n```\n\niirc I saw this earlier...",
    "created_at": "2022-06-30T19:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530960",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:32'>Comment 32:</a>
now something is not right with `primecountpy` (which works fine with "normal" sage, e.g.
`./sage -tp 16 src/sage/functions/prime_pi.pyx` passes just fine)

```
sagepython-sagewheels-nopypi finish: envreport  after 0.16 seconds
sagepython-sagewheels-nopypi installed: DEPRECATION: --find-links option in pip freeze is deprecated. pip 21.2 will remove support for this functionality. You can find discussion regarding this at https://github.com/pypa/pip/issues/9069.,-f file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/var/lib/sage/wheels,alabaster==0.7.12,Babel==2.9.1,backcall==0.2.0,certifi==2021.10.8,cffi==1.15.0,charset-normalizer==2.0.4,cvxopt==1.2.7,cycler==0.11.0,cypari2==2.1.2,cysignals==1.11.2,Cython==0.29.30,decorator==5.0.9,docutils==0.17.1,entrypoints==0.3,fonttools==4.28.4,fpylll==0.5.7,gmpy2==2.1.1,idna==3.2,imagesize==1.2.0,importlib-metadata==4.8.2,ipykernel==6.6.0,ipython==7.29.0,ipython-genutils==0.2.0,ipywidgets==7.6.5,jedi==0.18.1,Jinja2==3.1.2,jupyter-client==7.1.0,jupyter-core==4.9.1,kiwisolver==1.3.2,MarkupSafe==2.1.1,matplotlib==3.5.1,matplotlib-inline==0.1.2,memory-allocator==0.1.3,mpmath==1.2.1,nest-asyncio==1.5.4,networkx==2.6.3,numpy==1.21.4,packaging==21.3,parso==0.8.2,pexpect==4.8.0,pickleshare==0.7.5,Pillow==9.0.1,pkgconfig==1.5.5,pplpy==0.8.6,prompt-toolkit==3.0.22,ptyprocess==0.5.1,pycparser==2.21,Pygments==2.10.0,pyparsing==3.0.6,python-dateutil==2.8.2,pytz==2021.3,pyzmq==22.3.0,requests==2.26.0,rpy2==3.3.6,sage-conf==9.7b3,sagemath-standard @ file:///home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/.tmp/package/1/sagemath-standard-9.7b3.zip,scipy==1.7.3,six==1.16.0,snowballstemmer==2.1.0,Sphinx==4.4.0,sphinxcontrib-applehelp==1.0.2,sphinxcontrib-devhelp==1.0.2,sphinxcontrib-htmlhelp==2.0.0,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==1.0.3,sphinxcontrib-serializinghtml==1.1.5,sympy==1.10.1,tornado==6.1,traitlets==5.1.1,tzlocal==2.1,urllib3==1.26.6,wcwidth==0.2.5,widgetsnbextension==3.5.2,zipp==3.5.0
  removing /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/tmp
sagepython-sagewheels-nopypi start: run-test-pre 
sagepython-sagewheels-nopypi run-test-pre: PYTHONHASHSEED='632737325'
sagepython-sagewheels-nopypi finish: run-test-pre  after 0.00 seconds
sagepython-sagewheels-nopypi start: run-test 
sagepython-sagewheels-nopypi run-test: commands[0] | python -c 'import sys; "" in sys.path and sys.path.remove(""); import sage.all; print(sage.all.__file__)'
setting PATH=/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/src/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/build/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/var/lib/sage/venv-python3.9/bin:/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/local/bin:/home/scratch2/dimpase/mambaforge/bin:/users/dimpase/perl5/bin:/users/dimpase/bin:/usr/lib64/qt-3.3/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/auto/users/dimpase/bin
[3346474] /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard$ /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; "" in sys.path and sys.path.remove(""); import sage.all; print(sage.all.__file__)'
Traceback (most recent call last):
  File "<string>", line 1, in <module>
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/all.py", line 138, in <module>
    from sage.algebras.all   import *
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/algebras/all.py", line 21, in <module>
    import sage.algebras.catalog as algebras
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/algebras/catalog.py", line 84, in <module>
    from sage.algebras.clifford_algebra import CliffordAlgebra as Clifford
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/algebras/clifford_algebra.py", line 35, in <module>
    from sage.quadratic_forms.quadratic_form import QuadraticForm
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/quadratic_forms/quadratic_form.py", line 192, in <module>
    class QuadraticForm(SageObject):
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/quadratic_forms/quadratic_form.py", line 323, in QuadraticForm
    from sage.quadratic_forms.quadratic_form__local_field_invariants import \
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/quadratic_forms/quadratic_form__local_field_invariants.py", line 30, in <module>
    from sage.functions.all import sgn
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/functions/all.py", line 68, in <module>
    from .prime_pi import legendre_phi, partial_sieve_function, prime_pi
  File "sage/functions/prime_pi.pyx", line 37, in init sage.functions.prime_pi (build/cythonized/sage/functions/prime_pi.c:5947)
    from primecountpy.primecount import prime_pi as _prime_pi
ModuleNotFoundError: No module named 'primecountpy'
ERROR: InvocationError for command /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; "" in sys.path and sys.path.remove(""); import sage.all; print(sage.all.__file__)' (exited with code 1)
sagepython-sagewheels-nopypi finish: run-test  after 0.34 seconds
sagepython-sagewheels-nopypi start: run-test-post 
sagepython-sagewheels-nopypi finish: run-test-post  after 0.00 seconds
_______________________________________________ summary _______________________________________________
ERROR:   sagepython-sagewheels-nopypi: commands failed
cleanup /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/.tmp/package/1/sagemath-standard-9.7b3.zip
```

iirc I saw this earlier...



---

archive/issue_events_418052.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-30T19:27:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418052"
}
```



---

archive/issue_events_418053.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-06-30T19:27:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418053"
}
```



---

archive/issue_comments_530961.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nReplying to [@mkoeppe](#comment%3A31):\n> Do you want to push this change to the branch here or open a new ticket for it? Either way is fine with me\n\nas more changes seem to be needed, perhaps just add it here?",
    "created_at": "2022-06-30T19:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530961",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'>Comment 33:</a>
Replying to [@mkoeppe](#comment%3A31):
> Do you want to push this change to the branch here or open a new ticket for it? Either way is fine with me

as more changes seem to be needed, perhaps just add it here?



---

archive/issue_comments_530962.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nok",
    "created_at": "2022-06-30T19:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530962",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'>Comment 34:</a>
ok



---

archive/issue_comments_530963.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5fedffa3d46f099109a75368f2a18151c31980a\">b5fedff</a></td><td><code>build/pkgs/giac/spkg-configure.m4: Pop what was pushed</code></td></tr></table>\n",
    "created_at": "2022-07-01T00:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530963",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>Comment 35:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5fedffa3d46f099109a75368f2a18151c31980a">b5fedff</a></td><td><code>build/pkgs/giac/spkg-configure.m4: Pop what was pushed</code></td></tr></table>




---

archive/issue_comments_530964.json:
```json
{
    "body": "Changed commit from **[fe510ef](https://github.com/sagemath/sagetrac-mirror/commit/fe510ef42ceb7f9c25c838d8bb952019a246ac5a)** to **[b5fedff](https://github.com/sagemath/sagetrac-mirror/commit/b5fedffa3d46f099109a75368f2a18151c31980a)**",
    "created_at": "2022-07-01T00:52:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530964",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fe510ef](https://github.com/sagemath/sagetrac-mirror/commit/fe510ef42ceb7f9c25c838d8bb952019a246ac5a)** to **[b5fedff](https://github.com/sagemath/sagetrac-mirror/commit/b5fedffa3d46f099109a75368f2a18151c31980a)**



---

archive/issue_comments_530965.json:
```json
{
    "body": "Changed commit from **[b5fedff](https://github.com/sagemath/sagetrac-mirror/commit/b5fedffa3d46f099109a75368f2a18151c31980a)** to **[74f1e10](https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2)**",
    "created_at": "2022-07-01T20:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530965",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b5fedff](https://github.com/sagemath/sagetrac-mirror/commit/b5fedffa3d46f099109a75368f2a18151c31980a)** to **[74f1e10](https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2)**



---

archive/issue_comments_530966.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2\">74f1e10</a></td><td><code>src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add primecountpy</code></td></tr></table>\n",
    "created_at": "2022-07-01T20:27:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530966",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2">74f1e10</a></td><td><code>src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add primecountpy</code></td></tr></table>




---

archive/issue_comments_530967.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@dimpase](#comment%3A32):\n> now something is not right with `primecountpy`\n\nI have added it as a runtime dependency. Strange, I thought I did this a long time ago already",
    "created_at": "2022-07-01T20:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530967",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@dimpase](#comment%3A32):
> now something is not right with `primecountpy`

I have added it as a runtime dependency. Strange, I thought I did this a long time ago already



---

archive/issue_events_418054.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-01T20:28:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418054"
}
```



---

archive/issue_events_418055.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-01T20:28:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418055"
}
```



---

archive/issue_comments_530968.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nnow this fails with a similar error for `lrcalc`:\n\n```\nFile \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/combinat/sf/schur.py\", line 21, in <module>\n    import sage.libs.lrcalc.lrcalc as lrcalc\n  File \"/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/libs/lrcalc/lrcalc.py\", line 193, in <module>\n    import lrcalc\nModuleNotFoundError: No module named 'lrcalc'\nERROR: InvocationError for command /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; \"\" in sys.path and sys.path.remove(\"\"); import sage.all; print(sage.all.__file__)' (exited with code 1)\nsagepython-sagewheels-nopypi finish: run-test  after 0.51 seconds\nsagepython-sagewheels-nopypi start: run-test-post \nsagepython-sagewheels-nopypi finish: run-test-post  after 0.00 seconds\n_______________________________________________ summary _______________________________________________\nERROR:   sagepython-sagewheels-nopypi: commands failed\n```",
    "created_at": "2022-07-02T09:21:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530968",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'>Comment 39:</a>
now this fails with a similar error for `lrcalc`:

```
File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/combinat/sf/schur.py", line 21, in <module>
    import sage.libs.lrcalc.lrcalc as lrcalc
  File "/home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/lib64/python3.9/site-packages/sage/libs/lrcalc/lrcalc.py", line 193, in <module>
    import lrcalc
ModuleNotFoundError: No module named 'lrcalc'
ERROR: InvocationError for command /home/scratch/scratch2/dimpase/sage/sagetrac-mirror/pkgs/sagemath-standard/.tox/sagepython-sagewheels-nopypi/bin/python -c 'import sys; "" in sys.path and sys.path.remove(""); import sage.all; print(sage.all.__file__)' (exited with code 1)
sagepython-sagewheels-nopypi finish: run-test  after 0.51 seconds
sagepython-sagewheels-nopypi start: run-test-post 
sagepython-sagewheels-nopypi finish: run-test-post  after 0.00 seconds
_______________________________________________ summary _______________________________________________
ERROR:   sagepython-sagewheels-nopypi: commands failed
```



---

archive/issue_events_418056.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-02T09:21:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418056"
}
```



---

archive/issue_events_418057.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-02T09:21:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418057"
}
```



---

archive/issue_comments_530969.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nI'm trying the change for `lrcalc` analogous to the one for `primecountpy`.",
    "created_at": "2022-07-02T09:34:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530969",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'>Comment 40:</a>
I'm trying the change for `lrcalc` analogous to the one for `primecountpy`.



---

archive/issue_comments_530970.json:
```json
{
    "body": "Dependencies: **#33936**",
    "created_at": "2022-07-02T20:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530970",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#33936**



---

archive/issue_comments_530971.json:
```json
{
    "body": "Changed commit from **[74f1e10](https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2)** to **[1c2f41b](https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244)**",
    "created_at": "2022-07-02T20:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530971",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[74f1e10](https://github.com/sagemath/sagetrac-mirror/commit/74f1e102a3c7c50ab00fba8f9e823f30b54bf3a2)** to **[1c2f41b](https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244)**



---

archive/issue_comments_530972.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ea0035cdc9e46939d1d06cdc9b192273d6ff0b4\">5ea0035</a></td><td><code>src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add lrcalc_python</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b17c2dd255c579aaf8f20427c3501951bc7fed4\">7b17c2d</a></td><td><code>Split sage_docbuild.conf to sage.misc.sagedoc_conf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/282270fdf5e591777f911cab875d7cad46e4ba72\">282270f</a></td><td><code>Fix docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2766bf33ecbd487f39eace9a8cc9ddb2102a0d2\">c2766bf</a></td><td><code>Move skip_member() to sage_docbuild</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4296851301ae10eb9420af835a3247f2921d5b77\">4296851</a></td><td><code>Move the remnants of skip_member from sagedoc_conf</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45f9ff368b6e2e49804fb67a78d82606bba8f2f5\">45f9ff3</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a02496aaa29dec6c431e421bee3f5bfc1f9c1eb\">0a02496</a></td><td><code>Change assert back to if</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244\">1c2f41b</a></td><td><code>Merge #33936</code></td></tr></table>\n",
    "created_at": "2022-07-02T20:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530972",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:42'>Comment 42:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ea0035cdc9e46939d1d06cdc9b192273d6ff0b4">5ea0035</a></td><td><code>src/requirements.txt.m4, src/setup.cfg.m4 (install_requires): Add lrcalc_python</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b17c2dd255c579aaf8f20427c3501951bc7fed4">7b17c2d</a></td><td><code>Split sage_docbuild.conf to sage.misc.sagedoc_conf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/282270fdf5e591777f911cab875d7cad46e4ba72">282270f</a></td><td><code>Fix docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2766bf33ecbd487f39eace9a8cc9ddb2102a0d2">c2766bf</a></td><td><code>Move skip_member() to sage_docbuild</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4296851301ae10eb9420af835a3247f2921d5b77">4296851</a></td><td><code>Move the remnants of skip_member from sagedoc_conf</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45f9ff368b6e2e49804fb67a78d82606bba8f2f5">45f9ff3</a></td><td><code>Merge branch 'develop'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a02496aaa29dec6c431e421bee3f5bfc1f9c1eb">0a02496</a></td><td><code>Change assert back to if</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244">1c2f41b</a></td><td><code>Merge #33936</code></td></tr></table>




---

archive/issue_comments_530973.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nReplying to [@dimpase](#comment%3A40):\n> I'm trying the change for `lrcalc` analogous to the one for `primecountpy`.\n\nIndeed, that was missing too, fixed now.",
    "created_at": "2022-07-02T20:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530973",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'>Comment 43:</a>
Replying to [@dimpase](#comment%3A40):
> I'm trying the change for `lrcalc` analogous to the one for `primecountpy`.

Indeed, that was missing too, fixed now.



---

archive/issue_events_418058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-02T21:11:46Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "title_is": "pkgs/sagemath-*/tox.ini: Create environment that uses Sage's python as the basepython, fix sagemath-standard deps",
    "title_was": "pkgs/sagemath-*/tox.ini: Create environment that uses Sage's python as the basepython",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418058"
}
```



---

archive/issue_events_418059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-02T22:03:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418059"
}
```



---

archive/issue_events_418060.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-02T22:03:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418060"
}
```



---

archive/issue_comments_530974.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nReplying to [@dimpase](#comment%3A40):\n> I'm trying the change for `lrcalc` analogous to the one for `primecountpy`.\n\nthat appeared to suffice (but now the branch got updated)",
    "created_at": "2022-07-03T07:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530974",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:46'>Comment 46:</a>
Replying to [@dimpase](#comment%3A40):
> I'm trying the change for `lrcalc` analogous to the one for `primecountpy`.

that appeared to suffice (but now the branch got updated)



---

archive/issue_comments_530975.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nwhat I don't like are explicit versions of `sage-conf` and `sage-setup` in `requirements.txt`\n\nObviously there should be an automated way.",
    "created_at": "2022-07-03T07:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530975",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:47'>Comment 47:</a>
what I don't like are explicit versions of `sage-conf` and `sage-setup` in `requirements.txt`

Obviously there should be an automated way.



---

archive/issue_comments_530976.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2022-07-03T08:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530976",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_418061.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-03T08:23:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418061"
}
```



---

archive/issue_events_418062.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-03T08:23:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418062"
}
```



---

archive/issue_comments_530977.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nOK, otherwise it looks good. Perhaps deal with versions mentioned in the last comment on another ticket (unless it can be trivially fixed).",
    "created_at": "2022-07-03T08:23:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530977",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'>Comment 48:</a>
OK, otherwise it looks good. Perhaps deal with versions mentioned in the last comment on another ticket (unless it can be trivially fixed).



---

archive/issue_comments_530978.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nReplying to [@dimpase](#comment%3A47):\n> what I don't like are explicit versions of `sage-conf` and `sage-setup` in `requirements.txt`\n> \n> Obviously there should be an automated way.\n\n`src/requirements.txt` is already generated from `src/requirements.txt.m4`\n\nIf you mean `build/pkgs/sage_conf/install-requires.txt` and `build/pkgs/sage_setup/install-requires.txt`, yes, that will need a better solution but it's way beyond the scope of this ticket",
    "created_at": "2022-07-03T16:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530978",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:49'>Comment 49:</a>
Replying to [@dimpase](#comment%3A47):
> what I don't like are explicit versions of `sage-conf` and `sage-setup` in `requirements.txt`
> 
> Obviously there should be an automated way.

`src/requirements.txt` is already generated from `src/requirements.txt.m4`

If you mean `build/pkgs/sage_conf/install-requires.txt` and `build/pkgs/sage_setup/install-requires.txt`, yes, that will need a better solution but it's way beyond the scope of this ticket



---

archive/issue_events_418063.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-03T16:42:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418063"
}
```



---

archive/issue_events_418064.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-03T16:42:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418064"
}
```



---

archive/issue_events_418065.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-03T17:29:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418065"
}
```



---

archive/issue_events_418066.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-07-03T17:29:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418066"
}
```



---

archive/issue_comments_530979.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nOK",
    "created_at": "2022-07-03T17:29:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530979",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:51'>Comment 51:</a>
OK



---

archive/issue_comments_530980.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nThanks!",
    "created_at": "2022-07-03T17:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530980",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:52'>Comment 52:</a>
Thanks!



---

archive/issue_comments_530981.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nMerge failure on top of:\n\n662aaf256a Trac #32423: Update numpy to 1.22.x, scipy 1.8.x, networkx 2.8.x\n\nd98aa7304d Trac #29549: bootstrap: Clean up use of gettextize\n\n24b4eeba5e Trac #13321: FreeModule.hom stores its matrix over the wrong ring\n\n93357f31bf Trac #34104: Build & Test workflow: Run apt-get update first\n\n23e4bbe7d5 Trac #34092: Docbuild workflow broken because furo is too new\n\n9440e71d60 Trac #34088: cygwin python3 missing ensurepip\n\n9879ff4e0c Trac #33936: Remove runtime dependency on sage_docbuild introduced in #33763\n\n55d05c97cb Trac #31403: giac: Make cliquer a dependency, libnauty an optional dependency\n\n843eb03e7e Updated [SageMath](../wiki/SageMath) version to 9.7.beta4\n\n\n\nmerge was not clean: conflicts in pkgs/sagemath-standard/tox.ini",
    "created_at": "2022-07-08T21:13:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530981",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:53'>Comment 53:</a>
Merge failure on top of:

662aaf256a Trac #32423: Update numpy to 1.22.x, scipy 1.8.x, networkx 2.8.x

d98aa7304d Trac #29549: bootstrap: Clean up use of gettextize

24b4eeba5e Trac #13321: FreeModule.hom stores its matrix over the wrong ring

93357f31bf Trac #34104: Build & Test workflow: Run apt-get update first

23e4bbe7d5 Trac #34092: Docbuild workflow broken because furo is too new

9440e71d60 Trac #34088: cygwin python3 missing ensurepip

9879ff4e0c Trac #33936: Remove runtime dependency on sage_docbuild introduced in #33763

55d05c97cb Trac #31403: giac: Make cliquer a dependency, libnauty an optional dependency

843eb03e7e Updated [SageMath](../wiki/SageMath) version to 9.7.beta4



merge was not clean: conflicts in pkgs/sagemath-standard/tox.ini



---

archive/issue_events_418067.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-08T21:13:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418067"
}
```



---

archive/issue_events_418068.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-08T21:13:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418068"
}
```



---

archive/issue_comments_530982.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9\">ca9d6ce</a></td><td><code>Merge tag '9.7.beta4' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default</code></td></tr></table>\n",
    "created_at": "2022-07-08T23:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530982",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:54'>Comment 54:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9">ca9d6ce</a></td><td><code>Merge tag '9.7.beta4' into t/32716/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default</code></td></tr></table>




---

archive/issue_comments_530983.json:
```json
{
    "body": "Changed commit from **[1c2f41b](https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244)** to **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)**",
    "created_at": "2022-07-08T23:37:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530983",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1c2f41b](https://github.com/sagemath/sagetrac-mirror/commit/1c2f41b50463da33cac86c15105e70b2be6e2244)** to **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)**



---

archive/issue_events_418069.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-08T23:37:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418069"
}
```



---

archive/issue_events_418070.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-07-08T23:37:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418070"
}
```



---

archive/issue_comments_530984.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default)** to **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)**",
    "created_at": "2022-07-10T22:34:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530984",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/pkgs_sagemath_standard_tox_ini__use_sage_s_python_by_default)** to **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)**



---

archive/issue_events_418071.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-10T22:34:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418071"
}
```



---

archive/issue_events_418072.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "720adde3bb0292dce4ae76a5e631c845b06a7e21",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-07-10T22:34:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32716#event-418072"
}
```



---

archive/issue_comments_530985.json:
```json
{
    "body": "Changed commit from **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)** to none",
    "created_at": "2022-07-27T01:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530985",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[ca9d6ce](https://github.com/sagemath/sagetrac-mirror/commit/ca9d6ce3fc81bc816b7c5bdbe24533b14acee4d9)** to none



---

archive/issue_comments_530986.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nReplying to [@mkoeppe](#comment%3A49):\n> Replying to [@dimpase](#comment%3A47):\n> > what I don't like are explicit versions of `sage-conf` and `sage-setup` in `requirements.txt`\n> > \n> > Obviously there should be an automated way.\n\n> \n> `src/requirements.txt` is already generated from `src/requirements.txt.m4`\n> \n> If you mean `build/pkgs/sage_conf/install-requires.txt` and `build/pkgs/sage_setup/install-requires.txt`, yes, that will need a better solution but it's way beyond the scope of this ticket\n\nImplemented now in #33817",
    "created_at": "2022-07-27T01:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32716",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32716#issuecomment-530986",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'>Comment 57:</a>
Replying to [@mkoeppe](#comment%3A49):
> Replying to [@dimpase](#comment%3A47):
> > what I don't like are explicit versions of `sage-conf` and `sage-setup` in `requirements.txt`
> > 
> > Obviously there should be an automated way.

> 
> `src/requirements.txt` is already generated from `src/requirements.txt.m4`
> 
> If you mean `build/pkgs/sage_conf/install-requires.txt` and `build/pkgs/sage_setup/install-requires.txt`, yes, that will need a better solution but it's way beyond the scope of this ticket

Implemented now in #33817
