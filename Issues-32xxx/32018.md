# Issue 32018: Error in sage.numerical.gauss_legendre nodes

archive/issues_031781.json:
```json
{
    "body": "In `sage.numerical.gauss_legendre`, `nodes(3,prec)` returns a list of length 2, which should instead be length 3. This is due to a typo in the code. \n\nAssignee: @DisneyHogg\n\nCC:  @nbruin\n\nBranch/Commit: 97bad77be8bc82fe574febc0edac1a9d7e212406\n\nReviewer: Nils Bruin\n\nAuthor: Linden Disney-Hogg\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32018\n\n",
    "closed_at": "2021-07-25T13:25:13Z",
    "created_at": "2021-06-21T10:32:45Z",
    "labels": [
        "component: numerical",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Error in sage.numerical.gauss_legendre nodes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32018",
    "user": "https://github.com/DisneyHogg"
}
```
In `sage.numerical.gauss_legendre`, `nodes(3,prec)` returns a list of length 2, which should instead be length 3. This is due to a typo in the code. 

Assignee: @DisneyHogg

CC:  @nbruin

Branch/Commit: 97bad77be8bc82fe574febc0edac1a9d7e212406

Reviewer: Nils Bruin

Author: Linden Disney-Hogg

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32018





---

archive/issue_comments_637149.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to numerical.",
    "created_at": "2021-06-21T10:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637149",
    "user": "https://github.com/DisneyHogg"
}
```

Changing component from PLEASE CHANGE to numerical.



---

archive/issue_comments_637150.json:
```json
{
    "body": "Set assignee to @DisneyHogg.",
    "created_at": "2021-06-21T10:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637150",
    "user": "https://github.com/DisneyHogg"
}
```

Set assignee to @DisneyHogg.



---

archive/issue_comments_637151.json:
```json
{
    "body": "Changing priority from major to trivial.",
    "created_at": "2021-06-21T10:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637151",
    "user": "https://github.com/DisneyHogg"
}
```

Changing priority from major to trivial.



---

archive/issue_comments_637152.json:
```json
{
    "body": "Changing author from \"\" to \"Linden Disney-Hogg\"",
    "created_at": "2021-06-21T10:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637152",
    "user": "https://github.com/DisneyHogg"
}
```

Changing author from "" to "Linden Disney-Hogg"



---

archive/issue_comments_637153.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+In `sage.numerical.gauss_legendre`, `nodes(3,prec)` returns a list of length 2, which should instead be length 3. This is due to a typo in the code. \n``````\n",
    "created_at": "2021-06-21T10:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637153",
    "user": "https://github.com/DisneyHogg"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+In `sage.numerical.gauss_legendre`, `nodes(3,prec)` returns a list of length 2, which should instead be length 3. This is due to a typo in the code. 
``````




---

archive/issue_comments_637154.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2021-06-21T10:45:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637154",
    "user": "https://github.com/DisneyHogg"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_637155.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-DisneyHogg/error_in_sage_numerical_gauss_legendre_nodes\"",
    "created_at": "2021-06-21T10:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637155",
    "user": "https://github.com/DisneyHogg"
}
```

Changing branch from "" to "u/gh-DisneyHogg/error_in_sage_numerical_gauss_legendre_nodes"



---

archive/issue_comments_637156.json:
```json
{
    "body": "Changing commit from \"\" to \"af7de168802757e09796e40a064668bca5c8a50e\"",
    "created_at": "2021-06-21T10:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637156",
    "user": "https://github.com/DisneyHogg"
}
```

Changing commit from "" to "af7de168802757e09796e40a064668bca5c8a50e"



---

archive/issue_comments_637157.json:
```json
{
    "body": "<a id='comment:3'></a>New commits:",
    "created_at": "2021-06-21T10:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637157",
    "user": "https://github.com/DisneyHogg"
}
```

<a id='comment:3'></a>New commits:



---

archive/issue_comments_637158.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-21T10:55:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637158",
    "user": "https://github.com/DisneyHogg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_637159.json:
```json
{
    "body": "<a id='comment:4'></a>thanks, please also add a simple doctest displaying what is fixed",
    "created_at": "2021-06-21T13:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637159",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>thanks, please also add a simple doctest displaying what is fixed



---

archive/issue_comments_637160.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-22T07:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637160",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_637161.json:
```json
{
    "body": "Changing commit from \"af7de168802757e09796e40a064668bca5c8a50e\" to \"d65ffb2c7728b328429c3f593aef4c3f35713dbc\"",
    "created_at": "2021-06-22T07:24:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637161",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "af7de168802757e09796e40a064668bca5c8a50e" to "d65ffb2c7728b328429c3f593aef4c3f35713dbc"



---

archive/issue_comments_637162.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-16T08:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637162",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_637163.json:
```json
{
    "body": "<a id='comment:6'></a>red branch => needs work",
    "created_at": "2021-07-16T08:46:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637163",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>red branch => needs work



---

archive/issue_comments_637164.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-16T11:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637164",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_637165.json:
```json
{
    "body": "Changing commit from \"d65ffb2c7728b328429c3f593aef4c3f35713dbc\" to \"97bad77be8bc82fe574febc0edac1a9d7e212406\"",
    "created_at": "2021-07-16T11:17:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d65ffb2c7728b328429c3f593aef4c3f35713dbc" to "97bad77be8bc82fe574febc0edac1a9d7e212406"



---

archive/issue_comments_637166.json:
```json
{
    "body": "<a id='comment:8'></a>Merge conflict resolved.",
    "created_at": "2021-07-16T11:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637166",
    "user": "https://github.com/DisneyHogg"
}
```

<a id='comment:8'></a>Merge conflict resolved.



---

archive/issue_comments_637167.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-16T11:17:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637167",
    "user": "https://github.com/DisneyHogg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_637168.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-16T16:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637168",
    "user": "https://github.com/nbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_637169.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Nils Bruin\"",
    "created_at": "2021-07-16T16:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637169",
    "user": "https://github.com/nbruin"
}
```

Changing reviewer from "" to "Nils Bruin"



---

archive/issue_comments_637170.json:
```json
{
    "body": "<a id='comment:9'></a>This looks fine. One comment: in the test, we're testing float output *exactly*. It's generally more robust to not depend on *all* digits being correct when testing float output. In this case, however, we're testing output where we know it's been computed with specified precision and with specified formulas (although that could change ...), so if mpfr properly implements IEEE then all the bits of the output (and therefore the representing string) should be determined too. So for this example I think it's OK. In general, however, you should probably use ellipses or a `#tol` marker to allow for some variation in the last digits. See [Developer guidance](https://doc.sagemath.org/html/en/developer/coding_basics.html#special-markup-to-influence-doctests).",
    "created_at": "2021-07-16T16:42:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637170",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:9'></a>This looks fine. One comment: in the test, we're testing float output *exactly*. It's generally more robust to not depend on *all* digits being correct when testing float output. In this case, however, we're testing output where we know it's been computed with specified precision and with specified formulas (although that could change ...), so if mpfr properly implements IEEE then all the bits of the output (and therefore the representing string) should be determined too. So for this example I think it's OK. In general, however, you should probably use ellipses or a `#tol` marker to allow for some variation in the last digits. See [Developer guidance](https://doc.sagemath.org/html/en/developer/coding_basics.html#special-markup-to-influence-doctests).



---

archive/issue_comments_637171.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-25T13:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637171",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084692.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-25T13:25:13Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32018#event-84692"
}
```



---

archive/issue_comments_637172.json:
```json
{
    "body": "Changing branch from \"u/gh-DisneyHogg/error_in_sage_numerical_gauss_legendre_nodes\" to \"97bad77be8bc82fe574febc0edac1a9d7e212406\"",
    "created_at": "2021-07-25T13:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32018",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32018#issuecomment-637172",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-DisneyHogg/error_in_sage_numerical_gauss_legendre_nodes" to "97bad77be8bc82fe574febc0edac1a9d7e212406"
