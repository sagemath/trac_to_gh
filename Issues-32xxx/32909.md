# Issue 32909: Fix deprecation warnings with matplotlib 3.5

archive/issues_032672.json:
```json
{
    "assignees": [],
    "body": "`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.\n\nSince this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.\n\nUpdating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:\n\nhttps://github.com/matplotlib/matplotlib/issues/21683\n\nCC:  @kiwifb\n\nBranch/Commit: **[`a5127dc`](https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nAuthor: **Antonio Rojas**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32909_\n\n",
    "closed_at": "2021-12-12T15:09:16Z",
    "created_at": "2021-11-20T08:59:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix deprecation warnings with matplotlib 3.5",
    "type": "issue",
    "updated_at": "2021-12-12T15:09:16Z",
    "url": "https://github.com/sagemath/sage/issues/32909",
    "user": "https://github.com/antonio-rojas"
}
```
`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.

Since this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.

Updating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:

https://github.com/matplotlib/matplotlib/issues/21683

CC:  @kiwifb

Branch/Commit: **[`a5127dc`](https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)**

Upstream: **Fixed upstream, in a later stable release.**

Reviewer: **François Bissey**

Author: **Antonio Rojas**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/32909_





---

archive/issue_events_453002.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-11-20T08:59:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453002"
}
```



---

archive/issue_events_453003.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-11-20T08:59:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453003"
}
```



---

archive/issue_comments_531611.json:
```json
{
    "body": "Branch: **[u/arojas/fix_deprecation_warnings_with_matplotlib_3_5](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_matplotlib_3_5)**",
    "created_at": "2021-11-20T09:00:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531611",
    "user": "https://github.com/antonio-rojas"
}
```

Branch: **[u/arojas/fix_deprecation_warnings_with_matplotlib_3_5](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_matplotlib_3_5)**



---

archive/issue_comments_531612.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7\">a5127dc</a></td><td><code>get_path_in_displaycoord was made private in matplotlib 3.5</code></td></tr></table>\n",
    "created_at": "2021-11-20T09:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531612",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7">a5127dc</a></td><td><code>get_path_in_displaycoord was made private in matplotlib 3.5</code></td></tr></table>




---

archive/issue_events_453004.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-11-20T09:06:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453004"
}
```



---

archive/issue_comments_531613.json:
```json
{
    "body": "Commit: **[`a5127dc`](https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)**",
    "created_at": "2021-11-20T09:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531613",
    "user": "https://github.com/antonio-rojas"
}
```

Commit: **[`a5127dc`](https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)**



---

archive/issue_comments_531614.json:
```json
{
    "body": "Author: **Antonio Rojas**",
    "created_at": "2021-11-20T09:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531614",
    "user": "https://github.com/antonio-rojas"
}
```

Author: **Antonio Rojas**



---

archive/issue_comments_531615.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n+`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.\n \n+Since this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.\n+\n+Updating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:\n+\n+https://github.com/matplotlib/matplotlib/issues/21683\n``````\n",
    "created_at": "2021-11-20T09:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531615",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
+`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.
 
+Since this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.
+
+Updating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:
+
+https://github.com/matplotlib/matplotlib/issues/21683
``````




---

archive/issue_events_453005.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-11-20T09:06:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453005"
}
```



---

archive/issue_events_453006.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2021-11-20T09:09:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453006"
}
```



---

archive/issue_comments_531616.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2021-11-23T17:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531616",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_comments_531617.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nthe upstream issue has been fixed, it seems. At least one can get a patch.",
    "created_at": "2021-11-23T17:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531617",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:4" align="right">comment:4</div>

the upstream issue has been fixed, it seems. At least one can get a patch.



---

archive/issue_comments_531618.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI'd still like to leave the upgrade to a separate ticket to get this in asap and make sure it makes it to 9.5 (thus saving distros some downstream patching)",
    "created_at": "2021-11-26T21:15:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531618",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:5" align="right">comment:5</div>

I'd still like to leave the upgrade to a separate ticket to get this in asap and make sure it makes it to 9.5 (thus saving distros some downstream patching)



---

archive/issue_comments_531619.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nTotally agree, we had that situation too late in the release cycle for sage 9.4 with matplotlib 3.4. Let's not miss the boat this time :)\n\nLGTM",
    "created_at": "2021-11-26T22:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531619",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

Totally agree, we had that situation too late in the release cycle for sage 9.4 with matplotlib 3.4. Let's not miss the boat this time :)

LGTM



---

archive/issue_comments_531620.json:
```json
{
    "body": "Reviewer: **Fran\u00e7ois Bissey**",
    "created_at": "2021-11-26T22:36:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531620",
    "user": "https://github.com/kiwifb"
}
```

Reviewer: **François Bissey**



---

archive/issue_events_453007.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2021-11-26T22:36:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453007"
}
```



---

archive/issue_events_453008.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2021-11-26T22:36:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453008"
}
```



---

archive/issue_events_453009.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-11-26T23:04:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453009"
}
```



---

archive/issue_events_453010.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-11-26T23:04:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453010"
}
```



---

archive/issue_events_453011.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-12T15:09:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453011"
}
```



---

archive/issue_events_453012.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8b176aaa0a4061fbe638edaf4c45b1b25de00c87",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-12T15:09:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32909#event-453012"
}
```



---

archive/issue_comments_531621.json:
```json
{
    "body": "Changed branch from **[u/arojas/fix_deprecation_warnings_with_matplotlib_3_5](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_matplotlib_3_5)** to **[`a5127dc`](https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)**",
    "created_at": "2021-12-12T15:09:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32909#issuecomment-531621",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/arojas/fix_deprecation_warnings_with_matplotlib_3_5](https://github.com/sagemath/sagetrac-mirror/tree/u/arojas/fix_deprecation_warnings_with_matplotlib_3_5)** to **[`a5127dc`](https://github.com/sagemath/sagetrac-mirror/commit/a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)**
