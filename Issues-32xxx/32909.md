# Issue 32909: Fix deprecation warnings with matplotlib 3.5

archive/issues_032672.json:
```json
{
    "body": "`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.\n\nSince this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.\n\nUpdating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:\n\nhttps://github.com/matplotlib/matplotlib/issues/21683\n\nCC:  @kiwifb\n\nBranch/Commit: a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7\n\nUpstream: Fixed upstream, in a later stable release.\n\nReviewer: Fran\u00e7ois Bissey\n\nAuthor: Antonio Rojas\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32909\n\n",
    "closed_at": "2021-12-12T15:09:16Z",
    "created_at": "2021-11-20T08:59:05Z",
    "labels": [
        "component: packages: standard",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Fix deprecation warnings with matplotlib 3.5",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32909",
    "user": "https://github.com/antonio-rojas"
}
```
`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.

Since this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.

Updating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:

https://github.com/matplotlib/matplotlib/issues/21683

CC:  @kiwifb

Branch/Commit: a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7

Upstream: Fixed upstream, in a later stable release.

Reviewer: François Bissey

Author: Antonio Rojas

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32909





---

archive/issue_comments_656270.json:
```json
{
    "body": "Changing branch from \"\" to \"u/arojas/fix_deprecation_warnings_with_matplotlib_3_5\"",
    "created_at": "2021-11-20T09:00:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656270",
    "user": "https://github.com/antonio-rojas"
}
```

Changing branch from "" to "u/arojas/fix_deprecation_warnings_with_matplotlib_3_5"



---

archive/issue_comments_656271.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[a5127dc](https://git.sagemath.org/sage.git/commit?id=a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)|`get_path_in_displaycoord was made private in matplotlib 3.5`|",
    "created_at": "2021-11-20T09:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656271",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[a5127dc](https://git.sagemath.org/sage.git/commit?id=a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7)|`get_path_in_displaycoord was made private in matplotlib 3.5`|



---

archive/issue_comments_656272.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2021-11-20T09:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656272",
    "user": "https://github.com/antonio-rojas"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_656273.json:
```json
{
    "body": "Changing commit from \"\" to \"a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7\"",
    "created_at": "2021-11-20T09:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656273",
    "user": "https://github.com/antonio-rojas"
}
```

Changing commit from "" to "a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7"



---

archive/issue_comments_656274.json:
```json
{
    "body": "Changing author from \"\" to \"Antonio Rojas\"",
    "created_at": "2021-11-20T09:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656274",
    "user": "https://github.com/antonio-rojas"
}
```

Changing author from "" to "Antonio Rojas"



---

archive/issue_comments_656275.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,7 @@\n+`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.\n \n+Since this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.\n+\n+Updating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:\n+\n+https://github.com/matplotlib/matplotlib/issues/21683\n``````\n",
    "created_at": "2021-11-20T09:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656275",
    "user": "https://github.com/antonio-rojas"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,7 @@
+`get_path_in_displaycoord` was made private in matplotlib 3.5 and its public counterpart was deprecated, which causes a few test failures.
 
+Since this is only used inside a custom hack to circumvent some undesired upstream behavior, it seems to me that using private API here is not that bad. Ideally it should be ported to use public API, but it doesn't seem straightforward.
+
+Updating matplotlib is deferred to a separate ticket, as it needs new dependencies (fonttools) and causes another test failure due to an upstream bug:
+
+https://github.com/matplotlib/matplotlib/issues/21683
``````




---

archive/issue_comments_656276.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-20T09:06:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656276",
    "user": "https://github.com/antonio-rojas"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_656277.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2021-11-20T09:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656277",
    "user": "https://github.com/antonio-rojas"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_656278.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Fixed upstream, in a later stable release.\"",
    "created_at": "2021-11-23T17:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656278",
    "user": "https://github.com/dimpase"
}
```

Changing upstream from "N/A" to "Fixed upstream, in a later stable release."



---

archive/issue_comments_656279.json:
```json
{
    "body": "<a id='comment:4'></a>\nthe upstream issue has been fixed, it seems. At least one can get a patch.",
    "created_at": "2021-11-23T17:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656279",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
the upstream issue has been fixed, it seems. At least one can get a patch.



---

archive/issue_comments_656280.json:
```json
{
    "body": "<a id='comment:5'></a>\nI'd still like to leave the upgrade to a separate ticket to get this in asap and make sure it makes it to 9.5 (thus saving distros some downstream patching)",
    "created_at": "2021-11-26T21:15:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656280",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:5'></a>
I'd still like to leave the upgrade to a separate ticket to get this in asap and make sure it makes it to 9.5 (thus saving distros some downstream patching)



---

archive/issue_comments_656281.json:
```json
{
    "body": "<a id='comment:6'></a>\nTotally agree, we had that situation too late in the release cycle for sage 9.4 with matplotlib 3.4. Let's not miss the boat this time :)\n\nLGTM",
    "created_at": "2021-11-26T22:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656281",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'></a>
Totally agree, we had that situation too late in the release cycle for sage 9.4 with matplotlib 3.4. Let's not miss the boat this time :)

LGTM



---

archive/issue_comments_656282.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fran\u00e7ois Bissey\"",
    "created_at": "2021-11-26T22:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656282",
    "user": "https://github.com/kiwifb"
}
```

Changing reviewer from "" to "François Bissey"



---

archive/issue_comments_656283.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-26T22:36:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656283",
    "user": "https://github.com/kiwifb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_656284.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2021-11-26T23:04:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656284",
    "user": "https://github.com/slel"
}
```

Changing priority from major to critical.



---

archive/issue_events_086978.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-12T15:09:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32909#event-86978"
}
```



---

archive/issue_comments_656285.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-12T15:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656285",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_656286.json:
```json
{
    "body": "Changing branch from \"u/arojas/fix_deprecation_warnings_with_matplotlib_3_5\" to \"a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7\"",
    "created_at": "2021-12-12T15:09:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32909",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32909#issuecomment-656286",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/arojas/fix_deprecation_warnings_with_matplotlib_3_5" to "a5127dc56fdf5c2e82f6bc781cfe78dbd04e97b7"
