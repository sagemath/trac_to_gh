# Issue 32894: split out a separate Python package primecountpy

archive/issues_032657.json:
```json
{
    "assignees": [],
    "body": "This is a followup to #25009, and also resolves the bugs mentioned in  #24960.\n\nHere is my attempt (WIP) to create such a package:\nhttps://github.com/dimpase/primecountpy \n\nOn PyPI: https://pypi.org/project/primecountpy/\n\nDepends on #25009\n\n**CC:**  @mkoeppe\n\n**Branch/Commit:** [74b38459edb9c9ae7417883adf15eba1e981631d](https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d)\n\n**Reviewer:** Matthias Koeppe\n\n**Author:** Dima Pasechnik\n\nIssue created by migration from https://trac.sagemath.org/ticket/32894\n\n",
    "closed_at": "2021-12-23T20:25:59Z",
    "created_at": "2021-11-18T10:43:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "split out a separate Python package primecountpy",
    "type": "issue",
    "updated_at": "2021-12-23T20:25:59Z",
    "url": "https://github.com/sagemath/sage/issues/32894",
    "user": "https://github.com/dimpase"
}
```
This is a followup to #25009, and also resolves the bugs mentioned in  #24960.

Here is my attempt (WIP) to create such a package:
https://github.com/dimpase/primecountpy 

On PyPI: https://pypi.org/project/primecountpy/

Depends on #25009

**CC:**  @mkoeppe

**Branch/Commit:** [74b38459edb9c9ae7417883adf15eba1e981631d](https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d)

**Reviewer:** Matthias Koeppe

**Author:** Dima Pasechnik

Issue created by migration from https://trac.sagemath.org/ticket/32894





---

archive/issue_comments_533827.json:
```json
{
    "body": "<a id='comment:2'></a>\nAs you know, https://pypi.org/project/primecount/ is already taken...",
    "created_at": "2021-11-18T18:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533827",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
As you know, https://pypi.org/project/primecount/ is already taken...



---

archive/issue_comments_533828.json:
```json
{
    "body": "<a id='comment:3'></a>\nI must say I don't quite know what exactly pypi package name is, and whether anything beyond changes in MANIFEST.in and setup.py is needed.\nCan the module name still be the same, `primecount` ?\n\nWe'd call it `pyprimecount` instead.",
    "created_at": "2021-11-18T19:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533828",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
I must say I don't quite know what exactly pypi package name is, and whether anything beyond changes in MANIFEST.in and setup.py is needed.
Can the module name still be the same, `primecount` ?

We'd call it `pyprimecount` instead.



---

archive/issue_comments_533829.json:
```json
{
    "body": "<a id='comment:4'></a>\nI explained it recently in https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ, take a look",
    "created_at": "2021-11-18T21:23:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533829",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
I explained it recently in https://groups.google.com/g/sage-devel/c/p4MO6L95s7E/m/yZF93ewIBAAJ, take a look



---

archive/issue_comments_533830.json:
```json
{
    "body": "<a id='comment:5'></a>\nOK, thanks. Another thing I don't understand is how the C++ library prinecount is meant to be provided. It's not something too standard to assume it's just installed.\n\n Does it mean to be a non-python dependency of Sage? Or of (py)prinecount?",
    "created_at": "2021-11-18T22:00:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533830",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
OK, thanks. Another thing I don't understand is how the C++ library prinecount is meant to be provided. It's not something too standard to assume it's just installed.

 Does it mean to be a non-python dependency of Sage? Or of (py)prinecount?



---

archive/issue_comments_533831.json:
```json
{
    "body": "<a id='comment:6'></a>\nWhen `pyprimecount` is installed from a source distribution, it will just assume that the necessary library is available. Python packages do not have a way to declare non-Python dependencies.\n\nLater one may consider to build wheels that include a copy of the shared library.\nThis is what for example `numpy` does regarding BLAS: The source distribution certainly does not contain a copy of BLAS, but the wheels ship with a copy of the OpenBLAS shared library.",
    "created_at": "2021-11-18T22:31:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533831",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>
When `pyprimecount` is installed from a source distribution, it will just assume that the necessary library is available. Python packages do not have a way to declare non-Python dependencies.

Later one may consider to build wheels that include a copy of the shared library.
This is what for example `numpy` does regarding BLAS: The source distribution certainly does not contain a copy of BLAS, but the wheels ship with a copy of the OpenBLAS shared library.



---

archive/issue_comments_533832.json:
```json
{
    "body": "<a id='comment:7'></a>\nOn the Sage side, there will be two SPKGs: One for `primecount`, one for `pyprimecount`. This mirrors what is done, for example, for `ppl` and `pplpy`. The SPKG `dependencies` of `pyprimecount` include `primecount`; so when `pyprimecount` is pip-installed, the library has already been installed.",
    "created_at": "2021-11-18T22:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533832",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
On the Sage side, there will be two SPKGs: One for `primecount`, one for `pyprimecount`. This mirrors what is done, for example, for `ppl` and `pplpy`. The SPKG `dependencies` of `pyprimecount` include `primecount`; so when `pyprimecount` is pip-installed, the library has already been installed.



---

archive/issue_comments_533833.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n This is a followup to #25009\n \n-Here is my failing attempt to create such a package:\n-https://github.com/dimpase/primecount \n+Here is my attempt (WIP) to create such a package:\n+https://github.com/dimpase/primecountpy \n \n Attention of Cython/packaging experts needed\n``````\n",
    "created_at": "2021-11-19T11:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533833",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 This is a followup to #25009
 
-Here is my failing attempt to create such a package:
-https://github.com/dimpase/primecount 
+Here is my attempt (WIP) to create such a package:
+https://github.com/dimpase/primecountpy 
 
 Attention of Cython/packaging experts needed
``````




---

archive/issue_comments_533834.json:
```json
{
    "body": "<a id='comment:8'></a>\nafter a very careful consideration, decided to rename it `primecountpy`.",
    "created_at": "2021-11-19T11:23:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533834",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
after a very careful consideration, decided to rename it `primecountpy`.



---

archive/issue_events_295047.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-20T03:50:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "rename": {
        "from": "split out a separate Python package primecount",
        "to": "split out a separate Python package primecountpy"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295047"
}
```



---

archive/issue_comments_533835.json:
```json
{
    "body": "<a id='comment:10'></a>\nOK, so prinecountpy works (needs setting up proper tests, etc), but other than that, what else is needed on that side?Some pypi/pip magic? \n\n(on Sage's side clearly code to be removed and replaced by hopefully clear something...)",
    "created_at": "2021-11-20T14:39:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533835",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
OK, so prinecountpy works (needs setting up proper tests, etc), but other than that, what else is needed on that side?Some pypi/pip magic? 

(on Sage's side clearly code to be removed and replaced by hopefully clear something...)



---

archive/issue_comments_533836.json:
```json
{
    "body": "<a id='comment:11'></a>\nwhen primecountpy is ready, use `setup.py sdist` to create an sdist and upload to PyPI with `twine`\n\nThen on the Sage side, use `./sage -package create primecountpy --pypi`",
    "created_at": "2021-11-20T16:47:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533836",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
when primecountpy is ready, use `setup.py sdist` to create an sdist and upload to PyPI with `twine`

Then on the Sage side, use `./sage -package create primecountpy --pypi`



---

archive/issue_comments_533837.json:
```json
{
    "body": "**Dependencies:** #25009",
    "created_at": "2021-11-24T17:59:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533837",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #25009



---

archive/issue_comments_533838.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n Here is my attempt (WIP) to create such a package:\n https://github.com/dimpase/primecountpy \n \n-Attention of Cython/packaging experts needed\n+On PyPI: https://pypi.org/project/primecountpy/\n``````\n",
    "created_at": "2021-11-25T12:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533838",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 Here is my attempt (WIP) to create such a package:
 https://github.com/dimpase/primecountpy 
 
-Attention of Cython/packaging experts needed
+On PyPI: https://pypi.org/project/primecountpy/
``````




---

archive/issue_comments_533839.json:
```json
{
    "body": "<a id='comment:13'></a>\nOK, here it is: https://pypi.org/project/primecountpy/",
    "created_at": "2021-11-25T12:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533839",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>
OK, here it is: https://pypi.org/project/primecountpy/



---

archive/issue_comments_533840.json:
```json
{
    "body": "<a id='comment:14'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6551362711bd09e8d21baf7fd477542eeddf5e5\">c655136</a></td><td><code>remove sagemath-primecount declaration</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9ca1f677371aa9834b2094fe56e73b8f4c7f93f2\">9ca1f67</a></td><td><code>misc config changes for primesieve</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d8e2cda4f1efb33cfc028e24e6f6869226408ba5\">d8e2cda</a></td><td><code>adjust deps,remove stuff from cfg and toml</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3f1e441ba8bf1972d2d02e0f0e7f2313d69037b3\">3f1e441</a></td><td><code>no need for CMAKE_INSTALL_PREFIX (it's in sdh_cmake)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/abce309cd4ae20219c220ebd00a0c954146915fe\">abce309</a></td><td><code>flyby patch: remove CMAKE_INSTALL_PREFIX, as it's set in sdh_cmake</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a6de7f427004aac442e177d58ad47a2ef2b637e8\">a6de7f4</a></td><td><code>check external primesieve with cmake</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/733cebc8ad9dc3ea011a8e4ab46e2a1d72860678\">733cebc</a></td><td><code>prime_pi and legendre_phi calling primecount</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f77073aa914209c508cb80d74d3dd4ec52c2c60\">4f77073</a></td><td><code>allow for slightly different Overflow messages in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7a0eedd3490a665ccab70ef1a49b41f93ced09e\">f7a0eed</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e154ad63939bb26e537e39099f4cf6d675dd6f6\">9e154ad</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr></table>\n",
    "created_at": "2021-11-25T13:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533840",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6551362711bd09e8d21baf7fd477542eeddf5e5">c655136</a></td><td><code>remove sagemath-primecount declaration</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9ca1f677371aa9834b2094fe56e73b8f4c7f93f2">9ca1f67</a></td><td><code>misc config changes for primesieve</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d8e2cda4f1efb33cfc028e24e6f6869226408ba5">d8e2cda</a></td><td><code>adjust deps,remove stuff from cfg and toml</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3f1e441ba8bf1972d2d02e0f0e7f2313d69037b3">3f1e441</a></td><td><code>no need for CMAKE_INSTALL_PREFIX (it's in sdh_cmake)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/abce309cd4ae20219c220ebd00a0c954146915fe">abce309</a></td><td><code>flyby patch: remove CMAKE_INSTALL_PREFIX, as it's set in sdh_cmake</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a6de7f427004aac442e177d58ad47a2ef2b637e8">a6de7f4</a></td><td><code>check external primesieve with cmake</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/733cebc8ad9dc3ea011a8e4ab46e2a1d72860678">733cebc</a></td><td><code>prime_pi and legendre_phi calling primecount</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f77073aa914209c508cb80d74d3dd4ec52c2c60">4f77073</a></td><td><code>allow for slightly different Overflow messages in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7a0eedd3490a665ccab70ef1a49b41f93ced09e">f7a0eed</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e154ad63939bb26e537e39099f4cf6d675dd6f6">9e154ad</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr></table>




---

archive/issue_comments_533841.json:
```json
{
    "body": "**Branch:** [u/dimpase/packages/primecountpy](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/primecountpy)",
    "created_at": "2021-11-25T13:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533841",
    "user": "https://github.com/dimpase"
}
```

**Branch:** [u/dimpase/packages/primecountpy](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/primecountpy)



---

archive/issue_comments_533842.json:
```json
{
    "body": "**Author:** Dima Pasechnik",
    "created_at": "2021-11-25T13:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533842",
    "user": "https://github.com/dimpase"
}
```

**Author:** Dima Pasechnik



---

archive/issue_comments_533843.json:
```json
{
    "body": "**Commit:** [9e154ad63939bb26e537e39099f4cf6d675dd6f6](https://github.com/sagemath/sagetrac-mirror/commit/9e154ad63939bb26e537e39099f4cf6d675dd6f6)",
    "created_at": "2021-11-25T13:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533843",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [9e154ad63939bb26e537e39099f4cf6d675dd6f6](https://github.com/sagemath/sagetrac-mirror/commit/9e154ad63939bb26e537e39099f4cf6d675dd6f6)



---

archive/issue_comments_533844.json:
```json
{
    "body": "<a id='comment:15'></a>\nit works, apparently.",
    "created_at": "2021-11-25T13:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533844",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
it works, apparently.



---

archive/issue_events_295048.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-25T13:45:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295048"
}
```



---

archive/issue_comments_533845.json:
```json
{
    "body": "<a id='comment:16'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92\">f3d12bc</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr></table>\n",
    "created_at": "2021-11-25T13:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533845",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92">f3d12bc</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr></table>




---

archive/issue_comments_533846.json:
```json
{
    "body": "**Changing commit** from \"[9e154ad63939bb26e537e39099f4cf6d675dd6f6](https://github.com/sagemath/sagetrac-mirror/commit/9e154ad63939bb26e537e39099f4cf6d675dd6f6)\" to \"[f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92](https://github.com/sagemath/sagetrac-mirror/commit/f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92)\".",
    "created_at": "2021-11-25T13:54:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533846",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9e154ad63939bb26e537e39099f4cf6d675dd6f6](https://github.com/sagemath/sagetrac-mirror/commit/9e154ad63939bb26e537e39099f4cf6d675dd6f6)" to "[f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92](https://github.com/sagemath/sagetrac-mirror/commit/f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92)".



---

archive/issue_comments_533847.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-This is a followup to #25009\n+This is a followup to #25009, and also resolves the bugs mentioned in  #24960.\n \n Here is my attempt (WIP) to create such a package:\n https://github.com/dimpase/primecountpy \n``````\n",
    "created_at": "2021-11-25T13:55:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533847",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-This is a followup to #25009
+This is a followup to #25009, and also resolves the bugs mentioned in  #24960.
 
 Here is my attempt (WIP) to create such a package:
 https://github.com/dimpase/primecountpy 
``````




---

archive/issue_comments_533848.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d95091386f7d0a427233b65b8e238cee0324e550\">d950913</a></td><td><code>fedora 30 doesn't have primecount pkg</code></td></tr></table>\n",
    "created_at": "2021-11-26T23:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533848",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d95091386f7d0a427233b65b8e238cee0324e550">d950913</a></td><td><code>fedora 30 doesn't have primecount pkg</code></td></tr></table>




---

archive/issue_comments_533849.json:
```json
{
    "body": "**Changing commit** from \"[f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92](https://github.com/sagemath/sagetrac-mirror/commit/f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92)\" to \"[d95091386f7d0a427233b65b8e238cee0324e550](https://github.com/sagemath/sagetrac-mirror/commit/d95091386f7d0a427233b65b8e238cee0324e550)\".",
    "created_at": "2021-11-26T23:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533849",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92](https://github.com/sagemath/sagetrac-mirror/commit/f3d12bcb6f5990c9e52f1a72dfa4cf8e5ab90c92)" to "[d95091386f7d0a427233b65b8e238cee0324e550](https://github.com/sagemath/sagetrac-mirror/commit/d95091386f7d0a427233b65b8e238cee0324e550)".



---

archive/issue_comments_533850.json:
```json
{
    "body": "<a id='comment:19'></a>\nthis should go to #25009",
    "created_at": "2021-11-26T23:42:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533850",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
this should go to #25009



---

archive/issue_comments_533851.json:
```json
{
    "body": "**Changing commit** from \"[d95091386f7d0a427233b65b8e238cee0324e550](https://github.com/sagemath/sagetrac-mirror/commit/d95091386f7d0a427233b65b8e238cee0324e550)\" to \"[50b4c2bc959ae6389b5f3efe60c10c42c8540daf](https://github.com/sagemath/sagetrac-mirror/commit/50b4c2bc959ae6389b5f3efe60c10c42c8540daf)\".",
    "created_at": "2021-11-27T00:02:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533851",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[d95091386f7d0a427233b65b8e238cee0324e550](https://github.com/sagemath/sagetrac-mirror/commit/d95091386f7d0a427233b65b8e238cee0324e550)" to "[50b4c2bc959ae6389b5f3efe60c10c42c8540daf](https://github.com/sagemath/sagetrac-mirror/commit/50b4c2bc959ae6389b5f3efe60c10c42c8540daf)".



---

archive/issue_comments_533852.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f754d069812b65253cda1c9d29da092b02105bf4\">f754d06</a></td><td><code>fedora 30 doesn't have primecount pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0662fe5fbf718b09bf1d4dba7017488574d8de06\">0662fe5</a></td><td><code>prime_pi and legendre_phi calling primecount</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ea1722c6c44dca62e82321d3dd75c449995ed941\">ea1722c</a></td><td><code>allow for slightly different Overflow messages in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4d5a0f97a518519e5532811e0627dc64b73beed\">b4d5a0f</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6a461e8a24960d572ea7148b735e6ec017f9d9b\">b6a461e</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50b4c2bc959ae6389b5f3efe60c10c42c8540daf\">50b4c2b</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr></table>\n",
    "created_at": "2021-11-27T00:02:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533852",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f754d069812b65253cda1c9d29da092b02105bf4">f754d06</a></td><td><code>fedora 30 doesn't have primecount pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0662fe5fbf718b09bf1d4dba7017488574d8de06">0662fe5</a></td><td><code>prime_pi and legendre_phi calling primecount</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ea1722c6c44dca62e82321d3dd75c449995ed941">ea1722c</a></td><td><code>allow for slightly different Overflow messages in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4d5a0f97a518519e5532811e0627dc64b73beed">b4d5a0f</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6a461e8a24960d572ea7148b735e6ec017f9d9b">b6a461e</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50b4c2bc959ae6389b5f3efe60c10c42c8540daf">50b4c2b</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr></table>




---

archive/issue_comments_533853.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b9b4eaf334c6dd5261ccd229ca825b01b600e6a6\">b9b4eaf</a></td><td><code>build/pkgs/primesieve: Add patch to support ubuntu-trusty, linuxmint-17</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7872fa139cb9df5d5374b6ef5923b49d7523ad34\">7872fa1</a></td><td><code>prime_pi and legendre_phi calling primecount</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/078f6fe05af7ad1eb6dd50aa1c28447be2e62ba7\">078f6fe</a></td><td><code>allow for slightly different Overflow messages in doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/731926a365452d04cca3ed29e1d5e382d32e941c\">731926a</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ef22d1c2ba6ef9c70b3427e14f0bc81636ecc0e\">8ef22d1</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc43b165eef336bafef008453dbf16fd6879181b\">fc43b16</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr></table>\n",
    "created_at": "2021-11-29T20:16:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533853",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b9b4eaf334c6dd5261ccd229ca825b01b600e6a6">b9b4eaf</a></td><td><code>build/pkgs/primesieve: Add patch to support ubuntu-trusty, linuxmint-17</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7872fa139cb9df5d5374b6ef5923b49d7523ad34">7872fa1</a></td><td><code>prime_pi and legendre_phi calling primecount</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/078f6fe05af7ad1eb6dd50aa1c28447be2e62ba7">078f6fe</a></td><td><code>allow for slightly different Overflow messages in doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/731926a365452d04cca3ed29e1d5e382d32e941c">731926a</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ef22d1c2ba6ef9c70b3427e14f0bc81636ecc0e">8ef22d1</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc43b165eef336bafef008453dbf16fd6879181b">fc43b16</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr></table>




---

archive/issue_comments_533854.json:
```json
{
    "body": "**Changing commit** from \"[50b4c2bc959ae6389b5f3efe60c10c42c8540daf](https://github.com/sagemath/sagetrac-mirror/commit/50b4c2bc959ae6389b5f3efe60c10c42c8540daf)\" to \"[fc43b165eef336bafef008453dbf16fd6879181b](https://github.com/sagemath/sagetrac-mirror/commit/fc43b165eef336bafef008453dbf16fd6879181b)\".",
    "created_at": "2021-11-29T20:16:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533854",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[50b4c2bc959ae6389b5f3efe60c10c42c8540daf](https://github.com/sagemath/sagetrac-mirror/commit/50b4c2bc959ae6389b5f3efe60c10c42c8540daf)" to "[fc43b165eef336bafef008453dbf16fd6879181b](https://github.com/sagemath/sagetrac-mirror/commit/fc43b165eef336bafef008453dbf16fd6879181b)".



---

archive/issue_comments_533855.json:
```json
{
    "body": "**Reviewer:** https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345",
    "created_at": "2021-11-29T20:23:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533855",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345



---

archive/issue_comments_533856.json:
```json
{
    "body": "<a id='comment:23'></a>\nShouldn't `sage.interfaces.primecount` provide some deprecated re-imports?",
    "created_at": "2021-11-29T20:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533856",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
Shouldn't `sage.interfaces.primecount` provide some deprecated re-imports?



---

archive/issue_comments_533857.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345\" to \"\".",
    "created_at": "2021-11-29T20:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533857",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345" to "".



---

archive/issue_comments_533858.json:
```json
{
    "body": "**Reviewer:** https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345",
    "created_at": "2021-11-29T20:24:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533858",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345



---

archive/issue_events_295049.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-29T20:44:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295049"
}
```



---

archive/issue_events_295050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-29T20:44:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295050"
}
```



---

archive/issue_comments_533859.json:
```json
{
    "body": "<a id='comment:25'></a>\n`build/pkgs/primecountpy/dependencies` is still missing the dependency `cython`. It is NOT part of `PYTHON_TOOLCHAIN` as you can see in `build/make/Makefile.in`",
    "created_at": "2021-11-29T20:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533859",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:25'></a>
`build/pkgs/primecountpy/dependencies` is still missing the dependency `cython`. It is NOT part of `PYTHON_TOOLCHAIN` as you can see in `build/make/Makefile.in`



---

archive/issue_comments_533860.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/98aba6ae2db6bf273d8688eb021b983db9af836d\">98aba6a</a></td><td><code>cython is not in toolchain!</code></td></tr></table>\n",
    "created_at": "2021-11-30T09:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533860",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/98aba6ae2db6bf273d8688eb021b983db9af836d">98aba6a</a></td><td><code>cython is not in toolchain!</code></td></tr></table>




---

archive/issue_comments_533861.json:
```json
{
    "body": "**Changing commit** from \"[fc43b165eef336bafef008453dbf16fd6879181b](https://github.com/sagemath/sagetrac-mirror/commit/fc43b165eef336bafef008453dbf16fd6879181b)\" to \"[98aba6ae2db6bf273d8688eb021b983db9af836d](https://github.com/sagemath/sagetrac-mirror/commit/98aba6ae2db6bf273d8688eb021b983db9af836d)\".",
    "created_at": "2021-11-30T09:46:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533861",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fc43b165eef336bafef008453dbf16fd6879181b](https://github.com/sagemath/sagetrac-mirror/commit/fc43b165eef336bafef008453dbf16fd6879181b)" to "[98aba6ae2db6bf273d8688eb021b983db9af836d](https://github.com/sagemath/sagetrac-mirror/commit/98aba6ae2db6bf273d8688eb021b983db9af836d)".



---

archive/issue_events_295051.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-30T09:47:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295051"
}
```



---

archive/issue_events_295052.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-11-30T09:47:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295052"
}
```



---

archive/issue_comments_533862.json:
```json
{
    "body": "<a id='comment:28'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c52aea5acf00910ddc06629efcedb60c7015ad7\">6c52aea</a></td><td><code>bump to 0.1.0</code></td></tr></table>\n",
    "created_at": "2021-12-01T13:52:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533862",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c52aea5acf00910ddc06629efcedb60c7015ad7">6c52aea</a></td><td><code>bump to 0.1.0</code></td></tr></table>




---

archive/issue_comments_533863.json:
```json
{
    "body": "**Changing commit** from \"[98aba6ae2db6bf273d8688eb021b983db9af836d](https://github.com/sagemath/sagetrac-mirror/commit/98aba6ae2db6bf273d8688eb021b983db9af836d)\" to \"[6c52aea5acf00910ddc06629efcedb60c7015ad7](https://github.com/sagemath/sagetrac-mirror/commit/6c52aea5acf00910ddc06629efcedb60c7015ad7)\".",
    "created_at": "2021-12-01T13:52:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533863",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[98aba6ae2db6bf273d8688eb021b983db9af836d](https://github.com/sagemath/sagetrac-mirror/commit/98aba6ae2db6bf273d8688eb021b983db9af836d)" to "[6c52aea5acf00910ddc06629efcedb60c7015ad7](https://github.com/sagemath/sagetrac-mirror/commit/6c52aea5acf00910ddc06629efcedb60c7015ad7)".



---

archive/issue_comments_533864.json:
```json
{
    "body": "<a id='comment:29'></a>\n\n```\n+from primecountpy.primecount import prime_pi as _prime_pi\n+from primecountpy.primecount import phi as _phi\n```\nI think this should use `lazy_import` with a `deprecation` parameter",
    "created_at": "2021-12-01T20:17:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533864",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>

```
+from primecountpy.primecount import prime_pi as _prime_pi
+from primecountpy.primecount import phi as _phi
```
I think this should use `lazy_import` with a `deprecation` parameter



---

archive/issue_comments_533865.json:
```json
{
    "body": "<a id='comment:30'></a>\nWhat does one want to deprecate here?\n\nlazy_import is a good idea, yes.",
    "created_at": "2021-12-01T20:54:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533865",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
What does one want to deprecate here?

lazy_import is a good idea, yes.



---

archive/issue_comments_533866.json:
```json
{
    "body": "<a id='comment:31'></a>\nSorry, I was looking in the wrong place. I should have said: `sage.interfaces.primecount`  cannot be eliminated immediately, instead it should use `lazy_import` with a `deprecation` parameter to re-export the functions provided by `primecountpy`.",
    "created_at": "2021-12-01T21:00:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533866",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:31'></a>
Sorry, I was looking in the wrong place. I should have said: `sage.interfaces.primecount`  cannot be eliminated immediately, instead it should use `lazy_import` with a `deprecation` parameter to re-export the functions provided by `primecountpy`.



---

archive/issue_comments_533867.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143\">30346c0</a></td><td><code>cysignals are needed</code></td></tr></table>\n",
    "created_at": "2021-12-02T11:48:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533867",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143">30346c0</a></td><td><code>cysignals are needed</code></td></tr></table>




---

archive/issue_comments_533868.json:
```json
{
    "body": "**Changing commit** from \"[6c52aea5acf00910ddc06629efcedb60c7015ad7](https://github.com/sagemath/sagetrac-mirror/commit/6c52aea5acf00910ddc06629efcedb60c7015ad7)\" to \"[30346c0f7a5866249ee791d5a5b3a00840f20143](https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143)\".",
    "created_at": "2021-12-02T11:48:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533868",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[6c52aea5acf00910ddc06629efcedb60c7015ad7](https://github.com/sagemath/sagetrac-mirror/commit/6c52aea5acf00910ddc06629efcedb60c7015ad7)" to "[30346c0f7a5866249ee791d5a5b3a00840f20143](https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143)".



---

archive/issue_comments_533869.json:
```json
{
    "body": "**Changing commit** from \"[30346c0f7a5866249ee791d5a5b3a00840f20143](https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143)\" to \"[9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732](https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732)\".",
    "created_at": "2021-12-02T14:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533869",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[30346c0f7a5866249ee791d5a5b3a00840f20143](https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143)" to "[9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732](https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732)".



---

archive/issue_comments_533870.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732\">9cfdad8</a></td><td><code>deprecate sage.interfaces.primecount, not just remove</code></td></tr></table>\n",
    "created_at": "2021-12-02T14:36:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533870",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732">9cfdad8</a></td><td><code>deprecate sage.interfaces.primecount, not just remove</code></td></tr></table>




---

archive/issue_comments_533871.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [git](#comment%3A33):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732\">9cfdad8</a></td><td><code>deprecate sage.interfaces.primecount, not just remove</code></td></tr></table>\n\nThis should resolve [comment:29](#comment%3A29) - although perhaps not perfectly, as this is now Python-only. I don't know how to deprecate Cython functions.",
    "created_at": "2021-12-02T14:38:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533871",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
Replying to [git](#comment%3A33):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732">9cfdad8</a></td><td><code>deprecate sage.interfaces.primecount, not just remove</code></td></tr></table>

This should resolve [comment:29](#comment%3A29) - although perhaps not perfectly, as this is now Python-only. I don't know how to deprecate Cython functions.



---

archive/issue_comments_533872.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [git](#comment%3A32):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143\">30346c0</a></td><td><code>cysignals are needed</code></td></tr></table>\n\nNow the CI on https://github.com/dimpase/primecountpy/runs/4394526057\npasses. (The whole platforms shebang is still running).",
    "created_at": "2021-12-02T14:41:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533872",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:35'></a>
Replying to [git](#comment%3A32):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30346c0f7a5866249ee791d5a5b3a00840f20143">30346c0</a></td><td><code>cysignals are needed</code></td></tr></table>

Now the CI on https://github.com/dimpase/primecountpy/runs/4394526057
passes. (The whole platforms shebang is still running).



---

archive/issue_comments_533873.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [@dimpase](#comment%3A34):\n> This should resolve [comment:29](#comment%3A29) - although perhaps not perfectly, as this is now Python-only. \n\nYes, this is what I had in mind, thanks.\n\n> I don't know how to deprecate Cython functions.\n\nWe don't have a mechanism for that.",
    "created_at": "2021-12-02T18:07:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533873",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>
Replying to [@dimpase](#comment%3A34):
> This should resolve [comment:29](#comment%3A29) - although perhaps not perfectly, as this is now Python-only. 

Yes, this is what I had in mind, thanks.

> I don't know how to deprecate Cython functions.

We don't have a mechanism for that.



---

archive/issue_events_295053.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T18:56:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295053"
}
```



---

archive/issue_events_295054.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T18:56:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295054"
}
```



---

archive/issue_comments_533874.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345\" to \"Matthias Koeppe\".",
    "created_at": "2021-12-02T18:56:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533874",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "https://github.com/sagemath/sagetrac-mirror/actions/runs/1517758345" to "Matthias Koeppe".



---

archive/issue_events_295055.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-12-02T20:41:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295055"
}
```



---

archive/issue_events_295056.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-12-02T20:41:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295056"
}
```



---

archive/issue_comments_533875.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5495982b3ac1336467355ee4c040be67bc74172d\">5495982</a></td><td><code>primecount is on conda, too</code></td></tr></table>\n",
    "created_at": "2021-12-02T20:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533875",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:38'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5495982b3ac1336467355ee4c040be67bc74172d">5495982</a></td><td><code>primecount is on conda, too</code></td></tr></table>




---

archive/issue_comments_533876.json:
```json
{
    "body": "**Changing commit** from \"[9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732](https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732)\" to \"[5495982b3ac1336467355ee4c040be67bc74172d](https://github.com/sagemath/sagetrac-mirror/commit/5495982b3ac1336467355ee4c040be67bc74172d)\".",
    "created_at": "2021-12-02T20:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533876",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732](https://github.com/sagemath/sagetrac-mirror/commit/9cfdad8bbb3bc7371d8c45f01e23d1e31e5cf732)" to "[5495982b3ac1336467355ee4c040be67bc74172d](https://github.com/sagemath/sagetrac-mirror/commit/5495982b3ac1336467355ee4c040be67bc74172d)".



---

archive/issue_comments_533877.json:
```json
{
    "body": "<a id='comment:39'></a>\na trivial addition.",
    "created_at": "2021-12-02T20:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533877",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'></a>
a trivial addition.



---

archive/issue_events_295057.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-02T20:42:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295057"
}
```



---

archive/issue_events_295058.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-02T20:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295058"
}
```



---

archive/issue_comments_533878.json:
```json
{
    "body": "<a id='comment:40'></a>\nCan you add `primesieve` conda package too?",
    "created_at": "2021-12-05T04:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533878",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:40'></a>
Can you add `primesieve` conda package too?



---

archive/issue_events_295059.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-12-05T12:11:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295059"
}
```



---

archive/issue_events_295060.json:
```json
{
    "actor": "https://github.com/sagetrac-git",
    "created_at": "2021-12-05T12:11:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295060"
}
```



---

archive/issue_comments_533879.json:
```json
{
    "body": "<a id='comment:41'></a>\n**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7\">8ef586a</a></td><td><code>primesieve is on conda, too</code></td></tr></table>\n",
    "created_at": "2021-12-05T12:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533879",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:41'></a>
**Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7">8ef586a</a></td><td><code>primesieve is on conda, too</code></td></tr></table>




---

archive/issue_comments_533880.json:
```json
{
    "body": "**Changing commit** from \"[5495982b3ac1336467355ee4c040be67bc74172d](https://github.com/sagemath/sagetrac-mirror/commit/5495982b3ac1336467355ee4c040be67bc74172d)\" to \"[8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7](https://github.com/sagemath/sagetrac-mirror/commit/8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7)\".",
    "created_at": "2021-12-05T12:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533880",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5495982b3ac1336467355ee4c040be67bc74172d](https://github.com/sagemath/sagetrac-mirror/commit/5495982b3ac1336467355ee4c040be67bc74172d)" to "[8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7](https://github.com/sagemath/sagetrac-mirror/commit/8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7)".



---

archive/issue_events_295061.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-05T12:12:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295061"
}
```



---

archive/issue_events_295062.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-05T12:12:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295062"
}
```



---

archive/issue_comments_533881.json:
```json
{
    "body": "<a id='comment:42'></a>\nReplying to [@isuruf](#comment%3A40):\n> Can you add `primesieve` conda package too?\n\ndone.",
    "created_at": "2021-12-05T12:12:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533881",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
Replying to [@isuruf](#comment%3A40):
> Can you add `primesieve` conda package too?

done.



---

archive/issue_comments_533882.json:
```json
{
    "body": "<a id='comment:43'></a>\nTest fail, e.g. \n\n```\nFile \"src/sage/plot/plot.py\", line 1753, in sage.plot.plot.plot\nFailed example:\n    plot(lambda x: prime_pi(x), (x, 1, 100), exclude=jumps)\nExpected:\n    Graphics object consisting of 26 graphics primitives\nGot:\n    verbose 0 (3839: plot.py, generate_plot_points) WARNING: When plotting, failed to evaluate function at 248 points.\n    verbose 0 (3839: plot.py, generate_plot_points) Last error message: 'unable to simplify to float approximation'\n    Graphics object consisting of 0 graphics primitives\n**********************************************************************\n1 item had failures:\n   1 of 147 in sage.plot.plot.plot\n    [423 tests, 1 failure, 28.78 s]\n----------------------------------------------------------------------\nsage -t --warn-long 47.7 --random-seed=57011699320160764553253619770787736483 src/sage/plot/plot.py  # 1 doctest failed\n```",
    "created_at": "2021-12-12T17:37:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533882",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:43'></a>
Test fail, e.g. 

```
File "src/sage/plot/plot.py", line 1753, in sage.plot.plot.plot
Failed example:
    plot(lambda x: prime_pi(x), (x, 1, 100), exclude=jumps)
Expected:
    Graphics object consisting of 26 graphics primitives
Got:
    verbose 0 (3839: plot.py, generate_plot_points) WARNING: When plotting, failed to evaluate function at 248 points.
    verbose 0 (3839: plot.py, generate_plot_points) Last error message: 'unable to simplify to float approximation'
    Graphics object consisting of 0 graphics primitives
**********************************************************************
1 item had failures:
   1 of 147 in sage.plot.plot.plot
    [423 tests, 1 failure, 28.78 s]
----------------------------------------------------------------------
sage -t --warn-long 47.7 --random-seed=57011699320160764553253619770787736483 src/sage/plot/plot.py  # 1 doctest failed
```



---

archive/issue_events_295063.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-12T17:37:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295063"
}
```



---

archive/issue_events_295064.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-12T17:37:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295064"
}
```



---

archive/issue_comments_533883.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b61474ab26f998fbefff72e20c987661bcec2e9\">2b61474</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/687687bbaa574702015301513e2a55d975e8bcf1\">687687b</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f6c4a108d4b34d039fd8f3202d14aa6419a6c0a\">9f6c4a1</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de7de853a5cb716e643e42d65e084809ecd29176\">de7de85</a></td><td><code>cython is not in toolchain!</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43d481b01ee129eb5ffcf52b848012e648663a91\">43d481b</a></td><td><code>bump to 0.1.0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f66821b0fd8b060d49fc2177f56ad79584f8ec0b\">f66821b</a></td><td><code>cysignals are needed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ae37b4e39479f6592296e3502eabdc585af662a8\">ae37b4e</a></td><td><code>deprecate sage.interfaces.primecount, not just remove</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3ae5f4225be135ef739851c033319ec731dcb73\">d3ae5f4</a></td><td><code>primecount is on conda, too</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a8c7fee219003c5ee076d4917b677013642b1bb\">3a8c7fe</a></td><td><code>primesieve is on conda, too</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d\">74b3845</a></td><td><code>allow float inputs for prime_pi</code></td></tr></table>\n",
    "created_at": "2021-12-13T00:36:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533883",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b61474ab26f998fbefff72e20c987661bcec2e9">2b61474</a></td><td><code>spkg primecountpy</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/687687bbaa574702015301513e2a55d975e8bcf1">687687b</a></td><td><code>use primecountpy instead of built-in cython interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f6c4a108d4b34d039fd8f3202d14aa6419a6c0a">9f6c4a1</a></td><td><code>remove primecount from various lists of optional spkgs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de7de853a5cb716e643e42d65e084809ecd29176">de7de85</a></td><td><code>cython is not in toolchain!</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43d481b01ee129eb5ffcf52b848012e648663a91">43d481b</a></td><td><code>bump to 0.1.0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f66821b0fd8b060d49fc2177f56ad79584f8ec0b">f66821b</a></td><td><code>cysignals are needed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ae37b4e39479f6592296e3502eabdc585af662a8">ae37b4e</a></td><td><code>deprecate sage.interfaces.primecount, not just remove</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3ae5f4225be135ef739851c033319ec731dcb73">d3ae5f4</a></td><td><code>primecount is on conda, too</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a8c7fee219003c5ee076d4917b677013642b1bb">3a8c7fe</a></td><td><code>primesieve is on conda, too</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d">74b3845</a></td><td><code>allow float inputs for prime_pi</code></td></tr></table>




---

archive/issue_comments_533884.json:
```json
{
    "body": "**Changing commit** from \"[8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7](https://github.com/sagemath/sagetrac-mirror/commit/8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7)\" to \"[74b38459edb9c9ae7417883adf15eba1e981631d](https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d)\".",
    "created_at": "2021-12-13T00:36:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533884",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7](https://github.com/sagemath/sagetrac-mirror/commit/8ef586ac6784a4cdcbad0e321cbfe2d65c2f6fb7)" to "[74b38459edb9c9ae7417883adf15eba1e981631d](https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d)".



---

archive/issue_events_295065.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-13T18:16:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295065"
}
```



---

archive/issue_events_295066.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-13T18:16:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295066"
}
```



---

archive/issue_comments_533885.json:
```json
{
    "body": "<a id='comment:45'></a>\nrebased an added `\u200b74b3845\tallow float inputs for prime_pi` to deal with the need for `prime_pi` to accept floats as input.\nAll the relevant tests pass.",
    "created_at": "2021-12-13T18:16:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533885",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:45'></a>
rebased an added `74b3845	allow float inputs for prime_pi` to deal with the need for `prime_pi` to accept floats as input.
All the relevant tests pass.



---

archive/issue_comments_533886.json:
```json
{
    "body": "<a id='comment:46'></a>\nLGTM.",
    "created_at": "2021-12-13T19:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533886",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>
LGTM.



---

archive/issue_events_295067.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-13T19:09:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295067"
}
```



---

archive/issue_events_295068.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-13T19:09:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295068"
}
```



---

archive/issue_comments_533887.json:
```json
{
    "body": "<a id='comment:47'></a>\nMarking this ticket \"critical\" in light of #33054 because it adds the conda package information",
    "created_at": "2021-12-21T01:39:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533887",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>
Marking this ticket "critical" in light of #33054 because it adds the conda package information



---

archive/issue_events_295069.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-21T01:39:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/critical",
    "label_color": "ff0000",
    "label_name": "critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295069"
}
```



---

archive/issue_comments_533888.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/packages/primecountpy](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/primecountpy)\" to \"[74b38459edb9c9ae7417883adf15eba1e981631d](https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d)\".",
    "created_at": "2021-12-23T20:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32894#issuecomment-533888",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/dimpase/packages/primecountpy](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/primecountpy)" to "[74b38459edb9c9ae7417883adf15eba1e981631d](https://github.com/sagemath/sagetrac-mirror/commit/74b38459edb9c9ae7417883adf15eba1e981631d)".



---

archive/issue_events_295070.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-23T20:25:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295070"
}
```



---

archive/issue_events_295071.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1c8e98fabc690bb814ef1df6dfc045b06a945882",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-23T20:25:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32894",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32894#event-295071"
}
```
