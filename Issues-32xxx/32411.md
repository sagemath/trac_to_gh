# Issue 32411: Remove unnecessary uses of SR and symbolic functions in sage.algebras, sage.combinat

archive/issues_032174.json:
```json
{
    "body": "`git grep -E '[.](symbolic|calculus|functions).*import'` reveals a number of calls to the symbolic calculus subsystem of Sage that can be avoided.\n\nExamples:\n\n- `ArikiKoikeAlgebra._BasesCategory.ParentMethods.dimension` uses `sage.functions.other.factorial` although it only needs `ZZ.factorial`\n\n- Likewise, `sage.categories.finite_dimensional_lie_algebras_with_basis` uses symbolic `binomial` but only needs `ZZ.binomial`\n\n- `ClassicalCrystals.ParentMethods.demazure_character` could be generalized to take a \"variables\" parameter so that users can obtain the result as an element of a polynomial ring instead of SR; or as a sympy expression\n\n- Many more examples like this in `sage.combinat` whenever counting formulas or similar are produced\n\n\nThis is part of Meta-ticket #29705 (modularization) - to remove unnecessary dependencies on the distribution `sagemath-symbolics` (#31695)\n\n\nCC:  @tscrim\n\nBranch/Commit: ec09c4e9523c39fa6244861a3596f9af5919bac3\n\nReviewer: Matthias Koeppe\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32411\n\n",
    "closed_at": "2021-09-13T22:18:39Z",
    "created_at": "2021-08-24T06:18:04Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Remove unnecessary uses of SR and symbolic functions in sage.algebras, sage.combinat",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32411",
    "user": "https://github.com/mkoeppe"
}
```
`git grep -E '[.](symbolic|calculus|functions).*import'` reveals a number of calls to the symbolic calculus subsystem of Sage that can be avoided.

Examples:

- `ArikiKoikeAlgebra._BasesCategory.ParentMethods.dimension` uses `sage.functions.other.factorial` although it only needs `ZZ.factorial`

- Likewise, `sage.categories.finite_dimensional_lie_algebras_with_basis` uses symbolic `binomial` but only needs `ZZ.binomial`

- `ClassicalCrystals.ParentMethods.demazure_character` could be generalized to take a "variables" parameter so that users can obtain the result as an element of a polynomial ring instead of SR; or as a sympy expression

- Many more examples like this in `sage.combinat` whenever counting formulas or similar are produced


This is part of Meta-ticket #29705 (modularization) - to remove unnecessary dependencies on the distribution `sagemath-symbolics` (#31695)


CC:  @tscrim

Branch/Commit: ec09c4e9523c39fa6244861a3596f9af5919bac3

Reviewer: Matthias Koeppe

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32411





---

archive/issue_comments_645561.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-24T07:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645561",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_645562.json:
```json
{
    "body": "Changing branch from \"\" to \"public/ticket/32411\"",
    "created_at": "2021-08-24T07:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645562",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "public/ticket/32411"



---

archive/issue_comments_645563.json:
```json
{
    "body": "Changing commit from \"\" to \"4a95d8a2c1e5422326ffc9ead60d228a789c8e07\"",
    "created_at": "2021-08-24T07:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645563",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "4a95d8a2c1e5422326ffc9ead60d228a789c8e07"



---

archive/issue_comments_645564.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|\n|[4a95d8a](https://git.sagemath.org/sage.git/commit/?id=4a95d8a2c1e5422326ffc9ead60d228a789c8e07)|`changing imports of binomial, factorial and floor in algebras and combinat`|",
    "created_at": "2021-08-24T07:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
|[4a95d8a](https://git.sagemath.org/sage.git/commit/?id=4a95d8a2c1e5422326ffc9ead60d228a789c8e07)|`changing imports of binomial, factorial and floor in algebras and combinat`|



---

archive/issue_comments_645565.json:
```json
{
    "body": "Changing commit from \"4a95d8a2c1e5422326ffc9ead60d228a789c8e07\" to \"c1485e5ee14d9cbe5365dde32c4c3f9a114d5753\"",
    "created_at": "2021-08-24T08:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "4a95d8a2c1e5422326ffc9ead60d228a789c8e07" to "c1485e5ee14d9cbe5365dde32c4c3f9a114d5753"



---

archive/issue_comments_645566.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[c1485e5](https://git.sagemath.org/sage.git/commit/?id=c1485e5ee14d9cbe5365dde32c4c3f9a114d5753)|`remove one import of SR in combinat`|",
    "created_at": "2021-08-24T08:01:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[c1485e5](https://git.sagemath.org/sage.git/commit/?id=c1485e5ee14d9cbe5365dde32c4c3f9a114d5753)|`remove one import of SR in combinat`|



---

archive/issue_comments_645567.json:
```json
{
    "body": "Changing commit from \"c1485e5ee14d9cbe5365dde32c4c3f9a114d5753\" to \"ad0b243da7b31da1f2b99506b81d0f3436f32e12\"",
    "created_at": "2021-08-24T11:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c1485e5ee14d9cbe5365dde32c4c3f9a114d5753" to "ad0b243da7b31da1f2b99506b81d0f3436f32e12"



---

archive/issue_comments_645568.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[ad0b243](https://git.sagemath.org/sage.git/commit/?id=ad0b243da7b31da1f2b99506b81d0f3436f32e12)|`fix typo`|",
    "created_at": "2021-08-24T11:21:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645568",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[ad0b243](https://git.sagemath.org/sage.git/commit/?id=ad0b243da7b31da1f2b99506b81d0f3436f32e12)|`fix typo`|



---

archive/issue_comments_645569.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|\n|[ec09c4e](https://git.sagemath.org/sage.git/commit/?id=ec09c4e9523c39fa6244861a3596f9af5919bac3)|`fix in cluster`|",
    "created_at": "2021-08-24T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645569",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------|
|[ec09c4e](https://git.sagemath.org/sage.git/commit/?id=ec09c4e9523c39fa6244861a3596f9af5919bac3)|`fix in cluster`|



---

archive/issue_comments_645570.json:
```json
{
    "body": "Changing commit from \"ad0b243da7b31da1f2b99506b81d0f3436f32e12\" to \"ec09c4e9523c39fa6244861a3596f9af5919bac3\"",
    "created_at": "2021-08-24T14:39:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645570",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ad0b243da7b31da1f2b99506b81d0f3436f32e12" to "ec09c4e9523c39fa6244861a3596f9af5919bac3"



---

archive/issue_comments_645571.json:
```json
{
    "body": "Changing author from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2021-08-24T17:56:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645571",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Frédéric Chapoton"



---

archive/issue_comments_645572.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-24T17:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645572",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_645573.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks a lot, LGTM.",
    "created_at": "2021-08-24T17:57:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645573",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>
Thanks a lot, LGTM.



---

archive/issue_comments_645574.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-08-24T17:59:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645574",
    "user": "https://github.com/mkoeppe"
}
```

Changing reviewer from "" to "Matthias Koeppe"



---

archive/issue_comments_645575.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,5 +11,5 @@\n - Many more examples like this in `sage.combinat` whenever counting formulas or similar are produced\n \n \n-This is part of Meta-ticket #29705 (modularization) - to remove unnecessary dependencies on the distribution `sagemath-symbolics`\n+This is part of Meta-ticket #29705 (modularization) - to remove unnecessary dependencies on the distribution `sagemath-symbolics` (#31695)\n \n``````\n",
    "created_at": "2021-08-24T18:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645575",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,5 +11,5 @@
 - Many more examples like this in `sage.combinat` whenever counting formulas or similar are produced
 
 
-This is part of Meta-ticket #29705 (modularization) - to remove unnecessary dependencies on the distribution `sagemath-symbolics`
+This is part of Meta-ticket #29705 (modularization) - to remove unnecessary dependencies on the distribution `sagemath-symbolics` (#31695)
 
``````




---

archive/issue_comments_645576.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-09-13T22:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645576",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_645577.json:
```json
{
    "body": "Changing branch from \"public/ticket/32411\" to \"ec09c4e9523c39fa6244861a3596f9af5919bac3\"",
    "created_at": "2021-09-13T22:18:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32411#issuecomment-645577",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/32411" to "ec09c4e9523c39fa6244861a3596f9af5919bac3"



---

archive/issue_events_085993.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-13T22:18:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32411",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32411#event-85993"
}
```
