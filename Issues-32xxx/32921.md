# Issue 32921: k-recursive sequences with inhomogeneities

archive/issues_032684.json:
```json
{
    "assignees": [],
    "body": "Implement k-recursive sequences with inhomogeneities as described in Corollary D of the paper [\"Asymptotic Analysis of q-Recursive Sequences\"](https://arxiv.org/abs/2105.04334).\n\nSee also meta ticket #21202.\n\nDepends on #21319\nDepends on #21325\nDepends on #31787\n\nCC:  @cheuberg @dkrenn\n\nBranch/Commit: **[e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc)**\n\nReviewer: **Clemens Heuberger**\n\nAuthor: **Gabriel F. Lipnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32921_\n\n",
    "closed_at": "2022-09-25T16:34:22Z",
    "created_at": "2021-11-22T02:00:01Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "k-recursive sequences with inhomogeneities",
    "type": "issue",
    "updated_at": "2022-09-25T16:34:22Z",
    "url": "https://github.com/sagemath/sage/issues/32921",
    "user": "https://github.com/galipnik"
}
```
Implement k-recursive sequences with inhomogeneities as described in Corollary D of the paper ["Asymptotic Analysis of q-Recursive Sequences"](https://arxiv.org/abs/2105.04334).

See also meta ticket #21202.

Depends on #21319
Depends on #21325
Depends on #31787

CC:  @cheuberg @dkrenn

Branch/Commit: **[e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc)**

Reviewer: **Clemens Heuberger**

Author: **Gabriel F. Lipnik**

_Issue created by migration from https://trac.sagemath.org/ticket/32921_





---

archive/issue_events_420504.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2021-11-22T02:00:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420504"
}
```



---

archive/issue_events_420505.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2021-11-22T02:00:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420505"
}
```



---

archive/issue_events_420506.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2021-11-22T02:00:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420506"
}
```



---

archive/issue_events_420507.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2021-11-22T02:00:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420507"
}
```



---

archive/issue_events_420508.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420508"
}
```



---

archive/issue_events_420509.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:11:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420509"
}
```



---

archive/issue_comments_534705.json:
```json
{
    "body": "Branch: **[u/galipnik/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/galipnik/k-regular-from-recurrence-inhomogeneities)**",
    "created_at": "2021-12-29T08:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534705",
    "user": "https://github.com/galipnik"
}
```

Branch: **[u/galipnik/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/galipnik/k-regular-from-recurrence-inhomogeneities)**



---

archive/issue_comments_534706.json:
```json
{
    "body": "Commit: **[0eff52e](https://github.com/sagemath/sagetrac-mirror/commit/0eff52e6c19f36124fcbf6f384b12c98c5f5bcd6)**",
    "created_at": "2021-12-29T08:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534706",
    "user": "https://github.com/galipnik"
}
```

Commit: **[0eff52e](https://github.com/sagemath/sagetrac-mirror/commit/0eff52e6c19f36124fcbf6f384b12c98c5f5bcd6)**



---

archive/issue_comments_534707.json:
```json
{
    "body": "Changed dependencies from **#31787** to **#21325, #31787**",
    "created_at": "2021-12-29T08:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534707",
    "user": "https://github.com/galipnik"
}
```

Changed dependencies from **#31787** to **#21325, #31787**



---

archive/issue_comments_534708.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dd7c483d72a21360e155be512c8764e2c919567\">2dd7c48</a></td><td><code>Trac #31787: reformulate one example with keyword arguments only</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/13e3c817f49ea2b9d70008e071a488051a7ed977\">13e3c81</a></td><td><code>Merge remote-tracking branch 'origin/u/galipnik/k-regular-from-recurrence-alternative-args' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3ba04e72f297b22f4951a90f799a894a2a4adede\">3ba04e7</a></td><td><code>Trac 32921: add optional keyword-only argument inhomogeneities</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/976ac29663f1d0583c4cb05675840718993c8f48\">976ac29</a></td><td><code>Trac 32921: add inhomogeneities to values-method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6837137025804030468632ac713d9e4023169dd2\">6837137</a></td><td><code>Trac #32921: add inhomogeneities to left-method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/22c5f0bd80da7e4961e404b628348776a11e9d49\">22c5f0b</a></td><td><code>Trac #32921: add inhomogeneities to right-method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53c6b584251663e8c8edc2adeea043c94d1cdeb7\">53c6b58</a></td><td><code>Trac #32921: first draft for matrices</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a3996450ddcbe542dd1d723b629fed5e64f462d\">9a39964</a></td><td><code>Trac #32921: add examples/tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cee66a6c936867734af47fcd84bbb45d6a144974\">cee66a6</a></td><td><code>Trac #32921: add keywords to old test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b1f2b71238369da6398e5fe9ef115a7408ddd16d\">b1f2b71</a></td><td><code>Trac #32921: use is_trivial_zero in old example</code></td></tr></table>\n",
    "created_at": "2022-01-11T20:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534708",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dd7c483d72a21360e155be512c8764e2c919567">2dd7c48</a></td><td><code>Trac #31787: reformulate one example with keyword arguments only</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/13e3c817f49ea2b9d70008e071a488051a7ed977">13e3c81</a></td><td><code>Merge remote-tracking branch 'origin/u/galipnik/k-regular-from-recurrence-alternative-args' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3ba04e72f297b22f4951a90f799a894a2a4adede">3ba04e7</a></td><td><code>Trac 32921: add optional keyword-only argument inhomogeneities</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/976ac29663f1d0583c4cb05675840718993c8f48">976ac29</a></td><td><code>Trac 32921: add inhomogeneities to values-method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6837137025804030468632ac713d9e4023169dd2">6837137</a></td><td><code>Trac #32921: add inhomogeneities to left-method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/22c5f0bd80da7e4961e404b628348776a11e9d49">22c5f0b</a></td><td><code>Trac #32921: add inhomogeneities to right-method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53c6b584251663e8c8edc2adeea043c94d1cdeb7">53c6b58</a></td><td><code>Trac #32921: first draft for matrices</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a3996450ddcbe542dd1d723b629fed5e64f462d">9a39964</a></td><td><code>Trac #32921: add examples/tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cee66a6c936867734af47fcd84bbb45d6a144974">cee66a6</a></td><td><code>Trac #32921: add keywords to old test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b1f2b71238369da6398e5fe9ef115a7408ddd16d">b1f2b71</a></td><td><code>Trac #32921: use is_trivial_zero in old example</code></td></tr></table>




---

archive/issue_comments_534709.json:
```json
{
    "body": "Changed commit from **[0eff52e](https://github.com/sagemath/sagetrac-mirror/commit/0eff52e6c19f36124fcbf6f384b12c98c5f5bcd6)** to **[b1f2b71](https://github.com/sagemath/sagetrac-mirror/commit/b1f2b71238369da6398e5fe9ef115a7408ddd16d)**",
    "created_at": "2022-01-11T20:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534709",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0eff52e](https://github.com/sagemath/sagetrac-mirror/commit/0eff52e6c19f36124fcbf6f384b12c98c5f5bcd6)** to **[b1f2b71](https://github.com/sagemath/sagetrac-mirror/commit/b1f2b71238369da6398e5fe9ef115a7408ddd16d)**



---

archive/issue_comments_534710.json:
```json
{
    "body": "Changed commit from **[b1f2b71](https://github.com/sagemath/sagetrac-mirror/commit/b1f2b71238369da6398e5fe9ef115a7408ddd16d)** to **[7e4ac44](https://github.com/sagemath/sagetrac-mirror/commit/7e4ac4415aa093b0df9f969716e4e9d7b99e7028)**",
    "created_at": "2022-01-11T21:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534710",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b1f2b71](https://github.com/sagemath/sagetrac-mirror/commit/b1f2b71238369da6398e5fe9ef115a7408ddd16d)** to **[7e4ac44](https://github.com/sagemath/sagetrac-mirror/commit/7e4ac4415aa093b0df9f969716e4e9d7b99e7028)**



---

archive/issue_comments_534711.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e4ac4415aa093b0df9f969716e4e9d7b99e7028\">7e4ac44</a></td><td><code>Trac #32921: add random example with imhomogeneities only</code></td></tr></table>\n",
    "created_at": "2022-01-11T21:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534711",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e4ac4415aa093b0df9f969716e4e9d7b99e7028">7e4ac44</a></td><td><code>Trac #32921: add random example with imhomogeneities only</code></td></tr></table>




---

archive/issue_comments_534712.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59479e5a75184ada8c463c728e8416e633a34304\">59479e5</a></td><td><code>Trac #32921: add some tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bc9c110a540f54bfc791fcca8cd95cc1b4bd77b\">6bc9c11</a></td><td><code>Trac #32921: minor modifications in tests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60f76025f9b90da18da7c59a1f72f4b998c0be39\">60f7602</a></td><td><code>Trac #32921: fix issue for left vector</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/49363c791a40883dc4fb3ab8d3aa50d21dbf61bd\">49363c7</a></td><td><code>Trac #32921: deactivate minimization for now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a65412ee40bcea65ad212ee3d15eda0dea0bb511\">a65412e</a></td><td><code>Trac #32921: shift parts from right to v_eval_n</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e10abb3160fdc6a1fc11850cd8afcdb106a8de89\">e10abb3</a></td><td><code>Trac #32921: fix offset correction</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/268fe7c625a54c94566bb5fcf6c98daf0a06bff3\">268fe7c</a></td><td><code>Trac #32921: add further example</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54bc5db1008b6b186d5ffbeefc4a82b83aeef988\">54bc5db</a></td><td><code>Trac #32921: simplify construction of matrix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25d53987b491f848d23038ff2b885cf768f86d6e\">25d5398</a></td><td><code>Trac #32921: add inhomogeneities to docstring</code></td></tr></table>\n",
    "created_at": "2022-01-12T15:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534712",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59479e5a75184ada8c463c728e8416e633a34304">59479e5</a></td><td><code>Trac #32921: add some tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bc9c110a540f54bfc791fcca8cd95cc1b4bd77b">6bc9c11</a></td><td><code>Trac #32921: minor modifications in tests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60f76025f9b90da18da7c59a1f72f4b998c0be39">60f7602</a></td><td><code>Trac #32921: fix issue for left vector</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/49363c791a40883dc4fb3ab8d3aa50d21dbf61bd">49363c7</a></td><td><code>Trac #32921: deactivate minimization for now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a65412ee40bcea65ad212ee3d15eda0dea0bb511">a65412e</a></td><td><code>Trac #32921: shift parts from right to v_eval_n</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e10abb3160fdc6a1fc11850cd8afcdb106a8de89">e10abb3</a></td><td><code>Trac #32921: fix offset correction</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/268fe7c625a54c94566bb5fcf6c98daf0a06bff3">268fe7c</a></td><td><code>Trac #32921: add further example</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54bc5db1008b6b186d5ffbeefc4a82b83aeef988">54bc5db</a></td><td><code>Trac #32921: simplify construction of matrix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25d53987b491f848d23038ff2b885cf768f86d6e">25d5398</a></td><td><code>Trac #32921: add inhomogeneities to docstring</code></td></tr></table>




---

archive/issue_comments_534713.json:
```json
{
    "body": "Changed commit from **[7e4ac44](https://github.com/sagemath/sagetrac-mirror/commit/7e4ac4415aa093b0df9f969716e4e9d7b99e7028)** to **[25d5398](https://github.com/sagemath/sagetrac-mirror/commit/25d53987b491f848d23038ff2b885cf768f86d6e)**",
    "created_at": "2022-01-12T15:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534713",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7e4ac44](https://github.com/sagemath/sagetrac-mirror/commit/7e4ac4415aa093b0df9f969716e4e9d7b99e7028)** to **[25d5398](https://github.com/sagemath/sagetrac-mirror/commit/25d53987b491f848d23038ff2b885cf768f86d6e)**



---

archive/issue_events_420510.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2022-01-13T16:03:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420510"
}
```



---

archive/issue_events_420511.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2022-01-17T07:33:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420511"
}
```



---

archive/issue_events_420512.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2022-01-17T07:33:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420512"
}
```



---

archive/issue_comments_534714.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI had a look at this branch and have some comments.\n\n1. line 1042: would `(S - T).is_trivial_zero()` work if #33158 is merged?\n\n2. `from_recurrence`: parameter `inhomogeneities`: please mention default value `{}` in docstring.\n\n3. `RecurrenceParser.parameters`: parameter `inhomogeneities`: I do not think that the last sentence \"All inhomogeneities have to be regular sequences from ``self``.\" is appropriate here. Also mentioning the default seems to be unusual in an output section.\n\n4. `RecurrenceParser.values`: parameter `inhomogeneities`: I do not think that the last sentence \"All inhomogeneities have to be regular sequences from ``self``.\" is appropriate here.\n\n5. `RecurrenceParser.v_eval_n`: In the new code at the end, I am surprised that `n` does not occur in `shifted_inhomogeneities` at all.\n\n6. `RecurrenceParser.v_eval_n`: In the new code at the end, I am not convinced that `upper + 1` is the correct second argument for `srange`: The paper contains an additional `+1` in what translates to `upper` here.\n\n7. `RecurrenceParser.matrix`: Is `minimize=False` a tribute to #33158?\n\n8. `RecurrenceParser.matrix`: Same comment as 6.\n\n9. `RecurrenceParser.matrix`: for the second case, there is twice `rem_d - k` whereas the paper has `rem_d - k^M`\n\n10. `RecurrenceParser.matrix`: setting `1` into the matrix silently assumes that the left vector of the shifted inhomogeneity is `(1, 0, ... ,0)`. This may not be the case (`subsequence` will copy the left vector of the inhomogeneity to the shifted version). So at least we have to check that this assumption holds, at best we would transform the linear representation of the inhomogeneity such that the condition holds. (choose a matrix `T` such that right multiplication of the existing left vector by `T` leads to the desired left vector, replace all matrices by `T^{-1}` times the matrix times `T` and multiply the right vector by `T^{-1}` from the left; all that should probably be a separate method of regular sequences). Alternatively, simply copying the left vector into the correct position might do the job.\n\n21. `RecurrenceParser.matrix`: this code might be rather inefficient: The vector constructed by `subsequence(1, b)` will consist of several shifted versions of the inhomogeneity. So when calling `subsequence(1, b)` for adjacent values of `b`, chances are very high that there will be a noticeable overlap in the vectors constructed, which results in substantial redundancy. The method `subsequence` has provisions for computing several shifts at the same time (for linear combinations). So it would be advantageous to modify `subsequence` to also allow `b` to be a list (not only a scalar or a dictionary); it is currently unclear what the best return value would be in that case. Or one might simply take the existing version of subsequence with some dummy coefficients and throw away the left vector because it will be zero in this application, anyways.\n\n32. Overall, all the parameters of the shifted inhomogeneities are computed thrice: in `v_eval_n`, in `matrix`, in `left` (see comments 6 and 8). This seems to be repetitive, error-prone and inefficient (because `subsequence` is called repeatedly). Therefore, I suggest to factor out these computations to a new method.\n\n43. I have the impression that the code in `RecurrenceParser.matrix` could be somewhat simplified by not computing exact indices for the entries, but by constructing block matrices in a suitable way, see also [#21325 comment:29](https://github.com/sagemath/sage/issues/21325#comment:29) for a related discussion.\n\n54. `from_recurrence`: in the example where `one` is constructed explicitly for the sum of digits function (currently line 910): I think that https://doc.sagemath.org/html/en/reference/combinat/sage/combinat/recognizable_series.html#sage.combinat.recognizable_series.RecognizableSeriesSpace.one_hadamard would do the job out of the box.",
    "created_at": "2022-01-17T07:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534714",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:7'>Comment 7:</a>
I had a look at this branch and have some comments.

1. line 1042: would `(S - T).is_trivial_zero()` work if #33158 is merged?

2. `from_recurrence`: parameter `inhomogeneities`: please mention default value `{}` in docstring.

3. `RecurrenceParser.parameters`: parameter `inhomogeneities`: I do not think that the last sentence "All inhomogeneities have to be regular sequences from ``self``." is appropriate here. Also mentioning the default seems to be unusual in an output section.

4. `RecurrenceParser.values`: parameter `inhomogeneities`: I do not think that the last sentence "All inhomogeneities have to be regular sequences from ``self``." is appropriate here.

5. `RecurrenceParser.v_eval_n`: In the new code at the end, I am surprised that `n` does not occur in `shifted_inhomogeneities` at all.

6. `RecurrenceParser.v_eval_n`: In the new code at the end, I am not convinced that `upper + 1` is the correct second argument for `srange`: The paper contains an additional `+1` in what translates to `upper` here.

7. `RecurrenceParser.matrix`: Is `minimize=False` a tribute to #33158?

8. `RecurrenceParser.matrix`: Same comment as 6.

9. `RecurrenceParser.matrix`: for the second case, there is twice `rem_d - k` whereas the paper has `rem_d - k^M`

10. `RecurrenceParser.matrix`: setting `1` into the matrix silently assumes that the left vector of the shifted inhomogeneity is `(1, 0, ... ,0)`. This may not be the case (`subsequence` will copy the left vector of the inhomogeneity to the shifted version). So at least we have to check that this assumption holds, at best we would transform the linear representation of the inhomogeneity such that the condition holds. (choose a matrix `T` such that right multiplication of the existing left vector by `T` leads to the desired left vector, replace all matrices by `T^{-1}` times the matrix times `T` and multiply the right vector by `T^{-1}` from the left; all that should probably be a separate method of regular sequences). Alternatively, simply copying the left vector into the correct position might do the job.

21. `RecurrenceParser.matrix`: this code might be rather inefficient: The vector constructed by `subsequence(1, b)` will consist of several shifted versions of the inhomogeneity. So when calling `subsequence(1, b)` for adjacent values of `b`, chances are very high that there will be a noticeable overlap in the vectors constructed, which results in substantial redundancy. The method `subsequence` has provisions for computing several shifts at the same time (for linear combinations). So it would be advantageous to modify `subsequence` to also allow `b` to be a list (not only a scalar or a dictionary); it is currently unclear what the best return value would be in that case. Or one might simply take the existing version of subsequence with some dummy coefficients and throw away the left vector because it will be zero in this application, anyways.

32. Overall, all the parameters of the shifted inhomogeneities are computed thrice: in `v_eval_n`, in `matrix`, in `left` (see comments 6 and 8). This seems to be repetitive, error-prone and inefficient (because `subsequence` is called repeatedly). Therefore, I suggest to factor out these computations to a new method.

43. I have the impression that the code in `RecurrenceParser.matrix` could be somewhat simplified by not computing exact indices for the entries, but by constructing block matrices in a suitable way, see also [#21325 comment:29](https://github.com/sagemath/sage/issues/21325#comment:29) for a related discussion.

54. `from_recurrence`: in the example where `one` is constructed explicitly for the sum of digits function (currently line 910): I think that https://doc.sagemath.org/html/en/reference/combinat/sage/combinat/recognizable_series.html#sage.combinat.recognizable_series.RecognizableSeriesSpace.one_hadamard would do the job out of the box.



---

archive/issue_comments_534715.json:
```json
{
    "body": "Reviewer: **Clemens Heuberger**",
    "created_at": "2022-01-17T07:33:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534715",
    "user": "https://github.com/cheuberg"
}
```

Reviewer: **Clemens Heuberger**



---

archive/issue_comments_534716.json:
```json
{
    "body": "Changed commit from **[25d5398](https://github.com/sagemath/sagetrac-mirror/commit/25d53987b491f848d23038ff2b885cf768f86d6e)** to **[48ebcc4](https://github.com/sagemath/sagetrac-mirror/commit/48ebcc4ea03461fec7be47ba7c0a2c39ca380338)**",
    "created_at": "2022-01-18T16:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534716",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[25d5398](https://github.com/sagemath/sagetrac-mirror/commit/25d53987b491f848d23038ff2b885cf768f86d6e)** to **[48ebcc4](https://github.com/sagemath/sagetrac-mirror/commit/48ebcc4ea03461fec7be47ba7c0a2c39ca380338)**



---

archive/issue_comments_534717.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/daaf4d6a5851df697e7f3dfebffbbd5bce7b050c\">daaf4d6</a></td><td><code>Trac #33158: doctest fix and original issued posted on ticket</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/400243619f747063151fb2e9110226b622ce26d5\">4002436</a></td><td><code>Merge branch 'u/dkrenn/coeffs-in-from-recurrence' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/997c5ccc4ad2901716a241cadd14e0130954d149\">997c5cc</a></td><td><code>Trac #32921, review item 2: mention default value</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd4f2f6b19e051ac1a781d4efa76814fec3805b5\">dd4f2f6</a></td><td><code>Trac #32921, review item 3: adapt descrition of output</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87a3cfb225259a0ab25b3e297d3e505f32c2d66b\">87a3cfb</a></td><td><code>Trac #32921, review item 4: adapt description of input</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4356b2b0cce709290d6a8ee999ed55df9315f7c\">f4356b2</a></td><td><code>Trac #32921, review item 9: fix index</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03cc1b4caad89f039af2baa15617408239f36c5e\">03cc1b4</a></td><td><code>Trac #32921, review item 14: use one_hadamard</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/97fbbddce43f807744c524057d74d47009d5c459\">97fbbdd</a></td><td><code>Trac #32921, review item 5: fix missing n</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4807380ee9414931cc9c006f3df48c01b1fe3f1\">f480738</a></td><td><code>Trac #32921, review item 12: write new method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48ebcc4ea03461fec7be47ba7c0a2c39ca380338\">48ebcc4</a></td><td><code>Trac #32921, review item 12: modify method for matrix-construction (could be reverted)</code></td></tr></table>\n",
    "created_at": "2022-01-18T16:36:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534717",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/daaf4d6a5851df697e7f3dfebffbbd5bce7b050c">daaf4d6</a></td><td><code>Trac #33158: doctest fix and original issued posted on ticket</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/400243619f747063151fb2e9110226b622ce26d5">4002436</a></td><td><code>Merge branch 'u/dkrenn/coeffs-in-from-recurrence' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/997c5ccc4ad2901716a241cadd14e0130954d149">997c5cc</a></td><td><code>Trac #32921, review item 2: mention default value</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd4f2f6b19e051ac1a781d4efa76814fec3805b5">dd4f2f6</a></td><td><code>Trac #32921, review item 3: adapt descrition of output</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87a3cfb225259a0ab25b3e297d3e505f32c2d66b">87a3cfb</a></td><td><code>Trac #32921, review item 4: adapt description of input</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4356b2b0cce709290d6a8ee999ed55df9315f7c">f4356b2</a></td><td><code>Trac #32921, review item 9: fix index</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03cc1b4caad89f039af2baa15617408239f36c5e">03cc1b4</a></td><td><code>Trac #32921, review item 14: use one_hadamard</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/97fbbddce43f807744c524057d74d47009d5c459">97fbbdd</a></td><td><code>Trac #32921, review item 5: fix missing n</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4807380ee9414931cc9c006f3df48c01b1fe3f1">f480738</a></td><td><code>Trac #32921, review item 12: write new method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48ebcc4ea03461fec7be47ba7c0a2c39ca380338">48ebcc4</a></td><td><code>Trac #32921, review item 12: modify method for matrix-construction (could be reverted)</code></td></tr></table>




---

archive/issue_comments_534718.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b6740008ea69b15e7f7172fda758a9e3f10db8f8\">b674000</a></td><td><code>Trac #32921, review item 10: add minimize=True</code></td></tr></table>\n",
    "created_at": "2022-01-19T09:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534718",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b6740008ea69b15e7f7172fda758a9e3f10db8f8">b674000</a></td><td><code>Trac #32921, review item 10: add minimize=True</code></td></tr></table>




---

archive/issue_comments_534719.json:
```json
{
    "body": "Changed commit from **[48ebcc4](https://github.com/sagemath/sagetrac-mirror/commit/48ebcc4ea03461fec7be47ba7c0a2c39ca380338)** to **[b674000](https://github.com/sagemath/sagetrac-mirror/commit/b6740008ea69b15e7f7172fda758a9e3f10db8f8)**",
    "created_at": "2022-01-19T09:14:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534719",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[48ebcc4](https://github.com/sagemath/sagetrac-mirror/commit/48ebcc4ea03461fec7be47ba7c0a2c39ca380338)** to **[b674000](https://github.com/sagemath/sagetrac-mirror/commit/b6740008ea69b15e7f7172fda758a9e3f10db8f8)**



---

archive/issue_comments_534720.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@cheuberg](#comment%3A7):\n> I had a look at this branch and have some comments.\n\nThank you very much for your review!\n> 2. `from_recurrence`: parameter `inhomogeneities`: please mention default value `{}` in docstring.\n\nDone.\n> 3. `RecurrenceParser.parameters`: parameter `inhomogeneities`: I do not think that the last sentence \"All inhomogeneities have to be regular sequences from ``self``.\" is appropriate here. Also mentioning the default seems to be unusual in an output section.\n\nRemoved.\n> 4. `RecurrenceParser.values`: parameter `inhomogeneities`: I do not think that the last sentence \"All inhomogeneities have to be regular sequences from ``self``.\" is appropriate here.\n\nRemoved.\n> 5. `RecurrenceParser.v_eval_n`: In the new code at the end, I am surprised that `n` does not occur in `shifted_inhomogeneities` at all.\n\nFixed.\n> 6. `RecurrenceParser.v_eval_n`: In the new code at the end, I am not convinced that `upper + 1` is the correct second argument for `srange`: The paper contains an additional `+1` in what translates to `upper` here.\n\nI am not really convinced by your argument: In the first case in the paper, there is no additional `+1`, which should lead to `upper + 1` here. Am I missing something? (Or have you checked that `upper` cannot be reached in the first case? I have not, but maybe I should...)\n> 7. `RecurrenceParser.matrix`: Is `minimize=False` a tribute to #33158?\n\nYes, removed.\n> 8. `RecurrenceParser.matrix`: Same comment as 6.\n> \n> 9. `RecurrenceParser.matrix`: for the second case, there is twice `rem_d - k` whereas the paper has `rem_d - k^M`\n\nFixed.\n> 10. `RecurrenceParser.matrix`: setting `1` into the matrix silently assumes that the left vector of the shifted inhomogeneity is `(1, 0, ... ,0)`. This may not be the case (`subsequence` will copy the left vector of the inhomogeneity to the shifted version). So at least we have to check that this assumption holds, at best we would transform the linear representation of the inhomogeneity such that the condition holds. ...\n\nThe method `RecognizableSeries.minimized` should guarantee this (by line 1076 in `recognizable_series.py`). So if we use `kRegularSequence.subsequence` with `minimize=True`, we are on the safe side, right? I have included an `assert` to check this now.\n> 12. Overall, all the parameters of the shifted inhomogeneities are computed thrice: in `v_eval_n`, in `matrix`, in `left` (see comments 6 and 8). This seems to be repetitive, error-prone and inefficient (because `subsequence` is called repeatedly). Therefore, I suggest to factor out these computations to a new method.\n\nDone. (I am not sure what the best output of the new method is; see after commit 48ebcc4 and before.)\n> 14. `from_recurrence`: in the example where `one` is constructed explicitly for the sum of digits function (currently line 910): I think that https://doc.sagemath.org/html/en/reference/combinat/sage/combinat/recognizable_series.html#sage.combinat.recognizable_series.RecognizableSeriesSpace.one_hadamard would do the job out of the box.\n\nDone.\n\nOne test still fails, I have to fix this.",
    "created_at": "2022-01-19T09:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534720",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@cheuberg](#comment%3A7):
> I had a look at this branch and have some comments.

Thank you very much for your review!
> 2. `from_recurrence`: parameter `inhomogeneities`: please mention default value `{}` in docstring.

Done.
> 3. `RecurrenceParser.parameters`: parameter `inhomogeneities`: I do not think that the last sentence "All inhomogeneities have to be regular sequences from ``self``." is appropriate here. Also mentioning the default seems to be unusual in an output section.

Removed.
> 4. `RecurrenceParser.values`: parameter `inhomogeneities`: I do not think that the last sentence "All inhomogeneities have to be regular sequences from ``self``." is appropriate here.

Removed.
> 5. `RecurrenceParser.v_eval_n`: In the new code at the end, I am surprised that `n` does not occur in `shifted_inhomogeneities` at all.

Fixed.
> 6. `RecurrenceParser.v_eval_n`: In the new code at the end, I am not convinced that `upper + 1` is the correct second argument for `srange`: The paper contains an additional `+1` in what translates to `upper` here.

I am not really convinced by your argument: In the first case in the paper, there is no additional `+1`, which should lead to `upper + 1` here. Am I missing something? (Or have you checked that `upper` cannot be reached in the first case? I have not, but maybe I should...)
> 7. `RecurrenceParser.matrix`: Is `minimize=False` a tribute to #33158?

Yes, removed.
> 8. `RecurrenceParser.matrix`: Same comment as 6.
> 
> 9. `RecurrenceParser.matrix`: for the second case, there is twice `rem_d - k` whereas the paper has `rem_d - k^M`

Fixed.
> 10. `RecurrenceParser.matrix`: setting `1` into the matrix silently assumes that the left vector of the shifted inhomogeneity is `(1, 0, ... ,0)`. This may not be the case (`subsequence` will copy the left vector of the inhomogeneity to the shifted version). So at least we have to check that this assumption holds, at best we would transform the linear representation of the inhomogeneity such that the condition holds. ...

The method `RecognizableSeries.minimized` should guarantee this (by line 1076 in `recognizable_series.py`). So if we use `kRegularSequence.subsequence` with `minimize=True`, we are on the safe side, right? I have included an `assert` to check this now.
> 12. Overall, all the parameters of the shifted inhomogeneities are computed thrice: in `v_eval_n`, in `matrix`, in `left` (see comments 6 and 8). This seems to be repetitive, error-prone and inefficient (because `subsequence` is called repeatedly). Therefore, I suggest to factor out these computations to a new method.

Done. (I am not sure what the best output of the new method is; see after commit 48ebcc4 and before.)
> 14. `from_recurrence`: in the example where `one` is constructed explicitly for the sum of digits function (currently line 910): I think that https://doc.sagemath.org/html/en/reference/combinat/sage/combinat/recognizable_series.html#sage.combinat.recognizable_series.RecognizableSeriesSpace.one_hadamard would do the job out of the box.

Done.

One test still fails, I have to fix this.



---

archive/issue_comments_534721.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df04b444b3eaf5de44317d9ea7b3594afa81b784\">df04b44</a></td><td><code>Trac #32921: use assert really as statement...</code></td></tr></table>\n",
    "created_at": "2022-01-19T10:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534721",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df04b444b3eaf5de44317d9ea7b3594afa81b784">df04b44</a></td><td><code>Trac #32921: use assert really as statement...</code></td></tr></table>




---

archive/issue_comments_534722.json:
```json
{
    "body": "Changed commit from **[b674000](https://github.com/sagemath/sagetrac-mirror/commit/b6740008ea69b15e7f7172fda758a9e3f10db8f8)** to **[df04b44](https://github.com/sagemath/sagetrac-mirror/commit/df04b444b3eaf5de44317d9ea7b3594afa81b784)**",
    "created_at": "2022-01-19T10:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534722",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b674000](https://github.com/sagemath/sagetrac-mirror/commit/b6740008ea69b15e7f7172fda758a9e3f10db8f8)** to **[df04b44](https://github.com/sagemath/sagetrac-mirror/commit/df04b444b3eaf5de44317d9ea7b3594afa81b784)**



---

archive/issue_comments_534723.json:
```json
{
    "body": "Changed commit from **[df04b44](https://github.com/sagemath/sagetrac-mirror/commit/df04b444b3eaf5de44317d9ea7b3594afa81b784)** to **[f5b81af](https://github.com/sagemath/sagetrac-mirror/commit/f5b81af717f080c65bc827b0e2a5b4b479741de1)**",
    "created_at": "2022-01-19T16:02:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534723",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df04b44](https://github.com/sagemath/sagetrac-mirror/commit/df04b444b3eaf5de44317d9ea7b3594afa81b784)** to **[f5b81af](https://github.com/sagemath/sagetrac-mirror/commit/f5b81af717f080c65bc827b0e2a5b4b479741de1)**



---

archive/issue_comments_534724.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d1721dcb7fb3151aaed203df1c12c29bec1e3c2\">8d1721d</a></td><td><code>Trac #32921, review item 10: simplify assert</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f73dfe2651b411f0ba1bb083e9a5e8a42d08ba2\">1f73dfe</a></td><td><code>Trac #32921, review item 10: mention standard unit vector in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e505a43b4c68c8b9d6f3fd61557afbc490391c34\">e505a43</a></td><td><code>Trac #32921, review item 6: fix upper bound</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f2f415753c7f0d9922903cf692245af24f1ee70\">0f2f415</a></td><td><code>Trac #32921: fix copy/paste error in test...</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5b81af717f080c65bc827b0e2a5b4b479741de1\">f5b81af</a></td><td><code>Trac #32921: simplify construction of matrix and right vector</code></td></tr></table>\n",
    "created_at": "2022-01-19T16:02:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534724",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d1721dcb7fb3151aaed203df1c12c29bec1e3c2">8d1721d</a></td><td><code>Trac #32921, review item 10: simplify assert</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f73dfe2651b411f0ba1bb083e9a5e8a42d08ba2">1f73dfe</a></td><td><code>Trac #32921, review item 10: mention standard unit vector in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e505a43b4c68c8b9d6f3fd61557afbc490391c34">e505a43</a></td><td><code>Trac #32921, review item 6: fix upper bound</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f2f415753c7f0d9922903cf692245af24f1ee70">0f2f415</a></td><td><code>Trac #32921: fix copy/paste error in test...</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5b81af717f080c65bc827b0e2a5b4b479741de1">f5b81af</a></td><td><code>Trac #32921: simplify construction of matrix and right vector</code></td></tr></table>




---

archive/issue_comments_534725.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6294eb114ffee5e44c76a2092b5a4476055bbf16\">6294eb1</a></td><td><code>Trac #32921: allow constants as inhomogeneities, add tests for input</code></td></tr></table>\n",
    "created_at": "2022-01-19T18:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534725",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'>Comment 13:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6294eb114ffee5e44c76a2092b5a4476055bbf16">6294eb1</a></td><td><code>Trac #32921: allow constants as inhomogeneities, add tests for input</code></td></tr></table>




---

archive/issue_comments_534726.json:
```json
{
    "body": "Changed commit from **[f5b81af](https://github.com/sagemath/sagetrac-mirror/commit/f5b81af717f080c65bc827b0e2a5b4b479741de1)** to **[6294eb1](https://github.com/sagemath/sagetrac-mirror/commit/6294eb114ffee5e44c76a2092b5a4476055bbf16)**",
    "created_at": "2022-01-19T18:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534726",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f5b81af](https://github.com/sagemath/sagetrac-mirror/commit/f5b81af717f080c65bc827b0e2a5b4b479741de1)** to **[6294eb1](https://github.com/sagemath/sagetrac-mirror/commit/6294eb114ffee5e44c76a2092b5a4476055bbf16)**



---

archive/issue_comments_534727.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94b183a4c1fc7988843ee6927ea43f9fe55321f3\">94b183a</a></td><td><code>Trac #32921: rewrite construction of matrix, left, right</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/27a8f5ddac30badfc9a19249361efdb0ca97f68f\">27a8f5d</a></td><td><code>Trac #32921: adapt tests</code></td></tr></table>\n",
    "created_at": "2022-01-21T14:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534727",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:14'>Comment 14:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94b183a4c1fc7988843ee6927ea43f9fe55321f3">94b183a</a></td><td><code>Trac #32921: rewrite construction of matrix, left, right</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/27a8f5ddac30badfc9a19249361efdb0ca97f68f">27a8f5d</a></td><td><code>Trac #32921: adapt tests</code></td></tr></table>




---

archive/issue_comments_534728.json:
```json
{
    "body": "Changed commit from **[6294eb1](https://github.com/sagemath/sagetrac-mirror/commit/6294eb114ffee5e44c76a2092b5a4476055bbf16)** to **[27a8f5d](https://github.com/sagemath/sagetrac-mirror/commit/27a8f5ddac30badfc9a19249361efdb0ca97f68f)**",
    "created_at": "2022-01-21T14:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534728",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6294eb1](https://github.com/sagemath/sagetrac-mirror/commit/6294eb114ffee5e44c76a2092b5a4476055bbf16)** to **[27a8f5d](https://github.com/sagemath/sagetrac-mirror/commit/27a8f5ddac30badfc9a19249361efdb0ca97f68f)**



---

archive/issue_comments_534729.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8984fcc9406a00e2f447e261f7bef253281938cf\">8984fcc</a></td><td><code>Trac #21325: fix ReST formatting (TESTS block)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b16342335563856592279108418bd96157874e9\">9b16342</a></td><td><code>Trac #21325: Remove unused import of `sage.arith.srange.srange`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2a824735a3488bce44913cc5678163c624aaebc\">d2a8247</a></td><td><code>Trac #21325: remove unused variable</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96\">ffa6a19</a></td><td><code>Trac #21325: Fix links to method `minimized`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9\">4cc1a75</a></td><td><code>Trac #21325 review comment 8: variant without padding</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f\">e7e3f2a</a></td><td><code>Trac #21325 review comment 10: remove comment</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9e7260e189733e9bcda44d2ee03f128490f9462\">c9e7260</a></td><td><code>Revert \"Trac #21325 review comment 10: remove comment\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc\">ce43370</a></td><td><code>Trac #21325 review comment 10: comment range in kernel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d0d7cb6497722725378fa68f172a916f825a5e0\">8d0d7cb</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' of git://trac.sagemath.org/sage into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56c548f480aa47798f4576813532e2a1610b2477\">56c548f</a></td><td><code>Trac #32921: add some further doctests</code></td></tr></table>\n",
    "created_at": "2022-01-21T16:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534729",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'>Comment 15:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8984fcc9406a00e2f447e261f7bef253281938cf">8984fcc</a></td><td><code>Trac #21325: fix ReST formatting (TESTS block)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b16342335563856592279108418bd96157874e9">9b16342</a></td><td><code>Trac #21325: Remove unused import of `sage.arith.srange.srange`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2a824735a3488bce44913cc5678163c624aaebc">d2a8247</a></td><td><code>Trac #21325: remove unused variable</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffa6a19df33b9b8ceb196d51394c55f915d3bf96">ffa6a19</a></td><td><code>Trac #21325: Fix links to method `minimized`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cc1a75c7ad23e00fcb2f0e862af1d9464f7ede9">4cc1a75</a></td><td><code>Trac #21325 review comment 8: variant without padding</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7e3f2a54792bae3ccb5119658a5e96164d47c0f">e7e3f2a</a></td><td><code>Trac #21325 review comment 10: remove comment</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9e7260e189733e9bcda44d2ee03f128490f9462">c9e7260</a></td><td><code>Revert "Trac #21325 review comment 10: remove comment"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce43370d3c83ce83e7c84a5fa5dd24c1d8c8c0cc">ce43370</a></td><td><code>Trac #21325 review comment 10: comment range in kernel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d0d7cb6497722725378fa68f172a916f825a5e0">8d0d7cb</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' of git://trac.sagemath.org/sage into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56c548f480aa47798f4576813532e2a1610b2477">56c548f</a></td><td><code>Trac #32921: add some further doctests</code></td></tr></table>




---

archive/issue_comments_534730.json:
```json
{
    "body": "Changed commit from **[27a8f5d](https://github.com/sagemath/sagetrac-mirror/commit/27a8f5ddac30badfc9a19249361efdb0ca97f68f)** to **[56c548f](https://github.com/sagemath/sagetrac-mirror/commit/56c548f480aa47798f4576813532e2a1610b2477)**",
    "created_at": "2022-01-21T16:40:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534730",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[27a8f5d](https://github.com/sagemath/sagetrac-mirror/commit/27a8f5ddac30badfc9a19249361efdb0ca97f68f)** to **[56c548f](https://github.com/sagemath/sagetrac-mirror/commit/56c548f480aa47798f4576813532e2a1610b2477)**



---

archive/issue_comments_534731.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nI had a look at the changes, thank you very much; and a few rather minor remarks.\n\n1. line 1215: would `(S - T).is_trivial_zero()` work if #33158 is merged?\n\n25. `RecurrenceParser.shifted_inhomogeneities`: output is said to be a list, but is a dictionary\n\n36. `RecurrenceParser.shifted_inhomogeneities`: Typo `inhomogeineities`\n\n47. `RecurrenceParser.shifted_inhomogeneities` should be a cached method\n\n58. `RecognizableSeries.minimized`: In the note box, I would prefer not to refer to the method `.left()` because it might be confusing, but say \"the left vector of the result\".\n\n69. `left_for_inhomogeneity`: `(wanted[1] == i and wanted[0] == r)` could be written as `wanted == (r, i)`\n\n20. `RecurrenceParser.matrix`: I would probably write\n\n```python\ndef matrix_row(row):\n    wanted = wanted_inhomogeneity(row)\n    return left_for_inhomogeneity(wanted)\n\nmat_upper_right = Matrix([matrix_row(row) for row in srange(dim_without_corr)])\nmat_inhomog = block_diagonal_matrix([S.mu[rem]\n                                     for S in shifted_inhomogeneities.values()])\n\nmat = block_matrix([[mat, mat_upper_right],\n                    [zero_matrix(mat_inhomog.nrows(), dim_without_corr),\n                     mat_inhomog]])\n```\n\n21. `RecurrenceParser.matrix`: In `wanted_inhomogeneity`, the checks `in inhomogeneities.keys()` could be omitted because in `left_for_inhomogeneity`, non-existing inhomogeneities are ignored anyways by the loop construction\n\n22. `RecurrenceParser.matrix`: In `left_for_inhomgeneity`, `inhomogeneities[r]` could be replaced by `inhomogeneity` if `for r in inhomogeneities` was replaced by `for r, inhomogeneity in inhomogeneities.items()`",
    "created_at": "2022-01-21T20:35:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534731",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:16'>Comment 16:</a>
I had a look at the changes, thank you very much; and a few rather minor remarks.

1. line 1215: would `(S - T).is_trivial_zero()` work if #33158 is merged?

25. `RecurrenceParser.shifted_inhomogeneities`: output is said to be a list, but is a dictionary

36. `RecurrenceParser.shifted_inhomogeneities`: Typo `inhomogeineities`

47. `RecurrenceParser.shifted_inhomogeneities` should be a cached method

58. `RecognizableSeries.minimized`: In the note box, I would prefer not to refer to the method `.left()` because it might be confusing, but say "the left vector of the result".

69. `left_for_inhomogeneity`: `(wanted[1] == i and wanted[0] == r)` could be written as `wanted == (r, i)`

20. `RecurrenceParser.matrix`: I would probably write

```python
def matrix_row(row):
    wanted = wanted_inhomogeneity(row)
    return left_for_inhomogeneity(wanted)

mat_upper_right = Matrix([matrix_row(row) for row in srange(dim_without_corr)])
mat_inhomog = block_diagonal_matrix([S.mu[rem]
                                     for S in shifted_inhomogeneities.values()])

mat = block_matrix([[mat, mat_upper_right],
                    [zero_matrix(mat_inhomog.nrows(), dim_without_corr),
                     mat_inhomog]])
```

21. `RecurrenceParser.matrix`: In `wanted_inhomogeneity`, the checks `in inhomogeneities.keys()` could be omitted because in `left_for_inhomogeneity`, non-existing inhomogeneities are ignored anyways by the loop construction

22. `RecurrenceParser.matrix`: In `left_for_inhomgeneity`, `inhomogeneities[r]` could be replaced by `inhomogeneity` if `for r in inhomogeneities` was replaced by `for r, inhomogeneity in inhomogeneities.items()`



---

archive/issue_comments_534732.json:
```json
{
    "body": "Changed commit from **[56c548f](https://github.com/sagemath/sagetrac-mirror/commit/56c548f480aa47798f4576813532e2a1610b2477)** to **[bcb5c25](https://github.com/sagemath/sagetrac-mirror/commit/bcb5c255881ea527efb2401759f54afe240e57fb)**",
    "created_at": "2022-01-22T12:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534732",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[56c548f](https://github.com/sagemath/sagetrac-mirror/commit/56c548f480aa47798f4576813532e2a1610b2477)** to **[bcb5c25](https://github.com/sagemath/sagetrac-mirror/commit/bcb5c255881ea527efb2401759f54afe240e57fb)**



---

archive/issue_comments_534733.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa2fb415e3a6b38665728e4b8a9b1f9007cec013\">aa2fb41</a></td><td><code>Trac #32921, review item 15: list --> dictionary</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26c86880ced304d452651e1714baaf2adc2c3afd\">26c8688</a></td><td><code>Trac #32921, review item 16: fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7983b5ef45366a3d4332afd3f2679da4ddcc96b6\">7983b5e</a></td><td><code>Trac #32921, review item 18: rephrase docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7b0e213ffe866b137f907ce54dfdd4f9f4237c4e\">7b0e213</a></td><td><code>Trac #32921, review item 19: simplify condition in left_for_inhomogeneity</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/613976a29dbcaae177245b3a8e6fd769ef7a760e\">613976a</a></td><td><code>Trac #32921, review item 20</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/afa97f1a7bcf0b8fa0821ec975427cda84f5f3ea\">afa97f1</a></td><td><code>Trac #32921, review item 21: remove unnecessary condition</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcb5c255881ea527efb2401759f54afe240e57fb\">bcb5c25</a></td><td><code>Trac #32921, review item 22: simplify left_for_inhomogeneity</code></td></tr></table>\n",
    "created_at": "2022-01-22T12:32:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534733",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:17'>Comment 17:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa2fb415e3a6b38665728e4b8a9b1f9007cec013">aa2fb41</a></td><td><code>Trac #32921, review item 15: list --> dictionary</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26c86880ced304d452651e1714baaf2adc2c3afd">26c8688</a></td><td><code>Trac #32921, review item 16: fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7983b5ef45366a3d4332afd3f2679da4ddcc96b6">7983b5e</a></td><td><code>Trac #32921, review item 18: rephrase docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7b0e213ffe866b137f907ce54dfdd4f9f4237c4e">7b0e213</a></td><td><code>Trac #32921, review item 19: simplify condition in left_for_inhomogeneity</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/613976a29dbcaae177245b3a8e6fd769ef7a760e">613976a</a></td><td><code>Trac #32921, review item 20</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/afa97f1a7bcf0b8fa0821ec975427cda84f5f3ea">afa97f1</a></td><td><code>Trac #32921, review item 21: remove unnecessary condition</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcb5c255881ea527efb2401759f54afe240e57fb">bcb5c25</a></td><td><code>Trac #32921, review item 22: simplify left_for_inhomogeneity</code></td></tr></table>




---

archive/issue_comments_534734.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nThank you again for the review.\n\nReplying to [@cheuberg](#comment%3A16):\n> 1. line 1215: would `(S - T).is_trivial_zero()` work if #33158 is merged?\n\nNo.\n> 17. `RecurrenceParser.shifted_inhomogeneities` should be a cached method\n\nReally? This is not clear to me since the input contains a `dict`.\n\nMoreover, I think that the name `left_for_inhomogeneity` is not ideal (besides others), but I have not found a better one...\n\nAll other review items should be included now.",
    "created_at": "2022-01-22T12:41:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534734",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:18'>Comment 18:</a>
Thank you again for the review.

Replying to [@cheuberg](#comment%3A16):
> 1. line 1215: would `(S - T).is_trivial_zero()` work if #33158 is merged?

No.
> 17. `RecurrenceParser.shifted_inhomogeneities` should be a cached method

Really? This is not clear to me since the input contains a `dict`.

Moreover, I think that the name `left_for_inhomogeneity` is not ideal (besides others), but I have not found a better one...

All other review items should be included now.



---

archive/issue_comments_534735.json:
```json
{
    "body": "Changed commit from **[bcb5c25](https://github.com/sagemath/sagetrac-mirror/commit/bcb5c255881ea527efb2401759f54afe240e57fb)** to **[fdb70b7](https://github.com/sagemath/sagetrac-mirror/commit/fdb70b75c19cd0a220e4665bfaa84c60ee6ec868)**",
    "created_at": "2022-01-24T12:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bcb5c25](https://github.com/sagemath/sagetrac-mirror/commit/bcb5c255881ea527efb2401759f54afe240e57fb)** to **[fdb70b7](https://github.com/sagemath/sagetrac-mirror/commit/fdb70b75c19cd0a220e4665bfaa84c60ee6ec868)**



---

archive/issue_comments_534736.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdb70b75c19cd0a220e4665bfaa84c60ee6ec868\">fdb70b7</a></td><td><code>Trac #32921, review item 1: use sequence with well-chosen linear representation</code></td></tr></table>\n",
    "created_at": "2022-01-24T12:34:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534736",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdb70b75c19cd0a220e4665bfaa84c60ee6ec868">fdb70b7</a></td><td><code>Trac #32921, review item 1: use sequence with well-chosen linear representation</code></td></tr></table>




---

archive/issue_comments_534737.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThank you for your changes.\n\n1. The new sequence avoids this problem, thank you. It seems that the old sequence was invalid because `mu[0] * right` was not equal to `right`. This should be checked (and there is #21343 to do so). It seems that minimization does not perform as advertised in such a case because it yields a minimal linear representation for the recognizable series instead of the regular sequence. In fact, the recognizable series given by the old linear representation had non-zero coefficients for some words with trailing zeros.\n\n25. I think that the docstring should contain a short description on how the dictionary works (what are the keys, what are the values)\n\n37. `RecurrenceParser.shifted_inhomogeneities` does some non-trivial operations (minimization is turned off, but still). Therefore, caching seems to be worthwhile. My understanding (see https://doc.sagemath.org/html/en/reference/misc/sage/misc/cachefunc.html#sage.misc.cachefunc.CachedMethod) is that the key parameter of `cached_method` would be useful, probably as a `lambda` which generates a tuple consisting of those parts of `recurrence_rules` which are actually used, transforming the dictionary `inhomogeneities` to `tuple(rules.inhomogeneities.items())` or so.\n\n    Unfortunately, this induces a dependency on #21319.",
    "created_at": "2022-01-30T15:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534737",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:20'>Comment 20:</a>
Thank you for your changes.

1. The new sequence avoids this problem, thank you. It seems that the old sequence was invalid because `mu[0] * right` was not equal to `right`. This should be checked (and there is #21343 to do so). It seems that minimization does not perform as advertised in such a case because it yields a minimal linear representation for the recognizable series instead of the regular sequence. In fact, the recognizable series given by the old linear representation had non-zero coefficients for some words with trailing zeros.

25. I think that the docstring should contain a short description on how the dictionary works (what are the keys, what are the values)

37. `RecurrenceParser.shifted_inhomogeneities` does some non-trivial operations (minimization is turned off, but still). Therefore, caching seems to be worthwhile. My understanding (see https://doc.sagemath.org/html/en/reference/misc/sage/misc/cachefunc.html#sage.misc.cachefunc.CachedMethod) is that the key parameter of `cached_method` would be useful, probably as a `lambda` which generates a tuple consisting of those parts of `recurrence_rules` which are actually used, transforming the dictionary `inhomogeneities` to `tuple(rules.inhomogeneities.items())` or so.

    Unfortunately, this induces a dependency on #21319.



---

archive/issue_comments_534738.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcb53a3611e27f8f87684af842cc30f07e43d94b\">fcb53a3</a></td><td><code>fix doctest output of TestSuite (new tests were added)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e30a7fb00b10f9d6a1eafb4a606bf844b832a8f3\">e30a7fb</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' into u/dkrenn/sequences/rec-hash</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a87520e77b600601c85cdd86540cec89ef411ad0\">a87520e</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' into u/dkrenn/sequences/rec-hash</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ead37836b5afeacd9fa896b08adca5e8988bf60\">1ead378</a></td><td><code>Merge branch 't/21325/sequences/k-regular-subseq' into t/21319/sequences/rec-hash</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/15b04050855b8052ed1b2d5a2cb504916dad8a39\">15b0405</a></td><td><code>Trac #21319: fixup due to changes in dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cff550ea76f44bec86ea73208f4face395ccfbc5\">cff550e</a></td><td><code>Merge branch 't/21325/sequences/k-regular-subseq' into t/21319/sequences/rec-hash</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/93c6687e4a0332d4c9729ff471a2c2c2d6926bc4\">93c6687</a></td><td><code>Trac #21319: fix punctuation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4f83e4d0fded10b266b2be2a44651650c84c76c\">b4f83e4</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' into t/21319/sequences/rec-hash</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9fefcce644286de7edbcf939dbdb6fd84cf10dc1\">9fefcce</a></td><td><code>Follow-up from Trac #21325 review comment 19: shift_left+right: test equality</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7e3cc701ce9ec1acca746a4801cd9fecba0d7d2d\">7e3cc70</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-hash' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr></table>\n",
    "created_at": "2022-02-01T20:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534738",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcb53a3611e27f8f87684af842cc30f07e43d94b">fcb53a3</a></td><td><code>fix doctest output of TestSuite (new tests were added)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e30a7fb00b10f9d6a1eafb4a606bf844b832a8f3">e30a7fb</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' into u/dkrenn/sequences/rec-hash</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a87520e77b600601c85cdd86540cec89ef411ad0">a87520e</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' into u/dkrenn/sequences/rec-hash</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ead37836b5afeacd9fa896b08adca5e8988bf60">1ead378</a></td><td><code>Merge branch 't/21325/sequences/k-regular-subseq' into t/21319/sequences/rec-hash</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/15b04050855b8052ed1b2d5a2cb504916dad8a39">15b0405</a></td><td><code>Trac #21319: fixup due to changes in dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cff550ea76f44bec86ea73208f4face395ccfbc5">cff550e</a></td><td><code>Merge branch 't/21325/sequences/k-regular-subseq' into t/21319/sequences/rec-hash</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/93c6687e4a0332d4c9729ff471a2c2c2d6926bc4">93c6687</a></td><td><code>Trac #21319: fix punctuation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4f83e4d0fded10b266b2be2a44651650c84c76c">b4f83e4</a></td><td><code>Merge branch 'u/dkrenn/sequences/k-regular-subseq' into t/21319/sequences/rec-hash</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9fefcce644286de7edbcf939dbdb6fd84cf10dc1">9fefcce</a></td><td><code>Follow-up from Trac #21325 review comment 19: shift_left+right: test equality</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7e3cc701ce9ec1acca746a4801cd9fecba0d7d2d">7e3cc70</a></td><td><code>Merge branch 'u/dkrenn/sequences/rec-hash' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr></table>




---

archive/issue_comments_534739.json:
```json
{
    "body": "Changed commit from **[fdb70b7](https://github.com/sagemath/sagetrac-mirror/commit/fdb70b75c19cd0a220e4665bfaa84c60ee6ec868)** to **[7e3cc70](https://github.com/sagemath/sagetrac-mirror/commit/7e3cc701ce9ec1acca746a4801cd9fecba0d7d2d)**",
    "created_at": "2022-02-01T20:33:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534739",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fdb70b7](https://github.com/sagemath/sagetrac-mirror/commit/fdb70b75c19cd0a220e4665bfaa84c60ee6ec868)** to **[7e3cc70](https://github.com/sagemath/sagetrac-mirror/commit/7e3cc701ce9ec1acca746a4801cd9fecba0d7d2d)**



---

archive/issue_comments_534740.json:
```json
{
    "body": "Changed dependencies from **#21325, #31787** to **#21319, #21325, #31787**",
    "created_at": "2022-02-01T20:34:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534740",
    "user": "https://github.com/galipnik"
}
```

Changed dependencies from **#21325, #31787** to **#21319, #21325, #31787**



---

archive/issue_events_420513.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2022-02-01T20:34:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420513"
}
```



---

archive/issue_events_420514.json:
```json
{
    "actor": "https://github.com/galipnik",
    "created_at": "2022-02-01T20:34:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420514"
}
```



---

archive/issue_comments_534741.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@cheuberg](#comment%3A20):\n> 1. The new sequence avoids this problem, thank you. It seems that the old sequence was invalid because `mu[0] * right` was not equal to `right`. This should be checked (and there is #21343 to do so). It seems that minimization does not perform as advertised in such a case because it yields a minimal linear representation for the recognizable series instead of the regular sequence. In fact, the recognizable series given by the old linear representation had non-zero coefficients for some words with trailing zeros.\n\nFor the sake of completeness: More details in https://arxiv.org/abs/2201.13446.\n> \n> 15. I think that the docstring should contain a short description on how the dictionary works (what are the keys, what are the values)\n\nDraft in commit 8210a2b0.\n> 17. `RecurrenceParser.shifted_inhomogeneities` does some non-trivial operations (minimization is turned off, but still). Therefore, caching seems to be worthwhile. My understanding (see https://doc.sagemath.org/html/en/reference/misc/sage/misc/cachefunc.html#sage.misc.cachefunc.CachedMethod) is that the key parameter of `cached_method` would be useful, probably as a `lambda` which generates a tuple consisting of those parts of `recurrence_rules` which are actually used, transforming the dictionary `inhomogeneities` to `tuple(rules.inhomogeneities.items())` or so.\n> \n>     Unfortunately, this induces a dependency on #21319.\n\nThank you for the hint! Code added in commit 98d2719a, new dependency #21319 merged.",
    "created_at": "2022-02-01T20:39:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534741",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@cheuberg](#comment%3A20):
> 1. The new sequence avoids this problem, thank you. It seems that the old sequence was invalid because `mu[0] * right` was not equal to `right`. This should be checked (and there is #21343 to do so). It seems that minimization does not perform as advertised in such a case because it yields a minimal linear representation for the recognizable series instead of the regular sequence. In fact, the recognizable series given by the old linear representation had non-zero coefficients for some words with trailing zeros.

For the sake of completeness: More details in https://arxiv.org/abs/2201.13446.
> 
> 15. I think that the docstring should contain a short description on how the dictionary works (what are the keys, what are the values)

Draft in commit 8210a2b0.
> 17. `RecurrenceParser.shifted_inhomogeneities` does some non-trivial operations (minimization is turned off, but still). Therefore, caching seems to be worthwhile. My understanding (see https://doc.sagemath.org/html/en/reference/misc/sage/misc/cachefunc.html#sage.misc.cachefunc.CachedMethod) is that the key parameter of `cached_method` would be useful, probably as a `lambda` which generates a tuple consisting of those parts of `recurrence_rules` which are actually used, transforming the dictionary `inhomogeneities` to `tuple(rules.inhomogeneities.items())` or so.
> 
>     Unfortunately, this induces a dependency on #21319.

Thank you for the hint! Code added in commit 98d2719a, new dependency #21319 merged.



---

archive/issue_events_420515.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420515"
}
```



---

archive/issue_events_420516.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T17:54:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420516"
}
```



---

archive/issue_comments_534742.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f213959d3acb2b53f35078c2a39e8d96bb3ac1ae\">f213959</a></td><td><code>Merge branch 'public/ticket/21319' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr></table>\n",
    "created_at": "2022-05-24T14:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534742",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f213959d3acb2b53f35078c2a39e8d96bb3ac1ae">f213959</a></td><td><code>Merge branch 'public/ticket/21319' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr></table>




---

archive/issue_comments_534743.json:
```json
{
    "body": "Changed commit from **[7e3cc70](https://github.com/sagemath/sagetrac-mirror/commit/7e3cc701ce9ec1acca746a4801cd9fecba0d7d2d)** to **[f213959](https://github.com/sagemath/sagetrac-mirror/commit/f213959d3acb2b53f35078c2a39e8d96bb3ac1ae)**",
    "created_at": "2022-05-24T14:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534743",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7e3cc70](https://github.com/sagemath/sagetrac-mirror/commit/7e3cc701ce9ec1acca746a4801cd9fecba0d7d2d)** to **[f213959](https://github.com/sagemath/sagetrac-mirror/commit/f213959d3acb2b53f35078c2a39e8d96bb3ac1ae)**



---

archive/issue_comments_534744.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nDependency merged and conflict in L2829 and L2918/L2919 resolved.",
    "created_at": "2022-05-24T14:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534744",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:26'>Comment 26:</a>
Dependency merged and conflict in L2829 and L2918/L2919 resolved.



---

archive/issue_comments_534745.json:
```json
{
    "body": "Changed commit from **[f213959](https://github.com/sagemath/sagetrac-mirror/commit/f213959d3acb2b53f35078c2a39e8d96bb3ac1ae)** to **[3bcf072](https://github.com/sagemath/sagetrac-mirror/commit/3bcf07215a259dadc74eaa5c6949dc0e12c8400a)**",
    "created_at": "2022-05-25T08:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534745",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f213959](https://github.com/sagemath/sagetrac-mirror/commit/f213959d3acb2b53f35078c2a39e8d96bb3ac1ae)** to **[3bcf072](https://github.com/sagemath/sagetrac-mirror/commit/3bcf07215a259dadc74eaa5c6949dc0e12c8400a)**



---

archive/issue_comments_534746.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9e8b89913fac5b6fde62cc3233be88559ed9d88d\">9e8b899</a></td><td><code>pyflakes: remove unused imports</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bcf07215a259dadc74eaa5c6949dc0e12c8400a\">3bcf072</a></td><td><code>fix some error from resolving the merge conflict</code></td></tr></table>\n",
    "created_at": "2022-05-25T08:38:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534746",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9e8b89913fac5b6fde62cc3233be88559ed9d88d">9e8b899</a></td><td><code>pyflakes: remove unused imports</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bcf07215a259dadc74eaa5c6949dc0e12c8400a">3bcf072</a></td><td><code>fix some error from resolving the merge conflict</code></td></tr></table>




---

archive/issue_comments_534747.json:
```json
{
    "body": "Changed commit from **[3bcf072](https://github.com/sagemath/sagetrac-mirror/commit/3bcf07215a259dadc74eaa5c6949dc0e12c8400a)** to **[5695619](https://github.com/sagemath/sagetrac-mirror/commit/5695619b23e5e635824460a61bc65fb8d3e08799)**",
    "created_at": "2022-05-30T13:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534747",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[3bcf072](https://github.com/sagemath/sagetrac-mirror/commit/3bcf07215a259dadc74eaa5c6949dc0e12c8400a)** to **[5695619](https://github.com/sagemath/sagetrac-mirror/commit/5695619b23e5e635824460a61bc65fb8d3e08799)**



---

archive/issue_comments_534748.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1954bab489b2d3a7c0615174514642263b6ef8b0\">1954bab</a></td><td><code>use zero sequence instead of Seq3.some_elements()[0] in some test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5695619b23e5e635824460a61bc65fb8d3e08799\">5695619</a></td><td><code>add subdivide=False two times</code></td></tr></table>\n",
    "created_at": "2022-05-30T13:51:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534748",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:28'>Comment 28:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1954bab489b2d3a7c0615174514642263b6ef8b0">1954bab</a></td><td><code>use zero sequence instead of Seq3.some_elements()[0] in some test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5695619b23e5e635824460a61bc65fb8d3e08799">5695619</a></td><td><code>add subdivide=False two times</code></td></tr></table>




---

archive/issue_comments_534749.json:
```json
{
    "body": "Changed commit from **[5695619](https://github.com/sagemath/sagetrac-mirror/commit/5695619b23e5e635824460a61bc65fb8d3e08799)** to **[dccf4ac](https://github.com/sagemath/sagetrac-mirror/commit/dccf4acb19c4d2e1acdeec590de88ef8992430cb)**",
    "created_at": "2022-08-23T07:35:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534749",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5695619](https://github.com/sagemath/sagetrac-mirror/commit/5695619b23e5e635824460a61bc65fb8d3e08799)** to **[dccf4ac](https://github.com/sagemath/sagetrac-mirror/commit/dccf4acb19c4d2e1acdeec590de88ef8992430cb)**



---

archive/issue_comments_534750.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dccf4acb19c4d2e1acdeec590de88ef8992430cb\">dccf4ac</a></td><td><code>Merge tag '9.7.beta7' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr></table>\n",
    "created_at": "2022-08-23T07:35:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534750",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:29'>Comment 29:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dccf4acb19c4d2e1acdeec590de88ef8992430cb">dccf4ac</a></td><td><code>Merge tag '9.7.beta7' into u/galipnik/k-regular-from-recurrence-inhomogeneities</code></td></tr></table>




---

archive/issue_comments_534751.json:
```json
{
    "body": "Changed branch from **[u/galipnik/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/galipnik/k-regular-from-recurrence-inhomogeneities)** to **[u/cheuberg/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/k-regular-from-recurrence-inhomogeneities)**",
    "created_at": "2022-09-19T06:44:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534751",
    "user": "https://github.com/cheuberg"
}
```

Changed branch from **[u/galipnik/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/galipnik/k-regular-from-recurrence-inhomogeneities)** to **[u/cheuberg/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/k-regular-from-recurrence-inhomogeneities)**



---

archive/issue_comments_534752.json:
```json
{
    "body": "Changed commit from **[dccf4ac](https://github.com/sagemath/sagetrac-mirror/commit/dccf4acb19c4d2e1acdeec590de88ef8992430cb)** to **[e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc)**",
    "created_at": "2022-09-19T07:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dccf4ac](https://github.com/sagemath/sagetrac-mirror/commit/dccf4acb19c4d2e1acdeec590de88ef8992430cb)** to **[e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc)**



---

archive/issue_comments_534753.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bac7eb44e680379ce9f19547dd58d90fd6744de2\">bac7eb4</a></td><td><code>Trac #32921: Show full output in example for shifted_inhomogeneities</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc\">e2d8f1d</a></td><td><code>Trac #32921: `shifted_inhomogeneities`: doctest demonstrating blocks</code></td></tr></table>\n",
    "created_at": "2022-09-19T07:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534753",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:31'>Comment 31:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bac7eb44e680379ce9f19547dd58d90fd6744de2">bac7eb4</a></td><td><code>Trac #32921: Show full output in example for shifted_inhomogeneities</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc">e2d8f1d</a></td><td><code>Trac #32921: `shifted_inhomogeneities`: doctest demonstrating blocks</code></td></tr></table>




---

archive/issue_comments_534754.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\n15. I think that the sentence in the description of the output is hard to understand, but I have no idea for improvement.\n\n    Therefore I propose to explain it via a doctest, see [e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc).",
    "created_at": "2022-09-19T07:45:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534754",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:32'>Comment 32:</a>
15. I think that the sentence in the description of the output is hard to understand, but I have no idea for improvement.

    Therefore I propose to explain it via a doctest, see [e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc).



---

archive/issue_events_420517.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420517"
}
```



---

archive/issue_events_420518.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420518"
}
```



---

archive/issue_comments_534755.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nThe two new commits LGTM, thank you!",
    "created_at": "2022-09-21T09:58:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534755",
    "user": "https://github.com/galipnik"
}
```

<a id='comment:34'>Comment 34:</a>
The two new commits LGTM, thank you!



---

archive/issue_events_420519.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2022-09-21T10:50:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420519"
}
```



---

archive/issue_events_420520.json:
```json
{
    "actor": "https://github.com/cheuberg",
    "created_at": "2022-09-21T10:50:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420520"
}
```



---

archive/issue_comments_534756.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nThe build failures detected by the github action seem to be completely unrelated to this branch; the patchbot, on the other hand, is happy.\n\nSo, time to set it to positive.",
    "created_at": "2022-09-21T10:50:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534756",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:35'>Comment 35:</a>
The build failures detected by the github action seem to be completely unrelated to this branch; the patchbot, on the other hand, is happy.

So, time to set it to positive.



---

archive/issue_comments_534757.json:
```json
{
    "body": "Changed branch from **[u/cheuberg/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/k-regular-from-recurrence-inhomogeneities)** to **[e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc)**",
    "created_at": "2022-09-25T16:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32921#issuecomment-534757",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cheuberg/k-regular-from-recurrence-inhomogeneities](https://github.com/sagemath/sagetrac-mirror/tree/u/cheuberg/k-regular-from-recurrence-inhomogeneities)** to **[e2d8f1d](https://github.com/sagemath/sagetrac-mirror/commit/e2d8f1d413375197e95038a6b12a891fe35d0fcc)**



---

archive/issue_events_420521.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-09-25T16:34:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420521"
}
```



---

archive/issue_events_420522.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "cb6cda616fd33e062a819be213b08113436dbe22",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-09-25T16:34:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32921",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32921#event-420522"
}
```
