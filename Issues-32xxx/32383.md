# Issue 32383: maxima interfaces: Translate == and != to equal and notequal, not = and # (except in input to "solve")

archive/issues_032146.json:
```json
{
    "body": "(from #31911)\n\nOur interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.\n\nExample:\n\n```\nsage: getattr(maxima, \"not\")(x == 0)                                                                                     \ntrue\n```\n\nThere are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n\nWe change \n- `InterfaceInit.relation` for maxima by subclassing\n- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\nThe two existing workarounds can then be removed.\n\nHowever, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.\n\n\n**CC:**  @EmmanuelCharpentier @spaghettisalat @kcrisman @orlitzky\n\n**Branch:** [u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__)\n\n**Commit:** [60aad6a48604d63b39f7d2c84b4969e3cf431b5b](https://github.com/sagemath/sagetrac-mirror/commit/60aad6a48604d63b39f7d2c84b4969e3cf431b5b)\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/32383\n\n",
    "created_at": "2021-08-15T16:01:12Z",
    "labels": [
        "component: symbolics",
        "bug",
        "needs work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "title": "maxima interfaces: Translate == and != to equal and notequal, not = and # (except in input to \"solve\")",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/32383",
    "user": "https://github.com/mkoeppe"
}
```
(from #31911)

Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.

Example:

```
sage: getattr(maxima, "not")(x == 0)                                                                                     
true
```

There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)

We change 
- `InterfaceInit.relation` for maxima by subclassing
- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
The two existing workarounds can then be removed.

However, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.


**CC:**  @EmmanuelCharpentier @spaghettisalat @kcrisman @orlitzky

**Branch:** [u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__)

**Commit:** [60aad6a48604d63b39f7d2c84b4969e3cf431b5b](https://github.com/sagemath/sagetrac-mirror/commit/60aad6a48604d63b39f7d2c84b4969e3cf431b5b)

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/32383





---

archive/issue_comments_524609.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,11 @@\n (from #31911)\n \n+Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.\n+\n+There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n+\n+We change \n+- `InterfaceInit.relation` for maxima, possibly by subclassing\n+- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\n+The two existing workarounds can then be removed.\n+\n``````\n",
    "created_at": "2021-08-15T16:09:47Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524609",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,11 @@
 (from #31911)
 
+Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.
+
+There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)
+
+We change 
+- `InterfaceInit.relation` for maxima, possibly by subclassing
+- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
+The two existing workarounds can then be removed.
+
``````




---

archive/issue_comments_524610.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,13 @@\n (from #31911)\n \n Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.\n+\n+Example:\n+\n+```\n+sage: getattr(maxima, \"not\")(x == 0)                                                                                     \n+true\n+```\n \n There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n \n``````\n",
    "created_at": "2021-08-15T16:40:58Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524610",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,13 @@
 (from #31911)
 
 Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.
+
+Example:
+
+```
+sage: getattr(maxima, "not")(x == 0)                                                                                     
+true
+```
 
 There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)
 
``````




---

archive/issue_comments_524611.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__)",
    "created_at": "2021-08-15T17:26:39Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524611",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__)



---

archive/issue_comments_524612.json:
```json
{
    "body": "<a id='comment:4'></a>\nWe still need `=`, `#` in some places, though. Maxima's `solve` does not understand `equal`:\n\n```\n(%i1) solve(x^2 = 1);\n(%o1)                          [x = - 1, x = 1]\n(%i2) solve(equal(x^2, 1));\n                                      2\n(%o2)                         [equal(x , 1) = 0]\n```\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/69df28261aa063bc5ccf469b48a641b2804fc340\">69df282</a></td><td><code>sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #</code></td></tr></table>\n",
    "created_at": "2021-08-15T21:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524612",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
We still need `=`, `#` in some places, though. Maxima's `solve` does not understand `equal`:

```
(%i1) solve(x^2 = 1);
(%o1)                          [x = - 1, x = 1]
(%i2) solve(equal(x^2, 1));
                                      2
(%o2)                         [equal(x , 1) = 0]
```

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/69df28261aa063bc5ccf469b48a641b2804fc340">69df282</a></td><td><code>sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #</code></td></tr></table>




---

archive/issue_comments_524613.json:
```json
{
    "body": "**Commit:** [69df28261aa063bc5ccf469b48a641b2804fc340](https://github.com/sagemath/sagetrac-mirror/commit/69df28261aa063bc5ccf469b48a641b2804fc340)",
    "created_at": "2021-08-15T21:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524613",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [69df28261aa063bc5ccf469b48a641b2804fc340](https://github.com/sagemath/sagetrac-mirror/commit/69df28261aa063bc5ccf469b48a641b2804fc340)



---

archive/issue_comments_524614.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee\">f079c31</a></td><td><code>sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima</code></td></tr></table>\n",
    "created_at": "2021-08-15T21:26:29Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524614",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee">f079c31</a></td><td><code>sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima</code></td></tr></table>




---

archive/issue_comments_524615.json:
```json
{
    "body": "**Changing commit** from \"[69df28261aa063bc5ccf469b48a641b2804fc340](https://github.com/sagemath/sagetrac-mirror/commit/69df28261aa063bc5ccf469b48a641b2804fc340)\" to \"[f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee](https://github.com/sagemath/sagetrac-mirror/commit/f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee)\".",
    "created_at": "2021-08-15T21:26:29Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524615",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[69df28261aa063bc5ccf469b48a641b2804fc340](https://github.com/sagemath/sagetrac-mirror/commit/69df28261aa063bc5ccf469b48a641b2804fc340)" to "[f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee](https://github.com/sagemath/sagetrac-mirror/commit/f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee)".



---

archive/issue_comments_524616.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/640d853d34bd37b952f2660e5a85f3a65361b950\">640d853</a></td><td><code>sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=</code></td></tr></table>\n",
    "created_at": "2021-08-15T21:50:21Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524616",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/640d853d34bd37b952f2660e5a85f3a65361b950">640d853</a></td><td><code>sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=</code></td></tr></table>




---

archive/issue_comments_524617.json:
```json
{
    "body": "**Changing commit** from \"[f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee](https://github.com/sagemath/sagetrac-mirror/commit/f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee)\" to \"[640d853d34bd37b952f2660e5a85f3a65361b950](https://github.com/sagemath/sagetrac-mirror/commit/640d853d34bd37b952f2660e5a85f3a65361b950)\".",
    "created_at": "2021-08-15T21:50:21Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524617",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee](https://github.com/sagemath/sagetrac-mirror/commit/f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee)" to "[640d853d34bd37b952f2660e5a85f3a65361b950](https://github.com/sagemath/sagetrac-mirror/commit/640d853d34bd37b952f2660e5a85f3a65361b950)".



---

archive/issue_events_291102.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-15T22:32:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "rename": {
        "from": "maxima interfaces: Translate == and != to equal and notequal, not = and #",
        "to": "maxima interfaces: Translate == and != to equal and notequal, not = and # (except in input to \"solve\")"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291102"
}
```



---

archive/issue_comments_524618.json:
```json
{
    "body": "<a id='comment:8'></a>\nWe will have to make the equations passed to Maxima's `solve` (and `desolve`) a special case.  There is only a small number of such call sites in the Sage library.\n\nThe introduction of `and_symbolic` in #31911 will anyway make changes to the `Expression.solve` method necessary so that it can accept conjunctions expressed using `and_symbolic` in addition to those expressed as lists of clauses.",
    "created_at": "2021-08-15T23:23:17Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524618",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
We will have to make the equations passed to Maxima's `solve` (and `desolve`) a special case.  There is only a small number of such call sites in the Sage library.

The introduction of `and_symbolic` in #31911 will anyway make changes to the `Expression.solve` method necessary so that it can accept conjunctions expressed using `and_symbolic` in addition to those expressed as lists of clauses.



---

archive/issue_comments_524619.json:
```json
{
    "body": "**Changing commit** from \"[640d853d34bd37b952f2660e5a85f3a65361b950](https://github.com/sagemath/sagetrac-mirror/commit/640d853d34bd37b952f2660e5a85f3a65361b950)\" to \"[d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3](https://github.com/sagemath/sagetrac-mirror/commit/d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3)\".",
    "created_at": "2021-08-16T00:27:49Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524619",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[640d853d34bd37b952f2660e5a85f3a65361b950](https://github.com/sagemath/sagetrac-mirror/commit/640d853d34bd37b952f2660e5a85f3a65361b950)" to "[d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3](https://github.com/sagemath/sagetrac-mirror/commit/d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3)".



---

archive/issue_comments_524620.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3\">d1411a5</a></td><td><code>Expression._maxima_init_solve_: New, use it in sage.symbolic.relation</code></td></tr></table>\n",
    "created_at": "2021-08-16T00:27:49Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524620",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3">d1411a5</a></td><td><code>Expression._maxima_init_solve_: New, use it in sage.symbolic.relation</code></td></tr></table>




---

archive/issue_comments_524621.json:
```json
{
    "body": "<a id='comment:10'></a>\nsetting it to `needs_review` so that the patchbot runs.\n\nto do: converting `equal(...)`, `notequal(...)` back to `==` and `!=`.",
    "created_at": "2021-08-16T00:28:57Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524621",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
setting it to `needs_review` so that the patchbot runs.

to do: converting `equal(...)`, `notequal(...)` back to `==` and `!=`.



---

archive/issue_comments_524622.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-08-16T00:28:57Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524622",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_291103.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-16T00:28:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291103"
}
```



---

archive/issue_comments_524623.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n \n We change \n-- `InterfaceInit.relation` for maxima, possibly by subclassing\n+- `InterfaceInit.relation` for maxima by subclassing\n - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\n The two existing workarounds can then be removed.\n \n``````\n",
    "created_at": "2021-08-16T00:30:51Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524623",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)
 
 We change 
-- `InterfaceInit.relation` for maxima, possibly by subclassing
+- `InterfaceInit.relation` for maxima by subclassing
 - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
 The two existing workarounds can then be removed.
 
``````




---

archive/issue_comments_524624.json:
```json
{
    "body": "**Changing commit** from \"[d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3](https://github.com/sagemath/sagetrac-mirror/commit/d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3)\" to \"[dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83](https://github.com/sagemath/sagetrac-mirror/commit/dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83)\".",
    "created_at": "2021-08-16T00:56:16Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524624",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3](https://github.com/sagemath/sagetrac-mirror/commit/d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3)" to "[dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83](https://github.com/sagemath/sagetrac-mirror/commit/dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83)".



---

archive/issue_comments_524625.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83\">dbfe81e</a></td><td><code>sage.calculus.desolvers: Update to use _maxima_init_solve_</code></td></tr></table>\n",
    "created_at": "2021-08-16T00:56:16Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524625",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83">dbfe81e</a></td><td><code>sage.calculus.desolvers: Update to use _maxima_init_solve_</code></td></tr></table>




---

archive/issue_comments_524626.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2086f39fd425b93013e8bde45b9b37bccb6c76e\">b2086f3</a></td><td><code>sage.functions.piecewise: Update to use _maxima_init_solve_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcd861e0cdae608cffdc4344a84099d278255634\">bcd861e</a></td><td><code>sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b79f4fc6d4f6d86bc9de23766a152d56cd974a5\">1b79f4f</a></td><td><code>MaximaAbstract._equality_symbol, _inequality_symbol: Update doc</code></td></tr></table>\n",
    "created_at": "2021-08-16T01:26:18Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524626",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2086f39fd425b93013e8bde45b9b37bccb6c76e">b2086f3</a></td><td><code>sage.functions.piecewise: Update to use _maxima_init_solve_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcd861e0cdae608cffdc4344a84099d278255634">bcd861e</a></td><td><code>sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b79f4fc6d4f6d86bc9de23766a152d56cd974a5">1b79f4f</a></td><td><code>MaximaAbstract._equality_symbol, _inequality_symbol: Update doc</code></td></tr></table>




---

archive/issue_comments_524627.json:
```json
{
    "body": "**Changing commit** from \"[dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83](https://github.com/sagemath/sagetrac-mirror/commit/dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83)\" to \"[1b79f4fc6d4f6d86bc9de23766a152d56cd974a5](https://github.com/sagemath/sagetrac-mirror/commit/1b79f4fc6d4f6d86bc9de23766a152d56cd974a5)\".",
    "created_at": "2021-08-16T01:26:18Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524627",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83](https://github.com/sagemath/sagetrac-mirror/commit/dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83)" to "[1b79f4fc6d4f6d86bc9de23766a152d56cd974a5](https://github.com/sagemath/sagetrac-mirror/commit/1b79f4fc6d4f6d86bc9de23766a152d56cd974a5)".



---

archive/issue_comments_524628.json:
```json
{
    "body": "<a id='comment:14'></a>\nRoundtripping with `max_to_sr` works\n\n```\nfrom sage.interfaces.maxima_lib import max_to_sr \nsage: max_to_sr(maxima_calculus(x == 0).ecl())                                                                            \nx == 0\n```\nbut normal conversion via the expression parser does not:\n\n```\nsage: maxima_calculus(x == 0)._sage_()                                                                                    \nequal(x, 0)\n```",
    "created_at": "2021-08-16T01:34:04Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524628",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Roundtripping with `max_to_sr` works

```
from sage.interfaces.maxima_lib import max_to_sr 
sage: max_to_sr(maxima_calculus(x == 0).ecl())                                                                            
x == 0
```
but normal conversion via the expression parser does not:

```
sage: maxima_calculus(x == 0)._sage_()                                                                                    
equal(x, 0)
```



---

archive/issue_comments_524629.json:
```json
{
    "body": "**Changing commit** from \"[1b79f4fc6d4f6d86bc9de23766a152d56cd974a5](https://github.com/sagemath/sagetrac-mirror/commit/1b79f4fc6d4f6d86bc9de23766a152d56cd974a5)\" to \"[ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19](https://github.com/sagemath/sagetrac-mirror/commit/ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19)\".",
    "created_at": "2021-08-16T05:08:46Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524629",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1b79f4fc6d4f6d86bc9de23766a152d56cd974a5](https://github.com/sagemath/sagetrac-mirror/commit/1b79f4fc6d4f6d86bc9de23766a152d56cd974a5)" to "[ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19](https://github.com/sagemath/sagetrac-mirror/commit/ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19)".



---

archive/issue_comments_524630.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19\">ba6e59a</a></td><td><code>Experimental: Add 'equal', 'notequal' to symbol_table['functions']</code></td></tr></table>\n",
    "created_at": "2021-08-16T05:08:46Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524630",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19">ba6e59a</a></td><td><code>Experimental: Add 'equal', 'notequal' to symbol_table['functions']</code></td></tr></table>




---

archive/issue_comments_524631.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis gets the conversion to work (both with `maxima` and `maxima_calculus`), but it can't possibly be the right solution",
    "created_at": "2021-08-16T05:09:57Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524631",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
This gets the conversion to work (both with `maxima` and `maxima_calculus`), but it can't possibly be the right solution



---

archive/issue_comments_524632.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe1b5e527e6c1aca5268348babe24d62b421d458\">fe1b5e5</a></td><td><code>sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_</code></td></tr></table>\n",
    "created_at": "2021-08-16T05:34:41Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524632",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe1b5e527e6c1aca5268348babe24d62b421d458">fe1b5e5</a></td><td><code>sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_</code></td></tr></table>




---

archive/issue_comments_524633.json:
```json
{
    "body": "**Changing commit** from \"[ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19](https://github.com/sagemath/sagetrac-mirror/commit/ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19)\" to \"[fe1b5e527e6c1aca5268348babe24d62b421d458](https://github.com/sagemath/sagetrac-mirror/commit/fe1b5e527e6c1aca5268348babe24d62b421d458)\".",
    "created_at": "2021-08-16T05:34:41Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524633",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19](https://github.com/sagemath/sagetrac-mirror/commit/ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19)" to "[fe1b5e527e6c1aca5268348babe24d62b421d458](https://github.com/sagemath/sagetrac-mirror/commit/fe1b5e527e6c1aca5268348babe24d62b421d458)".



---

archive/issue_events_291104.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-11T04:57:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291104"
}
```



---

archive/issue_events_291105.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-11T04:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291105"
}
```



---

archive/issue_events_291106.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291106"
}
```



---

archive/issue_events_291107.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291107"
}
```



---

archive/issue_comments_524634.json:
```json
{
    "body": "**Changing commit** from \"[fe1b5e527e6c1aca5268348babe24d62b421d458](https://github.com/sagemath/sagetrac-mirror/commit/fe1b5e527e6c1aca5268348babe24d62b421d458)\" to \"[60aad6a48604d63b39f7d2c84b4969e3cf431b5b](https://github.com/sagemath/sagetrac-mirror/commit/60aad6a48604d63b39f7d2c84b4969e3cf431b5b)\".",
    "created_at": "2022-02-03T18:41:41Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fe1b5e527e6c1aca5268348babe24d62b421d458](https://github.com/sagemath/sagetrac-mirror/commit/fe1b5e527e6c1aca5268348babe24d62b421d458)" to "[60aad6a48604d63b39f7d2c84b4969e3cf431b5b](https://github.com/sagemath/sagetrac-mirror/commit/60aad6a48604d63b39f7d2c84b4969e3cf431b5b)".



---

archive/issue_comments_524635.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18263693df9bd286834916d7fe9880d2fa38534b\">1826369</a></td><td><code>sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ab3b3500fc5db00e8855839f454bb6c235e3534\">5ab3b35</a></td><td><code>sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4bf8497d19ac29c2c5b5cad4da40db2c0486f279\">4bf8497</a></td><td><code>sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef5e554879e15eb243b95c78aa309cf88d181a12\">ef5e554</a></td><td><code>Expression._maxima_init_solve_: New, use it in sage.symbolic.relation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa99f2d5dc41cd01b35759fef234c9c389feda36\">aa99f2d</a></td><td><code>sage.calculus.desolvers: Update to use _maxima_init_solve_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a82cfa2a917665e68d26ee8d8c9c769efe02bd10\">a82cfa2</a></td><td><code>sage.functions.piecewise: Update to use _maxima_init_solve_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43d553100608982fe11c3dbd62caf827b0d146fa\">43d5531</a></td><td><code>sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/20166d84486f03579c518feb81b0859921d98865\">20166d8</a></td><td><code>MaximaAbstract._equality_symbol, _inequality_symbol: Update doc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f41dabb376b8a075940281c11edac8c51f074973\">f41dabb</a></td><td><code>Experimental: Add 'equal', 'notequal' to symbol_table['functions']</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60aad6a48604d63b39f7d2c84b4969e3cf431b5b\">60aad6a</a></td><td><code>sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_</code></td></tr></table>\n",
    "created_at": "2022-02-03T18:41:41Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524635",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18263693df9bd286834916d7fe9880d2fa38534b">1826369</a></td><td><code>sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ab3b3500fc5db00e8855839f454bb6c235e3534">5ab3b35</a></td><td><code>sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4bf8497d19ac29c2c5b5cad4da40db2c0486f279">4bf8497</a></td><td><code>sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef5e554879e15eb243b95c78aa309cf88d181a12">ef5e554</a></td><td><code>Expression._maxima_init_solve_: New, use it in sage.symbolic.relation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa99f2d5dc41cd01b35759fef234c9c389feda36">aa99f2d</a></td><td><code>sage.calculus.desolvers: Update to use _maxima_init_solve_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a82cfa2a917665e68d26ee8d8c9c769efe02bd10">a82cfa2</a></td><td><code>sage.functions.piecewise: Update to use _maxima_init_solve_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43d553100608982fe11c3dbd62caf827b0d146fa">43d5531</a></td><td><code>sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/20166d84486f03579c518feb81b0859921d98865">20166d8</a></td><td><code>MaximaAbstract._equality_symbol, _inequality_symbol: Update doc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f41dabb376b8a075940281c11edac8c51f074973">f41dabb</a></td><td><code>Experimental: Add 'equal', 'notequal' to symbol_table['functions']</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60aad6a48604d63b39f7d2c84b4969e3cf431b5b">60aad6a</a></td><td><code>sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_</code></td></tr></table>




---

archive/issue_comments_524636.json:
```json
{
    "body": "<a id='comment:21'></a>\nRebased",
    "created_at": "2022-02-03T18:41:55Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524636",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Rebased



---

archive/issue_comments_524637.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -16,3 +16,5 @@\n - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\n The two existing workarounds can then be removed.\n \n+However, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.\n+\n``````\n",
    "created_at": "2022-02-04T01:24:18Z",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32383#issuecomment-524637",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -16,3 +16,5 @@
 - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
 The two existing workarounds can then be removed.
 
+However, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.
+
``````




---

archive/issue_events_291108.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291108"
}
```



---

archive/issue_events_291109.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291109"
}
```



---

archive/issue_events_291110.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291110"
}
```



---

archive/issue_events_291111.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32383",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32383#event-291111"
}
```
