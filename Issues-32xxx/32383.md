# Issue 32383: maxima interfaces: Translate == and != to equal and notequal, not = and # (except in input to "solve")

archive/issues_032146.json:
```json
{
    "body": "(from #31911)\n\nOur interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.\n\nExample:\n\n```\nsage: getattr(maxima, \"not\")(x == 0)                                                                                     \ntrue\n```\n\nThere are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n\nWe change \n- `InterfaceInit.relation` for maxima by subclassing\n- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\nThe two existing workarounds can then be removed.\n\nHowever, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.\n\n\nCC:  @EmmanuelCharpentier @spaghettisalat @kcrisman @orlitzky\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__\n\nStatus: needs_work\n\nCommit: 60aad6a48604d63b39f7d2c84b4969e3cf431b5b\n\nIssue created by migration from https://trac.sagemath.org/ticket/32383\n\n",
    "created_at": "2021-08-15T16:01:12Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "maxima interfaces: Translate == and != to equal and notequal, not = and # (except in input to \"solve\")",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32383",
    "user": "https://github.com/mkoeppe"
}
```
(from #31911)

Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.

Example:

```
sage: getattr(maxima, "not")(x == 0)                                                                                     
true
```

There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)

We change 
- `InterfaceInit.relation` for maxima by subclassing
- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
The two existing workarounds can then be removed.

However, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.


CC:  @EmmanuelCharpentier @spaghettisalat @kcrisman @orlitzky

Author: Matthias Koeppe

Branch: u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__

Status: needs_work

Commit: 60aad6a48604d63b39f7d2c84b4969e3cf431b5b

Issue created by migration from https://trac.sagemath.org/ticket/32383





---

archive/issue_comments_644839.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,11 @@\n (from #31911)\n \n+Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.\n+\n+There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n+\n+We change \n+- `InterfaceInit.relation` for maxima, possibly by subclassing\n+- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\n+The two existing workarounds can then be removed.\n+\n``````\n",
    "created_at": "2021-08-15T16:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644839",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,11 @@
 (from #31911)
 
+Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.
+
+There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)
+
+We change 
+- `InterfaceInit.relation` for maxima, possibly by subclassing
+- `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
+The two existing workarounds can then be removed.
+
``````




---

archive/issue_comments_644840.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,13 @@\n (from #31911)\n \n Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.\n+\n+Example:\n+\n+```\n+sage: getattr(maxima, \"not\")(x == 0)                                                                                     \n+true\n+```\n \n There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n \n``````\n",
    "created_at": "2021-08-15T16:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644840",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,13 @@
 (from #31911)
 
 Our interfaces `sage.interfaces.maxima_abstract` and `maxima_lib` translate == and != to Maxima's = and #. But Maxima's documentation (https://maxima.sourceforge.io/docs/manual/maxima_169.html) is quite clear: `=` and `#`: syntactic (in)equality; `equal` and `notequal`: value (in)equality.
+
+Example:
+
+```
+sage: getattr(maxima, "not")(x == 0)                                                                                     
+true
+```
 
 There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)
 
``````




---

archive/issue_comments_644841.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__\"",
    "created_at": "2021-08-15T17:26:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644841",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/maxima_interfaces__translate____and____to_equal_and_notequal__not___and__"



---

archive/issue_comments_644842.json:
```json
{
    "body": "<a id='comment:4'></a>\nWe still need `=`, `#` in some places, though. Maxima's `solve` does not understand `equal`:\n\n```\n(%i1) solve(x^2 = 1);\n(%o1)                          [x = - 1, x = 1]\n(%i2) solve(equal(x^2, 1));\n                                      2\n(%o2)                         [equal(x , 1) = 0]\n```\n\n---\nNew commits:\n|                                                                                                                                          |                                                                                                 |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[69df282](https://git.sagemath.org/sage.git/commit?id=69df28261aa063bc5ccf469b48a641b2804fc340)|`sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #`|",
    "created_at": "2021-08-15T21:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644842",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
We still need `=`, `#` in some places, though. Maxima's `solve` does not understand `equal`:

```
(%i1) solve(x^2 = 1);
(%o1)                          [x = - 1, x = 1]
(%i2) solve(equal(x^2, 1));
                                      2
(%o2)                         [equal(x , 1) = 0]
```

---
New commits:
|                                                                                                                                          |                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[69df282](https://git.sagemath.org/sage.git/commit?id=69df28261aa063bc5ccf469b48a641b2804fc340)|`sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #`|



---

archive/issue_comments_644843.json:
```json
{
    "body": "Changing commit from \"\" to \"69df28261aa063bc5ccf469b48a641b2804fc340\"",
    "created_at": "2021-08-15T21:14:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644843",
    "user": "https://github.com/mkoeppe"
}
```

Changing commit from "" to "69df28261aa063bc5ccf469b48a641b2804fc340"



---

archive/issue_comments_644844.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|\n|[f079c31](https://git.sagemath.org/sage.git/commit/?id=f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee)|`sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima`|",
    "created_at": "2021-08-15T21:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644844",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
|[f079c31](https://git.sagemath.org/sage.git/commit/?id=f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee)|`sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima`|



---

archive/issue_comments_644845.json:
```json
{
    "body": "Changing commit from \"69df28261aa063bc5ccf469b48a641b2804fc340\" to \"f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee\"",
    "created_at": "2021-08-15T21:26:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "69df28261aa063bc5ccf469b48a641b2804fc340" to "f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee"



---

archive/issue_comments_644846.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|\n|[640d853](https://git.sagemath.org/sage.git/commit/?id=640d853d34bd37b952f2660e5a85f3a65361b950)|`sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=`|",
    "created_at": "2021-08-15T21:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644846",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|
|[640d853](https://git.sagemath.org/sage.git/commit/?id=640d853d34bd37b952f2660e5a85f3a65361b950)|`sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=`|



---

archive/issue_comments_644847.json:
```json
{
    "body": "Changing commit from \"f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee\" to \"640d853d34bd37b952f2660e5a85f3a65361b950\"",
    "created_at": "2021-08-15T21:50:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "f079c318c0e9b1bc0f9ca0bfbd0980cd948473ee" to "640d853d34bd37b952f2660e5a85f3a65361b950"



---

archive/issue_comments_644848.json:
```json
{
    "body": "<a id='comment:8'></a>\nWe will have to make the equations passed to Maxima's `solve` (and `desolve`) a special case.  There is only a small number of such call sites in the Sage library.\n\nThe introduction of `and_symbolic` in #31911 will anyway make changes to the `Expression.solve` method necessary so that it can accept conjunctions expressed using `and_symbolic` in addition to those expressed as lists of clauses.",
    "created_at": "2021-08-15T23:23:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644848",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:8'></a>
We will have to make the equations passed to Maxima's `solve` (and `desolve`) a special case.  There is only a small number of such call sites in the Sage library.

The introduction of `and_symbolic` in #31911 will anyway make changes to the `Expression.solve` method necessary so that it can accept conjunctions expressed using `and_symbolic` in addition to those expressed as lists of clauses.



---

archive/issue_comments_644849.json:
```json
{
    "body": "Changing commit from \"640d853d34bd37b952f2660e5a85f3a65361b950\" to \"d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3\"",
    "created_at": "2021-08-16T00:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644849",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "640d853d34bd37b952f2660e5a85f3a65361b950" to "d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3"



---

archive/issue_comments_644850.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|\n|[d1411a5](https://git.sagemath.org/sage.git/commit/?id=d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3)|`Expression._maxima_init_solve_: New, use it in sage.symbolic.relation`|",
    "created_at": "2021-08-16T00:27:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644850",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
|[d1411a5](https://git.sagemath.org/sage.git/commit/?id=d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3)|`Expression._maxima_init_solve_: New, use it in sage.symbolic.relation`|



---

archive/issue_comments_644851.json:
```json
{
    "body": "<a id='comment:10'></a>\nsetting it to `needs_review` so that the patchbot runs.\n\nto do: converting `equal(...)`, `notequal(...)` back to `==` and `!=`.",
    "created_at": "2021-08-16T00:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644851",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
setting it to `needs_review` so that the patchbot runs.

to do: converting `equal(...)`, `notequal(...)` back to `==` and `!=`.



---

archive/issue_comments_644852.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-08-16T00:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644852",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_644853.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-08-16T00:28:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644853",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_644854.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)\n \n We change \n-- `InterfaceInit.relation` for maxima, possibly by subclassing\n+- `InterfaceInit.relation` for maxima by subclassing\n - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\n The two existing workarounds can then be removed.\n \n``````\n",
    "created_at": "2021-08-16T00:30:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644854",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 There are already two places in sagelib that work around it (by using `equal`, `notequal`): `Expression._maxima_init_assume_` and `test_relation_maxima`. (see early tickets #1163, #2218)
 
 We change 
-- `InterfaceInit.relation` for maxima, possibly by subclassing
+- `InterfaceInit.relation` for maxima by subclassing
 - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
 The two existing workarounds can then be removed.
 
``````




---

archive/issue_comments_644855.json:
```json
{
    "body": "Changing commit from \"d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3\" to \"dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83\"",
    "created_at": "2021-08-16T00:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644855",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d1411a5d4ba91e694a6fd5ef44b6f835d0aa64b3" to "dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83"



---

archive/issue_comments_644856.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|\n|[dbfe81e](https://git.sagemath.org/sage.git/commit/?id=dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83)|`sage.calculus.desolvers: Update to use _maxima_init_solve_`|",
    "created_at": "2021-08-16T00:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644856",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------|
|[dbfe81e](https://git.sagemath.org/sage.git/commit/?id=dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83)|`sage.calculus.desolvers: Update to use _maxima_init_solve_`|



---

archive/issue_comments_644857.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[b2086f3](https://git.sagemath.org/sage.git/commit/?id=b2086f39fd425b93013e8bde45b9b37bccb6c76e)|`sage.functions.piecewise: Update to use _maxima_init_solve_`|\n|[bcd861e](https://git.sagemath.org/sage.git/commit/?id=bcd861e0cdae608cffdc4344a84099d278255634)|`sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage`|\n|[1b79f4f](https://git.sagemath.org/sage.git/commit/?id=1b79f4fc6d4f6d86bc9de23766a152d56cd974a5)|`MaximaAbstract._equality_symbol, _inequality_symbol: Update doc`|",
    "created_at": "2021-08-16T01:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644857",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[b2086f3](https://git.sagemath.org/sage.git/commit/?id=b2086f39fd425b93013e8bde45b9b37bccb6c76e)|`sage.functions.piecewise: Update to use _maxima_init_solve_`|
|[bcd861e](https://git.sagemath.org/sage.git/commit/?id=bcd861e0cdae608cffdc4344a84099d278255634)|`sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage`|
|[1b79f4f](https://git.sagemath.org/sage.git/commit/?id=1b79f4fc6d4f6d86bc9de23766a152d56cd974a5)|`MaximaAbstract._equality_symbol, _inequality_symbol: Update doc`|



---

archive/issue_comments_644858.json:
```json
{
    "body": "Changing commit from \"dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83\" to \"1b79f4fc6d4f6d86bc9de23766a152d56cd974a5\"",
    "created_at": "2021-08-16T01:26:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644858",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dbfe81e6633ead35cb2dd5a4e57bef8defd3bd83" to "1b79f4fc6d4f6d86bc9de23766a152d56cd974a5"



---

archive/issue_comments_644859.json:
```json
{
    "body": "<a id='comment:14'></a>\nRoundtripping with `max_to_sr` works\n\n```\nfrom sage.interfaces.maxima_lib import max_to_sr \nsage: max_to_sr(maxima_calculus(x == 0).ecl())                                                                            \nx == 0\n```\nbut normal conversion via the expression parser does not:\n\n```\nsage: maxima_calculus(x == 0)._sage_()                                                                                    \nequal(x, 0)\n```",
    "created_at": "2021-08-16T01:34:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644859",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>
Roundtripping with `max_to_sr` works

```
from sage.interfaces.maxima_lib import max_to_sr 
sage: max_to_sr(maxima_calculus(x == 0).ecl())                                                                            
x == 0
```
but normal conversion via the expression parser does not:

```
sage: maxima_calculus(x == 0)._sage_()                                                                                    
equal(x, 0)
```



---

archive/issue_comments_644860.json:
```json
{
    "body": "Changing commit from \"1b79f4fc6d4f6d86bc9de23766a152d56cd974a5\" to \"ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19\"",
    "created_at": "2021-08-16T05:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644860",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "1b79f4fc6d4f6d86bc9de23766a152d56cd974a5" to "ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19"



---

archive/issue_comments_644861.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[ba6e59a](https://git.sagemath.org/sage.git/commit/?id=ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19)|`Experimental: Add 'equal', 'notequal' to symbol_table['functions']`|",
    "created_at": "2021-08-16T05:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644861",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[ba6e59a](https://git.sagemath.org/sage.git/commit/?id=ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19)|`Experimental: Add 'equal', 'notequal' to symbol_table['functions']`|



---

archive/issue_comments_644862.json:
```json
{
    "body": "<a id='comment:16'></a>\nThis gets the conversion to work (both with `maxima` and `maxima_calculus`), but it can't possibly be the right solution",
    "created_at": "2021-08-16T05:09:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644862",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>
This gets the conversion to work (both with `maxima` and `maxima_calculus`), but it can't possibly be the right solution



---

archive/issue_comments_644863.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|\n|[fe1b5e5](https://git.sagemath.org/sage.git/commit/?id=fe1b5e527e6c1aca5268348babe24d62b421d458)|`sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_`|",
    "created_at": "2021-08-16T05:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644863",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
|[fe1b5e5](https://git.sagemath.org/sage.git/commit/?id=fe1b5e527e6c1aca5268348babe24d62b421d458)|`sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_`|



---

archive/issue_comments_644864.json:
```json
{
    "body": "Changing commit from \"ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19\" to \"fe1b5e527e6c1aca5268348babe24d62b421d458\"",
    "created_at": "2021-08-16T05:34:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644864",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ba6e59a4dab1e64bd78f6e9d6f5a69a29e096a19" to "fe1b5e527e6c1aca5268348babe24d62b421d458"



---

archive/issue_comments_644865.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-11T04:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644865",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_085928.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32383#event-85928"
}
```



---

archive/issue_comments_644866.json:
```json
{
    "body": "Changing commit from \"fe1b5e527e6c1aca5268348babe24d62b421d458\" to \"60aad6a48604d63b39f7d2c84b4969e3cf431b5b\"",
    "created_at": "2022-02-03T18:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644866",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "fe1b5e527e6c1aca5268348babe24d62b421d458" to "60aad6a48604d63b39f7d2c84b4969e3cf431b5b"



---

archive/issue_comments_644867.json:
```json
{
    "body": "<a id='comment:20'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|\n|[1826369](https://git.sagemath.org/sage.git/commit/?id=18263693df9bd286834916d7fe9880d2fa38534b)|`sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #`|\n|[5ab3b35](https://git.sagemath.org/sage.git/commit/?id=5ab3b3500fc5db00e8855839f454bb6c235e3534)|`sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima`|\n|[4bf8497](https://git.sagemath.org/sage.git/commit/?id=4bf8497d19ac29c2c5b5cad4da40db2c0486f279)|`sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=`|\n|[ef5e554](https://git.sagemath.org/sage.git/commit/?id=ef5e554879e15eb243b95c78aa309cf88d181a12)|`Expression._maxima_init_solve_: New, use it in sage.symbolic.relation`|\n|[aa99f2d](https://git.sagemath.org/sage.git/commit/?id=aa99f2d5dc41cd01b35759fef234c9c389feda36)|`sage.calculus.desolvers: Update to use _maxima_init_solve_`|\n|[a82cfa2](https://git.sagemath.org/sage.git/commit/?id=a82cfa2a917665e68d26ee8d8c9c769efe02bd10)|`sage.functions.piecewise: Update to use _maxima_init_solve_`|\n|[43d5531](https://git.sagemath.org/sage.git/commit/?id=43d553100608982fe11c3dbd62caf827b0d146fa)|`sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage`|\n|[20166d8](https://git.sagemath.org/sage.git/commit/?id=20166d84486f03579c518feb81b0859921d98865)|`MaximaAbstract._equality_symbol, _inequality_symbol: Update doc`|\n|[f41dabb](https://git.sagemath.org/sage.git/commit/?id=f41dabb376b8a075940281c11edac8c51f074973)|`Experimental: Add 'equal', 'notequal' to symbol_table['functions']`|\n|[60aad6a](https://git.sagemath.org/sage.git/commit/?id=60aad6a48604d63b39f7d2c84b4969e3cf431b5b)|`sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_`|",
    "created_at": "2022-02-03T18:41:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644867",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:20'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------|
|[1826369](https://git.sagemath.org/sage.git/commit/?id=18263693df9bd286834916d7fe9880d2fa38534b)|`sage.interfaces.maxima_lib.sage_op_dict: Translate == and != to equal and notequal, not = and #`|
|[5ab3b35](https://git.sagemath.org/sage.git/commit/?id=5ab3b3500fc5db00e8855839f454bb6c235e3534)|`sage.symbolic.expression_conversion.MaximaConverter: New, use it in Expression._interface_init_ for maxima`|
|[4bf8497](https://git.sagemath.org/sage.git/commit/?id=4bf8497d19ac29c2c5b5cad4da40db2c0486f279)|`sage.symbolic.relation.test_relation_maxima: Remove workaround for ==, !=`|
|[ef5e554](https://git.sagemath.org/sage.git/commit/?id=ef5e554879e15eb243b95c78aa309cf88d181a12)|`Expression._maxima_init_solve_: New, use it in sage.symbolic.relation`|
|[aa99f2d](https://git.sagemath.org/sage.git/commit/?id=aa99f2d5dc41cd01b35759fef234c9c389feda36)|`sage.calculus.desolvers: Update to use _maxima_init_solve_`|
|[a82cfa2](https://git.sagemath.org/sage.git/commit/?id=a82cfa2a917665e68d26ee8d8c9c769efe02bd10)|`sage.functions.piecewise: Update to use _maxima_init_solve_`|
|[43d5531](https://git.sagemath.org/sage.git/commit/?id=43d553100608982fe11c3dbd62caf827b0d146fa)|`sage.interfaces.maxima_lib: Repair conversion of MEQUAL, MNOTEQUAL to sage`|
|[20166d8](https://git.sagemath.org/sage.git/commit/?id=20166d84486f03579c518feb81b0859921d98865)|`MaximaAbstract._equality_symbol, _inequality_symbol: Update doc`|
|[f41dabb](https://git.sagemath.org/sage.git/commit/?id=f41dabb376b8a075940281c11edac8c51f074973)|`Experimental: Add 'equal', 'notequal' to symbol_table['functions']`|
|[60aad6a](https://git.sagemath.org/sage.git/commit/?id=60aad6a48604d63b39f7d2c84b4969e3cf431b5b)|`sage.symbolic.relation.solve_ineq_univar: Use _maxima_init_solve_`|



---

archive/issue_comments_644868.json:
```json
{
    "body": "<a id='comment:21'></a>\nRebased",
    "created_at": "2022-02-03T18:41:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644868",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:21'></a>
Rebased



---

archive/issue_comments_644869.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,3 +16,5 @@\n - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.\n The two existing workarounds can then be removed.\n \n+However, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.\n+\n``````\n",
    "created_at": "2022-02-04T01:24:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32383#issuecomment-644869",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,3 +16,5 @@
 - `maxima_lib.sage_op_dict` to use `$EQUAL`, `$NOTEQUAL` instead of `MEQUAL`, `MNOTEQUAL`.
 The two existing workarounds can then be removed.
 
+However, in inputs to Maxima's `SOLVE`, `equal` and `notequal` are not allowed, and = and # have to be used. We introduce a method `_maxima_init_solve_` for this dialect.
+
``````




---

archive/issue_events_085929.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32383#event-85929"
}
```



---

archive/issue_events_085930.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T01:55:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32383#event-85930"
}
```



---

archive/issue_events_085931.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32383#event-85931"
}
```



---

archive/issue_events_085932.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32383",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32383#event-85932"
}
```
