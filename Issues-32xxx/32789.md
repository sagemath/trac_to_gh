# Issue 32789: Fix spkg-configure.m4 for singular

archive/issues_032552.json:
```json
{
    "assignees": [],
    "body": "Follow-up from #29024. This time with testing on more than 1 platform.\n\nOn Debian 11 (a.k.a. bullseye, stable) Singular's libs have different names, and are failing to be picked up: they all are installed in `/usr/lib/x86_64-linux-gnu/` and we have the following: I add Sage's names next to their\n\n```\nDebian                             Sage\n\nlibsingular-factory.so             libfactory.so\nlibsingular-gfan.so                ???\nlibsingular-omalloc.so             libomalloc.so\nlibsingular-polys.so               libpolys.so\nlibsingular-resources.so           libsingular_resources.so\nlibsingular-Singular.so            libSingular.so            \n```\n\nWhile it's not hard to test for `libsingular-Singular.so` in place of `libSingular.so`, it's some more work to use it.\n\nLibrary names may be obtained from `$ pkg-config --libs-only-l singular`, which on Debian produces\n\n```\n-lsingular-Singular -ldl -lsingular-polys -lntl -lgmp -ldl -lsingular-factory -lntl -lgmp -lsingular-omalloc -lsingular-resources\n```\n\n\n\nCC:  @dimpase @kiwifb @slel @isuruf @orlitzky @tobiasdiez @tobihan\n\nBranch/Commit: **[c0ceaf5](https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2)**\n\nUpstream: **Reported upstream. No feedback yet.**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32789_\n\n",
    "closed_at": "2022-02-20T13:27:51Z",
    "created_at": "2021-10-29T02:38:28Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build%3A%20configure",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix spkg-configure.m4 for singular",
    "type": "issue",
    "updated_at": "2022-02-20T13:27:51Z",
    "url": "https://github.com/sagemath/sage/issues/32789",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up from #29024. This time with testing on more than 1 platform.

On Debian 11 (a.k.a. bullseye, stable) Singular's libs have different names, and are failing to be picked up: they all are installed in `/usr/lib/x86_64-linux-gnu/` and we have the following: I add Sage's names next to their

```
Debian                             Sage

libsingular-factory.so             libfactory.so
libsingular-gfan.so                ???
libsingular-omalloc.so             libomalloc.so
libsingular-polys.so               libpolys.so
libsingular-resources.so           libsingular_resources.so
libsingular-Singular.so            libSingular.so            
```

While it's not hard to test for `libsingular-Singular.so` in place of `libSingular.so`, it's some more work to use it.

Library names may be obtained from `$ pkg-config --libs-only-l singular`, which on Debian produces

```
-lsingular-Singular -ldl -lsingular-polys -lntl -lgmp -ldl -lsingular-factory -lntl -lgmp -lsingular-omalloc -lsingular-resources
```



CC:  @dimpase @kiwifb @slel @isuruf @orlitzky @tobiasdiez @tobihan

Branch/Commit: **[c0ceaf5](https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2)**

Upstream: **Reported upstream. No feedback yet.**

Reviewer: **Matthias Koeppe**

Author: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/32789_





---

archive/issue_events_433230.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-29T02:38:28Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433230"
}
```



---

archive/issue_events_433231.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-29T02:38:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build%3A%20configure",
    "label_color": "000080",
    "label_name": "component: build: configure",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433231"
}
```



---

archive/issue_events_433232.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-29T02:38:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433232"
}
```



---

archive/issue_events_433233.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-29T02:38:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433233"
}
```



---

archive/issue_comments_532347.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,23 @@\n Follow-up from #29024. This time with testing on more than 1 platform.\n \n+On Debian 11 (a.k.a. bullseye, stable) Singular's libs have different names, and are failing to be picked up: they all are installed in `/usr/lib/x86_64-linux-gnu/` and we have the following: I add Sage's names next to their\n+\n+```\n+Debian                             Sage\n+\n+libsingular-factory.so             libfactory.so\n+libsingular-gfan.so                ???\n+libsingular-omalloc.so             libomalloc.so\n+libsingular-polys.so               libpolys.so\n+libsingular-resources.so           libsingular_resources.so\n+libsingular-Singular.so            libSingular.so            \n+```\n+\n+While it's not hard to test for `libsingular-Singular.so` in place of `libSingular.so`, it's some more work to use it.\n+\n+Library names may be obtained from `$ pkg-config --libs-only-l singular`, which on Debian produces\n+\n+```\n+-lsingular-Singular -ldl -lsingular-polys -lntl -lgmp -ldl -lsingular-factory -lntl -lgmp -lsingular-omalloc -lsingular-resources\n+```\n+\n``````\n",
    "created_at": "2021-10-29T12:33:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532347",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,23 @@
 Follow-up from #29024. This time with testing on more than 1 platform.
 
+On Debian 11 (a.k.a. bullseye, stable) Singular's libs have different names, and are failing to be picked up: they all are installed in `/usr/lib/x86_64-linux-gnu/` and we have the following: I add Sage's names next to their
+
+```
+Debian                             Sage
+
+libsingular-factory.so             libfactory.so
+libsingular-gfan.so                ???
+libsingular-omalloc.so             libomalloc.so
+libsingular-polys.so               libpolys.so
+libsingular-resources.so           libsingular_resources.so
+libsingular-Singular.so            libSingular.so            
+```
+
+While it's not hard to test for `libsingular-Singular.so` in place of `libSingular.so`, it's some more work to use it.
+
+Library names may be obtained from `$ pkg-config --libs-only-l singular`, which on Debian produces
+
+```
+-lsingular-Singular -ldl -lsingular-polys -lntl -lgmp -ldl -lsingular-factory -lntl -lgmp -lsingular-omalloc -lsingular-resources
+```
+
``````




---

archive/issue_comments_532348.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,3 +21,15 @@\n -lsingular-Singular -ldl -lsingular-polys -lntl -lgmp -ldl -lsingular-factory -lntl -lgmp -lsingular-omalloc -lsingular-resources\n ```\n \n+\n+Also broken on Cygwin, as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:\n+\n+```\n+  [sagemath_doc_html-none]     File \"sage/libs/singular/singular.pyx\", line 1555, in init sage.libs.singular.singular (build/cythonized/sage/libs/singular/singular.cpp:15622)\n+  [sagemath_doc_html-none]     File \"sage/libs/singular/singular.pyx\", line 1530, in sage.libs.singular.singular.init_libsingular (build/cythonized/sage/libs/singular/singular.cpp:12925)\n+  [sagemath_doc_html-none]   ImportError: cannot load Singular library from /home/s/sage9n/local/bin/libSingular.dll (b'No such file or directory')\n+  [sagemath_doc_html-none]   Error: './sage --docbuild --all-documents' failed\n+```\n+\n+\n+\n``````\n",
    "created_at": "2021-11-28T03:16:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532348",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,3 +21,15 @@
 -lsingular-Singular -ldl -lsingular-polys -lntl -lgmp -ldl -lsingular-factory -lntl -lgmp -lsingular-omalloc -lsingular-resources
 ```
 
+
+Also broken on Cygwin, as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:
+
+```
+  [sagemath_doc_html-none]     File "sage/libs/singular/singular.pyx", line 1555, in init sage.libs.singular.singular (build/cythonized/sage/libs/singular/singular.cpp:15622)
+  [sagemath_doc_html-none]     File "sage/libs/singular/singular.pyx", line 1530, in sage.libs.singular.singular.init_libsingular (build/cythonized/sage/libs/singular/singular.cpp:12925)
+  [sagemath_doc_html-none]   ImportError: cannot load Singular library from /home/s/sage9n/local/bin/libSingular.dll (b'No such file or directory')
+  [sagemath_doc_html-none]   Error: './sage --docbuild --all-documents' failed
+```
+
+
+
``````




---

archive/issue_events_433234.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-28T03:16:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433234"
}
```



---

archive/issue_events_433235.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-28T03:16:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433235"
}
```



---

archive/issue_comments_532349.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n ```\n \n \n-Also broken on Cygwin, as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:\n+Also broken on Cygwin (with singular from SPKG, as the cygwin-provided Singular is too old and is correctly rejected), as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:\n \n ```\n   [sagemath_doc_html-none]     File \"sage/libs/singular/singular.pyx\", line 1555, in init sage.libs.singular.singular (build/cythonized/sage/libs/singular/singular.cpp:15622)\n``````\n",
    "created_at": "2021-11-28T03:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532349",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 ```
 
 
-Also broken on Cygwin, as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:
+Also broken on Cygwin (with singular from SPKG, as the cygwin-provided Singular is too old and is correctly rejected), as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:
 
 ```
   [sagemath_doc_html-none]     File "sage/libs/singular/singular.pyx", line 1555, in init sage.libs.singular.singular (build/cythonized/sage/libs/singular/singular.cpp:15622)
``````




---

archive/issue_comments_532350.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nWe already tried to fix the path to libSingular on cygwin once. Where does it really live?",
    "created_at": "2021-11-28T13:15:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532350",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:4" align="right">Comment 4</div>

We already tried to fix the path to libSingular on cygwin once. Where does it really live?



---

archive/issue_comments_532351.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nWe have a GH Actions workflow for Cygwin that allows you to download logs and the installation in `SAGE_LOCAL` for inspection, see for example https://github.com/sagemath/sage/actions/runs/1478855916",
    "created_at": "2021-11-28T19:36:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532351",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">Comment 5</div>

We have a GH Actions workflow for Cygwin that allows you to download logs and the installation in `SAGE_LOCAL` for inspection, see for example https://github.com/sagemath/sage/actions/runs/1478855916



---

archive/issue_comments_532352.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nHappy to run any commands under Cygwin too.",
    "created_at": "2021-11-29T18:59:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532352",
    "user": "https://github.com/slel"
}
```

<div id="comment:6" align="right">Comment 6</div>

Happy to run any commands under Cygwin too.



---

archive/issue_comments_532353.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nFrom https://github.com/mkoeppe/sage/suites/4487559073/artifacts/119913634:\nThe following DLLs are installed in `SAGE_LOCAL/bin`:\n\n```\ncygfactory-4-2-1.dll\ncygomalloc-0-9-6.dll\ncygpolys-4-2-1.dll\ncygsingular_resources-4-2-1.dll\ncygSingular-4-2-1.dll\n```",
    "created_at": "2021-11-29T19:53:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532353",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">Comment 7</div>

From https://github.com/mkoeppe/sage/suites/4487559073/artifacts/119913634:
The following DLLs are installed in `SAGE_LOCAL/bin`:

```
cygfactory-4-2-1.dll
cygomalloc-0-9-6.dll
cygpolys-4-2-1.dll
cygsingular_resources-4-2-1.dll
cygSingular-4-2-1.dll
```



---

archive/issue_comments_532354.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nReplying to [@mkoeppe](#comment%3A7):\n> \n> ```\n> cygSingular-4-2-1.dll\n> ```\n\nIs there a symlink from `cygSingular.dll` to that file?",
    "created_at": "2021-11-29T20:03:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532354",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:8" align="right">Comment 8</div>

Replying to [@mkoeppe](#comment%3A7):
> 
> ```
> cygSingular-4-2-1.dll
> ```

Is there a symlink from `cygSingular.dll` to that file?



---

archive/issue_comments_532355.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nNo",
    "created_at": "2021-11-29T20:05:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532355",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">Comment 9</div>

No



---

archive/issue_comments_532356.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nThere is also a file `SAGE_LOCAL/lib/libSingular.dll.a`, which is used by the linker, and probably contains the information about the name of the actual DLL somehow.",
    "created_at": "2021-11-29T20:08:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532356",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:10" align="right">Comment 10</div>

There is also a file `SAGE_LOCAL/lib/libSingular.dll.a`, which is used by the linker, and probably contains the information about the name of the actual DLL somehow.



---

archive/issue_comments_532357.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nApparently https://sourceware.org/binutils/docs/binutils/dlltool.html can be used for reading this info.\n\n@slel, could you run `dlltool --identify local/lib/libSingular.dll.a` please?",
    "created_at": "2021-11-29T20:16:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532357",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">Comment 11</div>

Apparently https://sourceware.org/binutils/docs/binutils/dlltool.html can be used for reading this info.

@slel, could you run `dlltool --identify local/lib/libSingular.dll.a` please?



---

archive/issue_comments_532358.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThe SPKG won't be installed yet, so we can't read `local/lib/libSingular.dll.a` to obtain the necessary path during `./configure.` For the SPKG, we could hard-code the value as a last resort. Their library versioning scheme also corresponds to `package-version.txt`, but I doubt that's reliable.\n\nDetecting the system copy should be relatively easy in comparison. Unless there's a way to install multiple copies into the system libdir, we can use `find` to pick out what is hopefully the only copy of `cygSingular*.dll` during `./configure`.",
    "created_at": "2021-11-29T20:45:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532358",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:12" align="right">Comment 12</div>

The SPKG won't be installed yet, so we can't read `local/lib/libSingular.dll.a` to obtain the necessary path during `./configure.` For the SPKG, we could hard-code the value as a last resort. Their library versioning scheme also corresponds to `package-version.txt`, but I doubt that's reliable.

Detecting the system copy should be relatively easy in comparison. Unless there's a way to install multiple copies into the system libdir, we can use `find` to pick out what is hopefully the only copy of `cygSingular*.dll` during `./configure`.



---

archive/issue_comments_532359.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nIt would probably be a good idea to first test whether this whole symbol visibility issue is even a thing on Cygwin.",
    "created_at": "2021-11-29T20:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532359",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:13" align="right">Comment 13</div>

It would probably be a good idea to first test whether this whole symbol visibility issue is even a thing on Cygwin.



---

archive/issue_comments_532360.json:
```json
{
    "body": "Branch: **[u/mkoeppe/fix_spkg_configure_m4_for_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_spkg_configure_m4_for_singular)**",
    "created_at": "2021-11-29T21:04:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532360",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/fix_spkg_configure_m4_for_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_spkg_configure_m4_for_singular)**



---

archive/issue_comments_532361.json:
```json
{
    "body": "Dependencies: **#32944, #32945**",
    "created_at": "2021-11-29T21:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532361",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32944, #32945**



---

archive/issue_comments_532362.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47a6598471e55e4084a211a088ff0d9150a6f558\">47a6598</a></td><td><code>src/sage/libs/singular/singular.pyx: On Cygwin, do not try to make singular library symbols global</code></td></tr></table>\n",
    "created_at": "2021-11-29T21:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532362",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:15" align="right">Comment 15</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47a6598471e55e4084a211a088ff0d9150a6f558">47a6598</a></td><td><code>src/sage/libs/singular/singular.pyx: On Cygwin, do not try to make singular library symbols global</code></td></tr></table>




---

archive/issue_comments_532363.json:
```json
{
    "body": "Commit: **[47a6598](https://github.com/sagemath/sagetrac-mirror/commit/47a6598471e55e4084a211a088ff0d9150a6f558)**",
    "created_at": "2021-11-29T21:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532363",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[47a6598](https://github.com/sagemath/sagetrac-mirror/commit/47a6598471e55e4084a211a088ff0d9150a6f558)**



---

archive/issue_comments_532364.json:
```json
{
    "body": "Changed commit from **[47a6598](https://github.com/sagemath/sagetrac-mirror/commit/47a6598471e55e4084a211a088ff0d9150a6f558)** to **[d14d0af](https://github.com/sagemath/sagetrac-mirror/commit/d14d0af891584e93c478fe71a91ef26f17a08962)**",
    "created_at": "2021-11-29T21:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532364",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[47a6598](https://github.com/sagemath/sagetrac-mirror/commit/47a6598471e55e4084a211a088ff0d9150a6f558)** to **[d14d0af](https://github.com/sagemath/sagetrac-mirror/commit/d14d0af891584e93c478fe71a91ef26f17a08962)**



---

archive/issue_comments_532365.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbb8228e04a410aac7990db34e57fb29fa2103d0\">fbb8228</a></td><td><code>build/bin/sage-build-env: Do not use SETUPTOOLS_USE_DISTUTILS=local on platforms other than homebrew</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5481d684f43293af9521d1fd51c6e5e2ec4f415\">d5481d6</a></td><td><code>Merge #32944</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/28e4fc6526ee0543cb94ac7481a68cd998281d8b\">28e4fc6</a></td><td><code>build/pkgs/pip/patches: Add upstream PR 10574</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b6ac2c509583c32bd006353f14203037bf95618\">1b6ac2c</a></td><td><code>build/pkgs/pip/patches/10574.patch: Backport to 21.3.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3a6fc38811ff3480724d27fc18f890a409592e8\">d3a6fc3</a></td><td><code>build/pkgs/pip: Update to 21.3.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b001a2f65b0c052081333f928e729ddfedf0b81\">5b001a2</a></td><td><code>build/bin/sage-dist-helpers: Remove '--use-feature=in-tree-build' (default since pip 21.3)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1f475998ce77ab6dbaa9d5bd6b683fa7ebfd60e\">f1f4759</a></td><td><code>build/pkgs/distlib: Update to 0.3.3</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/760ff0952d4f461e5f3b67ee8c5aceacc287f23e\">760ff09</a></td><td><code>Merge #32751</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8400f719f46f046cd12a781d6dc16f43e92a100\">f8400f7</a></td><td><code>Merge #32671</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d14d0af891584e93c478fe71a91ef26f17a08962\">d14d0af</a></td><td><code>Merge #32945</code></td></tr></table>\n",
    "created_at": "2021-11-29T21:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532365",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbb8228e04a410aac7990db34e57fb29fa2103d0">fbb8228</a></td><td><code>build/bin/sage-build-env: Do not use SETUPTOOLS_USE_DISTUTILS=local on platforms other than homebrew</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5481d684f43293af9521d1fd51c6e5e2ec4f415">d5481d6</a></td><td><code>Merge #32944</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/28e4fc6526ee0543cb94ac7481a68cd998281d8b">28e4fc6</a></td><td><code>build/pkgs/pip/patches: Add upstream PR 10574</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b6ac2c509583c32bd006353f14203037bf95618">1b6ac2c</a></td><td><code>build/pkgs/pip/patches/10574.patch: Backport to 21.3.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3a6fc38811ff3480724d27fc18f890a409592e8">d3a6fc3</a></td><td><code>build/pkgs/pip: Update to 21.3.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b001a2f65b0c052081333f928e729ddfedf0b81">5b001a2</a></td><td><code>build/bin/sage-dist-helpers: Remove '--use-feature=in-tree-build' (default since pip 21.3)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1f475998ce77ab6dbaa9d5bd6b683fa7ebfd60e">f1f4759</a></td><td><code>build/pkgs/distlib: Update to 0.3.3</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/760ff0952d4f461e5f3b67ee8c5aceacc287f23e">760ff09</a></td><td><code>Merge #32751</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8400f719f46f046cd12a781d6dc16f43e92a100">f8400f7</a></td><td><code>Merge #32671</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d14d0af891584e93c478fe71a91ef26f17a08962">d14d0af</a></td><td><code>Merge #32945</code></td></tr></table>




---

archive/issue_comments_532366.json:
```json
{
    "body": "Changed commit from **[d14d0af](https://github.com/sagemath/sagetrac-mirror/commit/d14d0af891584e93c478fe71a91ef26f17a08962)** to **[377df35](https://github.com/sagemath/sagetrac-mirror/commit/377df3553e8be697de6210497d10f39d16bfd7e0)**",
    "created_at": "2021-11-29T21:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532366",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d14d0af](https://github.com/sagemath/sagetrac-mirror/commit/d14d0af891584e93c478fe71a91ef26f17a08962)** to **[377df35](https://github.com/sagemath/sagetrac-mirror/commit/377df3553e8be697de6210497d10f39d16bfd7e0)**



---

archive/issue_comments_532367.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/377df3553e8be697de6210497d10f39d16bfd7e0\">377df35</a></td><td><code>src/sage/libs/singular/singular.pyx: Fixup</code></td></tr></table>\n",
    "created_at": "2021-11-29T21:07:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532367",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/377df3553e8be697de6210497d10f39d16bfd7e0">377df35</a></td><td><code>src/sage/libs/singular/singular.pyx: Fixup</code></td></tr></table>




---

archive/issue_comments_532368.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nI've put this on top of other Cygwin fixes for convenience of testing",
    "created_at": "2021-11-29T21:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532368",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">Comment 18</div>

I've put this on top of other Cygwin fixes for convenience of testing



---

archive/issue_comments_532369.json:
```json
{
    "body": "Reviewer: **https://github.com/sagemath/sagetrac-mirror/actions/runs/1517921823**",
    "created_at": "2021-11-29T21:11:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532369",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/sagemath/sagetrac-mirror/actions/runs/1517921823**



---

archive/issue_comments_532370.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nHm, the test with `CYGWIN_VERSION` does not seem to have worked\nhttps://github.com/sagemath/sagetrac-mirror/runs/4371131888?check_suite_focus=true",
    "created_at": "2021-11-30T21:18:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532370",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">Comment 20</div>

Hm, the test with `CYGWIN_VERSION` does not seem to have worked
https://github.com/sagemath/sagetrac-mirror/runs/4371131888?check_suite_focus=true



---

archive/issue_comments_532371.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33d7d120081feb5a0e199ec46c1003cf4a079824\">33d7d12</a></td><td><code>src/sage/libs/singular/singular.pyx: Use platform.system instead of sage.env.CYGWIN_VERSION</code></td></tr></table>\n",
    "created_at": "2021-11-30T21:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532371",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33d7d120081feb5a0e199ec46c1003cf4a079824">33d7d12</a></td><td><code>src/sage/libs/singular/singular.pyx: Use platform.system instead of sage.env.CYGWIN_VERSION</code></td></tr></table>




---

archive/issue_comments_532372.json:
```json
{
    "body": "Changed commit from **[377df35](https://github.com/sagemath/sagetrac-mirror/commit/377df3553e8be697de6210497d10f39d16bfd7e0)** to **[33d7d12](https://github.com/sagemath/sagetrac-mirror/commit/33d7d120081feb5a0e199ec46c1003cf4a079824)**",
    "created_at": "2021-11-30T21:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532372",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[377df35](https://github.com/sagemath/sagetrac-mirror/commit/377df3553e8be697de6210497d10f39d16bfd7e0)** to **[33d7d12](https://github.com/sagemath/sagetrac-mirror/commit/33d7d120081feb5a0e199ec46c1003cf4a079824)**



---

archive/issue_comments_532373.json:
```json
{
    "body": "Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1517921823** to **https://github.com/sagemath/sagetrac-mirror/actions/runs/1523079928**",
    "created_at": "2021-11-30T21:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532373",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1517921823** to **https://github.com/sagemath/sagetrac-mirror/actions/runs/1523079928**



---

archive/issue_comments_532374.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3d4f91b09d4f1e7b998fe9fb056657ac6e7cbdb9\">3d4f91b</a></td><td><code>src/sage/env.py: Remove unused/defunct variable CYGWIN_VERSION</code></td></tr></table>\n",
    "created_at": "2021-11-30T22:01:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532374",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3d4f91b09d4f1e7b998fe9fb056657ac6e7cbdb9">3d4f91b</a></td><td><code>src/sage/env.py: Remove unused/defunct variable CYGWIN_VERSION</code></td></tr></table>




---

archive/issue_comments_532375.json:
```json
{
    "body": "Changed commit from **[33d7d12](https://github.com/sagemath/sagetrac-mirror/commit/33d7d120081feb5a0e199ec46c1003cf4a079824)** to **[3d4f91b](https://github.com/sagemath/sagetrac-mirror/commit/3d4f91b09d4f1e7b998fe9fb056657ac6e7cbdb9)**",
    "created_at": "2021-11-30T22:01:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532375",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[33d7d12](https://github.com/sagemath/sagetrac-mirror/commit/33d7d120081feb5a0e199ec46c1003cf4a079824)** to **[3d4f91b](https://github.com/sagemath/sagetrac-mirror/commit/3d4f91b09d4f1e7b998fe9fb056657ac6e7cbdb9)**



---

archive/issue_comments_532376.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/fix_spkg_configure_m4_for_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_spkg_configure_m4_for_singular)** to none",
    "created_at": "2021-12-01T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532376",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/mkoeppe/fix_spkg_configure_m4_for_singular](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/fix_spkg_configure_m4_for_singular)** to none



---

archive/issue_comments_532377.json:
```json
{
    "body": "Changed commit from **[3d4f91b](https://github.com/sagemath/sagetrac-mirror/commit/3d4f91b09d4f1e7b998fe9fb056657ac6e7cbdb9)** to none",
    "created_at": "2021-12-01T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532377",
    "user": "https://github.com/mkoeppe"
}
```

Changed commit from **[3d4f91b](https://github.com/sagemath/sagetrac-mirror/commit/3d4f91b09d4f1e7b998fe9fb056657ac6e7cbdb9)** to none



---

archive/issue_comments_532378.json:
```json
{
    "body": "Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1523079928** to none",
    "created_at": "2021-12-01T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532378",
    "user": "https://github.com/mkoeppe"
}
```

Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1523079928** to none



---

archive/issue_comments_532379.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,14 +22,3 @@\n ```\n \n \n-Also broken on Cygwin (with singular from SPKG, as the cygwin-provided Singular is too old and is correctly rejected), as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:\n-\n-```\n-  [sagemath_doc_html-none]     File \"sage/libs/singular/singular.pyx\", line 1555, in init sage.libs.singular.singular (build/cythonized/sage/libs/singular/singular.cpp:15622)\n-  [sagemath_doc_html-none]     File \"sage/libs/singular/singular.pyx\", line 1530, in sage.libs.singular.singular.init_libsingular (build/cythonized/sage/libs/singular/singular.cpp:12925)\n-  [sagemath_doc_html-none]   ImportError: cannot load Singular library from /home/s/sage9n/local/bin/libSingular.dll (b'No such file or directory')\n-  [sagemath_doc_html-none]   Error: './sage --docbuild --all-documents' failed\n-```\n-\n-\n-\n``````\n",
    "created_at": "2021-12-01T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532379",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,14 +22,3 @@
 ```
 
 
-Also broken on Cygwin (with singular from SPKG, as the cygwin-provided Singular is too old and is correctly rejected), as reported in https://groups.google.com/g/sage-release/c/FXpakLURP_0/m/La20cB4rBgAJ:
-
-```
-  [sagemath_doc_html-none]     File "sage/libs/singular/singular.pyx", line 1555, in init sage.libs.singular.singular (build/cythonized/sage/libs/singular/singular.cpp:15622)
-  [sagemath_doc_html-none]     File "sage/libs/singular/singular.pyx", line 1530, in sage.libs.singular.singular.init_libsingular (build/cythonized/sage/libs/singular/singular.cpp:12925)
-  [sagemath_doc_html-none]   ImportError: cannot load Singular library from /home/s/sage9n/local/bin/libSingular.dll (b'No such file or directory')
-  [sagemath_doc_html-none]   Error: './sage --docbuild --all-documents' failed
-```
-
-
-
``````




---

archive/issue_comments_532380.json:
```json
{
    "body": "Changed dependencies from **#32944, #32945** to none",
    "created_at": "2021-12-01T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532380",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32944, #32945** to none



---

archive/issue_events_433236.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-01T17:50:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433236"
}
```



---

archive/issue_events_433237.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-01T17:50:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433237"
}
```



---

archive/issue_comments_532381.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI've split out the cygwin issue to #32954, ready for review",
    "created_at": "2021-12-01T17:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532381",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:24" align="right">Comment 24</div>

I've split out the cygwin issue to #32954, ready for review



---

archive/issue_comments_532382.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nCurrently on all `ubuntu` including `-jammy`, singular's dependency `cddlib` is rejected - so there's no urgency here",
    "created_at": "2021-12-23T19:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532382",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">Comment 25</div>

Currently on all `ubuntu` including `-jammy`, singular's dependency `cddlib` is rejected - so there's no urgency here



---

archive/issue_events_433238.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T19:51:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433238"
}
```



---

archive/issue_events_433239.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T19:51:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433239"
}
```



---

archive/issue_events_433240.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T19:51:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433240"
}
```



---

archive/issue_events_433241.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-23T19:51:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433241"
}
```



---

archive/issue_comments_532383.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@mkoeppe](#comment%3A25):\n> Currently on all `ubuntu` including `-jammy`, singular's dependency `cddlib` is rejected - so there's no urgency here\n\nI didn't get that. Is there something that needs to be changed in a Debian package?",
    "created_at": "2021-12-24T12:29:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532383",
    "user": "https://github.com/tobihan"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@mkoeppe](#comment%3A25):
> Currently on all `ubuntu` including `-jammy`, singular's dependency `cddlib` is rejected - so there's no urgency here

I didn't get that. Is there something that needs to be changed in a Debian package?



---

archive/issue_comments_532384.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nReplying to [@tobihan](#comment%3A26):\n> Replying to [@mkoeppe](#comment%3A25):\n> > Currently on all `ubuntu` including `-jammy`, singular's dependency `cddlib` is rejected - so there's no urgency here\n\n> \n> I didn't get that. Is there something that needs to be changed in a Debian package?\n\nYes, I think Debian's `cddlib` needs upgrading to 0.94m (see https://repology.org/project/cddlib/versions)",
    "created_at": "2021-12-25T19:50:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532384",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:27" align="right">Comment 27</div>

Replying to [@tobihan](#comment%3A26):
> Replying to [@mkoeppe](#comment%3A25):
> > Currently on all `ubuntu` including `-jammy`, singular's dependency `cddlib` is rejected - so there's no urgency here

> 
> I didn't get that. Is there something that needs to be changed in a Debian package?

Yes, I think Debian's `cddlib` needs upgrading to 0.94m (see https://repology.org/project/cddlib/versions)



---

archive/issue_comments_532385.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nReplying to [@mkoeppe](#comment%3A27):\n> Yes, I think Debian's `cddlib` needs upgrading to 0.94m (see https://repology.org/project/cddlib/versions)\n\nOk, done.",
    "created_at": "2021-12-29T13:25:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532385",
    "user": "https://github.com/tobihan"
}
```

<div id="comment:28" align="right">Comment 28</div>

Replying to [@mkoeppe](#comment%3A27):
> Yes, I think Debian's `cddlib` needs upgrading to 0.94m (see https://repology.org/project/cddlib/versions)

Ok, done.



---

archive/issue_comments_532386.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@tobihan](#comment%3A28):\n> Replying to [@mkoeppe](#comment%3A27):\n> > Yes, I think Debian's `cddlib` needs upgrading to 0.94m (see https://repology.org/project/cddlib/versions)\n\n> \n> Ok, done.\n\nGreat. `tox -e docker-ubuntu-jammy-standard -- config.status` now gives:\n\n```\nChecking whether SageMath should install SPKG singular...\nchecking whether any of gmp ntl flint readline mpfr cddlib is installed as or will be installed as SPKG... no\nchecking for Singular... /usr/bin/Singular\nchecking for Singular >= 4.1.1... yes\nchecking if we can dlopen(/usr/lib/x86_64-linux-gnu/libSingular.so)... no\nconfigure: no suitable system package found for SPKG singular\n```\n\nSo it makes sense now to work on the present ticket.",
    "created_at": "2021-12-30T01:26:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532386",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@tobihan](#comment%3A28):
> Replying to [@mkoeppe](#comment%3A27):
> > Yes, I think Debian's `cddlib` needs upgrading to 0.94m (see https://repology.org/project/cddlib/versions)

> 
> Ok, done.

Great. `tox -e docker-ubuntu-jammy-standard -- config.status` now gives:

```
Checking whether SageMath should install SPKG singular...
checking whether any of gmp ntl flint readline mpfr cddlib is installed as or will be installed as SPKG... no
checking for Singular... /usr/bin/Singular
checking for Singular >= 4.1.1... yes
checking if we can dlopen(/usr/lib/x86_64-linux-gnu/libSingular.so)... no
configure: no suitable system package found for SPKG singular
```

So it makes sense now to work on the present ticket.



---

archive/issue_events_433242.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-26T16:35:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433242"
}
```



---

archive/issue_events_433243.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-26T16:35:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433243"
}
```



---

archive/issue_comments_532387.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nChanging to critical in view of #33139.",
    "created_at": "2022-01-26T16:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532387",
    "user": "https://github.com/slel"
}
```

<div id="comment:30" align="right">Comment 30</div>

Changing to critical in view of #33139.



---

archive/issue_comments_532388.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nWhat does this have to do with a docbuild failure?",
    "created_at": "2022-01-26T16:48:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532388",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:31" align="right">Comment 31</div>

What does this have to do with a docbuild failure?



---

archive/issue_events_433244.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-26T20:25:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p2%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433244"
}
```



---

archive/issue_events_433245.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2022-01-26T20:25:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433245"
}
```



---

archive/issue_comments_532389.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nRight, the link with singular was ruled out\nin [#32954 comment:8](https://github.com/sagemath/sage/issues/32954#comment:8).\n\nSorry for the noise.",
    "created_at": "2022-01-26T20:25:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532389",
    "user": "https://github.com/slel"
}
```

<div id="comment:32" align="right">Comment 32</div>

Right, the link with singular was ruled out
in [#32954 comment:8](https://github.com/sagemath/sage/issues/32954#comment:8).

Sorry for the noise.



---

archive/issue_comments_532390.json:
```json
{
    "body": "Author: **Dima Pasechnik**",
    "created_at": "2022-02-11T12:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532390",
    "user": "https://github.com/dimpase"
}
```

Author: **Dima Pasechnik**



---

archive/issue_comments_532391.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nstill testing. the library on Debian is recognised, at least.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c94e0c5631add37043e97a4dea9e0b4362b92556\">c94e0c5</a></td><td><code>added test for libsingular-Singular</code></td></tr></table>\n",
    "created_at": "2022-02-11T12:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532391",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:33" align="right">Comment 33</div>

still testing. the library on Debian is recognised, at least.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c94e0c5631add37043e97a4dea9e0b4362b92556">c94e0c5</a></td><td><code>added test for libsingular-Singular</code></td></tr></table>




---

archive/issue_comments_532392.json:
```json
{
    "body": "Branch: **[u/dimpase/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/singular/libpath_fix)**",
    "created_at": "2022-02-11T12:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532392",
    "user": "https://github.com/dimpase"
}
```

Branch: **[u/dimpase/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/singular/libpath_fix)**



---

archive/issue_comments_532393.json:
```json
{
    "body": "Commit: **[c94e0c5](https://github.com/sagemath/sagetrac-mirror/commit/c94e0c5631add37043e97a4dea9e0b4362b92556)**",
    "created_at": "2022-02-11T12:58:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532393",
    "user": "https://github.com/dimpase"
}
```

Commit: **[c94e0c5](https://github.com/sagemath/sagetrac-mirror/commit/c94e0c5631add37043e97a4dea9e0b4362b92556)**



---

archive/issue_comments_532394.json:
```json
{
    "body": "Changed commit from **[c94e0c5](https://github.com/sagemath/sagetrac-mirror/commit/c94e0c5631add37043e97a4dea9e0b4362b92556)** to **[de16405](https://github.com/sagemath/sagetrac-mirror/commit/de1640511311c3a455587701c49ecd550f0949c5)**",
    "created_at": "2022-02-11T17:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c94e0c5](https://github.com/sagemath/sagetrac-mirror/commit/c94e0c5631add37043e97a4dea9e0b4362b92556)** to **[de16405](https://github.com/sagemath/sagetrac-mirror/commit/de1640511311c3a455587701c49ecd550f0949c5)**



---

archive/issue_comments_532395.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de1640511311c3a455587701c49ecd550f0949c5\">de16405</a></td><td><code>bump the minimal version to get polylib.lib</code></td></tr></table>\n",
    "created_at": "2022-02-11T17:11:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532395",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34" align="right">Comment 34</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de1640511311c3a455587701c49ecd550f0949c5">de16405</a></td><td><code>bump the minimal version to get polylib.lib</code></td></tr></table>




---

archive/issue_events_433246.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-11T17:21:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433246"
}
```



---

archive/issue_comments_532396.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nNeeds review. I suppose allowing Singular 4.1.1 was to be bumped up, as 4.1.1 doesn't actually have `polylib.lib` (it's called `poly.lib` there, but it's anyway too old, I think).",
    "created_at": "2022-02-11T17:21:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532396",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35" align="right">Comment 35</div>

Needs review. I suppose allowing Singular 4.1.1 was to be bumped up, as 4.1.1 doesn't actually have `polylib.lib` (it's called `poly.lib` there, but it's anyway too old, I think).



---

archive/issue_comments_532397.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nI actually checked that the branch allows using system Singular 4.1.1 on Debian 11, but then the result has test failures due to that `polylib.lib` absense.",
    "created_at": "2022-02-11T18:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532397",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">Comment 36</div>

I actually checked that the branch allows using system Singular 4.1.1 on Debian 11, but then the result has test failures due to that `polylib.lib` absense.



---

archive/issue_comments_532398.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nOK, this still correctly rejects singular on all ubuntu releases earlier than `jammy`.",
    "created_at": "2022-02-11T19:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532398",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:37" align="right">Comment 37</div>

OK, this still correctly rejects singular on all ubuntu releases earlier than `jammy`.



---

archive/issue_comments_532399.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nWith `TARGETS_PRE=build-local tox -e docker-ubuntu-jammy-standard -- build ptest` I see the following failures:\n\n```\nsage -t --random-seed=75077202530737540355693167266645487963 src/sage/interfaces/singular.py\n**********************************************************************\nFile \"src/sage/interfaces/singular.py\", line 2243, in sage.interfaces.singular.SingularFunction._instancedoc_\nFailed example:\n    'groebner' in singular.groebner.__doc__\nException raised:\n    Traceback (most recent call last):\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.singular.SingularFunction._instancedoc_[0]>\", line 1, in <module>\n        'groebner' in singular.groebner.__doc__\n      File \"sage/docs/instancedoc.pyx\", line 211, in sage.docs.instancedoc.InstanceDocDescriptor.__get__ (build/cythonized/sage/docs/instancedoc.c:1878)\n        return self.instancedoc(obj)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2247, in _instancedoc_\n        generate_docstring_dictionary()\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2337, in generate_docstring_dictionary\n        with io.open(singular_info_file,\n    TypeError: expected str, bytes or os.PathLike object, not NoneType\n**********************************************************************\nFile \"src/sage/interfaces/singular.py\", line 2283, in sage.interfaces.singular.SingularFunctionElement._instancedoc_\nFailed example:\n    'matrix_expression' in A.nrows.__doc__\nException raised:\n    Traceback (most recent call last):\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.singular.SingularFunctionElement._instancedoc_[2]>\", line 1, in <module>\n        'matrix_expression' in A.nrows.__doc__\n      File \"sage/docs/instancedoc.pyx\", line 211, in sage.docs.instancedoc.InstanceDocDescriptor.__get__ (build/cythonized/sage/docs/instancedoc.c:1878)\n        return self.instancedoc(obj)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2287, in _instancedoc_\n        generate_docstring_dictionary()\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2337, in generate_docstring_dictionary\n        with io.open(singular_info_file,\n    TypeError: expected str, bytes or os.PathLike object, not NoneType\n**********************************************************************\nFile \"src/sage/interfaces/singular.py\", line 2319, in sage.interfaces.singular.generate_docstring_dictionary\nFailed example:\n    generate_docstring_dictionary()\nException raised:\n    Traceback (most recent call last):\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.singular.generate_docstring_dictionary[1]>\", line 1, in <module>\n        generate_docstring_dictionary()\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2337, in generate_docstring_dictionary\n        with io.open(singular_info_file,\n    TypeError: expected str, bytes or os.PathLike object, not NoneType\n**********************************************************************\nFile \"src/sage/interfaces/singular.py\", line 2371, in sage.interfaces.singular.get_docstring\nFailed example:\n    'groebner' in get_docstring('groebner')\nException raised:\n    Traceback (most recent call last):\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.singular.get_docstring[1]>\", line 1, in <module>\n        'groebner' in get_docstring('groebner')\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2378, in get_docstring\n        generate_docstring_dictionary()\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2337, in generate_docstring_dictionary\n        with io.open(singular_info_file,\n    TypeError: expected str, bytes or os.PathLike object, not NoneType\n**********************************************************************\nFile \"src/sage/interfaces/singular.py\", line 2373, in sage.interfaces.singular.get_docstring\nFailed example:\n    'standard.lib' in get_docstring('groebner')\nException raised:\n    Traceback (most recent call last):\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.singular.get_docstring[2]>\", line 1, in <module>\n        'standard.lib' in get_docstring('groebner')\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2378, in get_docstring\n        generate_docstring_dictionary()\n      File \"/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py\", line 2337, in generate_docstring_dictionary\n        with io.open(singular_info_file,\n    TypeError: expected str, bytes or os.PathLike object, not NoneType\n**********************************************************************\n\nsage -t --random-seed=75077202530737540355693167266645487963 src/sage/libs/singular/singular.pyx\n**********************************************************************\nFile \"src/sage/libs/singular/singular.pyx\", line 1583, in sage.libs.singular.singular.get_resource\nFailed example:\n    get_resource('i')            # SINGULAR_INFO_FILE\nExpected:\n    '.../singular...'\nGot:\n    <BLANKLINE>\n**********************************************************************\n```\nand similar",
    "created_at": "2022-02-11T22:24:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532399",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:38" align="right">Comment 38</div>

With `TARGETS_PRE=build-local tox -e docker-ubuntu-jammy-standard -- build ptest` I see the following failures:

```
sage -t --random-seed=75077202530737540355693167266645487963 src/sage/interfaces/singular.py
**********************************************************************
File "src/sage/interfaces/singular.py", line 2243, in sage.interfaces.singular.SingularFunction._instancedoc_
Failed example:
    'groebner' in singular.groebner.__doc__
Exception raised:
    Traceback (most recent call last):
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.singular.SingularFunction._instancedoc_[0]>", line 1, in <module>
        'groebner' in singular.groebner.__doc__
      File "sage/docs/instancedoc.pyx", line 211, in sage.docs.instancedoc.InstanceDocDescriptor.__get__ (build/cythonized/sage/docs/instancedoc.c:1878)
        return self.instancedoc(obj)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2247, in _instancedoc_
        generate_docstring_dictionary()
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2337, in generate_docstring_dictionary
        with io.open(singular_info_file,
    TypeError: expected str, bytes or os.PathLike object, not NoneType
**********************************************************************
File "src/sage/interfaces/singular.py", line 2283, in sage.interfaces.singular.SingularFunctionElement._instancedoc_
Failed example:
    'matrix_expression' in A.nrows.__doc__
Exception raised:
    Traceback (most recent call last):
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.singular.SingularFunctionElement._instancedoc_[2]>", line 1, in <module>
        'matrix_expression' in A.nrows.__doc__
      File "sage/docs/instancedoc.pyx", line 211, in sage.docs.instancedoc.InstanceDocDescriptor.__get__ (build/cythonized/sage/docs/instancedoc.c:1878)
        return self.instancedoc(obj)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2287, in _instancedoc_
        generate_docstring_dictionary()
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2337, in generate_docstring_dictionary
        with io.open(singular_info_file,
    TypeError: expected str, bytes or os.PathLike object, not NoneType
**********************************************************************
File "src/sage/interfaces/singular.py", line 2319, in sage.interfaces.singular.generate_docstring_dictionary
Failed example:
    generate_docstring_dictionary()
Exception raised:
    Traceback (most recent call last):
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.singular.generate_docstring_dictionary[1]>", line 1, in <module>
        generate_docstring_dictionary()
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2337, in generate_docstring_dictionary
        with io.open(singular_info_file,
    TypeError: expected str, bytes or os.PathLike object, not NoneType
**********************************************************************
File "src/sage/interfaces/singular.py", line 2371, in sage.interfaces.singular.get_docstring
Failed example:
    'groebner' in get_docstring('groebner')
Exception raised:
    Traceback (most recent call last):
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.singular.get_docstring[1]>", line 1, in <module>
        'groebner' in get_docstring('groebner')
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2378, in get_docstring
        generate_docstring_dictionary()
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2337, in generate_docstring_dictionary
        with io.open(singular_info_file,
    TypeError: expected str, bytes or os.PathLike object, not NoneType
**********************************************************************
File "src/sage/interfaces/singular.py", line 2373, in sage.interfaces.singular.get_docstring
Failed example:
    'standard.lib' in get_docstring('groebner')
Exception raised:
    Traceback (most recent call last):
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.singular.get_docstring[2]>", line 1, in <module>
        'standard.lib' in get_docstring('groebner')
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2378, in get_docstring
        generate_docstring_dictionary()
      File "/sage/local/var/lib/sage/venv-python3.9/lib/python3.9/site-packages/sage/interfaces/singular.py", line 2337, in generate_docstring_dictionary
        with io.open(singular_info_file,
    TypeError: expected str, bytes or os.PathLike object, not NoneType
**********************************************************************

sage -t --random-seed=75077202530737540355693167266645487963 src/sage/libs/singular/singular.pyx
**********************************************************************
File "src/sage/libs/singular/singular.pyx", line 1583, in sage.libs.singular.singular.get_resource
Failed example:
    get_resource('i')            # SINGULAR_INFO_FILE
Expected:
    '.../singular...'
Got:
    <BLANKLINE>
**********************************************************************
```
and similar



---

archive/issue_events_433247.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-11T22:24:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433247"
}
```



---

archive/issue_events_433248.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-11T22:24:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433248"
}
```



---

archive/issue_comments_532400.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nthis appears to be fixed by \n\n```\nexport SINGULAR_INFO_FILE=/usr/share/doc/singular/singular.hlp\n```\nbefore starting Sage. After this, instead of\n\n```\nsage: from sage.libs.singular.singular import get_resource\nsage: get_resource('i')\n// ** Could not get 'InfoFile'.\n// ** Either set environment variable 'SINGULAR_INFO_FILE' to 'InfoFile',\n// ** or make sure that 'InfoFile' is at \"/usr/bin/../share/info/singular.hlp\"\n```\none gets, as it should be:\n\n```\nsage: from sage.libs.singular.singular import get_resource\nsage: get_resource('i')\n'/usr/share/doc/singular/singular.hlp'\n```\nThe latter needs `singular-doc` installed, so it must be added to\n`build/pkgs/singular/distros/debian.txt`.",
    "created_at": "2022-02-12T10:16:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532400",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">Comment 39</div>

this appears to be fixed by 

```
export SINGULAR_INFO_FILE=/usr/share/doc/singular/singular.hlp
```
before starting Sage. After this, instead of

```
sage: from sage.libs.singular.singular import get_resource
sage: get_resource('i')
// ** Could not get 'InfoFile'.
// ** Either set environment variable 'SINGULAR_INFO_FILE' to 'InfoFile',
// ** or make sure that 'InfoFile' is at "/usr/bin/../share/info/singular.hlp"
```
one gets, as it should be:

```
sage: from sage.libs.singular.singular import get_resource
sage: get_resource('i')
'/usr/share/doc/singular/singular.hlp'
```
The latter needs `singular-doc` installed, so it must be added to
`build/pkgs/singular/distros/debian.txt`.



---

archive/issue_comments_532401.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2022-02-12T10:46:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532401",
    "user": "https://github.com/dimpase"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_532402.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nShould be fixed by\n\n```diff\n--- a/src/sage/libs/singular/singular.pyx\n+++ b/src/sage/libs/singular/singular.pyx\n@@ -1587,5 +1587,8 @@ def get_resource(id):\n     \"\"\"\n     cdef char *result = feGetResource(<char>ord(id))\n     if result == NULL:\n-        return None\n+        os.environ['SINGULAR_INFO_FILE']='/usr/share/doc/singular/singular.hlp'\n+        result = feGetResource(<char>ord(id))\n+        if result == NULL:\n+            return None\n     return bytes_to_str(result)\n```",
    "created_at": "2022-02-12T10:57:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532402",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:41" align="right">Comment 41</div>

Should be fixed by

```diff
--- a/src/sage/libs/singular/singular.pyx
+++ b/src/sage/libs/singular/singular.pyx
@@ -1587,5 +1587,8 @@ def get_resource(id):
     """
     cdef char *result = feGetResource(<char>ord(id))
     if result == NULL:
-        return None
+        os.environ['SINGULAR_INFO_FILE']='/usr/share/doc/singular/singular.hlp'
+        result = feGetResource(<char>ord(id))
+        if result == NULL:
+            return None
     return bytes_to_str(result)
```



---

archive/issue_comments_532403.json:
```json
{
    "body": "Changed commit from **[de16405](https://github.com/sagemath/sagetrac-mirror/commit/de1640511311c3a455587701c49ecd550f0949c5)** to **[cb82ed0](https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7)**",
    "created_at": "2022-02-12T11:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532403",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[de16405](https://github.com/sagemath/sagetrac-mirror/commit/de1640511311c3a455587701c49ecd550f0949c5)** to **[cb82ed0](https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7)**



---

archive/issue_comments_532404.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7\">cb82ed0</a></td><td><code>make singular.hlp known to Sage for Debian Singular</code></td></tr></table>\n",
    "created_at": "2022-02-12T11:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532404",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42" align="right">Comment 42</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7">cb82ed0</a></td><td><code>make singular.hlp known to Sage for Debian Singular</code></td></tr></table>




---

archive/issue_events_433249.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-12T11:01:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433249"
}
```



---

archive/issue_events_433250.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-12T11:01:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433250"
}
```



---

archive/issue_comments_532405.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nAll !Debian/Ubuntu Singular 4.2.1 packages are  broken, some of them do not install the needed .hlp file at all.",
    "created_at": "2022-02-12T16:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532405",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:44" align="right">Comment 44</div>

All !Debian/Ubuntu Singular 4.2.1 packages are  broken, some of them do not install the needed .hlp file at all.



---

archive/issue_comments_532406.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2022-02-12T16:08:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532406",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_532407.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nReplying to [@sagetrac-git](#comment%3A42):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7\">cb82ed0</a></td><td><code>make singular.hlp known to Sage for Debian Singular</code></td></tr></table>\n\nI don't think we should have this in our code",
    "created_at": "2022-02-12T16:51:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532407",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">Comment 45</div>

Replying to [@sagetrac-git](#comment%3A42):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7">cb82ed0</a></td><td><code>make singular.hlp known to Sage for Debian Singular</code></td></tr></table>

I don't think we should have this in our code



---

archive/issue_comments_532408.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nProbably best to wait until there's a suitable version packaged",
    "created_at": "2022-02-12T16:52:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532408",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">Comment 46</div>

Probably best to wait until there's a suitable version packaged



---

archive/issue_events_433251.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T16:52:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433251"
}
```



---

archive/issue_events_433252.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T16:52:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433252"
}
```



---

archive/issue_comments_532409.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nindeed, there are no packages that work for us atm.",
    "created_at": "2022-02-12T19:03:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532409",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:47" align="right">Comment 47</div>

indeed, there are no packages that work for us atm.



---

archive/issue_comments_532410.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nIt seems that actually something either goes wrong with dpkg in Ubuntu Jammy, or something is wrong in my Docker setup, but\ninstalling singular-doc Ubuntu package results in many (most) missing files.\nIn particular the crucial file \"singular.info\" is missing.",
    "created_at": "2022-02-12T23:00:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532410",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:48" align="right">Comment 48</div>

It seems that actually something either goes wrong with dpkg in Ubuntu Jammy, or something is wrong in my Docker setup, but
installing singular-doc Ubuntu package results in many (most) missing files.
In particular the crucial file "singular.info" is missing.



---

archive/issue_comments_532411.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\nDisturbingly, while on my Jammy Docker installing singular-doc leads to missing files,\ninstalling the same package on another (\"real\") Ubuntu system works.\nSo this might be Docker-specific :-(",
    "created_at": "2022-02-12T23:38:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532411",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:50" align="right">Comment 50</div>

Disturbingly, while on my Jammy Docker installing singular-doc leads to missing files,
installing the same package on another ("real") Ubuntu system works.
So this might be Docker-specific :-(



---

archive/issue_comments_532412.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nYou can use `docker system prune --all` to get rid of bad stuff in the cache",
    "created_at": "2022-02-13T00:46:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532412",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:51" align="right">Comment 51</div>

You can use `docker system prune --all` to get rid of bad stuff in the cache



---

archive/issue_comments_532413.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\ncache? No, it's worse, it's `dpkg -i` which does not do the job. \n\nIf I take the same .deb file, unpack it using `ar x` and manually install `data.tar.zst` using tar (one might have to install `zstd` first, to do un-compression), *all* the files from the package get installed.",
    "created_at": "2022-02-13T00:51:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532413",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:52" align="right">Comment 52</div>

cache? No, it's worse, it's `dpkg -i` which does not do the job. 

If I take the same .deb file, unpack it using `ar x` and manually install `data.tar.zst` using tar (one might have to install `zstd` first, to do un-compression), *all* the files from the package get installed.



---

archive/issue_comments_532414.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nFurther inspection shows that the problem is in the official !Ubuntu/Jammy Docker image. Both official Ubuntu's and Debian \n`singular-doc_4.2.1-p3+ds-1_all.deb` files exhibit the same error (apt used dpkg to install files .deb files, and the same error shows up if installation is done by `dpkg -i singular-doc_4.2.1-p3+ds-1_all.deb`).\n\nCould you check it's not only my Docker that plays up here? Steps to reproduce: \n\n* launch official Jammy image\n\n* get shell prompt there\n\n* run \n\n```\napt install singular-doc\ndpkg -V singular-doc\n```\n\nThe latter command should not output anything - but for me it outputs a log of missing files.\n\n\n\nIn !Debian/Bookworm image, which carries the same singular-doc version, everything is fine.\n\nPS. It would be good to check on a non-Docker installation of Jammy, too.",
    "created_at": "2022-02-13T08:45:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532414",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:53" align="right">Comment 53</div>

Further inspection shows that the problem is in the official !Ubuntu/Jammy Docker image. Both official Ubuntu's and Debian 
`singular-doc_4.2.1-p3+ds-1_all.deb` files exhibit the same error (apt used dpkg to install files .deb files, and the same error shows up if installation is done by `dpkg -i singular-doc_4.2.1-p3+ds-1_all.deb`).

Could you check it's not only my Docker that plays up here? Steps to reproduce: 

* launch official Jammy image

* get shell prompt there

* run 

```
apt install singular-doc
dpkg -V singular-doc
```

The latter command should not output anything - but for me it outputs a log of missing files.



In !Debian/Bookworm image, which carries the same singular-doc version, everything is fine.

PS. It would be good to check on a non-Docker installation of Jammy, too.



---

archive/issue_comments_532415.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nWe can go forward with this ticker (at least in Debian unstable it will be working) - but we will want a test to check that Singular docs work out of the box.\nOn a working system\n\n```\n# echo \"help;\" | Singular | grep error\n```\ndoes not return anything. On a broken one, one sees\n\n```\n# echo \"help;\" | Singular | grep error\n   ? No functioning help browser available.\n   ? error occurred in or before STDIN line 1: `help;`\n```",
    "created_at": "2022-02-13T08:49:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532415",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:54" align="right">Comment 54</div>

We can go forward with this ticker (at least in Debian unstable it will be working) - but we will want a test to check that Singular docs work out of the box.
On a working system

```
# echo "help;" | Singular | grep error
```
does not return anything. On a broken one, one sees

```
# echo "help;" | Singular | grep error
   ? No functioning help browser available.
   ? error occurred in or before STDIN line 1: `help;`
```



---

archive/issue_comments_532416.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">Comment 55</div>\n\nReplying to [@mkoeppe](#comment%3A45):\n> Replying to [@sagetrac-git](#comment%3A42):\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n\n> |                                                                                                                                                 |                                                     |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|\n> |[cb82ed0](https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7)|`make singular.hlp known to Sage for Debian Singular`|\n> \n> I don't think we should have this in our code\n\nindeed, I'll remove it.",
    "created_at": "2022-02-13T08:49:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532416",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:55" align="right">Comment 55</div>

Replying to [@mkoeppe](#comment%3A45):
> Replying to [@sagetrac-git](#comment%3A42):
> > Branch pushed to git repo; I updated commit sha1. New commits:

> |                                                                                                                                                 |                                                     |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------|
> |[cb82ed0](https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7)|`make singular.hlp known to Sage for Debian Singular`|
> 
> I don't think we should have this in our code

indeed, I'll remove it.



---

archive/issue_comments_532417.json:
```json
{
    "body": "Changed commit from **[cb82ed0](https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7)** to **[45f1b19](https://github.com/sagemath/sagetrac-mirror/commit/45f1b198b3e5ff000ef9627bfb89a71b4522eda2)**",
    "created_at": "2022-02-13T10:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532417",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cb82ed0](https://github.com/sagemath/sagetrac-mirror/commit/cb82ed03d722e8e1e1a8fb6e8a0320c28f8a3ea7)** to **[45f1b19](https://github.com/sagemath/sagetrac-mirror/commit/45f1b198b3e5ff000ef9627bfb89a71b4522eda2)**



---

archive/issue_comments_532418.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/45f1b198b3e5ff000ef9627bfb89a71b4522eda2\">45f1b19</a></td><td><code>make sure Singular help works</code></td></tr></table>\n",
    "created_at": "2022-02-13T10:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532418",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57" align="right">Comment 57</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/45f1b198b3e5ff000ef9627bfb89a71b4522eda2">45f1b19</a></td><td><code>make sure Singular help works</code></td></tr></table>




---

archive/issue_events_433253.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-13T10:18:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433253"
}
```



---

archive/issue_events_433254.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2022-02-13T10:18:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433254"
}
```



---

archive/issue_comments_532419.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\nthis should pick up system Singular on Debian/bookworm and sid.\n(and reject broken one on Jammy)",
    "created_at": "2022-02-13T10:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532419",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:58" align="right">Comment 58</div>

this should pick up system Singular on Debian/bookworm and sid.
(and reject broken one on Jammy)



---

archive/issue_comments_532420.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nBy the way, I see the same Jammy failure with singular-doc in Podman running on Fedora, as I see with Docker on macOS.\nSo it really points at a faulty image. Or it's fault in OS itself, for this one needs a non-!Docker/Podman test.",
    "created_at": "2022-02-13T11:22:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532420",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:59" align="right">Comment 59</div>

By the way, I see the same Jammy failure with singular-doc in Podman running on Fedora, as I see with Docker on macOS.
So it really points at a faulty image. Or it's fault in OS itself, for this one needs a non-!Docker/Podman test.



---

archive/issue_comments_532421.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\nEverything is fine in Jammy run in an lxc container, so that's really !Docker/Podman.\nI filed https://github.com/tianon/docker-brew-ubuntu-core/issues/230",
    "created_at": "2022-02-13T12:22:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532421",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:60" align="right">Comment 60</div>

Everything is fine in Jammy run in an lxc container, so that's really !Docker/Podman.
I filed https://github.com/tianon/docker-brew-ubuntu-core/issues/230



---

archive/issue_comments_532422.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Reported upstream. No feedback yet.**",
    "created_at": "2022-02-13T12:22:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532422",
    "user": "https://github.com/dimpase"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Reported upstream. No feedback yet.**



---

archive/issue_comments_532423.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">Comment 61</div>\n\nI'm told it's Jammy Ubuntu feature, not a bug, here:\nhttps://bugs.launchpad.net/ubuntu/+source/dpkg/+bug/1960749",
    "created_at": "2022-02-13T20:13:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532423",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:61" align="right">Comment 61</div>

I'm told it's Jammy Ubuntu feature, not a bug, here:
https://bugs.launchpad.net/ubuntu/+source/dpkg/+bug/1960749



---

archive/issue_comments_532424.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nBizarre, so this means we need to add a test for the availability of the info file to `spkg-configure.m4`.",
    "created_at": "2022-02-13T20:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532424",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:62" align="right">Comment 62</div>

Bizarre, so this means we need to add a test for the availability of the info file to `spkg-configure.m4`.



---

archive/issue_comments_532425.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nOh, I see you already did this in 45f1b19",
    "created_at": "2022-02-13T20:30:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532425",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">Comment 63</div>

Oh, I see you already did this in 45f1b19



---

archive/issue_comments_532426.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nhttps://askubuntu.com/questions/1173337/how-to-prevent-system-from-being-minimized",
    "created_at": "2022-02-13T20:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532426",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:64" align="right">Comment 64</div>

https://askubuntu.com/questions/1173337/how-to-prevent-system-from-being-minimized



---

archive/issue_comments_532427.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nWe can certainly add this step to `build/bin/write-dockerfile.sh` for Debian/Ubuntu",
    "created_at": "2022-02-13T20:35:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532427",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:65" align="right">Comment 65</div>

We can certainly add this step to `build/bin/write-dockerfile.sh` for Debian/Ubuntu



---

archive/issue_comments_532428.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nUsing their `unminimize` command, I see\n\n```\nReinstalling packages with system documentation in /usr/share/doc/ ..\ndpkg-query: error: --search needs at least one file name pattern argument\n\nUse --help for help about querying packages.\n```\nClearly commercial-grade work there",
    "created_at": "2022-02-13T20:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532428",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:66" align="right">Comment 66</div>

Using their `unminimize` command, I see

```
Reinstalling packages with system documentation in /usr/share/doc/ ..
dpkg-query: error: --search needs at least one file name pattern argument

Use --help for help about querying packages.
```
Clearly commercial-grade work there



---

archive/issue_comments_532429.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/singular/libpath_fix)** to **[u/mkoeppe/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/singular/libpath_fix)**",
    "created_at": "2022-02-13T20:47:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532429",
    "user": "https://github.com/mkoeppe"
}
```

Changed branch from **[u/dimpase/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/singular/libpath_fix)** to **[u/mkoeppe/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/singular/libpath_fix)**



---

archive/issue_comments_532430.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nIt might be quicker just to remove the `exclude` policy - this won't trigger reinstallation of all the packages already there. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2\">c0ceaf5</a></td><td><code>build/bin/write-dockerfile.sh: Use unminimize</code></td></tr></table>\n",
    "created_at": "2022-02-13T21:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532430",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:68" align="right">Comment 68</div>

It might be quicker just to remove the `exclude` policy - this won't trigger reinstallation of all the packages already there. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2">c0ceaf5</a></td><td><code>build/bin/write-dockerfile.sh: Use unminimize</code></td></tr></table>




---

archive/issue_comments_532431.json:
```json
{
    "body": "Changed commit from **[45f1b19](https://github.com/sagemath/sagetrac-mirror/commit/45f1b198b3e5ff000ef9627bfb89a71b4522eda2)** to **[c0ceaf5](https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2)**",
    "created_at": "2022-02-13T21:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532431",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[45f1b19](https://github.com/sagemath/sagetrac-mirror/commit/45f1b198b3e5ff000ef9627bfb89a71b4522eda2)** to **[c0ceaf5](https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2)**



---

archive/issue_comments_532432.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nFine with me, go ahead",
    "created_at": "2022-02-13T21:29:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532432",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:69" align="right">Comment 69</div>

Fine with me, go ahead



---

archive/issue_comments_532433.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nReplying to [@mkoeppe](#comment%3A69):\n> Fine with me, go ahead\n\nYour branch is actually good (I was worried that images will get much bigger, but I haven't noticed this at all).\nWhat worries me is what happens if `unminimize` is not even present, wouldn't it trigger an error?",
    "created_at": "2022-02-14T10:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532433",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:70" align="right">Comment 70</div>

Replying to [@mkoeppe](#comment%3A69):
> Fine with me, go ahead

Your branch is actually good (I was worried that images will get much bigger, but I haven't noticed this at all).
What worries me is what happens if `unminimize` is not even present, wouldn't it trigger an error?



---

archive/issue_comments_532434.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nOK, it's ignored if missing. No problem then.\nI actually tested this branch in a Ubuntu Jammy Docker, all good (with system Singular).",
    "created_at": "2022-02-14T10:59:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532434",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:71" align="right">Comment 71</div>

OK, it's ignored if missing. No problem then.
I actually tested this branch in a Ubuntu Jammy Docker, all good (with system Singular).



---

archive/issue_comments_532435.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">Comment 72</div>\n\nReplying to [@mkoeppe](#comment%3A66):\n> Clearly commercial-grade work there\n\nI heard stories from a long-term Canonical insider, such as : \"Boss: We're closing down project X, you're fired. \nProgrammer: But, but, I'm also doing projects Y, Z, ...?! Boss: Uhm, OK. You can stay then.\"",
    "created_at": "2022-02-14T11:13:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532435",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:72" align="right">Comment 72</div>

Replying to [@mkoeppe](#comment%3A66):
> Clearly commercial-grade work there

I heard stories from a long-term Canonical insider, such as : "Boss: We're closing down project X, you're fired. 
Programmer: But, but, I'm also doing projects Y, Z, ...?! Boss: Uhm, OK. You can stay then."



---

archive/issue_comments_532436.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2022-02-14T22:26:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532436",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_events_433255.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-14T22:26:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433255"
}
```



---

archive/issue_events_433256.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-14T22:26:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433256"
}
```



---

archive/issue_comments_532437.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">Comment 74</div>\n\nThanks!",
    "created_at": "2022-02-15T07:51:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532437",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:74" align="right">Comment 74</div>

Thanks!



---

archive/issue_comments_532438.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/singular/libpath_fix)** to **[c0ceaf5](https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2)**",
    "created_at": "2022-02-20T13:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32789#issuecomment-532438",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/packages/singular/libpath_fix](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/packages/singular/libpath_fix)** to **[c0ceaf5](https://github.com/sagemath/sagetrac-mirror/commit/c0ceaf51d8ee6c7a55e60f6f9db2c92ca01245a2)**



---

archive/issue_events_433257.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-20T13:27:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433257"
}
```



---

archive/issue_events_433258.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0f65e48e0115fa7450287717a5bb846dc13ea8f8",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-20T13:27:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32789",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32789#event-433258"
}
```
