# Issue 32267: make hadamard_matrix() use all the Hadamard matrices Sage knows

archive/issues_032030.json:
```json
{
    "body": "Presently `hadamard_matrix()` only returns matrices obtained by just two of several constructions Sage knows. \n\n```\nSignature:      hadamard_matrix(n, existence=False, check=True)\nDocstring:     \n   This function is available as hadamard_matrix(...) and\n   matrix.hadamard(...).\n\n   Tries to construct a Hadamard matrix using a combination of Paley\n   and Sylvester constructions.\n```\n\nIt should use all Sage has (these from `skew_hadamard_matrix()`)\n\n\nCC:  @dcoudert\n\nBranch/Commit: 1f2bd704f13f617447d3a2b5dfe6ae849971543b\n\nReviewer: Dima Pasechnik\n\nAuthor: Matteo Cati\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32267\n\n",
    "closed_at": "2022-11-07T20:25:56Z",
    "created_at": "2021-07-23T08:39:32Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "make hadamard_matrix() use all the Hadamard matrices Sage knows",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32267",
    "user": "https://github.com/dimpase"
}
```
Presently `hadamard_matrix()` only returns matrices obtained by just two of several constructions Sage knows. 

```
Signature:      hadamard_matrix(n, existence=False, check=True)
Docstring:     
   This function is available as hadamard_matrix(...) and
   matrix.hadamard(...).

   Tries to construct a Hadamard matrix using a combination of Paley
   and Sylvester constructions.
```

It should use all Sage has (these from `skew_hadamard_matrix()`)


CC:  @dcoudert

Branch/Commit: 1f2bd704f13f617447d3a2b5dfe6ae849971543b

Reviewer: Dima Pasechnik

Author: Matteo Cati

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32267





---

archive/issue_comments_642296.json:
```json
{
    "body": "<a id='comment:1'></a>I don't think any deprecation is needed, just add more constructions.",
    "created_at": "2021-07-23T08:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642296",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>I don't think any deprecation is needed, just add more constructions.



---

archive/issue_comments_642297.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,17 @@\n-Presently `hadamard_matrix()` only returns matrices obtained by just two of several constructions Sage knows. It should use all Sage has.\n+Presently `hadamard_matrix()` only returns matrices obtained by just two of several constructions Sage knows. \n+\n+```\n+Signature:      hadamard_matrix(n, existence=False, check=True)\n+Docstring:     \n+   This function is available as hadamard_matrix(...) and\n+   matrix.hadamard(...).\n+\n+   Tries to construct a Hadamard matrix using a combination of Paley\n+   and Sylvester constructions.\n+```\n+\n+It should use all Sage has (these from `skew_hadamard_matrix()`)\n+\n \n Comment: 1\n \n``````\n",
    "created_at": "2021-07-23T08:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642297",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,17 @@
-Presently `hadamard_matrix()` only returns matrices obtained by just two of several constructions Sage knows. It should use all Sage has.
+Presently `hadamard_matrix()` only returns matrices obtained by just two of several constructions Sage knows. 
+
+```
+Signature:      hadamard_matrix(n, existence=False, check=True)
+Docstring:     
+   This function is available as hadamard_matrix(...) and
+   matrix.hadamard(...).
+
+   Tries to construct a Hadamard matrix using a combination of Paley
+   and Sylvester constructions.
+```
+
+It should use all Sage has (these from `skew_hadamard_matrix()`)
+
 
 Comment: 1
 
``````




---

archive/issue_comments_642298.json:
```json
{
    "body": "Changing author from \"\" to \"Dima Pasechnik\"",
    "created_at": "2021-07-23T08:42:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642298",
    "user": "https://github.com/dimpase"
}
```

Changing author from "" to "Dima Pasechnik"



---

archive/issue_events_085512.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:41:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32267#event-85512"
}
```



---

archive/issue_events_085513.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32267#event-85513"
}
```



---

archive/issue_events_085514.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-01T21:16:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32267#event-85514"
}
```



---

archive/issue_events_085515.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32267#event-85515"
}
```



---

archive/issue_events_085516.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32267#event-85516"
}
```



---

archive/issue_comments_642299.json:
```json
{
    "body": "Changing branch from \"\" to \"u/gh-MatteoCati/make_hadamard_matrix_use_all_available_methods\"",
    "created_at": "2022-10-21T15:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642299",
    "user": "https://github.com/MatteoCati"
}
```

Changing branch from "" to "u/gh-MatteoCati/make_hadamard_matrix_use_all_available_methods"



---

archive/issue_comments_642300.json:
```json
{
    "body": "Changing commit from \"\" to \"b750e1653da8f67ab2abd86b953b0224da647f55\"",
    "created_at": "2022-10-21T15:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642300",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "b750e1653da8f67ab2abd86b953b0224da647f55"



---

archive/issue_comments_642301.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-10-21T15:42:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_642302.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-10-22T09:24:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642302",
    "user": "https://github.com/MatteoCati"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_642303.json:
```json
{
    "body": "<a id='comment:8'></a>Matteo, thanks. Have you run tests? (just checking). Run `make ptestlong` \non your branch, if you didn't.",
    "created_at": "2022-10-22T09:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642303",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>Matteo, thanks. Have you run tests? (just checking). Run `make ptestlong` 
on your branch, if you didn't.



---

archive/issue_comments_642304.json:
```json
{
    "body": "<a id='comment:9'></a>New commits:",
    "created_at": "2022-10-24T07:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642304",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>New commits:



---

archive/issue_comments_642305.json:
```json
{
    "body": "Changing author from \"Dima Pasechnik\" to \"Matteo Cati\"",
    "created_at": "2022-10-24T07:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642305",
    "user": "https://github.com/dimpase"
}
```

Changing author from "Dima Pasechnik" to "Matteo Cati"



---

archive/issue_comments_642306.json:
```json
{
    "body": "Changing branch from \"u/gh-MatteoCati/make_hadamard_matrix_use_all_available_methods\" to \"u/dimpase/make_hadamard_matrix_use_all_available_methods\"",
    "created_at": "2022-10-24T07:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642306",
    "user": "https://github.com/dimpase"
}
```

Changing branch from "u/gh-MatteoCati/make_hadamard_matrix_use_all_available_methods" to "u/dimpase/make_hadamard_matrix_use_all_available_methods"



---

archive/issue_comments_642307.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2022-10-24T07:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642307",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_642308.json:
```json
{
    "body": "Changing commit from \"b750e1653da8f67ab2abd86b953b0224da647f55\" to \"ec342042b933ed457cf22246d77cdd7a10f724b2\"",
    "created_at": "2022-10-24T07:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642308",
    "user": "https://github.com/dimpase"
}
```

Changing commit from "b750e1653da8f67ab2abd86b953b0224da647f55" to "ec342042b933ed457cf22246d77cdd7a10f724b2"



---

archive/issue_comments_642309.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-10-24T07:48:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642309",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_642310.json:
```json
{
    "body": "<a id='comment:10'></a>rebased over the latest 9.8.beta2, and fixed docstrings",
    "created_at": "2022-10-24T07:48:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642310",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>rebased over the latest 9.8.beta2, and fixed docstrings



---

archive/issue_comments_642311.json:
```json
{
    "body": "<a id='comment:11'></a>I've opened a followup ticket #34690",
    "created_at": "2022-10-24T08:12:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642311",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>I've opened a followup ticket #34690



---

archive/issue_comments_642312.json:
```json
{
    "body": "Changing commit from \"ec342042b933ed457cf22246d77cdd7a10f724b2\" to \"1f2bd704f13f617447d3a2b5dfe6ae849971543b\"",
    "created_at": "2022-10-31T15:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642312",
    "user": "https://github.com/MatteoCati"
}
```

Changing commit from "ec342042b933ed457cf22246d77cdd7a10f724b2" to "1f2bd704f13f617447d3a2b5dfe6ae849971543b"



---

archive/issue_comments_642313.json:
```json
{
    "body": "Changing branch from \"u/dimpase/make_hadamard_matrix_use_all_available_methods\" to \"u/gh-MatteoCati/hadamard_matrix_uses_all_constructions\"",
    "created_at": "2022-10-31T15:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642313",
    "user": "https://github.com/MatteoCati"
}
```

Changing branch from "u/dimpase/make_hadamard_matrix_use_all_available_methods" to "u/gh-MatteoCati/hadamard_matrix_uses_all_constructions"



---

archive/issue_comments_642314.json:
```json
{
    "body": "<a id='comment:12'></a>Changed the `hadamard_matrix` method to avoid checking that the matrix is normalized, since it may not be.\n\n---\nNew commits:",
    "created_at": "2022-10-31T15:42:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642314",
    "user": "https://github.com/MatteoCati"
}
```

<a id='comment:12'></a>Changed the `hadamard_matrix` method to avoid checking that the matrix is normalized, since it may not be.

---
New commits:



---

archive/issue_comments_642315.json:
```json
{
    "body": "<a id='comment:13'></a>OK.",
    "created_at": "2022-10-31T17:24:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642315",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:13'></a>OK.



---

archive/issue_comments_642316.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-11-07T20:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642316",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_085517.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-11-07T20:25:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32267#event-85517"
}
```



---

archive/issue_comments_642317.json:
```json
{
    "body": "Changing branch from \"u/gh-MatteoCati/hadamard_matrix_uses_all_constructions\" to \"1f2bd704f13f617447d3a2b5dfe6ae849971543b\"",
    "created_at": "2022-11-07T20:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32267",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32267#issuecomment-642317",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/gh-MatteoCati/hadamard_matrix_uses_all_constructions" to "1f2bd704f13f617447d3a2b5dfe6ae849971543b"
