# Issue 32228: Move examples from sage.geometry.riemannian_manifolds to sage.manifolds

archive/issues_031991.json:
```json
{
    "assignees": [],
    "body": "... with deprecation\n\nDepends on #32116\nDepends on #32102\n\nCC:  @egourgoulhon @mjungmath @videlec\n\nBranch/Commit: **[u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds) @ [1b4fe44](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **manifolds**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32228_\n\n",
    "created_at": "2021-07-17T23:53:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move examples from sage.geometry.riemannian_manifolds to sage.manifolds",
    "type": "issue",
    "updated_at": "2023-01-07T21:39:40Z",
    "url": "https://github.com/sagemath/sage/issues/32228",
    "user": "https://github.com/mkoeppe"
}
```
... with deprecation

Depends on #32116
Depends on #32102

CC:  @egourgoulhon @mjungmath @videlec

Branch/Commit: **[u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds) @ [1b4fe44](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)**

Author: **Matthias Koeppe**

Component: **manifolds**

_Issue created by migration from https://trac.sagemath.org/ticket/32228_





---

archive/issue_events_444587.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444587"
}
```



---

archive/issue_events_444588.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20manifolds",
    "label_color": "0000ff",
    "label_name": "c: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444588"
}
```



---

archive/issue_events_444589.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444589"
}
```



---

archive/issue_events_444590.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444590"
}
```



---

archive/issue_comments_519294.json:
```json
{
    "body": "Dependencies: **#32116**",
    "created_at": "2021-07-18T01:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519294",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32116**



---

archive/issue_comments_519295.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-07-18T01:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519295",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_519296.json:
```json
{
    "body": "Changed dependencies from **#32116** to **#32116, #32102**",
    "created_at": "2021-07-18T01:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519296",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#32116** to **#32116, #32102**



---

archive/issue_comments_519297.json:
```json
{
    "body": "Branch: **[u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)**",
    "created_at": "2021-07-18T01:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519297",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)**



---

archive/issue_comments_519298.json:
```json
{
    "body": "Commit: **[fcf62a6](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)**",
    "created_at": "2021-07-18T02:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519298",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[fcf62a6](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)**



---

archive/issue_comments_519299.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795\">fcf62a6</a></td><td><code>ParametrizedSurface3D: Initialize immersion, replace attribute 'equation' by lazy attribute</code></td></tr></table>\n",
    "created_at": "2021-07-18T02:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519299",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795">fcf62a6</a></td><td><code>ParametrizedSurface3D: Initialize immersion, replace attribute 'equation' by lazy attribute</code></td></tr></table>




---

archive/issue_comments_519300.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe next step would be to deprecate most of the methods",
    "created_at": "2021-07-18T02:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519300",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:5" align="right">comment:5</div>

The next step would be to deprecate most of the methods



---

archive/issue_events_444591.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444591"
}
```



---

archive/issue_events_444592.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444592"
}
```



---

archive/issue_comments_519301.json:
```json
{
    "body": "Changed commit from **[fcf62a6](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)** to **[1b4fe44](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)**",
    "created_at": "2021-09-14T00:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519301",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[fcf62a6](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)** to **[1b4fe44](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)**



---

archive/issue_comments_519302.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92\">1b4fe44</a></td><td><code>Merge tag '9.5.beta1' into t/32228/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds</code></td></tr></table>\n",
    "created_at": "2021-09-14T00:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519302",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92">1b4fe44</a></td><td><code>Merge tag '9.5.beta1' into t/32228/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds</code></td></tr></table>




---

archive/issue_events_444593.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-14T00:36:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444593"
}
```



---

archive/issue_comments_519303.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nDo we want to fix the syntax-block errors and unused import in this ticket?\n\nCoverage is likely more for another ticket.",
    "created_at": "2021-09-14T07:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519303",
    "user": "https://github.com/mjungmath"
}
```

<div id="comment:9" align="right">comment:9</div>

Do we want to fix the syntax-block errors and unused import in this ticket?

Coverage is likely more for another ticket.



---

archive/issue_comments_519304.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThanks for this first move. \nHowever it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different \ninputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? \n\nAlso what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:\n\n```\nsage: C1 = manifolds.Catenoid()  # returns a manifold-type object\nsage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object\n```\n\nI am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.",
    "created_at": "2021-09-14T20:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519304",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:10" align="right">comment:10</div>

Thanks for this first move. 
However it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different 
inputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? 

Also what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:

```
sage: C1 = manifolds.Catenoid()  # returns a manifold-type object
sage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object
```

I am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.



---

archive/issue_comments_519305.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIf all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the \"new way of doing\". That is to say\n- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing\n- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.\n\nThis is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.",
    "created_at": "2021-09-14T20:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519305",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">comment:11</div>

If all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the "new way of doing". That is to say
- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing
- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.

This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.



---

archive/issue_events_444594.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-14T21:26:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444594"
}
```



---

archive/issue_events_444595.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-14T21:26:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444595"
}
```



---

archive/issue_comments_519306.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@videlec](#comment:11):\n> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.\n\nThanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.",
    "created_at": "2021-09-15T09:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-519306",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@videlec](#comment:11):
> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.

Thanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.



---

archive/issue_events_444596.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444596"
}
```



---

archive/issue_events_444597.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444597"
}
```



---

archive/issue_events_444598.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444598"
}
```



---

archive/issue_events_444599.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444599"
}
```



---

archive/issue_events_444600.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444600"
}
```



---

archive/issue_events_444601.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444601"
}
```



---

archive/issue_events_444602.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444602"
}
```



---

archive/issue_events_444603.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2023-01-07T21:39:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-444603"
}
```
