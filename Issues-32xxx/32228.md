# Issue 32228: Move examples from sage.geometry.riemannian_manifolds to sage.manifolds

archive/issues_031991.json:
```json
{
    "body": "... with deprecation\n\nCC:  @egourgoulhon @mjungmath @videlec\n\nBranch: [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)\n\nCommit: [1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)\n\nAuthor: Matthias Koeppe\n\nStatus: needs_work\n\nDependencies: #32116, #32102\n\nIssue created by migration from https://trac.sagemath.org/ticket/32228\n\n",
    "created_at": "2021-07-17T23:53:11Z",
    "labels": [
        "component: manifolds"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Move examples from sage.geometry.riemannian_manifolds to sage.manifolds",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32228",
    "user": "https://github.com/mkoeppe"
}
```
... with deprecation

CC:  @egourgoulhon @mjungmath @videlec

Branch: [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)

Commit: [1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)

Author: Matthias Koeppe

Status: needs_work

Dependencies: #32116, #32102

Issue created by migration from https://trac.sagemath.org/ticket/32228





---

archive/issue_comments_641880.json:
```json
{
    "body": "Author: Matthias Koeppe",
    "created_at": "2021-07-18T01:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641880",
    "user": "https://github.com/mkoeppe"
}
```

Author: Matthias Koeppe



---

archive/issue_comments_641881.json:
```json
{
    "body": "Dependencies: #32116",
    "created_at": "2021-07-18T01:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641881",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: #32116



---

archive/issue_comments_641882.json:
```json
{
    "body": "Changing dependencies from \"#32116\" to \"#32116, #32102\"",
    "created_at": "2021-07-18T01:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641882",
    "user": "https://github.com/mkoeppe"
}
```

Changing dependencies from "#32116" to "#32116, #32102"



---

archive/issue_comments_641883.json:
```json
{
    "body": "Branch: [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)",
    "created_at": "2021-07-18T01:43:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641883",
    "user": "https://github.com/mkoeppe"
}
```

Branch: [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)



---

archive/issue_comments_641884.json:
```json
{
    "body": "Commit: [fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)",
    "created_at": "2021-07-18T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Commit: [fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)



---

archive/issue_comments_641885.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|\n|[fcf62a6](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)|`ParametrizedSurface3D: Initialize immersion, replace attribute 'equation' by lazy attribute`|",
    "created_at": "2021-07-18T02:08:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------|
|[fcf62a6](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)|`ParametrizedSurface3D: Initialize immersion, replace attribute 'equation' by lazy attribute`|



---

archive/issue_comments_641886.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe next step would be to deprecate most of the methods",
    "created_at": "2021-07-18T02:28:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641886",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
The next step would be to deprecate most of the methods



---

archive/issue_events_096044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96044"
}
```



---

archive/issue_comments_641887.json:
```json
{
    "body": "Changing commit from \"[fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)\" to \"[1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)\"",
    "created_at": "2021-09-14T00:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)" to "[1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)"



---

archive/issue_comments_641888.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|\n|[1b4fe44](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)|`Merge tag '9.5.beta1' into t/32228/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds`|",
    "created_at": "2021-09-14T00:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641888",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
|[1b4fe44](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)|`Merge tag '9.5.beta1' into t/32228/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds`|



---

archive/issue_comments_641889.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-09-14T00:36:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641889",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_641890.json:
```json
{
    "body": "<a id='comment:9'></a>\nDo we want to fix the syntax-block errors and unused import in this ticket?\n\nCoverage is likely more for another ticket.",
    "created_at": "2021-09-14T07:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641890",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:9'></a>
Do we want to fix the syntax-block errors and unused import in this ticket?

Coverage is likely more for another ticket.



---

archive/issue_comments_641891.json:
```json
{
    "body": "<a id='comment:10'></a>\nThanks for this first move. \nHowever it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different \ninputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? \n\nAlso what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:\n\n```\nsage: C1 = manifolds.Catenoid()  # returns a manifold-type object\nsage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object\n```\n\nI am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.",
    "created_at": "2021-09-14T20:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641891",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:10'></a>
Thanks for this first move. 
However it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different 
inputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? 

Also what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:

```
sage: C1 = manifolds.Catenoid()  # returns a manifold-type object
sage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object
```

I am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.



---

archive/issue_comments_641892.json:
```json
{
    "body": "<a id='comment:11'></a>\nIf all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the \"new way of doing\". That is to say\n- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing\n- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.\n\nThis is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.",
    "created_at": "2021-09-14T20:35:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641892",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'></a>
If all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the "new way of doing". That is to say
- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing
- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.

This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.



---

archive/issue_comments_641893.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-09-14T21:26:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641893",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_641894.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [vdelecroix](#comment%3A11):\n> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.\n\n\nThanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.",
    "created_at": "2021-09-15T09:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32228#issuecomment-641894",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'></a>
Replying to [vdelecroix](#comment%3A11):
> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.


Thanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.



---

archive/issue_events_096045.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96045"
}
```



---

archive/issue_events_096046.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96046"
}
```



---

archive/issue_events_096047.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96047"
}
```



---

archive/issue_events_096048.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96048"
}
```



---

archive/issue_events_096049.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96049"
}
```



---

archive/issue_events_096050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32228",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32228#event-96050"
}
```
