# Issue 32228: Move examples from sage.geometry.riemannian_manifolds to sage.manifolds

archive/issues_031991.json:
```json
{
    "assignees": [],
    "body": "... with deprecation\n\nDepends on #32116\n\nDepends on #32102\n\n**CC:**  @egourgoulhon @mjungmath @videlec\n\n**Branch:** [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)\n\n**Commit:** [1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/32228\n\n",
    "created_at": "2021-07-17T23:53:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Move examples from sage.geometry.riemannian_manifolds to sage.manifolds",
    "type": "issue",
    "updated_at": "2022-08-31T02:51:13Z",
    "url": "https://github.com/sagemath/sage/issues/32228",
    "user": "https://github.com/mkoeppe"
}
```
... with deprecation

Depends on #32116

Depends on #32102

**CC:**  @egourgoulhon @mjungmath @videlec

**Branch:** [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)

**Commit:** [1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/32228





---

archive/issue_events_391439.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391439"
}
```



---

archive/issue_events_391440.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20manifolds",
    "label_color": "08517b",
    "label_name": "component: manifolds",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391440"
}
```



---

archive/issue_events_391441.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-17T23:53:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391441"
}
```



---

archive/issue_comments_521975.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-07-18T01:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521975",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_521976.json:
```json
{
    "body": "**Dependencies:** #32116",
    "created_at": "2021-07-18T01:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521976",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32116



---

archive/issue_comments_521977.json:
```json
{
    "body": "**Changing dependencies** from \"#32116\" to \"#32116, #32102\".",
    "created_at": "2021-07-18T01:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521977",
    "user": "https://github.com/mkoeppe"
}
```

**Changing dependencies** from "#32116" to "#32116, #32102".



---

archive/issue_comments_521978.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)",
    "created_at": "2021-07-18T01:43:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521978",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds)



---

archive/issue_comments_521979.json:
```json
{
    "body": "**Commit:** [fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)",
    "created_at": "2021-07-18T02:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521979",
    "user": "https://github.com/sagetrac-git"
}
```

**Commit:** [fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)



---

archive/issue_comments_521980.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795\">fcf62a6</a></td><td><code>ParametrizedSurface3D: Initialize immersion, replace attribute 'equation' by lazy attribute</code></td></tr></table>\n",
    "created_at": "2021-07-18T02:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521980",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>**Comment 4:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795">fcf62a6</a></td><td><code>ParametrizedSurface3D: Initialize immersion, replace attribute 'equation' by lazy attribute</code></td></tr></table>




---

archive/issue_comments_521981.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nThe next step would be to deprecate most of the methods",
    "created_at": "2021-07-18T02:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521981",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'>**Comment 5:**</a>
The next step would be to deprecate most of the methods



---

archive/issue_events_391442.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391442"
}
```



---

archive/issue_events_391443.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T02:58:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391443"
}
```



---

archive/issue_comments_521982.json:
```json
{
    "body": "**Changing commit** from \"[fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)\" to \"[1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)\".",
    "created_at": "2021-09-14T00:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521982",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fcf62a69569fa2664d99d87088256da2f154b795](https://github.com/sagemath/sagetrac-mirror/commit/fcf62a69569fa2664d99d87088256da2f154b795)" to "[1b4fe44c1eaa8eccca72fc29a6fd143953236a92](https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92)".



---

archive/issue_comments_521983.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92\">1b4fe44</a></td><td><code>Merge tag '9.5.beta1' into t/32228/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds</code></td></tr></table>\n",
    "created_at": "2021-09-14T00:36:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521983",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>**Comment 7:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b4fe44c1eaa8eccca72fc29a6fd143953236a92">1b4fe44</a></td><td><code>Merge tag '9.5.beta1' into t/32228/move_examples_from_sage_geometry_riemannian_manifolds_to_sage_manifolds</code></td></tr></table>




---

archive/issue_events_391444.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-14T00:36:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391444"
}
```



---

archive/issue_comments_521984.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nDo we want to fix the syntax-block errors and unused import in this ticket?\n\nCoverage is likely more for another ticket.",
    "created_at": "2021-09-14T07:46:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521984",
    "user": "https://github.com/mjungmath"
}
```

<a id='comment:9'>**Comment 9:**</a>
Do we want to fix the syntax-block errors and unused import in this ticket?

Coverage is likely more for another ticket.



---

archive/issue_comments_521985.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nThanks for this first move. \nHowever it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different \ninputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? \n\nAlso what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:\n\n```\nsage: C1 = manifolds.Catenoid()  # returns a manifold-type object\nsage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object\n```\n\nI am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.",
    "created_at": "2021-09-14T20:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521985",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:10'>**Comment 10:**</a>
Thanks for this first move. 
However it is quite incomplete at this stage. Indeed, it makes `ParametrizedSurface3D` a derived class of `PseudoRiemannianSubmanifold`, which is very natural. But many of the methods, like `first_fundamental_form`, `second_fundamental_form`, `point`, `plot`, `tangent_vector`, etc. have their code left in place, so that they appear redefined with respect to the corresponding `PseudoRiemannianSubmanifold` methods with very different 
inputs and outputs. For instance, `ParametrizedSurface3D.tangent_vector` takes a tuple of coordinates and returns a tuple of vector components, while `PseudoRiemannianSubmanifold.tangent_vector` takes a manifold point and returns an element of the tangent space at that point. It would be quite disturbing for the end user that `manifolds.Ellipsoid()` behaves so differently from `manifolds.Sphere(2)`. At first glance, all the methods implemented in `ParametrizedSurface3D` have their equivalent in `PseudoRiemannianSubmanifold`, but it requires some work to implement things properly. I guess the question is then: shall this be done in this ticket? 

Also what about the deprecation? If we change the behavior of most methods to make them coincide with the manifold framework, we should leave the old code in `src/sage/geometry/riemannian_manifolds` (with a deprecation warning), shouldn't we? In doing so, during the deprecation period, we would have:

```
sage: C1 = manifolds.Catenoid()  # returns a manifold-type object
sage: C2 = surfaces.Catenoid()    # returns a (deprecated) old type of object
```

I am adding Vincent to Cc, since he took part in the initial implementation of `ParametrizedSurface3D` in #10132.



---

archive/issue_comments_521986.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nIf all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the \"new way of doing\". That is to say\n- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing\n- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.\n\nThis is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.",
    "created_at": "2021-09-14T20:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521986",
    "user": "https://github.com/videlec"
}
```

<a id='comment:11'>**Comment 11:**</a>
If all methods from `ParametrizedSurface3D` have equivalent functionalities in `PseudoRiemannianSubmanifold` I would say that deprecation of the class makes sense. However, this could potentially breaks a lot of code in the future. For that reason, I would suggest to carefully document the "new way of doing". That is to say
- in each method of `ParametrizedSurface3D` there should be an explanation of the equivalent `PseudoRiemannianSubmanifold` way of doing
- for each relevant doctest in `ParametrizedSurface3D`, the same computation should be reproduced with a `PseudoRiemannianSubmanifold` object.

This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.



---

archive/issue_events_391445.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-14T21:26:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391445"
}
```



---

archive/issue_events_391446.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-14T21:26:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391446"
}
```



---

archive/issue_comments_521987.json:
```json
{
    "body": "<a id='comment:13'>**Comment 13:**</a>\nReplying to [@videlec](#comment%3A11):\n> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.\n\nThanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.",
    "created_at": "2021-09-15T09:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32228#issuecomment-521987",
    "user": "https://github.com/egourgoulhon"
}
```

<a id='comment:13'>**Comment 13:**</a>
Replying to [@videlec](#comment%3A11):
> This is just my way of thinking. I will not work on the ticket and you are definitely free to take any decision you would find more appropriate.

Thanks for your feedback! On my side, this project is on my todo list, but with a zillion of other things. I hope to do it relatively soon, unless someone do it before.



---

archive/issue_events_391447.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391447"
}
```



---

archive/issue_events_391448.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391448"
}
```



---

archive/issue_events_391449.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391449"
}
```



---

archive/issue_events_391450.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391450"
}
```



---

archive/issue_events_391451.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391451"
}
```



---

archive/issue_events_391452.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-08-31T02:51:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32228",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32228#event-391452"
}
```
