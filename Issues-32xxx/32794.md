# Issue 32794: sage.functions.log.log: Move to sage.misc.functional

archive/issues_032557.json:
```json
{
    "body": "`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).\n\n`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.\n\nThere is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.\n\nWe keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.\n\nSimilar to what was done in #32717 for `sqrt`.\n\n\n**CC:**  @tscrim @jhpalmieri @fchapoton @seblabbe @videlec @dimpase\n\n**Branch/Commit:** [238e97efede530f77d5d802be867501cb5878c1e](https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/32794\n\n",
    "closed_at": "2021-11-02T22:36:27Z",
    "created_at": "2021-10-29T19:19:31Z",
    "labels": [
        "component: refactoring",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage.functions.log.log: Move to sage.misc.functional",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32794",
    "user": "https://github.com/mkoeppe"
}
```
`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).

`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.

There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.

We keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.

Similar to what was done in #32717 for `sqrt`.


**CC:**  @tscrim @jhpalmieri @fchapoton @seblabbe @videlec @dimpase

**Branch/Commit:** [238e97efede530f77d5d802be867501cb5878c1e](https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e)

**Reviewer:** Dima Pasechnik

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/32794





---

archive/issue_comments_624863.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-10-29T20:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624863",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_comments_624864.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-`log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.\n+`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).\n \n-Similar to #32717 for `sqrt`.\n+`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.\n \n+There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.\n+\n+Similar to what was done in #32717 for `sqrt`.\n+\n``````\n",
    "created_at": "2021-10-29T20:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624864",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
-`log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.
+`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).
 
-Similar to #32717 for `sqrt`.
+`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.
 
+There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.
+
+Similar to what was done in #32717 for `sqrt`.
+
``````




---

archive/issue_events_097284.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "rename": {
        "from": "sage.functions.log.log: Move to sage.misc.functions",
        "to": "sage.functions.log.log: Move to sage.misc.functional"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32794#event-97284"
}
```



---

archive/issue_comments_624865.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions)",
    "created_at": "2021-10-29T20:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624865",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions)



---

archive/issue_comments_624866.json:
```json
{
    "body": "**Commit:** [073411938fb470f00b31e9fa10e3eebb97b7b61d](https://github.com/sagemath/sagetrac-mirror/commit/073411938fb470f00b31e9fa10e3eebb97b7b61d)",
    "created_at": "2021-10-29T21:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624866",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [073411938fb470f00b31e9fa10e3eebb97b7b61d](https://github.com/sagemath/sagetrac-mirror/commit/073411938fb470f00b31e9fa10e3eebb97b7b61d)



---

archive/issue_comments_624867.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5798a1cf996cfd546dcfe2b68007adda4ddad349\">5798a1c</a></td><td><code>src/sage/coding/code_bounds.py: Import log from sage.misc.functional, add # optional - sage.symbolic to some doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/073411938fb470f00b31e9fa10e3eebb97b7b61d\">0734119</a></td><td><code>src/sage/graphs/generators/distance_regular.pyx: Import log from sage.misc.functional</code></td></tr></table>\n",
    "created_at": "2021-10-29T21:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624867",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5798a1cf996cfd546dcfe2b68007adda4ddad349">5798a1c</a></td><td><code>src/sage/coding/code_bounds.py: Import log from sage.misc.functional, add # optional - sage.symbolic to some doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/073411938fb470f00b31e9fa10e3eebb97b7b61d">0734119</a></td><td><code>src/sage/graphs/generators/distance_regular.pyx: Import log from sage.misc.functional</code></td></tr></table>




---

archive/issue_comments_624868.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,8 +1,10 @@\n `sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).\n \n-`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.\n+`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.\n \n There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.\n \n+We keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.\n+\n Similar to what was done in #32717 for `sqrt`.\n \n``````\n",
    "created_at": "2021-10-29T21:21:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624868",
    "user": "https://github.com/mkoeppe"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,8 +1,10 @@
 `sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).
 
-`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.
+`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.
 
 There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.
 
+We keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.
+
 Similar to what was done in #32717 for `sqrt`.
 
``````




---

archive/issue_comments_624869.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/796b48b2bd89028a599c17c65b1e003026139d8f\">796b48b</a></td><td><code>src/sage/coding/kasami_codes.pyx: Import log from sage.misc.functional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f775a214d3f4f2a16809ae7e71635187fecced6\">0f775a2</a></td><td><code>src/sage/misc/dev_tools.py: Update doctest regarding import_statements('log')</code></td></tr></table>\n",
    "created_at": "2021-10-29T21:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624869",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/796b48b2bd89028a599c17c65b1e003026139d8f">796b48b</a></td><td><code>src/sage/coding/kasami_codes.pyx: Import log from sage.misc.functional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f775a214d3f4f2a16809ae7e71635187fecced6">0f775a2</a></td><td><code>src/sage/misc/dev_tools.py: Update doctest regarding import_statements('log')</code></td></tr></table>




---

archive/issue_comments_624870.json:
```json
{
    "body": "**Changing commit** from \"[073411938fb470f00b31e9fa10e3eebb97b7b61d](https://github.com/sagemath/sagetrac-mirror/commit/073411938fb470f00b31e9fa10e3eebb97b7b61d)\" to \"[0f775a214d3f4f2a16809ae7e71635187fecced6](https://github.com/sagemath/sagetrac-mirror/commit/0f775a214d3f4f2a16809ae7e71635187fecced6)\".",
    "created_at": "2021-10-29T21:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[073411938fb470f00b31e9fa10e3eebb97b7b61d](https://github.com/sagemath/sagetrac-mirror/commit/073411938fb470f00b31e9fa10e3eebb97b7b61d)" to "[0f775a214d3f4f2a16809ae7e71635187fecced6](https://github.com/sagemath/sagetrac-mirror/commit/0f775a214d3f4f2a16809ae7e71635187fecced6)".



---

archive/issue_comments_624871.json:
```json
{
    "body": "**Changing commit** from \"[0f775a214d3f4f2a16809ae7e71635187fecced6](https://github.com/sagemath/sagetrac-mirror/commit/0f775a214d3f4f2a16809ae7e71635187fecced6)\" to \"[238e97efede530f77d5d802be867501cb5878c1e](https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e)\".",
    "created_at": "2021-10-29T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[0f775a214d3f4f2a16809ae7e71635187fecced6](https://github.com/sagemath/sagetrac-mirror/commit/0f775a214d3f4f2a16809ae7e71635187fecced6)" to "[238e97efede530f77d5d802be867501cb5878c1e](https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e)".



---

archive/issue_comments_624872.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6be920adfce2571b18ecff648cec612454233d48\">6be920a</a></td><td><code>src/sage/combinat/words/finite_word.py: Change import of log for symbolic use to import from sage.functions.log</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e\">238e97e</a></td><td><code>src/sage/matrix/operation_table.py: Change non-symbolic use of log to import from sage.misc.functional</code></td></tr></table>\n",
    "created_at": "2021-10-29T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624872",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6be920adfce2571b18ecff648cec612454233d48">6be920a</a></td><td><code>src/sage/combinat/words/finite_word.py: Change import of log for symbolic use to import from sage.functions.log</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e">238e97e</a></td><td><code>src/sage/matrix/operation_table.py: Change non-symbolic use of log to import from sage.misc.functional</code></td></tr></table>




---

archive/issue_comments_624873.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-10-29T21:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624873",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_624874.json:
```json
{
    "body": "<a id='comment:9'></a>\nGreen bot, please review",
    "created_at": "2021-10-30T17:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624874",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Green bot, please review



---

archive/issue_comments_624875.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-10-30T21:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624875",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_624876.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2021-10-30T21:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624876",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_comments_624877.json:
```json
{
    "body": "<a id='comment:10'></a>\nlgtm",
    "created_at": "2021-10-30T21:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624877",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
lgtm



---

archive/issue_comments_624878.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt would be a little cleaner if the import in `combinat/words/finite_word.py` were `from sage.misc.functional import log`.",
    "created_at": "2021-10-30T21:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624878",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
It would be a little cleaner if the import in `combinat/words/finite_word.py` were `from sage.misc.functional import log`.



---

archive/issue_comments_624879.json:
```json
{
    "body": "<a id='comment:12'></a>\nI kept this one (in `topological_entropy`) as an import from `sage.functions.log` because a symbolic result is expected, as the doctests illustrate",
    "created_at": "2021-10-31T06:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624879",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
I kept this one (in `topological_entropy`) as an import from `sage.functions.log` because a symbolic result is expected, as the doctests illustrate



---

archive/issue_comments_624880.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for the review!",
    "created_at": "2021-10-31T06:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624880",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Thanks for the review!



---

archive/issue_comments_624881.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions)\" to \"[238e97efede530f77d5d802be867501cb5878c1e](https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e)\".",
    "created_at": "2021-11-02T22:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-624881",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions)" to "[238e97efede530f77d5d802be867501cb5878c1e](https://github.com/sagemath/sagetrac-mirror/commit/238e97efede530f77d5d802be867501cb5878c1e)".



---

archive/issue_events_097285.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-02T22:36:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32794#event-97285"
}
```
