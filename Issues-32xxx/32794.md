# Issue 32794: sage.functions.log.log: Move to sage.misc.functional

archive/issues_032557.json:
```json
{
    "body": "`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).\n\n`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.\n\nThere is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.\n\nWe keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.\n\nSimilar to what was done in #32717 for `sqrt`.\n\n\nCC:  @tscrim @jhpalmieri @fchapoton @seblabbe @videlec @dimpase\n\nBranch/Commit: 238e97efede530f77d5d802be867501cb5878c1e\n\nReviewer: Dima Pasechnik\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32794\n\n",
    "closed_at": "2021-11-02T22:36:27Z",
    "created_at": "2021-10-29T19:19:31Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage.functions.log.log: Move to sage.misc.functional",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32794",
    "user": "https://github.com/mkoeppe"
}
```
`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).

`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.

There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.

We keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.

Similar to what was done in #32717 for `sqrt`.


CC:  @tscrim @jhpalmieri @fchapoton @seblabbe @videlec @dimpase

Branch/Commit: 238e97efede530f77d5d802be867501cb5878c1e

Reviewer: Dima Pasechnik

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32794





---

archive/issue_comments_653750.json:
```json
{
    "body": "Changing author from \"\" to \"Matthias Koeppe\"",
    "created_at": "2021-10-29T20:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653750",
    "user": "https://github.com/mkoeppe"
}
```

Changing author from "" to "Matthias Koeppe"



---

archive/issue_comments_653751.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n-`log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.\n+`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).\n \n-Similar to #32717 for `sqrt`.\n+`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.\n \n+There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.\n+\n+Similar to what was done in #32717 for `sqrt`.\n+\n``````\n",
    "created_at": "2021-10-29T20:02:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653751",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,8 @@
-`log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.
+`sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).
 
-Similar to #32717 for `sqrt`.
+`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.
 
+There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.
+
+Similar to what was done in #32717 for `sqrt`.
+
``````




---

archive/issue_comments_653752.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions\"",
    "created_at": "2021-10-29T20:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653752",
    "user": "https://github.com/mkoeppe"
}
```

Changing branch from "" to "u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions"



---

archive/issue_comments_653753.json:
```json
{
    "body": "Changing commit from \"\" to \"073411938fb470f00b31e9fa10e3eebb97b7b61d\"",
    "created_at": "2021-10-29T21:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653753",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "073411938fb470f00b31e9fa10e3eebb97b7b61d"



---

archive/issue_comments_653754.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|\n|[5798a1c](https://git.sagemath.org/sage.git/commit/?id=5798a1cf996cfd546dcfe2b68007adda4ddad349)|`src/sage/coding/code_bounds.py: Import log from sage.misc.functional, add # optional - sage.symbolic to some doctests`|\n|[0734119](https://git.sagemath.org/sage.git/commit/?id=073411938fb470f00b31e9fa10e3eebb97b7b61d)|`src/sage/graphs/generators/distance_regular.pyx: Import log from sage.misc.functional`|",
    "created_at": "2021-10-29T21:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653754",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
|[5798a1c](https://git.sagemath.org/sage.git/commit/?id=5798a1cf996cfd546dcfe2b68007adda4ddad349)|`src/sage/coding/code_bounds.py: Import log from sage.misc.functional, add # optional - sage.symbolic to some doctests`|
|[0734119](https://git.sagemath.org/sage.git/commit/?id=073411938fb470f00b31e9fa10e3eebb97b7b61d)|`src/sage/graphs/generators/distance_regular.pyx: Import log from sage.misc.functional`|



---

archive/issue_comments_653755.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,10 @@\n `sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).\n \n-`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.\n+`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.\n \n There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.\n \n+We keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.\n+\n Similar to what was done in #32717 for `sqrt`.\n \n``````\n",
    "created_at": "2021-10-29T21:21:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653755",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,10 @@
 `sage.functions` is the home for symbolic functions; this package will not be included in the distribution package **sagemath-standard-no-symbolics** (#32601), nor in smaller distributions such as **sagemath-polyhedra** (#32432).
 
-`sage.functions.log.log` is not a symbolic function but only wrapper def that calls various methods. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics.
+`sage.functions.log.log` is not a symbolic function but only wrapper def that either delegates to a symbolic function or calls a method. We move it to `sage.misc.functional` so that non-symbolic uses of it do not pull in symbolics; and change these imports.
 
 There is already a function `log` in `sage.misc.functional`, deprecated since #19444 (Sage 8.1).  We replace it.
 
+We keep a non-deprecated import of `log` in `sage.functions.log` for symbolic uses.
+
 Similar to what was done in #32717 for `sqrt`.
 
``````




---

archive/issue_comments_653756.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|\n|[796b48b](https://git.sagemath.org/sage.git/commit/?id=796b48b2bd89028a599c17c65b1e003026139d8f)|`src/sage/coding/kasami_codes.pyx: Import log from sage.misc.functional`|\n|[0f775a2](https://git.sagemath.org/sage.git/commit/?id=0f775a214d3f4f2a16809ae7e71635187fecced6)|`src/sage/misc/dev_tools.py: Update doctest regarding import_statements('log')`|",
    "created_at": "2021-10-29T21:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653756",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
|[796b48b](https://git.sagemath.org/sage.git/commit/?id=796b48b2bd89028a599c17c65b1e003026139d8f)|`src/sage/coding/kasami_codes.pyx: Import log from sage.misc.functional`|
|[0f775a2](https://git.sagemath.org/sage.git/commit/?id=0f775a214d3f4f2a16809ae7e71635187fecced6)|`src/sage/misc/dev_tools.py: Update doctest regarding import_statements('log')`|



---

archive/issue_comments_653757.json:
```json
{
    "body": "Changing commit from \"073411938fb470f00b31e9fa10e3eebb97b7b61d\" to \"0f775a214d3f4f2a16809ae7e71635187fecced6\"",
    "created_at": "2021-10-29T21:23:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653757",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "073411938fb470f00b31e9fa10e3eebb97b7b61d" to "0f775a214d3f4f2a16809ae7e71635187fecced6"



---

archive/issue_comments_653758.json:
```json
{
    "body": "Changing commit from \"0f775a214d3f4f2a16809ae7e71635187fecced6\" to \"238e97efede530f77d5d802be867501cb5878c1e\"",
    "created_at": "2021-10-29T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653758",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "0f775a214d3f4f2a16809ae7e71635187fecced6" to "238e97efede530f77d5d802be867501cb5878c1e"



---

archive/issue_comments_653759.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|\n|[6be920a](https://git.sagemath.org/sage.git/commit/?id=6be920adfce2571b18ecff648cec612454233d48)|`src/sage/combinat/words/finite_word.py: Change import of log for symbolic use to import from sage.functions.log`|\n|[238e97e](https://git.sagemath.org/sage.git/commit/?id=238e97efede530f77d5d802be867501cb5878c1e)|`src/sage/matrix/operation_table.py: Change non-symbolic use of log to import from sage.misc.functional`|",
    "created_at": "2021-10-29T21:31:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653759",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
|[6be920a](https://git.sagemath.org/sage.git/commit/?id=6be920adfce2571b18ecff648cec612454233d48)|`src/sage/combinat/words/finite_word.py: Change import of log for symbolic use to import from sage.functions.log`|
|[238e97e](https://git.sagemath.org/sage.git/commit/?id=238e97efede530f77d5d802be867501cb5878c1e)|`src/sage/matrix/operation_table.py: Change non-symbolic use of log to import from sage.misc.functional`|



---

archive/issue_comments_653760.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-29T21:31:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653760",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_653761.json:
```json
{
    "body": "<a id='comment:9'></a>\nGreen bot, please review",
    "created_at": "2021-10-30T17:12:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653761",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>
Green bot, please review



---

archive/issue_comments_653762.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-30T21:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653762",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_653763.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Dima Pasechnik\"",
    "created_at": "2021-10-30T21:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653763",
    "user": "https://github.com/dimpase"
}
```

Changing reviewer from "" to "Dima Pasechnik"



---

archive/issue_comments_653764.json:
```json
{
    "body": "<a id='comment:10'></a>\nlgtm",
    "created_at": "2021-10-30T21:31:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653764",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
lgtm



---

archive/issue_comments_653765.json:
```json
{
    "body": "<a id='comment:11'></a>\nIt would be a little cleaner if the import in `combinat/words/finite_word.py` were `from sage.misc.functional import log`.",
    "created_at": "2021-10-30T21:34:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653765",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
It would be a little cleaner if the import in `combinat/words/finite_word.py` were `from sage.misc.functional import log`.



---

archive/issue_comments_653766.json:
```json
{
    "body": "<a id='comment:12'></a>\nI kept this one (in `topological_entropy`) as an import from `sage.functions.log` because a symbolic result is expected, as the doctests illustrate",
    "created_at": "2021-10-31T06:15:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653766",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>
I kept this one (in `topological_entropy`) as an import from `sage.functions.log` because a symbolic result is expected, as the doctests illustrate



---

archive/issue_comments_653767.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks for the review!",
    "created_at": "2021-10-31T06:15:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653767",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Thanks for the review!



---

archive/issue_comments_653768.json:
```json
{
    "body": "Changing branch from \"u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions\" to \"238e97efede530f77d5d802be867501cb5878c1e\"",
    "created_at": "2021-11-02T22:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653768",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mkoeppe/sage_functions_log_log__move_to_sage_misc_functions" to "238e97efede530f77d5d802be867501cb5878c1e"



---

archive/issue_events_086761.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-02T22:36:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32794#event-86761"
}
```



---

archive/issue_comments_653769.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-11-02T22:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32794",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32794#issuecomment-653769",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
