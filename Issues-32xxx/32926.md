# Issue 32926: Features for latex packages

archive/issues_032689.json:
```json
{
    "body": "Add Features `LaTeXPackage` to detect presence of latex packages.\n\n**CC:**  @seblabbe @kwankyu\n\n**Branch:** [e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)\n\n**Reviewer:** Kwankyu Lee, S\u00e9bastien Labb\u00e9\n\n**Author:** Matthias Koeppe\n\n**Dependencies:** #32174\n\nIssue created by migration from https://trac.sagemath.org/ticket/32926\n\n",
    "closed_at": "2021-12-19T11:46:46Z",
    "created_at": "2021-11-24T01:36:22Z",
    "labels": [
        "component: refactoring",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Features for latex packages",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32926",
    "user": "https://github.com/mkoeppe"
}
```
Add Features `LaTeXPackage` to detect presence of latex packages.

**CC:**  @seblabbe @kwankyu

**Branch:** [e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)

**Reviewer:** Kwankyu Lee, Sébastien Labbé

**Author:** Matthias Koeppe

**Dependencies:** #32174

Issue created by migration from https://trac.sagemath.org/ticket/32926





---

archive/issue_comments_627535.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/features_for_latex_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_latex_packages)",
    "created_at": "2021-11-24T02:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627535",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/features_for_latex_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_latex_packages)



---

archive/issue_comments_627536.json:
```json
{
    "body": "**Dependencies:** #32174",
    "created_at": "2021-11-24T02:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627536",
    "user": "https://github.com/mkoeppe"
}
```

**Dependencies:** #32174



---

archive/issue_comments_627537.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2021-11-24T02:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627537",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_627538.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12f7c98f790982e4ed6ab4126d2b0c80efef8bf7\">12f7c98</a></td><td><code>src/sage/features/polymake.py: Add all_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9312dbe74009795f2ea1a20cb5f4c2b087415c7\">c9312db</a></td><td><code>src/sage/features: Add more all_features functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/230d135a72f002fcf16980b34825e20e41f776f8\">230d135</a></td><td><code>src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py: Fix doctest markup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a8f48c64947e41300407bdd7092a1b019d74d60\">7a8f48c</a></td><td><code>src/sage/features/sagemath.py (sage_features): Unused now, removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7f538d22836555cecd2a09aa0531af6d2200ff2\">e7f538d</a></td><td><code>sage.features.bliss: Change name of BlissLibrary feature to libbliss, remove it from all_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12a25079415abfa9d23c73668e294b2f1ad1d0e9\">12a2507</a></td><td><code>src/sage/features/interfaces.py: Fix indentation in docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dd76b608c0a47ac9731cf099885a536d90a8ab3\">0dd76b6</a></td><td><code>Merge tag '9.5.beta7' into t/32174/doctests__detect__safe__external_features_even_if____optional_external__is_not_used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07b2512e77df2923d85bda52d42537392ca6b338\">07b2512</a></td><td><code>src/sage/misc/latex.py: Conditionalize some doctests on latex_package_tkz_graph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dd9ad3b227eb2154830364807f6e9a604e8a905\">2dd9ad3</a></td><td><code>Merge #32174</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793\">42d35b0</a></td><td><code>src/sage/features/latex.py (TeXFile, LaTeXPackage, 'latex_package_tkz_graph'): New</code></td></tr></table>\n",
    "created_at": "2021-11-24T02:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627538",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12f7c98f790982e4ed6ab4126d2b0c80efef8bf7">12f7c98</a></td><td><code>src/sage/features/polymake.py: Add all_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9312dbe74009795f2ea1a20cb5f4c2b087415c7">c9312db</a></td><td><code>src/sage/features: Add more all_features functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/230d135a72f002fcf16980b34825e20e41f776f8">230d135</a></td><td><code>src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py: Fix doctest markup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a8f48c64947e41300407bdd7092a1b019d74d60">7a8f48c</a></td><td><code>src/sage/features/sagemath.py (sage_features): Unused now, removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7f538d22836555cecd2a09aa0531af6d2200ff2">e7f538d</a></td><td><code>sage.features.bliss: Change name of BlissLibrary feature to libbliss, remove it from all_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12a25079415abfa9d23c73668e294b2f1ad1d0e9">12a2507</a></td><td><code>src/sage/features/interfaces.py: Fix indentation in docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dd76b608c0a47ac9731cf099885a536d90a8ab3">0dd76b6</a></td><td><code>Merge tag '9.5.beta7' into t/32174/doctests__detect__safe__external_features_even_if____optional_external__is_not_used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07b2512e77df2923d85bda52d42537392ca6b338">07b2512</a></td><td><code>src/sage/misc/latex.py: Conditionalize some doctests on latex_package_tkz_graph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dd9ad3b227eb2154830364807f6e9a604e8a905">2dd9ad3</a></td><td><code>Merge #32174</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793">42d35b0</a></td><td><code>src/sage/features/latex.py (TeXFile, LaTeXPackage, 'latex_package_tkz_graph'): New</code></td></tr></table>




---

archive/issue_comments_627539.json:
```json
{
    "body": "**Commit:** [42d35b0c3ba88718322c33122e504d174eede793](https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793)",
    "created_at": "2021-11-24T02:07:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627539",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [42d35b0c3ba88718322c33122e504d174eede793](https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793)



---

archive/issue_comments_627540.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2021-11-25T11:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627540",
    "user": "https://github.com/seblabbe"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_627541.json:
```json
{
    "body": "<a id='comment:4'></a>\nWhen testing the feature, I get:\n\n```\nNameError: name 'FeatureNotPresentError' is not defined\n```\nan import is missing.",
    "created_at": "2021-11-25T11:08:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627541",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>
When testing the feature, I get:

```
NameError: name 'FeatureNotPresentError' is not defined
```
an import is missing.



---

archive/issue_comments_627542.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427\">da1e922</a></td><td><code>src/sage/features/latex.py: Add missing import</code></td></tr></table>\n",
    "created_at": "2021-11-25T18:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627542",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427">da1e922</a></td><td><code>src/sage/features/latex.py: Add missing import</code></td></tr></table>




---

archive/issue_comments_627543.json:
```json
{
    "body": "**Changing commit** from \"[42d35b0c3ba88718322c33122e504d174eede793](https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793)\" to \"[da1e9226825e735e1fc7e56f0a14885ea33b3427](https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427)\".",
    "created_at": "2021-11-25T18:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627543",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[42d35b0c3ba88718322c33122e504d174eede793](https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793)" to "[da1e9226825e735e1fc7e56f0a14885ea33b3427](https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427)".



---

archive/issue_comments_627544.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-11-25T18:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627544",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_627545.json:
```json
{
    "body": "<a id='comment:8'></a>\n\n```diff\ndiff --git a/src/sage/features/latex.py b/src/sage/features/latex.py\nindex 7b95796be4..7bd8d72164 100644\n--- a/src/sage/features/latex.py\n+++ b/src/sage/features/latex.py\n@@ -147,7 +147,7 @@ class TeXFile(StaticFile):\n         sage: from sage.features.latex import TeXFile\n         sage: TeXFile('x', 'x.tex').is_present()  # optional: pdflatex\n         FeatureTestResult('x', True)\n-        sage: TeXFile('nonexisting', 'fajfhjdksf-nonexisting-file.tex').is_present()  # optional: pdflatex\n+        sage: TeXFile('nonexisting', 'xxxxxx-nonexisting-file.tex').is_present()  # optional - pdflatex\n         FeatureTestResult('nonexisting', False)\n     \"\"\"\n     def __init__(self, name, filename, **kwds):\n@@ -161,7 +161,7 @@ class TeXFile(StaticFile):\n \n             sage: from sage.features.latex import TeXFile\n             sage: feature = TeXFile('latex_class_article', 'article.cls')\n-            sage: feature.absolute_path()  # optional: pdflatex\n+            sage: feature.absolute_path()  # optional - pdflatex\n             '.../latex/base/article.cls'\n         \"\"\"\n         from subprocess import run, CalledProcessError, PIPE\n@@ -183,7 +183,7 @@ class LaTeXPackage(TeXFile):\n     EXAMPLES::\n \n         sage: from sage.features.latex import LaTeXPackage\n-        sage: LaTeXPackage('graphics').is_present()  # optional: pdflatex\n+        sage: LaTeXPackage('graphics').is_present()  # optional - pdflatex\n         FeatureTestResult('latex_package_graphics', True)\n     \"\"\"\n     @staticmethod\n```\n\nOtherwise, looks good to me.",
    "created_at": "2021-11-30T12:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627545",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>

```diff
diff --git a/src/sage/features/latex.py b/src/sage/features/latex.py
index 7b95796be4..7bd8d72164 100644
--- a/src/sage/features/latex.py
+++ b/src/sage/features/latex.py
@@ -147,7 +147,7 @@ class TeXFile(StaticFile):
         sage: from sage.features.latex import TeXFile
         sage: TeXFile('x', 'x.tex').is_present()  # optional: pdflatex
         FeatureTestResult('x', True)
-        sage: TeXFile('nonexisting', 'fajfhjdksf-nonexisting-file.tex').is_present()  # optional: pdflatex
+        sage: TeXFile('nonexisting', 'xxxxxx-nonexisting-file.tex').is_present()  # optional - pdflatex
         FeatureTestResult('nonexisting', False)
     """
     def __init__(self, name, filename, **kwds):
@@ -161,7 +161,7 @@ class TeXFile(StaticFile):
 
             sage: from sage.features.latex import TeXFile
             sage: feature = TeXFile('latex_class_article', 'article.cls')
-            sage: feature.absolute_path()  # optional: pdflatex
+            sage: feature.absolute_path()  # optional - pdflatex
             '.../latex/base/article.cls'
         """
         from subprocess import run, CalledProcessError, PIPE
@@ -183,7 +183,7 @@ class LaTeXPackage(TeXFile):
     EXAMPLES::
 
         sage: from sage.features.latex import LaTeXPackage
-        sage: LaTeXPackage('graphics').is_present()  # optional: pdflatex
+        sage: LaTeXPackage('graphics').is_present()  # optional - pdflatex
         FeatureTestResult('latex_package_graphics', True)
     """
     @staticmethod
```

Otherwise, looks good to me.



---

archive/issue_comments_627546.json:
```json
{
    "body": "**Reviewer:** Kwankyu Lee",
    "created_at": "2021-11-30T12:50:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627546",
    "user": "https://github.com/kwankyu"
}
```

**Reviewer:** Kwankyu Lee



---

archive/issue_comments_627547.json:
```json
{
    "body": "<a id='comment:10'></a>\nI agree with these changes, please push them to the ticket",
    "created_at": "2021-11-30T17:01:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627547",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>
I agree with these changes, please push them to the ticket



---

archive/issue_comments_627548.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/features_for_latex_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_latex_packages)\" to \"[public/32926](https://github.com/sagemath/sagetrac-mirror/tree/public/32926)\".",
    "created_at": "2021-12-01T00:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627548",
    "user": "https://github.com/kwankyu"
}
```

**Changing branch** from "[u/mkoeppe/features_for_latex_packages](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/features_for_latex_packages)" to "[public/32926](https://github.com/sagemath/sagetrac-mirror/tree/public/32926)".



---

archive/issue_comments_627549.json:
```json
{
    "body": "**Changing commit** from \"[da1e9226825e735e1fc7e56f0a14885ea33b3427](https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427)\" to \"\".",
    "created_at": "2021-12-01T00:21:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627549",
    "user": "https://github.com/kwankyu"
}
```

**Changing commit** from "[da1e9226825e735e1fc7e56f0a14885ea33b3427](https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427)" to "".



---

archive/issue_comments_627550.json:
```json
{
    "body": "**Commit:** [ddac7bc9895710461c7e1097a79f0898d8dea560](https://github.com/sagemath/sagetrac-mirror/commit/ddac7bc9895710461c7e1097a79f0898d8dea560)",
    "created_at": "2021-12-01T00:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627550",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [ddac7bc9895710461c7e1097a79f0898d8dea560](https://github.com/sagemath/sagetrac-mirror/commit/ddac7bc9895710461c7e1097a79f0898d8dea560)



---

archive/issue_comments_627551.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/230d135a72f002fcf16980b34825e20e41f776f8\">230d135</a></td><td><code>src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py: Fix doctest markup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a8f48c64947e41300407bdd7092a1b019d74d60\">7a8f48c</a></td><td><code>src/sage/features/sagemath.py (sage_features): Unused now, removed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7f538d22836555cecd2a09aa0531af6d2200ff2\">e7f538d</a></td><td><code>sage.features.bliss: Change name of BlissLibrary feature to libbliss, remove it from all_features</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12a25079415abfa9d23c73668e294b2f1ad1d0e9\">12a2507</a></td><td><code>src/sage/features/interfaces.py: Fix indentation in docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0dd76b608c0a47ac9731cf099885a536d90a8ab3\">0dd76b6</a></td><td><code>Merge tag '9.5.beta7' into t/32174/doctests__detect__safe__external_features_even_if____optional_external__is_not_used</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/07b2512e77df2923d85bda52d42537392ca6b338\">07b2512</a></td><td><code>src/sage/misc/latex.py: Conditionalize some doctests on latex_package_tkz_graph</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2dd9ad3b227eb2154830364807f6e9a604e8a905\">2dd9ad3</a></td><td><code>Merge #32174</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793\">42d35b0</a></td><td><code>src/sage/features/latex.py (TeXFile, LaTeXPackage, 'latex_package_tkz_graph'): New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427\">da1e922</a></td><td><code>src/sage/features/latex.py: Add missing import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddac7bc9895710461c7e1097a79f0898d8dea560\">ddac7bc</a></td><td><code>Small edits</code></td></tr></table>\n",
    "created_at": "2021-12-01T00:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627551",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/230d135a72f002fcf16980b34825e20e41f776f8">230d135</a></td><td><code>src/sage/geometry/hyperbolic_space/hyperbolic_geodesic.py: Fix doctest markup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a8f48c64947e41300407bdd7092a1b019d74d60">7a8f48c</a></td><td><code>src/sage/features/sagemath.py (sage_features): Unused now, removed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7f538d22836555cecd2a09aa0531af6d2200ff2">e7f538d</a></td><td><code>sage.features.bliss: Change name of BlissLibrary feature to libbliss, remove it from all_features</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12a25079415abfa9d23c73668e294b2f1ad1d0e9">12a2507</a></td><td><code>src/sage/features/interfaces.py: Fix indentation in docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0dd76b608c0a47ac9731cf099885a536d90a8ab3">0dd76b6</a></td><td><code>Merge tag '9.5.beta7' into t/32174/doctests__detect__safe__external_features_even_if____optional_external__is_not_used</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/07b2512e77df2923d85bda52d42537392ca6b338">07b2512</a></td><td><code>src/sage/misc/latex.py: Conditionalize some doctests on latex_package_tkz_graph</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2dd9ad3b227eb2154830364807f6e9a604e8a905">2dd9ad3</a></td><td><code>Merge #32174</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42d35b0c3ba88718322c33122e504d174eede793">42d35b0</a></td><td><code>src/sage/features/latex.py (TeXFile, LaTeXPackage, 'latex_package_tkz_graph'): New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da1e9226825e735e1fc7e56f0a14885ea33b3427">da1e922</a></td><td><code>src/sage/features/latex.py: Add missing import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddac7bc9895710461c7e1097a79f0898d8dea560">ddac7bc</a></td><td><code>Small edits</code></td></tr></table>




---

archive/issue_comments_627552.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-12-01T00:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627552",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_627553.json:
```json
{
    "body": "<a id='comment:13'></a>\nOkay. Done.",
    "created_at": "2021-12-01T00:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627553",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:13'></a>
Okay. Done.



---

archive/issue_comments_627554.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2021-12-01T00:24:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627554",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_627555.json:
```json
{
    "body": "<a id='comment:15'></a>\nLet's wait for the patchbot run once more.",
    "created_at": "2021-12-01T00:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627555",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:15'></a>
Let's wait for the patchbot run once more.



---

archive/issue_comments_627556.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-12-01T00:24:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627556",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_627557.json:
```json
{
    "body": "<a id='comment:16'></a>\nThere are latex related failures on the patchbot, that may be caused by this ticket:\n\n```\nUsing --optional=build,debian,dochtml,pip,sage,sage_spkg\nFeatures to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,ffmpeg,graphviz,imagemagick,jupymake,kenzo,latex,latex_package_tkz_graph,latte_int,lrslib,lualatex,mcqd,meataxe,pandoc,pdf2svg,pdflatex,plantri,pynormaliz,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,tdlib,xelatex\n...\n----------------------------------------------------------------------\nsage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/plot/plot.py  # 89 doctests failed\nsage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/plot/graphics.py  # 63 doctests failed\nsage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/misc/latex.py  # 1 doctest failed\n----------------------------------------------------------------------\nFeatures detected for doctesting: 4ti2,dvipng,ffmpeg,graphviz,latex,latex_package_tkz_graph,lrslib,lualatex,pdflatex,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,xelatex\n```\n\nin particular:\n\n```\nsage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/misc/latex.py\n**********************************************************************\nFile \"src/sage/misc/latex.py\", line 1968, in sage.misc.latex.?\nFailed example:\n    png(ZZ[x], os.path.join(SAGE_TMP, \"zz.png\")) # random, optional - latex\nException raised:\n    Traceback (most recent call last):\n      File \"/home/debian/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/debian/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.misc.latex.?[1]>\", line 1, in <module>\n        png(ZZ[x], os.path.join(SAGE_TMP, \"zz.png\")) # random, optional - latex\n      File \"/home/debian/sage/local/lib/python3.9/site-packages/sage/misc/latex.py\", line 1990, in png\n        e = _run_latex_(tex_file, density=density, debug=debug,\n      File \"/home/debian/sage/local/lib/python3.9/site-packages/sage/misc/latex.py\", line 755, in _run_latex_\n        ImageMagick().require()\n      File \"/home/debian/sage/local/lib/python3.9/site-packages/sage/features/__init__.py\", line 205, in require\n        raise FeatureNotPresentError(self, presence.reason, presence.resolution)\n    sage.features.FeatureNotPresentError: imagemagick is not available.\n    Executable 'convert' not found on PATH.\n    To install imagemagick using the debian package manager, you can try to run:\n    !sudo apt-get update \n      !sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev\n    To install imagemagick using the Sage package manager, you can try to run:\n      !sage -i _recommended\n    No equivalent system packages for pip are known to Sage.\n    Further installation instructions might be available at https://www.imagemagick.org/.\n**********************************************************************\n1 item had failures:\n   1 of  19 in sage.misc.latex.?\n    [257 tests, 1 failure, 5.09 s]\n```\n\nAlso notice:\n\n```\nTo install imagemagick using the debian package manager, you can try to run:\n    !sudo apt-get update \n    !sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev\n```",
    "created_at": "2021-12-01T07:38:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627557",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:16'></a>
There are latex related failures on the patchbot, that may be caused by this ticket:

```
Using --optional=build,debian,dochtml,pip,sage,sage_spkg
Features to be detected: 4ti2,benzene,bliss,buckygen,conway_polynomials,csdp,database_cremona_ellcurve,database_cremona_mini_ellcurve,database_jones_numfield,database_knotinfo,dvipng,ffmpeg,graphviz,imagemagick,jupymake,kenzo,latex,latex_package_tkz_graph,latte_int,lrslib,lualatex,mcqd,meataxe,pandoc,pdf2svg,pdflatex,plantri,pynormaliz,rubiks,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,sage_numerical_backends_coin,tdlib,xelatex
...
----------------------------------------------------------------------
sage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/plot/plot.py  # 89 doctests failed
sage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/plot/graphics.py  # 63 doctests failed
sage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/misc/latex.py  # 1 doctest failed
----------------------------------------------------------------------
Features detected for doctesting: 4ti2,dvipng,ffmpeg,graphviz,latex,latex_package_tkz_graph,lrslib,lualatex,pdflatex,sage.combinat,sage.geometry.polyhedron,sage.graphs,sage.plot,sage.rings.number_field,sage.rings.real_double,sage.symbolic,xelatex
```

in particular:

```
sage -t --long --random-seed=178499729190442340371727389632049879918 src/sage/misc/latex.py
**********************************************************************
File "src/sage/misc/latex.py", line 1968, in sage.misc.latex.?
Failed example:
    png(ZZ[x], os.path.join(SAGE_TMP, "zz.png")) # random, optional - latex
Exception raised:
    Traceback (most recent call last):
      File "/home/debian/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/debian/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.misc.latex.?[1]>", line 1, in <module>
        png(ZZ[x], os.path.join(SAGE_TMP, "zz.png")) # random, optional - latex
      File "/home/debian/sage/local/lib/python3.9/site-packages/sage/misc/latex.py", line 1990, in png
        e = _run_latex_(tex_file, density=density, debug=debug,
      File "/home/debian/sage/local/lib/python3.9/site-packages/sage/misc/latex.py", line 755, in _run_latex_
        ImageMagick().require()
      File "/home/debian/sage/local/lib/python3.9/site-packages/sage/features/__init__.py", line 205, in require
        raise FeatureNotPresentError(self, presence.reason, presence.resolution)
    sage.features.FeatureNotPresentError: imagemagick is not available.
    Executable 'convert' not found on PATH.
    To install imagemagick using the debian package manager, you can try to run:
    !sudo apt-get update 
      !sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev
    To install imagemagick using the Sage package manager, you can try to run:
      !sage -i _recommended
    No equivalent system packages for pip are known to Sage.
    Further installation instructions might be available at https://www.imagemagick.org/.
**********************************************************************
1 item had failures:
   1 of  19 in sage.misc.latex.?
    [257 tests, 1 failure, 5.09 s]
```

Also notice:

```
To install imagemagick using the debian package manager, you can try to run:
    !sudo apt-get update 
    !sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev
```



---

archive/issue_comments_627558.json:
```json
{
    "body": "<a id='comment:17'></a>\nThis failure in testing `src/sage/misc/latex.py` is probably already visible with #32174.",
    "created_at": "2021-12-01T07:52:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627558",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
This failure in testing `src/sage/misc/latex.py` is probably already visible with #32174.



---

archive/issue_comments_627559.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60bdd717d1d6bd7e1c357e8b9f29628bb449875c\">60bdd71</a></td><td><code>sage.misc.latex.png: Mark doctest # optional - imagemagick</code></td></tr></table>\n",
    "created_at": "2021-12-01T07:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60bdd717d1d6bd7e1c357e8b9f29628bb449875c">60bdd71</a></td><td><code>sage.misc.latex.png: Mark doctest # optional - imagemagick</code></td></tr></table>




---

archive/issue_comments_627560.json:
```json
{
    "body": "**Changing commit** from \"[ddac7bc9895710461c7e1097a79f0898d8dea560](https://github.com/sagemath/sagetrac-mirror/commit/ddac7bc9895710461c7e1097a79f0898d8dea560)\" to \"[60bdd717d1d6bd7e1c357e8b9f29628bb449875c](https://github.com/sagemath/sagetrac-mirror/commit/60bdd717d1d6bd7e1c357e8b9f29628bb449875c)\".",
    "created_at": "2021-12-01T07:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ddac7bc9895710461c7e1097a79f0898d8dea560](https://github.com/sagemath/sagetrac-mirror/commit/ddac7bc9895710461c7e1097a79f0898d8dea560)" to "[60bdd717d1d6bd7e1c357e8b9f29628bb449875c](https://github.com/sagemath/sagetrac-mirror/commit/60bdd717d1d6bd7e1c357e8b9f29628bb449875c)".



---

archive/issue_comments_627561.json:
```json
{
    "body": "<a id='comment:19'></a>\nNot sure what's going on in the other failures in `sage.plot`.",
    "created_at": "2021-12-01T08:01:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627561",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Not sure what's going on in the other failures in `sage.plot`.



---

archive/issue_comments_627562.json:
```json
{
    "body": "<a id='comment:20'></a>\n(*This comment was moved to* ticket:32174#comment:56)",
    "created_at": "2021-12-01T10:44:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627562",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:20'></a>
(*This comment was moved to* ticket:32174#comment:56)



---

archive/issue_comments_627563.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [mkoeppe](#comment%3A17):\n> This failure in testing `src/sage/misc/latex.py` is probably already visible with #32174.\n\n\nOk, so I confirm that the 89 + 63 failures are already seen by the patchbot `labri-vindelecroix-1` while testing #32174, so it is not related to the current ticket.",
    "created_at": "2021-12-01T10:50:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627563",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:21'></a>
Replying to [mkoeppe](#comment%3A17):
> This failure in testing `src/sage/misc/latex.py` is probably already visible with #32174.


Ok, so I confirm that the 89 + 63 failures are already seen by the patchbot `labri-vindelecroix-1` while testing #32174, so it is not related to the current ticket.



---

archive/issue_comments_627564.json:
```json
{
    "body": "**Changing commit** from \"[60bdd717d1d6bd7e1c357e8b9f29628bb449875c](https://github.com/sagemath/sagetrac-mirror/commit/60bdd717d1d6bd7e1c357e8b9f29628bb449875c)\" to \"[140575c98ab5e3ddd468ce23ed328d7af8b89cf6](https://github.com/sagemath/sagetrac-mirror/commit/140575c98ab5e3ddd468ce23ed328d7af8b89cf6)\".",
    "created_at": "2021-12-01T18:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627564",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[60bdd717d1d6bd7e1c357e8b9f29628bb449875c](https://github.com/sagemath/sagetrac-mirror/commit/60bdd717d1d6bd7e1c357e8b9f29628bb449875c)" to "[140575c98ab5e3ddd468ce23ed328d7af8b89cf6](https://github.com/sagemath/sagetrac-mirror/commit/140575c98ab5e3ddd468ce23ed328d7af8b89cf6)".



---

archive/issue_comments_627565.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb13437b602e3217c3df2290ad40a9f89741b783\">cb13437</a></td><td><code>32174: fix the --show-skipped doctest report</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/391dca19bf3cd61c148f99027fb7983bbdaef3bd\">391dca1</a></td><td><code>sage.misc.latex.png: Mark doctest # optional - imagemagick</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f311b311e44def63f21ed4524d5e76f753f3be7\">6f311b3</a></td><td><code>src/sage/doctest/external.py: Revert latex features to 'external'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3bfe1a14fbce31550866a1d4b393ec076e344592\">3bfe1a1</a></td><td><code>32174: adapting the doctest listing external softwares</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e41cf29e28b477433077b29118c565d4a698407b\">e41cf29</a></td><td><code>src/sage/features/latex.py (TeXFile, LaTeXPackage, 'latex_package_tkz_graph'): New</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d875d5451e6b2143c549ecd10001297ab12d3f4\">8d875d5</a></td><td><code>src/sage/features/latex.py: Add missing import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/140575c98ab5e3ddd468ce23ed328d7af8b89cf6\">140575c</a></td><td><code>Small edits</code></td></tr></table>\n",
    "created_at": "2021-12-01T18:17:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb13437b602e3217c3df2290ad40a9f89741b783">cb13437</a></td><td><code>32174: fix the --show-skipped doctest report</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/391dca19bf3cd61c148f99027fb7983bbdaef3bd">391dca1</a></td><td><code>sage.misc.latex.png: Mark doctest # optional - imagemagick</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f311b311e44def63f21ed4524d5e76f753f3be7">6f311b3</a></td><td><code>src/sage/doctest/external.py: Revert latex features to 'external'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3bfe1a14fbce31550866a1d4b393ec076e344592">3bfe1a1</a></td><td><code>32174: adapting the doctest listing external softwares</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e41cf29e28b477433077b29118c565d4a698407b">e41cf29</a></td><td><code>src/sage/features/latex.py (TeXFile, LaTeXPackage, 'latex_package_tkz_graph'): New</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d875d5451e6b2143c549ecd10001297ab12d3f4">8d875d5</a></td><td><code>src/sage/features/latex.py: Add missing import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/140575c98ab5e3ddd468ce23ed328d7af8b89cf6">140575c</a></td><td><code>Small edits</code></td></tr></table>




---

archive/issue_comments_627566.json:
```json
{
    "body": "<a id='comment:23'></a>\nrebased on top of updated #32174",
    "created_at": "2021-12-01T18:17:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627566",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:23'></a>
rebased on top of updated #32174



---

archive/issue_comments_627567.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [slabbe](#comment%3A16):\n> Also notice:\n> \n> ```\n> To install imagemagick using the debian package manager, you can try to run:\n>     !sudo apt-get update \n>     !sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev\n> ```\n\n\nSee #32956 to deal with that.",
    "created_at": "2021-12-01T21:15:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627567",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:24'></a>
Replying to [slabbe](#comment%3A16):
> Also notice:
> 
> ```
> To install imagemagick using the debian package manager, you can try to run:
>     !sudo apt-get update 
>     !sudo apt-get install  texlive-latex-extra texlive-xetex latexmk dvipng default-jdk ffmpeg libavdevice-dev
> ```


See #32956 to deal with that.



---

archive/issue_comments_627568.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-12-03T05:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627568",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_627569.json:
```json
{
    "body": "**Changing reviewer** from \"Kwankyu Lee\" to \"Kwankyu Lee; S\u00e9bastien Labb\u00e9\".",
    "created_at": "2021-12-03T05:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627569",
    "user": "https://github.com/kwankyu"
}
```

**Changing reviewer** from "Kwankyu Lee" to "Kwankyu Lee; Sébastien Labbé".



---

archive/issue_comments_627570.json:
```json
{
    "body": "<a id='comment:25'></a>\nNo more thing to do here. Right?",
    "created_at": "2021-12-03T05:35:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627570",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:25'></a>
No more thing to do here. Right?



---

archive/issue_comments_627571.json:
```json
{
    "body": "<a id='comment:26'></a>\nMaybe a short ticket description?\n\nE.g. is there a meta-ticket or documentation page\nor release tour item about \"features\"?\n\nOther than that, this ticket depends on #32174\nwhich still needs review.",
    "created_at": "2021-12-03T05:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627571",
    "user": "https://github.com/slel"
}
```

<a id='comment:26'></a>
Maybe a short ticket description?

E.g. is there a meta-ticket or documentation page
or release tour item about "features"?

Other than that, this ticket depends on #32174
which still needs review.



---

archive/issue_comments_627572.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2021-12-03T06:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627572",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_627573.json:
```json
{
    "body": "<a id='comment:27'></a>\nOkay then.",
    "created_at": "2021-12-03T06:48:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627573",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:27'></a>
Okay then.



---

archive/issue_comments_627574.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-\n+Add Features `LaTeXPackage` to detect presence of latex packages.\n``````\n",
    "created_at": "2021-12-03T07:36:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627574",
    "user": "https://github.com/kwankyu"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-
+Add Features `LaTeXPackage` to detect presence of latex packages.
``````




---

archive/issue_comments_627575.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2021-12-03T07:41:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627575",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_627576.json:
```json
{
    "body": "<a id='comment:30'></a>\nAs the dependency #32174 just got positive review.",
    "created_at": "2021-12-03T08:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627576",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:30'></a>
As the dependency #32174 just got positive review.



---

archive/issue_comments_627577.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2021-12-03T08:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627577",
    "user": "https://github.com/kwankyu"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_627578.json:
```json
{
    "body": "<a id='comment:31'></a>\n\n```\nsage -t --long --warn-long 41.2 --random-seed=90818346224792411697676027482246961463 src/sage/doctest/external.py\n**********************************************************************\nFile \"src/sage/doctest/external.py\", line 379, in sage.doctest.external.AvailableSoftware\nFailed example:\n    external_software\nExpected:\n    ['cplex',\n     'gurobi',\n     'internet',\n     'latex',\n     'lualatex',\n     'macaulay2',\n     'magma',\n     'maple',\n     'mathematica',\n     'matlab',\n     'octave',\n     'pdflatex',\n     'scilab',\n     'xelatex']\nGot:\n    ['cplex',\n     'gurobi',\n     'internet',\n     'latex',\n     'latex_package_tkz_graph',\n     'lualatex',\n     'macaulay2',\n     'magma',\n     'maple',\n     'mathematica',\n     'matlab',\n     'octave',\n     'pdflatex',\n     'scilab',\n     'xelatex']\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.doctest.external.AvailableSoftware\n    [40 tests, 1 failure, 0.02 s]\n```",
    "created_at": "2021-12-12T15:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627578",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>

```
sage -t --long --warn-long 41.2 --random-seed=90818346224792411697676027482246961463 src/sage/doctest/external.py
**********************************************************************
File "src/sage/doctest/external.py", line 379, in sage.doctest.external.AvailableSoftware
Failed example:
    external_software
Expected:
    ['cplex',
     'gurobi',
     'internet',
     'latex',
     'lualatex',
     'macaulay2',
     'magma',
     'maple',
     'mathematica',
     'matlab',
     'octave',
     'pdflatex',
     'scilab',
     'xelatex']
Got:
    ['cplex',
     'gurobi',
     'internet',
     'latex',
     'latex_package_tkz_graph',
     'lualatex',
     'macaulay2',
     'magma',
     'maple',
     'mathematica',
     'matlab',
     'octave',
     'pdflatex',
     'scilab',
     'xelatex']
**********************************************************************
1 item had failures:
   1 of   3 in sage.doctest.external.AvailableSoftware
    [40 tests, 1 failure, 0.02 s]
```



---

archive/issue_comments_627579.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2021-12-12T15:59:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627579",
    "user": "https://github.com/vbraun"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_627580.json:
```json
{
    "body": "**Changing commit** from \"[140575c98ab5e3ddd468ce23ed328d7af8b89cf6](https://github.com/sagemath/sagetrac-mirror/commit/140575c98ab5e3ddd468ce23ed328d7af8b89cf6)\" to \"[e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)\".",
    "created_at": "2021-12-12T17:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627580",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[140575c98ab5e3ddd468ce23ed328d7af8b89cf6](https://github.com/sagemath/sagetrac-mirror/commit/140575c98ab5e3ddd468ce23ed328d7af8b89cf6)" to "[e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)".



---

archive/issue_comments_627581.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29a07508469d66c85dc03449a7fe08827eac6bfc\">29a0750</a></td><td><code>Merge tag '9.5.beta8' into t/32926/public/32926</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b\">e22c173</a></td><td><code>src/sage/doctest/external.py: Update doctest output</code></td></tr></table>\n",
    "created_at": "2021-12-12T17:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627581",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29a07508469d66c85dc03449a7fe08827eac6bfc">29a0750</a></td><td><code>Merge tag '9.5.beta8' into t/32926/public/32926</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b">e22c173</a></td><td><code>src/sage/doctest/external.py: Update doctest output</code></td></tr></table>




---

archive/issue_comments_627582.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2021-12-12T17:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627582",
    "user": "https://github.com/mkoeppe"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_events_097573.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-19T11:46:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32926#event-97573"
}
```



---

archive/issue_comments_627583.json:
```json
{
    "body": "**Changing branch** from \"[public/32926](https://github.com/sagemath/sagetrac-mirror/tree/public/32926)\" to \"[e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)\".",
    "created_at": "2021-12-19T11:46:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627583",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/32926](https://github.com/sagemath/sagetrac-mirror/tree/public/32926)" to "[e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)".



---

archive/issue_comments_627584.json:
```json
{
    "body": "**Changing commit** from \"[e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)\" to \"\".",
    "created_at": "2022-01-30T18:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627584",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[e22c173e279cf55b7c5836ee0af32688422e043b](https://github.com/sagemath/sagetrac-mirror/commit/e22c173e279cf55b7c5836ee0af32688422e043b)" to "".



---

archive/issue_comments_627585.json:
```json
{
    "body": "**Changing reviewer** from \"Kwankyu Lee; S\u00e9bastien Labb\u00e9\" to \"Kwankyu Lee, S\u00e9bastien Labb\u00e9\".",
    "created_at": "2022-01-30T18:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32926",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32926#issuecomment-627585",
    "user": "https://github.com/mkoeppe"
}
```

**Changing reviewer** from "Kwankyu Lee; Sébastien Labbé" to "Kwankyu Lee, Sébastien Labbé".
