# Issue 32488: Update numpy to 1.21.2

archive/issues_032251.json:
```json
{
    "assignees": [],
    "body": "(split out from #32105)\n\n\u200bhttps://github.com/numpy/numpy/releases\n\n\"The Python versions supported for this release are 3.7-3.9. The 1.21.x series is compatible with Python 3.10.0rc1 and Python 3.10 will be officially supported after it is released.\"\n\n\n\nCC:  @dimpase @kiwifb @antonio-rojas @slel\n\nBranch/Commit: **[`c6a3a39`](https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32488_\n\n",
    "closed_at": "2021-09-15T22:06:20Z",
    "created_at": "2021-09-07T22:19:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Update numpy to 1.21.2",
    "type": "issue",
    "updated_at": "2021-09-15T22:06:20Z",
    "url": "https://github.com/sagemath/sage/issues/32488",
    "user": "https://github.com/mkoeppe"
}
```
(split out from #32105)

â€‹https://github.com/numpy/numpy/releases

"The Python versions supported for this release are 3.7-3.9. The 1.21.x series is compatible with Python 3.10.0rc1 and Python 3.10 will be officially supported after it is released."



CC:  @dimpase @kiwifb @antonio-rojas @slel

Branch/Commit: **[`c6a3a39`](https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c)**

Reviewer: **Dima Pasechnik**

Author: **Matthias Koeppe**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/32488_





---

archive/issue_events_450128.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T22:19:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450128"
}
```



---

archive/issue_events_450129.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T22:19:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450129"
}
```



---

archive/issue_events_450130.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T22:19:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450130"
}
```



---

archive/issue_events_450131.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T22:19:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450131"
}
```



---

archive/issue_comments_523899.json:
```json
{
    "body": "Branch: **[u/mkoeppe/update_numpy_to_1_21_2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/update_numpy_to_1_21_2)**",
    "created_at": "2021-09-07T22:22:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523899",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/update_numpy_to_1_21_2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/update_numpy_to_1_21_2)**



---

archive/issue_comments_523900.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/033366cd1f61bb303a7e9e29ab1512005a75930c\"><code>033366c</code></a></td><td><code>build/pkgs/numpy: Update to 1.21.1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c\"><code>c6a3a39</code></a></td><td><code>build/pkgs/numpy: Update to 1.21.2</code></td></tr></table>\n",
    "created_at": "2021-09-07T22:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523900",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/033366cd1f61bb303a7e9e29ab1512005a75930c"><code>033366c</code></a></td><td><code>build/pkgs/numpy: Update to 1.21.1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c"><code>c6a3a39</code></a></td><td><code>build/pkgs/numpy: Update to 1.21.2</code></td></tr></table>




---

archive/issue_events_450132.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-07T22:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450132"
}
```



---

archive/issue_comments_523901.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-09-07T22:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523901",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_523902.json:
```json
{
    "body": "Commit: **[`c6a3a39`](https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c)**",
    "created_at": "2021-09-07T22:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523902",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[`c6a3a39`](https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c)**



---

archive/issue_comments_523903.json:
```json
{
    "body": "Reviewer: **https://github.com/sagemath/sagetrac-mirror/actions/runs/1211322531, https://github.com/sagemath/sagetrac-mirror/actions/runs/1211321770**",
    "created_at": "2021-09-07T23:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523903",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **https://github.com/sagemath/sagetrac-mirror/actions/runs/1211322531, https://github.com/sagemath/sagetrac-mirror/actions/runs/1211321770**



---

archive/issue_comments_523904.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nTests look good; and even the usual cygwin segfaults on plotting are gone. (But we had sporadic success of the cygwin CI before, so we cannot be sure yet that this ticket fixed it.)\n\nReady for review.",
    "created_at": "2021-09-09T17:40:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523904",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Tests look good; and even the usual cygwin segfaults on plotting are gone. (But we had sporadic success of the cygwin CI before, so we cannot be sure yet that this ticket fixed it.)

Ready for review.



---

archive/issue_events_450133.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-09T17:40:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450133"
}
```



---

archive/issue_events_450134.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-09-09T17:40:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450134"
}
```



---

archive/issue_comments_523905.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI wonder whether this plays along with SciPy we ship well, or we should bump SciPy too.",
    "created_at": "2021-09-09T18:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523905",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:5" align="right">comment:5</div>

I wonder whether this plays along with SciPy we ship well, or we should bump SciPy too.



---

archive/issue_comments_523906.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOK, SciPy will get updated on #32105",
    "created_at": "2021-09-09T18:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523906",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:6" align="right">comment:6</div>

OK, SciPy will get updated on #32105



---

archive/issue_comments_523907.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nOur scipy 1.6.3 declares that it is compatible with:\n\n```\n    numpy>=1.16.5,<1.23.0\n```\n... so yes, our current version is compatible with this update.",
    "created_at": "2021-09-09T20:35:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523907",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Our scipy 1.6.3 declares that it is compatible with:

```
    numpy>=1.16.5,<1.23.0
```
... so yes, our current version is compatible with this update.



---

archive/issue_comments_523908.json:
```json
{
    "body": "Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1211322531, https://github.com/sagemath/sagetrac-mirror/actions/runs/1211321770** to **Dima Pasechnik**",
    "created_at": "2021-09-09T21:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523908",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **https://github.com/sagemath/sagetrac-mirror/actions/runs/1211322531, https://github.com/sagemath/sagetrac-mirror/actions/runs/1211321770** to **Dima Pasechnik**



---

archive/issue_comments_523909.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nlgtm",
    "created_at": "2021-09-09T21:10:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523909",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:8" align="right">comment:8</div>

lgtm



---

archive/issue_events_450135.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-09-09T21:10:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450135"
}
```



---

archive/issue_events_450136.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-09-09T21:10:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450136"
}
```



---

archive/issue_comments_523910.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThanks!",
    "created_at": "2021-09-09T22:55:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523910",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Thanks!



---

archive/issue_events_450137.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-09-15T22:06:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450137"
}
```



---

archive/issue_events_450138.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c975efea31fe9cb52fd4c8aeaa4172e78e5bb25b",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-09-15T22:06:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32488#event-450138"
}
```



---

archive/issue_comments_523911.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/update_numpy_to_1_21_2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/update_numpy_to_1_21_2)** to **[`c6a3a39`](https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c)**",
    "created_at": "2021-09-15T22:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32488",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32488#issuecomment-523911",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/update_numpy_to_1_21_2](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/update_numpy_to_1_21_2)** to **[`c6a3a39`](https://github.com/sagemath/sagetrac-mirror/commit/c6a3a39e1581af8183c13066d3a0bce5579b464c)**
