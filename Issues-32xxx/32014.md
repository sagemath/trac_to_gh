# Issue 32014: Add Gauss-Legendre vector integration with specified number of nodes

archive/issues_031777.json:
```json
{
    "body": "From #30698.\n\nWe add a method `integrate_vector_N`.\n\n\nAssignee: @DisneyHogg\n\nCC:  @nbruin @slel\n\nBranch/Commit: 11feeb2ee1a3841a3eaaca42f0acb2dbd860eeaa\n\nReviewer: Samuel Leli\u00e8vre, Nils Bruin\n\nAuthor: Linden Disney-Hogg\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32014\n\n",
    "closed_at": "2021-07-24T15:28:32Z",
    "created_at": "2021-06-20T20:01:00Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.4",
    "title": "Add Gauss-Legendre vector integration with specified number of nodes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32014",
    "user": "https://github.com/DisneyHogg"
}
```
From #30698.

We add a method `integrate_vector_N`.


Assignee: @DisneyHogg

CC:  @nbruin @slel

Branch/Commit: 11feeb2ee1a3841a3eaaca42f0acb2dbd860eeaa

Reviewer: Samuel Leli√®vre, Nils Bruin

Author: Linden Disney-Hogg

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32014





---

archive/issue_comments_484767.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-06-20T20:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484767",
    "user": "https://github.com/DisneyHogg"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_484768.json:
```json
{
    "body": "Set assignee to @DisneyHogg.",
    "created_at": "2021-06-20T20:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484768",
    "user": "https://github.com/DisneyHogg"
}
```

Set assignee to @DisneyHogg.



---

archive/issue_comments_484769.json:
```json
{
    "body": "<a id='comment:1'></a>As per ticket #30698, move the updates to sage.numerical.gauss_lengdre.integrate_vector, namely allowing for the specification of the number of nodes desired a priori, to a new ticket.",
    "created_at": "2021-06-20T20:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484769",
    "user": "https://github.com/DisneyHogg"
}
```

<a id='comment:1'></a>As per ticket #30698, move the updates to sage.numerical.gauss_lengdre.integrate_vector, namely allowing for the specification of the number of nodes desired a priori, to a new ticket.



---

archive/issue_comments_484770.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to numerical.",
    "created_at": "2021-06-20T20:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484770",
    "user": "https://github.com/DisneyHogg"
}
```

Changing component from PLEASE CHANGE to numerical.



---

archive/issue_comments_484771.json:
```json
{
    "body": "<a id='comment:3'></a>Because a version of this ticket was started as part of #30698, this ticket should eventually be merged with that ticket, to resolve the conflict. \n\n---\nNew commits:",
    "created_at": "2021-06-21T10:35:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484771",
    "user": "https://github.com/DisneyHogg"
}
```

<a id='comment:3'></a>Because a version of this ticket was started as part of #30698, this ticket should eventually be merged with that ticket, to resolve the conflict. 

---
New commits:



---

archive/issue_comments_484772.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 gh-DisneyHogg]:\n> Because a version of this ticket was started as part of #30698, this ticket should eventually be merged with that ticket, to resolve the conflict. \n\n\nOne way of dealing with these kinds of merge conflicts is to set the \"Dependencies\" field to #30698, and rebase this branch on the branch there. Once the tickets are ready to be merged, this clearly indicates the merge order. It may mean that the branch here must be merged with further developments on the other branch. It's actually a practical reason *not* to split tickets you're working on, if they are mainly touching the same file.\n\nYou can also hope that git's standard merge tools recognize you're touching different lines in the same file and hence merge without reporting conflicts (logically, the changes on the tickets are orthogonal, so the dependence would really be for practical reasons)",
    "created_at": "2021-06-21T15:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484772",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:4'></a>Replying to [comment:3 gh-DisneyHogg]:
> Because a version of this ticket was started as part of #30698, this ticket should eventually be merged with that ticket, to resolve the conflict. 


One way of dealing with these kinds of merge conflicts is to set the "Dependencies" field to #30698, and rebase this branch on the branch there. Once the tickets are ready to be merged, this clearly indicates the merge order. It may mean that the branch here must be merged with further developments on the other branch. It's actually a practical reason *not* to split tickets you're working on, if they are mainly touching the same file.

You can also hope that git's standard merge tools recognize you're touching different lines in the same file and hence merge without reporting conflicts (logically, the changes on the tickets are orthogonal, so the dependence would really be for practical reasons)



---

archive/issue_comments_484773.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-06-22T14:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484773",
    "user": "https://github.com/DisneyHogg"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_484774.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+We add a method `integrate_vector_N`.\n \n Type: PLEASE CHANGE\n \n``````\n",
    "created_at": "2021-06-27T20:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484774",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+We add a method `integrate_vector_N`.
 
 Type: PLEASE CHANGE
 
``````




---

archive/issue_comments_484775.json:
```json
{
    "body": "<a id='comment:6'></a>Can you fix the typo \"incomatible\" for \"incompatible\" and maybe rephrase\n\n```diff\n- It is different from ``integrate_vector`` by fixing the number\n- of nodes to use, rather than aiming for a certain error.\n+ It differs from ``integrate_vector`` by using a specified number\n+ of nodes rather than targeting a specified error bound on the result.\n```\nand remove the extra blank line at the end of the docstring?",
    "created_at": "2021-06-27T20:22:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484775",
    "user": "https://github.com/slel"
}
```

<a id='comment:6'></a>Can you fix the typo "incomatible" for "incompatible" and maybe rephrase

```diff
- It is different from ``integrate_vector`` by fixing the number
- of nodes to use, rather than aiming for a certain error.
+ It differs from ``integrate_vector`` by using a specified number
+ of nodes rather than targeting a specified error bound on the result.
```
and remove the extra blank line at the end of the docstring?



---

archive/issue_comments_484776.json:
```json
{
    "body": "<a id='comment:7'></a>I think a better interface would be to just extend `integrate_vector` so that one can either use `epsilon` or the number of nodes as a keyword argument.",
    "created_at": "2021-06-27T20:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484776",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>I think a better interface would be to just extend `integrate_vector` so that one can either use `epsilon` or the number of nodes as a keyword argument.



---

archive/issue_comments_484777.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n+From #30698.\n+\n+We add a method `integrate_vector_N`.\n \n \n Type: PLEASE CHANGE\n``````\n",
    "created_at": "2021-06-27T22:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484777",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
+From #30698.
+
+We add a method `integrate_vector_N`.
 
 
 Type: PLEASE CHANGE
``````




---

archive/issue_comments_484778.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 mkoeppe]:\n> I think a better interface would be to just extend\n> `integrate_vector` so that one can either use `epsilon`\n> or the number of nodes as a keyword argument.\n\n\nThere was a discussion at #30698.",
    "created_at": "2021-06-27T22:25:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484778",
    "user": "https://github.com/slel"
}
```

<a id='comment:8'></a>Replying to [comment:7 mkoeppe]:
> I think a better interface would be to just extend
> `integrate_vector` so that one can either use `epsilon`
> or the number of nodes as a keyword argument.


There was a discussion at #30698.



---

archive/issue_comments_484779.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-29T10:28:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484779",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484780.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-08T04:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484780",
    "user": "https://github.com/nbruin"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_484781.json:
```json
{
    "body": "<a id='comment:10'></a>Merge fails; branch needs rebasing.",
    "created_at": "2021-07-08T04:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484781",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:10'></a>Merge fails; branch needs rebasing.



---

archive/issue_comments_484782.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 nbruin]:\n> Merge fails; branch needs rebasing.\n\n\nCan you give more detail please? Were you merging #30698 into this ticket and it had a conflict?",
    "created_at": "2021-07-08T09:41:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484782",
    "user": "https://github.com/DisneyHogg"
}
```

<a id='comment:11'></a>Replying to [comment:10 nbruin]:
> Merge fails; branch needs rebasing.


Can you give more detail please? Were you merging #30698 into this ticket and it had a conflict?



---

archive/issue_comments_484783.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:11 gh-DisneyHogg]:\n> Replying to [comment:10 nbruin]:\n> > Merge fails; branch needs rebasing.\n\n> \n> Can you give more detail please? Were you merging #30698 into this ticket and it had a conflict? \n\nIf you look at the ticket description, you can see that the branch is displayed in red, and if you hover over it, you see \"trac's automerging failed\". If plain merging by git gives no problem, this indicates that trac tries a merge with particularly conservative and sage settings. However, I think you'll at least have to make sure that trac can do the merge, because otherwise reviewers have a harder time seeing what's happening on the ticket.\n\n(I suspect the problem is that the current branch makes changes to an ancestor of \"develop\" that end up identical to what eventually happens in \"develop\", but are proposed separately. It would for instance mean that the \"blame\" of the relevant lines would be ambiguous. While in university administration and politics, this would be a valuable feature, it is slightly undesirable for the modification history of a software project)",
    "created_at": "2021-07-08T16:04:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484783",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:12'></a>Replying to [comment:11 gh-DisneyHogg]:
> Replying to [comment:10 nbruin]:
> > Merge fails; branch needs rebasing.

> 
> Can you give more detail please? Were you merging #30698 into this ticket and it had a conflict? 

If you look at the ticket description, you can see that the branch is displayed in red, and if you hover over it, you see "trac's automerging failed". If plain merging by git gives no problem, this indicates that trac tries a merge with particularly conservative and sage settings. However, I think you'll at least have to make sure that trac can do the merge, because otherwise reviewers have a harder time seeing what's happening on the ticket.

(I suspect the problem is that the current branch makes changes to an ancestor of "develop" that end up identical to what eventually happens in "develop", but are proposed separately. It would for instance mean that the "blame" of the relevant lines would be ambiguous. While in university administration and politics, this would be a valuable feature, it is slightly undesirable for the modification history of a software project)



---

archive/issue_comments_484784.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-16T11:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484784",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_484785.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-16T11:12:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484785",
    "user": "https://github.com/DisneyHogg"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_484786.json:
```json
{
    "body": "<a id='comment:14'></a>Merge fail has been fixed.",
    "created_at": "2021-07-16T11:12:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484786",
    "user": "https://github.com/DisneyHogg"
}
```

<a id='comment:14'></a>Merge fail has been fixed.



---

archive/issue_comments_484787.json:
```json
{
    "body": "<a id='comment:15'></a>Documentation has been adjusted, routine itself is basically trivial (but necessary for upcoming tickets), so: positive review!",
    "created_at": "2021-07-21T18:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484787",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:15'></a>Documentation has been adjusted, routine itself is basically trivial (but necessary for upcoming tickets), so: positive review!



---

archive/issue_comments_484788.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-07-21T18:53:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484788",
    "user": "https://github.com/nbruin"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_484789.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-07-24T15:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32014#issuecomment-484789",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_084689.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-24T15:28:32Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32014",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32014#event-84689"
}
```
