# Issue 32826: scalar-multiplication endomorphisms of elliptic curves

archive/issues_032589.json:
```json
{
    "assignees": [],
    "body": "This ticket adds `EllipticCurveHom_scalar`, a new class encapsulating scalar multiplications on elliptic curves. This serves two main purposes:\n\n1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).\n2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).\n\nWe also deprecate `.multiplication_by_m_isogeny()`: It should be replaceable by `.scalar_multiplication()` in all cases.\n\nDepends on #32502\n\nDepends on #32744\n\nDepends on #33865\n\n**CC:**  @defeo @JohnCremona @tscrim @videlec @fchapoton @kwankyu\n\n**Branch:** [public/scalar_elliptic_curve_endomorphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/scalar_elliptic_curve_endomorphisms)\n\n**Commit:** [884263e93974b3344cc2ba3ef808a5dcf60e123d](https://github.com/sagemath/sagetrac-mirror/commit/884263e93974b3344cc2ba3ef808a5dcf60e123d)\n\n**Reviewer:** John Cremona\n\n**Author:** Lorenz Panny\n\nIssue created by migration from https://trac.sagemath.org/ticket/32826\n\n",
    "created_at": "2021-11-05T06:14:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/positive%20review"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "scalar-multiplication endomorphisms of elliptic curves",
    "type": "issue",
    "updated_at": "2022-12-22T11:17:10Z",
    "url": "https://github.com/sagemath/sage/issues/32826",
    "user": "https://github.com/yyyyx4"
}
```
This ticket adds `EllipticCurveHom_scalar`, a new class encapsulating scalar multiplications on elliptic curves. This serves two main purposes:

1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).
2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).

We also deprecate `.multiplication_by_m_isogeny()`: It should be replaceable by `.scalar_multiplication()` in all cases.

Depends on #32502

Depends on #32744

Depends on #33865

**CC:**  @defeo @JohnCremona @tscrim @videlec @fchapoton @kwankyu

**Branch:** [public/scalar_elliptic_curve_endomorphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/scalar_elliptic_curve_endomorphisms)

**Commit:** [884263e93974b3344cc2ba3ef808a5dcf60e123d](https://github.com/sagemath/sagetrac-mirror/commit/884263e93974b3344cc2ba3ef808a5dcf60e123d)

**Reviewer:** John Cremona

**Author:** Lorenz Panny

Issue created by migration from https://trac.sagemath.org/ticket/32826





---

archive/issue_events_398051.json:
```json
{
    "actor": "https://github.com/yyyyx4",
    "created_at": "2021-11-05T06:14:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398051"
}
```



---

archive/issue_events_398052.json:
```json
{
    "actor": "https://github.com/yyyyx4",
    "created_at": "2021-11-05T06:14:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20elliptic%20curves",
    "label_color": "08517b",
    "label_name": "component: elliptic curves",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398052"
}
```



---

archive/issue_events_398053.json:
```json
{
    "actor": "https://github.com/yyyyx4",
    "created_at": "2021-11-05T06:14:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398053"
}
```



---

archive/issue_comments_532479.json:
```json
{
    "body": "**Branch:** [public/scalar_elliptic_curve_endomorphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/scalar_elliptic_curve_endomorphisms)",
    "created_at": "2021-11-05T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532479",
    "user": "https://github.com/yyyyx4"
}
```

**Branch:** [public/scalar_elliptic_curve_endomorphisms](https://github.com/sagemath/sagetrac-mirror/tree/public/scalar_elliptic_curve_endomorphisms)



---

archive/issue_comments_532480.json:
```json
{
    "body": "**Commit:** [64865d221f38067d633933288a1af9fb61ab5af3](https://github.com/sagemath/sagetrac-mirror/commit/64865d221f38067d633933288a1af9fb61ab5af3)",
    "created_at": "2021-11-05T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532480",
    "user": "https://github.com/yyyyx4"
}
```

**Commit:** [64865d221f38067d633933288a1af9fb61ab5af3](https://github.com/sagemath/sagetrac-mirror/commit/64865d221f38067d633933288a1af9fb61ab5af3)



---

archive/issue_events_398054.json:
```json
{
    "actor": "https://github.com/yyyyx4",
    "created_at": "2021-11-05T06:33:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398054"
}
```



---

archive/issue_comments_532481.json:
```json
{
    "body": "**Author:** Lorenz Panny",
    "created_at": "2021-11-05T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532481",
    "user": "https://github.com/yyyyx4"
}
```

**Author:** Lorenz Panny



---

archive/issue_comments_532482.json:
```json
{
    "body": "**Dependencies:** #32502, #32744",
    "created_at": "2021-11-05T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532482",
    "user": "https://github.com/yyyyx4"
}
```

**Dependencies:** #32502, #32744



---

archive/issue_comments_532483.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80b0bb11171daf79122859a83d0940bd3fd2423a\">80b0bb1</a></td><td><code>reflect this change in the documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/894b1453e55d757504e60ae3cff7dbc25e10d7d1\">894b145</a></td><td><code>Merge tag '9.5.beta3' into public/make_WeierstrassIsomorphism_behave_like_EllipticCurveIsogeny</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47db3b11591405e64367e916922ea03884e015fe\">47db3b1</a></td><td><code>Merge branch 'public/make_WeierstrassIsomorphism_behave_like_EllipticCurveIsogeny' into composite_elliptic_curve_isogenies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdce3917fef34e3ded6abba8acbc8a032fa6ab71\">bdce391</a></td><td><code>introduce EllipticCurveHom_composite</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e9ade979469abc21f66069f99acc79adaac45bbd\">e9ade97</a></td><td><code>make EllipticCurveHom_composite available from EllipticCurve_field.isogeny</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dd0390f3a2f4d08b31132f92234fd1cebeb1289\">7dd0390</a></td><td><code>fix typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/739312cc77a3bc0ff84ed638925513e24a34b937\">739312c</a></td><td><code>Merge tag '9.5.beta5' into public/composite_elliptic_curve_isogenies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/753cd6847c657b40125bb3c198903812e507aab3\">753cd68</a></td><td><code>fix typo in docstring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72ab0b8cdc18b15ea893a3db914419631252de23\">72ab0b8</a></td><td><code>make linter happier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/64865d221f38067d633933288a1af9fb61ab5af3\">64865d2</a></td><td><code>scalar-multiplication endomorphisms</code></td></tr></table>\n",
    "created_at": "2021-11-05T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532483",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:1'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80b0bb11171daf79122859a83d0940bd3fd2423a">80b0bb1</a></td><td><code>reflect this change in the documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/894b1453e55d757504e60ae3cff7dbc25e10d7d1">894b145</a></td><td><code>Merge tag '9.5.beta3' into public/make_WeierstrassIsomorphism_behave_like_EllipticCurveIsogeny</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47db3b11591405e64367e916922ea03884e015fe">47db3b1</a></td><td><code>Merge branch 'public/make_WeierstrassIsomorphism_behave_like_EllipticCurveIsogeny' into composite_elliptic_curve_isogenies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdce3917fef34e3ded6abba8acbc8a032fa6ab71">bdce391</a></td><td><code>introduce EllipticCurveHom_composite</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e9ade979469abc21f66069f99acc79adaac45bbd">e9ade97</a></td><td><code>make EllipticCurveHom_composite available from EllipticCurve_field.isogeny</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dd0390f3a2f4d08b31132f92234fd1cebeb1289">7dd0390</a></td><td><code>fix typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/739312cc77a3bc0ff84ed638925513e24a34b937">739312c</a></td><td><code>Merge tag '9.5.beta5' into public/composite_elliptic_curve_isogenies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/753cd6847c657b40125bb3c198903812e507aab3">753cd68</a></td><td><code>fix typo in docstring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72ab0b8cdc18b15ea893a3db914419631252de23">72ab0b8</a></td><td><code>make linter happier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/64865d221f38067d633933288a1af9fb61ab5af3">64865d2</a></td><td><code>scalar-multiplication endomorphisms</code></td></tr></table>




---

archive/issue_comments_532484.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,8 @@\n-This ticket will add `EllipticCurveHom_scalar`, a new class encapsulating scalar multiplications on elliptic curves. This serves two main purposes:\n+This ticket adds `EllipticCurveHom_scalar`, a new class encapsulating scalar multiplications on elliptic curves. This serves two main purposes:\n \n 1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).\n 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).\n \n+The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal. The dependency on #32744 is convenient, but could be removed if needed.\n+\n+A diff without the dependencies:\u2002https://github.com/sagemath/sagetrac-mirror/compare/72ab0b8cdc18b15ea893a3db914419631252de23...64865d221f38067d633933288a1af9fb61ab5af3\n``````\n",
    "created_at": "2021-11-05T06:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532484",
    "user": "https://github.com/yyyyx4"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,8 @@
-This ticket will add `EllipticCurveHom_scalar`, a new class encapsulating scalar multiplications on elliptic curves. This serves two main purposes:
+This ticket adds `EllipticCurveHom_scalar`, a new class encapsulating scalar multiplications on elliptic curves. This serves two main purposes:
 
 1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).
 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).
 
+The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal. The dependency on #32744 is convenient, but could be removed if needed.
+
+A diff without the dependencies: https://github.com/sagemath/sagetrac-mirror/compare/72ab0b8cdc18b15ea893a3db914419631252de23...64865d221f38067d633933288a1af9fb61ab5af3
``````




---

archive/issue_comments_532485.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis is a great idea.  Why not just call these endomorphisms, i.e. call the class something like EllipticCurveEndomorphism instead of EllipticCurveHom_scalar?  I don' know if there is a plan to late include more general endomorphisms (CM in char. 0, and both the ordinary and supersingular possibilities in char.p), but even if we are not going to implement those now, we could set it up to that the class EllipticCurveEndomorphism exists and (say) EllipticCurveScalarEndomorphism is a subclass doing what this class EllipticCurveHom_scalar does.",
    "created_at": "2021-11-05T09:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532485",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:2'></a>
This is a great idea.  Why not just call these endomorphisms, i.e. call the class something like EllipticCurveEndomorphism instead of EllipticCurveHom_scalar?  I don' know if there is a plan to late include more general endomorphisms (CM in char. 0, and both the ordinary and supersingular possibilities in char.p), but even if we are not going to implement those now, we could set it up to that the class EllipticCurveEndomorphism exists and (say) EllipticCurveScalarEndomorphism is a subclass doing what this class EllipticCurveHom_scalar does.



---

archive/issue_comments_532486.json:
```json
{
    "body": "<a id='comment:3'></a>\nThank you, that's a very good remark! I can see that there are several ways to \"slice up\" the space of objects we're trying to model here. My reasoning was the following (very much up for discussion):\n\n- There's no real reason to separate isogenies and endomorphisms at this level \u2014 they can all be child classes of `EllipticCurveHom` with a common interface. Some `EllipticCurveHom`s are of course endomorphisms, but we don't have to treat them specially. (Note: `.is_endomorphism()` already works.)\n- On the level of those maps, we can easily implement formal compositions (#32744) and sums (to be done). Multiplication in the endomorphism ring \"just works\", as does composing endomorphisms with isogenies (thus, we prevent incompatibilities like we've been having with isomorphisms; cf. #32388, #32502).\n- The parent object of any `EllipticCurveHom` should be a hom-module that knows about the domain and codomain curve, regardless of what kind of `EllipticCurveHom` implementation it is. Of course, some of those hom-modules will be closed under composition, but again we don't have to do anything special here. (Side effect: Composing isogenies `E -> E' -> E` won't require any special treatment either.)\n- Now, none of these objects knows a lot about its own structure. This mandates the last ingredient: An `EndomorphismRing` object that encapsulates both the algebraic view of an endomorphism ring (i.e., a quadratic order or a quaternion order) *and* a mapping of the generators of that abstract ring to explicit `EllipticCurveHom`s. With that, we can first use all the tools available for quadratic fields and quaternion algebras in the abstract world, then \"project down\" the situation to the corresponding maps on curves. (At least in principle, it should be possible to handle these translations almost seamlessly by overloading some methods.)\n- Note that such a ring of endomorphisms need not be *the* (full) ring of endomorphisms: Subrings that could prove useful (especially for big instances where we cannot always compute the full endomorphism ring) include the Frobenius order, or some rank-2 subring of a quaternionic endomorphism ring.\n\nI imagine that this design will make it *relatively* straightforward to implement things like computing endomorphism rings (#31851), or embedding a bunch of explicitly given `EllipticCurveHom`s into an abstract quadratic or quaternionic order to see the relations between them.\n\nLet me know if this makes sense. :-)",
    "created_at": "2021-11-05T15:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532486",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:3'></a>
Thank you, that's a very good remark! I can see that there are several ways to "slice up" the space of objects we're trying to model here. My reasoning was the following (very much up for discussion):

- There's no real reason to separate isogenies and endomorphisms at this level — they can all be child classes of `EllipticCurveHom` with a common interface. Some `EllipticCurveHom`s are of course endomorphisms, but we don't have to treat them specially. (Note: `.is_endomorphism()` already works.)
- On the level of those maps, we can easily implement formal compositions (#32744) and sums (to be done). Multiplication in the endomorphism ring "just works", as does composing endomorphisms with isogenies (thus, we prevent incompatibilities like we've been having with isomorphisms; cf. #32388, #32502).
- The parent object of any `EllipticCurveHom` should be a hom-module that knows about the domain and codomain curve, regardless of what kind of `EllipticCurveHom` implementation it is. Of course, some of those hom-modules will be closed under composition, but again we don't have to do anything special here. (Side effect: Composing isogenies `E -> E' -> E` won't require any special treatment either.)
- Now, none of these objects knows a lot about its own structure. This mandates the last ingredient: An `EndomorphismRing` object that encapsulates both the algebraic view of an endomorphism ring (i.e., a quadratic order or a quaternion order) *and* a mapping of the generators of that abstract ring to explicit `EllipticCurveHom`s. With that, we can first use all the tools available for quadratic fields and quaternion algebras in the abstract world, then "project down" the situation to the corresponding maps on curves. (At least in principle, it should be possible to handle these translations almost seamlessly by overloading some methods.)
- Note that such a ring of endomorphisms need not be *the* (full) ring of endomorphisms: Subrings that could prove useful (especially for big instances where we cannot always compute the full endomorphism ring) include the Frobenius order, or some rank-2 subring of a quaternionic endomorphism ring.

I imagine that this design will make it *relatively* straightforward to implement things like computing endomorphism rings (#31851), or embedding a bunch of explicitly given `EllipticCurveHom`s into an abstract quadratic or quaternionic order to see the relations between them.

Let me know if this makes sense. :-)



---

archive/issue_comments_532487.json:
```json
{
    "body": "<a id='comment:4'></a>\nIt makes perfect sense -- I am very happy to see all this being implemented (or at least some of it), and not by me!",
    "created_at": "2021-11-05T16:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532487",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>
It makes perfect sense -- I am very happy to see all this being implemented (or at least some of it), and not by me!



---

archive/issue_events_398055.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398055"
}
```



---

archive/issue_events_398056.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398056"
}
```



---

archive/issue_comments_532488.json:
```json
{
    "body": "<a id='comment:5'></a>\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532488",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>
Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_532489.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c00beb1a3e6e1236d81202115784e4b83f9fb34e\">c00beb1</a></td><td><code>Merge tag '9.5.rc0' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/131930f5e841fd365819beaa4207b33698cc9fa4\">131930f</a></td><td><code>Merge tag '9.5.rc3' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a9b8eccc6c87d22478eb6d416f2882a8b64748bb\">a9b8ecc</a></td><td><code>move .is_separable() to child classes</code></td></tr></table>\n",
    "created_at": "2022-01-21T08:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532489",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c00beb1a3e6e1236d81202115784e4b83f9fb34e">c00beb1</a></td><td><code>Merge tag '9.5.rc0' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/131930f5e841fd365819beaa4207b33698cc9fa4">131930f</a></td><td><code>Merge tag '9.5.rc3' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a9b8eccc6c87d22478eb6d416f2882a8b64748bb">a9b8ecc</a></td><td><code>move .is_separable() to child classes</code></td></tr></table>




---

archive/issue_comments_532490.json:
```json
{
    "body": "**Changing commit** from \"[64865d221f38067d633933288a1af9fb61ab5af3](https://github.com/sagemath/sagetrac-mirror/commit/64865d221f38067d633933288a1af9fb61ab5af3)\" to \"[a9b8eccc6c87d22478eb6d416f2882a8b64748bb](https://github.com/sagemath/sagetrac-mirror/commit/a9b8eccc6c87d22478eb6d416f2882a8b64748bb)\".",
    "created_at": "2022-01-21T08:07:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532490",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[64865d221f38067d633933288a1af9fb61ab5af3](https://github.com/sagemath/sagetrac-mirror/commit/64865d221f38067d633933288a1af9fb61ab5af3)" to "[a9b8eccc6c87d22478eb6d416f2882a8b64748bb](https://github.com/sagemath/sagetrac-mirror/commit/a9b8eccc6c87d22478eb6d416f2882a8b64748bb)".



---

archive/issue_comments_532491.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,6 +3,4 @@\n 1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).\n 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).\n \n-The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal. The dependency on #32744 is convenient, but could be removed if needed.\n-\n-A diff without the dependencies:\u2002https://github.com/sagemath/sagetrac-mirror/compare/72ab0b8cdc18b15ea893a3db914419631252de23...64865d221f38067d633933288a1af9fb61ab5af3\n+The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.\n``````\n",
    "created_at": "2022-01-21T08:17:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532491",
    "user": "https://github.com/yyyyx4"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,6 +3,4 @@
 1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).
 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).
 
-The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal. The dependency on #32744 is convenient, but could be removed if needed.
-
-A diff without the dependencies: https://github.com/sagemath/sagetrac-mirror/compare/72ab0b8cdc18b15ea893a3db914419631252de23...64865d221f38067d633933288a1af9fb61ab5af3
+The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.
``````




---

archive/issue_comments_532492.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/253cd33939ba4d4308cc28855929b9758679c01a\">253cd33</a></td><td><code>use {identity,negation}_morphism() throughout</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/83809df6c2676fd19ef119a289cd0d0a8f63318a\">83809df</a></td><td><code>fix :: in doctest</code></td></tr></table>\n",
    "created_at": "2022-01-21T11:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532492",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/253cd33939ba4d4308cc28855929b9758679c01a">253cd33</a></td><td><code>use {identity,negation}_morphism() throughout</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/83809df6c2676fd19ef119a289cd0d0a8f63318a">83809df</a></td><td><code>fix :: in doctest</code></td></tr></table>




---

archive/issue_comments_532493.json:
```json
{
    "body": "**Changing commit** from \"[a9b8eccc6c87d22478eb6d416f2882a8b64748bb](https://github.com/sagemath/sagetrac-mirror/commit/a9b8eccc6c87d22478eb6d416f2882a8b64748bb)\" to \"[83809df6c2676fd19ef119a289cd0d0a8f63318a](https://github.com/sagemath/sagetrac-mirror/commit/83809df6c2676fd19ef119a289cd0d0a8f63318a)\".",
    "created_at": "2022-01-21T11:20:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532493",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[a9b8eccc6c87d22478eb6d416f2882a8b64748bb](https://github.com/sagemath/sagetrac-mirror/commit/a9b8eccc6c87d22478eb6d416f2882a8b64748bb)" to "[83809df6c2676fd19ef119a289cd0d0a8f63318a](https://github.com/sagemath/sagetrac-mirror/commit/83809df6c2676fd19ef119a289cd0d0a8f63318a)".



---

archive/issue_comments_532494.json:
```json
{
    "body": "**Changing commit** from \"[83809df6c2676fd19ef119a289cd0d0a8f63318a](https://github.com/sagemath/sagetrac-mirror/commit/83809df6c2676fd19ef119a289cd0d0a8f63318a)\" to \"[059d0724abb17be3faacb3353b9f108c532abaf1](https://github.com/sagemath/sagetrac-mirror/commit/059d0724abb17be3faacb3353b9f108c532abaf1)\".",
    "created_at": "2022-01-26T05:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532494",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[83809df6c2676fd19ef119a289cd0d0a8f63318a](https://github.com/sagemath/sagetrac-mirror/commit/83809df6c2676fd19ef119a289cd0d0a8f63318a)" to "[059d0724abb17be3faacb3353b9f108c532abaf1](https://github.com/sagemath/sagetrac-mirror/commit/059d0724abb17be3faacb3353b9f108c532abaf1)".



---

archive/issue_comments_532495.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/059d0724abb17be3faacb3353b9f108c532abaf1\">059d072</a></td><td><code>remove unused import</code></td></tr></table>\n",
    "created_at": "2022-01-26T05:36:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532495",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/059d0724abb17be3faacb3353b9f108c532abaf1">059d072</a></td><td><code>remove unused import</code></td></tr></table>




---

archive/issue_comments_532496.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba8ea2105ba556d473b6d981bcc3188542f7ec12\">ba8ea21</a></td><td><code>Merge tag '9.6.beta2' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-02-21T05:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532496",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba8ea2105ba556d473b6d981bcc3188542f7ec12">ba8ea21</a></td><td><code>Merge tag '9.6.beta2' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532497.json:
```json
{
    "body": "**Changing commit** from \"[059d0724abb17be3faacb3353b9f108c532abaf1](https://github.com/sagemath/sagetrac-mirror/commit/059d0724abb17be3faacb3353b9f108c532abaf1)\" to \"[ba8ea2105ba556d473b6d981bcc3188542f7ec12](https://github.com/sagemath/sagetrac-mirror/commit/ba8ea2105ba556d473b6d981bcc3188542f7ec12)\".",
    "created_at": "2022-02-21T05:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532497",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[059d0724abb17be3faacb3353b9f108c532abaf1](https://github.com/sagemath/sagetrac-mirror/commit/059d0724abb17be3faacb3353b9f108c532abaf1)" to "[ba8ea2105ba556d473b6d981bcc3188542f7ec12](https://github.com/sagemath/sagetrac-mirror/commit/ba8ea2105ba556d473b6d981bcc3188542f7ec12)".



---

archive/issue_events_398057.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398057"
}
```



---

archive/issue_events_398058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-17T19:59:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398058"
}
```



---

archive/issue_comments_532498.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ecae63fb6f092d462f3709175fa3c6fac15ffba\">7ecae63</a></td><td><code>Merge tag '9.6.beta7' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48afa7896f0f004dd53fa2e107cc42697323b052\">48afa78</a></td><td><code>Merge tag '9.6.rc1' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38b8626f33d41cb01d4c22764ba7c971909a3f58\">38b8626</a></td><td><code>Merge tag '9.6' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-05-17T07:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532498",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ecae63fb6f092d462f3709175fa3c6fac15ffba">7ecae63</a></td><td><code>Merge tag '9.6.beta7' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48afa7896f0f004dd53fa2e107cc42697323b052">48afa78</a></td><td><code>Merge tag '9.6.rc1' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38b8626f33d41cb01d4c22764ba7c971909a3f58">38b8626</a></td><td><code>Merge tag '9.6' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532499.json:
```json
{
    "body": "**Changing commit** from \"[ba8ea2105ba556d473b6d981bcc3188542f7ec12](https://github.com/sagemath/sagetrac-mirror/commit/ba8ea2105ba556d473b6d981bcc3188542f7ec12)\" to \"[38b8626f33d41cb01d4c22764ba7c971909a3f58](https://github.com/sagemath/sagetrac-mirror/commit/38b8626f33d41cb01d4c22764ba7c971909a3f58)\".",
    "created_at": "2022-05-17T07:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532499",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[ba8ea2105ba556d473b6d981bcc3188542f7ec12](https://github.com/sagemath/sagetrac-mirror/commit/ba8ea2105ba556d473b6d981bcc3188542f7ec12)" to "[38b8626f33d41cb01d4c22764ba7c971909a3f58](https://github.com/sagemath/sagetrac-mirror/commit/38b8626f33d41cb01d4c22764ba7c971909a3f58)".



---

archive/issue_comments_532500.json:
```json
{
    "body": "**Changing commit** from \"[38b8626f33d41cb01d4c22764ba7c971909a3f58](https://github.com/sagemath/sagetrac-mirror/commit/38b8626f33d41cb01d4c22764ba7c971909a3f58)\" to \"[838429ee7773ce30f866ac1c77a94395228cbc34](https://github.com/sagemath/sagetrac-mirror/commit/838429ee7773ce30f866ac1c77a94395228cbc34)\".",
    "created_at": "2022-05-23T08:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532500",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[38b8626f33d41cb01d4c22764ba7c971909a3f58](https://github.com/sagemath/sagetrac-mirror/commit/38b8626f33d41cb01d4c22764ba7c971909a3f58)" to "[838429ee7773ce30f866ac1c77a94395228cbc34](https://github.com/sagemath/sagetrac-mirror/commit/838429ee7773ce30f866ac1c77a94395228cbc34)".



---

archive/issue_comments_532501.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1bae9ec0cc6ab0bf93f31254011024fdea88315\">c1bae9e</a></td><td><code>complete list of EllipticCurveHom children in documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2c86c693760db6423bcfabb2f9241a7d98b9e4b6\">2c86c69</a></td><td><code>add ._scaling_factor() for .formal()[1]</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2e88ff0891576391c7c3769da363db5addbf4ca3\">2e88ff0</a></td><td><code>use ._scaling_factor() instead of .formal()[1]</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb571d33bcf0d6631fb3617d425a3ef3696e3321\">fb571d3</a></td><td><code>turn .scaling_factor() into a public function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a56de62fff1c980840e02ee71ef028e64d28f476\">a56de62</a></td><td><code>Merge branch 'public/elliptic_curve_morphisms_scaling_factor' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/838429ee7773ce30f866ac1c77a94395228cbc34\">838429e</a></td><td><code>add EllipticCurveHom_scalar.scaling_factor()</code></td></tr></table>\n",
    "created_at": "2022-05-23T08:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532501",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1bae9ec0cc6ab0bf93f31254011024fdea88315">c1bae9e</a></td><td><code>complete list of EllipticCurveHom children in documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2c86c693760db6423bcfabb2f9241a7d98b9e4b6">2c86c69</a></td><td><code>add ._scaling_factor() for .formal()[1]</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2e88ff0891576391c7c3769da363db5addbf4ca3">2e88ff0</a></td><td><code>use ._scaling_factor() instead of .formal()[1]</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb571d33bcf0d6631fb3617d425a3ef3696e3321">fb571d3</a></td><td><code>turn .scaling_factor() into a public function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a56de62fff1c980840e02ee71ef028e64d28f476">a56de62</a></td><td><code>Merge branch 'public/elliptic_curve_morphisms_scaling_factor' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/838429ee7773ce30f866ac1c77a94395228cbc34">838429e</a></td><td><code>add EllipticCurveHom_scalar.scaling_factor()</code></td></tr></table>




---

archive/issue_comments_532502.json:
```json
{
    "body": "**Changing dependencies** from \"#32502, #32744\" to \"#32502, #32744, #33865\".",
    "created_at": "2022-05-23T08:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532502",
    "user": "https://github.com/yyyyx4"
}
```

**Changing dependencies** from "#32502, #32744" to "#32502, #32744, #33865".



---

archive/issue_comments_532503.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,5 @@\n 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).\n \n The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.\n+\n+Diff without the dependencies: https://github.com/sagemath/sagetrac-mirror/compare/fb571d33bcf0d6631fb3617d425a3ef3696e3321...838429ee7773ce30f866ac1c77a94395228cbc34\n``````\n",
    "created_at": "2022-05-23T08:35:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532503",
    "user": "https://github.com/yyyyx4"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,5 @@
 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).
 
 The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.
+
+Diff without the dependencies: https://github.com/sagemath/sagetrac-mirror/compare/fb571d33bcf0d6631fb3617d425a3ef3696e3321...838429ee7773ce30f866ac1c77a94395228cbc34
``````




---

archive/issue_comments_532504.json:
```json
{
    "body": "<a id='comment:15'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02aae280ed451c997e5e9023692ddd2517b58db3\">02aae28</a></td><td><code>Merge tag '9.7.beta3' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdc478e355399d4266d4aa84548178ca43170720\">fdc478e</a></td><td><code>Merge tag '9.7.beta6' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-07-26T14:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532504",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:15'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02aae280ed451c997e5e9023692ddd2517b58db3">02aae28</a></td><td><code>Merge tag '9.7.beta3' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdc478e355399d4266d4aa84548178ca43170720">fdc478e</a></td><td><code>Merge tag '9.7.beta6' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532505.json:
```json
{
    "body": "**Changing commit** from \"[838429ee7773ce30f866ac1c77a94395228cbc34](https://github.com/sagemath/sagetrac-mirror/commit/838429ee7773ce30f866ac1c77a94395228cbc34)\" to \"[fdc478e355399d4266d4aa84548178ca43170720](https://github.com/sagemath/sagetrac-mirror/commit/fdc478e355399d4266d4aa84548178ca43170720)\".",
    "created_at": "2022-07-26T14:10:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532505",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[838429ee7773ce30f866ac1c77a94395228cbc34](https://github.com/sagemath/sagetrac-mirror/commit/838429ee7773ce30f866ac1c77a94395228cbc34)" to "[fdc478e355399d4266d4aa84548178ca43170720](https://github.com/sagemath/sagetrac-mirror/commit/fdc478e355399d4266d4aa84548178ca43170720)".



---

archive/issue_comments_532506.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,5 +4,3 @@\n 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).\n \n The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.\n-\n-Diff without the dependencies: https://github.com/sagemath/sagetrac-mirror/compare/fb571d33bcf0d6631fb3617d425a3ef3696e3321...838429ee7773ce30f866ac1c77a94395228cbc34\n``````\n",
    "created_at": "2022-07-26T14:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532506",
    "user": "https://github.com/yyyyx4"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,5 +4,3 @@
 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).
 
 The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.
-
-Diff without the dependencies: https://github.com/sagemath/sagetrac-mirror/compare/fb571d33bcf0d6631fb3617d425a3ef3696e3321...838429ee7773ce30f866ac1c77a94395228cbc34
``````




---

archive/issue_events_398059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398059"
}
```



---

archive/issue_events_398060.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398060"
}
```



---

archive/issue_comments_532507.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7e02b1b89a262a0cd8738e8b7a2b6a6aeb4cd92\">e7e02b1</a></td><td><code>Merge tag '9.7.rc0' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/61cabd5d5561c2c8f2bed60469544031537ab2c8\">61cabd5</a></td><td><code>Merge tag '9.7' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-09-25T10:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532507",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7e02b1b89a262a0cd8738e8b7a2b6a6aeb4cd92">e7e02b1</a></td><td><code>Merge tag '9.7.rc0' into public/scalar_elliptic_curve_endomorphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/61cabd5d5561c2c8f2bed60469544031537ab2c8">61cabd5</a></td><td><code>Merge tag '9.7' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532508.json:
```json
{
    "body": "**Changing commit** from \"[fdc478e355399d4266d4aa84548178ca43170720](https://github.com/sagemath/sagetrac-mirror/commit/fdc478e355399d4266d4aa84548178ca43170720)\" to \"[61cabd5d5561c2c8f2bed60469544031537ab2c8](https://github.com/sagemath/sagetrac-mirror/commit/61cabd5d5561c2c8f2bed60469544031537ab2c8)\".",
    "created_at": "2022-09-25T10:22:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532508",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[fdc478e355399d4266d4aa84548178ca43170720](https://github.com/sagemath/sagetrac-mirror/commit/fdc478e355399d4266d4aa84548178ca43170720)" to "[61cabd5d5561c2c8f2bed60469544031537ab2c8](https://github.com/sagemath/sagetrac-mirror/commit/61cabd5d5561c2c8f2bed60469544031537ab2c8)".



---

archive/issue_comments_532509.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/80eb9b571c678a778359c7a76b92dd971cafe8ef\">80eb9b5</a></td><td><code>Merge tag '9.8.beta2' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-10-17T15:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532509",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/80eb9b571c678a778359c7a76b92dd971cafe8ef">80eb9b5</a></td><td><code>Merge tag '9.8.beta2' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532510.json:
```json
{
    "body": "**Changing commit** from \"[61cabd5d5561c2c8f2bed60469544031537ab2c8](https://github.com/sagemath/sagetrac-mirror/commit/61cabd5d5561c2c8f2bed60469544031537ab2c8)\" to \"[80eb9b571c678a778359c7a76b92dd971cafe8ef](https://github.com/sagemath/sagetrac-mirror/commit/80eb9b571c678a778359c7a76b92dd971cafe8ef)\".",
    "created_at": "2022-10-17T15:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532510",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[61cabd5d5561c2c8f2bed60469544031537ab2c8](https://github.com/sagemath/sagetrac-mirror/commit/61cabd5d5561c2c8f2bed60469544031537ab2c8)" to "[80eb9b571c678a778359c7a76b92dd971cafe8ef](https://github.com/sagemath/sagetrac-mirror/commit/80eb9b571c678a778359c7a76b92dd971cafe8ef)".



---

archive/issue_comments_532511.json:
```json
{
    "body": "**Changing commit** from \"[80eb9b571c678a778359c7a76b92dd971cafe8ef](https://github.com/sagemath/sagetrac-mirror/commit/80eb9b571c678a778359c7a76b92dd971cafe8ef)\" to \"[be6aedc732144e17911e00505e699ed7c48d5442](https://github.com/sagemath/sagetrac-mirror/commit/be6aedc732144e17911e00505e699ed7c48d5442)\".",
    "created_at": "2022-10-17T21:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532511",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[80eb9b571c678a778359c7a76b92dd971cafe8ef](https://github.com/sagemath/sagetrac-mirror/commit/80eb9b571c678a778359c7a76b92dd971cafe8ef)" to "[be6aedc732144e17911e00505e699ed7c48d5442](https://github.com/sagemath/sagetrac-mirror/commit/be6aedc732144e17911e00505e699ed7c48d5442)".



---

archive/issue_comments_532512.json:
```json
{
    "body": "<a id='comment:20'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/230019e19d0b55005eb25b910f5f5f169d52782e\">230019e</a></td><td><code>make linter happier</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be6aedc732144e17911e00505e699ed7c48d5442\">be6aedc</a></td><td><code>fix doctest failures</code></td></tr></table>\n",
    "created_at": "2022-10-17T21:26:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532512",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:20'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/230019e19d0b55005eb25b910f5f5f169d52782e">230019e</a></td><td><code>make linter happier</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be6aedc732144e17911e00505e699ed7c48d5442">be6aedc</a></td><td><code>fix doctest failures</code></td></tr></table>




---

archive/issue_comments_532513.json:
```json
{
    "body": "**Changing commit** from \"[be6aedc732144e17911e00505e699ed7c48d5442](https://github.com/sagemath/sagetrac-mirror/commit/be6aedc732144e17911e00505e699ed7c48d5442)\" to \"[5b403ad9d9378da37fb8433dbe64ee60aa41c432](https://github.com/sagemath/sagetrac-mirror/commit/5b403ad9d9378da37fb8433dbe64ee60aa41c432)\".",
    "created_at": "2022-11-08T14:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532513",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[be6aedc732144e17911e00505e699ed7c48d5442](https://github.com/sagemath/sagetrac-mirror/commit/be6aedc732144e17911e00505e699ed7c48d5442)" to "[5b403ad9d9378da37fb8433dbe64ee60aa41c432](https://github.com/sagemath/sagetrac-mirror/commit/5b403ad9d9378da37fb8433dbe64ee60aa41c432)".



---

archive/issue_comments_532514.json:
```json
{
    "body": "<a id='comment:21'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5b403ad9d9378da37fb8433dbe64ee60aa41c432\">5b403ad</a></td><td><code>Merge tag '9.8.beta3' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-11-08T14:53:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532514",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5b403ad9d9378da37fb8433dbe64ee60aa41c432">5b403ad</a></td><td><code>Merge tag '9.8.beta3' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532515.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09\">9045e7d</a></td><td><code>Merge tag '9.8.beta5' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>\n",
    "created_at": "2022-12-21T08:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532515",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09">9045e7d</a></td><td><code>Merge tag '9.8.beta5' into public/scalar_elliptic_curve_endomorphisms</code></td></tr></table>




---

archive/issue_comments_532516.json:
```json
{
    "body": "**Changing commit** from \"[5b403ad9d9378da37fb8433dbe64ee60aa41c432](https://github.com/sagemath/sagetrac-mirror/commit/5b403ad9d9378da37fb8433dbe64ee60aa41c432)\" to \"[9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09](https://github.com/sagemath/sagetrac-mirror/commit/9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09)\".",
    "created_at": "2022-12-21T08:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532516",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5b403ad9d9378da37fb8433dbe64ee60aa41c432](https://github.com/sagemath/sagetrac-mirror/commit/5b403ad9d9378da37fb8433dbe64ee60aa41c432)" to "[9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09](https://github.com/sagemath/sagetrac-mirror/commit/9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09)".



---

archive/issue_comments_532517.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79ae46846467aba747b2a94377dbd2524a6c1460\">79ae468</a></td><td><code>less experimental; deprecate .multiplication_by_m_isogeny()</code></td></tr></table>\n",
    "created_at": "2022-12-22T05:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532517",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79ae46846467aba747b2a94377dbd2524a6c1460">79ae468</a></td><td><code>less experimental; deprecate .multiplication_by_m_isogeny()</code></td></tr></table>




---

archive/issue_comments_532518.json:
```json
{
    "body": "**Changing commit** from \"[9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09](https://github.com/sagemath/sagetrac-mirror/commit/9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09)\" to \"[79ae46846467aba747b2a94377dbd2524a6c1460](https://github.com/sagemath/sagetrac-mirror/commit/79ae46846467aba747b2a94377dbd2524a6c1460)\".",
    "created_at": "2022-12-22T05:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532518",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09](https://github.com/sagemath/sagetrac-mirror/commit/9045e7d77cd0e3dd9ec2bd87c8a22ae7f5226c09)" to "[79ae46846467aba747b2a94377dbd2524a6c1460](https://github.com/sagemath/sagetrac-mirror/commit/79ae46846467aba747b2a94377dbd2524a6c1460)".



---

archive/issue_comments_532519.json:
```json
{
    "body": "<a id='comment:24'></a>\nI've been constantly rebasing this branch for more than a year now\u2009\u2014\u2009not trying to be annoying, but is there a chance we could finally get it merged?\n\nI'd like to build more functionality on top of this (and #33915), but dragging around a bunch of unmerged tickets as dependencies slows down any development effort considerably.",
    "created_at": "2022-12-22T05:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532519",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:24'></a>
I've been constantly rebasing this branch for more than a year now — not trying to be annoying, but is there a chance we could finally get it merged?

I'd like to build more functionality on top of this (and #33915), but dragging around a bunch of unmerged tickets as dependencies slows down any development effort considerably.



---

archive/issue_comments_532520.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,4 @@\n 1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).\n 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).\n \n-The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.\n+We also deprecate `.multiplication_by_m_isogeny()`: It should be replaceable by `.scalar_multiplication()` in all cases.\n``````\n",
    "created_at": "2022-12-22T05:55:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532520",
    "user": "https://github.com/yyyyx4"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,4 @@
 1. It solves one of the motivations behind #8014 (faster `multiplication_by_m_isogeny`).
 2. Wrapping scalar multiplications as an `EllipticCurveHom` is an important step towards implementing endomorphism rings (see #7368).
 
-The new code is marked experimental and isn't used anywhere by default. Changes to the existing codebase are intentionally kept minimal.
+We also deprecate `.multiplication_by_m_isogeny()`: It should be replaceable by `.scalar_multiplication()` in all cases.
``````




---

archive/issue_comments_532521.json:
```json
{
    "body": "<a id='comment:25'></a>\nI see that I looked at this in some detail a year ago, so I will do so again.",
    "created_at": "2022-12-22T09:02:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532521",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:25'></a>
I see that I looked at this in some detail a year ago, so I will do so again.



---

archive/issue_comments_532522.json:
```json
{
    "body": "<a id='comment:26'></a>\nSome minor (and quick) suggestions, as this looks very good.\n\nIn the `scaling_factor()` method you return `self._m` which is an integer (in ZZ), but I think you should coerce it into the base field.\n\nHaving done this you can simplify `is_separable()` and `is_injective()` to a check that `scaling_factor()` is nonzero.  For this reason it might be a good idea to store the image of m in the base field as well as m itself, on construction.\n\nDo this and you'll get a positive review!",
    "created_at": "2022-12-22T09:19:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532522",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:26'></a>
Some minor (and quick) suggestions, as this looks very good.

In the `scaling_factor()` method you return `self._m` which is an integer (in ZZ), but I think you should coerce it into the base field.

Having done this you can simplify `is_separable()` and `is_injective()` to a check that `scaling_factor()` is nonzero.  For this reason it might be a good idea to store the image of m in the base field as well as m itself, on construction.

Do this and you'll get a positive review!



---

archive/issue_comments_532523.json:
```json
{
    "body": "**Changing commit** from \"[79ae46846467aba747b2a94377dbd2524a6c1460](https://github.com/sagemath/sagetrac-mirror/commit/79ae46846467aba747b2a94377dbd2524a6c1460)\" to \"[884263e93974b3344cc2ba3ef808a5dcf60e123d](https://github.com/sagemath/sagetrac-mirror/commit/884263e93974b3344cc2ba3ef808a5dcf60e123d)\".",
    "created_at": "2022-12-22T09:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532523",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[79ae46846467aba747b2a94377dbd2524a6c1460](https://github.com/sagemath/sagetrac-mirror/commit/79ae46846467aba747b2a94377dbd2524a6c1460)" to "[884263e93974b3344cc2ba3ef808a5dcf60e123d](https://github.com/sagemath/sagetrac-mirror/commit/884263e93974b3344cc2ba3ef808a5dcf60e123d)".



---

archive/issue_comments_532524.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/884263e93974b3344cc2ba3ef808a5dcf60e123d\">884263e</a></td><td><code>convert scaling factor to base ring</code></td></tr></table>\n",
    "created_at": "2022-12-22T09:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532524",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/884263e93974b3344cc2ba3ef808a5dcf60e123d">884263e</a></td><td><code>convert scaling factor to base ring</code></td></tr></table>




---

archive/issue_comments_532525.json:
```json
{
    "body": "**Reviewer:** John Cremona",
    "created_at": "2022-12-22T09:58:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532525",
    "user": "https://github.com/JohnCremona"
}
```

**Reviewer:** John Cremona



---

archive/issue_events_398061.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2022-12-22T10:00:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398061"
}
```



---

archive/issue_events_398062.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2022-12-22T10:00:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32826#event-398062"
}
```



---

archive/issue_comments_532526.json:
```json
{
    "body": "<a id='comment:30'></a>\nThanks a lot for reviewing this (indeed rather long) patch!\n\nReplying to [John Cremona](#comment%3A26):\n> In the `scaling_factor()` method you return `self._m` which is an integer (in ZZ), but I think you should coerce it into the base field.\n\nIndeed, well spotted.\n\n> Having done this you can simplify `is_separable()` and `is_injective()` to a check that `scaling_factor()` is nonzero.\n\nI agree for `.is_separable()`, but it seems that `.is_injective()` is not expressible in terms of the scaling factor alone: For supersingular curves `[p]` is purely inseparable (i.e., injective), but `[kp]` has nontrivial kernel whenever `k>1` is not a power of `p`, while of course every multiple of `[p]` has the same scaling factor `0`. So I kept the previous implementation of `.is_injective()`.",
    "created_at": "2022-12-22T10:06:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532526",
    "user": "https://github.com/yyyyx4"
}
```

<a id='comment:30'></a>
Thanks a lot for reviewing this (indeed rather long) patch!

Replying to [John Cremona](#comment%3A26):
> In the `scaling_factor()` method you return `self._m` which is an integer (in ZZ), but I think you should coerce it into the base field.

Indeed, well spotted.

> Having done this you can simplify `is_separable()` and `is_injective()` to a check that `scaling_factor()` is nonzero.

I agree for `.is_separable()`, but it seems that `.is_injective()` is not expressible in terms of the scaling factor alone: For supersingular curves `[p]` is purely inseparable (i.e., injective), but `[kp]` has nontrivial kernel whenever `k>1` is not a power of `p`, while of course every multiple of `[p]` has the same scaling factor `0`. So I kept the previous implementation of `.is_injective()`.



---

archive/issue_comments_532527.json:
```json
{
    "body": "<a id='comment:31'></a>\nYou are right, of course.  When we have `separable_degree()` and `inseparable_degree()` we can just return `separable_degree()==1` for `is_injective()`, since the size of the kernel (over the algebraic closure and not meaning the fancy scheme-theoretic kernel!) is the separable degree.",
    "created_at": "2022-12-22T11:17:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32826#issuecomment-532527",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:31'></a>
You are right, of course.  When we have `separable_degree()` and `inseparable_degree()` we can just return `separable_degree()==1` for `is_injective()`, since the size of the kernel (over the algebraic closure and not meaning the fancy scheme-theoretic kernel!) is the separable degree.
