# Issue 32627: Expose the defining morphism and the top ring of ring extension

archive/issues_032390.json:
```json
{
    "assignees": [],
    "body": "We change the definition of `defining_morphism()` and add `top()` to expose the morphism defining a ring extension and the top ring. So we can\n\n```sage\nsage: F = GF(5^2)\nsage: K = GF(5^4).over(F)\nsage: K.defining_morphism()\nRing morphism:\n  From: Finite Field in z2 of size 5^2\n  To:   Finite Field in z4 of size 5^4\n  Defn: z2 |--> z4^3 + z4^2 + z4 + 3\nsage: K.top() == GF(5^4)\nTrue\nsage: K.morphism_from_base()  # old defining_morphism()\nRing morphism:\n  From: Finite Field in z2 of size 5^2\n  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base\n  Defn: z2 |--> z2\n```\n\nCC:  @xcaruso @johanrosenkilde @roed314 @saraedum\n\nComponent: **algebra**\n\nAuthor: **Kwankyu Lee**\n\nBranch/Commit: **[u/klee/32627](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/32627) @ [`f5a73dc`](https://github.com/sagemath/sagetrac-mirror/commit/f5a73dc0917028297dc74d4a698369e17f7b9b53)**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32627_\n\n",
    "created_at": "2021-10-05T02:41:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20review"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Expose the defining morphism and the top ring of ring extension",
    "type": "issue",
    "updated_at": "2022-09-19T18:58:47Z",
    "url": "https://github.com/sagemath/sage/issues/32627",
    "user": "https://github.com/kwankyu"
}
```
We change the definition of `defining_morphism()` and add `top()` to expose the morphism defining a ring extension and the top ring. So we can

```sage
sage: F = GF(5^2)
sage: K = GF(5^4).over(F)
sage: K.defining_morphism()
Ring morphism:
  From: Finite Field in z2 of size 5^2
  To:   Finite Field in z4 of size 5^4
  Defn: z2 |--> z4^3 + z4^2 + z4 + 3
sage: K.top() == GF(5^4)
True
sage: K.morphism_from_base()  # old defining_morphism()
Ring morphism:
  From: Finite Field in z2 of size 5^2
  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base
  Defn: z2 |--> z2
```

CC:  @xcaruso @johanrosenkilde @roed314 @saraedum

Component: **algebra**

Author: **Kwankyu Lee**

Branch/Commit: **[u/klee/32627](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/32627) @ [`f5a73dc`](https://github.com/sagemath/sagetrac-mirror/commit/f5a73dc0917028297dc74d4a698369e17f7b9b53)**

_Issue created by migration from https://trac.sagemath.org/ticket/32627_





---

archive/issue_events_446269.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-10-05T02:41:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446269"
}
```



---

archive/issue_events_446270.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-10-05T02:41:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446270"
}
```



---

archive/issue_events_446271.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-10-05T02:41:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446271"
}
```



---

archive/issue_events_446272.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-10-05T02:41:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446272"
}
```



---

archive/issue_comments_526097.json:
```json
{
    "body": "Branch: **[u/klee/32627](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/32627)**",
    "created_at": "2021-10-05T02:43:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526097",
    "user": "https://github.com/kwankyu"
}
```

Branch: **[u/klee/32627](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/32627)**



---

archive/issue_comments_526098.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/32f91093fc3179bd45d5c273c551f847f723c2d9\"><code>32f9109</code></a></td><td><code>Expose backend_morphism</code></td></tr></table>\n",
    "created_at": "2021-10-05T02:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526098",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/32f91093fc3179bd45d5c273c551f847f723c2d9"><code>32f9109</code></a></td><td><code>Expose backend_morphism</code></td></tr></table>




---

archive/issue_comments_526099.json:
```json
{
    "body": "Commit: **[`32f9109`](https://github.com/sagemath/sagetrac-mirror/commit/32f91093fc3179bd45d5c273c551f847f723c2d9)**",
    "created_at": "2021-10-05T02:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526099",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`32f9109`](https://github.com/sagemath/sagetrac-mirror/commit/32f91093fc3179bd45d5c273c551f847f723c2d9)**



---

archive/issue_comments_526100.json:
```json
{
    "body": "Author: **Kwankyu Lee**",
    "created_at": "2021-10-05T04:08:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526100",
    "user": "https://github.com/kwankyu"
}
```

Author: **Kwankyu Lee**



---

archive/issue_events_446273.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-10-07T03:10:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446273"
}
```



---

archive/issue_events_446274.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446274"
}
```



---

archive/issue_events_446275.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446275"
}
```



---

archive/issue_comments_526101.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526101",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:6" align="right">comment:6</div>

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_526102.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d725620f6fea1238cacca82ef31250b5d3eb73f8\"><code>d725620</code></a></td><td><code>Expose backend morphism</code></td></tr></table>\n",
    "created_at": "2021-12-24T04:52:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526102",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d725620f6fea1238cacca82ef31250b5d3eb73f8"><code>d725620</code></a></td><td><code>Expose backend morphism</code></td></tr></table>




---

archive/issue_comments_526103.json:
```json
{
    "body": "Changed commit from **[`32f9109`](https://github.com/sagemath/sagetrac-mirror/commit/32f91093fc3179bd45d5c273c551f847f723c2d9)** to **[`d725620`](https://github.com/sagemath/sagetrac-mirror/commit/d725620f6fea1238cacca82ef31250b5d3eb73f8)**",
    "created_at": "2021-12-24T04:52:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526103",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`32f9109`](https://github.com/sagemath/sagetrac-mirror/commit/32f91093fc3179bd45d5c273c551f847f723c2d9)** to **[`d725620`](https://github.com/sagemath/sagetrac-mirror/commit/d725620f6fea1238cacca82ef31250b5d3eb73f8)**



---

archive/issue_comments_526104.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nIs the name \"backend morphism\" standard? I would probably call this `.base_change()` or `.base_change_morphism()`, `.embedding()` or `.embedding_morphism()` (assuming these maps are supposed to be injective as the name \"extension\" suggests), or even just `.morphism()`.",
    "created_at": "2021-12-28T08:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526104",
    "user": "https://github.com/yyyyx4"
}
```

<div id="comment:8" align="right">comment:8</div>

Is the name "backend morphism" standard? I would probably call this `.base_change()` or `.base_change_morphism()`, `.embedding()` or `.embedding_morphism()` (assuming these maps are supposed to be injective as the name "extension" suggests), or even just `.morphism()`.



---

archive/issue_comments_526105.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@yyyyx4](#comment%3A8):\n> Is the name \"backend morphism\" standard?\n\nNo. It is not a mathematical term. It means the morphism at backend of (defining) the ring extension. \n\nI named it so since the method just returns `self._backend_defining_morphism`. The latter was named by the authors of ring extensions in Sage.   \n\n> I would probably call this `.base_change()` or `.base_change_morphism()`, `.embedding()` or `.embedding_morphism()` (assuming these maps are supposed to be injective as the name \"extension\" suggests), or even just `.morphism()`.\n\nI am okay with the last one `.morphism()`.",
    "created_at": "2021-12-28T09:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526105",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@yyyyx4](#comment%3A8):
> Is the name "backend morphism" standard?

No. It is not a mathematical term. It means the morphism at backend of (defining) the ring extension. 

I named it so since the method just returns `self._backend_defining_morphism`. The latter was named by the authors of ring extensions in Sage.   

> I would probably call this `.base_change()` or `.base_change_morphism()`, `.embedding()` or `.embedding_morphism()` (assuming these maps are supposed to be injective as the name "extension" suggests), or even just `.morphism()`.

I am okay with the last one `.morphism()`.



---

archive/issue_comments_526106.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOr `.defining_morphism()`?",
    "created_at": "2021-12-28T09:05:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526106",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

Or `.defining_morphism()`?



---

archive/issue_comments_526107.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@kwankyu](#comment%3A10):\n> Or `.defining_morphism()`?\n\nSounds good to me.",
    "created_at": "2021-12-28T09:21:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526107",
    "user": "https://github.com/yyyyx4"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@kwankyu](#comment%3A10):
> Or `.defining_morphism()`?

Sounds good to me.



---

archive/issue_comments_526108.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46dd052c59e0bc4e5babd004491a117c39791b2b\"><code>46dd052</code></a></td><td><code>Merge branch 'develop' into ring-extension-trac32627</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e4dc1125ba2d21a07c5365aeb39c5f32796936f\"><code>6e4dc11</code></a></td><td><code>Rename to defining morphism</code></td></tr></table>\n",
    "created_at": "2021-12-28T10:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526108",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46dd052c59e0bc4e5babd004491a117c39791b2b"><code>46dd052</code></a></td><td><code>Merge branch 'develop' into ring-extension-trac32627</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e4dc1125ba2d21a07c5365aeb39c5f32796936f"><code>6e4dc11</code></a></td><td><code>Rename to defining morphism</code></td></tr></table>




---

archive/issue_comments_526109.json:
```json
{
    "body": "Changed commit from **[`d725620`](https://github.com/sagemath/sagetrac-mirror/commit/d725620f6fea1238cacca82ef31250b5d3eb73f8)** to **[`6e4dc11`](https://github.com/sagemath/sagetrac-mirror/commit/6e4dc1125ba2d21a07c5365aeb39c5f32796936f)**",
    "created_at": "2021-12-28T10:04:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526109",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d725620`](https://github.com/sagemath/sagetrac-mirror/commit/d725620f6fea1238cacca82ef31250b5d3eb73f8)** to **[`6e4dc11`](https://github.com/sagemath/sagetrac-mirror/commit/6e4dc1125ba2d21a07c5365aeb39c5f32796936f)**



---

archive/issue_comments_526110.json:
```json
{
    "body": "Changed commit from **[`6e4dc11`](https://github.com/sagemath/sagetrac-mirror/commit/6e4dc1125ba2d21a07c5365aeb39c5f32796936f)** to **[`db4867b`](https://github.com/sagemath/sagetrac-mirror/commit/db4867b23a301653e578df195d54082c6bab52d9)**",
    "created_at": "2021-12-28T10:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526110",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6e4dc11`](https://github.com/sagemath/sagetrac-mirror/commit/6e4dc1125ba2d21a07c5365aeb39c5f32796936f)** to **[`db4867b`](https://github.com/sagemath/sagetrac-mirror/commit/db4867b23a301653e578df195d54082c6bab52d9)**



---

archive/issue_comments_526111.json:
```json
{
    "body": "<div id=\"comment:13\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db4867b23a301653e578df195d54082c6bab52d9\"><code>db4867b</code></a></td><td><code>Rewrite docstring</code></td></tr></table>\n",
    "created_at": "2021-12-28T10:08:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526111",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db4867b23a301653e578df195d54082c6bab52d9"><code>db4867b</code></a></td><td><code>Rewrite docstring</code></td></tr></table>




---

archive/issue_events_446276.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-12-28T10:11:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446276"
}
```



---

archive/issue_events_446277.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-12-28T10:11:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446277"
}
```



---

archive/issue_comments_526112.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI forgot that the name `.defining_morphism()` is already taken.\n\n```sage\nsage: F = GF(5^2)\nsage: K = GF(5^4).over(F)\nsage: K.defining_morphism()\nRing morphism:\n  From: Finite Field in z2 of size 5^2\n  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base\n  Defn: z2 |--> z2\nsage: K.backend_morphism()\nRing morphism:\n  From: Finite Field in z2 of size 5^2\n  To:   Finite Field in z4 of size 5^4\n  Defn: z2 |--> z4^3 + z4^2 + z4 + 3\n```",
    "created_at": "2021-12-28T10:19:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526112",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:15" align="right">comment:15</div>

I forgot that the name `.defining_morphism()` is already taken.

```sage
sage: F = GF(5^2)
sage: K = GF(5^4).over(F)
sage: K.defining_morphism()
Ring morphism:
  From: Finite Field in z2 of size 5^2
  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base
  Defn: z2 |--> z2
sage: K.backend_morphism()
Ring morphism:
  From: Finite Field in z2 of size 5^2
  To:   Finite Field in z4 of size 5^4
  Defn: z2 |--> z4^3 + z4^2 + z4 + 3
```



---

archive/issue_comments_526113.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThen `.backend_morphism()` again seems the best option...",
    "created_at": "2021-12-28T10:21:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526113",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:16" align="right">comment:16</div>

Then `.backend_morphism()` again seems the best option...



---

archive/issue_comments_526114.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI think `.backend_morphism()` is a less-than-optimal name because (1) it means nothing to mathematicians unaware of Sage internals, (2) it bakes an implementation detail into the interface, (3) the current documentation fails to explain what a backend morphism *is*.\n\nWhat this means is that this method will only be useful to people who are familiar with the internals of this class, and such people can already simply access the `_backend_defining_morphism` attribute. Hence, in my opinion *something* should be changed: (a) rename to something clearer and more mathematically meaningful; (b) expose this via an optional argument to `.defining_morphism()` (perhaps named `flatten` or `flatten_codomain`); (c) keep the name but clarify in the documentation what the returned object actually is?",
    "created_at": "2021-12-28T14:03:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526114",
    "user": "https://github.com/yyyyx4"
}
```

<div id="comment:17" align="right">comment:17</div>

I think `.backend_morphism()` is a less-than-optimal name because (1) it means nothing to mathematicians unaware of Sage internals, (2) it bakes an implementation detail into the interface, (3) the current documentation fails to explain what a backend morphism *is*.

What this means is that this method will only be useful to people who are familiar with the internals of this class, and such people can already simply access the `_backend_defining_morphism` attribute. Hence, in my opinion *something* should be changed: (a) rename to something clearer and more mathematically meaningful; (b) expose this via an optional argument to `.defining_morphism()` (perhaps named `flatten` or `flatten_codomain`); (c) keep the name but clarify in the documentation what the returned object actually is?



---

archive/issue_comments_526115.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI agree with your arguments. But I also want to avoid difficult names for simple things.\n\nIn the previous example, let us call the first map by (a) and the second map by (b). I think there are two ways to proceed.\n\n(1) \".defining_morphism()\" returns (b); the map (a) is registered as coercion map. This would break the design choices made by the original authors. Hence I am not sure if this would work out well.\n\n(2) \".defining_morphism()\" returns (a) (as it does now); \".morphism()\" returns (b). This is of course an easy solution. \n\nWhich do you prefer? I prefer (1) but I am also okay with (2).",
    "created_at": "2021-12-28T15:34:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526115",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:18" align="right">comment:18</div>

I agree with your arguments. But I also want to avoid difficult names for simple things.

In the previous example, let us call the first map by (a) and the second map by (b). I think there are two ways to proceed.

(1) ".defining_morphism()" returns (b); the map (a) is registered as coercion map. This would break the design choices made by the original authors. Hence I am not sure if this would work out well.

(2) ".defining_morphism()" returns (a) (as it does now); ".morphism()" returns (b). This is of course an easy solution. 

Which do you prefer? I prefer (1) but I am also okay with (2).



---

archive/issue_comments_526116.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@yyyyx4](#comment%3A17):\n> ... What this means is that this method will only be useful to people who are familiar with the internals of this class, and such people can already simply access the `_backend_defining_morphism` attribute. \n\nThey cannot because that attribute is defined in a cython module. Maybe this was the reason I introduced `.backend_morphism()` method in the first place.",
    "created_at": "2021-12-29T06:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526116",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@yyyyx4](#comment%3A17):
> ... What this means is that this method will only be useful to people who are familiar with the internals of this class, and such people can already simply access the `_backend_defining_morphism` attribute. 

They cannot because that attribute is defined in a cython module. Maybe this was the reason I introduced `.backend_morphism()` method in the first place.



---

archive/issue_comments_526117.json:
```json
{
    "body": "<div id=\"comment:20\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56110087a1c1cdbd84814bc4a80316804fa2649f\"><code>5611008</code></a></td><td><code>Refactor defining morphism</code></td></tr></table>\n",
    "created_at": "2021-12-29T06:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526117",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:20"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56110087a1c1cdbd84814bc4a80316804fa2649f"><code>5611008</code></a></td><td><code>Refactor defining morphism</code></td></tr></table>




---

archive/issue_comments_526118.json:
```json
{
    "body": "Changed commit from **[`db4867b`](https://github.com/sagemath/sagetrac-mirror/commit/db4867b23a301653e578df195d54082c6bab52d9)** to **[`5611008`](https://github.com/sagemath/sagetrac-mirror/commit/56110087a1c1cdbd84814bc4a80316804fa2649f)**",
    "created_at": "2021-12-29T06:31:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526118",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db4867b`](https://github.com/sagemath/sagetrac-mirror/commit/db4867b23a301653e578df195d54082c6bab52d9)** to **[`5611008`](https://github.com/sagemath/sagetrac-mirror/commit/56110087a1c1cdbd84814bc4a80316804fa2649f)**



---

archive/issue_comments_526119.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nThe last commit is my attempt to implement something close to (1). If we decide to go this way, then I need to add deprecation warnings of course.",
    "created_at": "2021-12-29T06:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526119",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:21" align="right">comment:21</div>

The last commit is my attempt to implement something close to (1). If we decide to go this way, then I need to add deprecation warnings of course.



---

archive/issue_events_446278.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-12-29T06:34:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446278"
}
```



---

archive/issue_events_446279.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-12-29T06:34:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446279"
}
```



---

archive/issue_comments_526120.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nLet's see how much this renaming of `.defining_morphism()` breaks sage.",
    "created_at": "2021-12-29T06:34:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526120",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:22" align="right">comment:22</div>

Let's see how much this renaming of `.defining_morphism()` breaks sage.



---

archive/issue_comments_526121.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWith the current branch, \n\n```sage\nsage: F = GF(5^2)\nsage: K = GF(5^4).over(F)\nsage: K.morphism_from_base()\nRing morphism:\n  From: Finite Field in z2 of size 5^2\n  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base\n  Defn: z2 |--> z2\nsage: K.defining_morphism()\nRing morphism:\n  From: Finite Field in z2 of size 5^2\n  To:   Finite Field in z4 of size 5^4\n  Defn: z2 |--> z4^3 + z4^2 + z4 + 3\nsage: K.top()\nFinite Field in z4 of size 5^4\nsage: K.base()\nFinite Field in z2 of size 5^2\n```",
    "created_at": "2021-12-29T06:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526121",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:23" align="right">comment:23</div>

With the current branch, 

```sage
sage: F = GF(5^2)
sage: K = GF(5^4).over(F)
sage: K.morphism_from_base()
Ring morphism:
  From: Finite Field in z2 of size 5^2
  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base
  Defn: z2 |--> z2
sage: K.defining_morphism()
Ring morphism:
  From: Finite Field in z2 of size 5^2
  To:   Finite Field in z4 of size 5^4
  Defn: z2 |--> z4^3 + z4^2 + z4 + 3
sage: K.top()
Finite Field in z4 of size 5^4
sage: K.base()
Finite Field in z2 of size 5^2
```



---

archive/issue_comments_526122.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\ncc roed and saraedum who contributed to the writing of the class `RingExtension`.\n\nWhen I designed ticket #21413, this idea was to keep the backend morphism private. The point behind this was the following: the backend ring/morphism reflects how things are implemented internally while the ring extension itself is the mathematical object the user is supposed to work with.\n\nFor instance, if I do some complicated construction but the software understands by itself than the top ring is something simple and/or already efficiently implemented, then it can switch silently (magically) to this implementation. The basic example is the creation of towers of extensions (of finite fields, number fields, p-adic fields...) where it's convenient to flatten extensions to improve performances but where the user would certainly like to keep track of the intermediate fields. This philosophy is actually already more or less implemented for number fields; my motivation was to design a general framework to handle this.\n\nFor this reason, I'm really in favor to expose the backend ring/morphism to the user, but I can change my mind if you have good arguments. Why do you need this?\n\nBesides, I thought a long time (and changed my mind several times) to the coersion model and I came with something which, I think, was satisfying. Changing the defition of `defining_morphism` would break this so again, I'm not really enthousiastic.",
    "created_at": "2021-12-29T09:58:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526122",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:24" align="right">comment:24</div>

cc roed and saraedum who contributed to the writing of the class `RingExtension`.

When I designed ticket #21413, this idea was to keep the backend morphism private. The point behind this was the following: the backend ring/morphism reflects how things are implemented internally while the ring extension itself is the mathematical object the user is supposed to work with.

For instance, if I do some complicated construction but the software understands by itself than the top ring is something simple and/or already efficiently implemented, then it can switch silently (magically) to this implementation. The basic example is the creation of towers of extensions (of finite fields, number fields, p-adic fields...) where it's convenient to flatten extensions to improve performances but where the user would certainly like to keep track of the intermediate fields. This philosophy is actually already more or less implemented for number fields; my motivation was to design a general framework to handle this.

For this reason, I'm really in favor to expose the backend ring/morphism to the user, but I can change my mind if you have good arguments. Why do you need this?

Besides, I thought a long time (and changed my mind several times) to the coersion model and I came with something which, I think, was satisfying. Changing the defition of `defining_morphism` would break this so again, I'm not really enthousiastic.



---

archive/issue_comments_526123.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThank you for comments.\n\n> For this reason, I'm really in favor to expose the backend ring/morphism to the user, \n\nYou mean \"not to expose\"?\n\n> but I can change my mind if you have good arguments. Why do you need this?\n\nI want to recover the morphism defining the extension when I am only given a ring extension. I think this is a natural need.\n \n> Besides, I thought a long time (and changed my mind several times) to the coersion model and I came with something which, I think, was satisfying. Changing the definition of `defining_morphism` would break this so again, I'm not really enthousiastic.\n\nThe present definition of `defining_morphism` is not what one(mathematician) would naturally expect. A ring extension R over S is defined by a morphism from S to R. \n\nIt seems `defining_morphism` is not yet used elsewhere in Sage library. So it seems quite safe to change the name. The new name `morphism_from_base` seems in good match with the definition. No?\n\nBut I do not insist to change the present definition if it is only me who finds the definition unnatural.",
    "created_at": "2021-12-29T11:24:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526123",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:26" align="right">comment:26</div>

Thank you for comments.

> For this reason, I'm really in favor to expose the backend ring/morphism to the user, 

You mean "not to expose"?

> but I can change my mind if you have good arguments. Why do you need this?

I want to recover the morphism defining the extension when I am only given a ring extension. I think this is a natural need.
 
> Besides, I thought a long time (and changed my mind several times) to the coersion model and I came with something which, I think, was satisfying. Changing the definition of `defining_morphism` would break this so again, I'm not really enthousiastic.

The present definition of `defining_morphism` is not what one(mathematician) would naturally expect. A ring extension R over S is defined by a morphism from S to R. 

It seems `defining_morphism` is not yet used elsewhere in Sage library. So it seems quite safe to change the name. The new name `morphism_from_base` seems in good match with the definition. No?

But I do not insist to change the present definition if it is only me who finds the definition unnatural.



---

archive/issue_comments_526124.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ceaae69bf10aeaff20b10ca7ee3028c6e1a2c55\"><code>6ceaae6</code></a></td><td><code>Fixes for doctest failures</code></td></tr></table>\n",
    "created_at": "2021-12-30T00:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526124",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ceaae69bf10aeaff20b10ca7ee3028c6e1a2c55"><code>6ceaae6</code></a></td><td><code>Fixes for doctest failures</code></td></tr></table>




---

archive/issue_comments_526125.json:
```json
{
    "body": "Changed commit from **[`5611008`](https://github.com/sagemath/sagetrac-mirror/commit/56110087a1c1cdbd84814bc4a80316804fa2649f)** to **[`6ceaae6`](https://github.com/sagemath/sagetrac-mirror/commit/6ceaae69bf10aeaff20b10ca7ee3028c6e1a2c55)**",
    "created_at": "2021-12-30T00:35:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526125",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5611008`](https://github.com/sagemath/sagetrac-mirror/commit/56110087a1c1cdbd84814bc4a80316804fa2649f)** to **[`6ceaae6`](https://github.com/sagemath/sagetrac-mirror/commit/6ceaae69bf10aeaff20b10ca7ee3028c6e1a2c55)**



---

archive/issue_comments_526126.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@xcaruso](#comment%3A24):\n> For instance, if I do some complicated construction but the software understands by itself than the top ring is something simple and/or already efficiently implemented, then it can switch silently (magically) to this implementation. The basic example is the creation of towers of extensions (of finite fields, number fields, p-adic fields...) where it's convenient to flatten extensions to improve performances but where the user would certainly like to keep track of the intermediate fields. This philosophy is actually already more or less implemented for number fields; my motivation was to design a general framework to handle this.\n\nI understand the motivation. But I do not see why this is the reason not to expose the defining morphism (in my sense) and the top ring from the ring extension.",
    "created_at": "2021-12-30T00:45:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526126",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@xcaruso](#comment%3A24):
> For instance, if I do some complicated construction but the software understands by itself than the top ring is something simple and/or already efficiently implemented, then it can switch silently (magically) to this implementation. The basic example is the creation of towers of extensions (of finite fields, number fields, p-adic fields...) where it's convenient to flatten extensions to improve performances but where the user would certainly like to keep track of the intermediate fields. This philosophy is actually already more or less implemented for number fields; my motivation was to design a general framework to handle this.

I understand the motivation. But I do not see why this is the reason not to expose the defining morphism (in my sense) and the top ring from the ring extension.



---

archive/issue_comments_526127.json:
```json
{
    "body": "Changed commit from **[`6ceaae6`](https://github.com/sagemath/sagetrac-mirror/commit/6ceaae69bf10aeaff20b10ca7ee3028c6e1a2c55)** to **[`f5a73dc`](https://github.com/sagemath/sagetrac-mirror/commit/f5a73dc0917028297dc74d4a698369e17f7b9b53)**",
    "created_at": "2021-12-31T00:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526127",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6ceaae6`](https://github.com/sagemath/sagetrac-mirror/commit/6ceaae69bf10aeaff20b10ca7ee3028c6e1a2c55)** to **[`f5a73dc`](https://github.com/sagemath/sagetrac-mirror/commit/f5a73dc0917028297dc74d4a698369e17f7b9b53)**



---

archive/issue_comments_526128.json:
```json
{
    "body": "<div id=\"comment:29\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5a73dc0917028297dc74d4a698369e17f7b9b53\"><code>f5a73dc</code></a></td><td><code>Add deprecation warning for definition change</code></td></tr></table>\n",
    "created_at": "2021-12-31T00:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526128",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5a73dc0917028297dc74d4a698369e17f7b9b53"><code>f5a73dc</code></a></td><td><code>Add deprecation warning for definition change</code></td></tr></table>




---

archive/issue_events_446280.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2021-12-31T00:50:23Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "title_is": "Expose the defining morphism and the top ring of ring extension",
    "title_was": "Expose backend of ring extension",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446280"
}
```



---

archive/issue_comments_526129.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,13 +1,18 @@\n-We add `backend_morphism` and `top` to expose the backend defining a ring extension. So we can\n+We change the definition of `defining_morphism()` and add `top()` to expose the morphism defining a ring extension and the top ring. So we can\n \n ```sage\n sage: F = GF(5^2)\n sage: K = GF(5^4).over(F)\n-sage: K.backend_morphism()\n+sage: K.defining_morphism()\n Ring morphism:\n   From: Finite Field in z2 of size 5^2\n   To:   Finite Field in z4 of size 5^4\n   Defn: z2 |--> z4^3 + z4^2 + z4 + 3\n sage: K.top() == GF(5^4)\n True\n+sage: K.morphism_from_base()  # old defining_morphism()\n+Ring morphism:\n+  From: Finite Field in z2 of size 5^2\n+  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base\n+  Defn: z2 |--> z2\n ```\n``````\n",
    "created_at": "2021-12-31T00:50:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526129",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,13 +1,18 @@
-We add `backend_morphism` and `top` to expose the backend defining a ring extension. So we can
+We change the definition of `defining_morphism()` and add `top()` to expose the morphism defining a ring extension and the top ring. So we can
 
 ```sage
 sage: F = GF(5^2)
 sage: K = GF(5^4).over(F)
-sage: K.backend_morphism()
+sage: K.defining_morphism()
 Ring morphism:
   From: Finite Field in z2 of size 5^2
   To:   Finite Field in z4 of size 5^4
   Defn: z2 |--> z4^3 + z4^2 + z4 + 3
 sage: K.top() == GF(5^4)
 True
+sage: K.morphism_from_base()  # old defining_morphism()
+Ring morphism:
+  From: Finite Field in z2 of size 5^2
+  To:   Field in z4 with defining polynomial x^2 + (4*z2 + 3)*x + z2 over its base
+  Defn: z2 |--> z2
 ```
``````




---

archive/issue_comments_526130.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@xcaruso](#comment%3A24):\n\n> For this reason, I'm really in favor to expose the backend ring/morphism to the user, but I can change my mind if you have good arguments. Why do you need this?\n\nI needed this ticket for #33075. But now I have made #33075 independent from this ticket. To do that, I was forced to write\n\n```python\nfrom sage.rings.ring_extension_conversion import backend_morphism\n\nembedF = backend_morphism(self.defining_morphism())\n```\n\nto obtain the defining morphism from the ring extension `self`. Is there a simple solution?\n\n> Besides, I thought a long time (and changed my mind several times) to the coersion model and I came with something which, I think, was satisfying. Changing the defition of `defining_morphism` would break this so again.\n\nWhat is broken? There is no change in the coercion model.",
    "created_at": "2022-01-01T03:07:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526130",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@xcaruso](#comment%3A24):

> For this reason, I'm really in favor to expose the backend ring/morphism to the user, but I can change my mind if you have good arguments. Why do you need this?

I needed this ticket for #33075. But now I have made #33075 independent from this ticket. To do that, I was forced to write

```python
from sage.rings.ring_extension_conversion import backend_morphism

embedF = backend_morphism(self.defining_morphism())
```

to obtain the defining morphism from the ring extension `self`. Is there a simple solution?

> Besides, I thought a long time (and changed my mind several times) to the coersion model and I came with something which, I think, was satisfying. Changing the defition of `defining_morphism` would break this so again.

What is broken? There is no change in the coercion model.



---

archive/issue_comments_526131.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@kwankyu](#comment%3A31):\n\n> I needed this ticket for #33075. But now I have made #33075 independent from this ticket. To do that, I was forced to write\n> \n> ```python\n> from sage.rings.ring_extension_conversion import backend_morphism\n> embedF = backend_morphism(self.defining_morphism())\n> ```\n> \n> to obtain the defining morphism from the ring extension `self`. Is there a simple solution?\n\nThanks! I think that it's indeed the simplest solution.\n\nHowever, I continue claiming that if you want to use the `over` constructor, you should consider to option to always work with `L/K` in place of `L`.",
    "created_at": "2022-01-02T11:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526131",
    "user": "https://github.com/xcaruso"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@kwankyu](#comment%3A31):

> I needed this ticket for #33075. But now I have made #33075 independent from this ticket. To do that, I was forced to write
> 
> ```python
> from sage.rings.ring_extension_conversion import backend_morphism
> embedF = backend_morphism(self.defining_morphism())
> ```
> 
> to obtain the defining morphism from the ring extension `self`. Is there a simple solution?

Thanks! I think that it's indeed the simplest solution.

However, I continue claiming that if you want to use the `over` constructor, you should consider to option to always work with `L/K` in place of `L`.



---

archive/issue_comments_526132.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@xcaruso](#comment%3A32):\n> Replying to [@kwankyu](#comment%3A31):\n> \n> > I needed this ticket for #33075. But now I have made #33075 independent from this ticket. To do that, I was forced to write\n> > \n> > ```python\n> > from sage.rings.ring_extension_conversion import backend_morphism\n> > embedF = backend_morphism(self.defining_morphism())\n> > ```\n> > \n> > to obtain the defining morphism from the ring extension `self`. Is there a simple solution?\n\n> \n> Thanks! I think that it's indeed the simplest solution.\n\nFor #33075, I found that even this `embedF = self.defining_morphism()` works, perhaps because of the coercion from the extension to the top ring. This is even compatible with this ticket.\n\n> However, I continue claiming that if you want to use the `over` constructor, you should consider to option to always work with `L/K` in place of `L`.\n\nI don't get this. Real users choose to use whatever of `L/K` and `L` because they have access to both naturally. But for code in Sage library, it is presently inconvenient to get access to `L` (the defining morphism from `K` to `L`) from `L/K`. They are not implementation details but mathematically related objects.\n\nThe present definition of `defining_morphism()` is strange in that the object(the extension) appears as the codomain of the morphism that defines the object. I think there is no `defining_xxx()` method that has this cyclicity in Sage.",
    "created_at": "2022-01-03T02:27:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32627#issuecomment-526132",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@xcaruso](#comment%3A32):
> Replying to [@kwankyu](#comment%3A31):
> 
> > I needed this ticket for #33075. But now I have made #33075 independent from this ticket. To do that, I was forced to write
> > 
> > ```python
> > from sage.rings.ring_extension_conversion import backend_morphism
> > embedF = backend_morphism(self.defining_morphism())
> > ```
> > 
> > to obtain the defining morphism from the ring extension `self`. Is there a simple solution?

> 
> Thanks! I think that it's indeed the simplest solution.

For #33075, I found that even this `embedF = self.defining_morphism()` works, perhaps because of the coercion from the extension to the top ring. This is even compatible with this ticket.

> However, I continue claiming that if you want to use the `over` constructor, you should consider to option to always work with `L/K` in place of `L`.

I don't get this. Real users choose to use whatever of `L/K` and `L` because they have access to both naturally. But for code in Sage library, it is presently inconvenient to get access to `L` (the defining morphism from `K` to `L`) from `L/K`. They are not implementation details but mathematically related objects.

The present definition of `defining_morphism()` is strange in that the object(the extension) appears as the codomain of the morphism that defines the object. I think there is no `defining_xxx()` method that has this cyclicity in Sage.



---

archive/issue_events_446281.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446281"
}
```



---

archive/issue_events_446282.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-03T15:17:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446282"
}
```



---

archive/issue_events_446283.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446283"
}
```



---

archive/issue_events_446284.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32627",
    "milestone_number": null,
    "milestone_title": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32627#event-446284"
}
```
