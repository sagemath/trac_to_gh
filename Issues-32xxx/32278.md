# Issue 32278: Add support for B-terms in Asymptotic Ring

archive/issues_032041.json:
```json
{
    "body": "Add support for B-terms in Asymptotic Ring.\n\nCC:  @cheuberg @behackl @dkrenn\n\nKeywords: gsoc2021, asymptotics\n\nBranch/Commit: 24748702f01276cdc678c969ff74482c3c8d347b\n\nReviewer: Benjamin Hackl\n\nAuthor: Thomas Hagelmayer\n\nDependencies: #31933, #32229\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32278\n\n",
    "closed_at": "2021-12-19T11:47:49Z",
    "created_at": "2021-07-26T13:41:30Z",
    "labels": [
        "component: asymptotic expansions"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Add support for B-terms in Asymptotic Ring",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32278",
    "user": "https://github.com/thhagelmayer"
}
```
Add support for B-terms in Asymptotic Ring.

CC:  @cheuberg @behackl @dkrenn

Keywords: gsoc2021, asymptotics

Branch/Commit: 24748702f01276cdc678c969ff74482c3c8d347b

Reviewer: Benjamin Hackl

Author: Thomas Hagelmayer

Dependencies: #31933, #32229

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32278





---

archive/issue_comments_488511.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to asymptotic expansions.",
    "created_at": "2021-07-26T13:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488511",
    "user": "https://github.com/thhagelmayer"
}
```

Changing component from PLEASE CHANGE to asymptotic expansions.



---

archive/issue_comments_488512.json:
```json
{
    "body": "Changing keywords from \"\" to \"gsoc21, asymptotics\".",
    "created_at": "2021-07-26T13:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488512",
    "user": "https://github.com/thhagelmayer"
}
```

Changing keywords from "" to "gsoc21, asymptotics".



---

archive/issue_comments_488513.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2021-07-26T13:54:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488513",
    "user": "https://github.com/thhagelmayer"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_488514.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2021-07-27T16:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488514",
    "user": "https://github.com/thhagelmayer"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_488515.json:
```json
{
    "body": "<a id='comment:3'></a>I have implemented the initial functions for the usage of `B-terms` in `AsymptoticRing`.\n\nI have three doctest errors:\n\n```\nFile \"src/sage/rings/asymptotic/asymptotic_ring.py\", line 4691, in sage.rings.asymptotic.asymptotic_ring.AsymptoticRing.B\nFailed example:\n    A.B(2*x^3, {x: 5})\nException raised:\n    Traceback (most recent call last):\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 718, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1137, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.rings.asymptotic.asymptotic_ring.AsymptoticRing.B[1]>\", line 1, in <module>\n        A.B(Integer(2)*x**Integer(3), {x: Integer(5)})\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py\", line 4694, in B\n        return self.B(valid_from)\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py\", line 3400, in B\n        return sum(self.parent().create_summand('B', growth=element, valid_from=valid_from)\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py\", line 3400, in <genexpr>\n        return sum(self.parent().create_summand('B', growth=element, valid_from=valid_from)\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py\", line 4612, in create_summand\n        return self(TM(data, **kwds), simplify=False, convert=False)\n      File \"sage/structure/parent.pyx\", line 900, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9365)\n        return mor._call_with_args(x, args, kwds)\n      File \"sage/structure/coerce_maps.pyx\", line 180, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:5153)\n        raise\n      File \"sage/structure/coerce_maps.pyx\", line 170, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:4943)\n        return C._element_constructor(x, **kwds)\n      File \"/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/term_monoid.py\", line 1829, in _element_constructor_\n        return self._create_element_(data.growth, data.coefficient)\n    TypeError: _create_element_() missing 1 required positional argument: 'valid_from'\n```\n\nThe other two are the same from `src/sage/rings/asymptotic/asymptotic_ring.py\", line 3379` and `src/sage/rings/asymptotic/asymptotic_ring.py\", line 3381`.\n\n---\nLast 10 new commits:",
    "created_at": "2021-07-27T16:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488515",
    "user": "https://github.com/thhagelmayer"
}
```

<a id='comment:3'></a>I have implemented the initial functions for the usage of `B-terms` in `AsymptoticRing`.

I have three doctest errors:

```
File "src/sage/rings/asymptotic/asymptotic_ring.py", line 4691, in sage.rings.asymptotic.asymptotic_ring.AsymptoticRing.B
Failed example:
    A.B(2*x^3, {x: 5})
Exception raised:
    Traceback (most recent call last):
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 718, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1137, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.rings.asymptotic.asymptotic_ring.AsymptoticRing.B[1]>", line 1, in <module>
        A.B(Integer(2)*x**Integer(3), {x: Integer(5)})
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py", line 4694, in B
        return self.B(valid_from)
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py", line 3400, in B
        return sum(self.parent().create_summand('B', growth=element, valid_from=valid_from)
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py", line 3400, in <genexpr>
        return sum(self.parent().create_summand('B', growth=element, valid_from=valid_from)
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/asymptotic_ring.py", line 4612, in create_summand
        return self(TM(data, **kwds), simplify=False, convert=False)
      File "sage/structure/parent.pyx", line 900, in sage.structure.parent.Parent.__call__ (build/cythonized/sage/structure/parent.c:9365)
        return mor._call_with_args(x, args, kwds)
      File "sage/structure/coerce_maps.pyx", line 180, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:5153)
        raise
      File "sage/structure/coerce_maps.pyx", line 170, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_with_args (build/cythonized/sage/structure/coerce_maps.c:4943)
        return C._element_constructor(x, **kwds)
      File "/home/thhagelmayer/sagemath-trac-mirror/local/lib/python3.8/site-packages/sage/rings/asymptotic/term_monoid.py", line 1829, in _element_constructor_
        return self._create_element_(data.growth, data.coefficient)
    TypeError: _create_element_() missing 1 required positional argument: 'valid_from'
```

The other two are the same from `src/sage/rings/asymptotic/asymptotic_ring.py", line 3379` and `src/sage/rings/asymptotic/asymptotic_ring.py", line 3381`.

---
Last 10 new commits:



---

archive/issue_comments_488516.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-\n+Add support for B-terms in Asymptotic Ring.\n \n Comment: 1\n \n``````\n",
    "created_at": "2021-07-27T16:43:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488516",
    "user": "https://github.com/thhagelmayer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-
+Add support for B-terms in Asymptotic Ring.
 
 Comment: 1
 
``````




---

archive/issue_comments_488517.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 gh-thhagelmayer]:\n> I have implemented the initial functions for the usage of `B-terms` in `AsymptoticRing`.\n> \n> I have three doctest errors:\n> \n> \n> ```\n> File \"src/sage/rings/asymptotic/asymptotic_ring.py\", line 4691, in sage.rings.asymptotic.asymptotic_ring.AsymptoticRing.B\n> Failed example:\n>     A.B(2*x^3, {x: 5})\n> Exception raised:\n>     Traceback (most recent call last):\n>     ...\n>     TypeError: _create_element_() missing 1 required positional argument: 'valid_from'\n> ```\n> \n> The other two are the same from `src/sage/rings/asymptotic/asymptotic_ring.py\", line 3379` and `src/sage/rings/asymptotic/asymptotic_ring.py\", line 3381`.\n\n\nMy guess, it seems like they could go away by #32229. (But anyways, it would need to be `A.B(2*x^3, valid_from={x: 5})`.",
    "created_at": "2021-07-27T19:11:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488517",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:4'></a>Replying to [comment:3 gh-thhagelmayer]:
> I have implemented the initial functions for the usage of `B-terms` in `AsymptoticRing`.
> 
> I have three doctest errors:
> 
> 
> ```
> File "src/sage/rings/asymptotic/asymptotic_ring.py", line 4691, in sage.rings.asymptotic.asymptotic_ring.AsymptoticRing.B
> Failed example:
>     A.B(2*x^3, {x: 5})
> Exception raised:
>     Traceback (most recent call last):
>     ...
>     TypeError: _create_element_() missing 1 required positional argument: 'valid_from'
> ```
> 
> The other two are the same from `src/sage/rings/asymptotic/asymptotic_ring.py", line 3379` and `src/sage/rings/asymptotic/asymptotic_ring.py", line 3381`.


My guess, it seems like they could go away by #32229. (But anyways, it would need to be `A.B(2*x^3, valid_from={x: 5})`.



---

archive/issue_comments_488518.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-08-07T18:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488518",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_events_085563.json:
```json
{
    "actor": "https://github.com/thhagelmayer",
    "created_at": "2021-08-07T18:36:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32278#event-85563"
}
```



---

archive/issue_comments_488519.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2021-08-07T18:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488519",
    "user": "https://github.com/thhagelmayer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_488520.json:
```json
{
    "body": "<a id='comment:6'></a>I merged #32229 into this ticket. Afterwards I could fix the doctests which were failing.\n\n---\nLast 10 new commits:",
    "created_at": "2021-08-07T18:36:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488520",
    "user": "https://github.com/thhagelmayer"
}
```

<a id='comment:6'></a>I merged #32229 into this ticket. Afterwards I could fix the doctests which were failing.

---
Last 10 new commits:



---

archive/issue_comments_488521.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-11T15:16:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488521",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_488522.json:
```json
{
    "body": "<a id='comment:8'></a>I moved the logic from `asymptotic_ring` to `term_monoid` and fixed the doctests.",
    "created_at": "2021-08-11T15:19:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488522",
    "user": "https://github.com/thhagelmayer"
}
```

<a id='comment:8'></a>I moved the logic from `asymptotic_ring` to `term_monoid` and fixed the doctests.



---

archive/issue_comments_488523.json:
```json
{
    "body": "Changing keywords from \"gsoc21, asymptotics\" to \"gsoc2021, asymptotics\".",
    "created_at": "2021-08-12T00:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488523",
    "user": "https://github.com/tscrim"
}
```

Changing keywords from "gsoc21, asymptotics" to "gsoc2021, asymptotics".



---

archive/issue_comments_488524.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-18T11:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488524",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_488525.json:
```json
{
    "body": "<a id='comment:10'></a>This looks pretty functional already. Here are some remarks:\n\n1. `AsymptoticExpansion.B`: The tests in the docstring use `AsymptoticRing.B` (which is fine in principle, but the corresponding lines should be marked with `# indirect doctest` then) -- either do this, or alternatively rewrite the tests to use `AsymptoticExpansion.B`.\n\n2. `AsymptoticExpansion.B`, `AsymptoticRing.B`, `BTerm`: The docstring, in particular: the description of `valid_from`, should mention the \"short syntax\" where passing a number instead of a dictionary uses the number as the lower bound for all variables occurring in the term.\n\n3. `AsymptoticExpansion.B` - Is there a particular reason that `valid_from` is just a positional argument, and not a keyword argument with default value 0 (like for `AsymptoticRing.B`?)\n\n4. `NotImplementedBZeroError`: Maybe add a straightforward test like\n    {{{\n    sage: AR.<n> = AsymptoticRing('n^QQ', QQ)\n    sage: AR(0).B(42)\n    Traceback (most recent call last):\n    ...\n    NotImplementedBZero: got B(0)\n    The error term B(0) means 0 for sufficiently large n.\n    }}}",
    "created_at": "2021-08-18T11:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488525",
    "user": "https://github.com/behackl"
}
```

<a id='comment:10'></a>This looks pretty functional already. Here are some remarks:

1. `AsymptoticExpansion.B`: The tests in the docstring use `AsymptoticRing.B` (which is fine in principle, but the corresponding lines should be marked with `# indirect doctest` then) -- either do this, or alternatively rewrite the tests to use `AsymptoticExpansion.B`.

2. `AsymptoticExpansion.B`, `AsymptoticRing.B`, `BTerm`: The docstring, in particular: the description of `valid_from`, should mention the "short syntax" where passing a number instead of a dictionary uses the number as the lower bound for all variables occurring in the term.

3. `AsymptoticExpansion.B` - Is there a particular reason that `valid_from` is just a positional argument, and not a keyword argument with default value 0 (like for `AsymptoticRing.B`?)

4. `NotImplementedBZeroError`: Maybe add a straightforward test like
    {{{
    sage: AR.<n> = AsymptoticRing('n^QQ', QQ)
    sage: AR(0).B(42)
    Traceback (most recent call last):
    ...
    NotImplementedBZero: got B(0)
    The error term B(0) means 0 for sufficiently large n.
    }}}



---

archive/issue_comments_488526.json:
```json
{
    "body": "<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-18T14:39:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488526",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_488527.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:10 behackl]:\n\nThank you for the comments.\n\n> 3. `AsymptoticExpansion.B` - Is there a particular reason that `valid_from` is just a positional argument, and not a keyword argument with default value 0 (like for `AsymptoticRing.B`?)\n  \nI thought it is not important to make the `valid_from` a keyword argument in `AsymptoticExpansion.B`, since it is already a keyword argument in `AsymptoticRing.B`. I changed it now, because I think it is more correct to have it this way.",
    "created_at": "2021-08-18T14:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488527",
    "user": "https://github.com/thhagelmayer"
}
```

<a id='comment:12'></a>Replying to [comment:10 behackl]:

Thank you for the comments.

> 3. `AsymptoticExpansion.B` - Is there a particular reason that `valid_from` is just a positional argument, and not a keyword argument with default value 0 (like for `AsymptoticRing.B`?)
  
I thought it is not important to make the `valid_from` a keyword argument in `AsymptoticExpansion.B`, since it is already a keyword argument in `AsymptoticRing.B`. I changed it now, because I think it is more correct to have it this way.



---

archive/issue_comments_488528.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-18T14:45:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488528",
    "user": "https://github.com/thhagelmayer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_488529.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-18T16:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488529",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_488530.json:
```json
{
    "body": "<a id='comment:13'></a>> since it is already a keyword argument in `AsymptoticRing.B`\n\n\nI see. I think it makes sense to make sure the type of arguments are consistent across the methods.\n\n\n5. `sage: (2*x).B({x: 20}) # indirect doctest` -- this is actually not indirect, there you do use `AsymptoticExpansion.B`.\n\n6. \"If you pass only a number as `valid_from`\": I suggest to rephrase this as \"If a number is passed to `valid_from`, ...\".\n\n7. (2., continued): The docstring of `BTerm` should also be changed accordingly.",
    "created_at": "2021-08-18T16:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488530",
    "user": "https://github.com/behackl"
}
```

<a id='comment:13'></a>> since it is already a keyword argument in `AsymptoticRing.B`


I see. I think it makes sense to make sure the type of arguments are consistent across the methods.


5. `sage: (2*x).B({x: 20}) # indirect doctest` -- this is actually not indirect, there you do use `AsymptoticExpansion.B`.

6. "If you pass only a number as `valid_from`": I suggest to rephrase this as "If a number is passed to `valid_from`, ...".

7. (2., continued): The docstring of `BTerm` should also be changed accordingly.



---

archive/issue_comments_488531.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-19T16:12:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488531",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_488532.json:
```json
{
    "body": "<a id='comment:15'></a>> 5. `sage: (2*x).B({x: 20}) # indirect doctest` -- this is actually not indirect, there you do use `AsymptoticExpansion.B`.\n> \n> 6. \"If you pass only a number as `valid_from`\": I suggest to rephrase this as \"If a number is passed to `valid_from`, ...\".\n> \n> 7. (2., continued): The docstring of `BTerm` should also be changed accordingly.\n  \nI have addressed these items.",
    "created_at": "2021-08-19T16:14:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488532",
    "user": "https://github.com/thhagelmayer"
}
```

<a id='comment:15'></a>> 5. `sage: (2*x).B({x: 20}) # indirect doctest` -- this is actually not indirect, there you do use `AsymptoticExpansion.B`.
> 
> 6. "If you pass only a number as `valid_from`": I suggest to rephrase this as "If a number is passed to `valid_from`, ...".
> 
> 7. (2., continued): The docstring of `BTerm` should also be changed accordingly.
  
I have addressed these items.



---

archive/issue_comments_488533.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-19T16:14:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488533",
    "user": "https://github.com/thhagelmayer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_488534.json:
```json
{
    "body": "<a id='comment:17'></a>I've added one small commit to resolve a wording problem in the docstring, please cross-check.\n\nOtherwise, this looks good to me now, thank you.\n\n---\nNew commits:",
    "created_at": "2021-08-20T08:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488534",
    "user": "https://github.com/behackl"
}
```

<a id='comment:17'></a>I've added one small commit to resolve a wording problem in the docstring, please cross-check.

Otherwise, this looks good to me now, thank you.

---
New commits:



---

archive/issue_comments_488535.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-20T08:55:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488535",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_488536.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:",
    "created_at": "2021-08-20T09:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488536",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. Last 10 new commits:



---

archive/issue_comments_488537.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-08-20T09:25:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488537",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_488538.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-20T09:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488538",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_488539.json:
```json
{
    "body": "<a id='comment:19'></a>Merged latest version of dependencies.",
    "created_at": "2021-08-20T09:26:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488539",
    "user": "https://github.com/behackl"
}
```

<a id='comment:19'></a>Merged latest version of dependencies.



---

archive/issue_comments_488540.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:10 behackl]:\n> 4. `NotImplementedBZeroError`: Maybe add a straightforward test like\n>     {{{\n>     sage: AR.<n> = AsymptoticRing('n^QQ', QQ)\n>     sage: AR(0).B(42)\n>     Traceback (most recent call last):\n>     ...\n>     NotImplementedBZero: got B(0)\n>     The error term B(0) means 0 for sufficiently large n.\n>     }}}\n\n\nMinor remark concerning this error message: \"sufficiently large n\" could be replaced by `|n| >= 42`, because we actually know what \"sufficiently large\" means.",
    "created_at": "2021-09-12T17:45:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488540",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:20'></a>Replying to [comment:10 behackl]:
> 4. `NotImplementedBZeroError`: Maybe add a straightforward test like
>     {{{
>     sage: AR.<n> = AsymptoticRing('n^QQ', QQ)
>     sage: AR(0).B(42)
>     Traceback (most recent call last):
>     ...
>     NotImplementedBZero: got B(0)
>     The error term B(0) means 0 for sufficiently large n.
>     }}}


Minor remark concerning this error message: "sufficiently large n" could be replaced by `|n| >= 42`, because we actually know what "sufficiently large" means.



---

archive/issue_comments_488541.json:
```json
{
    "body": "<a id='comment:21'></a>I'm still not sure what causes the patchbot failure. Would it make sense to move this to the latest beta?",
    "created_at": "2021-11-23T09:14:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488541",
    "user": "https://github.com/behackl"
}
```

<a id='comment:21'></a>I'm still not sure what causes the patchbot failure. Would it make sense to move this to the latest beta?



---

archive/issue_comments_488542.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:21 behackl]:\n> I'm still not sure what causes the patchbot failure. Would it make sense to move this to the latest beta?\n\n\nA merge conflict has to be resolved, so moving to the latest beta is probably a good idea.",
    "created_at": "2021-12-19T07:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488542",
    "user": "https://github.com/cheuberg"
}
```

<a id='comment:22'></a>Replying to [comment:21 behackl]:
> I'm still not sure what causes the patchbot failure. Would it make sense to move this to the latest beta?


A merge conflict has to be resolved, so moving to the latest beta is probably a good idea.



---

archive/issue_comments_488543.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-12-19T11:47:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32278#issuecomment-488543",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_085564.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-19T11:47:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32278",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32278#event-85564"
}
```
