# Issue 32788: Permanently get rid of bare except: statements

archive/issues_032551.json:
```json
{
    "assignees": [],
    "body": "A while ago, @jdemeyer used to regularly take care of removing bare `except:` statements constantly introduced in Sage source code, se e.g. #27427, #14028, #11310, #21687, #24274.\n\nThe goal of this ticket (perhaps should it be a task ticket ?) is to take over the work without self-abnegation by:\n\n- removing the existing bare `except:` statements.\n- ensure that those will not be reintroduced by adding a dedicated plugin to the patchbot (i have code for it but it could only be merged once the exisiting bare `except:` statements are removed).\n\n\nCC:  @kliem @frederichan-IMJPRG @videlec\n\nBranch/Commit: **[de4faf6](https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96)**\n\nReviewer: **Jonathan Kliem, Markus Wageringel**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Jonathan Kliem, Thierry Monteil**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32788_\n\n",
    "closed_at": "2022-02-12T22:05:36Z",
    "created_at": "2021-10-28T17:37:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Permanently get rid of bare except: statements",
    "type": "issue",
    "updated_at": "2022-02-12T22:05:36Z",
    "url": "https://github.com/sagemath/sage/issues/32788",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
A while ago, @jdemeyer used to regularly take care of removing bare `except:` statements constantly introduced in Sage source code, se e.g. #27427, #14028, #11310, #21687, #24274.

The goal of this ticket (perhaps should it be a task ticket ?) is to take over the work without self-abnegation by:

- removing the existing bare `except:` statements.
- ensure that those will not be reintroduced by adding a dedicated plugin to the patchbot (i have code for it but it could only be merged once the exisiting bare `except:` statements are removed).


CC:  @kliem @frederichan-IMJPRG @videlec

Branch/Commit: **[de4faf6](https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96)**

Reviewer: **Jonathan Kliem, Markus Wageringel**

Author: **Frédéric Chapoton, Jonathan Kliem, Thierry Monteil**

_Issue created by migration from https://trac.sagemath.org/ticket/32788_





---

archive/issue_events_433212.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-10-28T17:37:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433212"
}
```



---

archive/issue_events_433213.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-10-28T17:37:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433213"
}
```



---

archive/issue_events_433214.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-10-28T17:37:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433214"
}
```



---

archive/issue_comments_532250.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nthis should rather be done using the pycodestyle linter : code E722\n\nhttps://pycodestyle.pycqa.org/en/latest/intro.html#error-codes",
    "created_at": "2021-10-28T18:20:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532250",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">Comment 1</div>

this should rather be done using the pycodestyle linter : code E722

https://pycodestyle.pycqa.org/en/latest/intro.html#error-codes



---

archive/issue_comments_532251.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nsee #32680 and src/tox.ini",
    "created_at": "2021-10-28T18:23:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532251",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">Comment 2</div>

see #32680 and src/tox.ini



---

archive/issue_comments_532252.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nbut in fact, I would like that the linters first turn both green before switching on the check for E722,\n\nso, let us hope that #32757 will at last give us green linters..",
    "created_at": "2021-10-28T18:27:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532252",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">Comment 3</div>

but in fact, I would like that the linters first turn both green before switching on the check for E722,

so, let us hope that #32757 will at last give us green linters..



---

archive/issue_comments_532253.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nanother aim is to turn on E713 and E714, several recent tickets  move on that way : #32766",
    "created_at": "2021-10-28T18:28:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532253",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

another aim is to turn on E713 and E714, several recent tickets  move on that way : #32766



---

archive/issue_comments_532254.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nCurrent status of E722:\n\n```\nsrc/sage/schemes/projective/projective_space.py:1696:21: E722 do not use bare 'except'\nsrc/sage/schemes/berkovich/berkovich_space.py:622:13: E722 do not use bare 'except'\nsrc/sage/schemes/product_projective/rational_point.py:498:13: E722 do not use bare 'except'\nsrc/sage/geometry/polyhedron/base.py:5278:17: E722 do not use bare 'except'\nsrc/sage/geometry/polyhedron/library.py:2723:9: E722 do not use bare 'except'\nsrc/sage/graphs/digraph.py:3355:17: E722 do not use bare 'except'\nsrc/sage/graphs/digraph.py:4000:13: E722 do not use bare 'except'\nsrc/sage/graphs/digraph.py:4217:13: E722 do not use bare 'except'\nsrc/sage/rings/qqbar.py:2653:5: E722 do not use bare 'except'\nsrc/sage/interfaces/polymake.py:365:13: E722 do not use bare 'except'\nsrc/sage/interfaces/polymake.py:1596:9: E722 do not use bare 'except'\nsrc/sage/modules/free_module.py:466:9: E722 do not use bare 'except'\nsrc/sage/modules/matrix_morphism.py:1421:9: E722 do not use bare 'except'\nsrc/sage/modules/matrix_morphism.py:1506:9: E722 do not use bare 'except'\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:241:17: E722 do not use bare 'except'\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:248:17: E722 do not use bare 'except'\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:255:13: E722 do not use bare 'except'\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:806:13: E722 do not use bare 'except'\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:896:25: E722 do not use bare 'except'\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:1081:13: E722 do not use bare 'except'\n```",
    "created_at": "2021-10-28T18:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532254",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">Comment 5</div>

Current status of E722:

```
src/sage/schemes/projective/projective_space.py:1696:21: E722 do not use bare 'except'
src/sage/schemes/berkovich/berkovich_space.py:622:13: E722 do not use bare 'except'
src/sage/schemes/product_projective/rational_point.py:498:13: E722 do not use bare 'except'
src/sage/geometry/polyhedron/base.py:5278:17: E722 do not use bare 'except'
src/sage/geometry/polyhedron/library.py:2723:9: E722 do not use bare 'except'
src/sage/graphs/digraph.py:3355:17: E722 do not use bare 'except'
src/sage/graphs/digraph.py:4000:13: E722 do not use bare 'except'
src/sage/graphs/digraph.py:4217:13: E722 do not use bare 'except'
src/sage/rings/qqbar.py:2653:5: E722 do not use bare 'except'
src/sage/interfaces/polymake.py:365:13: E722 do not use bare 'except'
src/sage/interfaces/polymake.py:1596:9: E722 do not use bare 'except'
src/sage/modules/free_module.py:466:9: E722 do not use bare 'except'
src/sage/modules/matrix_morphism.py:1421:9: E722 do not use bare 'except'
src/sage/modules/matrix_morphism.py:1506:9: E722 do not use bare 'except'
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:241:17: E722 do not use bare 'except'
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:248:17: E722 do not use bare 'except'
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:255:13: E722 do not use bare 'except'
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:806:13: E722 do not use bare 'except'
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:896:25: E722 do not use bare 'except'
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:1081:13: E722 do not use bare 'except'
```



---

archive/issue_comments_532255.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nReplying to [@fchapoton](#comment%3A5):\n> Current status of E722:\n> \n> ```\n> src/sage/schemes/projective/projective_space.py:1696:21: E722 do not use bare 'except'\n> src/sage/schemes/berkovich/berkovich_space.py:622:13: E722 do not use bare 'except'\n> src/sage/schemes/product_projective/rational_point.py:498:13: E722 do not use bare 'except'\n> src/sage/geometry/polyhedron/base.py:5278:17: E722 do not use bare 'except'\n> src/sage/geometry/polyhedron/library.py:2723:9: E722 do not use bare 'except'\n> src/sage/graphs/digraph.py:3355:17: E722 do not use bare 'except'\n> src/sage/graphs/digraph.py:4000:13: E722 do not use bare 'except'\n> src/sage/graphs/digraph.py:4217:13: E722 do not use bare 'except'\n> src/sage/rings/qqbar.py:2653:5: E722 do not use bare 'except'\n> src/sage/interfaces/polymake.py:365:13: E722 do not use bare 'except'\n> src/sage/interfaces/polymake.py:1596:9: E722 do not use bare 'except'\n> src/sage/modules/free_module.py:466:9: E722 do not use bare 'except'\n> src/sage/modules/matrix_morphism.py:1421:9: E722 do not use bare 'except'\n> src/sage/modules/matrix_morphism.py:1506:9: E722 do not use bare 'except'\n> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:241:17: E722 do not use bare 'except'\n> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:248:17: E722 do not use bare 'except'\n> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:255:13: E722 do not use bare 'except'\n> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:806:13: E722 do not use bare 'except'\n> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:896:25: E722 do not use bare 'except'\n> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:1081:13: E722 do not use bare 'except'\n> ```\n\n\nA basic `grep -R \"except:\" src/sage` returns a few more cases:\n\n```\nsrc/sage/libs/giac/giac.pyx:        except:\nsrc/sage/libs/giac/giac.pyx:          except:\nsrc/sage/libs/giac/giac.pyx:                except:\nsrc/sage/libs/giac/giac.pyx:        except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:               except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:        except:\nsrc/sage/libs/giac/giac.pyx:     #     except:\nsrc/sage/libs/giac/giac.pyx:            except:\nsrc/sage/libs/giac/giac.pyx:        except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:#    except:\nsrc/sage/libs/giac/giac.pyx:#    except:\nsrc/sage/libs/giac/giac.pyx:#    except:\nsrc/sage/libs/giac/giac.pyx:#    except:\nsrc/sage/libs/giac/giac.pyx:#    except:\nsrc/sage/libs/giac/giac.pyx:         except:\nsrc/sage/libs/giac/giac.pyx:               except:\nsrc/sage/libs/giac/giac.pyx:        except:\nsrc/sage/graphs/digraph.py:                except:\nsrc/sage/graphs/digraph.py:            except:\nsrc/sage/graphs/digraph.py:            except:\nsrc/sage/graphs/graph_decompositions/tree_decomposition.pyx:        except:\nsrc/sage/interfaces/polymake.py:            except:\nsrc/sage/interfaces/polymake.py:        except:\nsrc/sage/geometry/polyhedron/base.py:                except:\nsrc/sage/geometry/polyhedron/library.py:        except:\nsrc/sage/modules/free_module.py:        except:\nsrc/sage/modules/matrix_morphism.py:        except:\nsrc/sage/modules/matrix_morphism.py:        except:\nsrc/sage/schemes/product_projective/rational_point.py:            except:\nsrc/sage/schemes/berkovich/berkovich_space.py:            except:\nsrc/sage/schemes/projective/projective_space.py:                    except:\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:                except:\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:                except:\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:            except:\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:            except:\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:                        except:\nsrc/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:            except:\nsrc/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:    except:\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:                except:\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:    except:\nsrc/sage/rings/ring_extension_element.pyx:            except:\nsrc/sage/rings/complex_arb.pyx:        except:\nsrc/sage/rings/qqbar.py:    except:\nsrc/sage/plot/plot3d/shapes.pyx:        except:\n```",
    "created_at": "2021-10-28T19:11:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532255",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:6" align="right">Comment 6</div>

Replying to [@fchapoton](#comment%3A5):
> Current status of E722:
> 
> ```
> src/sage/schemes/projective/projective_space.py:1696:21: E722 do not use bare 'except'
> src/sage/schemes/berkovich/berkovich_space.py:622:13: E722 do not use bare 'except'
> src/sage/schemes/product_projective/rational_point.py:498:13: E722 do not use bare 'except'
> src/sage/geometry/polyhedron/base.py:5278:17: E722 do not use bare 'except'
> src/sage/geometry/polyhedron/library.py:2723:9: E722 do not use bare 'except'
> src/sage/graphs/digraph.py:3355:17: E722 do not use bare 'except'
> src/sage/graphs/digraph.py:4000:13: E722 do not use bare 'except'
> src/sage/graphs/digraph.py:4217:13: E722 do not use bare 'except'
> src/sage/rings/qqbar.py:2653:5: E722 do not use bare 'except'
> src/sage/interfaces/polymake.py:365:13: E722 do not use bare 'except'
> src/sage/interfaces/polymake.py:1596:9: E722 do not use bare 'except'
> src/sage/modules/free_module.py:466:9: E722 do not use bare 'except'
> src/sage/modules/matrix_morphism.py:1421:9: E722 do not use bare 'except'
> src/sage/modules/matrix_morphism.py:1506:9: E722 do not use bare 'except'
> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:241:17: E722 do not use bare 'except'
> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:248:17: E722 do not use bare 'except'
> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:255:13: E722 do not use bare 'except'
> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:806:13: E722 do not use bare 'except'
> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:896:25: E722 do not use bare 'except'
> src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:1081:13: E722 do not use bare 'except'
> ```


A basic `grep -R "except:" src/sage` returns a few more cases:

```
src/sage/libs/giac/giac.pyx:        except:
src/sage/libs/giac/giac.pyx:          except:
src/sage/libs/giac/giac.pyx:                except:
src/sage/libs/giac/giac.pyx:        except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:               except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:        except:
src/sage/libs/giac/giac.pyx:     #     except:
src/sage/libs/giac/giac.pyx:            except:
src/sage/libs/giac/giac.pyx:        except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:#    except:
src/sage/libs/giac/giac.pyx:#    except:
src/sage/libs/giac/giac.pyx:#    except:
src/sage/libs/giac/giac.pyx:#    except:
src/sage/libs/giac/giac.pyx:#    except:
src/sage/libs/giac/giac.pyx:         except:
src/sage/libs/giac/giac.pyx:               except:
src/sage/libs/giac/giac.pyx:        except:
src/sage/graphs/digraph.py:                except:
src/sage/graphs/digraph.py:            except:
src/sage/graphs/digraph.py:            except:
src/sage/graphs/graph_decompositions/tree_decomposition.pyx:        except:
src/sage/interfaces/polymake.py:            except:
src/sage/interfaces/polymake.py:        except:
src/sage/geometry/polyhedron/base.py:                except:
src/sage/geometry/polyhedron/library.py:        except:
src/sage/modules/free_module.py:        except:
src/sage/modules/matrix_morphism.py:        except:
src/sage/modules/matrix_morphism.py:        except:
src/sage/schemes/product_projective/rational_point.py:            except:
src/sage/schemes/berkovich/berkovich_space.py:            except:
src/sage/schemes/projective/projective_space.py:                    except:
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:                except:
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:                except:
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:            except:
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:            except:
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:                        except:
src/sage/dynamics/arithmetic_dynamics/berkovich_ds.py:            except:
src/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:    except:
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:                except:
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:    except:
src/sage/rings/ring_extension_element.pyx:            except:
src/sage/rings/complex_arb.pyx:        except:
src/sage/rings/qqbar.py:    except:
src/sage/plot/plot3d/shapes.pyx:        except:
```



---

archive/issue_comments_532256.json:
```json
{
    "body": "Branch: **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)**",
    "created_at": "2021-10-28T19:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532256",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)**



---

archive/issue_comments_532257.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\npycodestyle probably only looks at py files\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db4139091e9c524779271c45aa8450892107fc3e\">db41390</a></td><td><code>fix most E722 (first pass)</code></td></tr></table>\n",
    "created_at": "2021-10-28T19:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532257",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">Comment 7</div>

pycodestyle probably only looks at py files

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db4139091e9c524779271c45aa8450892107fc3e">db41390</a></td><td><code>fix most E722 (first pass)</code></td></tr></table>




---

archive/issue_comments_532258.json:
```json
{
    "body": "Commit: **[db41390](https://github.com/sagemath/sagetrac-mirror/commit/db4139091e9c524779271c45aa8450892107fc3e)**",
    "created_at": "2021-10-28T19:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532258",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[db41390](https://github.com/sagemath/sagetrac-mirror/commit/db4139091e9c524779271c45aa8450892107fc3e)**



---

archive/issue_comments_532259.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nafter my branch for py files, there remains\n\n```\ngit grep -c \"except\\s*:\" src/\nsrc/doc/en/developer/coding_in_python.rst:1\nsrc/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:1\nsrc/sage/graphs/graph_decompositions/tree_decomposition.pyx:1\nsrc/sage/libs/giac/giac.pyx:27\nsrc/sage/plot/plot3d/shapes.pyx:1\nsrc/sage/rings/complex_arb.pyx:1\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:2\nsrc/sage/rings/ring_extension_element.pyx:1\n```\n\nEDIT: the one in the doc is explaining that one should not do that..",
    "created_at": "2021-10-28T19:16:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532259",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:8" align="right">Comment 8</div>

after my branch for py files, there remains

```
git grep -c "except\s*:" src/
src/doc/en/developer/coding_in_python.rst:1
src/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:1
src/sage/graphs/graph_decompositions/tree_decomposition.pyx:1
src/sage/libs/giac/giac.pyx:27
src/sage/plot/plot3d/shapes.pyx:1
src/sage/rings/complex_arb.pyx:1
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:2
src/sage/rings/ring_extension_element.pyx:1
```

EDIT: the one in the doc is explaining that one should not do that..



---

archive/issue_comments_532260.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cffd35e12c9fd4ef535654947ee167d3f9dfe55a\">cffd35e</a></td><td><code>no except: in most pyx files</code></td></tr></table>\n",
    "created_at": "2021-10-28T19:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532260",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9" align="right">Comment 9</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cffd35e12c9fd4ef535654947ee167d3f9dfe55a">cffd35e</a></td><td><code>no except: in most pyx files</code></td></tr></table>




---

archive/issue_comments_532261.json:
```json
{
    "body": "Changed commit from **[db41390](https://github.com/sagemath/sagetrac-mirror/commit/db4139091e9c524779271c45aa8450892107fc3e)** to **[cffd35e](https://github.com/sagemath/sagetrac-mirror/commit/cffd35e12c9fd4ef535654947ee167d3f9dfe55a)**",
    "created_at": "2021-10-28T19:25:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532261",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[db41390](https://github.com/sagemath/sagetrac-mirror/commit/db4139091e9c524779271c45aa8450892107fc3e)** to **[cffd35e](https://github.com/sagemath/sagetrac-mirror/commit/cffd35e12c9fd4ef535654947ee167d3f9dfe55a)**



---

archive/issue_comments_532262.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nnew commit for pyx files except the giac.pyx mess.",
    "created_at": "2021-10-28T19:25:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532262",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">Comment 10</div>

new commit for pyx files except the giac.pyx mess.



---

archive/issue_comments_532263.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/279b5927981a98f698b7fc7a90ac842b0b3a7721\">279b592</a></td><td><code>fix typo</code></td></tr></table>\n",
    "created_at": "2021-10-28T19:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532263",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11" align="right">Comment 11</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/279b5927981a98f698b7fc7a90ac842b0b3a7721">279b592</a></td><td><code>fix typo</code></td></tr></table>




---

archive/issue_comments_532264.json:
```json
{
    "body": "Changed commit from **[cffd35e](https://github.com/sagemath/sagetrac-mirror/commit/cffd35e12c9fd4ef535654947ee167d3f9dfe55a)** to **[279b592](https://github.com/sagemath/sagetrac-mirror/commit/279b5927981a98f698b7fc7a90ac842b0b3a7721)**",
    "created_at": "2021-10-28T19:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532264",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cffd35e](https://github.com/sagemath/sagetrac-mirror/commit/cffd35e12c9fd4ef535654947ee167d3f9dfe55a)** to **[279b592](https://github.com/sagemath/sagetrac-mirror/commit/279b5927981a98f698b7fc7a90ac842b0b3a7721)**



---

archive/issue_comments_532265.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nReplying to [@fchapoton](#comment%3A8):\n> after my branch for py files, there remains\n> \n> ```\n> git grep -c \"except\\s*:\" src/\n> src/doc/en/developer/coding_in_python.rst:1\n> src/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:1\n> src/sage/graphs/graph_decompositions/tree_decomposition.pyx:1\n> src/sage/libs/giac/giac.pyx:27\n> src/sage/plot/plot3d/shapes.pyx:1\n> src/sage/rings/complex_arb.pyx:1\n> src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:2\n> src/sage/rings/ring_extension_element.pyx:1\n> ```\n> \n> EDIT: the one in the doc is explaining that one should not do that..\n\nOut of curiosity, did the branch comes from a script ?",
    "created_at": "2021-10-28T19:30:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532265",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:12" align="right">Comment 12</div>

Replying to [@fchapoton](#comment%3A8):
> after my branch for py files, there remains
> 
> ```
> git grep -c "except\s*:" src/
> src/doc/en/developer/coding_in_python.rst:1
> src/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:1
> src/sage/graphs/graph_decompositions/tree_decomposition.pyx:1
> src/sage/libs/giac/giac.pyx:27
> src/sage/plot/plot3d/shapes.pyx:1
> src/sage/rings/complex_arb.pyx:1
> src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:2
> src/sage/rings/ring_extension_element.pyx:1
> ```
> 
> EDIT: the one in the doc is explaining that one should not do that..

Out of curiosity, did the branch comes from a script ?



---

archive/issue_comments_532266.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nAfter a diagonal view at the commit, the `except Exception:` in `src/sage/interfaces/polymake.py` is dubious, and seems to be a consequence of a `try:/except:` encompassing a pretty long list of tests, which is not recommended as it might mask bugs, see https://www.python.org/dev/peps/pep-0008/#programming-recommendations",
    "created_at": "2021-10-28T19:30:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532266",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:13" align="right">Comment 13</div>

After a diagonal view at the commit, the `except Exception:` in `src/sage/interfaces/polymake.py` is dubious, and seems to be a consequence of a `try:/except:` encompassing a pretty long list of tests, which is not recommended as it might mask bugs, see https://www.python.org/dev/peps/pep-0008/#programming-recommendations



---

archive/issue_comments_532267.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nReplying to [@sagetrac-tmonteil](#comment%3A12):\n> Replying to [@fchapoton](#comment%3A8):\n> > after my branch for py files, there remains\n> > \n> > ```\n> > git grep -c \"except\\s*:\" src/\n> > src/doc/en/developer/coding_in_python.rst:1\n> > src/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:1\n> > src/sage/graphs/graph_decompositions/tree_decomposition.pyx:1\n> > src/sage/libs/giac/giac.pyx:27\n> > src/sage/plot/plot3d/shapes.pyx:1\n> > src/sage/rings/complex_arb.pyx:1\n> > src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:2\n> > src/sage/rings/ring_extension_element.pyx:1\n> > ```\n> > \n> > EDIT: the one in the doc is explaining that one should not do that..\n\n> \n> Out of curiosity, did the branch comes from a script ?\n\nNot a script, just my poor old hands and fatiguated brain..",
    "created_at": "2021-10-28T19:42:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532267",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">Comment 14</div>

Replying to [@sagetrac-tmonteil](#comment%3A12):
> Replying to [@fchapoton](#comment%3A8):
> > after my branch for py files, there remains
> > 
> > ```
> > git grep -c "except\s*:" src/
> > src/doc/en/developer/coding_in_python.rst:1
> > src/sage/dynamics/complex_dynamics/mandel_julia_helper.pyx:1
> > src/sage/graphs/graph_decompositions/tree_decomposition.pyx:1
> > src/sage/libs/giac/giac.pyx:27
> > src/sage/plot/plot3d/shapes.pyx:1
> > src/sage/rings/complex_arb.pyx:1
> > src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:2
> > src/sage/rings/ring_extension_element.pyx:1
> > ```
> > 
> > EDIT: the one in the doc is explaining that one should not do that..

> 
> Out of curiosity, did the branch comes from a script ?

Not a script, just my poor old hands and fatiguated brain..



---

archive/issue_comments_532268.json:
```json
{
    "body": "Changed commit from **[279b592](https://github.com/sagemath/sagetrac-mirror/commit/279b5927981a98f698b7fc7a90ac842b0b3a7721)** to **[eb4ae95](https://github.com/sagemath/sagetrac-mirror/commit/eb4ae950f6caa27cef7b1d04c5b0473d36139ae3)**",
    "created_at": "2021-10-28T19:48:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532268",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[279b592](https://github.com/sagemath/sagetrac-mirror/commit/279b5927981a98f698b7fc7a90ac842b0b3a7721)** to **[eb4ae95](https://github.com/sagemath/sagetrac-mirror/commit/eb4ae950f6caa27cef7b1d04c5b0473d36139ae3)**



---

archive/issue_comments_532269.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb4ae950f6caa27cef7b1d04c5b0473d36139ae3\">eb4ae95</a></td><td><code>add import</code></td></tr></table>\n",
    "created_at": "2021-10-28T19:48:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532269",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb4ae950f6caa27cef7b1d04c5b0473d36139ae3">eb4ae95</a></td><td><code>add import</code></td></tr></table>




---

archive/issue_comments_532270.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nReplying to [@fchapoton](#comment%3A14):\n> Replying to [@sagetrac-tmonteil](#comment%3A12):\n> > Out of curiosity, did the branch comes from a script ?\n\n> \n> Not a script, just my poor old hands and fatiguated brain..\n\nThen i should stop developing for Sage given my extremely weak relative productivity in inspecting such issues.",
    "created_at": "2021-10-28T20:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532270",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:16" align="right">Comment 16</div>

Replying to [@fchapoton](#comment%3A14):
> Replying to [@sagetrac-tmonteil](#comment%3A12):
> > Out of curiosity, did the branch comes from a script ?

> 
> Not a script, just my poor old hands and fatiguated brain..

Then i should stop developing for Sage given my extremely weak relative productivity in inspecting such issues.



---

archive/issue_comments_532271.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nReplying to [@fchapoton](#comment%3A10):\n> new commit for pyx files except the giac.pyx mess.\n\nI am trying to look at it, it seems that all indentation is shifted by one.",
    "created_at": "2021-10-28T20:12:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532271",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:17" align="right">Comment 17</div>

Replying to [@fchapoton](#comment%3A10):
> new commit for pyx files except the giac.pyx mess.

I am trying to look at it, it seems that all indentation is shifted by one.



---

archive/issue_comments_532272.json:
```json
{
    "body": "Changed branch from **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)** to **[u/tmonteil/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/32788)**",
    "created_at": "2021-10-28T21:44:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532272",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)** to **[u/tmonteil/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/32788)**



---

archive/issue_comments_532273.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nI added 2 commits dealing with `giac.pyx` to your branch. The first commit only fixes bad indentation that made my editor crazy, the second one fixes most `try/except` statements (most of them seem just useless).\n\nThe last two remaining cases are related with some `pari_lock` and need to be explored.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bcdb6201a705715c7b995270064b1d734b9ef81c\">bcdb620</a></td><td><code>#32788 : fix intentations for libs/giac/giac.pyx</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da3e43762af6b5d0b40547d382cbbac3375988fc\">da3e437</a></td><td><code>#32788 : remove useless try/except statements in src/sage/libs/giac/giac.pyx</code></td></tr></table>\n",
    "created_at": "2021-10-28T21:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532273",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:19" align="right">Comment 19</div>

I added 2 commits dealing with `giac.pyx` to your branch. The first commit only fixes bad indentation that made my editor crazy, the second one fixes most `try/except` statements (most of them seem just useless).

The last two remaining cases are related with some `pari_lock` and need to be explored.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bcdb6201a705715c7b995270064b1d734b9ef81c">bcdb620</a></td><td><code>#32788 : fix intentations for libs/giac/giac.pyx</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da3e43762af6b5d0b40547d382cbbac3375988fc">da3e437</a></td><td><code>#32788 : remove useless try/except statements in src/sage/libs/giac/giac.pyx</code></td></tr></table>




---

archive/issue_comments_532274.json:
```json
{
    "body": "Changed commit from **[eb4ae95](https://github.com/sagemath/sagetrac-mirror/commit/eb4ae950f6caa27cef7b1d04c5b0473d36139ae3)** to **[da3e437](https://github.com/sagemath/sagetrac-mirror/commit/da3e43762af6b5d0b40547d382cbbac3375988fc)**",
    "created_at": "2021-10-28T21:50:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532274",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[eb4ae95](https://github.com/sagemath/sagetrac-mirror/commit/eb4ae950f6caa27cef7b1d04c5b0473d36139ae3)** to **[da3e437](https://github.com/sagemath/sagetrac-mirror/commit/da3e43762af6b5d0b40547d382cbbac3375988fc)**



---

archive/issue_comments_532275.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\n---",
    "created_at": "2021-10-28T22:19:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532275",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:20" align="right">Comment 20</div>

---



---

archive/issue_comments_532276.json:
```json
{
    "body": "Changed commit from **[da3e437](https://github.com/sagemath/sagetrac-mirror/commit/da3e43762af6b5d0b40547d382cbbac3375988fc)** to **[be872c1](https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37)**",
    "created_at": "2021-10-29T11:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532276",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[da3e437](https://github.com/sagemath/sagetrac-mirror/commit/da3e43762af6b5d0b40547d382cbbac3375988fc)** to **[be872c1](https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37)**



---

archive/issue_comments_532277.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nSur ta branche, j'ai ajout\u00e9 un commit pour corriger les doctests.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e98b6e3b84ade9fe9e2a59106bd854a9cd1c08bf\">e98b6e3</a></td><td><code>Merge branch 'u/tmonteil/32788' in 9.5.beta5</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37\">be872c1</a></td><td><code>some fixes in giac, schemes, geometry</code></td></tr></table>\n",
    "created_at": "2021-10-29T11:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532277",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">Comment 21</div>

Sur ta branche, j'ai ajouté un commit pour corriger les doctests.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e98b6e3b84ade9fe9e2a59106bd854a9cd1c08bf">e98b6e3</a></td><td><code>Merge branch 'u/tmonteil/32788' in 9.5.beta5</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37">be872c1</a></td><td><code>some fixes in giac, schemes, geometry</code></td></tr></table>




---

archive/issue_comments_532278.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/32788)** to **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)**",
    "created_at": "2021-10-29T11:44:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532278",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/tmonteil/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/32788)** to **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)**



---

archive/issue_comments_532279.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI hope that makes any sense:\n\n- Cleaned up the syntax.\n- `pari_unlock` shouldn't haven been called like that, because we are in `sig_on ... sig_off` and one should not call python functions in that case: https://cysignals.readthedocs.io/en/latest/interrupt.html.\n- `_wrap_gen(result)` doesn't belong in the `try ... except` block, because it has its own error handling (and if it was to raise an error, we would slip into the except block calling `sig_off` again.\n- Use `finally` to call `sig_off` before exit.\n- Apparently `giac` raises `RuntimeError` in case something goes wrong. So I used that.\n \n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fadbadef8a30968f7fb50ab43c84eed48e630085\">fadbade</a></td><td><code>Merge branch 'u/tmonteil/32788' of git://trac.sagemath.org/sage into u/gh-kliem/32788</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66ec40edd4ac85ab46852a7d79b9f1ea68b4e17f\">66ec40e</a></td><td><code>codestyle</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35cab30d9976d9d58d45e3f648747a8ddeb25fd9\">35cab30</a></td><td><code>Merge branch 'u/chapoton/32788' of git://trac.sagemath.org/sage into u/gh-kliem/32788</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0113b72725babbf822e7be0831c8281db4253a57\">0113b72</a></td><td><code>code style again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee\">6c08ce1</a></td><td><code>remove blank except in GIAC call</code></td></tr></table>\n",
    "created_at": "2021-10-29T13:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532279",
    "user": "https://github.com/kliem"
}
```

<div id="comment:22" align="right">Comment 22</div>

I hope that makes any sense:

- Cleaned up the syntax.
- `pari_unlock` shouldn't haven been called like that, because we are in `sig_on ... sig_off` and one should not call python functions in that case: https://cysignals.readthedocs.io/en/latest/interrupt.html.
- `_wrap_gen(result)` doesn't belong in the `try ... except` block, because it has its own error handling (and if it was to raise an error, we would slip into the except block calling `sig_off` again.
- Use `finally` to call `sig_off` before exit.
- Apparently `giac` raises `RuntimeError` in case something goes wrong. So I used that.
 
---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fadbadef8a30968f7fb50ab43c84eed48e630085">fadbade</a></td><td><code>Merge branch 'u/tmonteil/32788' of git://trac.sagemath.org/sage into u/gh-kliem/32788</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66ec40edd4ac85ab46852a7d79b9f1ea68b4e17f">66ec40e</a></td><td><code>codestyle</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35cab30d9976d9d58d45e3f648747a8ddeb25fd9">35cab30</a></td><td><code>Merge branch 'u/chapoton/32788' of git://trac.sagemath.org/sage into u/gh-kliem/32788</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0113b72725babbf822e7be0831c8281db4253a57">0113b72</a></td><td><code>code style again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee">6c08ce1</a></td><td><code>remove blank except in GIAC call</code></td></tr></table>




---

archive/issue_comments_532280.json:
```json
{
    "body": "Changed commit from **[be872c1](https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37)** to **[6c08ce1](https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee)**",
    "created_at": "2021-10-29T13:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532280",
    "user": "https://github.com/kliem"
}
```

Changed commit from **[be872c1](https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37)** to **[6c08ce1](https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee)**



---

archive/issue_comments_532281.json:
```json
{
    "body": "Changed branch from **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)** to **[u/gh-kliem/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/32788)**",
    "created_at": "2021-10-29T13:08:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532281",
    "user": "https://github.com/kliem"
}
```

Changed branch from **[u/chapoton/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32788)** to **[u/gh-kliem/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/32788)**



---

archive/issue_comments_532282.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04a1f01de963dbc6a7c8f67bcbcfadbf1cd9a9c7\">04a1f01</a></td><td><code>fix distinction between two calls</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1\">9905930</a></td><td><code>remove code duplication</code></td></tr></table>\n",
    "created_at": "2021-10-29T20:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532282",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:23" align="right">Comment 23</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04a1f01de963dbc6a7c8f67bcbcfadbf1cd9a9c7">04a1f01</a></td><td><code>fix distinction between two calls</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1">9905930</a></td><td><code>remove code duplication</code></td></tr></table>




---

archive/issue_comments_532283.json:
```json
{
    "body": "Changed commit from **[6c08ce1](https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee)** to **[9905930](https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1)**",
    "created_at": "2021-10-29T20:39:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532283",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6c08ce1](https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee)** to **[9905930](https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1)**



---

archive/issue_comments_532284.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nbot is morally green, linter is green. Maybe we can stop here and keep further care for giac for another ticket ?",
    "created_at": "2021-10-30T06:31:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532284",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">Comment 24</div>

bot is morally green, linter is green. Maybe we can stop here and keep further care for giac for another ticket ?



---

archive/issue_comments_532285.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\none should look more into the case of `src/sage/interfaces/polymake.py`",
    "created_at": "2021-10-30T06:55:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532285",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:25" align="right">Comment 25</div>

one should look more into the case of `src/sage/interfaces/polymake.py`



---

archive/issue_comments_532286.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nReplying to [@fchapoton](#comment%3A24):\n> bot is morally green, linter is green. Maybe we can stop here and keep further care for giac for another ticket ?\n\nSure, I only touched the `__call__` function that made trouble here. And I didn't feel like we should keep two copies of the same function, if we modify it anyway. I thought it was entirely the same, but there is a tiny difference, which should be more apparent with the current version. I don't think we should work further on this then necessary.",
    "created_at": "2021-10-30T08:41:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532286",
    "user": "https://github.com/kliem"
}
```

<div id="comment:26" align="right">Comment 26</div>

Replying to [@fchapoton](#comment%3A24):
> bot is morally green, linter is green. Maybe we can stop here and keep further care for giac for another ticket ?

Sure, I only touched the `__call__` function that made trouble here. And I didn't feel like we should keep two copies of the same function, if we modify it anyway. I thought it was entirely the same, but there is a tiny difference, which should be more apparent with the current version. I don't think we should work further on this then necessary.



---

archive/issue_comments_532287.json:
```json
{
    "body": "Changed branch from **[u/gh-kliem/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/32788)** to **[public/ticket/32788](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/32788)**",
    "created_at": "2021-10-30T09:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532287",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/gh-kliem/32788](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-kliem/32788)** to **[public/ticket/32788](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/32788)**



---

archive/issue_comments_532288.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nnew branch on top of u/gh-kliem/32788, where I removed a try/except in singular interface\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c\">9368c2d</a></td><td><code>remove one try/except in singular interface</code></td></tr></table>\n",
    "created_at": "2021-10-30T09:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532288",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:27" align="right">Comment 27</div>

new branch on top of u/gh-kliem/32788, where I removed a try/except in singular interface

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c">9368c2d</a></td><td><code>remove one try/except in singular interface</code></td></tr></table>




---

archive/issue_comments_532289.json:
```json
{
    "body": "Changed commit from **[9905930](https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1)** to **[9368c2d](https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c)**",
    "created_at": "2021-10-30T09:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532289",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[9905930](https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1)** to **[9368c2d](https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c)**



---

archive/issue_comments_532290.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nReplying to [@fchapoton](#comment%3A27):\n|                                                                                                                                                 |                                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|\n|[9368c2d](https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c)|`remove one try/except in singular interface`|\n\n\n+1, this try/except was too wide.",
    "created_at": "2021-10-30T09:59:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532290",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:28" align="right">Comment 28</div>

Replying to [@fchapoton](#comment%3A27):
|                                                                                                                                                 |                                             |
|-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------|
|[9368c2d](https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c)|`remove one try/except in singular interface`|


+1, this try/except was too wide.



---

archive/issue_comments_532291.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nbot is morally green. Ready to go ?",
    "created_at": "2021-10-30T11:30:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532291",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">Comment 29</div>

bot is morally green. Ready to go ?



---

archive/issue_comments_532292.json:
```json
{
    "body": "Changed commit from **[9368c2d](https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c)** to **[a903f72](https://github.com/sagemath/sagetrac-mirror/commit/a903f72bbcaaf6430947e51dc413caa3ed9fea62)**",
    "created_at": "2021-10-30T12:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532292",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9368c2d](https://github.com/sagemath/sagetrac-mirror/commit/9368c2dd7719fcf25e81e78b0b081039bc73f84c)** to **[a903f72](https://github.com/sagemath/sagetrac-mirror/commit/a903f72bbcaaf6430947e51dc413caa3ed9fea62)**



---

archive/issue_comments_532293.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a903f72bbcaaf6430947e51dc413caa3ed9fea62\">a903f72</a></td><td><code>#32788 : ensure bare except: statements will not reappear</code></td></tr></table>\n",
    "created_at": "2021-10-30T12:25:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532293",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30" align="right">Comment 30</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a903f72bbcaaf6430947e51dc413caa3ed9fea62">a903f72</a></td><td><code>#32788 : ensure bare except: statements will not reappear</code></td></tr></table>




---

archive/issue_comments_532294.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nI added E722 to `src/tox.ini` so that the second part of the ticked get fixed too (using tox as @fchapoton suggested). Regarding [comment 7](#comment%3A7), will the `pyx` be tested as well ? Otherwise, how to deal with them ?",
    "created_at": "2021-10-30T12:29:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532294",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:31" align="right">Comment 31</div>

I added E722 to `src/tox.ini` so that the second part of the ticked get fixed too (using tox as @fchapoton suggested). Regarding [comment 7](#comment%3A7), will the `pyx` be tested as well ? Otherwise, how to deal with them ?



---

archive/issue_comments_532295.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton, Jonathan Kliem, Thierry Monteil**",
    "created_at": "2021-10-30T20:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532295",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Author: **Frédéric Chapoton, Jonathan Kliem, Thierry Monteil**



---

archive/issue_events_433215.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2021-10-30T20:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433215"
}
```



---

archive/issue_comments_532296.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nLes fichiers pyx ne sont pas regard\u00e9s par tox, il me semble. Tu peux ajouter un plugin au patchbot qui ne regarde que les fichiers pyx. Un m\u00e9canisme pour ca est en place dans le patchbot.",
    "created_at": "2021-10-31T06:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532296",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">Comment 33</div>

Les fichiers pyx ne sont pas regardés par tox, il me semble. Tu peux ajouter un plugin au patchbot qui ne regarde que les fichiers pyx. Un mécanisme pour ca est en place dans le patchbot.



---

archive/issue_comments_532297.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nthere seems to be something broken in polyhedron..",
    "created_at": "2021-10-31T16:41:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532297",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">Comment 34</div>

there seems to be something broken in polyhedron..



---

archive/issue_comments_532298.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nBut not by our current ticket, this also appears in other reports of the same bot.",
    "created_at": "2021-10-31T17:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532298",
    "user": "https://github.com/kliem"
}
```

<div id="comment:35" align="right">Comment 35</div>

But not by our current ticket, this also appears in other reports of the same bot.



---

archive/issue_comments_532299.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nIndeed, I stopped the patchbot and will see if i can restart it cleanly.",
    "created_at": "2021-10-31T18:04:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532299",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:36" align="right">Comment 36</div>

Indeed, I stopped the patchbot and will see if i can restart it cleanly.



---

archive/issue_comments_532300.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nWell, I would surely be interested in that bug. Looks like it's my code causing the problems...",
    "created_at": "2021-10-31T18:16:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532300",
    "user": "https://github.com/kliem"
}
```

<div id="comment:37" align="right">Comment 37</div>

Well, I would surely be interested in that bug. Looks like it's my code causing the problems...



---

archive/issue_comments_532301.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nI made a distclean, but the logs are still available on the tickets, let us see if it reappears.",
    "created_at": "2021-10-31T18:49:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532301",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:38" align="right">Comment 38</div>

I made a distclean, but the logs are still available on the tickets, let us see if it reappears.



---

archive/issue_comments_532302.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nRegarding `src/sage/geometry/polyhedron/base.py` there are serious doctesting issues in 32bit architectures as well.",
    "created_at": "2021-10-31T20:29:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532302",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:39" align="right">Comment 39</div>

Regarding `src/sage/geometry/polyhedron/base.py` there are serious doctesting issues in 32bit architectures as well.



---

archive/issue_comments_532303.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nthere is at least one green patchbot. Good to go ?",
    "created_at": "2021-11-07T10:26:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532303",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:40" align="right">Comment 40</div>

there is at least one green patchbot. Good to go ?



---

archive/issue_comments_532304.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\n\n```\n./sage -tp --optional=sage,polymake,jupymake src/sage/interfaces/polymake.py src/sage/geometry/polyhedron/\n\n\n\nsage -t --random-seed=193726426221037022828737471270892163828 src/sage/interfaces/polymake.py\n**********************************************************************\nFile \"src/sage/interfaces/polymake.py\", line 1534, in sage.interfaces.polymake.PolymakeElement._sage_\nFailed example:\n    PP.F_VECTOR.sage()      # optional - polymake\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.polymake.PolymakeElement._sage_[11]>\", line 1, in <module>\n        PP.F_VECTOR.sage()      # optional - polymake\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/interface.py\", line 1106, in sage\n        return self._sage_(*args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/polymake.py\", line 1587, in _sage_\n        return vector(base_ring, [str_to_base_ring(s)\n    UnboundLocalError: local variable 'base_ring' referenced before assignment\n\nFile \"src/sage/interfaces/polymake.py\", line 1551, in sage.interfaces.polymake.PolymakeElement._sage_\nFailed example:\n    polymake.icosahedron().sage() # optional - polymake\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py\", line 694, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py\", line 1088, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.interfaces.polymake.PolymakeElement._sage_[16]>\", line 1, in <module>\n        polymake.icosahedron().sage() # optional - polymake\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/interface.py\", line 1106, in sage\n        return self._sage_(*args, **kwds)\n      File \"/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/polymake.py\", line 1569, in _sage_\n        d = int(r[i + 1: i + i1])\n    ValueError: invalid literal for int() with base 10: 'aticExtension<Rational>>[SAGE2]'\n```",
    "created_at": "2021-11-08T02:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532304",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:41" align="right">Comment 41</div>


```
./sage -tp --optional=sage,polymake,jupymake src/sage/interfaces/polymake.py src/sage/geometry/polyhedron/



sage -t --random-seed=193726426221037022828737471270892163828 src/sage/interfaces/polymake.py
**********************************************************************
File "src/sage/interfaces/polymake.py", line 1534, in sage.interfaces.polymake.PolymakeElement._sage_
Failed example:
    PP.F_VECTOR.sage()      # optional - polymake
Exception raised:
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.polymake.PolymakeElement._sage_[11]>", line 1, in <module>
        PP.F_VECTOR.sage()      # optional - polymake
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/interface.py", line 1106, in sage
        return self._sage_(*args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/polymake.py", line 1587, in _sage_
        return vector(base_ring, [str_to_base_ring(s)
    UnboundLocalError: local variable 'base_ring' referenced before assignment

File "src/sage/interfaces/polymake.py", line 1551, in sage.interfaces.polymake.PolymakeElement._sage_
Failed example:
    polymake.icosahedron().sage() # optional - polymake
Exception raised:
    Traceback (most recent call last):
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 694, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 1088, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.interfaces.polymake.PolymakeElement._sage_[16]>", line 1, in <module>
        polymake.icosahedron().sage() # optional - polymake
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/interface.py", line 1106, in sage
        return self._sage_(*args, **kwds)
      File "/Users/mkoeppe/s/sage/sage-rebasing/worktree-gcc11/local/lib/python3.9/site-packages/sage/interfaces/polymake.py", line 1569, in _sage_
        d = int(r[i + 1: i + i1])
    ValueError: invalid literal for int() with base 10: 'aticExtension<Rational>>[SAGE2]'
```



---

archive/issue_events_433216.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-08T02:50:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433216"
}
```



---

archive/issue_events_433217.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-11-08T02:50:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433217"
}
```



---

archive/issue_comments_532305.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nI propose, as a strategy, to undo the changes in polymake interface and keep them for another ticket. This would also mean not to activate E722 here, but later.\n\nOtherwise, somebody should stand up and fix now the polymake issues. I will not.",
    "created_at": "2021-11-09T18:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532305",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:42" align="right">Comment 42</div>

I propose, as a strategy, to undo the changes in polymake interface and keep them for another ticket. This would also mean not to activate E722 here, but later.

Otherwise, somebody should stand up and fix now the polymake issues. I will not.



---

archive/issue_comments_532306.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30b8dcaa7d84615657d0dd00290718e293276d89\">30b8dca</a></td><td><code>mark polymake_expect import as optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40b8827227f50e9df6279af6428456458a97e02e\">40b8827</a></td><td><code>two fixes in polymake type conversion</code></td></tr></table>\n",
    "created_at": "2021-11-10T19:19:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532306",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43" align="right">Comment 43</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30b8dcaa7d84615657d0dd00290718e293276d89">30b8dca</a></td><td><code>mark polymake_expect import as optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40b8827227f50e9df6279af6428456458a97e02e">40b8827</a></td><td><code>two fixes in polymake type conversion</code></td></tr></table>




---

archive/issue_comments_532307.json:
```json
{
    "body": "Changed commit from **[a903f72](https://github.com/sagemath/sagetrac-mirror/commit/a903f72bbcaaf6430947e51dc413caa3ed9fea62)** to **[40b8827](https://github.com/sagemath/sagetrac-mirror/commit/40b8827227f50e9df6279af6428456458a97e02e)**",
    "created_at": "2021-11-10T19:19:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532307",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a903f72](https://github.com/sagemath/sagetrac-mirror/commit/a903f72bbcaaf6430947e51dc413caa3ed9fea62)** to **[40b8827](https://github.com/sagemath/sagetrac-mirror/commit/40b8827227f50e9df6279af6428456458a97e02e)**



---

archive/issue_comments_532308.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nThere first change was necessary, because it changed `polymake` to `polymake_expect`, which does not work for me at all.\n\nI still get one failure and I'm really confused, that I get this and you don't:\n\n```\nsage -t --random-seed=226050575114945871045540898771575845983 src/sage/interfaces/polymake.py\n**********************************************************************\nFile \"src/sage/interfaces/polymake.py\", line 1544, in sage.interfaces.polymake.PolymakeElement._sage_\nFailed example:\n    _.parent()              # optional - polymake\nExpected:\n    Full MatrixSpace of 2 by 2 dense matrices over Integer Ring\nGot:\n    Full MatrixSpace of 2 by 2 dense matrices over Rational Field\n**********************************************************************\n1 item had failures:\n   1 of  18 in sage.interfaces.polymake.PolymakeElement._sage_\n    [282 tests, 1 failure, 3.17 s]\n```",
    "created_at": "2021-11-10T19:23:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532308",
    "user": "https://github.com/kliem"
}
```

<div id="comment:44" align="right">Comment 44</div>

There first change was necessary, because it changed `polymake` to `polymake_expect`, which does not work for me at all.

I still get one failure and I'm really confused, that I get this and you don't:

```
sage -t --random-seed=226050575114945871045540898771575845983 src/sage/interfaces/polymake.py
**********************************************************************
File "src/sage/interfaces/polymake.py", line 1544, in sage.interfaces.polymake.PolymakeElement._sage_
Failed example:
    _.parent()              # optional - polymake
Expected:
    Full MatrixSpace of 2 by 2 dense matrices over Integer Ring
Got:
    Full MatrixSpace of 2 by 2 dense matrices over Rational Field
**********************************************************************
1 item had failures:
   1 of  18 in sage.interfaces.polymake.PolymakeElement._sage_
    [282 tests, 1 failure, 3.17 s]
```



---

archive/issue_comments_532309.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nThe changes to `PolymakeElement` look nontrivial, so I would agree with the suggestion to defer them to a separate ticket.",
    "created_at": "2021-11-10T20:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532309",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:45" align="right">Comment 45</div>

The changes to `PolymakeElement` look nontrivial, so I would agree with the suggestion to defer them to a separate ticket.



---

archive/issue_comments_532310.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\n... or just try the minimal change that changes `except:` to `except Exception:`",
    "created_at": "2021-11-10T20:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532310",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:46" align="right">Comment 46</div>

... or just try the minimal change that changes `except:` to `except Exception:`



---

archive/issue_comments_532311.json:
```json
{
    "body": "Changed branch from **[public/ticket/32788](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/32788)** to **[u/chapoton/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/except_fix_branch)**",
    "created_at": "2021-11-14T09:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532311",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[public/ticket/32788](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/32788)** to **[u/chapoton/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/except_fix_branch)**



---

archive/issue_events_433218.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-14T09:37:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433218"
}
```



---

archive/issue_events_433219.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-14T09:37:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433219"
}
```



---

archive/issue_comments_532312.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nI have made a branch with only a minimal change to polymake file. And squashed all the commits into one single commit. \n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1afd3a3cd62b550844d2fcd6a5412f0ef5b987c2\">1afd3a3</a></td><td><code>fix all E722 and activate the check</code></td></tr></table>\n",
    "created_at": "2021-11-14T09:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532312",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:47" align="right">Comment 47</div>

I have made a branch with only a minimal change to polymake file. And squashed all the commits into one single commit. 

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1afd3a3cd62b550844d2fcd6a5412f0ef5b987c2">1afd3a3</a></td><td><code>fix all E722 and activate the check</code></td></tr></table>




---

archive/issue_comments_532313.json:
```json
{
    "body": "Changed commit from **[40b8827](https://github.com/sagemath/sagetrac-mirror/commit/40b8827227f50e9df6279af6428456458a97e02e)** to **[1afd3a3](https://github.com/sagemath/sagetrac-mirror/commit/1afd3a3cd62b550844d2fcd6a5412f0ef5b987c2)**",
    "created_at": "2021-11-14T09:37:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532313",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[40b8827](https://github.com/sagemath/sagetrac-mirror/commit/40b8827227f50e9df6279af6428456458a97e02e)** to **[1afd3a3](https://github.com/sagemath/sagetrac-mirror/commit/1afd3a3cd62b550844d2fcd6a5412f0ef5b987c2)**



---

archive/issue_comments_532314.json:
```json
{
    "body": "Changed commit from **[1afd3a3](https://github.com/sagemath/sagetrac-mirror/commit/1afd3a3cd62b550844d2fcd6a5412f0ef5b987c2)** to **[de356d6](https://github.com/sagemath/sagetrac-mirror/commit/de356d6ad561427653969c5b1fd147af7eeb7ccc)**",
    "created_at": "2021-11-14T16:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532314",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1afd3a3](https://github.com/sagemath/sagetrac-mirror/commit/1afd3a3cd62b550844d2fcd6a5412f0ef5b987c2)** to **[de356d6](https://github.com/sagemath/sagetrac-mirror/commit/de356d6ad561427653969c5b1fd147af7eeb7ccc)**



---

archive/issue_comments_532315.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de356d6ad561427653969c5b1fd147af7eeb7ccc\">de356d6</a></td><td><code>forgotten one</code></td></tr></table>\n",
    "created_at": "2021-11-14T16:15:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532315",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48" align="right">Comment 48</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de356d6ad561427653969c5b1fd147af7eeb7ccc">de356d6</a></td><td><code>forgotten one</code></td></tr></table>




---

archive/issue_comments_532316.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nPolymake works OK now with this branch, thanks.",
    "created_at": "2021-11-14T18:09:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532316",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:49" align="right">Comment 49</div>

Polymake works OK now with this branch, thanks.



---

archive/issue_comments_532317.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">Comment 50</div>\n\ngreen bot, can we move on here, please ?",
    "created_at": "2021-11-17T16:05:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532317",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:50" align="right">Comment 50</div>

green bot, can we move on here, please ?



---

archive/issue_comments_532318.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nReplying to [@sagetrac-git](#comment%3A43):\n> Branch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30b8dcaa7d84615657d0dd00290718e293276d89\">30b8dca</a></td><td><code>mark polymake_expect import as optional</code></td></tr></table>\n\nCan we please keep this commit.\nPexpect does not work in my case and importing `polymake_expect as polymake` is not a good idea in that case.",
    "created_at": "2021-11-17T16:15:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532318",
    "user": "https://github.com/kliem"
}
```

<div id="comment:51" align="right">Comment 51</div>

Replying to [@sagetrac-git](#comment%3A43):
> Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30b8dcaa7d84615657d0dd00290718e293276d89">30b8dca</a></td><td><code>mark polymake_expect import as optional</code></td></tr></table>

Can we please keep this commit.
Pexpect does not work in my case and importing `polymake_expect as polymake` is not a good idea in that case.



---

archive/issue_comments_532319.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">Comment 52</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ec7374092ee2b537ff9b0657451c03786cdfa2d\">2ec7374</a></td><td><code>add one tag in polymake interface</code></td></tr></table>\n",
    "created_at": "2021-11-17T18:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532319",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52" align="right">Comment 52</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ec7374092ee2b537ff9b0657451c03786cdfa2d">2ec7374</a></td><td><code>add one tag in polymake interface</code></td></tr></table>




---

archive/issue_comments_532320.json:
```json
{
    "body": "Changed commit from **[de356d6](https://github.com/sagemath/sagetrac-mirror/commit/de356d6ad561427653969c5b1fd147af7eeb7ccc)** to **[2ec7374](https://github.com/sagemath/sagetrac-mirror/commit/2ec7374092ee2b537ff9b0657451c03786cdfa2d)**",
    "created_at": "2021-11-17T18:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532320",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[de356d6](https://github.com/sagemath/sagetrac-mirror/commit/de356d6ad561427653969c5b1fd147af7eeb7ccc)** to **[2ec7374](https://github.com/sagemath/sagetrac-mirror/commit/2ec7374092ee2b537ff9b0657451c03786cdfa2d)**



---

archive/issue_comments_532321.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">Comment 53</div>\n\nok, done",
    "created_at": "2021-11-17T18:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532321",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:53" align="right">Comment 53</div>

ok, done



---

archive/issue_comments_532322.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">Comment 54</div>\n\nI think the comment should move before the code and not after:\n\n```diff\n-                rat_points.add(X(point)) # checks if this point lies on X or not\n-            except:\n+                rat_points.add(X(point))\n+                # checks if this point lies on X or not\n```\n\nSo instead we should have something as\n\n```\n                # checks if this point lies on X or not\n                rat_points.add(X(point))\n```",
    "created_at": "2021-11-17T19:56:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532322",
    "user": "https://github.com/kliem"
}
```

<div id="comment:54" align="right">Comment 54</div>

I think the comment should move before the code and not after:

```diff
-                rat_points.add(X(point)) # checks if this point lies on X or not
-            except:
+                rat_points.add(X(point))
+                # checks if this point lies on X or not
```

So instead we should have something as

```
                # checks if this point lies on X or not
                rat_points.add(X(point))
```



---

archive/issue_comments_532323.json:
```json
{
    "body": "Reviewer: **Jonathan Kliem**",
    "created_at": "2021-11-17T19:57:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532323",
    "user": "https://github.com/kliem"
}
```

Reviewer: **Jonathan Kliem**



---

archive/issue_comments_532324.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">Comment 56</div>\n\nReplying to [@fchapoton](#comment%3A47):\n> I have made a branch with only a minimal change to polymake file. And squashed all the commits into one single commit. \n\nI do not see the benefit of such squashing, but i see the drawbacks: we get a mixed bomb of changes without understanding which change is done for which reason. For example, i split the changes on `giac.pyx` as follows in order to ease reviewing:\n\n```\n\u200bbcdb620\t#32788 : fix intentations for libs/giac/giac.pyx\n\u200bda3e437\t#32788 : remove useless try/except statements in src/sage/libs/giac/giac.pyx\n```\n\nSimilarly, it is important to have separate commits when you rename a file and modify it.",
    "created_at": "2021-11-17T22:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532324",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:56" align="right">Comment 56</div>

Replying to [@fchapoton](#comment%3A47):
> I have made a branch with only a minimal change to polymake file. And squashed all the commits into one single commit. 

I do not see the benefit of such squashing, but i see the drawbacks: we get a mixed bomb of changes without understanding which change is done for which reason. For example, i split the changes on `giac.pyx` as follows in order to ease reviewing:

```
​bcdb620	#32788 : fix intentations for libs/giac/giac.pyx
​da3e437	#32788 : remove useless try/except statements in src/sage/libs/giac/giac.pyx
```

Similarly, it is important to have separate commits when you rename a file and modify it.



---

archive/issue_comments_532325.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">Comment 57</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ec236ec43466e74d29670afb25ce2612bd3e9bb0\">ec236ec</a></td><td><code>comment before</code></td></tr></table>\n",
    "created_at": "2021-11-18T10:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532325",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57" align="right">Comment 57</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ec236ec43466e74d29670afb25ce2612bd3e9bb0">ec236ec</a></td><td><code>comment before</code></td></tr></table>




---

archive/issue_comments_532326.json:
```json
{
    "body": "Changed commit from **[2ec7374](https://github.com/sagemath/sagetrac-mirror/commit/2ec7374092ee2b537ff9b0657451c03786cdfa2d)** to **[ec236ec](https://github.com/sagemath/sagetrac-mirror/commit/ec236ec43466e74d29670afb25ce2612bd3e9bb0)**",
    "created_at": "2021-11-18T10:19:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532326",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2ec7374](https://github.com/sagemath/sagetrac-mirror/commit/2ec7374092ee2b537ff9b0657451c03786cdfa2d)** to **[ec236ec](https://github.com/sagemath/sagetrac-mirror/commit/ec236ec43466e74d29670afb25ce2612bd3e9bb0)**



---

archive/issue_comments_532327.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">Comment 58</div>\n\ncomment:54 is now fixed\n\nconcerning squashing, I thought it was a good idea to simplify the commit history. I agree this was maybe not a so good idea. If you think this matters enough to spend your time on that, please provide a better branch",
    "created_at": "2021-11-18T10:22:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532327",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:58" align="right">Comment 58</div>

comment:54 is now fixed

concerning squashing, I thought it was a good idea to simplify the commit history. I agree this was maybe not a so good idea. If you think this matters enough to spend your time on that, please provide a better branch



---

archive/issue_comments_532328.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\ngreen bot again",
    "created_at": "2021-11-18T12:40:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532328",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:59" align="right">Comment 59</div>

green bot again



---

archive/issue_comments_532329.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">Comment 60</div>\n\ncan we please move on here ?",
    "created_at": "2021-11-21T19:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532329",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:60" align="right">Comment 60</div>

can we please move on here ?



---

archive/issue_comments_532330.json:
```json
{
    "body": "Changed branch from **[u/chapoton/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/except_fix_branch)** to **[u/tmonteil/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/except_fix_branch)**",
    "created_at": "2021-11-29T19:06:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532330",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed branch from **[u/chapoton/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/except_fix_branch)** to **[u/tmonteil/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/except_fix_branch)**



---

archive/issue_comments_532331.json:
```json
{
    "body": "Changed commit from **[ec236ec](https://github.com/sagemath/sagetrac-mirror/commit/ec236ec43466e74d29670afb25ce2612bd3e9bb0)** to **[9522357](https://github.com/sagemath/sagetrac-mirror/commit/9522357774ad8fb36eb7c997997b5c30f7af3ea5)**",
    "created_at": "2021-11-29T19:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532331",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Changed commit from **[ec236ec](https://github.com/sagemath/sagetrac-mirror/commit/ec236ec43466e74d29670afb25ce2612bd3e9bb0)** to **[9522357](https://github.com/sagemath/sagetrac-mirror/commit/9522357774ad8fb36eb7c997997b5c30f7af3ea5)**



---

archive/issue_comments_532332.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nI cherry-picked the relevant commits and merged with `9.5.beta6` so that `git diff trac/u/chapoton/except_fix_branch trac/u/tmonteil/except_fix_branch` leads to:\n\n\n```diff\n--- a/src/sage/interfaces/polymake.py\n+++ b/src/sage/interfaces/polymake.py\n@@ -364,7 +364,7 @@ class PolymakeAbstract(ExtraTabCompletion, Interface):\n             try:\n                 x = RDF(x)\n                 return '{}'.format(x)\n-            except Exception:\n+            except (TypeError, ValueError):\n                 pass\n \n             raise NotImplementedError\n```\n\nI am not sure if i have to revert that change.\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37\">be872c1</a></td><td><code>some fixes in giac, schemes, geometry</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35cab30d9976d9d58d45e3f648747a8ddeb25fd9\">35cab30</a></td><td><code>Merge branch 'u/chapoton/32788' of git://trac.sagemath.org/sage into u/gh-kliem/32788</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0113b72725babbf822e7be0831c8281db4253a57\">0113b72</a></td><td><code>code style again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee\">6c08ce1</a></td><td><code>remove blank except in GIAC call</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/04a1f01de963dbc6a7c8f67bcbcfadbf1cd9a9c7\">04a1f01</a></td><td><code>fix distinction between two calls</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1\">9905930</a></td><td><code>remove code duplication</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3df701affc8d1b24775fca5d1ae9bb8d9135e1a\">d3df701</a></td><td><code>#32788 : ensure bare except: statements will not reappear</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e92b905a359977dce92a0b8118d26fd41877ac48\">e92b905</a></td><td><code>mark polymake_expect import as optional</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f463e49b287475f9751e16d8d241fc030b606953\">f463e49</a></td><td><code>comment before</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9522357774ad8fb36eb7c997997b5c30f7af3ea5\">9522357</a></td><td><code>Merge branch 'develop.9.5.beta6' into HEAD</code></td></tr></table>\n",
    "created_at": "2021-11-29T19:10:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532332",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:62" align="right">Comment 62</div>

I cherry-picked the relevant commits and merged with `9.5.beta6` so that `git diff trac/u/chapoton/except_fix_branch trac/u/tmonteil/except_fix_branch` leads to:


```diff
--- a/src/sage/interfaces/polymake.py
+++ b/src/sage/interfaces/polymake.py
@@ -364,7 +364,7 @@ class PolymakeAbstract(ExtraTabCompletion, Interface):
             try:
                 x = RDF(x)
                 return '{}'.format(x)
-            except Exception:
+            except (TypeError, ValueError):
                 pass
 
             raise NotImplementedError
```

I am not sure if i have to revert that change.

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/be872c16d193602a548c98b1b18deb24dc2e0d37">be872c1</a></td><td><code>some fixes in giac, schemes, geometry</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35cab30d9976d9d58d45e3f648747a8ddeb25fd9">35cab30</a></td><td><code>Merge branch 'u/chapoton/32788' of git://trac.sagemath.org/sage into u/gh-kliem/32788</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0113b72725babbf822e7be0831c8281db4253a57">0113b72</a></td><td><code>code style again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6c08ce185d4a44e89cf8d2804f0be658a8e95dee">6c08ce1</a></td><td><code>remove blank except in GIAC call</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/04a1f01de963dbc6a7c8f67bcbcfadbf1cd9a9c7">04a1f01</a></td><td><code>fix distinction between two calls</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9905930022910ded1dbd483896a4a171968eded1">9905930</a></td><td><code>remove code duplication</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3df701affc8d1b24775fca5d1ae9bb8d9135e1a">d3df701</a></td><td><code>#32788 : ensure bare except: statements will not reappear</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e92b905a359977dce92a0b8118d26fd41877ac48">e92b905</a></td><td><code>mark polymake_expect import as optional</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f463e49b287475f9751e16d8d241fc030b606953">f463e49</a></td><td><code>comment before</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9522357774ad8fb36eb7c997997b5c30f7af3ea5">9522357</a></td><td><code>Merge branch 'develop.9.5.beta6' into HEAD</code></td></tr></table>




---

archive/issue_events_433220.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433220"
}
```



---

archive/issue_events_433221.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "milestone_number": null,
    "milestone_title": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433221"
}
```



---

archive/issue_comments_532333.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">Comment 63</div>\n\nStalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532333",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:63" align="right">Comment 63</div>

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_532334.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">Comment 64</div>\n\nred branch => needs work",
    "created_at": "2021-12-28T16:26:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532334",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:64" align="right">Comment 64</div>

red branch => needs work



---

archive/issue_events_433222.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-12-28T16:26:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433222"
}
```



---

archive/issue_events_433223.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-12-28T16:26:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433223"
}
```



---

archive/issue_comments_532335.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/except_fix_branch)** to **[public/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/public/except_fix_branch)**",
    "created_at": "2022-01-14T19:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532335",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/tmonteil/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/except_fix_branch)** to **[public/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/public/except_fix_branch)**



---

archive/issue_events_433224.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-01-14T19:37:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433224"
}
```



---

archive/issue_events_433225.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2022-01-14T19:37:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433225"
}
```



---

archive/issue_comments_532336.json:
```json
{
    "body": "Changed commit from **[9522357](https://github.com/sagemath/sagetrac-mirror/commit/9522357774ad8fb36eb7c997997b5c30f7af3ea5)** to **[db57c4f](https://github.com/sagemath/sagetrac-mirror/commit/db57c4f7b5be2590a8cfa1e4878b4b88525f6aaa)**",
    "created_at": "2022-01-14T19:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532336",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[9522357](https://github.com/sagemath/sagetrac-mirror/commit/9522357774ad8fb36eb7c997997b5c30f7af3ea5)** to **[db57c4f](https://github.com/sagemath/sagetrac-mirror/commit/db57c4f7b5be2590a8cfa1e4878b4b88525f6aaa)**



---

archive/issue_comments_532337.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nrebased on 9.5.rc1\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58865ceee554f2cf263bc541fd003ba40b72b274\">58865ce</a></td><td><code>various lgtm-suggested details</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db57c4f7b5be2590a8cfa1e4878b4b88525f6aaa\">db57c4f</a></td><td><code>Merge branch 'u/tmonteil/except_fix_branch' in 9.5.rc1</code></td></tr></table>\n",
    "created_at": "2022-01-14T19:37:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532337",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:65" align="right">Comment 65</div>

rebased on 9.5.rc1

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58865ceee554f2cf263bc541fd003ba40b72b274">58865ce</a></td><td><code>various lgtm-suggested details</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db57c4f7b5be2590a8cfa1e4878b4b88525f6aaa">db57c4f</a></td><td><code>Merge branch 'u/tmonteil/except_fix_branch' in 9.5.rc1</code></td></tr></table>




---

archive/issue_comments_532338.json:
```json
{
    "body": "Changed commit from **[db57c4f](https://github.com/sagemath/sagetrac-mirror/commit/db57c4f7b5be2590a8cfa1e4878b4b88525f6aaa)** to **[de4faf6](https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96)**",
    "created_at": "2022-01-14T19:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532338",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[db57c4f](https://github.com/sagemath/sagetrac-mirror/commit/db57c4f7b5be2590a8cfa1e4878b4b88525f6aaa)** to **[de4faf6](https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96)**



---

archive/issue_comments_532339.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96\">de4faf6</a></td><td><code>Merge branch 'u/tmonteil/except_fix_branch' in 9.5.rc1</code></td></tr></table>\n",
    "created_at": "2022-01-14T19:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532339",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:66" align="right">Comment 66</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96">de4faf6</a></td><td><code>Merge branch 'u/tmonteil/except_fix_branch' in 9.5.rc1</code></td></tr></table>




---

archive/issue_comments_532340.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nnow correctly rebased, needs test by somebody having polymake",
    "created_at": "2022-01-14T19:49:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532340",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:67" align="right">Comment 67</div>

now correctly rebased, needs test by somebody having polymake



---

archive/issue_comments_532341.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nThere are two polymake test failures (see below), but they are not related to this ticket, so are best dealt with in another ticket.\n\nI am ready to set this ticket to positive, if someone could confirm that the new pycodestyle check still passes with 9.5 merged. Unfortunately, I have difficulties in running tox on my machine.\n\nBy the way, this ticket will also fix a random [doctest failure](https://patchbot.sagemath.org/log/33217/Linux/29~20.04.1-Ubuntu_SMP_Fri_Jan_14_00:32:30_UTC_2022/x86_64/5.13.0-27-generic/r640/2022-01-26%2017:49:49) in `coding/linear_code.py` which is due to an `AlarmInterrupt` being swallowed by a bare except.\n\n\n\n---\n\n```\nsage -t --long --warn-long 69.2 --random-seed=17721019333867817533235853689613643341 src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst\", line 650, in doc.en.thematic_tutorials.geometry.polyhedra_tutorial\nFailed example:\n    Polyhedron(vertices=V, backend='polymake')               # optional - polymake\nExpected:\n    A 3-dimensional polyhedron in (Number Field in sqrt5 with defining polynomial x^2 - 5)^3 defined as the convex hull of 20 vertices\nGot:\n    A 3-dimensional polyhedron in (Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?)^3 defined as the convex hull of 20 v\nertices\n\nsage -t --long --warn-long 69.2 --random-seed=201256750698610760769760302766889916051 src/sage/interfaces/polymake.py\n**********************************************************************\nFile \"src/sage/interfaces/polymake.py\", line 2189, in sage.interfaces.polymake.PolymakeExpect._eval_line\nFailed example:\n    c.N_VERTICES                      # optional - polymake_expect\nExpected:\n    32768\nGot:\n    Can't locate object method \"description\" via package \"32768\" (perhaps you forgot to load \"32768\"?) at input line 1.\n```",
    "created_at": "2022-02-01T19:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532341",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:68" align="right">Comment 68</div>

There are two polymake test failures (see below), but they are not related to this ticket, so are best dealt with in another ticket.

I am ready to set this ticket to positive, if someone could confirm that the new pycodestyle check still passes with 9.5 merged. Unfortunately, I have difficulties in running tox on my machine.

By the way, this ticket will also fix a random [doctest failure](https://patchbot.sagemath.org/log/33217/Linux/29~20.04.1-Ubuntu_SMP_Fri_Jan_14_00:32:30_UTC_2022/x86_64/5.13.0-27-generic/r640/2022-01-26%2017:49:49) in `coding/linear_code.py` which is due to an `AlarmInterrupt` being swallowed by a bare except.



---

```
sage -t --long --warn-long 69.2 --random-seed=17721019333867817533235853689613643341 src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst
**********************************************************************
File "src/doc/en/thematic_tutorials/geometry/polyhedra_tutorial.rst", line 650, in doc.en.thematic_tutorials.geometry.polyhedra_tutorial
Failed example:
    Polyhedron(vertices=V, backend='polymake')               # optional - polymake
Expected:
    A 3-dimensional polyhedron in (Number Field in sqrt5 with defining polynomial x^2 - 5)^3 defined as the convex hull of 20 vertices
Got:
    A 3-dimensional polyhedron in (Number Field in sqrt5 with defining polynomial x^2 - 5 with sqrt5 = 2.236067977499790?)^3 defined as the convex hull of 20 v
ertices

sage -t --long --warn-long 69.2 --random-seed=201256750698610760769760302766889916051 src/sage/interfaces/polymake.py
**********************************************************************
File "src/sage/interfaces/polymake.py", line 2189, in sage.interfaces.polymake.PolymakeExpect._eval_line
Failed example:
    c.N_VERTICES                      # optional - polymake_expect
Expected:
    32768
Got:
    Can't locate object method "description" via package "32768" (perhaps you forgot to load "32768"?) at input line 1.
```



---

archive/issue_comments_532342.json:
```json
{
    "body": "Changed reviewer from **Jonathan Kliem** to **Jonathan Kliem, Markus Wageringel**",
    "created_at": "2022-02-01T19:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532342",
    "user": "https://github.com/mwageringel"
}
```

Changed reviewer from **Jonathan Kliem** to **Jonathan Kliem, Markus Wageringel**



---

archive/issue_comments_532343.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">Comment 69</div>\n\nNever mind. I have tried it on a different machine and `pycodestyle-minimal` passes, so I think this is good to go.",
    "created_at": "2022-02-01T19:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532343",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:69" align="right">Comment 69</div>

Never mind. I have tried it on a different machine and `pycodestyle-minimal` passes, so I think this is good to go.



---

archive/issue_events_433226.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2022-02-01T19:23:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433226"
}
```



---

archive/issue_events_433227.json:
```json
{
    "actor": "https://github.com/mwageringel",
    "created_at": "2022-02-01T19:23:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433227"
}
```



---

archive/issue_comments_532344.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nIn `src/sage/libs/giac/giac.pyx`, docstring\nindentation for `loadgiacgen` seems off.",
    "created_at": "2022-02-01T20:33:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532344",
    "user": "https://github.com/slel"
}
```

<div id="comment:70" align="right">Comment 70</div>

In `src/sage/libs/giac/giac.pyx`, docstring
indentation for `loadgiacgen` seems off.



---

archive/issue_comments_532345.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">Comment 71</div>\n\nReplying to [@slel](#comment%3A70):\n> In `src/sage/libs/giac/giac.pyx`, docstring\n> indentation for `loadgiacgen` seems off.\n\nI am happy to review it if anyone wants to change that, but I do not think it is necessary here.",
    "created_at": "2022-02-02T19:10:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532345",
    "user": "https://github.com/mwageringel"
}
```

<div id="comment:71" align="right">Comment 71</div>

Replying to [@slel](#comment%3A70):
> In `src/sage/libs/giac/giac.pyx`, docstring
> indentation for `loadgiacgen` seems off.

I am happy to review it if anyone wants to change that, but I do not think it is necessary here.



---

archive/issue_events_433228.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-02-12T22:05:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433228"
}
```



---

archive/issue_events_433229.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3834fded18239df9f78c4dbc7ab67c8d9d5e27fc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2022-02-12T22:05:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32788#event-433229"
}
```



---

archive/issue_comments_532346.json:
```json
{
    "body": "Changed branch from **[public/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/public/except_fix_branch)** to **[de4faf6](https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96)**",
    "created_at": "2022-02-12T22:05:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32788",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32788#issuecomment-532346",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/except_fix_branch](https://github.com/sagemath/sagetrac-mirror/tree/public/except_fix_branch)** to **[de4faf6](https://github.com/sagemath/sagetrac-mirror/commit/de4faf6146521e81991677edb6743449343d8f96)**
