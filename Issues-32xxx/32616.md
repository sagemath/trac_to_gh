# Issue 32616: configure/make: Generate SAGE_ROOT/requirements-using-local-wheels.txt

archive/issues_032379.json:
```json
{
    "body": "This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n\nVariant 1\n- just add `--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/` to the contents of `src/requirements.txt`\n\n- adds sagelib (always source location, but not editable)\n\n- if `configure --enable-editable` is in use, uses source locations (but not editable) for packages like `sage_setup`, `sage_conf` instead of wheels\n\nVariant 1b\n\n- if `configure --enable-editable` is in use, require `make wheels` (from #33817)\n\nVariant 2\n- basically the output of `pip freeze` (``@` file:///` URLs, fixed as described in #30956)\n\n\nWe can also add a convenience script `sage --venv /SOME/DIRECTORY` for creating and populating the venv\n\nCC:  @tobiasdiez\n\nStatus: new\n\nDependencies: #33817\n\nIssue created by migration from https://trac.sagemath.org/ticket/32616\n\n",
    "created_at": "2021-10-03T02:44:52Z",
    "labels": [
        "component: build"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "configure/make: Generate SAGE_ROOT/requirements-using-local-wheels.txt",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32616",
    "user": "https://github.com/mkoeppe"
}
```
This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.

Variant 1
- just add `--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/` to the contents of `src/requirements.txt`

- adds sagelib (always source location, but not editable)

- if `configure --enable-editable` is in use, uses source locations (but not editable) for packages like `sage_setup`, `sage_conf` instead of wheels

Variant 1b

- if `configure --enable-editable` is in use, require `make wheels` (from #33817)

Variant 2
- basically the output of `pip freeze` (``@` file:///` URLs, fixed as described in #30956)


We can also add a convenience script `sage --venv /SOME/DIRECTORY` for creating and populating the venv

CC:  @tobiasdiez

Status: new

Dependencies: #33817

Issue created by migration from https://trac.sagemath.org/ticket/32616





---

archive/issue_comments_493354.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-... which just adds \\`--no-index --find-links=../venv/local/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+... which just adds \\`--no-index --find-links=../venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+\n \n Dependencies: #32442\n \n```\n",
    "created_at": "2021-10-12T06:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493354",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,6 @@
-... which just adds \`--no-index --find-links=../venv/local/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+... which just adds \`--no-index --find-links=../venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+
 
 Dependencies: #32442
 
```




---

archive/issue_comments_493355.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,9 @@\n+- which just adds \\`--no-index --find-links=../venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib \n+\n+- if \\`configure --enable-editable\\` is in use, uses editable for packages like \\`sage_setup\\`, \\`sage_conf\\`\n+\n \n \n Dependencies: #32442\n```\n",
    "created_at": "2021-12-06T18:24:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493355",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,9 @@
+- which just adds \`--no-index --find-links=../venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib 
+
+- if \`configure --enable-editable\` is in use, uses editable for packages like \`sage_setup\`, \`sage_conf\`
+
 
 
 Dependencies: #32442
```




---

archive/issue_comments_493356.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,12 @@\n+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n+\n+- which just adds \\`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib (always source location, but not editable)\n+\n+- if \\`configure --enable-editable\\` is in use, uses source locations (but not editable) for packages like \\`sage_setup\\`, \\`sage_conf\\`\n+instead of wheels\n+\n \n \n Dependencies: #32442\n```\n",
    "created_at": "2021-12-06T18:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493356",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,12 @@
+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.
+
+- which just adds \`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib (always source location, but not editable)
+
+- if \`configure --enable-editable\` is in use, uses source locations (but not editable) for packages like \`sage_setup\`, \`sage_conf\`
+instead of wheels
+
 
 
 Dependencies: #32442
```




---

archive/issue_events_086426.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-27T01:03:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32616#event-86426"
}
```



---

archive/issue_comments_493357.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,15 @@\n+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n+\n+Variant 1\n+- just add \\`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib (always source location, but not editable)\n+\n+- if \\`configure --enable-editable\\` is in use, uses source locations (but not editable) for packages like \\`sage_setup\\`, \\`sage_conf\\`\n+instead of wheels\n+\n+Variant 2\n+- basically the output of \\`pip freeze\\` (after the fix in #30956)\n \n \n Dependencies: #32442\n```\n",
    "created_at": "2021-12-28T00:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493357",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,15 @@
+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.
+
+Variant 1
+- just add \`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib (always source location, but not editable)
+
+- if \`configure --enable-editable\` is in use, uses source locations (but not editable) for packages like \`sage_setup\`, \`sage_conf\`
+instead of wheels
+
+Variant 2
+- basically the output of \`pip freeze\` (after the fix in #30956)
 
 
 Dependencies: #32442
```




---

archive/issue_comments_493358.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n+\n+Variant 1\n+- just add \\`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib (always source location, but not editable)\n+\n+- if \\`configure --enable-editable\\` is in use, uses source locations (but not editable) for packages like \\`sage_setup\\`, \\`sage_conf\\` instead of wheels\n+\n+Variant 2\n+- basically the output of \\`pip freeze\\` (after the fix in #30956)\n \n \n Dependencies: #32442\n```\n",
    "created_at": "2021-12-28T00:37:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493358",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,14 @@
+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.
+
+Variant 1
+- just add \`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib (always source location, but not editable)
+
+- if \`configure --enable-editable\` is in use, uses source locations (but not editable) for packages like \`sage_setup\`, \`sage_conf\` instead of wheels
+
+Variant 2
+- basically the output of \`pip freeze\` (after the fix in #30956)
 
 
 Dependencies: #32442
```




---

archive/issue_comments_493359.json:
```json
{
    "body": "<a id='comment:8'></a>Remove dependency on #32442, see ticket:29039#comment:163.",
    "created_at": "2021-12-29T06:19:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493359",
    "user": "https://github.com/slel"
}
```

<a id='comment:8'></a>Remove dependency on #32442, see ticket:29039#comment:163.



---

archive/issue_events_086427.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32616#event-86427"
}
```



---

archive/issue_events_086428.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-07T00:07:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32616#event-86428"
}
```



---

archive/issue_comments_493360.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,3 +1,19 @@\n+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n+\n+Variant 1\n+- just add \\`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib (always source location, but not editable)\n+\n+- if \\`configure --enable-editable\\` is in use, uses source locations (but not editable) for packages like \\`sage_setup\\`, \\`sage_conf\\` instead of wheels\n+\n+Variant 1b\n+\n+- if \\`configure --enable-editable\\` is in use, require \\`make wheels\\` (from #33817)\n+\n+Variant 2\n+- basically the output of \\`pip freeze\\` (after the fix in #30956)\n+\n \n \n Dependencies: #32442\n```\n",
    "created_at": "2022-07-27T17:27:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493360",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,3 +1,19 @@
+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.
+
+Variant 1
+- just add \`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib (always source location, but not editable)
+
+- if \`configure --enable-editable\` is in use, uses source locations (but not editable) for packages like \`sage_setup\`, \`sage_conf\` instead of wheels
+
+Variant 1b
+
+- if \`configure --enable-editable\` is in use, require \`make wheels\` (from #33817)
+
+Variant 2
+- basically the output of \`pip freeze\` (after the fix in #30956)
+
 
 
 Dependencies: #32442
```




---

archive/issue_comments_493361.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n \n+Variant 1\n+- just add \\`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib (always source location, but not editable)\n+\n+- if \\`configure --enable-editable\\` is in use, uses source locations (but not editable) for packages like \\`sage_setup\\`, \\`sage_conf\\` instead of wheels\n+\n+Variant 1b\n+\n+- if \\`configure --enable-editable\\` is in use, require \\`make wheels\\` (from #33817)\n+\n+Variant 2\n+- basically the output of \\`pip freeze\\` (after the fix in #30956)\n+\n+\n+We can also add a convenience script \\`sage --venv /SOME/DIRECTORY\\` for creating and populating the venv\n \n Dependencies: #32442\n \n```\n",
    "created_at": "2022-07-27T17:33:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493361",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,21 @@
+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.
 
+Variant 1
+- just add \`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib (always source location, but not editable)
+
+- if \`configure --enable-editable\` is in use, uses source locations (but not editable) for packages like \`sage_setup\`, \`sage_conf\` instead of wheels
+
+Variant 1b
+
+- if \`configure --enable-editable\` is in use, require \`make wheels\` (from #33817)
+
+Variant 2
+- basically the output of \`pip freeze\` (after the fix in #30956)
+
+
+We can also add a convenience script \`sage --venv /SOME/DIRECTORY\` for creating and populating the venv
 
 Dependencies: #32442
 
```




---

archive/issue_comments_493362.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,21 @@\n+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.\n \n+Variant 1\n+- just add \\`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\\` to the contents of \\`src/requirements.txt\\`\n+\n+- adds sagelib (always source location, but not editable)\n+\n+- if \\`configure --enable-editable\\` is in use, uses source locations (but not editable) for packages like \\`sage_setup\\`, \\`sage_conf\\` instead of wheels\n+\n+Variant 1b\n+\n+- if \\`configure --enable-editable\\` is in use, require \\`make wheels\\` (from #33817)\n+\n+Variant 2\n+- basically the output of \\`pip freeze\\` (\\`\\`@\\` file:///\\` URLs, fixed as described in #30956)\n+\n+\n+We can also add a convenience script \\`sage --venv /SOME/DIRECTORY\\` for creating and populating the venv\n \n Dependencies: #32442\n \n```\n",
    "created_at": "2022-07-29T17:47:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32616#issuecomment-493362",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,21 @@
+This file is for setting up a separate venv, for example for installing a stable snapshot of what is in the current source tree.
 
+Variant 1
+- just add \`--no-index --find-links=SAGE_ROOT/venv/var/lib/sage/wheels/\` to the contents of \`src/requirements.txt\`
+
+- adds sagelib (always source location, but not editable)
+
+- if \`configure --enable-editable\` is in use, uses source locations (but not editable) for packages like \`sage_setup\`, \`sage_conf\` instead of wheels
+
+Variant 1b
+
+- if \`configure --enable-editable\` is in use, require \`make wheels\` (from #33817)
+
+Variant 2
+- basically the output of \`pip freeze\` (\`\`@\` file:///\` URLs, fixed as described in #30956)
+
+
+We can also add a convenience script \`sage --venv /SOME/DIRECTORY\` for creating and populating the venv
 
 Dependencies: #32442
 
```




---

archive/issue_events_086429.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32616#event-86429"
}
```



---

archive/issue_events_086430.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32616",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32616#event-86430"
}
```
