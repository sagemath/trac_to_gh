# Issue 32675: Partially replace "<type" by "<class" in src/sage

archive/issues_032438.json:
```json
{
    "body": "moving away from python2\n\nDone using several bash commands like\n\n```\ngrep -rl \" <type \" src/sage/modular/ | xargs sed -i 's/<type/<class/g'\n```\n\nBranch/Commit: 471b52f8221e93d19ceafaf922742dcc6ba5f86f\n\nReviewer: Kwankyu Lee\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32675\n\n",
    "closed_at": "2021-10-19T20:31:14Z",
    "created_at": "2021-10-12T19:39:36Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Partially replace \"<type\" by \"<class\" in src/sage",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32675",
    "user": "https://github.com/fchapoton"
}
```
moving away from python2

Done using several bash commands like

```
grep -rl " <type " src/sage/modular/ | xargs sed -i 's/<type/<class/g'
```

Branch/Commit: 471b52f8221e93d19ceafaf922742dcc6ba5f86f

Reviewer: Kwankyu Lee

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32675





---

archive/issue_comments_494146.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-12T19:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494146",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_494147.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2021-10-12T19:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494147",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_494148.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,10 @@\n moving away from python2\n+\n+Done using several bash commands like\n+\n+```\n+grep -rl \" <type \" src/sage/modular/ | xargs sed -i 's/<type/<class/g'\n+```\n \n Author: Fr\u00e9d\u00e9ric Chapoton\n \n```\n",
    "created_at": "2021-10-12T19:40:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494148",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,10 @@
 moving away from python2
+
+Done using several bash commands like
+
+```
+grep -rl " <type " src/sage/modular/ | xargs sed -i 's/<type/<class/g'
+```
 
 Author: Frédéric Chapoton
 
```




---

archive/issue_comments_494149.json:
```json
{
    "body": "<a id='comment:2'></a>The bot failure is genuine.\n\nQuestion: why not fix all and remove the related python2 normalizer in the doctest framework?",
    "created_at": "2021-10-13T01:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494149",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:2'></a>The bot failure is genuine.

Question: why not fix all and remove the related python2 normalizer in the doctest framework?



---

archive/issue_comments_494150.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [comment:2 klee]:\n> The bot failure is genuine.\n\n\nno idea how change in the doc could trigger such a build failure..\n\n> Question: why not fix all and remove the related python2 normalizer in the doctest framework?\n\n\nWell, this is the aim but one must first fix *many* doctests.",
    "created_at": "2021-10-13T07:08:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494150",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>Replying to [comment:2 klee]:
> The bot failure is genuine.


no idea how change in the doc could trigger such a build failure..

> Question: why not fix all and remove the related python2 normalizer in the doctest framework?


Well, this is the aim but one must first fix *many* doctests.



---

archive/issue_comments_494151.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 chapoton]:\n> Replying to [comment:2 klee]:\n> > The bot failure is genuine.\n\n> \n> no idea how change in the doc could trigger such a build failure..\n\n\nThere is a change out of the doc.\n \n> > Question: why not fix all and remove the related python2 normalizer in the doctest framework?\n\n> \n> Well, this is the aim but one must first fix *many* doctests.\n\n\nWhich is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?",
    "created_at": "2021-10-13T09:12:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494151",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:4'></a>Replying to [comment:3 chapoton]:
> Replying to [comment:2 klee]:
> > The bot failure is genuine.

> 
> no idea how change in the doc could trigger such a build failure..


There is a change out of the doc.
 
> > Question: why not fix all and remove the related python2 normalizer in the doctest framework?

> 
> Well, this is the aim but one must first fix *many* doctests.


Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?



---

archive/issue_comments_494152.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-13T09:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494152",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494153.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:4 klee]:\n> Replying to [comment:3 chapoton]:\n> > Replying to [comment:2 klee]:\n> > > The bot failure is genuine.\n\n> > \n> > no idea how change in the doc could trigger such a build failure..\n\n> \n> There is a change out of the doc.\n\n\nIndeed, I have found it now.\n\n> > > Question: why not fix all and remove the related python2 normalizer in the doctest framework?\n\n> > \n> > Well, this is the aim but one must first fix *many* doctests.\n\n> \n> Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?\n\n\nThe situation is (2). For example the rings/ folder.",
    "created_at": "2021-10-13T09:45:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494153",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'></a>Replying to [comment:4 klee]:
> Replying to [comment:3 chapoton]:
> > Replying to [comment:2 klee]:
> > > The bot failure is genuine.

> > 
> > no idea how change in the doc could trigger such a build failure..

> 
> There is a change out of the doc.


Indeed, I have found it now.

> > > Question: why not fix all and remove the related python2 normalizer in the doctest framework?

> > 
> > Well, this is the aim but one must first fix *many* doctests.

> 
> Which is the case (1) you are not sure of having fixed all or (2) there are parts of sage lib that you didn't touch yet?


The situation is (2). For example the rings/ folder.



---

archive/issue_comments_494154.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 chapoton]:\n\n> The situation is (2). For example the rings/ folder.\n\n\nThen how about making a progress chart, and we keep adding commits to this ticket, aiming fixing them all folder by folder? I may help from time to time.",
    "created_at": "2021-10-13T10:14:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494154",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:7'></a>Replying to [comment:6 chapoton]:

> The situation is (2). For example the rings/ folder.


Then how about making a progress chart, and we keep adding commits to this ticket, aiming fixing them all folder by folder? I may help from time to time.



---

archive/issue_comments_494155.json:
```json
{
    "body": "<a id='comment:8'></a>Well, progress is easily monitored using \n\n```\ngit grep -c \" <type \" src/sage\n```\nI think it will only take another ticket, so no need for a meta-ticket.",
    "created_at": "2021-10-13T12:24:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494155",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>Well, progress is easily monitored using 

```
git grep -c " <type " src/sage
```
I think it will only take another ticket, so no need for a meta-ticket.



---

archive/issue_comments_494156.json:
```json
{
    "body": "<a id='comment:9'></a>bot is green, please review",
    "created_at": "2021-10-13T17:44:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494156",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>bot is green, please review



---

archive/issue_comments_494157.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-14T00:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494157",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_494158.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 chapoton]:\n> Well, progress is easily monitored using \n> \n> ```\n> git grep -c \" <type \" src/sage\n> ```\n> I think it will only take another ticket, so no need for a meta-ticket.\n\n\nOkay.",
    "created_at": "2021-10-14T00:17:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494158",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'></a>Replying to [comment:8 chapoton]:
> Well, progress is easily monitored using 
> 
> ```
> git grep -c " <type " src/sage
> ```
> I think it will only take another ticket, so no need for a meta-ticket.


Okay.



---

archive/issue_events_086522.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:31:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32675#event-86522"
}
```



---

archive/issue_comments_494159.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:31:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32675",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32675#issuecomment-494159",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
