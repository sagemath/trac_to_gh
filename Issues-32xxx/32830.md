# Issue 32830: fix category of subgroups of finite matrix groups

archive/issues_032593.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @tscrim\n\nBranch/Commit: **[`3c9efd2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **group theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32830_\n\n",
    "closed_at": "2021-11-14T17:05:20Z",
    "created_at": "2021-11-06T08:12:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "fix category of subgroups of finite matrix groups",
    "type": "issue",
    "updated_at": "2021-11-14T17:05:20Z",
    "url": "https://github.com/sagemath/sage/issues/32830",
    "user": "https://github.com/fchapoton"
}
```


CC:  @tscrim

Branch/Commit: **[`3c9efd2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **group theory**

_Issue created by migration from https://trac.sagemath.org/ticket/32830_





---

archive/issue_events_448717.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-06T08:12:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448717"
}
```



---

archive/issue_events_448718.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-06T08:12:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "c: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448718"
}
```



---

archive/issue_events_448719.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-06T08:12:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448719"
}
```



---

archive/issue_events_448720.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-06T08:12:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448720"
}
```



---

archive/issue_events_448721.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2021-11-06T08:13:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448721"
}
```



---

archive/issue_comments_529873.json:
```json
{
    "body": "Branch: **[u/chapoton/32830](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32830)**",
    "created_at": "2021-11-06T08:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529873",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/32830](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32830)**



---

archive/issue_comments_529874.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6789951390495cc1a8e7208d7bd7f129353320f0\"><code>6789951</code></a></td><td><code>subgroup of finite matrix group is finite</code></td></tr></table>\n",
    "created_at": "2021-11-06T08:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529874",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6789951390495cc1a8e7208d7bd7f129353320f0"><code>6789951</code></a></td><td><code>subgroup of finite matrix group is finite</code></td></tr></table>




---

archive/issue_comments_529875.json:
```json
{
    "body": "Commit: **[`6789951`](https://github.com/sagemath/sagetrac-mirror/commit/6789951390495cc1a8e7208d7bd7f129353320f0)**",
    "created_at": "2021-11-06T08:13:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529875",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`6789951`](https://github.com/sagemath/sagetrac-mirror/commit/6789951390495cc1a8e7208d7bd7f129353320f0)**



---

archive/issue_comments_529876.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/46607cb43512c0b4c0565ca68570567410b90273\"><code>46607cb</code></a></td><td><code>subgroup of finite matrix group is finite</code></td></tr></table>\n",
    "created_at": "2021-11-06T17:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529876",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/46607cb43512c0b4c0565ca68570567410b90273"><code>46607cb</code></a></td><td><code>subgroup of finite matrix group is finite</code></td></tr></table>




---

archive/issue_comments_529877.json:
```json
{
    "body": "Changed commit from **[`6789951`](https://github.com/sagemath/sagetrac-mirror/commit/6789951390495cc1a8e7208d7bd7f129353320f0)** to **[`46607cb`](https://github.com/sagemath/sagetrac-mirror/commit/46607cb43512c0b4c0565ca68570567410b90273)**",
    "created_at": "2021-11-06T17:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529877",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6789951`](https://github.com/sagemath/sagetrac-mirror/commit/6789951390495cc1a8e7208d7bd7f129353320f0)** to **[`46607cb`](https://github.com/sagemath/sagetrac-mirror/commit/46607cb43512c0b4c0565ca68570567410b90273)**



---

archive/issue_comments_529878.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\noh, boy, this seems to trigger so many failures...",
    "created_at": "2021-11-06T19:56:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529878",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

oh, boy, this seems to trigger so many failures...



---

archive/issue_comments_529879.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8add29aeceaa20d91c768e57db9a08ab65eca6d9\"><code>8add29a</code></a></td><td><code>fix oone doctest in cubic braid</code></td></tr></table>\n",
    "created_at": "2021-11-06T20:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529879",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8add29aeceaa20d91c768e57db9a08ab65eca6d9"><code>8add29a</code></a></td><td><code>fix oone doctest in cubic braid</code></td></tr></table>




---

archive/issue_comments_529880.json:
```json
{
    "body": "Changed commit from **[`46607cb`](https://github.com/sagemath/sagetrac-mirror/commit/46607cb43512c0b4c0565ca68570567410b90273)** to **[`8add29a`](https://github.com/sagemath/sagetrac-mirror/commit/8add29aeceaa20d91c768e57db9a08ab65eca6d9)**",
    "created_at": "2021-11-06T20:05:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529880",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`46607cb`](https://github.com/sagemath/sagetrac-mirror/commit/46607cb43512c0b4c0565ca68570567410b90273)** to **[`8add29a`](https://github.com/sagemath/sagetrac-mirror/commit/8add29aeceaa20d91c768e57db9a08ab65eca6d9)**



---

archive/issue_comments_529881.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAlmost all of them seem to be trivial from the change in iteration order (`an_element()` uses the first few iterated elements). However, the one to be careful about is\n\n```\nsrc/sage/groups/matrix_gps/heisenberg.py\n```\nMost likely the elements chosen are just a bit too complicated for the doctest.",
    "created_at": "2021-11-07T02:18:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529881",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Almost all of them seem to be trivial from the change in iteration order (`an_element()` uses the first few iterated elements). However, the one to be careful about is

```
src/sage/groups/matrix_gps/heisenberg.py
```
Most likely the elements chosen are just a bit too complicated for the doctest.



---

archive/issue_comments_529882.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e\"><code>3c9efd2</code></a></td><td><code>subgroup of finite matrix group is finite</code></td></tr></table>\n",
    "created_at": "2021-11-07T08:47:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529882",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e"><code>3c9efd2</code></a></td><td><code>subgroup of finite matrix group is finite</code></td></tr></table>




---

archive/issue_comments_529883.json:
```json
{
    "body": "Changed commit from **[`8add29a`](https://github.com/sagemath/sagetrac-mirror/commit/8add29aeceaa20d91c768e57db9a08ab65eca6d9)** to **[`3c9efd2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e)**",
    "created_at": "2021-11-07T08:47:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529883",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8add29a`](https://github.com/sagemath/sagetrac-mirror/commit/8add29aeceaa20d91c768e57db9a08ab65eca6d9)** to **[`3c9efd2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e)**



---

archive/issue_comments_529884.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI have undone the changes in the libgap part. Bot seems to be green.",
    "created_at": "2021-11-07T12:27:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529884",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">comment:9</div>

I have undone the changes in the libgap part. Bot seems to be green.



---

archive/issue_comments_529885.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis works, although I am wondering a bit if we should use the information from the category and just update the doctests and update the Heisenberg group test (I can take care of this). It seems like it should be a faster code path, although I am not sure exactly how to test this...",
    "created_at": "2021-11-07T23:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529885",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

This works, although I am wondering a bit if we should use the information from the category and just update the doctests and update the Heisenberg group test (I can take care of this). It seems like it should be a faster code path, although I am not sure exactly how to test this...



---

archive/issue_comments_529886.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nplease let us keep that for another ticket. There was something very unclear in these Heisenberg bugs.",
    "created_at": "2021-11-08T07:30:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529886",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">comment:11</div>

please let us keep that for another ticket. There was something very unclear in these Heisenberg bugs.



---

archive/issue_events_448722.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-11-08T08:02:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448722"
}
```



---

archive/issue_events_448723.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2021-11-08T08:02:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448723"
}
```



---

archive/issue_comments_529887.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOkay, then we will do it on another ticket.",
    "created_at": "2021-11-08T08:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529887",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Okay, then we will do it on another ticket.



---

archive/issue_comments_529888.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2021-11-08T08:02:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529888",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_529889.json:
```json
{
    "body": "Changed branch from **[u/chapoton/32830](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32830)** to **[`3c9efd2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e)**",
    "created_at": "2021-11-14T17:05:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32830#issuecomment-529889",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/32830](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/32830)** to **[`3c9efd2`](https://github.com/sagemath/sagetrac-mirror/commit/3c9efd2470843c3669c35cdc3d00f8c986d9957e)**



---

archive/issue_events_448724.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-14T17:05:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448724"
}
```



---

archive/issue_events_448725.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9d5d4efd540f4128281d4fb670cce66481ca7b36",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-11-14T17:05:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32830",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32830#event-448725"
}
```
