# Issue 32985: cython: Update to 0.29.25

archive/issues_032748.json:
```json
{
    "body": "https://cython.readthedocs.io/en/latest/src/changes.html#id24\n\n\n\n**CC:**  @orlitzky @slel @antonio-rojas\n\n**Branch:** [8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Author:** Matthias Koeppe\n\nIssue created by migration from https://trac.sagemath.org/ticket/32985\n\n",
    "closed_at": "2022-01-31T23:30:44Z",
    "created_at": "2021-12-06T19:51:33Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.6",
    "title": "cython: Update to 0.29.25",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/32985",
    "user": "https://github.com/mkoeppe"
}
```
https://cython.readthedocs.io/en/latest/src/changes.html#id24



**CC:**  @orlitzky @slel @antonio-rojas

**Branch:** [8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)

**Reviewer:** François Bissey

**Author:** Matthias Koeppe

Issue created by migration from https://trac.sagemath.org/ticket/32985





---

archive/issue_comments_535412.json:
```json
{
    "body": "**Branch:** [u/mkoeppe/cython__update_to_0_29_25](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cython__update_to_0_29_25)",
    "created_at": "2021-12-07T03:14:47Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535412",
    "user": "https://github.com/mkoeppe"
}
```

**Branch:** [u/mkoeppe/cython__update_to_0_29_25](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cython__update_to_0_29_25)



---

archive/issue_comments_535413.json:
```json
{
    "body": "**Author:** Matthias Koeppe",
    "created_at": "2021-12-07T03:15:06Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535413",
    "user": "https://github.com/mkoeppe"
}
```

**Author:** Matthias Koeppe



---

archive/issue_events_295815.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-07T03:15:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295815"
}
```



---

archive/issue_comments_535414.json:
```json
{
    "body": "**Commit:** [8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)",
    "created_at": "2021-12-07T03:15:06Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535414",
    "user": "https://github.com/mkoeppe"
}
```

**Commit:** [8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)



---

archive/issue_comments_535415.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb6cb4da7181f0b4fcd5e4b68e31d5ed8445a395\">fb6cb4d</a></td><td><code>build/pkgs/cython: Update to 0.29.25</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4\">8ef52be</a></td><td><code>build/pkgs/cython: Remove upstreamed patch</code></td></tr></table>\n",
    "created_at": "2021-12-07T03:15:06Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535415",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb6cb4da7181f0b4fcd5e4b68e31d5ed8445a395">fb6cb4d</a></td><td><code>build/pkgs/cython: Update to 0.29.25</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4">8ef52be</a></td><td><code>build/pkgs/cython: Remove upstreamed patch</code></td></tr></table>




---

archive/issue_comments_535416.json:
```json
{
    "body": "**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/1547718702,  https://github.com/mkoeppe/sage/actions/runs/1547718701",
    "created_at": "2021-12-07T03:21:33Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535416",
    "user": "https://github.com/mkoeppe"
}
```

**Reviewer:** https://github.com/mkoeppe/sage/actions/runs/1547718702,  https://github.com/mkoeppe/sage/actions/runs/1547718701



---

archive/issue_comments_535417.json:
```json
{
    "body": "<a id='comment:4'></a>\nIs the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?",
    "created_at": "2021-12-09T03:42:49Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535417",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>
Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?



---

archive/issue_comments_535418.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [mkoeppe](#comment%3A4):\n> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?\n\nI doubt it. sage-on-gentoo works perfectly with this ticket and if it wasn't for troubles with the latest giac I would have a perfect doctest run now.",
    "created_at": "2021-12-09T09:13:23Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535418",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Replying to [mkoeppe](#comment%3A4):
> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?

I doubt it. sage-on-gentoo works perfectly with this ticket and if it wasn't for troubles with the latest giac I would have a perfect doctest run now.



---

archive/issue_comments_535419.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [mkoeppe](#comment%3A4):\n> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?\n\nI still have no idea how to inspect the logs, unfortunately. The last few lines of the sagelib build summary don't include the actual error, and if I click \"View raw logs\" or \"Download log archive\" I only get the same summary again in plain text.",
    "created_at": "2021-12-09T10:15:34Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535419",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:6'></a>
Replying to [mkoeppe](#comment%3A4):
> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?

I still have no idea how to inspect the logs, unfortunately. The last few lines of the sagelib build summary don't include the actual error, and if I click "View raw logs" or "Download log archive" I only get the same summary again in plain text.



---

archive/issue_comments_535420.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [arojas](#comment%3A6):\n> I still have no idea how to inspect the logs\n\nsearch https://github.com/mkoeppe/sage/actions/runs/1547718702 for \"archlinux-latest-standard\", find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212), unzip downloaded file and search `logs/pkgs/sagelib-9.5.beta7.log` for \"multi_polynomial_ideal_libsingular\":\n\n```\nbuild/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp: In function \u2018PyObject* __pyx_pf_4sage_5rings_10polynomial_34multi_polynomial_ideal_libsingular_6interred_libsingular(PyObject*, PyObject*)\u2019:\nbuild/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:5142:30: error: cannot convert \u2018ip_sring*\u2019 to \u2018coeffs\u2019 {aka \u2018n_Procs_s*\u2019} 5142 |       n_Delete((&__pyx_v_n), __pyx_v_r);\n      |                              ^~~~~~~~~\n      |                              |\n      |                              ip_sring*\nIn file included from /usr/include/singular/polys/monomials/ring.h:12,\n                 from /usr/include/singular/kernel/polys.h:15,\n                 from /usr/include/singular/kernel/structs.h:25,\n                 from /usr/include/singular/Singular/libsingular.h:7,\n                 from build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:746:\n```",
    "created_at": "2021-12-09T11:51:15Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535420",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:7'></a>
Replying to [arojas](#comment%3A6):
> I still have no idea how to inspect the logs

search https://github.com/mkoeppe/sage/actions/runs/1547718702 for "archlinux-latest-standard", find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212), unzip downloaded file and search `logs/pkgs/sagelib-9.5.beta7.log` for "multi_polynomial_ideal_libsingular":

```
build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp: In function ‘PyObject* __pyx_pf_4sage_5rings_10polynomial_34multi_polynomial_ideal_libsingular_6interred_libsingular(PyObject*, PyObject*)’:
build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:5142:30: error: cannot convert ‘ip_sring*’ to ‘coeffs’ {aka ‘n_Procs_s*’} 5142 |       n_Delete((&__pyx_v_n), __pyx_v_r);
      |                              ^~~~~~~~~
      |                              |
      |                              ip_sring*
In file included from /usr/include/singular/polys/monomials/ring.h:12,
                 from /usr/include/singular/kernel/polys.h:15,
                 from /usr/include/singular/kernel/structs.h:25,
                 from /usr/include/singular/Singular/libsingular.h:7,
                 from build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:746:
```



---

archive/issue_comments_535421.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks. So that would be sage picking up system singular 4.2.1.p2 while not including #32907 yet.",
    "created_at": "2021-12-09T11:53:53Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535421",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:8'></a>
Thanks. So that would be sage picking up system singular 4.2.1.p2 while not including #32907 yet.



---

archive/issue_comments_535422.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [gh-sheerluck](#comment%3A7):\n> find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212)\n\nThis is what I can't figure out. Where/how do I find those artifacts?",
    "created_at": "2021-12-09T12:00:28Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535422",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:9'></a>
Replying to [gh-sheerluck](#comment%3A7):
> find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212)

This is what I can't figure out. Where/how do I find those artifacts?



---

archive/issue_comments_535423.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [arojas](#comment%3A9):\n> Where/how do I find those artifacts?\n\nThey are not on the page for archlinux (runs/4439212188) you get after you click column on the left, they are on \"main\" page (runs/1547718702) you get after you click **Run SAGE_ROOT/tox.ini** from https://github.com/mkoeppe/sage/actions\n\nThat is a strange Github Actions thing, I guess \u00af\\_(\u30c4)_/\u00af",
    "created_at": "2021-12-09T12:13:06Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535423",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:10'></a>
Replying to [arojas](#comment%3A9):
> Where/how do I find those artifacts?

They are not on the page for archlinux (runs/4439212188) you get after you click column on the left, they are on "main" page (runs/1547718702) you get after you click **Run SAGE_ROOT/tox.ini** from https://github.com/mkoeppe/sage/actions

That is a strange Github Actions thing, I guess ¯\_(ツ)_/¯



---

archive/issue_comments_535424.json:
```json
{
    "body": "<a id='comment:11'></a>\nThen let's get this ticket in please",
    "created_at": "2021-12-09T21:13:37Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535424",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>
Then let's get this ticket in please



---

archive/issue_comments_535425.json:
```json
{
    "body": "<a id='comment:12'></a>\nWorks for me :)",
    "created_at": "2021-12-09T21:15:08Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535425",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
Works for me :)



---

archive/issue_events_295816.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2021-12-09T21:15:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295816"
}
```



---

archive/issue_events_295817.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2021-12-09T21:15:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295817"
}
```



---

archive/issue_comments_535426.json:
```json
{
    "body": "**Changing reviewer** from \"https://github.com/mkoeppe/sage/actions/runs/1547718702,  https://github.com/mkoeppe/sage/actions/runs/1547718701\" to \"Fran\u00e7ois Bissey\".",
    "created_at": "2021-12-09T21:15:08Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535426",
    "user": "https://github.com/kiwifb"
}
```

**Changing reviewer** from "https://github.com/mkoeppe/sage/actions/runs/1547718702,  https://github.com/mkoeppe/sage/actions/runs/1547718701" to "François Bissey".



---

archive/issue_comments_535427.json:
```json
{
    "body": "<a id='comment:13'></a>\nThanks!",
    "created_at": "2021-12-09T23:13:50Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535427",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>
Thanks!



---

archive/issue_events_295818.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-10T23:22:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295818"
}
```



---

archive/issue_events_295819.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-01-10T23:22:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295819"
}
```



---

archive/issue_comments_535428.json:
```json
{
    "body": "<a id='comment:15'></a>\nCython 0.29.26 was released.\n\n- [changes from Cython 0.29.25 to 0.29.26](https://github.com/cython/cython/compare/0.29.25...0.29.26)",
    "created_at": "2022-01-12T07:36:07Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535428",
    "user": "https://github.com/slel"
}
```

<a id='comment:15'></a>
Cython 0.29.26 was released.

- [changes from Cython 0.29.25 to 0.29.26](https://github.com/cython/cython/compare/0.29.25...0.29.26)



---

archive/issue_comments_535429.json:
```json
{
    "body": "<a id='comment:16'></a>\nMaybe upgrade to Cython 0.29.27?\n\n- [Cython 0.29.27: changes since previous version](https://cython.readthedocs.io/en/latest/src/changes.html#id29)\n\nOr leave that for a follow-up ticket.",
    "created_at": "2022-01-30T18:20:21Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535429",
    "user": "https://github.com/slel"
}
```

<a id='comment:16'></a>
Maybe upgrade to Cython 0.29.27?

- [Cython 0.29.27: changes since previous version](https://cython.readthedocs.io/en/latest/src/changes.html#id29)

Or leave that for a follow-up ticket.



---

archive/issue_comments_535430.json:
```json
{
    "body": "<a id='comment:17'></a>\nFollow-up ticket please",
    "created_at": "2022-01-30T19:59:28Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535430",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>
Follow-up ticket please



---

archive/issue_events_295820.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-01-31T23:30:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295820"
}
```



---

archive/issue_events_295821.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f0df3d8b40169709426fd20a9f71cdcb30851c90",
    "created_at": "2022-01-31T23:30:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32985#event-295821"
}
```



---

archive/issue_comments_535431.json:
```json
{
    "body": "**Changing branch** from \"[u/mkoeppe/cython__update_to_0_29_25](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cython__update_to_0_29_25)\" to \"[8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)\".",
    "created_at": "2022-01-31T23:30:44Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535431",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/mkoeppe/cython__update_to_0_29_25](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/cython__update_to_0_29_25)" to "[8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)".



---

archive/issue_comments_535432.json:
```json
{
    "body": "<a id='comment:19'></a>\nNext update in #33305",
    "created_at": "2022-02-06T20:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535432",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:19'></a>
Next update in #33305



---

archive/issue_comments_535433.json:
```json
{
    "body": "**Changing commit** from \"[8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)\" to \"\".",
    "created_at": "2022-02-06T20:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/32985",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32985#issuecomment-535433",
    "user": "https://github.com/mkoeppe"
}
```

**Changing commit** from "[8ef52be35530f13b1797e42c1011228218e55ef4](https://github.com/sagemath/sagetrac-mirror/commit/8ef52be35530f13b1797e42c1011228218e55ef4)" to "".
