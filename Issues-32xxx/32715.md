# Issue 32715: flit_core: Use sdh_pip_install --no-deps

archive/issues_032478.json:
```json
{
    "assignees": [],
    "body": "This is to suppress warnings that appear when installing `flit_core`.\n\n\nDepends on #32751\n\nCC:  @vbraun @jhpalmieri @orlitzky\n\nBranch/Commit: **[bc59753](https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1)**\n\nReviewer: **Michael Orlitzky**\n\nAuthor: **Matthias Koeppe**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32715_\n\n",
    "closed_at": "2021-11-15T23:16:01Z",
    "created_at": "2021-10-18T20:59:35Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "flit_core: Use sdh_pip_install --no-deps",
    "type": "issue",
    "updated_at": "2021-11-15T23:16:01Z",
    "url": "https://github.com/sagemath/sage/issues/32715",
    "user": "https://github.com/mkoeppe"
}
```
This is to suppress warnings that appear when installing `flit_core`.


Depends on #32751

CC:  @vbraun @jhpalmieri @orlitzky

Branch/Commit: **[bc59753](https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1)**

Reviewer: **Michael Orlitzky**

Author: **Matthias Koeppe**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/32715_





---

archive/issue_events_450613.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T20:59:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450613"
}
```



---

archive/issue_events_450614.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T20:59:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450614"
}
```



---

archive/issue_events_450615.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T20:59:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450615"
}
```



---

archive/issue_events_450616.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-18T20:59:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450616"
}
```



---

archive/issue_comments_527967.json:
```json
{
    "body": "Dependencies: **#32751**",
    "created_at": "2021-10-24T19:31:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527967",
    "user": "https://github.com/mkoeppe"
}
```

Dependencies: **#32751**



---

archive/issue_comments_527968.json:
```json
{
    "body": "Branch: **[u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps)**",
    "created_at": "2021-10-24T19:59:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527968",
    "user": "https://github.com/mkoeppe"
}
```

Branch: **[u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps)**



---

archive/issue_comments_527969.json:
```json
{
    "body": "Author: **Matthias Koeppe**",
    "created_at": "2021-10-24T20:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527969",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Matthias Koeppe**



---

archive/issue_comments_527970.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d852ad84c878ec529300db0e2825f1460b2e0bc\">2d852ad</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_uninstall): Use build/bin/sage-pip-uninstall, resurrected in simplified form</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b5a89ad82614300cef196fb0d4eed4a07a591235\">b5a89ad</a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): Uninstall before installing, to ensure the wheel is installed even if the version is the same</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30a272e613ecf63b12702bc7fa1d630f2502ce83\">30a272e</a></td><td><code>build/pkgs/sage_setup/dependencies: Add interpreter specs as dependencies</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d4357816318a05645edfd169c6f2b08108074fb1\">d435781</a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): Use sage-pip-uninstall</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cc00d8cef36ca754d4e3bf7a960a8dd387c88e81\">cc00d8c</a></td><td><code>Merge #32659</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/516bdb33a90b002200e356b91c8a29fccca29435\">516bdb3</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Handle new option --build-isolation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e89e2789ecf6c44e9dd31c028c708765545a8dd9\">e89e278</a></td><td><code>build/pkgs/packaging: Use --build-isolation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/30e397c80111ddeaf07a45b28d31e44a3dab64c5\">30e397c</a></td><td><code>Merge #32751</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7558af2134c583c2f71d2e2f3e4f0cb76cbe2c5\">e7558af</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Pass options on to sdh_store_and_pip_install_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f61f788966509c0e59f63c6c8ce4f31d5c474baf\">f61f788</a></td><td><code>build/pkgs/flit_core/spkg-install.in: Use sdh_pip_install --no-deps</code></td></tr></table>\n",
    "created_at": "2021-10-24T20:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527970",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d852ad84c878ec529300db0e2825f1460b2e0bc">2d852ad</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_uninstall): Use build/bin/sage-pip-uninstall, resurrected in simplified form</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b5a89ad82614300cef196fb0d4eed4a07a591235">b5a89ad</a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): Uninstall before installing, to ensure the wheel is installed even if the version is the same</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30a272e613ecf63b12702bc7fa1d630f2502ce83">30a272e</a></td><td><code>build/pkgs/sage_setup/dependencies: Add interpreter specs as dependencies</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d4357816318a05645edfd169c6f2b08108074fb1">d435781</a></td><td><code>build/bin/sage-dist-helpers (sdh_store_and_pip_install_wheel): Use sage-pip-uninstall</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cc00d8cef36ca754d4e3bf7a960a8dd387c88e81">cc00d8c</a></td><td><code>Merge #32659</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/516bdb33a90b002200e356b91c8a29fccca29435">516bdb3</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Handle new option --build-isolation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e89e2789ecf6c44e9dd31c028c708765545a8dd9">e89e278</a></td><td><code>build/pkgs/packaging: Use --build-isolation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/30e397c80111ddeaf07a45b28d31e44a3dab64c5">30e397c</a></td><td><code>Merge #32751</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7558af2134c583c2f71d2e2f3e4f0cb76cbe2c5">e7558af</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Pass options on to sdh_store_and_pip_install_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f61f788966509c0e59f63c6c8ce4f31d5c474baf">f61f788</a></td><td><code>build/pkgs/flit_core/spkg-install.in: Use sdh_pip_install --no-deps</code></td></tr></table>




---

archive/issue_comments_527971.json:
```json
{
    "body": "Commit: **[f61f788](https://github.com/sagemath/sagetrac-mirror/commit/f61f788966509c0e59f63c6c8ce4f31d5c474baf)**",
    "created_at": "2021-10-24T20:00:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527971",
    "user": "https://github.com/mkoeppe"
}
```

Commit: **[f61f788](https://github.com/sagemath/sagetrac-mirror/commit/f61f788966509c0e59f63c6c8ce4f31d5c474baf)**



---

archive/issue_events_450617.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-24T20:00:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450617"
}
```



---

archive/issue_comments_527972.json:
```json
{
    "body": "Changed commit from **[f61f788](https://github.com/sagemath/sagetrac-mirror/commit/f61f788966509c0e59f63c6c8ce4f31d5c474baf)** to **[bc59753](https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1)**",
    "created_at": "2021-10-28T23:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527972",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f61f788](https://github.com/sagemath/sagetrac-mirror/commit/f61f788966509c0e59f63c6c8ce4f31d5c474baf)** to **[bc59753](https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1)**



---

archive/issue_comments_527973.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd91cb6a89a9f947b2369cea5d9cf9a71f31dc2c\">fd91cb6</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Pass options on to sdh_store_and_pip_install_wheel</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f3bd8fb495a4b1a1179a55aa4d9af1501d6f565\">8f3bd8f</a></td><td><code>build/bin/sage-dist-helpers: Only extract special ooptions --build-isolation and --no-deps from the front, pass --no-deps only to install</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1\">bc59753</a></td><td><code>build/pkgs/flit_core/spkg-install.in: Use sdh_pip_install --no-deps</code></td></tr></table>\n",
    "created_at": "2021-10-28T23:37:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527973",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd91cb6a89a9f947b2369cea5d9cf9a71f31dc2c">fd91cb6</a></td><td><code>build/bin/sage-dist-helpers (sdh_pip_install): Pass options on to sdh_store_and_pip_install_wheel</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f3bd8fb495a4b1a1179a55aa4d9af1501d6f565">8f3bd8f</a></td><td><code>build/bin/sage-dist-helpers: Only extract special ooptions --build-isolation and --no-deps from the front, pass --no-deps only to install</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1">bc59753</a></td><td><code>build/pkgs/flit_core/spkg-install.in: Use sdh_pip_install --no-deps</code></td></tr></table>




---

archive/issue_events_450618.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-10-28T23:38:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "title_is": "flit_core: Use sdh_pip_install --no-deps",
    "title_was": "sdh_pip_install: Accept options such as --no-deps",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450618"
}
```



---

archive/issue_comments_527974.json:
```json
{
    "body": "Reviewer: **Michael Orlitzky**",
    "created_at": "2021-11-07T13:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527974",
    "user": "https://github.com/orlitzky"
}
```

Reviewer: **Michael Orlitzky**



---

archive/issue_events_450619.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-11-07T13:48:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450619"
}
```



---

archive/issue_events_450620.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2021-11-07T13:48:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450620"
}
```



---

archive/issue_comments_527975.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSure. I guess we don't add tomli to flit_core's dependencies because tomli already depends on flit_core?",
    "created_at": "2021-11-07T13:48:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527975",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:7" align="right">comment:7</div>

Sure. I guess we don't add tomli to flit_core's dependencies because tomli already depends on flit_core?



---

archive/issue_comments_527976.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks. Yes, that's right",
    "created_at": "2021-11-07T16:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527976",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks. Yes, that's right



---

archive/issue_events_450621.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-15T23:16:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450621"
}
```



---

archive/issue_events_450622.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6dab8f46680fa5c5de211bfa08eba8ab0d034cf7",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-11-15T23:16:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32715#event-450622"
}
```



---

archive/issue_comments_527977.json:
```json
{
    "body": "Changed branch from **[u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps)** to **[bc59753](https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1)**",
    "created_at": "2021-11-15T23:16:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32715",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32715#issuecomment-527977",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps](https://github.com/sagemath/sagetrac-mirror/tree/u/mkoeppe/sdh_pip_install__accept_options_such_as___no_deps)** to **[bc59753](https://github.com/sagemath/sagetrac-mirror/commit/bc59753278c61fca9d7b9264aa3015ec55731ea1)**
