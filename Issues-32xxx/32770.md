# Issue 32770: Expose and access `tachyon` command line flags

archive/issues_032533.json:
```json
{
    "body": "Currently (version 9.5.beta4), there is no way in `plot3d/base.pyx`\nto access tachyon command line flags. Among many of these flags,\nthere are the shading options, which might be more important than\nthe other flags. One reason might be that using them one can\nturn off shadows (the corresponding flag is `--mediumshade`).\nHaving shadows sometimes lead to confusing plots. So one might\nwant to turn them off.\n\nThis ticket is intended to fix that by implementing two options \nfor tachyon plots. One is `extra_opts` which pass flags to\nthe tachyon command line. The other option is `shade`, which\nis a shortcut to command line shading flags:\n\n-  `shade` (for tachyon) -- string (default: `'full'`); shading options. Admissible values are\n   * `'full'`: best quality rendering (and slowest). Sets tachyon command line flag `-fullshade`.\n   * `'medium`: good quality rendering, but no shadows. Sets tachyon command line flag `-mediumshade`.\n   * `'low'`: low quality rendering, preview (and fast). Sets tachyon command line flag `-lowshade`.\n   * `'lowest'`: worst quality rendering, preview (and fastest). Sets tachyon command line flag `-lowestshade`.\n-  `extra_opts` (for tachyon) -- string (default: empty string); extra options that will be appended to the tachyon command line.\n\nAs a side note, `plot3d/tachon.py` already has the option `extra_opts`\nimplemented.\n\nCC:  @slel @guenterrote\n\nKeywords: tachyon, shading\n\nReviewer: Matthias Koeppe\n\nAuthor: Laith Rastanawi\n\nBranch: e4cf8be858ded6015a119f2aa99af045d0244522\n\nCommit: e4cf8be858ded6015a119f2aa99af045d0244522\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32770\n\n",
    "closed_at": "2022-03-08T08:12:15Z",
    "created_at": "2021-10-25T22:44:58Z",
    "labels": [
        "component: graphics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "Expose and access `tachyon` command line flags",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32770",
    "user": "https://github.com/LaisRast"
}
```
Currently (version 9.5.beta4), there is no way in `plot3d/base.pyx`
to access tachyon command line flags. Among many of these flags,
there are the shading options, which might be more important than
the other flags. One reason might be that using them one can
turn off shadows (the corresponding flag is `--mediumshade`).
Having shadows sometimes lead to confusing plots. So one might
want to turn them off.

This ticket is intended to fix that by implementing two options 
for tachyon plots. One is `extra_opts` which pass flags to
the tachyon command line. The other option is `shade`, which
is a shortcut to command line shading flags:

-  `shade` (for tachyon) -- string (default: `'full'`); shading options. Admissible values are
   * `'full'`: best quality rendering (and slowest). Sets tachyon command line flag `-fullshade`.
   * `'medium`: good quality rendering, but no shadows. Sets tachyon command line flag `-mediumshade`.
   * `'low'`: low quality rendering, preview (and fast). Sets tachyon command line flag `-lowshade`.
   * `'lowest'`: worst quality rendering, preview (and fastest). Sets tachyon command line flag `-lowestshade`.
-  `extra_opts` (for tachyon) -- string (default: empty string); extra options that will be appended to the tachyon command line.

As a side note, `plot3d/tachon.py` already has the option `extra_opts`
implemented.

CC:  @slel @guenterrote

Keywords: tachyon, shading

Reviewer: Matthias Koeppe

Author: Laith Rastanawi

Branch: e4cf8be858ded6015a119f2aa99af045d0244522

Commit: e4cf8be858ded6015a119f2aa99af045d0244522

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32770





---

archive/issue_comments_463567.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T22:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463567",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463568.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-25T22:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463568",
    "user": "https://github.com/LaisRast"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_463569.json:
```json
{
    "body": "<a id='comment:4'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463569",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_events_086712.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:53:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32770#event-86712"
}
```



---

archive/issue_comments_463570.json:
```json
{
    "body": "<a id='comment:5'></a>```\n+        extra_opts = opts[\"extra_opts\"] if \"extra_opts\" in opts else \"\"\n```\nThis can be simplified to `extra_opts = opts.get(\"extra_opts\", \"\")`",
    "created_at": "2022-03-03T06:54:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463570",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:5'></a>```
+        extra_opts = opts["extra_opts"] if "extra_opts" in opts else ""
```
This can be simplified to `extra_opts = opts.get("extra_opts", "")`



---

archive/issue_comments_463571.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-03T06:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463571",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_463572.json:
```json
{
    "body": "<a id='comment:6'></a>Doctests are needed to illustrate the use of the new options",
    "created_at": "2022-03-03T06:54:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463572",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:6'></a>Doctests are needed to illustrate the use of the new options



---

archive/issue_comments_463573.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-03T09:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463573",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463574.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-03-03T09:18:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463574",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_463575.json:
```json
{
    "body": "<a id='comment:9'></a>A test for `extra_opts` please?",
    "created_at": "2022-03-03T19:02:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463575",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:9'></a>A test for `extra_opts` please?



---

archive/issue_comments_463576.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-03-03T19:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463576",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_463577.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-03-03T19:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463577",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_463578.json:
```json
{
    "body": "<a id='comment:11'></a>Thanks, this is looking good.",
    "created_at": "2022-03-03T19:36:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463578",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:11'></a>Thanks, this is looking good.



---

archive/issue_events_086713.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-03-08T08:12:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32770#event-86713"
}
```



---

archive/issue_comments_463579.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-03-08T08:12:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32770#issuecomment-463579",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
