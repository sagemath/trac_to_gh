# Issue 32199: Conjugating Set Runtime Improvement

archive/issues_031962.json:
```json
{
    "body": "CC:  @bhutz\n\nKeywords: gsoc2021\n\nCurrently, conjugating set is very slow for maps with many fixed points. This ticket aims to improve the runtime of conjugating set by using the multipliers of the fixed points to reduce the combinatorics necessary to find all conjugations. Additionally, we aim to check conjugations in parallel to further speed up the calculation.\n\nIssue created by migration from https://trac.sagemath.org/ticket/32199\n\n",
    "closed_at": "2021-10-19T20:30:56Z",
    "created_at": "2021-07-13T20:54:07Z",
    "labels": [
        "component: dynamics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Conjugating Set Runtime Improvement",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32199",
    "user": "https://github.com/EnderWannabe"
}
```
CC:  @bhutz

Keywords: gsoc2021

Currently, conjugating set is very slow for maps with many fixed points. This ticket aims to improve the runtime of conjugating set by using the multipliers of the fixed points to reduce the combinatorics necessary to find all conjugations. Additionally, we aim to check conjugations in parallel to further speed up the calculation.

Issue created by migration from https://trac.sagemath.org/ticket/32199





---

archive/issue_comments_456140.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-07-20T14:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456140",
    "user": "https://github.com/EnderWannabe"
}
```

Last 10 new commits:



---

archive/issue_comments_456141.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-07-20T14:27:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456141",
    "user": "https://github.com/EnderWannabe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_456142.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-20T14:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456142",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456143.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-20T16:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456143",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456144.json:
```json
{
    "body": "So far, I've found no issues with functionality. Mostly some doc and doctest issues:\n\n- 2052 - f is not defined nor passed in??\n\n- 2098, 2245 - \"instead do\" -> \"instead use\"\n\n- 2106, 2253 - looks like it fits on the previous line\n\n- 2119, 2266 - can be on same line as 2117\n\n\n- 2205, 2233: conjugating_set_helper -- Is it possible for different threads to find the same automorphism? I think \"no\" since the source set is fixed for all threads.\n\n- 2379: need blank line at end of file\n\n\n- need to update 32155\n\n\n\n\nFinite field automorphism_group:\n\n- do not have any dimension > 1 examples as well as a sanity check on the results:\n\n```\nR.<x,y,z> = ProjectiveSpace(GF(5),2)\nf = DynamicalSystem_projective([x^3+x*z^2, y^3+y*z^2,z^3])\nall([f.conjugate(m) == f for m in f.automorphism_group()])\n```\n\n\n\nfield automorphism_group:\n\n- num_cpus default = 2?  Why does this function default to 1 when the others default to 2.\n\n- no interesting dim 2 examples\n\n\nconjugating set:\n\n- 6548: since 2 is the default should probably change to num_cpus=3\n\n- 6727  \"an\" -> \"can\"  (not your error, but may as well fix it while we are working on this function\n\n\n\nis_conjugate:\n\n- default num_cpus = 2?",
    "created_at": "2021-07-27T14:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456144",
    "user": "https://github.com/bhutz"
}
```

So far, I've found no issues with functionality. Mostly some doc and doctest issues:

- 2052 - f is not defined nor passed in??

- 2098, 2245 - "instead do" -> "instead use"

- 2106, 2253 - looks like it fits on the previous line

- 2119, 2266 - can be on same line as 2117


- 2205, 2233: conjugating_set_helper -- Is it possible for different threads to find the same automorphism? I think "no" since the source set is fixed for all threads.

- 2379: need blank line at end of file


- need to update 32155




Finite field automorphism_group:

- do not have any dimension > 1 examples as well as a sanity check on the results:

```
R.<x,y,z> = ProjectiveSpace(GF(5),2)
f = DynamicalSystem_projective([x^3+x*z^2, y^3+y*z^2,z^3])
all([f.conjugate(m) == f for m in f.automorphism_group()])
```



field automorphism_group:

- num_cpus default = 2?  Why does this function default to 1 when the others default to 2.

- no interesting dim 2 examples


conjugating set:

- 6548: since 2 is the default should probably change to num_cpus=3

- 6727  "an" -> "can"  (not your error, but may as well fix it while we are working on this function



is_conjugate:

- default num_cpus = 2?



---

archive/issue_comments_456145.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-27T14:01:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456145",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_456146.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-27T19:50:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456147.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-07-27T19:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456147",
    "user": "https://github.com/EnderWannabe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_456148.json:
```json
{
    "body": "an error was introduced somewhere; looks like from the merging in the new #32155. Pretty much every example gives\n\n```\nValueError                                Traceback (most recent call last)\n<timed exec> in <module>\n\n~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py in conjugating_set(self, other, R, num_cpus)\n   6742             and (f.sigma_invariants(1) != g.sigma_invariants(1)):\n   6743             return []\n-> 6744         tup = conjugating_set_initializer(f, g)\n   6745         if tup == []:\n   6746             return []\n\n~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in conjugating_set_initializer(f, g)\n   1913     # does find a subset, then the subset will most likely minimize the combinatorics\n   1914     # of checking conjugations\n-> 1915     tup = greedy_independence_check(P, repeated_mult_L, point_to_mult_L)\n   1916     if not tup is None:\n   1917         more = False\n\n~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in greedy_independence_check(P, repeated_mult, point_to_mult)\n   2087         for point_lst in repeated_mult[r]:\n   2088             for point in point_lst:\n-> 2089                 if P.is_linearly_independent(source + [point], n+1):\n   2090                     source.append(point)\n   2091                     mult = point_to_mult[point]\n\n~/sage-test/local/lib/python3.9/site-packages/sage/schemes/projective/projective_space.py in is_linearly_independent(self, points, n)\n   1791         n = Integer(n)\n   1792         if n < 1 or n > len(points):\n-> 1793             raise ValueError('n must be a non negative integer not greater than the length of points')\n   1794         all_subsets = Subsets(range(len(points)), n)\n   1795         linearly_independent = True\n\nValueError: n must be a non negative integer not greater than the length of points\n```",
    "created_at": "2021-07-29T14:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456148",
    "user": "https://github.com/bhutz"
}
```

an error was introduced somewhere; looks like from the merging in the new #32155. Pretty much every example gives

```
ValueError                                Traceback (most recent call last)
<timed exec> in <module>

~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py in conjugating_set(self, other, R, num_cpus)
   6742             and (f.sigma_invariants(1) != g.sigma_invariants(1)):
   6743             return []
-> 6744         tup = conjugating_set_initializer(f, g)
   6745         if tup == []:
   6746             return []

~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in conjugating_set_initializer(f, g)
   1913     # does find a subset, then the subset will most likely minimize the combinatorics
   1914     # of checking conjugations
-> 1915     tup = greedy_independence_check(P, repeated_mult_L, point_to_mult_L)
   1916     if not tup is None:
   1917         more = False

~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in greedy_independence_check(P, repeated_mult, point_to_mult)
   2087         for point_lst in repeated_mult[r]:
   2088             for point in point_lst:
-> 2089                 if P.is_linearly_independent(source + [point], n+1):
   2090                     source.append(point)
   2091                     mult = point_to_mult[point]

~/sage-test/local/lib/python3.9/site-packages/sage/schemes/projective/projective_space.py in is_linearly_independent(self, points, n)
   1791         n = Integer(n)
   1792         if n < 1 or n > len(points):
-> 1793             raise ValueError('n must be a non negative integer not greater than the length of points')
   1794         all_subsets = Subsets(range(len(points)), n)
   1795         linearly_independent = True

ValueError: n must be a non negative integer not greater than the length of points
```



---

archive/issue_comments_456149.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-07-29T14:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456149",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_456150.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-07-29T14:59:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456150",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456151.json:
```json
{
    "body": "Replying to [comment:8 bhutz]:\n> looks like from the merging in the new #32155\n\n\nThe new version was backwards incompatible, whoops. Fix pushed",
    "created_at": "2021-07-29T15:00:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456151",
    "user": "https://github.com/EnderWannabe"
}
```

Replying to [comment:8 bhutz]:
> looks like from the merging in the new #32155


The new version was backwards incompatible, whoops. Fix pushed



---

archive/issue_comments_456152.json:
```json
{
    "body": "ok, that looks better. Just waiting on the merge conflict for #32155 now.",
    "created_at": "2021-07-29T15:43:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456152",
    "user": "https://github.com/bhutz"
}
```

ok, that looks better. Just waiting on the merge conflict for #32155 now.



---

archive/issue_comments_456153.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-03T16:14:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456153",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456154.json:
```json
{
    "body": "Merged latest #32155",
    "created_at": "2021-08-03T16:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456154",
    "user": "https://github.com/EnderWannabe"
}
```

Merged latest #32155



---

archive/issue_comments_456155.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-03T16:14:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456155",
    "user": "https://github.com/EnderWannabe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_456156.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-08-04T18:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456156",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_456157.json:
```json
{
    "body": "Note that the patchbot has caught two failures:\n\n```\nFile \"src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py\", line 1841, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_initializer\nFailed example:\n    conjugating_set_initializer(f, f)\nExpected:\n    ([(-1 : 0 : 1), (0 : -1 : 1), (0 : 1 : 0), (1 : 0 : 0)],\n     [[[(-1 : 0 : 1), (0 : -1 : 1), (-1 : 1 : 0)], 2],\n     [[(0 : 1 : 0), (1 : 0 : 0), (1 : 1 : 1), (0 : 0 : 1)], 2]])\nGot:\n    ([(-1 : 1 : 0), (0 : -1 : 1), (1 : 1 : 1), (1 : 0 : 0)],\n     [[[(-1 : 1 : 0), (0 : -1 : 1), (-1 : 0 : 1)], 2],\n      [[(1 : 1 : 1), (1 : 0 : 0), (0 : 0 : 1), (0 : 1 : 0)], 2]])\n```\n\n```\nFile \"src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py\", line 2143, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_helper\nFailed example:\n    conjugating_set_helper(f, f, 2, source, possible_targets)\nExpected:\n    [\n    [1 0]  [0 1]\n    [0 1], [1 0]\n    ]\nGot:\n    [\n    [0 1]  [1 0]\n    [1 0], [0 1]\n    ]\n```",
    "created_at": "2021-08-04T18:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456157",
    "user": "https://github.com/bhutz"
}
```

Note that the patchbot has caught two failures:

```
File "src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py", line 1841, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_initializer
Failed example:
    conjugating_set_initializer(f, f)
Expected:
    ([(-1 : 0 : 1), (0 : -1 : 1), (0 : 1 : 0), (1 : 0 : 0)],
     [[[(-1 : 0 : 1), (0 : -1 : 1), (-1 : 1 : 0)], 2],
     [[(0 : 1 : 0), (1 : 0 : 0), (1 : 1 : 1), (0 : 0 : 1)], 2]])
Got:
    ([(-1 : 1 : 0), (0 : -1 : 1), (1 : 1 : 1), (1 : 0 : 0)],
     [[[(-1 : 1 : 0), (0 : -1 : 1), (-1 : 0 : 1)], 2],
      [[(1 : 1 : 1), (1 : 0 : 0), (0 : 0 : 1), (0 : 1 : 0)], 2]])
```

```
File "src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py", line 2143, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_helper
Failed example:
    conjugating_set_helper(f, f, 2, source, possible_targets)
Expected:
    [
    [1 0]  [0 1]
    [0 1], [1 0]
    ]
Got:
    [
    [0 1]  [1 0]
    [1 0], [0 1]
    ]
```



---

archive/issue_comments_456158.json:
```json
{
    "body": "Replying to [comment:14 bhutz]:\n> Note that the patchbot has caught two failures\n\n\nTests pass for me locally. Not sure what is going on here",
    "created_at": "2021-08-04T19:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456158",
    "user": "https://github.com/EnderWannabe"
}
```

Replying to [comment:14 bhutz]:
> Note that the patchbot has caught two failures


Tests pass for me locally. Not sure what is going on here



---

archive/issue_comments_456159.json:
```json
{
    "body": "Might it be a sorting problem with .peroiodic_points()?",
    "created_at": "2021-08-04T19:21:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456159",
    "user": "https://github.com/bhutz"
}
```

Might it be a sorting problem with .peroiodic_points()?



---

archive/issue_comments_456160.json:
```json
{
    "body": "Replying to [comment:16 bhutz]:\n> Might it be a sorting problem with .peroiodic_points()?\n\n\nI'm not sure. Patchbot ran on two machines I think, and checking the logs the failures were different on each machine. The other machine shows these failures\n\n```\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_space.py\", line 1731, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent\nFailed example:\n    points = [P((1, 0)), P((1, 1))]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 718, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1137, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[0]>\", line 1, in <module>\n        points = [P((Integer(1), Integer(0))), P((Integer(1), Integer(1)))]\n    NameError: name 'P' is not defined\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_space.py\", line 1732, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent\nFailed example:\n    P.is_linearly_independent(points)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 718, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1137, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[1]>\", line 1, in <module>\n        P.is_linearly_independent(points)\n    NameError: name 'P' is not defined\n**********************************************************************\n```\n\nThese don't seem like actual failures - P is defined on the line before. Also, the conjugating set examples pass on this machine.",
    "created_at": "2021-08-04T19:35:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456160",
    "user": "https://github.com/EnderWannabe"
}
```

Replying to [comment:16 bhutz]:
> Might it be a sorting problem with .peroiodic_points()?


I'm not sure. Patchbot ran on two machines I think, and checking the logs the failures were different on each machine. The other machine shows these failures

```
**********************************************************************
File "src/sage/schemes/projective/projective_space.py", line 1731, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent
Failed example:
    points = [P((1, 0)), P((1, 1))]
Exception raised:
    Traceback (most recent call last):
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 718, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1137, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[0]>", line 1, in <module>
        points = [P((Integer(1), Integer(0))), P((Integer(1), Integer(1)))]
    NameError: name 'P' is not defined
**********************************************************************
File "src/sage/schemes/projective/projective_space.py", line 1732, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent
Failed example:
    P.is_linearly_independent(points)
Exception raised:
    Traceback (most recent call last):
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 718, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1137, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[1]>", line 1, in <module>
        P.is_linearly_independent(points)
    NameError: name 'P' is not defined
**********************************************************************
```

These don't seem like actual failures - P is defined on the line before. Also, the conjugating set examples pass on this machine.



---

archive/issue_comments_456161.json:
```json
{
    "body": "I also don't think these 2nd machine failures are real failures since these tests pass on all machines for #32155. So I'd focus on the first failures. Those seem more likely to be real failures, but we could wait for the patchbot to run again while we are waiting on #32155 to be cleared.",
    "created_at": "2021-08-04T19:52:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456161",
    "user": "https://github.com/bhutz"
}
```

I also don't think these 2nd machine failures are real failures since these tests pass on all machines for #32155. So I'd focus on the first failures. Those seem more likely to be real failures, but we could wait for the patchbot to run again while we are waiting on #32155 to be cleared.



---

archive/issue_comments_456162.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-04T20:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456162",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456163.json:
```json
{
    "body": "Ok, lets wait for patchbot. I removed some unused imports in the last push",
    "created_at": "2021-08-04T20:11:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456163",
    "user": "https://github.com/EnderWannabe"
}
```

Ok, lets wait for patchbot. I removed some unused imports in the last push



---

archive/issue_comments_456164.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-08-05T17:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456164",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_456165.json:
```json
{
    "body": "Examples are definitely causing errors. I pushed a branch which doesn't rely on directly comparing the strings.",
    "created_at": "2021-08-05T18:02:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456165",
    "user": "https://github.com/EnderWannabe"
}
```

Examples are definitely causing errors. I pushed a branch which doesn't rely on directly comparing the strings.



---

archive/issue_comments_456166.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-08-05T18:32:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456166",
    "user": "https://github.com/EnderWannabe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_events_085296.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-10T17:30:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32199#event-85296"
}
```



---

archive/issue_comments_456167.json:
```json
{
    "body": "looks good.",
    "created_at": "2021-08-13T15:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456167",
    "user": "https://github.com/bhutz"
}
```

looks good.



---

archive/issue_comments_456168.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-08-13T15:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456168",
    "user": "https://github.com/bhutz"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_085297.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:30:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32199#event-85297"
}
```



---

archive/issue_comments_456169.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32199#issuecomment-456169",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
