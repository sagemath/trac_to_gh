# Issue 32199: Conjugating Set Runtime Improvement

archive/issues_031962.json:
```json
{
    "assignees": [],
    "body": "Currently, conjugating set is very slow for maps with many fixed points. This ticket aims to improve the runtime of conjugating set by using the multipliers of the fixed points to reduce the combinatorics necessary to find all conjugations. Additionally, we aim to check conjugations in parallel to further speed up the calculation.\n\nDepends on #31944\nDepends on #32155\n\nCC:  @bhutz\n\nKeywords: **gsoc2021**\n\nBranch/Commit: **[0f73fcd](https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb)**\n\nReviewer: **Ben Hutz**\n\nAuthor: **Alexander Galarraga**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/32199_\n\n",
    "closed_at": "2021-10-19T20:30:56Z",
    "created_at": "2021-07-13T20:54:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20dynamics",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Conjugating Set Runtime Improvement",
    "type": "issue",
    "updated_at": "2021-10-19T20:30:56Z",
    "url": "https://github.com/sagemath/sage/issues/32199",
    "user": "https://github.com/EnderWannabe"
}
```
Currently, conjugating set is very slow for maps with many fixed points. This ticket aims to improve the runtime of conjugating set by using the multipliers of the fixed points to reduce the combinatorics necessary to find all conjugations. Additionally, we aim to check conjugations in parallel to further speed up the calculation.

Depends on #31944
Depends on #32155

CC:  @bhutz

Keywords: **gsoc2021**

Branch/Commit: **[0f73fcd](https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb)**

Reviewer: **Ben Hutz**

Author: **Alexander Galarraga**

_Issue created by migration from https://trac.sagemath.org/ticket/32199_





---

archive/issue_events_411674.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-13T20:54:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411674"
}
```



---

archive/issue_events_411675.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-13T20:54:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20dynamics",
    "label_color": "0000ff",
    "label_name": "component: dynamics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411675"
}
```



---

archive/issue_events_411676.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-13T20:54:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411676"
}
```



---

archive/issue_events_411677.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-13T20:54:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411677"
}
```



---

archive/issue_comments_521725.json:
```json
{
    "body": "Branch: **[u/gh-EnderWannabe/fast_conjugating_set](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/fast_conjugating_set)**",
    "created_at": "2021-07-13T20:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521725",
    "user": "https://github.com/EnderWannabe"
}
```

Branch: **[u/gh-EnderWannabe/fast_conjugating_set](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/fast_conjugating_set)**



---

archive/issue_comments_521726.json:
```json
{
    "body": "Commit: **[b86822d](https://github.com/sagemath/sagetrac-mirror/commit/b86822d90266c102b9bf97a24e84f0d5ed0c132d)**",
    "created_at": "2021-07-20T14:27:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521726",
    "user": "https://github.com/EnderWannabe"
}
```

Commit: **[b86822d](https://github.com/sagemath/sagetrac-mirror/commit/b86822d90266c102b9bf97a24e84f0d5ed0c132d)**



---

archive/issue_comments_521727.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a63927eea4cfb70ec08d4c0f346ef6ad309cdbe8\">a63927e</a></td><td><code>Merge branch 'affine_preperiodic' into periodic_points_improvement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b5e74f70efaf1af0f32945f1bee255e3e7e41da\">9b5e74f</a></td><td><code>31944: fixed calls to affine preperiodic model</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5277f2c0647b3254381ec312ec6c0ec65c85be8\">c5277f2</a></td><td><code>32155: initial commit with method and documentation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6897aa406532c104b39ab4b6655f61df58834b4c\">6897aa4</a></td><td><code>32155: updated parameter</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e7ffb5e2cbfd736bd909bc12375434621b8a02f6\">e7ffb5e</a></td><td><code>Merge branch 'is_linearly_independent' into fast_conjugating_set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f113c7e0e7d031e351ff5d39aea8985d356ae85\">7f113c7</a></td><td><code>first commit with code and docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6a2bb78e454b9ea266c87ceb6dcc5cb305a9136\">e6a2bb7</a></td><td><code>updated docs</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a247bb24b73bc6597ff388a4c21b9abf57cc34a\">2a247bb</a></td><td><code>independent set calculation bug fixed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03bd0e2100895f80b173b54dd97f3a72136dd2ea\">03bd0e2</a></td><td><code>added examples, new function</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b86822d90266c102b9bf97a24e84f0d5ed0c132d\">b86822d</a></td><td><code>fixed comments</code></td></tr></table>\n",
    "created_at": "2021-07-20T14:27:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521727",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:2'>Comment 2:</a>
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a63927eea4cfb70ec08d4c0f346ef6ad309cdbe8">a63927e</a></td><td><code>Merge branch 'affine_preperiodic' into periodic_points_improvement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b5e74f70efaf1af0f32945f1bee255e3e7e41da">9b5e74f</a></td><td><code>31944: fixed calls to affine preperiodic model</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5277f2c0647b3254381ec312ec6c0ec65c85be8">c5277f2</a></td><td><code>32155: initial commit with method and documentation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6897aa406532c104b39ab4b6655f61df58834b4c">6897aa4</a></td><td><code>32155: updated parameter</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e7ffb5e2cbfd736bd909bc12375434621b8a02f6">e7ffb5e</a></td><td><code>Merge branch 'is_linearly_independent' into fast_conjugating_set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f113c7e0e7d031e351ff5d39aea8985d356ae85">7f113c7</a></td><td><code>first commit with code and docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6a2bb78e454b9ea266c87ceb6dcc5cb305a9136">e6a2bb7</a></td><td><code>updated docs</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a247bb24b73bc6597ff388a4c21b9abf57cc34a">2a247bb</a></td><td><code>independent set calculation bug fixed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03bd0e2100895f80b173b54dd97f3a72136dd2ea">03bd0e2</a></td><td><code>added examples, new function</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b86822d90266c102b9bf97a24e84f0d5ed0c132d">b86822d</a></td><td><code>fixed comments</code></td></tr></table>




---

archive/issue_events_411678.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-20T14:27:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411678"
}
```



---

archive/issue_comments_521728.json:
```json
{
    "body": "Changed commit from **[b86822d](https://github.com/sagemath/sagetrac-mirror/commit/b86822d90266c102b9bf97a24e84f0d5ed0c132d)** to **[48c1637](https://github.com/sagemath/sagetrac-mirror/commit/48c16371b8b6d332f4531d4e1dc8b057cbe75951)**",
    "created_at": "2021-07-20T14:29:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521728",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b86822d](https://github.com/sagemath/sagetrac-mirror/commit/b86822d90266c102b9bf97a24e84f0d5ed0c132d)** to **[48c1637](https://github.com/sagemath/sagetrac-mirror/commit/48c16371b8b6d332f4531d4e1dc8b057cbe75951)**



---

archive/issue_comments_521729.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1e19586fc1715c36679d4029d629bc88b8555fa\">f1e1958</a></td><td><code>31944: fix for subscheme issue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3ea2beb5182055bc25028e7278499f0f112fc04\">d3ea2be</a></td><td><code>31944: added check for morphisms</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/268bc837c24cc0fcb6bad1c84d5ad00b1ec54676\">268bc83</a></td><td><code>31944: fixed if statement</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f2857f21394f0c242f9180f57f45ac565b618ed\">6f2857f</a></td><td><code>31944: added example for formal preperiodic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/48c16371b8b6d332f4531d4e1dc8b057cbe75951\">48c1637</a></td><td><code>Merge branch 'periodic_points_improvement' into fast_conjugating_set</code></td></tr></table>\n",
    "created_at": "2021-07-20T14:29:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521729",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1e19586fc1715c36679d4029d629bc88b8555fa">f1e1958</a></td><td><code>31944: fix for subscheme issue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3ea2beb5182055bc25028e7278499f0f112fc04">d3ea2be</a></td><td><code>31944: added check for morphisms</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/268bc837c24cc0fcb6bad1c84d5ad00b1ec54676">268bc83</a></td><td><code>31944: fixed if statement</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f2857f21394f0c242f9180f57f45ac565b618ed">6f2857f</a></td><td><code>31944: added example for formal preperiodic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/48c16371b8b6d332f4531d4e1dc8b057cbe75951">48c1637</a></td><td><code>Merge branch 'periodic_points_improvement' into fast_conjugating_set</code></td></tr></table>




---

archive/issue_comments_521730.json:
```json
{
    "body": "Changed commit from **[48c1637](https://github.com/sagemath/sagetrac-mirror/commit/48c16371b8b6d332f4531d4e1dc8b057cbe75951)** to **[b882a6a](https://github.com/sagemath/sagetrac-mirror/commit/b882a6a8bb61edbf92ca95ed76d2337820c4cbaa)**",
    "created_at": "2021-07-20T16:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521730",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[48c1637](https://github.com/sagemath/sagetrac-mirror/commit/48c16371b8b6d332f4531d4e1dc8b057cbe75951)** to **[b882a6a](https://github.com/sagemath/sagetrac-mirror/commit/b882a6a8bb61edbf92ca95ed76d2337820c4cbaa)**



---

archive/issue_comments_521731.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ee203e6707c083bc00e29d208cc673ff9c32c72\">5ee203e</a></td><td><code>Merge branch 'u/gh-EnderWannabe/fast_conjugating_set' of trac.sagemath.org:sage into fast_conjugating_set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b882a6a8bb61edbf92ca95ed76d2337820c4cbaa\">b882a6a</a></td><td><code>32199: set default cpus to 2</code></td></tr></table>\n",
    "created_at": "2021-07-20T16:42:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521731",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ee203e6707c083bc00e29d208cc673ff9c32c72">5ee203e</a></td><td><code>Merge branch 'u/gh-EnderWannabe/fast_conjugating_set' of trac.sagemath.org:sage into fast_conjugating_set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b882a6a8bb61edbf92ca95ed76d2337820c4cbaa">b882a6a</a></td><td><code>32199: set default cpus to 2</code></td></tr></table>




---

archive/issue_comments_521732.json:
```json
{
    "body": "Reviewer: **Ben Hutz**",
    "created_at": "2021-07-27T14:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521732",
    "user": "https://github.com/bhutz"
}
```

Reviewer: **Ben Hutz**



---

archive/issue_comments_521733.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nSo far, I've found no issues with functionality. Mostly some doc and doctest issues:\n\n- 2052 - f is not defined nor passed in??\n\n- 2098, 2245 - \"instead do\" -> \"instead use\"\n\n- 2106, 2253 - looks like it fits on the previous line\n\n- 2119, 2266 - can be on same line as 2117\n\n\n- 2205, 2233: conjugating_set_helper -- Is it possible for different threads to find the same automorphism? I think \"no\" since the source set is fixed for all threads.\n\n- 2379: need blank line at end of file\n\n\n- need to update 32155\n\n\n\n\nFinite field automorphism_group:\n\n- do not have any dimension > 1 examples as well as a sanity check on the results:\n\n```\nR.<x,y,z> = ProjectiveSpace(GF(5),2)\nf = DynamicalSystem_projective([x^3+x*z^2, y^3+y*z^2,z^3])\nall([f.conjugate(m) == f for m in f.automorphism_group()])\n```\n\n\n\nfield automorphism_group:\n\n- num_cpus default = 2?  Why does this function default to 1 when the others default to 2.\n\n- no interesting dim 2 examples\n\n\nconjugating set:\n\n- 6548: since 2 is the default should probably change to num_cpus=3\n\n- 6727  \"an\" -> \"can\"  (not your error, but may as well fix it while we are working on this function\n\n\n\nis_conjugate:\n\n- default num_cpus = 2?",
    "created_at": "2021-07-27T14:01:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521733",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:5'>Comment 5:</a>
So far, I've found no issues with functionality. Mostly some doc and doctest issues:

- 2052 - f is not defined nor passed in??

- 2098, 2245 - "instead do" -> "instead use"

- 2106, 2253 - looks like it fits on the previous line

- 2119, 2266 - can be on same line as 2117


- 2205, 2233: conjugating_set_helper -- Is it possible for different threads to find the same automorphism? I think "no" since the source set is fixed for all threads.

- 2379: need blank line at end of file


- need to update 32155




Finite field automorphism_group:

- do not have any dimension > 1 examples as well as a sanity check on the results:

```
R.<x,y,z> = ProjectiveSpace(GF(5),2)
f = DynamicalSystem_projective([x^3+x*z^2, y^3+y*z^2,z^3])
all([f.conjugate(m) == f for m in f.automorphism_group()])
```



field automorphism_group:

- num_cpus default = 2?  Why does this function default to 1 when the others default to 2.

- no interesting dim 2 examples


conjugating set:

- 6548: since 2 is the default should probably change to num_cpus=3

- 6727  "an" -> "can"  (not your error, but may as well fix it while we are working on this function



is_conjugate:

- default num_cpus = 2?



---

archive/issue_events_411679.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-27T14:01:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411679"
}
```



---

archive/issue_events_411680.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-27T14:01:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411680"
}
```



---

archive/issue_comments_521734.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e86a0827e91a2175903a015075902f3bc787d34\">6e86a08</a></td><td><code>Merge branch 'u/gh-EnderWannabe/fast_conjugating_set' of trac.sagemath.org:sage into fast_conjugating_set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/79cedf0b33140fe79ec40986b8ba673d1cf8ebfe\">79cedf0</a></td><td><code>32199: fixed documentation issues</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5b8913dcf63a1ebabef0994452b16473dc66231\">a5b8913</a></td><td><code>32155: fixed check for independence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/533213c9d6924ed009053b752e189652c055af9b\">533213c</a></td><td><code>32155: added check on n</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bbd2e166ef7b2ae04937db0309f2b15f55d2b5d1\">bbd2e16</a></td><td><code>Merge branch 'u/gh-EnderWannabe/is_linearly_independent' of trac.sagemath.org:sage into is_linearly_independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ce1ee4fcd7d210303a03ab74a5a2abdd2361a714\">ce1ee4f</a></td><td><code>Merge branch 'is_linearly_independent' into fast_conjugating_set</code></td></tr></table>\n",
    "created_at": "2021-07-27T19:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521734",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e86a0827e91a2175903a015075902f3bc787d34">6e86a08</a></td><td><code>Merge branch 'u/gh-EnderWannabe/fast_conjugating_set' of trac.sagemath.org:sage into fast_conjugating_set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/79cedf0b33140fe79ec40986b8ba673d1cf8ebfe">79cedf0</a></td><td><code>32199: fixed documentation issues</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5b8913dcf63a1ebabef0994452b16473dc66231">a5b8913</a></td><td><code>32155: fixed check for independence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/533213c9d6924ed009053b752e189652c055af9b">533213c</a></td><td><code>32155: added check on n</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bbd2e166ef7b2ae04937db0309f2b15f55d2b5d1">bbd2e16</a></td><td><code>Merge branch 'u/gh-EnderWannabe/is_linearly_independent' of trac.sagemath.org:sage into is_linearly_independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ce1ee4fcd7d210303a03ab74a5a2abdd2361a714">ce1ee4f</a></td><td><code>Merge branch 'is_linearly_independent' into fast_conjugating_set</code></td></tr></table>




---

archive/issue_comments_521735.json:
```json
{
    "body": "Changed commit from **[b882a6a](https://github.com/sagemath/sagetrac-mirror/commit/b882a6a8bb61edbf92ca95ed76d2337820c4cbaa)** to **[ce1ee4f](https://github.com/sagemath/sagetrac-mirror/commit/ce1ee4fcd7d210303a03ab74a5a2abdd2361a714)**",
    "created_at": "2021-07-27T19:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521735",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b882a6a](https://github.com/sagemath/sagetrac-mirror/commit/b882a6a8bb61edbf92ca95ed76d2337820c4cbaa)** to **[ce1ee4f](https://github.com/sagemath/sagetrac-mirror/commit/ce1ee4fcd7d210303a03ab74a5a2abdd2361a714)**



---

archive/issue_events_411681.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-27T19:50:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411681"
}
```



---

archive/issue_events_411682.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-07-27T19:50:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411682"
}
```



---

archive/issue_comments_521736.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nan error was introduced somewhere; looks like from the merging in the new #32155. Pretty much every example gives\n\n```\nValueError                                Traceback (most recent call last)\n<timed exec> in <module>\n\n~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py in conjugating_set(self, other, R, num_cpus)\n   6742             and (f.sigma_invariants(1) != g.sigma_invariants(1)):\n   6743             return []\n-> 6744         tup = conjugating_set_initializer(f, g)\n   6745         if tup == []:\n   6746             return []\n\n~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in conjugating_set_initializer(f, g)\n   1913     # does find a subset, then the subset will most likely minimize the combinatorics\n   1914     # of checking conjugations\n-> 1915     tup = greedy_independence_check(P, repeated_mult_L, point_to_mult_L)\n   1916     if not tup is None:\n   1917         more = False\n\n~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in greedy_independence_check(P, repeated_mult, point_to_mult)\n   2087         for point_lst in repeated_mult[r]:\n   2088             for point in point_lst:\n-> 2089                 if P.is_linearly_independent(source + [point], n+1):\n   2090                     source.append(point)\n   2091                     mult = point_to_mult[point]\n\n~/sage-test/local/lib/python3.9/site-packages/sage/schemes/projective/projective_space.py in is_linearly_independent(self, points, n)\n   1791         n = Integer(n)\n   1792         if n < 1 or n > len(points):\n-> 1793             raise ValueError('n must be a non negative integer not greater than the length of points')\n   1794         all_subsets = Subsets(range(len(points)), n)\n   1795         linearly_independent = True\n\nValueError: n must be a non negative integer not greater than the length of points\n```",
    "created_at": "2021-07-29T14:52:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521736",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:8'>Comment 8:</a>
an error was introduced somewhere; looks like from the merging in the new #32155. Pretty much every example gives

```
ValueError                                Traceback (most recent call last)
<timed exec> in <module>

~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/projective_ds.py in conjugating_set(self, other, R, num_cpus)
   6742             and (f.sigma_invariants(1) != g.sigma_invariants(1)):
   6743             return []
-> 6744         tup = conjugating_set_initializer(f, g)
   6745         if tup == []:
   6746             return []

~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in conjugating_set_initializer(f, g)
   1913     # does find a subset, then the subset will most likely minimize the combinatorics
   1914     # of checking conjugations
-> 1915     tup = greedy_independence_check(P, repeated_mult_L, point_to_mult_L)
   1916     if not tup is None:
   1917         more = False

~/sage-test/local/lib/python3.9/site-packages/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py in greedy_independence_check(P, repeated_mult, point_to_mult)
   2087         for point_lst in repeated_mult[r]:
   2088             for point in point_lst:
-> 2089                 if P.is_linearly_independent(source + [point], n+1):
   2090                     source.append(point)
   2091                     mult = point_to_mult[point]

~/sage-test/local/lib/python3.9/site-packages/sage/schemes/projective/projective_space.py in is_linearly_independent(self, points, n)
   1791         n = Integer(n)
   1792         if n < 1 or n > len(points):
-> 1793             raise ValueError('n must be a non negative integer not greater than the length of points')
   1794         all_subsets = Subsets(range(len(points)), n)
   1795         linearly_independent = True

ValueError: n must be a non negative integer not greater than the length of points
```



---

archive/issue_events_411683.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-29T14:52:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411683"
}
```



---

archive/issue_events_411684.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-07-29T14:52:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411684"
}
```



---

archive/issue_comments_521737.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e4139efa630e66aabf5fcf8301032b573d61a36\">6e4139e</a></td><td><code>32199: fixed call to is_linearly_independent</code></td></tr></table>\n",
    "created_at": "2021-07-29T14:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521737",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e4139efa630e66aabf5fcf8301032b573d61a36">6e4139e</a></td><td><code>32199: fixed call to is_linearly_independent</code></td></tr></table>




---

archive/issue_comments_521738.json:
```json
{
    "body": "Changed commit from **[ce1ee4f](https://github.com/sagemath/sagetrac-mirror/commit/ce1ee4fcd7d210303a03ab74a5a2abdd2361a714)** to **[6e4139e](https://github.com/sagemath/sagetrac-mirror/commit/6e4139efa630e66aabf5fcf8301032b573d61a36)**",
    "created_at": "2021-07-29T14:59:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521738",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ce1ee4f](https://github.com/sagemath/sagetrac-mirror/commit/ce1ee4fcd7d210303a03ab74a5a2abdd2361a714)** to **[6e4139e](https://github.com/sagemath/sagetrac-mirror/commit/6e4139efa630e66aabf5fcf8301032b573d61a36)**



---

archive/issue_comments_521739.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@bhutz](#comment%3A8):\n> looks like from the merging in the new #32155\n\nThe new version was backwards incompatible, whoops. Fix pushed",
    "created_at": "2021-07-29T15:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521739",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@bhutz](#comment%3A8):
> looks like from the merging in the new #32155

The new version was backwards incompatible, whoops. Fix pushed



---

archive/issue_comments_521740.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nok, that looks better. Just waiting on the merge conflict for #32155 now.",
    "created_at": "2021-07-29T15:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521740",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:11'>Comment 11:</a>
ok, that looks better. Just waiting on the merge conflict for #32155 now.



---

archive/issue_comments_521741.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/de42cd1d0fbd13b2cbb6c90c9a4791a230e45f2c\">de42cd1</a></td><td><code>Merge branch 'u/gh-EnderWannabe/fast_conjugating_set' of git://trac.sagemath.org/sage into fast_conjugating_set</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6e72dcaceb5784bdb3710e3228cff4858f98c330\">6e72dca</a></td><td><code>Merge branch 'u/gh-EnderWannabe/is_linearly_independent' of trac.sagemath.org:sage into is_linear_independent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8e7d19ec2ae40d2cd46ea51aef18b17c12f6d15\">f8e7d19</a></td><td><code>32155: remove unused import</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78212e8485fcfefba41a6fe09ed105ce682f0a69\">78212e8</a></td><td><code>Merge branch 'is_linearly_independent' into fast_conjugating_set</code></td></tr></table>\n",
    "created_at": "2021-08-03T16:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521741",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:12'>Comment 12:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/de42cd1d0fbd13b2cbb6c90c9a4791a230e45f2c">de42cd1</a></td><td><code>Merge branch 'u/gh-EnderWannabe/fast_conjugating_set' of git://trac.sagemath.org/sage into fast_conjugating_set</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6e72dcaceb5784bdb3710e3228cff4858f98c330">6e72dca</a></td><td><code>Merge branch 'u/gh-EnderWannabe/is_linearly_independent' of trac.sagemath.org:sage into is_linear_independent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8e7d19ec2ae40d2cd46ea51aef18b17c12f6d15">f8e7d19</a></td><td><code>32155: remove unused import</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78212e8485fcfefba41a6fe09ed105ce682f0a69">78212e8</a></td><td><code>Merge branch 'is_linearly_independent' into fast_conjugating_set</code></td></tr></table>




---

archive/issue_comments_521742.json:
```json
{
    "body": "Changed commit from **[6e4139e](https://github.com/sagemath/sagetrac-mirror/commit/6e4139efa630e66aabf5fcf8301032b573d61a36)** to **[78212e8](https://github.com/sagemath/sagetrac-mirror/commit/78212e8485fcfefba41a6fe09ed105ce682f0a69)**",
    "created_at": "2021-08-03T16:14:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521742",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6e4139e](https://github.com/sagemath/sagetrac-mirror/commit/6e4139efa630e66aabf5fcf8301032b573d61a36)** to **[78212e8](https://github.com/sagemath/sagetrac-mirror/commit/78212e8485fcfefba41a6fe09ed105ce682f0a69)**



---

archive/issue_comments_521743.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nMerged latest #32155",
    "created_at": "2021-08-03T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521743",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:13'>Comment 13:</a>
Merged latest #32155



---

archive/issue_events_411685.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-08-03T16:14:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411685"
}
```



---

archive/issue_events_411686.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-08-03T16:14:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411686"
}
```



---

archive/issue_events_411687.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-08-04T18:26:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411687"
}
```



---

archive/issue_events_411688.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-08-04T18:26:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411688"
}
```



---

archive/issue_comments_521744.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nNote that the patchbot has caught two failures:\n\n```\nFile \"src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py\", line 1841, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_initializer\nFailed example:\n    conjugating_set_initializer(f, f)\nExpected:\n    ([(-1 : 0 : 1), (0 : -1 : 1), (0 : 1 : 0), (1 : 0 : 0)],\n     [[[(-1 : 0 : 1), (0 : -1 : 1), (-1 : 1 : 0)], 2],\n     [[(0 : 1 : 0), (1 : 0 : 0), (1 : 1 : 1), (0 : 0 : 1)], 2]])\nGot:\n    ([(-1 : 1 : 0), (0 : -1 : 1), (1 : 1 : 1), (1 : 0 : 0)],\n     [[[(-1 : 1 : 0), (0 : -1 : 1), (-1 : 0 : 1)], 2],\n      [[(1 : 1 : 1), (1 : 0 : 0), (0 : 0 : 1), (0 : 1 : 0)], 2]])\n```\n\n```\nFile \"src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py\", line 2143, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_helper\nFailed example:\n    conjugating_set_helper(f, f, 2, source, possible_targets)\nExpected:\n    [\n    [1 0]  [0 1]\n    [0 1], [1 0]\n    ]\nGot:\n    [\n    [0 1]  [1 0]\n    [1 0], [0 1]\n    ]\n```",
    "created_at": "2021-08-04T18:26:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521744",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:14'>Comment 14:</a>
Note that the patchbot has caught two failures:

```
File "src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py", line 1841, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_initializer
Failed example:
    conjugating_set_initializer(f, f)
Expected:
    ([(-1 : 0 : 1), (0 : -1 : 1), (0 : 1 : 0), (1 : 0 : 0)],
     [[[(-1 : 0 : 1), (0 : -1 : 1), (-1 : 1 : 0)], 2],
     [[(0 : 1 : 0), (1 : 0 : 0), (1 : 1 : 1), (0 : 0 : 1)], 2]])
Got:
    ([(-1 : 1 : 0), (0 : -1 : 1), (1 : 1 : 1), (1 : 0 : 0)],
     [[[(-1 : 1 : 0), (0 : -1 : 1), (-1 : 0 : 1)], 2],
      [[(1 : 1 : 1), (1 : 0 : 0), (0 : 0 : 1), (0 : 1 : 0)], 2]])
```

```
File "src/sage/dynamics/arithmetic_dynamics/endPN_automorphism_group.py", line 2143, in sage.dynamics.arithmetic_dynamics.endPN_automorphism_group.conjugating_set_helper
Failed example:
    conjugating_set_helper(f, f, 2, source, possible_targets)
Expected:
    [
    [1 0]  [0 1]
    [0 1], [1 0]
    ]
Got:
    [
    [0 1]  [1 0]
    [1 0], [0 1]
    ]
```



---

archive/issue_comments_521745.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@bhutz](#comment%3A14):\n> Note that the patchbot has caught two failures\n\nTests pass for me locally. Not sure what is going on here",
    "created_at": "2021-08-04T19:10:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521745",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@bhutz](#comment%3A14):
> Note that the patchbot has caught two failures

Tests pass for me locally. Not sure what is going on here



---

archive/issue_comments_521746.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nMight it be a sorting problem with .peroiodic_points()?",
    "created_at": "2021-08-04T19:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521746",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:16'>Comment 16:</a>
Might it be a sorting problem with .peroiodic_points()?



---

archive/issue_comments_521747.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@bhutz](#comment%3A16):\n> Might it be a sorting problem with .peroiodic_points()?\n\nI'm not sure. Patchbot ran on two machines I think, and checking the logs the failures were different on each machine. The other machine shows these failures\n\n```\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_space.py\", line 1731, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent\nFailed example:\n    points = [P((1, 0)), P((1, 1))]\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 718, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1137, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[0]>\", line 1, in <module>\n        points = [P((Integer(1), Integer(0))), P((Integer(1), Integer(1)))]\n    NameError: name 'P' is not defined\n**********************************************************************\nFile \"src/sage/schemes/projective/projective_space.py\", line 1732, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent\nFailed example:\n    P.is_linearly_independent(points)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 718, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py\", line 1137, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[1]>\", line 1, in <module>\n        P.is_linearly_independent(points)\n    NameError: name 'P' is not defined\n**********************************************************************\n```\n\nThese don't seem like actual failures - P is defined on the line before. Also, the conjugating set examples pass on this machine.",
    "created_at": "2021-08-04T19:35:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521747",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@bhutz](#comment%3A16):
> Might it be a sorting problem with .peroiodic_points()?

I'm not sure. Patchbot ran on two machines I think, and checking the logs the failures were different on each machine. The other machine shows these failures

```
**********************************************************************
File "src/sage/schemes/projective/projective_space.py", line 1731, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent
Failed example:
    points = [P((1, 0)), P((1, 1))]
Exception raised:
    Traceback (most recent call last):
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 718, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1137, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[0]>", line 1, in <module>
        points = [P((Integer(1), Integer(0))), P((Integer(1), Integer(1)))]
    NameError: name 'P' is not defined
**********************************************************************
File "src/sage/schemes/projective/projective_space.py", line 1732, in sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent
Failed example:
    P.is_linearly_independent(points)
Exception raised:
    Traceback (most recent call last):
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 718, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/sage-patchbot/sage/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1137, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.schemes.projective.projective_space.ProjectiveSpace_ring.is_linearly_independent[1]>", line 1, in <module>
        P.is_linearly_independent(points)
    NameError: name 'P' is not defined
**********************************************************************
```

These don't seem like actual failures - P is defined on the line before. Also, the conjugating set examples pass on this machine.



---

archive/issue_comments_521748.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI also don't think these 2nd machine failures are real failures since these tests pass on all machines for #32155. So I'd focus on the first failures. Those seem more likely to be real failures, but we could wait for the patchbot to run again while we are waiting on #32155 to be cleared.",
    "created_at": "2021-08-04T19:52:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521748",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:18'>Comment 18:</a>
I also don't think these 2nd machine failures are real failures since these tests pass on all machines for #32155. So I'd focus on the first failures. Those seem more likely to be real failures, but we could wait for the patchbot to run again while we are waiting on #32155 to be cleared.



---

archive/issue_comments_521749.json:
```json
{
    "body": "Changed commit from **[78212e8](https://github.com/sagemath/sagetrac-mirror/commit/78212e8485fcfefba41a6fe09ed105ce682f0a69)** to **[eb218c1](https://github.com/sagemath/sagetrac-mirror/commit/eb218c1ee74abe7aeafaba8b6077246c33d85ca1)**",
    "created_at": "2021-08-04T20:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521749",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[78212e8](https://github.com/sagemath/sagetrac-mirror/commit/78212e8485fcfefba41a6fe09ed105ce682f0a69)** to **[eb218c1](https://github.com/sagemath/sagetrac-mirror/commit/eb218c1ee74abe7aeafaba8b6077246c33d85ca1)**



---

archive/issue_comments_521750.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb218c1ee74abe7aeafaba8b6077246c33d85ca1\">eb218c1</a></td><td><code>32199: removed unused imports attempted fix for example</code></td></tr></table>\n",
    "created_at": "2021-08-04T20:10:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521750",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb218c1ee74abe7aeafaba8b6077246c33d85ca1">eb218c1</a></td><td><code>32199: removed unused imports attempted fix for example</code></td></tr></table>




---

archive/issue_comments_521751.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nOk, lets wait for patchbot. I removed some unused imports in the last push",
    "created_at": "2021-08-04T20:11:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521751",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:20'>Comment 20:</a>
Ok, lets wait for patchbot. I removed some unused imports in the last push



---

archive/issue_comments_521752.json:
```json
{
    "body": "Changed commit from **[eb218c1](https://github.com/sagemath/sagetrac-mirror/commit/eb218c1ee74abe7aeafaba8b6077246c33d85ca1)** to **[0f73fcd](https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb)**",
    "created_at": "2021-08-05T17:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521752",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eb218c1](https://github.com/sagemath/sagetrac-mirror/commit/eb218c1ee74abe7aeafaba8b6077246c33d85ca1)** to **[0f73fcd](https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb)**



---

archive/issue_comments_521753.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb\">0f73fcd</a></td><td><code>32199: changed check in examples</code></td></tr></table>\n",
    "created_at": "2021-08-05T17:59:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521753",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb">0f73fcd</a></td><td><code>32199: changed check in examples</code></td></tr></table>




---

archive/issue_comments_521754.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nExamples are definitely causing errors. I pushed a branch which doesn't rely on directly comparing the strings.",
    "created_at": "2021-08-05T18:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521754",
    "user": "https://github.com/EnderWannabe"
}
```

<a id='comment:22'>Comment 22:</a>
Examples are definitely causing errors. I pushed a branch which doesn't rely on directly comparing the strings.



---

archive/issue_events_411689.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-08-05T18:32:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411689"
}
```



---

archive/issue_events_411690.json:
```json
{
    "actor": "https://github.com/EnderWannabe",
    "created_at": "2021-08-05T18:32:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411690"
}
```



---

archive/issue_events_411691.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-10T17:30:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411691"
}
```



---

archive/issue_events_411692.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-08-10T17:30:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411692"
}
```



---

archive/issue_comments_521755.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nlooks good.",
    "created_at": "2021-08-13T15:51:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521755",
    "user": "https://github.com/bhutz"
}
```

<a id='comment:25'>Comment 25:</a>
looks good.



---

archive/issue_events_411693.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-08-13T15:51:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411693"
}
```



---

archive/issue_events_411694.json:
```json
{
    "actor": "https://github.com/bhutz",
    "created_at": "2021-08-13T15:51:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411694"
}
```



---

archive/issue_comments_521756.json:
```json
{
    "body": "Changed branch from **[u/gh-EnderWannabe/fast_conjugating_set](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/fast_conjugating_set)** to **[0f73fcd](https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb)**",
    "created_at": "2021-10-19T20:30:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/32199#issuecomment-521756",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-EnderWannabe/fast_conjugating_set](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-EnderWannabe/fast_conjugating_set)** to **[0f73fcd](https://github.com/sagemath/sagetrac-mirror/commit/0f73fcd3009b174d88c6dc67a7a4e55afeaa6adb)**



---

archive/issue_events_411695.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-10-19T20:30:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411695"
}
```



---

archive/issue_events_411696.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "64dd2c46d4d0acf0dcf532f94e4c640cdc19cbbb",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-10-19T20:30:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/32199",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/32199#event-411696"
}
```
