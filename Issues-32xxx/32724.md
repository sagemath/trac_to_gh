# Issue 32724: Replace "... is SR" by isinstance(..., sage.rings.abc.SymbolicRing) to handle symbolic subrings

archive/issues_032487.json:
```json
{
    "body": "There are a number of tests `... is SR` in the Sage library, as found by `git grep 'is SR' src/sage/`\n\nThese tests ignore symbolic subrings, as constructed by `SR.subring(...)`.\n\nAll or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)` or `isinstance(..., sage.symbolic.ring.SymbolicRing)` (if the module already imports other things from `sage.symbolic`)\n\nIn addition to handling the case of subrings, this will help with modularization (#32601).\n\nWe leave a few uses of `is SR` to follow-up tickets #31988, #31999.\n\nCC:  @dkrenn @egourgoulhon @orlitzky\n\nBranch/Commit: ff83c4cbca77c709021afb00a5632b80f02e0683\n\nReviewer: Michael Orlitzky\n\nAuthor: Matthias Koeppe\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/32724\n\n",
    "closed_at": "2021-11-12T21:27:36Z",
    "created_at": "2021-10-19T16:48:05Z",
    "labels": [
        "component: symbolics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "Replace \"... is SR\" by isinstance(..., sage.rings.abc.SymbolicRing) to handle symbolic subrings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32724",
    "user": "https://github.com/mkoeppe"
}
```
There are a number of tests `... is SR` in the Sage library, as found by `git grep 'is SR' src/sage/`

These tests ignore symbolic subrings, as constructed by `SR.subring(...)`.

All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)` or `isinstance(..., sage.symbolic.ring.SymbolicRing)` (if the module already imports other things from `sage.symbolic`)

In addition to handling the case of subrings, this will help with modularization (#32601).

We leave a few uses of `is SR` to follow-up tickets #31988, #31999.

CC:  @dkrenn @egourgoulhon @orlitzky

Branch/Commit: ff83c4cbca77c709021afb00a5632b80f02e0683

Reviewer: Michael Orlitzky

Author: Matthias Koeppe

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/32724





---

archive/issue_comments_494839.json:
```json
{
    "body": "<a id='comment:2'></a>here's one such change, cherry-picked from #32601\n\n---\nNew commits:",
    "created_at": "2021-10-20T19:54:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494839",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:2'></a>here's one such change, cherry-picked from #32601

---
New commits:



---

archive/issue_comments_494840.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2021-11-01T03:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494840",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_494841.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-01T03:18:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494841",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494842.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-01T03:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494842",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494843.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-01T04:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494843",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494844.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,9 +2,10 @@\n \n These tests ignore symbolic subrings, as constructed by `SR.subring(...)`.\n \n-All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)`.\n+All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)` or `isinstance(..., sage.symbolic.ring.SymbolicRing)` (if the module already imports other things from `sage.symbolic`)\n \n In addition to handling the case of subrings, this will help with modularization (#32601).\n+\n \n Dependencies: #32665\n \n``````\n",
    "created_at": "2021-11-01T04:14:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494844",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,9 +2,10 @@
 
 These tests ignore symbolic subrings, as constructed by `SR.subring(...)`.
 
-All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)`.
+All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)` or `isinstance(..., sage.symbolic.ring.SymbolicRing)` (if the module already imports other things from `sage.symbolic`)
 
 In addition to handling the case of subrings, this will help with modularization (#32601).
+
 
 Dependencies: #32665
 
``````




---

archive/issue_comments_494845.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-01T05:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494845",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494846.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-01T05:46:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494846",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494847.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-11-01T06:00:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494847",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_494848.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n+There are a number of tests `... is SR` in the Sage library, as found by `git grep 'is SR' src/sage/`\n \n+These tests ignore symbolic subrings, as constructed by `SR.subring(...)`.\n+\n+All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)` or `isinstance(..., sage.symbolic.ring.SymbolicRing)` (if the module already imports other things from `sage.symbolic`)\n+\n+In addition to handling the case of subrings, this will help with modularization (#32601).\n+\n+We leave a few uses of `is SR` to follow-up tickets #31988, #31999.\n \n Dependencies: #32665\n \n``````\n",
    "created_at": "2021-11-01T06:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494848",
    "user": "https://github.com/mkoeppe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
+There are a number of tests `... is SR` in the Sage library, as found by `git grep 'is SR' src/sage/`
 
+These tests ignore symbolic subrings, as constructed by `SR.subring(...)`.
+
+All or most of these uses should be changed to `isinstance(..., sage.rings.abc.SymbolicRing)` or `isinstance(..., sage.symbolic.ring.SymbolicRing)` (if the module already imports other things from `sage.symbolic`)
+
+In addition to handling the case of subrings, this will help with modularization (#32601).
+
+We leave a few uses of `is SR` to follow-up tickets #31988, #31999.
 
 Dependencies: #32665
 
``````




---

archive/issue_comments_494849.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-11-01T06:03:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494849",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_494850.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-11-06T16:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494850",
    "user": "https://github.com/orlitzky"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_494851.json:
```json
{
    "body": "<a id='comment:13'></a>Now that we have a passing patchbot, this LGTM. I think \"the symbolic ring (or a symbolic subring)\" is awkward to repeat so many times and would be better phrased \"a symbolic ring,\" but it's not important.",
    "created_at": "2021-11-06T16:46:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494851",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:13'></a>Now that we have a passing patchbot, this LGTM. I think "the symbolic ring (or a symbolic subring)" is awkward to repeat so many times and would be better phrased "a symbolic ring," but it's not important.



---

archive/issue_comments_494852.json:
```json
{
    "body": "<a id='comment:14'></a>Thank you!\n\nI used this phrasing because I didn't want to think about the status of callable symbolic rings in this ticket.",
    "created_at": "2021-11-06T17:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494852",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:14'></a>Thank you!

I used this phrasing because I didn't want to think about the status of callable symbolic rings in this ticket.



---

archive/issue_comments_494853.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-11-12T21:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32724#issuecomment-494853",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_086636.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-11-12T21:27:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32724",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32724#event-86636"
}
```
