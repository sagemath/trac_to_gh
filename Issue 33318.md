# Issue 33318: refresh the file subword.py

Issue created by migration from https://trac.sagemath.org/ticket/33555

Original creator: chapoton

Original creation time: 2022-03-24 10:57:55

CC:  tscrim slelievre klee

various details:

- pep8 cleanup

- annotations

- add method `__ne__`

- tweaks in {{smallest_positions}}


---

Comment by chapoton created at 2022-03-24 10:58:28

New commits:


---

Comment by chapoton created at 2022-03-24 10:58:28

Changing status from new to needs_review.


---

Comment by chapoton created at 2022-03-25 10:14:56

green bot, so please review


---

Comment by tscrim created at 2022-03-27 04:59:56

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-03-27 04:59:56

One extra change would be `__repr__()` -> `_repr_()` (so `rename()` can work). If you don't want to do that, then you can set a positive review.


---

Comment by tscrim created at 2022-03-27 05:00:02

Changing status from positive_review to needs_review.


---

Comment by git created at 2022-03-27 07:24:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-03-27 07:25:12

thanks, ok, here we go.

This file seems to be used nowhere inside sage..


---

Comment by tscrim created at 2022-03-27 07:34:36

Thanks.

Indeed, but it is globally imported in `combinat.all`. Perhaps we should also take this opportunity to make it a `lazy_import`?


---

Comment by git created at 2022-03-27 08:07:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-03-27 08:07:31

good idea. Voilà


---

Comment by tscrim created at 2022-03-27 10:36:36

Thanks. LGTM.


---

Comment by slelievre created at 2022-03-27 10:57:21

For multiline imports, how about

- parentheses instead of line continuation with backslash?
- sorting by alphabet or theme (unless the order reflects
  dependencies among imports)?

For instance:

```diff
-from .combinat import bell_number, catalan_number, euler_number, fibonacci, \
-    lucas_number1, lucas_number2, stirling_number1, stirling_number2, \
-    polygonal_number, CombinatorialObject, CombinatorialClass, \
-    MapCombinatorialClass, \
-    tuples, number_of_tuples, unordered_tuples, number_of_unordered_tuples, \
-    bell_polynomial, fibonacci_sequence, fibonacci_xrange, bernoulli_polynomial
+from .combinat import (
+    CombinatorialClass, CombinatorialObject, MapCombinatorialClass,
+    bell_number, bell_polynomial, bernoulli_polynomial,
+    catalan_number, euler_number,
+    fibonacci, fibonacci_sequence, fibonacci_xrange,
+    lucas_number1, lucas_number2, polygonal_number,
+    stirling_number1, stirling_number2,
+    tuples, number_of_tuples,
+    unordered_tuples, number_of_unordered_tuples
+)
```


Maybe reword "inheritate from when needed"
to "inherit from it when needed".

Maybe rephrase:

```diff
-As repetition can occur in the initial word, the subwords of a given word is
-not a set in general but an enumerated multiset!
+As repetition can occur in the initial word, in general subwords
+of a given word form an enumerated multiset rather than a set!
```



---

Comment by git created at 2022-03-27 12:17:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2022-03-27 12:17:40

voilà, c'est fait


---

Comment by slelievre created at 2022-03-27 16:06:20

I think "inheritate" should be "inherit" if you can fix that too.

More long import lines could be wrapped but not necessarily here.

If bots green, good to go.


---

Comment by chapoton created at 2022-03-27 18:53:57

setting to positive, thanks


---

Comment by chapoton created at 2022-03-27 18:53:57

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-04-02 10:53:07

Resolution: fixed
