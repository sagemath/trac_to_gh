# Issue 13112: Some conversion between BooleanPolynomialRing and GF(2)[.....] are missing

archive/issues_013112.json:
```json
{
    "body": "Assignee: malb\n\nCC:  malb alexanderdreyer polybori\n\nKeywords: conversion\n\nFor some reason, it is impossible to directly build the (standard benchmark) cyclic ideals over BooleanPolynomialRing\n\n```\nsage: from sage.rings.ideal import Cyclic\nsage: R = BooleanPolynomialRing(10, 'x')\nsage: I = Cyclic(R)\n***BOOOM***\n....\nTypeError: cannot convert <type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'> to BooleanPolynomial\n```\n\n\nNote that there is a possible workaround:\n\n```\nsage: R = BooleanPolynomialRing(10, 'x')\nsage: R2 = PolynomialRing(GF(2), 10, 'x')\nsage: I = ideal([ R(f) for f in Cyclic(R2).gens()])\n```\n\n\nNote that from a mathematical point of view, this is not a very interesting example since this ideal is rather trivial in the boolean polynomial ring... yet something is wrong...\n\nIssue created by migration from https://trac.sagemath.org/ticket/13284\n\n",
    "created_at": "2012-07-23T14:58:55Z",
    "labels": [
        "commutative algebra",
        "minor",
        "bug"
    ],
    "title": "Some conversion between BooleanPolynomialRing and GF(2)[.....] are missing",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13112",
    "user": "Bouillaguet"
}
```
Assignee: malb

CC:  malb alexanderdreyer polybori

Keywords: conversion

For some reason, it is impossible to directly build the (standard benchmark) cyclic ideals over BooleanPolynomialRing

```
sage: from sage.rings.ideal import Cyclic
sage: R = BooleanPolynomialRing(10, 'x')
sage: I = Cyclic(R)
***BOOOM***
....
TypeError: cannot convert <type 'sage.rings.polynomial.multi_polynomial_libsingular.MPolynomial_libsingular'> to BooleanPolynomial
```


Note that there is a possible workaround:

```
sage: R = BooleanPolynomialRing(10, 'x')
sage: R2 = PolynomialRing(GF(2), 10, 'x')
sage: I = ideal([ R(f) for f in Cyclic(R2).gens()])
```


Note that from a mathematical point of view, this is not a very interesting example since this ideal is rather trivial in the boolean polynomial ring... yet something is wrong...

Issue created by migration from https://trac.sagemath.org/ticket/13284





---

archive/issue_comments_159536.json:
```json
{
    "body": "hm, good question. the `TypeError` arises from `BooleanPolynomialRing`'s `_element_constructor_`, but for conversions it should not go there. (As the workaround shows.)\nAlos, something like\n\n```\nR2.ideal(R2.gens()).change_ring(R)\n```\n\nworks nicely.",
    "created_at": "2012-07-24T09:01:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159536",
    "user": "AlexanderDreyer"
}
```

hm, good question. the `TypeError` arises from `BooleanPolynomialRing`'s `_element_constructor_`, but for conversions it should not go there. (As the workaround shows.)
Alos, something like

```
R2.ideal(R2.gens()).change_ring(R)
```

works nicely.



---

archive/issue_comments_159537.json:
```json
{
    "body": "Ok, just found out Cyclic computes internally over `QQ[x_1,...]`. There's no conversion for this case:\n\n```\nsage: R.has_coerce_map_from(GF(2))\nTrue\nsage: R.has_coerce_map_from(QQ)\nFalse\n```\n",
    "created_at": "2012-07-24T09:37:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159537",
    "user": "AlexanderDreyer"
}
```

Ok, just found out Cyclic computes internally over `QQ[x_1,...]`. There's no conversion for this case:

```
sage: R.has_coerce_map_from(GF(2))
True
sage: R.has_coerce_map_from(QQ)
False
```




---

archive/issue_comments_159538.json:
```json
{
    "body": "Indeed the conversion routines were missing. I've added a patch which should fix the problem. (May need rebasing).",
    "created_at": "2012-07-24T20:38:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159538",
    "user": "AlexanderDreyer"
}
```

Indeed the conversion routines were missing. I've added a patch which should fix the problem. (May need rebasing).



---

archive/issue_comments_159539.json:
```json
{
    "body": "I rebased the patch to Sage 5.2rc0, please\napply boolean_conversion.patch",
    "created_at": "2012-07-24T20:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159539",
    "user": "AlexanderDreyer"
}
```

I rebased the patch to Sage 5.2rc0, please
apply boolean_conversion.patch



---

archive/issue_comments_159540.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-24T20:47:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159540",
    "user": "AlexanderDreyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_159541.json:
```json
{
    "body": "Please fill in your real name as Author.",
    "created_at": "2012-07-27T20:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159541",
    "user": "jdemeyer"
}
```

Please fill in your real name as Author.



---

archive/issue_comments_159542.json:
```json
{
    "body": "Patch does what it's supposed to do, and passes the tests. Good to go !",
    "created_at": "2012-07-28T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159542",
    "user": "Bouillaguet"
}
```

Patch does what it's supposed to do, and passes the tests. Good to go !



---

archive/issue_comments_159543.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-07-28T12:59:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159543",
    "user": "Bouillaguet"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_159544.json:
```json
{
    "body": "This needs to be rebased to sage-5.2 (I accidentally removed the wrong patch).",
    "created_at": "2012-08-01T13:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159544",
    "user": "jdemeyer"
}
```

This needs to be rebased to sage-5.2 (I accidentally removed the wrong patch).



---

archive/issue_comments_159545.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-01T16:58:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159545",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_159546.json:
```json
{
    "body": "Rebased myself, needs review...\n\nNote: in general, it is not a good to add two versions of a patch for two different versions of Sage, *especially* if the latest patch is for the oldest version and *espcially* when there are no clear instructions on which patch to apply.",
    "created_at": "2012-08-01T17:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159546",
    "user": "jdemeyer"
}
```

Rebased myself, needs review...

Note: in general, it is not a good to add two versions of a patch for two different versions of Sage, *especially* if the latest patch is for the oldest version and *espcially* when there are no clear instructions on which patch to apply.



---

archive/issue_comments_159547.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-08-01T17:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159547",
    "user": "jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_159548.json:
```json
{
    "body": "Replying to [comment:12 jdemeyer]:\n> Rebased myself, needs review...\nIt matches my original 5.2 patch  up to one empty line and the `:trac:` construct. So I think, I can give positive review for this part.\n\n> Note: in general, it is not a good to add two versions of a patch for two different versions of Sage, *especially* if the latest patch is for the oldest version and *espcially* when there are no clear instructions on which patch to apply.\nSorry, I thought the patchbot data would be utilized.\n\nBTW we have to tell patchbot to \nApply 13284_boolean_conversion.patch",
    "created_at": "2012-08-01T19:54:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159548",
    "user": "AlexanderDreyer"
}
```

Replying to [comment:12 jdemeyer]:
> Rebased myself, needs review...
It matches my original 5.2 patch  up to one empty line and the `:trac:` construct. So I think, I can give positive review for this part.

> Note: in general, it is not a good to add two versions of a patch for two different versions of Sage, *especially* if the latest patch is for the oldest version and *espcially* when there are no clear instructions on which patch to apply.
Sorry, I thought the patchbot data would be utilized.

BTW we have to tell patchbot to 
Apply 13284_boolean_conversion.patch



---

archive/issue_comments_159549.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-08-01T19:55:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159549",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_159550.json:
```json
{
    "body": "This needs to be rebased to [sage-5.3.beta1](http://boxen.math.washington.edu/home/release/sage-5.3.beta1/).",
    "created_at": "2012-08-12T22:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159550",
    "user": "jdemeyer"
}
```

This needs to be rebased to [sage-5.3.beta1](http://boxen.math.washington.edu/home/release/sage-5.3.beta1/).



---

archive/issue_comments_159551.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2012-08-12T22:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159551",
    "user": "jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_159552.json:
```json
{
    "body": "Attachment\n\nI rebased the patch to 5.3rc1. Waiting for the patchbot to acknowledge....",
    "created_at": "2012-09-06T16:59:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159552",
    "user": "Bouillaguet"
}
```

Attachment

I rebased the patch to 5.3rc1. Waiting for the patchbot to acknowledge....



---

archive/issue_comments_159553.json:
```json
{
    "body": "Apply 13284_boolean_conversion_rebased-5.3rc1.patch",
    "created_at": "2012-09-06T16:59:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159553",
    "user": "Bouillaguet"
}
```

Apply 13284_boolean_conversion_rebased-5.3rc1.patch



---

archive/issue_comments_159554.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2012-09-06T17:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159554",
    "user": "Bouillaguet"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_159555.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2012-09-06T20:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159555",
    "user": "AlexanderDreyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_159556.json:
```json
{
    "body": "I can confirm, that the patch was rebased correctly.",
    "created_at": "2012-09-06T20:42:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159556",
    "user": "AlexanderDreyer"
}
```

I can confirm, that the patch was rebased correctly.



---

archive/issue_comments_159557.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2012-09-11T07:58:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13112",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13112#issuecomment-159557",
    "user": "jdemeyer"
}
```

Resolution: fixed
