# Issue 14639: Minor improvements to 4ti2 interface

archive/issues_014639.json:
```json
{
    "body": "Assignee: @miguelmarco\n\nCC:  @mwhansen broune mhampton\n\nKeywords: 4ti2\n\nHere is a patch that introduces these two minor improvements to 4ti2 interface:\n-It allows to pass the lattice to the methods instead of the matrix, using the lat parmeter.\n-Changes the verbose default to False, so we only get the output.\n\nExample:\n\n```\nsage: four_ti_2.graver(lat=[[1,2,3],[1,1,1]])\n[ 1  0 -1]\n[ 0  1  2]\n[ 1  1  1]\n[ 2  1  0]\n```\n\nIssue created by migration from https://trac.sagemath.org/ticket/14843\n\n",
    "closed_at": "2014-07-26T17:05:52Z",
    "created_at": "2013-06-30T23:32:35Z",
    "labels": [
        "component: interfaces"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.3",
    "title": "Minor improvements to 4ti2 interface",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/14639",
    "user": "https://github.com/miguelmarco"
}
```
Assignee: @miguelmarco

CC:  @mwhansen broune mhampton

Keywords: 4ti2

Here is a patch that introduces these two minor improvements to 4ti2 interface:
-It allows to pass the lattice to the methods instead of the matrix, using the lat parmeter.
-Changes the verbose default to False, so we only get the output.

Example:

```
sage: four_ti_2.graver(lat=[[1,2,3],[1,1,1]])
[ 1  0 -1]
[ 0  1  2]
[ 1  1  1]
[ 2  1  0]
```

Issue created by migration from https://trac.sagemath.org/ticket/14843





---

archive/issue_comments_186065.json:
```json
{
    "body": "Attachment [14843.patch](tarball://root/attachments/some-uuid/ticket14843/14843.patch) by @nexttime created at 2013-07-01 10:46:32\n\nJust curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n\n(IIRC there's a ticket for doing so, but I don't recall right now.)",
    "created_at": "2013-07-01T10:46:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186065",
    "user": "https://github.com/nexttime"
}
```

Attachment [14843.patch](tarball://root/attachments/some-uuid/ticket14843/14843.patch) by @nexttime created at 2013-07-01 10:46:32

Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?

(IIRC there's a ticket for doing so, but I don't recall right now.)



---

archive/issue_comments_186066.json:
```json
{
    "body": "Replying to [comment:1 leif]:\n> Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n> \n> (IIRC there's a ticket for doing so, but I don't recall right now.)\n\n\nThere's #13498 at least...",
    "created_at": "2013-07-01T11:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186066",
    "user": "https://github.com/nexttime"
}
```

Replying to [comment:1 leif]:
> Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?
> 
> (IIRC there's a ticket for doing so, but I don't recall right now.)


There's #13498 at least...



---

archive/issue_comments_186067.json:
```json
{
    "body": "Do you mean #13498?\n\nIn my case, 4ti2 spkg compiled without complaining... but it didn't detect GMP, and hence, didn't build the 4ti2gmp binary (which is used, for instance, by the groebner binary).\n\nIn order to use it, i had to link my system-wide 4ti2gmp to $SAGE/local/bin",
    "created_at": "2013-07-01T12:07:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186067",
    "user": "https://github.com/miguelmarco"
}
```

Do you mean #13498?

In my case, 4ti2 spkg compiled without complaining... but it didn't detect GMP, and hence, didn't build the 4ti2gmp binary (which is used, for instance, by the groebner binary).

In order to use it, i had to link my system-wide 4ti2gmp to $SAGE/local/bin



---

archive/issue_comments_186068.json:
```json
{
    "body": "Replying to [comment:2 leif]:\n> Replying to [comment:1 leif]:\n> > Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?\n> > \n> > (IIRC there's a ticket for doing so, but I don't recall right now.)\n\n> \n> There's #13498 at least...\n\n\nthere is #15172.",
    "created_at": "2013-09-07T13:39:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186068",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:2 leif]:
> Replying to [comment:1 leif]:
> > Just curious:  Is anyone of you working on fixing (/upgrading) the optional 4ti2 spkg?
> > 
> > (IIRC there's a ticket for doing so, but I don't recall right now.)

> 
> There's #13498 at least...


there is #15172.



---

archive/issue_comments_186069.json:
```json
{
    "body": "rebased for 4ti2-1.6, #15172",
    "created_at": "2013-09-08T12:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186069",
    "user": "https://github.com/dimpase"
}
```

rebased for 4ti2-1.6, #15172



---

archive/issue_comments_186070.json:
```json
{
    "body": "Attachment [14843_rebased_for_15172.patch](tarball://root/attachments/some-uuid/ticket14843/14843_rebased_for_15172.patch) by @dimpase created at 2013-09-08 13:04:33\n\nThe work on the interface to `4ti2` ought to be based on the version 1.6, for 1.3 is very old. Thus I made the ticket dependent on #15172, and attached the corresponding rebased patch.\n\nIt seems that `lat=` only makes sense for `zsolve`, but not for `qsolve`, `circuits`, `rays`. This is confirmed by the doctests as well as by the source code comments. Please rectify this.",
    "created_at": "2013-09-08T13:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186070",
    "user": "https://github.com/dimpase"
}
```

Attachment [14843_rebased_for_15172.patch](tarball://root/attachments/some-uuid/ticket14843/14843_rebased_for_15172.patch) by @dimpase created at 2013-09-08 13:04:33

The work on the interface to `4ti2` ought to be based on the version 1.6, for 1.3 is very old. Thus I made the ticket dependent on #15172, and attached the corresponding rebased patch.

It seems that `lat=` only makes sense for `zsolve`, but not for `qsolve`, `circuits`, `rays`. This is confirmed by the doctests as well as by the source code comments. Please rectify this.



---

archive/issue_comments_186071.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2013-09-08T13:04:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186071",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_events_042630.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14639#event-42630"
}
```



---

archive/issue_events_042631.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14639#event-42631"
}
```



---

archive/issue_events_042632.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14639#event-42632"
}
```



---

archive/issue_comments_186072.json:
```json
{
    "body": "I made a branch from the patch. Got two failing doctests on 6.3.beta6 :\n\n```\nFailed example:\n    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 0  1  2]\n    [ 1  0 -1]\n    [ 2  1  0]\nGot:\n    Error: Unable to find 4ti2 executable `4ti2gmp'\n    []\n```\nand\n\n```\nFailed example:\n    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [-1  0  1]\n    [ 2  1  0]\nGot:\n    Error: Unable to find 4ti2 executable `4ti2gmp'\n    []\n\n```\n\n---\nNew commits:",
    "created_at": "2014-07-25T14:56:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186072",
    "user": "https://github.com/fchapoton"
}
```

I made a branch from the patch. Got two failing doctests on 6.3.beta6 :

```
Failed example:
    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 0  1  2]
    [ 1  0 -1]
    [ 2  1  0]
Got:
    Error: Unable to find 4ti2 executable `4ti2gmp'
    []
```
and

```
Failed example:
    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])
Expected:
    [-1  0  1]
    [ 2  1  0]
Got:
    Error: Unable to find 4ti2 executable `4ti2gmp'
    []

```

---
New commits:



---

archive/issue_comments_186073.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2014-07-25T14:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186073",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_comments_186074.json:
```json
{
    "body": "Replying to [comment:9 chapoton]:\nDid you do `sage -i 4ti2` ? If yes, then\ndo you have `4ti2gmp` in `SAGE_LOCAL/bin` ?",
    "created_at": "2014-07-25T15:07:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186074",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:9 chapoton]:
Did you do `sage -i 4ti2` ? If yes, then
do you have `4ti2gmp` in `SAGE_LOCAL/bin` ?



---

archive/issue_comments_186075.json:
```json
{
    "body": "I had just installed 4ti2, before running the tests. But there is no `4ti2gmp` in `SAGE_LOCAL/bin`, only 4ti2int32 and 4ti2int64.",
    "created_at": "2014-07-25T18:15:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186075",
    "user": "https://github.com/fchapoton"
}
```

I had just installed 4ti2, before running the tests. But there is no `4ti2gmp` in `SAGE_LOCAL/bin`, only 4ti2int32 and 4ti2int64.



---

archive/issue_comments_186076.json:
```json
{
    "body": "I can't reproduce this, I just tried installing 4ti2 on the latest Sage beta (on 64-bit Fedora Linux), and got it all there:\n\n```\nsage-6.3.beta6/local/bin]$ ls -l 4ti*\n-rwxr-xr-x 1 dimpase tcs-staff 55501 Jul 25 16:17 4ti2gmp\n-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int32\n-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int64\n```\n\nplease look into your install log to see is something has failed...\n\nPS. It also works for me on OSX 10.9.4.",
    "created_at": "2014-07-25T18:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186076",
    "user": "https://github.com/dimpase"
}
```

I can't reproduce this, I just tried installing 4ti2 on the latest Sage beta (on 64-bit Fedora Linux), and got it all there:

```
sage-6.3.beta6/local/bin]$ ls -l 4ti*
-rwxr-xr-x 1 dimpase tcs-staff 55501 Jul 25 16:17 4ti2gmp
-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int32
-rwxr-xr-x 1 dimpase tcs-staff 55553 Jul 25 16:17 4ti2int64
```

please look into your install log to see is something has failed...

PS. It also works for me on OSX 10.9.4.



---

archive/issue_comments_186077.json:
```json
{
    "body": "hmm, do you know where the log is ?\n\nfound in the log:\n\n```\nchecking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n4ti2 will be built without support for arbitrary-precision computations.\nconfigure: WARNING: Unable to use the GNU MP C++ library.\nPlease make sure that GNU MP was configured with \"--enable-cxx\".\n4ti2 will be built without support for arbitrary-precision computations.\n```",
    "created_at": "2014-07-25T18:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186077",
    "user": "https://github.com/fchapoton"
}
```

hmm, do you know where the log is ?

found in the log:

```
checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
4ti2 will be built without support for arbitrary-precision computations.
configure: WARNING: Unable to use the GNU MP C++ library.
Please make sure that GNU MP was configured with "--enable-cxx".
4ti2 will be built without support for arbitrary-precision computations.
```



---

archive/issue_comments_186078.json:
```json
{
    "body": "On another machine (where 4ti2gmp is present), got just one failure:\n\n```\nFailed example:\n    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 0  1  2]\n    [ 1  0 -1]\n    [ 2  1  0]\nGot:\n    ERROR: No constraint matrix specified.\n    ERROR: Expected matrix in 'project_3.mat'\n    []\n```",
    "created_at": "2014-07-25T18:42:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186078",
    "user": "https://github.com/fchapoton"
}
```

On another machine (where 4ti2gmp is present), got just one failure:

```
Failed example:
    four_ti_2.circuits(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 0  1  2]
    [ 1  0 -1]
    [ 2  1  0]
Got:
    ERROR: No constraint matrix specified.
    ERROR: Expected matrix in 'project_3.mat'
    []
```



---

archive/issue_comments_186079.json:
```json
{
    "body": "Replying to [comment:13 chapoton]:\n> hmm, do you know where the log is ?\n> \n> found in the log:\n> \n> ```\n> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.\n> 4ti2 will be built without support for arbitrary-precision computations.\n> configure: WARNING: Unable to use the GNU MP C++ library.\n> Please make sure that GNU MP was configured with \"--enable-cxx\".\n> 4ti2 will be built without support for arbitrary-precision computations.\n> ```\n\nIt all works for me. Looks like your're either installing a wrong spkg, or something along these lines.\nAttach the complete log here...",
    "created_at": "2014-07-25T19:03:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186079",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:13 chapoton]:
> hmm, do you know where the log is ?
> 
> found in the log:
> 
> ```
> checking for GMP >= 3.1.1... configure: WARNING: GNU MP not found.
> 4ti2 will be built without support for arbitrary-precision computations.
> configure: WARNING: Unable to use the GNU MP C++ library.
> Please make sure that GNU MP was configured with "--enable-cxx".
> 4ti2 will be built without support for arbitrary-precision computations.
> ```

It all works for me. Looks like your're either installing a wrong spkg, or something along these lines.
Attach the complete log here...



---

archive/issue_comments_186080.json:
```json
{
    "body": "Attachment [4ti2.log](tarball://root/attachments/some-uuid/ticket14843/4ti2.log) by @fchapoton created at 2014-07-25 19:16:30\n\nlog of the install of 4ti2",
    "created_at": "2014-07-25T19:16:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186080",
    "user": "https://github.com/fchapoton"
}
```

Attachment [4ti2.log](tarball://root/attachments/some-uuid/ticket14843/4ti2.log) by @fchapoton created at 2014-07-25 19:16:30

log of the install of 4ti2



---

archive/issue_comments_186081.json:
```json
{
    "body": "I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg\n\nHere is the log for the \"unique failure, gmp present\" case",
    "created_at": "2014-07-25T19:17:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186081",
    "user": "https://github.com/fchapoton"
}
```

I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg

Here is the log for the "unique failure, gmp present" case



---

archive/issue_comments_186082.json:
```json
{
    "body": "Replying to [comment:16 chapoton]:\n> I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg\n> \n> Here is the log for the \"unique failure, gmp present\" case\n\nwell, there is nothing interesting in the log in this case, I gather.\n\nI think I never claimed that the patch I provided worked. Look at the comment 5 above. In particular it says that `circuits` don't seem to work with `lat=`.",
    "created_at": "2014-07-25T19:50:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186082",
    "user": "https://github.com/dimpase"
}
```

Replying to [comment:16 chapoton]:
> I am using `sage -i 4ti2`, which installs /4ti2-1.6.2.spkg
> 
> Here is the log for the "unique failure, gmp present" case

well, there is nothing interesting in the log in this case, I gather.

I think I never claimed that the patch I provided worked. Look at the comment 5 above. In particular it says that `circuits` don't seem to work with `lat=`.



---

archive/issue_comments_186083.json:
```json
{
    "body": "So i guess that means that the doctest is wrong. It should be removed, right?",
    "created_at": "2014-07-25T20:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186083",
    "user": "https://github.com/miguelmarco"
}
```

So i guess that means that the doctest is wrong. It should be removed, right?



---

archive/issue_comments_186084.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-07-25T20:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186084",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_186085.json:
```json
{
    "body": "Looks good.\n\n---\nNew commits:",
    "created_at": "2014-07-25T20:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186085",
    "user": "https://github.com/dimpase"
}
```

Looks good.

---
New commits:



---

archive/issue_comments_186086.json:
```json
{
    "body": "Full name for author next time...",
    "created_at": "2014-07-26T00:06:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186086",
    "user": "https://github.com/vbraun"
}
```

Full name for author next time...



---

archive/issue_comments_186087.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2014-07-26T01:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186087",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_186088.json:
```json
{
    "body": "I guess these should be `#optional`\n\n```\nsage -t --long src/sage/interfaces/four_ti_2.py\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 376, in sage.interfaces.four_ti_2.FourTi2.hilbert\nFailed example:\n    four_ti_2.hilbert(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [2 1 0]\n    [0 1 2]\n    [1 1 1]\nGot:\n    /bin/sh: hilbert: command not found\n    []\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 399, in sage.interfaces.four_ti_2.FourTi2.graver\nFailed example:\n    four_ti_2.graver(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [ 1  0 -1]\n    [ 0  1  2]\n    [ 1  1  1]\n    [ 2  1  0]\nGot:\n    /bin/sh: graver: command not found\n    []\n**********************************************************************\nFile \"src/sage/interfaces/four_ti_2.py\", line 474, in sage.interfaces.four_ti_2.FourTi2.groebner\nFailed example:\n    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])\nExpected:\n    [-1  0  1]\n    [ 2  1  0]\nGot:\n    /bin/sh: groebner: command not found\n    []\n**********************************************************************\n3 items had failures:\n   1 of   3 in sage.interfaces.four_ti_2.FourTi2.graver\n   1 of   4 in sage.interfaces.four_ti_2.FourTi2.groebner\n   1 of   3 in sage.interfaces.four_ti_2.FourTi2.hilbert\n    [41 tests, 3 failures, 0.17 s]\n```",
    "created_at": "2014-07-26T01:15:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186088",
    "user": "https://github.com/vbraun"
}
```

I guess these should be `#optional`

```
sage -t --long src/sage/interfaces/four_ti_2.py
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 376, in sage.interfaces.four_ti_2.FourTi2.hilbert
Failed example:
    four_ti_2.hilbert(lat=[[1,2,3],[1,1,1]])
Expected:
    [2 1 0]
    [0 1 2]
    [1 1 1]
Got:
    /bin/sh: hilbert: command not found
    []
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 399, in sage.interfaces.four_ti_2.FourTi2.graver
Failed example:
    four_ti_2.graver(lat=[[1,2,3],[1,1,1]])
Expected:
    [ 1  0 -1]
    [ 0  1  2]
    [ 1  1  1]
    [ 2  1  0]
Got:
    /bin/sh: graver: command not found
    []
**********************************************************************
File "src/sage/interfaces/four_ti_2.py", line 474, in sage.interfaces.four_ti_2.FourTi2.groebner
Failed example:
    four_ti_2.groebner(lat=[[1,2,3],[1,1,1]])
Expected:
    [-1  0  1]
    [ 2  1  0]
Got:
    /bin/sh: groebner: command not found
    []
**********************************************************************
3 items had failures:
   1 of   3 in sage.interfaces.four_ti_2.FourTi2.graver
   1 of   4 in sage.interfaces.four_ti_2.FourTi2.groebner
   1 of   3 in sage.interfaces.four_ti_2.FourTi2.hilbert
    [41 tests, 3 failures, 0.17 s]
```



---

archive/issue_comments_186089.json:
```json
{
    "body": "I have added the optional to doctests where needed, plus replaced a few `...` by `....:` and a few `Runs` by `Run`\n\n---\nNew commits:",
    "created_at": "2014-07-26T07:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186089",
    "user": "https://github.com/fchapoton"
}
```

I have added the optional to doctests where needed, plus replaced a few `...` by `....:` and a few `Runs` by `Run`

---
New commits:



---

archive/issue_comments_186090.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-07-26T07:56:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186090",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_186091.json:
```json
{
    "body": "OK, it's now good. Sorry for missing proper #optional tags in the previous try.",
    "created_at": "2014-07-26T11:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186091",
    "user": "https://github.com/dimpase"
}
```

OK, it's now good. Sorry for missing proper #optional tags in the previous try.



---

archive/issue_comments_186092.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-07-26T11:37:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186092",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_186093.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-07-26T17:05:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/14639#issuecomment-186093",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_042633.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-26T17:05:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/14639",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/14639#event-42633"
}
```
