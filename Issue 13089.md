# Issue 13089: Update SageTeX documentation on use with TeXShop

archive/issues_013089.json:
```json
{
    "body": "Assignee: mvngu\n\nSection 2.3 of the SageTeX documentation (\"Using TeXShop\") is incomplete.  It mentions the \"%!TEX\" string, but more details are either necessary or potentially helpful.\n\nThe following text should replace the text after the discussion of the sage engine:\n\nOnce the file `sage.engine' is placed in the `Engines' directory, TeXShop should be restarted so that it recognizes the new engine.\n\nThe engine is invoked in one of two ways.  The first is by selecting it in the pulldown menu to the right of the \"Typeset\" button.  The second is by putting the following line\n     %!TEX TS-program = sage\nwith the first 12 lines at the beginning of the .tex file in question.  Note that, in this line, there must be exactly one space on either side of the \"=\".  Note that the \"%TEX\" string is only useful when the file is typeset with TeXShop.\n\nIssue created by migration from https://trac.sagemath.org/ticket/13261\n\n",
    "created_at": "2012-07-16T20:01:51Z",
    "labels": [
        "documentation",
        "major"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Update SageTeX documentation on use with TeXShop",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13089",
    "user": "justin"
}
```
Assignee: mvngu

Section 2.3 of the SageTeX documentation ("Using TeXShop") is incomplete.  It mentions the "%!TEX" string, but more details are either necessary or potentially helpful.

The following text should replace the text after the discussion of the sage engine:

Once the file `sage.engine' is placed in the `Engines' directory, TeXShop should be restarted so that it recognizes the new engine.

The engine is invoked in one of two ways.  The first is by selecting it in the pulldown menu to the right of the "Typeset" button.  The second is by putting the following line
     %!TEX TS-program = sage
with the first 12 lines at the beginning of the .tex file in question.  Note that, in this line, there must be exactly one space on either side of the "=".  Note that the "%TEX" string is only useful when the file is typeset with TeXShop.

Issue created by migration from https://trac.sagemath.org/ticket/13261





---

archive/issue_comments_159255.json:
```json
{
    "body": "New .spkg containing modified sagetex.dtx",
    "created_at": "2012-07-16T21:00:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159255",
    "user": "justin"
}
```

New .spkg containing modified sagetex.dtx



---

archive/issue_comments_159256.json:
```json
{
    "body": "Attachment [sagetex-2.3.3.p3.spkg](tarball://root/attachments/some-uuid/ticket13261/sagetex-2.3.3.p3.spkg) by justin created at 2012-07-16 21:03:31",
    "created_at": "2012-07-16T21:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159256",
    "user": "justin"
}
```

Attachment [sagetex-2.3.3.p3.spkg](tarball://root/attachments/some-uuid/ticket13261/sagetex-2.3.3.p3.spkg) by justin created at 2012-07-16 21:03:31



---

archive/issue_comments_159257.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to defect.",
    "created_at": "2012-07-16T21:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159257",
    "user": "justin"
}
```

Changing type from PLEASE CHANGE to defect.



---

archive/issue_comments_159258.json:
```json
{
    "body": "Changing keywords from \"\" to \"TeX, SageTeX\".",
    "created_at": "2012-07-16T21:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159258",
    "user": "justin"
}
```

Changing keywords from "" to "TeX, SageTeX".



---

archive/issue_comments_159259.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-07-16T21:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159259",
    "user": "justin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_159260.json:
```json
{
    "body": "You should probably report this [upstream](https://bitbucket.org/ddrake/sagetex) as well.",
    "created_at": "2012-07-16T21:25:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159260",
    "user": "iandrus"
}
```

You should probably report this [upstream](https://bitbucket.org/ddrake/sagetex) as well.



---

archive/issue_comments_159261.json:
```json
{
    "body": "Replying to [comment:2 iandrus]:\n> You should probably report this [upstream](https://bitbucket.org/ddrake/sagetex) as well.\n\nJust checked the upstream site, but I don't see a way to report bugs.  Am I missing something obvious?",
    "created_at": "2012-07-16T22:46:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159261",
    "user": "justin"
}
```

Replying to [comment:2 iandrus]:
> You should probably report this [upstream](https://bitbucket.org/ddrake/sagetex) as well.

Just checked the upstream site, but I don't see a way to report bugs.  Am I missing something obvious?



---

archive/issue_comments_159262.json:
```json
{
    "body": "Replying to [comment:3 justin]:\n> Just checked the upstream site, but I don't see a way to report bugs.  Am I missing something obvious?\n\nI don't know \"obvious\" it is, but I read sage-devel, so mentioning it there is as good as \"reporting upstream\". :)  You can also email me directly.\n\nI can pull a diff out of your spkg. I'll try to get to this later this week.",
    "created_at": "2012-07-17T01:10:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159262",
    "user": "ddrake"
}
```

Replying to [comment:3 justin]:
> Just checked the upstream site, but I don't see a way to report bugs.  Am I missing something obvious?

I don't know "obvious" it is, but I read sage-devel, so mentioning it there is as good as "reporting upstream". :)  You can also email me directly.

I can pull a diff out of your spkg. I'll try to get to this later this week.



---

archive/issue_comments_159263.json:
```json
{
    "body": "Please fill in your real name as Author.",
    "created_at": "2012-07-27T20:39:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159263",
    "user": "jdemeyer"
}
```

Please fill in your real name as Author.



---

archive/issue_comments_159264.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-09-19T01:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159264",
    "user": "kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_159265.json:
```json
{
    "body": "The changes apparently were done in the source itself, not with a patch, there is no SPKG.txt change, Mercurial change, etc., so this needs work.  Notwithstanding that I'm sure the change itself is good - I struggled quite a while with exactly this issue a little over a year ago, so it's needed!",
    "created_at": "2012-09-19T01:28:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159265",
    "user": "kcrisman"
}
```

The changes apparently were done in the source itself, not with a patch, there is no SPKG.txt change, Mercurial change, etc., so this needs work.  Notwithstanding that I'm sure the change itself is good - I struggled quite a while with exactly this issue a little over a year ago, so it's needed!



---

archive/issue_comments_159266.json:
```json
{
    "body": "Here's the patch from the spkg.\n\n```diff\n\ndiff -Naur sagetex-2.3.3.p3/src/sagetex.dtx sagetex-2.3.3.p2/src/sagetex.dtx\n--- sagetex-2.3.3.p3/src/sagetex.dtx    2012-07-16 16:25:17.000000000 -0400\n+++ sagetex-2.3.3.p2/src/sagetex.dtx    2012-01-16 01:40:54.000000000 -0500\n@@ -384,27 +384,19 @@\n %\n % Starting with version 2.25,\n % \\href{http://www.uoregon.edu/~koch/texshop/}{\\TeX Shop} includes\n-% support for \\ST. You must move the file |sage.engine| from\n+% support for \\ST. If you move the file |sage.engine| from\n % |~/Library/TeXShop/Engines/Inactive/Sage| to\n-% |~/Library/TeXShop/Engines| in order for \\TeX Shop to typeset a\n-% file using \\ST. Once the file |sage.engine| is placed in the\n-% |Engines| directory, \\TeX Shop should be restarted so that it recognizes\n-% the new engine.\n-\n-% The engine is invoked in one of two ways.  The first is by selecting\n-% it in the pulldown menu to the right of the \"Typeset\" button.  The\n-% second is by putting the following line\n-     |%!TEX TS-program = sage|\n-% with the first 12 lines at the beginning of the .tex file in question.\n-%  Note that, in this line, there must be exactly one space on either\n-% side of the \"=\".  Either method assures that \\TeX Shop will\n-% automatically run Sage for you when compiling your document. Note that\n-% the |\"%TEX\"| string is only useful when typesetting with \\TeX Shop.\n+% |~/Library/TeXShop/Engines| and put the line\n+% \\begin{quotation}\n+%   |%!TEX TS-program = sage|\n+% \\end{quotation}\n+% at the top of your document, then \\TeX Shop will automatically run Sage\n+% for you when compiling your document.\n %\n % Note that you will need to make sure that \\LTX can find |sagetex.sty|\n-% using any of the methods above. Unless you installed Sage in /Applications,\n-% you will need to edit the |sage.engine| script to reflect the location of\n-% your Sage installation.\n+% using any of the methods above. You also might need to edit the\n+% |sage.engine| script to reflect the location of your Sage\n+% installation.\n %\n % \\subsection{Other scripts included with \\ST}\n % \\label{sec:inst-other-scripts}\n```\n\nI wonder whether we should still keep the part about the pulldown menu; it's not in this patch, but why couldn't it be?",
    "created_at": "2012-10-02T01:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159266",
    "user": "kcrisman"
}
```

Here's the patch from the spkg.

```diff

diff -Naur sagetex-2.3.3.p3/src/sagetex.dtx sagetex-2.3.3.p2/src/sagetex.dtx
--- sagetex-2.3.3.p3/src/sagetex.dtx    2012-07-16 16:25:17.000000000 -0400
+++ sagetex-2.3.3.p2/src/sagetex.dtx    2012-01-16 01:40:54.000000000 -0500
@@ -384,27 +384,19 @@
 %
 % Starting with version 2.25,
 % \href{http://www.uoregon.edu/~koch/texshop/}{\TeX Shop} includes
-% support for \ST. You must move the file |sage.engine| from
+% support for \ST. If you move the file |sage.engine| from
 % |~/Library/TeXShop/Engines/Inactive/Sage| to
-% |~/Library/TeXShop/Engines| in order for \TeX Shop to typeset a
-% file using \ST. Once the file |sage.engine| is placed in the
-% |Engines| directory, \TeX Shop should be restarted so that it recognizes
-% the new engine.
-
-% The engine is invoked in one of two ways.  The first is by selecting
-% it in the pulldown menu to the right of the "Typeset" button.  The
-% second is by putting the following line
-     |%!TEX TS-program = sage|
-% with the first 12 lines at the beginning of the .tex file in question.
-%  Note that, in this line, there must be exactly one space on either
-% side of the "=".  Either method assures that \TeX Shop will
-% automatically run Sage for you when compiling your document. Note that
-% the |"%TEX"| string is only useful when typesetting with \TeX Shop.
+% |~/Library/TeXShop/Engines| and put the line
+% \begin{quotation}
+%   |%!TEX TS-program = sage|
+% \end{quotation}
+% at the top of your document, then \TeX Shop will automatically run Sage
+% for you when compiling your document.
 %
 % Note that you will need to make sure that \LTX can find |sagetex.sty|
-% using any of the methods above. Unless you installed Sage in /Applications,
-% you will need to edit the |sage.engine| script to reflect the location of
-% your Sage installation.
+% using any of the methods above. You also might need to edit the
+% |sage.engine| script to reflect the location of your Sage
+% installation.
 %
 % \subsection{Other scripts included with \ST}
 % \label{sec:inst-other-scripts}
```

I wonder whether we should still keep the part about the pulldown menu; it's not in this patch, but why couldn't it be?



---

archive/issue_comments_159267.json:
```json
{
    "body": "See also #18951, which is probably the same.",
    "created_at": "2015-08-14T13:50:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159267",
    "user": "kcrisman"
}
```

See also #18951, which is probably the same.



---

archive/issue_comments_159268.json:
```json
{
    "body": "Strangely, the above patch is in SageTeX. Original commit: https://github.com/dandrake/sagetex/commit/4f59c587; that is current: https://github.com/dandrake/sagetex/blob/master/sagetex.dtx#L381.\n\n\nI propose this ticket be closed.",
    "created_at": "2015-08-26T17:11:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159268",
    "user": "ddrake"
}
```

Strangely, the above patch is in SageTeX. Original commit: https://github.com/dandrake/sagetex/commit/4f59c587; that is current: https://github.com/dandrake/sagetex/blob/master/sagetex.dtx#L381.


I propose this ticket be closed.



---

archive/issue_comments_159269.json:
```json
{
    "body": "Okay, seems reasonable.  I'll think more about #18951 - the problem is that a lot of that ticket came from someone experiencing problems that I couldn't verify since I wasn't on site, so it's possible there was some other issue, as you say.",
    "created_at": "2015-08-26T19:52:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159269",
    "user": "kcrisman"
}
```

Okay, seems reasonable.  I'll think more about #18951 - the problem is that a lot of that ticket came from someone experiencing problems that I couldn't verify since I wasn't on site, so it's possible there was some other issue, as you say.



---

archive/issue_comments_159270.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-08-26T19:53:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159270",
    "user": "kcrisman"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_159271.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2015-09-12T14:00:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13089#issuecomment-159271",
    "user": "vbraun"
}
```

Resolution: invalid
