# Issue 32740: sage.features: Remove dependency on sage.misc.lazy_string

Issue created by migration from https://trac.sagemath.org/ticket/32977

Original creator: mkoeppe

Original creation time: 2021-12-05 02:58:50

CC:  klee slabbe




---

Comment by mkoeppe created at 2021-12-05 03:18:43

New commits:


---

Comment by mkoeppe created at 2021-12-05 03:18:43

Changing status from new to needs_review.


---

Comment by klee created at 2021-12-05 08:53:18

Perhaps 

```diff
diff --git a/src/sage/features/__init__.py b/src/sage/features/__init__.py
index 73511b91a7..2617a13ebc 100644
--- a/src/sage/features/__init__.py
+++ b/src/sage/features/__init__.py
@@ -293,7 +293,7 @@ class FeatureNotPresentError(RuntimeError):
             lines.append(self.reason)
         resolution = self.resolution
         if resolution:
-            lines.append(str(resolution))
+            lines.append(resolution)
         return "\n".join(lines)
```



---

Comment by mkoeppe created at 2021-12-05 09:20:05

I kept the `str` in case some user-defined `Feature` uses lazy strings


---

Comment by klee created at 2021-12-05 10:56:07

Replying to [comment:4 mkoeppe]:
> I kept the `str` in case some user-defined `Feature` uses lazy strings 

Okay if you intended, though I doubt user-defined Feature is realistic.

Anyway, the branch looks good.


---

Comment by klee created at 2021-12-05 10:56:07

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-12-05 17:18:13

Thanks!


---

Comment by vbraun created at 2022-01-04 22:51:10

Resolution: fixed
