# Issue 28367: CombinatorialPolyhedron: ridge_graph -> facet_graph

Issue created by migration from https://trac.sagemath.org/ticket/28604

Original creator: @kliem

Original creation time: 2019-10-15 08:07:48

CC:  jipilab @laisrast

Keywords: polytopes, combinatorial polyhedron

In order to make `CombinatorialPolyhedron` more consistent with `Polyhedron`, we replace `ridge_graph` by `facet_graph`.

In case of of the half space this makes a difference, as there is a facet, but no ridges.

For now we keep `ridge_graph` and add a deprecation warning.


---

Comment by @kliem created at 2019-10-15 08:22:54

Changing status from new to needs_review.


---

Comment by @kliem created at 2019-10-15 08:22:54

New commits:


---

Comment by @LaisRast created at 2019-10-15 09:52:27

Changing status from needs_review to needs_work.


---

Comment by @LaisRast created at 2019-10-15 09:52:27

`facet_graph` does not work for non-full-dimensional polyhedra:

```
    sage: C = CombinatorialPolyhedron(polytopes.hypersimplex(5,2)); C
    A 4-dimensional combinatorial polyhedron with 10 facets
    sage: C.facet_graph()
    Graph on 20 vertices
```

The problem arises since each facet in `C.ridges(names=True, add_equalities=True)` is represented as (equation, inequality), while in `C.face_iter(C.dimension() - 1, dual=False))`, each facet is represented as (inequality, equation).

`facet_graph` does not work when `names=False`:

```
    sage: C = CombinatorialPolyhedron(polytopes.cube()); C
    A 3-dimensional combinatorial polyhedron with 6 facets
    sage: C.facet_graph(names=False)
    Graph on 12 vertices
```

The problem arises since`facet.Hrepr(names=False)` returns a tuple, for example `(5,)`. While in `C.ridges(names=False)`, each facet is represented by a number.


---

Comment by git created at 2019-10-15 11:00:17

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2019-10-15 11:01:38

Changing status from needs_work to needs_review.


---

Comment by @LaisRast created at 2019-10-15 13:11:27

After the changes, I think that the ticket is good and thus I will put it on "positive review".


---

Comment by @LaisRast created at 2019-10-15 13:11:27

Changing status from needs_review to positive_review.


---

Comment by git created at 2019-10-15 13:48:47

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2019-10-15 13:48:47

Changing status from positive_review to needs_review.


---

Comment by @LaisRast created at 2019-10-15 13:53:44

Changing status from needs_review to positive_review.


---

Comment by git created at 2019-10-16 08:03:09

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2019-10-16 08:03:09

Changing status from positive_review to needs_review.


---

Comment by git created at 2019-10-16 11:22:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @LaisRast created at 2019-10-17 11:34:51

Changing status from needs_review to positive_review.


---

Comment by @LaisRast created at 2019-10-17 11:34:51

The deprecation warning is now printed out. So I will put it back on "positive review".


---

Comment by vbraun created at 2019-10-21 22:43:49

Resolution: fixed
