# Issue 28367: CombinatorialPolyhedron: ridge_graph -> facet_graph

archive/issues_028367.json:
```json
{
    "body": "CC:  @jplab @laisrast\n\nKeywords: polytopes, combinatorial polyhedron\n\nIn order to make `CombinatorialPolyhedron` more consistent with `Polyhedron`, we replace `ridge_graph` by `facet_graph`.\n\nIn case of of the half space this makes a difference, as there is a facet, but no ridges.\n\nFor now we keep `ridge_graph` and add a deprecation warning.\n\nIssue created by migration from https://trac.sagemath.org/ticket/28604\n\n",
    "created_at": "2019-10-15T08:07:48Z",
    "labels": [
        "component: geometry"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "CombinatorialPolyhedron: ridge_graph -> facet_graph",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28367",
    "user": "https://github.com/kliem"
}
```
CC:  @jplab @laisrast

Keywords: polytopes, combinatorial polyhedron

In order to make `CombinatorialPolyhedron` more consistent with `Polyhedron`, we replace `ridge_graph` by `facet_graph`.

In case of of the half space this makes a difference, as there is a facet, but no ridges.

For now we keep `ridge_graph` and add a deprecation warning.

Issue created by migration from https://trac.sagemath.org/ticket/28604





---

archive/issue_comments_400124.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-10-15T08:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400124",
    "user": "https://github.com/kliem"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_400125.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-10-15T08:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400125",
    "user": "https://github.com/kliem"
}
```

New commits:



---

archive/issue_comments_400126.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2019-10-15T09:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400126",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_400127.json:
```json
{
    "body": "`facet_graph` does not work for non-full-dimensional polyhedra:\n\n```\n    sage: C = CombinatorialPolyhedron(polytopes.hypersimplex(5,2)); C\n    A 4-dimensional combinatorial polyhedron with 10 facets\n    sage: C.facet_graph()\n    Graph on 20 vertices\n```\n\nThe problem arises since each facet in `C.ridges(names=True, add_equalities=True)` is represented as (equation, inequality), while in `C.face_iter(C.dimension() - 1, dual=False))`, each facet is represented as (inequality, equation).\n\n`facet_graph` does not work when `names=False`:\n\n```\n    sage: C = CombinatorialPolyhedron(polytopes.cube()); C\n    A 3-dimensional combinatorial polyhedron with 6 facets\n    sage: C.facet_graph(names=False)\n    Graph on 12 vertices\n```\n\nThe problem arises since`facet.Hrepr(names=False)` returns a tuple, for example `(5,)`. While in `C.ridges(names=False)`, each facet is represented by a number.",
    "created_at": "2019-10-15T09:52:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400127",
    "user": "https://github.com/LaisRast"
}
```

`facet_graph` does not work for non-full-dimensional polyhedra:

```
    sage: C = CombinatorialPolyhedron(polytopes.hypersimplex(5,2)); C
    A 4-dimensional combinatorial polyhedron with 10 facets
    sage: C.facet_graph()
    Graph on 20 vertices
```

The problem arises since each facet in `C.ridges(names=True, add_equalities=True)` is represented as (equation, inequality), while in `C.face_iter(C.dimension() - 1, dual=False))`, each facet is represented as (inequality, equation).

`facet_graph` does not work when `names=False`:

```
    sage: C = CombinatorialPolyhedron(polytopes.cube()); C
    A 3-dimensional combinatorial polyhedron with 6 facets
    sage: C.facet_graph(names=False)
    Graph on 12 vertices
```

The problem arises since`facet.Hrepr(names=False)` returns a tuple, for example `(5,)`. While in `C.ridges(names=False)`, each facet is represented by a number.



---

archive/issue_comments_400128.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-15T11:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_400129.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-10-15T11:01:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400129",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_400130.json:
```json
{
    "body": "After the changes, I think that the ticket is good and thus I will put it on \"positive review\".",
    "created_at": "2019-10-15T13:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400130",
    "user": "https://github.com/LaisRast"
}
```

After the changes, I think that the ticket is good and thus I will put it on "positive review".



---

archive/issue_comments_400131.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-15T13:11:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400131",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_400132.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2019-10-15T13:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400132",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_400133.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-10-15T13:48:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400133",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_400134.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-15T13:53:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400134",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_400135.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2019-10-16T08:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_400136.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2019-10-16T08:03:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_400137.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-10-16T11:22:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400137",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_400138.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-10-17T11:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400138",
    "user": "https://github.com/LaisRast"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_400139.json:
```json
{
    "body": "The deprecation warning is now printed out. So I will put it back on \"positive review\".",
    "created_at": "2019-10-17T11:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400139",
    "user": "https://github.com/LaisRast"
}
```

The deprecation warning is now printed out. So I will put it back on "positive review".



---

archive/issue_events_026261.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2019-10-21T22:43:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28367#event-26261"
}
```



---

archive/issue_comments_400140.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-10-21T22:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28367",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28367#issuecomment-400140",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
