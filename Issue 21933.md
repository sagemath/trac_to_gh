# Issue 21933: plot3d : the option "mesh=True" does not work in Jupyter

archive/issues_021933.json:
```json
{
    "body": "CC:  jhonrubia6 @fchapoton @egourgoulhon @paulmasson @kcrisman\n\nKeywords: plot3d, jupyter, mesh, days82\n\nThis test from documentation : \n\n\n```\nsage: var('x,y')\nsage: plot3d(sin(x-y)*y*cos(x),(x,-3,3),(y,-3,3), mesh=True)\n```\n\n\nworks on terminal, `*.sagews` in the cloud, local sage notebooks but... not in Jupyter notebook (both local and cloud-based). Trying it in Jupyter gives an empty `AssertionError`. (Full text of the error in the comment.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/22170\n\n",
    "created_at": "2017-01-11T11:33:43Z",
    "labels": [
        "component: graphics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.2",
    "title": "plot3d : the option \"mesh=True\" does not work in Jupyter",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21933",
    "user": "https://trac.sagemath.org/admin/accounts/users/ams"
}
```
CC:  jhonrubia6 @fchapoton @egourgoulhon @paulmasson @kcrisman

Keywords: plot3d, jupyter, mesh, days82

This test from documentation : 


```
sage: var('x,y')
sage: plot3d(sin(x-y)*y*cos(x),(x,-3,3),(y,-3,3), mesh=True)
```


works on terminal, `*.sagews` in the cloud, local sage notebooks but... not in Jupyter notebook (both local and cloud-based). Trying it in Jupyter gives an empty `AssertionError`. (Full text of the error in the comment.)

Issue created by migration from https://trac.sagemath.org/ticket/22170





---

archive/issue_comments_304318.json:
```json
{
    "body": "Full text o",
    "created_at": "2017-01-11T11:35:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304318",
    "user": "https://trac.sagemath.org/admin/accounts/users/ams"
}
```

Full text o



---

archive/issue_comments_304319.json:
```json
{
    "body": "no idea for this, sorry",
    "created_at": "2017-01-11T12:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304319",
    "user": "https://github.com/fchapoton"
}
```

no idea for this, sorry



---

archive/issue_comments_304320.json:
```json
{
    "body": "no idea either (never worked on jupyter), sorry",
    "created_at": "2017-01-11T14:26:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304320",
    "user": "https://trac.sagemath.org/admin/accounts/users/jhonrubia6"
}
```

no idea either (never worked on jupyter), sorry



---

archive/issue_comments_304321.json:
```json
{
    "body": "This is happening because `mesh=True` adds a line to the Jmol data file starting with `pmesh` that does not have a quote-enclosed filename at the end of the line, hence the `AssertionError`. The `script` method in `repl/display/jsmol_iframe.py` needs to be modified.",
    "created_at": "2017-01-12T20:23:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304321",
    "user": "https://github.com/paulmasson"
}
```

This is happening because `mesh=True` adds a line to the Jmol data file starting with `pmesh` that does not have a quote-enclosed filename at the end of the line, hence the `AssertionError`. The `script` method in `repl/display/jsmol_iframe.py` needs to be modified.



---

archive/issue_comments_304322.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-01-24T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304322",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_304323.json:
```json
{
    "body": "I have fixed that, please double check. \n----\nNew commits:",
    "created_at": "2018-01-24T12:35:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304323",
    "user": "https://github.com/fchapoton"
}
```

I have fixed that, please double check. 
----
New commits:



---

archive/issue_comments_304324.json:
```json
{
    "body": "Thanks for the fix!\nI confirm it works.\n\nSide note: with `viewer='threejs'`, the mesh is not displayed, but this is another issue, not related to this ticket.",
    "created_at": "2018-01-26T17:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304324",
    "user": "https://github.com/egourgoulhon"
}
```

Thanks for the fix!
I confirm it works.

Side note: with `viewer='threejs'`, the mesh is not displayed, but this is another issue, not related to this ticket.



---

archive/issue_comments_304325.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-01-26T17:28:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304325",
    "user": "https://github.com/egourgoulhon"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_304326.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-01-27T16:00:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21933#issuecomment-304326",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
