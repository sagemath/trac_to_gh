# Issue 11641: Implementation of decorator for combinatorial maps

archive/issues_011469.json:
```json
{
    "assignees": [],
    "body": "This patch implements decorators for combinatorial maps. The aim is to be able to ask for all combinatorial maps for a given combinatorial class.\n\nDepends on #13074\n\n**Assignee:** sage-combinat\n\n**CC:**  chrisjamesberg @saliola @zabrocki @hivert\n\n**Keywords:** combinatorial statistic\n\n**Reviewer:** Mike Zabrocki\n\n**Author:** Christian Stump\n\n**Merged:** sage-5.7.beta1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11641\n\n",
    "closed_at": "2013-01-25T13:06:55Z",
    "created_at": "2011-08-01T23:58:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implementation of decorator for combinatorial maps",
    "type": "issue",
    "updated_at": "2013-01-25T13:06:55Z",
    "url": "https://github.com/sagemath/sage/issues/11641",
    "user": "https://github.com/sagetrac-stumpc5"
}
```
This patch implements decorators for combinatorial maps. The aim is to be able to ask for all combinatorial maps for a given combinatorial class.

Depends on #13074

**Assignee:** sage-combinat

**CC:**  chrisjamesberg @saliola @zabrocki @hivert

**Keywords:** combinatorial statistic

**Reviewer:** Mike Zabrocki

**Author:** Christian Stump

**Merged:** sage-5.7.beta1

Issue created by migration from https://trac.sagemath.org/ticket/11641





---

archive/issue_comments_122029.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,23 @@\n-tba\n+An example:\n+\n+```\n+sage: I = [ p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]\n+\n+sage: find_combinatorial_statistic(I)\n+The tested combinatorial statistics on Standard permutations with values in Integer Ring where \n+imajor_index\n+longest_increasing_subsequence_length\n+major_index\n+number_of_descents\n+number_of_fixed_points\n+number_of_idescents\n+number_of_inversions\n+number_of_peaks\n+number_of_saliances\n+\n+((0, 0, 1, -34, 0, 0, 2, 0, 0), Free module of degree 9 and rank 3 over Integer Ring\n+Echelon basis matrix:\n+[ 3  0  0  0  2 -4  5  3 -6]\n+[ 0  1  3  0 -1 -3 -1 -3  0]\n+[ 0  0  0  1  0 -1  0  0  0])\n+```\n``````\n",
    "created_at": "2011-08-02T00:05:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122029",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,23 @@
-tba
+An example:
+
+```
+sage: I = [ p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]
+
+sage: find_combinatorial_statistic(I)
+The tested combinatorial statistics on Standard permutations with values in Integer Ring where 
+imajor_index
+longest_increasing_subsequence_length
+major_index
+number_of_descents
+number_of_fixed_points
+number_of_idescents
+number_of_inversions
+number_of_peaks
+number_of_saliances
+
+((0, 0, 1, -34, 0, 0, 2, 0, 0), Free module of degree 9 and rank 3 over Integer Ring
+Echelon basis matrix:
+[ 3  0  0  0  2 -4  5  3 -6]
+[ 0  1  3  0 -1 -3 -1 -3  0]
+[ 0  0  0  1  0 -1  0  0  0])
+```
``````




---

archive/issue_comments_122030.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n An example:\n \n ```\n-sage: I = [ p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]\n+sage: I = [ (p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]\n \n sage: find_combinatorial_statistic(I)\n The tested combinatorial statistics on Standard permutations with values in Integer Ring where \n``````\n",
    "created_at": "2011-08-03T14:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122030",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 An example:
 
 ```
-sage: I = [ p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]
+sage: I = [ (p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]
 
 sage: find_combinatorial_statistic(I)
 The tested combinatorial statistics on Standard permutations with values in Integer Ring where 
``````




---

archive/issue_comments_122031.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,23 +1 @@\n-An example:\n-\n-```\n-sage: I = [ (p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]\n-\n-sage: find_combinatorial_statistic(I)\n-The tested combinatorial statistics on Standard permutations with values in Integer Ring where \n-imajor_index\n-longest_increasing_subsequence_length\n-major_index\n-number_of_descents\n-number_of_fixed_points\n-number_of_idescents\n-number_of_inversions\n-number_of_peaks\n-number_of_saliances\n-\n-((0, 0, 1, -34, 0, 0, 2, 0, 0), Free module of degree 9 and rank 3 over Integer Ring\n-Echelon basis matrix:\n-[ 3  0  0  0  2 -4  5  3 -6]\n-[ 0  1  3  0 -1 -3 -1 -3  0]\n-[ 0  0  0  1  0 -1  0  0  0])\n-```\n+This patch implements decorators for combinatorial statistics and maps. The aim is to be able to ask for all combinatorial statistics/maps for a given combinatorial class.\n``````\n",
    "created_at": "2012-08-14T10:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122031",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,23 +1 @@
-An example:
-
-```
-sage: I = [ (p,p.major_index()+2*p.number_of_inversions()-34*p.number_of_descents()) for p in Permutations(3) ]
-
-sage: find_combinatorial_statistic(I)
-The tested combinatorial statistics on Standard permutations with values in Integer Ring where 
-imajor_index
-longest_increasing_subsequence_length
-major_index
-number_of_descents
-number_of_fixed_points
-number_of_idescents
-number_of_inversions
-number_of_peaks
-number_of_saliances
-
-((0, 0, 1, -34, 0, 0, 2, 0, 0), Free module of degree 9 and rank 3 over Integer Ring
-Echelon basis matrix:
-[ 3  0  0  0  2 -4  5  3 -6]
-[ 0  1  3  0 -1 -3 -1 -3  0]
-[ 0  0  0  1  0 -1  0  0  0])
-```
+This patch implements decorators for combinatorial statistics and maps. The aim is to be able to ask for all combinatorial statistics/maps for a given combinatorial class.
``````




---

archive/issue_comments_122032.json:
```json
{
    "body": "**Changing author** from \"Chris Berg, Franco Saliola, Christian Stump\" to \"Christian Stump\".",
    "created_at": "2012-08-14T10:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122032",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Changing author** from "Chris Berg, Franco Saliola, Christian Stump" to "Christian Stump".



---

archive/issue_events_092703.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-08-14T10:09:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92703"
}
```



---

archive/issue_comments_122033.json:
```json
{
    "body": "**Changing work issues** from \"make it nice and smooth\" to \"\".",
    "created_at": "2012-08-14T10:09:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122033",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Changing work issues** from "make it nice and smooth" to "".



---

archive/issue_events_092704.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-08-14T10:09:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "rename": {
        "from": "Implementation of a guesser of combinatoral statistics",
        "to": "Implementation of decorator for combinatorial statistics and maps"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92704"
}
```



---

archive/issue_comments_122034.json:
```json
{
    "body": "<a id='comment:4'></a>\n1) Please don't use assert, raise ValueError instead. \\\\\n2) When returning self._black_list in black_list(), make a copy. i.e. return self._back_list[:]. Otherwise modifications to the returned list will also modify self._black_list. \\\\\n3) `return self._f(self._inst,*args,**kwds)` has missing white space between the arguments\\\\ \n4) In combinatorial_maps_in_class(), you search a unsorted list on every iteration. Either make 'result' a set and possibly convert it into a list on return\nor if the order matters, use a set next to the list.\n5) In the first doc string \"defined a map between two combinatorial objects.\" defined should be defines.\n\nThese two classes share a lot of code. Have you though about a way to avoid this duplication?",
    "created_at": "2012-08-14T18:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122034",
    "user": "https://github.com/sagetrac-sluther"
}
```

<a id='comment:4'></a>
1) Please don't use assert, raise ValueError instead. \\
2) When returning self._black_list in black_list(), make a copy. i.e. return self._back_list[:]. Otherwise modifications to the returned list will also modify self._black_list. \\
3) `return self._f(self._inst,*args,**kwds)` has missing white space between the arguments\\ 
4) In combinatorial_maps_in_class(), you search a unsorted list on every iteration. Either make 'result' a set and possibly convert it into a list on return
or if the order matters, use a set next to the list.
5) In the first doc string "defined a map between two combinatorial objects." defined should be defines.

These two classes share a lot of code. Have you though about a way to avoid this duplication?



---

archive/issue_comments_122035.json:
```json
{
    "body": "<a id='comment:5'></a>\nThanks for taking a look at the patch and the helpful suggestions. One question:\n\nReplying to [sluther](#comment%3A4):\n> 1) Please don't use assert, raise ValueError instead.\n\nWhy shouldn't one use assert?",
    "created_at": "2012-08-14T18:54:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122035",
    "user": "https://github.com/saliola"
}
```

<a id='comment:5'></a>
Thanks for taking a look at the patch and the helpful suggestions. One question:

Replying to [sluther](#comment%3A4):
> 1) Please don't use assert, raise ValueError instead.

Why shouldn't one use assert?



---

archive/issue_comments_122036.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@saliola](#comment%3A5):\n> Thanks for taking a look at the patch and the helpful suggestions. One question:\n> \n> Replying to [sluther](#comment%3A4):\n> > 1) Please don't use assert, raise ValueError instead.\n\n> \n> Why shouldn't one use assert?\n\n- If input parameters are of the wrong type, it's usual to raise a `TypeError`. It's good to raise errors that obey conventions, because that helps writing appropriate `try ... except` clauses when needed.\n- assert statements can be optimized away if `python -O` is selected, so they are only suitable to assert conditions that are supposed to hold anyway (and raise an early error if they don't, to help debugging)",
    "created_at": "2012-08-14T19:11:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122036",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:6'></a>
Replying to [@saliola](#comment%3A5):
> Thanks for taking a look at the patch and the helpful suggestions. One question:
> 
> Replying to [sluther](#comment%3A4):
> > 1) Please don't use assert, raise ValueError instead.

> 
> Why shouldn't one use assert?

- If input parameters are of the wrong type, it's usual to raise a `TypeError`. It's good to raise errors that obey conventions, because that helps writing appropriate `try ... except` clauses when needed.
- assert statements can be optimized away if `python -O` is selected, so they are only suitable to assert conditions that are supposed to hold anyway (and raise an early error if they don't, to help debugging)



---

archive/issue_comments_122037.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@nbruin](#comment%3A6):\n> Replying to [@saliola](#comment%3A5):\n> > Thanks for taking a look at the patch and the helpful suggestions. One question:\n\nAlso thanks for looking at it!\n\n`@`Chris, Franco: are you going to address the issues in the review or should I make the changes?",
    "created_at": "2012-08-14T21:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122037",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:7'></a>
Replying to [@nbruin](#comment%3A6):
> Replying to [@saliola](#comment%3A5):
> > Thanks for taking a look at the patch and the helpful suggestions. One question:

Also thanks for looking at it!

`@`Chris, Franco: are you going to address the issues in the review or should I make the changes?



---

archive/issue_comments_122038.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [stumpc5](#comment%3A7):\n\n> `@`Chris, Franco: are you going to address the issues in the review or should I make the changes?\n\nI doubt that Chris nor I will have the chance to look at this in the next couple of days, so if you get the chance to do it, then go ahead.",
    "created_at": "2012-08-14T21:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122038",
    "user": "https://github.com/saliola"
}
```

<a id='comment:8'></a>
Replying to [stumpc5](#comment%3A7):

> `@`Chris, Franco: are you going to address the issues in the review or should I make the changes?

I doubt that Chris nor I will have the chance to look at this in the next couple of days, so if you get the chance to do it, then go ahead.



---

archive/issue_comments_122039.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [sluther](#comment%3A4):\n\nI fixed the 5 issues mentioned.\n\n> These two classes share a lot of code. Have you though about a way to avoid this duplication?\n\nI haven't really thought about this yet. If Franco / Chris have some idea, let me know...\n\nThanks, Christian",
    "created_at": "2012-08-15T04:46:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122039",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:9'></a>
Replying to [sluther](#comment%3A4):

I fixed the 5 issues mentioned.

> These two classes share a lot of code. Have you though about a way to avoid this duplication?

I haven't really thought about this yet. If Franco / Chris have some idea, let me know...

Thanks, Christian



---

archive/issue_comments_122040.json:
```json
{
    "body": "<a id='comment:10'></a>\nFixed the bug that was occurring. Didn't have permission to delete your old patch.",
    "created_at": "2012-08-21T13:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122040",
    "user": "https://github.com/sagetrac-chrisjamesberg"
}
```

<a id='comment:10'></a>
Fixed the bug that was occurring. Didn't have permission to delete your old patch.



---

archive/issue_comments_122041.json:
```json
{
    "body": "<a id='comment:11'></a>\nFixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.",
    "created_at": "2012-08-21T13:54:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122041",
    "user": "https://github.com/sagetrac-chrisjamesberg"
}
```

<a id='comment:11'></a>
Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.



---

archive/issue_comments_122042.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [chrisjamesberg](#comment%3A11):\n> Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.\n\nYou can't delete a patch: only accounts with admin privileges can do that.\n\nHowever, you can direct the patchbot to which patches to apply.\n\nApply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch",
    "created_at": "2012-08-21T14:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122042",
    "user": "https://github.com/saliola"
}
```

<a id='comment:12'></a>
Replying to [chrisjamesberg](#comment%3A11):
> Fixed some documentation and deleted blacklists from combinatorial maps (since we don't use these anymore). Accidentally added it twice and now I don't know how to delete my patch.

You can't delete a patch: only accounts with admin privileges can do that.

However, you can direct the patchbot to which patches to apply.

Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch



---

archive/issue_comments_122043.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-This patch implements decorators for combinatorial statistics and maps. The aim is to be able to ask for all combinatorial statistics/maps for a given combinatorial class.\n+This patch implements decorators for combinatorial maps. The aim is to be able to ask for all combinatorial maps for a given combinatorial class.\n``````\n",
    "created_at": "2012-08-21T16:16:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122043",
    "user": "https://github.com/sagetrac-chrisjamesberg"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-This patch implements decorators for combinatorial statistics and maps. The aim is to be able to ask for all combinatorial statistics/maps for a given combinatorial class.
+This patch implements decorators for combinatorial maps. The aim is to be able to ask for all combinatorial maps for a given combinatorial class.
``````




---

archive/issue_events_092705.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2012-08-21T16:16:48Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "rename": {
        "from": "Implementation of decorator for combinatorial statistics and maps",
        "to": "Implementation of decorator for combinatorial maps"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92705"
}
```



---

archive/issue_comments_122044.json:
```json
{
    "body": "<a id='comment:14'></a>\nApply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch\n\nHey Christian,\n\nWe made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.\n\nSome changes:\n\n- we changed the `__repr__` method\n- we added decorators to combinatorial maps (permutations, partitions, etc.)\n- we updated doctests to use the implemented combinatorial maps\n\nBut we have some questions:\n\n- I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand.\n- another question: why doesn't the following work?\n\n```\n        sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class\n        sage: p = Permutation([1,3,2,4])\n        sage: cmaps = combinatorial_maps_in_class(p)\n        sage: cmaps[0](p)\n```\n- should this file be in `sage.combinat.misc` or `sage.combinat.combinatorial_maps` instead of `sage.misc`?",
    "created_at": "2012-08-21T16:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122044",
    "user": "https://github.com/saliola"
}
```

<a id='comment:14'></a>
Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch

Hey Christian,

We made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.

Some changes:

- we changed the `__repr__` method
- we added decorators to combinatorial maps (permutations, partitions, etc.)
- we updated doctests to use the implemented combinatorial maps

But we have some questions:

- I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand.
- another question: why doesn't the following work?

```
        sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class
        sage: p = Permutation([1,3,2,4])
        sage: cmaps = combinatorial_maps_in_class(p)
        sage: cmaps[0](p)
```
- should this file be in `sage.combinat.misc` or `sage.combinat.combinatorial_maps` instead of `sage.misc`?



---

archive/issue_events_092706.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2012-08-21T16:56:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92706"
}
```



---

archive/issue_events_092707.json:
```json
{
    "actor": "https://github.com/saliola",
    "created_at": "2012-08-21T16:56:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92707"
}
```



---

archive/issue_comments_122045.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@saliola](#comment%3A14):\n\n> Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch\n\nShould I delete all patches on the ticket, and you again add those we want to keep?\n\n> Hey Christian, We made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.\n\nAlright.\n\nSome changes: - we changed the __ repr__  method - we added decorators to combinatorial maps (permutations, partitions, etc.) - we updated doctests to use the implemented combinatorial maps\n\ngood - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).\n\n> But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `\n\nWe want to call this function as in\n\n```\nsage: p.inverse()\n```\nso\n\n```\nsage: cmaps[0]()\n```\nreturns p.whatevercmapsof0is(). Does that make sense to you?\n\n- should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?\n\nAdding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.",
    "created_at": "2012-08-21T19:49:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122045",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:16'></a>
Replying to [@saliola](#comment%3A14):

> Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch

Should I delete all patches on the ticket, and you again add those we want to keep?

> Hey Christian, We made some changes. We deleted combinatorial_statistics since we will do that in another patch. For now, let's concentrate on combinatorial_maps.

Alright.

Some changes: - we changed the __ repr__  method - we added decorators to combinatorial maps (permutations, partitions, etc.) - we updated doctests to use the implemented combinatorial maps

good - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).

> But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `

We want to call this function as in

```
sage: p.inverse()
```
so

```
sage: cmaps[0]()
```
returns p.whatevercmapsof0is(). Does that make sense to you?

- should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?

Adding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.



---

archive/issue_comments_122046.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@saliola](#comment%3A12):\n> You can't delete a patch: only accounts with admin privileges can do that.\n\nI have admin privileges; drop me a line if you want me to delete some of the patches.",
    "created_at": "2012-08-22T06:52:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122046",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:17'></a>
Replying to [@saliola](#comment%3A12):
> You can't delete a patch: only accounts with admin privileges can do that.

I have admin privileges; drop me a line if you want me to delete some of the patches.



---

archive/issue_comments_122047.json:
```json
{
    "body": "**Work Issues:** move file into combinat tree ; address TODOs in the file",
    "created_at": "2012-08-22T18:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122047",
    "user": "https://github.com/saliola"
}
```

**Work Issues:** move file into combinat tree ; address TODOs in the file



---

archive/issue_comments_122048.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [stumpc5](#comment%3A16):\n> Replying to [@saliola](#comment%3A14):\n> \n> > Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch\n\n> \n> Should I delete all patches on the ticket, and you again add those we want to keep?\n\nThat line that begins with \"Apply:\" is for the patchbot.\n\n> good - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).\n\nIt has to happen eventually. We'll rebase the queue, if necessary.\n\n> > But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `\n\n> \n> We want to call this function as in\n> \n> ```\n> sage: p.inverse()\n> ```\n> so\n> \n> ```\n> sage: cmaps[0]()\n> ```\n> returns p.whatevercmapsof0is(). Does that make sense to you?\n\nUsing this reasoning, shouldn't the following work then? I am using Permutation_class instead of an instance of a permutation to grab the combinatorial maps:\n\n```\nsage: p = Permutation([1,3,2,4])\nsage: Permutation_class = type(p)\nsage: cmaps = combinatorial_maps_in_class(Permutation_class)\nsage: cmaps[0](p)\n```\nNote that this also returns an error:\n\n```\nsage: cmaps[0]()\n```\n \n> - should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?\n> \n> Adding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.\n\nOkay, we should move it.\n\nDid you get a chance to take a look at the TODOs in the file? There are some places that need doctests and others that need documentation, and I don't know how to do it.",
    "created_at": "2012-08-22T18:54:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122048",
    "user": "https://github.com/saliola"
}
```

<a id='comment:18'></a>
Replying to [stumpc5](#comment%3A16):
> Replying to [@saliola](#comment%3A14):
> 
> > Apply: trac_11641-combinatorial_statistics_and_maps_decorator-cs.2.patch, trac_11641-combinatorial_maps_review-fs.patch,  trac_11641_concrete_combinatorial_maps_cb.patch

> 
> Should I delete all patches on the ticket, and you again add those we want to keep?

That line that begins with "Apply:" is for the patchbot.

> good - but I guess we are creating tons of conflicts in the queue if trac_11641_concrete_combinatorial_maps_cb.patch gets merged into main sage (though I guess we should do it anyway).

It has to happen eventually. We'll rebase the queue, if necessary.

> > But we have some questions: - I've littered the file combinatorial_maps.py with TODOs. Take a look at them. Most are documentation issues, or things I don't understand. - another question: why doesn't the following work? ` sage: from sage.misc.combinatorial_map import combinatorial_maps_in_class sage: p = Permutation([1,3,2,4]) sage: cmaps = combinatorial_maps_in_class(p) sage: cmaps[0] (p) `

> 
> We want to call this function as in
> 
> ```
> sage: p.inverse()
> ```
> so
> 
> ```
> sage: cmaps[0]()
> ```
> returns p.whatevercmapsof0is(). Does that make sense to you?

Using this reasoning, shouldn't the following work then? I am using Permutation_class instead of an instance of a permutation to grab the combinatorial maps:

```
sage: p = Permutation([1,3,2,4])
sage: Permutation_class = type(p)
sage: cmaps = combinatorial_maps_in_class(Permutation_class)
sage: cmaps[0](p)
```
Note that this also returns an error:

```
sage: cmaps[0]()
```
 
> - should this file be in `sage.combinat.misc`  or `sage.combinat.combinatorial_maps`  instead of `sage.misc` ?
> 
> Adding it to `sage.combinat.misc` or `sage.combinat.combinatorial_maps` sounds good to me; I basically copied the behaviour of some other decorator that happend to be in `sage.misc`.

Okay, we should move it.

Did you get a chance to take a look at the TODOs in the file? There are some places that need doctests and others that need documentation, and I don't know how to do it.



---

archive/issue_comments_122049.json:
```json
{
    "body": "<a id='comment:19'></a>\nHi,\n\nI looked at the patches and have the following preliminary comments (I haven't uploaded any changes, since it doesn't seem to be right currently):\n\n- I deleted the files we don't need (I do have permission as well).\n\n- trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).\n\n- Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.\n\n- I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.\n\n- All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).\n\n- I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this \"f=None\" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .\n\nBest, Christian",
    "created_at": "2012-08-23T09:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122049",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:19'></a>
Hi,

I looked at the patches and have the following preliminary comments (I haven't uploaded any changes, since it doesn't seem to be right currently):

- I deleted the files we don't need (I do have permission as well).

- trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).

- Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.

- I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.

- All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).

- I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this "f=None" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .

Best, Christian



---

archive/issue_comments_122050.json:
```json
{
    "body": "<a id='comment:20'></a>\nHey Christian,\n\n> - I deleted the files we don't need (I do have permission as well).\n\nThanks!\n\n> - trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).\n\nThe reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?\n\n> - Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.\n\nAgreed.\n> - I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.\n\nPerfect.\n> - All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).\n\nI didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.\n\n> - I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this \"f=None\" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .\n\nEnjoy the holidays. Tell Anke and Jara I say hello.",
    "created_at": "2012-08-23T13:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122050",
    "user": "https://github.com/sagetrac-chrisjamesberg"
}
```

<a id='comment:20'></a>
Hey Christian,

> - I deleted the files we don't need (I do have permission as well).

Thanks!

> - trac_11641_concrete_combinatorial_maps_cb.patch is full of things we should not take care of (all the removed whitespaces) - in particular this doesn't let me apply the patch on 5.2 (and we are on holidays so I cannot download and compile 5.3.beta2).

The reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?

> - Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.

Agreed.
> - I deleted the combinatorial_statistics from my patch (and its deletion from Franco's), and then moved the decorator to sage.combinat.combinatorial_map.

Perfect.
> - All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).

I didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.

> - I looked at the TODO's in Franco's review. As I said, I simply copied another decorator, so I can't really answer all the questions (e.g. I don't know what this "f=None" is used for). If you haven't done it earlier, I will look more closely at it after next week when we are back from holidays - or if we have a rainy day in between, like today :-) .

Enjoy the holidays. Tell Anke and Jara I say hello.



---

archive/issue_events_092708.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-08-23T19:26:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92708"
}
```



---

archive/issue_events_092709.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-08-23T19:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92709"
}
```



---

archive/issue_comments_122051.json:
```json
{
    "body": "**Changing work issues** from \"move file into combinat tree ; address TODOs in the file\" to \"move file into combinat tree\".",
    "created_at": "2012-08-23T19:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122051",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

**Changing work issues** from "move file into combinat tree ; address TODOs in the file" to "move file into combinat tree".



---

archive/issue_comments_122052.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [chrisjamesberg](#comment%3A20):\n> The reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?\n\nI shrinked the patch to the stuff we want - I hope I didn't mess anything, please recheck and modify if you find anything.\n\n> > Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.\n\n> \n> Agreed.\n\ndone.\n\n> > All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).\n\n> \n> I didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.\n\nagreed, but we have to keep in mind to prepare another trac ticket for the remaining stuff (where we shouldn't forget any of the implemented methods!).\n\n> > I looked at the TODO's in Franco's review.\n\nI went through all of them and added a review-review, please have a look!\n\nI now wonder what the patchpot says...\n\nBest, Christian",
    "created_at": "2012-08-23T19:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122052",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:22'></a>
Replying to [chrisjamesberg](#comment%3A20):
> The reason for this is just that I was cutting and pasting code our old code from the combinat server. Should I really go through and put all the whitespace back in?

I shrinked the patch to the stuff we want - I hope I didn't mess anything, please recheck and modify if you find anything.

> > Examples in Franco's review do depend on trac_11641_concrete_combinatorial_maps_cb.patch, so I think the concrete maps should come right after the decorator.

> 
> Agreed.

done.

> > All the concrete maps I implemented in the past months are missing in the patch (e.g. the one sending area-bounce to dinv-area,and also all other maps for Dyck words).

> 
> I didn't include all of our work from combinat because a lot of it was missing proper documentation. Our thought was, lets get this working with what's already in sage, and then adding all the maps you've created are very simple patches. I did include a few combinatorial maps, as long as the documentation was there and it was self contained, though it's possible I missed one or two.

agreed, but we have to keep in mind to prepare another trac ticket for the remaining stuff (where we shouldn't forget any of the implemented methods!).

> > I looked at the TODO's in Franco's review.

I went through all of them and added a review-review, please have a look!

I now wonder what the patchpot says...

Best, Christian



---

archive/issue_comments_122053.json:
```json
{
    "body": "<a id='comment:23'></a>\nReplying to [stumpc5](#comment%3A22):\n> I now wonder what the patchpot says...\n\nEverything seems to be fine now -- would be great if one of you (Chris / Franco) could have another look and see if we should take care of anything else, or give a positive review.\n\nI am now building 5.3.rc0. Should I then get the patches in the combinat queue or did you already do that?\n\nThanks, Christian",
    "created_at": "2012-08-30T09:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122053",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:23'></a>
Replying to [stumpc5](#comment%3A22):
> I now wonder what the patchpot says...

Everything seems to be fine now -- would be great if one of you (Chris / Franco) could have another look and see if we should take care of anything else, or give a positive review.

I am now building 5.3.rc0. Should I then get the patches in the combinat queue or did you already do that?

Thanks, Christian



---

archive/issue_comments_122054.json:
```json
{
    "body": "<a id='comment:24'></a>\nHi,\n\nbefore this gets again forgotten - what is left here? I remember that I added another review patch and wanted to get your new remarks or final positive review.\n\nI added Mike since he wants to get everything in the patch \"concrete_combinatorial_maps\" within dyck_words merged with stuff of him to get a medium size patch on Dyck paths done soon.\n\nBest, Christian",
    "created_at": "2012-09-29T18:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122054",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:24'></a>
Hi,

before this gets again forgotten - what is left here? I remember that I added another review patch and wanted to get your new remarks or final positive review.

I added Mike since he wants to get everything in the patch "concrete_combinatorial_maps" within dyck_words merged with stuff of him to get a medium size patch on Dyck paths done soon.

Best, Christian



---

archive/issue_events_092710.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2012-11-30T20:58:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92710"
}
```



---

archive/issue_events_092711.json:
```json
{
    "actor": "https://github.com/sagetrac-chrisjamesberg",
    "created_at": "2012-11-30T20:58:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92711"
}
```



---

archive/issue_comments_122055.json:
```json
{
    "body": "<a id='comment:26'></a>\nWhy does this have milestone `sage-pending`?",
    "created_at": "2012-12-18T13:11:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122055",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Why does this have milestone `sage-pending`?



---

archive/issue_events_092712.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-12-18T13:15:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92712"
}
```



---

archive/issue_comments_122056.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [@jdemeyer](#comment%3A26):\n> Why does this have milestone `sage-pending`?\n\nthanks for bringing this up -- changed to 5.6...",
    "created_at": "2012-12-18T13:16:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122056",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:28'></a>
Replying to [@jdemeyer](#comment%3A26):
> Why does this have milestone `sage-pending`?

thanks for bringing this up -- changed to 5.6...



---

archive/issue_comments_122057.json:
```json
{
    "body": "**Reviewer:** Chris Berg",
    "created_at": "2012-12-23T21:17:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122057",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Chris Berg



---

archive/issue_comments_122058.json:
```json
{
    "body": "**Changing work issues** from \"move file into combinat tree\" to \"\".",
    "created_at": "2012-12-23T21:17:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122058",
    "user": "https://github.com/jdemeyer"
}
```

**Changing work issues** from "move file into combinat tree" to "".



---

archive/issue_events_092713.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-12-26T14:46:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92713"
}
```



---

archive/issue_events_092714.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-12-26T14:46:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92714"
}
```



---

archive/issue_comments_122059.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [stumpc5](#comment%3A30):\n\nI will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...",
    "created_at": "2012-12-26T14:48:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122059",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:31'></a>
Replying to [stumpc5](#comment%3A30):

I will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...



---

archive/issue_comments_122060.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [stumpc5](#comment%3A31):\n> Replying to [stumpc5](#comment%3A30):\n> \n> I will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...\n\nOkay, I got rid of importing `types`. The function `combinatorial_map` is used in `Permutation` and similar others classes, and is thus imported there.",
    "created_at": "2012-12-26T18:03:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122060",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:32'></a>
Replying to [stumpc5](#comment%3A31):
> Replying to [stumpc5](#comment%3A30):
> 
> I will lazily import the new classes to make the pathbot (and the users waiting for their sage to start) happy. Hope, I'll be able to do it later today...

Okay, I got rid of importing `types`. The function `combinatorial_map` is used in `Permutation` and similar others classes, and is thus imported there.



---

archive/issue_events_092715.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-12-26T23:30:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92715"
}
```



---

archive/issue_events_092716.json:
```json
{
    "actor": "https://github.com/sagetrac-stumpc5",
    "created_at": "2012-12-26T23:30:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92716"
}
```



---

archive/issue_comments_122061.json:
```json
{
    "body": "<a id='comment:34'></a>\nCould you rebase your patch on top of #13074 please.",
    "created_at": "2012-12-27T11:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122061",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
Could you rebase your patch on top of #13074 please.



---

archive/issue_comments_122062.json:
```json
{
    "body": "**Dependencies:** #13074",
    "created_at": "2012-12-27T11:28:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122062",
    "user": "https://github.com/jdemeyer"
}
```

**Dependencies:** #13074



---

archive/issue_comments_122063.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [@jdemeyer](#comment%3A34):\n> Could you rebase your patch on top of #13074 please.\n\ndone, thanks for taking care of that! Let's see what the patchbot says...",
    "created_at": "2012-12-27T12:02:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122063",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:35'></a>
Replying to [@jdemeyer](#comment%3A34):
> Could you rebase your patch on top of #13074 please.

done, thanks for taking care of that! Let's see what the patchbot says...



---

archive/issue_comments_122064.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [stumpc5](#comment%3A35):\n\nChris, do you think it is worth giving this patch a positive review now?\n\nCheers, Christian",
    "created_at": "2013-01-21T21:13:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122064",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:36'></a>
Replying to [stumpc5](#comment%3A35):

Chris, do you think it is worth giving this patch a positive review now?

Cheers, Christian



---

archive/issue_comments_122065.json:
```json
{
    "body": "<a id='comment:37'></a>\n> Chris, do you think it is worth giving this patch a positive review now?\n\nI can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?\n\n-Mike",
    "created_at": "2013-01-21T21:28:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122065",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:37'></a>
> Chris, do you think it is worth giving this patch a positive review now?

I can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?

-Mike



---

archive/issue_comments_122066.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [@zabrocki](#comment%3A37):\n> > Chris, do you think it is worth giving this patch a positive review now?\n\n> I can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?\n\nThis isn't really necessary, but can as well be done in some other patch. I would actually prefer this patch to make it into Sage, so we can use the decorator in other patches; but if you want to spend the time to add the decorators to some more maps, please go ahead...\n\nThanks, Christian",
    "created_at": "2013-01-21T22:02:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122066",
    "user": "https://github.com/sagetrac-stumpc5"
}
```

<a id='comment:38'></a>
Replying to [@zabrocki](#comment%3A37):
> > Chris, do you think it is worth giving this patch a positive review now?

> I can review it too, but shouldn't it have the decorators for all of the Dyck words/permutations and other combinatorial object methods?

This isn't really necessary, but can as well be done in some other patch. I would actually prefer this patch to make it into Sage, so we can use the decorator in other patches; but if you want to spend the time to add the decorators to some more maps, please go ahead...

Thanks, Christian



---

archive/issue_comments_122067.json:
```json
{
    "body": "<a id='comment:39'></a>\nI've looked this over now, tested it and I give it a positive review.\n-Mike",
    "created_at": "2013-01-22T14:54:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122067",
    "user": "https://github.com/zabrocki"
}
```

<a id='comment:39'></a>
I've looked this over now, tested it and I give it a positive review.
-Mike



---

archive/issue_events_092717.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-01-22T14:54:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92717"
}
```



---

archive/issue_events_092718.json:
```json
{
    "actor": "https://github.com/zabrocki",
    "created_at": "2013-01-22T14:54:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92718"
}
```



---

archive/issue_comments_122068.json:
```json
{
    "body": "**Changing reviewer** from \"Chris Berg\" to \"Mike Zabrocki\".",
    "created_at": "2013-01-22T14:54:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122068",
    "user": "https://github.com/zabrocki"
}
```

**Changing reviewer** from "Chris Berg" to "Mike Zabrocki".



---

archive/issue_events_092719.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-22T19:45:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92719"
}
```



---

archive/issue_events_092720.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-22T19:45:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "milestone_number": null,
    "milestone_title": "sage-5.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92720"
}
```



---

archive/issue_comments_122069.json:
```json
{
    "body": "<a id='comment:43'></a>\nI just uploaded a minimally changed patch which requires less rebasing for the later patches in the queue (it was removing some trailing whitespace from existing code).\n\nChristian double checked the change over my shoulder, so we leave this ticket at positive review.",
    "created_at": "2013-01-23T23:24:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122069",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:43'></a>
I just uploaded a minimally changed patch which requires less rebasing for the later patches in the queue (it was removing some trailing whitespace from existing code).

Christian double checked the change over my shoulder, so we leave this ticket at positive review.



---

archive/issue_comments_122070.json:
```json
{
    "body": "<a id='comment:44'></a>\n**Attachment:** [trac_11641-combinatorial_maps_decorator-cs.patch.gz](https://github.com/sagemath/sage/files/ticket11641/trac_11641-combinatorial_maps_decorator-cs.patch.gz)\n\nRebased patch to sage-5.7.beta0 (not released yet).",
    "created_at": "2013-01-24T07:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122070",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:44'></a>
**Attachment:** [trac_11641-combinatorial_maps_decorator-cs.patch.gz](https://github.com/sagemath/sage/files/ticket11641/trac_11641-combinatorial_maps_decorator-cs.patch.gz)

Rebased patch to sage-5.7.beta0 (not released yet).



---

archive/issue_events_092721.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-25T13:06:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92721"
}
```



---

archive/issue_events_092722.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-01-25T13:06:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11641#event-92722"
}
```



---

archive/issue_comments_122071.json:
```json
{
    "body": "**Merged:** sage-5.7.beta1",
    "created_at": "2013-01-25T13:06:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11641",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11641#issuecomment-122071",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.7.beta1
