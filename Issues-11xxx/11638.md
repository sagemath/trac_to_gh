# Issue 11638: Patch: add integration unit tests

archive/issues_011466.json:
```json
{
    "assignees": [
        "https://github.com/burcin"
    ],
    "body": "This adds unit tests for the following tickets: #11594, #11591, #11590, and #11238.\n\n\nAuthor: **Michael Orlitzky**\n\nComponent: **symbolics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11638_\n\n",
    "closed_at": "2014-12-11T18:36:25Z",
    "created_at": "2011-08-01T16:51:39Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Patch: add integration unit tests",
    "type": "issue",
    "updated_at": "2014-12-11T18:36:25Z",
    "url": "https://github.com/sagemath/sage/issues/11638",
    "user": "https://github.com/orlitzky"
}
```
This adds unit tests for the following tickets: #11594, #11591, #11590, and #11238.


Author: **Michael Orlitzky**

Component: **symbolics**

_Issue created by migration from https://trac.sagemath.org/ticket/11638_





---

archive/issue_events_155942.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2011-08-01T16:51:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155942"
}
```



---

archive/issue_events_155943.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2011-08-01T16:51:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20symbolics",
    "label_color": "0000ff",
    "label_name": "c: symbolics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155943"
}
```



---

archive/issue_events_155944.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2011-08-01T16:51:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155944"
}
```



---

archive/issue_events_155945.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2011-08-01T16:51:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155945"
}
```



---

archive/issue_events_155946.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2011-08-01T16:51:39Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "subject": "https://github.com/orlitzky",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155946"
}
```



---

archive/issue_comments_119873.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[add_known_integration_bug_tests.patch.gz](https://github.com/sagemath/sage/files/ticket11638/add_known_integration_bug_tests.patch.gz)**",
    "created_at": "2011-08-01T17:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119873",
    "user": "https://github.com/burcin"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[add_known_integration_bug_tests.patch.gz](https://github.com/sagemath/sage/files/ticket11638/add_known_integration_bug_tests.patch.gz)**



---

archive/issue_events_155947.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2011-08-01T17:01:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155947"
}
```



---

archive/issue_comments_119874.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHmm, I hadn't seen this before.  Should we do this instead of adding them in piece by piece in some other file with each ticket?  I do like it when we have record of things that have been fixed, but of course with lots maybe it is more convenient...",
    "created_at": "2012-01-27T03:35:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119874",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Hmm, I hadn't seen this before.  Should we do this instead of adding them in piece by piece in some other file with each ticket?  I do like it when we have record of things that have been fixed, but of course with lots maybe it is more convenient...



---

archive/issue_comments_119875.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThis was my first patch, so I just didn't know where to put things. The *best* thing to do would be get #12094 and #11483 reviewed so that more of these will work. Then we could stick them in the appropriate TESTS block.\n\nAlthough, it is nice to have a collection of known bugs: you can always run them to see if a bug has been fixed by a package upgrade. If any have, it's trivial to copy/paste the doctest out and remove the optional flag.",
    "created_at": "2012-01-27T03:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119875",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:3" align="right">comment:3</div>

This was my first patch, so I just didn't know where to put things. The *best* thing to do would be get #12094 and #11483 reviewed so that more of these will work. Then we could stick them in the appropriate TESTS block.

Although, it is nice to have a collection of known bugs: you can always run them to see if a bug has been fixed by a package upgrade. If any have, it's trivial to copy/paste the doctest out and remove the optional flag.



---

archive/issue_comments_119876.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@orlitzky](#comment:3):\n> This was my first patch, so I just didn't know where to put things. The *best* thing to do would be get #12094 and #11483 reviewed so that more of these will work. Then we could stick them in the appropriate TESTS block.\n\nDoes that mean #12094 is ready for review?\n\n> Although, it is nice to have a collection of known bugs: you can always run them to see if a bug has been fixed by a package upgrade. If any have, it's trivial to copy/paste the doctest out and remove the optional flag.\n\nNot a bad point.  We actually already have a similar file - look at calculus/wester.py.",
    "created_at": "2012-01-27T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119876",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@orlitzky](#comment:3):
> This was my first patch, so I just didn't know where to put things. The *best* thing to do would be get #12094 and #11483 reviewed so that more of these will work. Then we could stick them in the appropriate TESTS block.

Does that mean #12094 is ready for review?

> Although, it is nice to have a collection of known bugs: you can always run them to see if a bug has been fixed by a package upgrade. If any have, it's trivial to copy/paste the doctest out and remove the optional flag.

Not a bad point.  We actually already have a similar file - look at calculus/wester.py.



---

archive/issue_comments_119877.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@kcrisman](#comment:4):\n> \n> Does that mean #12094 is ready for review?\n> \n\nYes! Fixed. The subtleties of trac had not yet had time to sink in when I made that patch. There's no option to open a ticket as anything other than new, so it never occurred to me.",
    "created_at": "2012-01-27T04:39:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119877",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@kcrisman](#comment:4):
> 
> Does that mean #12094 is ready for review?
> 

Yes! Fixed. The subtleties of trac had not yet had time to sink in when I made that patch. There's no option to open a ticket as anything other than new, so it never occurred to me.



---

archive/issue_comments_119878.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBookkeeping: The doctest for #11594 went in as part of #11483.",
    "created_at": "2012-01-28T13:05:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119878",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:6" align="right">comment:6</div>

Bookkeeping: The doctest for #11594 went in as part of #11483.



---

archive/issue_events_155948.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2012-01-28T13:05:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155948"
}
```



---

archive/issue_events_155949.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2012-01-28T13:05:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155949"
}
```



---

archive/issue_comments_119879.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAnd I just posted the doctest for #11591 to its ticket.",
    "created_at": "2012-01-28T13:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119879",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:7" align="right">comment:7</div>

And I just posted the doctest for #11591 to its ticket.



---

archive/issue_events_155950.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155950"
}
```



---

archive/issue_events_155951.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155951"
}
```



---

archive/issue_events_155952.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155952"
}
```



---

archive/issue_events_155953.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155953"
}
```



---

archive/issue_comments_119880.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nRandom update: The test for #11594 is no longer needed, it went in another ticket.\n\n#11591 test case still fails.\n\n#11590 test case still fails.\n\n#11238 no longer needed, it went in with the fix.\n\nJust keeping track of known failures so that they can be checked from time to time.",
    "created_at": "2014-03-29T02:05:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119880",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:10" align="right">comment:10</div>

Random update: The test for #11594 is no longer needed, it went in another ticket.

#11591 test case still fails.

#11590 test case still fails.

#11238 no longer needed, it went in with the fix.

Just keeping track of known failures so that they can be checked from time to time.



---

archive/issue_events_155954.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155954"
}
```



---

archive/issue_events_155955.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155955"
}
```



---

archive/issue_events_155956.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155956"
}
```



---

archive/issue_events_155957.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155957"
}
```



---

archive/issue_events_155958.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-12-08T15:30:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155958"
}
```



---

archive/issue_events_155959.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-12-08T15:30:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155959"
}
```



---

archive/issue_events_155960.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2014-12-08T15:30:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155960"
}
```



---

archive/issue_comments_119881.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHi! This is a good idea in principle, but I have a feeling that keeping it updated would be pretty challenging.  By the way, #11591 seems to have worked for quite some time, but the doctest fails because you got the wrong parenthesization - `1/3*pi^2` versus `pi^(2/3)`.  So even though we have plenty of integral errors, this may not be a super-helpful way to do it, given our \"manpower\" resources.\n\nWhat do you think?  I propose wontfix, but I'm open to other ideas.",
    "created_at": "2014-12-08T15:30:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119881",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:13" align="right">comment:13</div>

Hi! This is a good idea in principle, but I have a feeling that keeping it updated would be pretty challenging.  By the way, #11591 seems to have worked for quite some time, but the doctest fails because you got the wrong parenthesization - `1/3*pi^2` versus `pi^(2/3)`.  So even though we have plenty of integral errors, this may not be a super-helpful way to do it, given our "manpower" resources.

What do you think?  I propose wontfix, but I'm open to other ideas.



---

archive/issue_events_155961.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2014-12-08T15:43:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155961"
}
```



---

archive/issue_events_155962.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2014-12-08T15:43:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155962"
}
```



---

archive/issue_comments_119882.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nYeah that's fine. The idea was that we'd be notified if any of these were fixed upstream (since the tests would start failing). It makes just as much sense to open tickets for each failing integral and check them from time to time.",
    "created_at": "2014-12-08T15:43:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11638#issuecomment-119882",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:14" align="right">comment:14</div>

Yeah that's fine. The idea was that we'd be notified if any of these were fixed upstream (since the tests would start failing). It makes just as much sense to open tickets for each failing integral and check them from time to time.



---

archive/issue_events_155963.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-11T18:36:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155963"
}
```



---

archive/issue_events_155964.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-11T18:36:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155964"
}
```



---

archive/issue_events_155965.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-12-11T18:36:25Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11638",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11638#event-155965"
}
```
