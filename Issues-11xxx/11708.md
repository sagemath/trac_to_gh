# Issue 11708: maxima doesn't build on Linux ppc64 (silius on skynet)

archive/issues_011536.json:
```json
{
    "body": "The maxima spkg in sage-4.7.1 fails to build almost instantly with:\n\n```\n...\n;;; Emitting code for UNARY.\n\nInternal or unrecoverable error in:\nnot a lisp data object\n  [2: No such file or directory]\n\n```\n\nAssignee: drkirkby\n\nCC:  @mwhansen\n\nUpstream: Not yet reported upstream; Will do shortly.\n\nReviewer: Jeroen Demeyer\n\nResolution: worksforme\n\nIssue created by migration from https://trac.sagemath.org/ticket/11708\n\n",
    "closed_at": "2012-10-05T19:25:56Z",
    "created_at": "2011-08-18T21:21:40Z",
    "labels": [
        "component: porting",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "maxima doesn't build on Linux ppc64 (silius on skynet)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11708",
    "user": "https://github.com/williamstein"
}
```
The maxima spkg in sage-4.7.1 fails to build almost instantly with:

```
...
;;; Emitting code for UNARY.

Internal or unrecoverable error in:
not a lisp data object
  [2: No such file or directory]

```

Assignee: drkirkby

CC:  @mwhansen

Upstream: Not yet reported upstream; Will do shortly.

Reviewer: Jeroen Demeyer

Resolution: worksforme

Issue created by migration from https://trac.sagemath.org/ticket/11708





---

archive/issue_comments_164154.json:
```json
{
    "body": "<a id='comment:1'></a>\nNOTE: A naive attempt with maxima-5.25 fails in exactly the same way.",
    "created_at": "2011-08-18T21:26:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164154",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:1'></a>
NOTE: A naive attempt with maxima-5.25 fails in exactly the same way.



---

archive/issue_comments_164155.json:
```json
{
    "body": "<a id='comment:2'></a>\nNice. I didn't know we have any Linux PPC in our build farm. :)",
    "created_at": "2011-08-18T21:28:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164155",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'></a>
Nice. I didn't know we have any Linux PPC in our build farm. :)



---

archive/issue_comments_164156.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [leif](#comment%3A2):\n> Nice. I didn't know we have any Linux PPC in our build farm. :)\n  \nI'll ask about this on the Maxima devel list.  Maybe there is some little configuration thing that needs to be set.",
    "created_at": "2011-08-19T01:28:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164156",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Replying to [leif](#comment%3A2):
> Nice. I didn't know we have any Linux PPC in our build farm. :)
  
I'll ask about this on the Maxima devel list.  Maybe there is some little configuration thing that needs to be set.



---

archive/issue_comments_164157.json:
```json
{
    "body": "<a id='comment:4'></a>\nCould we see more of that log? And I'd like to see the ecl build log as well if it was possible.",
    "created_at": "2011-08-19T01:44:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164157",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
Could we see more of that log? And I'd like to see the ecl build log as well if it was possible.



---

archive/issue_comments_164158.json:
```json
{
    "body": "<a id='comment:5'></a>\nHere's a huge log file\n\n   http://sage.math.washington.edu/home/wstein/days/32/silius/install.log-20110818.txt\n\nIt is huge due to building ATLAS, etc.  So, just search in it. \n\nIt looks like maybe *everything* ends up building except Maxima (and Tachyon, which is fixed by another ticket).\n\n```\nwstein@silius:~/silius/sage-4.7.1> ./sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nsage: time n = factorial(10^6)\nTime: CPU 0.64 s, Wall: 0.65 s\nsage: time n = factorial(10^7)\nTime: CPU 11.81 s, Wall: 11.81 s\nsage: !uname -a\nLinux silius 2.6.32.43-0.4-ppc64 #1 SMP 2011-07-14 14:47:44 +0200 ppc64 ppc64 ppc64 GNU/Linux\n```\n| Sage Version 4.7.1, Release Date: 2011-08-11                       |\n| Type notebook() for the GUI, and license() for information.        |",
    "created_at": "2011-08-19T04:26:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164158",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:5'></a>
Here's a huge log file

   http://sage.math.washington.edu/home/wstein/days/32/silius/install.log-20110818.txt

It is huge due to building ATLAS, etc.  So, just search in it. 

It looks like maybe *everything* ends up building except Maxima (and Tachyon, which is fixed by another ticket).

```
wstein@silius:~/silius/sage-4.7.1> ./sage
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: time n = factorial(10^6)
Time: CPU 0.64 s, Wall: 0.65 s
sage: time n = factorial(10^7)
Time: CPU 11.81 s, Wall: 11.81 s
sage: !uname -a
Linux silius 2.6.32.43-0.4-ppc64 #1 SMP 2011-07-14 14:47:44 +0200 ppc64 ppc64 ppc64 GNU/Linux
```
| Sage Version 4.7.1, Release Date: 2011-08-11                       |
| Type notebook() for the GUI, and license() for information.        |



---

archive/issue_comments_164159.json:
```json
{
    "body": "<a id='comment:6'></a>\nHere are log files for ecl and maxima:\n\n- [http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.1.p1.log](http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.1.p1.log)\n- [http://sage.math.washington.edu/home/palmieri/misc/maxima-5.23.2.p0.log](http://sage.math.washington.edu/home/palmieri/misc/maxima-5.23.2.p0.log)",
    "created_at": "2011-08-19T05:28:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164159",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
Here are log files for ecl and maxima:

- [http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.1.p1.log](http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.1.p1.log)
- [http://sage.math.washington.edu/home/palmieri/misc/maxima-5.23.2.p0.log](http://sage.math.washington.edu/home/palmieri/misc/maxima-5.23.2.p0.log)



---

archive/issue_comments_164160.json:
```json
{
    "body": "<a id='comment:7'></a>\nHum... nothing jumps out at me, especially if sage compiled without problems including sage/libs/ecl.pyx. Is there a maxima rpm for sles 11? If so it may be worth looking in the spec file.",
    "created_at": "2011-08-19T06:42:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164160",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>
Hum... nothing jumps out at me, especially if sage compiled without problems including sage/libs/ecl.pyx. Is there a maxima rpm for sles 11? If so it may be worth looking in the spec file.



---

archive/issue_comments_164161.json:
```json
{
    "body": "<a id='comment:8'></a>\nYes, sage/libs/ecl.pyx compiles and passes all tests:\n\n```\n\nwstein@silius:~/silius/sage-4.7.1> ./sage -t devel/sage/sage/libs/ecl.pyx\nsage -t  \"devel/sage/sage/libs/ecl.pyx\"                     \n         [5.1 s]\n \n----------------------------------------------------------------------\nAll tests passed!\n\n```",
    "created_at": "2011-08-19T06:54:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164161",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:8'></a>
Yes, sage/libs/ecl.pyx compiles and passes all tests:

```

wstein@silius:~/silius/sage-4.7.1> ./sage -t devel/sage/sage/libs/ecl.pyx
sage -t  "devel/sage/sage/libs/ecl.pyx"                     
         [5.1 s]
 
----------------------------------------------------------------------
All tests passed!

```



---

archive/issue_comments_164162.json:
```json
{
    "body": "<a id='comment:9'></a>\nHmmm, there are a couple of warnings already, including\n\n```\nmake[3]: warning:  Clock skew detected.  Your build may be incomplete.\n```\nbut comparing the log to what I have doesn't look very different.\n\nHow about installing the Maxima spkg with `strace -f [...] ./sage -i ...`, to see which file `ecl` apparently doesn't find?\n\nIt would also perhaps be better to first try to build on a local filesystem (if that wasn't the case, which I assume).",
    "created_at": "2011-08-19T08:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164162",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>
Hmmm, there are a couple of warnings already, including

```
make[3]: warning:  Clock skew detected.  Your build may be incomplete.
```
but comparing the log to what I have doesn't look very different.

How about installing the Maxima spkg with `strace -f [...] ./sage -i ...`, to see which file `ecl` apparently doesn't find?

It would also perhaps be better to first try to build on a local filesystem (if that wasn't the case, which I assume).



---

archive/issue_comments_164163.json:
```json
{
    "body": "<a id='comment:10'></a>\n[Here](http://www.math.utexas.edu/pipermail/maxima/2011/025854.html) is a response from one Maxima developer.\n\n```\nMaxima probably isn't supported on this platform because probably no\ndeveloper normally works on PPC Linux.  I might be wrong about that.\n\nOn the other hand, I have built maxima just fine using a 64-bit version\nof ecl on Linux (x86) and Solaris (sparc).  So I would guess that the\nproblem you are seeing is due to ecl.\n```\nIf there are any other responses, I'll update here.",
    "created_at": "2011-08-19T12:46:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164163",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:10'></a>
[Here](http://www.math.utexas.edu/pipermail/maxima/2011/025854.html) is a response from one Maxima developer.

```
Maxima probably isn't supported on this platform because probably no
developer normally works on PPC Linux.  I might be wrong about that.

On the other hand, I have built maxima just fine using a 64-bit version
of ecl on Linux (x86) and Solaris (sparc).  So I would guess that the
problem you are seeing is due to ecl.
```
If there are any other responses, I'll update here.



---

archive/issue_comments_164164.json:
```json
{
    "body": "<a id='comment:11'></a>\nDid Dave ever manage to build Sage in 64-bit mode on *SPARC*?\n\nAs far as I know the only big-endians we build / test on are (or just use) 32 bits.\n\nI also noticed that silius doesn't have `libffi`, but I don't think that's relevant here.",
    "created_at": "2011-08-19T13:13:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164164",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:11'></a>
Did Dave ever manage to build Sage in 64-bit mode on *SPARC*?

As far as I know the only big-endians we build / test on are (or just use) 32 bits.

I also noticed that silius doesn't have `libffi`, but I don't think that's relevant here.



---

archive/issue_comments_164165.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [leif](#comment%3A9):\n> How about installing the Maxima spkg with `strace -f [...] ./sage -i ...`, to see which file `ecl` apparently doesn't find?\n> \n> It would also perhaps be better to first try to build on a local filesystem (if that wasn't the case, which I assume).\n\n\nDo you want an account on the machine?   Then you can try all this and maybe fix the problem!\n\nWrite me offlist at wstein`@`gmail.com for an account.",
    "created_at": "2011-08-19T19:23:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164165",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:12'></a>
Replying to [leif](#comment%3A9):
> How about installing the Maxima spkg with `strace -f [...] ./sage -i ...`, to see which file `ecl` apparently doesn't find?
> 
> It would also perhaps be better to first try to build on a local filesystem (if that wasn't the case, which I assume).


Do you want an account on the machine?   Then you can try all this and maybe fix the problem!

Write me offlist at wstein`@`gmail.com for an account.



---

archive/issue_comments_164166.json:
```json
{
    "body": "<a id='comment:13'></a>\nBy the way, this may be on skynet, but it's not listed at [the wiki for Sage on skynet](http://wiki.sagemath.org/skynet).",
    "created_at": "2011-08-19T19:27:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164166",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>
By the way, this may be on skynet, but it's not listed at [the wiki for Sage on skynet](http://wiki.sagemath.org/skynet).



---

archive/issue_comments_164167.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe machine was added to skynet 2 or 3 days ago.\n\nThe page http://wiki.sagemath.org/skynet is interesting.  Note that it is surely out of date, since the compilers are always being updated, operating systems upgraded, etc.",
    "created_at": "2011-08-19T19:31:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164167",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:14'></a>
The machine was added to skynet 2 or 3 days ago.

The page http://wiki.sagemath.org/skynet is interesting.  Note that it is surely out of date, since the compilers are always being updated, operating systems upgraded, etc.



---

archive/issue_comments_164168.json:
```json
{
    "body": "<a id='comment:15'></a>\nI've added some info about silius stamped \"today\" to that wiki.",
    "created_at": "2011-08-19T19:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164168",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:15'></a>
I've added some info about silius stamped "today" to that wiki.



---

archive/issue_comments_164169.json:
```json
{
    "body": "<a id='comment:16'></a>\n> The machine was added to skynet 2 or 3 days ago.\nCool.  \n> The page http://wiki.sagemath.org/skynet is interesting.  Note that it is surely out of date, since the compilers are always being updated, operating systems upgraded, etc. \n\nJohn P. reminded me of it on another ticket.  Even out-of-date, it seems useful.",
    "created_at": "2011-08-19T19:36:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164169",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
> The machine was added to skynet 2 or 3 days ago.
Cool.  
> The page http://wiki.sagemath.org/skynet is interesting.  Note that it is surely out of date, since the compilers are always being updated, operating systems upgraded, etc. 

John P. reminded me of it on another ticket.  Even out-of-date, it seems useful.



---

archive/issue_comments_164170.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [leif](#comment%3A9):\n\nI've been banging my head on this for a while now at Sage Days 32. I've tried the following so far:\n* building ECL 11.1.1 independent of Sage and then building Maxima 5.25.0 (latest) on top of that (failed: same \"redefining NIL\" error that mhansen reported)\n* building latest CVS version of ECL, then Maxima 5.25.0 on top of that (failed: same error as above) \n* making a new .spkg for the latest ECL, then using that to try building the maxima .spkg (failed with \"not a lisp data object\" error)\n \n> \n> How about installing the Maxima spkg with `strace -f [...] ./sage -i ...`, to see which file `ecl` apparently doesn't find?\n\n\nJust tried this on silius, here is the part of the log just before the error message is printed:\n\n```\n[pid 13982] write(3, \"\\tif(!((V1)==(VV[26]))){\\n\", 24) = 24\n[pid 13982] write(3, \"\\tgoto L21;}\\n\", 12) = 12\n[pid 13982] write(3, \"\\tT0= LC9next(lex0)              \"..., 67) = 67\n[pid 13982] write(3, \"\\tcl_env_copy->nvalues=2;\\n\", 25) = 25\n[pid 13982] write(3, \"\\tcl_env_copy->values[1]=T0;\\n\", 28) = 28\n[pid 13982] write(3, \"\\tcl_env_copy->values[0]=V1;\\n\", 28) = 28\n[pid 13982] write(3, \"\\treturn cl_env_copy->values[0];\\n\", 32) = 32\n[pid 13982] write(3, \"L21:;\\n\", 6)      = 6\n[pid 13982] write(3, \"\\tif(!((V1)==(VV[30]))){\\n\", 24) = 24\n[pid 13982] write(3, \"\\tgoto L25;}\\n\", 12) = 12\n[pid 13982] write(3, \"\\tV1= LC9next(lex0)              \"..., 67) = 67\n[pid 13982] write(2, \"\\nInternal or unrecoverable error\"..., 60) = 60\n[pid 12588] <... read resumed> \"\\nInternal or unrecoverable error\"..., 8192) = 60\n[pid 12588] write(1, \"\\nInternal or unrecoverable error\"..., 60\nInternal or unrecoverable error in:\nnot a lisp data object\n <unfinished ...>\n[pid 13982] write(2, \"  [2: No such file or directory]\"..., 33 <unfinished ...>\n```\n\nThe full log is here: http://sage.math.washington.edu/home/bjones/strace_maxima.log.gz (It is VERY large)\n\n> It would also perhaps be better to first try to build on a local filesystem (if that wasn't the case, which I assume).\n\n\nI've tried building the maxima .spkg (and Sage overall) both on my NFS mounted home folder and on the local /tmp on silius with no difference.\n\nOther things I'm trying:\n\n* running the ECL test-suite and comparing to another architectures (sage.math and skynet/eno)",
    "created_at": "2011-08-24T17:50:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164170",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:17'></a>
Replying to [leif](#comment%3A9):

I've been banging my head on this for a while now at Sage Days 32. I've tried the following so far:
* building ECL 11.1.1 independent of Sage and then building Maxima 5.25.0 (latest) on top of that (failed: same "redefining NIL" error that mhansen reported)
* building latest CVS version of ECL, then Maxima 5.25.0 on top of that (failed: same error as above) 
* making a new .spkg for the latest ECL, then using that to try building the maxima .spkg (failed with "not a lisp data object" error)
 
> 
> How about installing the Maxima spkg with `strace -f [...] ./sage -i ...`, to see which file `ecl` apparently doesn't find?


Just tried this on silius, here is the part of the log just before the error message is printed:

```
[pid 13982] write(3, "\tif(!((V1)==(VV[26]))){\n", 24) = 24
[pid 13982] write(3, "\tgoto L21;}\n", 12) = 12
[pid 13982] write(3, "\tT0= LC9next(lex0)              "..., 67) = 67
[pid 13982] write(3, "\tcl_env_copy->nvalues=2;\n", 25) = 25
[pid 13982] write(3, "\tcl_env_copy->values[1]=T0;\n", 28) = 28
[pid 13982] write(3, "\tcl_env_copy->values[0]=V1;\n", 28) = 28
[pid 13982] write(3, "\treturn cl_env_copy->values[0];\n", 32) = 32
[pid 13982] write(3, "L21:;\n", 6)      = 6
[pid 13982] write(3, "\tif(!((V1)==(VV[30]))){\n", 24) = 24
[pid 13982] write(3, "\tgoto L25;}\n", 12) = 12
[pid 13982] write(3, "\tV1= LC9next(lex0)              "..., 67) = 67
[pid 13982] write(2, "\nInternal or unrecoverable error"..., 60) = 60
[pid 12588] <... read resumed> "\nInternal or unrecoverable error"..., 8192) = 60
[pid 12588] write(1, "\nInternal or unrecoverable error"..., 60
Internal or unrecoverable error in:
not a lisp data object
 <unfinished ...>
[pid 13982] write(2, "  [2: No such file or directory]"..., 33 <unfinished ...>
```

The full log is here: http://sage.math.washington.edu/home/bjones/strace_maxima.log.gz (It is VERY large)

> It would also perhaps be better to first try to build on a local filesystem (if that wasn't the case, which I assume).


I've tried building the maxima .spkg (and Sage overall) both on my NFS mounted home folder and on the local /tmp on silius with no difference.

Other things I'm trying:

* running the ECL test-suite and comparing to another architectures (sage.math and skynet/eno)



---

archive/issue_comments_164171.json:
```json
{
    "body": "<a id='comment:18'></a>\nI am not convinced that the problem is with ecl at all. I would try installing another lisp (unfortunately as far as I can see there are no lisps at all in the SuSE linux 11.SP1 DVDs) and compile maxima against that. If it still fail that would point towards maxima rather than ecl. If it builds that would point to ecl. clisp or sbcl would be appropriate. Unfortunately I don't have access to sagemath or boxen so I cannot login into silius right now.",
    "created_at": "2011-08-24T23:44:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164171",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:18'></a>
I am not convinced that the problem is with ecl at all. I would try installing another lisp (unfortunately as far as I can see there are no lisps at all in the SuSE linux 11.SP1 DVDs) and compile maxima against that. If it still fail that would point towards maxima rather than ecl. If it builds that would point to ecl. clisp or sbcl would be appropriate. Unfortunately I don't have access to sagemath or boxen so I cannot login into silius right now.



---

archive/issue_comments_164172.json:
```json
{
    "body": "<a id='comment:19'></a>\nI've been trying to build clisp on skynet/silius without success. I've tried with both GCC version 4.6.1 and GCC version 4.3. Both build processes end with:\n\n```\n./lisp.run -B . -N locale -E UTF-8 -Epathname 1:1 -Emisc 1:1 -norc -m 2MW -lp ../src/ -x '(and (load \"../src/init.lisp\") (sys::%saveinitmem) (ext::exit)) (ext::exit t)'\nmake: *** [interpreted.mem] Segmentation fault\n```\n\nI'm going to move on and try compiling SBCL..",
    "created_at": "2011-08-25T02:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164172",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:19'></a>
I've been trying to build clisp on skynet/silius without success. I've tried with both GCC version 4.6.1 and GCC version 4.3. Both build processes end with:

```
./lisp.run -B . -N locale -E UTF-8 -Epathname 1:1 -Emisc 1:1 -norc -m 2MW -lp ../src/ -x '(and (load "../src/init.lisp") (sys::%saveinitmem) (ext::exit)) (ext::exit t)'
make: *** [interpreted.mem] Segmentation fault
```

I'm going to move on and try compiling SBCL..



---

archive/issue_comments_164173.json:
```json
{
    "body": "<a id='comment:20'></a>\nMy SBCL build (using ecl-11.1.1 as the cross compilation host) also failed:\n\n```\n;;; Emitting code for LIST-OF-LENGTH-AT-LEAST-P.\n\nInternal or unrecoverable error in:\nnot a lisp data object\n  [2: No such file or directory]\n\n;;; ECL C Backtrace\n```\nSame vague error as I get trying to build maxima.\n\nI've [searched](http://software.opensuse.org/114/en) through the pre-built package lists for SUSE SLE 11 SP 1 looking for \"clisp\", \"sbcl\", \"gcl\", and \"lisp\" and didn't find anything.",
    "created_at": "2011-08-25T02:48:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164173",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:20'></a>
My SBCL build (using ecl-11.1.1 as the cross compilation host) also failed:

```
;;; Emitting code for LIST-OF-LENGTH-AT-LEAST-P.

Internal or unrecoverable error in:
not a lisp data object
  [2: No such file or directory]

;;; ECL C Backtrace
```
Same vague error as I get trying to build maxima.

I've [searched](http://software.opensuse.org/114/en) through the pre-built package lists for SUSE SLE 11 SP 1 looking for "clisp", "sbcl", "gcl", and "lisp" and didn't find anything.



---

archive/issue_comments_164174.json:
```json
{
    "body": "<a id='comment:21'></a>\nI couldn't find any lisp on the SLES DVDs either, I tried to look at RedHat because they also provide ppc64 but couldn't find anything so far. A source rpm of maxima or a lisp on ppc64 would have been helpful from any distros.",
    "created_at": "2011-08-25T03:49:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164174",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:21'></a>
I couldn't find any lisp on the SLES DVDs either, I tried to look at RedHat because they also provide ppc64 but couldn't find anything so far. A source rpm of maxima or a lisp on ppc64 would have been helpful from any distros.



---

archive/issue_comments_164175.json:
```json
{
    "body": "<a id='comment:22'></a>\nI found Clozure CL project distributes binary images for ppc64 linux. I tried this out, but ran into yet more problems. Maybe this is going off on a tangent....\n\n```\nbjones@silius:/tmp/bjones/ccl-1.7> ./ppccl64\nremap spjump: Invalid argument\n```\n\nNow I read through the platform notes [here](http://trac.clozure.com/ccl/wiki/PlatformNotes) and see that there is an issue with 16-bit memory references for functions like `NIL` (that sounds familiar...) not being accessible by non-root processes. This has to do with a parameter set by the OS: `mmap_min_addr`.\n\n```\nThe parameter in question is called mmap_min_addr; one can cat the file /proc/sys/vm/mmap_min_addr to see what the current setting is.\n```\n\nOn skynet/silius, \n\n```\nbjones@silius:/tmp/bjones/ccl-1.7> cat /proc/sys/vm/mmap_min_addr\n65536\n```\n\nand according to the platform notes, it *should* be 4096.\n\nIn light of this, it might be worth changing this parameter on silius (which requires a reboot, see the platform notes above) and then try Clozure CL (run test suites, etc) and THEN try building Maxima. Also, it would be worth trying to reproduce Mike Hansen's reported error about redefining `NIL` [here](http://trac.sagemath.org/sage_trac/ticket/11705#comment:10) after the `mmap_min_addr` parameter has been changed.",
    "created_at": "2011-08-25T04:36:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164175",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:22'></a>
I found Clozure CL project distributes binary images for ppc64 linux. I tried this out, but ran into yet more problems. Maybe this is going off on a tangent....

```
bjones@silius:/tmp/bjones/ccl-1.7> ./ppccl64
remap spjump: Invalid argument
```

Now I read through the platform notes [here](http://trac.clozure.com/ccl/wiki/PlatformNotes) and see that there is an issue with 16-bit memory references for functions like `NIL` (that sounds familiar...) not being accessible by non-root processes. This has to do with a parameter set by the OS: `mmap_min_addr`.

```
The parameter in question is called mmap_min_addr; one can cat the file /proc/sys/vm/mmap_min_addr to see what the current setting is.
```

On skynet/silius, 

```
bjones@silius:/tmp/bjones/ccl-1.7> cat /proc/sys/vm/mmap_min_addr
65536
```

and according to the platform notes, it *should* be 4096.

In light of this, it might be worth changing this parameter on silius (which requires a reboot, see the platform notes above) and then try Clozure CL (run test suites, etc) and THEN try building Maxima. Also, it would be worth trying to reproduce Mike Hansen's reported error about redefining `NIL` [here](http://trac.sagemath.org/sage_trac/ticket/11705#comment:10) after the `mmap_min_addr` parameter has been changed.



---

archive/issue_comments_164176.json:
```json
{
    "body": "<a id='comment:23'></a>\nQuick comment: Even if you could build Maxima with another Lisp, that's not a solution, since Sage uses the C library interface to Maxima, which is *only* available with ECL.",
    "created_at": "2011-08-25T05:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164176",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:23'></a>
Quick comment: Even if you could build Maxima with another Lisp, that's not a solution, since Sage uses the C library interface to Maxima, which is *only* available with ECL.



---

archive/issue_comments_164177.json:
```json
{
    "body": "<a id='comment:24'></a>\n`@`benjaminfjones\nI think you are bang on. That is probably what is happening and what Mike Hansen was referring to. We should try the recommendation from the CCL web page and rebuild ecl and then maxima. From their comments doing the work in lisp to avoid the issue is not very appealing.\n\n`@`was\nMy suggestion of doing so was to do \"an isolation fault\" procedure. It happened to have bear fruits in an unexcepted way.",
    "created_at": "2011-08-25T05:19:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164177",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:24'></a>
`@`benjaminfjones
I think you are bang on. That is probably what is happening and what Mike Hansen was referring to. We should try the recommendation from the CCL web page and rebuild ecl and then maxima. From their comments doing the work in lisp to avoid the issue is not very appealing.

`@`was
My suggestion of doing so was to do "an isolation fault" procedure. It happened to have bear fruits in an unexcepted way.



---

archive/issue_comments_164178.json:
```json
{
    "body": "<a id='comment:25'></a>\nSo what's the current status?\n\n\nReplying to [was](#comment%3A12):\n> Do you want an account on the machine?   Then you can try all this and maybe fix the problem!\n> \n> Write me offlist at wstein`@`gmail.com for an account.\n\n\nWilliam, did you receive my mail from last Friday (*\"Re: Maxima/ECL on Silius (#11708)\"*)?\n\nI could try debugging / fixing this during the weekend.",
    "created_at": "2011-08-27T04:28:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164178",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:25'></a>
So what's the current status?


Replying to [was](#comment%3A12):
> Do you want an account on the machine?   Then you can try all this and maybe fix the problem!
> 
> Write me offlist at wstein`@`gmail.com for an account.


William, did you receive my mail from last Friday (*"Re: Maxima/ECL on Silius (#11708)"*)?

I could try debugging / fixing this during the weekend.



---

archive/issue_comments_164179.json:
```json
{
    "body": "<a id='comment:26'></a>\nCurrent status is the same as it was in [comment 22](http://trac.sagemath.org/sage_trac/ticket/11708#comment:22). I'd to try building ECL + Maxima with the low memory access threshold changed. This requires root on the machine in question (but it's a simple change and easy to make permanent on reboot). I haven't asked Mariah about the possibility of doing this yet.",
    "created_at": "2011-08-29T05:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164179",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:26'></a>
Current status is the same as it was in [comment 22](http://trac.sagemath.org/sage_trac/ticket/11708#comment:22). I'd to try building ECL + Maxima with the low memory access threshold changed. This requires root on the machine in question (but it's a simple change and easy to make permanent on reboot). I haven't asked Mariah about the possibility of doing this yet.



---

archive/issue_comments_164180.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [benjaminfjones](#comment%3A26):\n> I'd to try building ECL + Maxima with the low memory access threshold changed. This requires root on the machine in question (but it's a simple change and easy to make permanent on reboot). I haven't asked Mariah about the possibility of doing this yet. \n\n\nWell, this would probably prevent us from testing other, perhaps better solutions... ;-)\n\nSimilar machines will likely have the same problem, and I'm not sure whether everybody would lower the mmap min address since this is considered a security hole, at least in theory. And not every Sage user having access to such a machine will be able to do that, or to persuade a sysadmin to do so.\n\nIf `mmap()` is really the problem, one should be able to perhaps tweak / patch `configure`, or convince ECL in a different way to not (try to) use such low addresses. Furthermore, if that's really the cause, it is certainly a bug *how* (or when) ECL fails.",
    "created_at": "2011-08-29T06:27:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164180",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:27'></a>
Replying to [benjaminfjones](#comment%3A26):
> I'd to try building ECL + Maxima with the low memory access threshold changed. This requires root on the machine in question (but it's a simple change and easy to make permanent on reboot). I haven't asked Mariah about the possibility of doing this yet. 


Well, this would probably prevent us from testing other, perhaps better solutions... ;-)

Similar machines will likely have the same problem, and I'm not sure whether everybody would lower the mmap min address since this is considered a security hole, at least in theory. And not every Sage user having access to such a machine will be able to do that, or to persuade a sysadmin to do so.

If `mmap()` is really the problem, one should be able to perhaps tweak / patch `configure`, or convince ECL in a different way to not (try to) use such low addresses. Furthermore, if that's really the cause, it is certainly a bug *how* (or when) ECL fails.



---

archive/issue_comments_164181.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [leif](#comment%3A27):\n> \n> If `mmap()` is really the problem, one should be able to perhaps tweak / patch `configure`, or convince ECL in a different way to not (try to) use such low addresses. Furthermore, if that's really the cause, it is certainly a bug *how* (or when) ECL fails.\n\n\nI agree, but I think we should at least determine whether or not this is the current problem. I'm not advocating that Sage users on ppc64 machines fundamentally alter their OS in order to get Sage to compile.",
    "created_at": "2011-08-29T14:04:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164181",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:28'></a>
Replying to [leif](#comment%3A27):
> 
> If `mmap()` is really the problem, one should be able to perhaps tweak / patch `configure`, or convince ECL in a different way to not (try to) use such low addresses. Furthermore, if that's really the cause, it is certainly a bug *how* (or when) ECL fails.


I agree, but I think we should at least determine whether or not this is the current problem. I'm not advocating that Sage users on ppc64 machines fundamentally alter their OS in order to get Sage to compile.



---

archive/issue_comments_164182.json:
```json
{
    "body": "<a id='comment:29'></a>\nI think we should test if it is the problem too. I am currently installing some power 7 gear at my home university (university of Canterbury in New Zealand) so we will have alternative testing platform soon if that's a concern.",
    "created_at": "2011-08-31T22:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164182",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'></a>
I think we should test if it is the problem too. I am currently installing some power 7 gear at my home university (university of Canterbury in New Zealand) so we will have alternative testing platform soon if that's a concern.



---

archive/issue_comments_164183.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [fbissey](#comment%3A29):\n> I think we should test if it is the problem too. I am currently installing some power 7 gear at my home university (university of Canterbury in New Zealand) so we will have alternative testing platform soon if that's a concern.\n\n\nI don't think ECL uses fixed mappings (in that range) at all.\n\nEven if it did, `mmap()` should return `MAP_FAILED`, which is, as far as I can see, always catched, and the *returned* address used rather than the one passed. (You can of course test whether the kernel is buggy... :) )",
    "created_at": "2011-09-01T00:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164183",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:30'></a>
Replying to [fbissey](#comment%3A29):
> I think we should test if it is the problem too. I am currently installing some power 7 gear at my home university (university of Canterbury in New Zealand) so we will have alternative testing platform soon if that's a concern.


I don't think ECL uses fixed mappings (in that range) at all.

Even if it did, `mmap()` should return `MAP_FAILED`, which is, as far as I can see, always catched, and the *returned* address used rather than the one passed. (You can of course test whether the kernel is buggy... :) )



---

archive/issue_comments_164184.json:
```json
{
    "body": "<a id='comment:31'></a>\nI tried a newer version of maxima just in case [http://spkg-upload.googlecode.com/files/maxima-5.25.1.spkg](http://spkg-upload.googlecode.com/files/maxima-5.25.1.spkg) but the result is the same not surprisingly.\n\nLeif how did you get such a verbose output out of ecl in #11786 ?",
    "created_at": "2011-09-13T03:07:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164184",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:31'></a>
I tried a newer version of maxima just in case [http://spkg-upload.googlecode.com/files/maxima-5.25.1.spkg](http://spkg-upload.googlecode.com/files/maxima-5.25.1.spkg) but the result is the same not surprisingly.

Leif how did you get such a verbose output out of ecl in #11786 ?



---

archive/issue_comments_164185.json:
```json
{
    "body": "<a id='comment:32'></a>\nFound a way of stracing ecl, not that it is helpful\n\n```\nwrite(1, \";;; Emitting code for UNARY\", 27;;; Emitting code for UNARY) = 27\nwrite(1, \".\\n\", 2.\n)                      = 2\nwrite(3, \"}}\\n\", 3)                     = 3\nwrite(3, \"/*\\tlocal function UNARY         \"..., 68) = 68\nwrite(4, \"#define STCK10\\n\", 15)        = 15\nwrite(3, \"/*\\toptimize speed 3, debug 2, sp\"..., 68) = 68\nwrite(3, \"static cl_object LC21unary(volat\"..., 67) = 67\nwrite(3, \"{ VT11 VLEX11 CLSR11 STCK11\\n\", 28) = 28\nwrite(3, \"\\tconst cl_env_ptr cl_env_copy = \"..., 51) = 51\nwrite(3, \"\\tcl_object value0;\\n\", 19)   = 19\nwrite(3, \"\\tecl_cs_check(cl_env_copy,value0\"..., 35) = 35\nwrite(3, \"\\t{\\n\", 3)                    = 3\nwrite(3, \"TTL:\\n\", 5)                   = 5\nwrite(3, \"\\t{cl_object V2;                 \"..., 66) = 66\nwrite(3, \"\\tV2= Cnil;\\n\", 11)           = 11\nwrite(3, \"\\tif(!((V1)==(VV[28]))){\\n\", 24) = 24\nwrite(3, \"\\tgoto L3;}\\n\", 11)           = 11\nwrite(3, \"\\tT0= LC9next(lex0)              \"..., 67) = 67\nwrite(3, \"\\tcl_env_copy->values[0]=LC10cond\"..., 69) = 69\nwrite(3, \"\\t{int V3=cl_env_copy->nvalues-0;\"..., 33) = 33\nwrite(3, \"\\tif (V3--<=0) goto L8;\\n\", 23) = 23\nwrite(3, \"\\tV2= cl_env_copy->values[0];\\n\", 29) = 29\nwrite(3, \"\\tif (V3--<=0) goto L9;\\n\", 23) = 23\nwrite(3, \"\\tV1= cl_env_copy->values[1];\\n\", 29) = 29\nwrite(3, \"\\tgoto L10;}\\n\", 12)          = 12\nwrite(3, \"L8:;\\n\", 5)                   = 5\nwrite(3, \"\\tV2= Cnil;\\n\", 11)           = 11\nwrite(3, \"L9:;\\n\", 5)                   = 5\nwrite(3, \"\\tV1= Cnil;\\n\", 11)           = 11\nwrite(3, \"L10:;\\n\", 6)                  = 6\nwrite(3, \"\\tif((V1)==(VV[29])){\\n\", 21) = 21\nwrite(3, \"\\tgoto L13;}\\n\", 12)          = 12\nwrite(3, \"\\t(void)cl_error(1,_ecl_static_17\"..., 67) = 67\nwrite(3, \"\\tgoto L11;\\n\", 11)           = 11\nwrite(3, \"L13:;\\n\", 6)                  = 6\nwrite(3, \"\\tgoto L11;\\n\", 11)           = 11\nwrite(3, \"L11:;\\n\", 6)                  = 6\nwrite(3, \"\\tT0= LC9next(lex0)              \"..., 67) = 67\nwrite(3, \"\\tcl_env_copy->nvalues=2;\\n\", 25) = 25\nwrite(3, \"\\tcl_env_copy->values[1]=T0;\\n\", 28) = 28\nwrite(3, \"\\tcl_env_copy->values[0]=V2;\\n\", 28) = 28\nwrite(3, \"\\treturn cl_env_copy->values[0];\\n\", 32) = 32\nwrite(3, \"L3:;\\n\", 5)                   = 5\nwrite(3, \"\\tif(!(ecl_numberp(V1))){\\n\", 25) = 25\nwrite(3, \"\\tgoto L17;}\\n\", 12)          = 12\nwrite(3, \"\\tT0= LC9next(lex0)              \"..., 67) = 67\nwrite(3, \"\\tcl_env_copy->nvalues=2;\\n\", 25) = 25\nwrite(3, \"\\tcl_env_copy->values[1]=T0;\\n\", 28) = 28\nwrite(3, \"\\tcl_env_copy->values[0]=V1;\\n\", 28) = 28\nwrite(3, \"\\treturn cl_env_copy->values[0];\\n\", 32) = 32\nwrite(3, \"L17:;\\n\", 6)                  = 6\nwrite(3, \"\\tif(!((V1)==(VV[26]))){\\n\", 24) = 24\nwrite(3, \"\\tgoto L21;}\\n\", 12)          = 12\nwrite(3, \"\\tT0= LC9next(lex0)              \"..., 67) = 67\nwrite(3, \"\\tcl_env_copy->nvalues=2;\\n\", 25) = 25\nwrite(3, \"\\tcl_env_copy->values[1]=T0;\\n\", 28) = 28\nwrite(3, \"\\tcl_env_copy->values[0]=V1;\\n\", 28) = 28\nwrite(3, \"\\treturn cl_env_copy->values[0];\\n\", 32) = 32\nwrite(3, \"L21:;\\n\", 6)                  = 6\nwrite(3, \"\\tif(!((V1)==(VV[30]))){\\n\", 24) = 24\nwrite(3, \"\\tgoto L25;}\\n\", 12)          = 12\nwrite(3, \"\\tV1= LC9next(lex0)              \"..., 67) = 67\nwrite(2, \"\\nInternal or unrecoverable error\"..., 60\nInternal or unrecoverable error in:\nnot a lisp data object\n) = 60\nwrite(2, \"  [2: No such file or directory]\"..., 33  [2: No such file or directory]\n) = 33\nwrite(2, \"\\n;;; ECL C Backtrace\\n\", 21\n;;; ECL C Backtrace\n) = 21\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 106;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(si_dump_c_backtrace-0xb4cb4) [0x400001d28d4]\n) = 106\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 105;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_internal_error-0xc2854) [0x400001c38c4]\n) = 105\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x17a3bc) [0x400001da3bc]\n) = 88\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 97;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_type_of-0xadda4) [0x400001dab94]\n) = 97\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 96;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_typep-0x192498) [0x400000e7d10]\n) = 96\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 96;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_typep-0x192550) [0x400000e7c58]\n) = 96\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x37950) [0x40000797950]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x37d60) [0x40000797d60]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4e57c) [0x400007ae57c]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16caa0) [0x400001ccaa0]\n) = 88\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x52024) [0x400007b2024]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 92;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY-0x87d68) [0x40000204200]\n) = 92\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfee8) [0x400001a2a68]\n) = 113\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]\n) = 95\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4cd00) [0x400007acd00]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16cb0c) [0x400001ccb0c]\n) = 88\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x55aa0) [0x400007b5aa0]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 98;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY_fixed-0x83d38) [0x40000208248]\n) = 98\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfeb8) [0x400001a2a98]\n) = 113\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]\n) = 95\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4cd00) [0x400007acd00]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16cb0c) [0x400001ccb0c]\n) = 88\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x55b30) [0x400007b5b30]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 98;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY_fixed-0x83d38) [0x40000208248]\n) = 98\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfeb8) [0x400001a2a98]\n) = 113\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]\n) = 95\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4cd00) [0x400007acd00]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16cb0c) [0x400001ccb0c]\n) = 88\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x55b30) [0x400007b5b30]\n) = 91\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 98;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY_fixed-0x83d38) [0x40000208248]\n) = 98\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfeb8) [0x400001a2a98]\n) = 113\nwrite(2, \";;; /home/fbissey/sage-4.7.2.alp\"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]\n) = 95\n```",
    "created_at": "2011-09-13T03:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164185",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:32'></a>
Found a way of stracing ecl, not that it is helpful

```
write(1, ";;; Emitting code for UNARY", 27;;; Emitting code for UNARY) = 27
write(1, ".\n", 2.
)                      = 2
write(3, "}}\n", 3)                     = 3
write(3, "/*\tlocal function UNARY         "..., 68) = 68
write(4, "#define STCK10\n", 15)        = 15
write(3, "/*\toptimize speed 3, debug 2, sp"..., 68) = 68
write(3, "static cl_object LC21unary(volat"..., 67) = 67
write(3, "{ VT11 VLEX11 CLSR11 STCK11\n", 28) = 28
write(3, "\tconst cl_env_ptr cl_env_copy = "..., 51) = 51
write(3, "\tcl_object value0;\n", 19)   = 19
write(3, "\tecl_cs_check(cl_env_copy,value0"..., 35) = 35
write(3, "\t{\n", 3)                    = 3
write(3, "TTL:\n", 5)                   = 5
write(3, "\t{cl_object V2;                 "..., 66) = 66
write(3, "\tV2= Cnil;\n", 11)           = 11
write(3, "\tif(!((V1)==(VV[28]))){\n", 24) = 24
write(3, "\tgoto L3;}\n", 11)           = 11
write(3, "\tT0= LC9next(lex0)              "..., 67) = 67
write(3, "\tcl_env_copy->values[0]=LC10cond"..., 69) = 69
write(3, "\t{int V3=cl_env_copy->nvalues-0;"..., 33) = 33
write(3, "\tif (V3--<=0) goto L8;\n", 23) = 23
write(3, "\tV2= cl_env_copy->values[0];\n", 29) = 29
write(3, "\tif (V3--<=0) goto L9;\n", 23) = 23
write(3, "\tV1= cl_env_copy->values[1];\n", 29) = 29
write(3, "\tgoto L10;}\n", 12)          = 12
write(3, "L8:;\n", 5)                   = 5
write(3, "\tV2= Cnil;\n", 11)           = 11
write(3, "L9:;\n", 5)                   = 5
write(3, "\tV1= Cnil;\n", 11)           = 11
write(3, "L10:;\n", 6)                  = 6
write(3, "\tif((V1)==(VV[29])){\n", 21) = 21
write(3, "\tgoto L13;}\n", 12)          = 12
write(3, "\t(void)cl_error(1,_ecl_static_17"..., 67) = 67
write(3, "\tgoto L11;\n", 11)           = 11
write(3, "L13:;\n", 6)                  = 6
write(3, "\tgoto L11;\n", 11)           = 11
write(3, "L11:;\n", 6)                  = 6
write(3, "\tT0= LC9next(lex0)              "..., 67) = 67
write(3, "\tcl_env_copy->nvalues=2;\n", 25) = 25
write(3, "\tcl_env_copy->values[1]=T0;\n", 28) = 28
write(3, "\tcl_env_copy->values[0]=V2;\n", 28) = 28
write(3, "\treturn cl_env_copy->values[0];\n", 32) = 32
write(3, "L3:;\n", 5)                   = 5
write(3, "\tif(!(ecl_numberp(V1))){\n", 25) = 25
write(3, "\tgoto L17;}\n", 12)          = 12
write(3, "\tT0= LC9next(lex0)              "..., 67) = 67
write(3, "\tcl_env_copy->nvalues=2;\n", 25) = 25
write(3, "\tcl_env_copy->values[1]=T0;\n", 28) = 28
write(3, "\tcl_env_copy->values[0]=V1;\n", 28) = 28
write(3, "\treturn cl_env_copy->values[0];\n", 32) = 32
write(3, "L17:;\n", 6)                  = 6
write(3, "\tif(!((V1)==(VV[26]))){\n", 24) = 24
write(3, "\tgoto L21;}\n", 12)          = 12
write(3, "\tT0= LC9next(lex0)              "..., 67) = 67
write(3, "\tcl_env_copy->nvalues=2;\n", 25) = 25
write(3, "\tcl_env_copy->values[1]=T0;\n", 28) = 28
write(3, "\tcl_env_copy->values[0]=V1;\n", 28) = 28
write(3, "\treturn cl_env_copy->values[0];\n", 32) = 32
write(3, "L21:;\n", 6)                  = 6
write(3, "\tif(!((V1)==(VV[30]))){\n", 24) = 24
write(3, "\tgoto L25;}\n", 12)          = 12
write(3, "\tV1= LC9next(lex0)              "..., 67) = 67
write(2, "\nInternal or unrecoverable error"..., 60
Internal or unrecoverable error in:
not a lisp data object
) = 60
write(2, "  [2: No such file or directory]"..., 33  [2: No such file or directory]
) = 33
write(2, "\n;;; ECL C Backtrace\n", 21
;;; ECL C Backtrace
) = 21
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 106;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(si_dump_c_backtrace-0xb4cb4) [0x400001d28d4]
) = 106
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 105;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_internal_error-0xc2854) [0x400001c38c4]
) = 105
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x17a3bc) [0x400001da3bc]
) = 88
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 97;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_type_of-0xadda4) [0x400001dab94]
) = 97
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 96;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_typep-0x192498) [0x400000e7d10]
) = 96
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 96;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_typep-0x192550) [0x400000e7c58]
) = 96
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x37950) [0x40000797950]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x37d60) [0x40000797d60]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4e57c) [0x400007ae57c]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16caa0) [0x400001ccaa0]
) = 88
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x52024) [0x400007b2024]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 92;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY-0x87d68) [0x40000204200]
) = 92
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfee8) [0x400001a2a68]
) = 113
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]
) = 95
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4cd00) [0x400007acd00]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16cb0c) [0x400001ccb0c]
) = 88
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x55aa0) [0x400007b5aa0]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 98;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY_fixed-0x83d38) [0x40000208248]
) = 98
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfeb8) [0x400001a2a98]
) = 113
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]
) = 95
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4cd00) [0x400007acd00]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16cb0c) [0x400001ccb0c]
) = 88
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x55b30) [0x400007b5b30]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 98;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY_fixed-0x83d38) [0x40000208248]
) = 98
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfeb8) [0x400001a2a98]
) = 113
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]
) = 95
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x4cd00) [0x400007acd00]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 88;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(+0x16cb0c) [0x400001ccb0c]
) = 88
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 91;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl-11.1.1/cmp.fas(+0x55b30) [0x400007b5b30]
) = 91
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 98;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(APPLY_fixed-0x83d38) [0x40000208248]
) = 98
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 113;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(ecl_apply_from_stack_frame-0xdfeb8) [0x400001a2a98]
) = 113
write(2, ";;; /home/fbissey/sage-4.7.2.alp"..., 95;;; /home/fbissey/sage-4.7.2.alpha2/local/lib/libecl.so.11.1(cl_apply-0xdfb50) [0x400001a2e48]
) = 95
```



---

archive/issue_comments_164186.json:
```json
{
    "body": "<a id='comment:33'></a>\nOK I hacked something in ecl and now maxima is compiling... Cross finger that it will be successfull.\n\n```\nsrc/c/main.d:   16*1024,        /* ECL_OPT_C_STACK_SAFETY_AREA */\n```\nI changed 16 to 64, ecl compiled and....\n\n```\n;;;   gcc -o lisp-cache/home/fbissey/sage-4.7.2.alpha2/spkg/build/maxima-5.25.1/src/src/maxima.fasb -L/home/fbissey/sage-4.7.2.alpha2/local/lib/ /tmp/eclinit8QaoTI.o lisp-cache/home/fbissey/sage-4.7.2.alpha2/spkg/build/maxima-5.25.1/src/src/libmaxima.a -Wl,--rpath,/home/fbissey/sage-4.7.2.alpha2/local/lib/ -shared -L/home/fbissey/sage-4.7.2.alpha2/local/lib -L/home/fbissey/sage-4.7.2.alpha2/local/lib -lecl -lgmp -lgc -ldl -lm \ninstalling Maxima library as /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl//maxima.fas\n\nreal    6m36.665s\nuser    5m44.422s\nsys     0m30.499s\nSuccessfully installed maxima-5.25.1\nNow cleaning up tmp files.\nMaking Sage/Python scripts relocatable...\nMaking script relocatable\nFinished installing maxima-5.25.1.spkg\nfbissey@silius:~/sage-4.7.2.alpha2>\n```\n:)\nI'll have to downgrade maxima and run the test later but you can take over while real life is calling me.",
    "created_at": "2011-09-13T05:07:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164186",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:33'></a>
OK I hacked something in ecl and now maxima is compiling... Cross finger that it will be successfull.

```
src/c/main.d:   16*1024,        /* ECL_OPT_C_STACK_SAFETY_AREA */
```
I changed 16 to 64, ecl compiled and....

```
;;;   gcc -o lisp-cache/home/fbissey/sage-4.7.2.alpha2/spkg/build/maxima-5.25.1/src/src/maxima.fasb -L/home/fbissey/sage-4.7.2.alpha2/local/lib/ /tmp/eclinit8QaoTI.o lisp-cache/home/fbissey/sage-4.7.2.alpha2/spkg/build/maxima-5.25.1/src/src/libmaxima.a -Wl,--rpath,/home/fbissey/sage-4.7.2.alpha2/local/lib/ -shared -L/home/fbissey/sage-4.7.2.alpha2/local/lib -L/home/fbissey/sage-4.7.2.alpha2/local/lib -lecl -lgmp -lgc -ldl -lm 
installing Maxima library as /home/fbissey/sage-4.7.2.alpha2/local/lib/ecl//maxima.fas

real    6m36.665s
user    5m44.422s
sys     0m30.499s
Successfully installed maxima-5.25.1
Now cleaning up tmp files.
Making Sage/Python scripts relocatable...
Making script relocatable
Finished installing maxima-5.25.1.spkg
fbissey@silius:~/sage-4.7.2.alpha2>
```
:)
I'll have to downgrade maxima and run the test later but you can take over while real life is calling me.



---

archive/issue_comments_164187.json:
```json
{
    "body": "Changing upstream from \"N/A\" to \"Not yet reported upstream; Will do shortly.\"",
    "created_at": "2011-09-13T12:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164187",
    "user": "https://github.com/kcrisman"
}
```

Changing upstream from "N/A" to "Not yet reported upstream; Will do shortly."



---

archive/issue_comments_164188.json:
```json
{
    "body": "<a id='comment:34'></a>\nNice.  No idea how you guys figure this stuff out :)\n\nJust be sure to report this potential fix upstream.  Juanjo should be able to incorporate something reasonable.",
    "created_at": "2011-09-13T12:21:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164188",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:34'></a>
Nice.  No idea how you guys figure this stuff out :)

Just be sure to report this potential fix upstream.  Juanjo should be able to incorporate something reasonable.



---

archive/issue_comments_164189.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [kcrisman](#comment%3A34):\n> Nice.  No idea how you guys figure this stuff out :)\n> \n  \nTo be honest, I have no idea myself sometimes :) I would need to be filmed in action. It all started with reading the bits about porting ecl to a new platform. Then inspect some of the files that page mentioned, the variable name jumped at me... I looked for it remembering previous comments on this threads. You could guess where 64 came from.",
    "created_at": "2011-09-13T13:39:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164189",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'></a>
Replying to [kcrisman](#comment%3A34):
> Nice.  No idea how you guys figure this stuff out :)
> 
  
To be honest, I have no idea myself sometimes :) I would need to be filmed in action. It all started with reading the bits about porting ecl to a new platform. Then inspect some of the files that page mentioned, the variable name jumped at me... I looked for it remembering previous comments on this threads. You could guess where 64 came from.



---

archive/issue_comments_164190.json:
```json
{
    "body": "<a id='comment:36'></a>\nI'm not having any luck with this.  I took Sage 4.7.2.alpha2, put in the new tachyon spkg from #11706, and modified ecl as described above (just one change in main.d).  Neither the included version of maxima nor 5.25 (referenced [above](#comment%3A31)) compiles.  Did I miss something, or do I just not have the magic touch?",
    "created_at": "2011-09-13T15:59:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164190",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:36'></a>
I'm not having any luck with this.  I took Sage 4.7.2.alpha2, put in the new tachyon spkg from #11706, and modified ecl as described above (just one change in main.d).  Neither the included version of maxima nor 5.25 (referenced [above](#comment%3A31)) compiles.  Did I miss something, or do I just not have the magic touch?



---

archive/issue_comments_164191.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [jhpalmieri](#comment%3A36):\n> I'm not having any luck with this.  I took Sage 4.7.2.alpha2, put in the new tachyon spkg from #11706, and modified ecl as described above (just one change in main.d).  Neither the included version of maxima nor 5.25 (referenced [above](#comment%3A31)) compiles.  Did I miss something, or do I just not have the magic touch?\n\n\nDo you get the same error on UNARY or do you get something new?",
    "created_at": "2011-09-13T20:13:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164191",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>
Replying to [jhpalmieri](#comment%3A36):
> I'm not having any luck with this.  I took Sage 4.7.2.alpha2, put in the new tachyon spkg from #11706, and modified ecl as described above (just one change in main.d).  Neither the included version of maxima nor 5.25 (referenced [above](#comment%3A31)) compiles.  Did I miss something, or do I just not have the magic touch?


Do you get the same error on UNARY or do you get something new?



---

archive/issue_comments_164192.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [fbissey](#comment%3A37):\n> Replying to [jhpalmieri](#comment%3A36):\n> > I'm not having any luck with this.  I took Sage 4.7.2.alpha2, put in the new tachyon spkg from #11706, and modified ecl as described above (just one change in main.d).  Neither the included version of maxima nor 5.25 (referenced [above](#comment%3A31)) compiles.  Did I miss something, or do I just not have the magic touch?\n\n> \n> Do you get the same error on UNARY or do you get something new?\n\n\nIt looks like the same error to me: it looks just like the message in the ticket description.",
    "created_at": "2011-09-13T20:46:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164192",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:38'></a>
Replying to [fbissey](#comment%3A37):
> Replying to [jhpalmieri](#comment%3A36):
> > I'm not having any luck with this.  I took Sage 4.7.2.alpha2, put in the new tachyon spkg from #11706, and modified ecl as described above (just one change in main.d).  Neither the included version of maxima nor 5.25 (referenced [above](#comment%3A31)) compiles.  Did I miss something, or do I just not have the magic touch?

> 
> Do you get the same error on UNARY or do you get something new?


It looks like the same error to me: it looks just like the message in the ticket description.



---

archive/issue_comments_164193.json:
```json
{
    "body": "<a id='comment:39'></a>\nI also tried your fix and ran into the same old error at the UNARY part of Maxima's build. Here's exactly what I did.\n\n0. starting with sage-4.7.2.alpha2 on skynet/silius\n1. unpacked ecl-11.1.1.p1.spkg in a tmp directory\n2. modified the line in src/c/main.d, changing the 16 to a 64\n3. repacked the modified ecl-11.1.1.p1.spkg and put it in SAGE_ROOT/spkg/standard\n4. then ran make from SAGE_ROOT\n\nThe ECL build finishes without error, but the Maxima build fails at the same point as before. \n\nSo you were saying that you were building a new spkg of maxima (or maybe of ECL). That could be the difference that John and I are seeing.",
    "created_at": "2011-09-13T20:50:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164193",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:39'></a>
I also tried your fix and ran into the same old error at the UNARY part of Maxima's build. Here's exactly what I did.

0. starting with sage-4.7.2.alpha2 on skynet/silius
1. unpacked ecl-11.1.1.p1.spkg in a tmp directory
2. modified the line in src/c/main.d, changing the 16 to a 64
3. repacked the modified ecl-11.1.1.p1.spkg and put it in SAGE_ROOT/spkg/standard
4. then ran make from SAGE_ROOT

The ECL build finishes without error, but the Maxima build fails at the same point as before. 

So you were saying that you were building a new spkg of maxima (or maybe of ECL). That could be the difference that John and I are seeing.



---

archive/issue_comments_164194.json:
```json
{
    "body": "<a id='comment:40'></a>\nThat's weird I definitely have maxima installed on silius now\n\n```\nfbissey@silius:~/sage-4.7.2.alpha2> export LD_LIBRARY_PATH=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/lib64\nfbissey@silius:~/sage-4.7.2.alpha2> ./sage\n----------------------------------------------------------------------\n----------------------------------------------------------------------\n**********************************************************************\n*                                                                    *\n* Warning: this is a prerelease version, and it may be unstable.     *\n*                                                                    *\n**********************************************************************\nsage: quit\nExiting Sage (CPU time 0m0.07s, Wall time 0m16.60s).\nfbissey@silius:~/sage-4.7.2.alpha2> ./sage -t -long  -force_lib devel/sage-main/sage/interfaces/maxima.py\ninit.sage does not exist ... creating\nsage -t -long -force_lib \"devel/sage-main/sage/interfaces/maxima.py\"\n**********************************************************************\nFile \"/home/fbissey/sage-4.7.2.alpha2/devel/sage-main/sage/interfaces/maxima.py\", line 124:\n    sage: a.expand()\nExpected:\n    3*2^(7/2)+5*sqrt(2)+41\nGot:\n    29*sqrt(2)+41\n**********************************************************************\n1 items had failures:\n   1 of  97 in __main__.example_0\n***Test Failed*** 1 failures.\nFor whitespace errors, see the file /home/fbissey/.sage//tmp/.doctest_maxima.py\n         [30.9 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n| Sage Version 4.7.2.alpha2, Release Date: 2011-08-24                |\n| Type notebook() for the GUI, and license() for information.        |\n\n\n        sage -t -long -force_lib \"devel/sage-main/sage/interfaces/maxima.py\"\nTotal time for all tests: 31.0 seconds\n```\nThat's an expected failure with maxima-5.25.{0,1}.\n\nI'll try to rebuild from scratch and make a ecl spkg that is not a hack.",
    "created_at": "2011-09-13T21:49:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164194",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'></a>
That's weird I definitely have maxima installed on silius now

```
fbissey@silius:~/sage-4.7.2.alpha2> export LD_LIBRARY_PATH=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/lib64
fbissey@silius:~/sage-4.7.2.alpha2> ./sage
----------------------------------------------------------------------
----------------------------------------------------------------------
**********************************************************************
*                                                                    *
* Warning: this is a prerelease version, and it may be unstable.     *
*                                                                    *
**********************************************************************
sage: quit
Exiting Sage (CPU time 0m0.07s, Wall time 0m16.60s).
fbissey@silius:~/sage-4.7.2.alpha2> ./sage -t -long  -force_lib devel/sage-main/sage/interfaces/maxima.py
init.sage does not exist ... creating
sage -t -long -force_lib "devel/sage-main/sage/interfaces/maxima.py"
**********************************************************************
File "/home/fbissey/sage-4.7.2.alpha2/devel/sage-main/sage/interfaces/maxima.py", line 124:
    sage: a.expand()
Expected:
    3*2^(7/2)+5*sqrt(2)+41
Got:
    29*sqrt(2)+41
**********************************************************************
1 items had failures:
   1 of  97 in __main__.example_0
***Test Failed*** 1 failures.
For whitespace errors, see the file /home/fbissey/.sage//tmp/.doctest_maxima.py
         [30.9 s]
 
----------------------------------------------------------------------
The following tests failed:
| Sage Version 4.7.2.alpha2, Release Date: 2011-08-24                |
| Type notebook() for the GUI, and license() for information.        |


        sage -t -long -force_lib "devel/sage-main/sage/interfaces/maxima.py"
Total time for all tests: 31.0 seconds
```
That's an expected failure with maxima-5.25.{0,1}.

I'll try to rebuild from scratch and make a ecl spkg that is not a hack.



---

archive/issue_comments_164195.json:
```json
{
    "body": "<a id='comment:41'></a>\nI have made my home folder accessible on skynet so anyone can have a look at my install.",
    "created_at": "2011-09-13T21:52:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164195",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:41'></a>
I have made my home folder accessible on skynet so anyone can have a look at my install.



---

archive/issue_comments_164196.json:
```json
{
    "body": "<a id='comment:42'></a>\nThe plot thicken. I am not sure yet that *my fix* actually does anything. We have a gcc problem... I couldn't reproduce the build for quite a while and even destroyed my working install. maxima will install if ecl has been compiled with gcc-4.3.4 that comes with SLES but not with gcc-4.6.1. I have managed to compile it the first time because I forgot to put gcc-4.6.1 back into my path after my ssh connection was broken one time too many.\n\nCompiling ecl-11.1.1.p1 with gcc-4.3.4 to check if the fix does anything at all now...",
    "created_at": "2011-09-13T23:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164196",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:42'></a>
The plot thicken. I am not sure yet that *my fix* actually does anything. We have a gcc problem... I couldn't reproduce the build for quite a while and even destroyed my working install. maxima will install if ecl has been compiled with gcc-4.3.4 that comes with SLES but not with gcc-4.6.1. I have managed to compile it the first time because I forgot to put gcc-4.6.1 back into my path after my ssh connection was broken one time too many.

Compiling ecl-11.1.1.p1 with gcc-4.3.4 to check if the fix does anything at all now...



---

archive/issue_comments_164197.json:
```json
{
    "body": "<a id='comment:43'></a>\nConfirmed. Fix does nothing gcc version used is what matters.",
    "created_at": "2011-09-14T00:00:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164197",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:43'></a>
Confirmed. Fix does nothing gcc version used is what matters.



---

archive/issue_comments_164198.json:
```json
{
    "body": "<a id='comment:44'></a>\nIs it ok, though, if Linux PPC 64-bit is a relatively unusual platform and we could tell people to use a certain gcc?  On Cygwin this would certainly be ok, since it's likely to only be used as a binary; here, maybe not.",
    "created_at": "2011-09-14T01:20:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164198",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:44'></a>
Is it ok, though, if Linux PPC 64-bit is a relatively unusual platform and we could tell people to use a certain gcc?  On Cygwin this would certainly be ok, since it's likely to only be used as a binary; here, maybe not.



---

archive/issue_comments_164199.json:
```json
{
    "body": "<a id='comment:45'></a>\nWell, the SLES install we have does not include gfortran so at the moment we have to get it from gcc-4.6.1. I have had some experience building gcc on power (power5 so far power7 any days now, ok so I had a G4 too)and it is a bit dodgy at times. I am not sure if it is dodgier on linux or AIX. On AIX I haven't had a g++ free of problems for example. I suspect that the gcc on silius could use a bit of massaging, the question is where and how. And finally it could very well be an obscure gcc bug that only shows up on power.",
    "created_at": "2011-09-14T01:54:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164199",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:45'></a>
Well, the SLES install we have does not include gfortran so at the moment we have to get it from gcc-4.6.1. I have had some experience building gcc on power (power5 so far power7 any days now, ok so I had a G4 too)and it is a bit dodgy at times. I am not sure if it is dodgier on linux or AIX. On AIX I haven't had a g++ free of problems for example. I suspect that the gcc on silius could use a bit of massaging, the question is where and how. And finally it could very well be an obscure gcc bug that only shows up on power.



---

archive/issue_comments_164200.json:
```json
{
    "body": "<a id='comment:46'></a>\nNote that that SLES gcc has been built for power4 to ensure compatibility with a wide range of hardware\n\n```\ngcc -v\nUsing built-in specs.\nTarget: powerpc64-suse-linux\nConfigured with: ../configure --prefix=/usr --infodir=/usr/share/info --mandir=/usr/share/man --libdir=/usr/lib64 --libexecdir=/usr/lib64 --enable-languages=c,c++,objc,fortran,obj-c++,java --enable-checking=release --with-gxx-include-dir=/usr/include/c++/4.3 --enable-ssp --disable-libssp --with-bugurl=http://bugs.opensuse.org/ --with-pkgversion='SUSE Linux' --disable-libgcj --disable-libmudflap --with-slibdir=/lib64 --with-system-zlib --enable-__cxa_atexit --enable-libstdcxx-allocator=new --disable-libstdcxx-pch --enable-version-specific-runtime-libs --program-suffix=-4.3 --enable-linux-futex --without-system-libunwind --with-cpu=power4 --enable-secureplt --with-long-double-128 --build=powerpc64-suse-linux\nThread model: posix\ngcc version 4.3.4 [gcc-4_3-branch revision 152973] (SUSE Linux)\n```\nNot sure about the localy compiled gcc\n\n```\n/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/bin/gcc -v\nUsing built-in specs.\nCOLLECT_GCC=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/bin/gcc\nCOLLECT_LTO_WRAPPER=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/libexec/gcc/powerpc64-unknown-linux-gnu/4.6.1/lto-wrapper\nTarget: powerpc64-unknown-linux-gnu\nConfigured with: /usr/local/gcc-4.6.1/src/gcc-4.6.1/configure --enable-languages=c,c++,fortran --with-gnu-as --with-gnu-as=/usr/local/binutils-2.21/ppc64-Linux-power7-suse-gcc-4.3.4-suse/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.21/ppc64-Linux-power7-suse-gcc-4.3.4-suse/bin/ld --with-gmp=/usr/local/mpir-2.4.0/ppc64-Linux-power7-suse-gcc-4.3.4-suse --with-mpfr=/usr/local/mpfr-3.0.1/ppc64-Linux-power7-suse-mpir-2.4.0-gcc-4.3.4-suse --with-mpc=/usr/local/mpc-0.9/ppc64-Linux-power7-suse-mpir-2.4.0-mpfr-3.0.1-gcc-4.3.4-suse --prefix=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse\nThread model: posix\ngcc version 4.6.1 (GCC) \n```\nThere are a number of elements that could play right there from the config.",
    "created_at": "2011-09-14T02:10:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164200",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:46'></a>
Note that that SLES gcc has been built for power4 to ensure compatibility with a wide range of hardware

```
gcc -v
Using built-in specs.
Target: powerpc64-suse-linux
Configured with: ../configure --prefix=/usr --infodir=/usr/share/info --mandir=/usr/share/man --libdir=/usr/lib64 --libexecdir=/usr/lib64 --enable-languages=c,c++,objc,fortran,obj-c++,java --enable-checking=release --with-gxx-include-dir=/usr/include/c++/4.3 --enable-ssp --disable-libssp --with-bugurl=http://bugs.opensuse.org/ --with-pkgversion='SUSE Linux' --disable-libgcj --disable-libmudflap --with-slibdir=/lib64 --with-system-zlib --enable-__cxa_atexit --enable-libstdcxx-allocator=new --disable-libstdcxx-pch --enable-version-specific-runtime-libs --program-suffix=-4.3 --enable-linux-futex --without-system-libunwind --with-cpu=power4 --enable-secureplt --with-long-double-128 --build=powerpc64-suse-linux
Thread model: posix
gcc version 4.3.4 [gcc-4_3-branch revision 152973] (SUSE Linux)
```
Not sure about the localy compiled gcc

```
/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/bin/gcc -v
Using built-in specs.
COLLECT_GCC=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/bin/gcc
COLLECT_LTO_WRAPPER=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse/libexec/gcc/powerpc64-unknown-linux-gnu/4.6.1/lto-wrapper
Target: powerpc64-unknown-linux-gnu
Configured with: /usr/local/gcc-4.6.1/src/gcc-4.6.1/configure --enable-languages=c,c++,fortran --with-gnu-as --with-gnu-as=/usr/local/binutils-2.21/ppc64-Linux-power7-suse-gcc-4.3.4-suse/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.21/ppc64-Linux-power7-suse-gcc-4.3.4-suse/bin/ld --with-gmp=/usr/local/mpir-2.4.0/ppc64-Linux-power7-suse-gcc-4.3.4-suse --with-mpfr=/usr/local/mpfr-3.0.1/ppc64-Linux-power7-suse-mpir-2.4.0-gcc-4.3.4-suse --with-mpc=/usr/local/mpc-0.9/ppc64-Linux-power7-suse-mpir-2.4.0-mpfr-3.0.1-gcc-4.3.4-suse --prefix=/usr/local/gcc-4.6.1/ppc64-Linux-power7-suse
Thread model: posix
gcc version 4.6.1 (GCC) 
```
There are a number of elements that could play right there from the config.



---

archive/issue_comments_164201.json:
```json
{
    "body": "<a id='comment:47'></a>\nFunny that you *incidentally* compiled ECL with some other GCC version...\n\nPerhaps also try some version from the 4.5 series.\n\nKarl-Dieter, which upstream do you have in mind (now)? ;-)\n\n\n\n\nBtw., the \"native\" SLES GCC is configured with `--enable-languages=...,fortran,...`, so in principle `gfortran` should be available, perhaps packaged separately though. (It's only a wrapper anyway, so should be replaceable by some simple shell script.)",
    "created_at": "2011-09-14T14:33:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164201",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:47'></a>
Funny that you *incidentally* compiled ECL with some other GCC version...

Perhaps also try some version from the 4.5 series.

Karl-Dieter, which upstream do you have in mind (now)? ;-)




Btw., the "native" SLES GCC is configured with `--enable-languages=...,fortran,...`, so in principle `gfortran` should be available, perhaps packaged separately though. (It's only a wrapper anyway, so should be replaceable by some simple shell script.)



---

archive/issue_comments_164202.json:
```json
{
    "body": "<a id='comment:48'></a>\nI added `CC=gcc-4.3; export CC` to the ECL's spkg-install script and after that change the maxima-5.23.2.p0 does indeed build successfully! I'm doing some tests now, will report back.",
    "created_at": "2011-09-14T15:02:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164202",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:48'></a>
I added `CC=gcc-4.3; export CC` to the ECL's spkg-install script and after that change the maxima-5.23.2.p0 does indeed build successfully! I'm doing some tests now, will report back.



---

archive/issue_comments_164203.json:
```json
{
    "body": "<a id='comment:49'></a>\n> Karl-Dieter, which upstream do you have in mind (now)? ;-)\n\n\nI was wondering that myself, but didn't have anything germane to contribute.",
    "created_at": "2011-09-14T15:22:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164203",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:49'></a>
> Karl-Dieter, which upstream do you have in mind (now)? ;-)


I was wondering that myself, but didn't have anything germane to contribute.



---

archive/issue_comments_164204.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [leif](#comment%3A47):\n> Funny that you *incidentally* compiled ECL with some other GCC version...\n> \n\n\nYEs, gave me a false sense of victory for a while. Lucky I figured out what\nthe recipe for success was. Imagine: we have a working install and no one knows \nwhy or is able to reproduce it!\n\n> Perhaps also try some version from the 4.5 series.\n> \n\n\nDefinitely something to try.\n\n> Btw., the \"native\" SLES GCC is configured with `--enable-languages=...,fortran,...`, so in principle `gfortran` should be available, perhaps packaged separately though. (It's only a wrapper anyway, so should be replaceable by some simple shell script.)\n\n\nYou would think so. However I cannot find anything on the sles11 dvds (for either x86_64 or ppc64) that mention explicitly fortran. It could be part of some other gcc rpm I need to have a closer look.",
    "created_at": "2011-09-14T22:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164204",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:50'></a>
Replying to [leif](#comment%3A47):
> Funny that you *incidentally* compiled ECL with some other GCC version...
> 


YEs, gave me a false sense of victory for a while. Lucky I figured out what
the recipe for success was. Imagine: we have a working install and no one knows 
why or is able to reproduce it!

> Perhaps also try some version from the 4.5 series.
> 


Definitely something to try.

> Btw., the "native" SLES GCC is configured with `--enable-languages=...,fortran,...`, so in principle `gfortran` should be available, perhaps packaged separately though. (It's only a wrapper anyway, so should be replaceable by some simple shell script.)


You would think so. However I cannot find anything on the sles11 dvds (for either x86_64 or ppc64) that mention explicitly fortran. It could be part of some other gcc rpm I need to have a closer look.



---

archive/issue_comments_164205.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [fbissey](#comment%3A50):\n> Replying to [leif](#comment%3A47):\n> > Funny that you *incidentally* compiled ECL with some other GCC version...\n> > \n\n> \n> YEs, gave me a false sense of victory for a while. Lucky I figured out what\n> the recipe for success was. Imagine: we have a working install and no one knows \n> why or is able to reproduce it!\n\n\nI was just wondering nobody (else) tried, *intentionally*... B)\n\nUnfortunately I now also have an account there, but will first spend my time on the Sage 4.7.2.alpha3 release.\n\n\n\n\n> > Btw., the \"native\" SLES GCC is configured with `--enable-languages=...,fortran,...`, so in principle `gfortran` should be available, perhaps packaged separately though. (It's only a wrapper anyway, so should be replaceable by some simple shell script.)\n\n> \n> You would think so. However I cannot find anything on the sles11 dvds (for either x86_64 or ppc64) that mention explicitly fortran. It could be part of some other gcc rpm I need to have a closer look.\n\n\nThere are at least PPC ones for openSUSE (GCC 4.3), e.g. [here](http://www.rpmseek.com/rpm-dl/gcc43-fortran-4.3.1_20080507-6.1.ppc.html?hl=en&cs=gcc43-fortran:PR:0:0:0:0:0:8231772).\n\nOther versions (>4.3.x) should IMHO also work, or grab the sources and build it yourself... ;-)",
    "created_at": "2011-09-14T22:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164205",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:51'></a>
Replying to [fbissey](#comment%3A50):
> Replying to [leif](#comment%3A47):
> > Funny that you *incidentally* compiled ECL with some other GCC version...
> > 

> 
> YEs, gave me a false sense of victory for a while. Lucky I figured out what
> the recipe for success was. Imagine: we have a working install and no one knows 
> why or is able to reproduce it!


I was just wondering nobody (else) tried, *intentionally*... B)

Unfortunately I now also have an account there, but will first spend my time on the Sage 4.7.2.alpha3 release.




> > Btw., the "native" SLES GCC is configured with `--enable-languages=...,fortran,...`, so in principle `gfortran` should be available, perhaps packaged separately though. (It's only a wrapper anyway, so should be replaceable by some simple shell script.)

> 
> You would think so. However I cannot find anything on the sles11 dvds (for either x86_64 or ppc64) that mention explicitly fortran. It could be part of some other gcc rpm I need to have a closer look.


There are at least PPC ones for openSUSE (GCC 4.3), e.g. [here](http://www.rpmseek.com/rpm-dl/gcc43-fortran-4.3.1_20080507-6.1.ppc.html?hl=en&cs=gcc43-fortran:PR:0:0:0:0:0:8231772).

Other versions (>4.3.x) should IMHO also work, or grab the sources and build it yourself... ;-)



---

archive/issue_comments_164206.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [leif](#comment%3A51):\n> There are at least PPC ones for openSUSE (GCC 4.3), e.g. [here](http://www.rpmseek.com/rpm-dl/gcc43-fortran-4.3.1_20080507-6.1.ppc.html?hl=en&cs=gcc43-fortran:PR:0:0:0:0:0:8231772).\n> \n\n\nIt is definitely not on the dvd for sles 11. I will try my own 4.6.1.",
    "created_at": "2011-09-14T22:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164206",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:52'></a>
Replying to [leif](#comment%3A51):
> There are at least PPC ones for openSUSE (GCC 4.3), e.g. [here](http://www.rpmseek.com/rpm-dl/gcc43-fortran-4.3.1_20080507-6.1.ppc.html?hl=en&cs=gcc43-fortran:PR:0:0:0:0:0:8231772).
> 


It is definitely not on the dvd for sles 11. I will try my own 4.6.1.



---

archive/issue_comments_164207.json:
```json
{
    "body": "<a id='comment:53'></a>\nReplying to [fbissey](#comment%3A52):\n> It is definitely not on the dvd for sles 11. I will try my own 4.6.1.\n\n\nI can only tell that 4.5.x's works with both GCC 4.3.x and 4.4.x.",
    "created_at": "2011-09-14T22:46:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164207",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:53'></a>
Replying to [fbissey](#comment%3A52):
> It is definitely not on the dvd for sles 11. I will try my own 4.6.1.


I can only tell that 4.5.x's works with both GCC 4.3.x and 4.4.x.



---

archive/issue_comments_164208.json:
```json
{
    "body": "<a id='comment:54'></a>\nDid you play with optimization flags when building the ECL spkg?\n\nBy default it uses `-O2`; if you set `SAGE_DEBUG=yes`, it will be built with `-O0`.\n\n`spkg-install` looks quite ugly [again?] btw., the following for example is definitely wrong:\n\n```sh\nCPPFLAGS=\"$CPPFLAGS -I$SAGE_LOCAL/include\"\nLDFLAGS=\"$LDFLAGS -L$SAGE_LOCAL/lib\"\n```\n(The order has to be changed in both cases.)",
    "created_at": "2011-09-14T23:03:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164208",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:54'></a>
Did you play with optimization flags when building the ECL spkg?

By default it uses `-O2`; if you set `SAGE_DEBUG=yes`, it will be built with `-O0`.

`spkg-install` looks quite ugly [again?] btw., the following for example is definitely wrong:

```sh
CPPFLAGS="$CPPFLAGS -I$SAGE_LOCAL/include"
LDFLAGS="$LDFLAGS -L$SAGE_LOCAL/lib"
```
(The order has to be changed in both cases.)



---

archive/issue_comments_164209.json:
```json
{
    "body": "<a id='comment:55'></a>\nReplying to [leif](#comment%3A54):\n> Did you play with optimization flags when building the ECL spkg?\n> \n> By default it uses `-O2`; if you set `SAGE_DEBUG=yes`, it will be built with `-O0`.\n> \n> `spkg-install` looks quite ugly [again?] btw., the following for example is definitely wrong:\n> \n> ```\n> #!sh\n> CPPFLAGS=\"$CPPFLAGS -I$SAGE_LOCAL/include\"\n> LDFLAGS=\"$LDFLAGS -L$SAGE_LOCAL/lib\"\n> ```\n> (The order has to be changed in both cases.)\n\nHaven't but that's a good idea. I may have OK-ed those change quickly for .p1 when\na problem appeared with altivec and I caouldn't make a new spkg myself due to time\nconstraints.",
    "created_at": "2011-09-14T23:10:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164209",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:55'></a>
Replying to [leif](#comment%3A54):
> Did you play with optimization flags when building the ECL spkg?
> 
> By default it uses `-O2`; if you set `SAGE_DEBUG=yes`, it will be built with `-O0`.
> 
> `spkg-install` looks quite ugly [again?] btw., the following for example is definitely wrong:
> 
> ```
> #!sh
> CPPFLAGS="$CPPFLAGS -I$SAGE_LOCAL/include"
> LDFLAGS="$LDFLAGS -L$SAGE_LOCAL/lib"
> ```
> (The order has to be changed in both cases.)

Haven't but that's a good idea. I may have OK-ed those change quickly for .p1 when
a problem appeared with altivec and I caouldn't make a new spkg myself due to time
constraints.



---

archive/issue_comments_164210.json:
```json
{
    "body": "<a id='comment:56'></a>\nPlaying around with the `SAGE_DEBUG=yes` flag, I've that ECL doesn't even build on skynet/silius using the default system GCC 4.6.1. The ECL build fails with:\n\n```\n;;; Compiling (DEFUN PPRINT-RAW-ARRAY ...).\n;;; Compiling (DEFUN PPRINT-LAMBDA-LIST ...).\n\n;;;;;; Stack overflow.\n;;; Jumping to the outermost toplevel prompt\n;;;\n```\n \nWithout `SAGE_DEBUG` set, it builds fine (but them Maxima fails, of course).",
    "created_at": "2011-09-16T04:10:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164210",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:56'></a>
Playing around with the `SAGE_DEBUG=yes` flag, I've that ECL doesn't even build on skynet/silius using the default system GCC 4.6.1. The ECL build fails with:

```
;;; Compiling (DEFUN PPRINT-RAW-ARRAY ...).
;;; Compiling (DEFUN PPRINT-LAMBDA-LIST ...).

;;;;;; Stack overflow.
;;; Jumping to the outermost toplevel prompt
;;;
```
 
Without `SAGE_DEBUG` set, it builds fine (but them Maxima fails, of course).



---

archive/issue_comments_164211.json:
```json
{
    "body": "<a id='comment:57'></a>\nEven though Maxima builds when we force ECL to compile under GCC-4.3 on silius, the resulting Sage installation has *lots* of doctest errors. See the [ptestlong.log](http://sage.math.washington.edu/home/bjones/ptestlong.log) file.\n\nAt a glance, there are a couple different errors happening:\n\n1. OverflowError: value too large to convert to int (may have to do with the architecture?)\n2. A couple of `NameError`s in `optimize.py` and `pushout.py`\n\n```\nFile \"/tmp/bjones/sage-4.7.2.alpha2/devel/sage-main/sage/numerical/optimize.py\", line 571:\n    sage: fit[a], fit[b], fit[c]\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/bjones/sage-4.7.2.alpha2/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/tmp/bjones/sage-4.7.2.alpha2/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/tmp/bjones/sage-4.7.2.alpha2/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_7[8]>\", line 1, in <module>\n        fit[a], fit[b], fit[c]###line 571:\n    sage: fit[a], fit[b], fit[c]\n    NameError: name 'fit' is not defined\n```\n\n3. mpfr errors: `RuntimeError: Aborted`\n4. many ` ValueError: Refining interval that does not bound unique root!` type errors from the elliptic curves modules\n\netc..",
    "created_at": "2011-09-16T17:49:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164211",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:57'></a>
Even though Maxima builds when we force ECL to compile under GCC-4.3 on silius, the resulting Sage installation has *lots* of doctest errors. See the [ptestlong.log](http://sage.math.washington.edu/home/bjones/ptestlong.log) file.

At a glance, there are a couple different errors happening:

1. OverflowError: value too large to convert to int (may have to do with the architecture?)
2. A couple of `NameError`s in `optimize.py` and `pushout.py`

```
File "/tmp/bjones/sage-4.7.2.alpha2/devel/sage-main/sage/numerical/optimize.py", line 571:
    sage: fit[a], fit[b], fit[c]
Exception raised:
    Traceback (most recent call last):
      File "/tmp/bjones/sage-4.7.2.alpha2/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/tmp/bjones/sage-4.7.2.alpha2/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/tmp/bjones/sage-4.7.2.alpha2/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_7[8]>", line 1, in <module>
        fit[a], fit[b], fit[c]###line 571:
    sage: fit[a], fit[b], fit[c]
    NameError: name 'fit' is not defined
```

3. mpfr errors: `RuntimeError: Aborted`
4. many ` ValueError: Refining interval that does not bound unique root!` type errors from the elliptic curves modules

etc..



---

archive/issue_comments_164212.json:
```json
{
    "body": "<a id='comment:58'></a>\nI think you should put this in #11705 as at first glance errors are not just from maxima. I am going into that log with a fine comb.",
    "created_at": "2011-09-16T20:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164212",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:58'></a>
I think you should put this in #11705 as at first glance errors are not just from maxima. I am going into that log with a fine comb.



---

archive/issue_comments_164213.json:
```json
{
    "body": "<a id='comment:59'></a>\nNow I'm confused: I just successfully built Sage 4.7.2.alpha4 on silius, with gcc 4.6.2 (the default on that machine).  I had to replace the mpir package with the one from #11964, but that was the only change.  Can anyone else verify this?  I see that mpir is a dependency of ecl; could the new mpir spkg have fixed the problem with maxima?  If so, we can close this ticket.\n\nWith the build, I do get lots of test failures, as above.  I'll post the log at #11705.",
    "created_at": "2011-11-02T20:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164213",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:59'></a>
Now I'm confused: I just successfully built Sage 4.7.2.alpha4 on silius, with gcc 4.6.2 (the default on that machine).  I had to replace the mpir package with the one from #11964, but that was the only change.  Can anyone else verify this?  I see that mpir is a dependency of ecl; could the new mpir spkg have fixed the problem with maxima?  If so, we can close this ticket.

With the build, I do get lots of test failures, as above.  I'll post the log at #11705.



---

archive/issue_comments_164214.json:
```json
{
    "body": "<a id='comment:60'></a>\nIt could. I have to take some time to do a build but the log from Benjamin indicated there was a lot of trouble potentially with mpir. So it could indeed have been cured by the upgrade, although it is difficult to guess the chain of event leading to that. Unless there is a competition between mpir/gmp used by gcc and the one installed in sage.",
    "created_at": "2011-11-02T20:53:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164214",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:60'></a>
It could. I have to take some time to do a build but the log from Benjamin indicated there was a lot of trouble potentially with mpir. So it could indeed have been cured by the upgrade, although it is difficult to guess the chain of event leading to that. Unless there is a competition between mpir/gmp used by gcc and the one installed in sage.



---

archive/issue_comments_164215.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [jhpalmieri](#comment%3A59):\n> Now I'm confused: I just successfully built Sage 4.7.2.alpha4 on silius, with gcc 4.6.2 (the default on that machine).  I had to replace the mpir package with the one from #11964, but that was the only change.  Can anyone else verify this?\n\n\nI haven't tried GCC 4.6.2 yet, although I downloaded it the day it had been released ;-) (but hadn't had the time to build it on Silius)\n\nPerhaps they've fixed some things, although my impression was that something with ECL is wrong.\n\nNote that I've previously built ECL and Maxima \"successfully\" (modulo lots of doctest errors) with `-mcpu=power4 -mtune=power4` (Maxima uses the `CFLAGS` from ECL anyway), and Sage with GCC 4.6.1 and GCC 4.4.6 (the other parts with `-mcpu=power7 -mtune=power7`).\n\n\n\n\n> I see that mpir is a dependency of ecl; could the new mpir spkg have fixed the problem with maxima?  If so, we can close this ticket.\n\n\nNo, it just triggered the rebuild of ECL with GCC 4.6.2.\n\n(I did build Sage 4.7.2.alpha3 which has [almost] the same MPIR spkg, i.e., the p4; the p7 just fixes a `configure` regression introduced by the p5/p6.)\n\nI wouldn't close this ticket unless you know that none of the doctest errors is related to / caused by Maxima.",
    "created_at": "2011-11-02T20:58:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164215",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:61'></a>
Replying to [jhpalmieri](#comment%3A59):
> Now I'm confused: I just successfully built Sage 4.7.2.alpha4 on silius, with gcc 4.6.2 (the default on that machine).  I had to replace the mpir package with the one from #11964, but that was the only change.  Can anyone else verify this?


I haven't tried GCC 4.6.2 yet, although I downloaded it the day it had been released ;-) (but hadn't had the time to build it on Silius)

Perhaps they've fixed some things, although my impression was that something with ECL is wrong.

Note that I've previously built ECL and Maxima "successfully" (modulo lots of doctest errors) with `-mcpu=power4 -mtune=power4` (Maxima uses the `CFLAGS` from ECL anyway), and Sage with GCC 4.6.1 and GCC 4.4.6 (the other parts with `-mcpu=power7 -mtune=power7`).




> I see that mpir is a dependency of ecl; could the new mpir spkg have fixed the problem with maxima?  If so, we can close this ticket.


No, it just triggered the rebuild of ECL with GCC 4.6.2.

(I did build Sage 4.7.2.alpha3 which has [almost] the same MPIR spkg, i.e., the p4; the p7 just fixes a `configure` regression introduced by the p5/p6.)

I wouldn't close this ticket unless you know that none of the doctest errors is related to / caused by Maxima.



---

archive/issue_comments_164216.json:
```json
{
    "body": "<a id='comment:62'></a>\nJust to clarify: I logged into silius, sourced `/usr/local/skynet_bash_profile`, set `MAKE='make -j12'` and `SAGE_PARALLEL_SPKG_BUILD=yes`, and typed `make`.  I didn't modify any other settings.  gcc-4.6.2 is the default compiler there now.",
    "created_at": "2011-11-02T21:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164216",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:62'></a>
Just to clarify: I logged into silius, sourced `/usr/local/skynet_bash_profile`, set `MAKE='make -j12'` and `SAGE_PARALLEL_SPKG_BUILD=yes`, and typed `make`.  I didn't modify any other settings.  gcc-4.6.2 is the default compiler there now.



---

archive/issue_comments_164217.json:
```json
{
    "body": "<a id='comment:63'></a>\nReplying to [jhpalmieri](#comment%3A62):\n> Just to clarify: I logged into silius, sourced `/usr/local/skynet_bash_profile`, set `MAKE='make -j12'` and `SAGE_PARALLEL_SPKG_BUILD=yes`, and typed `make`.  I didn't modify any other settings.  gcc-4.6.2 is the default compiler there now.\n\n\nWhich means that upgrading from 4.6.1 to 4.6.2 seems worthwhile, although it's not immediately clear (or I don't know yet) what they changed.  It is configured slightly differently, but without `--with-cpu=...` etc.; it might just default to some other CPU now.\n\nCan anybody look at the GCC diffs? I didn't have and don't have the time right now...",
    "created_at": "2011-11-02T21:14:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164217",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:63'></a>
Replying to [jhpalmieri](#comment%3A62):
> Just to clarify: I logged into silius, sourced `/usr/local/skynet_bash_profile`, set `MAKE='make -j12'` and `SAGE_PARALLEL_SPKG_BUILD=yes`, and typed `make`.  I didn't modify any other settings.  gcc-4.6.2 is the default compiler there now.


Which means that upgrading from 4.6.1 to 4.6.2 seems worthwhile, although it's not immediately clear (or I don't know yet) what they changed.  It is configured slightly differently, but without `--with-cpu=...` etc.; it might just default to some other CPU now.

Can anybody look at the GCC diffs? I didn't have and don't have the time right now...



---

archive/issue_comments_164218.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2012-01-13T14:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164218",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_164219.json:
```json
{
    "body": "<a id='comment:64'></a>\nProposing to close this, since building sage-4.8.alpha6 on silius works.  There are many test failures (probably unrelated to ecl) but at least it builds.",
    "created_at": "2012-01-13T14:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164219",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:64'></a>
Proposing to close this, since building sage-4.8.alpha6 on silius works.  There are many test failures (probably unrelated to ecl) but at least it builds.



---

archive/issue_events_036395.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-13T14:43:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11708#event-36395"
}
```



---

archive/issue_comments_164220.json:
```json
{
    "body": "<a id='comment:65'></a>\nReplying to [jdemeyer](#comment%3A64):\n> Proposing to close this, since building sage-4.8.alpha6 on silius works.  There are many test failures (probably unrelated to ecl) but at least it builds.\n\n\nUnless a couple of doctest failures are caused by ECL and/or Maxima...\n\nMaybe Fran\u00e7ois can tell better.\n\nI don't know right now what Maxima/ECL/GCC version you are referring to, but at least [with] GCC 4.6.x [ECL] seemed to produce buggy or invalid code for POWER7; `-mcpu=power4` in contrast \"worked\", at least better, i.e. did build and produced less test failures.  [Note that Maxima uses those `CFLAGS` specified when configuring ECL.]",
    "created_at": "2012-01-13T20:52:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164220",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:65'></a>
Replying to [jdemeyer](#comment%3A64):
> Proposing to close this, since building sage-4.8.alpha6 on silius works.  There are many test failures (probably unrelated to ecl) but at least it builds.


Unless a couple of doctest failures are caused by ECL and/or Maxima...

Maybe Franois can tell better.

I don't know right now what Maxima/ECL/GCC version you are referring to, but at least [with] GCC 4.6.x [ECL] seemed to produce buggy or invalid code for POWER7; `-mcpu=power4` in contrast "worked", at least better, i.e. did build and produced less test failures.  [Note that Maxima uses those `CFLAGS` specified when configuring ECL.]



---

archive/issue_comments_164221.json:
```json
{
    "body": "<a id='comment:66'></a>\nI'm closing this since maxima *does* build on silius.  If there are doctest failures related to the building of Maxima, that's for a different ticket.",
    "created_at": "2012-10-05T19:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164221",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:66'></a>
I'm closing this since maxima *does* build on silius.  If there are doctest failures related to the building of Maxima, that's for a different ticket.



---

archive/issue_comments_164222.json:
```json
{
    "body": "Reviewer: Jeroen Demeyer",
    "created_at": "2012-10-05T19:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164222",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: Jeroen Demeyer



---

archive/issue_events_036396.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-05T19:25:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11708#event-36396"
}
```



---

archive/issue_comments_164223.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2012-10-05T19:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11708",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11708#issuecomment-164223",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: worksforme
