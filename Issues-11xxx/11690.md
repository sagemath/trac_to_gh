# Issue 11690: fix AES equation systems when star=True

archive/issues_011518.json:
```json
{
    "body": "David Montminy reported that polynomial system generation does not properly work with `star=True`, e.g.\n\n```\nsage: sr = mq.sr.SR(10,4,4,8,star=True,gf2=True,polybori=True)\nsage: F,s = sr.polynomial_system()\nsage: F2 = F.subs(s)\n```\nwould result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).\n\n---\n\nApply [attachment:sr_aes_fix.patch] to the Sage library.\n\n\nAssignee: mvngu\n\nResolution: fixed\n\nAuthor: Martin Albrecht\n\nReviewer: David Montminy\n\nMerged: sage-4.7.2.alpha3\n\nIssue created by migration from https://trac.sagemath.org/ticket/11690\n\n",
    "closed_at": "2011-09-12T20:48:17Z",
    "created_at": "2011-08-15T17:13:05Z",
    "labels": [
        "component: cryptography",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "fix AES equation systems when star=True",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11690",
    "user": "https://github.com/malb"
}
```
David Montminy reported that polynomial system generation does not properly work with `star=True`, e.g.

```
sage: sr = mq.sr.SR(10,4,4,8,star=True,gf2=True,polybori=True)
sage: F,s = sr.polynomial_system()
sage: F2 = F.subs(s)
```
would result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).

---

Apply [attachment:sr_aes_fix.patch] to the Sage library.


Assignee: mvngu

Resolution: fixed

Author: Martin Albrecht

Reviewer: David Montminy

Merged: sage-4.7.2.alpha3

Issue created by migration from https://trac.sagemath.org/ticket/11690





---

archive/issue_comments_157870.json:
```json
{
    "body": "<a id='comment:1'></a>Doctests pass but we need to add a test showing that the bug is indeed fixed. Will do so once my shiny new 4.7.1 is compiled.",
    "created_at": "2011-08-16T12:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157870",
    "user": "https://github.com/malb"
}
```

<a id='comment:1'></a>Doctests pass but we need to add a test showing that the bug is indeed fixed. Will do so once my shiny new 4.7.1 is compiled.



---

archive/issue_comments_157871.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-08-17T12:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157871",
    "user": "https://github.com/malb"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_157872.json:
```json
{
    "body": "<a id='comment:2'></a>Attachment [sr_aes_fix.patch](tarball://root/attachments/some-uuid/ticket11690/sr_aes_fix.patch) by @malb created at 2011-08-17 12:45:40\n\nThe updated patch includes new doctests to test whether the bug is fixed.",
    "created_at": "2011-08-17T12:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157872",
    "user": "https://github.com/malb"
}
```

<a id='comment:2'></a>Attachment [sr_aes_fix.patch](tarball://root/attachments/some-uuid/ticket11690/sr_aes_fix.patch) by @malb created at 2011-08-17 12:45:40

The updated patch includes new doctests to test whether the bug is fixed.



---

archive/issue_comments_157873.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Albrecht\"",
    "created_at": "2011-08-17T12:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157873",
    "user": "https://github.com/malb"
}
```

Changing author from "" to "Martin Albrecht"



---

archive/issue_comments_157874.json:
```json
{
    "body": "<a id='comment:3'></a>doctests pass for 4.7.1 on sage.math.",
    "created_at": "2011-08-17T14:09:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157874",
    "user": "https://github.com/malb"
}
```

<a id='comment:3'></a>doctests pass for 4.7.1 on sage.math.



---

archive/issue_comments_157875.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,7 +5,6 @@\n sage: F,s = sr.polynomial_system()\n sage: F2 = F.subs(s)\n ```\n-\n would result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).\n \n Comment: 1\n``````\n",
    "created_at": "2011-08-17T20:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157875",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmont"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,7 +5,6 @@
 sage: F,s = sr.polynomial_system()
 sage: F2 = F.subs(s)
 ```
-
 would result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).
 
 Comment: 1
``````




---

archive/issue_comments_157876.json:
```json
{
    "body": "<a id='comment:4'></a>After applying patch, testing confirmed that sr.polynomial_system() produces the correct system of equations for AES-128.",
    "created_at": "2011-08-17T20:17:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157876",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmont"
}
```

<a id='comment:4'></a>After applying patch, testing confirmed that sr.polynomial_system() produces the correct system of equations for AES-128.



---

archive/issue_comments_157877.json:
```json
{
    "body": "<a id='comment:5'></a>Hi, can you do a full review?\n* read the patch and check whether it looks good to you, does it solve the problem correctlu?\n* does it add a doctest which shows that the problem is solved.\n* does it apply (you already said yes) and do doctests pass (done mostly automatically these days so don't worry too much about this one)\n\nIf you're satisfied, add your name to `Reviewer` and set the 'positive review' flag.",
    "created_at": "2011-08-17T21:40:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157877",
    "user": "https://github.com/malb"
}
```

<a id='comment:5'></a>Hi, can you do a full review?
* read the patch and check whether it looks good to you, does it solve the problem correctlu?
* does it add a doctest which shows that the problem is solved.
* does it apply (you already said yes) and do doctests pass (done mostly automatically these days so don't worry too much about this one)

If you're satisfied, add your name to `Reviewer` and set the 'positive review' flag.



---

archive/issue_comments_157878.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-08-18T12:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157878",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmont"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_157879.json:
```json
{
    "body": "<a id='comment:6'></a>The following checks were performed on version 4.7 in my review:\n\n* code changes are appropriate and well written\n* verified patch functions as expected\n* test docs on passed on affected file\n* caused no additional failures in sage library doctests\n* documentation built correctly\n* documentation visually inspected\n* full doctest converage confirmed to be 100%",
    "created_at": "2011-08-18T12:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157879",
    "user": "https://trac.sagemath.org/admin/accounts/users/dmont"
}
```

<a id='comment:6'></a>The following checks were performed on version 4.7 in my review:

* code changes are appropriate and well written
* verified patch functions as expected
* test docs on passed on affected file
* caused no additional failures in sage library doctests
* documentation built correctly
* documentation visually inspected
* full doctest converage confirmed to be 100%



---

archive/issue_comments_157880.json:
```json
{
    "body": "<a id='comment:7'></a>dmont: you should add your real name as reviewer and it would also be good to add yourself to [http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames](http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames).\n\nMartin Albrecht: in the future, it would be better to have the ticket number in the patch filename.",
    "created_at": "2011-08-22T12:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157880",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:7'></a>dmont: you should add your real name as reviewer and it would also be good to add yourself to [http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames](http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames).

Martin Albrecht: in the future, it would be better to have the ticket number in the patch filename.



---

archive/issue_comments_157881.json:
```json
{
    "body": "<a id='comment:8'></a>David, Martin, hope that's correct.\n\nThe [trac wiki page](http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames) still lacks an entry for him.",
    "created_at": "2011-09-08T13:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157881",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:8'></a>David, Martin, hope that's correct.

The [trac wiki page](http://trac.sagemath.org/sage_trac/#AccountNamesMappedtoRealNames) still lacks an entry for him.



---

archive/issue_comments_157882.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Montminy\"",
    "created_at": "2011-09-08T13:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157882",
    "user": "https://github.com/nexttime"
}
```

Changing reviewer from "" to "David Montminy"



---

archive/issue_comments_157883.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,15 @@\n+David Montminy reported that polynomial system generation does not properly work with `star=True`, e.g.\n+\n+```\n+sage: sr = mq.sr.SR(10,4,4,8,star=True,gf2=True,polybori=True)\n+sage: F,s = sr.polynomial_system()\n+sage: F2 = F.subs(s)\n+```\n+would result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).\n+\n+---\n+\n+Apply [attachment:sr_aes_fix.patch] to the Sage library.\n \n \n Comment: 1\n``````\n",
    "created_at": "2011-09-08T13:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157883",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,15 @@
+David Montminy reported that polynomial system generation does not properly work with `star=True`, e.g.
+
+```
+sage: sr = mq.sr.SR(10,4,4,8,star=True,gf2=True,polybori=True)
+sage: F,s = sr.polynomial_system()
+sage: F2 = F.subs(s)
+```
+would result in an inconsistent system! It's quite puzzling that he's the first one to run into (who reports it anyway).
+
+---
+
+Apply [attachment:sr_aes_fix.patch] to the Sage library.
 
 
 Comment: 1
``````




---

archive/issue_comments_157884.json:
```json
{
    "body": "<a id='comment:9'></a>Yes, that's correct.",
    "created_at": "2011-09-08T13:36:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157884",
    "user": "https://github.com/malb"
}
```

<a id='comment:9'></a>Yes, that's correct.



---

archive/issue_comments_157885.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.7.2.alpha3\"",
    "created_at": "2011-09-12T20:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157885",
    "user": "https://github.com/nexttime"
}
```

Changing merged from "" to "sage-4.7.2.alpha3"



---

archive/issue_comments_157886.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-12T20:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11690#issuecomment-157886",
    "user": "https://github.com/nexttime"
}
```

Resolution: fixed



---

archive/issue_events_030712.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-12T20:48:17Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11690",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11690#event-30712"
}
```
