# Issue 11325: Multiple line cells generation in live help broken, lots of samples unusable

archive/issues_011153.json:
```json
{
    "assignees": [],
    "body": "In notebook the sample tags like \"sage:\" and \"...\" are removed. As far as I tested, in case of notebook, after \"sage:\" all spaces are removed until next character, and after \"...\" one space is removed.\n\nIn notebooks automatically generated from html help, space after \"...\" isn't removed, causing unexpected indentation error in all samples that require first and second lines aligned. Best example are all decorated samples, like `@`interact in reference manual. This bug makes all such cells fail by default, which is bad thing for bundled documentation, that's why I set the priority to major, it might be even higher probably.\n\nSee topic http://groups.google.com/group/sage-devel/browse_thread/thread/4d0aabee8ecc4cf1 for first report.\n\nAssignee: **@jasongrout, @qed777, @williamstein**\n\nKeywords: **IndentationError, live help, beginner sd35.5**\n\nReviewer: **Jeroen Demeyer, Peter Story**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11325_\n\n",
    "closed_at": "2012-01-12T08:37:00Z",
    "created_at": "2011-05-11T13:43:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20notebook",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Multiple line cells generation in live help broken, lots of samples unusable",
    "type": "issue",
    "updated_at": "2012-01-12T15:30:45Z",
    "url": "https://github.com/sagemath/sage/issues/11325",
    "user": "https://github.com/sagetrac-aginiewicz"
}
```
In notebook the sample tags like "sage:" and "..." are removed. As far as I tested, in case of notebook, after "sage:" all spaces are removed until next character, and after "..." one space is removed.

In notebooks automatically generated from html help, space after "..." isn't removed, causing unexpected indentation error in all samples that require first and second lines aligned. Best example are all decorated samples, like `@`interact in reference manual. This bug makes all such cells fail by default, which is bad thing for bundled documentation, that's why I set the priority to major, it might be even higher probably.

See topic http://groups.google.com/group/sage-devel/browse_thread/thread/4d0aabee8ecc4cf1 for first report.

Assignee: **@jasongrout, @qed777, @williamstein**

Keywords: **IndentationError, live help, beginner sd35.5**

Reviewer: **Jeroen Demeyer, Peter Story**

Upstream: **Fixed upstream, but not in a stable release.**

_Issue created by migration from https://trac.sagemath.org/ticket/11325_





---

archive/issue_events_137264.json:
```json
{
    "actor": "https://github.com/sagetrac-aginiewicz",
    "created_at": "2011-05-11T13:43:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137264"
}
```



---

archive/issue_events_137265.json:
```json
{
    "actor": "https://github.com/sagetrac-aginiewicz",
    "created_at": "2011-05-11T13:43:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20notebook",
    "label_color": "000080",
    "label_name": "component: notebook",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137265"
}
```



---

archive/issue_events_137266.json:
```json
{
    "actor": "https://github.com/sagetrac-aginiewicz",
    "created_at": "2011-05-11T13:43:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137266"
}
```



---

archive/issue_events_137267.json:
```json
{
    "actor": "https://github.com/sagetrac-aginiewicz",
    "created_at": "2011-05-11T13:43:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137267"
}
```



---

archive/issue_comments_115961.json:
```json
{
    "body": "Attachment: **[Trac_11325.patch.gz](https://github.com/sagemath/sage/files/ticket11325/Trac_11325.patch.gz)**\n\npatch that (I hope) fixes the issue",
    "created_at": "2011-05-11T13:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115961",
    "user": "https://github.com/sagetrac-aginiewicz"
}
```

Attachment: **[Trac_11325.patch.gz](https://github.com/sagemath/sage/files/ticket11325/Trac_11325.patch.gz)**

patch that (I hope) fixes the issue



---

archive/issue_comments_115962.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nAbove patch fixes the issue I hope. No issues in testlong and `@`interact samples in reference manual works by default now. I tried to make a doctest but wasn't able to make small html file for parsing, that's why I left it as is. The patch itself is I hope ready for review.",
    "created_at": "2011-05-11T13:49:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115962",
    "user": "https://github.com/sagetrac-aginiewicz"
}
```

<div id="comment:1" align="right">Comment 1</div>

Above patch fixes the issue I hope. No issues in testlong and `@`interact samples in reference manual works by default now. I tried to make a doctest but wasn't able to make small html file for parsing, that's why I left it as is. The patch itself is I hope ready for review.



---

archive/issue_events_137268.json:
```json
{
    "actor": "https://github.com/sagetrac-aginiewicz",
    "created_at": "2011-05-11T13:49:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137268"
}
```



---

archive/issue_events_137269.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-05-11T14:45:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/good%20first%20issue",
    "label_color": "7057ff",
    "label_name": "good first issue",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137269"
}
```



---

archive/issue_comments_115963.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nTagging this as \"beginner\" since it would make a great \"first review\" for someone learning the process.",
    "created_at": "2011-05-11T14:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115963",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:2" align="right">Comment 2</div>

Tagging this as "beginner" since it would make a great "first review" for someone learning the process.



---

archive/issue_comments_115964.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nAs I updated another ticket (moved spkg url) I also gone trough other tickets I have interest in. For this one, I can confirm that this is still an issue with 4.7.2, breaking `@`interact and `@`parallel examples in interactive documentation.",
    "created_at": "2011-12-18T13:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115964",
    "user": "https://github.com/sagetrac-aginiewicz"
}
```

<div id="comment:3" align="right">Comment 3</div>

As I updated another ticket (moved spkg url) I also gone trough other tickets I have interest in. For this one, I can confirm that this is still an issue with 4.7.2, breaking `@`interact and `@`parallel examples in interactive documentation.



---

archive/issue_comments_115965.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nWe will report this upstream momentarily.",
    "created_at": "2012-01-11T15:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115965",
    "user": "https://github.com/sagetrac-peter-story"
}
```

<div id="comment:4" align="right">Comment 4</div>

We will report this upstream momentarily.



---

archive/issue_comments_115966.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2012-01-11T15:27:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115966",
    "user": "https://github.com/sagetrac-peter-story"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_events_137270.json:
```json
{
    "actor": "https://github.com/sagetrac-peter-story",
    "created_at": "2012-01-11T15:44:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137270"
}
```



---

archive/issue_events_137271.json:
```json
{
    "actor": "https://github.com/sagetrac-peter-story",
    "created_at": "2012-01-11T15:44:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137271"
}
```



---

archive/issue_comments_115967.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nVerified that the patch fixes the indentation problems.\nIt hasn't caused any apparent problems elsewhere.",
    "created_at": "2012-01-11T15:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115967",
    "user": "https://github.com/sagetrac-peter-story"
}
```

<div id="comment:5" align="right">Comment 5</div>

Verified that the patch fixes the indentation problems.
It hasn't caused any apparent problems elsewhere.



---

archive/issue_comments_115968.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**",
    "created_at": "2012-01-11T15:49:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115968",
    "user": "https://github.com/sagetrac-peter-story"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**



---

archive/issue_comments_115969.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2012-01-12T08:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115969",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_137272.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137272"
}
```



---

archive/issue_events_137273.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137273"
}
```



---

archive/issue_comments_115970.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI mentioned this to the notebook people, so they can actually apply the patch.",
    "created_at": "2012-01-12T08:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115970",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:7" align="right">Comment 7</div>

I mentioned this to the notebook people, so they can actually apply the patch.



---

archive/issue_events_137274.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137274"
}
```



---

archive/issue_events_137275.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137275"
}
```



---

archive/issue_events_137276.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-01-12T08:37:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137276"
}
```



---

archive/issue_comments_115971.json:
```json
{
    "body": "Changed author from **Andrzej Giniewicz** to none",
    "created_at": "2012-01-12T08:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115971",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Andrzej Giniewicz** to none



---

archive/issue_comments_115972.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nThis was also mentioned to them *in person* here at the time it was checked that this works.  And it's [here on github](https://github.com/sagemath/sagenb/issues/21) :)",
    "created_at": "2012-01-12T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115972",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">Comment 8</div>

This was also mentioned to them *in person* here at the time it was checked that this works.  And it's [here on github](https://github.com/sagemath/sagenb/issues/21) :)



---

archive/issue_comments_115973.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Little or no feedback.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2012-01-12T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115973",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Reported upstream. Little or no feedback.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_115974.json:
```json
{
    "body": "Changed keywords from **IndentationError, live help** to **IndentationError, live help, beginner sd35.5**",
    "created_at": "2012-01-12T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115974",
    "user": "https://github.com/kcrisman"
}
```

Changed keywords from **IndentationError, live help** to **IndentationError, live help, beginner sd35.5**



---

archive/issue_events_137277.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-01-12T14:45:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "label": "https://github.com/sagemath/sage/labels/good%20first%20issue",
    "label_color": "7057ff",
    "label_name": "good first issue",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11325#event-137277"
}
```



---

archive/issue_comments_115975.json:
```json
{
    "body": "Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Peter Story**",
    "created_at": "2012-01-12T14:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115975",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Jeroen Demeyer** to **Jeroen Demeyer, Peter Story**



---

archive/issue_comments_115976.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nFixed by sagenb git commit 26c1f7899c14ad9e9efe41dda4ba86ba868dd877",
    "created_at": "2012-01-12T14:57:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115976",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">Comment 9</div>

Fixed by sagenb git commit 26c1f7899c14ad9e9efe41dda4ba86ba868dd877



---

archive/issue_comments_115977.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2012-01-12T15:30:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11325",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11325#issuecomment-115977",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**
