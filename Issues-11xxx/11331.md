# Issue 11331: PolyBoRi won't build on OS X 10.4 PPC G4

archive/issues_011159.json:
```json
{
    "assignees": [
        "https://github.com/alexanderdreyer"
    ],
    "body": "With both XCode 2.4.1 and 2.5, builds consistently fail at PolyBoRi on Mac OS X 10.4 on PowerPC G4 chips.  \n\nNo other platforms seem to be affected, including G5 chips and 10.5 on a G4.\n\nDepending on the machine and the version, the error seems to hit at different places, but in the end it's always failing.  See for example [this sage-release thread](http://groups.google.com/group/sage-release/browse_thread/thread/b41ef4f3dd2c1be0/127b263a05c1cbab?show_docid=127b263a05c1cbab).\n\nIt is a bug in gcc.\n\nThis is with sage-4.7.rc0 through rc2.  alpha5 is unaffected, which is truly bizarre.  Since Singular's latest (rc2, p9) builds fine on these machines, it might be the bzip2 package upgrade that is the issue, unlikely though this may seem.\n\nE.g.,\n\n```\nDasher-03:~/Desktop/sage-4.7.rc1 student$ make \ncd spkg && \"../spkg/pipestatus\" \"./install all 2>&1\" \"tee -a ../ \ninstall.log\" \n*** ALL ENVIRONMENT VARIABLES BEFORE BUILD: *** \nSAGENB=sagenb-0.8.14 \nGD=gd-2.0.35.p5 \nCONWAY=conway_polynomials-0.2 \nCLIQUER=cliquer-1.2.p8 \nREADLINE=readline-6.1 \nJINJA2=jinja2-2.5.5 \nSAGE_LOGS=/Users/student/Desktop/sage-4.7.rc1/spkg/logs \nPEXPECT=pexpect-2.0.p4 \nF2C=f2c-20070816.p2 \nTERM_PROGRAM=Apple_Terminal \nMATPLOTLIB=matplotlib-1.0.1 \nG2RED=genus2reduction-0.3.p8 \nLIBM4RI=libm4ri-20100701.p1 \nSAGE_BZIP2=bzip2-1.0.5 \nTERM=xterm-color \nSHELL=/bin/sh \nCYTHON=cython-0.14.1.p1 \nMAKEFLAGS= \nSQLALCHEMY=sqlalchemy-0.5.8 \nDOCUTILS=docutils-0.5.p0 \nZNPOLY=zn_poly-0.9.p5 \nSYMMETRICA=symmetrica-2.0.p5 \nGIVARO=givaro-3.2.13rc2.p2 \nTERM_PROGRAM_VERSION=133-1 \nSAGETEX=sagetex-2.2.5 \nMPFR=mpfr-2.4.2 \nSYMPY=sympy-0.6.4.p0 \nPOLYTOPES_DB=polytopes_db-20100210 \nOLDPWD=/Users/student/Desktop/sage-4.7.rc1 \nEXAMPLES=examples-4.7.rc1 \nATLAS=atlas-3.8.3.p16 \nPREREQ=prereq-0.8 \nDIR=dir-0.1 \nTACHYON=tachyon-0.98.9.p3 \nMPFI=mpfi-1.3.4-cvs20071125.p8 \nMERCURIAL=mercurial-1.6.4.p0 \nCDDLIB=cddlib-094f.p8 \nECLIB=eclib-20100711 \nUSER=student \nR=r-2.10.1.p4 \nSPHINX=sphinx-1.0.4.p6 \nLIBGCRYPT=libgcrypt-1.4.4.p3 \nCVXOPT=cvxopt-1.1.3 \nBOEHM_GC=boehm_gc-7.1.p6 \nTERMCAP=termcap-1.3.1.p1 \nMPIR=mpir-1.2.2.p2 \nZODB=zodb3-3.7.0.p4 \nGRAPHS=graphs-20070722.p1 \nICONV=iconv-1.13.1.p3 \n__CF_USER_TEXT_ENCODING=0x1F7:0:0 \nECL=ecl-11.1.1.p0 \nCEPHES=cephes-2.8 \nSAGE_LOCAL=/Users/student/Desktop/sage-4.7.rc1/local \nMAKELEVEL=1 \nSAGE_SCRIPTS=sage_scripts-4.7.rc1 \nECM=ecm-6.2.1.p2 \nTWISTED=twisted-9.0.p2 \nRUBIKS=rubiks-20070912.p15 \nFREETYPE=freetype-2.3.5.p3 \nMFLAGS= \nPYGMENTS=pygments-1.3.1.p0 \nGAP=gap-4.4.12.p5 \nPATH=/Users/student/Desktop/sage-4.7.rc1:/Users/student/Desktop/ \nsage-4.7.rc1/local/bin:/bin:/sbin:/usr/bin:/usr/sbin \nIML=iml-1.0.1.p13 \nLAPACK=lapack-20071123.p2 \nEXTCODE=extcode-4.7.rc1 \nBLAS=blas-20070724 \nZLIB=zlib-1.2.5 \nSINGULAR=singular-3-1-1-4.p8 \nGNUTLS=gnutls-2.2.1.p5 \nPOLYBORI=polybori-0.7.0.p2 \nLIBGPG_ERROR=libgpg_error-1.6.p3 \nPWD=/Users/student/Desktop/sage-4.7.rc1/spkg \nLCALC=lcalc-20100428-1.23.p6 \nSCONS=scons-1.2.0 \nLINBOX=linbox-1.1.6.p3 \nOPENCDK=opencdk-0.6.6.p5 \nFLINTQS=flintqs-20070817.p5 \nGDMODULE=gdmodule-0.56.p7 \nSCIPY=scipy-0.9 \nSAGE_ROOT_REPO=sage_root-4.7.rc1 \nGFAN=gfan-0.4plus.p1 \nSAGE_ROOT=/Users/student/Desktop/sage-4.7.rc1 \nSAGE=sage-4.7.rc1 \nRATPOINTS=ratpoints-2.1.3.p1 \nNUMPY=numpy-1.5.1 \nPARI=pari-2.4.3.alpha.p5 \nPATCH=patch-2.5.9.p0 \nGLPK=glpk-4.44 \nPPL=ppl-0.11.2 \nPALP=palp-1.1.p3 \nSHLVL=4 \nHOME=/Users/student \nPYCRYPTO=pycrypto-2.1.0 \nGSL=gsl-1.14 \nPYTHON_GNUTLS=python_gnutls-1.1.4.p7 \nIPYTHON=ipython-0.9.1.p0 \nFLINT=flint-1.5.0.p5 \nPYTHONPATH=/Users/student/Desktop/sage-4.7.rc1/local \nLOGNAME=student \nSQLITE=sqlite-3.7.5 \nMPMATH=mpmath-0.17 \nNTL=ntl-5.4.2.p12 \nFORTRAN=fortran-20100629 \nPIL=pil-1.1.6.p4 \nSYMPOW=sympow-1.018.1.p8 \nPYNAC=pynac-0.2.1 \nMAXIMA=maxima-5.23.2 \nFPLLL=libfplll-3.0.12.p1 \nSETUPTOOLS=setuptools-0.6c9.p0 \nMOIN=moin-1.9.1.p1 \nELLIPTIC_CURVES=elliptic_curves-0.1 \nBOOST_CROPPED=boost-cropped-1.34.1 \nSECURITYSESSIONID=69af20 \nPYTHON=python-2.6.4.p10 \nNETWORKX=networkx-1.2.p1 \nLIBPNG=libpng-1.2.35.p3 \n_=/usr/bin/env \n*********************************************** \n/Users/student/Desktop/sage-4.7.rc1/spkg/pipestatus \"sage-spkg $ \n{SAGE_SPKG_OPTS} polybori-0.7.0.p2 2>&1\" \"tee -a /Users/student/ \nDesktop/sage-4.7.rc1/spkg/logs/polybori-0.7.0.p2.log\" \nWarning: Attempted to overwrite SAGE_ROOT environment variable \npolybori-0.7.0.p2 \nMachine: \nDarwin Dasher-03.local 8.11.0 Darwin Kernel Version 8.11.0: Wed Oct 10 \n18:26:00 PDT 2007; root:xnu-792.24.17~1/RELEASE_PPC Power Macintosh \npowerpc \nDeleting directories from past builds of previous/current versions of \npolybori-0.7.0.p2 \nExtracting package /Users/student/Desktop/sage-4.7.rc1/spkg/standard/ \npolybori-0.7.0.p2.spkg ... \n-rw-r--r--   1 student  student  1885217 Mar 30 18:44 /Users/student/ \nDesktop/sage-4.7.rc1/spkg/standard/polybori-0.7.0.p2.spkg \nFinished extraction \n**************************************************** \nHost system \nuname -a: \nDarwin Dasher-03.local 8.11.0 Darwin Kernel Version 8.11.0: Wed Oct 10 \n18:26:00 PDT 2007; root:xnu-792.24.17~1/RELEASE_PPC Power Macintosh \npowerpc \n**************************************************** \n**************************************************** \nCC Version \ngcc -v \nUsing built-in specs. \nTarget: powerpc-apple-darwin8 \nConfigured with: /private/var/tmp/gcc/gcc-5367.obj~1/src/configure -- \ndisable-checking -enable-werror --prefix=/usr --mandir=/share/man -- \nenable-languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg] \n[^.-]*$/s/$/-4.0/ --with-gxx-include-dir=/include/c++/4.0.0 --with- \nslibdir=/usr/lib --build=powerpc-apple-darwin8 --host=powerpc-apple- \ndarwin8 --target=powerpc-apple-darwin8 \nThread model: posix \ngcc version 4.0.1 (Apple Computer, Inc. build 5367) \n**************************************************** \nStarting build... \nRemoving old PolyBoRi install... \nDone removing old PolyBoRi install. \nRunning build_polybori... \nscons: Reading SConscript files ... \ndarwin linker detected! \nPlatform:  darwin \nChecking for C header file gd.h... yes \nChecking for C library gd... yes \nChecking for C++ header file ext/hash_map... yes \nWarning: No LaTeX to html converter found, Tutorial will not be \ninstalled \nChecking for C library m4ri... yes \nChecking for C header file gd.h... yes \nChecking for C library gd... yes \nno python extension \nscons: done reading SConscript files. \nscons: Building targets ... \ng++ -o polybori/src/BoolePolyRing.o -c -O3 -Wno-long-long -Wreturn- \ntype -g -fPIC -ftemplate-depth-100 -O3 -Wno-long-long -Wreturn-type -g \n-fPIC -DNDEBUG -DHAVE_GD -DHAVE_HASH_MAP -DPACKED -DHAVE_M4RI - \nDHAVE_GD -DHAVE_IEEE_754 -I/Users/student/Desktop/sage-4.7.rc1/local/ \ninclude -I/Users/student/Desktop/sage-4.7.rc1/local/include/python2.6 - \nIpolybori/include -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/ \nst -ICudd/epd polybori/src/BoolePolyRing.cc \n[address=019fffff pc=003f11d8] \nIn file included from polybori/include/CCheckedIdx.h:17, \n                 from polybori/include/BoolePolyRing.h:23, \n                 from polybori/include/BooleEnv.h:20, \n                 from polybori/include/CTermIter.h:28, \n                 from polybori/include/CDelayedTermIter.h:20, \n                 from polybori/include/COrderedIter.h:23, \n                 from polybori/include/COrderingBase.h:22, \n                 from polybori/include/COrderingFacade.h:23, \n                 from polybori/include/DegRevLexAscOrder.h:20, \n                 from polybori/include/pbori_order.h:27, \n                 from polybori/src/BoolePolyRing.cc:26: \npolybori/include/pbori_defs.h:1: internal compiler error: Segmentation \nFault \nPlease submit a full bug report, \nwith preprocessed source if appropriate. \nSee <URL:http://developer.apple.com/bugreporter> for instructions. \nscons: *** [polybori/src/BoolePolyRing.o] Error 1 \nscons: building terminated because of errors. \nError building PolyBoRi. \nreal    0m37.750s \nuser    0m14.012s \nsys     0m6.039s \nsage: An error occurred while installing polybori-0.7.0.p2 \nPlease email sage-devel http://groups.google.com/group/sage-devel \nexplaining the problem and send the relevant part of \nof /Users/student/Desktop/sage-4.7.rc1/install.log.  Describe your \ncomputer, operating system, etc. \nIf you want to try to fix the problem yourself, *don't* just cd to \n/Users/student/Desktop/sage-4.7.rc1/spkg/build/polybori-0.7.0.p2 and \ntype 'make check' or whatever is appropriate. \nInstead, the following commands setup all environment variables \ncorrectly and load a subshell for you to debug the error: \n(cd '/Users/student/Desktop/sage-4.7.rc1/spkg/build/polybori-0.7.0.p2' \n&& '/Users/student/Desktop/sage-4.7.rc1/sage' -sh) \nWhen you are done debugging, you can type \"exit\" to leave the \nsubshell. \nmake[1]: *** [installed/polybori-0.7.0.p2] Error 1 \nreal    0m48.491s \nuser    0m18.221s \nsys     0m8.112s \nError building Sage. \nmake: *** [build] Error 1\n```\n\n**New spkg:** [http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg](http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg)\n\nCC:  @jdemeyer @sagetrac-GeorgSWeber @alexanderdreyer @sagetrac-PolyBoRi\n\nComponent: **build**\n\nAuthor: **Alexander Dreyer**\n\nReviewer: **Georg S. Weber, Karl-Dieter Crisman**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nMerged: **sage-4.7.rc4**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11331_\n\n",
    "closed_at": "2011-05-21T06:15:03Z",
    "created_at": "2011-05-12T13:22:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "PolyBoRi won't build on OS X 10.4 PPC G4",
    "type": "issue",
    "updated_at": "2011-05-21T06:15:03Z",
    "url": "https://github.com/sagemath/sage/issues/11331",
    "user": "https://github.com/kcrisman"
}
```
With both XCode 2.4.1 and 2.5, builds consistently fail at PolyBoRi on Mac OS X 10.4 on PowerPC G4 chips.  

No other platforms seem to be affected, including G5 chips and 10.5 on a G4.

Depending on the machine and the version, the error seems to hit at different places, but in the end it's always failing.  See for example [this sage-release thread](http://groups.google.com/group/sage-release/browse_thread/thread/b41ef4f3dd2c1be0/127b263a05c1cbab?show_docid=127b263a05c1cbab).

It is a bug in gcc.

This is with sage-4.7.rc0 through rc2.  alpha5 is unaffected, which is truly bizarre.  Since Singular's latest (rc2, p9) builds fine on these machines, it might be the bzip2 package upgrade that is the issue, unlikely though this may seem.

E.g.,

```
Dasher-03:~/Desktop/sage-4.7.rc1 student$ make 
cd spkg && "../spkg/pipestatus" "./install all 2>&1" "tee -a ../ 
install.log" 
*** ALL ENVIRONMENT VARIABLES BEFORE BUILD: *** 
SAGENB=sagenb-0.8.14 
GD=gd-2.0.35.p5 
CONWAY=conway_polynomials-0.2 
CLIQUER=cliquer-1.2.p8 
READLINE=readline-6.1 
JINJA2=jinja2-2.5.5 
SAGE_LOGS=/Users/student/Desktop/sage-4.7.rc1/spkg/logs 
PEXPECT=pexpect-2.0.p4 
F2C=f2c-20070816.p2 
TERM_PROGRAM=Apple_Terminal 
MATPLOTLIB=matplotlib-1.0.1 
G2RED=genus2reduction-0.3.p8 
LIBM4RI=libm4ri-20100701.p1 
SAGE_BZIP2=bzip2-1.0.5 
TERM=xterm-color 
SHELL=/bin/sh 
CYTHON=cython-0.14.1.p1 
MAKEFLAGS= 
SQLALCHEMY=sqlalchemy-0.5.8 
DOCUTILS=docutils-0.5.p0 
ZNPOLY=zn_poly-0.9.p5 
SYMMETRICA=symmetrica-2.0.p5 
GIVARO=givaro-3.2.13rc2.p2 
TERM_PROGRAM_VERSION=133-1 
SAGETEX=sagetex-2.2.5 
MPFR=mpfr-2.4.2 
SYMPY=sympy-0.6.4.p0 
POLYTOPES_DB=polytopes_db-20100210 
OLDPWD=/Users/student/Desktop/sage-4.7.rc1 
EXAMPLES=examples-4.7.rc1 
ATLAS=atlas-3.8.3.p16 
PREREQ=prereq-0.8 
DIR=dir-0.1 
TACHYON=tachyon-0.98.9.p3 
MPFI=mpfi-1.3.4-cvs20071125.p8 
MERCURIAL=mercurial-1.6.4.p0 
CDDLIB=cddlib-094f.p8 
ECLIB=eclib-20100711 
USER=student 
R=r-2.10.1.p4 
SPHINX=sphinx-1.0.4.p6 
LIBGCRYPT=libgcrypt-1.4.4.p3 
CVXOPT=cvxopt-1.1.3 
BOEHM_GC=boehm_gc-7.1.p6 
TERMCAP=termcap-1.3.1.p1 
MPIR=mpir-1.2.2.p2 
ZODB=zodb3-3.7.0.p4 
GRAPHS=graphs-20070722.p1 
ICONV=iconv-1.13.1.p3 
__CF_USER_TEXT_ENCODING=0x1F7:0:0 
ECL=ecl-11.1.1.p0 
CEPHES=cephes-2.8 
SAGE_LOCAL=/Users/student/Desktop/sage-4.7.rc1/local 
MAKELEVEL=1 
SAGE_SCRIPTS=sage_scripts-4.7.rc1 
ECM=ecm-6.2.1.p2 
TWISTED=twisted-9.0.p2 
RUBIKS=rubiks-20070912.p15 
FREETYPE=freetype-2.3.5.p3 
MFLAGS= 
PYGMENTS=pygments-1.3.1.p0 
GAP=gap-4.4.12.p5 
PATH=/Users/student/Desktop/sage-4.7.rc1:/Users/student/Desktop/ 
sage-4.7.rc1/local/bin:/bin:/sbin:/usr/bin:/usr/sbin 
IML=iml-1.0.1.p13 
LAPACK=lapack-20071123.p2 
EXTCODE=extcode-4.7.rc1 
BLAS=blas-20070724 
ZLIB=zlib-1.2.5 
SINGULAR=singular-3-1-1-4.p8 
GNUTLS=gnutls-2.2.1.p5 
POLYBORI=polybori-0.7.0.p2 
LIBGPG_ERROR=libgpg_error-1.6.p3 
PWD=/Users/student/Desktop/sage-4.7.rc1/spkg 
LCALC=lcalc-20100428-1.23.p6 
SCONS=scons-1.2.0 
LINBOX=linbox-1.1.6.p3 
OPENCDK=opencdk-0.6.6.p5 
FLINTQS=flintqs-20070817.p5 
GDMODULE=gdmodule-0.56.p7 
SCIPY=scipy-0.9 
SAGE_ROOT_REPO=sage_root-4.7.rc1 
GFAN=gfan-0.4plus.p1 
SAGE_ROOT=/Users/student/Desktop/sage-4.7.rc1 
SAGE=sage-4.7.rc1 
RATPOINTS=ratpoints-2.1.3.p1 
NUMPY=numpy-1.5.1 
PARI=pari-2.4.3.alpha.p5 
PATCH=patch-2.5.9.p0 
GLPK=glpk-4.44 
PPL=ppl-0.11.2 
PALP=palp-1.1.p3 
SHLVL=4 
HOME=/Users/student 
PYCRYPTO=pycrypto-2.1.0 
GSL=gsl-1.14 
PYTHON_GNUTLS=python_gnutls-1.1.4.p7 
IPYTHON=ipython-0.9.1.p0 
FLINT=flint-1.5.0.p5 
PYTHONPATH=/Users/student/Desktop/sage-4.7.rc1/local 
LOGNAME=student 
SQLITE=sqlite-3.7.5 
MPMATH=mpmath-0.17 
NTL=ntl-5.4.2.p12 
FORTRAN=fortran-20100629 
PIL=pil-1.1.6.p4 
SYMPOW=sympow-1.018.1.p8 
PYNAC=pynac-0.2.1 
MAXIMA=maxima-5.23.2 
FPLLL=libfplll-3.0.12.p1 
SETUPTOOLS=setuptools-0.6c9.p0 
MOIN=moin-1.9.1.p1 
ELLIPTIC_CURVES=elliptic_curves-0.1 
BOOST_CROPPED=boost-cropped-1.34.1 
SECURITYSESSIONID=69af20 
PYTHON=python-2.6.4.p10 
NETWORKX=networkx-1.2.p1 
LIBPNG=libpng-1.2.35.p3 
_=/usr/bin/env 
*********************************************** 
/Users/student/Desktop/sage-4.7.rc1/spkg/pipestatus "sage-spkg $ 
{SAGE_SPKG_OPTS} polybori-0.7.0.p2 2>&1" "tee -a /Users/student/ 
Desktop/sage-4.7.rc1/spkg/logs/polybori-0.7.0.p2.log" 
Warning: Attempted to overwrite SAGE_ROOT environment variable 
polybori-0.7.0.p2 
Machine: 
Darwin Dasher-03.local 8.11.0 Darwin Kernel Version 8.11.0: Wed Oct 10 
18:26:00 PDT 2007; root:xnu-792.24.17~1/RELEASE_PPC Power Macintosh 
powerpc 
Deleting directories from past builds of previous/current versions of 
polybori-0.7.0.p2 
Extracting package /Users/student/Desktop/sage-4.7.rc1/spkg/standard/ 
polybori-0.7.0.p2.spkg ... 
-rw-r--r--   1 student  student  1885217 Mar 30 18:44 /Users/student/ 
Desktop/sage-4.7.rc1/spkg/standard/polybori-0.7.0.p2.spkg 
Finished extraction 
**************************************************** 
Host system 
uname -a: 
Darwin Dasher-03.local 8.11.0 Darwin Kernel Version 8.11.0: Wed Oct 10 
18:26:00 PDT 2007; root:xnu-792.24.17~1/RELEASE_PPC Power Macintosh 
powerpc 
**************************************************** 
**************************************************** 
CC Version 
gcc -v 
Using built-in specs. 
Target: powerpc-apple-darwin8 
Configured with: /private/var/tmp/gcc/gcc-5367.obj~1/src/configure -- 
disable-checking -enable-werror --prefix=/usr --mandir=/share/man -- 
enable-languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg] 
[^.-]*$/s/$/-4.0/ --with-gxx-include-dir=/include/c++/4.0.0 --with- 
slibdir=/usr/lib --build=powerpc-apple-darwin8 --host=powerpc-apple- 
darwin8 --target=powerpc-apple-darwin8 
Thread model: posix 
gcc version 4.0.1 (Apple Computer, Inc. build 5367) 
**************************************************** 
Starting build... 
Removing old PolyBoRi install... 
Done removing old PolyBoRi install. 
Running build_polybori... 
scons: Reading SConscript files ... 
darwin linker detected! 
Platform:  darwin 
Checking for C header file gd.h... yes 
Checking for C library gd... yes 
Checking for C++ header file ext/hash_map... yes 
Warning: No LaTeX to html converter found, Tutorial will not be 
installed 
Checking for C library m4ri... yes 
Checking for C header file gd.h... yes 
Checking for C library gd... yes 
no python extension 
scons: done reading SConscript files. 
scons: Building targets ... 
g++ -o polybori/src/BoolePolyRing.o -c -O3 -Wno-long-long -Wreturn- 
type -g -fPIC -ftemplate-depth-100 -O3 -Wno-long-long -Wreturn-type -g 
-fPIC -DNDEBUG -DHAVE_GD -DHAVE_HASH_MAP -DPACKED -DHAVE_M4RI - 
DHAVE_GD -DHAVE_IEEE_754 -I/Users/student/Desktop/sage-4.7.rc1/local/ 
include -I/Users/student/Desktop/sage-4.7.rc1/local/include/python2.6 - 
Ipolybori/include -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/ 
st -ICudd/epd polybori/src/BoolePolyRing.cc 
[address=019fffff pc=003f11d8] 
In file included from polybori/include/CCheckedIdx.h:17, 
                 from polybori/include/BoolePolyRing.h:23, 
                 from polybori/include/BooleEnv.h:20, 
                 from polybori/include/CTermIter.h:28, 
                 from polybori/include/CDelayedTermIter.h:20, 
                 from polybori/include/COrderedIter.h:23, 
                 from polybori/include/COrderingBase.h:22, 
                 from polybori/include/COrderingFacade.h:23, 
                 from polybori/include/DegRevLexAscOrder.h:20, 
                 from polybori/include/pbori_order.h:27, 
                 from polybori/src/BoolePolyRing.cc:26: 
polybori/include/pbori_defs.h:1: internal compiler error: Segmentation 
Fault 
Please submit a full bug report, 
with preprocessed source if appropriate. 
See <URL:http://developer.apple.com/bugreporter> for instructions. 
scons: *** [polybori/src/BoolePolyRing.o] Error 1 
scons: building terminated because of errors. 
Error building PolyBoRi. 
real    0m37.750s 
user    0m14.012s 
sys     0m6.039s 
sage: An error occurred while installing polybori-0.7.0.p2 
Please email sage-devel http://groups.google.com/group/sage-devel 
explaining the problem and send the relevant part of 
of /Users/student/Desktop/sage-4.7.rc1/install.log.  Describe your 
computer, operating system, etc. 
If you want to try to fix the problem yourself, *don't* just cd to 
/Users/student/Desktop/sage-4.7.rc1/spkg/build/polybori-0.7.0.p2 and 
type 'make check' or whatever is appropriate. 
Instead, the following commands setup all environment variables 
correctly and load a subshell for you to debug the error: 
(cd '/Users/student/Desktop/sage-4.7.rc1/spkg/build/polybori-0.7.0.p2' 
&& '/Users/student/Desktop/sage-4.7.rc1/sage' -sh) 
When you are done debugging, you can type "exit" to leave the 
subshell. 
make[1]: *** [installed/polybori-0.7.0.p2] Error 1 
real    0m48.491s 
user    0m18.221s 
sys     0m8.112s 
Error building Sage. 
make: *** [build] Error 1
```

**New spkg:** [http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg](http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg)

CC:  @jdemeyer @sagetrac-GeorgSWeber @alexanderdreyer @sagetrac-PolyBoRi

Component: **build**

Author: **Alexander Dreyer**

Reviewer: **Georg S. Weber, Karl-Dieter Crisman**

Upstream: **Fixed upstream, in a later stable release.**

Merged: **sage-4.7.rc4**

_Issue created by migration from https://trac.sagemath.org/ticket/11331_





---

archive/issue_events_148973.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-12T13:22:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148973"
}
```



---

archive/issue_events_148974.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-12T13:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148974"
}
```



---

archive/issue_events_148975.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-12T13:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148975"
}
```



---

archive/issue_events_148976.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-12T13:22:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148976"
}
```



---

archive/issue_events_148977.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2011-05-12T13:22:00Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148977"
}
```



---

archive/issue_events_148978.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2011-05-12T15:40:21Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148978"
}
```



---

archive/issue_events_148979.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-05-12T15:40:21Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148979"
}
```



---

archive/issue_comments_113886.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nCan you try the package for PolyBoRi 0.7.1 from #11261? Unfortunately, I do not have access to that platform.",
    "created_at": "2011-05-12T15:40:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113886",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:1" align="right">comment:1</div>

Can you try the package for PolyBoRi 0.7.1 from #11261? Unfortunately, I do not have access to that platform.



---

archive/issue_comments_113887.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNice idea!  But the error is the same. \n\nI'm not even sure this is a PolyBoRi problem per se.  The activity monitor shows that there is still a fair amount of RAM left during this process, and while the CPU is being intensely used, the highest level of use is the unzipping, and otherwise it's not really different from other things. \n\nMy very rough guess at this point is that we may want to try setting the optimization level down a bit here, but I don't know how to do that.",
    "created_at": "2011-05-12T17:34:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113887",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Nice idea!  But the error is the same. 

I'm not even sure this is a PolyBoRi problem per se.  The activity monitor shows that there is still a fair amount of RAM left during this process, and while the CPU is being intensely used, the highest level of use is the unzipping, and otherwise it's not really different from other things. 

My very rough guess at this point is that we may want to try setting the optimization level down a bit here, but I don't know how to do that.



---

archive/issue_comments_113888.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nAnother thing is that if you can give me a VERY easy way to try to build this from scratch, without Sage (though perhaps using Sage Python etc.) on this machine, I could see if that works.",
    "created_at": "2011-05-12T17:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113888",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

Another thing is that if you can give me a VERY easy way to try to build this from scratch, without Sage (though perhaps using Sage Python etc.) on this machine, I could see if that works.



---

archive/issue_comments_113889.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@kcrisman](#comment:3):\n> Another thing is that if you can give me a VERY easy way to try to build this from scratch, without Sage (though perhaps using Sage Python etc.) on this machine, I could see if that works.  \n\nFirst of all enter the Sage environment (This does not start Sage, just a shell with all environment variables and paths defined):\n`./sage -sh`\nThen extract the package\n`tar -xvjf polybori-0.7.0.p6.spkg`\nEnter the directory the newly generated directory and start the package building manually\n`cd polybori-0.7.0.p6; ./spkg-install`\nAlternatively, use PolyBoRi's build system directly:\n`cd polybori-0.7.0.p6/src/polybori-0.7; scons .`\n(The `.` is mandatory to build everything.)\n\nMaybe the problem is causes by the nested header inclusions. Perhaps the compiler is running out of stack.\n\nYou may try the following out: In the beginning of the headers in the `polybori-0.7.0.p6/src/polybori-0.7/*/include` directories  you'll find something like the following:\n\n```\n#ifndef FileName_h_\n#define FileName_h_\n```\n\nSometimes there are `#include <header>` statement above this lines. It could save stack, if you move the `#include`s below the `#define`s.\n\nPerhaps you can just try out those headers which are mentioned in the error message above\n\nBest regards,\n  Alexander",
    "created_at": "2011-05-12T18:11:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113889",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@kcrisman](#comment:3):
> Another thing is that if you can give me a VERY easy way to try to build this from scratch, without Sage (though perhaps using Sage Python etc.) on this machine, I could see if that works.  

First of all enter the Sage environment (This does not start Sage, just a shell with all environment variables and paths defined):
`./sage -sh`
Then extract the package
`tar -xvjf polybori-0.7.0.p6.spkg`
Enter the directory the newly generated directory and start the package building manually
`cd polybori-0.7.0.p6; ./spkg-install`
Alternatively, use PolyBoRi's build system directly:
`cd polybori-0.7.0.p6/src/polybori-0.7; scons .`
(The `.` is mandatory to build everything.)

Maybe the problem is causes by the nested header inclusions. Perhaps the compiler is running out of stack.

You may try the following out: In the beginning of the headers in the `polybori-0.7.0.p6/src/polybori-0.7/*/include` directories  you'll find something like the following:

```
#ifndef FileName_h_
#define FileName_h_
```

Sometimes there are `#include <header>` statement above this lines. It could save stack, if you move the `#include`s below the `#define`s.

Perhaps you can just try out those headers which are mentioned in the error message above

Best regards,
  Alexander



---

archive/issue_comments_113890.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSince I am not sure which of those header files are the 'right' ones, I am reluctant to take a lot of time with that yet.  Using the spkg-install does same thing.  Interestingly, using PolyBoRi's system does *not* start building with BoolePolyRing.cc, as it does with Sage, but rather !cuddAPI.c.  Is that significant?\n\nBut yes, on these older machines, perhaps the specific combination of old gcc, old processor, makes for the problem.  Certainly a segmentation fault sounds like a compiler running out of something; I assume this is where the concept of stack overflow comes from (I just know the website...).",
    "created_at": "2011-05-12T18:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113890",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

Since I am not sure which of those header files are the 'right' ones, I am reluctant to take a lot of time with that yet.  Using the spkg-install does same thing.  Interestingly, using PolyBoRi's system does *not* start building with BoolePolyRing.cc, as it does with Sage, but rather !cuddAPI.c.  Is that significant?

But yes, on these older machines, perhaps the specific combination of old gcc, old processor, makes for the problem.  Certainly a segmentation fault sounds like a compiler running out of something; I assume this is where the concept of stack overflow comes from (I just know the website...).



---

archive/issue_comments_113891.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nOkay, tried it from the build system in PolyBoRi itself.  Went very well for quite some time, but then failed on exactly the same file as before (BoolePolyRing.cc), though of course it had done all kinds of other stuff first.  Interestingly, it created BoolePolyRing.os fine, it was in making BoolePolyRing.o that the troubles came (as with the Sage build).  \n\nI will try to check what my other computer with this setup failed at; I don't think it was the same file.",
    "created_at": "2011-05-12T18:47:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113891",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">comment:6</div>

Okay, tried it from the build system in PolyBoRi itself.  Went very well for quite some time, but then failed on exactly the same file as before (BoolePolyRing.cc), though of course it had done all kinds of other stuff first.  Interestingly, it created BoolePolyRing.os fine, it was in making BoolePolyRing.o that the troubles came (as with the Sage build).  

I will try to check what my other computer with this setup failed at; I don't think it was the same file.



---

archive/issue_comments_113892.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHere is where a nearly identical machine - also XCode 2.5, but 1.25 !GHz instead of 770 !MHz, and 1 GB memory instead of 512 MB memory - fails - rather further into the compilation.\n\n```\ng++ -o groebner/src/groebner_alg.os -c -O3 -Wno-long-long -Wreturn-type -g -fPIC -ftemplate-depth-100 -O3 -Wno-long-long -Wreturn-type -g -fPIC -fPIC -fvisibility=hidden -DNDEBUG -DHAVE_GD -DHAVE_HASH_MAP -DPACKED -DHAVE_M4RI -DHAVE_GD -DHAVE_IEEE_754 -I/Users/crisman/sage-4.7.rc2/local/include -I/Users/crisman/sage-4.7.rc2/local/include/python2.6 -Ipolybori/include -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd groebner/src/groebner_alg.cc\n[address=019fffff pc=003f17d8]\nIn file included from polybori/include/pbori_traits.h:20,\n                 from polybori/include/pbori_func.h:19,\n                 from polybori/include/BooleSet.h:22,\n                 from polybori/include/CTermStack.h:39,\n                 from polybori/include/CStackSelector.h:23,\n                 from polybori/include/COrderedIter.h:27,\n                 from polybori/include/COrderingFacade.h:25,\n                 from polybori/include/LexOrder.h:20,\n                 from polybori/include/pbori_order.h:25,\n                 from polybori/include/polybori.h:33,\n                 from groebner/src/groebner_alg.h:12,\n                 from groebner/src/groebner_alg.cc:10:\npolybori/include/pbori_defs.h:1: internal compiler error: Segmentation Fault\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\nSee <URL:http://developer.apple.com/bugreporter> for instructions.\nscons: *** [groebner/src/groebner_alg.os] Error 1\nscons: building terminated because of errors.\nError building PolyBoRi.\n\nreal    11m53.429s\nuser    9m43.204s\nsys     1m24.262s\n```\nWhat is the difference between the .o and .os files, anyway?  Are both needed for Sage?",
    "created_at": "2011-05-12T23:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113892",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

Here is where a nearly identical machine - also XCode 2.5, but 1.25 !GHz instead of 770 !MHz, and 1 GB memory instead of 512 MB memory - fails - rather further into the compilation.

```
g++ -o groebner/src/groebner_alg.os -c -O3 -Wno-long-long -Wreturn-type -g -fPIC -ftemplate-depth-100 -O3 -Wno-long-long -Wreturn-type -g -fPIC -fPIC -fvisibility=hidden -DNDEBUG -DHAVE_GD -DHAVE_HASH_MAP -DPACKED -DHAVE_M4RI -DHAVE_GD -DHAVE_IEEE_754 -I/Users/crisman/sage-4.7.rc2/local/include -I/Users/crisman/sage-4.7.rc2/local/include/python2.6 -Ipolybori/include -ICudd/obj -ICudd/util -ICudd/cudd -ICudd/mtr -ICudd/st -ICudd/epd groebner/src/groebner_alg.cc
[address=019fffff pc=003f17d8]
In file included from polybori/include/pbori_traits.h:20,
                 from polybori/include/pbori_func.h:19,
                 from polybori/include/BooleSet.h:22,
                 from polybori/include/CTermStack.h:39,
                 from polybori/include/CStackSelector.h:23,
                 from polybori/include/COrderedIter.h:27,
                 from polybori/include/COrderingFacade.h:25,
                 from polybori/include/LexOrder.h:20,
                 from polybori/include/pbori_order.h:25,
                 from polybori/include/polybori.h:33,
                 from groebner/src/groebner_alg.h:12,
                 from groebner/src/groebner_alg.cc:10:
polybori/include/pbori_defs.h:1: internal compiler error: Segmentation Fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://developer.apple.com/bugreporter> for instructions.
scons: *** [groebner/src/groebner_alg.os] Error 1
scons: building terminated because of errors.
Error building PolyBoRi.

real    11m53.429s
user    9m43.204s
sys     1m24.262s
```
What is the difference between the .o and .os files, anyway?  Are both needed for Sage?



---

archive/issue_comments_113893.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAs ususal: the .os are prepared for shared libs (compiled with .-fPIC).\n\nDid you try out the changes in the src directory I suggested above?",
    "created_at": "2011-05-12T23:50:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113893",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:8" align="right">comment:8</div>

As ususal: the .os are prepared for shared libs (compiled with .-fPIC).

Did you try out the changes in the src directory I suggested above?



---

archive/issue_comments_113894.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@alexanderdreyer](#comment:8):\n> As ususal: the .os are prepared for shared libs (compiled with .-fPIC).\n> \n> Did you try out the changes in the src directory I suggested above?\n\nWell, given that I don't know what .os files are, you might imagine it would take me quite a while to try something like that :)\n\nI have tried moving the `#include` statements below the `#ifndef` in two files that seemed likely - `COrderedIter.h` and `pbori_order.h`.  They are the only two which show up in both traces.    I did this 100% by hand, and I hope that running spkg-install from ./sage -sh in that directory will be enough to use the modified files.  It already made it past `groebner_alg.os`, which is a good sign... but this has been bad enough that I will wait to see.\n\nWhile I'm waiting, I'll ask the dumb question:  are all these include statements supposed to be inside the `#ifndef` usually?  If so, why aren't they?  If not, why would this make a difference?\n\n```\n\nDone installing PolyBoRi.\nSAGE_ROOT=/Users/crisman/sage-4.7.rc2\n(sage subshell) new-host:polybori-0.7.0.p2 crisman$ \n```\n\nWell, that seemed to work!  Again, I only did it with these two files.\n\nNow I am going to revert the change to `COrderedIter.h` and keep only the one to `pbori_order.h`, and try it again.",
    "created_at": "2011-05-13T00:19:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113894",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@alexanderdreyer](#comment:8):
> As ususal: the .os are prepared for shared libs (compiled with .-fPIC).
> 
> Did you try out the changes in the src directory I suggested above?

Well, given that I don't know what .os files are, you might imagine it would take me quite a while to try something like that :)

I have tried moving the `#include` statements below the `#ifndef` in two files that seemed likely - `COrderedIter.h` and `pbori_order.h`.  They are the only two which show up in both traces.    I did this 100% by hand, and I hope that running spkg-install from ./sage -sh in that directory will be enough to use the modified files.  It already made it past `groebner_alg.os`, which is a good sign... but this has been bad enough that I will wait to see.

While I'm waiting, I'll ask the dumb question:  are all these include statements supposed to be inside the `#ifndef` usually?  If so, why aren't they?  If not, why would this make a difference?

```

Done installing PolyBoRi.
SAGE_ROOT=/Users/crisman/sage-4.7.rc2
(sage subshell) new-host:polybori-0.7.0.p2 crisman$ 
```

Well, that seemed to work!  Again, I only did it with these two files.

Now I am going to revert the change to `COrderedIter.h` and keep only the one to `pbori_order.h`, and try it again.



---

archive/issue_comments_113895.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAnother update - the change to `pbori_order.h` did not fix the problem on the slower machine (the one that failed at `g++ -o polybori/src/BoolePolyRing.o`) but adding the change to `COrderedIter.h` did allow it to proceed past that very first file (hasn't finished yet).  \n\nAnd the attempt with only `pbori_order.h` changed on the newer machine led to the exact same failure as before.  So it seems that this is the problem.\n\nSo **why** is it the problem?  I do not want to have to chase this all down again with every PolyBoRi upgrade, as you can imagine.  If there is a good reference for why this would make the difference online, that would be great.  \n\nAnd if doing this on all files would help solve it in the future anyway, that would be fine too :)",
    "created_at": "2011-05-13T00:31:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113895",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">comment:10</div>

Another update - the change to `pbori_order.h` did not fix the problem on the slower machine (the one that failed at `g++ -o polybori/src/BoolePolyRing.o`) but adding the change to `COrderedIter.h` did allow it to proceed past that very first file (hasn't finished yet).  

And the attempt with only `pbori_order.h` changed on the newer machine led to the exact same failure as before.  So it seems that this is the problem.

So **why** is it the problem?  I do not want to have to chase this all down again with every PolyBoRi upgrade, as you can imagine.  If there is a good reference for why this would make the difference online, that would be great.  

And if doing this on all files would help solve it in the future anyway, that would be fine too :)



---

archive/issue_comments_113896.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nYup, changing `COrderedIter.h` to move the `#include` statements did the trick on both machines.  \n\nIf you include something about this - and explanation!!! since this all seems quite magical to me - on #11261, then that would close this ticket as well.  Or a separate spkg update could be made for this.  Naturally, I would be willing to test them.",
    "created_at": "2011-05-13T00:53:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113896",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

Yup, changing `COrderedIter.h` to move the `#include` statements did the trick on both machines.  

If you include something about this - and explanation!!! since this all seems quite magical to me - on #11261, then that would close this ticket as well.  Or a separate spkg update could be made for this.  Naturally, I would be willing to test them.



---

archive/issue_comments_113897.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@kcrisman](#comment:11):\n> Yup, changing `COrderedIter.h` to move the `#include` statements did the trick on both machines.  \n> If you include something about this - and explanation!!! since this all seems quite magical to me - on #11261, then that would close this ticket as well.  Or a separate spkg update could be made for this.\n\nI will update and rebundle #11261 later (I need to rebase it on the new 0.7.0 spkg, when accepted).\nThe explanation is as follows: Without the patch the compiler hast to open and stack a lot of headers which are immediately closed, because the current compilation procedure had already entered them. But anyway: they were stacked. With the patch these files are never opened. \nSince this never caused problems before, I did not take care on the order of `#include` and {{#ifndef}}/`#define` statements. (This will be fixed upstream also soon.)\n\n>  Naturally, I would be willing to test them.\n\nNice, please have a look here:\n  http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg",
    "created_at": "2011-05-13T08:33:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113897",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@kcrisman](#comment:11):
> Yup, changing `COrderedIter.h` to move the `#include` statements did the trick on both machines.  
> If you include something about this - and explanation!!! since this all seems quite magical to me - on #11261, then that would close this ticket as well.  Or a separate spkg update could be made for this.

I will update and rebundle #11261 later (I need to rebase it on the new 0.7.0 spkg, when accepted).
The explanation is as follows: Without the patch the compiler hast to open and stack a lot of headers which are immediately closed, because the current compilation procedure had already entered them. But anyway: they were stacked. With the patch these files are never opened. 
Since this never caused problems before, I did not take care on the order of `#include` and {{#ifndef}}/`#define` statements. (This will be fixed upstream also soon.)

>  Naturally, I would be willing to test them.

Nice, please have a look here:
  http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg



---

archive/issue_comments_113898.json:
```json
{
    "body": "Attachment: **[polybori-0.7.0.p3-vs-p2.patch.gz](https://github.com/sagemath/sage/files/ticket11331/polybori-0.7.0.p3-vs-p2.patch.gz)**\n\nspkg-patch (just to simplify reviewing)",
    "created_at": "2011-05-13T08:34:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113898",
    "user": "https://github.com/alexanderdreyer"
}
```

Attachment: **[polybori-0.7.0.p3-vs-p2.patch.gz](https://github.com/sagemath/sage/files/ticket11331/polybori-0.7.0.p3-vs-p2.patch.gz)**

spkg-patch (just to simplify reviewing)



---

archive/issue_events_148980.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-05-13T11:32:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148980"
}
```



---

archive/issue_comments_113899.json:
```json
{
    "body": "Upstream: **Fixed upstream, in a later stable release.**",
    "created_at": "2011-05-13T11:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113899",
    "user": "https://github.com/alexanderdreyer"
}
```

Upstream: **Fixed upstream, in a later stable release.**



---

archive/issue_comments_113900.json:
```json
{
    "body": "Author: **Alexander Dreyer**",
    "created_at": "2011-05-13T11:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113900",
    "user": "https://github.com/alexanderdreyer"
}
```

Author: **Alexander Dreyer**



---

archive/issue_comments_113901.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHi,\n\nwhat a nice \"ready-to-go\" new spkg and \"p3-vs-p2\" patch, presented on \"a silver tablet\" --- I just couldn't resist! \n\nBoth my MacIntel and my MacPPC systems use OS X 10.4.11 with XCode 2.5 (the MacIntel has a Core2Duo CPU with 2 GHz and 2 GB RAM, the MacPPC has an older G4 CPU with 550 MHz and 768 MB RAM). These are the findings from my side (all one-time tries only):\n\n- On my MacIntel with Sage-4.7.alpha4 (and polybori-0.7.0.p2), building from scratch went fine, but with Sage-4.7.rc2 (and the very same polybori-0.7.0.p2), building from scratch broke with the described internal compiler error.\n\n- On my MacPPC with Sage-4.7.rc2 (and still polybori-0.7.0.p2), building from scratch went fine(!!).\n\nSo the issue of this ticket firstly does not seem to hit in 100% of the cases, and secondly seems to affect both the MacIntel and MacPPC platforms ... \n\nI updated on both systems the Sage-4.7.rc2 install with the new polybori-0.7.0.p3 spkg of this ticket, and on both systems they did build fine. On the MacIntel, \"make testlong\" finished in the meantime, and passed fine (except for the known old \"maxima.py\" issue, which is unrelated).\n\nThe SPKG.txt is updated correctly, even the mercurial repository looks good, excellent! The only downside might be that the problem still lurks, since only more testing really could give confidence. But the best way to achieve the latter is to drop this spkg in the mainline code base, which is justified, because regressions are hardly to be awaited from looking at the tiny (and very local) changes.\n\nAll in all: positive review.",
    "created_at": "2011-05-14T20:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113901",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:15" align="right">comment:15</div>

Hi,

what a nice "ready-to-go" new spkg and "p3-vs-p2" patch, presented on "a silver tablet" --- I just couldn't resist! 

Both my MacIntel and my MacPPC systems use OS X 10.4.11 with XCode 2.5 (the MacIntel has a Core2Duo CPU with 2 GHz and 2 GB RAM, the MacPPC has an older G4 CPU with 550 MHz and 768 MB RAM). These are the findings from my side (all one-time tries only):

- On my MacIntel with Sage-4.7.alpha4 (and polybori-0.7.0.p2), building from scratch went fine, but with Sage-4.7.rc2 (and the very same polybori-0.7.0.p2), building from scratch broke with the described internal compiler error.

- On my MacPPC with Sage-4.7.rc2 (and still polybori-0.7.0.p2), building from scratch went fine(!!).

So the issue of this ticket firstly does not seem to hit in 100% of the cases, and secondly seems to affect both the MacIntel and MacPPC platforms ... 

I updated on both systems the Sage-4.7.rc2 install with the new polybori-0.7.0.p3 spkg of this ticket, and on both systems they did build fine. On the MacIntel, "make testlong" finished in the meantime, and passed fine (except for the known old "maxima.py" issue, which is unrelated).

The SPKG.txt is updated correctly, even the mercurial repository looks good, excellent! The only downside might be that the problem still lurks, since only more testing really could give confidence. But the best way to achieve the latter is to drop this spkg in the mainline code base, which is justified, because regressions are hardly to be awaited from looking at the tiny (and very local) changes.

All in all: positive review.



---

archive/issue_events_148981.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2011-05-14T20:51:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148981"
}
```



---

archive/issue_events_148982.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2011-05-14T20:51:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148982"
}
```



---

archive/issue_comments_113902.json:
```json
{
    "body": "Reviewer: **Georg S. Weber**",
    "created_at": "2011-05-14T20:51:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113902",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

Reviewer: **Georg S. Weber**



---

archive/issue_comments_113903.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nWow, great review, Georg.  How bizarre about the Intel/PPC thing.  But is your PPC a G5 or G4?  We only saw it on G4 machines until this report.   \n\nDavid Kirkby would surely warn us about more compiler madness waiting in the wings if we don't fix the headers, but I know nothing of such things, so this all looks great.  I also just independently checked this worked by dropping in this spkg in a freshly untarred rc2 on one of the failing machines, so considering it worked (though not with from scratch) on the only other machine I saw it on, this should be very positive review indeed.  I'm adding myself in to the reviewers based on the previous work, if that's okay.",
    "created_at": "2011-05-14T23:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113903",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">comment:16</div>

Wow, great review, Georg.  How bizarre about the Intel/PPC thing.  But is your PPC a G5 or G4?  We only saw it on G4 machines until this report.   

David Kirkby would surely warn us about more compiler madness waiting in the wings if we don't fix the headers, but I know nothing of such things, so this all looks great.  I also just independently checked this worked by dropping in this spkg in a freshly untarred rc2 on one of the failing machines, so considering it worked (though not with from scratch) on the only other machine I saw it on, this should be very positive review indeed.  I'm adding myself in to the reviewers based on the previous work, if that's okay.



---

archive/issue_comments_113904.json:
```json
{
    "body": "Changed reviewer from **Georg S. Weber** to **Georg S. Weber, Karl-Dieter Crisman**",
    "created_at": "2011-05-14T23:46:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113904",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Georg S. Weber** to **Georg S. Weber, Karl-Dieter Crisman**



---

archive/issue_comments_113905.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@kcrisman](#comment:16):\n> But is your PPC a G5 or G4?\n\nIt's a 550 MHz G4 PowerPC, the \"older one\" of the G4's used (\"7400\" for e.g. TenFourFox)\n\n> \n>   I'm adding myself in to the reviewers based on the previous work, if that's okay.\n\nSure! Having slept over it, I myself felt that I should not have put only my name in that reviewer field, but yours, too. But you were even faster ...",
    "created_at": "2011-05-15T20:33:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113905",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@kcrisman](#comment:16):
> But is your PPC a G5 or G4?

It's a 550 MHz G4 PowerPC, the "older one" of the G4's used ("7400" for e.g. TenFourFox)

> 
>   I'm adding myself in to the reviewers based on the previous work, if that's okay.

Sure! Having slept over it, I myself felt that I should not have put only my name in that reviewer field, but yours, too. But you were even faster ...



---

archive/issue_comments_113906.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n Depending on the machine and the version, the error seems to hit at different places, but in the end it's always failing.  See for example [this sage-release thread](http://groups.google.com/group/sage-release/browse_thread/thread/b41ef4f3dd2c1be0/127b263a05c1cbab?show_docid=127b263a05c1cbab).\n \n-It appears to be a compiler bug, perhaps a memory issue.  \n+It is a bug in gcc.\n \n This is with sage-4.7.rc0 through rc2.  alpha5 is unaffected, which is truly bizarre.  Since Singular's latest (rc2, p9) builds fine on these machines, it might be the bzip2 package upgrade that is the issue, unlikely though this may seem.\n \n``````\n",
    "created_at": "2011-05-16T07:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113906",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 Depending on the machine and the version, the error seems to hit at different places, but in the end it's always failing.  See for example [this sage-release thread](http://groups.google.com/group/sage-release/browse_thread/thread/b41ef4f3dd2c1be0/127b263a05c1cbab?show_docid=127b263a05c1cbab).
 
-It appears to be a compiler bug, perhaps a memory issue.  
+It is a bug in gcc.
 
 This is with sage-4.7.rc0 through rc2.  alpha5 is unaffected, which is truly bizarre.  Since Singular's latest (rc2, p9) builds fine on these machines, it might be the bzip2 package upgrade that is the issue, unlikely though this may seem.
 
``````




---

archive/issue_events_148983.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-16T07:49:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148983"
}
```



---

archive/issue_events_148984.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-16T07:49:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148984"
}
```



---

archive/issue_comments_113907.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -241,3 +241,5 @@\n Error building Sage. \n make: *** [build] Error 1\n ```\n+\n+**New spkg:** [http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg](http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg)\n``````\n",
    "created_at": "2011-05-16T07:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113907",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -241,3 +241,5 @@
 Error building Sage. 
 make: *** [build] Error 1
 ```
+
+**New spkg:** [http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg](http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg)
``````




---

archive/issue_comments_113908.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAlexanderDryer: could you please upload the spkg *without* the added `hg` tag?  My merge script gets confused with the already-added tag.",
    "created_at": "2011-05-16T07:49:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113908",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:19" align="right">comment:19</div>

AlexanderDryer: could you please upload the spkg *without* the added `hg` tag?  My merge script gets confused with the already-added tag.



---

archive/issue_comments_113909.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment:19):\n> AlexanderDryer: could you please upload the spkg *without* the added `hg` tag?  My merge script gets confused with the already-added tag.\n\nNo problem! The new pkg is at the same location: http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg",
    "created_at": "2011-05-16T08:08:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113909",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment:19):
> AlexanderDryer: could you please upload the spkg *without* the added `hg` tag?  My merge script gets confused with the already-added tag.

No problem! The new pkg is at the same location: http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.0.p3.spkg



---

archive/issue_events_148985.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-05-16T08:08:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148985"
}
```



---

archive/issue_events_148986.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-05-16T08:08:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148986"
}
```



---

archive/issue_events_148987.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2011-05-16T18:16:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148987"
}
```



---

archive/issue_events_148988.json:
```json
{
    "actor": "https://github.com/sagetrac-GeorgSWeber",
    "created_at": "2011-05-16T18:16:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148988"
}
```



---

archive/issue_comments_113910.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nHmm,\nthe only difference I can see is that \"hg tags\" outputs one line less than before (the line with \"polybori-0.7.0.p3\" is now missing), i.e. the hidden file \".hgtags\" has one line less. I didn't know that was important, sorry. But I guess this is what was meant and needed, so positive review renewed.",
    "created_at": "2011-05-16T18:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113910",
    "user": "https://github.com/sagetrac-GeorgSWeber"
}
```

<div id="comment:21" align="right">comment:21</div>

Hmm,
the only difference I can see is that "hg tags" outputs one line less than before (the line with "polybori-0.7.0.p3" is now missing), i.e. the hidden file ".hgtags" has one line less. I didn't know that was important, sorry. But I guess this is what was meant and needed, so positive review renewed.



---

archive/issue_comments_113911.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@sagetrac-GeorgSWeber](#comment:21):\n> Hmm,\n> the only difference I can see is that \"hg tags\" outputs one line less than before (the line with \"polybori-0.7.0.p3\" is now missing), i.e. the hidden file \".hgtags\" has one line less. I didn't know that was important, sorry.\n\nNo need to apologize.  I am rewriting the spkg handling of my merger script.  One change is that it now automatically adds a hg tag, and an already-existing tag will confuse the scripts.  Anyway, thanks for the review.",
    "created_at": "2011-05-16T19:33:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113911",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@sagetrac-GeorgSWeber](#comment:21):
> Hmm,
> the only difference I can see is that "hg tags" outputs one line less than before (the line with "polybori-0.7.0.p3" is now missing), i.e. the hidden file ".hgtags" has one line less. I didn't know that was important, sorry.

No need to apologize.  I am rewriting the spkg handling of my merger script.  One change is that it now automatically adds a hg tag, and an already-existing tag will confuse the scripts.  Anyway, thanks for the review.



---

archive/issue_events_148989.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-20T11:09:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148989"
}
```



---

archive/issue_events_148990.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-20T11:09:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148990"
}
```



---

archive/issue_events_148991.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-20T11:10:05Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148991"
}
```



---

archive/issue_events_148992.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-20T11:10:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "milestone_number": null,
    "milestone_title": "sage-4.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148992"
}
```



---

archive/issue_comments_113912.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@kcrisman](#comment:24):\nWhy changing the milestone so late?  I already assumed it was going into the sage-4.7.1 cycle.",
    "created_at": "2011-05-20T15:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113912",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@kcrisman](#comment:24):
Why changing the milestone so late?  I already assumed it was going into the sage-4.7.1 cycle.



---

archive/issue_comments_113913.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n> Why changing the milestone so late?  I already assumed it was going into the sage-4.7.1 cycle.\n\nI think this was probably opened after the default milestone was 4.7.1; similarly with the priority.  I never realized it wouldn't make it in.  But this does prevent building of Sage, so I guess I kind of assumed it should be in an 'official' release.  Especially if we want to produce binaries for 4.7, since several of the machines people use to do this would be affected.",
    "created_at": "2011-05-20T15:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113913",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">comment:26</div>

> Why changing the milestone so late?  I already assumed it was going into the sage-4.7.1 cycle.

I think this was probably opened after the default milestone was 4.7.1; similarly with the priority.  I never realized it wouldn't make it in.  But this does prevent building of Sage, so I guess I kind of assumed it should be in an 'official' release.  Especially if we want to produce binaries for 4.7, since several of the machines people use to do this would be affected.



---

archive/issue_comments_113914.json:
```json
{
    "body": "Merged: **sage-4.7.rc4**",
    "created_at": "2011-05-21T06:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11331#issuecomment-113914",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.rc4**



---

archive/issue_events_148993.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-21T06:15:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148993"
}
```



---

archive/issue_events_148994.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-21T06:15:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11331",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11331#event-148994"
}
```
