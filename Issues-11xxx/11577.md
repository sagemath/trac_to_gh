# Issue 11577: save(x,filename) fails for pure Python objects for x if filename contains a dot

archive/issues_011405.json:
```json
{
    "assignees": [],
    "body": "(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of.)\n\nIf the filename passed to `save()` contains a dot, `save()` assumes that the user doesn't just want to dump the (pickled) object, but instead wants to call the object's `save()` method. I guess this makes sense in situations like `save(g, 'mygraph.png')`, but the code should fall back to dumping the pickled version (e.g. via `try: ... except AttributeError: ...` - suggested via IRC by leif) if the object has no `save()` method.\n\nleif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a `.wav` file) and not statically compare with a list of known extensions.\n\n\n```\nsage: save((1,1), 'foo2')\nsage: save(Matrix(3,3), 'foo.bar3')\nsage: save((1,1), 'foo.bar4')\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n\n/tmp/sagedebug/<ipython console> in <module>()\n\n/usr/local/sage/local/lib/python2.6/site-packages/sage/structure/sage_object.so in sage.structure.sage_object.save (sage/structure/sage_object.c:8156)()\n\nAttributeError: 'tuple' object has no attribute 'save'\n```\n\nHere's the culprit:\n\n```python\n    # Add '.sobj' if the filename currently has no extension\n    if os.path.splitext(filename)[1] == '':\n        filename += '.sobj'\n\n    if filename.endswith('.sobj'):\n        try:\n            obj.save(filename=filename, compress=compress, **kwds)\n        except (AttributeError, RuntimeError, TypeError):\n            s = cPickle.dumps(obj, protocol=2)\n            if compress:\n                s = comp.compress(s)\n            open(process(filename), 'wb').write(s)\n    else:\n        # Saving an object to an image file. \n        # XXX This of course fails for plain Python objects:\n        obj.save(filename, **kwds)\n```\n\n---\n\nApply only [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).\n\n\nAssignee: **@williamstein**\n\nKeywords: **.sobj**\n\nAuthor: **Leif Leonhardy, John Palmieri**\n\nReviewer: **John Palmieri, Leif Leonhardy**\n\nMerged: **sage-4.7.2.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11577_\n\n",
    "closed_at": "2011-08-22T17:34:16Z",
    "created_at": "2011-07-05T14:53:21Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20pickling",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "save(x,filename) fails for pure Python objects for x if filename contains a dot",
    "type": "issue",
    "updated_at": "2011-08-22T17:34:16Z",
    "url": "https://github.com/sagemath/sage/issues/11577",
    "user": "https://github.com/sagetrac-logix"
}
```
(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of.)

If the filename passed to `save()` contains a dot, `save()` assumes that the user doesn't just want to dump the (pickled) object, but instead wants to call the object's `save()` method. I guess this makes sense in situations like `save(g, 'mygraph.png')`, but the code should fall back to dumping the pickled version (e.g. via `try: ... except AttributeError: ...` - suggested via IRC by leif) if the object has no `save()` method.

leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a `.wav` file) and not statically compare with a list of known extensions.


```
sage: save((1,1), 'foo2')
sage: save(Matrix(3,3), 'foo.bar3')
sage: save((1,1), 'foo.bar4')
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)

/tmp/sagedebug/<ipython console> in <module>()

/usr/local/sage/local/lib/python2.6/site-packages/sage/structure/sage_object.so in sage.structure.sage_object.save (sage/structure/sage_object.c:8156)()

AttributeError: 'tuple' object has no attribute 'save'
```

Here's the culprit:

```python
    # Add '.sobj' if the filename currently has no extension
    if os.path.splitext(filename)[1] == '':
        filename += '.sobj'

    if filename.endswith('.sobj'):
        try:
            obj.save(filename=filename, compress=compress, **kwds)
        except (AttributeError, RuntimeError, TypeError):
            s = cPickle.dumps(obj, protocol=2)
            if compress:
                s = comp.compress(s)
            open(process(filename), 'wb').write(s)
    else:
        # Saving an object to an image file. 
        # XXX This of course fails for plain Python objects:
        obj.save(filename, **kwds)
```

---

Apply only [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).


Assignee: **@williamstein**

Keywords: **.sobj**

Author: **Leif Leonhardy, John Palmieri**

Reviewer: **John Palmieri, Leif Leonhardy**

Merged: **sage-4.7.2.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/11577_





---

archive/issue_events_141481.json:
```json
{
    "actor": "https://github.com/sagetrac-logix",
    "created_at": "2011-07-05T14:53:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141481"
}
```



---

archive/issue_events_141482.json:
```json
{
    "actor": "https://github.com/sagetrac-logix",
    "created_at": "2011-07-05T14:53:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20sage-mode",
    "label_color": "0000ff",
    "label_name": "component: sage-mode",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141482"
}
```



---

archive/issue_events_141483.json:
```json
{
    "actor": "https://github.com/sagetrac-logix",
    "created_at": "2011-07-05T14:53:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141483"
}
```



---

archive/issue_events_141484.json:
```json
{
    "actor": "https://github.com/sagetrac-logix",
    "created_at": "2011-07-05T14:53:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141484"
}
```



---

archive/issue_comments_120798.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,9 @@\n+(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of)\n+\n If the filename passed to save() contains a dot, save() assumes that the user doesnt just want to dump the (pickled) object, but instead wants to call the object's save() method. I guess this makes sense in situations like save(g, 'mygraph.png'), but the code should fall back to dumping the pickled version (e.g. via try: ... except AttributeError: ... - suggested via IRC by leif) if the object has no save() method.\n \n leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a .wav file) and not statically compare with a list of known extensions.\n+\n \n ```\n sage: save((1,1), 'foo2')\n``````\n",
    "created_at": "2011-07-05T15:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120798",
    "user": "https://github.com/sagetrac-logix"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,9 @@
+(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of)
+
 If the filename passed to save() contains a dot, save() assumes that the user doesnt just want to dump the (pickled) object, but instead wants to call the object's save() method. I guess this makes sense in situations like save(g, 'mygraph.png'), but the code should fall back to dumping the pickled version (e.g. via try: ... except AttributeError: ... - suggested via IRC by leif) if the object has no save() method.
 
 leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a .wav file) and not statically compare with a list of known extensions.
+
 
 ```
 sage: save((1,1), 'foo2')
``````




---

archive/issue_events_141485.json:
```json
{
    "actor": "https://github.com/sagetrac-logix",
    "created_at": "2011-07-05T15:01:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "title_is": "save(x,filename) fails for pure Python objects for x if filename contains a dot",
    "title_was": "save(x,filename) fails for some types of objects for x if filename contains a dot",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141485"
}
```



---

archive/issue_events_141486.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-05T15:13:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20sage-mode",
    "label_color": "0000ff",
    "label_name": "component: sage-mode",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141486"
}
```



---

archive/issue_events_141487.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-05T15:13:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20pickling",
    "label_color": "000080",
    "label_name": "component: pickling",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141487"
}
```



---

archive/issue_comments_120799.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,8 @@\n-(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of)\n+(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of.)\n \n-If the filename passed to save() contains a dot, save() assumes that the user doesnt just want to dump the (pickled) object, but instead wants to call the object's save() method. I guess this makes sense in situations like save(g, 'mygraph.png'), but the code should fall back to dumping the pickled version (e.g. via try: ... except AttributeError: ... - suggested via IRC by leif) if the object has no save() method.\n+If the filename passed to `save()` contains a dot, `save()` assumes that the user doesn't just want to dump the (pickled) object, but instead wants to call the object's `save()` method. I guess this makes sense in situations like `save(g, 'mygraph.png')`, but the code should fall back to dumping the pickled version (e.g. via `try: ... except AttributeError: ...` - suggested via IRC by leif) if the object has no `save()` method.\n \n-leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a .wav file) and not statically compare with a list of known extensions.\n+leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a `.wav` file) and not statically compare with a list of known extensions.\n \n \n ```\n@@ -19,3 +19,24 @@\n AttributeError: 'tuple' object has no attribute 'save'\n ```\n \n+Here's the culprit:\n+\n+```python\n+    # Add '.sobj' if the filename currently has no extension\n+    if os.path.splitext(filename)[1] == '':\n+        filename += '.sobj'\n+\n+    if filename.endswith('.sobj'):\n+        try:\n+            obj.save(filename=filename, compress=compress, **kwds)\n+        except (AttributeError, RuntimeError, TypeError):\n+            s = cPickle.dumps(obj, protocol=2)\n+            if compress:\n+                s = comp.compress(s)\n+            open(process(filename), 'wb').write(s)\n+    else:\n+        # Saving an object to an image file. \n+        # XXX This of course fails for plain Python objects:\n+        obj.save(filename, **kwds)\n+```\n+\n``````\n",
    "created_at": "2011-07-05T15:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120799",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,8 @@
-(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of)
+(The summary actually is not completely accurate - there might be some Python object this works for that I'm not aware of.)
 
-If the filename passed to save() contains a dot, save() assumes that the user doesnt just want to dump the (pickled) object, but instead wants to call the object's save() method. I guess this makes sense in situations like save(g, 'mygraph.png'), but the code should fall back to dumping the pickled version (e.g. via try: ... except AttributeError: ... - suggested via IRC by leif) if the object has no save() method.
+If the filename passed to `save()` contains a dot, `save()` assumes that the user doesn't just want to dump the (pickled) object, but instead wants to call the object's `save()` method. I guess this makes sense in situations like `save(g, 'mygraph.png')`, but the code should fall back to dumping the pickled version (e.g. via `try: ... except AttributeError: ...` - suggested via IRC by leif) if the object has no `save()` method.
 
-leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a .wav file) and not statically compare with a list of known extensions.
+leif also suggested checking if the file name extension is known - however I guess that we then should verify this with the object itself (e.g. it wouldn't make sense to save a graphics object to a `.wav` file) and not statically compare with a list of known extensions.
 
 
 ```
@@ -19,3 +19,24 @@
 AttributeError: 'tuple' object has no attribute 'save'
 ```
 
+Here's the culprit:
+
+```python
+    # Add '.sobj' if the filename currently has no extension
+    if os.path.splitext(filename)[1] == '':
+        filename += '.sobj'
+
+    if filename.endswith('.sobj'):
+        try:
+            obj.save(filename=filename, compress=compress, **kwds)
+        except (AttributeError, RuntimeError, TypeError):
+            s = cPickle.dumps(obj, protocol=2)
+            if compress:
+                s = comp.compress(s)
+            open(process(filename), 'wb').write(s)
+    else:
+        # Saving an object to an image file. 
+        # XXX This of course fails for plain Python objects:
+        obj.save(filename, **kwds)
+```
+
``````




---

archive/issue_comments_120800.json:
```json
{
    "body": "Changed assignee from **@ncalexan** to **@williamstein**",
    "created_at": "2011-07-05T15:13:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120800",
    "user": "https://github.com/nexttime"
}
```

Changed assignee from **@ncalexan** to **@williamstein**



---

archive/issue_comments_120801.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nWhat about simply adding `.sobj` above if there's no extension **or** the object has no `save()` method?",
    "created_at": "2011-07-05T15:19:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120801",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:3" align="right">Comment 3</div>

What about simply adding `.sobj` above if there's no extension **or** the object has no `save()` method?



---

archive/issue_comments_120802.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nAttached patch does exactly what I suggested last.",
    "created_at": "2011-07-05T16:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120802",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:4" align="right">Comment 4</div>

Attached patch does exactly what I suggested last.



---

archive/issue_comments_120803.json:
```json
{
    "body": "Author: **Leif Leonhardy**",
    "created_at": "2011-07-05T16:45:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120803",
    "user": "https://github.com/nexttime"
}
```

Author: **Leif Leonhardy**



---

archive/issue_events_141488.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-05T16:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141488"
}
```



---

archive/issue_events_141489.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-05T16:46:59Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141489"
}
```



---

archive/issue_events_141490.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-05T16:46:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141490"
}
```



---

archive/issue_events_141491.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-23T19:34:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141491"
}
```



---

archive/issue_events_141492.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-23T19:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141492"
}
```



---

archive/issue_comments_120804.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nYou shouldn't write to a file like \"foo.bar\" in a doctest.  Instead, make sure you write to a temporary directory, for example using SAGE_TMP.",
    "created_at": "2011-07-23T19:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120804",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">Comment 6</div>

You shouldn't write to a file like "foo.bar" in a doctest.  Instead, make sure you write to a temporary directory, for example using SAGE_TMP.



---

archive/issue_comments_120805.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nReplying to [@jhpalmieri](#comment%3A6):\n> You shouldn't write to a file like \"foo.bar\" in a doctest.  Instead, make sure you write to a temporary directory, for example using SAGE_TMP.\n\nOoops, I thought doctests would be executed there, i.e. `sage{-doctest,doctest.py}` would `cd` to that before running Python.",
    "created_at": "2011-07-23T19:52:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120805",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">Comment 7</div>

Replying to [@jhpalmieri](#comment%3A6):
> You shouldn't write to a file like "foo.bar" in a doctest.  Instead, make sure you write to a temporary directory, for example using SAGE_TMP.

Ooops, I thought doctests would be executed there, i.e. `sage{-doctest,doctest.py}` would `cd` to that before running Python.



---

archive/issue_comments_120806.json:
```json
{
    "body": "Attachment: **[trac_11577-fix_save_to_filenames_with_dots.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-fix_save_to_filenames_with_dots.patch.gz)**\n\nSage library patch. Adds \".sobj\" to filename if the object has no save() method. (Corrected and improved version.) Based on Sage 4.7.1.rc0.",
    "created_at": "2011-07-23T22:47:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120806",
    "user": "https://github.com/nexttime"
}
```

Attachment: **[trac_11577-fix_save_to_filenames_with_dots.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-fix_save_to_filenames_with_dots.patch.gz)**

Sage library patch. Adds ".sobj" to filename if the object has no save() method. (Corrected and improved version.) Based on Sage 4.7.1.rc0.



---

archive/issue_events_141493.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-23T23:36:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141493"
}
```



---

archive/issue_events_141494.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-07-23T23:36:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141494"
}
```



---

archive/issue_comments_120807.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nFinally...\n\nThe updated patch now adds another doctest and clarifies the description in the docstring. (I intentionally haven't changed it to enumerate all parameters as we normally do, as I think it is more readable as it is now, and `compress=True` should be self-explanatory. For some reason I don't get the correct default parameters shown when typing `save?` at the Sage prompt though.)\n\nI originally wanted to add \n\n```python\n    import os.path\n    from sage.misc.misc import SAGE_TMP\n    filename = os.path.join(SAGE_TMP, \"foo.bar\")\n    ...\n```\nbut then saw the other examples, so I guess *a lot of* doctests rely on\n* having `SAGE_TMP` already imported (by `sage.all`), and also\n* `SAGE_TMP` having a trailing slash (or `os.path.sep`),\nthe latter being perhaps a bit more dangerous than the former.\n\nSo I also just used `SAGE_TMP + \"...\"`.",
    "created_at": "2011-07-23T23:36:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120807",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:8" align="right">Comment 8</div>

Finally...

The updated patch now adds another doctest and clarifies the description in the docstring. (I intentionally haven't changed it to enumerate all parameters as we normally do, as I think it is more readable as it is now, and `compress=True` should be self-explanatory. For some reason I don't get the correct default parameters shown when typing `save?` at the Sage prompt though.)

I originally wanted to add 

```python
    import os.path
    from sage.misc.misc import SAGE_TMP
    filename = os.path.join(SAGE_TMP, "foo.bar")
    ...
```
but then saw the other examples, so I guess *a lot of* doctests rely on
* having `SAGE_TMP` already imported (by `sage.all`), and also
* `SAGE_TMP` having a trailing slash (or `os.path.sep`),
the latter being perhaps a bit more dangerous than the former.

So I also just used `SAGE_TMP + "..."`.



---

archive/issue_comments_120808.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nAt the sage: prompt, I get\n\n```\nDefinition:       save(obj, filename, compress=None, **kwds=True)\n```\nOdd, the values are shifted right by one (filename should be None, compress should be True).  I wonder what's causing that.  Other functions in the same file seem to be okay.  I have some old copies of Sage around, and this behavior dates back to at least version 4.3.\n\nAs far as `SAGE_TMP` is concerned, you're right, it's sloppy.  Probably the right solution is to have a function `sage_tmpfile` or something like that, which takes one argument, FILE, and returns a valid path using `os.path.join(SAGE_TMP, FILE)`.  In fact, if you look at how `SAGE_TMP` is defined in the first place (in sage.misc.misc), it's defined using explicit slashes rather than with `os.path.join`.  This all belongs on another ticket; if I have time, I'll work on that eventually.\n\nI'm happy with the patch, basically as is.  I'm attaching a new version fixing one or two words in the docstring.  I'm marking it as \"positive review\"; if you don't like my changes, switch it back.",
    "created_at": "2011-07-24T03:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120808",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:9" align="right">Comment 9</div>

At the sage: prompt, I get

```
Definition:       save(obj, filename, compress=None, **kwds=True)
```
Odd, the values are shifted right by one (filename should be None, compress should be True).  I wonder what's causing that.  Other functions in the same file seem to be okay.  I have some old copies of Sage around, and this behavior dates back to at least version 4.3.

As far as `SAGE_TMP` is concerned, you're right, it's sloppy.  Probably the right solution is to have a function `sage_tmpfile` or something like that, which takes one argument, FILE, and returns a valid path using `os.path.join(SAGE_TMP, FILE)`.  In fact, if you look at how `SAGE_TMP` is defined in the first place (in sage.misc.misc), it's defined using explicit slashes rather than with `os.path.join`.  This all belongs on another ticket; if I have time, I'll work on that eventually.

I'm happy with the patch, basically as is.  I'm attaching a new version fixing one or two words in the docstring.  I'm marking it as "positive review"; if you don't like my changes, switch it back.



---

archive/issue_events_141495.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-24T03:23:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141495"
}
```



---

archive/issue_events_141496.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-24T03:23:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141496"
}
```



---

archive/issue_events_141497.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-24T03:23:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141497"
}
```



---

archive/issue_events_141498.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-24T03:23:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141498"
}
```



---

archive/issue_comments_120809.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -40,3 +40,7 @@\n         obj.save(filename, **kwds)\n ```\n \n+---\n+\n+Apply [attachment: trac_11577-jhp.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.patch.gz).\n+\n``````\n",
    "created_at": "2011-07-24T03:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120809",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -40,3 +40,7 @@
         obj.save(filename, **kwds)
 ```
 
+---
+
+Apply [attachment: trac_11577-jhp.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.patch.gz).
+
``````




---

archive/issue_comments_120810.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2011-07-24T03:23:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120810",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_comments_120811.json:
```json
{
    "body": "for reference only: difference between old patch and new one",
    "created_at": "2011-07-24T03:23:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120811",
    "user": "https://github.com/jhpalmieri"
}
```

for reference only: difference between old patch and new one



---

archive/issue_comments_120812.json:
```json
{
    "body": "Attachment: **[trac_11577-delta.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-delta.patch.gz)**\n\napply only this patch",
    "created_at": "2011-07-24T03:24:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120812",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11577-delta.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-delta.patch.gz)**

apply only this patch



---

archive/issue_comments_120813.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nAttachment: **[trac_11577-jhp.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.patch.gz)**\n\nReplying to [@jhpalmieri](#comment%3A9):\n> At the sage: prompt, I get\n\n\n```\nDefinition:       save(obj, filename, compress=None, **kwds=True)\n```\n\nOh, I did not notice the true keywords.\n\nThe most disturbing thing with `SAGE_TMP` is IMHO that it ignores settings of `TMP`, `TMPDIR` and `TEMP`, and -- worse -- does not even use `/tmp/` which is more likely to be on a local (usually auto-cleaned) file system than `$HOME/.sage/`, and I don't expect people to change `DOT_SAGE`  to live on a temporary filesystem. (Ok, one can still create a symbolic link from `~/.sage/temp` to whatever is desired, but who knows? Especially since there's also `~/.sage/tmp/` and of course `$SAGE_ROOT/tmp/`.) We furthermore had `SAGE_TMPDIR` and `SAGE_TESTDIR`, the former meanwhile changed to the latter. I'll perhaps open a `sage-devel` thread on that (to make William happy).\n\n> I'm attaching a new version fixing one or two words in the docstring.\n\nOk. Regarding extensions, I'd consider `foo.png` having *one*, while `foo.baz` and `foo.bar` (non-exclusively) having *some*. :-)",
    "created_at": "2011-07-24T06:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120813",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">Comment 10</div>

Attachment: **[trac_11577-jhp.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.patch.gz)**

Replying to [@jhpalmieri](#comment%3A9):
> At the sage: prompt, I get


```
Definition:       save(obj, filename, compress=None, **kwds=True)
```

Oh, I did not notice the true keywords.

The most disturbing thing with `SAGE_TMP` is IMHO that it ignores settings of `TMP`, `TMPDIR` and `TEMP`, and -- worse -- does not even use `/tmp/` which is more likely to be on a local (usually auto-cleaned) file system than `$HOME/.sage/`, and I don't expect people to change `DOT_SAGE`  to live on a temporary filesystem. (Ok, one can still create a symbolic link from `~/.sage/temp` to whatever is desired, but who knows? Especially since there's also `~/.sage/tmp/` and of course `$SAGE_ROOT/tmp/`.) We furthermore had `SAGE_TMPDIR` and `SAGE_TESTDIR`, the former meanwhile changed to the latter. I'll perhaps open a `sage-devel` thread on that (to make William happy).

> I'm attaching a new version fixing one or two words in the docstring.

Ok. Regarding extensions, I'd consider `foo.png` having *one*, while `foo.baz` and `foo.bar` (non-exclusively) having *some*. :-)



---

archive/issue_comments_120814.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nI have a doctest failure which might have been caused by this:\n\n```\nsage -t  -force_lib devel/sage/sage/misc/cachefunc.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/misc/cachefunc.py\", line 1106:\n    sage: for f in sorted(FC.file_list()): print f[len(dir):]\nExpected:\n    /t-.key.sobj\n    /t-.sobj\n    /t-1_2.key.sobj\n    /t-1_2.sobj\n    /t-a-1.1.key.sobj\n    /t-a-1.1.sobj\nGot:\n    /t-.key.sobj.sobj\n    /t-.sobj.sobj\n    /t-1_2.key.sobj.sobj\n    /t-1_2.sobj.sobj\n    /t-a-1.1.key.sobj.sobj\n    /t-a-1.1.sobj.sobj\n```",
    "created_at": "2011-08-18T06:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120814",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:11" align="right">Comment 11</div>

I have a doctest failure which might have been caused by this:

```
sage -t  -force_lib devel/sage/sage/misc/cachefunc.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/misc/cachefunc.py", line 1106:
    sage: for f in sorted(FC.file_list()): print f[len(dir):]
Expected:
    /t-.key.sobj
    /t-.sobj
    /t-1_2.key.sobj
    /t-1_2.sobj
    /t-a-1.1.key.sobj
    /t-a-1.1.sobj
Got:
    /t-.key.sobj.sobj
    /t-.sobj.sobj
    /t-1_2.key.sobj.sobj
    /t-1_2.sobj.sobj
    /t-a-1.1.key.sobj.sobj
    /t-a-1.1.sobj.sobj
```



---

archive/issue_events_141499.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-18T06:18:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141499"
}
```



---

archive/issue_events_141500.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-18T06:18:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141500"
}
```



---

archive/issue_comments_120815.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nConfirmed that this does indeed cause the above doctest failures on sage-4.7.1.",
    "created_at": "2011-08-18T09:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120815",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">Comment 12</div>

Confirmed that this does indeed cause the above doctest failures on sage-4.7.1.



---

archive/issue_comments_120816.json:
```json
{
    "body": "Work Issues: **sage/misc/cachefunc.py doctest failure**",
    "created_at": "2011-08-18T09:33:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120816",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **sage/misc/cachefunc.py doctest failure**



---

archive/issue_events_141501.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-18T22:59:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141501"
}
```



---

archive/issue_events_141502.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-18T22:59:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141502"
}
```



---

archive/issue_comments_120817.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -42,5 +42,5 @@\n \n ---\n \n-Apply [attachment: trac_11577-jhp.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.patch.gz).\n+Apply [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).\n \n``````\n",
    "created_at": "2011-08-18T22:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120817",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -42,5 +42,5 @@
 
 ---
 
-Apply [attachment: trac_11577-jhp.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.patch.gz).
+Apply [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).
 
``````




---

archive/issue_comments_120818.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nHere's a new patch, along with a \"delta\" patch.",
    "created_at": "2011-08-18T22:59:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120818",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">Comment 13</div>

Here's a new patch, along with a "delta" patch.



---

archive/issue_comments_120819.json:
```json
{
    "body": "Attachment: **[trac_11577-delta-1to2.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-delta-1to2.patch.gz)**\n\nfor reference only: difference between old jhp patch and v2",
    "created_at": "2011-08-18T23:00:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120819",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11577-delta-1to2.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-delta-1to2.patch.gz)**

for reference only: difference between old jhp patch and v2



---

archive/issue_comments_120820.json:
```json
{
    "body": "apply only this patch",
    "created_at": "2011-08-18T23:00:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120820",
    "user": "https://github.com/jhpalmieri"
}
```

apply only this patch



---

archive/issue_comments_120821.json:
```json
{
    "body": "Changed reviewer from **John Palmieri** to **John Palmieri, Leif Leonhardy**",
    "created_at": "2011-08-19T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120821",
    "user": "https://github.com/nexttime"
}
```

Changed reviewer from **John Palmieri** to **John Palmieri, Leif Leonhardy**



---

archive/issue_events_141503.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-19T01:21:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141503"
}
```



---

archive/issue_events_141504.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-19T01:21:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141504"
}
```



---

archive/issue_comments_120822.json:
```json
{
    "body": "Changed work issues from **sage/misc/cachefunc.py doctest failure** to none",
    "created_at": "2011-08-19T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120822",
    "user": "https://github.com/nexttime"
}
```

Changed work issues from **sage/misc/cachefunc.py doctest failure** to none



---

archive/issue_comments_120823.json:
```json
{
    "body": "Changed author from **Leif Leonhardy** to **Leif Leonhardy, John Palmieri**",
    "created_at": "2011-08-19T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120823",
    "user": "https://github.com/nexttime"
}
```

Changed author from **Leif Leonhardy** to **Leif Leonhardy, John Palmieri**



---

archive/issue_comments_120824.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -42,5 +42,5 @@\n \n ---\n \n-Apply [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).\n+Apply only [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).\n \n``````\n",
    "created_at": "2011-08-19T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120824",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -42,5 +42,5 @@
 
 ---
 
-Apply [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).
+Apply only [attachment: trac_11577-jhp.v2.patch](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz).
 
``````




---

archive/issue_comments_120825.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nAttachment: **[trac_11577-jhp.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz)**\n\nNew patch looks reasonable, and passes all [long] tests in `sage/{misc,structure}/`, so **positive review**. (Tested with Sage 4.7.1.rc2.)",
    "created_at": "2011-08-19T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120825",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">Comment 14</div>

Attachment: **[trac_11577-jhp.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11577/trac_11577-jhp.v2.patch.gz)**

New patch looks reasonable, and passes all [long] tests in `sage/{misc,structure}/`, so **positive review**. (Tested with Sage 4.7.1.rc2.)



---

archive/issue_comments_120826.json:
```json
{
    "body": "Changed keywords from none to **.sobj**",
    "created_at": "2011-08-19T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120826",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from none to **.sobj**



---

archive/issue_events_141505.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-22T17:34:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141505"
}
```



---

archive/issue_events_141506.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-22T17:34:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11577#event-141506"
}
```



---

archive/issue_comments_120827.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha2**",
    "created_at": "2011-08-22T17:34:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11577",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11577#issuecomment-120827",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.2.alpha2**
