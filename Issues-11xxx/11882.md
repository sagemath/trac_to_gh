# Issue 11882: update readline to 6.2

archive/issues_011710.json:
```json
{
    "assignees": [],
    "body": "readline 6.2 is available.  Upgrade Sage to use this version.  This also includes [a fix](https://trac.macports.org/browser/trunk/dports/devel/readline/files/patch-shobj-conf.diff) so it builds on OS X 10.7 Lion.\n\nThe home base for this ticket is the Lion ticket #11881.\n\n**Apply** [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)\n\nCC:  @kini @nexttime @nathanncohen @jdemeyer @sagetrac-gostrc @sagetrac-Alexander @sagetrac-Dreyer\n\nKeywords: **readline upgrade spkg lion Darwin 11 MacOS X 10.7**\n\nComponent: **packages: standard**\n\nAuthor: **John Palmieri**\n\nReviewer: **Leif Leonhardy, Alexander Dreyer**\n\nMerged: **sage-4.8.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11882_\n\n",
    "closed_at": "2011-10-16T16:11:24Z",
    "created_at": "2011-09-30T17:06:41Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "update readline to 6.2",
    "type": "issue",
    "updated_at": "2011-11-03T16:18:16Z",
    "url": "https://github.com/sagemath/sage/issues/11882",
    "user": "https://github.com/jhpalmieri"
}
```
readline 6.2 is available.  Upgrade Sage to use this version.  This also includes [a fix](https://trac.macports.org/browser/trunk/dports/devel/readline/files/patch-shobj-conf.diff) so it builds on OS X 10.7 Lion.

The home base for this ticket is the Lion ticket #11881.

**Apply** [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)

CC:  @kini @nexttime @nathanncohen @jdemeyer @sagetrac-gostrc @sagetrac-Alexander @sagetrac-Dreyer

Keywords: **readline upgrade spkg lion Darwin 11 MacOS X 10.7**

Component: **packages: standard**

Author: **John Palmieri**

Reviewer: **Leif Leonhardy, Alexander Dreyer**

Merged: **sage-4.8.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/11882_





---

archive/issue_events_160776.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T17:06:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160776"
}
```



---

archive/issue_events_160777.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T17:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160777"
}
```



---

archive/issue_events_160778.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T17:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160778"
}
```



---

archive/issue_events_160779.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T17:06:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160779"
}
```



---

archive/issue_events_160780.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T17:09:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160780"
}
```



---

archive/issue_comments_124542.json:
```json
{
    "body": "Changed keywords from **readline lion** to **readline upgrade spkg lion Darwin 11 MacOS X 10.7**",
    "created_at": "2011-09-30T20:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124542",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **readline lion** to **readline upgrade spkg lion Darwin 11 MacOS X 10.7**



---

archive/issue_comments_124543.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAccording to the attached spkg patch, the version in the changelog entry heading doesn't match the package's one, i.e., the `.p0` is missing.",
    "created_at": "2011-09-30T20:23:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124543",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:4" align="right">comment:4</div>

According to the attached spkg patch, the version in the changelog entry heading doesn't match the package's one, i.e., the `.p0` is missing.



---

archive/issue_comments_124544.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOops, sorry.  Updated now.",
    "created_at": "2011-09-30T20:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124544",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

Oops, sorry.  Updated now.



---

archive/issue_comments_124545.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhile you're at it:\n\n* `chmod +x spkg-check`\n\n* The following\n\n```sh\n   CFLAGS=\"$CFLAGS -g -O2\"\n```\n   should be\n\n```sh\n   CFLAGS=\"-g -O2 $CFLAGS\"\n```\n   (This is IMHO a regression from my previous spkg.)",
    "created_at": "2011-09-30T22:12:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124545",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:6" align="right">comment:6</div>

While you're at it:

* `chmod +x spkg-check`

* The following

```sh
   CFLAGS="$CFLAGS -g -O2"
```
   should be

```sh
   CFLAGS="-g -O2 $CFLAGS"
```
   (This is IMHO a regression from my previous spkg.)



---

archive/issue_comments_124546.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\ns/IMHO/IIRC/ :)",
    "created_at": "2011-09-30T22:12:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124546",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

s/IMHO/IIRC/ :)



---

archive/issue_comments_124547.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAnd presumably the same for `CFLAGS=\"$CFLAGS -g -O0\"`?",
    "created_at": "2011-09-30T22:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124547",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

And presumably the same for `CFLAGS="$CFLAGS -g -O0"`?



---

archive/issue_comments_124548.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nReplying to [@jhpalmieri](#comment:8):\n> And presumably the same for `CFLAGS=\"$CFLAGS -g -O0\"`?\n\nNope. In that case, we want to override a user's setting.",
    "created_at": "2011-09-30T22:40:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124548",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

Replying to [@jhpalmieri](#comment:8):
> And presumably the same for `CFLAGS="$CFLAGS -g -O0"`?

Nope. In that case, we want to override a user's setting.



---

archive/issue_comments_124549.json:
```json
{
    "body": "Attachment: **[trac_11882-readline.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.patch.gz)**\n\npatch for readline spkg, for review only",
    "created_at": "2011-09-30T22:45:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124549",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11882-readline.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.patch.gz)**

patch for readline spkg, for review only



---

archive/issue_comments_124550.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nOkay, the spkg has been updated.",
    "created_at": "2011-09-30T22:46:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124550",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:10" align="right">comment:10</div>

Okay, the spkg has been updated.



---

archive/issue_comments_124551.json:
```json
{
    "body": "Reviewer: **Leif Leonhardy**",
    "created_at": "2011-10-07T20:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124551",
    "user": "https://github.com/nexttime"
}
```

Reviewer: **Leif Leonhardy**



---

archive/issue_events_160781.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-07T20:15:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160781"
}
```



---

archive/issue_events_160782.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-07T20:15:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160782"
}
```



---

archive/issue_comments_124552.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThe files (*mostly* Sage's, including the root directory) have weird permissions; run\n\n```sh\n$ chmod -R +rX . .hg* *\n```\n\n\n\n\nCopy-paste accident:\n\n```sh\n$ sed -n -e '/^== readline-.* ==$/s/==/===/gp' SPKG.txt \n=== readline-6.2.p0 (John Palmieri, 30 Sept 2011) ===\n=== readline-6.1 (David Kirkby, 11th November 2010) ===\n```\n\n(Btw., a new spkg sanity check in Jeroen's merger3 might reject the spkg otherwise, or at least later versions of it. :-) )\n\n\n\n\ns/`## Readline 6.1`/`## Readline 6.2`/ in `spkg-install`, or just remove the three lines.\n\nMore important,\n\n```sh\n  DYLIB_NAME=\"$SAGE_LOCAL\"/lib/libreadline.so.6.1  # Untested. David Kirkby, 11th November 2010 \n```\nshould now be\n\n```sh\n  DYLIB_NAME=\"$SAGE_LOCAL\"/lib/libreadline.so.6.2  # Untested. David Kirkby, 11th November 2010 \n```\n\nI guess the Arch Linux and OpenSUSE 11.x fixes are no longer necessary with readline 6.2, but unless *Sage* breaks (with the system's libreadline), we may keep them at the moment. In principle we should really check the versions and decide based on these.\n\n\n\n\nWe should only delete Sage's previous version upon a *successful* build.\n\n---\n\nIf one day `make check` is supported, we *may* have to set up `CFLAGS` et al. in `spkg-check` as well. Perhaps add a comment on that.\n\n---\n\n## Optionally:\n\nWe should replace the ugly\n\n```sh\nif [ \"x$CFLAG64\" = x ] ; then\n   CFLAG64=-m64\nfi\n```\nby\n\n```sh\n: ${CFLAG64=-m64} # Only sets it to '-m64' if it's not set at all, not even to \"\".\n```\nwhich is shorter and faster (and maybe safer ;-) ); otherwise I'd use `[ -z \"$CFLAG64\" ]` or `[This is the Trac macro *-z $CFLAG64 * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-z $CFLAG64 -macro)` (see below; we could use the latter also for `$SAGE_LOCAL`).\n\nYou could also use\n\n```sh\n   ...\n   CFLAGS=\"$CFLAGS ${CFLAG64=-m64}\"\n   # The above *sets* CFLAG64 in case it is undefined,\n   # so it's sufficient to use just $CFLAG64 in the following assignments.\n   ...\n```\nand omit the whole `if [ -z \"$CFLAG64\" ] ...` (or whatever) block.\n\n\n\n\n```sh\nif [ \"x$SAGE64\" = xyes ] ; then\n...\n```\ncould be\n\n```sh\nif [ \"${SAGE64:-no}\" = yes ]; then\n...\n```\nor, perhaps more readable, and even better, using the safe (and faster) shell built-in version of `test`:\n\n```sh\nif [[ $SAGE64 = yes ]]; then\n...\n```\n\n(Same for `$SAGE_DEBUG`.)\n\n---\n\n\"Naturally\", I haven't yet tested the new spkg at all... (And I won't be able to test it on Lion and other strange OSs or Linux distributions either. ;-) )",
    "created_at": "2011-10-07T20:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124552",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

The files (*mostly* Sage's, including the root directory) have weird permissions; run

```sh
$ chmod -R +rX . .hg* *
```




Copy-paste accident:

```sh
$ sed -n -e '/^== readline-.* ==$/s/==/===/gp' SPKG.txt 
=== readline-6.2.p0 (John Palmieri, 30 Sept 2011) ===
=== readline-6.1 (David Kirkby, 11th November 2010) ===
```

(Btw., a new spkg sanity check in Jeroen's merger3 might reject the spkg otherwise, or at least later versions of it. :-) )




s/`## Readline 6.1`/`## Readline 6.2`/ in `spkg-install`, or just remove the three lines.

More important,

```sh
  DYLIB_NAME="$SAGE_LOCAL"/lib/libreadline.so.6.1  # Untested. David Kirkby, 11th November 2010 
```
should now be

```sh
  DYLIB_NAME="$SAGE_LOCAL"/lib/libreadline.so.6.2  # Untested. David Kirkby, 11th November 2010 
```

I guess the Arch Linux and OpenSUSE 11.x fixes are no longer necessary with readline 6.2, but unless *Sage* breaks (with the system's libreadline), we may keep them at the moment. In principle we should really check the versions and decide based on these.




We should only delete Sage's previous version upon a *successful* build.

---

If one day `make check` is supported, we *may* have to set up `CFLAGS` et al. in `spkg-check` as well. Perhaps add a comment on that.

---

## Optionally:

We should replace the ugly

```sh
if [ "x$CFLAG64" = x ] ; then
   CFLAG64=-m64
fi
```
by

```sh
: ${CFLAG64=-m64} # Only sets it to '-m64' if it's not set at all, not even to "".
```
which is shorter and faster (and maybe safer ;-) ); otherwise I'd use `[ -z "$CFLAG64" ]` or `[This is the Trac macro *-z $CFLAG64 * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#-z $CFLAG64 -macro)` (see below; we could use the latter also for `$SAGE_LOCAL`).

You could also use

```sh
   ...
   CFLAGS="$CFLAGS ${CFLAG64=-m64}"
   # The above *sets* CFLAG64 in case it is undefined,
   # so it's sufficient to use just $CFLAG64 in the following assignments.
   ...
```
and omit the whole `if [ -z "$CFLAG64" ] ...` (or whatever) block.




```sh
if [ "x$SAGE64" = xyes ] ; then
...
```
could be

```sh
if [ "${SAGE64:-no}" = yes ]; then
...
```
or, perhaps more readable, and even better, using the safe (and faster) shell built-in version of `test`:

```sh
if [[ $SAGE64 = yes ]]; then
...
```

(Same for `$SAGE_DEBUG`.)

---

"Naturally", I haven't yet tested the new spkg at all... (And I won't be able to test it on Lion and other strange OSs or Linux distributions either. ;-) )



---

archive/issue_events_160783.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-10-07T20:41:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160783"
}
```



---

archive/issue_events_160784.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-10-07T20:41:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160784"
}
```



---

archive/issue_comments_124553.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@nexttime](#comment:11):\n> The files (*mostly* Sage's, including the root directory) have weird permissions; \n\nThat's strange.  Looks like that was true for the 6.1 spkg, too.  Easy enough to fix.\n\n> Copy-paste accident:\n\nAlso from the last spkg, but easy to fix.\n\n> s/`## Readline 6.1`/`## Readline 6.2`/ in `spkg-install`, or just remove the three lines.\n\nRemoved.\n\n> More important,\n\n\n```sh\n  DYLIB_NAME=\"$SAGE_LOCAL\"/lib/libreadline.so.6.1  # Untested. David Kirkby, 11th November 2010 \n```\n\nfixed.\n\n> I guess the Arch Linux and OpenSUSE 11.x fixes are no longer necessary with readline 6.2, but unless *Sage* breaks (with the system's libreadline), we may keep them at the moment. In principle we should really check the versions and decide based on these.\n\nRight.  I don't access to any machines running those operating systems, so it feels safest to leave things as they are.\n\n> We should only delete Sage's previous version upon a *successful* build.\n\nDone.\n\n> If one day `make check` is supported, we *may* have to set up `CFLAGS` et al. in `spkg-check` as well. Perhaps add a comment on that.\n\nDone.\n\n> ## Optionally:\n\nI replaced all of tests with the `[This is the Trac macro *blah * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#blah -macro)` version.",
    "created_at": "2011-10-07T20:41:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124553",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@nexttime](#comment:11):
> The files (*mostly* Sage's, including the root directory) have weird permissions; 

That's strange.  Looks like that was true for the 6.1 spkg, too.  Easy enough to fix.

> Copy-paste accident:

Also from the last spkg, but easy to fix.

> s/`## Readline 6.1`/`## Readline 6.2`/ in `spkg-install`, or just remove the three lines.

Removed.

> More important,


```sh
  DYLIB_NAME="$SAGE_LOCAL"/lib/libreadline.so.6.1  # Untested. David Kirkby, 11th November 2010 
```

fixed.

> I guess the Arch Linux and OpenSUSE 11.x fixes are no longer necessary with readline 6.2, but unless *Sage* breaks (with the system's libreadline), we may keep them at the moment. In principle we should really check the versions and decide based on these.

Right.  I don't access to any machines running those operating systems, so it feels safest to leave things as they are.

> We should only delete Sage's previous version upon a *successful* build.

Done.

> If one day `make check` is supported, we *may* have to set up `CFLAGS` et al. in `spkg-check` as well. Perhaps add a comment on that.

Done.

> ## Optionally:

I replaced all of tests with the `[This is the Trac macro *blah * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#blah -macro)` version.



---

archive/issue_comments_124554.json:
```json
{
    "body": "Attachment: **[trac_11882-readline.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.v2.patch.gz)**\n\npatch for readline spkg, for review only",
    "created_at": "2011-10-07T20:42:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124554",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11882-readline.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.v2.patch.gz)**

patch for readline spkg, for review only



---

archive/issue_comments_124555.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nP.S.:\n\nOn Silius, we get (with the current 6.1 spkg):\n\n```\n...\nOpenSuSE detected\n... but not OpenSuSE 11 -> building Sage's version of libreadline.\n...\n```\nwhich is wrong, because it runs SLES, but -- just luckily I think -- `grep -q 11\\\\. /etc/SuSE-release` yields false because we there have\n\n```\nSUSE Linux Enterprise Server 11 (ppc64)\nVERSION = 11\nPATCHLEVEL = 1\n```\n\n(`/bin/bash` is dynamically linked against libreadline there, too, but it only has `libreadline.so.5[.2]` and no devel version installed.)",
    "created_at": "2011-10-07T20:48:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124555",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

P.S.:

On Silius, we get (with the current 6.1 spkg):

```
...
OpenSuSE detected
... but not OpenSuSE 11 -> building Sage's version of libreadline.
...
```
which is wrong, because it runs SLES, but -- just luckily I think -- `grep -q 11\\. /etc/SuSE-release` yields false because we there have

```
SUSE Linux Enterprise Server 11 (ppc64)
VERSION = 11
PATCHLEVEL = 1
```

(`/bin/bash` is dynamically linked against libreadline there, too, but it only has `libreadline.so.5[.2]` and no devel version installed.)



---

archive/issue_comments_124556.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@jhpalmieri](#comment:12):\n> Replying to [@nexttime](#comment:11):\n> [...]\n\n(Ok.)\n\n> > I guess the Arch Linux and OpenSUSE 11.x fixes are no longer necessary with readline 6.2, but unless *Sage* breaks (with the system's libreadline), we may keep them at the moment. In principle we should really check the versions and decide based on these.\n\n> \n> Right.  I don't access to any machines running those operating systems, so it feels safest to leave things as they are.\n\nIIRC Nathann Cohen is our OpenSUSE master...\n\n> [...] \n> > If one day `make check` is supported, we *may* have to set up `CFLAGS` et al. in `spkg-check` as well. Perhaps add a comment on that.\n\n> \n> Done.\n\nI was thinking of *\"Special Update/Build Instructions\"* as well.\n\n\n> > ## Optionally:\n\n> \n> I replaced all of tests with the `[This is the Trac macro *blah * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#blah -macro)` version.\n\nOk. By the way, this is also supported by MacOS X 10.4's outdated `bash` 2.04.",
    "created_at": "2011-10-07T21:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124556",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@jhpalmieri](#comment:12):
> Replying to [@nexttime](#comment:11):
> [...]

(Ok.)

> > I guess the Arch Linux and OpenSUSE 11.x fixes are no longer necessary with readline 6.2, but unless *Sage* breaks (with the system's libreadline), we may keep them at the moment. In principle we should really check the versions and decide based on these.

> 
> Right.  I don't access to any machines running those operating systems, so it feels safest to leave things as they are.

IIRC Nathann Cohen is our OpenSUSE master...

> [...] 
> > If one day `make check` is supported, we *may* have to set up `CFLAGS` et al. in `spkg-check` as well. Perhaps add a comment on that.

> 
> Done.

I was thinking of *"Special Update/Build Instructions"* as well.


> > ## Optionally:

> 
> I replaced all of tests with the `[This is the Trac macro *blah * that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#blah -macro)` version.

Ok. By the way, this is also supported by MacOS X 10.4's outdated `bash` 2.04.



---

archive/issue_comments_124557.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nJust for fun, I thought I would actually test out the spkg, instead of just creating one which theoretically ought to work.  It builds successfully on the following machines, and it seems to run successfully on all of the ones where I can actually run Sage (that is, all of them except silius and OS X 10.7):\n\n- Mac OS X 10.6 box\n- Mac OS X 10.7 box\n- sage.math\n- redhawk (why is the clock on that machine off by 5 minutes?)\n- cicero\n- cleo\n- eno\n- iras\n- mark, mark2\n- silius\n- taurus\n\nI couldn't log in to the other skynet machines (except for sextus2, where I now have a build starting from scratch, and for which this spkg claims to have built successfully).  I also couldn't log in to David Kirkby's machine hawk. So I haven't been able to test on OpenSolaris yet.",
    "created_at": "2011-10-07T21:12:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124557",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

Just for fun, I thought I would actually test out the spkg, instead of just creating one which theoretically ought to work.  It builds successfully on the following machines, and it seems to run successfully on all of the ones where I can actually run Sage (that is, all of them except silius and OS X 10.7):

- Mac OS X 10.6 box
- Mac OS X 10.7 box
- sage.math
- redhawk (why is the clock on that machine off by 5 minutes?)
- cicero
- cleo
- eno
- iras
- mark, mark2
- silius
- taurus

I couldn't log in to the other skynet machines (except for sextus2, where I now have a build starting from scratch, and for which this spkg claims to have built successfully).  I also couldn't log in to David Kirkby's machine hawk. So I haven't been able to test on OpenSolaris yet.



---

archive/issue_events_160785.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-09T15:42:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160785"
}
```



---

archive/issue_events_160786.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-09T15:42:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160786"
}
```



---

archive/issue_comments_124558.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOk, I'm mostly happy with the new spkg (I'll eventually upload a reviewer patch / spkg with minor changes, but that's not very likely), so **positive review** from me, modulo testing on Arch Linux and OpenSUSE, perhaps also OpenSolaris, none of which I'm currently able to.\n\nJeroen should decide whether we can merge this without having tested it on some of the mentioned platforms.\n\n\n\n\nAlso someone who had problems with readline and R on Ubuntu 11.10 could test whether this fixes the issue; I'm not aware of any detailed report regarding that, and others did not have such problems when building Sage on Oneiric Ocelot.\n\nMy new R spkg (see #9906) *might* by the way also fix such issues; haven't investigated that.",
    "created_at": "2011-10-09T15:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124558",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:16" align="right">comment:16</div>

Ok, I'm mostly happy with the new spkg (I'll eventually upload a reviewer patch / spkg with minor changes, but that's not very likely), so **positive review** from me, modulo testing on Arch Linux and OpenSUSE, perhaps also OpenSolaris, none of which I'm currently able to.

Jeroen should decide whether we can merge this without having tested it on some of the mentioned platforms.




Also someone who had problems with readline and R on Ubuntu 11.10 could test whether this fixes the issue; I'm not aware of any detailed report regarding that, and others did not have such problems when building Sage on Oneiric Ocelot.

My new R spkg (see #9906) *might* by the way also fix such issues; haven't investigated that.



---

archive/issue_comments_124559.json:
```json
{
    "body": "Work Issues: **Test on OpenSUSE, OpenSolaris, perhaps also Arch Linux.**",
    "created_at": "2011-10-09T15:42:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124559",
    "user": "https://github.com/nexttime"
}
```

Work Issues: **Test on OpenSUSE, OpenSolaris, perhaps also Arch Linux.**



---

archive/issue_comments_124560.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@nexttime](#comment:16):\n> Also someone who had problems with readline and R on Ubuntu 11.10 could test whether this fixes the issue; I'm not aware of any detailed report regarding that, and others did not have such problems when building Sage on Oneiric Ocelot. \n\n> \n\n> My new R spkg (see #9906) *might* by the way also fix such issues; haven't investigated that.\n\nDoesn't look like it would change anything regarding that, i.e., our current R spkg already properly configures R with `--with-readline=...`, prepends Sage's include directory to `CPPFLAGS` etc., and prepends `-L$SAGE_LOCAL/lib` to `LDFLAGS`.\n\nI was just guessing that might have been the issue.",
    "created_at": "2011-10-09T16:09:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124560",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@nexttime](#comment:16):
> Also someone who had problems with readline and R on Ubuntu 11.10 could test whether this fixes the issue; I'm not aware of any detailed report regarding that, and others did not have such problems when building Sage on Oneiric Ocelot. 

> 

> My new R spkg (see #9906) *might* by the way also fix such issues; haven't investigated that.

Doesn't look like it would change anything regarding that, i.e., our current R spkg already properly configures R with `--with-readline=...`, prepends Sage's include directory to `CPPFLAGS` etc., and prepends `-L$SAGE_LOCAL/lib` to `LDFLAGS`.

I was just guessing that might have been the issue.



---

archive/issue_comments_124561.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI can try merging it in sage-4.7.3.alpha0 and see if people complain...",
    "created_at": "2011-10-09T20:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124561",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

I can try merging it in sage-4.7.3.alpha0 and see if people complain...



---

archive/issue_events_160787.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-09T20:40:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160787"
}
```



---

archive/issue_events_160788.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-09T20:40:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160788"
}
```



---

archive/issue_comments_124562.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@jdemeyer](#comment:18):\n> I can try merging it in sage-4.7.3.alpha0 and see if people complain...\n\nWell, or into a (Sage 4.7.2) release *candidate*; that's what they're for... ;-)\n\n\n\n\nI'm still curious whether we get trouble on Oneiric Ocelot with our *current* readline (and R, as mentioned above).",
    "created_at": "2011-10-09T22:25:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124562",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@jdemeyer](#comment:18):
> I can try merging it in sage-4.7.3.alpha0 and see if people complain...

Well, or into a (Sage 4.7.2) release *candidate*; that's what they're for... ;-)




I'm still curious whether we get trouble on Oneiric Ocelot with our *current* readline (and R, as mentioned above).



---

archive/issue_comments_124563.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment:18):\n> I can try merging it in sage-4.7.3.alpha0 and see if people complain...\n\nI think that's fine.  Is it likely to cause problems?  If so, you could mention it particularly in the release announcement.",
    "created_at": "2011-10-09T23:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124563",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment:18):
> I can try merging it in sage-4.7.3.alpha0 and see if people complain...

I think that's fine.  Is it likely to cause problems?  If so, you could mention it particularly in the release announcement.



---

archive/issue_comments_124564.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@nexttime](#comment:16):\n> Jeroen should decide whether we can merge this without having tested it on some of the mentioned platforms.\n\nAbsolutely!  I really want to support giving tickets positive_review without testing on all systems.  I don't want to give the author nor the reviewer the burden of too much testing.  We do have automated buildbots, we do have Sage developers using more different systems than you can imagine, let's use their power.  Of course, *some* reasonable testing needs to be done, but that was clearly the case here.  Also, there is nothing that can go catastrophically wrong with this ticket.  I mean, Sage is not going to answer \"1 + 1 = 3\" because of a readline update.",
    "created_at": "2011-10-10T20:37:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124564",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@nexttime](#comment:16):
> Jeroen should decide whether we can merge this without having tested it on some of the mentioned platforms.

Absolutely!  I really want to support giving tickets positive_review without testing on all systems.  I don't want to give the author nor the reviewer the burden of too much testing.  We do have automated buildbots, we do have Sage developers using more different systems than you can imagine, let's use their power.  Of course, *some* reasonable testing needs to be done, but that was clearly the case here.  Also, there is nothing that can go catastrophically wrong with this ticket.  I mean, Sage is not going to answer "1 + 1 = 3" because of a readline update.



---

archive/issue_comments_124565.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nRegarding the build on Arch Linux, someone (h/t csousa) on the IRC pointed me to this:\n\n[http://projects.archlinux.org/svntogit/community.git/plain/trunk/PKGBUILD?h=packages/sage-mathematics](http://projects.archlinux.org/svntogit/community.git/plain/trunk/PKGBUILD?h=packages/sage-mathematics)\n\n```sh\n...\nbuild() {\n  cd sage-${pkgver}\n\n  # modularization of sage, sort of :)\n  # fixes the following error:\n  # bash: symbol lookup error: bash: undefined symbol: rl_filename_rewrite_hook\n  # remove this hack when sage uses a readline 6.1 or greater, or when sage uses its own internal bash\n  # this is for people who have custom kernels (sage works this around by checking uname -r)\n  #mkdir -p spkg/installed\n  #touch spkg/installed/readline-6.1\n...\n```\n\nSo readline 6.2 is likely to work as well, unless they meanwhile have an even newer version in Arch.\n\nThus we should change\n\n```sh\nif [ -f /etc/arch-release ]; then\n    ...\nfi\n```\nto\n\n```sh\nif false && [ -f /etc/arch-release ]; then\n    ...\nfi\n```\n\nOr leave the Arch Linux *detection* and just print a message that we're building Sage's readline since we assume it to work...\n\n(I wouldn't delete the whole stuff yet.)",
    "created_at": "2011-10-10T21:51:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124565",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:22" align="right">comment:22</div>

Regarding the build on Arch Linux, someone (h/t csousa) on the IRC pointed me to this:

[http://projects.archlinux.org/svntogit/community.git/plain/trunk/PKGBUILD?h=packages/sage-mathematics](http://projects.archlinux.org/svntogit/community.git/plain/trunk/PKGBUILD?h=packages/sage-mathematics)

```sh
...
build() {
  cd sage-${pkgver}

  # modularization of sage, sort of :)
  # fixes the following error:
  # bash: symbol lookup error: bash: undefined symbol: rl_filename_rewrite_hook
  # remove this hack when sage uses a readline 6.1 or greater, or when sage uses its own internal bash
  # this is for people who have custom kernels (sage works this around by checking uname -r)
  #mkdir -p spkg/installed
  #touch spkg/installed/readline-6.1
...
```

So readline 6.2 is likely to work as well, unless they meanwhile have an even newer version in Arch.

Thus we should change

```sh
if [ -f /etc/arch-release ]; then
    ...
fi
```
to

```sh
if false && [ -f /etc/arch-release ]; then
    ...
fi
```

Or leave the Arch Linux *detection* and just print a message that we're building Sage's readline since we assume it to work...

(I wouldn't delete the whole stuff yet.)



---

archive/issue_comments_124566.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nShould we \"comment out\" both the !OpenSUSE and Arch Linux checks (`if false && ...`) and ask people to test it in the upcoming 4.7.3.alpha0?  The cleaner the spkg, the better, so this might let us know whether we need the fixes anymore.",
    "created_at": "2011-10-10T22:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124566",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

Should we "comment out" both the !OpenSUSE and Arch Linux checks (`if false && ...`) and ask people to test it in the upcoming 4.7.3.alpha0?  The cleaner the spkg, the better, so this might let us know whether we need the fixes anymore.



---

archive/issue_comments_124567.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nReplying to [@jhpalmieri](#comment:23):\n> Should we \"comment out\" both the !OpenSUSE and Arch Linux checks (`if false && ...`) and ask people to test it in the upcoming 4.7.3.alpha0?  The cleaner the spkg, the better, so this might let us know whether we need the fixes anymore.\n\nI think so.  We can keep the detection, such that we see whether that still works appropriately, but I would disable using the system's libreadline completely.\n\n\nI just asked Alexander Dreyer to test this, since he apparently has access to an [Open?]SuSE 11 system.",
    "created_at": "2011-10-10T23:11:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124567",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:24" align="right">comment:24</div>

Replying to [@jhpalmieri](#comment:23):
> Should we "comment out" both the !OpenSUSE and Arch Linux checks (`if false && ...`) and ask people to test it in the upcoming 4.7.3.alpha0?  The cleaner the spkg, the better, so this might let us know whether we need the fixes anymore.

I think so.  We can keep the detection, such that we see whether that still works appropriately, but I would disable using the system's libreadline completely.


I just asked Alexander Dreyer to test this, since he apparently has access to an [Open?]SuSE 11 system.



---

archive/issue_comments_124568.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOkay, a new version is up, with accompanying patch here.",
    "created_at": "2011-10-11T02:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124568",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

Okay, a new version is up, with accompanying patch here.



---

archive/issue_comments_124569.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nThe differences: in SPKG.txt, record the new changes, and also put in a note about self tests and modifying CFLAGS etc. in spkg-check.   In spkg-install, turn off both the Arch Linux and OpenSuSE tests with \"if false && ...\".",
    "created_at": "2011-10-11T02:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124569",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:26" align="right">comment:26</div>

The differences: in SPKG.txt, record the new changes, and also put in a note about self tests and modifying CFLAGS etc. in spkg-check.   In spkg-install, turn off both the Arch Linux and OpenSuSE tests with "if false && ...".



---

archive/issue_comments_124570.json:
```json
{
    "body": "Attachment: **[trac_11882-readline.v3.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.v3.patch.gz)**\n\npatch for readline spkg, for review only",
    "created_at": "2011-10-11T02:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124570",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11882-readline.v3.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.v3.patch.gz)**

patch for readline spkg, for review only



---

archive/issue_comments_124571.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nYep, patch looks good. (Now also prints \"Arch Linux detected\"; I had just reviewed the intermediate version. :) )\n\n[X] leave as positive_review",
    "created_at": "2011-10-11T02:23:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124571",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:27" align="right">comment:27</div>

Yep, patch looks good. (Now also prints "Arch Linux detected"; I had just reviewed the intermediate version. :) )

[X] leave as positive_review



---

archive/issue_comments_124572.json:
```json
{
    "body": "Changed work issues from **Test on OpenSUSE, OpenSolaris, perhaps also Arch Linux.** to **Test on OpenSolaris, perhaps also Arch Linux.**",
    "created_at": "2011-10-11T09:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124572",
    "user": "https://github.com/alexanderdreyer"
}
```

Changed work issues from **Test on OpenSUSE, OpenSolaris, perhaps also Arch Linux.** to **Test on OpenSolaris, perhaps also Arch Linux.**



---

archive/issue_comments_124573.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThe spkg installs fine on OpenSuSE 11, so side effects on runtime visible.",
    "created_at": "2011-10-11T09:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124573",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:28" align="right">comment:28</div>

The spkg installs fine on OpenSuSE 11, so side effects on runtime visible.



---

archive/issue_comments_124574.json:
```json
{
    "body": "Changed reviewer from **Leif Leonhardy** to **Leif Leonhardy, Alexander Dreyer**",
    "created_at": "2011-10-11T09:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124574",
    "user": "https://github.com/alexanderdreyer"
}
```

Changed reviewer from **Leif Leonhardy** to **Leif Leonhardy, Alexander Dreyer**



---

archive/issue_comments_124575.json:
```json
{
    "body": "Merged: **sage-4.7.3.alpha0**",
    "created_at": "2011-10-12T07:35:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124575",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.3.alpha0**



---

archive/issue_events_160789.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-12T07:35:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160789"
}
```



---

archive/issue_events_160790.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-12T07:35:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160790"
}
```



---

archive/issue_comments_124576.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI've tested new readline-6.2.p0.spkg in an updated Arch Linux with Sage 4.7.1. Everything seems ok.\n\nI was not completely sure of what should be tested, but sage, sage --sh and sage --notebook run ok.",
    "created_at": "2011-10-13T16:04:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124576",
    "user": "https://github.com/sagetrac-cdsousa"
}
```

<div id="comment:30" align="right">comment:30</div>

I've tested new readline-6.2.p0.spkg in an updated Arch Linux with Sage 4.7.1. Everything seems ok.

I was not completely sure of what should be tested, but sage, sage --sh and sage --notebook run ok.



---

archive/issue_comments_124577.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@sagetrac-cdsousa](#comment:30):\n> I've tested new readline-6.2.p0.spkg in an updated Arch Linux with Sage 4.7.1. Everything seems ok.\n> \n> I was not completely sure of what should be tested, but sage, sage --sh and sage --notebook run ok.\n\nOk, thanks.",
    "created_at": "2011-10-13T18:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124577",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@sagetrac-cdsousa](#comment:30):
> I've tested new readline-6.2.p0.spkg in an updated Arch Linux with Sage 4.7.1. Everything seems ok.
> 
> I was not completely sure of what should be tested, but sage, sage --sh and sage --notebook run ok.

Ok, thanks.



---

archive/issue_comments_124578.json:
```json
{
    "body": "Changed work issues from **Test on OpenSolaris, perhaps also Arch Linux.** to none",
    "created_at": "2011-10-13T18:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124578",
    "user": "https://github.com/nexttime"
}
```

Changed work issues from **Test on OpenSolaris, perhaps also Arch Linux.** to none



---

archive/issue_comments_124579.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nI'm considering modifying the spkg with the following patch:\n\n```diff\ndiff --git a/SPKG.txt b/SPKG.txt\n--- a/SPKG.txt\n+++ b/SPKG.txt\n@@ -32,13 +32,17 @@ Website: http://tiswww.case.edu/php/chet\n  * Deleted some files from the doc directory from the standard distro,\n    since it took tons of space; didn't delete anything else.\n  * Work around some MacOSX dynamic lib flags\n-* TODO: When we add self-tests, we may have to set up variables like\n+ * TODO: in #11882, we turned off the fixes for Arch Linux and\n+   OpenSuSE by changing various tests in spkg-install from \"if ...\"\n+   to \"if false && ...\".  After further testing, these sections of\n+   spkg-install should be removed completely.\n+ * TODO: When we add self-tests, we may have to set up variables like\n    CFLAGS in spkg-check.\n \n == Changelog ==\n \n === readline-6.2.p0 (John Palmieri, 30 Sept 2011) ===\n- * Update to version 6.2.\n+ * Update to version 6.2 (trac #11882).\n  * Fix for Mac OS X 10.7 Lion.  This fix is taken from\n    https://trac.macports.org/browser/trunk/dports/devel/readline/files/patch-sh\n  * spkg-install: Turn off all hacks and fixes for Arch Linux and OpenSuSE.\n```\nIs this a good idea?\n\nJeroen: if I did this, would you be able to use a new version in 4.7.3.alpha0?\n\nOr should I create a \".p1\" version of the spkg with changes like these?",
    "created_at": "2011-10-13T18:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124579",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:32" align="right">comment:32</div>

I'm considering modifying the spkg with the following patch:

```diff
diff --git a/SPKG.txt b/SPKG.txt
--- a/SPKG.txt
+++ b/SPKG.txt
@@ -32,13 +32,17 @@ Website: http://tiswww.case.edu/php/chet
  * Deleted some files from the doc directory from the standard distro,
    since it took tons of space; didn't delete anything else.
  * Work around some MacOSX dynamic lib flags
-* TODO: When we add self-tests, we may have to set up variables like
+ * TODO: in #11882, we turned off the fixes for Arch Linux and
+   OpenSuSE by changing various tests in spkg-install from "if ..."
+   to "if false && ...".  After further testing, these sections of
+   spkg-install should be removed completely.
+ * TODO: When we add self-tests, we may have to set up variables like
    CFLAGS in spkg-check.
 
 == Changelog ==
 
 === readline-6.2.p0 (John Palmieri, 30 Sept 2011) ===
- * Update to version 6.2.
+ * Update to version 6.2 (trac #11882).
  * Fix for Mac OS X 10.7 Lion.  This fix is taken from
    https://trac.macports.org/browser/trunk/dports/devel/readline/files/patch-sh
  * spkg-install: Turn off all hacks and fixes for Arch Linux and OpenSuSE.
```
Is this a good idea?

Jeroen: if I did this, would you be able to use a new version in 4.7.3.alpha0?

Or should I create a ".p1" version of the spkg with changes like these?



---

archive/issue_comments_124580.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@jhpalmieri](#comment:32):\n> Is this a good idea?\n\nProbably yes, but I will leave it up to others to judge.  But maybe we should be bold and simply *remove* the \"if false\" code and then we don't need the comment.  Adding the ticket number in the spkg is also a very good idea.\n\n> Jeroen: if I did this, would you be able to use a new version in 4.7.3.alpha0?\n\nYes, especially if the change won't affect the functionality of the spkg.  Just don't wait too long please.\n\n> Or should I create a \".p1\" version of the spkg with changes like these?\n\nAs you wish, .p0 or .p1 doesn't matter for me.",
    "created_at": "2011-10-13T19:47:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124580",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@jhpalmieri](#comment:32):
> Is this a good idea?

Probably yes, but I will leave it up to others to judge.  But maybe we should be bold and simply *remove* the "if false" code and then we don't need the comment.  Adding the ticket number in the spkg is also a very good idea.

> Jeroen: if I did this, would you be able to use a new version in 4.7.3.alpha0?

Yes, especially if the change won't affect the functionality of the spkg.  Just don't wait too long please.

> Or should I create a ".p1" version of the spkg with changes like these?

As you wish, .p0 or .p1 doesn't matter for me.



---

archive/issue_comments_124581.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@jdemeyer](#comment:33):\n> Replying to [@jhpalmieri](#comment:32):\n> > Is this a good idea?\n\n> Probably yes, but I will leave it up to others to judge.  But maybe we should be bold and simply *remove* the \"if false\" code and then we don't need the comment.  Adding the ticket number in the spkg is also a very good idea.\n\nIt is likely that we'll have to reenable the code (with slight changes) when Arch or SuSE again have newer versions (with new symbols), so I wouldn't delete it.\n\nIt could be smarter or more generic of course, but I wouldn't make such changes here and now.\n\n\n\n \n> > Jeroen: if I did this, would you be able to use a new version in 4.7.3.alpha0?\n\n> Yes, especially if the change won't affect the functionality of the spkg.  Just don't wait too long please.\n> \n> > Or should I create a \".p1\" version of the spkg with changes like these?\n\n> As you wish, .p0 or .p1 doesn't matter for me.\n\nIn general I'd prefer a p1 to avoid confusion, but there are no changes to the code, and as long as its location is the same I won't mind having the changes made to the p0.",
    "created_at": "2011-10-14T03:02:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124581",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@jdemeyer](#comment:33):
> Replying to [@jhpalmieri](#comment:32):
> > Is this a good idea?

> Probably yes, but I will leave it up to others to judge.  But maybe we should be bold and simply *remove* the "if false" code and then we don't need the comment.  Adding the ticket number in the spkg is also a very good idea.

It is likely that we'll have to reenable the code (with slight changes) when Arch or SuSE again have newer versions (with new symbols), so I wouldn't delete it.

It could be smarter or more generic of course, but I wouldn't make such changes here and now.



 
> > Jeroen: if I did this, would you be able to use a new version in 4.7.3.alpha0?

> Yes, especially if the change won't affect the functionality of the spkg.  Just don't wait too long please.
> 
> > Or should I create a ".p1" version of the spkg with changes like these?

> As you wish, .p0 or .p1 doesn't matter for me.

In general I'd prefer a p1 to avoid confusion, but there are no changes to the code, and as long as its location is the same I won't mind having the changes made to the p0.



---

archive/issue_comments_124582.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n... so I'd change your suggested `SPKG.txt` phrase accordingly.\n\nAlso, *\"When we add self-tests ...\"* should read *\"If **upstream** adds self-tests ...\"*, since we already run `make check`, but that's currently a no-op.",
    "created_at": "2011-10-14T03:08:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124582",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:35" align="right">comment:35</div>

... so I'd change your suggested `SPKG.txt` phrase accordingly.

Also, *"When we add self-tests ..."* should read *"If **upstream** adds self-tests ..."*, since we already run `make check`, but that's currently a no-op.



---

archive/issue_comments_124583.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI've uploaded \"p1\" version of the spkg; the only difference is some comments in SPKG.txt.  If the new version is acceptable, feel free to remove the link to the \"p0\" version from the ticket description.",
    "created_at": "2011-10-14T18:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124583",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">comment:36</div>

I've uploaded "p1" version of the spkg; the only difference is some comments in SPKG.txt.  If the new version is acceptable, feel free to remove the link to the "p0" version from the ticket description.



---

archive/issue_events_160791.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-10-14T18:02:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160791"
}
```



---

archive/issue_comments_124584.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,5 @@\n New spkg available for testing:\n \n - [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg)\n+- [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)\n \n``````\n",
    "created_at": "2011-10-14T18:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124584",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,5 @@
 New spkg available for testing:
 
 - [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg)
+- [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)
 
``````




---

archive/issue_comments_124585.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nTwo minor comments:\n1. The date of the p1 is \"14 Oct Sept 2011\"\n2. Also add the ticket number to the p1 in `SPKG.txt`",
    "created_at": "2011-10-14T18:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124585",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

Two minor comments:
1. The date of the p1 is "14 Oct Sept 2011"
2. Also add the ticket number to the p1 in `SPKG.txt`



---

archive/issue_comments_124586.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nOkay, fixed.",
    "created_at": "2011-10-14T18:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124586",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:38" align="right">comment:38</div>

Okay, fixed.



---

archive/issue_comments_124587.json:
```json
{
    "body": "Attachment: **[trac_11882-readline.p1.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.p1.patch.gz)**\n\ndiff between p0 and p1",
    "created_at": "2011-10-14T18:26:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124587",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11882-readline.p1.patch.gz](https://github.com/sagemath/sage/files/ticket11882/trac_11882-readline.p1.patch.gz)**

diff between p0 and p1



---

archive/issue_comments_124588.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,4 @@\n - [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg)\n - [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)\n \n+The home base for this ticket is the Lion ticket #11881.\n``````\n",
    "created_at": "2011-10-14T18:48:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124588",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,4 @@
 - [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg)
 - [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)
 
+The home base for this ticket is the Lion ticket #11881.
``````




---

archive/issue_events_160792.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-16T16:11:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160792"
}
```



---

archive/issue_events_160793.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-16T16:11:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160793"
}
```



---

archive/issue_comments_124589.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,5 @@\n readline 6.2 is available.  Upgrade Sage to use this version.  This also includes [a fix](https://trac.macports.org/browser/trunk/dports/devel/readline/files/patch-shobj-conf.diff) so it builds on OS X 10.7 Lion.\n \n-New spkg available for testing:\n+The home base for this ticket is the Lion ticket #11881.\n \n-- [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg)\n-- [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)\n-\n-The home base for this ticket is the Lion ticket #11881.\n+**Apply** [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)\n``````\n",
    "created_at": "2011-10-16T16:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124589",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,5 @@
 readline 6.2 is available.  Upgrade Sage to use this version.  This also includes [a fix](https://trac.macports.org/browser/trunk/dports/devel/readline/files/patch-shobj-conf.diff) so it builds on OS X 10.7 Lion.
 
-New spkg available for testing:
+The home base for this ticket is the Lion ticket #11881.
 
-- [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p0.spkg)
-- [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)
-
-The home base for this ticket is the Lion ticket #11881.
+**Apply** [http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/readline-6.2.p1.spkg)
``````




---

archive/issue_events_160794.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:14:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160794"
}
```



---

archive/issue_comments_124590.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124590",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_comments_124591.json:
```json
{
    "body": "Changed merged from **sage-4.7.3.alpha0** to **sage-4.8.alpha0**",
    "created_at": "2011-11-03T16:18:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11882#issuecomment-124591",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-4.7.3.alpha0** to **sage-4.8.alpha0**



---

archive/issue_events_160795.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:18:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11882",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11882#event-160795"
}
```
