# Issue 11310: Monkey-patch catchall `except:` statements so they at least don't catch `KeyboardInterrupt` errors

archive/issues_011138.json:
```json
{
    "body": "There are a lot places in the Sage library which use\n\n```\nexcept:\n```\nThis is bad because it catches non-errors like `KeyboardInterrupt`.\n\n---\n\nThen the patch [attachment:11310_auto.patch] has ben auto-generated to replace all instances of\n\n```\nexcept:\n```\nby\n\n```\nexcept StandardError:\n```\nand all instances of\n\n```\nraise Exception\n```\nby\n\n```\nraise RuntimeError\n```\n\n---\n\n**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch] and [attachment:11310_psage.patch].\n\n**Assignee:** @jasongrout\n\n**CC:**  @kini\n\n**Reviewer:** Keshav Kini\n\n**Author:** Jeroen Demeyer, Volker Braun\n\n**Merged:** sage-5.3.beta1\n\n**Dependencies:** #13109\n\nIssue created by migration from https://trac.sagemath.org/ticket/11310\n\n",
    "closed_at": "2012-08-12T18:58:35Z",
    "created_at": "2011-05-07T10:10:30Z",
    "labels": [
        "component: misc",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.3",
    "title": "Monkey-patch catchall `except:` statements so they at least don't catch `KeyboardInterrupt` errors",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11310",
    "user": "https://github.com/jdemeyer"
}
```
There are a lot places in the Sage library which use

```
except:
```
This is bad because it catches non-errors like `KeyboardInterrupt`.

---

Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all instances of

```
except:
```
by

```
except StandardError:
```
and all instances of

```
raise Exception
```
by

```
raise RuntimeError
```

---

**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch] and [attachment:11310_psage.patch].

**Assignee:** @jasongrout

**CC:**  @kini

**Reviewer:** Keshav Kini

**Author:** Jeroen Demeyer, Volker Braun

**Merged:** sage-5.3.beta1

**Dependencies:** #13109

Issue created by migration from https://trac.sagemath.org/ticket/11310





---

archive/issue_comments_117207.json:
```json
{
    "body": "<a id='comment:2'></a>\nWhat's the problem with this ticket? I think it is a small enough change that it can be at least set for review.",
    "created_at": "2012-05-15T09:08:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117207",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:2'></a>
What's the problem with this ticket? I think it is a small enough change that it can be at least set for review.



---

archive/issue_comments_117208.json:
```json
{
    "body": "<a id='comment:3'></a>\nTests pass on 5.0. Jeroen, is this ready for review, or do you want to add more stuff?",
    "created_at": "2012-05-16T05:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117208",
    "user": "https://github.com/kini"
}
```

<a id='comment:3'></a>
Tests pass on 5.0. Jeroen, is this ready for review, or do you want to add more stuff?



---

archive/issue_comments_117209.json:
```json
{
    "body": "<a id='comment:4'></a>\nI would like to fix the following from `devel/sage/sage/structure/parent.pyx`, starting at line 2577:\n\n```\n        try:\n            return super(Parent, self)._an_element_()\n        except EmptySetError:\n            raise\n        except:\n            _record_exception()\n            pass\n\n        try:\n            return self.gen(0)\n        except:\n            _record_exception()\n            pass\n\n        try:\n            return self.gen()\n        except:\n            _record_exception()\n            pass\n```",
    "created_at": "2012-05-16T07:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117209",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
I would like to fix the following from `devel/sage/sage/structure/parent.pyx`, starting at line 2577:

```
        try:
            return super(Parent, self)._an_element_()
        except EmptySetError:
            raise
        except:
            _record_exception()
            pass

        try:
            return self.gen(0)
        except:
            _record_exception()
            pass

        try:
            return self.gen()
        except:
            _record_exception()
            pass
```



---

archive/issue_comments_117210.json:
```json
{
    "body": "**Author:** Jeroen Demeyer",
    "created_at": "2012-06-21T07:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117210",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Jeroen Demeyer



---

archive/issue_comments_117211.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,31 @@\n+There are a lot places in the Sage library which use\n \n+```\n+except:\n+```\n+This is bad because it catches non-errors like `KeyboardInterrupt` and `StopIteration`.\n+\n+The patch [attachent:11310_auto.patch] has ben auto-generated by replacing all instances of\n+\n+```\n+except:\n+```\n+by\n+\n+```\n+except StandardError:\n+```\n+and all instances of\n+\n+```\n+raise Exeption\n+```\n+by\n+\n+```\n+raise RuntimeError\n+```\n+\n+Then the patch [attachment:11310.patch] does some small miscellaneous fixes.\n+\n+**Apply** all patches.\n``````\n",
    "created_at": "2012-06-21T07:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117211",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,31 @@
+There are a lot places in the Sage library which use
 
+```
+except:
+```
+This is bad because it catches non-errors like `KeyboardInterrupt` and `StopIteration`.
+
+The patch [attachent:11310_auto.patch] has ben auto-generated by replacing all instances of
+
+```
+except:
+```
+by
+
+```
+except StandardError:
+```
+and all instances of
+
+```
+raise Exeption
+```
+by
+
+```
+raise RuntimeError
+```
+
+Then the patch [attachment:11310.patch] does some small miscellaneous fixes.
+
+**Apply** all patches.
``````




---

archive/issue_comments_117212.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,7 +5,9 @@\n ```\n This is bad because it catches non-errors like `KeyboardInterrupt` and `StopIteration`.\n \n-The patch [attachent:11310_auto.patch] has ben auto-generated by replacing all instances of\n+---\n+\n+The patch [attachment:11310_auto.patch] has ben auto-generated by replacing all instances of\n \n ```\n except:\n@@ -18,7 +20,7 @@\n and all instances of\n \n ```\n-raise Exeption\n+raise Exception\n ```\n by\n \n@@ -28,4 +30,6 @@\n \n Then the patch [attachment:11310.patch] does some small miscellaneous fixes.\n \n-**Apply** all patches.\n+---\n+\n+**Apply** [attachment:11310.patch] and [attachment:11310_auto.patch]\n``````\n",
    "created_at": "2012-06-21T08:01:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117212",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,7 +5,9 @@
 ```
 This is bad because it catches non-errors like `KeyboardInterrupt` and `StopIteration`.
 
-The patch [attachent:11310_auto.patch] has ben auto-generated by replacing all instances of
+---
+
+The patch [attachment:11310_auto.patch] has ben auto-generated by replacing all instances of
 
 ```
 except:
@@ -18,7 +20,7 @@
 and all instances of
 
 ```
-raise Exeption
+raise Exception
 ```
 by
 
@@ -28,4 +30,6 @@
 
 Then the patch [attachment:11310.patch] does some small miscellaneous fixes.
 
-**Apply** all patches.
+---
+
+**Apply** [attachment:11310.patch] and [attachment:11310_auto.patch]
``````




---

archive/issue_comments_117213.json:
```json
{
    "body": "<a id='comment:7'></a>\nChanging these bare except statements to `except StandardError` seems like not enough, don't you think? Except statements should always be written to accept the narrowest possible expected exception class only.",
    "created_at": "2012-06-21T08:08:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117213",
    "user": "https://github.com/kini"
}
```

<a id='comment:7'></a>
Changing these bare except statements to `except StandardError` seems like not enough, don't you think? Except statements should always be written to accept the narrowest possible expected exception class only.



---

archive/issue_comments_117214.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [kini](#comment%3A7):\n> Changing these bare except statements to `except StandardError` seems like not enough, don't you think? Except statements should always be written to accept the narrowest possible expected exception class only.\n\n\nThen what should it be? According to the [hierarchy of exceptions](http://docs.python.org/library/exceptions.html#exception-hierarchy) I think `StandardError` encapsulates most of what can go wrong. It is at least better than a blank `except:`.\n\nAbout the `RuntimeError`s I think some of them should be `ValueError` and I spotted one which should be an `AttributeError`.",
    "created_at": "2012-06-21T08:26:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117214",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:8'></a>
Replying to [kini](#comment%3A7):
> Changing these bare except statements to `except StandardError` seems like not enough, don't you think? Except statements should always be written to accept the narrowest possible expected exception class only.


Then what should it be? According to the [hierarchy of exceptions](http://docs.python.org/library/exceptions.html#exception-hierarchy) I think `StandardError` encapsulates most of what can go wrong. It is at least better than a blank `except:`.

About the `RuntimeError`s I think some of them should be `ValueError` and I spotted one which should be an `AttributeError`.



---

archive/issue_comments_117215.json:
```json
{
    "body": "<a id='comment:9'></a>\nI mean that the code should be inspected and the appropriate exception class should be used in each case. Of course, this is not easy, considering that the autogenerated patch is more than 100 KB. But still, it should be done.",
    "created_at": "2012-06-21T08:32:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117215",
    "user": "https://github.com/kini"
}
```

<a id='comment:9'></a>
I mean that the code should be inspected and the appropriate exception class should be used in each case. Of course, this is not easy, considering that the autogenerated patch is more than 100 KB. But still, it should be done.



---

archive/issue_comments_117216.json:
```json
{
    "body": "<a id='comment:10'></a>\nI'm currently going though the auto-generated patch and fixing the obvious things by hand.  Note that the title of this ticket isn't \"totally fix all exceptions inside Sage\".\n\nThe main point is to not catch `KeyboardInterrupt` errors.",
    "created_at": "2012-06-21T08:34:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117216",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>
I'm currently going though the auto-generated patch and fixing the obvious things by hand.  Note that the title of this ticket isn't "totally fix all exceptions inside Sage".

The main point is to not catch `KeyboardInterrupt` errors.



---

archive/issue_comments_117217.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [jdemeyer](#comment%3A10):\n> The main point is to not catch `KeyboardInterrupt` errors.\n\n\nOther than some of the `RuntimeError`s, I think the patch is fine, if the objective was this.",
    "created_at": "2012-06-21T08:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117217",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:11'></a>
Replying to [jdemeyer](#comment%3A10):
> The main point is to not catch `KeyboardInterrupt` errors.


Other than some of the `RuntimeError`s, I think the patch is fine, if the objective was this.



---

archive/issue_comments_117218.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [jdemeyer](#comment%3A10):\n> I'm currently going though the auto-generated patch and fixing the obvious things by hand.  Note that the title of this ticket isn't \"totally fix all exceptions inside Sage\".\n> \n> The main point is to not catch `KeyboardInterrupt` errors.\n\n\nWell, the title is a bit misleading I guess. Sure, it's not \"totally fix all exceptions inside Sage\", but it does seem like \"totally fix some exceptions inside Sage\" :)",
    "created_at": "2012-06-21T08:46:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117218",
    "user": "https://github.com/kini"
}
```

<a id='comment:12'></a>
Replying to [jdemeyer](#comment%3A10):
> I'm currently going though the auto-generated patch and fixing the obvious things by hand.  Note that the title of this ticket isn't "totally fix all exceptions inside Sage".
> 
> The main point is to not catch `KeyboardInterrupt` errors.


Well, the title is a bit misleading I guess. Sure, it's not "totally fix all exceptions inside Sage", but it does seem like "totally fix some exceptions inside Sage" :)



---

archive/issue_events_090713.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-06-21T08:46:55Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "rename": {
        "from": "Get rid of some bare \"except:\" statements",
        "to": "Monkey-patch catchall `except:` statements so they at least don't catch `KeyboardInterrupt` errors"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90713"
}
```



---

archive/issue_comments_117219.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,7 +3,7 @@\n ```\n except:\n ```\n-This is bad because it catches non-errors like `KeyboardInterrupt` and `StopIteration`.\n+This is bad because it catches non-errors like `KeyboardInterrupt`.\n \n ---\n \n``````\n",
    "created_at": "2012-06-21T10:39:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117219",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,7 +3,7 @@
 ```
 except:
 ```
-This is bad because it catches non-errors like `KeyboardInterrupt` and `StopIteration`.
+This is bad because it catches non-errors like `KeyboardInterrupt`.
 
 ---
 
``````




---

archive/issue_comments_117220.json:
```json
{
    "body": "<a id='comment:14'></a>\nOkay, I changed a lot of things by hand, needs_review.",
    "created_at": "2012-06-21T13:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117220",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Okay, I changed a lot of things by hand, needs_review.



---

archive/issue_events_090714.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-21T13:56:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90714"
}
```



---

archive/issue_events_090715.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-21T13:56:07Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "milestone": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90715"
}
```



---

archive/issue_events_090716.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-06-21T13:56:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "milestone": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90716"
}
```



---

archive/issue_comments_117221.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,7 +7,9 @@\n \n ---\n \n-The patch [attachment:11310_auto.patch] has ben auto-generated by replacing all instances of\n+Then the patch [attachment:11310.patch] fixes some of these.\n+\n+Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all remaining instances of\n \n ```\n except:\n@@ -28,8 +30,6 @@\n raise RuntimeError\n ```\n \n-Then the patch [attachment:11310.patch] does some small miscellaneous fixes.\n-\n ---\n \n **Apply** [attachment:11310.patch] and [attachment:11310_auto.patch]\n``````\n",
    "created_at": "2012-06-21T14:39:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117221",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,7 +7,9 @@
 
 ---
 
-The patch [attachment:11310_auto.patch] has ben auto-generated by replacing all instances of
+Then the patch [attachment:11310.patch] fixes some of these.
+
+Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all remaining instances of
 
 ```
 except:
@@ -28,8 +30,6 @@
 raise RuntimeError
 ```
 
-Then the patch [attachment:11310.patch] does some small miscellaneous fixes.
-
 ---
 
 **Apply** [attachment:11310.patch] and [attachment:11310_auto.patch]
``````




---

archive/issue_comments_117222.json:
```json
{
    "body": "<a id='comment:16'></a>\nPatchbot says trailing whitespace :P",
    "created_at": "2012-06-21T15:51:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117222",
    "user": "https://github.com/kini"
}
```

<a id='comment:16'></a>
Patchbot says trailing whitespace :P



---

archive/issue_comments_117223.json:
```json
{
    "body": "<a id='comment:17'></a>\nHmm.. a lot of doctests are failing:\n\n```\nThe following tests failed:\n                           \n\tsage -t  --long -force_lib devel/sage/doc/en/thematic_tutorials/lie/weight_ring.rst # 2 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/rings/polynomial/pbori.pyx # 3 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/combinat/free_module.py # 3 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/combinat/posets/poset_examples.py # 1 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/combinat/root_system/weyl_characters.py # 11 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/matrix/matrix_double_dense.pyx # 1 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/modules/vector_double_dense.pyx # 1 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/graphs/isgci.py # 2 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/graphs/generic_graph.py # 3 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/graphs/graph_decompositions/rankwidth.pyx # 1 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/graphs/graph_generators.py # 2 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/interfaces/chomp.py # 3 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/interfaces/expect.py # 1 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/interfaces/psage.py # Time out\n\tsage -t  --long -force_lib devel/sage/sage/homology/simplicial_complex_morphism.py # 8 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/homology/delta_complex.py # 5 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/homology/cell_complex.py # 5 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/homology/simplicial_complex_homset.py # 7 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/homology/simplicial_complex.py # 33 doctests failed\n\tsage -t  --long -force_lib devel/sage/sage/homology/examples.py # 8 doctests failed\n```",
    "created_at": "2012-06-22T04:18:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117223",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:17'></a>
Hmm.. a lot of doctests are failing:

```
The following tests failed:
                           
	sage -t  --long -force_lib devel/sage/doc/en/thematic_tutorials/lie/weight_ring.rst # 2 doctests failed
	sage -t  --long -force_lib devel/sage/sage/rings/polynomial/pbori.pyx # 3 doctests failed
	sage -t  --long -force_lib devel/sage/sage/combinat/free_module.py # 3 doctests failed
	sage -t  --long -force_lib devel/sage/sage/combinat/posets/poset_examples.py # 1 doctests failed
	sage -t  --long -force_lib devel/sage/sage/combinat/root_system/weyl_characters.py # 11 doctests failed
	sage -t  --long -force_lib devel/sage/sage/matrix/matrix_double_dense.pyx # 1 doctests failed
	sage -t  --long -force_lib devel/sage/sage/modules/vector_double_dense.pyx # 1 doctests failed
	sage -t  --long -force_lib devel/sage/sage/graphs/isgci.py # 2 doctests failed
	sage -t  --long -force_lib devel/sage/sage/graphs/generic_graph.py # 3 doctests failed
	sage -t  --long -force_lib devel/sage/sage/graphs/graph_decompositions/rankwidth.pyx # 1 doctests failed
	sage -t  --long -force_lib devel/sage/sage/graphs/graph_generators.py # 2 doctests failed
	sage -t  --long -force_lib devel/sage/sage/interfaces/chomp.py # 3 doctests failed
	sage -t  --long -force_lib devel/sage/sage/interfaces/expect.py # 1 doctests failed
	sage -t  --long -force_lib devel/sage/sage/interfaces/psage.py # Time out
	sage -t  --long -force_lib devel/sage/sage/homology/simplicial_complex_morphism.py # 8 doctests failed
	sage -t  --long -force_lib devel/sage/sage/homology/delta_complex.py # 5 doctests failed
	sage -t  --long -force_lib devel/sage/sage/homology/cell_complex.py # 5 doctests failed
	sage -t  --long -force_lib devel/sage/sage/homology/simplicial_complex_homset.py # 7 doctests failed
	sage -t  --long -force_lib devel/sage/sage/homology/simplicial_complex.py # 33 doctests failed
	sage -t  --long -force_lib devel/sage/sage/homology/examples.py # 8 doctests failed
```



---

archive/issue_comments_117224.json:
```json
{
    "body": "<a id='comment:18'></a>\nI think something changed in the patches between the last time I ran `make ptestlong` (I had to leave it running and go home) and the new patches uploaded 12h ago. At present, running the doctest on only these few files gives no errors.",
    "created_at": "2012-06-22T05:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117224",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:18'></a>
I think something changed in the patches between the last time I ran `make ptestlong` (I had to leave it running and go home) and the new patches uploaded 12h ago. At present, running the doctest on only these few files gives no errors.



---

archive/issue_events_090717.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-06-22T05:32:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90717"
}
```



---

archive/issue_events_090718.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2012-06-22T05:32:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90718"
}
```



---

archive/issue_comments_117225.json:
```json
{
    "body": "<a id='comment:19'></a>\nPatchbot says it's fine over the whole library. Looks good to me.",
    "created_at": "2012-06-22T05:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117225",
    "user": "https://github.com/kini"
}
```

<a id='comment:19'></a>
Patchbot says it's fine over the whole library. Looks good to me.



---

archive/issue_comments_117226.json:
```json
{
    "body": "**Reviewer:** Keshav Kini",
    "created_at": "2012-06-22T05:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117226",
    "user": "https://github.com/kini"
}
```

**Reviewer:** Keshav Kini



---

archive/attachments_014815.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11310_auto.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11310/11310_auto.patch",
    "created_at": "2012-06-29T12:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_117227.json:
```json
{
    "body": "",
    "created_at": "2012-06-29T12:11:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117227",
    "user": "https://github.com/jdemeyer"
}
```





---

archive/issue_comments_117228.json:
```json
{
    "body": "<a id='comment:20'></a>\nRebased to #11143 (where one of the `except:` statements was removed).",
    "created_at": "2012-06-29T12:12:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117228",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
Rebased to #11143 (where one of the `except:` statements was removed).



---

archive/issue_comments_117229.json:
```json
{
    "body": "**Dependencies:** #11143",
    "created_at": "2012-06-29T17:13:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117229",
    "user": "https://github.com/kini"
}
```

**Dependencies:** #11143



---

archive/issue_comments_117230.json:
```json
{
    "body": "<a id='comment:22'></a>\nNot really, I just *removed* a hunk to resolve the conflict.",
    "created_at": "2012-06-29T21:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117230",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Not really, I just *removed* a hunk to resolve the conflict.



---

archive/issue_comments_117231.json:
```json
{
    "body": "**Changing dependencies** from \"#11143\" to \"\".",
    "created_at": "2012-06-29T21:13:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117231",
    "user": "https://github.com/jdemeyer"
}
```

**Changing dependencies** from "#11143" to "".



---

archive/issue_events_090719.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-30T18:41:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90719"
}
```



---

archive/issue_events_090720.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-30T18:41:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90720"
}
```



---

archive/issue_comments_117232.json:
```json
{
    "body": "**Dependencies:** #13109",
    "created_at": "2012-06-30T18:41:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117232",
    "user": "https://github.com/vbraun"
}
```

**Dependencies:** #13109



---

archive/issue_comments_117233.json:
```json
{
    "body": "Rediffed patch",
    "created_at": "2012-06-30T18:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117233",
    "user": "https://github.com/vbraun"
}
```

Rediffed patch



---

archive/issue_events_090721.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-30T18:45:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90721"
}
```



---

archive/issue_events_090722.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-06-30T18:45:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90722"
}
```



---

archive/issue_comments_117234.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -32,4 +32,4 @@\n \n ---\n \n-**Apply** [attachment:11310.patch] and [attachment:11310_auto.patch]\n+**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch]\n``````\n",
    "created_at": "2012-06-30T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117234",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -32,4 +32,4 @@
 
 ---
 
-**Apply** [attachment:11310.patch] and [attachment:11310_auto.patch]
+**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch]
``````




---

archive/issue_comments_117235.json:
```json
{
    "body": "**Changing author** from \"Jeroen Demeyer\" to \"Jeroen Demeyer, Volker Braun\".",
    "created_at": "2012-06-30T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117235",
    "user": "https://github.com/vbraun"
}
```

**Changing author** from "Jeroen Demeyer" to "Jeroen Demeyer, Volker Braun".



---

archive/attachments_014816.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11310.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11310/trac_11310.patch",
    "created_at": "2012-06-30T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_117236.json:
```json
{
    "body": "<a id='comment:24'></a>\nThe new patch just fixes some fuzz 2 with #13109, back to positive review.",
    "created_at": "2012-06-30T18:45:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117236",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>
The new patch just fixes some fuzz 2 with #13109, back to positive review.



---

archive/issue_events_090723.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-01T18:51:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "milestone": "sage-5.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90723"
}
```



---

archive/issue_events_090724.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-07-01T18:51:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90724"
}
```



---

archive/issue_events_090725.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-09T15:02:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "milestone": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90725"
}
```



---

archive/issue_events_090726.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-07-09T15:02:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90726"
}
```



---

archive/issue_comments_117237.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,8 +7,7 @@\n \n ---\n \n-Then the patch [attachment:11310.patch] fixes some of these.\n-\n+The patch [attachment:trac_11310.patch] fixes some of these.\n Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all remaining instances of\n \n ```\n``````\n",
    "created_at": "2012-08-01T12:40:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117237",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,8 +7,7 @@
 
 ---
 
-Then the patch [attachment:11310.patch] fixes some of these.
-
+The patch [attachment:trac_11310.patch] fixes some of these.
 Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all remaining instances of
 
 ```
``````




---

archive/issue_comments_117238.json:
```json
{
    "body": "Additional patch",
    "created_at": "2012-08-02T12:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117238",
    "user": "https://github.com/jdemeyer"
}
```

Additional patch



---

archive/issue_comments_117239.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,8 +7,7 @@\n \n ---\n \n-The patch [attachment:trac_11310.patch] fixes some of these.\n-Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all remaining instances of\n+Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all instances of\n \n ```\n except:\n@@ -31,4 +30,4 @@\n \n ---\n \n-**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch]\n+**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch] and [attachment:11310_psage.patch].\n``````\n",
    "created_at": "2012-08-02T12:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117239",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,8 +7,7 @@
 
 ---
 
-The patch [attachment:trac_11310.patch] fixes some of these.
-Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all remaining instances of
+Then the patch [attachment:11310_auto.patch] has ben auto-generated to replace all instances of
 
 ```
 except:
@@ -31,4 +30,4 @@
 
 ---
 
-**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch]
+**Apply** [attachment:trac_11310.patch] and [attachment:11310_auto.patch] and [attachment:11310_psage.patch].
``````




---

archive/issue_events_090727.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-02T12:58:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90727"
}
```



---

archive/issue_events_090728.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-02T12:58:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90728"
}
```



---

archive/attachments_014817.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11310_psage.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11310/11310_psage.patch",
    "created_at": "2012-08-02T12:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_117240.json:
```json
{
    "body": "<a id='comment:28'></a>\nAdditional patch [attachment:11310_psage.patch] needs review (there were sporadic doctest failures in `psage.py`).",
    "created_at": "2012-08-02T12:58:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117240",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
Additional patch [attachment:11310_psage.patch] needs review (there were sporadic doctest failures in `psage.py`).



---

archive/issue_events_090729.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-02T12:58:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90729"
}
```



---

archive/issue_events_090730.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-02T12:58:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90730"
}
```



---

archive/issue_events_090731.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-02T13:05:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90731"
}
```



---

archive/issue_events_090732.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-08-02T13:05:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90732"
}
```



---

archive/issue_comments_117241.json:
```json
{
    "body": "<a id='comment:30'></a>\nLooks good! \n\nIn a perfect world `ExceptionPexpect` would derive from `StandardError` and not the raw exceptions, but oh well.",
    "created_at": "2012-08-02T13:05:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117241",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:30'></a>
Looks good! 

In a perfect world `ExceptionPexpect` would derive from `StandardError` and not the raw exceptions, but oh well.



---

archive/issue_comments_117242.json:
```json
{
    "body": "<a id='comment:31'></a>\npsage is a weird beast. I have seen doctest errors in psage which change from version to version. I couldn't explain it, nor do I know the fix. See #12061.",
    "created_at": "2012-08-02T13:13:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117242",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:31'></a>
psage is a weird beast. I have seen doctest errors in psage which change from version to version. I couldn't explain it, nor do I know the fix. See #12061.



---

archive/issue_comments_117243.json:
```json
{
    "body": "**Merged:** sage-5.3.beta1",
    "created_at": "2012-08-12T18:58:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117243",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.3.beta1



---

archive/issue_events_090733.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-12T18:58:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90733"
}
```



---

archive/issue_events_090734.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-12T18:58:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11310#event-90734"
}
```



---

archive/issue_comments_117244.json:
```json
{
    "body": "<a id='comment:33'></a>\nThis causes issues with Python 3. See #15620.",
    "created_at": "2014-01-02T15:58:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11310",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11310#issuecomment-117244",
    "user": "https://github.com/ohanar"
}
```

<a id='comment:33'></a>
This causes issues with Python 3. See #15620.
