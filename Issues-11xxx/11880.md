# Issue 11880: ISGCI in Sage (a Graph Classes database http://www.graphclasses.org/ )

archive/issues_011708.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/nathanncohen",
        "https://github.com/rlmill"
    ],
    "body": "This ticket creates a file\n\n```\nsage/graphs/isgci.py\n```\n\nThat is an interface between Sage and the Graph Classes database ISGCI[1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.\n\nThere will be more work needed on this new feature, for instance the implementation of an easy way to query the database.\n\nThe database used by this patch is installed in Sage through the \"graphs\" spkg, which this ticket updates.\n\nWhen this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function lets the users update their local copy when necessary.\n\nI tried to make the documentation clear enough about all that is currently possible with ISGCI.\n\nOne of the discussions on sage-devel related to this database: [http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J](http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J)\n\nNathann\n\n![1] http://www.graphclasses.org/\n\n---\nUpdated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg)\n\nApply the big meta patch :\n\n* [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)\n\nCC:  @nthiery @jasongrout @sagetrac-ekirkman\n\nReviewer: **Nicolas M. Thi\u00e9ry**\n\nAuthor: **Nathann Cohen**\n\nMerged: **sage-5.1.beta0**\n\nComponent: **graph theory**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11880_\n\n",
    "closed_at": "2012-05-07T19:49:10Z",
    "created_at": "2011-09-30T15:03:17Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "ISGCI in Sage (a Graph Classes database http://www.graphclasses.org/ )",
    "type": "issue",
    "updated_at": "2012-05-07T19:49:10Z",
    "url": "https://github.com/sagemath/sage/issues/11880",
    "user": "https://github.com/nathanncohen"
}
```
This ticket creates a file

```
sage/graphs/isgci.py
```

That is an interface between Sage and the Graph Classes database ISGCI[1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.

There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.

The database used by this patch is installed in Sage through the "graphs" spkg, which this ticket updates.

When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function lets the users update their local copy when necessary.

I tried to make the documentation clear enough about all that is currently possible with ISGCI.

One of the discussions on sage-devel related to this database: [http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J](http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J)

Nathann

![1] http://www.graphclasses.org/

---
Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg)

Apply the big meta patch :

* [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)

CC:  @nthiery @jasongrout @sagetrac-ekirkman

Reviewer: **Nicolas M. Thi√©ry**

Author: **Nathann Cohen**

Merged: **sage-5.1.beta0**

Component: **graph theory**

_Issue created by migration from https://trac.sagemath.org/ticket/11880_





---

archive/issue_events_160716.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160716"
}
```



---

archive/issue_events_160717.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "eeeeee",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160717"
}
```



---

archive/issue_events_160718.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160718"
}
```



---

archive/issue_events_160719.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160719"
}
```



---

archive/issue_events_160720.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160720"
}
```



---

archive/issue_events_160721.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160721"
}
```



---

archive/issue_events_160722.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2011-09-30T15:03:17Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160722"
}
```



---

archive/issue_events_160723.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2011-09-30T15:05:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160723"
}
```



---

archive/issue_comments_124386.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,8 @@\n \n I tried to make the documentation clear enough about all that is currently possible with ISGCI.\n \n+Apply: [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n+\n Nathann\n \n [1] http://www.graphclasses.org/\n``````\n",
    "created_at": "2011-09-30T15:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124386",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,8 @@
 
 I tried to make the documentation clear enough about all that is currently possible with ISGCI.
 
+Apply: [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
+
 Nathann
 
 [1] http://www.graphclasses.org/
``````




---

archive/issue_comments_124387.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,6 +18,8 @@\n \n Apply: [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n \n+One of the discussions on Sage-devel related to this database : https://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J\n+\n Nathann\n \n [1] http://www.graphclasses.org/\n``````\n",
    "created_at": "2011-09-30T15:15:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124387",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,6 +18,8 @@
 
 Apply: [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
 
+One of the discussions on Sage-devel related to this database : https://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J
+
 Nathann
 
 [1] http://www.graphclasses.org/
``````




---

archive/issue_comments_124388.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,22 +4,25 @@\n sage/graphs/isgci.py\n ```\n \n-That is a *first implementation* of an interface between Sage and the Graph Classes database ISGCI [1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.\n+That is a **first implementation** of an interface between Sage and the Graph Classes database ISGCI ![1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.\n \n There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.\n \n-Along with the patch, two .sobj files should be added to the directory ``SAGE_ROOT/data/graphs/``. These files are a .sobj version of the database, that I created on my own computer.\n+Along with the patch, two `.sobj` files should be added to the directory `$SAGE_ROOT/data/graphs/`. These files are an `.sobj` version of the database that I created on my own computer.\n \n-When this patch will be merged to Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function ``sage.graphs.isgci.update_db`` that downloads a new version of the database from ISGCI's website and updates the current .sobj files.\n+When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function `sage.graphs.isgci.update_db()` that downloads a new version of the database from ISGCI's website and updates the current `.sobj` files.\n \n Hence, instead of using my two files attached to this ticket, one can also call this method which will create them automatically.\n \n I tried to make the documentation clear enough about all that is currently possible with ISGCI.\n \n-Apply: [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n-\n-One of the discussions on Sage-devel related to this database : https://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J\n+One of the discussions on sage-devel related to this database: [http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J](http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J)\n \n Nathann\n \n-[1] http://www.graphclasses.org/\n+![1] http://www.graphclasses.org/\n+\n+---\n+\n+Apply [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz) to the Sage library.\n+\n``````\n",
    "created_at": "2011-09-30T20:09:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124388",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,22 +4,25 @@
 sage/graphs/isgci.py
 ```
 
-That is a *first implementation* of an interface between Sage and the Graph Classes database ISGCI [1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.
+That is a **first implementation** of an interface between Sage and the Graph Classes database ISGCI ![1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.
 
 There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.
 
-Along with the patch, two .sobj files should be added to the directory ``SAGE_ROOT/data/graphs/``. These files are a .sobj version of the database, that I created on my own computer.
+Along with the patch, two `.sobj` files should be added to the directory `$SAGE_ROOT/data/graphs/`. These files are an `.sobj` version of the database that I created on my own computer.
 
-When this patch will be merged to Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function ``sage.graphs.isgci.update_db`` that downloads a new version of the database from ISGCI's website and updates the current .sobj files.
+When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function `sage.graphs.isgci.update_db()` that downloads a new version of the database from ISGCI's website and updates the current `.sobj` files.
 
 Hence, instead of using my two files attached to this ticket, one can also call this method which will create them automatically.
 
 I tried to make the documentation clear enough about all that is currently possible with ISGCI.
 
-Apply: [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
-
-One of the discussions on Sage-devel related to this database : https://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J
+One of the discussions on sage-devel related to this database: [http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J](http://groups.google.com/forum/#!searchin/sage-devel/This$20is$20the$20copy$20of$20several$20mails$20concerning$20ISGCI$20and$20what$20we$20could$20do$20with/sage-devel/N05a9w_UrIA/XGlVD7NT7p4J)
 
 Nathann
 
-[1] http://www.graphclasses.org/
+![1] http://www.graphclasses.org/
+
+---
+
+Apply [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz) to the Sage library.
+
``````




---

archive/issue_comments_124389.json:
```json
{
    "body": "Attachment: **[trac_11880.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)**",
    "created_at": "2012-02-10T17:46:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124389",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_11880.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)**



---

archive/issue_comments_124390.json:
```json
{
    "body": "Attachment: **[isgci_classes.sobj.gz](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)**\n\nAttachment: **[isgci_inclusions.sobj.gz](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)**",
    "created_at": "2012-02-10T17:47:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124390",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[isgci_classes.sobj.gz](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)**

Attachment: **[isgci_inclusions.sobj.gz](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)**



---

archive/issue_comments_124391.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi Nathann!\n\nI have just been trough the patch, and am overall happy with it! I noticed a couple typos, which I'll fix in a little patch.\n\nJust one thing. Instead of:\n\n```\n    global classes, class_digraph \n    _load_ISGCI_if_not_loaded() \n```\nwhat about using some idiom like:\n\n```\n    classes = igsci.classes()\n    class_diagraph = igsci.class_digraph()\n```\n\nwhere `classes` would be a cached method (or cached function depending on whether igsci is a module or an object) whose first step would be to load the database; similarly `class_digraph` would be a cached method calling `igsci.classes()`, and then building the digraph, and so on.\n\nTwo other little suggestions:\n- class_digraph -> inclusion_digraph?\n- classs -> cls (it seems to be the standard shorthand to workaround the reserved keyword)",
    "created_at": "2012-02-14T12:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124391",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi Nathann!

I have just been trough the patch, and am overall happy with it! I noticed a couple typos, which I'll fix in a little patch.

Just one thing. Instead of:

```
    global classes, class_digraph 
    _load_ISGCI_if_not_loaded() 
```
what about using some idiom like:

```
    classes = igsci.classes()
    class_diagraph = igsci.class_digraph()
```

where `classes` would be a cached method (or cached function depending on whether igsci is a module or an object) whose first step would be to load the database; similarly `class_digraph` would be a cached method calling `igsci.classes()`, and then building the digraph, and so on.

Two other little suggestions:
- class_digraph -> inclusion_digraph?
- classs -> cls (it seems to be the standard shorthand to workaround the reserved keyword)



---

archive/issue_comments_124392.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2012-02-14T12:21:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124392",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Nicolas M. Thi√©ry**



---

archive/issue_comments_124393.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n> where `classes` would be a cached method (or cached function depending on whether igsci is a module or an object) whose first step would be to load the database; similarly `class_digraph` would be a cached method calling `igsci.classes()`, and then building the digraph, and so on.\n\nAhahaah ! Of course, let us do it \"the sage-combinat way\". It would be nice to have isgci inherit from UniqueRepresentant, and add some decorations inside of it `:-)`\n\nI am waiting for your typo patch and I will change that if you did not do it already `:-)`\n\nI also need to see how cachedmethod is written, just to breathe easier `:-)`\n\n> Two other little suggestions:\n> - class_digraph -> inclusion_digraph?\n> - classs -> cls (it seems to be the standard shorthand to workaround the reserved keyword)\n\n+1 !\n\nNathann",
    "created_at": "2012-02-14T12:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124393",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:5" align="right">comment:5</div>

> where `classes` would be a cached method (or cached function depending on whether igsci is a module or an object) whose first step would be to load the database; similarly `class_digraph` would be a cached method calling `igsci.classes()`, and then building the digraph, and so on.

Ahahaah ! Of course, let us do it "the sage-combinat way". It would be nice to have isgci inherit from UniqueRepresentant, and add some decorations inside of it `:-)`

I am waiting for your typo patch and I will change that if you did not do it already `:-)`

I also need to see how cachedmethod is written, just to breathe easier `:-)`

> Two other little suggestions:
> - class_digraph -> inclusion_digraph?
> - classs -> cls (it seems to be the standard shorthand to workaround the reserved keyword)

+1 !

Nathann



---

archive/issue_comments_124394.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@nathanncohen](#comment:5):\n> I am waiting for your typo patch and I will change that if you did not do it already `:-)`\n\nPlease go ahead if you feel like it; I won't have my reviewer's patch before tonight.\n\n> I also need to see how cachedmethod is written, just to breathe easier `:-)`\n\nIt's super optimized and in Cython since #11115, thanks to Simon.\n\n                                   Nicolas",
    "created_at": "2012-02-14T14:10:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124394",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@nathanncohen](#comment:5):
> I am waiting for your typo patch and I will change that if you did not do it already `:-)`

Please go ahead if you feel like it; I won't have my reviewer's patch before tonight.

> I also need to see how cachedmethod is written, just to breathe easier `:-)`

It's super optimized and in Cython since #11115, thanks to Simon.

                                   Nicolas



---

archive/issue_events_160724.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-02-14T14:10:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160724"
}
```



---

archive/issue_events_160725.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-02-14T14:10:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160725"
}
```



---

archive/issue_comments_124395.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHi Nathann!\n\nI hope this won't conflict too much, since I did quite a few documentation changes after all. Feel free to take or drop all my suggestions in the attached reviewer's patch. I left also a couple TODO's; again mostly suggestions.\n\nCheers,\n                        Nicolas",
    "created_at": "2012-02-15T14:19:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124395",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

Hi Nathann!

I hope this won't conflict too much, since I did quite a few documentation changes after all. Feel free to take or drop all my suggestions in the attached reviewer's patch. I left also a couple TODO's; again mostly suggestions.

Cheers,
                        Nicolas



---

archive/issue_comments_124396.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI forgot: the patch is also on the Sage-Combinat queue if you want.",
    "created_at": "2012-02-15T14:19:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124396",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:9" align="right">comment:9</div>

I forgot: the patch is also on the Sage-Combinat queue if you want.



---

archive/issue_comments_124397.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nthiery](#comment:9):\n> I forgot: the patch is also on the Sage-Combinat queue if you want.\n\nJust for the record: There are problems with the added TODO in the doc:\n\n```\n/home/data/Sage-Install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/graphs/isgci.py:docstring of sage.graphs.isgci:109: ERROR: Error parsing content block for the \"list-table\" directive: two-level bullet list expected, but row 2 does not contain a second-level bullet list.\n\n.. list-table::\n   :widths: 20 30\n   :header-rows: 1\n\n   * - Class\n     - Related methods\n\n   * - BinaryTrees\n\n     TODO: use .. seealso:: in all entries of this list?\n\n     - :meth:`BalancedTree <sage.graphs.graph_generators.GraphGenerators.BalancedTree>`,\n       :meth:`is_tree <sage.graphs.generic_graph.GenericGraph.is_tree>`\n[...]\n```",
    "created_at": "2012-02-18T12:24:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124397",
    "user": "https://github.com/hivert"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nthiery](#comment:9):
> I forgot: the patch is also on the Sage-Combinat queue if you want.

Just for the record: There are problems with the added TODO in the doc:

```
/home/data/Sage-Install/sage-5.0.beta2/local/lib/python2.7/site-packages/sage/graphs/isgci.py:docstring of sage.graphs.isgci:109: ERROR: Error parsing content block for the "list-table" directive: two-level bullet list expected, but row 2 does not contain a second-level bullet list.

.. list-table::
   :widths: 20 30
   :header-rows: 1

   * - Class
     - Related methods

   * - BinaryTrees

     TODO: use .. seealso:: in all entries of this list?

     - :meth:`BalancedTree <sage.graphs.graph_generators.GraphGenerators.BalancedTree>`,
       :meth:`is_tree <sage.graphs.generic_graph.GenericGraph.is_tree>`
[...]
```



---

archive/issue_comments_124398.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nAttachment: **[trac_11880-graph_classes-review-nt.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)**\n\n> Just for the record: There are problems with the added TODO in the doc:\n\nFixed.",
    "created_at": "2012-02-18T13:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124398",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

Attachment: **[trac_11880-graph_classes-review-nt.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)**

> Just for the record: There are problems with the added TODO in the doc:

Fixed.



---

archive/issue_comments_124399.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nHelloooooo Nicolas !\n\nWell, I updated the GraphClasses class so that it now has classes() and inclusion_digraph() methods, and finally noticed that all the other functions (_load_ISGCI_[...]) or update_ISGCI) and all that stuff would be much better as methods of GraphClasses as it is now unique. Now, moving functions around would make the patch impossible to read, as it would \"remove all lines\" and \"add the same lines later in the file, with an increased indentation\". Hence I will upload many patches to this ticket : \n* the first one will contain the modifications I mentionned\n* The second will *ONLY* move the methods in the file\n* The third one will modify them so that they will work (because they will demand a ``self`` argument for instances, and other things).\n\nI hope the review will not be too hard `:-)`\n\nNathann",
    "created_at": "2012-02-19T12:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124399",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:12" align="right">comment:12</div>

Helloooooo Nicolas !

Well, I updated the GraphClasses class so that it now has classes() and inclusion_digraph() methods, and finally noticed that all the other functions (_load_ISGCI_[...]) or update_ISGCI) and all that stuff would be much better as methods of GraphClasses as it is now unique. Now, moving functions around would make the patch impossible to read, as it would "remove all lines" and "add the same lines later in the file, with an increased indentation". Hence I will upload many patches to this ticket : 
* the first one will contain the modifications I mentionned
* The second will *ONLY* move the methods in the file
* The third one will modify them so that they will work (because they will demand a ``self`` argument for instances, and other things).

I hope the review will not be too hard `:-)`

Nathann



---

archive/issue_comments_124400.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,5 +24,11 @@\n \n ---\n \n-Apply [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz) to the Sage library.\n+Apply :\n+* [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n+* [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)\n \n+Add to SAGE_ROOT/data/graphs/:\n+* [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n+* [attachment: isgci_inclusions.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)\n+\n``````\n",
    "created_at": "2012-02-19T12:12:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124400",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,5 +24,11 @@
 
 ---
 
-Apply [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz) to the Sage library.
+Apply :
+* [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
+* [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)
 
+Add to SAGE_ROOT/data/graphs/:
+* [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
+* [attachment: isgci_inclusions.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)
+
``````




---

archive/issue_comments_124401.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -27,6 +27,7 @@\n Apply :\n * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)\n+* [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)\n \n Add to SAGE_ROOT/data/graphs/:\n * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n``````\n",
    "created_at": "2012-02-19T12:14:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124401",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -27,6 +27,7 @@
 Apply :
 * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
 * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)
+* [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)
 
 Add to SAGE_ROOT/data/graphs/:
 * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
``````




---

archive/issue_comments_124402.json:
```json
{
    "body": "Attachment: **[trac_11880-first_review.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)**",
    "created_at": "2012-02-19T12:15:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124402",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_11880-first_review.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)**



---

archive/issue_comments_124403.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,6 +28,7 @@\n * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)\n * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)\n+* [attachment: trac_11880-moving_functions.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_functions.patch.gz)\n \n Add to SAGE_ROOT/data/graphs/:\n * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n``````\n",
    "created_at": "2012-02-19T12:18:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124403",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,6 +28,7 @@
 * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
 * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)
 * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)
+* [attachment: trac_11880-moving_functions.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_functions.patch.gz)
 
 Add to SAGE_ROOT/data/graphs/:
 * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
``````




---

archive/issue_events_160726.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-02-20T18:55:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160726"
}
```



---

archive/issue_events_160727.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-02-20T18:55:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160727"
}
```



---

archive/issue_comments_124404.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[trac_11880-moving_methods.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)**\n\nHellooooooo !!\n\nWith this new patch the class works again. It is not totally \"object-oriented\", and way nicer. Nicolas : I believe I addressed all of your remarks except one : \n\n```\n# TODO: or systematically use the user's version if it exists,\n# throwing a warning if it is not the most recent?\n```\nThis TODO appears in the part of the code that loads \"the most recent\" version of the database. Why would you want to only load the user's version instead of the most recent one ? I thought that this way all users may benefit from a global update...\n\nAbout returning to the user the exception raised by a wrong access to a file I did not know what to do exactly. There is nothing wrong going on if the user cannot write to the system-wide database, so this exception is still caught. On the other hand he should be able to write to his own DOT_SAGE folder, so in this second case the code does not catch the exception anymore.\n\nWell... I think that's all I had to say `:-)`\n\nNathann",
    "created_at": "2012-02-20T18:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124404",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[trac_11880-moving_methods.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)**

Hellooooooo !!

With this new patch the class works again. It is not totally "object-oriented", and way nicer. Nicolas : I believe I addressed all of your remarks except one : 

```
# TODO: or systematically use the user's version if it exists,
# throwing a warning if it is not the most recent?
```
This TODO appears in the part of the code that loads "the most recent" version of the database. Why would you want to only load the user's version instead of the most recent one ? I thought that this way all users may benefit from a global update...

About returning to the user the exception raised by a wrong access to a file I did not know what to do exactly. There is nothing wrong going on if the user cannot write to the system-wide database, so this exception is still caught. On the other hand he should be able to write to his own DOT_SAGE folder, so in this second case the code does not catch the exception anymore.

Well... I think that's all I had to say `:-)`

Nathann



---

archive/issue_comments_124405.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,7 +28,8 @@\n * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)\n * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)\n-* [attachment: trac_11880-moving_functions.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_functions.patch.gz)\n+* [attachment: trac_11880-moving_methods.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)\n+* [attachment: trac_11880-object_oriented.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)\n \n Add to SAGE_ROOT/data/graphs/:\n * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n``````\n",
    "created_at": "2012-02-20T18:55:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124405",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,7 +28,8 @@
 * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
 * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)
 * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)
-* [attachment: trac_11880-moving_functions.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_functions.patch.gz)
+* [attachment: trac_11880-moving_methods.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)
+* [attachment: trac_11880-object_oriented.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)
 
 Add to SAGE_ROOT/data/graphs/:
 * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
``````




---

archive/issue_comments_124406.json:
```json
{
    "body": "Attachment: **[trac_11880-object_oriented.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)**",
    "created_at": "2012-03-06T11:58:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124406",
    "user": "https://github.com/nthiery"
}
```

Attachment: **[trac_11880-object_oriented.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)**



---

archive/issue_comments_124407.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAttachment: **[trac_11880-isgci-more-review-nt.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)**\n\nHi Nathann,\n\nI just went back through the patches (I folded them on the Sage-Combinat queue: trac_11880-isgci-all_in_one-nc.patch). I added a reviewer patch adding a bit of doc, and using the shorter syntax for links, and using further cached methods.\n\nIt's basically good enough to go, up to little details:\n\n- doc coverage:\n\n  ```\n  zephyr-~s>sage -coverage graphs/isgci.py \n  ----------------------------------------------------------------------\n  graphs/isgci.py\n  SCORE graphs/isgci.py: 64% (11 of 17)\n\n  Missing documentation:\n  \t * __init__(self, name, gc_id):\n \t * __le__(self, other):\n\t * __ge__(self, other):\n\t * __eq__(self, other):\n\t * __lt__(self, other):\n\n  Missing doctests:\n\t * __hash__(self):\n  ```\n\n- I am not sure about the name of the method ``show`` since for other Sage objects, this opens a plot.\n\n- I have not retested _download_db and friends",
    "created_at": "2012-03-06T12:04:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124407",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:17" align="right">comment:17</div>

Attachment: **[trac_11880-isgci-more-review-nt.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)**

Hi Nathann,

I just went back through the patches (I folded them on the Sage-Combinat queue: trac_11880-isgci-all_in_one-nc.patch). I added a reviewer patch adding a bit of doc, and using the shorter syntax for links, and using further cached methods.

It's basically good enough to go, up to little details:

- doc coverage:

  ```
  zephyr-~s>sage -coverage graphs/isgci.py 
  ----------------------------------------------------------------------
  graphs/isgci.py
  SCORE graphs/isgci.py: 64% (11 of 17)

  Missing documentation:
  	 * __init__(self, name, gc_id):
 	 * __le__(self, other):
	 * __ge__(self, other):
	 * __eq__(self, other):
	 * __lt__(self, other):

  Missing doctests:
	 * __hash__(self):
  ```

- I am not sure about the name of the method ``show`` since for other Sage objects, this opens a plot.

- I have not retested _download_db and friends



---

archive/issue_events_160728.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-06T12:05:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160728"
}
```



---

archive/issue_events_160729.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-06T12:05:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160729"
}
```



---

archive/issue_comments_124408.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\n> Hi Nathann,\n\nWow !! This patch's almost good ! GREAAAAAAAAT ! `:-)`\n\n> I just went back through the patches (I folded them on the Sage-Combinat queue: trac_11880-isgci-all_in_one-nc.patch). I added a reviewer patch adding a bit of doc, and using the shorter syntax for links, and using further cached methods.\n\nI saw that... Thank you very much !\n\n> - doc coverage:\n\nArgggg... Ok, it's now fixed `:-)`\n\n> - I am not sure about the name of the method ``show`` since for other Sage objects, this opens a plot.\n\nThen I made the mistake twice, as the MixedIntegerLinearProgram object also have a .show() method that does not plot anything. Though you are right, perhaps the name \"show\" is not descriptive enough... What would you think of graph_classes.Chordal.description() to obtain the same information ? `:-)`\n\n> - I have not retested _download_db and friends\n\nI have not modified them. Actually, since I reinstalled Sage since the last time I worked on this patch I obtained an error the first time I ran isgci, and I fixed it by running graph_classes.update_db() `:-)`\n\nNathann",
    "created_at": "2012-03-06T12:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124408",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:19" align="right">comment:19</div>

> Hi Nathann,

Wow !! This patch's almost good ! GREAAAAAAAAT ! `:-)`

> I just went back through the patches (I folded them on the Sage-Combinat queue: trac_11880-isgci-all_in_one-nc.patch). I added a reviewer patch adding a bit of doc, and using the shorter syntax for links, and using further cached methods.

I saw that... Thank you very much !

> - doc coverage:

Argggg... Ok, it's now fixed `:-)`

> - I am not sure about the name of the method ``show`` since for other Sage objects, this opens a plot.

Then I made the mistake twice, as the MixedIntegerLinearProgram object also have a .show() method that does not plot anything. Though you are right, perhaps the name "show" is not descriptive enough... What would you think of graph_classes.Chordal.description() to obtain the same information ? `:-)`

> - I have not retested _download_db and friends

I have not modified them. Actually, since I reinstalled Sage since the last time I worked on this patch I obtained an error the first time I ran isgci, and I fixed it by running graph_classes.update_db() `:-)`

Nathann



---

archive/issue_comments_124409.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -30,6 +30,8 @@\n * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)\n * [attachment: trac_11880-moving_methods.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)\n * [attachment: trac_11880-object_oriented.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)\n+* [attachment: trac_11880-isgci-more-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)\n+* [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)\n \n Add to SAGE_ROOT/data/graphs/:\n * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n``````\n",
    "created_at": "2012-03-06T12:29:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124409",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -30,6 +30,8 @@
 * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)
 * [attachment: trac_11880-moving_methods.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)
 * [attachment: trac_11880-object_oriented.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)
+* [attachment: trac_11880-isgci-more-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)
+* [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)
 
 Add to SAGE_ROOT/data/graphs/:
 * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
``````




---

archive/issue_events_160730.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-06T12:29:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160730"
}
```



---

archive/issue_events_160731.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-06T12:29:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160731"
}
```



---

archive/issue_events_160732.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-06T13:37:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160732"
}
```



---

archive/issue_events_160733.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-06T13:37:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160733"
}
```



---

archive/issue_comments_124410.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@nathanncohen](#comment:19):\n> Then I made the mistake twice, as the MixedIntegerLinearProgram object also have a .show() method that does not plot anything. Though you are right, perhaps the name \"show\" is not descriptive enough... What would you think of graph_classes.Chordal.description() to obtain the same information ? `:-)`\n\nSounds reasonable. Please go ahead.\n\nYou might want to ask on sage-devel, for a later ticket on isgci.\n\n> > - I have not retested _download_db and friends\n\n> \n> I have not modified them.\n\nBut I did ...",
    "created_at": "2012-03-06T13:37:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124410",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@nathanncohen](#comment:19):
> Then I made the mistake twice, as the MixedIntegerLinearProgram object also have a .show() method that does not plot anything. Though you are right, perhaps the name "show" is not descriptive enough... What would you think of graph_classes.Chordal.description() to obtain the same information ? `:-)`

Sounds reasonable. Please go ahead.

You might want to ask on sage-devel, for a later ticket on isgci.

> > - I have not retested _download_db and friends

> 
> I have not modified them.

But I did ...



---

archive/issue_comments_124411.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@nathanncohen](#comment:16):\n> \n> ```\n> # TODO: or systematically use the user's version if it exists,\n> # throwing a warning if it is not the most recent?\n> ```\n> This TODO appears in the part of the code that loads \"the most recent\" version of the database. Why would you want to only load the user's version instead of the most recent one ? I thought that this way all users may benefit from a global update...\n\nYeah, ok, you can remove that TODO.\n\n> About returning to the user the exception raised by a wrong access to a file I did not know what to do exactly. There is nothing wrong going on if the user cannot write to the system-wide database, so this exception is still caught.\n\nMaybe the error message could be included when printing:\n\n```\n            print \"Could not save save database in \"+SAGE_ROOT+'/data/graphs/'\n```\n\nIf this is \"permission denied\", the user won't be surprised. If it's something else, it can be useful for the user (e.g. the sysadmin) to know about it.",
    "created_at": "2012-03-06T13:42:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124411",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@nathanncohen](#comment:16):
> 
> ```
> # TODO: or systematically use the user's version if it exists,
> # throwing a warning if it is not the most recent?
> ```
> This TODO appears in the part of the code that loads "the most recent" version of the database. Why would you want to only load the user's version instead of the most recent one ? I thought that this way all users may benefit from a global update...

Yeah, ok, you can remove that TODO.

> About returning to the user the exception raised by a wrong access to a file I did not know what to do exactly. There is nothing wrong going on if the user cannot write to the system-wide database, so this exception is still caught.

Maybe the error message could be included when printing:

```
            print "Could not save save database in "+SAGE_ROOT+'/data/graphs/'
```

If this is "permission denied", the user won't be surprised. If it's something else, it can be useful for the user (e.g. the sysadmin) to know about it.



---

archive/issue_events_160734.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-06T14:12:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160734"
}
```



---

archive/issue_events_160735.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-06T14:12:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160735"
}
```



---

archive/issue_comments_124412.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nHelloooooooo !!! \n\nWhat about this updated patch ? \"show\" becomes \"description\", and there is an error message printed when something fails while the files are being created. I added \"aerhyaerharyhare\" to SAGE_ROOT on my computer and it produced :\n\n```\nsage: graph_classes.update_db()                    \nDatabase downloaded\nXML file converted into Python dictionaries\nCould not save save database in /home/ncohen/.Sage/data/graphs/ (No such file or directory)\nNow attempting to save the files to /home/ncohen/.sage/db\nDatabase saved to .sobj files in /home/ncohen/.sage/db\nsage: \n```\n> But I did ...\n\nOh, you did not test *your* modifications ! Then I did it -- they were safe anyway -- and I learned that this `@`cache_method decoration added a ``clear_cache`` function `:-p`\n\n... sometimes I really miss `C` `:-P`\n\nNathann",
    "created_at": "2012-03-06T14:12:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124412",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:22" align="right">comment:22</div>

Helloooooooo !!! 

What about this updated patch ? "show" becomes "description", and there is an error message printed when something fails while the files are being created. I added "aerhyaerharyhare" to SAGE_ROOT on my computer and it produced :

```
sage: graph_classes.update_db()                    
Database downloaded
XML file converted into Python dictionaries
Could not save save database in /home/ncohen/.Sage/data/graphs/ (No such file or directory)
Now attempting to save the files to /home/ncohen/.sage/db
Database saved to .sobj files in /home/ncohen/.sage/db
sage: 
```
> But I did ...

Oh, you did not test *your* modifications ! Then I did it -- they were safe anyway -- and I learned that this `@`cache_method decoration added a ``clear_cache`` function `:-p`

... sometimes I really miss `C` `:-P`

Nathann



---

archive/issue_comments_124413.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@nathanncohen](#comment:22):\n> What about this updated patch ? \"show\" becomes \"description\", and there is an error message printed when something fails while the files are being created.\n\nCool!\n\nLooking at\nhttp://docs.python.org/library/exceptions.html#exceptions.EnvironmentError,\nyou probably want to use:\n\n```\n           print \"Could not save database in \"+SAGE_ROOT+\"/data/graphs/ (\"+v.strerror+\")\" \n```\n\ninstead of:\n\n```\n           try: \n               code, msg = v \n               print \"Could not save save database in \"+SAGE_ROOT+\"/data/graphs/ (\"+str(msg)+\")\" \n           except: \n               print \"Could not save save database in \"+SAGE_ROOT+\"/data/graphs/\" \n```\n\n(mind also the `save save`)\n\nThat done, you can fold all the patches together, and set a positive\nreview on my behalf.",
    "created_at": "2012-03-06T15:22:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124413",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@nathanncohen](#comment:22):
> What about this updated patch ? "show" becomes "description", and there is an error message printed when something fails while the files are being created.

Cool!

Looking at
http://docs.python.org/library/exceptions.html#exceptions.EnvironmentError,
you probably want to use:

```
           print "Could not save database in "+SAGE_ROOT+"/data/graphs/ ("+v.strerror+")" 
```

instead of:

```
           try: 
               code, msg = v 
               print "Could not save save database in "+SAGE_ROOT+"/data/graphs/ ("+str(msg)+")" 
           except: 
               print "Could not save save database in "+SAGE_ROOT+"/data/graphs/" 
```

(mind also the `save save`)

That done, you can fold all the patches together, and set a positive
review on my behalf.



---

archive/issue_events_160736.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-06T15:22:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160736"
}
```



---

archive/issue_events_160737.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-06T15:22:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160737"
}
```



---

archive/issue_comments_124414.json:
```json
{
    "body": "Attachment: **[trac_11880-documentation.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)**",
    "created_at": "2012-03-06T17:22:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124414",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_11880-documentation.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)**



---

archive/issue_events_160738.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-06T17:33:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160738"
}
```



---

archive/issue_events_160739.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-06T17:33:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160739"
}
```



---

archive/issue_comments_124415.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,7 +24,12 @@\n \n ---\n \n-Apply :\n+Apply the big meta patch :\n+\n+* [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)\n+\n+Or all of the following :\n+\n * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)\n * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)\n``````\n",
    "created_at": "2012-03-06T17:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124415",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,7 +24,12 @@
 
 ---
 
-Apply :
+Apply the big meta patch :
+
+* [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)
+
+Or all of the following :
+
 * [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
 * [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)
 * [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)
``````




---

archive/issue_comments_124416.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nWouhouuuuuuuuuuuuuuuu !!!\n\nThank you veeeeeeerryyyyyy much for your work on this patch Nicolas ! I'm glad to see it going, especially two week before the CNRS applications `:-PPP`\n\nBy the way, the following song is just *GREAT*\n\nhttp://grooveshark.com/s/Fensch+Vall+e/4cIzwP?src=5\nhttp://www.lyricsvip.com/Bernard-Lavilliers/Fensch-vall%C3%A9e-Lyrics.html\n\nNathann",
    "created_at": "2012-03-06T17:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124416",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:24" align="right">comment:24</div>

Wouhouuuuuuuuuuuuuuuu !!!

Thank you veeeeeeerryyyyyy much for your work on this patch Nicolas ! I'm glad to see it going, especially two week before the CNRS applications `:-PPP`

By the way, the following song is just *GREAT*

http://grooveshark.com/s/Fensch+Vall+e/4cIzwP?src=5
http://www.lyricsvip.com/Bernard-Lavilliers/Fensch-vall%C3%A9e-Lyrics.html

Nathann



---

archive/issue_comments_124417.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nAdding stuff to `SAGE_ROOT/data/graphs` requires changing the `graphs` spkg.",
    "created_at": "2012-03-07T11:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124417",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

Adding stuff to `SAGE_ROOT/data/graphs` requires changing the `graphs` spkg.



---

archive/issue_events_160740.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-07T11:26:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160740"
}
```



---

archive/issue_events_160741.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-07T11:26:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160741"
}
```



---

archive/issue_comments_124418.json:
```json
{
    "body": "Work Issues: **graphs spkg**",
    "created_at": "2012-03-07T11:26:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124418",
    "user": "https://github.com/jdemeyer"
}
```

Work Issues: **graphs spkg**



---

archive/issue_comments_124419.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAnyway, why add pickles as opposed to code?  See also #7705.",
    "created_at": "2012-03-07T11:29:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124419",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

Anyway, why add pickles as opposed to code?  See also #7705.



---

archive/issue_comments_124420.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nHelloooooooo Jeroen !!!\n\nFirst, I'm sorry about this file, I really had no idea it was actually created by a spkg `^^;`\n\nHere is what we deal with : there is on http://www.graphclasses.org/ a database of graph classes that is maintained by H.N. de Ridder and that this patches makes available in Sage. This database is relatively large and I thought that it would be a mess to update it with Sage patches very often, so this patch actually creates a \"update_db\" function that downloads the database on the author's website (they know us, they know what we do, they put their database there in XML format just for this purpose), parses it, and updates the local copy. It is also a way to ensure that the parsing code is also part of Sage `^^;`\n\nHow do you think we should do that ? \"The spkg way of doing things\" would mean that the user has no way to update his own local database if necessary and I would be glad to keep that inside of Sage. This being said, we can totally change the directory into which these informations are stored. We can also store them inside of a .py file if you prefer, which we could overwrite when necessary... Well, I'am all ears `:-)`\n\nNathann",
    "created_at": "2012-03-07T12:03:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124420",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:27" align="right">comment:27</div>

Helloooooooo Jeroen !!!

First, I'm sorry about this file, I really had no idea it was actually created by a spkg `^^;`

Here is what we deal with : there is on http://www.graphclasses.org/ a database of graph classes that is maintained by H.N. de Ridder and that this patches makes available in Sage. This database is relatively large and I thought that it would be a mess to update it with Sage patches very often, so this patch actually creates a "update_db" function that downloads the database on the author's website (they know us, they know what we do, they put their database there in XML format just for this purpose), parses it, and updates the local copy. It is also a way to ensure that the parsing code is also part of Sage `^^;`

How do you think we should do that ? "The spkg way of doing things" would mean that the user has no way to update his own local database if necessary and I would be glad to keep that inside of Sage. This being said, we can totally change the directory into which these informations are stored. We can also store them inside of a .py file if you prefer, which we could overwrite when necessary... Well, I'am all ears `:-)`

Nathann



---

archive/issue_comments_124421.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@nathanncohen](#comment:27):\n> We can also store them inside of a .py file if you prefer, which we could overwrite when necessary...\n\nI think a .py file in the Sage library is the best solution.",
    "created_at": "2012-03-14T11:24:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124421",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@nathanncohen](#comment:27):
> We can also store them inside of a .py file if you prefer, which we could overwrite when necessary...

I think a .py file in the Sage library is the best solution.



---

archive/issue_comments_124422.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\n> I think a .py file in the Sage library is the best solution.\n\nGot it ! It will be done. Where do you think we should keep this file ? Really in the library, i.e. in the devel/graph/ folder ? Or should we keep it elsewhere ?\n\nIf so, perhaps we should forget about overwriting the file when the database is updated, and only (as we do now) create a local copy for the user, stored in his SAGE_DOT folder.\n\nNathann",
    "created_at": "2012-03-14T11:27:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124422",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:29" align="right">comment:29</div>

> I think a .py file in the Sage library is the best solution.

Got it ! It will be done. Where do you think we should keep this file ? Really in the library, i.e. in the devel/graph/ folder ? Or should we keep it elsewhere ?

If so, perhaps we should forget about overwriting the file when the database is updated, and only (as we do now) create a local copy for the user, stored in his SAGE_DOT folder.

Nathann



---

archive/issue_comments_124423.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@nathanncohen](#comment:29):\n> > I think a .py file in the Sage library is the best solution.\n\n> \n> Got it ! It will be done. Where do you think we should keep this file ? Really in the library, i.e. in the devel/graph/ folder ?\n\nI think the file should really become part of the Sage library, so yes in `sage/graphs`.\n\nI also think that the updating should never be automatic, there should always be a ticket for \"updating the Graphs Classes database\" if you want to update the official version in Sage.  Of course, a user might update *his own copy* at will.",
    "created_at": "2012-03-14T12:40:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124423",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@nathanncohen](#comment:29):
> > I think a .py file in the Sage library is the best solution.

> 
> Got it ! It will be done. Where do you think we should keep this file ? Really in the library, i.e. in the devel/graph/ folder ?

I think the file should really become part of the Sage library, so yes in `sage/graphs`.

I also think that the updating should never be automatic, there should always be a ticket for "updating the Graphs Classes database" if you want to update the official version in Sage.  Of course, a user might update *his own copy* at will.



---

archive/issue_comments_124424.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\n> I think the file should really become part of the Sage library, so yes in `sage/graphs`.\n> \n> I also think that the updating should never be automatic, there should always be a ticket for \"updating the Graphs Classes database\" if you want to update the official version in Sage.  Of course, a user might update *his own copy* at will.\n\nPerfect ! Then I will rewrite the patch accordingly ! `:-)`\n\nNathann",
    "created_at": "2012-03-14T12:44:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124424",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:31" align="right">comment:31</div>

> I think the file should really become part of the Sage library, so yes in `sage/graphs`.
> 
> I also think that the updating should never be automatic, there should always be a ticket for "updating the Graphs Classes database" if you want to update the official version in Sage.  Of course, a user might update *his own copy* at will.

Perfect ! Then I will rewrite the patch accordingly ! `:-)`

Nathann



---

archive/issue_comments_124425.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThanks Jeroen for your feedback,\n\nAnd sorry for my slow answer.\n\nHaving the database file in the Sage sources is all fine for me: then\neverything is in the same repository :-) Even if it brings a bit of\noverhead, I also see the relevance of having a ticket for each upgrade\nof the database in the vanilla Sage sources: after all, changing that\ndatabase is susceptible to change the behavior of Sage, and we want to\nkeep track of that.\n\nOn the other hand I am not sure about the format. To make an overview,\nI see three possible options:\n\n(1) The original XML file taken directly from graphclasses.org\n\n(2) A pickle of the Sage object built automatically from (1)\n    (as in the current implementation)\n\n(3) A python file constructing programmatically that Sage object,\n    built automatically from (1)\n    (requires new code, unless Python has some alternative pickling\n    module that produce Python code)\n\nSome pros and cons for those formats are:\n\n(a) When loading (2) or (3) into Sage, arbitrary code can be\nexecuted. Thus, a malicious file could cause a security risk.\n    On the other hand, loading the XML file is reasonably safe\n    (assuming the parser does no stupid things like 'eval').\n\n(b) (2) is not human readable, and therefore can't really be refereed\n    directly.\n\n(c) (1) and (3) are *big*; even if technically they are human\n    readable, in practice it is not possible to referee them directly.\n\n(d) A basic assumption is that we can trust graphclasses.org for\ncorrectness. Therefore, for refereeing (1), it is sufficient to\n    check the XML file for consistency with that on graphclasses.org\n(e.g. by a md5 sum).\n\n(e) (2) and (3) would be built automatically automatically from (1),\n    using code from Sage. If we trust (1) as well as code in Sage,\n    then I see no reason not to trust (2) and (3).\n\n(f) Loading (1) into Sage requires non trivial parsing of the XML\nfile. This could be unacceptably slow redoing it each time Sage is\n    started and the database accessed.\n\n(g) It might be questionable to include pure data files within the\n    Sage sources. Or maybe not. In any cases, (3) is not really\n    different from a data file.\n\nIn view of this, I really see no advantage for enforcing the database\nto be encoded as python code, and it has the disadvantage of requiring\nmore code to translate the XML file to Python code. There thus remains\nto choose between XML or a pickle.\n\nNathann: how much time does it take to load the XML file into Sage?\n\nIn case (f) would apply and one would insist on distributing only the\nXML file (human readable + easy to check), what about having a cache?\nNamely, the first time the user loads in the XML file, it could\npickled and stored in the user directory for later reuse.\n\nCheers,\n                            Nicolas",
    "created_at": "2012-03-14T14:09:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124425",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:32" align="right">comment:32</div>

Thanks Jeroen for your feedback,

And sorry for my slow answer.

Having the database file in the Sage sources is all fine for me: then
everything is in the same repository :-) Even if it brings a bit of
overhead, I also see the relevance of having a ticket for each upgrade
of the database in the vanilla Sage sources: after all, changing that
database is susceptible to change the behavior of Sage, and we want to
keep track of that.

On the other hand I am not sure about the format. To make an overview,
I see three possible options:

(1) The original XML file taken directly from graphclasses.org

(2) A pickle of the Sage object built automatically from (1)
    (as in the current implementation)

(3) A python file constructing programmatically that Sage object,
    built automatically from (1)
    (requires new code, unless Python has some alternative pickling
    module that produce Python code)

Some pros and cons for those formats are:

(a) When loading (2) or (3) into Sage, arbitrary code can be
executed. Thus, a malicious file could cause a security risk.
    On the other hand, loading the XML file is reasonably safe
    (assuming the parser does no stupid things like 'eval').

(b) (2) is not human readable, and therefore can't really be refereed
    directly.

(c) (1) and (3) are *big*; even if technically they are human
    readable, in practice it is not possible to referee them directly.

(d) A basic assumption is that we can trust graphclasses.org for
correctness. Therefore, for refereeing (1), it is sufficient to
    check the XML file for consistency with that on graphclasses.org
(e.g. by a md5 sum).

(e) (2) and (3) would be built automatically automatically from (1),
    using code from Sage. If we trust (1) as well as code in Sage,
    then I see no reason not to trust (2) and (3).

(f) Loading (1) into Sage requires non trivial parsing of the XML
file. This could be unacceptably slow redoing it each time Sage is
    started and the database accessed.

(g) It might be questionable to include pure data files within the
    Sage sources. Or maybe not. In any cases, (3) is not really
    different from a data file.

In view of this, I really see no advantage for enforcing the database
to be encoded as python code, and it has the disadvantage of requiring
more code to translate the XML file to Python code. There thus remains
to choose between XML or a pickle.

Nathann: how much time does it take to load the XML file into Sage?

In case (f) would apply and one would insist on distributing only the
XML file (human readable + easy to check), what about having a cache?
Namely, the first time the user loads in the XML file, it could
pickled and stored in the user directory for later reuse.

Cheers,
                            Nicolas



---

archive/issue_comments_124426.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nNicolas, in view of what you said, I would go for option (1): store the XML file in the Graphs spkg and Python code to parse it in the Sage library.\n\nDon't parse anything on startup of Sage, but only the first time the graphs are accessed.  I prefer not to store anything in `DOT_SAGE`, just re-parse the XML in every session (unless this is unacceptably slow).",
    "created_at": "2012-03-14T15:40:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124426",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Nicolas, in view of what you said, I would go for option (1): store the XML file in the Graphs spkg and Python code to parse it in the Sage library.

Don't parse anything on startup of Sage, but only the first time the graphs are accessed.  I prefer not to store anything in `DOT_SAGE`, just re-parse the XML in every session (unless this is unacceptably slow).



---

archive/issue_comments_124427.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThis new patch lets us store the database as a XML file (it takes something like a second or so to parse it on my computer, which is not thaaaaat unbearable).\n\nThe XML file is now stored inside of the graphs SPKG, which can be downloaded there :\nhttp://www.steinertriples.fr/ncohen/graphs.p2.spkg\n\nNathann",
    "created_at": "2012-03-23T17:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124427",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:34" align="right">comment:34</div>

This new patch lets us store the database as a XML file (it takes something like a second or so to parse it on my computer, which is not thaaaaat unbearable).

The XML file is now stored inside of the graphs SPKG, which can be downloaded there :
http://www.steinertriples.fr/ncohen/graphs.p2.spkg

Nathann



---

archive/issue_comments_124428.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -24,9 +24,12 @@\n \n ---\n \n+Updated graphs SPKG : http://www.steinertriples.fr/ncohen/graphs.p2.spkg\n+\n Apply the big meta patch :\n \n * [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)\n+* [attachment: trac_11880-XML_storage.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-XML_storage.patch.gz)\n \n Or all of the following :\n \n``````\n",
    "created_at": "2012-03-23T17:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124428",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -24,9 +24,12 @@
 
 ---
 
+Updated graphs SPKG : http://www.steinertriples.fr/ncohen/graphs.p2.spkg
+
 Apply the big meta patch :
 
 * [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)
+* [attachment: trac_11880-XML_storage.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-XML_storage.patch.gz)
 
 Or all of the following :
 
``````




---

archive/issue_events_160742.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-23T17:11:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160742"
}
```



---

archive/issue_events_160743.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-23T17:11:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160743"
}
```



---

archive/issue_comments_124429.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nHi Nathann!\n\nThanks for the updated patch!\n\nReplying to [@nathanncohen](#comment:34):\n> This new patch lets us store the database as a XML file (it takes something like a second or so to parse it on my computer, which is not thaaaaat unbearable)\n\nI went through the new patch, and it looks good. Just too minor things:\n\nPlease update the doctest for _parse_db:\n\n```\n        EXAMPLE::\n\n            sage: graph_classes._parse_db() # Not tested -- requires internet\n```\nsince this method now takes an argument. Passing the name of the XML\nfile included in the spkg should do the job. Besides, this does not\nrequire internet.\n\nAlso rewrite:\n\n```\n        - ``xml_file`` (filename) -- the XML file containing the data from ISGCI\n```\nas\n\n```\n        - ``xml_file`` -- the name of an XML file containing the data from ISGCI\n```\n\nFor the record: all tests passed on 5.0.beta10 with the spkg installed.\n\nCheers,\n                       Nicolas",
    "created_at": "2012-03-26T09:04:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124429",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:35" align="right">comment:35</div>

Hi Nathann!

Thanks for the updated patch!

Replying to [@nathanncohen](#comment:34):
> This new patch lets us store the database as a XML file (it takes something like a second or so to parse it on my computer, which is not thaaaaat unbearable)

I went through the new patch, and it looks good. Just too minor things:

Please update the doctest for _parse_db:

```
        EXAMPLE::

            sage: graph_classes._parse_db() # Not tested -- requires internet
```
since this method now takes an argument. Passing the name of the XML
file included in the spkg should do the job. Besides, this does not
require internet.

Also rewrite:

```
        - ``xml_file`` (filename) -- the XML file containing the data from ISGCI
```
as

```
        - ``xml_file`` -- the name of an XML file containing the data from ISGCI
```

For the record: all tests passed on 5.0.beta10 with the spkg installed.

Cheers,
                       Nicolas



---

archive/issue_comments_124430.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nHellooooo !!\n\n> Please update the doctest for _parse_db:\n\nArggggggg !! Right !!!\n\n> Also rewrite:\n\nDone !\n\n> For the record: all tests passed on 5.0.beta10 with the spkg installed.\n\nWell, for some reason the tests did not pass on my machine, and it was to be expected... Some things are being displayed as they are listed by a dictionary .items() method, and of course today the ordering was different. As these are not critical functions anyway I wrapped them with a call to \"sorted\", and updated the docstrings. I also set some of them to \"not tested\" for the same reason, as well as for a \"shortest path\" in the inclusion digraph which had no reason to be unique (and changed since the last time on my machine).\n\nPatch updated !\n\nNathann",
    "created_at": "2012-03-26T10:53:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124430",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:36" align="right">comment:36</div>

Hellooooo !!

> Please update the doctest for _parse_db:

Arggggggg !! Right !!!

> Also rewrite:

Done !

> For the record: all tests passed on 5.0.beta10 with the spkg installed.

Well, for some reason the tests did not pass on my machine, and it was to be expected... Some things are being displayed as they are listed by a dictionary .items() method, and of course today the ordering was different. As these are not critical functions anyway I wrapped them with a call to "sorted", and updated the docstrings. I also set some of them to "not tested" for the same reason, as well as for a "shortest path" in the inclusion digraph which had no reason to be unique (and changed since the last time on my machine).

Patch updated !

Nathann



---

archive/issue_comments_124431.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@nathanncohen](#comment:36):\n> Well, for some reason the tests did not pass on my machine, and it was to be expected... Some things are being displayed as they are listed by a dictionary .items() method, and of course today the ordering was different. As these are not critical functions anyway I wrapped them with a call to \"sorted\", and updated the docstrings. I also set some of them to \"not tested\" for the same reason, as well as for a \"shortest path\" in the inclusion digraph which had no reason to be unique (and changed since the last time on my machine).\n\nGreat.\n\nPlease use \"#random# rather than \"# not tested\", and maybe add a test\nlike:\n\n    sage: map(graph_classes.get_class, p)\n    [perfect graphs, ... bipartite graphs]\n\nThen you can set a positive review on my behalf.\n\nCheers,",
    "created_at": "2012-03-26T13:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124431",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@nathanncohen](#comment:36):
> Well, for some reason the tests did not pass on my machine, and it was to be expected... Some things are being displayed as they are listed by a dictionary .items() method, and of course today the ordering was different. As these are not critical functions anyway I wrapped them with a call to "sorted", and updated the docstrings. I also set some of them to "not tested" for the same reason, as well as for a "shortest path" in the inclusion digraph which had no reason to be unique (and changed since the last time on my machine).

Great.

Please use "#random# rather than "# not tested", and maybe add a test
like:

    sage: map(graph_classes.get_class, p)
    [perfect graphs, ... bipartite graphs]

Then you can set a positive review on my behalf.

Cheers,



---

archive/issue_comments_124432.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\n> Please use \"#random# rather than \"# not tested\", and maybe add a test\n> like:\n> \n>     sage: map(graph_classes.get_class, p)\n>     [perfect graphs, ... bipartite graphs]\n\nDone !\n\n> Then you can set a positive review on my behalf.\n\nWell, then... `:-)`\n\nNathann",
    "created_at": "2012-03-26T13:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124432",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:38" align="right">comment:38</div>

> Please use "#random# rather than "# not tested", and maybe add a test
> like:
> 
>     sage: map(graph_classes.get_class, p)
>     [perfect graphs, ... bipartite graphs]

Done !

> Then you can set a positive review on my behalf.

Well, then... `:-)`

Nathann



---

archive/issue_events_160744.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-26T13:48:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160744"
}
```



---

archive/issue_events_160745.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-26T13:48:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160745"
}
```



---

archive/issue_comments_124433.json:
```json
{
    "body": "Attachment: **[trac_11880-XML_storage.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-XML_storage.patch.gz)**",
    "created_at": "2012-03-26T13:49:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124433",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_11880-XML_storage.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-XML_storage.patch.gz)**



---

archive/issue_comments_124434.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nCongrats on yet another ticket accepted :-)",
    "created_at": "2012-03-26T14:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124434",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:39" align="right">comment:39</div>

Congrats on yet another ticket accepted :-)



---

archive/issue_comments_124435.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\n> Congrats on yet another ticket accepted :-)\n\nWell, such tickets are harder to review than to write, so thank you for that `;-)`\n\n\"I've been told there would be news about the CNRS around Wednesday of Thursday\". I haven't be told whether it would be a good or a bad one though `:-P`\n\nNathann",
    "created_at": "2012-03-26T15:09:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124435",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:40" align="right">comment:40</div>

> Congrats on yet another ticket accepted :-)

Well, such tickets are harder to review than to write, so thank you for that `;-)`

"I've been told there would be news about the CNRS around Wednesday of Thursday". I haven't be told whether it would be a good or a bad one though `:-P`

Nathann



---

archive/issue_comments_124436.json:
```json
{
    "body": "Changed work issues from **graphs spkg** to **graphs spkg name**",
    "created_at": "2012-03-28T10:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124436",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **graphs spkg** to **graphs spkg name**



---

archive/issue_comments_124437.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\n`graphs.p2.spkg` isn't a proper name for a SPKG, as it doesn't have a version number (having a version number is required by some scripts).\n\nI would use the name\n\n```\ngraphs-20120328.spkg\n```\n(or something like this).\n\nBe sure to adjust `SPKG.txt`, the version number in the `SPKG.txt` Changelog should match the spkg name.",
    "created_at": "2012-03-28T10:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124437",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

`graphs.p2.spkg` isn't a proper name for a SPKG, as it doesn't have a version number (having a version number is required by some scripts).

I would use the name

```
graphs-20120328.spkg
```
(or something like this).

Be sure to adjust `SPKG.txt`, the version number in the `SPKG.txt` Changelog should match the spkg name.



---

archive/issue_events_160746.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T10:30:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160746"
}
```



---

archive/issue_events_160747.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T10:30:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160747"
}
```



---

archive/issue_events_160748.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-28T12:01:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160748"
}
```



---

archive/issue_events_160749.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-03-28T12:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160749"
}
```



---

archive/issue_comments_124438.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,7 +3,6 @@\n ```\n sage/graphs/isgci.py\n ```\n-\n That is a **first implementation** of an interface between Sage and the Graph Classes database ISGCI ![1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.\n \n There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.\n@@ -23,8 +22,7 @@\n ![1] http://www.graphclasses.org/\n \n ---\n-\n-Updated graphs SPKG : http://www.steinertriples.fr/ncohen/graphs.p2.spkg\n+Updated graphs SPKG : !http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg\n \n Apply the big meta patch :\n \n@@ -42,6 +40,6 @@\n * [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)\n \n Add to SAGE_ROOT/data/graphs/:\n+\n * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n * [attachment: isgci_inclusions.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)\n-\n``````\n",
    "created_at": "2012-03-28T12:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124438",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,7 +3,6 @@
 ```
 sage/graphs/isgci.py
 ```
-
 That is a **first implementation** of an interface between Sage and the Graph Classes database ISGCI ![1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.
 
 There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.
@@ -23,8 +22,7 @@
 ![1] http://www.graphclasses.org/
 
 ---
-
-Updated graphs SPKG : http://www.steinertriples.fr/ncohen/graphs.p2.spkg
+Updated graphs SPKG : !http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg
 
 Apply the big meta patch :
 
@@ -42,6 +40,6 @@
 * [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)
 
 Add to SAGE_ROOT/data/graphs/:
+
 * [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
 * [attachment: isgci_inclusions.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)
-
``````




---

archive/issue_comments_124439.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI am happy to announce that !http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg is now available !`:-)`",
    "created_at": "2012-03-28T12:01:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124439",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:42" align="right">comment:42</div>

I am happy to announce that !http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg is now available !`:-)`



---

archive/issue_comments_124440.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nOh, I did not notice ou had removed the p3. Is that a problem ?",
    "created_at": "2012-03-28T12:02:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124440",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:43" align="right">comment:43</div>

Oh, I did not notice ou had removed the p3. Is that a problem ?



---

archive/issue_comments_124441.json:
```json
{
    "body": "Changed work issues from **graphs spkg name** to none",
    "created_at": "2012-03-28T12:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124441",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **graphs spkg name** to none



---

archive/issue_comments_124442.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n ![1] http://www.graphclasses.org/\n \n ---\n-Updated graphs SPKG : !http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg\n+Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg)\n \n Apply the big meta patch :\n \n``````\n",
    "created_at": "2012-03-28T12:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124442",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 ![1] http://www.graphclasses.org/
 
 ---
-Updated graphs SPKG : !http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg
+Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg)
 
 Apply the big meta patch :
 
``````




---

archive/issue_comments_124443.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nYou should update `SPKG.txt` to follow the format from [http://sagemath.org/doc/developer/producing_spkgs.html#the-file-spkg-txt](http://sagemath.org/doc/developer/producing_spkgs.html#the-file-spkg-txt).\n\nAt the very least, follow that format for the Changelog.\n\nAlso, your spkg should be rebased to sage-5.0.beta10 (there was a small change to the graphs spkg, see #12694).",
    "created_at": "2012-04-02T21:44:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124443",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:45" align="right">comment:45</div>

You should update `SPKG.txt` to follow the format from [http://sagemath.org/doc/developer/producing_spkgs.html#the-file-spkg-txt](http://sagemath.org/doc/developer/producing_spkgs.html#the-file-spkg-txt).

At the very least, follow that format for the Changelog.

Also, your spkg should be rebased to sage-5.0.beta10 (there was a small change to the graphs spkg, see #12694).



---

archive/issue_events_160750.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:44:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160750"
}
```



---

archive/issue_events_160751.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:44:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160751"
}
```



---

archive/issue_comments_124444.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nHeeeeeeeeeeeere it is ! `:-)`\n\nhttp://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg\n\nNathann",
    "created_at": "2012-04-04T19:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124444",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:46" align="right">comment:46</div>

Heeeeeeeeeeeere it is ! `:-)`

http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg

Nathann



---

archive/issue_comments_124445.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,7 +22,7 @@\n ![1] http://www.graphclasses.org/\n \n ---\n-Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg)\n+Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg)\n \n Apply the big meta patch :\n \n``````\n",
    "created_at": "2012-04-04T19:53:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124445",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,7 +22,7 @@
 ![1] http://www.graphclasses.org/
 
 ---
-Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120328.p3.spkg)
+Updated graphs SPKG : [http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg](http://www.steinertriples.fr/ncohen/graphs-20120404.p3.spkg)
 
 Apply the big meta patch :
 
``````




---

archive/issue_events_160752.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-04-04T19:53:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160752"
}
```



---

archive/issue_events_160753.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-04-04T19:53:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160753"
}
```



---

archive/issue_comments_124446.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nOne patch to apply them all,\n\nOne patch to use them,\n\nOne patch to contain them all,\n\nAnd in Sage-5 bind them.",
    "created_at": "2012-04-10T10:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124446",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:47" align="right">comment:47</div>

One patch to apply them all,

One patch to use them,

One patch to contain them all,

And in Sage-5 bind them.



---

archive/issue_comments_124447.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,15 +3,14 @@\n ```\n sage/graphs/isgci.py\n ```\n-That is a **first implementation** of an interface between Sage and the Graph Classes database ISGCI ![1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.\n+\n+That is an interface between Sage and the Graph Classes database ISGCI[1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.\n \n There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.\n \n-Along with the patch, two `.sobj` files should be added to the directory `$SAGE_ROOT/data/graphs/`. These files are an `.sobj` version of the database that I created on my own computer.\n+The database used by this patch is installed in Sage through the \"graphs\" spkg, which this ticket updates.\n \n-When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function `sage.graphs.isgci.update_db()` that downloads a new version of the database from ISGCI's website and updates the current `.sobj` files.\n-\n-Hence, instead of using my two files attached to this ticket, one can also call this method which will create them automatically.\n+When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function lets the users update their local copy when necessary.\n \n I tried to make the documentation clear enough about all that is currently possible with ISGCI.\n \n@@ -27,7 +26,6 @@\n Apply the big meta patch :\n \n * [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)\n-* [attachment: trac_11880-XML_storage.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-XML_storage.patch.gz)\n \n Or all of the following :\n \n``````\n",
    "created_at": "2012-04-10T10:14:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124447",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,15 +3,14 @@
 ```
 sage/graphs/isgci.py
 ```
-That is a **first implementation** of an interface between Sage and the Graph Classes database ISGCI ![1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.
+
+That is an interface between Sage and the Graph Classes database ISGCI[1]. With this interface, the XML content of the database can be read using dictionaries and lists (much easier to work with), and some operations are implemented like the comparison (relatively to inclusion) of graph classes.
 
 There will be more work needed on this new feature, for instance the implementation of an easy way to query the database.
 
-Along with the patch, two `.sobj` files should be added to the directory `$SAGE_ROOT/data/graphs/`. These files are an `.sobj` version of the database that I created on my own computer.
+The database used by this patch is installed in Sage through the "graphs" spkg, which this ticket updates.
 
-When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function `sage.graphs.isgci.update_db()` that downloads a new version of the database from ISGCI's website and updates the current `.sobj` files.
-
-Hence, instead of using my two files attached to this ticket, one can also call this method which will create them automatically.
+When this patch will be merged into Sage, it is likely that users that do not update their version of Sage will progressively then be working with an outdated version of the database, as the version will be the one used the day they downloaded their copy of Sage. To avoid that, this patch implements a function lets the users update their local copy when necessary.
 
 I tried to make the documentation clear enough about all that is currently possible with ISGCI.
 
@@ -27,7 +26,6 @@
 Apply the big meta patch :
 
 * [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)
-* [attachment: trac_11880-XML_storage.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-XML_storage.patch.gz)
 
 Or all of the following :
 
``````




---

archive/issue_events_160754.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-19T09:45:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160754"
}
```



---

archive/issue_events_160755.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-19T09:45:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160755"
}
```



---

archive/issue_comments_124448.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI guess the sobj files don't need to be added if they are in the graphs spkg.",
    "created_at": "2012-04-26T22:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124448",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

I guess the sobj files don't need to be added if they are in the graphs spkg.



---

archive/issue_comments_124449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,7 +37,3 @@\n * [attachment: trac_11880-isgci-more-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)\n * [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)\n \n-Add to SAGE_ROOT/data/graphs/:\n-\n-* [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)\n-* [attachment: isgci_inclusions.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)\n``````\n",
    "created_at": "2012-04-26T22:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124449",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,7 +37,3 @@
 * [attachment: trac_11880-isgci-more-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)
 * [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)
 
-Add to SAGE_ROOT/data/graphs/:
-
-* [attachment: isgci_classes.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_classes.sobj.gz)
-* [attachment: isgci_inclusions.sobj](https://github.com/sagemath/sage/files/ticket11880/isgci_inclusions.sobj.gz)
``````




---

archive/issue_comments_124450.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nThe all-in-one patch needs a proper commit message: either fix the commit messages of the individual patches (\"[mq]: something\" isn't a proper commit message), or just write one commit message for the whole patch.  A multi-line message is allowed (and even encouraged), but make sure the first line makes sense by itself.",
    "created_at": "2012-04-30T08:33:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124450",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:50" align="right">comment:50</div>

The all-in-one patch needs a proper commit message: either fix the commit messages of the individual patches ("[mq]: something" isn't a proper commit message), or just write one commit message for the whole patch.  A multi-line message is allowed (and even encouraged), but make sure the first line makes sense by itself.



---

archive/issue_comments_124451.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nWell, the first line is explicit enough anyway `:-)`\n\npatch updated !\n\nNathann",
    "created_at": "2012-04-30T08:38:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124451",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:51" align="right">comment:51</div>

Well, the first line is explicit enough anyway `:-)`

patch updated !

Nathann



---

archive/issue_events_160756.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-04T11:00:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160756"
}
```



---

archive/issue_events_160757.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-04T11:00:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160757"
}
```



---

archive/issue_comments_124452.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nThis obviously fails on 32-bit systems:\n\n```\nsage -t  --long -force_lib devel/sage/sage/graphs/isgci.py\n**********************************************************************\nFile \"/Users/buildbot/build/sage/moufang-1/moufang_full/build/sage-5.1.beta0/devel/sage-main/sage/graphs/isgci.py\", line 395:\n    sage: hash(graph_classes.Chordal)\nExpected:\n    -2927255616177890469\nGot:\n    -1091364005\n**********************************************************************\n```",
    "created_at": "2012-05-04T11:00:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124452",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:52" align="right">comment:52</div>

This obviously fails on 32-bit systems:

```
sage -t  --long -force_lib devel/sage/sage/graphs/isgci.py
**********************************************************************
File "/Users/buildbot/build/sage/moufang-1/moufang_full/build/sage-5.1.beta0/devel/sage-main/sage/graphs/isgci.py", line 395:
    sage: hash(graph_classes.Chordal)
Expected:
    -2927255616177890469
Got:
    -1091364005
**********************************************************************
```



---

archive/issue_comments_124453.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nArggggg..... How should I test \"hash\" then ? `O_o`\n\nNathann",
    "created_at": "2012-05-04T11:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124453",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:53" align="right">comment:53</div>

Arggggg..... How should I test "hash" then ? `O_o`

Nathann



---

archive/issue_events_160758.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-05-04T11:05:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160758"
}
```



---

archive/issue_events_160759.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-05-04T11:05:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160759"
}
```



---

archive/issue_comments_124454.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nAnswer : in some stupid way, as found in ``geometry/lattice_polytope.py``\n\nPatch updated !\n\nNathann",
    "created_at": "2012-05-04T11:05:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124454",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:54" align="right">comment:54</div>

Answer : in some stupid way, as found in ``geometry/lattice_polytope.py``

Patch updated !

Nathann



---

archive/issue_comments_124455.json:
```json
{
    "body": "Attachment: **[trac_11880-ISGCI-all-in-one.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)**",
    "created_at": "2012-05-04T11:05:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124455",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_11880-ISGCI-all-in-one.patch.gz](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)**



---

archive/issue_comments_124456.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,14 +26,3 @@\n Apply the big meta patch :\n \n * [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)\n-\n-Or all of the following :\n-\n-* [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)\n-* [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)\n-* [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)\n-* [attachment: trac_11880-moving_methods.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)\n-* [attachment: trac_11880-object_oriented.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)\n-* [attachment: trac_11880-isgci-more-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)\n-* [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)\n-\n``````\n",
    "created_at": "2012-05-06T12:26:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124456",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,14 +26,3 @@
 Apply the big meta patch :
 
 * [attachment: trac_11880-ISGCI-all-in-one.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-ISGCI-all-in-one.patch.gz)
-
-Or all of the following :
-
-* [attachment: trac_11880.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880.patch.gz)
-* [attachment: trac_11880-graph_classes-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-graph_classes-review-nt.patch.gz)
-* [attachment: trac_11880-first_review.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-first_review.patch.gz)
-* [attachment: trac_11880-moving_methods.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-moving_methods.patch.gz)
-* [attachment: trac_11880-object_oriented.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-object_oriented.patch.gz)
-* [attachment: trac_11880-isgci-more-review-nt.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-isgci-more-review-nt.patch.gz)
-* [attachment: trac_11880-documentation.patch](https://github.com/sagemath/sage/files/ticket11880/trac_11880-documentation.patch.gz)
-
``````




---

archive/issue_events_160760.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-07T19:49:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160760"
}
```



---

archive/issue_events_160761.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-07T19:49:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11880#event-160761"
}
```



---

archive/issue_comments_124457.json:
```json
{
    "body": "Merged: **sage-5.1.beta0**",
    "created_at": "2012-05-07T19:49:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11880",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11880#issuecomment-124457",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.1.beta0**
