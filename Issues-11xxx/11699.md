# Issue 11699: matrix() command should accept some Matlab-style inputs

archive/issues_011527.json:
```json
{
    "body": "CC:  @kini @kcrisman @mforets\n\nIn https://groups.google.com/d/msg/sage-devel/p-nrpKUBMm8/LUMAfoXsz-UJ Jason Grout mentioned that it would be convenient if Sage accepted the following Matlab syntax for creating matrices:\n\n```\nsage: matrix(\"1 2 3; 4 5 6; 7 8 9\")\n[1 2 3]\n[4 5 6]\n[7 8 9]\n```\n\nThis should be an easy change to the `matrix()` command, and would be very convenient for users, even those with no Matlab background.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11699\n\n",
    "created_at": "2011-08-18T00:43:05Z",
    "labels": [
        "component: linear algebra",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "matrix() command should accept some Matlab-style inputs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11699",
    "user": "https://github.com/dandrake"
}
```
CC:  @kini @kcrisman @mforets

In https://groups.google.com/d/msg/sage-devel/p-nrpKUBMm8/LUMAfoXsz-UJ Jason Grout mentioned that it would be convenient if Sage accepted the following Matlab syntax for creating matrices:

```
sage: matrix("1 2 3; 4 5 6; 7 8 9")
[1 2 3]
[4 5 6]
[7 8 9]
```

This should be an easy change to the `matrix()` command, and would be very convenient for users, even those with no Matlab background.

Issue created by migration from https://trac.sagemath.org/ticket/11699





---

archive/issue_comments_129064.json:
```json
{
    "body": "see also http://www.mathworks.com/help/techdoc/math/f1-84864.html#f1-84906",
    "created_at": "2011-08-18T02:26:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129064",
    "user": "https://github.com/jasongrout"
}
```

see also http://www.mathworks.com/help/techdoc/math/f1-84864.html#f1-84906



---

archive/issue_comments_129065.json:
```json
{
    "body": "In particular, elements can be separated by either commas or spaces (or both), and rows are separated by semicolons.  So we should be able to easily separate by splitting the string:\n\n```\nrows = a.split(';')\nfor r in rows:\n    elts = r.replace(',', ' ').split()\n    # do something to interpret the elts, like map(sage_eval, elts)\n```",
    "created_at": "2011-08-18T02:39:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129065",
    "user": "https://github.com/jasongrout"
}
```

In particular, elements can be separated by either commas or spaces (or both), and rows are separated by semicolons.  So we should be able to easily separate by splitting the string:

```
rows = a.split(';')
for r in rows:
    elts = r.replace(',', ' ').split()
    # do something to interpret the elts, like map(sage_eval, elts)
```



---

archive/issue_comments_129066.json:
```json
{
    "body": "Or probably even faster, do the ','->' ' translation once at the beginning to avoid lots of small strings being created:\n\n```\n# if a was the string passed in as the list of elements\na=a.replace(',', ' ')\nrows = a.split(';')\nelements=[map(sage_eval, r.split()) for r in rows]\n# now continue matrix processing with \"elements\" as the list of elements\n```\n\nThis would just be inserted in the first time the elements of a matrix were accessed and would convert the string to a list of elements like it expects.",
    "created_at": "2011-08-18T02:49:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129066",
    "user": "https://github.com/jasongrout"
}
```

Or probably even faster, do the ','->' ' translation once at the beginning to avoid lots of small strings being created:

```
# if a was the string passed in as the list of elements
a=a.replace(',', ' ')
rows = a.split(';')
elements=[map(sage_eval, r.split()) for r in rows]
# now continue matrix processing with "elements" as the list of elements
```

This would just be inserted in the first time the elements of a matrix were accessed and would convert the string to a list of elements like it expects.



---

archive/issue_comments_129067.json:
```json
{
    "body": "In fact, we should support multiple lines here too, like Matlab, so you could do:\n\n```\nmatrix(\"\"\"\n1 2 3\n4 5 6\n7 8 9\n\"\"\")\n```\n\nTo do that, do\n\n```\n# if a was the string passed in as the list of elements\na=a.replace(',', ' ').replace(';','\\n')\nrows = a.split('\\n')\n# throw away empty rows\nrows = [r for r in rows if not r.trim()]\nelements=[map(sage_eval, r.split()) for r in rows]\n# now continue matrix processing with \"elements\" as the list of elements\n```\n\nAt this point, it might be better to use regular expressions.  It's certainly worth a timing test.  Note the following matlab examples:\n\n```\n>> a=[1 2 3\n4 5 6]\n\na =\n\n     1     2     3\n     4     5     6\n\n>> a=[\n1 2 3\n4 5 6\n]\n\na =\n\n     1     2     3\n     4     5     6\n\n>> a=[  \n1 2 3;\n4 4 4\n]\n\na =\n\n     1     2     3\n     4     4     4\n\n>> a = [\n1 2 3; ;\n4 5 6]\n\na =\n\n     1     2     3\n     4     5     6\n\n>> a = [;;1 2;;3 4] \n\na =\n\n     1     2\n     3     4\n\n>> a=[\n\n;\n1 2 3]\n\na =\n\n     1     2     3\n\n\n\n```",
    "created_at": "2011-08-18T02:57:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129067",
    "user": "https://github.com/jasongrout"
}
```

In fact, we should support multiple lines here too, like Matlab, so you could do:

```
matrix("""
1 2 3
4 5 6
7 8 9
""")
```

To do that, do

```
# if a was the string passed in as the list of elements
a=a.replace(',', ' ').replace(';','\n')
rows = a.split('\n')
# throw away empty rows
rows = [r for r in rows if not r.trim()]
elements=[map(sage_eval, r.split()) for r in rows]
# now continue matrix processing with "elements" as the list of elements
```

At this point, it might be better to use regular expressions.  It's certainly worth a timing test.  Note the following matlab examples:

```
>> a=[1 2 3
4 5 6]

a =

     1     2     3
     4     5     6

>> a=[
1 2 3
4 5 6
]

a =

     1     2     3
     4     5     6

>> a=[  
1 2 3;
4 4 4
]

a =

     1     2     3
     4     4     4

>> a = [
1 2 3; ;
4 5 6]

a =

     1     2     3
     4     5     6

>> a = [;;1 2;;3 4] 

a =

     1     2
     3     4

>> a=[

;
1 2 3]

a =

     1     2     3



```



---

archive/issue_comments_129068.json:
```json
{
    "body": "Oops, that should `r.strip()` rather than `r.trim()` above.",
    "created_at": "2011-08-18T02:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129068",
    "user": "https://github.com/jasongrout"
}
```

Oops, that should `r.strip()` rather than `r.trim()` above.



---

archive/issue_comments_129069.json:
```json
{
    "body": "Slightly faster than the double replace, if `s` is defined at module creation time:\n\n```\nimport string\ns=string.maketrans(';,','\\n ')\n```\n\nThen the double replace above becomes: `a.translate(s)`",
    "created_at": "2011-08-18T03:04:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129069",
    "user": "https://github.com/jasongrout"
}
```

Slightly faster than the double replace, if `s` is defined at module creation time:

```
import string
s=string.maketrans(';,','\n ')
```

Then the double replace above becomes: `a.translate(s)`



---

archive/issue_comments_129070.json:
```json
{
    "body": "Okay, here's a new iteration, especially since I flipped logic above with the r.strip()\n\n```\n# if a was the string passed in as the list of elements\na=a.replace(',', ' ').replace(';','\\n') # or a.translate(s) if we can initialize s\nrows = a.split('\\n')\n# throw away empty rows\nrows = [r for r in rows if r.strip()]\nelements=[map(sage_eval, r.split()) for r in rows]\n# now continue matrix processing with \"elements\" as the list of elements\n\n```",
    "created_at": "2011-08-18T03:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129070",
    "user": "https://github.com/jasongrout"
}
```

Okay, here's a new iteration, especially since I flipped logic above with the r.strip()

```
# if a was the string passed in as the list of elements
a=a.replace(',', ' ').replace(';','\n') # or a.translate(s) if we can initialize s
rows = a.split('\n')
# throw away empty rows
rows = [r for r in rows if r.strip()]
elements=[map(sage_eval, r.split()) for r in rows]
# now continue matrix processing with "elements" as the list of elements

```



---

archive/issue_comments_129071.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-08-18T07:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129071",
    "user": "https://github.com/dandrake"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_129072.json:
```json
{
    "body": "Okay, try this. I think it still needs some optimization with the string handling stuff, and it could probably use some more doctests, but it's basically ready for review.",
    "created_at": "2011-08-18T07:29:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129072",
    "user": "https://github.com/dandrake"
}
```

Okay, try this. I think it still needs some optimization with the string handling stuff, and it could probably use some more doctests, but it's basically ready for review.



---

archive/issue_comments_129073.json:
```json
{
    "body": "Remove assignee jason, was.",
    "created_at": "2011-08-18T08:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129073",
    "user": "https://github.com/dandrake"
}
```

Remove assignee jason, was.



---

archive/issue_comments_129074.json:
```json
{
    "body": "Hrm, Robert Bradshaw just tossed some cold water on my simple string-handling: https://groups.google.com/d/msg/sage-devel/p-nrpKUBMm8/_4DL5li7NcQJ\n\nThe quick version: what about `1 + sin(x)` (for splitting in spaces) and `[1, 2; pi, f(3, 4)]` for splitting on commas? Hrm.",
    "created_at": "2011-08-18T08:16:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129074",
    "user": "https://github.com/dandrake"
}
```

Hrm, Robert Bradshaw just tossed some cold water on my simple string-handling: https://groups.google.com/d/msg/sage-devel/p-nrpKUBMm8/_4DL5li7NcQJ

The quick version: what about `1 + sin(x)` (for splitting in spaces) and `[1, 2; pi, f(3, 4)]` for splitting on commas? Hrm.



---

archive/issue_comments_129075.json:
```json
{
    "body": "quick comment: you should probably use `isinstance(args[0], basestring)`, as that is forward-compatible with unicode strings and python3.",
    "created_at": "2011-08-18T17:38:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129075",
    "user": "https://github.com/jasongrout"
}
```

quick comment: you should probably use `isinstance(args[0], basestring)`, as that is forward-compatible with unicode strings and python3.



---

archive/issue_comments_129076.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-08-23T06:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129076",
    "user": "https://github.com/dandrake"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_129077.json:
```json
{
    "body": "Another problem: `sage_eval` evaluates its arguments in a different context than the one in which `matrix()` gets called. So even though you may have done `x = var('x')`, it doesn't know about `x`.\n\nIf we do put this in, I think the docstring should be explicit that using strings is limited, and only really works for number literals and similar things. Then later someone can write a full parser and figure out the evaluation context stuff.",
    "created_at": "2011-08-23T06:57:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129077",
    "user": "https://github.com/dandrake"
}
```

Another problem: `sage_eval` evaluates its arguments in a different context than the one in which `matrix()` gets called. So even though you may have done `x = var('x')`, it doesn't know about `x`.

If we do put this in, I think the docstring should be explicit that using strings is limited, and only really works for number literals and similar things. Then later someone can write a full parser and figure out the evaluation context stuff.



---

archive/issue_comments_129078.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-08-24T07:44:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129078",
    "user": "https://github.com/dandrake"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_129079.json:
```json
{
    "body": "Maybe on another ticket, but can I ask for one more enhancement on this? Can we make the following work:\n\n```\n\nmatrix(\"\"\"\n[1 2]\n[3 4]\n\"\"\")\n\n```\n\n(i.e., any \"]\" or \"[\" next to row delimiters are stripped).  That would mean that I could cut and paste output from Sage back into Sage to make a matrix.",
    "created_at": "2011-08-24T13:12:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129079",
    "user": "https://github.com/jasongrout"
}
```

Maybe on another ticket, but can I ask for one more enhancement on this? Can we make the following work:

```

matrix("""
[1 2]
[3 4]
""")

```

(i.e., any "]" or "[" next to row delimiters are stripped).  That would mean that I could cut and paste output from Sage back into Sage to make a matrix.



---

archive/issue_comments_129080.json:
```json
{
    "body": "Replying to [comment:13 jason]:\n> Maybe on another ticket, but can I ask for one more enhancement on this? Can we make the following work:\n> \n> \n> ```\n> \n> matrix(\"\"\"\n> [1 2]\n> [3 4]\n> \"\"\")\n> \n> ```\n> \n> (i.e., any \"]\" or \"[\" next to row delimiters are stripped).  That would mean that I could cut and paste output from Sage back into Sage to make a matrix.\n\n\nSure, no problem. Although you'll still have the split-on-whitespace and context limitations. But plain numerical matrices are common enough so that I think it's worth it.",
    "created_at": "2011-08-25T03:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129080",
    "user": "https://github.com/dandrake"
}
```

Replying to [comment:13 jason]:
> Maybe on another ticket, but can I ask for one more enhancement on this? Can we make the following work:
> 
> 
> ```
> 
> matrix("""
> [1 2]
> [3 4]
> """)
> 
> ```
> 
> (i.e., any "]" or "[" next to row delimiters are stripped).  That would mean that I could cut and paste output from Sage back into Sage to make a matrix.


Sure, no problem. Although you'll still have the split-on-whitespace and context limitations. But plain numerical matrices are common enough so that I think it's worth it.



---

archive/issue_comments_129081.json:
```json
{
    "body": "Attachment [trac_11699_matlab_input_to_matrix.patch](tarball://root/attachments/some-uuid/ticket11699/trac_11699_matlab_input_to_matrix.patch) by @dandrake created at 2011-08-25 03:57:26\n\napply to main repo",
    "created_at": "2011-08-25T03:57:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129081",
    "user": "https://github.com/dandrake"
}
```

Attachment [trac_11699_matlab_input_to_matrix.patch](tarball://root/attachments/some-uuid/ticket11699/trac_11699_matlab_input_to_matrix.patch) by @dandrake created at 2011-08-25 03:57:26

apply to main repo



---

archive/issue_comments_129082.json:
```json
{
    "body": "See #12354 for another take on this as preparser syntax.",
    "created_at": "2012-01-25T22:46:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129082",
    "user": "https://github.com/jasongrout"
}
```

See #12354 for another take on this as preparser syntax.



---

archive/issue_comments_129083.json:
```json
{
    "body": "This patch causes a doctest to fail in sageinspect.py (see patchbot logs) -- looks like somebody helpfully wrote a doctest which relies on the docstring of \"matrix()\" being exactly 34 lines long. (There is also another failure on the most recent run, but I suspect that is just a random glitch.)",
    "created_at": "2012-04-06T10:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129083",
    "user": "https://github.com/loefflerd"
}
```

This patch causes a doctest to fail in sageinspect.py (see patchbot logs) -- looks like somebody helpfully wrote a doctest which relies on the docstring of "matrix()" being exactly 34 lines long. (There is also another failure on the most recent run, but I suspect that is just a random glitch.)



---

archive/issue_comments_129084.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2012-04-06T10:38:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129084",
    "user": "https://github.com/loefflerd"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_129085.json:
```json
{
    "body": "argh, I was trying to use this today, thinking it was already in...",
    "created_at": "2013-03-06T18:03:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129085",
    "user": "https://github.com/jasongrout"
}
```

argh, I was trying to use this today, thinking it was already in...



---

archive/issue_events_030742.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30742"
}
```



---

archive/issue_events_030743.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30743"
}
```



---

archive/issue_events_030744.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30744"
}
```



---

archive/issue_events_030745.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30745"
}
```



---

archive/issue_events_030746.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30746"
}
```



---

archive/issue_events_030747.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30747"
}
```



---

archive/issue_events_030748.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11699#event-30748"
}
```



---

archive/issue_comments_129086.json:
```json
{
    "body": "I've ported this over to 6.9.beta3. It builds, works, and passes doctests, but the documentation doesn't build -- I have doctests with ``\\n`` in them, and these are not interpreted by Sphinx correctly, and then it complains about indentation being messed up. Advice for how to fix that welcome.\n\n---\nNew commits:",
    "created_at": "2015-08-27T06:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129086",
    "user": "https://github.com/dandrake"
}
```

I've ported this over to 6.9.beta3. It builds, works, and passes doctests, but the documentation doesn't build -- I have doctests with ``\n`` in them, and these are not interpreted by Sphinx correctly, and then it complains about indentation being messed up. Advice for how to fix that welcome.

---
New commits:



---

archive/issue_comments_129087.json:
```json
{
    "body": "Replying to [comment:24 ddrake]:\n> Advice for how to fix that welcome.\n\n\nUse\n\n```\nr\"\"\"\ndocstring\n\"\"\"\n```\ninstead of\n\n```\n\"\"\"\ndocstring\n\"\"\"\n```",
    "created_at": "2015-08-27T13:22:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129087",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:24 ddrake]:
> Advice for how to fix that welcome.


Use

```
r"""
docstring
"""
```
instead of

```
"""
docstring
"""
```



---

archive/issue_comments_129088.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-27T15:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129088",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_129089.json:
```json
{
    "body": "Replying to [comment:25 jdemeyer]:\n> Use\n> \n> ```\n> r\"\"\"\n> docstring\n> \"\"\"\n> ```\n> instead of\n> \n> ```\n> \"\"\"\n> docstring\n> \"\"\"\n> ```\n\n\nThat's it! Thank you.",
    "created_at": "2015-08-27T15:41:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129089",
    "user": "https://github.com/dandrake"
}
```

Replying to [comment:25 jdemeyer]:
> Use
> 
> ```
> r"""
> docstring
> """
> ```
> instead of
> 
> ```
> """
> docstring
> """
> ```


That's it! Thank you.



---

archive/issue_comments_129090.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-27T15:42:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129090",
    "user": "https://github.com/dandrake"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_129091.json:
```json
{
    "body": "Failing doctest\n\n```\nsage -t --long src/sage/misc/sageinspect.py\n**********************************************************************\nFile \"src/sage/misc/sageinspect.py\", line 1959, in sage.misc.sageinspect.sage_getsourcelines\nFailed example:\n    sage_getsourcelines(matrix)[1]\nExpected:\n    732\nGot:\n    867\n**********************************************************************\n1 item had failures:\n   1 of  28 in sage.misc.sageinspect.sage_getsourcelines\n    [284 tests, 1 failure, 28.10 s]\n----------------------------------------------------------------------\nsage -t --long src/sage/misc/sageinspect.py  # 1 doctest failed\n----------------------------------------------------------------------\n```",
    "created_at": "2015-10-21T20:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129091",
    "user": "https://github.com/videlec"
}
```

Failing doctest

```
sage -t --long src/sage/misc/sageinspect.py
**********************************************************************
File "src/sage/misc/sageinspect.py", line 1959, in sage.misc.sageinspect.sage_getsourcelines
Failed example:
    sage_getsourcelines(matrix)[1]
Expected:
    732
Got:
    867
**********************************************************************
1 item had failures:
   1 of  28 in sage.misc.sageinspect.sage_getsourcelines
    [284 tests, 1 failure, 28.10 s]
----------------------------------------------------------------------
sage -t --long src/sage/misc/sageinspect.py  # 1 doctest failed
----------------------------------------------------------------------
```



---

archive/issue_comments_129092.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-21T20:03:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129092",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_129093.json:
```json
{
    "body": "I don't plan to work on this, but if anybody does: it should be on top of #24742.",
    "created_at": "2018-03-01T16:21:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11699",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11699#issuecomment-129093",
    "user": "https://github.com/jdemeyer"
}
```

I don't plan to work on this, but if anybody does: it should be on top of #24742.
