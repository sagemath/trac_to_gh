# Issue 11663: singular files not world-readable

archive/issues_011491.json:
```json
{
    "assignees": [],
    "body": "Similar to #11660, the singular files are not world-readable.\n\nNew spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg)\n\nReported upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/354](http://www.singular.uni-kl.de:8002/trac/ticket/354)\n\nComponent: **packages: standard**\n\nAuthor: **Jeroen Demeyer**\n\nReviewer: **Leif Leonhardy**\n\nUpstream: **Reported upstream. Little or no feedback.**\n\nMerged: **sage-4.7.1.rc2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11663_\n\n",
    "closed_at": "2011-08-10T08:57:53Z",
    "created_at": "2011-08-08T13:50:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "singular files not world-readable",
    "type": "issue",
    "updated_at": "2011-08-10T08:57:53Z",
    "url": "https://github.com/sagemath/sage/issues/11663",
    "user": "https://github.com/jdemeyer"
}
```
Similar to #11660, the singular files are not world-readable.

New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg)

Reported upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/354](http://www.singular.uni-kl.de:8002/trac/ticket/354)

Component: **packages: standard**

Author: **Jeroen Demeyer**

Reviewer: **Leif Leonhardy**

Upstream: **Reported upstream. Little or no feedback.**

Merged: **sage-4.7.1.rc2**

_Issue created by migration from https://trac.sagemath.org/ticket/11663_





---

archive/issue_events_156311.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-08T13:50:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156311"
}
```



---

archive/issue_events_156312.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-08T13:50:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156312"
}
```



---

archive/issue_events_156313.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-08T13:50:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156313"
}
```



---

archive/issue_events_156314.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-08T13:50:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156314"
}
```



---

archive/issue_comments_120185.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nNote that there's already a p10 (#11550), and trivial outstanding changes to that (#11645).",
    "created_at": "2011-08-08T13:59:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120185",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:1" align="right">comment:1</div>

Note that there's already a p10 (#11550), and trivial outstanding changes to that (#11645).



---

archive/issue_comments_120186.json:
```json
{
    "body": "Author: **Jeroen Demeyer**",
    "created_at": "2011-08-08T16:07:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120186",
    "user": "https://github.com/jdemeyer"
}
```

Author: **Jeroen Demeyer**



---

archive/issue_comments_120187.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n-Similar to #11660, the singular files are not world-readable. \n+Similar to #11660, the singular files are not world-readable.\n+\n+New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg)\n``````\n",
    "created_at": "2011-08-08T16:07:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120187",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
-Similar to #11660, the singular files are not world-readable. 
+Similar to #11660, the singular files are not world-readable.
+
+New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg)
``````




---

archive/issue_events_156315.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-08T16:07:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156315"
}
```



---

archive/issue_comments_120188.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2011-08-08T19:12:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120188",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_120189.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**",
    "created_at": "2011-08-08T19:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120189",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**



---

archive/issue_comments_120190.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Similar to #11660, the singular files are not world-readable.\n \n New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg)\n+\n+Reported upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/354](http://www.singular.uni-kl.de:8002/trac/ticket/354)\n``````\n",
    "created_at": "2011-08-08T19:18:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120190",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Similar to #11660, the singular files are not world-readable.
 
 New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg)
+
+Reported upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/354](http://www.singular.uni-kl.de:8002/trac/ticket/354)
``````




---

archive/issue_comments_120191.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWhich (of the installed) files were affected?\n\nI only noticed\n\n```\nlocal/share/singular/singular.hlp\nlocal/share/singular/singular.idx\n```\n(and `local/share/singular/help.cnf`, which currently unintentionally doesn't get installed, cf. #11519 and #5994).\n\nAlso, all (header) files in `local/include/singular` are executable. :)",
    "created_at": "2011-08-08T20:42:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120191",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:5" align="right">comment:5</div>

Which (of the installed) files were affected?

I only noticed

```
local/share/singular/singular.hlp
local/share/singular/singular.idx
```
(and `local/share/singular/help.cnf`, which currently unintentionally doesn't get installed, cf. #11519 and #5994).

Also, all (header) files in `local/include/singular` are executable. :)



---

archive/issue_comments_120192.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nNote that (almost*) all files are installed with some `install` script or program (not consistently making use of `-m ...` though as far as I can see), so changing file permissions in `src/` isn't really appropriate or may not be sufficient.\n\n---\n*There are actually a few (at least one) instances where `cp` is used.",
    "created_at": "2011-08-08T20:52:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120192",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:6" align="right">comment:6</div>

Note that (almost*) all files are installed with some `install` script or program (not consistently making use of `-m ...` though as far as I can see), so changing file permissions in `src/` isn't really appropriate or may not be sufficient.

---
*There are actually a few (at least one) instances where `cp` is used.



---

archive/issue_comments_120193.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@nexttime](#comment:5):\n> I only noticed\n\n\n```\nlocal/share/singular/singular.hlp\nlocal/share/singular/singular.idx\n```\n> (and `local/share/singular/help.cnf`, which currently unintentionally doesn't get installed, cf. #11519 and #5994).\n\nThese two files are actually **copied** by `spkg-install`:\n\n```sh\n\ninstall_docs()\n{\n    cp $SHARED/singular.hlp $SAGE_LOCAL/share/singular/\n    if [ $? -ne 0 ]; then\n        echo \"Error installing documentation while copying singular.hlp\"\n        exit 1\n    fi\n    cp $SHARED/singular.idx $SAGE_LOCAL/share/singular/\n    if [ $? -ne 0 ]; then\n        echo \"Error installing documentation while copying singular.idx\"\n        exit 1\n    fi\n}\n```\nSo it's not really an upstream issue.",
    "created_at": "2011-08-08T21:01:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120193",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@nexttime](#comment:5):
> I only noticed


```
local/share/singular/singular.hlp
local/share/singular/singular.idx
```
> (and `local/share/singular/help.cnf`, which currently unintentionally doesn't get installed, cf. #11519 and #5994).

These two files are actually **copied** by `spkg-install`:

```sh

install_docs()
{
    cp $SHARED/singular.hlp $SAGE_LOCAL/share/singular/
    if [ $? -ne 0 ]; then
        echo "Error installing documentation while copying singular.hlp"
        exit 1
    fi
    cp $SHARED/singular.idx $SAGE_LOCAL/share/singular/
    if [ $? -ne 0 ]; then
        echo "Error installing documentation while copying singular.idx"
        exit 1
    fi
}
```
So it's not really an upstream issue.



---

archive/issue_comments_120194.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nP.S.: The created Singular scripts in `local/bin/` use `$*` instead of `\"$@\"`.",
    "created_at": "2011-08-08T21:02:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120194",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:8" align="right">comment:8</div>

P.S.: The created Singular scripts in `local/bin/` use `$*` instead of `"$@"`.



---

archive/issue_comments_120195.json:
```json
{
    "body": "Reviewer: **Leif Leonhardy**",
    "created_at": "2011-08-08T21:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120195",
    "user": "https://github.com/nexttime"
}
```

Reviewer: **Leif Leonhardy**



---

archive/issue_comments_120196.json:
```json
{
    "body": "Work Issues: **Use `cp -p` in `spkg-install`**",
    "created_at": "2011-08-08T21:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120196",
    "user": "https://github.com/nexttime"
}
```

Work Issues: **Use `cp -p` in `spkg-install`**



---

archive/issue_comments_120197.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis doesn't work (i.e., doesn't solve the issue), since `cp` is required (by POSIX) to respect the `umask` unless `-p` is used (which we don't, see above).\n\nAlso, `janet.{cc,h}` are still executable in the upstream sources, and at least for me all headers still get installed with `-rwxr-xr-x`.\n\nWhile you're at it (`spkg-install`), I think you should also add copying the `help.cnf` file (which is as noted missing in our \"manual\" installations).",
    "created_at": "2011-08-08T21:46:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120197",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:9" align="right">comment:9</div>

This doesn't work (i.e., doesn't solve the issue), since `cp` is required (by POSIX) to respect the `umask` unless `-p` is used (which we don't, see above).

Also, `janet.{cc,h}` are still executable in the upstream sources, and at least for me all headers still get installed with `-rwxr-xr-x`.

While you're at it (`spkg-install`), I think you should also add copying the `help.cnf` file (which is as noted missing in our "manual" installations).



---

archive/issue_events_156316.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-08T21:46:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156316"
}
```



---

archive/issue_events_156317.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-08T21:46:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156317"
}
```



---

archive/issue_comments_120198.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@nexttime](#comment:9):\n> While you're at it (`spkg-install`), I think you should also add copying the `help.cnf` file (which is as noted missing in our \"manual\" installations).\n\nPlease also quote some environment variables (at least there, in `install_docs()`).",
    "created_at": "2011-08-08T21:49:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120198",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@nexttime](#comment:9):
> While you're at it (`spkg-install`), I think you should also add copying the `help.cnf` file (which is as noted missing in our "manual" installations).

Please also quote some environment variables (at least there, in `install_docs()`).



---

archive/issue_comments_120199.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nInstead of using `cp -p`, you could of course also `chmod` them afterwards, or simply change the `umask` before copying.\n\nIn principle, we could (or should?) set the `umask` in `sage-spkg`.",
    "created_at": "2011-08-08T21:53:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120199",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:11" align="right">comment:11</div>

Instead of using `cp -p`, you could of course also `chmod` them afterwards, or simply change the `umask` before copying.

In principle, we could (or should?) set the `umask` in `sage-spkg`.



---

archive/issue_comments_120200.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nActually, the problem with `singular.{hlp,idx}` is not my `umask`, but that the files already existed (and don't get deleted prior to reinstallation), so their permissions didn't get changed.\n\nAnyway, using `cp -p` would solve this.",
    "created_at": "2011-08-08T22:20:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120200",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:12" align="right">comment:12</div>

Actually, the problem with `singular.{hlp,idx}` is not my `umask`, but that the files already existed (and don't get deleted prior to reinstallation), so their permissions didn't get changed.

Anyway, using `cp -p` would solve this.



---

archive/issue_comments_120201.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n Similar to #11660, the singular files are not world-readable.\n \n-New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg)\n+New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg)\n \n Reported upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/354](http://www.singular.uni-kl.de:8002/trac/ticket/354)\n``````\n",
    "created_at": "2011-08-09T07:41:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120201",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 Similar to #11660, the singular files are not world-readable.
 
-New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p10.spkg)
+New spkg: [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg)
 
 Reported upstream: [http://www.singular.uni-kl.de:8002/trac/ticket/354](http://www.singular.uni-kl.de:8002/trac/ticket/354)
``````




---

archive/issue_events_156318.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-09T08:05:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156318"
}
```



---

archive/issue_events_156319.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-09T08:05:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156319"
}
```



---

archive/issue_comments_120202.json:
```json
{
    "body": "Changed work issues from **Use `cp -p` in `spkg-install`** to none",
    "created_at": "2011-08-09T08:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120202",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **Use `cp -p` in `spkg-install`** to none



---

archive/issue_comments_120203.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@nexttime](#comment:7):\n> These two files are actually **copied** by `spkg-install`:\n\nIt is an upstream issue because the files have permission 0600 in the source tree, so they are copied to permission 0600 (both with and without -p).\n\nThe installation of the headers as executable files is an upstream problem.  I have not really pinned it down, but the Singular install scripts are full of `chmod`s.\n\nAnyway, I have a new spkg up at [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg) using `cp -p` for the help files and removing an existing `chmod` hack.  I also made some file non-executable.\n\nI do not want to make further changes here which are unrelated to the ticket.  I agree with some of the points you make, but not for this ticket.",
    "created_at": "2011-08-09T08:05:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120203",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@nexttime](#comment:7):
> These two files are actually **copied** by `spkg-install`:

It is an upstream issue because the files have permission 0600 in the source tree, so they are copied to permission 0600 (both with and without -p).

The installation of the headers as executable files is an upstream problem.  I have not really pinned it down, but the Singular install scripts are full of `chmod`s.

Anyway, I have a new spkg up at [http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/singular-3-1-1-4.p11.spkg) using `cp -p` for the help files and removing an existing `chmod` hack.  I also made some file non-executable.

I do not want to make further changes here which are unrelated to the ticket.  I agree with some of the points you make, but not for this ticket.



---

archive/issue_comments_120204.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHi Jeroen and Leif,\n\nas far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?",
    "created_at": "2011-08-09T12:05:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120204",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:15" align="right">comment:15</div>

Hi Jeroen and Leif,

as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?



---

archive/issue_comments_120205.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@simon-king-jena](#comment:15):\n> as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?\n\nI would yes but only if it does not further delay the 4.7.1 release.  I see no patch for #11645, do you have one?",
    "created_at": "2011-08-09T12:12:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120205",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@simon-king-jena](#comment:15):
> as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?

I would yes but only if it does not further delay the 4.7.1 release.  I see no patch for #11645, do you have one?



---

archive/issue_comments_120206.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@jdemeyer](#comment:16):\n> Replying to [@simon-king-jena](#comment:15):\n> > as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?\n\n> \n> I would yes but only if it does not further delay the 4.7.1 release.  I see no patch for #11645, do you have one?\n\nI've posted the patch upstream (\"plain\" context diff):\n\nhttp://www.singular.uni-kl.de:8002/trac/raw-attachment/ticket/352/singular-trac_352-install_gftables_one_by_one.patch",
    "created_at": "2011-08-09T12:36:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120206",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@jdemeyer](#comment:16):
> Replying to [@simon-king-jena](#comment:15):
> > as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?

> 
> I would yes but only if it does not further delay the 4.7.1 release.  I see no patch for #11645, do you have one?

I've posted the patch upstream ("plain" context diff):

http://www.singular.uni-kl.de:8002/trac/raw-attachment/ticket/352/singular-trac_352-install_gftables_one_by_one.patch



---

archive/issue_comments_120207.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@nexttime](#comment:17):\n> I've posted the patch upstream (\"plain\" context diff):\n> \n> http://www.singular.uni-kl.de:8002/trac/raw-attachment/ticket/352/singular-trac_352-install_gftables_one_by_one.patch\n\nIt's now also over there: [attachment: ticket:11645:trac_11645-install_gftables_one_by_one.patch](https://github.com/sagemath/sage/files/ticket11663/1fd7b3f0c47888f859b074e310780fcc.gz)",
    "created_at": "2011-08-09T12:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120207",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@nexttime](#comment:17):
> I've posted the patch upstream ("plain" context diff):
> 
> http://www.singular.uni-kl.de:8002/trac/raw-attachment/ticket/352/singular-trac_352-install_gftables_one_by_one.patch

It's now also over there: [attachment: ticket:11645:trac_11645-install_gftables_one_by_one.patch](https://github.com/sagemath/sage/files/ticket11663/1fd7b3f0c47888f859b074e310780fcc.gz)



---

archive/issue_comments_120208.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nexttime](#comment:17):\n> Replying to [@jdemeyer](#comment:16):\n> > Replying to [@simon-king-jena](#comment:15):\n> > > as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?\n\n> > \n> > I would yes but only if it does not further delay the 4.7.1 release.  I see no patch for #11645, do you have one?\n\n> \n> I've posted the patch upstream (\"plain\" context diff)...\n\nHowever, I can also quickly provide a new Singular spkg based on Karl-Dieter's (p12 then), based on yours, meanwhile p11. :)\n\nNote also https://github.com/sagemath/sage/issues/11645#comment:16; we already patch `src/Singular/Makefile.in`.",
    "created_at": "2011-08-09T13:01:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120208",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nexttime](#comment:17):
> Replying to [@jdemeyer](#comment:16):
> > Replying to [@simon-king-jena](#comment:15):
> > > as far as I know, only a small change would be needed in the Singular spkg in order to fix #11645. Could that perhaps be included into your singular-3-1-1-4.p11.spkg as well?

> > 
> > I would yes but only if it does not further delay the 4.7.1 release.  I see no patch for #11645, do you have one?

> 
> I've posted the patch upstream ("plain" context diff)...

However, I can also quickly provide a new Singular spkg based on Karl-Dieter's (p12 then), based on yours, meanwhile p11. :)

Note also https://github.com/sagemath/sage/issues/11645#comment:16; we already patch `src/Singular/Makefile.in`.



---

archive/issue_comments_120209.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@nexttime](#comment:19):\n> Replying to [@nexttime](#comment:17):\n> > I've posted the patch upstream (\"plain\" context diff)...\n\n> \n> Note also https://github.com/sagemath/sage/issues/11645#comment:16; we already patch `src/Singular/Makefile.in`.\n\nFWIW, I've attached replacement files for `patches/Singular-Makefile.in` and `patches/Singular-Makefile.in.patch` to #11645, i.e. a cumulative patch to `src/Singular/Makefile.in` and the corresponding pre-patched file (which currently gets copied over into the upstream source tree).\n\nOtherwise **positive review** for the *current* p11, as it now fixes the permissions issue (i.e., files not readable by \"others\"), though I think we should fix this in a more general way. (We'll have to check and probably change the upstream sources again on any upstream upgrade.)\n\nRevert the status to \"needs review\" in case you want to fix #11645 *here*, too (by simply replacing the two files in `patches/` as mentioned above, and of course updating `SPKG.txt`.)",
    "created_at": "2011-08-09T13:58:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120209",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@nexttime](#comment:19):
> Replying to [@nexttime](#comment:17):
> > I've posted the patch upstream ("plain" context diff)...

> 
> Note also https://github.com/sagemath/sage/issues/11645#comment:16; we already patch `src/Singular/Makefile.in`.

FWIW, I've attached replacement files for `patches/Singular-Makefile.in` and `patches/Singular-Makefile.in.patch` to #11645, i.e. a cumulative patch to `src/Singular/Makefile.in` and the corresponding pre-patched file (which currently gets copied over into the upstream source tree).

Otherwise **positive review** for the *current* p11, as it now fixes the permissions issue (i.e., files not readable by "others"), though I think we should fix this in a more general way. (We'll have to check and probably change the upstream sources again on any upstream upgrade.)

Revert the status to "needs review" in case you want to fix #11645 *here*, too (by simply replacing the two files in `patches/` as mentioned above, and of course updating `SPKG.txt`.)



---

archive/issue_events_156320.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-09T13:58:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156320"
}
```



---

archive/issue_events_156321.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-08-09T13:58:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156321"
}
```



---

archive/issue_comments_120210.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI hate to spoil this party, but where was the p10?  Even `SPKG.txt` doesn't mention one.  \n\nNot sure if this means 'needs work', but at least 'needs info'!",
    "created_at": "2011-08-09T14:33:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120210",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

I hate to spoil this party, but where was the p10?  Even `SPKG.txt` doesn't mention one.  

Not sure if this means 'needs work', but at least 'needs info'!



---

archive/issue_events_156322.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-08-09T14:33:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156322"
}
```



---

archive/issue_events_156323.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-08-09T14:33:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156323"
}
```



---

archive/issue_comments_120211.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@kcrisman](#comment:21):\n> I hate to spoil this party, but where was the p10?\n\nSorry, I deleted it (before realizing that somebody might still be interested in it).",
    "created_at": "2011-08-09T17:00:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120211",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@kcrisman](#comment:21):
> I hate to spoil this party, but where was the p10?

Sorry, I deleted it (before realizing that somebody might still be interested in it).



---

archive/issue_events_156324.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-09T17:17:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156324"
}
```



---

archive/issue_events_156325.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-09T17:17:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156325"
}
```



---

archive/issue_events_156326.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-09T17:19:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156326"
}
```



---

archive/issue_events_156327.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-09T17:19:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156327"
}
```



---

archive/issue_comments_120212.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI believe kcrisman's comment should not affect the positive review...",
    "created_at": "2011-08-09T17:19:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120212",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

I believe kcrisman's comment should not affect the positive review...



---

archive/issue_comments_120213.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI have posted a p12 at ticket #11645.",
    "created_at": "2011-08-09T17:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120213",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:25" align="right">comment:25</div>

I have posted a p12 at ticket #11645.



---

archive/issue_comments_120214.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jdemeyer](#comment:24):\n> I believe kcrisman's comment should not affect the positive review...\n\nOkay, then I'll try to make a p13 for #11550.   *Please* someone just give #11645 a positive review and not 'needs work', it is much more tedious for me to update spkgs than for the more technically astute, I'm afraid :(",
    "created_at": "2011-08-09T17:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120214",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jdemeyer](#comment:24):
> I believe kcrisman's comment should not affect the positive review...

Okay, then I'll try to make a p13 for #11550.   *Please* someone just give #11645 a positive review and not 'needs work', it is much more tedious for me to update spkgs than for the more technically astute, I'm afraid :(



---

archive/issue_comments_120215.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nFollowup p13 (based on #11645) at #11550.",
    "created_at": "2011-08-09T18:42:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120215",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:27" align="right">comment:27</div>

Followup p13 (based on #11645) at #11550.



---

archive/issue_comments_120216.json:
```json
{
    "body": "Merged: **sage-4.7.1.rc2**",
    "created_at": "2011-08-10T08:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11663#issuecomment-120216",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.1.rc2**



---

archive/issue_events_156328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-10T08:57:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156328"
}
```



---

archive/issue_events_156329.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-10T08:57:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11663",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11663#event-156329"
}
```
