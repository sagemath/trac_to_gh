# Issue 11350: Fraction fields should know whether they are finite or not.

archive/issues_011178.json:
```json
{
    "body": "If I am not mistaken, a fraction field of an integral domain R is finite if and only if R is finite. Hence, we should not have a `NotImplementedError` but the following:\n\n```\n            sage: Frac(QQ['a','b','c']).is_finite()\n            False\n```\n\nApply:\n\n[attachment:trac_11350-combined.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch)\n\n**Assignee:** @aghitza\n\n**Keywords:** fraction field, is_finite\n\n**Author:** Simon King\n\n**Reviewer:** Robert Bradshaw, Jeroen Demeyer, John Palmieri\n\n**Merged:** sage-4.7.2.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11350\n\n",
    "closed_at": "2011-07-28T10:24:54Z",
    "created_at": "2011-05-19T07:39:36Z",
    "labels": [
        "component: algebra",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "title": "Fraction fields should know whether they are finite or not.",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/11350",
    "user": "https://github.com/simon-king-jena"
}
```
If I am not mistaken, a fraction field of an integral domain R is finite if and only if R is finite. Hence, we should not have a `NotImplementedError` but the following:

```
            sage: Frac(QQ['a','b','c']).is_finite()
            False
```

Apply:

[attachment:trac_11350-combined.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch)

**Assignee:** @aghitza

**Keywords:** fraction field, is_finite

**Author:** Simon King

**Reviewer:** Robert Bradshaw, Jeroen Demeyer, John Palmieri

**Merged:** sage-4.7.2.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/11350





---

archive/attachments_015431.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac11350_fractionfield_is_finite.patch",
    "asset_url": "tarball://root/attachments/ticket11350/trac11350_fractionfield_is_finite.patch",
    "created_at": "2011-05-19T07:40:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch",
    "user": "https://github.com/simon-king-jena"
}
```



---

archive/issue_comments_116566.json:
```json
{
    "body": "**Attachment:** [trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch)\n\nImplement is_finite for fraction fields",
    "created_at": "2011-05-19T07:40:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116566",
    "user": "https://github.com/simon-king-jena"
}
```

**Attachment:** [trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch)

Implement is_finite for fraction fields



---

archive/issue_events_089202.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-05-19T07:41:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89202"
}
```



---

archive/issue_events_089203.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-05-20T15:45:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89203"
}
```



---

archive/issue_events_089204.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-05-20T15:45:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89204"
}
```



---

archive/issue_comments_116567.json:
```json
{
    "body": "**Reviewer:** Robert Bradshaw",
    "created_at": "2011-05-27T07:48:07Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116567",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Robert Bradshaw



---

archive/issue_comments_116568.json:
```json
{
    "body": "<a id='comment:4'></a>\n\n```\nsage -t  -force_lib devel/sage/sage/structure/parent.pyx\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.1.alpha2/devel/sage-main/sage/structure/parent.pyx\", line 1099:\n    sage: F.is_finite()\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError\nGot:\n    False\n**********************************************************************\n```",
    "created_at": "2011-05-31T08:26:49Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116568",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>

```
sage -t  -force_lib devel/sage/sage/structure/parent.pyx
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.1.alpha2/devel/sage-main/sage/structure/parent.pyx", line 1099:
    sage: F.is_finite()
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError
Got:
    False
**********************************************************************
```



---

archive/issue_events_089205.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-31T08:26:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89205"
}
```



---

archive/issue_events_089206.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-31T08:26:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89206"
}
```



---

archive/issue_comments_116569.json:
```json
{
    "body": "<a id='comment:5'></a>\n*ping*",
    "created_at": "2011-06-18T08:58:45Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116569",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
*ping*



---

archive/issue_comments_116570.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [jdemeyer](#comment%3A5):\n> *ping*\n\n\nThanks for pinging. I am now trying to find a good replacement for that test.\n\nThe problem is: We need an object that has a \"list\" method (after all, the comments for the test state that `F.list()` would run forever), and we need one that does not know whether it is finite or not.\n\nSo, we can not use fraction fields, since they know whether they are finite. And we can't use, e.g., quotient rings of multivariate polynomial rings, since they do not support iteration.\n\nDo you have any idea what one could use instead?",
    "created_at": "2011-06-20T07:09:52Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116570",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:6'></a>
Replying to [jdemeyer](#comment%3A5):
> *ping*


Thanks for pinging. I am now trying to find a good replacement for that test.

The problem is: We need an object that has a "list" method (after all, the comments for the test state that `F.list()` would run forever), and we need one that does not know whether it is finite or not.

So, we can not use fraction fields, since they know whether they are finite. And we can't use, e.g., quotient rings of multivariate polynomial rings, since they do not support iteration.

Do you have any idea what one could use instead?



---

archive/issue_comments_116571.json:
```json
{
    "body": "<a id='comment:7'></a>\nI just noticed that there is a typo in `_list_from_iterator_cached`: It says\n\n```\n        try:\n            if not self.is_finite():\n                raise ValueError('since it is infinite, cannot list %s' % self )\n        except AttributeError, NotImplementedError:\n            pass\n```\nbut should of course say\n\n```\n        try:\n            if not self.is_finite():\n                raise ValueError('since it is infinite, cannot list %s' % self )\n        except (AttributeError, NotImplementedError):\n            pass\n```\n\nBut even if I change this, I have a hard time coming up with an example that illustrates `X.list()` running forever.",
    "created_at": "2011-06-20T07:19:58Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116571",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'></a>
I just noticed that there is a typo in `_list_from_iterator_cached`: It says

```
        try:
            if not self.is_finite():
                raise ValueError('since it is infinite, cannot list %s' % self )
        except AttributeError, NotImplementedError:
            pass
```
but should of course say

```
        try:
            if not self.is_finite():
                raise ValueError('since it is infinite, cannot list %s' % self )
        except (AttributeError, NotImplementedError):
            pass
```

But even if I change this, I have a hard time coming up with an example that illustrates `X.list()` running forever.



---

archive/issue_comments_116572.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [SimonKing](#comment%3A6):\n> Replying to [jdemeyer](#comment%3A5):\n> > *ping*\n\n> \n> Thanks for pinging. I am now trying to find a good replacement for that test.\n> \n> The problem is: We need an object that has a \"list\" method (after all, the comments for the test state that `F.list()` would run forever), and we need one that does not know whether it is finite or not.\n\n\nI actually don't quite understand the purpose of the current example in `structure/parent.pyx` because (without the patch) one gets:\n\n```\nsage: R.<t> = QQ[]\nsage: F = FractionField(R)\nsage: list(F)\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n\n/usr/local/src/sage-4.7.1.alpha3/<ipython console> in <module>()\n\n/usr/local/src/sage-4.7.1.alpha3/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.__iter__ (sage/rings/ring.c:1820)()\n\nNotImplementedError: object does not support iteration\nsage: F.list()\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n\n/usr/local/src/sage-4.7.1.alpha3/<ipython console> in <module>()\n\n/usr/local/src/sage-4.7.1.alpha3/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.Parent._list_from_iterator_cached (sage/structure/parent.c:7943)()\n\n/usr/local/src/sage-4.7.1.alpha3/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.is_finite (sage/rings/ring.c:6011)()\n\nNotImplementedError:\n```\n\nSo it seems that even the current test doesn't do what is claimed.",
    "created_at": "2011-06-20T07:36:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116572",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>
Replying to [SimonKing](#comment%3A6):
> Replying to [jdemeyer](#comment%3A5):
> > *ping*

> 
> Thanks for pinging. I am now trying to find a good replacement for that test.
> 
> The problem is: We need an object that has a "list" method (after all, the comments for the test state that `F.list()` would run forever), and we need one that does not know whether it is finite or not.


I actually don't quite understand the purpose of the current example in `structure/parent.pyx` because (without the patch) one gets:

```
sage: R.<t> = QQ[]
sage: F = FractionField(R)
sage: list(F)
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)

/usr/local/src/sage-4.7.1.alpha3/<ipython console> in <module>()

/usr/local/src/sage-4.7.1.alpha3/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.__iter__ (sage/rings/ring.c:1820)()

NotImplementedError: object does not support iteration
sage: F.list()
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)

/usr/local/src/sage-4.7.1.alpha3/<ipython console> in <module>()

/usr/local/src/sage-4.7.1.alpha3/local/lib/python2.6/site-packages/sage/structure/parent.so in sage.structure.parent.Parent._list_from_iterator_cached (sage/structure/parent.c:7943)()

/usr/local/src/sage-4.7.1.alpha3/local/lib/python2.6/site-packages/sage/rings/ring.so in sage.rings.ring.Ring.is_finite (sage/rings/ring.c:6011)()

NotImplementedError:
```

So it seems that even the current test doesn't do what is claimed.



---

archive/issue_comments_116573.json:
```json
{
    "body": "<a id='comment:9'></a>\nSorry Simon, that was exactly your point above :-)",
    "created_at": "2011-06-20T07:46:20Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116573",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Sorry Simon, that was exactly your point above :-)



---

archive/issue_events_089207.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-06-20T07:57:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89207"
}
```



---

archive/issue_events_089208.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-06-20T07:57:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89208"
}
```



---

archive/issue_comments_116574.json:
```json
{
    "body": "<a id='comment:10'></a>\nI have added a second patch.\n\nThe present test actually tests for the *presence* of a bug (namely an object not knowing whether it is finite, although it should know better). In addition, as Jeroen confirms, the test does not do what the comments promise.\n\nTherefore, I removed the test.\n\nIn addition, I fixed the bug mentioned above (the missing brackets aroung `except AttributeError, NotImplementedError:`). I can not give an example of an *iterable* object that does not know whether it is finite. But still, I am able to show that I fixed the bug, because the resulting error message shows that iteration was attempted.\n\nMoreover, I added a note at a more prominent part of the docstring. It says that, even though `X.list()` is often better than `list(X)`, it will often be the case that `for x in X` is better than `for x in X.list()`.\n\nBack to \"needs review\".",
    "created_at": "2011-06-20T07:57:51Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116574",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:10'></a>
I have added a second patch.

The present test actually tests for the *presence* of a bug (namely an object not knowing whether it is finite, although it should know better). In addition, as Jeroen confirms, the test does not do what the comments promise.

Therefore, I removed the test.

In addition, I fixed the bug mentioned above (the missing brackets aroung `except AttributeError, NotImplementedError:`). I can not give an example of an *iterable* object that does not know whether it is finite. But still, I am able to show that I fixed the bug, because the resulting error message shows that iteration was attempted.

Moreover, I added a note at a more prominent part of the docstring. It says that, even though `X.list()` is often better than `list(X)`, it will often be the case that `for x in X` is better than `for x in X.list()`.

Back to "needs review".



---

archive/issue_comments_116575.json:
```json
{
    "body": "<a id='comment:11'></a>\nOutch. So, we now have my second patch an Jeroens patch. What shall we do?",
    "created_at": "2011-06-20T07:59:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116575",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:11'></a>
Outch. So, we now have my second patch an Jeroens patch. What shall we do?



---

archive/attachments_015432.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11350_infinite_list.patch",
    "asset_url": "tarball://root/attachments/ticket11350/11350_infinite_list.patch",
    "created_at": "2011-06-20T08:00:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11350/11350_infinite_list.patch",
    "user": "https://github.com/simon-king-jena"
}
```



---

archive/issue_comments_116576.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Attachment:** [11350_infinite_list.patch](https://github.com/sagemath/sage/files/ticket11350/11350_infinite_list.patch)\n\nJeroen, do we really want \"#define ENABLE_DEBUG_INTERRUPT 1 \", as in your patch?",
    "created_at": "2011-06-20T08:00:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116576",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:12'></a>
**Attachment:** [11350_infinite_list.patch](https://github.com/sagemath/sage/files/ticket11350/11350_infinite_list.patch)

Jeroen, do we really want "#define ENABLE_DEBUG_INTERRUPT 1 ", as in your patch?



---

archive/issue_comments_116577.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [SimonKing](#comment%3A11):\n> Outch. So, we now have my second patch an Jeroens patch. What shall we do?\n  \nRead eachothers patches and extract the best out of both of them.\n\nReplying to [SimonKing](#comment%3A12):\n> Jeroen, do we really want \"#define ENABLE_DEBUG_INTERRUPT 1 \", as in your patch?\n\nNo, that was a mistake.  Fixed now.",
    "created_at": "2011-06-20T08:02:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116577",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
Replying to [SimonKing](#comment%3A11):
> Outch. So, we now have my second patch an Jeroens patch. What shall we do?
  
Read eachothers patches and extract the best out of both of them.

Replying to [SimonKing](#comment%3A12):
> Jeroen, do we really want "#define ENABLE_DEBUG_INTERRUPT 1 ", as in your patch?

No, that was a mistake.  Fixed now.



---

archive/issue_comments_116578.json:
```json
{
    "body": "<a id='comment:14'></a>\nSimon, since you know this stuff better than me, could you make one patch out of our both patches?",
    "created_at": "2011-06-20T08:04:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116578",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Simon, since you know this stuff better than me, could you make one patch out of our both patches?



---

archive/issue_comments_116579.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,9 @@\n             sage: Frac(QQ['a','b','c']).is_finite()\n             False\n ```\n+\n+Apply:\n+\n+[attachment:trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch)\n+\n+[attachment:trac11350_docfix.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch)\n``````\n",
    "created_at": "2011-06-20T08:23:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116579",
    "user": "https://github.com/simon-king-jena"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,9 @@
             sage: Frac(QQ['a','b','c']).is_finite()
             False
 ```
+
+Apply:
+
+[attachment:trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch)
+
+[attachment:trac11350_docfix.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch)
``````




---

archive/issue_comments_116580.json:
```json
{
    "body": "<a id='comment:15'></a>\nI merged Jeroens example into my patch. So:\n\nApply trac11350_fractionfield_is_finite.patch trac11350_docfix.patch",
    "created_at": "2011-06-20T08:23:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116580",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:15'></a>
I merged Jeroens example into my patch. So:

Apply trac11350_fractionfield_is_finite.patch trac11350_docfix.patch



---

archive/issue_comments_116581.json:
```json
{
    "body": "<a id='comment:16'></a>\nPS: I believe that a full doctest run is required for a new review.\n\nAfter all, the second patch does change the code, so that some `NotImplementedError` will be caught where previously it was propagated (although that was a bug). So, it could be that some other tests will fail.",
    "created_at": "2011-06-20T08:29:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116581",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:16'></a>
PS: I believe that a full doctest run is required for a new review.

After all, the second patch does change the code, so that some `NotImplementedError` will be caught where previously it was propagated (although that was a bug). So, it could be that some other tests will fail.



---

archive/issue_comments_116582.json:
```json
{
    "body": "<a id='comment:17'></a>\nI think lines 1100--1101 would better be\n\n```\nor not. ::\n```\ninstead of\n\n```\nor not. \n:: \n```\n\n(perhaps the latter is correct but it looks unusual to me)",
    "created_at": "2011-06-20T09:03:30Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116582",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
I think lines 1100--1101 would better be

```
or not. ::
```
instead of

```
or not. 
:: 
```

(perhaps the latter is correct but it looks unusual to me)



---

archive/issue_comments_116583.json:
```json
{
    "body": "<a id='comment:18'></a>\nAlso, line 1084: I would say \"fixed in #11350\" instead of \"implemented in #11350\".",
    "created_at": "2011-06-20T09:13:58Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116583",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:18'></a>
Also, line 1084: I would say "fixed in #11350" instead of "implemented in #11350".



---

archive/issue_comments_116584.json:
```json
{
    "body": "Remove a test that was testing for the presence of a bug. Fix another bug and test against its absence",
    "created_at": "2011-06-20T09:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116584",
    "user": "https://github.com/simon-king-jena"
}
```

Remove a test that was testing for the presence of a bug. Fix another bug and test against its absence



---

archive/attachments_015433.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac11350_docfix.patch",
    "asset_url": "tarball://root/attachments/ticket11350/trac11350_docfix.patch",
    "created_at": "2011-06-20T10:01:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch",
    "user": "https://github.com/simon-king-jena"
}
```



---

archive/issue_comments_116585.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Attachment:** [trac11350_docfix.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch)\n\nI updated the patch, changing \"implemented in #11350\" into \"fixed in #11350\".\n\nHowever\n\n```\nor not.\n::\n\n    sage: ...\n```\nis correct. The double colon indicates that a code block follows, but it does not appear as a character.\n\nAfter applying the patch, just do\n\n```\nsage: R.<t,p> = QQ[]\nsage: R.list?\n```\nand you'll see that Sage's preprocessing of doc strings does the right thing.",
    "created_at": "2011-06-20T10:01:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116585",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:19'></a>
**Attachment:** [trac11350_docfix.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch)

I updated the patch, changing "implemented in #11350" into "fixed in #11350".

However

```
or not.
::

    sage: ...
```
is correct. The double colon indicates that a code block follows, but it does not appear as a character.

After applying the patch, just do

```
sage: R.<t,p> = QQ[]
sage: R.list?
```
and you'll see that Sage's preprocessing of doc strings does the right thing.



---

archive/issue_comments_116586.json:
```json
{
    "body": "<a id='comment:20'></a>\nActually I was not aware that `or not. ::` is correct as well. I just found:\n\n```\nsage: class A:\n....:     \"\"\"\n....:     test it. ::\n....:         \n....:         sage: bla\n....:         blubb\n....:         \n....:     test the other.\n....:     ::\n....:         \n....:         sage: bla\n....:         blubb\n....:     \"\"\"\n....:     \nsage: A?\nType:\t\tclassobj\nString Form:\t__main__.A\nNamespace:\tInteractive\nFile:\t\t/mnt/local/king/SAGE/sage-4.7.rc2/local/lib/python2.6/site-packages/IPython/FakeModule.py\nDocstring:\n       test it.\n    \n          sage: bla\n          blubb\n    \n       test the other.\n    \n          sage: bla\n          blubb\n```\nSo, both versions are preprocessed correctly.",
    "created_at": "2011-06-20T10:15:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116586",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:20'></a>
Actually I was not aware that `or not. ::` is correct as well. I just found:

```
sage: class A:
....:     """
....:     test it. ::
....:         
....:         sage: bla
....:         blubb
....:         
....:     test the other.
....:     ::
....:         
....:         sage: bla
....:         blubb
....:     """
....:     
sage: A?
Type:		classobj
String Form:	__main__.A
Namespace:	Interactive
File:		/mnt/local/king/SAGE/sage-4.7.rc2/local/lib/python2.6/site-packages/IPython/FakeModule.py
Docstring:
       test it.
    
          sage: bla
          blubb
    
       test the other.
    
          sage: bla
          blubb
```
So, both versions are preprocessed correctly.



---

archive/issue_comments_116587.json:
```json
{
    "body": "<a id='comment:21'></a>\nAnd FWIW: The long doctests pass.",
    "created_at": "2011-06-20T10:15:42Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116587",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:21'></a>
And FWIW: The long doctests pass.



---

archive/issue_comments_116588.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,6 +7,4 @@\n \n Apply:\n \n-[attachment:trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch)\n-\n-[attachment:trac11350_docfix.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch)\n+[attachment:trac_11350-combined.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch)\n``````\n",
    "created_at": "2011-07-17T02:04:44Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116588",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,6 +7,4 @@
 
 Apply:
 
-[attachment:trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch)
-
-[attachment:trac11350_docfix.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_docfix.patch)
+[attachment:trac_11350-combined.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch)
``````




---

archive/issue_comments_116589.json:
```json
{
    "body": "<a id='comment:22'></a>\nI'm basically happy with the patches here, except for some wording and formatting in the docstrings.  I'm attaching a combined version of the two patches, along with \"delta\" patches for each so you can see what I changed.  If you're happy with my changes, please give the ticket a positive review.\n\n(Basically: in [attachment:trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch), I changed the \"NOTE\" to an actual \".. note::\" markup, and I reworded the note a bit.  In the other attachment, I reworded things a bit also.  Since the docstring there is not actually in the reference manual, since the method starts with an underscore, I didn't bother putting in the \".. note::\" markup.  If you feel like doing that, go ahead.)",
    "created_at": "2011-07-17T02:04:44Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116589",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:22'></a>
I'm basically happy with the patches here, except for some wording and formatting in the docstrings.  I'm attaching a combined version of the two patches, along with "delta" patches for each so you can see what I changed.  If you're happy with my changes, please give the ticket a positive review.

(Basically: in [attachment:trac11350_fractionfield_is_finite.patch](https://github.com/sagemath/sage/files/ticket11350/trac11350_fractionfield_is_finite.patch), I changed the "NOTE" to an actual ".. note::" markup, and I reworded the note a bit.  In the other attachment, I reworded things a bit also.  Since the docstring there is not actually in the reference manual, since the method starts with an underscore, I didn't bother putting in the ".. note::" markup.  If you feel like doing that, go ahead.)



---

archive/issue_comments_116590.json:
```json
{
    "body": "**Changing reviewer** from \"Robert Bradshaw\" to \"Robert Bradshaw, Jeroen Demeyer, John Palmieri\".",
    "created_at": "2011-07-17T02:04:44Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116590",
    "user": "https://github.com/jhpalmieri"
}
```

**Changing reviewer** from "Robert Bradshaw" to "Robert Bradshaw, Jeroen Demeyer, John Palmieri".



---

archive/attachments_015434.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11350-fractionfield-delta.patch",
    "asset_url": "tarball://root/attachments/ticket11350/trac_11350-fractionfield-delta.patch",
    "created_at": "2011-07-17T02:05:21Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11350/trac_11350-fractionfield-delta.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_116591.json:
```json
{
    "body": "**Attachment:** [trac_11350-fractionfield-delta.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-fractionfield-delta.patch)\n\nfor review only; do not apply",
    "created_at": "2011-07-17T02:05:21Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116591",
    "user": "https://github.com/jhpalmieri"
}
```

**Attachment:** [trac_11350-fractionfield-delta.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-fractionfield-delta.patch)

for review only; do not apply



---

archive/attachments_015435.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11350-doctest-delta.patch",
    "asset_url": "tarball://root/attachments/ticket11350/trac_11350-doctest-delta.patch",
    "created_at": "2011-07-17T02:05:31Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11350/trac_11350-doctest-delta.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_116592.json:
```json
{
    "body": "**Attachment:** [trac_11350-doctest-delta.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-doctest-delta.patch)\n\nfor review only; do not apply",
    "created_at": "2011-07-17T02:05:31Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116592",
    "user": "https://github.com/jhpalmieri"
}
```

**Attachment:** [trac_11350-doctest-delta.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-doctest-delta.patch)

for review only; do not apply



---

archive/attachments_015436.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11350-combined.patch",
    "asset_url": "tarball://root/attachments/ticket11350/trac_11350-combined.patch",
    "created_at": "2011-07-18T14:21:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch",
    "user": "https://github.com/robertwb"
}
```



---

archive/issue_comments_116593.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Attachment:** [trac_11350-combined.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch)\n\nI'm fine with the changes.",
    "created_at": "2011-07-18T14:21:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116593",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:23'></a>
**Attachment:** [trac_11350-combined.patch](https://github.com/sagemath/sage/files/ticket11350/trac_11350-combined.patch)

I'm fine with the changes.



---

archive/issue_comments_116594.json:
```json
{
    "body": "<a id='comment:24'></a>\nFine to me as well - unless there is a difference between `.. NOTE::` (as in the combined patch) and `.. note::` (which was intended to be used according to John's post above).\n\nSo, I take it as a positive review, then, unless someone has a veto because of upper versus lower case note...",
    "created_at": "2011-07-18T14:32:46Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116594",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:24'></a>
Fine to me as well - unless there is a difference between `.. NOTE::` (as in the combined patch) and `.. note::` (which was intended to be used according to John's post above).

So, I take it as a positive review, then, unless someone has a veto because of upper versus lower case note...



---

archive/issue_events_089209.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-07-18T14:32:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89209"
}
```



---

archive/issue_events_089210.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-07-18T14:32:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89210"
}
```



---

archive/issue_comments_116595.json:
```json
{
    "body": "<a id='comment:25'></a>\nBoth upper and lower case work: they're interchangeable.  Someone has even expressed the opinion that we should use use the upper-case ones in the Sage documentation, although I personally don't feel very strongly about it.  (See the [developer's guide](http://sagemath.org/doc/developer/conventions.html#docstring-markup-with-rest-and-sphinx) and search for \"notes block\".)",
    "created_at": "2011-07-18T16:22:55Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116595",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:25'></a>
Both upper and lower case work: they're interchangeable.  Someone has even expressed the opinion that we should use use the upper-case ones in the Sage documentation, although I personally don't feel very strongly about it.  (See the [developer's guide](http://sagemath.org/doc/developer/conventions.html#docstring-markup-with-rest-and-sphinx) and search for "notes block".)



---

archive/issue_events_089211.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-19T10:15:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89211"
}
```



---

archive/issue_events_089212.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-19T10:15:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89212"
}
```



---

archive/issue_events_089213.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-28T10:24:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89213"
}
```



---

archive/issue_events_089214.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-28T10:24:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11350#event-89214"
}
```



---

archive/issue_comments_116596.json:
```json
{
    "body": "**Merged:** sage-4.7.2.alpha1",
    "created_at": "2011-07-28T10:24:54Z",
    "issue": "https://github.com/sagemath/sage/issues/11350",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11350#issuecomment-116596",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.2.alpha1
