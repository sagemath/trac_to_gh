# Issue 11343: Disallow @ symbol in username because of TinyMCE problems

archive/issues_011171.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout",
        "https://github.com/qed777",
        "https://github.com/williamstein"
    ],
    "body": "Please see below for what TinyMCE cells look like if you have an `@` in your username.  This is since at least 4.6, see [this thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/f0ceaa24700f4059).\n\nI'm making this critical, because it removes major piece of functionality.  At the **very least**, we'll need to change the login page to remove the @ availability!!!\n\nRe-enabling this is #11470.\n\n---\n\nFrom #8995, a dup of this: \n\n\nSee the thread by Dennis Watson here:\n\nhttp://groups.google.com/group/sage-support/browse_frm/thread/2acd499a566efce1\n\nIn particular, some tinymce javascript files were trying to download from a URL that included the username, like:\n\nhttp://sagenb.org/home/usernamewith@/javascript/tiny_mce/langs/en.js\n\n---\n\n**Apply** [attachment: trac_11343-fix_at_symbol.patch](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz) to the SAGENB repository.\n\nCC:  @jasongrout @boothby @williamstein @qed777 @dandrake @ppurka\n\nKeywords: **notebook, tinymce, at, sd31**\n\nComponent: **notebook**\n\nAuthor: **Karl-Dieter Crisman**\n\nReviewer: **Jeroen Demeyer**\n\nUpstream: **Reported upstream. Little or no feedback.**\n\nMerged: **sage-4.7.2.rc0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11343_\n\n",
    "closed_at": "2011-10-16T15:38:08Z",
    "created_at": "2011-05-17T15:35:54Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Disallow @ symbol in username because of TinyMCE problems",
    "type": "issue",
    "updated_at": "2011-10-16T15:38:08Z",
    "url": "https://github.com/sagemath/sage/issues/11343",
    "user": "https://github.com/kcrisman"
}
```
Please see below for what TinyMCE cells look like if you have an `@` in your username.  This is since at least 4.6, see [this thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/f0ceaa24700f4059).

I'm making this critical, because it removes major piece of functionality.  At the **very least**, we'll need to change the login page to remove the @ availability!!!

Re-enabling this is #11470.

---

From #8995, a dup of this: 


See the thread by Dennis Watson here:

http://groups.google.com/group/sage-support/browse_frm/thread/2acd499a566efce1

In particular, some tinymce javascript files were trying to download from a URL that included the username, like:

http://sagenb.org/home/usernamewith@/javascript/tiny_mce/langs/en.js

---

**Apply** [attachment: trac_11343-fix_at_symbol.patch](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz) to the SAGENB repository.

CC:  @jasongrout @boothby @williamstein @qed777 @dandrake @ppurka

Keywords: **notebook, tinymce, at, sd31**

Component: **notebook**

Author: **Karl-Dieter Crisman**

Reviewer: **Jeroen Demeyer**

Upstream: **Reported upstream. Little or no feedback.**

Merged: **sage-4.7.2.rc0**

_Issue created by migration from https://trac.sagemath.org/ticket/11343_





---

archive/issue_events_149210.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149210"
}
```



---

archive/issue_events_149211.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149211"
}
```



---

archive/issue_events_149212.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149212"
}
```



---

archive/issue_events_149213.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149213"
}
```



---

archive/issue_events_149214.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149214"
}
```



---

archive/issue_events_149215.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149215"
}
```



---

archive/issue_events_149216.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-05-17T15:35:54Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "subject": "https://github.com/kcrisman",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149216"
}
```



---

archive/issue_comments_114337.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[sageproblem.JPG](https://github.com/sagemath/sage/files/ticket11343/sageproblem.JPG)**\n\nThis is also apparently known elsewhere - see more of the same thread.  Changing the upstream designation; hopefully a little more digging will find a workaround.",
    "created_at": "2011-05-18T02:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114337",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[sageproblem.JPG](https://github.com/sagemath/sage/files/ticket11343/sageproblem.JPG)**

This is also apparently known elsewhere - see more of the same thread.  Changing the upstream designation; hopefully a little more digging will find a workaround.



---

archive/issue_comments_114338.json:
```json
{
    "body": "Upstream: **Not yet reported upstream; Will do shortly.**",
    "created_at": "2011-05-18T02:26:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114338",
    "user": "https://github.com/kcrisman"
}
```

Upstream: **Not yet reported upstream; Will do shortly.**



---

archive/issue_comments_114339.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nOkay, here is where one would have to at least change this - `sagenb/data/sage/html/accounts/registration.html`.  The other place is in `twist.py`.",
    "created_at": "2011-06-13T18:56:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114339",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

Okay, here is where one would have to at least change this - `sagenb/data/sage/html/accounts/registration.html`.  The other place is in `twist.py`.



---

archive/issue_comments_114340.json:
```json
{
    "body": "Changed keywords from **notebook, tinymce, at** to **notebook, tinymce, at, sd31**",
    "created_at": "2011-06-14T00:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114340",
    "user": "https://github.com/kcrisman"
}
```

Changed keywords from **notebook, tinymce, at** to **notebook, tinymce, at, sd31**



---

archive/issue_comments_114341.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOkay, I've got this temporarily disabled.    Re-enabling this is #11470.\n\nPlease test whether this breaks existing usernames with @!!!",
    "created_at": "2011-06-14T00:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114341",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

Okay, I've got this temporarily disabled.    Re-enabling this is #11470.

Please test whether this breaks existing usernames with @!!!



---

archive/issue_events_149217.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-14T00:01:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149217"
}
```



---

archive/issue_comments_114342.json:
```json
{
    "body": "Attachment: **[trac_11343-fix_at_symbol.patch.gz](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz)**",
    "created_at": "2011-06-14T00:01:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114342",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[trac_11343-fix_at_symbol.patch.gz](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz)**



---

archive/issue_comments_114343.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**",
    "created_at": "2011-06-16T23:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114343",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**



---

archive/issue_comments_114344.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis is reported upstream at [this link](http://code.google.com/p/sagenb/issues/detail?id=26).",
    "created_at": "2011-06-16T23:03:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114344",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">comment:4</div>

This is reported upstream at [this link](http://code.google.com/p/sagenb/issues/detail?id=26).



---

archive/issue_comments_114345.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nConfirmed for flask as well, at least at demo2.sagenb.org or sagenb.org (I tried both)\n\n```\nhttp://demo2.sagenb.org/home/b%40b/0/\n```\nis the name but it still causes problems.   You can try this with password 'abc123'.  Note that the user name at the top (next to Toggle) is still `b@b`.",
    "created_at": "2011-06-23T03:26:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114345",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

Confirmed for flask as well, at least at demo2.sagenb.org or sagenb.org (I tried both)

```
http://demo2.sagenb.org/home/b%40b/0/
```
is the name but it still causes problems.   You can try this with password 'abc123'.  Note that the user name at the top (next to Toggle) is still `b@b`.



---

archive/issue_comments_114346.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nWhat's the status of this?  If the Flask notebook isn't going to be done soon, this should really have been in 4.7.1 :( especially as people upgrade their servers.",
    "created_at": "2011-08-18T01:47:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114346",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">comment:6</div>

What's the status of this?  If the Flask notebook isn't going to be done soon, this should really have been in 4.7.1 :( especially as people upgrade their servers.



---

archive/issue_comments_114347.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAt the very least, we should take \"@\" out of the explicitly-listed good characters for notebook names on the registration page!",
    "created_at": "2011-08-18T02:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114347",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">comment:7</div>

At the very least, we should take "@" out of the explicitly-listed good characters for notebook names on the registration page!



---

archive/issue_comments_114348.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jasongrout](#comment:7):\n> At the very least, we should take \"@\" out of the explicitly-listed good characters for notebook names on the registration page!\n\nWhich is what my patch does!!!",
    "created_at": "2011-08-18T12:09:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114348",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jasongrout](#comment:7):
> At the very least, we should take "@" out of the explicitly-listed good characters for notebook names on the registration page!

Which is what my patch does!!!



---

archive/issue_comments_114349.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nAh, I see I just volunteered to review this :)",
    "created_at": "2011-08-18T17:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114349",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">comment:9</div>

Ah, I see I just volunteered to review this :)



---

archive/issue_comments_114350.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\na) cannot repeat this with rkirov's flask version of nb and twisted-11 installed.\n\nb) this is a duplicate of #8995\n\nIMHO this should not be fixed. Let's do the upgrades instead!",
    "created_at": "2011-09-29T04:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114350",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:10" align="right">comment:10</div>

a) cannot repeat this with rkirov's flask version of nb and twisted-11 installed.

b) this is a duplicate of #8995

IMHO this should not be fixed. Let's do the upgrades instead!



---

archive/issue_events_149218.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-09-29T04:34:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149218"
}
```



---

archive/issue_events_149219.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-09-29T04:34:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149219"
}
```



---

archive/issue_comments_114351.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFair enough, but WHEN will the upgrades happen? We really should not be releasing \"real\" releases of Sage that admins are using for nb servers without fixing at least the documentation.   I don't know what the current status is.  I don't think that the documentation fix was merged in sagenb, despite a number of pesters.  \n\nIs there a specific server I can test this on, Dima?   If there is a sense that flask will be merged soon AND this fixes it, great.    If not...  \n\nAlso, did you try it with several browsers?  I don't think it's browser-dependent but it's worth checking.\n\nI'm going to mark #8995 as the dup, just because this has more discussion and a patch, though I don't know if it still applies to sagenb.",
    "created_at": "2011-09-29T13:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114351",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:11" align="right">comment:11</div>

Fair enough, but WHEN will the upgrades happen? We really should not be releasing "real" releases of Sage that admins are using for nb servers without fixing at least the documentation.   I don't know what the current status is.  I don't think that the documentation fix was merged in sagenb, despite a number of pesters.  

Is there a specific server I can test this on, Dima?   If there is a sense that flask will be merged soon AND this fixes it, great.    If not...  

Also, did you try it with several browsers?  I don't think it's browser-dependent but it's worth checking.

I'm going to mark #8995 as the dup, just because this has more discussion and a patch, though I don't know if it still applies to sagenb.



---

archive/issue_comments_114352.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,15 @@\n Please see below for what TinyMCE cells look like if you have an `@` in your username.  This is since at least 4.6, see [this thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/f0ceaa24700f4059).\n \n I'm making this critical, because it removes major piece of functionality.  At the **very least**, we'll need to change the login page to remove the @ availability!!!\n+\n+From #8995, a dup of this: \n+\n+\n+See the thread by Dennis Watson here:\n+\n+http://groups.google.com/group/sage-support/browse_frm/thread/2acd499a566efce1\n+\n+In particular, some tinymce javascript files were trying to download from a URL that included the username, like:\n+\n+http://sagenb.org/home/usernamewith@/javascript/tiny_mce/langs/en.js\n+\n``````\n",
    "created_at": "2011-09-29T13:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114352",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,15 @@
 Please see below for what TinyMCE cells look like if you have an `@` in your username.  This is since at least 4.6, see [this thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/f0ceaa24700f4059).
 
 I'm making this critical, because it removes major piece of functionality.  At the **very least**, we'll need to change the login page to remove the @ availability!!!
+
+From #8995, a dup of this: 
+
+
+See the thread by Dennis Watson here:
+
+http://groups.google.com/group/sage-support/browse_frm/thread/2acd499a566efce1
+
+In particular, some tinymce javascript files were trying to download from a URL that included the username, like:
+
+http://sagenb.org/home/usernamewith@/javascript/tiny_mce/langs/en.js
+
``````




---

archive/issue_comments_114353.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kcrisman](#comment:11):\n> Fair enough, but WHEN will the upgrades happen? We really should not be releasing \"real\" releases of Sage that admins are using for nb servers without fixing at least the documentation.   I don't know what the current status is.  I don't think that the documentation fix was merged in sagenb, despite a number of pesters.  \n> \n> Is there a specific server I can test this on, Dima?   If there is a sense that flask will be merged soon AND this fixes it, great.    If not...  \n\nI'm looking into it now. You can try meanwhile using test.sagenb.org, which runs twisted 11.\nI'll open a ticket for upgrading twisted to version 11 real soon...\nThe initial spkg and a patch to have it running on Rado's flack notebook is already on \nhttp://boxen.math.washington.edu/home/dima/packages/\nand\nhttp://boxen.math.washington.edu/home/dima/patches/\n\n> \n> Also, did you try it with several browsers?  I don't think it's browser-dependent but it's worth checking.\n\nno, I didn't. \n\n> \n> I'm going to mark #8995 as the dup, just because this has more discussion and a patch, though I don't know if it still applies to sagenb.",
    "created_at": "2011-09-29T13:21:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114353",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kcrisman](#comment:11):
> Fair enough, but WHEN will the upgrades happen? We really should not be releasing "real" releases of Sage that admins are using for nb servers without fixing at least the documentation.   I don't know what the current status is.  I don't think that the documentation fix was merged in sagenb, despite a number of pesters.  
> 
> Is there a specific server I can test this on, Dima?   If there is a sense that flask will be merged soon AND this fixes it, great.    If not...  

I'm looking into it now. You can try meanwhile using test.sagenb.org, which runs twisted 11.
I'll open a ticket for upgrading twisted to version 11 real soon...
The initial spkg and a patch to have it running on Rado's flack notebook is already on 
http://boxen.math.washington.edu/home/dima/packages/
and
http://boxen.math.washington.edu/home/dima/patches/

> 
> Also, did you try it with several browsers?  I don't think it's browser-dependent but it's worth checking.

no, I didn't. 

> 
> I'm going to mark #8995 as the dup, just because this has more discussion and a patch, though I don't know if it still applies to sagenb.



---

archive/issue_events_149220.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-09-29T13:28:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149220"
}
```



---

archive/issue_events_149221.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-09-29T13:28:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149221"
}
```



---

archive/issue_comments_114354.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nSame problem.   See attached screenshot.  You can check this out with username `abc@abc` with password `123123`.",
    "created_at": "2011-09-29T13:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114354",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

Same problem.   See attached screenshot.  You can check this out with username `abc@abc` with password `123123`.



---

archive/issue_comments_114355.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[test.sagenb-failure.png](https://github.com/sagemath/sage/files/ticket11343/test.sagenb-failure.png)**\n\nI'm making this a blocker for 4.7.2.  This is totally unacceptable that we do not at least change the login screen to avoid `@` until this is fixed.  Sorry, Leif :)",
    "created_at": "2011-09-29T13:30:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114355",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[test.sagenb-failure.png](https://github.com/sagemath/sage/files/ticket11343/test.sagenb-failure.png)**

I'm making this a blocker for 4.7.2.  This is totally unacceptable that we do not at least change the login screen to avoid `@` until this is fixed.  Sorry, Leif :)



---

archive/issue_events_149222.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-09-29T13:30:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149222"
}
```



---

archive/issue_events_149223.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-09-29T13:30:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149223"
}
```



---

archive/issue_comments_114356.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@kcrisman](#comment:14):\n> Same problem.   See attached screenshot.  You can check this out with username `abc@abc` with password `123123`.\n\nI tried with stock  Firefox, and Chrome on MacOSX 10.6.8...\nI cannot reproduce it; please state the browser, OS, (and medication ;-))  you are on.\n\nI can reproduce it with the stock Safari on the said platform (this also is not working with the updated version of tiny-mce, locally). \n\nOh well, we all but banned IE from using the nb, we should ban other closed-source browsers. I seldom use Safari nowadays. Safari sucks. So is IE. Don't use them for serious business.",
    "created_at": "2011-09-29T14:22:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114356",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@kcrisman](#comment:14):
> Same problem.   See attached screenshot.  You can check this out with username `abc@abc` with password `123123`.

I tried with stock  Firefox, and Chrome on MacOSX 10.6.8...
I cannot reproduce it; please state the browser, OS, (and medication ;-))  you are on.

I can reproduce it with the stock Safari on the said platform (this also is not working with the updated version of tiny-mce, locally). 

Oh well, we all but banned IE from using the nb, we should ban other closed-source browsers. I seldom use Safari nowadays. Safari sucks. So is IE. Don't use them for serious business.



---

archive/issue_events_149224.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-09-29T14:22:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149224"
}
```



---

archive/issue_events_149225.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-09-29T14:22:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149225"
}
```



---

archive/issue_comments_114357.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n> > Same problem.   See attached screenshot.  You can check this out with username `abc@abc` with password `123123`.\n\n> \n> I tried with stock  Firefox, and Chrome on MacOSX 10.6.8...\n> I cannot reproduce it; please state the browser, OS, (and medication ;-))  you are on.\n> \n> I can reproduce it with the stock Safari on the said platform (this also is not working with the updated version of tiny-mce, locally). \n\nOkay, fair enough.  Hmm, I thought I had seen it on FF.  Checking...\n\n> Oh well, we all but banned IE from using the nb, we should ban other closed-source browsers. I seldom use Safari nowadays. Safari sucks. So is IE. Don't use them for serious business.\n\nWell, it does load significantly faster (for me), and is standards-compliant enough for me.  What about Opera?    \n\nAlso, I think it is unreasonable to ban these both longterm.   This ticket isn't for old hands, it's so that new users don't think Sage sucks.  Even with IE (where I agree with you), most of the world is using it, still, and we don't want people to not use Sage because they don't want to download a new browser or whatever.  \n\nAnyway, we need to do *something* with this issue.    If we aren't merging flask, or whatever fixed this in FF, in 4.7.2, then this should still be fixed for now.  See #11470 for the followup once we do.",
    "created_at": "2011-09-29T15:50:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114357",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

> > Same problem.   See attached screenshot.  You can check this out with username `abc@abc` with password `123123`.

> 
> I tried with stock  Firefox, and Chrome on MacOSX 10.6.8...
> I cannot reproduce it; please state the browser, OS, (and medication ;-))  you are on.
> 
> I can reproduce it with the stock Safari on the said platform (this also is not working with the updated version of tiny-mce, locally). 

Okay, fair enough.  Hmm, I thought I had seen it on FF.  Checking...

> Oh well, we all but banned IE from using the nb, we should ban other closed-source browsers. I seldom use Safari nowadays. Safari sucks. So is IE. Don't use them for serious business.

Well, it does load significantly faster (for me), and is standards-compliant enough for me.  What about Opera?    

Also, I think it is unreasonable to ban these both longterm.   This ticket isn't for old hands, it's so that new users don't think Sage sucks.  Even with IE (where I agree with you), most of the world is using it, still, and we don't want people to not use Sage because they don't want to download a new browser or whatever.  

Anyway, we need to do *something* with this issue.    If we aren't merging flask, or whatever fixed this in FF, in 4.7.2, then this should still be fixed for now.  See #11470 for the followup once we do.



---

archive/issue_comments_114358.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nBasu, care to try this on Opera?",
    "created_at": "2011-09-29T16:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114358",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:18" align="right">comment:18</div>

Basu, care to try this on Opera?



---

archive/issue_comments_114359.json:
```json
{
    "body": "Works fine in opera-11.51 even without the patch. (sage-4.7.0)",
    "created_at": "2011-09-29T16:44:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114359",
    "user": "https://github.com/ppurka"
}
```

Works fine in opera-11.51 even without the patch. (sage-4.7.0)



---

archive/issue_comments_114360.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAttachment: **[works_fine_without_patch_opera-11.51.png](https://github.com/sagemath/sage/files/ticket11343/works_fine_without_patch_opera-11.51.png)**\n\nReplying to [@dimpase](#comment:18):\n> Basu, care to try this on Opera?\n\nIt works fine in opera even without the patch. But @ should not have been allowed in usernames anyway because of this message that I got while creating the username:\n\n*The username must start with a letter and be between 4 and 32 characters long. It can only consist of letters, numbers, underscores, and one dot (.).*",
    "created_at": "2011-09-29T16:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114360",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:19" align="right">comment:19</div>

Attachment: **[works_fine_without_patch_opera-11.51.png](https://github.com/sagemath/sage/files/ticket11343/works_fine_without_patch_opera-11.51.png)**

Replying to [@dimpase](#comment:18):
> Basu, care to try this on Opera?

It works fine in opera even without the patch. But @ should not have been allowed in usernames anyway because of this message that I got while creating the username:

*The username must start with a letter and be between 4 and 32 characters long. It can only consist of letters, numbers, underscores, and one dot (.).*



---

archive/issue_comments_114361.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@ppurka](#comment:19):\n> Replying to [@dimpase](#comment:18):\n> > Basu, care to try this on Opera?\n\n> \n> It works fine in opera even without the patch. But @ should not have been allowed in usernames anyway because of this message that I got while creating the username:\n> \n> *The username must start with a letter and be between 4 and 32 characters long. It can only consist of letters, numbers, underscores, and one dot (.).*\n\nSorry, I am not thinking straight today. I forgot that I am running rkirov-flask on the local installation (installed in $HOME). I tried the system installation also (installed in /) which is sage-4.7.1 and it is using the old notebook and the tiny-mce part works fine. (I tested it from the admin account since I am unable to login as any user, even admin, from the sign-in page. This is a separate issue and is unrelated to this bug.)",
    "created_at": "2011-09-29T17:23:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114361",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@ppurka](#comment:19):
> Replying to [@dimpase](#comment:18):
> > Basu, care to try this on Opera?

> 
> It works fine in opera even without the patch. But @ should not have been allowed in usernames anyway because of this message that I got while creating the username:
> 
> *The username must start with a letter and be between 4 and 32 characters long. It can only consist of letters, numbers, underscores, and one dot (.).*

Sorry, I am not thinking straight today. I forgot that I am running rkirov-flask on the local installation (installed in $HOME). I tried the system installation also (installed in /) which is sage-4.7.1 and it is using the old notebook and the tiny-mce part works fine. (I tested it from the admin account since I am unable to login as any user, even admin, from the sign-in page. This is a separate issue and is unrelated to this bug.)



---

archive/issue_comments_114362.json:
```json
{
    "body": "Attachment: **[opera-11.51_sage-4.7.1_does_not_work.png](https://github.com/sagemath/sage/files/ticket11343/opera-11.51_sage-4.7.1_does_not_work.png)**\n\nNeglect the previous *opera*.png. This is on a fresh .sagenb directory (sage-4.7.1)",
    "created_at": "2011-09-29T17:54:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114362",
    "user": "https://github.com/ppurka"
}
```

Attachment: **[opera-11.51_sage-4.7.1_does_not_work.png](https://github.com/sagemath/sage/files/ticket11343/opera-11.51_sage-4.7.1_does_not_work.png)**

Neglect the previous *opera*.png. This is on a fresh .sagenb directory (sage-4.7.1)



---

archive/issue_comments_114363.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI created a fresh /tmp/a.sagenb directory and ran sage -n on that directory. The bug is there in opera-11.51 with sage-4.7.1, amd64 Gentoo Linux. Sorry for all the noise I created earlier.\n\nI believe my ~/.sage directory was being written to by both sage-4.7 (with rkirov-flask notebook) and sage-4.7.1 (with old notebook) and so I wasn't seeing this bug earlier.",
    "created_at": "2011-09-29T17:58:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114363",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:21" align="right">comment:21</div>

I created a fresh /tmp/a.sagenb directory and ran sage -n on that directory. The bug is there in opera-11.51 with sage-4.7.1, amd64 Gentoo Linux. Sorry for all the noise I created earlier.

I believe my ~/.sage directory was being written to by both sage-4.7 (with rkirov-flask notebook) and sage-4.7.1 (with old notebook) and so I wasn't seeing this bug earlier.



---

archive/issue_comments_114364.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReplying to [@ppurka](#comment:21):\n> I created a fresh /tmp/a.sagenb directory and ran sage -n on that directory. The bug is there in opera-11.51 with sage-4.7.1, amd64 Gentoo Linux. Sorry for all the noise I created earlier.\n> \n> I believe my ~/.sage directory was being written to by both sage-4.7 (with rkirov-flask notebook) and sage-4.7.1 (with old notebook) and so I wasn't seeing this bug earlier.\n\nI cannot reproduce this on Opera 11.51, Build 1087, on Mac OS X 10.6.8 on flack notebook with the new tiny_mce 3.4.5.\nCould you please try getting the tiny_mce upgrade from here:\nhttp://boxen.math.washington.edu/home/dima/packages/tiny_mce-3.4.5.tar.bz\nreplace your `SAGE_ROOT/devel/....../sagenb/data/tiny_mce/` with the contents of this\narchive, and try again?",
    "created_at": "2011-09-30T10:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114364",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:22" align="right">comment:22</div>

Replying to [@ppurka](#comment:21):
> I created a fresh /tmp/a.sagenb directory and ran sage -n on that directory. The bug is there in opera-11.51 with sage-4.7.1, amd64 Gentoo Linux. Sorry for all the noise I created earlier.
> 
> I believe my ~/.sage directory was being written to by both sage-4.7 (with rkirov-flask notebook) and sage-4.7.1 (with old notebook) and so I wasn't seeing this bug earlier.

I cannot reproduce this on Opera 11.51, Build 1087, on Mac OS X 10.6.8 on flack notebook with the new tiny_mce 3.4.5.
Could you please try getting the tiny_mce upgrade from here:
http://boxen.math.washington.edu/home/dima/packages/tiny_mce-3.4.5.tar.bz
replace your `SAGE_ROOT/devel/....../sagenb/data/tiny_mce/` with the contents of this
archive, and try again?



---

archive/issue_comments_114365.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nIn gist, here is the current status of when it works: it works with flask notebook, irrespective of tiny-mce version.\n\n\n* sage-4.7.0 + flask nb + tiny-mce (old) + opera-11.51: Works\n* sage-4.7.0 + flask nb + tiny-mce-3.4.5 + opera-11.51: Works\n* sage-4.7.1 + old nb + tiny-mce (old) + opera-11.51: Does not work\n* sage-4.7.1 + old nb + tiny-mce-3.4.5 + opera-11.51: Does not work\n* sage-4.7.1 + old nb + tiny-mce-3.4.5 + firefox-6: Does not work",
    "created_at": "2011-10-01T08:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114365",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:23" align="right">comment:23</div>

In gist, here is the current status of when it works: it works with flask notebook, irrespective of tiny-mce version.


* sage-4.7.0 + flask nb + tiny-mce (old) + opera-11.51: Works
* sage-4.7.0 + flask nb + tiny-mce-3.4.5 + opera-11.51: Works
* sage-4.7.1 + old nb + tiny-mce (old) + opera-11.51: Does not work
* sage-4.7.1 + old nb + tiny-mce-3.4.5 + opera-11.51: Does not work
* sage-4.7.1 + old nb + tiny-mce-3.4.5 + firefox-6: Does not work



---

archive/issue_comments_114366.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThis ticket is listed as blocker, what is the current status?  It seems like disallowing users to register usernames with @ could be a quick and eays solution.  But they should still be able to *log in* with any existing username.",
    "created_at": "2011-10-12T19:56:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114366",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

This ticket is listed as blocker, what is the current status?  It seems like disallowing users to register usernames with @ could be a quick and eays solution.  But they should still be able to *log in* with any existing username.



---

archive/issue_comments_114367.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jdemeyer](#comment:24):\n> This ticket is listed as blocker, what is the current status?  It seems like disallowing users to register usernames with @ could be a quick and eays solution.  But they should still be able to *log in* with any existing username.\n\nit's should not be a blocker, as a workaround is to use another browser. I therefore take the liberty to make it just major instead...",
    "created_at": "2011-10-12T20:04:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114367",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jdemeyer](#comment:24):
> This ticket is listed as blocker, what is the current status?  It seems like disallowing users to register usernames with @ could be a quick and eays solution.  But they should still be able to *log in* with any existing username.

it's should not be a blocker, as a workaround is to use another browser. I therefore take the liberty to make it just major instead...



---

archive/issue_events_149226.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-10-12T20:04:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149226"
}
```



---

archive/issue_events_149227.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2011-10-12T20:04:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149227"
}
```



---

archive/issue_events_149228.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-10-12T20:09:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149228"
}
```



---

archive/issue_events_149229.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-10-12T20:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149229"
}
```



---

archive/issue_comments_114368.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,10 @@\n Please see below for what TinyMCE cells look like if you have an `@` in your username.  This is since at least 4.6, see [this thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/f0ceaa24700f4059).\n \n I'm making this critical, because it removes major piece of functionality.  At the **very least**, we'll need to change the login page to remove the @ availability!!!\n+\n+Re-enabling this is #11470.\n+\n+---\n \n From #8995, a dup of this: \n \n``````\n",
    "created_at": "2011-10-12T20:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114368",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,10 @@
 Please see below for what TinyMCE cells look like if you have an `@` in your username.  This is since at least 4.6, see [this thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/f0ceaa24700f4059).
 
 I'm making this critical, because it removes major piece of functionality.  At the **very least**, we'll need to change the login page to remove the @ availability!!!
+
+Re-enabling this is #11470.
+
+---
 
 From #8995, a dup of this: 
 
``````




---

archive/issue_comments_114369.json:
```json
{
    "body": "Author: **Karl-Dieter Crisman**",
    "created_at": "2011-10-12T20:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114369",
    "user": "https://github.com/kcrisman"
}
```

Author: **Karl-Dieter Crisman**



---

archive/issue_events_149230.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-10-12T20:09:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149230"
}
```



---

archive/issue_events_149231.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-10-12T20:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149231"
}
```



---

archive/issue_comments_114370.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jdemeyer](#comment:24):\n> This ticket is listed as blocker, what is the current status?  It seems like disallowing users to register usernames with @ could be a quick and eays solution.  But they should still be able to *log in* with any existing username.\n\nWhich is precisely what [attachment: trac_11343-fix_at_symbol.patch](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz) does.  I just checked and it still applies cleanly...  I just feel this is better than waiting eternally for the flask or TinyMCE update.\n\nI really disagree that it's major and not blocker.   Sage doesn't work properly, and saying \"use another browser\" is going to keep on being said until we have zero browsers that support it.  If ppurka finds it doesn't work with FF or Opera with the new TinyMCE, and it doesn't work on Safari, and we already suggest (though nowhere official!!!) that IE is gone... should we be sending people to lynx?\n\nSo critical.  But if someone just reviews this patch, it fixes the problem, and that is better.  Plus it lights a fire under the flask/sagenb people to finish things off so we don't mess with things any more.",
    "created_at": "2011-10-12T20:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114370",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jdemeyer](#comment:24):
> This ticket is listed as blocker, what is the current status?  It seems like disallowing users to register usernames with @ could be a quick and eays solution.  But they should still be able to *log in* with any existing username.

Which is precisely what [attachment: trac_11343-fix_at_symbol.patch](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz) does.  I just checked and it still applies cleanly...  I just feel this is better than waiting eternally for the flask or TinyMCE update.

I really disagree that it's major and not blocker.   Sage doesn't work properly, and saying "use another browser" is going to keep on being said until we have zero browsers that support it.  If ppurka finds it doesn't work with FF or Opera with the new TinyMCE, and it doesn't work on Safari, and we already suggest (though nowhere official!!!) that IE is gone... should we be sending people to lynx?

So critical.  But if someone just reviews this patch, it fixes the problem, and that is better.  Plus it lights a fire under the flask/sagenb people to finish things off so we don't mess with things any more.



---

archive/issue_comments_114371.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,3 +17,6 @@\n \n http://sagenb.org/home/usernamewith@/javascript/tiny_mce/langs/en.js\n \n+---\n+\n+**Apply** [attachment: trac_11343-fix_at_symbol.patch](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz) to the SAGENB repository.\n``````\n",
    "created_at": "2011-10-14T16:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114371",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,3 +17,6 @@
 
 http://sagenb.org/home/usernamewith@/javascript/tiny_mce/langs/en.js
 
+---
+
+**Apply** [attachment: trac_11343-fix_at_symbol.patch](https://github.com/sagemath/sage/files/ticket11343/trac_11343-fix_at_symbol.patch.gz) to the SAGENB repository.
``````




---

archive/issue_events_149232.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T18:03:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149232"
}
```



---

archive/issue_events_149233.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T18:03:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149233"
}
```



---

archive/issue_comments_114372.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nPatch does the job.  New registrations with @ are not possible, existing ones can still log in.",
    "created_at": "2011-10-14T18:03:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114372",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:28" align="right">comment:28</div>

Patch does the job.  New registrations with @ are not possible, existing ones can still log in.



---

archive/issue_comments_114373.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2011-10-14T18:03:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114373",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_events_149234.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T18:16:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20critical%20/%202",
    "label_color": "ff7700",
    "label_name": "p: critical / 2",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149234"
}
```



---

archive/issue_events_149235.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T18:16:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149235"
}
```



---

archive/issue_events_149236.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-14T18:16:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "title_is": "Disallow @ symbol in username because of TinyMCE problems",
    "title_was": "TinyMCE won't work with @ in the username of notebook",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149236"
}
```



---

archive/issue_comments_114374.json:
```json
{
    "body": "Merged: **sage-4.7.2.rc0**",
    "created_at": "2011-10-16T15:38:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11343#issuecomment-114374",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.2.rc0**



---

archive/issue_events_149237.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-16T15:38:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149237"
}
```



---

archive/issue_events_149238.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-16T15:38:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11343",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11343#event-149238"
}
```
