# Issue 11142: clean up sage/misc/hg.py

archive/issues_010999.json:
```json
{
    "assignees": [
        "https://github.com/jasongrout"
    ],
    "body": "The attached patch cleans up hg.py in a few ways:\n\n- it adds a few doctests, although many of them are marked \"not tested\", since otherwise it would try to import or export non-existent patches, etc.\n\n- the function \"pager\" is rewritten, to use the Mercurial pager extension.  This way, any highlighting is preserved when you use \"hg_sage.diff()\" or \"hg_sage.log()\" with the color extension enabled.\n\n- the function \"color\" was added, to disable the Mercurial color extension in the notebook.  Otherwise it produces some bad output: try putting \n\n    ```\n    [extensions]\n    color =\n   ```\n in your .hgrc file, modify some files in the Sage library, and type \"hg_sage.status()\" in      the command line vs. the notebook.\n\n---\n\nApply\n1. [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)\n2. [attachment: trac_11142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-reviewer.patch.gz)\nto the Sage library.\n\n\n\nDepends on #10594\n\nCC:  @kini\n\nKeywords: **sd31**\n\nComponent: **misc**\n\nAuthor: **John Palmieri**\n\nReviewer: **Karl-Dieter Crisman, Keshav Kini**\n\nMerged: **sage-4.7.2.alpha3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11142_\n\n",
    "closed_at": "2011-09-12T19:15:29Z",
    "created_at": "2011-04-06T22:38:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "clean up sage/misc/hg.py",
    "type": "issue",
    "updated_at": "2011-10-05T08:22:28Z",
    "url": "https://github.com/sagemath/sage/issues/11142",
    "user": "https://github.com/jhpalmieri"
}
```
The attached patch cleans up hg.py in a few ways:

- it adds a few doctests, although many of them are marked "not tested", since otherwise it would try to import or export non-existent patches, etc.

- the function "pager" is rewritten, to use the Mercurial pager extension.  This way, any highlighting is preserved when you use "hg_sage.diff()" or "hg_sage.log()" with the color extension enabled.

- the function "color" was added, to disable the Mercurial color extension in the notebook.  Otherwise it produces some bad output: try putting 

    ```
    [extensions]
    color =
   ```
 in your .hgrc file, modify some files in the Sage library, and type "hg_sage.status()" in      the command line vs. the notebook.

---

Apply
1. [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)
2. [attachment: trac_11142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-reviewer.patch.gz)
to the Sage library.



Depends on #10594

CC:  @kini

Keywords: **sd31**

Component: **misc**

Author: **John Palmieri**

Reviewer: **Karl-Dieter Crisman, Keshav Kini**

Merged: **sage-4.7.2.alpha3**

_Issue created by migration from https://trac.sagemath.org/ticket/11142_





---

archive/issue_events_146262.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-06T22:38:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146262"
}
```



---

archive/issue_events_146263.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-06T22:38:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146263"
}
```



---

archive/issue_events_146264.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-06T22:38:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146264"
}
```



---

archive/issue_events_146265.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-04-06T22:38:25Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "subject": "https://github.com/jhpalmieri",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146265"
}
```



---

archive/issue_events_146266.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-12T21:56:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146266"
}
```



---

archive/issue_comments_110782.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis looks pretty good overall, though I haven't had time to review it quite properly yet.  I really like this idea, thanks for doing it.  \n\nI would add a couple useful options on the revert and the patch, that one can use `options='--all'` with revert and rollback (instead of having to know the file name) and importing patch with `options='--no-commit'` which is VERY useful until one learns how to use queues.",
    "created_at": "2011-06-13T18:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110782",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">comment:2</div>

This looks pretty good overall, though I haven't had time to review it quite properly yet.  I really like this idea, thanks for doing it.  

I would add a couple useful options on the revert and the patch, that one can use `options='--all'` with revert and rollback (instead of having to know the file name) and importing patch with `options='--no-commit'` which is VERY useful until one learns how to use queues.



---

archive/issue_comments_110783.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2011-06-14T04:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110783",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_events_146267.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-14T04:00:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146267"
}
```



---

archive/issue_events_146268.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-14T04:00:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146268"
}
```



---

archive/issue_comments_110784.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nYup, you're right that it depends on adding the pager stuff to work (though not to apply).  Overall this looks good.  \n\nOkay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  \n\n'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen.",
    "created_at": "2011-06-14T04:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110784",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">comment:3</div>

Yup, you're right that it depends on adding the pager stuff to work (though not to apply).  Overall this looks good.  

Okay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  

'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen.



---

archive/issue_comments_110785.json:
```json
{
    "body": "Changed keywords from none to **sd31**",
    "created_at": "2011-06-14T04:00:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110785",
    "user": "https://github.com/kcrisman"
}
```

Changed keywords from none to **sd31**



---

archive/issue_comments_110786.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@kcrisman](#comment%3A3):\n> Okay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  \n\nI thought it was little annoying to see.  Typical output might be\n\n```\ncd \"/Applications/sage/devel/sage\" && hg diff   --config pager.pager=\"LESS='FSRX' less\"\n```\nBut I've changed it to True.\n\n> 'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen. \n\nOkay, I've taken care of this.\n\nNow, changing the pager as I've done changes the current behavior in several ways (from the command line, not the notebook: the notebook should behave the same way):\n\n- (the option F says to quit the pager if everything fits on one page; this doesn't change the current behavior, but see option X below.)\n- the option S says to truncate long lines rather than wrap them.  Currently we wrap them, as in\n\n```\nchangeset:   15816:11586fb87f83\nuser:        John Cremona <john.cremona@gmail.com> and Robert Bradshaw <robertwb@math.washington.ed\nu>\ndate:        Fri Apr 22 15:50:26 2011 +0100\nsummary:     Trac #11220: #11220: implement CM j-invariants and orders for quadratic fields\n```\n Note lines 2-3.  With the S option, line 3 would be omitted.  Opinions?\n- the option R says to preserve any color information in the output, so output from hg_sage.diff() would be colorized nicely.  This is one of the points of this ticket, so I definitely want to keep this.\n- the option X says to not clear the screen when you quit the pager.  I happen to like this.  However, if this is off but option F is on, then any output containing less than a screen displays briefly, and then the screen gets cleared, so it's gone.  This is not Sage-specific: it reproduces the behavior when you run \"hg diff\" from the shell, with `pager = LESS='FSR' less` in the `[pager]` section of your .hgrc file.\n\nMy suggestion: we use either \"FSRX\" or \"FRX\", and probably the second of these is better.  That's what the latest version of the patch uses.\n\nAnother question: should we try to have a way to configure the pager options?  We can accept keyword arguments into the various hg commands and then pass them to the pager command, or we can do it like the way latex options are set.  Is it worth it?",
    "created_at": "2011-07-01T20:15:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110786",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@kcrisman](#comment%3A3):
> Okay, I also have a question.  Why the `debug=False`?   You did a nice job with this and the pager, but shouldn't we print out the commands?    Or is that just annoying to see?   Just wondering.  

I thought it was little annoying to see.  Typical output might be

```
cd "/Applications/sage/devel/sage" && hg diff   --config pager.pager="LESS='FSRX' less"
```
But I've changed it to True.

> 'Needs work' for adding the very important options in the documentation to revert, rollback, and import.  If we are going to update doc at all, this should happen. 

Okay, I've taken care of this.

Now, changing the pager as I've done changes the current behavior in several ways (from the command line, not the notebook: the notebook should behave the same way):

- (the option F says to quit the pager if everything fits on one page; this doesn't change the current behavior, but see option X below.)
- the option S says to truncate long lines rather than wrap them.  Currently we wrap them, as in

```
changeset:   15816:11586fb87f83
user:        John Cremona <john.cremona@gmail.com> and Robert Bradshaw <robertwb@math.washington.ed
u>
date:        Fri Apr 22 15:50:26 2011 +0100
summary:     Trac #11220: #11220: implement CM j-invariants and orders for quadratic fields
```
 Note lines 2-3.  With the S option, line 3 would be omitted.  Opinions?
- the option R says to preserve any color information in the output, so output from hg_sage.diff() would be colorized nicely.  This is one of the points of this ticket, so I definitely want to keep this.
- the option X says to not clear the screen when you quit the pager.  I happen to like this.  However, if this is off but option F is on, then any output containing less than a screen displays briefly, and then the screen gets cleared, so it's gone.  This is not Sage-specific: it reproduces the behavior when you run "hg diff" from the shell, with `pager = LESS='FSR' less` in the `[pager]` section of your .hgrc file.

My suggestion: we use either "FSRX" or "FRX", and probably the second of these is better.  That's what the latest version of the patch uses.

Another question: should we try to have a way to configure the pager options?  We can accept keyword arguments into the various hg commands and then pass them to the pager command, or we can do it like the way latex options are set.  Is it worth it?



---

archive/issue_events_146269.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-01T20:15:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146269"
}
```



---

archive/issue_events_146270.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-07-01T20:15:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146270"
}
```



---

archive/issue_comments_110787.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nPersonally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.\n\nipython's native pager (for help lookups, etc.) acts most like `FR`, fwiw.",
    "created_at": "2011-07-01T21:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110787",
    "user": "https://github.com/kini"
}
```

<div id="comment:6" align="right">comment:6</div>

Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.

ipython's native pager (for help lookups, etc.) acts most like `FR`, fwiw.



---

archive/issue_comments_110788.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@kini](#comment%3A6):\n> Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.\n\nIf I look at a docstring (which displays with a pager), sometimes I want to refer to the docstring when typing the next command, and then it's really frustrating that it went away when I typed \"q\" to quit the pager program.  The same can happen with hg commands, although not as frequently, at least for me.  However, it can also be nice to restore what was there before I started reading the docstring.  We could add an option for any hg command which uses the pager: by default, it will open with \"R\", but with the option, it will open with \"FRX\".",
    "created_at": "2011-07-01T22:10:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110788",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@kini](#comment%3A6):
> Personally I don't like the `F` option (unpredictable behavior), `X` option (if I wanted to read the last screen of the paged stuff, I wouldn't have quit `less`), or `S` option (information loss), but that's just me.

If I look at a docstring (which displays with a pager), sometimes I want to refer to the docstring when typing the next command, and then it's really frustrating that it went away when I typed "q" to quit the pager program.  The same can happen with hg commands, although not as frequently, at least for me.  However, it can also be nice to restore what was there before I started reading the docstring.  We could add an option for any hg command which uses the pager: by default, it will open with "R", but with the option, it will open with "FRX".



---

archive/issue_comments_110789.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nHere are two more patches.  One replaces the old patch, and this just changes the options for \"less\" to \"R\" instead of \"FRX\".  The second adds lots of methods for Mercurial queues, and it brings doctest coverage up to 97% -- I can't figure out how to write a helpful and/or meaningful doctest for `get_remote_file`.  So the second is more ambitious.  If you think it belongs on another ticket, we can just work with the first version.",
    "created_at": "2011-07-02T02:15:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110789",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

Here are two more patches.  One replaces the old patch, and this just changes the options for "less" to "R" instead of "FRX".  The second adds lots of methods for Mercurial queues, and it brings doctest coverage up to 97% -- I can't figure out how to write a helpful and/or meaningful doctest for `get_remote_file`.  So the second is more ambitious.  If you think it belongs on another ticket, we can just work with the first version.



---

archive/issue_comments_110790.json:
```json
{
    "body": "Attachment: **[trac_11142-sage-hg.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.patch.gz)**\n\nmain sage repo",
    "created_at": "2011-07-02T02:16:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110790",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11142-sage-hg.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.patch.gz)**

main sage repo



---

archive/issue_comments_110791.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,5 +12,3 @@\n    ```\n  in your .hgrc file, modify some files in the Sage library, and type \"hg_sage.status()\" in      the command line vs. the notebook.\n \n-This depends on #11121, in particular enabling the \"pager\" extension.\n-\n``````\n",
    "created_at": "2011-08-02T20:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110791",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,5 +12,3 @@
    ```
  in your .hgrc file, modify some files in the Sage library, and type "hg_sage.status()" in      the command line vs. the notebook.
 
-This depends on #11121, in particular enabling the "pager" extension.
-
``````




---

archive/issue_comments_110792.json:
```json
{
    "body": "Dependencies: **#10594**",
    "created_at": "2011-08-02T20:30:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110792",
    "user": "https://github.com/jhpalmieri"
}
```

Dependencies: **#10594**



---

archive/issue_comments_110793.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHey John, I really like the second patch, so much good (if tedious) work on a lot of things.  Have not yet tested it, and can't tonight, though it applies fine.\n* Does `hg_sage.revert()` really just revert all files?  I always needed `options=\"--all\"`, but maybe I don't any more.\n* What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)\n* I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?",
    "created_at": "2011-08-18T02:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110793",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">comment:10</div>

Hey John, I really like the second patch, so much good (if tedious) work on a lot of things.  Have not yet tested it, and can't tonight, though it applies fine.
* Does `hg_sage.revert()` really just revert all files?  I always needed `options="--all"`, but maybe I don't any more.
* What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)
* I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?



---

archive/issue_comments_110794.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\n#11121 is actually resolved (more or less) by the spkg at #10594, as is #11120. #10594 is a dependency of this ticket. So, in effect, queues will be enabled.",
    "created_at": "2011-08-18T11:20:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110794",
    "user": "https://github.com/kini"
}
```

<div id="comment:11" align="right">comment:11</div>

#11121 is actually resolved (more or less) by the spkg at #10594, as is #11120. #10594 is a dependency of this ticket. So, in effect, queues will be enabled.



---

archive/issue_comments_110795.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\n> * Does `hg_sage.revert()` really just revert all files?  I always needed `options=\"--all\"`, but maybe I don't any more.\n\nYeah, this does not work.\n\n```\nsage: hg_sage.revert()\ncd \"/Users/.../sage-4.7.1/devel/sage\" && hg revert \nabort: no files or directories specified; use --all to revert the whole repo\n```\nThis is even after the patch and hg upgrade.  We definitely need to have documentation for this.  Ideally, we'd even catch it in `hg_sage.revert` itself.  It takes a while to figure out you need `options=\"--all\"` as a newbie.  \n\nOr we could change the behavior so that it does this.\n\n> * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)\n\nOk, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...\n\n> * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?\n\nYes.  Cool!  Now I can edit the README more effectively :)\n\nCurrent patch (with R, not FRX) does indeed clear the screen after a short view in the pager is quit.  I thought this was not the current behavior, but apparently I get that with my 4.7 and 4.4.4 installs as well, so I'm a bit confused.\n\nOtherwise we just need to test a lot of this stuff, but it looks good.",
    "created_at": "2011-08-18T15:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110795",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">comment:12</div>

> * Does `hg_sage.revert()` really just revert all files?  I always needed `options="--all"`, but maybe I don't any more.

Yeah, this does not work.

```
sage: hg_sage.revert()
cd "/Users/.../sage-4.7.1/devel/sage" && hg revert 
abort: no files or directories specified; use --all to revert the whole repo
```
This is even after the patch and hg upgrade.  We definitely need to have documentation for this.  Ideally, we'd even catch it in `hg_sage.revert` itself.  It takes a while to figure out you need `options="--all"` as a newbie.  

Or we could change the behavior so that it does this.

> * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)

Ok, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...

> * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?

Yes.  Cool!  Now I can edit the README more effectively :)

Current patch (with R, not FRX) does indeed clear the screen after a short view in the pager is quit.  I thought this was not the current behavior, but apparently I get that with my 4.7 and 4.4.4 installs as well, so I'm a bit confused.

Otherwise we just need to test a lot of this stuff, but it looks good.



---

archive/issue_comments_110796.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kcrisman](#comment%3A12):\n> > * Does `hg_sage.revert()` really just revert all files?  I always needed `options=\"--all\"`, but maybe I don't any more.\n\n> Yeah, this does not work.\n\nI actually think it's a bit dangerous to be able to revert without specifying \"--all\", so I think we should just fix the documentation, not change the behavior.  I'll do this soon.\n> > * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)\n\n> Ok, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...\n\nAs Keshav says, the latest Mercurial spkg turns on queues in `SAGE_ROOT/local/etc/mercurial/hgrc`, so this is not an issue.  (This is why #10594 is a prerequisite for this ticket.)\n \n> > * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?\n\n> Yes.  Cool!  Now I can edit the README more effectively :)\n\nRight, ticket #9433, in particular [attachment: trac_9433-sage-repo.2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_9433-sage-repo.2.patch.gz), added this.",
    "created_at": "2011-08-18T15:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110796",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kcrisman](#comment%3A12):
> > * Does `hg_sage.revert()` really just revert all files?  I always needed `options="--all"`, but maybe I don't any more.

> Yeah, this does not work.

I actually think it's a bit dangerous to be able to revert without specifying "--all", so I think we should just fix the documentation, not change the behavior.  I'll do this soon.
> > * What happens if a user does *not* have queues enabled in their .hgrc but tries to use the queue commands?  (My understanding is that #11121 doesn't really affect this patch/ticket, correct?)

> Ok, Keshav, as long as you vouch for this. Changing my hgrc didn't seem to do anything (the desired behavior), but maybe the repository already had hg initialized with mq or something...

As Keshav says, the latest Mercurial spkg turns on queues in `SAGE_ROOT/local/etc/mercurial/hgrc`, so this is not an issue.  (This is why #10594 is a prerequisite for this ticket.)
 
> > * I haven't tried `hg_sage.root` but I assume this was enabled when the root directory finally got a repository?

> Yes.  Cool!  Now I can edit the README more effectively :)

Right, ticket #9433, in particular [attachment: trac_9433-sage-repo.2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_9433-sage-repo.2.patch.gz), added this.



---

archive/issue_comments_110797.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\n> I actually think it's a bit dangerous to be able to revert without specifying \"--all\", so I think we should just fix the documentation, not change the behavior. I'll do this soon.\n\nCan you at that time also make sure to document the (very useful) `--no-commit` option for `import_patch`?\n\nStill testing...",
    "created_at": "2011-08-18T20:47:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110797",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

> I actually think it's a bit dangerous to be able to revert without specifying "--all", so I think we should just fix the documentation, not change the behavior. I'll do this soon.

Can you at that time also make sure to document the (very useful) `--no-commit` option for `import_patch`?

Still testing...



---

archive/issue_comments_110798.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHere's a BIG problem, but very easy to fix:\n\n```\nsage: hg_sage.qpop()\ncd \"/Users/.../sage-4.7.1/devel/sage\" && hg qpush \napplying trac_11142-sage-hg.patch\n```\nOops! That's the only one like that I found in the queues stuff, though.",
    "created_at": "2011-08-18T21:00:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110798",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">comment:15</div>

Here's a BIG problem, but very easy to fix:

```
sage: hg_sage.qpop()
cd "/Users/.../sage-4.7.1/devel/sage" && hg qpush 
applying trac_11142-sage-hg.patch
```
Oops! That's the only one like that I found in the queues stuff, though.



---

archive/issue_events_146271.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-08-18T21:01:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146271"
}
```



---

archive/issue_events_146272.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-08-18T21:01:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146272"
}
```



---

archive/issue_comments_110799.json:
```json
{
    "body": "Work Issues: **pop\\neq push and a couple minor documentation things**",
    "created_at": "2011-08-18T21:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110799",
    "user": "https://github.com/kcrisman"
}
```

Work Issues: **pop\neq push and a couple minor documentation things**



---

archive/issue_comments_110800.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nBut otherwise `debug` and `verbose` function properly, I tried lots of commands with various options, and it seems to work exactly the same as `hg *` from my command line (which uses the HG in Sage, of course).   Correctly accesses internet.   Passes tests.  So I think that the issues in 'work issues' are probably all that needs to be fixed.  \n\nNice work!  Now that I know how to use queues, I might end up being even more productive having them in the command line Sage.  Thanks.",
    "created_at": "2011-08-18T21:09:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110800",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

But otherwise `debug` and `verbose` function properly, I tried lots of commands with various options, and it seems to work exactly the same as `hg *` from my command line (which uses the HG in Sage, of course).   Correctly accesses internet.   Passes tests.  So I think that the issues in 'work issues' are probably all that needs to be fixed.  

Nice work!  Now that I know how to use queues, I might end up being even more productive having them in the command line Sage.  Thanks.



---

archive/issue_events_146273.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-18T22:02:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146273"
}
```



---

archive/issue_events_146274.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-18T22:02:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146274"
}
```



---

archive/issue_comments_110801.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nRe the qpush/qpop thing: I'm just like trying to keep people on their toes.\n\nRe the documentation: I wonder if Mercurial itself used to revert all files when there were no arguments given: the rest of the docstring seems to have been taken from the help message printed by \"hg help revert\".  I've now replaced it with the current version of that message, edited slightly to use Sage `hg_sage....` syntax instead of `hg ...` shell syntax.\n\nThere is more work to be done, perhaps: commands like \"hg status\" can take many options when executed from the shell, but the Sage implementation doesn't include any of them.  If someone feels like opening up a follow-up ticket to implement things like that, they could.  Also, it wouldn't hurt to make sure that our docstrings are in line with Mercurial's current docstrings.  Since using Mercurial from the shell is pleasant enough, I would give these tasks a pretty low priority, as long our our docstrings don't say things which are completely wrong, like your catch with `revert`.",
    "created_at": "2011-08-18T22:02:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110801",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:18" align="right">comment:18</div>

Re the qpush/qpop thing: I'm just like trying to keep people on their toes.

Re the documentation: I wonder if Mercurial itself used to revert all files when there were no arguments given: the rest of the docstring seems to have been taken from the help message printed by "hg help revert".  I've now replaced it with the current version of that message, edited slightly to use Sage `hg_sage....` syntax instead of `hg ...` shell syntax.

There is more work to be done, perhaps: commands like "hg status" can take many options when executed from the shell, but the Sage implementation doesn't include any of them.  If someone feels like opening up a follow-up ticket to implement things like that, they could.  Also, it wouldn't hurt to make sure that our docstrings are in line with Mercurial's current docstrings.  Since using Mercurial from the shell is pleasant enough, I would give these tasks a pretty low priority, as long our our docstrings don't say things which are completely wrong, like your catch with `revert`.



---

archive/issue_comments_110802.json:
```json
{
    "body": "diff between old \"v2\" and new one, for reference only",
    "created_at": "2011-08-18T22:03:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110802",
    "user": "https://github.com/jhpalmieri"
}
```

diff between old "v2" and new one, for reference only



---

archive/issue_comments_110803.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,3 +12,7 @@\n    ```\n  in your .hgrc file, modify some files in the Sage library, and type \"hg_sage.status()\" in      the command line vs. the notebook.\n \n+---\n+\n+Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz).\n+\n``````\n",
    "created_at": "2011-08-18T22:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110803",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,3 +12,7 @@
    ```
  in your .hgrc file, modify some files in the Sage library, and type "hg_sage.status()" in      the command line vs. the notebook.
 
+---
+
+Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz).
+
``````




---

archive/issue_comments_110804.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAttachment: **[trac_11142-delta.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-delta.patch.gz)**\n\nOops, forgot \"--no-commit\".  Now it's there, too.",
    "created_at": "2011-08-18T22:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110804",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

Attachment: **[trac_11142-delta.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-delta.patch.gz)**

Oops, forgot "--no-commit".  Now it's there, too.



---

archive/issue_comments_110805.json:
```json
{
    "body": "Changed work issues from **pop\\neq push and a couple minor documentation things** to none",
    "created_at": "2011-08-18T22:09:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110805",
    "user": "https://github.com/jhpalmieri"
}
```

Changed work issues from **pop\neq push and a couple minor documentation things** to none



---

archive/issue_comments_110806.json:
```json
{
    "body": "Attachment: **[trac_11142-delta-part2.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-delta-part2.patch.gz)**\n\nanother diff, applied on top of the other one (patch to \"import_patch\")",
    "created_at": "2011-08-18T22:10:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110806",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11142-delta-part2.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-delta-part2.patch.gz)**

another diff, applied on top of the other one (patch to "import_patch")



---

archive/issue_comments_110807.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThere are a bunch of things that didn't seem to look so good in the documentation.  Then I went ahead and made various other minor changes in a reviewer patch.   You can pick and choose, or just say positive review.  I tried to actually build the changes, but my Sage is funny sometimes and doesn't recognize changed files for the docbuild.\n\nThe only ones I would insist on are\n\n```\n-        To see the changes in this file since revision 10000:\n+        To see the changes in this file since revision 10000::\n```\nand the stuff about emailing William with a bundle, which is totally outdated in several ways.  \n\nI also wonder if you wanted to use `::` for the various options for the hg commands. It looks nice, but in other places (like plot documentation) we just use the Sphinx subitem syntax, I think, so maybe we shouldn't make those look like examples.  I am okay with either one, just wanted to ask about this.\n\nPositive review on the updates and patch, though.  I'm already using it!",
    "created_at": "2011-08-19T01:08:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110807",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

There are a bunch of things that didn't seem to look so good in the documentation.  Then I went ahead and made various other minor changes in a reviewer patch.   You can pick and choose, or just say positive review.  I tried to actually build the changes, but my Sage is funny sometimes and doesn't recognize changed files for the docbuild.

The only ones I would insist on are

```
-        To see the changes in this file since revision 10000:
+        To see the changes in this file since revision 10000::
```
and the stuff about emailing William with a bundle, which is totally outdated in several ways.  

I also wonder if you wanted to use `::` for the various options for the hg commands. It looks nice, but in other places (like plot documentation) we just use the Sphinx subitem syntax, I think, so maybe we shouldn't make those look like examples.  I am okay with either one, just wanted to ask about this.

Positive review on the updates and patch, though.  I'm already using it!



---

archive/issue_comments_110808.json:
```json
{
    "body": "Apply after v2 patch",
    "created_at": "2011-08-19T01:08:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110808",
    "user": "https://github.com/kcrisman"
}
```

Apply after v2 patch



---

archive/issue_comments_110809.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nAttachment: **[trac_1142-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz)**\n\nI'm sorry about the name.  It's for 11142, of course.",
    "created_at": "2011-08-19T01:10:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110809",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">comment:21</div>

Attachment: **[trac_1142-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz)**

I'm sorry about the name.  It's for 11142, of course.



---

archive/issue_comments_110810.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,5 +14,5 @@\n \n ---\n \n-Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz).\n+Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).\n \n``````\n",
    "created_at": "2011-08-19T02:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110810",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,5 +14,5 @@
 
 ---
 
-Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz).
+Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).
 
``````




---

archive/issue_comments_110811.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThe changes look good to me.  Thanks for cleaning that up.\n\nThe nice thing about the \"::\" for the option lists is that it uses a fixed-width font, so the hyphens line up, etc.  Speaking of which, I'm putting up a new version of my patch which just adds a missing space in one of these option lists: \n\n```diff\ndiff --git a/sage/misc/hg.py b/sage/misc/hg.py\n--- a/sage/misc/hg.py\n+++ b/sage/misc/hg.py\n@@ -527,7 +527,7 @@ class HG:\n                %b   basename of the exporting repository\n                %h   short-form changeset hash (12 bytes of hexadecimal)\n                %n   zero-padded sequence number, starting at 1\n-               %r  zero-padded changeset revision number\n+               %r   zero-padded changeset revision number\n \n         -  ``text`` - boolean (default False).  Setting this to be True\n            has the same effect as passing the \"-a\" option below.\n```",
    "created_at": "2011-08-19T02:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110811",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

The changes look good to me.  Thanks for cleaning that up.

The nice thing about the "::" for the option lists is that it uses a fixed-width font, so the hyphens line up, etc.  Speaking of which, I'm putting up a new version of my patch which just adds a missing space in one of these option lists: 

```diff
diff --git a/sage/misc/hg.py b/sage/misc/hg.py
--- a/sage/misc/hg.py
+++ b/sage/misc/hg.py
@@ -527,7 +527,7 @@ class HG:
                %b   basename of the exporting repository
                %h   short-form changeset hash (12 bytes of hexadecimal)
                %n   zero-padded sequence number, starting at 1
-               %r  zero-padded changeset revision number
+               %r   zero-padded changeset revision number
 
         -  ``text`` - boolean (default False).  Setting this to be True
            has the same effect as passing the "-a" option below.
```



---

archive/issue_events_146275.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-19T02:55:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146275"
}
```



---

archive/issue_events_146276.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-19T02:55:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146276"
}
```



---

archive/issue_comments_110812.json:
```json
{
    "body": "Attachment: **[trac_11142-sage-hg.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz)**\n\nmain Sage repo",
    "created_at": "2011-08-19T02:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110812",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11142-sage-hg.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz)**

main Sage repo



---

archive/issue_comments_110813.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI get several doctest failures of the form\n\n```\nsage -t  -force_lib devel/sage/sage/misc/hg.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/misc/hg.py\", line 783:\n    sage: hg_sage.rename('sage/misc/hg.py', 'sage/misc/hgnew.py', options='--dry-run')\nExpected:\n    Moving sage/misc/hg.py --> sage/misc/hgnew.py\n    cd ... && hg mv --dry-run \"sage/misc/hg.py\" \"sage/misc/hgnew.py\"\nGot:\n    Moving sage/misc/hg.py --> sage/misc/hgnew.py\n    <BLANKLINE>\n    WARNING:\n    Make sure to create a ~/.hgrc file:\n    ----------------------------------------------------------------------\n    [ui]\n    username = William Stein <wstein@gmail.com>\n    ----------------------------------------------------------------------\n    <BLANKLINE>\n    <BLANKLINE>\n    cd \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage\" && hg mv --dry-run \"sage/misc/hg.py\" \"sage/misc/hgnew.py\"\n**********************************************************************\n```\n\nI believe the doctests should be written in such a way that they do not require a `.hgrc` file.  Also, are the messages\n\n```\nAdding file module_list.pyc\ncd \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage\" && hg mv --dry-run \"sage/misc/hg.py\" \"sage/misc/hgnew.py\"\n```\nand\n\n```\nWARNING:\nMake sure to create a ~/.hgrc file:\n----------------------------------------------------------------------\n[ui]\nusername = William Stein <wstein@gmail.com>\n----------------------------------------------------------------------\n```\nwritten to `stdout` or `stderr`?  The second one certainly *should* be written to `stderr`.  If the first is written to `stdout`, the problem can be solved by capturing only `stdout`.",
    "created_at": "2011-08-22T13:46:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110813",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

I get several doctest failures of the form

```
sage -t  -force_lib devel/sage/sage/misc/hg.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/misc/hg.py", line 783:
    sage: hg_sage.rename('sage/misc/hg.py', 'sage/misc/hgnew.py', options='--dry-run')
Expected:
    Moving sage/misc/hg.py --> sage/misc/hgnew.py
    cd ... && hg mv --dry-run "sage/misc/hg.py" "sage/misc/hgnew.py"
Got:
    Moving sage/misc/hg.py --> sage/misc/hgnew.py
    <BLANKLINE>
    WARNING:
    Make sure to create a ~/.hgrc file:
    ----------------------------------------------------------------------
    [ui]
    username = William Stein <wstein@gmail.com>
    ----------------------------------------------------------------------
    <BLANKLINE>
    <BLANKLINE>
    cd "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage" && hg mv --dry-run "sage/misc/hg.py" "sage/misc/hgnew.py"
**********************************************************************
```

I believe the doctests should be written in such a way that they do not require a `.hgrc` file.  Also, are the messages

```
Adding file module_list.pyc
cd "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage" && hg mv --dry-run "sage/misc/hg.py" "sage/misc/hgnew.py"
```
and

```
WARNING:
Make sure to create a ~/.hgrc file:
----------------------------------------------------------------------
[ui]
username = William Stein <wstein@gmail.com>
----------------------------------------------------------------------
```
written to `stdout` or `stderr`?  The second one certainly *should* be written to `stderr`.  If the first is written to `stdout`, the problem can be solved by capturing only `stdout`.



---

archive/issue_events_146277.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-22T13:46:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146277"
}
```



---

archive/issue_events_146278.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-22T13:46:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146278"
}
```



---

archive/issue_comments_110814.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe warning about the `.hgrc` file is printed by the `_warning` method, not by Mercurial itself.  What do you think about not printing that warning if doctesting?  I'm considering this patch:\n\n```diff\n\ndiff --git a/sage/misc/hg.py b/sage/misc/hg.py\n--- a/sage/misc/hg.py\n+++ b/sage/misc/hg.py\n@@ -336,7 +336,8 @@\n \n             sage: hg_sage._warning() # random\n         \"\"\"\n-        if not os.path.exists(os.path.join(os.environ['HOME'], '.hgrc')):\n+        from sage.plot.plot import DOCTEST_MODE\n+        if not os.path.exists(os.environ['HOME'] + '/.hgrc') and not DOCTEST_MODE:\n             print \"\\nWARNING:\"\n             print \"Make sure to create a ~/.hgrc file:\"\n             print \"-\"*70\n```\nWith this, all tests pass even if I don't have a `.hgrc` file.",
    "created_at": "2011-08-25T00:33:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110814",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

The warning about the `.hgrc` file is printed by the `_warning` method, not by Mercurial itself.  What do you think about not printing that warning if doctesting?  I'm considering this patch:

```diff

diff --git a/sage/misc/hg.py b/sage/misc/hg.py
--- a/sage/misc/hg.py
+++ b/sage/misc/hg.py
@@ -336,7 +336,8 @@
 
             sage: hg_sage._warning() # random
         """
-        if not os.path.exists(os.path.join(os.environ['HOME'], '.hgrc')):
+        from sage.plot.plot import DOCTEST_MODE
+        if not os.path.exists(os.environ['HOME'] + '/.hgrc') and not DOCTEST_MODE:
             print "\nWARNING:"
             print "Make sure to create a ~/.hgrc file:"
             print "-"*70
```
With this, all tests pass even if I don't have a `.hgrc` file.



---

archive/issue_comments_110815.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nGood idea. But why on earth is `DOCTEST_MODE` in `sage.plot.plot`?",
    "created_at": "2011-08-25T00:39:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110815",
    "user": "https://github.com/kini"
}
```

<div id="comment:25" align="right">comment:25</div>

Good idea. But why on earth is `DOCTEST_MODE` in `sage.plot.plot`?



---

archive/issue_comments_110816.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nEr, also, why change the `os.path.join` to string concatenation?",
    "created_at": "2011-08-25T00:40:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110816",
    "user": "https://github.com/kini"
}
```

<div id="comment:26" align="right">comment:26</div>

Er, also, why change the `os.path.join` to string concatenation?



---

archive/issue_comments_110817.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nkini: Sorry, that was a mistake.",
    "created_at": "2011-08-25T01:25:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110817",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:27" align="right">comment:27</div>

kini: Sorry, that was a mistake.



---

archive/issue_events_146279.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-25T01:36:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146279"
}
```



---

archive/issue_events_146280.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-08-25T01:36:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146280"
}
```



---

archive/issue_comments_110818.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOkay, here is a new patch.",
    "created_at": "2011-08-25T01:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110818",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:28" align="right">comment:28</div>

Okay, here is a new patch.



---

archive/issue_comments_110819.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,5 +14,5 @@\n \n ---\n \n-Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).\n+Apply [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).\n \n``````\n",
    "created_at": "2011-08-25T01:36:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110819",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,5 +14,5 @@
 
 ---
 
-Apply [attachment: trac_11142-sage-hg.v2.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v2.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).
+Apply [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).
 
``````




---

archive/issue_comments_110820.json:
```json
{
    "body": "diff between v2 and v3 (for reference only)",
    "created_at": "2011-08-25T01:37:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110820",
    "user": "https://github.com/jhpalmieri"
}
```

diff between v2 and v3 (for reference only)



---

archive/issue_comments_110821.json:
```json
{
    "body": "Attachment: **[trac_11142-delta-2to3.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-delta-2to3.patch.gz)**\n\nAttachment: **[trac_11142-sage-hg.v3.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)**\n\nmain Sage repo",
    "created_at": "2011-08-25T01:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110821",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment: **[trac_11142-delta-2to3.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-delta-2to3.patch.gz)**

Attachment: **[trac_11142-sage-hg.v3.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)**

main Sage repo



---

archive/issue_comments_110822.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Keshav Kini**",
    "created_at": "2011-09-11T12:18:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110822",
    "user": "https://github.com/kini"
}
```

Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Keshav Kini**



---

archive/issue_comments_110823.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAll doctests pass. Looks good! Positive review from me.",
    "created_at": "2011-09-11T12:18:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110823",
    "user": "https://github.com/kini"
}
```

<div id="comment:29" align="right">comment:29</div>

All doctests pass. Looks good! Positive review from me.



---

archive/issue_events_146281.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-09-11T12:18:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146281"
}
```



---

archive/issue_events_146282.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-09-11T12:18:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146282"
}
```



---

archive/issue_comments_110824.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,5 +14,9 @@\n \n ---\n \n-Apply [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).\n+Apply\n+1. [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)\n+2. [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz)\n+to the Sage library.\n \n+\n``````\n",
    "created_at": "2011-09-12T13:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110824",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,5 +14,9 @@
 
 ---
 
-Apply [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz) and [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz).
+Apply
+1. [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)
+2. [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz)
+to the Sage library.
 
+
``````




---

archive/issue_comments_110825.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIt would certainly be better to reupload a patch with a misspelled name, i.e., ticket number.",
    "created_at": "2011-09-12T13:17:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110825",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:30" align="right">comment:30</div>

It would certainly be better to reupload a patch with a misspelled name, i.e., ticket number.



---

archive/issue_comments_110826.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.",
    "created_at": "2011-09-12T13:52:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110826",
    "user": "https://github.com/kini"
}
```

<div id="comment:31" align="right">comment:31</div>

I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.



---

archive/issue_comments_110827.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nReplying to [@kini](#comment%3A31):\n> I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.\n\nWell, there's sometimes a small period of time between when a patch gets uploaded and when it gets merged.",
    "created_at": "2011-09-12T14:21:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110827",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:32" align="right">comment:32</div>

Replying to [@kini](#comment%3A31):
> I don't think it matters - the filename of the patch isn't stored anywhere in the Mercurial history and the commit message itself is accurate.

Well, there's sometimes a small period of time between when a patch gets uploaded and when it gets merged.



---

archive/issue_comments_110828.json:
```json
{
    "body": "renamed trac_1142-reviewer.patch",
    "created_at": "2011-09-12T14:42:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110828",
    "user": "https://github.com/kini"
}
```

renamed trac_1142-reviewer.patch



---

archive/issue_comments_110829.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n \n Apply\n 1. [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)\n-2. [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz)\n+2. [attachment: trac_11142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-reviewer.patch.gz)\n to the Sage library.\n \n \n``````\n",
    "created_at": "2011-09-12T14:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110829",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 
 Apply
 1. [attachment: trac_11142-sage-hg.v3.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-sage-hg.v3.patch.gz)
-2. [attachment: trac_1142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_1142-reviewer.patch.gz)
+2. [attachment: trac_11142-reviewer.patch](https://github.com/sagemath/sage/files/ticket11142/trac_11142-reviewer.patch.gz)
 to the Sage library.
 
 
``````




---

archive/issue_comments_110830.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nAttachment: **[trac_11142-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-reviewer.patch.gz)**\n\nIf it helps you with release managing, why not :)",
    "created_at": "2011-09-12T14:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110830",
    "user": "https://github.com/kini"
}
```

<div id="comment:33" align="right">comment:33</div>

Attachment: **[trac_11142-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket11142/trac_11142-reviewer.patch.gz)**

If it helps you with release managing, why not :)



---

archive/issue_events_146283.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-12T19:15:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146283"
}
```



---

archive/issue_events_146284.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-12T19:15:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11142#event-146284"
}
```



---

archive/issue_comments_110831.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha3**",
    "created_at": "2011-09-12T19:15:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110831",
    "user": "https://github.com/nexttime"
}
```

Merged: **sage-4.7.2.alpha3**



---

archive/issue_comments_110832.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nSee #11898 for a problem probably caused by this.",
    "created_at": "2011-10-05T08:22:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11142",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11142#issuecomment-110832",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

See #11898 for a problem probably caused by this.
