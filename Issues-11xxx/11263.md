# Issue 11263: Markup ".. link" is wrong in the developer guide. Add ".. linkall" to systematically link.

archive/issues_011091.json:
```json
{
    "body": "The developer guide says:\n\n```\nTo link together verbatim environments, use the .. link:: comment.\n```\nwhereas the correct markup is `.. link` without `::`\nsame for `.. skip`\n\nI also add a new markup `.. linkall` which doesn't split the various block anymore.\n\n## Apply\n\n* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library\n* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n \n\n\nAssignee: @hivert\n\nCC:  @jhpalmieri\n\nKeywords: developer link skip markup\n\nResolution: fixed\n\nAuthor: Florent Hivert\n\nReviewer: John Palmieri\n\nMerged: sage-4.7.1.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11263\n\n",
    "closed_at": "2011-05-27T12:02:33Z",
    "created_at": "2011-04-28T00:34:02Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "Markup \".. link\" is wrong in the developer guide. Add \".. linkall\" to systematically link.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11263",
    "user": "https://github.com/hivert"
}
```
The developer guide says:

```
To link together verbatim environments, use the .. link:: comment.
```
whereas the correct markup is `.. link` without `::`
same for `.. skip`

I also add a new markup `.. linkall` which doesn't split the various block anymore.

## Apply

* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library
* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
 


Assignee: @hivert

CC:  @jhpalmieri

Keywords: developer link skip markup

Resolution: fixed

Author: Florent Hivert

Reviewer: John Palmieri

Merged: sage-4.7.1.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/11263





---

archive/issue_comments_147606.json:
```json
{
    "body": "<a id='comment:1'></a>Hi John,\n\nThis is a long standing one... In http://groups.google.com/group/sage-devel/browse_thread/thread/cdeed06311378df0?pli=1 you asked to be put in cc...",
    "created_at": "2011-04-28T00:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147606",
    "user": "https://github.com/hivert"
}
```

<a id='comment:1'></a>Hi John,

This is a long standing one... In http://groups.google.com/group/sage-devel/browse_thread/thread/cdeed06311378df0?pli=1 you asked to be put in cc...



---

archive/issue_comments_147607.json:
```json
{
    "body": "<a id='comment:3'></a>I have a patch proposal which require one patch for the developer guide and one for the file `$SAGE_ROOT/local/bin/sage-test`. I'm not sure how I am supposed to submit this second one. Should I just create a patch as usual against the hg repository inside `$SAGE_ROOT/local/bin/sage-test` ?",
    "created_at": "2011-04-28T22:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147607",
    "user": "https://github.com/hivert"
}
```

<a id='comment:3'></a>I have a patch proposal which require one patch for the developer guide and one for the file `$SAGE_ROOT/local/bin/sage-test`. I'm not sure how I am supposed to submit this second one. Should I just create a patch as usual against the hg repository inside `$SAGE_ROOT/local/bin/sage-test` ?



---

archive/issue_comments_147608.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n ```\n whereas the correct markup is `.. link` without `::`\n same for `.. skip`\n+\n+I also add a new markup `.. linkall` which doesn't split the various block anymore.\n``````\n",
    "created_at": "2011-04-28T22:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147608",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 ```
 whereas the correct markup is `.. link` without `::`
 same for `.. skip`
+
+I also add a new markup `.. linkall` which doesn't split the various block anymore.
``````




---

archive/issue_comments_147609.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,10 @@\n same for `.. skip`\n \n I also add a new markup `.. linkall` which doesn't split the various block anymore.\n+\n+## Apply\n+\n+* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library\n+* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n+ \n+\n``````\n",
    "created_at": "2011-05-02T20:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147609",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,10 @@
 same for `.. skip`
 
 I also add a new markup `.. linkall` which doesn't split the various block anymore.
+
+## Apply
+
+* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library
+* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
+ 
+
``````




---

archive/issue_comments_147610.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-02T20:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147610",
    "user": "https://github.com/hivert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_147611.json:
```json
{
    "body": "<a id='comment:6'></a>One correction: the line\n\n```\nwill act as there where\n```\nshould be\n\n```\nwill act as if there were\n```\nThe scripts patch works as advertised.  Right now, \".. linkall\" anywhere in the file will (as it says) link everything together.  For example, the addition of the text \".. linkall\" to that section of the developer's guide now means that everything there is linked together.  This is not an issue for that particular file, but would it be better to search for `\\n.. linkall\\n` or do a regular expression search for `^\\s*\\.\\.\\s+linkall\\s*$` or something like that (i.e., beginning of line, optional white space, two dots, non-optional whitespace, \"linkall\", optional whitespace, end of line)?",
    "created_at": "2011-05-02T22:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147611",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>One correction: the line

```
will act as there where
```
should be

```
will act as if there were
```
The scripts patch works as advertised.  Right now, ".. linkall" anywhere in the file will (as it says) link everything together.  For example, the addition of the text ".. linkall" to that section of the developer's guide now means that everything there is linked together.  This is not an issue for that particular file, but would it be better to search for `\n.. linkall\n` or do a regular expression search for `^\s*\.\.\s+linkall\s*$` or something like that (i.e., beginning of line, optional white space, two dots, non-optional whitespace, "linkall", optional whitespace, end of line)?



---

archive/issue_comments_147612.json:
```json
{
    "body": "<a id='comment:7'></a>In more detail, replacing\n\n```\n    link_all = '.. linkall' in F\n```\nby\n\n```\n    link_all = re.search(r'^\\s*\\.\\.\\s+linkall\\s*$', F, re.M)\n```\nseems to work for me, and only catches \".. linkall\" if it's on a line by itself, other than white space.",
    "created_at": "2011-05-02T22:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147612",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>In more detail, replacing

```
    link_all = '.. linkall' in F
```
by

```
    link_all = re.search(r'^\s*\.\.\s+linkall\s*$', F, re.M)
```
seems to work for me, and only catches ".. linkall" if it's on a line by itself, other than white space.



---

archive/issue_comments_147613.json:
```json
{
    "body": "Attachment [trac_11263-doctests_link_all-fh.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-fh.patch) by @hivert created at 2011-05-03 17:56:26",
    "created_at": "2011-05-03T17:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147613",
    "user": "https://github.com/hivert"
}
```

Attachment [trac_11263-doctests_link_all-fh.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-fh.patch) by @hivert created at 2011-05-03 17:56:26



---

archive/issue_comments_147614.json:
```json
{
    "body": "Attachment [trac_11263-doctests_link_all-SAGE.local.bin-fh.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-SAGE.local.bin-fh.patch) by @hivert created at 2011-05-03 17:56:33",
    "created_at": "2011-05-03T17:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147614",
    "user": "https://github.com/hivert"
}
```

Attachment [trac_11263-doctests_link_all-SAGE.local.bin-fh.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-SAGE.local.bin-fh.patch) by @hivert created at 2011-05-03 17:56:33



---

archive/issue_comments_147615.json:
```json
{
    "body": "Changing reviewer from \"\" to \"John Palmieri\"",
    "created_at": "2011-05-03T18:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147615",
    "user": "https://github.com/hivert"
}
```

Changing reviewer from "" to "John Palmieri"



---

archive/issue_comments_147616.json:
```json
{
    "body": "Changing author from \"\" to \"Florent Hivert\"",
    "created_at": "2011-05-03T18:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147616",
    "user": "https://github.com/hivert"
}
```

Changing author from "" to "Florent Hivert"



---

archive/issue_comments_147617.json:
```json
{
    "body": "<a id='comment:8'></a>> `link_all = re.search(r'^\\s*\\.\\.\\s+linkall\\s*$', F, re.M)`\n> seems to work for me, and only catches \".. linkall\" if it's on a line by itself, other than white space.\n\n\nSorry for my bad English and thanks for taking care of writing the regexp.  I\njust submitted two new patches which should address your remarks.\n\nThanks for the review.",
    "created_at": "2011-05-03T18:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147617",
    "user": "https://github.com/hivert"
}
```

<a id='comment:8'></a>> `link_all = re.search(r'^\s*\.\.\s+linkall\s*$', F, re.M)`
> seems to work for me, and only catches ".. linkall" if it's on a line by itself, other than white space.


Sorry for my bad English and thanks for taking care of writing the regexp.  I
just submitted two new patches which should address your remarks.

Thanks for the review.



---

archive/issue_comments_147618.json:
```json
{
    "body": "apply on top of trac_11263-doctests_link_all-fh.patch",
    "created_at": "2011-05-03T18:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147618",
    "user": "https://github.com/jhpalmieri"
}
```

apply on top of trac_11263-doctests_link_all-fh.patch



---

archive/issue_comments_147619.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,6 +11,7 @@\n ## Apply\n \n * [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library\n+* [attachment:trac_11263-second.patch] to Sage's library\n * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n  \n \n``````\n",
    "created_at": "2011-05-03T18:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147619",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,6 +11,7 @@
 ## Apply
 
 * [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library
+* [attachment:trac_11263-second.patch] to Sage's library
 * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
  
 
``````




---

archive/issue_comments_147620.json:
```json
{
    "body": "<a id='comment:9'></a>Attachment [trac_11263-second.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-second.patch) by @jhpalmieri created at 2011-05-03 18:55:39\n\nHere's a patch which modifies the wording in the developer's guide, plus it adds an example of using \".. linkall\" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.",
    "created_at": "2011-05-03T18:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147620",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>Attachment [trac_11263-second.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-second.patch) by @jhpalmieri created at 2011-05-03 18:55:39

Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using ".. linkall" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.



---

archive/issue_comments_147621.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-05-03T19:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147621",
    "user": "https://github.com/hivert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_147622.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [jhpalmieri](#comment%3A9):\n> Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using \".. linkall\" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.\n\n\nLooks perfectly Ok ! Thanks for the help. Should I fold the two patches ?",
    "created_at": "2011-05-03T19:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147622",
    "user": "https://github.com/hivert"
}
```

<a id='comment:10'></a>Replying to [jhpalmieri](#comment%3A9):
> Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using ".. linkall" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.


Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ?



---

archive/issue_comments_147623.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [hivert](#comment%3A10):\n> Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ? \n\n\nSure, that might make it easier for the release manager.  Thanks.",
    "created_at": "2011-05-03T20:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147623",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>Replying to [hivert](#comment%3A10):
> Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ? 


Sure, that might make it easier for the release manager.  Thanks.



---

archive/issue_comments_147624.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,8 +10,7 @@\n \n ## Apply\n \n-* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library\n-* [attachment:trac_11263-second.patch] to Sage's library\n+* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library\n * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n  \n \n``````\n",
    "created_at": "2011-05-03T21:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147624",
    "user": "https://github.com/hivert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,8 +10,7 @@
 
 ## Apply
 
-* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library
-* [attachment:trac_11263-second.patch] to Sage's library
+* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library
 * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
  
 
``````




---

archive/issue_comments_147625.json:
```json
{
    "body": "<a id='comment:12'></a>Attachment [trac_11263-doctests_link_all-FOLDED-fh.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-FOLDED-fh.patch) by @hivert created at 2011-05-03 21:49:01\n\nI just uploaded the folded patch.",
    "created_at": "2011-05-03T21:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147625",
    "user": "https://github.com/hivert"
}
```

<a id='comment:12'></a>Attachment [trac_11263-doctests_link_all-FOLDED-fh.patch](tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-FOLDED-fh.patch) by @hivert created at 2011-05-03 21:49:01

I just uploaded the folded patch.



---

archive/issue_comments_147626.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-05-27T12:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147626",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_147627.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.7.1.alpha1\"",
    "created_at": "2011-05-27T12:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-147627",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.7.1.alpha1"



---

archive/issue_events_029161.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-27T12:02:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-29161"
}
```
