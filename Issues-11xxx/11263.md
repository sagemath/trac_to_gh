# Issue 11263: Markup ".. link" is wrong in the developer guide. Add ".. linkall" to systematically link.

archive/issues_011091.json:
```json
{
    "body": "The developer guide says:\n\n```\nTo link together verbatim environments, use the .. link:: comment.\n```\nwhereas the correct markup is `.. link` without `::`\nsame for `.. skip`\n\nI also add a new markup `.. linkall` which doesn't split the various block anymore.\n\n## Apply\n\n* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library\n* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n \n\n\n**Assignee:** @hivert\n\n**CC:**  @jhpalmieri\n\n**Keywords:** developer link skip markup\n\n**Author:** Florent Hivert\n\n**Reviewer:** John Palmieri\n\n**Merged:** sage-4.7.1.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11263\n\n",
    "closed_at": "2011-05-27T12:02:33Z",
    "created_at": "2011-04-28T00:34:02Z",
    "labels": [
        "component: documentation",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "Markup \".. link\" is wrong in the developer guide. Add \".. linkall\" to systematically link.",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11263",
    "user": "https://github.com/hivert"
}
```
The developer guide says:

```
To link together verbatim environments, use the .. link:: comment.
```
whereas the correct markup is `.. link` without `::`
same for `.. skip`

I also add a new markup `.. linkall` which doesn't split the various block anymore.

## Apply

* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library
* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
 


**Assignee:** @hivert

**CC:**  @jhpalmieri

**Keywords:** developer link skip markup

**Author:** Florent Hivert

**Reviewer:** John Palmieri

**Merged:** sage-4.7.1.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/11263





---

archive/issue_comments_116561.json:
```json
{
    "body": "<a id='comment:1'></a>\nHi John,\n\nThis is a long standing one... In http://groups.google.com/group/sage-devel/browse_thread/thread/cdeed06311378df0?pli=1 you asked to be put in cc...",
    "created_at": "2011-04-28T00:37:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116561",
    "user": "https://github.com/hivert"
}
```

<a id='comment:1'></a>
Hi John,

This is a long standing one... In http://groups.google.com/group/sage-devel/browse_thread/thread/cdeed06311378df0?pli=1 you asked to be put in cc...



---

archive/issue_comments_116562.json:
```json
{
    "body": "<a id='comment:3'></a>\nI have a patch proposal which require one patch for the developer guide and one for the file `$SAGE_ROOT/local/bin/sage-test`. I'm not sure how I am supposed to submit this second one. Should I just create a patch as usual against the hg repository inside `$SAGE_ROOT/local/bin/sage-test` ?",
    "created_at": "2011-04-28T22:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116562",
    "user": "https://github.com/hivert"
}
```

<a id='comment:3'></a>
I have a patch proposal which require one patch for the developer guide and one for the file `$SAGE_ROOT/local/bin/sage-test`. I'm not sure how I am supposed to submit this second one. Should I just create a patch as usual against the hg repository inside `$SAGE_ROOT/local/bin/sage-test` ?



---

archive/issue_comments_116563.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,3 +5,5 @@\n ```\n whereas the correct markup is `.. link` without `::`\n same for `.. skip`\n+\n+I also add a new markup `.. linkall` which doesn't split the various block anymore.\n``````\n",
    "created_at": "2011-04-28T22:15:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116563",
    "user": "https://github.com/hivert"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,3 +5,5 @@
 ```
 whereas the correct markup is `.. link` without `::`
 same for `.. skip`
+
+I also add a new markup `.. linkall` which doesn't split the various block anymore.
``````




---

archive/issue_events_090235.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-05-02T20:29:26Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "rename": {
        "from": "Correct the developer guide testing ReST documentation section.",
        "to": "Markup \".. link\" is wrong in the developer guide. Add \".. linkall\" to systematically link."
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-90235"
}
```



---

archive/issue_comments_116564.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,3 +7,10 @@\n same for `.. skip`\n \n I also add a new markup `.. linkall` which doesn't split the various block anymore.\n+\n+## Apply\n+\n+* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library\n+* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n+ \n+\n``````\n",
    "created_at": "2011-05-02T20:36:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116564",
    "user": "https://github.com/hivert"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,3 +7,10 @@
 same for `.. skip`
 
 I also add a new markup `.. linkall` which doesn't split the various block anymore.
+
+## Apply
+
+* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library
+* [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
+ 
+
``````




---

archive/issue_events_090236.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-05-02T20:36:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-90236"
}
```



---

archive/issue_comments_116565.json:
```json
{
    "body": "<a id='comment:6'></a>\nOne correction: the line\n\n```\nwill act as there where\n```\nshould be\n\n```\nwill act as if there were\n```\nThe scripts patch works as advertised.  Right now, \".. linkall\" anywhere in the file will (as it says) link everything together.  For example, the addition of the text \".. linkall\" to that section of the developer's guide now means that everything there is linked together.  This is not an issue for that particular file, but would it be better to search for `\\n.. linkall\\n` or do a regular expression search for `^\\s*\\.\\.\\s+linkall\\s*$` or something like that (i.e., beginning of line, optional white space, two dots, non-optional whitespace, \"linkall\", optional whitespace, end of line)?",
    "created_at": "2011-05-02T22:15:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116565",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
One correction: the line

```
will act as there where
```
should be

```
will act as if there were
```
The scripts patch works as advertised.  Right now, ".. linkall" anywhere in the file will (as it says) link everything together.  For example, the addition of the text ".. linkall" to that section of the developer's guide now means that everything there is linked together.  This is not an issue for that particular file, but would it be better to search for `\n.. linkall\n` or do a regular expression search for `^\s*\.\.\s+linkall\s*$` or something like that (i.e., beginning of line, optional white space, two dots, non-optional whitespace, "linkall", optional whitespace, end of line)?



---

archive/issue_comments_116566.json:
```json
{
    "body": "<a id='comment:7'></a>\nIn more detail, replacing\n\n```\n    link_all = '.. linkall' in F\n```\nby\n\n```\n    link_all = re.search(r'^\\s*\\.\\.\\s+linkall\\s*$', F, re.M)\n```\nseems to work for me, and only catches \".. linkall\" if it's on a line by itself, other than white space.",
    "created_at": "2011-05-02T22:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116566",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:7'></a>
In more detail, replacing

```
    link_all = '.. linkall' in F
```
by

```
    link_all = re.search(r'^\s*\.\.\s+linkall\s*$', F, re.M)
```
seems to work for me, and only catches ".. linkall" if it's on a line by itself, other than white space.



---

archive/attachments_014749.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11263-doctests_link_all-fh.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-fh.patch",
    "created_at": "2011-05-03T17:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/hivert"
}
```



---

archive/issue_comments_116567.json:
```json
{
    "body": "",
    "created_at": "2011-05-03T17:56:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116567",
    "user": "https://github.com/hivert"
}
```





---

archive/attachments_014750.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11263-doctests_link_all-SAGE.local.bin-fh.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-SAGE.local.bin-fh.patch",
    "created_at": "2011-05-03T17:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/hivert"
}
```



---

archive/issue_comments_116568.json:
```json
{
    "body": "",
    "created_at": "2011-05-03T17:56:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116568",
    "user": "https://github.com/hivert"
}
```





---

archive/issue_comments_116569.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2011-05-03T18:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116569",
    "user": "https://github.com/hivert"
}
```

**Reviewer:** John Palmieri



---

archive/issue_comments_116570.json:
```json
{
    "body": "**Author:** Florent Hivert",
    "created_at": "2011-05-03T18:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116570",
    "user": "https://github.com/hivert"
}
```

**Author:** Florent Hivert



---

archive/issue_comments_116571.json:
```json
{
    "body": "<a id='comment:8'></a>\n> `link_all = re.search(r'^\\s*\\.\\.\\s+linkall\\s*$', F, re.M)`\n> seems to work for me, and only catches \".. linkall\" if it's on a line by itself, other than white space.\n\n\nSorry for my bad English and thanks for taking care of writing the regexp.  I\njust submitted two new patches which should address your remarks.\n\nThanks for the review.",
    "created_at": "2011-05-03T18:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116571",
    "user": "https://github.com/hivert"
}
```

<a id='comment:8'></a>
> `link_all = re.search(r'^\s*\.\.\s+linkall\s*$', F, re.M)`
> seems to work for me, and only catches ".. linkall" if it's on a line by itself, other than white space.


Sorry for my bad English and thanks for taking care of writing the regexp.  I
just submitted two new patches which should address your remarks.

Thanks for the review.



---

archive/issue_comments_116572.json:
```json
{
    "body": "apply on top of trac_11263-doctests_link_all-fh.patch",
    "created_at": "2011-05-03T18:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116572",
    "user": "https://github.com/jhpalmieri"
}
```

apply on top of trac_11263-doctests_link_all-fh.patch



---

archive/issue_comments_116573.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,6 +11,7 @@\n ## Apply\n \n * [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library\n+* [attachment:trac_11263-second.patch] to Sage's library\n * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n  \n \n``````\n",
    "created_at": "2011-05-03T18:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116573",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,6 +11,7 @@
 ## Apply
 
 * [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library
+* [attachment:trac_11263-second.patch] to Sage's library
 * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
  
 
``````




---

archive/attachments_014751.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11263-second.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11263/trac_11263-second.patch",
    "created_at": "2011-05-03T18:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_116574.json:
```json
{
    "body": "<a id='comment:9'></a>\nHere's a patch which modifies the wording in the developer's guide, plus it adds an example of using \".. linkall\" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.",
    "created_at": "2011-05-03T18:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116574",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:9'></a>
Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using ".. linkall" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.



---

archive/issue_events_090237.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-05-03T19:03:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-90237"
}
```



---

archive/issue_events_090238.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2011-05-03T19:03:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-90238"
}
```



---

archive/issue_comments_116575.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jhpalmieri](#comment%3A9):\n> Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using \".. linkall\" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.\n\n\nLooks perfectly Ok ! Thanks for the help. Should I fold the two patches ?",
    "created_at": "2011-05-03T19:03:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116575",
    "user": "https://github.com/hivert"
}
```

<a id='comment:10'></a>
Replying to [jhpalmieri](#comment%3A9):
> Here's a patch which modifies the wording in the developer's guide, plus it adds an example of using ".. linkall" (to a file in the tutorial).  Florent, I'm happy with your changes.  If you're okay with mine, you can give the whole ticket a positive review.


Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ?



---

archive/issue_comments_116576.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [hivert](#comment%3A10):\n> Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ? \n\n\nSure, that might make it easier for the release manager.  Thanks.",
    "created_at": "2011-05-03T20:22:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116576",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
Replying to [hivert](#comment%3A10):
> Looks perfectly Ok ! Thanks for the help. Should I fold the two patches ? 


Sure, that might make it easier for the release manager.  Thanks.



---

archive/issue_comments_116577.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,8 +10,7 @@\n \n ## Apply\n \n-* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library\n-* [attachment:trac_11263-second.patch] to Sage's library\n+* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library\n * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`\n  \n \n``````\n",
    "created_at": "2011-05-03T21:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116577",
    "user": "https://github.com/hivert"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,8 +10,7 @@
 
 ## Apply
 
-* [attachment:trac_11263-doctests_link_all-fh.patch] to Sage's library
-* [attachment:trac_11263-second.patch] to Sage's library
+* [attachment:trac_11263-doctests_link_all-FOLDED-fh.patch] to Sage's library
 * [attachment:trac_11263-doctests_link_all-SAGE.local.bin-fh.patch] to `SAGE_ROOT/local/bin`
  
 
``````




---

archive/attachments_014752.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11263-doctests_link_all-FOLDED-fh.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11263/trac_11263-doctests_link_all-FOLDED-fh.patch",
    "created_at": "2011-05-03T21:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/hivert"
}
```



---

archive/issue_comments_116578.json:
```json
{
    "body": "<a id='comment:12'></a>\nI just uploaded the folded patch.",
    "created_at": "2011-05-03T21:49:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116578",
    "user": "https://github.com/hivert"
}
```

<a id='comment:12'></a>
I just uploaded the folded patch.



---

archive/issue_comments_116579.json:
```json
{
    "body": "**Merged:** sage-4.7.1.alpha1",
    "created_at": "2011-05-27T12:02:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11263#issuecomment-116579",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.1.alpha1



---

archive/issue_events_090239.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-27T12:02:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-90239"
}
```



---

archive/issue_events_090240.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-27T12:02:33Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11263",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11263#event-90240"
}
```
