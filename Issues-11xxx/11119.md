# Issue 11119: ECL 11.1.1 fails on Cygwin

archive/issues_010980.json:
```json
{
    "body": "ECL 11.1.1 fails on Cygwin with \n\n```\ngcc -DECLDIR=\"\\\"/home/mhansen/sage-4.7.alpha3/local/lib/ecl-11.1.1\\\"\" -I. -I/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/build -I/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c -I../ecl/gc -DECL_API -DECL_NO_LEGACY   -I/home/mhansen/sage-4.7.alpha3/local/include  -g -O2   -Dcygwin -c -o ffi/libraries.o tmp.c\n/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d: In function \u2018copy_object_file\u2019:\n/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: \u2018S_IRWXU\u2019 undeclared (first use in this function)\n/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: (Each undeclared identifier is reported only once\n/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: for each function it appears in.)\nmake[4]: *** [ffi/libraries.o] Error 1\n```\n\nanother problem is absence of double inclusion guard in /usr/include/fenv.h, \nwhich causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, you could edit your /usr/include/fenv.h.\n\n---\n\nUpstream patches fixing the issues here are in the spkg below.  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.\n\n---\n\nSee instead #11884.\n\n**CC:**  @nexttime\n\n**Resolution:** duplicate\n\n**Reviewer:** Jeroen Demeyer\n\n**Upstream:** Fixed upstream, but not in a stable release.\n\nIssue created by migration from https://trac.sagemath.org/ticket/11119\n\n",
    "closed_at": "2011-10-17T07:58:23Z",
    "created_at": "2011-04-03T17:28:25Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "ECL 11.1.1 fails on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11119",
    "user": "https://github.com/mwhansen"
}
```
ECL 11.1.1 fails on Cygwin with 

```
gcc -DECLDIR="\"/home/mhansen/sage-4.7.alpha3/local/lib/ecl-11.1.1\"" -I. -I/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/build -I/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c -I../ecl/gc -DECL_API -DECL_NO_LEGACY   -I/home/mhansen/sage-4.7.alpha3/local/include  -g -O2   -Dcygwin -c -o ffi/libraries.o tmp.c
/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d: In function ‘copy_object_file’:
/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: ‘S_IRWXU’ undeclared (first use in this function)
/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: (Each undeclared identifier is reported only once
/home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: for each function it appears in.)
make[4]: *** [ffi/libraries.o] Error 1
```

another problem is absence of double inclusion guard in /usr/include/fenv.h, 
which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, you could edit your /usr/include/fenv.h.

---

Upstream patches fixing the issues here are in the spkg below.  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.

---

See instead #11884.

**CC:**  @nexttime

**Resolution:** duplicate

**Reviewer:** Jeroen Demeyer

**Upstream:** Fixed upstream, but not in a stable release.

Issue created by migration from https://trac.sagemath.org/ticket/11119





---

archive/issue_comments_150340.json:
```json
{
    "body": "<a id='comment:1'></a>\nCould you attach the full log? We should at least have a look at what happened during configure.",
    "created_at": "2011-04-03T22:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150340",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:1'></a>
Could you attach the full log? We should at least have a look at what happened during configure.



---

archive/issue_comments_150341.json:
```json
{
    "body": "<a id='comment:2'></a>\nI believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.",
    "created_at": "2011-04-04T14:00:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150341",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:2'></a>
I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.



---

archive/issue_comments_150342.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [mhansen](#comment%3A2):\n> I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.\n\n\nWould make sense. Is upstream aware of this? Also, was there any issue with ecl-10.4.1?\nI may have a look at making yet again another ecl-11.1.1 spkg when I have a bit of time.",
    "created_at": "2011-04-04T21:51:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150342",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
Replying to [mhansen](#comment%3A2):
> I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.


Would make sense. Is upstream aware of this? Also, was there any issue with ecl-10.4.1?
I may have a look at making yet again another ecl-11.1.1 spkg when I have a bit of time.



---

archive/issue_comments_150343.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [mhansen](#comment%3A2):\n> I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.\n\n\nno, this redefines a bunch of stuff and does not compile as a result.",
    "created_at": "2011-04-24T05:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150343",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Replying to [mhansen](#comment%3A2):
> I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.


no, this redefines a bunch of stuff and does not compile as a result.



---

archive/issue_comments_150344.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [dimpase](#comment%3A4):\n> Replying to [mhansen](#comment%3A2):\n> > I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.\n\n> \n> no, this redefines a bunch of stuff and does not compile as a result.\n\noops, please ignore this. Adding the include to libraries.d fixes this particular problem.\n\nThe next one is in c/numbers/cos.d:\n\n```\n...\nif test -f ../CROSS-DPP ; then ../CROSS-DPP /home/dima/sage-4.7.alpha5/spkg/buil\nd/ecl-11.1.1.p0/src/src/c/numbers/cos.d tmp.c ; else ./dpp.exe /home/dima/sage-4\n.7.alpha5/spkg/build/ecl-11.1.1.p0/src/src/c/numbers/cos.d tmp.c ; fi\ndpp: /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/src/c/numbers/cos.d\n -> tmp.c\ngcc -DECLDIR=\"\\\"/home/dima/sage-4.7.alpha5/local/lib/ecl-11.1.1\\\"\" -I. -I/home/d\nima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/build -I/home/dima/sage-4.7.alp\nha5/spkg/build/ecl-11.1.1.p0/src/src/c -I../ecl/gc -DECL_API -DECL_NO_LEGACY   -\nI/home/dima/sage-4.7.alpha5/local/include  -g -O2   -Dcygwin -c -o numbers/cos.o\n tmp.c\nIn file included from /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/bu\nild/ecl/impl/math_fenv.h:68,\n                 from /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/bu\nild/ecl/impl/math_dispatch.h:20,\n                 from /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/sr\nc/c/numbers/cos.d:21:\n/usr/include/fenv.h:52: error: redefinition of `struct _fenv_t'\n/usr/include/fenv.h:53: error: redefinition of `struct _fpu_env_info'\n/usr/include/fenv.h:63: error: conflicting types for `fenv_t'\n/usr/include/fenv.h:63: error: previous declaration of `fenv_t' was here\n/usr/include/fenv.h:75: error: redefinition of `struct _fexcept_t'\n/usr/include/fenv.h:78: error: conflicting types for `fexcept_t'\n/usr/include/fenv.h:78: error: previous declaration of `fexcept_t' was here\n/usr/include/fenv.h:127: error: conflicting types for `_fe_dfl_env'\n/usr/include/fenv.h:127: error: previous declaration of `_fe_dfl_env' was here\n/usr/include/fenv.h:148: error: conflicting types for `fegetexceptflag'\n/usr/include/fenv.h:148: error: previous declaration of `fegetexceptflag' was he\nre\n/usr/include/fenv.h:150: error: conflicting types for `fesetexceptflag'\n/usr/include/fenv.h:150: error: previous declaration of `fesetexceptflag' was he\nre\n/usr/include/fenv.h:154: error: conflicting types for `fegetenv'\n/usr/include/fenv.h:154: error: previous declaration of `fegetenv' was here\n/usr/include/fenv.h:155: error: conflicting types for `feholdexcept'\n/usr/include/fenv.h:155: error: previous declaration of `feholdexcept' was here\n/usr/include/fenv.h:156: error: conflicting types for `fesetenv'\n/usr/include/fenv.h:156: error: previous declaration of `fesetenv' was here\n/usr/include/fenv.h:157: error: conflicting types for `feupdateenv'\n/usr/include/fenv.h:157: error: previous declaration of `feupdateenv' was here\nmake[4]: *** [numbers/cos.o] Error 1\nmake[4]: Leaving directory `/home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/\nsrc/build/c'\nmake[3]: *** [libeclmin.a] Error 2\nmake[3]: Leaving directory `/home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/\nsrc/build'\nmake[2]: *** [all] Error 2\nmake[2]: Leaving directory `/home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/\nsrc'\nError - Failed to build ECL ... exiting\n```",
    "created_at": "2011-04-24T08:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150344",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
Replying to [dimpase](#comment%3A4):
> Replying to [mhansen](#comment%3A2):
> > I believe fixing it is just a matter of including `sys/stat.h` in that file on Cygwin.

> 
> no, this redefines a bunch of stuff and does not compile as a result.

oops, please ignore this. Adding the include to libraries.d fixes this particular problem.

The next one is in c/numbers/cos.d:

```
...
if test -f ../CROSS-DPP ; then ../CROSS-DPP /home/dima/sage-4.7.alpha5/spkg/buil
d/ecl-11.1.1.p0/src/src/c/numbers/cos.d tmp.c ; else ./dpp.exe /home/dima/sage-4
.7.alpha5/spkg/build/ecl-11.1.1.p0/src/src/c/numbers/cos.d tmp.c ; fi
dpp: /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/src/c/numbers/cos.d
 -> tmp.c
gcc -DECLDIR="\"/home/dima/sage-4.7.alpha5/local/lib/ecl-11.1.1\"" -I. -I/home/d
ima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/build -I/home/dima/sage-4.7.alp
ha5/spkg/build/ecl-11.1.1.p0/src/src/c -I../ecl/gc -DECL_API -DECL_NO_LEGACY   -
I/home/dima/sage-4.7.alpha5/local/include  -g -O2   -Dcygwin -c -o numbers/cos.o
 tmp.c
In file included from /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/bu
ild/ecl/impl/math_fenv.h:68,
                 from /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/bu
ild/ecl/impl/math_dispatch.h:20,
                 from /home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/src/sr
c/c/numbers/cos.d:21:
/usr/include/fenv.h:52: error: redefinition of `struct _fenv_t'
/usr/include/fenv.h:53: error: redefinition of `struct _fpu_env_info'
/usr/include/fenv.h:63: error: conflicting types for `fenv_t'
/usr/include/fenv.h:63: error: previous declaration of `fenv_t' was here
/usr/include/fenv.h:75: error: redefinition of `struct _fexcept_t'
/usr/include/fenv.h:78: error: conflicting types for `fexcept_t'
/usr/include/fenv.h:78: error: previous declaration of `fexcept_t' was here
/usr/include/fenv.h:127: error: conflicting types for `_fe_dfl_env'
/usr/include/fenv.h:127: error: previous declaration of `_fe_dfl_env' was here
/usr/include/fenv.h:148: error: conflicting types for `fegetexceptflag'
/usr/include/fenv.h:148: error: previous declaration of `fegetexceptflag' was he
re
/usr/include/fenv.h:150: error: conflicting types for `fesetexceptflag'
/usr/include/fenv.h:150: error: previous declaration of `fesetexceptflag' was he
re
/usr/include/fenv.h:154: error: conflicting types for `fegetenv'
/usr/include/fenv.h:154: error: previous declaration of `fegetenv' was here
/usr/include/fenv.h:155: error: conflicting types for `feholdexcept'
/usr/include/fenv.h:155: error: previous declaration of `feholdexcept' was here
/usr/include/fenv.h:156: error: conflicting types for `fesetenv'
/usr/include/fenv.h:156: error: previous declaration of `fesetenv' was here
/usr/include/fenv.h:157: error: conflicting types for `feupdateenv'
/usr/include/fenv.h:157: error: previous declaration of `feupdateenv' was here
make[4]: *** [numbers/cos.o] Error 1
make[4]: Leaving directory `/home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/
src/build/c'
make[3]: *** [libeclmin.a] Error 2
make[3]: Leaving directory `/home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/
src/build'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/home/dima/sage-4.7.alpha5/spkg/build/ecl-11.1.1.p0/
src'
Error - Failed to build ECL ... exiting
```



---

archive/issue_comments_150345.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [dimpase](#comment%3A5):\napparently, all this is caused by a new Cygwin:\n\nhttp://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg00966.html",
    "created_at": "2011-04-24T08:24:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150345",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
Replying to [dimpase](#comment%3A5):
apparently, all this is caused by a new Cygwin:

http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg00966.html



---

archive/issue_comments_150346.json:
```json
{
    "body": "**Changing upstream** from \"N/A\" to \"Not yet reported upstream; Will do shortly.\".",
    "created_at": "2011-04-24T08:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150346",
    "user": "https://github.com/dimpase"
}
```

**Changing upstream** from "N/A" to "Not yet reported upstream; Will do shortly.".



---

archive/issue_comments_150347.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [dimpase](#comment%3A6):\n> Replying to [dimpase](#comment%3A5):\n> apparently, all this is caused by a new Cygwin:\n> \n> http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg00966.html\n\n\nindeed, it's just that /usr/include/fenv.h is not protected from double inclusion.\nAdding \n\n```\n#define _FENV_H_\n```\ninto its first lines fixes the problem, and ecl builds!\nI'll notify upstream (cygwin) on this.\nIf this is not fixed in cygwin itself, then it's of course trivial to fix in the ecl code.",
    "created_at": "2011-04-24T08:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150347",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
Replying to [dimpase](#comment%3A6):
> Replying to [dimpase](#comment%3A5):
> apparently, all this is caused by a new Cygwin:
> 
> http://www.mail-archive.com/ecls-list`@`lists.sourceforge.net/msg00966.html


indeed, it's just that /usr/include/fenv.h is not protected from double inclusion.
Adding 

```
#define _FENV_H_
```
into its first lines fixes the problem, and ecl builds!
I'll notify upstream (cygwin) on this.
If this is not fixed in cygwin itself, then it's of course trivial to fix in the ecl code.



---

archive/issue_comments_150348.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [dimpase](#comment%3A7):\nthey were quick:\n\nhttp://cygwin.com/ml/cygwin/2011-04/msg00336.html\n\nso the fenv.h problem will be fixed in the coming release; meanwhile feel free to edit the system header :)",
    "created_at": "2011-04-24T12:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150348",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
Replying to [dimpase](#comment%3A7):
they were quick:

http://cygwin.com/ml/cygwin/2011-04/msg00336.html

so the fenv.h problem will be fixed in the coming release; meanwhile feel free to edit the system header :)



---

archive/issue_comments_150349.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,6 @@\n /home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: for each function it appears in.)\n make[4]: *** [ffi/libraries.o] Error 1\n ```\n+\n+another problem is absence of double inclusion guard in /usr/include/fenv.h, \n+which courses other troubles (see below). This is in fact a Cygwin bug uncovered here, which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.\n``````\n",
    "created_at": "2011-04-24T13:18:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150349",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,6 @@
 /home/mhansen/sage-4.7.alpha3/spkg/build/ecl-11.1.1/src/src/c/ffi/libraries.d:108: error: for each function it appears in.)
 make[4]: *** [ffi/libraries.o] Error 1
 ```
+
+another problem is absence of double inclusion guard in /usr/include/fenv.h, 
+which courses other troubles (see below). This is in fact a Cygwin bug uncovered here, which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.
``````




---

archive/issue_comments_150350.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,4 +10,4 @@\n ```\n \n another problem is absence of double inclusion guard in /usr/include/fenv.h, \n-which courses other troubles (see below). This is in fact a Cygwin bug uncovered here, which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.\n+which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.\n``````\n",
    "created_at": "2011-04-24T13:23:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150350",
    "user": "https://github.com/dimpase"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,4 +10,4 @@
 ```
 
 another problem is absence of double inclusion guard in /usr/include/fenv.h, 
-which courses other troubles (see below). This is in fact a Cygwin bug uncovered here, which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.
+which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.
``````




---

archive/issue_comments_150351.json:
```json
{
    "body": "<a id='comment:11'></a>\nTrying this on XP now.",
    "created_at": "2011-06-15T16:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150351",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:11'></a>
Trying this on XP now.



---

archive/issue_comments_150352.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-06-15T18:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150352",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_150353.json:
```json
{
    "body": "<a id='comment:12'></a>\nThis (adding the include in sys/stat.h) appears to work fine on XP!\n\nHere's what's needed for positive review, I think.\n\n* Make an spkg with that change, that includes information to deprecate for newer Cygwin (or that has a switch for different versions with a patching in the old case).\n* Testing the spkg on XP.\n* Testing the spkg on 7.",
    "created_at": "2011-06-15T18:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150353",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
This (adding the include in sys/stat.h) appears to work fine on XP!

Here's what's needed for positive review, I think.

* Make an spkg with that change, that includes information to deprecate for newer Cygwin (or that has a switch for different versions with a patching in the old case).
* Testing the spkg on XP.
* Testing the spkg on 7.



---

archive/issue_comments_150354.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2011-06-15T18:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150354",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_comments_150355.json:
```json
{
    "body": "**Author:** Dima Pasechnik, Mike Hansen",
    "created_at": "2011-06-15T18:56:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150355",
    "user": "https://github.com/kcrisman"
}
```

**Author:** Dima Pasechnik, Mike Hansen



---

archive/issue_comments_150356.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2011-06-15T18:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150356",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_150357.json:
```json
{
    "body": "**Changing upstream** from \"Not yet reported upstream; Will do shortly.\" to \"Fixed upstream, but not in a stable release.\".",
    "created_at": "2011-06-16T07:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150357",
    "user": "https://github.com/kcrisman"
}
```

**Changing upstream** from "Not yet reported upstream; Will do shortly." to "Fixed upstream, but not in a stable release.".



---

archive/issue_comments_150358.json:
```json
{
    "body": "**Changing author** from \"Dima Pasechnik, Mike Hansen\" to \"Dima Pasechnik, Mike Hansen, Karl-Dieter Crisman\".",
    "created_at": "2011-06-24T14:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150358",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "Dima Pasechnik, Mike Hansen" to "Dima Pasechnik, Mike Hansen, Karl-Dieter Crisman".



---

archive/issue_comments_150359.json:
```json
{
    "body": "<a id='comment:15'></a>\nOk, spkg available at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p2.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p2.spkg).  \n\nAlso, of course testing on non-Cygwin systems welcome!  If this doesn't fix Dima's Windows 7 issue, I still think that we have to do something like this, because the latest available Cygwin for download is from before his email exchange, even.  So it will take time for that fix to be available.",
    "created_at": "2011-06-24T14:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150359",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Ok, spkg available at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p2.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p2.spkg).  

Also, of course testing on non-Cygwin systems welcome!  If this doesn't fix Dima's Windows 7 issue, I still think that we have to do something like this, because the latest available Cygwin for download is from before his email exchange, even.  So it will take time for that fix to be available.



---

archive/issue_comments_150360.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2011-06-24T14:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150360",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_150361.json:
```json
{
    "body": "<a id='comment:16'></a>\nOn Windows 7, I get the same failure as Dima (it does get past the failure noted on Mike's patch).\n\n> indeed, it's just that /usr/include/fenv.h is not protected from double inclusion.\n> Adding \n> \n> ```\n> #define _FENV_H_\n> ```\n> into its first lines fixes the problem, and ecl builds!\n> I'll notify upstream (cygwin) on this.\n> If this is not fixed in cygwin itself, then it's of course trivial to fix in the ecl code.\n\n\nWhat is the way to fix this in ECL itself, given that a new Cygwin is not currently available?",
    "created_at": "2011-06-27T21:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150361",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
On Windows 7, I get the same failure as Dima (it does get past the failure noted on Mike's patch).

> indeed, it's just that /usr/include/fenv.h is not protected from double inclusion.
> Adding 
> 
> ```
> #define _FENV_H_
> ```
> into its first lines fixes the problem, and ecl builds!
> I'll notify upstream (cygwin) on this.
> If this is not fixed in cygwin itself, then it's of course trivial to fix in the ecl code.


What is the way to fix this in ECL itself, given that a new Cygwin is not currently available?



---

archive/issue_comments_150362.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2011-06-27T21:49:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150362",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_150363.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [kcrisman](#comment%3A16):\n\n> What is the way to fix this in ECL itself, given that a new Cygwin is not currently available? \n\n\nhunt down the corresponding #includes and remove them.\n(the problem is that there is a fair amount of C code generation going on, and you really don't want to know how exactly it happens)",
    "created_at": "2011-06-27T22:18:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150363",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
Replying to [kcrisman](#comment%3A16):

> What is the way to fix this in ECL itself, given that a new Cygwin is not currently available? 


hunt down the corresponding #includes and remove them.
(the problem is that there is a fair amount of C code generation going on, and you really don't want to know how exactly it happens)



---

archive/issue_comments_150364.json:
```json
{
    "body": "<a id='comment:18'></a>\nGood news - the double include that is the problem in the traceback above (cos.d) is fixed [here](http://ecls.cvs.sourceforge.net/viewvc/ecls/ecl/src/h/impl/math_fenv.h?r1=1.5&r2=1.6).  Literally \"Avoid including fenv.h twice\".\n\nSo this is fixed in an upstream unstable release as well.  I'll try to make a new spkg with this once I test it, assuming there are no other problems.  Obviously it's best to have *both* fixes, but at least one is good.",
    "created_at": "2011-06-28T02:17:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150364",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
Good news - the double include that is the problem in the traceback above (cos.d) is fixed [here](http://ecls.cvs.sourceforge.net/viewvc/ecls/ecl/src/h/impl/math_fenv.h?r1=1.5&r2=1.6).  Literally "Avoid including fenv.h twice".

So this is fixed in an upstream unstable release as well.  I'll try to make a new spkg with this once I test it, assuming there are no other problems.  Obviously it's best to have *both* fixes, but at least one is good.



---

archive/issue_comments_150365.json:
```json
{
    "body": "<a id='comment:19'></a>\nAnother similar error... but again good news, because at the same time Juanjo must have also fixed a very similar problem in c/unixint.d [here](http://ecls.cvs.sourceforge.net/viewvc/ecls/ecl/src/c/unixint.d?r1=1.102&r2=1.103).  I'll include that in any spkg as well.",
    "created_at": "2011-06-28T02:33:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150365",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'></a>
Another similar error... but again good news, because at the same time Juanjo must have also fixed a very similar problem in c/unixint.d [here](http://ecls.cvs.sourceforge.net/viewvc/ecls/ecl/src/c/unixint.d?r1=1.102&r2=1.103).  I'll include that in any spkg as well.



---

archive/issue_comments_150366.json:
```json
{
    "body": "<a id='comment:20'></a>\nAnd the original failure Mike reported, as well as the fix with including sys/stat.h, is fixed in CVS [here](http://sourceforge.net/mailarchive/forum.php?thread_name=From_jjgarcia%40users.sourceforge.net_Sat_Mar_05_22%3A40%3A25_2011&forum_name=ecls-cvs).",
    "created_at": "2011-06-28T02:46:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150366",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
And the original failure Mike reported, as well as the fix with including sys/stat.h, is fixed in CVS [here](http://sourceforge.net/mailarchive/forum.php?thread_name=From_jjgarcia%40users.sourceforge.net_Sat_Mar_05_22%3A40%3A25_2011&forum_name=ecls-cvs).



---

archive/issue_comments_150367.json:
```json
{
    "body": "<a id='comment:21'></a>\nOkay, these three fixes combined allow ECL to build properly on Windows 7.  Assuming there isn't a new ECL coming along immediately (and assuming we don't want to mess with trying to upgrade it immediately anyway, save the Maxima issue) I may make a new spkg just for this.",
    "created_at": "2011-06-28T02:49:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150367",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:21'></a>
Okay, these three fixes combined allow ECL to build properly on Windows 7.  Assuming there isn't a new ECL coming along immediately (and assuming we don't want to mess with trying to upgrade it immediately anyway, save the Maxima issue) I may make a new spkg just for this.



---

archive/issue_comments_150368.json:
```json
{
    "body": "<a id='comment:22'></a>\nIf you are going to make a new spkg we may as well address #11359 as well. I probably could push a maxima-5.24.0 spkg at the same time if I am not too lazy.",
    "created_at": "2011-06-28T02:56:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150368",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:22'></a>
If you are going to make a new spkg we may as well address #11359 as well. I probably could push a maxima-5.24.0 spkg at the same time if I am not too lazy.



---

archive/issue_comments_150369.json:
```json
{
    "body": "<a id='comment:23'></a>\nUmmm... I really don't know anything about that ticket, and it seems much more intrusive.  These three patches are all very small from upstream.    I'm going to stick with just addressing this.  You can always try to do a one on that ticket that takes these into account, of course!  Hopefully someone can review this one soon.\n\nReady for review - spkg available at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg).",
    "created_at": "2011-06-28T03:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150369",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:23'></a>
Ummm... I really don't know anything about that ticket, and it seems much more intrusive.  These three patches are all very small from upstream.    I'm going to stick with just addressing this.  You can always try to do a one on that ticket that takes these into account, of course!  Hopefully someone can review this one soon.

Ready for review - spkg available at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg).



---

archive/issue_comments_150370.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2011-06-28T03:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150370",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_events_034326.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-28T03:13:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11119#event-34326"
}
```



---

archive/issue_comments_150371.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,4 +10,8 @@\n ```\n \n another problem is absence of double inclusion guard in /usr/include/fenv.h, \n-which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.\n+which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, you could edit your /usr/include/fenv.h.\n+\n+---\n+\n+Upstream patches fixing the issues here are in the spkg at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg).  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.\n``````\n",
    "created_at": "2011-06-28T03:15:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150371",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,4 +10,8 @@
 ```
 
 another problem is absence of double inclusion guard in /usr/include/fenv.h, 
-which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, edit your /usr/include/fenv.h.
+which causes other troubles (see below). This is in fact a Cygwin bug uncovered here (cf. below), which should be fixed in the next Cygwin update. Meanwhile, you could edit your /usr/include/fenv.h.
+
+---
+
+Upstream patches fixing the issues here are in the spkg at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg).  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.
``````




---

archive/issue_comments_150372.json:
```json
{
    "body": "<a id='comment:25'></a>\nUser \"RegB\" was able to use this successfully for this - see [this sage-windows thread](http://groups.google.com/group/sage-windows/browse_thread/thread/b7d6ed4902914726).  \n\nSo this just needs someone to look at the actual spkg.",
    "created_at": "2011-07-29T15:24:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150372",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:25'></a>
User "RegB" was able to use this successfully for this - see [this sage-windows thread](http://groups.google.com/group/sage-windows/browse_thread/thread/b7d6ed4902914726).  

So this just needs someone to look at the actual spkg.



---

archive/issue_comments_150373.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman\" to \"Karl-Dieter Crisman, Reg Burgess\".",
    "created_at": "2011-07-29T19:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150373",
    "user": "https://github.com/kcrisman"
}
```

**Changing reviewer** from "Karl-Dieter Crisman" to "Karl-Dieter Crisman, Reg Burgess".



---

archive/issue_comments_150374.json:
```json
{
    "body": "<a id='comment:26'></a>\nThat is, this needs someone *other than me* to look at the actual spkg and its construction :) - should be very easy.",
    "created_at": "2011-07-29T19:25:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150374",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>
That is, this needs someone *other than me* to look at the actual spkg and its construction :) - should be very easy.



---

archive/issue_comments_150375.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [kcrisman](#comment%3A25):\n> User \"RegB\" was able to use this successfully for this - see [this sage-windows thread](http://groups.google.com/group/sage-windows/browse_thread/thread/b7d6ed4902914726).  \n\n\nThat was on Vista, just FYI, but that should be okay for this ticket.",
    "created_at": "2011-07-29T19:41:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150375",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>
Replying to [kcrisman](#comment%3A25):
> User "RegB" was able to use this successfully for this - see [this sage-windows thread](http://groups.google.com/group/sage-windows/browse_thread/thread/b7d6ed4902914726).  


That was on Vista, just FYI, but that should be okay for this ticket.



---

archive/issue_comments_150376.json:
```json
{
    "body": "<a id='comment:28'></a>\nJust a comment FYI: I have gotten Sage to start on Cygwin, and anything using the ECL library (as opposed to just plain old ECL or Maxima as binaries) fails with \n\n```\nImportError: No such process\n```\nThat would be a separate ticket, of course, but just wanted to point it out.",
    "created_at": "2011-08-01T15:34:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150376",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>
Just a comment FYI: I have gotten Sage to start on Cygwin, and anything using the ECL library (as opposed to just plain old ECL or Maxima as binaries) fails with 

```
ImportError: No such process
```
That would be a separate ticket, of course, but just wanted to point it out.



---

archive/issue_comments_150377.json:
```json
{
    "body": "<a id='comment:29'></a>\nSorry for the noise - that seems to be with the current p2 spkg, not the p3 spkg here.   I'm not sure how it is that ECL and Maxima nonetheless work, but must be an XP thing...",
    "created_at": "2011-08-01T15:40:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150377",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>
Sorry for the noise - that seems to be with the current p2 spkg, not the p3 spkg here.   I'm not sure how it is that ECL and Maxima nonetheless work, but must be an XP thing...



---

archive/issue_comments_150378.json:
```json
{
    "body": "<a id='comment:30'></a>\nAnd again noise... the p2 is also here, don't know how I didn't realize that.  Anyway, there is an `ecl.dll` in both `sage/local/bin/` and `sage/local/lib/`, but not all the .a files in `libs/ecl/` are thus.  Since I know nothing about .a files, I don't know whether that would be a problem, though.",
    "created_at": "2011-08-01T15:48:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150378",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:30'></a>
And again noise... the p2 is also here, don't know how I didn't realize that.  Anyway, there is an `ecl.dll` in both `sage/local/bin/` and `sage/local/lib/`, but not all the .a files in `libs/ecl/` are thus.  Since I know nothing about .a files, I don't know whether that would be a problem, though.



---

archive/issue_comments_150379.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [kcrisman](#comment%3A30):\n> And again noise... the p2 is also here, don't know how I didn't realize that.  Anyway, there is an `ecl.dll` in both `sage/local/bin/` and `sage/local/lib/`, but not all the .a files in `libs/ecl/` are thus.  Since I know nothing about .a files, I don't know whether that would be a problem, though.\n\n\na .a file is typically a static object library, i.e. something one links against. It shouldn't be needed at the runtime, typically\n(unless you want to rebuild things on the fly).\nYou can check the type of the file by using Cygwin's \"file\" command.\n(i.e. somethign like\n\n```\n     $ file output.pdf \n    output.pdf: PDF document, version 1.4\n```",
    "created_at": "2011-08-01T15:54:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150379",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
Replying to [kcrisman](#comment%3A30):
> And again noise... the p2 is also here, don't know how I didn't realize that.  Anyway, there is an `ecl.dll` in both `sage/local/bin/` and `sage/local/lib/`, but not all the .a files in `libs/ecl/` are thus.  Since I know nothing about .a files, I don't know whether that would be a problem, though.


a .a file is typically a static object library, i.e. something one links against. It shouldn't be needed at the runtime, typically
(unless you want to rebuild things on the fly).
You can check the type of the file by using Cygwin's "file" command.
(i.e. somethign like

```
     $ file output.pdf 
    output.pdf: PDF document, version 1.4
```



---

archive/issue_comments_150380.json:
```json
{
    "body": "<a id='comment:32'></a>\nIt turns out that this (unrelated) failure is already know, from over a year ago - see #9167.  Unfortunately, in the meantime the library is the default way to interact with ECL and Maxima, so this is much more serious now.\n\nPS - feel free to unpack the spkg and check it's made correctly to finish positive review here :)",
    "created_at": "2011-08-01T16:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150380",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:32'></a>
It turns out that this (unrelated) failure is already know, from over a year ago - see #9167.  Unfortunately, in the meantime the library is the default way to interact with ECL and Maxima, so this is much more serious now.

PS - feel free to unpack the spkg and check it's made correctly to finish positive review here :)



---

archive/issue_comments_150381.json:
```json
{
    "body": "<a id='comment:33'></a>\nI just checked and there is no garbage.\n\nI'm also attaching the diffs for the p2 and p3 spkgs.  Should be a REALLY easy task to finish the review now :)",
    "created_at": "2011-08-22T13:23:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150381",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:33'></a>
I just checked and there is no garbage.

I'm also attaching the diffs for the p2 and p3 spkgs.  Should be a REALLY easy task to finish the review now :)



---

archive/issue_comments_150382.json:
```json
{
    "body": "Attachment [trac_11119-p2.diff](tarball://root/attachments/some-uuid/ticket11119/trac_11119-p2.diff) by @kcrisman created at 2011-08-22 13:25:13\n\nFor review purposes only",
    "created_at": "2011-08-22T13:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150382",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_11119-p2.diff](tarball://root/attachments/some-uuid/ticket11119/trac_11119-p2.diff) by @kcrisman created at 2011-08-22 13:25:13

For review purposes only



---

archive/issue_comments_150383.json:
```json
{
    "body": "Attachment [trac_11119-p3.diff](tarball://root/attachments/some-uuid/ticket11119/trac_11119-p3.diff) by @kcrisman created at 2011-08-22 13:25:26\n\nFor review purposes only",
    "created_at": "2011-08-22T13:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150383",
    "user": "https://github.com/kcrisman"
}
```

Attachment [trac_11119-p3.diff](tarball://root/attachments/some-uuid/ticket11119/trac_11119-p3.diff) by @kcrisman created at 2011-08-22 13:25:26

For review purposes only



---

archive/issue_comments_150384.json:
```json
{
    "body": "<a id='comment:34'></a>\nI should also point out that these changes are all in ECL cvs, so applying the patches universally should not be a problem (don't need to only apply on Cygwin).\n\nThere is also a typo in a comment in the spkg-install (\"is in\" instead of \"are in\") but this should *really* not affect the review.",
    "created_at": "2011-08-22T13:33:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150384",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:34'></a>
I should also point out that these changes are all in ECL cvs, so applying the patches universally should not be a problem (don't need to only apply on Cygwin).

There is also a typo in a comment in the spkg-install ("is in" instead of "are in") but this should *really* not affect the review.



---

archive/issue_comments_150385.json:
```json
{
    "body": "<a id='comment:35'></a>\nI am giving this a positive review and I will base my own new ecl spkg for silius #11708 on this one.",
    "created_at": "2011-09-13T22:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150385",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'></a>
I am giving this a positive review and I will base my own new ecl spkg for silius #11708 on this one.



---

archive/issue_comments_150386.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-09-13T22:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150386",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_150387.json:
```json
{
    "body": "<a id='comment:36'></a>\nOoopsie! There's a few .DS_Store files from OS X in the sources. I'll remove these in my .p4 but it would be good if they were gone from this one in case #11708 doesn't move in 4.7.2.\n\n```\ntar tf ecl-11.1.1.p3.tar  | grep Store\necl-11.1.1.p3/src/._.DS_Store\necl-11.1.1.p3/src/src/h/._.DS_Store\necl-11.1.1.p3/src/src/h/.DS_Store\necl-11.1.1.p3/src/src/c/ffi/._.DS_Store\necl-11.1.1.p3/src/src/c/ffi/.DS_Store\necl-11.1.1.p3/src/src/c/._.DS_Store\necl-11.1.1.p3/src/src/c/.DS_Store\necl-11.1.1.p3/src/src/._.DS_Store\necl-11.1.1.p3/src/src/.DS_Store\necl-11.1.1.p3/src/.DS_Store\n```",
    "created_at": "2011-09-13T22:33:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150387",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:36'></a>
Ooopsie! There's a few .DS_Store files from OS X in the sources. I'll remove these in my .p4 but it would be good if they were gone from this one in case #11708 doesn't move in 4.7.2.

```
tar tf ecl-11.1.1.p3.tar  | grep Store
ecl-11.1.1.p3/src/._.DS_Store
ecl-11.1.1.p3/src/src/h/._.DS_Store
ecl-11.1.1.p3/src/src/h/.DS_Store
ecl-11.1.1.p3/src/src/c/ffi/._.DS_Store
ecl-11.1.1.p3/src/src/c/ffi/.DS_Store
ecl-11.1.1.p3/src/src/c/._.DS_Store
ecl-11.1.1.p3/src/src/c/.DS_Store
ecl-11.1.1.p3/src/src/._.DS_Store
ecl-11.1.1.p3/src/src/.DS_Store
ecl-11.1.1.p3/src/.DS_Store
```



---

archive/issue_comments_150388.json:
```json
{
    "body": "**Work_Issues:** Remove .DS_Store files",
    "created_at": "2011-09-13T22:33:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150388",
    "user": "https://github.com/kiwifb"
}
```

**Work_Issues:** Remove .DS_Store files



---

archive/issue_comments_150389.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2011-09-13T22:33:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150389",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_150390.json:
```json
{
    "body": "<a id='comment:37'></a>\n> I am giving this one a positive review ...\n\nThank you so much, Fran\u00e7ois.\n> Ooopsie! There's a few .DS_Store files from OS X in the sources. I'll remove these in my .p4 but it would be good if they were gone from this one in case #11708 doesn't move in 4.7.2.\n\nJust shoot me now.  It's as if I can't avoid this.  I don't even know if I *went* into all these directories, much less changed anything.",
    "created_at": "2011-09-14T01:20:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150390",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:37'></a>
> I am giving this one a positive review ...

Thank you so much, François.
> Ooopsie! There's a few .DS_Store files from OS X in the sources. I'll remove these in my .p4 but it would be good if they were gone from this one in case #11708 doesn't move in 4.7.2.

Just shoot me now.  It's as if I can't avoid this.  I don't even know if I *went* into all these directories, much less changed anything.



---

archive/issue_comments_150391.json:
```json
{
    "body": "<a id='comment:38'></a>\nRecipe:\n* make a spkg, foo.spkg\n* keep the foo/ folder\n* tar tjf foo.spkg | grep Store\n* if nothing shows up you are good to go\n* if something shows up\n\n```\ntar tjf foo.spkg | grep Store | xargs rm\n```\n* recreate foo.spkg\n\nHope that helps. It looks like I won't be making a new spkg unless we find a way to avoid a gcc problem in ecl source.",
    "created_at": "2011-09-14T02:04:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150391",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'></a>
Recipe:
* make a spkg, foo.spkg
* keep the foo/ folder
* tar tjf foo.spkg | grep Store
* if nothing shows up you are good to go
* if something shows up

```
tar tjf foo.spkg | grep Store | xargs rm
```
* recreate foo.spkg

Hope that helps. It looks like I won't be making a new spkg unless we find a way to avoid a gcc problem in ecl source.



---

archive/issue_comments_150392.json:
```json
{
    "body": "<a id='comment:39'></a>\nMaybe I should just make a new spkg that we can set back to positive review... \n\nAlso, see #11884 for yet another ECL upgrade ticket.   To wit:\n\n```\n> I got this to build by pulling from their latest repository:\n> git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl\n```\nwhich could be helpful in order to finally fix #11502/#11260, if the change in the use of forking is in there...",
    "created_at": "2011-10-14T03:32:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150392",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:39'></a>
Maybe I should just make a new spkg that we can set back to positive review... 

Also, see #11884 for yet another ECL upgrade ticket.   To wit:

```
> I got this to build by pulling from their latest repository:
> git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl
```
which could be helpful in order to finally fix #11502/#11260, if the change in the use of forking is in there...



---

archive/issue_comments_150393.json:
```json
{
    "body": "<a id='comment:40'></a>\nReplying to [kcrisman](#comment%3A39):\n> Maybe I should just make a new spkg that we can set back to positive review... \n\n\nI'd say go ahead, such that others can base new ECL spkgs on this one.\n\nPerhaps also take into account [comment:ticket:11708:54 this comment]. :P\n\n\n\n\n> Also, see #11884 for yet another ECL upgrade ticket.\n\n\nWell, there doesn't seem to be any progress on that ticket; at least Maxima is said to not work or build on MacOS X 10.7 yet, even with the ECL git snapshot (which version?).",
    "created_at": "2011-10-14T06:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150393",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:40'></a>
Replying to [kcrisman](#comment%3A39):
> Maybe I should just make a new spkg that we can set back to positive review... 


I'd say go ahead, such that others can base new ECL spkgs on this one.

Perhaps also take into account [comment:ticket:11708:54 this comment]. :P




> Also, see #11884 for yet another ECL upgrade ticket.


Well, there doesn't seem to be any progress on that ticket; at least Maxima is said to not work or build on MacOS X 10.7 yet, even with the ECL git snapshot (which version?).



---

archive/issue_comments_150394.json:
```json
{
    "body": "**Changing author** from \"Dima Pasechnik, Mike Hansen, Karl-Dieter Crisman\" to \"Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman\".",
    "created_at": "2011-10-14T06:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150394",
    "user": "https://github.com/nexttime"
}
```

**Changing author** from "Dima Pasechnik, Mike Hansen, Karl-Dieter Crisman" to "Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman".



---

archive/issue_comments_150395.json:
```json
{
    "body": "**Changing work_issues** from \"Remove .DS_Store files\" to \"\".",
    "created_at": "2011-10-14T13:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150395",
    "user": "https://github.com/kcrisman"
}
```

**Changing work_issues** from "Remove .DS_Store files" to "".



---

archive/issue_comments_150396.json:
```json
{
    "body": "<a id='comment:41'></a>\n> > Maybe I should just make a new spkg that we can set back to positive review... \n\n> \n> I'd say go ahead, such that others can base new ECL spkgs on this one.\n\n\nOkay, same location.\n\n> Perhaps also take into account [comment:ticket:11708:54 this comment]. :P\n\n\nUmm, I think I'll pass.  Then I would feel like I had to retest it on several platforms, and I simply don't have the time currently.",
    "created_at": "2011-10-14T13:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150396",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:41'></a>
> > Maybe I should just make a new spkg that we can set back to positive review... 

> 
> I'd say go ahead, such that others can base new ECL spkgs on this one.


Okay, same location.

> Perhaps also take into account [comment:ticket:11708:54 this comment]. :P


Umm, I think I'll pass.  Then I would feel like I had to retest it on several platforms, and I simply don't have the time currently.



---

archive/issue_comments_150397.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2011-10-14T13:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150397",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_150398.json:
```json
{
    "body": "<a id='comment:42'></a>\nClean bill of health:\n\n```\nmycomputer:Downloads me$ tar tjf ecl-11.1.1.p3.spkg | grep Store\nmycomputer:Downloads\n```\nProbably too much to ask for 4.7.2, but one can hope...",
    "created_at": "2011-10-14T13:16:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150398",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:42'></a>
Clean bill of health:

```
mycomputer:Downloads me$ tar tjf ecl-11.1.1.p3.spkg | grep Store
mycomputer:Downloads
```
Probably too much to ask for 4.7.2, but one can hope...



---

archive/issue_events_034327.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-16T15:39:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11119#event-34327"
}
```



---

archive/issue_comments_150399.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,4 +14,8 @@\n \n ---\n \n-Upstream patches fixing the issues here are in the spkg at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg).  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.\n+Upstream patches fixing the issues here are in the spkg below.  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.\n+\n+---\n+\n+**Apply** [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg)\n``````\n",
    "created_at": "2011-10-16T15:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150399",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,4 +14,8 @@
 
 ---
 
-Upstream patches fixing the issues here are in the spkg at [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg).  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.
+Upstream patches fixing the issues here are in the spkg below.  This is separate from Cygwin fixing their problems, of course, so hopefully once both have new stable releases we'll really be in good shape, but this package should be sufficient on both XP and Windows 7.
+
+---
+
+**Apply** [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg)
``````




---

archive/issue_comments_150400.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2011-10-17T07:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150400",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_comments_150401.json:
```json
{
    "body": "**Merged:** sage-4.7.3.alpha0",
    "created_at": "2011-10-17T07:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150401",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.3.alpha0



---

archive/issue_events_034328.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-17T07:58:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11119#event-34328"
}
```



---

archive/issue_comments_150402.json:
```json
{
    "body": "<a id='comment:46'></a>\nIn case no follow-up spkg fixes this (and gets merged into the same release), the spkg **needs work**, because the **exit codes of `patch` aren't checked** at all.  (Cf. #11884)",
    "created_at": "2011-10-31T21:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150402",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:46'></a>
In case no follow-up spkg fixes this (and gets merged into the same release), the spkg **needs work**, because the **exit codes of `patch` aren't checked** at all.  (Cf. #11884)



---

archive/issue_comments_150403.json:
```json
{
    "body": "<a id='comment:47'></a>\nDisagree.  Sure, we should start adding this to spkgs, and yes it is good that #11884 should have it changed since no one noticed it otherwise, but it is just too onerous to keep adding requirements like this when even someone pretty savvy about builds like Fran\u00e7ois didn't notice this - particularly because the ECL package, like **many** other packages, didn't have it before!  It's not like people are intentionally trying to remove checking of exit codes.  \n\nLike a lot of other things, if we ever want Sage to actually improve, we have to strike a balance between these kinds of things.  In this case, under what circumstances would the exit code make a difference?  Only if someone updates the spkg... which is being dealt with at #11884, at least I hope so.   \n\nUnless you are suggesting that we should immediately make blocker tickets for every spkg which has patches without checking the exit code of `patch` :) but given our testing regimen, doing it as we notice it seems just fine, especially as not everyone has the expertise to do this quickly.",
    "created_at": "2011-11-01T01:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150403",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:47'></a>
Disagree.  Sure, we should start adding this to spkgs, and yes it is good that #11884 should have it changed since no one noticed it otherwise, but it is just too onerous to keep adding requirements like this when even someone pretty savvy about builds like François didn't notice this - particularly because the ECL package, like **many** other packages, didn't have it before!  It's not like people are intentionally trying to remove checking of exit codes.  

Like a lot of other things, if we ever want Sage to actually improve, we have to strike a balance between these kinds of things.  In this case, under what circumstances would the exit code make a difference?  Only if someone updates the spkg... which is being dealt with at #11884, at least I hope so.   

Unless you are suggesting that we should immediately make blocker tickets for every spkg which has patches without checking the exit code of `patch` :) but given our testing regimen, doing it as we notice it seems just fine, especially as not everyone has the expertise to do this quickly.



---

archive/issue_comments_150404.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman, Reg Burgess\" to \"Karl-Dieter Crisman, Reg Burgess, Fran\u00e7ois Bissey\".",
    "created_at": "2011-11-01T01:15:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150404",
    "user": "https://github.com/kcrisman"
}
```

**Changing reviewer** from "Karl-Dieter Crisman, Reg Burgess" to "Karl-Dieter Crisman, Reg Burgess, François Bissey".



---

archive/issue_comments_150405.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150405",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_comments_150406.json:
```json
{
    "body": "**Changing merged** from \"sage-4.7.3.alpha0\" to \"sage-4.8.alpha0\".",
    "created_at": "2011-11-03T16:16:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150406",
    "user": "https://github.com/jdemeyer"
}
```

**Changing merged** from "sage-4.7.3.alpha0" to "sage-4.8.alpha0".



---

archive/issue_events_034329.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:16:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "milestone": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11119#event-34329"
}
```



---

archive/issue_comments_150407.json:
```json
{
    "body": "<a id='comment:50'></a>\nKarl-Dieter: which `tar` program did you use to create the spkg?  There are two strange things:\n\n1. When extracting with GNU tar, I get\n\n```\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\ntar: Ignoring unknown extended header keyword `SCHILY.dev'\ntar: Ignoring unknown extended header keyword `SCHILY.ino'\ntar: Ignoring unknown extended header keyword `SCHILY.nlink'\n```\n\n2. The entries in the tar file are sorted in a weird way, for example the contents of `src/examples/` comes way later than the directory `src/examples/`.  This has consequences for the modification time of the extracted directories.  Adding the option `--delay-directory-restore` when extracting solves the issue.\n\nI am *not* at all saying the spkg needs to be changed, I am mainly curious.  And it also made me aware of the option `--delay-directory-restore` of GNU tar.",
    "created_at": "2011-11-24T14:41:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150407",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:50'></a>
Karl-Dieter: which `tar` program did you use to create the spkg?  There are two strange things:

1. When extracting with GNU tar, I get

```
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
tar: Ignoring unknown extended header keyword `SCHILY.dev'
tar: Ignoring unknown extended header keyword `SCHILY.ino'
tar: Ignoring unknown extended header keyword `SCHILY.nlink'
```

2. The entries in the tar file are sorted in a weird way, for example the contents of `src/examples/` comes way later than the directory `src/examples/`.  This has consequences for the modification time of the extracted directories.  Adding the option `--delay-directory-restore` when extracting solves the issue.

I am *not* at all saying the spkg needs to be changed, I am mainly curious.  And it also made me aware of the option `--delay-directory-restore` of GNU tar.



---

archive/issue_comments_150408.json:
```json
{
    "body": "<a id='comment:51'></a>\nReplying to [jdemeyer](#comment%3A50):\n> Karl-Dieter: which `tar` program did you use to create the spkg?  There are two strange things:\n> \n> 1. When extracting with GNU tar, I get\n> \n> ```\n> tar: Ignoring unknown extended header keyword `SCHILY.dev'\n\n\n\nJeroen, are you 100% sure you used GNU tar? Such things are known to appear when you run an old BSD tar (like one you have on old MacOSX)\ne.g.:\nhttp://ocdevel.com/blog/snow-leopard-tarball-uploading-issues",
    "created_at": "2011-11-24T14:50:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150408",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:51'></a>
Replying to [jdemeyer](#comment%3A50):
> Karl-Dieter: which `tar` program did you use to create the spkg?  There are two strange things:
> 
> 1. When extracting with GNU tar, I get
> 
> ```
> tar: Ignoring unknown extended header keyword `SCHILY.dev'



Jeroen, are you 100% sure you used GNU tar? Such things are known to appear when you run an old BSD tar (like one you have on old MacOSX)
e.g.:
http://ocdevel.com/blog/snow-leopard-tarball-uploading-issues



---

archive/issue_comments_150409.json:
```json
{
    "body": "<a id='comment:52'></a>\nReplying to [dimpase](#comment%3A51):\n> Such things are known to appear when you run an old BSD tar (like one you have on old MacOSX)\n> e.g.:\n> http://ocdevel.com/blog/snow-leopard-tarball-uploading-issues\n\nThanks for the link and it is **exactly** the issue I was talking about.  I think you misunderstood my question: I was talking about *extracting* with GNU tar.  So, presumably, Karl-Dieter used BSD tar to *create* the archive.  This is not a big issue, just something that I was unaware of.",
    "created_at": "2011-11-24T16:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150409",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:52'></a>
Replying to [dimpase](#comment%3A51):
> Such things are known to appear when you run an old BSD tar (like one you have on old MacOSX)
> e.g.:
> http://ocdevel.com/blog/snow-leopard-tarball-uploading-issues

Thanks for the link and it is **exactly** the issue I was talking about.  I think you misunderstood my question: I was talking about *extracting* with GNU tar.  So, presumably, Karl-Dieter used BSD tar to *create* the archive.  This is not a big issue, just something that I was unaware of.



---

archive/issue_comments_150410.json:
```json
{
    "body": "<a id='comment:53'></a>\nIs this a problem I'll need to deal with?  As far as I know, I created this on a modern Mac, but it's still BSD:\n\n```\n%man tar\nBSDTAR(1)                 BSD General Commands Manual                BSDTAR(1)\n\nNAME\n     tar -- manipulate tape archives\n\nSYNOPSIS\n     tar [bundled-flags <args>] [<file> | <pattern> ...]\n     tar {-c} [options] [files | directories]\n     tar {-r | -u} -f archive-file [options] [files | directories]\n     tar {-t | -x} [options] [patterns]\n\nDESCRIPTION\n     tar creates and manipulates streaming archive files.  This implementation\n     can extract from tar, pax, cpio, zip, jar, ar, and ISO 9660 cdrom images\n     and can create tar, pax, cpio, ar, and shar archives.\n```\nIt's a lot more tedious for me to make tars on sage.math.  Presumably I'm not the only person to make spkgs on Mac, though, and I do use `sage -pkg` to do them - I only use `tar` to unpack things, in general.",
    "created_at": "2011-11-26T02:21:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150410",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:53'></a>
Is this a problem I'll need to deal with?  As far as I know, I created this on a modern Mac, but it's still BSD:

```
%man tar
BSDTAR(1)                 BSD General Commands Manual                BSDTAR(1)

NAME
     tar -- manipulate tape archives

SYNOPSIS
     tar [bundled-flags <args>] [<file> | <pattern> ...]
     tar {-c} [options] [files | directories]
     tar {-r | -u} -f archive-file [options] [files | directories]
     tar {-t | -x} [options] [patterns]

DESCRIPTION
     tar creates and manipulates streaming archive files.  This implementation
     can extract from tar, pax, cpio, zip, jar, ar, and ISO 9660 cdrom images
     and can create tar, pax, cpio, ar, and shar archives.
```
It's a lot more tedious for me to make tars on sage.math.  Presumably I'm not the only person to make spkgs on Mac, though, and I do use `sage -pkg` to do them - I only use `tar` to unpack things, in general.



---

archive/issue_comments_150411.json:
```json
{
    "body": "<a id='comment:54'></a>\nReplying to [kcrisman](#comment%3A53):\n> Is this a problem I'll need to deal with?\n\nNo, it's a problem **I** have to deal with :-)  In all seriousness, it's not really a problem, I just need to be aware of this and use the `--delay-directory-restore` option to extract spkgs.",
    "created_at": "2011-11-26T09:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150411",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:54'></a>
Replying to [kcrisman](#comment%3A53):
> Is this a problem I'll need to deal with?

No, it's a problem **I** have to deal with :-)  In all seriousness, it's not really a problem, I just need to be aware of this and use the `--delay-directory-restore` option to extract spkgs.



---

archive/issue_comments_150412.json:
```json
{
    "body": "<a id='comment:55'></a>\nSpkg is gone, so this can't be merged anymore...\n\nI moved the Authors/Reviewers to #11884.",
    "created_at": "2011-12-05T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150412",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:55'></a>
Spkg is gone, so this can't be merged anymore...

I moved the Authors/Reviewers to #11884.



---

archive/issue_comments_150413.json:
```json
{
    "body": "**Changing merged** from \"sage-4.8.alpha0\" to \"\".",
    "created_at": "2011-12-05T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150413",
    "user": "https://github.com/jdemeyer"
}
```

**Changing merged** from "sage-4.8.alpha0" to "".



---

archive/issue_comments_150414.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -18,4 +18,4 @@\n \n ---\n \n-**Apply** [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg)\n+See instead #11884.\n``````\n",
    "created_at": "2011-12-05T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150414",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -18,4 +18,4 @@
 
 ---
 
-**Apply** [http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg](http://sage.math.washington.edu/home/kcrisman/ecl-11.1.1.p3.spkg)
+See instead #11884.
``````




---

archive/issue_events_034330.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-05T09:18:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "milestone": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11119#event-34330"
}
```



---

archive/issue_events_034331.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-05T09:18:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11119#event-34331"
}
```



---

archive/issue_comments_150415.json:
```json
{
    "body": "**Changing reviewer** from \"Karl-Dieter Crisman, Reg Burgess, Fran\u00e7ois Bissey\" to \"Jeroen Demeyer\".",
    "created_at": "2011-12-05T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150415",
    "user": "https://github.com/jdemeyer"
}
```

**Changing reviewer** from "Karl-Dieter Crisman, Reg Burgess, François Bissey" to "Jeroen Demeyer".



---

archive/issue_comments_150416.json:
```json
{
    "body": "**Changing author** from \"Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman\" to \"\".",
    "created_at": "2011-12-05T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150416",
    "user": "https://github.com/jdemeyer"
}
```

**Changing author** from "Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman" to "".



---

archive/issue_comments_150417.json:
```json
{
    "body": "**Resolution changed** from fixed to duplicate.",
    "created_at": "2011-12-05T09:18:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150417",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution changed** from fixed to duplicate.



---

archive/issue_comments_150418.json:
```json
{
    "body": "<a id='comment:56'></a>\nReplying to [jdemeyer](#comment%3A55):\n> Spkg is gone, so this can't be merged anymore...\n\n\nWell, it presumably still lives on in alpha0.  That's why I deleted it!  So it already *was* merged in an existing alpha, I don't see how this changes things.",
    "created_at": "2011-12-05T14:02:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150418",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:56'></a>
Replying to [jdemeyer](#comment%3A55):
> Spkg is gone, so this can't be merged anymore...


Well, it presumably still lives on in alpha0.  That's why I deleted it!  So it already *was* merged in an existing alpha, I don't see how this changes things.



---

archive/issue_comments_150419.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [kcrisman](#comment%3A56):\n> Replying to [jdemeyer](#comment%3A55):\n> > Spkg is gone, so this can't be merged anymore...\n\n> \n> Well, it presumably still lives on in alpha0.  That's why I deleted it!  So it already *was* merged in an existing alpha, I don't see how this changes things.  \n\n\nPlus, the fixes are in the new upstream used at #11884.\n\nAnyway, I hope these comments clarify it FWIW.",
    "created_at": "2011-12-05T17:36:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11119",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11119#issuecomment-150419",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:57'></a>
Replying to [kcrisman](#comment%3A56):
> Replying to [jdemeyer](#comment%3A55):
> > Spkg is gone, so this can't be merged anymore...

> 
> Well, it presumably still lives on in alpha0.  That's why I deleted it!  So it already *was* merged in an existing alpha, I don't see how this changes things.  


Plus, the fixes are in the new upstream used at #11884.

Anyway, I hope these comments clarify it FWIW.
