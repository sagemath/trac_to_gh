# Issue 11884: Fix ECL so it builds on OS X Lion

archive/issues_011712.json:
```json
{
    "assignees": [],
    "body": "As the summary says.\n\nThe home base for this ticket is the Lion ticket #11881.\n\nThere are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n\n**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg) (also contains the fixes for Cygwin, see #11119)\n\nThis package, and Maxima built with it, works on:\n1. OS X 10.4 PPC\n2. OS X 10.6\n3. OS X 10.7\n4. sage.math.washington.edu\n\nThe CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n\nDepends on #11966\n\nCC:  @mwhansen @nexttime\n\nKeywords: **ecl spkg upgrade update lion darwin 11**\n\nComponent: **packages: standard**\n\nAuthor: **Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman, William Stein, John Palmieri, Jeroen Demeyer**\n\nReviewer: **Karl-Dieter Crisman, Reg Burgess, Fran\u00e7ois Bissey, Leif Leonhardy, John Palmieri**\n\nUpstream: **Fixed upstream, but not in a stable release.**\n\nMerged: **sage-4.8.alpha3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11884_\n\n",
    "closed_at": "2011-11-26T11:27:43Z",
    "created_at": "2011-09-30T18:07:33Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix ECL so it builds on OS X Lion",
    "type": "issue",
    "updated_at": "2011-12-05T09:27:33Z",
    "url": "https://github.com/sagemath/sage/issues/11884",
    "user": "https://github.com/jhpalmieri"
}
```
As the summary says.

The home base for this ticket is the Lion ticket #11881.

There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.

**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg) (also contains the fixes for Cygwin, see #11119)

This package, and Maxima built with it, works on:
1. OS X 10.4 PPC
2. OS X 10.6
3. OS X 10.7
4. sage.math.washington.edu

The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).

Depends on #11966

CC:  @mwhansen @nexttime

Keywords: **ecl spkg upgrade update lion darwin 11**

Component: **packages: standard**

Author: **Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman, William Stein, John Palmieri, Jeroen Demeyer**

Reviewer: **Karl-Dieter Crisman, Reg Burgess, Fran√ßois Bissey, Leif Leonhardy, John Palmieri**

Upstream: **Fixed upstream, but not in a stable release.**

Merged: **sage-4.8.alpha3**

_Issue created by migration from https://trac.sagemath.org/ticket/11884_





---

archive/issue_events_160149.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T18:07:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160149"
}
```



---

archive/issue_events_160150.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T18:07:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160150"
}
```



---

archive/issue_events_160151.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T18:07:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160151"
}
```



---

archive/issue_events_160152.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-09-30T18:07:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160152"
}
```



---

archive/issue_comments_124661.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nI got this to build by pulling from their latest repository:\n\n```\ngit clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl\n```\nThen I dropped this as \"src\" into the old ecl spkg.  Should I make an official spkg this way?  It would feel safer to just extract the changes that we need, but I'm not sure I have time to look into that right now.\n\n(My build hasn't reached maxima yet, either, so I don't know if ecl will really work or not.)",
    "created_at": "2011-09-30T18:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124661",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:1" align="right">comment:1</div>

I got this to build by pulling from their latest repository:

```
git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl
```
Then I dropped this as "src" into the old ecl spkg.  Should I make an official spkg this way?  It would feel safer to just extract the changes that we need, but I'm not sure I have time to look into that right now.

(My build hasn't reached maxima yet, either, so I don't know if ecl will really work or not.)



---

archive/issue_comments_124662.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNo, maxima didn't build:\n\n```\nAn error occurred during initialization:\nIn C:BUILDER, when building file\n binary-ecl/maxima\ntried to link together files that contained split binary data.\nUnfortunately this is currently not possible. To avoid this\nrecompile the files setting C::*COMPILE-IN-CONSTANTS* to T.\nList of offending files:\n```\nand then a long list of files follows.  Suggestions?",
    "created_at": "2011-09-30T18:48:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124662",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:2" align="right">comment:2</div>

No, maxima didn't build:

```
An error occurred during initialization:
In C:BUILDER, when building file
 binary-ecl/maxima
tried to link together files that contained split binary data.
Unfortunately this is currently not possible. To avoid this
recompile the files setting C::*COMPILE-IN-CONSTANTS* to T.
List of offending files:
```
and then a long list of files follows.  Suggestions?



---

archive/issue_comments_124663.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOn the other hand, the binary \"ecl\" starts and executes some basic lisp operations correctly.  So do we need to modify the maxima spkg?",
    "created_at": "2011-09-30T19:00:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124663",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:3" align="right">comment:3</div>

On the other hand, the binary "ecl" starts and executes some basic lisp operations correctly.  So do we need to modify the maxima spkg?



---

archive/issue_events_160153.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-30T20:35:35Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "title_is": "Fix ECL so it builds on OS X Lion",
    "title_was": "fix ecl so it builds on OS X Lion",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160153"
}
```



---

archive/issue_comments_124664.json:
```json
{
    "body": "Changed keywords from **ecl lion** to **ecl spkg upgrade update lion darwin 11**",
    "created_at": "2011-09-30T20:35:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124664",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **ecl lion** to **ecl spkg upgrade update lion darwin 11**



---

archive/issue_comments_124665.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n> I got this to build by pulling from their latest repository:\n> git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl\n\nAh, so *that's* where it lives... I'm putting a link on #11119.",
    "created_at": "2011-10-14T03:37:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124665",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">comment:5</div>

> I got this to build by pulling from their latest repository:
> git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl

Ah, so *that's* where it lives... I'm putting a link on #11119.



---

archive/issue_comments_124666.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAlso, here are three links to relevant threads on the ECL list.\n* [OS X Lion, again](http://sourceforge.net/mailarchive/forum.php?thread_name=CANejTzqDH%2BNhPXyNfp3Rso5YELXEZO%3DnwG%2BXn40SK5%2BAdU1cWw%40mail.gmail.com&forum_name=ecls-list)\n* [Compile under OS X 10.7](http://sourceforge.net/mailarchive/forum.php?thread_name=CAL9oG9_2pSeDvO7nP%3DmtUN9knYt%3De%2BJ4Py8XNSOoK8aC9GCqFw%40mail.gmail.com&forum_name=ecls-list)\n* [Building with OS X Lion](http://sourceforge.net/mailarchive/forum.php?thread_name=CANejTzqXDpO%3DcN9iDjksEJHcmD8kwx%3D4u060L%3DwDn_RkYfm09w%40mail.gmail.com&forum_name=ecls-list)",
    "created_at": "2011-10-14T12:46:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124666",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">comment:6</div>

Also, here are three links to relevant threads on the ECL list.
* [OS X Lion, again](http://sourceforge.net/mailarchive/forum.php?thread_name=CANejTzqDH%2BNhPXyNfp3Rso5YELXEZO%3DnwG%2BXn40SK5%2BAdU1cWw%40mail.gmail.com&forum_name=ecls-list)
* [Compile under OS X 10.7](http://sourceforge.net/mailarchive/forum.php?thread_name=CAL9oG9_2pSeDvO7nP%3DmtUN9knYt%3De%2BJ4Py8XNSOoK8aC9GCqFw%40mail.gmail.com&forum_name=ecls-list)
* [Building with OS X Lion](http://sourceforge.net/mailarchive/forum.php?thread_name=CANejTzqXDpO%3DcN9iDjksEJHcmD8kwx%3D4u060L%3DwDn_RkYfm09w%40mail.gmail.com&forum_name=ecls-list)



---

archive/issue_comments_124667.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nNone of which address getting Maxima to build, of course.  We could ask Juanjo (who does have a Trac account, I think, though I can't find it) or the ECL list.",
    "created_at": "2011-10-14T12:48:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124667",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:7" align="right">comment:7</div>

None of which address getting Maxima to build, of course.  We could ask Juanjo (who does have a Trac account, I think, though I can't find it) or the ECL list.



---

archive/issue_comments_124668.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n As the summary says.\n+\n+The home base for this ticket is the Lion ticket #11881.\n``````\n",
    "created_at": "2011-10-14T18:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124668",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 As the summary says.
+
+The home base for this ticket is the Lion ticket #11881.
``````




---

archive/issue_comments_124669.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI made an spkg (link in the ticket description) with this log message:\n\n```\n\n=== ecl-11.1.2.git.20111030 (William Stein, 30th October 2011) ===\n  * Upgraded for trac 11884.   I got this by using\n\n       git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl\n       rm -rf src\n       mv ecl src\n       cd ecl; rm -rf .git*    # remove saved 20MB\n\n    I'm calling it 11.1.2.git so that the version number still sorts\n    correctly, and since one could view this as a snapshot of what\n    will be 11.1.2 eventually.\n```",
    "created_at": "2011-10-31T06:23:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124669",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:9" align="right">comment:9</div>

I made an spkg (link in the ticket description) with this log message:

```

=== ecl-11.1.2.git.20111030 (William Stein, 30th October 2011) ===
  * Upgraded for trac 11884.   I got this by using

       git clone git://ecls.git.sourceforge.net/gitroot/ecls/ecl
       rm -rf src
       mv ecl src
       cd ecl; rm -rf .git*    # remove saved 20MB

    I'm calling it 11.1.2.git so that the version number still sorts
    correctly, and since one could view this as a snapshot of what
    will be 11.1.2 eventually.
```



---

archive/issue_comments_124670.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,8 @@\n As the summary says.\n \n The home base for this ticket is the Lion ticket #11881.\n+\n+  \n+There are no claims that this fixes Maxima building; the only claim is that this new package builds and ecl runs standalone. \n+\n+Package: http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg\n``````\n",
    "created_at": "2011-10-31T06:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124670",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,8 @@
 As the summary says.
 
 The home base for this ticket is the Lion ticket #11881.
+
+  
+There are no claims that this fixes Maxima building; the only claim is that this new package builds and ecl runs standalone. 
+
+Package: http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg
``````




---

archive/issue_events_160154.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2011-10-31T06:25:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160154"
}
```



---

archive/issue_comments_124671.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWith http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg\n\n```\ndeep:sage-4.7.3.alpha1 wstein$ ./sage -lisp\nECL (Embeddable Common-Lisp) 11.1.1 (git:UNKNOWN)\nCopyright (C) 1984 Taiichi Yuasa and Masami Hagiya\nCopyright (C) 1993 Giuseppe Attardi\nCopyright (C) 2000 Juan J. Garcia-Ripoll\nECL is free software, and you are welcome to redistribute it\nunder certain conditions; see file 'Copyright' for details.\nType :h for Help.  \nTop level.\n> (+ 2 3)\n\n5\n```",
    "created_at": "2011-10-31T06:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124671",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:10" align="right">comment:10</div>

With http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg

```
deep:sage-4.7.3.alpha1 wstein$ ./sage -lisp
ECL (Embeddable Common-Lisp) 11.1.1 (git:UNKNOWN)
Copyright (C) 1984 Taiichi Yuasa and Masami Hagiya
Copyright (C) 1993 Giuseppe Attardi
Copyright (C) 2000 Juan J. Garcia-Ripoll
ECL is free software, and you are welcome to redistribute it
under certain conditions; see file 'Copyright' for details.
Type :h for Help.  
Top level.
> (+ 2 3)

5
```



---

archive/issue_comments_124672.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nIn fact, as John says above, even with this version of ECL, the Maxima spkg definitely finishes with a failure (for me, after 11 minutes).  This is the message in the error.log (it's just more details of what John wrote above):\n\n```\n\nAn error occurred during initialization:\nIn C:BUILDER, when building file\n binary-ecl/maxima\ntried to link together files that contained split binary data.\nUnfortunately this is currently not possible. To avoid this\nrecompile the files setting C::*COMPILE-IN-CONSTANTS* to T.\nList of offending files:\n #P\"binary-ecl/maxima-package.o\"\n #P\"binary-ecl/ecl-port.o\"\n #P\"binary-ecl/autoconf-variables.o\"\n #P\"binary-ecl/nregex.o\"\n...\n #P\"binary-ecl/share-subdirs.o\"\n #P\"binary-ecl/init-cl.o\".\nmake[1]: *** [binary-ecl/maxima] Error 1\nmake: *** [all-recursive] Error 1\n```\n}}}",
    "created_at": "2011-10-31T06:40:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124672",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:11" align="right">comment:11</div>

In fact, as John says above, even with this version of ECL, the Maxima spkg definitely finishes with a failure (for me, after 11 minutes).  This is the message in the error.log (it's just more details of what John wrote above):

```

An error occurred during initialization:
In C:BUILDER, when building file
 binary-ecl/maxima
tried to link together files that contained split binary data.
Unfortunately this is currently not possible. To avoid this
recompile the files setting C::*COMPILE-IN-CONSTANTS* to T.
List of offending files:
 #P"binary-ecl/maxima-package.o"
 #P"binary-ecl/ecl-port.o"
 #P"binary-ecl/autoconf-variables.o"
 #P"binary-ecl/nregex.o"
...
 #P"binary-ecl/share-subdirs.o"
 #P"binary-ecl/init-cl.o".
make[1]: *** [binary-ecl/maxima] Error 1
make: *** [all-recursive] Error 1
```
}}}



---

archive/issue_comments_124673.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,6 @@\n The home base for this ticket is the Lion ticket #11881.\n \n   \n-There are no claims that this fixes Maxima building; the only claim is that this new package builds and ecl runs standalone. \n+There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone. \n \n Package: http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg\n``````\n",
    "created_at": "2011-10-31T08:11:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124673",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,6 @@
 The home base for this ticket is the Lion ticket #11881.
 
   
-There are no claims that this fixes Maxima building; the only claim is that this new package builds and ecl runs standalone. 
+There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone. 
 
 Package: http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg
``````




---

archive/issue_comments_124674.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWilliam seems to have a fix for Maxima as well at #11966, just fyi to those reading.",
    "created_at": "2011-10-31T16:54:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124674",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:13" align="right">comment:13</div>

William seems to have a fix for Maxima as well at #11966, just fyi to those reading.



---

archive/issue_comments_124675.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nJust a question as to whether there are any patches in previous versions that are still needed.  This does seem to be based on #11119, but I'm a little surprised that the patches from that still apply (and are still in spkg-install), if this is really based on the latest ECL, since they are basically from upstream.",
    "created_at": "2011-10-31T17:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124675",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">comment:14</div>

Just a question as to whether there are any patches in previous versions that are still needed.  This does seem to be based on #11119, but I'm a little surprised that the patches from that still apply (and are still in spkg-install), if this is really based on the latest ECL, since they are basically from upstream.



---

archive/issue_comments_124676.json:
```json
{
    "body": "Reviewer: **Leif Leonhardy**",
    "created_at": "2011-10-31T21:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124676",
    "user": "https://github.com/nexttime"
}
```

Reviewer: **Leif Leonhardy**



---

archive/issue_comments_124677.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n\n```\n== Special Update/Build Instructions ==\n * Delete the contents of the src/msvc directory\n * Delete the contents of the src/contrib/encodings/\n```\n\nThere seems to be additional crap (or redundant things) in the upstream tree.\n\nYou should have noticed that even the compressed spkg is now almost twice as large.\n\n\n\n\nWhat Karl-Dieter said is most probably because **the exit codes of `patch` aren't checked**:\n\n```sh\n###############################################################\n# apply patch for the problem acknowledged upstream in\n# http://www.mail-archive.com/ecls-list@lists.sourceforge.net/msg00671.html\n# The patch itself comes from the following commit:\n# http://ecls.git.sourceforge.net/git/gitweb.cgip=ecls/ecl;a=commit;h=ce19c67a1b9f63cd32e7c0a621b6ca87aaa7214\n###############################################################\ncd src\npatch -p0 < ../patches/ecls-11.1.1-cmploc.lisp.patch\n\n# apply patches for Cygwin build\n# these patches is in ECL CVS, remove upon upgrade\n# Cygwin also has upstream fixes that are closely related, keep track\n# See Trac 11119\npatch -p0 < ../patches/libraries.d.patch\npatch -p0 < ../patches/unixint.d.patch\npatch -p0 < ../patches/math_fenv.h.patch\n\nif [ \"x$CFLAG64\" = x ] ; then\n    ...\n```\n\nWho reviewed these spkgs? 8/",
    "created_at": "2011-10-31T21:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124677",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:15" align="right">comment:15</div>


```
== Special Update/Build Instructions ==
 * Delete the contents of the src/msvc directory
 * Delete the contents of the src/contrib/encodings/
```

There seems to be additional crap (or redundant things) in the upstream tree.

You should have noticed that even the compressed spkg is now almost twice as large.




What Karl-Dieter said is most probably because **the exit codes of `patch` aren't checked**:

```sh
###############################################################
# apply patch for the problem acknowledged upstream in
# http://www.mail-archive.com/ecls-list@lists.sourceforge.net/msg00671.html
# The patch itself comes from the following commit:
# http://ecls.git.sourceforge.net/git/gitweb.cgip=ecls/ecl;a=commit;h=ce19c67a1b9f63cd32e7c0a621b6ca87aaa7214
###############################################################
cd src
patch -p0 < ../patches/ecls-11.1.1-cmploc.lisp.patch

# apply patches for Cygwin build
# these patches is in ECL CVS, remove upon upgrade
# Cygwin also has upstream fixes that are closely related, keep track
# See Trac 11119
patch -p0 < ../patches/libraries.d.patch
patch -p0 < ../patches/unixint.d.patch
patch -p0 < ../patches/math_fenv.h.patch

if [ "x$CFLAG64" = x ] ; then
    ...
```

Who reviewed these spkgs? 8/



---

archive/issue_events_160155.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-31T21:33:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160155"
}
```



---

archive/issue_events_160156.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-31T21:33:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160156"
}
```



---

archive/issue_comments_124678.json:
```json
{
    "body": "Author: **William Stein**",
    "created_at": "2011-10-31T21:33:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124678",
    "user": "https://github.com/nexttime"
}
```

Author: **William Stein**



---

archive/issue_comments_124679.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@nexttime](#comment:15):\n>\n\n```\n== Special Update/Build Instructions ==\n * Delete the contents of the src/msvc directory\n * Delete the contents of the src/contrib/encodings/\n```\n> \n> There seems to be additional crap (or redundant things) in the upstream tree.\n\n```sh\n$ diff -qr ecl-11.1.1.p3/src/ ecl-11.1.2.git.20111030/src/ | grep -i only\nOnly in ecl-11.1.1.p3/src/: .gitignore\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ATARIST.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: CP-856.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP437.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP737.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP775.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP850.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP852.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP855.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP857.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP860.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP861.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP862.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP863.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP864.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP865.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP866.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP869.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP874.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-2022-JP\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-2022-JP-1\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-1.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-10.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-11.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-13.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-14.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-15.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-16.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-2.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-3.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-4.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-5.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-6.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-7.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-8.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-9.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: JISX0201.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: JISX0208.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: JISX0212.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: KOI8-R.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: KOI8-U.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: SHIFT-JIS.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1250.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1251.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1252.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1253.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1254.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1255.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1256.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1257.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1258.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP932.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP936.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP949.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP950.BIN\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: generate.lisp\nOnly in ecl-11.1.2.git.20111030/src/contrib/encodings: tools.lisp\nOnly in ecl-11.1.2.git.20111030/src/contrib/unicode: ucd16.dat\nOnly in ecl-11.1.2.git.20111030/src/examples/asdf: example.asd\nOnly in ecl-11.1.2.git.20111030/src/msvc: Makefile\nOnly in ecl-11.1.2.git.20111030/src/msvc: c\nOnly in ecl-11.1.2.git.20111030/src/msvc: doc\nOnly in ecl-11.1.2.git.20111030/src/msvc: ecl\nOnly in ecl-11.1.2.git.20111030/src/msvc: gc\nOnly in ecl-11.1.2.git.20111030/src/msvc: gmp\nOnly in ecl-11.1.2.git.20111030/src/msvc: util\nOnly in ecl-11.1.2.git.20111030/src/src/c/ffi: cdata.d\nOnly in ecl-11.1.2.git.20111030/src/src/c/ffi: mmap.d\nOnly in ecl-11.1.2.git.20111030/src/src/c: unicode\nOnly in ecl-11.1.2.git.20111030/src/src/cmp: cmpos-features.lsp\nOnly in ecl-11.1.1.p3/src/src/gc: MacProjects\nOnly in ecl-11.1.2.git.20111030/src/src/gc: MacProjects.sit.hqx\nOnly in ecl-11.1.2.git.20111030/src/src: gc-unstable\nOnly in ecl-11.1.2.git.20111030/src/src: libffi\nOnly in ecl-11.1.2.git.20111030/src/src/lsp: cdr-5.lsp\nOnly in ecl-11.1.2.git.20111030/src/src/lsp: unicode.lsp\n```",
    "created_at": "2011-10-31T21:40:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124679",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@nexttime](#comment:15):
>

```
== Special Update/Build Instructions ==
 * Delete the contents of the src/msvc directory
 * Delete the contents of the src/contrib/encodings/
```
> 
> There seems to be additional crap (or redundant things) in the upstream tree.

```sh
$ diff -qr ecl-11.1.1.p3/src/ ecl-11.1.2.git.20111030/src/ | grep -i only
Only in ecl-11.1.1.p3/src/: .gitignore
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ATARIST.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: CP-856.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP437.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP737.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP775.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP850.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP852.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP855.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP857.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP860.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP861.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP862.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP863.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP864.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP865.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP866.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP869.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: DOS-CP874.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-2022-JP
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-2022-JP-1
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-1.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-10.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-11.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-13.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-14.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-15.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-16.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-2.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-3.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-4.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-5.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-6.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-7.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-8.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: ISO-8859-9.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: JISX0201.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: JISX0208.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: JISX0212.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: KOI8-R.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: KOI8-U.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: SHIFT-JIS.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1250.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1251.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1252.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1253.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1254.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1255.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1256.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1257.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP1258.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP932.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP936.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP949.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: WINDOWS-CP950.BIN
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: generate.lisp
Only in ecl-11.1.2.git.20111030/src/contrib/encodings: tools.lisp
Only in ecl-11.1.2.git.20111030/src/contrib/unicode: ucd16.dat
Only in ecl-11.1.2.git.20111030/src/examples/asdf: example.asd
Only in ecl-11.1.2.git.20111030/src/msvc: Makefile
Only in ecl-11.1.2.git.20111030/src/msvc: c
Only in ecl-11.1.2.git.20111030/src/msvc: doc
Only in ecl-11.1.2.git.20111030/src/msvc: ecl
Only in ecl-11.1.2.git.20111030/src/msvc: gc
Only in ecl-11.1.2.git.20111030/src/msvc: gmp
Only in ecl-11.1.2.git.20111030/src/msvc: util
Only in ecl-11.1.2.git.20111030/src/src/c/ffi: cdata.d
Only in ecl-11.1.2.git.20111030/src/src/c/ffi: mmap.d
Only in ecl-11.1.2.git.20111030/src/src/c: unicode
Only in ecl-11.1.2.git.20111030/src/src/cmp: cmpos-features.lsp
Only in ecl-11.1.1.p3/src/src/gc: MacProjects
Only in ecl-11.1.2.git.20111030/src/src/gc: MacProjects.sit.hqx
Only in ecl-11.1.2.git.20111030/src/src: gc-unstable
Only in ecl-11.1.2.git.20111030/src/src: libffi
Only in ecl-11.1.2.git.20111030/src/src/lsp: cdr-5.lsp
Only in ecl-11.1.2.git.20111030/src/src/lsp: unicode.lsp
```



---

archive/issue_comments_124680.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@nexttime](#comment:15):\n> What Karl-Dieter said is most probably because **the exit codes of `patch` aren't checked** [...]\n\n```\n...\nDeleting directories from past builds of previous/current versions of ecl-11.1.2.git.20111030\nExtracting package /home/leif/Sage/spkgs/ecl-11.1.2.git.20111030.spkg ...\n-rw-r--r-- 1 leif leif 7129205 2011-10-31 22:13 /home/leif/Sage/spkgs/ecl-11.1.2.git.20111030.spkg\nFinished extraction\n...\n****************************************************\npatching file src/cmp/cmploc.lsp\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n3 out of 3 hunks ignored -- saving rejects to file src/cmp/cmploc.lsp.rej\npatching file src/c/ffi/libraries.d\nHunk #1 succeeded at 70 with fuzz 2 (offset 1 line).\npatching file src/c/unixint.d\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/c/unixint.d.rej\npatching file src/h/impl/math_fenv.h\nReversed (or previously applied) patch detected!  Assume -R? [n] \nApply anyway? [n] \nSkipping patch.\n1 out of 1 hunk ignored -- saving rejects to file src/h/impl/math_fenv.h.rej\nUsing CC=gcc-4.5.1\n...\n```",
    "created_at": "2011-10-31T21:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124680",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@nexttime](#comment:15):
> What Karl-Dieter said is most probably because **the exit codes of `patch` aren't checked** [...]

```
...
Deleting directories from past builds of previous/current versions of ecl-11.1.2.git.20111030
Extracting package /home/leif/Sage/spkgs/ecl-11.1.2.git.20111030.spkg ...
-rw-r--r-- 1 leif leif 7129205 2011-10-31 22:13 /home/leif/Sage/spkgs/ecl-11.1.2.git.20111030.spkg
Finished extraction
...
****************************************************
patching file src/cmp/cmploc.lsp
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
3 out of 3 hunks ignored -- saving rejects to file src/cmp/cmploc.lsp.rej
patching file src/c/ffi/libraries.d
Hunk #1 succeeded at 70 with fuzz 2 (offset 1 line).
patching file src/c/unixint.d
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/c/unixint.d.rej
patching file src/h/impl/math_fenv.h
Reversed (or previously applied) patch detected!  Assume -R? [n] 
Apply anyway? [n] 
Skipping patch.
1 out of 1 hunk ignored -- saving rejects to file src/h/impl/math_fenv.h.rej
Using CC=gcc-4.5.1
...
```



---

archive/issue_comments_124681.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI can't tell if we need the (new) directory src/src/libffi.  I'll build spkgs with and without and see what happens.",
    "created_at": "2011-11-02T21:31:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124681",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:18" align="right">comment:18</div>

I can't tell if we need the (new) directory src/src/libffi.  I'll build spkgs with and without and see what happens.



---

archive/issue_comments_124682.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@nexttime](#comment:15):\n> Delete the contents of the src/contrib/encodings/\n\nThis new spkg actually doesn't build if you remove src/contrib/encodings.  I get an error message like\n\n```\n;;; Note:\n;;;   Invoking external command:\n;;;   gcc -o rt.fas -L/Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/spkg/build/ecl-11.1.2.git.20111030.p1/src/build/ /Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/spkg/build/ecl-11.1.2.git.20111030.p1/src/build/eclinitwt8UWf.o ext/rt.o -bundle -L/Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/local/lib -L/Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/local/lib libecl.dylib -lm -lgmp -lgc \nCondition of type: FILE-ERROR\nFilesystem error with pathname #P\"EXT:ENCODINGS;GENERATE.LISP.NEWEST\".\n```\nIt seems that we can delete some other stuff and still have it build on OS X Lion.  I'll make a new spkg soon.",
    "created_at": "2011-11-03T00:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124682",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@nexttime](#comment:15):
> Delete the contents of the src/contrib/encodings/

This new spkg actually doesn't build if you remove src/contrib/encodings.  I get an error message like

```
;;; Note:
;;;   Invoking external command:
;;;   gcc -o rt.fas -L/Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/spkg/build/ecl-11.1.2.git.20111030.p1/src/build/ /Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/spkg/build/ecl-11.1.2.git.20111030.p1/src/build/eclinitwt8UWf.o ext/rt.o -bundle -L/Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/local/lib -L/Applications/sage_builds/clean/sage-4.7.3.alpha1.osx10.7/local/lib libecl.dylib -lm -lgmp -lgc 
Condition of type: FILE-ERROR
Filesystem error with pathname #P"EXT:ENCODINGS;GENERATE.LISP.NEWEST".
```
It seems that we can delete some other stuff and still have it build on OS X Lion.  I'll make a new spkg soon.



---

archive/issue_comments_124683.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,4 +5,4 @@\n   \n There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone. \n \n-Package: http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg\n+Package: [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)\n``````\n",
    "created_at": "2011-11-03T00:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124683",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,4 +5,4 @@
   
 There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone. 
 
-Package: http://sage.math.washington.edu/home/wstein/patches/ecl-11.1.2.git.20111030.spkg
+Package: [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)
``````




---

archive/issue_comments_124684.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nNew spkg available.  Not tested very extensively, but it seems to build on Lion.",
    "created_at": "2011-11-03T00:21:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124684",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:20" align="right">comment:20</div>

New spkg available.  Not tested very extensively, but it seems to build on Lion.



---

archive/issue_events_160157.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-03T00:21:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160157"
}
```



---

archive/issue_events_160158.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-03T00:21:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160158"
}
```



---

archive/issue_comments_124685.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOn all the systems on which I've tried, e.g., sage.math or silius, the current maxima package fails to build with this. (The same was true with William's spkg.) I think we will need to upgrade maxima at the same time as ecl, so I'm making #11966 a dependency for this.\n\n(This makes for a circular path of dependencies; is this the right way to ensure that these get merged simultaneously?)",
    "created_at": "2011-11-03T01:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124685",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:21" align="right">comment:21</div>

On all the systems on which I've tried, e.g., sage.math or silius, the current maxima package fails to build with this. (The same was true with William's spkg.) I think we will need to upgrade maxima at the same time as ecl, so I'm making #11966 a dependency for this.

(This makes for a circular path of dependencies; is this the right way to ensure that these get merged simultaneously?)



---

archive/issue_comments_124686.json:
```json
{
    "body": "Dependencies: **#11966**",
    "created_at": "2011-11-03T01:49:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124686",
    "user": "https://github.com/jhpalmieri"
}
```

Dependencies: **#11966**



---

archive/issue_events_160159.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-03T19:56:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160159"
}
```



---

archive/issue_events_160160.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-03T19:56:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160160"
}
```



---

archive/issue_comments_124687.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThis needs work, and I don't know how to fix it.  On sage.math, I took a vanilla Sage 4.7.2 and dropped in either my spkg or William's, along with the maxima spkg from #11966, and I built from scratch. The build succeeded, but doctesting hangs on various files.  For example:\n\n```\n$ ./sage -t --verbose devel/sage/doc/en/tutorial/tour_rings.rst\n\n...\nTrying:\n    pi in RR###line 124:_sage_    >>> pi in RR\nExpecting:\n    True\n\nCondition of type: SIMPLE-TYPE-ERROR\nIn function MAKE-FOREIGN-DATA-FROM-ARRAY, the value of argument is\n        \"\\\"3.141592653589793 = %pi\\\"\"\nwhich is not of expected type BASE-STRING\nAvailable restarts:\n\n1. (USE-VALUE) Supply a new value of type BASE-STRING.\n\nTop level.\n> \n```\nAt this point, ecl stops to ask for user input, and since doctesting is noninteractive, it waits until the test times out.  For what it's worth, I tried a build which was 4.7.2 plus the maxima spkg from #11966, and all tests passed.  So the problem looks like it's ecl, not maxima, but I'm not positive about this.\n\nFrom the web page [http://ecls.sourceforge.net/ecl/Strings.html](http://ecls.sourceforge.net/ecl/Strings.html), it looks like a \"base-string\" is just an alias for \"string\", and I don't know why the quoted object isn't a string.  Is it the backslashes?\n\nI don't know much about Sage's interactions with ecl and maxima, so I don't have any ideas about how to fix this.  The file `devel/sage/sage/interfaces/lisp.py` passes tests.  `interfaces/maxima.py` passes, but `interfaces/maxima_lib.py` and `interfaces/maxima_abstract.py` hang with the same kind of error (when run verbosely).",
    "created_at": "2011-11-03T19:56:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124687",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:22" align="right">comment:22</div>

This needs work, and I don't know how to fix it.  On sage.math, I took a vanilla Sage 4.7.2 and dropped in either my spkg or William's, along with the maxima spkg from #11966, and I built from scratch. The build succeeded, but doctesting hangs on various files.  For example:

```
$ ./sage -t --verbose devel/sage/doc/en/tutorial/tour_rings.rst

...
Trying:
    pi in RR###line 124:_sage_    >>> pi in RR
Expecting:
    True

Condition of type: SIMPLE-TYPE-ERROR
In function MAKE-FOREIGN-DATA-FROM-ARRAY, the value of argument is
        "\"3.141592653589793 = %pi\""
which is not of expected type BASE-STRING
Available restarts:

1. (USE-VALUE) Supply a new value of type BASE-STRING.

Top level.
> 
```
At this point, ecl stops to ask for user input, and since doctesting is noninteractive, it waits until the test times out.  For what it's worth, I tried a build which was 4.7.2 plus the maxima spkg from #11966, and all tests passed.  So the problem looks like it's ecl, not maxima, but I'm not positive about this.

From the web page [http://ecls.sourceforge.net/ecl/Strings.html](http://ecls.sourceforge.net/ecl/Strings.html), it looks like a "base-string" is just an alias for "string", and I don't know why the quoted object isn't a string.  Is it the backslashes?

I don't know much about Sage's interactions with ecl and maxima, so I don't have any ideas about how to fix this.  The file `devel/sage/sage/interfaces/lisp.py` passes tests.  `interfaces/maxima.py` passes, but `interfaces/maxima_lib.py` and `interfaces/maxima_abstract.py` hang with the same kind of error (when run verbosely).



---

archive/issue_comments_124688.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nNow I have an idea: the default option for the configure option `--enable-unicode` changed from \"no\" to \"yes\", and that may be the issue, as alluded to [here](http://comments.gmane.org/gmane.lisp.ecl.general/8098).  I'm switching it back to see if that helps.  If the current build works and passes tests on sage.math, I'll post a new spkg and patch file.",
    "created_at": "2011-11-03T20:05:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124688",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:23" align="right">comment:23</div>

Now I have an idea: the default option for the configure option `--enable-unicode` changed from "no" to "yes", and that may be the issue, as alluded to [here](http://comments.gmane.org/gmane.lisp.ecl.general/8098).  I'm switching it back to see if that helps.  If the current build works and passes tests on sage.math, I'll post a new spkg and patch file.



---

archive/issue_comments_124689.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nYes, that fixed it, at least on sage.math.  New spkg up.  Differences:\n\n```diff\ndiff --git a/SPKG.txt b/SPKG.txt\n--- a/SPKG.txt\n+++ b/SPKG.txt\n@@ -51,10 +51,13 @@ Website: http://ecls.sourceforge.net/\n == Changelog ==\n \n === ecl-11.1.2.git.20111030.p0 (John H. Palmieri, 2 Novemer 2011) ===\n-  * Trac #11884: general clean-up: remove unneeded patches,\n+  * Trac #11884.  General clean-up: remove unneeded patches,\n     remove some source files (as described above in \"Special\n-    Update/Build Instructions\").  Also check the error code when\n-    running 'patch' in spkg-install.\n+    Update/Build Instructions\").\n+  * Check the error code when running 'patch' in spkg-install.\n+  * Run configure with the option \"--enable-unicode=no\" -- this was\n+    the default in previous versions of ecl, and using the new default\n+    of \"yes\" causes problems with some strings.\n \n === ecl-11.1.2.git.20111030 (William Stein, 30th October 2011) ===\n   * Upgraded for trac 11884.   I got this by using\ndiff --git a/spkg-install b/spkg-install\n--- a/spkg-install\n+++ b/spkg-install\n@@ -90,9 +90,9 @@ if [ \"x`uname -sm`\" = \"xSunOS i86pc\" ] &\n    # 1) Solaris, Solaris Express or OpenSolaris (SunOS) \n    # 2) Intel or AMD CPU \n    # 3) 64-bit build\n-   ./configure --prefix=\"$SAGE_LOCAL\" --with-dffi=no\n+   ./configure --prefix=\"$SAGE_LOCAL\" --with-unicode=no --with-dffi=no\n else\n-   ./configure --prefix=\"$SAGE_LOCAL\" \n+   ./configure --prefix=\"$SAGE_LOCAL\" --with-unicode=no\n fi\n \n if [ $? -ne 0 ]; then\n```\n\nBy the way, I deleted the directory src/src/libffi directory, and this gives a warning during configuration:\n\n```\nchecking for ffi_closure_alloc in -lffi... no\nchecking whether we can use the existing libffi library ... no\nconfigure: Configuring included libffi library:\n/scratch/palmieri/ECL/sage-4.7.2/spkg/build/ecl-11.1.2.git.20111030.p0/src/src/configure: line 7012: /scratch/palmieri/ECL/sage-4.7.2/spkg/build/ecl-11.1.2.git.20111030.p0/src/src/libffi/configure: No such file or directory\nconfigure: WARNING: Unable to configure or find libffi library; disabling dynamic FFI\n```\nI wonder if we should configure using `--with-dffi=no` on all platforms?  Or perhaps I shouldn't delete the directory.  In William's package:\n\n```\n$ du -s -h src\n44M\tsrc\n$ du -s -h src/src/libffi/\n7.2M\tsrc/src/libffi/\n```\nSo it takes a fair amount of room...",
    "created_at": "2011-11-03T21:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124689",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:24" align="right">comment:24</div>

Yes, that fixed it, at least on sage.math.  New spkg up.  Differences:

```diff
diff --git a/SPKG.txt b/SPKG.txt
--- a/SPKG.txt
+++ b/SPKG.txt
@@ -51,10 +51,13 @@ Website: http://ecls.sourceforge.net/
 == Changelog ==
 
 === ecl-11.1.2.git.20111030.p0 (John H. Palmieri, 2 Novemer 2011) ===
-  * Trac #11884: general clean-up: remove unneeded patches,
+  * Trac #11884.  General clean-up: remove unneeded patches,
     remove some source files (as described above in "Special
-    Update/Build Instructions").  Also check the error code when
-    running 'patch' in spkg-install.
+    Update/Build Instructions").
+  * Check the error code when running 'patch' in spkg-install.
+  * Run configure with the option "--enable-unicode=no" -- this was
+    the default in previous versions of ecl, and using the new default
+    of "yes" causes problems with some strings.
 
 === ecl-11.1.2.git.20111030 (William Stein, 30th October 2011) ===
   * Upgraded for trac 11884.   I got this by using
diff --git a/spkg-install b/spkg-install
--- a/spkg-install
+++ b/spkg-install
@@ -90,9 +90,9 @@ if [ "x`uname -sm`" = "xSunOS i86pc" ] &
    # 1) Solaris, Solaris Express or OpenSolaris (SunOS) 
    # 2) Intel or AMD CPU 
    # 3) 64-bit build
-   ./configure --prefix="$SAGE_LOCAL" --with-dffi=no
+   ./configure --prefix="$SAGE_LOCAL" --with-unicode=no --with-dffi=no
 else
-   ./configure --prefix="$SAGE_LOCAL" 
+   ./configure --prefix="$SAGE_LOCAL" --with-unicode=no
 fi
 
 if [ $? -ne 0 ]; then
```

By the way, I deleted the directory src/src/libffi directory, and this gives a warning during configuration:

```
checking for ffi_closure_alloc in -lffi... no
checking whether we can use the existing libffi library ... no
configure: Configuring included libffi library:
/scratch/palmieri/ECL/sage-4.7.2/spkg/build/ecl-11.1.2.git.20111030.p0/src/src/configure: line 7012: /scratch/palmieri/ECL/sage-4.7.2/spkg/build/ecl-11.1.2.git.20111030.p0/src/src/libffi/configure: No such file or directory
configure: WARNING: Unable to configure or find libffi library; disabling dynamic FFI
```
I wonder if we should configure using `--with-dffi=no` on all platforms?  Or perhaps I shouldn't delete the directory.  In William's package:

```
$ du -s -h src
44M	src
$ du -s -h src/src/libffi/
7.2M	src/src/libffi/
```
So it takes a fair amount of room...



---

archive/issue_events_160161.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-03T21:32:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160161"
}
```



---

archive/issue_events_160162.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-03T21:32:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160162"
}
```



---

archive/issue_comments_124690.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOops: typo in spkg-install: change `--with-unicode=...` to `--enable-unicode=...`.  Fixed in the new spkg.",
    "created_at": "2011-11-03T23:25:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124690",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:25" align="right">comment:25</div>

Oops: typo in spkg-install: change `--with-unicode=...` to `--enable-unicode=...`.  Fixed in the new spkg.



---

archive/issue_comments_124691.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nReplying to [@jhpalmieri](#comment:24):\n> By the way, I deleted the directory src/src/libffi directory, and this gives a warning during configuration [...] \n\n> \n\n> I wonder if we should configure using `--with-dffi=no` on all platforms?  Or perhaps I shouldn't delete the directory.\n\n`libffi` is installed on many systems, so we certainly shouldn't disable it.\n\n\n\n\n> \n\n```\n$ du -s -h src\n44M\tsrc\n$ du -s -h src/src/libffi/\n7.2M\tsrc/src/libffi/\n```\n> So it takes a fair amount of room...\n\nMuch more worth is (also) removing the `gmp` directory, which at the moment makes up half of the tarball; see #9493.  One should at least add a `TODO`, since people apparently tend to not look at other related tickets.\n\n\n\n\nIf you configure with `--enable-unicode=no` (you could also use `--disable-unicode` btw.), you can completely remove the following two directories (not just their contents):\n\n```\nsrc/contrib/encodings/\nsrc/contrib/unicode/\n```\n\n\n\n\nIf the patches are applied from `src/`, they should be applied (i.e., be appliable) with `-p1` for consistency.\n\nI also get\n\n```\npatching file src/c/ffi/libraries.d\nHunk #1 succeeded at 70 with fuzz 2 (offset 1 line).\n```\n\n\n\n\n`spkg-install` in whole needs some clean-up, for example all error messages should go to `stderr`.  If `MAKEFLAGS` are a problem on MacOS X, they should be unset on MacOS X, not by default (and the comment is btw. wrong or unrelated).  We do not create a symbolic link to the ECL library, but the ECL library directory, so the error message is wrong. ...\n\n---\n\nCeterum censeo we should upgrage trac.",
    "created_at": "2011-11-04T01:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124691",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:26" align="right">comment:26</div>

Replying to [@jhpalmieri](#comment:24):
> By the way, I deleted the directory src/src/libffi directory, and this gives a warning during configuration [...] 

> 

> I wonder if we should configure using `--with-dffi=no` on all platforms?  Or perhaps I shouldn't delete the directory.

`libffi` is installed on many systems, so we certainly shouldn't disable it.




> 

```
$ du -s -h src
44M	src
$ du -s -h src/src/libffi/
7.2M	src/src/libffi/
```
> So it takes a fair amount of room...

Much more worth is (also) removing the `gmp` directory, which at the moment makes up half of the tarball; see #9493.  One should at least add a `TODO`, since people apparently tend to not look at other related tickets.




If you configure with `--enable-unicode=no` (you could also use `--disable-unicode` btw.), you can completely remove the following two directories (not just their contents):

```
src/contrib/encodings/
src/contrib/unicode/
```




If the patches are applied from `src/`, they should be applied (i.e., be appliable) with `-p1` for consistency.

I also get

```
patching file src/c/ffi/libraries.d
Hunk #1 succeeded at 70 with fuzz 2 (offset 1 line).
```




`spkg-install` in whole needs some clean-up, for example all error messages should go to `stderr`.  If `MAKEFLAGS` are a problem on MacOS X, they should be unset on MacOS X, not by default (and the comment is btw. wrong or unrelated).  We do not create a symbolic link to the ECL library, but the ECL library directory, so the error message is wrong. ...

---

Ceterum censeo we should upgrage trac.



---

archive/issue_comments_124692.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@nexttime](#comment:26):\n> Much more worth is (also) removing the `gmp` directory, which at the moment makes up half of the tarball; see #9493.  One should at least add a `TODO`, since people apparently tend to not look at other related tickets.\n\nIf you hesitate to patch `configure` to remove / modify the calls of some redundant scripts in `src/src/gmp/`, you can delete everything there except `install-sh` and `{config,configfsf}.*`.\n\nWe should also configure with `--with-gmp=\"$SAGE_LOCAL\"` (or `--with-gmp-prefix=\"$SAGE_LOCAL\"`, haven't tested that yet).\n\n\n\n \n> If you configure with `--enable-unicode=no` (you could also use `--disable-unicode` btw.), you can completely remove the following two directories (not just their contents):\n\n\n```\nsrc/contrib/encodings/\nsrc/contrib/unicode/\n```\n\nFWIW, #9493 had a comment on that one must not configure with `--enable-unicode` if these directories are deleted (in the *Special Update/Build Instructions* section).\n\n\n\n\nSince Sage also ships and builds the Boehm GC, we could most probably delete even more.",
    "created_at": "2011-11-04T01:41:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124692",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@nexttime](#comment:26):
> Much more worth is (also) removing the `gmp` directory, which at the moment makes up half of the tarball; see #9493.  One should at least add a `TODO`, since people apparently tend to not look at other related tickets.

If you hesitate to patch `configure` to remove / modify the calls of some redundant scripts in `src/src/gmp/`, you can delete everything there except `install-sh` and `{config,configfsf}.*`.

We should also configure with `--with-gmp="$SAGE_LOCAL"` (or `--with-gmp-prefix="$SAGE_LOCAL"`, haven't tested that yet).



 
> If you configure with `--enable-unicode=no` (you could also use `--disable-unicode` btw.), you can completely remove the following two directories (not just their contents):


```
src/contrib/encodings/
src/contrib/unicode/
```

FWIW, #9493 had a comment on that one must not configure with `--enable-unicode` if these directories are deleted (in the *Special Update/Build Instructions* section).




Since Sage also ships and builds the Boehm GC, we could most probably delete even more.



---

archive/issue_events_160163.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-04T20:30:14Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160163"
}
```



---

archive/issue_events_160164.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-11-04T20:30:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160164"
}
```



---

archive/issue_comments_124693.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nOkay, I'm posting a new spkg.  Differences between the previous one and this one are recorded in the \"delta\" patch.\n\n> libffi is installed on many systems, so we certainly shouldn't disable it.\n\nOkay, I'm not disabling it, so if it's present on the system, it will be used.  I'm still removing the directory.\n\n> Much more worth is (also) removing the gmp directory\n\nIt's now (mostly) gone as per your suggestion.  See SPKG.txt.\n\n> If the patches are applied from src/, they should be applied (i.e., be appliable) with -p1 for consistency.\n\nOkay.\n\n> `Hunk #1 succeeded at 70 with fuzz 2 (offset 1 line).`\n\nFixed\n\n> spkg-install in whole needs some clean-up\n\nI've done some clean-up.\n\n> We should also configure with --with-gmp=\"$SAGE_LOCAL\" (or --with-gmp-prefix=\"$SAGE_LOCAL\", haven't tested that yet).\n\nDone.\n\n> Since Sage also ships and builds the Boehm GC, we could most probably delete even more.\n\nI'm not touching this part, except to add a \"To do\" to the SPKG.txt file.\n\nIf this is merged, can we close #9493?\n\n---\n\nI took this spkg and the maxima spkg from #11966 and built Sage from scratch.  It built successfully on the following systems:\n\n- sage.math\n- hawk (David Kirkby's OpenSolaris machine)\n- skynet machines eno, silius, taurus\n\nDoctests passed on all of these except for silius, which has always had other issues.\n\nThis spkg by itself builds on an OS X Lion laptop, at which point `sage --lisp` seems to work, but other parts of the Sage build have problems.\n\nI'm still in the middle of builds on other machines.",
    "created_at": "2011-11-04T20:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124693",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:28" align="right">comment:28</div>

Okay, I'm posting a new spkg.  Differences between the previous one and this one are recorded in the "delta" patch.

> libffi is installed on many systems, so we certainly shouldn't disable it.

Okay, I'm not disabling it, so if it's present on the system, it will be used.  I'm still removing the directory.

> Much more worth is (also) removing the gmp directory

It's now (mostly) gone as per your suggestion.  See SPKG.txt.

> If the patches are applied from src/, they should be applied (i.e., be appliable) with -p1 for consistency.

Okay.

> `Hunk #1 succeeded at 70 with fuzz 2 (offset 1 line).`

Fixed

> spkg-install in whole needs some clean-up

I've done some clean-up.

> We should also configure with --with-gmp="$SAGE_LOCAL" (or --with-gmp-prefix="$SAGE_LOCAL", haven't tested that yet).

Done.

> Since Sage also ships and builds the Boehm GC, we could most probably delete even more.

I'm not touching this part, except to add a "To do" to the SPKG.txt file.

If this is merged, can we close #9493?

---

I took this spkg and the maxima spkg from #11966 and built Sage from scratch.  It built successfully on the following systems:

- sage.math
- hawk (David Kirkby's OpenSolaris machine)
- skynet machines eno, silius, taurus

Doctests passed on all of these except for silius, which has always had other issues.

This spkg by itself builds on an OS X Lion laptop, at which point `sage --lisp` seems to work, but other parts of the Sage build have problems.

I'm still in the middle of builds on other machines.



---

archive/issue_comments_124694.json:
```json
{
    "body": "Changed author from **William Stein** to **William Stein, John Palmieri**",
    "created_at": "2011-11-04T20:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124694",
    "user": "https://github.com/jhpalmieri"
}
```

Changed author from **William Stein** to **William Stein, John Palmieri**



---

archive/issue_comments_124695.json:
```json
{
    "body": "diff between previous version and this one",
    "created_at": "2011-11-04T20:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124695",
    "user": "https://github.com/jhpalmieri"
}
```

diff between previous version and this one



---

archive/issue_comments_124696.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nAttachment: **[trac_11884-ecl.delta.patch.gz](https://github.com/sagemath/sage/files/ticket11884/trac_11884-ecl.delta.patch.gz)**\n\nOk, delta patch looks sane (modulo some uppercase/lowercase inconsistency in `SPKG.txt`).\n\nFor most directories (except `gmp`), *\"Remove the contents of ...\"* should read *\"Remove the directory ...\"* (with `rm -rf ...`).\n\n\n\n\n*Someone<sup>TM</sup>* should report the unconditional use of `install-sh` etc. from \"optional\" components' subdirectories upstream...\n\nAlso, there should be a way to force the use of a \"system\" Boehm GC (in our case, Sage's) on Darwin as well; haven't checked whether that changed in recent releases though.  (We could open a follow-up for that, and submit a patch upstream in case this is still necessary.)",
    "created_at": "2011-11-04T21:14:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124696",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:29" align="right">comment:29</div>

Attachment: **[trac_11884-ecl.delta.patch.gz](https://github.com/sagemath/sage/files/ticket11884/trac_11884-ecl.delta.patch.gz)**

Ok, delta patch looks sane (modulo some uppercase/lowercase inconsistency in `SPKG.txt`).

For most directories (except `gmp`), *"Remove the contents of ..."* should read *"Remove the directory ..."* (with `rm -rf ...`).




*Someone<sup>TM</sup>* should report the unconditional use of `install-sh` etc. from "optional" components' subdirectories upstream...

Also, there should be a way to force the use of a "system" Boehm GC (in our case, Sage's) on Darwin as well; haven't checked whether that changed in recent releases though.  (We could open a follow-up for that, and submit a patch upstream in case this is still necessary.)



---

archive/issue_comments_124697.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nOkay, here are the new diffs:\n\n```diff\ndiff --git a/SPKG.txt b/SPKG.txt\n--- a/SPKG.txt\n+++ b/SPKG.txt\n@@ -41,14 +41,14 @@ Website: http://ecls.sourceforge.net/\n  * Note: deleting the following directories saves space: without doing\n    this, the spkg can grow from under 2.5 megabytes to almost 7\n    megabytes.\n- * Delete the contents of the src/msvc directory\n- * Delete the contents of the src/src/gc_unstable/ directory\n- * Delete the contents of the src/src/libffi/ directory\n- * Delete most of the contents of the src/src/gmp directory:\n+ * Remove the directory src/msvc/\n+ * Remove the directory src/src/gc_unstable/\n+ * Remove the directory src/src/libffi/\n+ * Remove most of the contents of the src/src/gmp directory:\n    everything except install.sh, config.*, and configfsf.*\n  * Build with --enable-unicode=no, and hence it is safe to:\n-   - Delete the contents of the src/contrib/encodings directory\n-   - Delete the contents of the src/contrib/unicode directory\n+   - Remove the directory src/contrib/encodings/\n+   - Remove the directory src/contrib/unicode/\n    (Building with --enable-unicode=yes, the default in the latest ecl\n    source, leads to problems with some strings in the Sage-maxima-ecl\n    interface.)\n@@ -63,7 +63,7 @@ Website: http://ecls.sourceforge.net/\n \n == Changelog ==\n \n-=== ecl-11.1.2.git.20111030.p0 (John H. Palmieri, 2 Novemer 2011) ===\n+=== ecl-11.1.2.git.20111030.p0 (John H. Palmieri, 4 November 2011) ===\n   * Trac #11884.  General clean-up: remove unneeded patches,\n     remove some source files (as described above in \"Special\n     Update/Build Instructions\"), echo error messages to stderr, etc.\n```\n\nI would also like to register a complaint that while in the src directory, running `./configure --help` actually creates a directory (`build`) and then prints the message \"Configuration complete. To build ECL, issue make in this directory.\"  I wouldn't expect `./configure --help` to actually do anything beyond print a message.",
    "created_at": "2011-11-04T21:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124697",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:30" align="right">comment:30</div>

Okay, here are the new diffs:

```diff
diff --git a/SPKG.txt b/SPKG.txt
--- a/SPKG.txt
+++ b/SPKG.txt
@@ -41,14 +41,14 @@ Website: http://ecls.sourceforge.net/
  * Note: deleting the following directories saves space: without doing
    this, the spkg can grow from under 2.5 megabytes to almost 7
    megabytes.
- * Delete the contents of the src/msvc directory
- * Delete the contents of the src/src/gc_unstable/ directory
- * Delete the contents of the src/src/libffi/ directory
- * Delete most of the contents of the src/src/gmp directory:
+ * Remove the directory src/msvc/
+ * Remove the directory src/src/gc_unstable/
+ * Remove the directory src/src/libffi/
+ * Remove most of the contents of the src/src/gmp directory:
    everything except install.sh, config.*, and configfsf.*
  * Build with --enable-unicode=no, and hence it is safe to:
-   - Delete the contents of the src/contrib/encodings directory
-   - Delete the contents of the src/contrib/unicode directory
+   - Remove the directory src/contrib/encodings/
+   - Remove the directory src/contrib/unicode/
    (Building with --enable-unicode=yes, the default in the latest ecl
    source, leads to problems with some strings in the Sage-maxima-ecl
    interface.)
@@ -63,7 +63,7 @@ Website: http://ecls.sourceforge.net/
 
 == Changelog ==
 
-=== ecl-11.1.2.git.20111030.p0 (John H. Palmieri, 2 Novemer 2011) ===
+=== ecl-11.1.2.git.20111030.p0 (John H. Palmieri, 4 November 2011) ===
   * Trac #11884.  General clean-up: remove unneeded patches,
     remove some source files (as described above in "Special
     Update/Build Instructions"), echo error messages to stderr, etc.
```

I would also like to register a complaint that while in the src directory, running `./configure --help` actually creates a directory (`build`) and then prints the message "Configuration complete. To build ECL, issue make in this directory."  I wouldn't expect `./configure --help` to actually do anything beyond print a message.



---

archive/issue_comments_124698.json:
```json
{
    "body": "patch for ecl spkg; for review only",
    "created_at": "2011-11-04T21:32:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124698",
    "user": "https://github.com/jhpalmieri"
}
```

patch for ecl spkg; for review only



---

archive/issue_comments_124699.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nAttachment: **[trac_11884-ecl.patch.gz](https://github.com/sagemath/sage/files/ticket11884/trac_11884-ecl.patch.gz)**\n\nOh, and now I just changed some instances of \"ecl\" to \"ECL\" in SPKG.txt.  The posted delta patch is out of date.  Add to them the diffs from my previous message and also these lower/uppercase changes.",
    "created_at": "2011-11-04T21:33:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124699",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:31" align="right">comment:31</div>

Attachment: **[trac_11884-ecl.patch.gz](https://github.com/sagemath/sage/files/ticket11884/trac_11884-ecl.patch.gz)**

Oh, and now I just changed some instances of "ecl" to "ECL" in SPKG.txt.  The posted delta patch is out of date.  Add to them the diffs from my previous message and also these lower/uppercase changes.



---

archive/issue_events_160165.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-10T13:30:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160165"
}
```



---

archive/issue_events_160166.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-10T13:30:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/p%3A%201%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p: 1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160166"
}
```



---

archive/issue_comments_124700.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThis fails on OS X 10.4 PPC, see attached log file.",
    "created_at": "2011-11-12T07:40:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124700",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

This fails on OS X 10.4 PPC, see attached log file.



---

archive/issue_events_160167.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-12T07:40:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160167"
}
```



---

archive/issue_events_160168.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-12T07:40:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160168"
}
```



---

archive/issue_comments_124701.json:
```json
{
    "body": "Attachment: **[ecl-11.1.2.git.20111030.p0.log](https://github.com/sagemath/sage/files/ticket11884/ecl-11.1.2.git.20111030.p0.log)**\n\nBuild failure on OS X 10.4 PPC",
    "created_at": "2011-11-12T07:41:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124701",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[ecl-11.1.2.git.20111030.p0.log](https://github.com/sagemath/sage/files/ticket11884/ecl-11.1.2.git.20111030.p0.log)**

Build failure on OS X 10.4 PPC



---

archive/issue_comments_124702.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nThe last part of the log file is\n\n```\n;;; Note:\n;;;   Invoking external command:\n;;;   gcc -I. -I/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/ -DECL_API -I/Users/jdemeyer/sage-4.8.alph\n;;; Finished compiling EXT:BYTECMP;BYTECMP.LSP.\n;;;\n;;; Note:\n;;;   Library initialization function is main_lib_LSP\n;;; Note:\n;;;   Invoking external command:\n;;;   gcc -I. -I/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/ -DECL_API -I/Users/jdemeyer/sage-4.8.alph\n;;; Note:\n;;;   Invoking external command:\n;;;   ar cr liblsp.a eclinit8Mq5nn.o lsp/export.o lsp/defmacro.o lsp/helpfile.o lsp/evalmacros.o lsp/setf.o lsp/predlib.o lsp/seq.o lsp/ar\n;;; Note:\n;;;   Invoking external command:\n;;;   ranlib liblsp.a\nNIL\n/usr/bin/libtool: file: liblsp.a(eClDaTa20110719) is not an object file (not allowed in a library)\n/usr/bin/libtool: archive: liblsp.a truncated or malformed (archive header of next member extends past the end of the file)\n;;; Note:\n;;;   Invoking external command:\n;;;   gcc -o libecl.dylib -L/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/ c/main.o c/all_symbols2.o lib\nCondition of type: SIMPLE-ERROR\nError code 1 when executing\n(RUN-PROGRAM \"gcc\" (\"-o\" \"libecl.dylib\" \"-L/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/\" \"c/main.o\" \"c\n\nAvailable restarts:\n\n1. (CONTINUE) Continues anyway.\n\nTop level.\n>\n```\n\nAt this point I got an interactive prompt(!).  This prompt probably should be avoided anyway, by redirecting stdin from `/dev/null` during the build.",
    "created_at": "2011-11-12T07:43:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124702",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

The last part of the log file is

```
;;; Note:
;;;   Invoking external command:
;;;   gcc -I. -I/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/ -DECL_API -I/Users/jdemeyer/sage-4.8.alph
;;; Finished compiling EXT:BYTECMP;BYTECMP.LSP.
;;;
;;; Note:
;;;   Library initialization function is main_lib_LSP
;;; Note:
;;;   Invoking external command:
;;;   gcc -I. -I/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/ -DECL_API -I/Users/jdemeyer/sage-4.8.alph
;;; Note:
;;;   Invoking external command:
;;;   ar cr liblsp.a eclinit8Mq5nn.o lsp/export.o lsp/defmacro.o lsp/helpfile.o lsp/evalmacros.o lsp/setf.o lsp/predlib.o lsp/seq.o lsp/ar
;;; Note:
;;;   Invoking external command:
;;;   ranlib liblsp.a
NIL
/usr/bin/libtool: file: liblsp.a(eClDaTa20110719) is not an object file (not allowed in a library)
/usr/bin/libtool: archive: liblsp.a truncated or malformed (archive header of next member extends past the end of the file)
;;; Note:
;;;   Invoking external command:
;;;   gcc -o libecl.dylib -L/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/ c/main.o c/all_symbols2.o lib
Condition of type: SIMPLE-ERROR
Error code 1 when executing
(RUN-PROGRAM "gcc" ("-o" "libecl.dylib" "-L/Users/jdemeyer/sage-4.8.alpha2/spkg/build/ecl-11.1.2.git.20111030.p0/src/build/" "c/main.o" "c

Available restarts:

1. (CONTINUE) Continues anyway.

Top level.
>
```

At this point I got an interactive prompt(!).  This prompt probably should be avoided anyway, by redirecting stdin from `/dev/null` during the build.



---

archive/issue_comments_124703.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\n> This prompt probably should be avoided anyway, by redirecting stdin from /dev/null during the build.\n\nDo you mean\n\n```diff\ndiff --git a/spkg-install b/spkg-install\n--- a/spkg-install\n+++ b/spkg-install\n@@ -105,7 +105,7 @@ fi\n # Before running make we touch build/TAGS so its building process is never triggered\n touch build/TAGS\n \n-$MAKE\n+$MAKE < /dev/null\n if [ $? -ne 0 ]; then\n    echo >&2 \"Error - Failed to build ECL ... exiting\"\n    exit 1\n```\nI don't have access to an OS X 10.4 PPC machine (as far as I know), so it's going to be hard for me to test this.",
    "created_at": "2011-11-12T16:54:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124703",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:35" align="right">comment:35</div>

> This prompt probably should be avoided anyway, by redirecting stdin from /dev/null during the build.

Do you mean

```diff
diff --git a/spkg-install b/spkg-install
--- a/spkg-install
+++ b/spkg-install
@@ -105,7 +105,7 @@ fi
 # Before running make we touch build/TAGS so its building process is never triggered
 touch build/TAGS
 
-$MAKE
+$MAKE < /dev/null
 if [ $? -ne 0 ]; then
    echo >&2 "Error - Failed to build ECL ... exiting"
    exit 1
```
I don't have access to an OS X 10.4 PPC machine (as far as I know), so it's going to be hard for me to test this.



---

archive/issue_comments_124704.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI think we should consider ending support for 10.4 in Sage-5.0 (where we'll surely fully support 10.7).   OS X 10.4 is from 2005, and it hasn't had security updates in since mid-2009.",
    "created_at": "2011-11-12T17:30:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124704",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:36" align="right">comment:36</div>

I think we should consider ending support for 10.4 in Sage-5.0 (where we'll surely fully support 10.7).   OS X 10.4 is from 2005, and it hasn't had security updates in since mid-2009.



---

archive/issue_comments_124705.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@williamstein](#comment:36):\n> I think we should consider ending support for 10.4 in Sage-5.0 (where we'll surely fully support 10.7).   OS X 10.4 is from 2005, and it hasn't had security updates in since mid-2009.\n\nCould be worth asking Harald how many downloads there have been of this.  There seems to be a steady trickle of folks using this.  At the same time, I understand the sentiment.  Though see this amusing quote from [TenFourFox](http://www.floodgap.com/software/tenfourfox/)'s website:\n\n```\n But we were horrified when Mozilla delivered the one-two punch of dropping \nboth support for Tiger and our beloved Power Macs from Firefox. A quad 2.5GHz G5 \nisn't worth using to surf the web? Really? And you guys still support Windows XP?\n```",
    "created_at": "2011-11-12T17:49:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124705",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@williamstein](#comment:36):
> I think we should consider ending support for 10.4 in Sage-5.0 (where we'll surely fully support 10.7).   OS X 10.4 is from 2005, and it hasn't had security updates in since mid-2009.

Could be worth asking Harald how many downloads there have been of this.  There seems to be a steady trickle of folks using this.  At the same time, I understand the sentiment.  Though see this amusing quote from [TenFourFox](http://www.floodgap.com/software/tenfourfox/)'s website:

```
 But we were horrified when Mozilla delivered the one-two punch of dropping 
both support for Tiger and our beloved Power Macs from Firefox. A quad 2.5GHz G5 
isn't worth using to surf the web? Really? And you guys still support Windows XP?
```



---

archive/issue_comments_124706.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nI would say: as long as it's easily doable to support OS X 10.4, let's do it.  If some day, Sage needs a compelling feature from recent OS X, I wouldn't mind dropping support for older OS X versions.",
    "created_at": "2011-11-14T08:31:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124706",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:38" align="right">comment:38</div>

I would say: as long as it's easily doable to support OS X 10.4, let's do it.  If some day, Sage needs a compelling feature from recent OS X, I wouldn't mind dropping support for older OS X versions.



---

archive/issue_comments_124707.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nJust figured out what happens (not why nor how to fix it):\n\nThe upstream ECL building script creates a library `liblsp.a` using the system's `ar` and `ranlib` tools.  Then the script **manually** appends 24 bytes to the .a file.  Then `libtool` trips over these extra bytes.\n\nSo the problem is certainly upstream.",
    "created_at": "2011-11-14T10:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124707",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:39" align="right">comment:39</div>

Just figured out what happens (not why nor how to fix it):

The upstream ECL building script creates a library `liblsp.a` using the system's `ar` and `ranlib` tools.  Then the script **manually** appends 24 bytes to the .a file.  Then `libtool` trips over these extra bytes.

So the problem is certainly upstream.



---

archive/issue_comments_124708.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nThe upstream problem on OS X 10.4 seems to have been introduced recently so going back to some earlier version might solve it.  I will make a new spkg.",
    "created_at": "2011-11-14T14:50:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124708",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

The upstream problem on OS X 10.4 seems to have been introduced recently so going back to some earlier version might solve it.  I will make a new spkg.



---

archive/issue_events_160169.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-14T15:50:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160169"
}
```



---

archive/issue_events_160170.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-14T15:50:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160170"
}
```



---

archive/issue_comments_124709.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nNew spkg which builds on OS X 10.4: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)\n\nPlease test this on OS X 10.7, I have no such machine.",
    "created_at": "2011-11-14T15:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124709",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

New spkg which builds on OS X 10.4: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)

Please test this on OS X 10.7, I have no such machine.



---

archive/issue_comments_124710.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,7 +2,10 @@\n \n The home base for this ticket is the Lion ticket #11881.\n \n-  \n-There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone. \n+There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n \n-Package: [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)\n+Package (broken on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)\n+\n+Alternative package (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)\n+\n+The most recent CVS version fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n``````\n",
    "created_at": "2011-11-14T17:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124710",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,7 +2,10 @@
 
 The home base for this ticket is the Lion ticket #11881.
 
-  
-There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone. 
+There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.
 
-Package: [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)
+Package (broken on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)
+
+Alternative package (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)
+
+The most recent CVS version fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).
``````




---

archive/issue_comments_124711.json:
```json
{
    "body": "Upstream: **Reported upstream. Little or no feedback.**",
    "created_at": "2011-11-14T17:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124711",
    "user": "https://github.com/jdemeyer"
}
```

Upstream: **Reported upstream. Little or no feedback.**



---

archive/issue_comments_124712.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2011-11-14T22:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124712",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_124713.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\n5 hours, impressive...",
    "created_at": "2011-11-14T22:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124713",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:43" align="right">comment:43</div>

5 hours, impressive...



---

archive/issue_comments_124714.json:
```json
{
    "body": "Changed author from **William Stein, John Palmieri** to **William Stein, John Palmieri, Jeroen Demeyer**",
    "created_at": "2011-11-15T10:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124714",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **William Stein, John Palmieri** to **William Stein, John Palmieri, Jeroen Demeyer**



---

archive/issue_comments_124715.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,8 +4,10 @@\n \n There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n \n-Package (broken on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)\n+Package (**broken** on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)\n \n Alternative package (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)\n \n-The most recent CVS version fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n+Alternative package 2 (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)\n+\n+The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n``````\n",
    "created_at": "2011-11-15T10:24:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124715",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,8 +4,10 @@
 
 There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.
 
-Package (broken on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)
+Package (**broken** on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)
 
 Alternative package (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)
 
-The most recent CVS version fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).
+Alternative package 2 (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)
+
+The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).
``````




---

archive/issue_comments_124716.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nThe spkg ecl-11.1.2.cvs20111107.p0.spkg doesn't build for me on OS X 10.7.  Log file: [http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.2.cvs20111107.p0.log](http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.2.cvs20111107.p0.log).  \n\nThe spkg ecl-11.1.2.cvs20111115.p0.spkg does build, and `sage --lisp` starts up and does a simple calculation (about all that I'm capable of in lisp these days).  After that, `sage -f maxima-...` works (with the maxima spkg from #11966).",
    "created_at": "2011-11-15T16:43:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124716",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:45" align="right">comment:45</div>

The spkg ecl-11.1.2.cvs20111107.p0.spkg doesn't build for me on OS X 10.7.  Log file: [http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.2.cvs20111107.p0.log](http://sage.math.washington.edu/home/palmieri/misc/ecl-11.1.2.cvs20111107.p0.log).  

The spkg ecl-11.1.2.cvs20111115.p0.spkg does build, and `sage --lisp` starts up and does a simple calculation (about all that I'm capable of in lisp these days).  After that, `sage -f maxima-...` works (with the maxima spkg from #11966).



---

archive/issue_comments_124717.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,10 +4,6 @@\n \n There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n \n-Package (**broken** on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)\n-\n-Alternative package (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)\n-\n-Alternative package 2 (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)\n+Package (**broken** on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)\n \n The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n``````\n",
    "created_at": "2011-11-15T17:19:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124717",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,10 +4,6 @@
 
 There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.
 
-Package (**broken** on OS X 10.4 PPC): [http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg](http://sage.math.washington.edu/home/palmieri/SPKG/ecl-11.1.2.git.20111030.p0.spkg)
-
-Alternative package (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111107.p0.spkg)
-
-Alternative package 2 (works on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)
+Package (**broken** on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)
 
 The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).
``````




---

archive/issue_comments_124718.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,6 +4,11 @@\n \n There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n \n-Package (**broken** on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)\n+\n+This package works on:\n+1. OS X 10.4 PPC\n+2. OS X 10.7\n+3. sage.math.washington.edu\n \n The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n``````\n",
    "created_at": "2011-11-15T17:24:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124718",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,6 +4,11 @@
 
 There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.
 
-Package (**broken** on OS X 10.4 PPC): [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)
+
+This package works on:
+1. OS X 10.4 PPC
+2. OS X 10.7
+3. sage.math.washington.edu
 
 The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).
``````




---

archive/issue_comments_124719.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nThe spkg looks good to me except that you haven't committed your changes.",
    "created_at": "2011-11-15T18:07:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124719",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:48" align="right">comment:48</div>

The spkg looks good to me except that you haven't committed your changes.



---

archive/issue_comments_124720.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nI can confirm that `sage -ecl` gives `4` when I enter `(+ 2 2)` on OS X PPC with this spkg.  Amazing sleuthing...",
    "created_at": "2011-11-15T18:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124720",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:49" align="right">comment:49</div>

I can confirm that `sage -ecl` gives `4` when I enter `(+ 2 2)` on OS X PPC with this spkg.  Amazing sleuthing...



---

archive/issue_comments_124721.json:
```json
{
    "body": "Changed reviewer from **Leif Leonhardy** to **Leif Leonhardy, John Palmieri**",
    "created_at": "2011-11-15T18:28:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124721",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **Leif Leonhardy** to **Leif Leonhardy, John Palmieri**



---

archive/issue_comments_124722.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nDid anyone try this and then the new Maxima spkg at #11966 on OS X 10.4 PPC?  There is an error with the Maxima that looks nearly identical to the message on this one, about the archive header extending...",
    "created_at": "2011-11-15T18:55:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124722",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:50" align="right">comment:50</div>

Did anyone try this and then the new Maxima spkg at #11966 on OS X 10.4 PPC?  There is an error with the Maxima that looks nearly identical to the message on this one, about the archive header extending...



---

archive/issue_comments_124723.json:
```json
{
    "body": "Attachment: **[ecl-11.1.2.cvs20111115.diff.gz](https://github.com/sagemath/sage/files/ticket11884/ecl-11.1.2.cvs20111115.diff.gz)**\n\nDiff between ecl-11.1.2.git.20111030.p0.spkg  and ecl-11.1.2.cvs20111115.p0.spkg",
    "created_at": "2011-11-16T13:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124723",
    "user": "https://github.com/jdemeyer"
}
```

Attachment: **[ecl-11.1.2.cvs20111115.diff.gz](https://github.com/sagemath/sage/files/ticket11884/ecl-11.1.2.cvs20111115.diff.gz)**

Diff between ecl-11.1.2.git.20111030.p0.spkg  and ecl-11.1.2.cvs20111115.p0.spkg



---

archive/issue_comments_124724.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@jhpalmieri](#comment:48):\n> The spkg looks good to me except that you haven't committed your changes.\n\nI wanted to make sure it actually worked on OS X Lion.  I committed now, does the spkg get a positive review then?",
    "created_at": "2011-11-16T13:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124724",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@jhpalmieri](#comment:48):
> The spkg looks good to me except that you haven't committed your changes.

I wanted to make sure it actually worked on OS X Lion.  I committed now, does the spkg get a positive review then?



---

archive/issue_comments_124725.json:
```json
{
    "body": "<div id=\"comment:52\" align=\"right\">comment:52</div>\n\nWhat about kcrisman's comment about maxima not working on OS X 10.4 PPC?  Otherwise, I'm ready to give this a positive review.",
    "created_at": "2011-11-16T18:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124725",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:52" align="right">comment:52</div>

What about kcrisman's comment about maxima not working on OS X 10.4 PPC?  Otherwise, I'm ready to give this a positive review.



---

archive/issue_comments_124726.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nI've tried all four combinations.\n\nWorks:\n* Old ECL + Old Maxima\n\nDoesn't build, error as noted on #11996:\n* New ECL + New Maxima\n\nBuilds Maxima but doesn't create the library version properly:\n* New ECL + Old Maxima\n\nCurrently trying, but seems pointless:\n* Old ECL + New Maxima",
    "created_at": "2011-11-16T18:18:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124726",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:53" align="right">comment:53</div>

I've tried all four combinations.

Works:
* Old ECL + Old Maxima

Doesn't build, error as noted on #11996:
* New ECL + New Maxima

Builds Maxima but doesn't create the library version properly:
* New ECL + Old Maxima

Currently trying, but seems pointless:
* Old ECL + New Maxima



---

archive/issue_comments_124727.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI can confirm kcrisman's findings.  With the ECL package from 2011-11-07 (which unfortunately does *not* work on OS X 10.7), Maxima builds properly.",
    "created_at": "2011-11-16T19:34:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124727",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:54" align="right">comment:54</div>

I can confirm kcrisman's findings.  With the ECL package from 2011-11-07 (which unfortunately does *not* work on OS X 10.7), Maxima builds properly.



---

archive/issue_comments_124728.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nSo what should we do?  How hard is it to identify the differences between the two packages (2011-11-07 and 2011-11-15)?  Then we could turn those differences into patches, and either build the earlier package on all platforms except Lion and apply the patches to build on Lion, or else apply the patches on all platforms except OS X 10.4 PPC.\n\n(If this sounds like a good idea, I can't help much: I know nothing about git, and I also don't have a lot of time to work on this right now.)",
    "created_at": "2011-11-16T19:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124728",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:55" align="right">comment:55</div>

So what should we do?  How hard is it to identify the differences between the two packages (2011-11-07 and 2011-11-15)?  Then we could turn those differences into patches, and either build the earlier package on all platforms except Lion and apply the patches to build on Lion, or else apply the patches on all platforms except OS X 10.4 PPC.

(If this sounds like a good idea, I can't help much: I know nothing about git, and I also don't have a lot of time to work on this right now.)



---

archive/issue_comments_124729.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Not yet reported upstream; Will do shortly.**",
    "created_at": "2011-11-16T19:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124729",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Not yet reported upstream; Will do shortly.**



---

archive/issue_events_160171.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-16T19:54:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160171"
}
```



---

archive/issue_events_160172.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-16T19:54:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160172"
}
```



---

archive/issue_comments_124730.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nReplying to [@jhpalmieri](#comment:55):\n> So what should we do?  How hard is it to identify the differences between the two packages (2011-11-07 and 2011-11-15)?\n\nUnfortunately, *a lot* changed those days.  It seems these changed made ECL work on OS X 10.7.\n\nThe best thing to do is probably to report this upstream, I will look into it.",
    "created_at": "2011-11-16T19:54:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124730",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

Replying to [@jhpalmieri](#comment:55):
> So what should we do?  How hard is it to identify the differences between the two packages (2011-11-07 and 2011-11-15)?

Unfortunately, *a lot* changed those days.  It seems these changed made ECL work on OS X 10.7.

The best thing to do is probably to report this upstream, I will look into it.



---

archive/issue_comments_124731.json:
```json
{
    "body": "<div id=\"comment:57\" align=\"right\">comment:57</div>\n\nReplying to [@jhpalmieri](#comment:55):\n> So what should we do?  How hard is it to identify the differences between the two packages (2011-11-07 and 2011-11-15)?  Then we could turn those differences into patches.\n\nIt's hard to believe, but the diff between today and 2011-11-07 is 846KB(!).",
    "created_at": "2011-11-16T19:59:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124731",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:57" align="right">comment:57</div>

Replying to [@jhpalmieri](#comment:55):
> So what should we do?  How hard is it to identify the differences between the two packages (2011-11-07 and 2011-11-15)?  Then we could turn those differences into patches.

It's hard to believe, but the diff between today and 2011-11-07 is 846KB(!).



---

archive/issue_comments_124732.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**",
    "created_at": "2011-11-16T20:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124732",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Reported upstream. Little or no feedback.**



---

archive/issue_comments_124733.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,9 +4,9 @@\n \n There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)\n \n-This package works on:\n+This package needs to be tested on:\n 1. OS X 10.4 PPC\n 2. OS X 10.7\n 3. sage.math.washington.edu\n``````\n",
    "created_at": "2011-11-24T18:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124733",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,9 +4,9 @@
 
 There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111115.p0.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)
 
-This package works on:
+This package needs to be tested on:
 1. OS X 10.4 PPC
 2. OS X 10.7
 3. sage.math.washington.edu
``````




---

archive/issue_comments_124734.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2011-11-24T18:56:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124734",
    "user": "https://github.com/jdemeyer"
}
```

Changed upstream from **Reported upstream. Little or no feedback.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_124735.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nThis builds on OS X 10.6, OS X 10.7, and on sage.math: on these systems, I built the spkg and then maxima on top of it, and both `sage --lisp` and `sage --maxima` appear to work.  On sage.math, I've also built from scratch successfully.  I'm building from scratch on OS X 10.7, but that will take a while to complete.\n\nI have no access to an OS X 10.4 machine, so I can't test there.",
    "created_at": "2011-11-24T23:22:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124735",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:61" align="right">comment:61</div>

This builds on OS X 10.6, OS X 10.7, and on sage.math: on these systems, I built the spkg and then maxima on top of it, and both `sage --lisp` and `sage --maxima` appear to work.  On sage.math, I've also built from scratch successfully.  I'm building from scratch on OS X 10.7, but that will take a while to complete.

I have no access to an OS X 10.4 machine, so I can't test there.



---

archive/issue_comments_124736.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nBy the way, why did you delete this entry in the change log?\n\n```\nAdd file spkg-make to re-create the src/ tree using CVS.\n```\nI thought it was useful.",
    "created_at": "2011-11-24T23:25:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124736",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:62" align="right">comment:62</div>

By the way, why did you delete this entry in the change log?

```
Add file spkg-make to re-create the src/ tree using CVS.
```
I thought it was useful.



---

archive/issue_comments_124737.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@jhpalmieri](#comment:62):\n> By the way, why did you delete this entry in the change log?\n> \n> ```\n> Add file spkg-make to re-create the src/ tree using CVS.\n> ```\n> I thought it was useful.\n\nThat was by mistake, corrected now.\n\nI am testing on OS X 10.4 PPC now.",
    "created_at": "2011-11-25T09:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124737",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@jhpalmieri](#comment:62):
> By the way, why did you delete this entry in the change log?
> 
> ```
> Add file spkg-make to re-create the src/ tree using CVS.
> ```
> I thought it was useful.

That was by mistake, corrected now.

I am testing on OS X 10.4 PPC now.



---

archive/issue_comments_124738.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,8 +6,8 @@\n \n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)\n \n-This package needs to be tested on:\n-1. OS X 10.4 PPC\n+This package, and Maxima built with it, works on:\n+1. OS X 10.6\n 2. OS X 10.7\n 3. sage.math.washington.edu\n \n``````\n",
    "created_at": "2011-11-25T09:52:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124738",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,8 +6,8 @@
 
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)
 
-This package needs to be tested on:
-1. OS X 10.4 PPC
+This package, and Maxima built with it, works on:
+1. OS X 10.6
 2. OS X 10.7
 3. sage.math.washington.edu
 
``````




---

archive/issue_comments_124739.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,8 +7,9 @@\n **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)\n \n This package, and Maxima built with it, works on:\n-1. OS X 10.6\n-2. OS X 10.7\n-3. sage.math.washington.edu\n+1. OS X 10.4 PPC\n+2. OS X 10.6\n+3. OS X 10.7\n+4. sage.math.washington.edu\n \n The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).\n``````\n",
    "created_at": "2011-11-26T11:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124739",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,8 +7,9 @@
 **spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)
 
 This package, and Maxima built with it, works on:
-1. OS X 10.6
-2. OS X 10.7
-3. sage.math.washington.edu
+1. OS X 10.4 PPC
+2. OS X 10.6
+3. OS X 10.7
+4. sage.math.washington.edu
 
 The CVS version from 2011-11-08 fails on OS X 10.4 PPC, [reported upstream](http://sourceforge.net/tracker/?func=detail&aid=3437863&group_id=30035&atid=398053).
``````




---

archive/issue_comments_124740.json:
```json
{
    "body": "Merged: **sage-4.8.alpha3**",
    "created_at": "2011-11-26T11:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124740",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.8.alpha3**



---

archive/issue_comments_124741.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nSeems to work on all OS X systems, and Maxima also, so positive_review.",
    "created_at": "2011-11-26T11:27:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124741",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:64" align="right">comment:64</div>

Seems to work on all OS X systems, and Maxima also, so positive_review.



---

archive/issue_events_160173.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-26T11:27:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160173"
}
```



---

archive/issue_events_160174.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-26T11:27:43Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11884#event-160174"
}
```



---

archive/issue_comments_124742.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nI can confirm that it also builds on Cygwin 1.7.9.",
    "created_at": "2011-12-01T04:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124742",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:65" align="right">comment:65</div>

I can confirm that it also builds on Cygwin 1.7.9.



---

archive/issue_comments_124743.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\n> I can confirm that it also builds on Cygwin 1.7.9.\n\nTentatively setting #11260 to sage-invalid, then.",
    "created_at": "2011-12-03T02:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124743",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:66" align="right">comment:66</div>

> I can confirm that it also builds on Cygwin 1.7.9.

Tentatively setting #11260 to sage-invalid, then.



---

archive/issue_comments_124744.json:
```json
{
    "body": "Changed author from **William Stein, John Palmieri, Jeroen Demeyer** to **Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman, William Stein, John Palmieri, Jeroen Demeyer**",
    "created_at": "2011-12-05T09:17:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124744",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **William Stein, John Palmieri, Jeroen Demeyer** to **Dmitrii Pasechnik, Mike Hansen, Karl-Dieter Crisman, William Stein, John Palmieri, Jeroen Demeyer**



---

archive/issue_comments_124745.json:
```json
{
    "body": "Changed reviewer from **Leif Leonhardy, John Palmieri** to **Karl-Dieter Crisman, Reg Burgess, Fran\u00e7ois Bissey, Leif Leonhardy, John Palmieri**",
    "created_at": "2011-12-05T09:17:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124745",
    "user": "https://github.com/jdemeyer"
}
```

Changed reviewer from **Leif Leonhardy, John Palmieri** to **Karl-Dieter Crisman, Reg Burgess, Fran√ßois Bissey, Leif Leonhardy, John Palmieri**



---

archive/issue_comments_124746.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.\n \n-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)\n+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg) (also contains the fixes for Cygwin, see #11119)\n \n This package, and Maxima built with it, works on:\n 1. OS X 10.4 PPC\n``````\n",
    "created_at": "2011-12-05T09:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11884",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11884#issuecomment-124746",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 There are no claims that this fixes Maxima building (see #11966 for that); the only claim is that this new package builds and ecl runs standalone.
 
-**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg)
+**spkg**: [http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg](http://boxen.math.washington.edu/home/jdemeyer/spkg/ecl-11.1.2.cvs20111120.p0.spkg) (also contains the fixes for Cygwin, see #11119)
 
 This package, and Maxima built with it, works on:
 1. OS X 10.4 PPC
``````

