# Issue 11980: Improve naive point counting and implement zeta_function for hyperelliptic curves over finite fields

archive/issues_011808.json:
```json
{
    "body": "The following is not implemented (but can be done for hyperelliptic curves):\n\n```\nsage: P.<x> = PolynomialRing(GF(9,'a'))\nsage: H = HyperellipticCurve(x^5+x^2+1)\nsage: H.count_points(5)\nTraceback (most recent call last)\n...\nNotImplementedError: Point counting only implemented for schemes over prime fields\n```\nAlso, having a `count_points` for all cases, the Frobenius polynomial can be calculated. At the moment, this is calculated via `frobenius_matrix`, which is not always available:\n\n```\nsage: R.<t> = PolynomialRing(GF(8, 'a'))\nsage: H = HyperellipticCurve(t^5 + t + 2, t + 1)\nsage: H.frobenius_polynomial()\nTraceback (most recent call last):\n...\nNotImplementedError: only implemented for curves y^2 = f(x)\n```\n\nFurther, the zeta function can be calculated easily when the Frobenius polynomial is known.\n\nUse git branch.\n\nDepends on #15148\n\n**Assignee:** @JohnCremona\n\n**CC:**  jantuitman minz @defeo @vbraun\n\n**Keywords:** sd35 hyperelliptic curve sd53\n\n**Branch/Commit:** [c5b2f5d92936577e517f3a871e8f673727f33b10](https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10)\n\n**Reviewer:** Marco Streng, Volker Braun\n\n**Author:** Daniel Krenn, Jean-Pierre Flori\n\nIssue created by migration from https://trac.sagemath.org/ticket/11980\n\n",
    "closed_at": "2014-07-17T00:01:15Z",
    "created_at": "2011-11-02T15:07:08Z",
    "labels": [
        "component: elliptic curves",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.3",
    "title": "Improve naive point counting and implement zeta_function for hyperelliptic curves over finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/11980",
    "user": "https://github.com/dkrenn"
}
```
The following is not implemented (but can be done for hyperelliptic curves):

```
sage: P.<x> = PolynomialRing(GF(9,'a'))
sage: H = HyperellipticCurve(x^5+x^2+1)
sage: H.count_points(5)
Traceback (most recent call last)
...
NotImplementedError: Point counting only implemented for schemes over prime fields
```
Also, having a `count_points` for all cases, the Frobenius polynomial can be calculated. At the moment, this is calculated via `frobenius_matrix`, which is not always available:

```
sage: R.<t> = PolynomialRing(GF(8, 'a'))
sage: H = HyperellipticCurve(t^5 + t + 2, t + 1)
sage: H.frobenius_polynomial()
Traceback (most recent call last):
...
NotImplementedError: only implemented for curves y^2 = f(x)
```

Further, the zeta function can be calculated easily when the Frobenius polynomial is known.

Use git branch.

Depends on #15148

**Assignee:** @JohnCremona

**CC:**  jantuitman minz @defeo @vbraun

**Keywords:** sd35 hyperelliptic curve sd53

**Branch/Commit:** [c5b2f5d92936577e517f3a871e8f673727f33b10](https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10)

**Reviewer:** Marco Streng, Volker Braun

**Author:** Daniel Krenn, Jean-Pierre Flori

Issue created by migration from https://trac.sagemath.org/ticket/11980





---

archive/issue_events_096814.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2011-11-02T15:09:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96814"
}
```



---

archive/attachments_015954.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11980_count_points_frob_zeta.patch",
    "asset_url": "tarball://root/attachments/ticket11980/trac_11980_count_points_frob_zeta.patch",
    "created_at": "2011-11-02T15:09:30Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11980/trac_11980_count_points_frob_zeta.patch",
    "user": "https://github.com/dkrenn"
}
```



---

archive/issue_comments_129337.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [trac_11980_count_points_frob_zeta.patch](https://github.com/sagemath/sage/files/ticket11980/trac_11980_count_points_frob_zeta.patch) by @dkrenn created at 2011-11-02 15:09:30",
    "created_at": "2011-11-02T15:09:30Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129337",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:1'></a>
Attachment [trac_11980_count_points_frob_zeta.patch](https://github.com/sagemath/sage/files/ticket11980/trac_11980_count_points_frob_zeta.patch) by @dkrenn created at 2011-11-02 15:09:30



---

archive/issue_comments_129338.json:
```json
{
    "body": "**Changing dependencies** from \"[http://trac.sagemath.org/sage_trac/ticket/11930 11930]\" to \"11930\".",
    "created_at": "2011-11-04T17:00:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129338",
    "user": "https://github.com/dkrenn"
}
```

**Changing dependencies** from "[http://trac.sagemath.org/sage_trac/ticket/11930 11930]" to "11930".



---

archive/issue_comments_129339.json:
```json
{
    "body": "**Author:** Daniel Krenn",
    "created_at": "2011-11-04T17:00:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129339",
    "user": "https://github.com/dkrenn"
}
```

**Author:** Daniel Krenn



---

archive/issue_comments_129340.json:
```json
{
    "body": "**Changing dependencies** from \"11930\" to \"#11930\".",
    "created_at": "2011-11-04T17:11:02Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129340",
    "user": "https://github.com/dkrenn"
}
```

**Changing dependencies** from "11930" to "#11930".



---

archive/issue_comments_129341.json:
```json
{
    "body": "<a id='comment:4'></a>\nWith the changes at #11930 it is no longer necessary to use is_singular, so that test could be removed.",
    "created_at": "2011-12-18T22:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129341",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:4'></a>
With the changes at #11930 it is no longer necessary to use is_singular, so that test could be removed.



---

archive/issue_comments_129342.json:
```json
{
    "body": "**Changing dependencies** from \"#11930\" to \"\".",
    "created_at": "2011-12-18T22:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129342",
    "user": "https://github.com/mstreng"
}
```

**Changing dependencies** from "#11930" to "".



---

archive/issue_events_096815.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-12-18T22:14:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96815"
}
```



---

archive/issue_events_096816.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-12-18T22:14:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96816"
}
```



---

archive/issue_comments_129343.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd35 hyperelliptic curve\".",
    "created_at": "2012-01-03T09:37:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129343",
    "user": "https://github.com/mstreng"
}
```

**Changing keywords** from "" to "sd35 hyperelliptic curve".



---

archive/issue_comments_129344.json:
```json
{
    "body": "**Work_Issues:** correct number of points at infinity, examples for even degree",
    "created_at": "2012-01-03T09:37:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129344",
    "user": "https://github.com/mstreng"
}
```

**Work_Issues:** correct number of points at infinity, examples for even degree



---

archive/issue_comments_129345.json:
```json
{
    "body": "<a id='comment:5'></a>\nIn case f has even degree, the points at infinity are counted incorrectly by this patch. To get the correct characteristic polynomial of Frobenius, we must consider the smooth model of the curve. This is what you get when you desingularize at infinity. This smooth curve has 0, 1 or 2 points at infinity defined over the base field, so instead of just with 1, the count must start with 0, 1 or 2. (The count will not always agree with the count from the base class, as the base class thinks about the singular curve. See also #11800.)\n\nIn case `H : y^2 = f(x)` with degree(f) > 2, there are three cases:\n\n* degree(f) is odd: there is a unique point at infinity over the base field (a rational Weierstrass point at infinity)\n* degree(f) is even and its leading coefficient is a square: there are two points at infinity defined over the base field\n* degree(f) is even and its leading coefficient is not a square: there is no point at infinity defined over the base field (there are two points over a quadratic extension, and they are conjugate to each other)\n\nA similar list of cases can be written down in greater generality (including characteristic 2).\n\nAlternative to get the patch in quickly: raise an error if the curve is not of the form `y^2 = f(x)` with f of odd degree > 2.",
    "created_at": "2012-01-03T09:37:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129345",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:5'></a>
In case f has even degree, the points at infinity are counted incorrectly by this patch. To get the correct characteristic polynomial of Frobenius, we must consider the smooth model of the curve. This is what you get when you desingularize at infinity. This smooth curve has 0, 1 or 2 points at infinity defined over the base field, so instead of just with 1, the count must start with 0, 1 or 2. (The count will not always agree with the count from the base class, as the base class thinks about the singular curve. See also #11800.)

In case `H : y^2 = f(x)` with degree(f) > 2, there are three cases:

* degree(f) is odd: there is a unique point at infinity over the base field (a rational Weierstrass point at infinity)
* degree(f) is even and its leading coefficient is a square: there are two points at infinity defined over the base field
* degree(f) is even and its leading coefficient is not a square: there is no point at infinity defined over the base field (there are two points over a quadratic extension, and they are conjugate to each other)

A similar list of cases can be written down in greater generality (including characteristic 2).

Alternative to get the patch in quickly: raise an error if the curve is not of the form `y^2 = f(x)` with f of odd degree > 2.



---

archive/issue_comments_129346.json:
```json
{
    "body": "**Reviewer:** Marco Streng",
    "created_at": "2012-01-03T09:37:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129346",
    "user": "https://github.com/mstreng"
}
```

**Reviewer:** Marco Streng



---

archive/issue_events_096817.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96817"
}
```



---

archive/issue_events_096818.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96818"
}
```



---

archive/issue_comments_129347.json:
```json
{
    "body": "**Dependencies:** #15115",
    "created_at": "2013-08-28T12:41:57Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129347",
    "user": "https://github.com/mstreng"
}
```

**Dependencies:** #15115



---

archive/issue_comments_129348.json:
```json
{
    "body": "**Changing keywords** from \"sd35 hyperelliptic curve\" to \"sd35 hyperelliptic curve sd53\".",
    "created_at": "2013-09-25T13:10:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129348",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing keywords** from "sd35 hyperelliptic curve" to "sd35 hyperelliptic curve sd53".



---

archive/issue_comments_129349.json:
```json
{
    "body": "<a id='comment:8'></a>\nSee also #15148 where we are modifying count_points to actually use hypellfrob.\n(The ticket is not uptodte, I should be uploading there this afternoon hopefully.)",
    "created_at": "2013-09-25T13:10:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129349",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:8'></a>
See also #15148 where we are modifying count_points to actually use hypellfrob.
(The ticket is not uptodte, I should be uploading there this afternoon hopefully.)



---

archive/issue_comments_129350.json:
```json
{
    "body": "**Changing dependencies** from \"#15115\" to \"#15115 #15148\".",
    "created_at": "2013-09-25T13:10:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129350",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing dependencies** from "#15115" to "#15115 #15148".



---

archive/issue_comments_129351.json:
```json
{
    "body": "<a id='comment:9'></a>\nOk, so Ive finished #15148, and after looking at what was I suggested here, I think what has to be done here, on top of #15148:\n* we should add the zeta_function method,\n* enhance the naive point counting I introduced in #15148 with some ideas from this ticket, namely replace my use of the extension method of finite fields by that of embeddings of a subfield into a super field using the Hom functor and the embedding it computes.",
    "created_at": "2013-09-26T17:08:36Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129351",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:9'></a>
Ok, so Ive finished #15148, and after looking at what was I suggested here, I think what has to be done here, on top of #15148:
* we should add the zeta_function method,
* enhance the naive point counting I introduced in #15148 with some ideas from this ticket, namely replace my use of the extension method of finite fields by that of embeddings of a subfield into a super field using the Hom functor and the embedding it computes.



---

archive/issue_comments_129352.json:
```json
{
    "body": "**Changing dependencies** from \"#15115 #15148\" to \"#15148\".",
    "created_at": "2013-09-26T17:14:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129352",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing dependencies** from "#15115 #15148" to "#15148".



---

archive/issue_comments_129353.json:
```json
{
    "body": "<a id='comment:10'></a>\nAnd I don't think this should depend on #15115 as it makes no use of the modification there.\nOk the current number of point is wrong, in the spirit of what is fixed in #15115, but in my code at #15148 it is right, so provided we base this ticket on top of #15148, the dependency on #15115 goes away.",
    "created_at": "2013-09-26T17:14:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129353",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:10'></a>
And I don't think this should depend on #15115 as it makes no use of the modification there.
Ok the current number of point is wrong, in the spirit of what is fixed in #15115, but in my code at #15148 it is right, so provided we base this ticket on top of #15148, the dependency on #15115 goes away.



---

archive/issue_events_096819.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-09-27T16:48:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96819"
}
```



---

archive/issue_events_096820.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-09-27T16:48:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96820"
}
```



---

archive/issue_events_096821.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2013-09-27T16:48:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "rename": {
        "from": "hyperelliptic curves: count_points and frobenius_polynomial do not work in all cases, not zeta_function available",
        "to": "Improve naive point counting and implement zeta_function for hyperelliptic curves over finite fields"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96821"
}
```



---

archive/issue_comments_129354.json:
```json
{
    "body": "**Changing work_issues** from \"correct number of points at infinity, examples for even degree\" to \"\".",
    "created_at": "2013-09-27T16:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129354",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing work_issues** from "correct number of points at infinity, examples for even degree" to "".



---

archive/issue_comments_129355.json:
```json
{
    "body": "**Changing author** from \"Daniel Krenn\" to \"Daniel Krenn, Jean-Pierre Flori\".",
    "created_at": "2013-09-27T16:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129355",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Changing author** from "Daniel Krenn" to "Daniel Krenn, Jean-Pierre Flori".



---

archive/issue_comments_129356.json:
```json
{
    "body": "**Branch:** [u/jpflori/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/11980)",
    "created_at": "2013-09-27T16:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129356",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Branch:** [u/jpflori/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/11980)



---

archive/issue_comments_129357.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -21,4 +21,4 @@\n \n Further, the zeta function can be calculated easily when the Frobenius polynomial is known.\n \n-Patch follows.\n+Use git branch.\n``````\n",
    "created_at": "2013-09-27T16:48:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129357",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -21,4 +21,4 @@
 
 Further, the zeta function can be calculated easily when the Frobenius polynomial is known.
 
-Patch follows.
+Use git branch.
``````




---

archive/issue_comments_129358.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td>[changeset:534116b]</td><td><code>Improve naive point counting and implement zeta_function.</code></td></tr><tr><td>[changeset:fc7a569]</td><td><code>First bunch of fixes and missing examples.</code></td></tr><tr><td>[changeset:55cdcf3]</td><td><code>Refactor point counting code for hyperelliptic curves.</code></td></tr><tr><td>[changeset:86261b1]</td><td><code>Improve count_points</code></td></tr><tr><td>[changeset:a1f9bec]</td><td><code>Merge remote-tracking branch 'origin/build_system' into build_system</code></td></tr><tr><td>[changeset:4cb7db9]</td><td><code>Merge remote-tracking branch 'origin' into build_system</code></td></tr></table>\n",
    "created_at": "2013-09-27T16:54:21Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129358",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td>[changeset:534116b]</td><td><code>Improve naive point counting and implement zeta_function.</code></td></tr><tr><td>[changeset:fc7a569]</td><td><code>First bunch of fixes and missing examples.</code></td></tr><tr><td>[changeset:55cdcf3]</td><td><code>Refactor point counting code for hyperelliptic curves.</code></td></tr><tr><td>[changeset:86261b1]</td><td><code>Improve count_points</code></td></tr><tr><td>[changeset:a1f9bec]</td><td><code>Merge remote-tracking branch 'origin/build_system' into build_system</code></td></tr><tr><td>[changeset:4cb7db9]</td><td><code>Merge remote-tracking branch 'origin' into build_system</code></td></tr></table>




---

archive/issue_comments_129359.json:
```json
{
    "body": "**Commit:** [534116b53fae0aae1919fb4d99ba4cee0ee20c44](https://github.com/sagemath/sagetrac-mirror/commit/534116b53fae0aae1919fb4d99ba4cee0ee20c44)",
    "created_at": "2013-09-27T16:54:21Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129359",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [534116b53fae0aae1919fb4d99ba4cee0ee20c44](https://github.com/sagemath/sagetrac-mirror/commit/534116b53fae0aae1919fb4d99ba4cee0ee20c44)



---

archive/issue_comments_129360.json:
```json
{
    "body": "<a id='comment:15'></a>\nFYI, this still works fine without modifications after the merge of #15108 and the changes at #15148.",
    "created_at": "2013-12-25T17:15:15Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129360",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:15'></a>
FYI, this still works fine without modifications after the merge of #15108 and the changes at #15148.



---

archive/issue_events_096822.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96822"
}
```



---

archive/issue_events_096823.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96823"
}
```



---

archive/issue_comments_129361.json:
```json
{
    "body": "<a id='comment:17'></a>\nThere are some failing doctests, see patchbot report.",
    "created_at": "2014-03-07T16:16:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129361",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
There are some failing doctests, see patchbot report.



---

archive/issue_events_096824.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-03-07T16:16:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96824"
}
```



---

archive/issue_events_096825.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-03-07T16:16:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96825"
}
```



---

archive/issue_comments_129362.json:
```json
{
    "body": "<a id='comment:18'></a>\nDid the patchbot actually managed to use the latest version?\n\nLast time I had a look at it it was stuck with an old comit, anyway, I'll give it a look tomorrow.",
    "created_at": "2014-03-10T22:35:51Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129362",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:18'></a>
Did the patchbot actually managed to use the latest version?

Last time I had a look at it it was stuck with an old comit, anyway, I'll give it a look tomorrow.



---

archive/issue_comments_129363.json:
```json
{
    "body": "**Changing commit** from \"[534116b53fae0aae1919fb4d99ba4cee0ee20c44](https://github.com/sagemath/sagetrac-mirror/commit/534116b53fae0aae1919fb4d99ba4cee0ee20c44)\" to \"[4f370fd3bedf021b68470b233806be83cbe12623](https://github.com/sagemath/sagetrac-mirror/commit/4f370fd3bedf021b68470b233806be83cbe12623)\".",
    "created_at": "2014-03-12T14:23:38Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129363",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[534116b53fae0aae1919fb4d99ba4cee0ee20c44](https://github.com/sagemath/sagetrac-mirror/commit/534116b53fae0aae1919fb4d99ba4cee0ee20c44)" to "[4f370fd3bedf021b68470b233806be83cbe12623](https://github.com/sagemath/sagetrac-mirror/commit/4f370fd3bedf021b68470b233806be83cbe12623)".



---

archive/issue_comments_129364.json:
```json
{
    "body": "<a id='comment:19'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/63bf717e1ecb11767db4dfd49af4e03ae291129e\">63bf717</a></td><td><code>Rebase on top of #15108.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08bca2829399dca30994ba26684f7e9a0f4c8d97\">08bca28</a></td><td><code>Merge branch 'ticket/15148' into ticket/11980</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c1e4ec73eae2cd401c5c8dd104ffa240bb03cdca\">c1e4ec7</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/11980</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8029bc64eb47fe659c3b06df7fa2caad5be8d40e\">8029bc6</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/15148</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/824a50059b64635392adb1874fd7fb47f486498f\">824a500</a></td><td><code>Merge branch 'ticket/15148' into ticket/11980</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4f370fd3bedf021b68470b233806be83cbe12623\">4f370fd</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/11980</code></td></tr></table>\n",
    "created_at": "2014-03-12T14:23:38Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129364",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/63bf717e1ecb11767db4dfd49af4e03ae291129e">63bf717</a></td><td><code>Rebase on top of #15108.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08bca2829399dca30994ba26684f7e9a0f4c8d97">08bca28</a></td><td><code>Merge branch 'ticket/15148' into ticket/11980</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c1e4ec73eae2cd401c5c8dd104ffa240bb03cdca">c1e4ec7</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/11980</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8029bc64eb47fe659c3b06df7fa2caad5be8d40e">8029bc6</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/15148</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/824a50059b64635392adb1874fd7fb47f486498f">824a500</a></td><td><code>Merge branch 'ticket/15148' into ticket/11980</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4f370fd3bedf021b68470b233806be83cbe12623">4f370fd</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/11980</code></td></tr></table>




---

archive/issue_comments_129365.json:
```json
{
    "body": "<a id='comment:20'></a>\nI've merged the latest #15148 (hint: please review) and latest trac/develop (I don't know if the patchbot can make that alone, especially the former one using the dependencies field).\nNo problem in the schemes directory, I'm running the full long testsuite now.",
    "created_at": "2014-03-12T14:25:19Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129365",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:20'></a>
I've merged the latest #15148 (hint: please review) and latest trac/develop (I don't know if the patchbot can make that alone, especially the former one using the dependencies field).
No problem in the schemes directory, I'm running the full long testsuite now.



---

archive/issue_comments_129366.json:
```json
{
    "body": "<a id='comment:21'></a>\nI only got one error in ppl.pyx, but I fear it is unrelated.",
    "created_at": "2014-03-12T14:56:30Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129366",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:21'></a>
I only got one error in ppl.pyx, but I fear it is unrelated.



---

archive/issue_comments_129367.json:
```json
{
    "body": "<a id='comment:22'></a>\nAnd not reproducible...",
    "created_at": "2014-03-12T14:56:45Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129367",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:22'></a>
And not reproducible...



---

archive/issue_events_096826.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-03-12T15:41:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96826"
}
```



---

archive/issue_events_096827.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jpflori",
    "created_at": "2014-03-12T15:41:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96827"
}
```



---

archive/issue_comments_129368.json:
```json
{
    "body": "**Changing commit** from \"[4f370fd3bedf021b68470b233806be83cbe12623](https://github.com/sagemath/sagetrac-mirror/commit/4f370fd3bedf021b68470b233806be83cbe12623)\" to \"[279cdd006f7b4b6e9616fc992339aee7fb960039](https://github.com/sagemath/sagetrac-mirror/commit/279cdd006f7b4b6e9616fc992339aee7fb960039)\".",
    "created_at": "2014-04-25T08:29:22Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129368",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4f370fd3bedf021b68470b233806be83cbe12623](https://github.com/sagemath/sagetrac-mirror/commit/4f370fd3bedf021b68470b233806be83cbe12623)" to "[279cdd006f7b4b6e9616fc992339aee7fb960039](https://github.com/sagemath/sagetrac-mirror/commit/279cdd006f7b4b6e9616fc992339aee7fb960039)".



---

archive/issue_comments_129369.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/279cdd006f7b4b6e9616fc992339aee7fb960039\">279cdd0</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/11980</code></td></tr></table>\n",
    "created_at": "2014-04-25T08:29:22Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129369",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/279cdd006f7b4b6e9616fc992339aee7fb960039">279cdd0</a></td><td><code>Merge remote-tracking branch 'trac/develop' into ticket/11980</code></td></tr></table>




---

archive/issue_events_096828.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96828"
}
```



---

archive/issue_events_096829.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96829"
}
```



---

archive/issue_comments_129370.json:
```json
{
    "body": "**Changing branch** from \"[u/jpflori/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/11980)\" to \"[public/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/11980)\".",
    "created_at": "2014-06-17T19:47:46Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129370",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/jpflori/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/u/jpflori/ticket/11980)" to "[public/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/11980)".



---

archive/issue_comments_129371.json:
```json
{
    "body": "**Changing commit** from \"[279cdd006f7b4b6e9616fc992339aee7fb960039](https://github.com/sagemath/sagetrac-mirror/commit/279cdd006f7b4b6e9616fc992339aee7fb960039)\" to \"[c5b2f5d92936577e517f3a871e8f673727f33b10](https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10)\".",
    "created_at": "2014-06-17T19:47:46Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129371",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[279cdd006f7b4b6e9616fc992339aee7fb960039](https://github.com/sagemath/sagetrac-mirror/commit/279cdd006f7b4b6e9616fc992339aee7fb960039)" to "[c5b2f5d92936577e517f3a871e8f673727f33b10](https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10)".



---

archive/issue_comments_129372.json:
```json
{
    "body": "<a id='comment:27'></a>\nThis looks good, as far as I can tell, but I am not competent to check that the new results are mathematically correct. I have made two tiny changes to the doc, and also taken the opportunity to run pyflakes on the changed file. Found three unused variable assignements. Two have been removed, the third one looks very suspect, so I have just added a comment besides it. I have also cleaned-up a little bit the code formatting around the suspect variable assignement.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/317f67fcc0bb44e569ab4e6ee1c5ec2a8a798e20\">317f67f</a></td><td><code>Merge branch 'u/jpflori/ticket/11980' of ssh://trac.sagemath.org:22/sage into 11980</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10\">c5b2f5d</a></td><td><code>trac #11980 minor doc changes + a little code formatting and pyflakes check</code></td></tr></table>\n",
    "created_at": "2014-06-17T19:47:46Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129372",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:27'></a>
This looks good, as far as I can tell, but I am not competent to check that the new results are mathematically correct. I have made two tiny changes to the doc, and also taken the opportunity to run pyflakes on the changed file. Found three unused variable assignements. Two have been removed, the third one looks very suspect, so I have just added a comment besides it. I have also cleaned-up a little bit the code formatting around the suspect variable assignement.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/317f67fcc0bb44e569ab4e6ee1c5ec2a8a798e20">317f67f</a></td><td><code>Merge branch 'u/jpflori/ticket/11980' of ssh://trac.sagemath.org:22/sage into 11980</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10">c5b2f5d</a></td><td><code>trac #11980 minor doc changes + a little code formatting and pyflakes check</code></td></tr></table>




---

archive/issue_comments_129373.json:
```json
{
    "body": "<a id='comment:28'></a>\nIIRC there is no deep mathematics introduced here.\n\nJust need to use jacobi symbols to know how many ordinates go with an abscissa (0,1 or 2), the number of points at infinity (as here IIRC we're really computing the number of points on the desingularization of the curve).\n\nThe zeta funciton thing is just a very simple toy addition.",
    "created_at": "2014-07-07T13:43:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129373",
    "user": "https://trac.sagemath.org/admin/accounts/users/jpflori"
}
```

<a id='comment:28'></a>
IIRC there is no deep mathematics introduced here.

Just need to use jacobi symbols to know how many ordinates go with an abscissa (0,1 or 2), the number of points at infinity (as here IIRC we're really computing the number of points on the desingularization of the curve).

The zeta funciton thing is just a very simple toy addition.



---

archive/issue_comments_129374.json:
```json
{
    "body": "**Changing reviewer** from \"Marco Streng\" to \"Marco Streng, Volker Braun\".",
    "created_at": "2014-07-16T15:14:53Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129374",
    "user": "https://github.com/vbraun"
}
```

**Changing reviewer** from "Marco Streng" to "Marco Streng, Volker Braun".



---

archive/issue_comments_129375.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/11980)\" to \"[c5b2f5d92936577e517f3a871e8f673727f33b10](https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10)\".",
    "created_at": "2014-07-17T00:01:15Z",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11980#issuecomment-129375",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/11980](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/11980)" to "[c5b2f5d92936577e517f3a871e8f673727f33b10](https://github.com/sagemath/sagetrac-mirror/commit/c5b2f5d92936577e517f3a871e8f673727f33b10)".



---

archive/issue_events_096830.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-17T00:01:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96830"
}
```



---

archive/issue_events_096831.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-07-17T00:01:15Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11980",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11980#event-96831"
}
```
