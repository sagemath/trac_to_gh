# Issue 11559: Speed up Posets and toric Chow group

archive/issues_011387.json:
```json
{
    "assignees": [],
    "body": "To my surprise, computing the Chow group spends most of the time comparing cones instead of doing linear algebra. 3/4 of the time is spent in `PosetElement.__eq__()`:\n\n```\n   return self.parent() == other.parent() \\\n          and self.element == other.element \\\n          and self.vertex == other.vertex\n```\nReordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n\nPatch has some other fixes. Changes the Chow group to use sparse matrices.\n\nCC:  sage-combinat\n\nKeywords: **toric, sd40.5**\n\nBranch/Commit: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559) @ [a16336e](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**\n\nReviewer: **Andrey Novoseltsev, Jan Keitel**\n\nAuthor: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11559_\n\n",
    "created_at": "2011-06-30T20:38:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Speed up Posets and toric Chow group",
    "type": "issue",
    "updated_at": "2022-12-29T01:35:15Z",
    "url": "https://github.com/sagemath/sage/issues/11559",
    "user": "https://github.com/vbraun"
}
```
To my surprise, computing the Chow group spends most of the time comparing cones instead of doing linear algebra. 3/4 of the time is spent in `PosetElement.__eq__()`:

```
   return self.parent() == other.parent() \
          and self.element == other.element \
          and self.vertex == other.vertex
```
Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.

Patch has some other fixes. Changes the Chow group to use sparse matrices.

CC:  sage-combinat

Keywords: **toric, sd40.5**

Branch/Commit: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559) @ [a16336e](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**

Reviewer: **Andrey Novoseltsev, Jan Keitel**

Author: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/11559_





---

archive/issue_events_136415.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "component: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136415"
}
```



---

archive/issue_events_136416.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136416"
}
```



---

archive/issue_events_136417.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136417"
}
```



---

archive/issue_comments_120258.json:
```json
{
    "body": "Attachment: **[trac_11559_fix_Chow_group.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch.gz)**\n\nUpdated patch",
    "created_at": "2011-06-30T20:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120258",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[trac_11559_fix_Chow_group.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch.gz)**

Updated patch



---

archive/issue_comments_120259.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nCan you clarify why `hermit_form` was replaced with `echelon_form`?\n\nAlso I don't like the very last change with forceful passing of `check=False` to the parent constructor. I think the correct way is to always pass whatever was received from the user and if it leads to a slowdown somewhere, then in that somewhere one should use `check=False`.",
    "created_at": "2011-07-01T00:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120259",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'>Comment 1:</a>
Can you clarify why `hermit_form` was replaced with `echelon_form`?

Also I don't like the very last change with forceful passing of `check=False` to the parent constructor. I think the correct way is to always pass whatever was received from the user and if it leads to a slowdown somewhere, then in that somewhere one should use `check=False`.



---

archive/issue_comments_120260.json:
```json
{
    "body": "Reviewer: **Andrey Novoseltsev**",
    "created_at": "2011-07-01T00:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120260",
    "user": "https://github.com/novoselt"
}
```

Reviewer: **Andrey Novoseltsev**



---

archive/issue_comments_120261.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nI took a look at this earlier, so I'll add my 2 cents worth.\n\n`hermite_form` is a straight replacement for `echelon_form`.  Now that we have a `rref` command to obtain results over fields, I personally think it would be nice if \"hermite form\" went away, I think it confuses too many non-specialists.\n\nI was going to vouch for the posets and linear algebra, but I don't know the Chow group stuff, so it is good that Andrey is on this one.\n\nRob",
    "created_at": "2011-07-01T04:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120261",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:2'>Comment 2:</a>
I took a look at this earlier, so I'll add my 2 cents worth.

`hermite_form` is a straight replacement for `echelon_form`.  Now that we have a `rref` command to obtain results over fields, I personally think it would be nice if "hermite form" went away, I think it confuses too many non-specialists.

I was going to vouch for the posets and linear algebra, but I don't know the Chow group stuff, so it is good that Andrey is on this one.

Rob



---

archive/issue_comments_120262.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\n`hermite_form` is an alias for `echelon_form` for dense ZZ-matrices. Sparse ZZ-matrices currently don't have a `hermite_form` method, though I'll add that back in #11558.\n\nI'm passing `check=False` to the element constructor because the input for the base constructor is computed. Usually when you extend some element class, you pass user-specified arguments through to the base constructor and its necessary to check their validity. Though I didn't see it taking much time when benchmarking, so if you insist I'll be happy to take it out again.",
    "created_at": "2011-07-01T08:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120262",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'>Comment 3:</a>
`hermite_form` is an alias for `echelon_form` for dense ZZ-matrices. Sparse ZZ-matrices currently don't have a `hermite_form` method, though I'll add that back in #11558.

I'm passing `check=False` to the element constructor because the input for the base constructor is computed. Usually when you extend some element class, you pass user-specified arguments through to the base constructor and its necessary to check their validity. Though I didn't see it taking much time when benchmarking, so if you insist I'll be happy to take it out again.



---

archive/issue_events_136418.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-07-01T09:49:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136418"
}
```



---

archive/issue_comments_120263.json:
```json
{
    "body": "Removed assignee **@aghitza**",
    "created_at": "2011-07-02T10:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120263",
    "user": "https://github.com/hivert"
}
```

Removed assignee **@aghitza**



---

archive/issue_comments_120264.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nWhat kind of parents are you using. Normally they should be unique so that\nparent comparisons should be done with is and thus instantaneous. Moreover, I\ndon't think your solution is correct because in some case you will end up\ncomparing things where eq will simply break. I'll try to cook an example.\n\nFlorent",
    "created_at": "2011-07-02T10:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120264",
    "user": "https://github.com/hivert"
}
```

<a id='comment:5'>Comment 5:</a>
What kind of parents are you using. Normally they should be unique so that
parent comparisons should be done with is and thus instantaneous. Moreover, I
don't think your solution is correct because in some case you will end up
comparing things where eq will simply break. I'll try to cook an example.

Florent



---

archive/issue_comments_120265.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nI should also mention that before touching anything in posets you should test you code with #10998 applied. There where a major rewrite in posets with a lot of speedups and cleanups.\n\nFlorent",
    "created_at": "2011-07-02T10:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120265",
    "user": "https://github.com/hivert"
}
```

<a id='comment:6'>Comment 6:</a>
I should also mention that before touching anything in posets you should test you code with #10998 applied. There where a major rewrite in posets with a lot of speedups and cleanups.

Florent



---

archive/issue_comments_120266.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI agree that parents should be unique. The original code compared parents with `==` and I didn't change it.\n\nMy point is that the `PosetElement.element` comparison is potentially slow. In fact, I don't understand why `PosetElement.__eq__` compares both `vertex` and `element`, I am under the impression that there is a bijection between vertices and elements. \n\nThe reordering does break comparison between `PosetElement`s and other classes, though I'm not sure if we care. The patch does conflict with #10998, so that one needs to be reviewed first.",
    "created_at": "2011-07-02T11:17:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120266",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'>Comment 7:</a>
I agree that parents should be unique. The original code compared parents with `==` and I didn't change it.

My point is that the `PosetElement.element` comparison is potentially slow. In fact, I don't understand why `PosetElement.__eq__` compares both `vertex` and `element`, I am under the impression that there is a bijection between vertices and elements. 

The reordering does break comparison between `PosetElement`s and other classes, though I'm not sure if we care. The patch does conflict with #10998, so that one needs to be reviewed first.



---

archive/issue_comments_120267.json:
```json
{
    "body": "Changed dependencies from **#11558** to **#11558, #10998**",
    "created_at": "2011-07-27T19:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120267",
    "user": "https://github.com/novoselt"
}
```

Changed dependencies from **#11558** to **#11558, #10998**



---

archive/issue_comments_120268.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nSame lines are edited by #12351. One will have to adapt to the other one.",
    "created_at": "2012-01-26T22:19:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120268",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'>Comment 9:</a>
Same lines are edited by #12351. One will have to adapt to the other one.



---

archive/issue_comments_120269.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nDoes not apply on Sage-5.0.beta4!",
    "created_at": "2012-02-15T22:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120269",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:10'>Comment 10:</a>
Does not apply on Sage-5.0.beta4!



---

archive/issue_events_136419.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-02-15T22:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136419"
}
```



---

archive/issue_events_136420.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-02-15T22:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136420"
}
```



---

archive/issue_comments_120270.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@novoselt](#comment%3A10):\n> Does not apply on Sage-5.0.beta4!\n\nIf it's the hunk in the poset code that fails, that's normal. #10998 already integrates this change (in fact a slightly better one).",
    "created_at": "2012-02-16T10:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120270",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@novoselt](#comment%3A10):
> Does not apply on Sage-5.0.beta4!

If it's the hunk in the poset code that fails, that's normal. #10998 already integrates this change (in fact a slightly better one).



---

archive/issue_comments_120271.json:
```json
{
    "body": "Work Issues: **rebasing**",
    "created_at": "2012-03-07T22:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120271",
    "user": "https://github.com/novoselt"
}
```

Work Issues: **rebasing**



---

archive/issue_events_136421.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-05-25T00:07:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136421"
}
```



---

archive/issue_events_136422.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-05-25T00:07:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136422"
}
```



---

archive/issue_comments_120272.json:
```json
{
    "body": "Changed work issues from **rebasing** to none",
    "created_at": "2012-05-25T00:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120272",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **rebasing** to none



---

archive/issue_comments_120273.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nHey Volker,\n\nChanging posets to compare again vertices first still shaves off a second on testing Chow group module - do you have an example where it used to be crucial? In any case if you are fine with my rebasing let's merge it!",
    "created_at": "2012-05-25T00:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120273",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:13'>Comment 13:</a>
Hey Volker,

Changing posets to compare again vertices first still shaves off a second on testing Chow group module - do you have an example where it used to be crucial? In any case if you are fine with my rebasing let's merge it!



---

archive/issue_comments_120274.json:
```json
{
    "body": "Changed keywords from **** to **toric, sd40.5**",
    "created_at": "2012-05-27T20:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120274",
    "user": "https://github.com/novoselt"
}
```

Changed keywords from **** to **toric, sd40.5**



---

archive/issue_comments_120275.json:
```json
{
    "body": "Changed dependencies from **#11558, #10998** to **#11558, #10998, #13023**",
    "created_at": "2012-05-27T20:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120275",
    "user": "https://github.com/novoselt"
}
```

Changed dependencies from **#11558, #10998** to **#11558, #10998, #13023**



---

archive/issue_comments_120276.json:
```json
{
    "body": "Rebased for Sage-5.1.beta0",
    "created_at": "2012-05-28T02:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120276",
    "user": "https://github.com/novoselt"
}
```

Rebased for Sage-5.1.beta0



---

archive/issue_comments_120277.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nAttachment: **[trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)**\n\nNow works fine after file move.",
    "created_at": "2012-05-28T02:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120277",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:15'>Comment 15:</a>
Attachment: **[trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)**

Now works fine after file move.



---

archive/issue_comments_120278.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n \n Patch has some other fixes. Changes the chow group to use sparse matrices.\n+\n+Apply:\n+\n+- [attachment: trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)\n+- [attachment: trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)\n``````\n",
    "created_at": "2013-07-22T14:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120278",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.
 
 Patch has some other fixes. Changes the chow group to use sparse matrices.
+
+Apply:
+
+- [attachment: trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)
+- [attachment: trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)
``````




---

archive/issue_comments_120279.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nAttachment: **[trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)**\n\nfor the bot:\n\napply trac_11559_fix_Chow_group.2.patch trac_11559_hasattr_vertex_fc.patch\n\nIf you do not want to check the parent first, you need to make sure that other has the attribute \"vertex\" !\n\nThis ticket needs benchmarking, to see if something significant is still gained in term of time or not.",
    "created_at": "2013-07-22T14:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120279",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'>Comment 16:</a>
Attachment: **[trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)**

for the bot:

apply trac_11559_fix_Chow_group.2.patch trac_11559_hasattr_vertex_fc.patch

If you do not want to check the parent first, you need to make sure that other has the attribute "vertex" !

This ticket needs benchmarking, to see if something significant is still gained in term of time or not.



---

archive/issue_events_136423.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136423"
}
```



---

archive/issue_events_136424.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136424"
}
```



---

archive/issue_comments_120280.json:
```json
{
    "body": "Attachment: **[trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)**",
    "created_at": "2013-11-04T20:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120280",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)**



---

archive/issue_comments_120281.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,5 @@\n Apply:\n \n - [attachment: trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)\n+- [attachment: trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)\n - [attachment: trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)\n``````\n",
    "created_at": "2013-11-04T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120281",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,5 @@
 Apply:
 
 - [attachment: trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)
+- [attachment: trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)
 - [attachment: trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)
``````




---

archive/issue_comments_120282.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nhere a patch correcting the failing doctests\n\nApply trac_11559_fix_Chow_group.2.patch trac_11559_fixdoctest.patch trac_11559_hasattr_vertex_fc.patch",
    "created_at": "2013-11-04T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120282",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'>Comment 18:</a>
here a patch correcting the failing doctests

Apply trac_11559_fix_Chow_group.2.patch trac_11559_fixdoctest.patch trac_11559_hasattr_vertex_fc.patch



---

archive/issue_comments_120283.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI just noticed this ticket. Has someone tried using have_same_parent(self, other) ?",
    "created_at": "2013-11-04T20:18:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120283",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'>Comment 19:</a>
I just noticed this ticket. Has someone tried using have_same_parent(self, other) ?



---

archive/issue_events_136425.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136425"
}
```



---

archive/issue_events_136426.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136426"
}
```



---

archive/issue_comments_120284.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nhere is a git branch\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7437e82d4c65596db1968d42837021eafe850eff\">7437e82</a></td><td><code>Trac #11559: Speed up Posets and toric Chow group</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3322d7cb24f4623b02c046381d679bb75ba5a1e6\">3322d7c</a></td><td><code>trac #11559 fixing failing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822\">ad17011</a></td><td><code>trac 11559 check if other has attribute vertex</code></td></tr></table>\n",
    "created_at": "2014-02-21T13:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120284",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'>Comment 21:</a>
here is a git branch

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7437e82d4c65596db1968d42837021eafe850eff">7437e82</a></td><td><code>Trac #11559: Speed up Posets and toric Chow group</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3322d7cb24f4623b02c046381d679bb75ba5a1e6">3322d7c</a></td><td><code>trac #11559 fixing failing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822">ad17011</a></td><td><code>trac 11559 check if other has attribute vertex</code></td></tr></table>




---

archive/issue_comments_120285.json:
```json
{
    "body": "Commit: **[ad17011](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)**",
    "created_at": "2014-02-21T13:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120285",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[ad17011](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)**



---

archive/issue_comments_120286.json:
```json
{
    "body": "Branch: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**",
    "created_at": "2014-02-21T13:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120286",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**



---

archive/issue_events_136427.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136427"
}
```



---

archive/issue_events_136428.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136428"
}
```



---

archive/issue_events_136429.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-07T14:07:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136429"
}
```



---

archive/issue_events_136430.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-07T14:07:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136430"
}
```



---

archive/issue_comments_120287.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nFrom the patchbot report:\n\n```\nFile \"src/sage/geometry/fan.py\", line 158, in sage.geometry.fan\nFailed example:\n    sorted(L.hasse_diagram().neighbors(cone))\nExpected:\n    [1-d cone of Rational polyhedral fan in 3-d lattice M,\n     1-d cone of Rational polyhedral fan in 3-d lattice M,\n     3-d cone of Rational polyhedral fan in 3-d lattice M,\n     3-d cone of Rational polyhedral fan in 3-d lattice M]\nGot:\n    [1-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 1-d cone of Rational polyhedral fan in 3-d lattice M]\n```",
    "created_at": "2014-05-07T14:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120287",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:23'>Comment 23:</a>
From the patchbot report:

```
File "src/sage/geometry/fan.py", line 158, in sage.geometry.fan
Failed example:
    sorted(L.hasse_diagram().neighbors(cone))
Expected:
    [1-d cone of Rational polyhedral fan in 3-d lattice M,
     1-d cone of Rational polyhedral fan in 3-d lattice M,
     3-d cone of Rational polyhedral fan in 3-d lattice M,
     3-d cone of Rational polyhedral fan in 3-d lattice M]
Got:
    [1-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 1-d cone of Rational polyhedral fan in 3-d lattice M]
```



---

archive/issue_comments_120288.json:
```json
{
    "body": "Changed commit from **[ad17011](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)** to **[6cd90ca](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)**",
    "created_at": "2014-07-09T20:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120288",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ad17011](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)** to **[6cd90ca](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)**



---

archive/issue_comments_120289.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/860f696f5e2265e82d7d78977dab932426875e47\">860f696</a></td><td><code>Merge branch 'u/chapoton/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30\">6cd90ca</a></td><td><code>trac #11559 correct failing doctest</code></td></tr></table>\n",
    "created_at": "2014-07-09T20:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120289",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/860f696f5e2265e82d7d78977dab932426875e47">860f696</a></td><td><code>Merge branch 'u/chapoton/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30">6cd90ca</a></td><td><code>trac #11559 correct failing doctest</code></td></tr></table>




---

archive/issue_events_136431.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-09T20:12:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136431"
}
```



---

archive/issue_events_136432.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-09T20:12:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136432"
}
```



---

archive/issue_events_136433.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:48:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136433"
}
```



---

archive/issue_events_136434.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:48:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136434"
}
```



---

archive/issue_comments_120290.json:
```json
{
    "body": "Changed commit from **[6cd90ca](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)** to **[85a053d](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)**",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120290",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed commit from **[6cd90ca](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)** to **[85a053d](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)**



---

archive/issue_comments_120291.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nHi, the patch looks good to me and seems to make sensible changes. However, I can't tell whether the patch is actually bringing any speed benefits. Volker, Andrey, what exactly is it that should be benchmarked?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f\">85a053d</a></td><td><code>Nitpicking for 11559: Added a space</code></td></tr></table>\n",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120291",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<a id='comment:26'>Comment 26:</a>
Hi, the patch looks good to me and seems to make sensible changes. However, I can't tell whether the patch is actually bringing any speed benefits. Volker, Andrey, what exactly is it that should be benchmarked?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f">85a053d</a></td><td><code>Nitpicking for 11559: Added a space</code></td></tr></table>




---

archive/issue_comments_120292.json:
```json
{
    "body": "Changed reviewer from **Andrey Novoseltsev** to **Andrey Novoseltsev, Jan Keitel**",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120292",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed reviewer from **Andrey Novoseltsev** to **Andrey Novoseltsev, Jan Keitel**



---

archive/issue_comments_120293.json:
```json
{
    "body": "Changed branch from **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)** to **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)**",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120293",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed branch from **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)** to **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)**



---

archive/issue_events_136435.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:49:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136435"
}
```



---

archive/issue_events_136436.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:49:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136436"
}
```



---

archive/issue_events_136437.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136437"
}
```



---

archive/issue_events_136438.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136438"
}
```



---

archive/issue_comments_120294.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nThis ticket seems to confuse the patchbot. But maybe any ticket would..",
    "created_at": "2015-03-25T19:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120294",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'>Comment 29:</a>
This ticket seems to confuse the patchbot. But maybe any ticket would..



---

archive/issue_events_136439.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:28:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136439"
}
```



---

archive/issue_events_136440.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:28:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136440"
}
```



---

archive/issue_events_136441.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:31:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136441"
}
```



---

archive/issue_events_136442.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:31:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136442"
}
```



---

archive/issue_comments_120295.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nPut to need info just to stop the bots loop-testing this ticket.",
    "created_at": "2015-03-25T19:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120295",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'>Comment 30:</a>
Put to need info just to stop the bots loop-testing this ticket.



---

archive/issue_comments_120296.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nRelated or not - when I click on the branch name to see the differences, it shows the intent to DELETE TWO MODULES completely!!! I do not see commits that attempt to do it, however.",
    "created_at": "2015-03-25T22:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120296",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:31'>Comment 31:</a>
Related or not - when I click on the branch name to see the differences, it shows the intent to DELETE TWO MODULES completely!!! I do not see commits that attempt to do it, however.



---

archive/issue_comments_120297.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961\">b94f43d</a></td><td><code>Merge branch 'u/jkeitel/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr></table>\n",
    "created_at": "2015-05-05T18:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120297",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'>Comment 32:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961">b94f43d</a></td><td><code>Merge branch 'u/jkeitel/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr></table>




---

archive/issue_comments_120298.json:
```json
{
    "body": "Changed commit from **[85a053d](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)** to **[b94f43d](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)**",
    "created_at": "2015-05-05T18:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120298",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[85a053d](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)** to **[b94f43d](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)**



---

archive/issue_comments_120299.json:
```json
{
    "body": "Changed branch from **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)** to **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**",
    "created_at": "2015-05-05T18:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120299",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)** to **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**



---

archive/issue_events_136443.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-05T18:19:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136443"
}
```



---

archive/issue_events_136444.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-05T18:19:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136444"
}
```



---

archive/issue_comments_120300.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nSome patchbots are still testing this ticket, but there are various doctest failures; setting this back to \"needs_work\".",
    "created_at": "2015-06-04T11:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120300",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:34'>Comment 34:</a>
Some patchbots are still testing this ticket, but there are various doctest failures; setting this back to "needs_work".



---

archive/issue_events_136445.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:40:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136445"
}
```



---

archive/issue_events_136446.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:40:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136446"
}
```



---

archive/issue_comments_120301.json:
```json
{
    "body": "Changed dependencies from **#11558, #10998, #13023** to none",
    "created_at": "2016-03-02T15:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120301",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#11558, #10998, #13023** to none



---

archive/issue_comments_120302.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,10 +7,4 @@\n ```\n Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n \n-Patch has some other fixes. Changes the chow group to use sparse matrices.\n-\n-Apply:\n-\n-- [attachment: trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)\n-- [attachment: trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)\n-- [attachment: trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)\n+Patch has some other fixes. Changes the Chow group to use sparse matrices.\n``````\n",
    "created_at": "2016-03-02T15:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120302",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,10 +7,4 @@
 ```
 Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.
 
-Patch has some other fixes. Changes the chow group to use sparse matrices.
-
-Apply:
-
-- [attachment: trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)
-- [attachment: trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)
-- [attachment: trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)
+Patch has some other fixes. Changes the Chow group to use sparse matrices.
``````




---

archive/issue_events_136447.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-02T15:22:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136447"
}
```



---

archive/issue_events_136448.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-02T15:22:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136448"
}
```



---

archive/issue_comments_120303.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee\">a16336e</a></td><td><code>Merge branch 'u/chapoton/11559' in 8.1.b5</code></td></tr></table>\n",
    "created_at": "2017-09-14T12:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120303",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:36'>Comment 36:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee">a16336e</a></td><td><code>Merge branch 'u/chapoton/11559' in 8.1.b5</code></td></tr></table>




---

archive/issue_comments_120304.json:
```json
{
    "body": "Changed commit from **[b94f43d](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)** to **[a16336e](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**",
    "created_at": "2017-09-14T12:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120304",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b94f43d](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)** to **[a16336e](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**



---

archive/issue_events_136449.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:35:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-136449"
}
```
