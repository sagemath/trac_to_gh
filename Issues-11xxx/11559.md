# Issue 11559: Speed up Posets and toric Chow group

archive/issues_011387.json:
```json
{
    "body": "To my surprise, computing the Chow group spends most of the time comparing cones instead of doing linear algebra. 3/4 of the time is spent in `PosetElement.__eq__()`:\n\n```\n   return self.parent() == other.parent() \\\n          and self.element == other.element \\\n          and self.vertex == other.vertex\n```\nReordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n\nPatch has some other fixes. Changes the Chow group to use sparse matrices.\n\n**CC:**  sage-combinat\n\n**Keywords:** toric, sd40.5\n\n**Branch:** [u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)\n\n**Commit:** [a16336e08c9f967a5e1106406329f44b899261ee](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)\n\n**Reviewer:** Andrey Novoseltsev, Jan Keitel\n\n**Author:** Volker Braun\n\nIssue created by migration from https://trac.sagemath.org/ticket/11559\n\n",
    "created_at": "2011-06-30T20:38:15Z",
    "labels": [
        "component: algebraic geometry",
        "enhancement",
        "needs work"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-7.1",
    "title": "Speed up Posets and toric Chow group",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/11559",
    "user": "https://github.com/vbraun"
}
```
To my surprise, computing the Chow group spends most of the time comparing cones instead of doing linear algebra. 3/4 of the time is spent in `PosetElement.__eq__()`:

```
   return self.parent() == other.parent() \
          and self.element == other.element \
          and self.vertex == other.vertex
```
Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.

Patch has some other fixes. Changes the Chow group to use sparse matrices.

**CC:**  sage-combinat

**Keywords:** toric, sd40.5

**Branch:** [u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)

**Commit:** [a16336e08c9f967a5e1106406329f44b899261ee](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)

**Reviewer:** Andrey Novoseltsev, Jan Keitel

**Author:** Volker Braun

Issue created by migration from https://trac.sagemath.org/ticket/11559





---

archive/issue_comments_120211.json:
```json
{
    "body": "Updated patch",
    "created_at": "2011-06-30T20:52:52Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120211",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/attachments_015248.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11559_fix_Chow_group.patch",
    "asset_url": "tarball://root/attachments/ticket11559/trac_11559_fix_Chow_group.patch",
    "created_at": "2011-07-01T00:29:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch",
    "user": "https://github.com/novoselt"
}
```



---

archive/issue_comments_120212.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [trac_11559_fix_Chow_group.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch) by @novoselt created at 2011-07-01 00:29:27\n\nCan you clarify why `hermit_form` was replaced with `echelon_form`?\n\nAlso I don't like the very last change with forceful passing of `check=False` to the parent constructor. I think the correct way is to always pass whatever was received from the user and if it leads to a slowdown somewhere, then in that somewhere one should use `check=False`.",
    "created_at": "2011-07-01T00:29:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120212",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>
Attachment [trac_11559_fix_Chow_group.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch) by @novoselt created at 2011-07-01 00:29:27

Can you clarify why `hermit_form` was replaced with `echelon_form`?

Also I don't like the very last change with forceful passing of `check=False` to the parent constructor. I think the correct way is to always pass whatever was received from the user and if it leads to a slowdown somewhere, then in that somewhere one should use `check=False`.



---

archive/issue_comments_120213.json:
```json
{
    "body": "**Reviewer:** Andrey Novoseltsev",
    "created_at": "2011-07-01T00:29:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120213",
    "user": "https://github.com/novoselt"
}
```

**Reviewer:** Andrey Novoseltsev



---

archive/issue_comments_120214.json:
```json
{
    "body": "<a id='comment:2'></a>\nI took a look at this earlier, so I'll add my 2 cents worth.\n\n`hermite_form` is a straight replacement for `echelon_form`.  Now that we have a `rref` command to obtain results over fields, I personally think it would be nice if \"hermite form\" went away, I think it confuses too many non-specialists.\n\nI was going to vouch for the posets and linear algebra, but I don't know the Chow group stuff, so it is good that Andrey is on this one.\n\nRob",
    "created_at": "2011-07-01T04:04:35Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120214",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:2'></a>
I took a look at this earlier, so I'll add my 2 cents worth.

`hermite_form` is a straight replacement for `echelon_form`.  Now that we have a `rref` command to obtain results over fields, I personally think it would be nice if "hermite form" went away, I think it confuses too many non-specialists.

I was going to vouch for the posets and linear algebra, but I don't know the Chow group stuff, so it is good that Andrey is on this one.

Rob



---

archive/issue_comments_120215.json:
```json
{
    "body": "<a id='comment:3'></a>\n`hermite_form` is an alias for `echelon_form` for dense ZZ-matrices. Sparse ZZ-matrices currently don't have a `hermite_form` method, though I'll add that back in #11558.\n\nI'm passing `check=False` to the element constructor because the input for the base constructor is computed. Usually when you extend some element class, you pass user-specified arguments through to the base constructor and its necessary to check their validity. Though I didn't see it taking much time when benchmarking, so if you insist I'll be happy to take it out again.",
    "created_at": "2011-07-01T08:41:26Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120215",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
`hermite_form` is an alias for `echelon_form` for dense ZZ-matrices. Sparse ZZ-matrices currently don't have a `hermite_form` method, though I'll add that back in #11558.

I'm passing `check=False` to the element constructor because the input for the base constructor is computed. Usually when you extend some element class, you pass user-specified arguments through to the base constructor and its necessary to check their validity. Though I didn't see it taking much time when benchmarking, so if you insist I'll be happy to take it out again.



---

archive/issue_events_091686.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-07-01T09:49:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91686"
}
```



---

archive/issue_comments_120216.json:
```json
{
    "body": "**Remove assignee** @aghitza.",
    "created_at": "2011-07-02T10:51:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120216",
    "user": "https://github.com/hivert"
}
```

**Remove assignee** @aghitza.



---

archive/issue_comments_120217.json:
```json
{
    "body": "<a id='comment:5'></a>\nWhat kind of parents are you using. Normally they should be unique so that\nparent comparisons should be done with is and thus instantaneous. Moreover, I\ndon't think your solution is correct because in some case you will end up\ncomparing things where eq will simply break. I'll try to cook an example.\n\nFlorent",
    "created_at": "2011-07-02T10:51:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120217",
    "user": "https://github.com/hivert"
}
```

<a id='comment:5'></a>
What kind of parents are you using. Normally they should be unique so that
parent comparisons should be done with is and thus instantaneous. Moreover, I
don't think your solution is correct because in some case you will end up
comparing things where eq will simply break. I'll try to cook an example.

Florent



---

archive/issue_comments_120218.json:
```json
{
    "body": "<a id='comment:6'></a>\nI should also mention that before touching anything in posets you should test you code with #10998 applied. There where a major rewrite in posets with a lot of speedups and cleanups.\n\nFlorent",
    "created_at": "2011-07-02T10:56:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120218",
    "user": "https://github.com/hivert"
}
```

<a id='comment:6'></a>
I should also mention that before touching anything in posets you should test you code with #10998 applied. There where a major rewrite in posets with a lot of speedups and cleanups.

Florent



---

archive/issue_comments_120219.json:
```json
{
    "body": "<a id='comment:7'></a>\nI agree that parents should be unique. The original code compared parents with `==` and I didn't change it.\n\nMy point is that the `PosetElement.element` comparison is potentially slow. In fact, I don't understand why `PosetElement.__eq__` compares both `vertex` and `element`, I am under the impression that there is a bijection between vertices and elements. \n\nThe reordering does break comparison between `PosetElement`s and other classes, though I'm not sure if we care. The patch does conflict with #10998, so that one needs to be reviewed first.",
    "created_at": "2011-07-02T11:17:54Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120219",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:7'></a>
I agree that parents should be unique. The original code compared parents with `==` and I didn't change it.

My point is that the `PosetElement.element` comparison is potentially slow. In fact, I don't understand why `PosetElement.__eq__` compares both `vertex` and `element`, I am under the impression that there is a bijection between vertices and elements. 

The reordering does break comparison between `PosetElement`s and other classes, though I'm not sure if we care. The patch does conflict with #10998, so that one needs to be reviewed first.



---

archive/issue_comments_120220.json:
```json
{
    "body": "**Changing dependencies** from \"#11558\" to \"#11558, #10998\".",
    "created_at": "2011-07-27T19:32:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120220",
    "user": "https://github.com/novoselt"
}
```

**Changing dependencies** from "#11558" to "#11558, #10998".



---

archive/issue_comments_120221.json:
```json
{
    "body": "<a id='comment:9'></a>\nSame lines are edited by #12351. One will have to adapt to the other one.",
    "created_at": "2012-01-26T22:19:53Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120221",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'></a>
Same lines are edited by #12351. One will have to adapt to the other one.



---

archive/issue_events_091687.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-02-15T22:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91687"
}
```



---

archive/issue_events_091688.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-02-15T22:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91688"
}
```



---

archive/issue_comments_120222.json:
```json
{
    "body": "<a id='comment:10'></a>\nDoes not apply on Sage-5.0.beta4!",
    "created_at": "2012-02-15T22:31:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120222",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:10'></a>
Does not apply on Sage-5.0.beta4!



---

archive/issue_comments_120223.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [novoselt](#comment%3A10):\n> Does not apply on Sage-5.0.beta4!\n\n\nIf it's the hunk in the poset code that fails, that's normal. #10998 already integrates this change (in fact a slightly better one).",
    "created_at": "2012-02-16T10:08:08Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120223",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:11'></a>
Replying to [novoselt](#comment%3A10):
> Does not apply on Sage-5.0.beta4!


If it's the hunk in the poset code that fails, that's normal. #10998 already integrates this change (in fact a slightly better one).



---

archive/issue_comments_120224.json:
```json
{
    "body": "**Work_Issues:** rebasing",
    "created_at": "2012-03-07T22:04:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120224",
    "user": "https://github.com/novoselt"
}
```

**Work_Issues:** rebasing



---

archive/issue_comments_120225.json:
```json
{
    "body": "<a id='comment:13'></a>\nHey Volker,\n\nChanging posets to compare again vertices first still shaves off a second on testing Chow group module - do you have an example where it used to be crucial? In any case if you are fine with my rebasing let's merge it!",
    "created_at": "2012-05-25T00:07:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120225",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:13'></a>
Hey Volker,

Changing posets to compare again vertices first still shaves off a second on testing Chow group module - do you have an example where it used to be crucial? In any case if you are fine with my rebasing let's merge it!



---

archive/issue_comments_120226.json:
```json
{
    "body": "**Changing work_issues** from \"rebasing\" to \"\".",
    "created_at": "2012-05-25T00:07:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120226",
    "user": "https://github.com/novoselt"
}
```

**Changing work_issues** from "rebasing" to "".



---

archive/issue_events_091689.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-05-25T00:07:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91689"
}
```



---

archive/issue_events_091690.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-05-25T00:07:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91690"
}
```



---

archive/issue_comments_120227.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"toric, sd40.5\".",
    "created_at": "2012-05-27T20:22:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120227",
    "user": "https://github.com/novoselt"
}
```

**Changing keywords** from "" to "toric, sd40.5".



---

archive/issue_comments_120228.json:
```json
{
    "body": "**Changing dependencies** from \"#11558, #10998\" to \"#11558, #10998, #13023\".",
    "created_at": "2012-05-27T20:22:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120228",
    "user": "https://github.com/novoselt"
}
```

**Changing dependencies** from "#11558, #10998" to "#11558, #10998, #13023".



---

archive/attachments_015249.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11559_fix_Chow_group.2.patch",
    "asset_url": "tarball://root/attachments/ticket11559/trac_11559_fix_Chow_group.2.patch",
    "created_at": "2012-05-28T02:19:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch",
    "user": "https://github.com/novoselt"
}
```



---

archive/issue_comments_120229.json:
```json
{
    "body": "Attachment [trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch) by @novoselt created at 2012-05-28 02:19:05\n\nRebased for Sage-5.1.beta0",
    "created_at": "2012-05-28T02:19:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120229",
    "user": "https://github.com/novoselt"
}
```

Attachment [trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch) by @novoselt created at 2012-05-28 02:19:05

Rebased for Sage-5.1.beta0



---

archive/issue_comments_120230.json:
```json
{
    "body": "<a id='comment:15'></a>\nNow works fine after file move.",
    "created_at": "2012-05-28T02:20:13Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120230",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:15'></a>
Now works fine after file move.



---

archive/attachments_015250.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11559_hasattr_vertex_fc.patch",
    "asset_url": "tarball://root/attachments/ticket11559/trac_11559_hasattr_vertex_fc.patch",
    "created_at": "2013-07-22T14:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_120231.json:
```json
{
    "body": "Attachment [trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch) by @fchapoton created at 2013-07-22 14:27:56",
    "created_at": "2013-07-22T14:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120231",
    "user": "https://github.com/fchapoton"
}
```

Attachment [trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch) by @fchapoton created at 2013-07-22 14:27:56



---

archive/issue_comments_120232.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n \n Patch has some other fixes. Changes the chow group to use sparse matrices.\n+\n+Apply:\n+\n+- [attachment:trac_11559_fix_Chow_group.2.patch]\n+- [attachment:trac_11559_hasattr_vertex_fc.patch]\n``````\n",
    "created_at": "2013-07-22T14:32:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120232",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.
 
 Patch has some other fixes. Changes the chow group to use sparse matrices.
+
+Apply:
+
+- [attachment:trac_11559_fix_Chow_group.2.patch]
+- [attachment:trac_11559_hasattr_vertex_fc.patch]
``````




---

archive/issue_comments_120233.json:
```json
{
    "body": "<a id='comment:16'></a>\nfor the bot:\n\napply trac_11559_fix_Chow_group.2.patch trac_11559_hasattr_vertex_fc.patch\n\nIf you do not want to check the parent first, you need to make sure that other has the attribute \"vertex\" !\n\nThis ticket needs benchmarking, to see if something significant is still gained in term of time or not.",
    "created_at": "2013-07-22T14:32:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120233",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
for the bot:

apply trac_11559_fix_Chow_group.2.patch trac_11559_hasattr_vertex_fc.patch

If you do not want to check the parent first, you need to make sure that other has the attribute "vertex" !

This ticket needs benchmarking, to see if something significant is still gained in term of time or not.



---

archive/issue_events_091691.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91691"
}
```



---

archive/issue_events_091692.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91692"
}
```



---

archive/issue_comments_120234.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,4 +12,5 @@\n Apply:\n \n - [attachment:trac_11559_fix_Chow_group.2.patch]\n+- [attachment:trac_11559_fixdoctest.patch]\n - [attachment:trac_11559_hasattr_vertex_fc.patch]\n``````\n",
    "created_at": "2013-11-04T20:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120234",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,4 +12,5 @@
 Apply:
 
 - [attachment:trac_11559_fix_Chow_group.2.patch]
+- [attachment:trac_11559_fixdoctest.patch]
 - [attachment:trac_11559_hasattr_vertex_fc.patch]
``````




---

archive/attachments_015251.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11559_fixdoctest.patch",
    "asset_url": "tarball://root/attachments/ticket11559/trac_11559_fixdoctest.patch",
    "created_at": "2013-11-04T20:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_120235.json:
```json
{
    "body": "<a id='comment:18'></a>\nAttachment [trac_11559_fixdoctest.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch) by @fchapoton created at 2013-11-04 20:14:34\n\nhere a patch correcting the failing doctests\n\nApply trac_11559_fix_Chow_group.2.patch trac_11559_fixdoctest.patch trac_11559_hasattr_vertex_fc.patch",
    "created_at": "2013-11-04T20:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120235",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
Attachment [trac_11559_fixdoctest.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch) by @fchapoton created at 2013-11-04 20:14:34

here a patch correcting the failing doctests

Apply trac_11559_fix_Chow_group.2.patch trac_11559_fixdoctest.patch trac_11559_hasattr_vertex_fc.patch



---

archive/issue_comments_120236.json:
```json
{
    "body": "<a id='comment:19'></a>\nI just noticed this ticket. Has someone tried using have_same_parent(self, other) ?",
    "created_at": "2013-11-04T20:18:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120236",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:19'></a>
I just noticed this ticket. Has someone tried using have_same_parent(self, other) ?



---

archive/issue_events_091693.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91693"
}
```



---

archive/issue_events_091694.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91694"
}
```



---

archive/issue_comments_120237.json:
```json
{
    "body": "**Commit:** [ad1701157f4c051ac160c72b7e63ba7ad7aeb822](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)",
    "created_at": "2014-02-21T13:17:02Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120237",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [ad1701157f4c051ac160c72b7e63ba7ad7aeb822](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)



---

archive/issue_comments_120238.json:
```json
{
    "body": "**Branch:** [u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)",
    "created_at": "2014-02-21T13:17:02Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120238",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)



---

archive/issue_comments_120239.json:
```json
{
    "body": "<a id='comment:21'></a>\nhere is a git branch\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7437e82d4c65596db1968d42837021eafe850eff\">7437e82</a></td><td><code>Trac #11559: Speed up Posets and toric Chow group</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3322d7cb24f4623b02c046381d679bb75ba5a1e6\">3322d7c</a></td><td><code>trac #11559 fixing failing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822\">ad17011</a></td><td><code>trac 11559 check if other has attribute vertex</code></td></tr></table>\n",
    "created_at": "2014-02-21T13:17:02Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120239",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'></a>
here is a git branch

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7437e82d4c65596db1968d42837021eafe850eff">7437e82</a></td><td><code>Trac #11559: Speed up Posets and toric Chow group</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3322d7cb24f4623b02c046381d679bb75ba5a1e6">3322d7c</a></td><td><code>trac #11559 fixing failing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822">ad17011</a></td><td><code>trac 11559 check if other has attribute vertex</code></td></tr></table>




---

archive/issue_events_091695.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91695"
}
```



---

archive/issue_events_091696.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91696"
}
```



---

archive/issue_comments_120240.json:
```json
{
    "body": "<a id='comment:23'></a>\nFrom the patchbot report:\n\n```\nFile \"src/sage/geometry/fan.py\", line 158, in sage.geometry.fan\nFailed example:\n    sorted(L.hasse_diagram().neighbors(cone))\nExpected:\n    [1-d cone of Rational polyhedral fan in 3-d lattice M,\n     1-d cone of Rational polyhedral fan in 3-d lattice M,\n     3-d cone of Rational polyhedral fan in 3-d lattice M,\n     3-d cone of Rational polyhedral fan in 3-d lattice M]\nGot:\n    [1-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 1-d cone of Rational polyhedral fan in 3-d lattice M]\n```",
    "created_at": "2014-05-07T14:07:15Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120240",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:23'></a>
From the patchbot report:

```
File "src/sage/geometry/fan.py", line 158, in sage.geometry.fan
Failed example:
    sorted(L.hasse_diagram().neighbors(cone))
Expected:
    [1-d cone of Rational polyhedral fan in 3-d lattice M,
     1-d cone of Rational polyhedral fan in 3-d lattice M,
     3-d cone of Rational polyhedral fan in 3-d lattice M,
     3-d cone of Rational polyhedral fan in 3-d lattice M]
Got:
    [1-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 1-d cone of Rational polyhedral fan in 3-d lattice M]
```



---

archive/issue_events_091697.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-07T14:07:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91697"
}
```



---

archive/issue_events_091698.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-07T14:07:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91698"
}
```



---

archive/issue_comments_120241.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/860f696f5e2265e82d7d78977dab932426875e47\">860f696</a></td><td><code>Merge branch 'u/chapoton/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30\">6cd90ca</a></td><td><code>trac #11559 correct failing doctest</code></td></tr></table>\n",
    "created_at": "2014-07-09T20:11:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120241",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/860f696f5e2265e82d7d78977dab932426875e47">860f696</a></td><td><code>Merge branch 'u/chapoton/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30">6cd90ca</a></td><td><code>trac #11559 correct failing doctest</code></td></tr></table>




---

archive/issue_comments_120242.json:
```json
{
    "body": "**Changing commit** from \"[ad1701157f4c051ac160c72b7e63ba7ad7aeb822](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)\" to \"[6cd90ca42510ca957f59363321ef24074eef1e30](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)\".",
    "created_at": "2014-07-09T20:11:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120242",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ad1701157f4c051ac160c72b7e63ba7ad7aeb822](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)" to "[6cd90ca42510ca957f59363321ef24074eef1e30](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)".



---

archive/issue_events_091699.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-09T20:12:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91699"
}
```



---

archive/issue_events_091700.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-09T20:12:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91700"
}
```



---

archive/issue_events_091701.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jkeitel",
    "created_at": "2014-07-09T21:48:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91701"
}
```



---

archive/issue_events_091702.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jkeitel",
    "created_at": "2014-07-09T21:48:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91702"
}
```



---

archive/issue_comments_120243.json:
```json
{
    "body": "**Changing commit** from \"[6cd90ca42510ca957f59363321ef24074eef1e30](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)\" to \"[85a053daeadeb7a8d1de24e354cc6fc99068df7f](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)\".",
    "created_at": "2014-07-09T21:48:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120243",
    "user": "https://trac.sagemath.org/admin/accounts/users/jkeitel"
}
```

**Changing commit** from "[6cd90ca42510ca957f59363321ef24074eef1e30](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)" to "[85a053daeadeb7a8d1de24e354cc6fc99068df7f](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)".



---

archive/issue_comments_120244.json:
```json
{
    "body": "<a id='comment:26'></a>\nHi, the patch looks good to me and seems to make sensible changes. However, I can't tell whether the patch is actually bringing any speed benefits. Volker, Andrey, what exactly is it that should be benchmarked?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f\">85a053d</a></td><td><code>Nitpicking for 11559: Added a space</code></td></tr></table>\n",
    "created_at": "2014-07-09T21:48:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120244",
    "user": "https://trac.sagemath.org/admin/accounts/users/jkeitel"
}
```

<a id='comment:26'></a>
Hi, the patch looks good to me and seems to make sensible changes. However, I can't tell whether the patch is actually bringing any speed benefits. Volker, Andrey, what exactly is it that should be benchmarked?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f">85a053d</a></td><td><code>Nitpicking for 11559: Added a space</code></td></tr></table>




---

archive/issue_comments_120245.json:
```json
{
    "body": "**Changing reviewer** from \"Andrey Novoseltsev\" to \"Andrey Novoseltsev, Jan Keitel\".",
    "created_at": "2014-07-09T21:48:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120245",
    "user": "https://trac.sagemath.org/admin/accounts/users/jkeitel"
}
```

**Changing reviewer** from "Andrey Novoseltsev" to "Andrey Novoseltsev, Jan Keitel".



---

archive/issue_comments_120246.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)\" to \"[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)\".",
    "created_at": "2014-07-09T21:48:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120246",
    "user": "https://trac.sagemath.org/admin/accounts/users/jkeitel"
}
```

**Changing branch** from "[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)" to "[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)".



---

archive/issue_events_091703.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jkeitel",
    "created_at": "2014-07-09T21:49:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91703"
}
```



---

archive/issue_events_091704.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/jkeitel",
    "created_at": "2014-07-09T21:49:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91704"
}
```



---

archive/issue_events_091705.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91705"
}
```



---

archive/issue_events_091706.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91706"
}
```



---

archive/issue_comments_120247.json:
```json
{
    "body": "<a id='comment:29'></a>\nThis ticket seems to confuse the patchbot. But maybe any ticket would..",
    "created_at": "2015-03-25T19:28:55Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120247",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'></a>
This ticket seems to confuse the patchbot. But maybe any ticket would..



---

archive/issue_events_091707.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:28:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91707"
}
```



---

archive/issue_events_091708.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:28:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91708"
}
```



---

archive/issue_comments_120248.json:
```json
{
    "body": "<a id='comment:30'></a>\nPut to need info just to stop the bots loop-testing this ticket.",
    "created_at": "2015-03-25T19:31:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120248",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
Put to need info just to stop the bots loop-testing this ticket.



---

archive/issue_events_091709.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:31:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91709"
}
```



---

archive/issue_events_091710.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:31:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91710"
}
```



---

archive/issue_comments_120249.json:
```json
{
    "body": "<a id='comment:31'></a>\nRelated or not - when I click on the branch name to see the differences, it shows the intent to DELETE TWO MODULES completely!!! I do not see commits that attempt to do it, however.",
    "created_at": "2015-03-25T22:25:42Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120249",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:31'></a>
Related or not - when I click on the branch name to see the differences, it shows the intent to DELETE TWO MODULES completely!!! I do not see commits that attempt to do it, however.



---

archive/issue_comments_120250.json:
```json
{
    "body": "<a id='comment:32'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961\">b94f43d</a></td><td><code>Merge branch 'u/jkeitel/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr></table>\n",
    "created_at": "2015-05-05T18:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120250",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961">b94f43d</a></td><td><code>Merge branch 'u/jkeitel/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr></table>




---

archive/issue_comments_120251.json:
```json
{
    "body": "**Changing branch** from \"[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)\" to \"[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)\".",
    "created_at": "2015-05-05T18:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120251",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)" to "[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)".



---

archive/issue_comments_120252.json:
```json
{
    "body": "**Changing commit** from \"[85a053daeadeb7a8d1de24e354cc6fc99068df7f](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)\" to \"[b94f43d70821674c635b318d964ec22974abe961](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)\".",
    "created_at": "2015-05-05T18:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120252",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[85a053daeadeb7a8d1de24e354cc6fc99068df7f](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)" to "[b94f43d70821674c635b318d964ec22974abe961](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)".



---

archive/issue_events_091711.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-05T18:19:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91711"
}
```



---

archive/issue_events_091712.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-05T18:19:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91712"
}
```



---

archive/issue_events_091713.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:40:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91713"
}
```



---

archive/issue_events_091714.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:40:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91714"
}
```



---

archive/issue_comments_120253.json:
```json
{
    "body": "<a id='comment:34'></a>\nSome patchbots are still testing this ticket, but there are various doctest failures; setting this back to \"needs_work\".",
    "created_at": "2015-06-04T11:40:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120253",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:34'></a>
Some patchbots are still testing this ticket, but there are various doctest failures; setting this back to "needs_work".



---

archive/issue_comments_120254.json:
```json
{
    "body": "**Changing dependencies** from \"#11558, #10998, #13023\" to \"\".",
    "created_at": "2016-03-02T15:22:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120254",
    "user": "https://github.com/fchapoton"
}
```

**Changing dependencies** from "#11558, #10998, #13023" to "".



---

archive/issue_comments_120255.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,10 +7,4 @@\n ```\n Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n \n-Patch has some other fixes. Changes the chow group to use sparse matrices.\n-\n-Apply:\n-\n-- [attachment:trac_11559_fix_Chow_group.2.patch]\n-- [attachment:trac_11559_fixdoctest.patch]\n-- [attachment:trac_11559_hasattr_vertex_fc.patch]\n+Patch has some other fixes. Changes the Chow group to use sparse matrices.\n``````\n",
    "created_at": "2016-03-02T15:22:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120255",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,10 +7,4 @@
 ```
 Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.
 
-Patch has some other fixes. Changes the chow group to use sparse matrices.
-
-Apply:
-
-- [attachment:trac_11559_fix_Chow_group.2.patch]
-- [attachment:trac_11559_fixdoctest.patch]
-- [attachment:trac_11559_hasattr_vertex_fc.patch]
+Patch has some other fixes. Changes the Chow group to use sparse matrices.
``````




---

archive/issue_events_091715.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-02T15:22:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91715"
}
```



---

archive/issue_events_091716.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-02T15:22:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-91716"
}
```



---

archive/issue_comments_120256.json:
```json
{
    "body": "**Changing commit** from \"[b94f43d70821674c635b318d964ec22974abe961](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)\" to \"[a16336e08c9f967a5e1106406329f44b899261ee](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)\".",
    "created_at": "2017-09-14T12:02:53Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120256",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b94f43d70821674c635b318d964ec22974abe961](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)" to "[a16336e08c9f967a5e1106406329f44b899261ee](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)".



---

archive/issue_comments_120257.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee\">a16336e</a></td><td><code>Merge branch 'u/chapoton/11559' in 8.1.b5</code></td></tr></table>\n",
    "created_at": "2017-09-14T12:02:53Z",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-120257",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee">a16336e</a></td><td><code>Merge branch 'u/chapoton/11559' in 8.1.b5</code></td></tr></table>

