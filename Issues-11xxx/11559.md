# Issue 11559: Speed up Posets and toric Chow group

archive/issues_011387.json:
```json
{
    "assignees": [],
    "body": "To my surprise, computing the Chow group spends most of the time comparing cones instead of doing linear algebra. 3/4 of the time is spent in `PosetElement.__eq__()`:\n\n```\n   return self.parent() == other.parent() \\\n          and self.element == other.element \\\n          and self.vertex == other.vertex\n```\nReordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n\nPatch has some other fixes. Changes the Chow group to use sparse matrices.\n\nCC:  @sagetrac-sage-combinat\n\nKeywords: **toric, sd40.5**\n\nBranch/Commit: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559) @ [`a16336e`](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**\n\nReviewer: **Andrey Novoseltsev, Jan Keitel**\n\nAuthor: **Volker Braun**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11559_\n\n",
    "created_at": "2011-06-30T20:38:15Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Speed up Posets and toric Chow group",
    "type": "issue",
    "updated_at": "2022-12-29T01:35:15Z",
    "url": "https://github.com/sagemath/sage/issues/11559",
    "user": "https://github.com/vbraun"
}
```
To my surprise, computing the Chow group spends most of the time comparing cones instead of doing linear algebra. 3/4 of the time is spent in `PosetElement.__eq__()`:

```
   return self.parent() == other.parent() \
          and self.element == other.element \
          and self.vertex == other.vertex
```
Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.

Patch has some other fixes. Changes the Chow group to use sparse matrices.

CC:  @sagetrac-sage-combinat

Keywords: **toric, sd40.5**

Branch/Commit: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559) @ [`a16336e`](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**

Reviewer: **Andrey Novoseltsev, Jan Keitel**

Author: **Volker Braun**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/11559_





---

archive/issue_events_154511.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154511"
}
```



---

archive/issue_events_154512.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154512"
}
```



---

archive/issue_events_154513.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154513"
}
```



---

archive/issue_events_154514.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154514"
}
```



---

archive/issue_events_154515.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-06-30T20:38:15Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "subject": "https://github.com/vbraun",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154515"
}
```



---

archive/issue_comments_118125.json:
```json
{
    "body": "Attachment: **[trac_11559_fix_Chow_group.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch.gz)**\n\nUpdated patch",
    "created_at": "2011-06-30T20:52:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118125",
    "user": "https://github.com/vbraun"
}
```

Attachment: **[trac_11559_fix_Chow_group.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.patch.gz)**

Updated patch



---

archive/issue_comments_118126.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nCan you clarify why `hermit_form` was replaced with `echelon_form`?\n\nAlso I don't like the very last change with forceful passing of `check=False` to the parent constructor. I think the correct way is to always pass whatever was received from the user and if it leads to a slowdown somewhere, then in that somewhere one should use `check=False`.",
    "created_at": "2011-07-01T00:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118126",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:1" align="right">comment:1</div>

Can you clarify why `hermit_form` was replaced with `echelon_form`?

Also I don't like the very last change with forceful passing of `check=False` to the parent constructor. I think the correct way is to always pass whatever was received from the user and if it leads to a slowdown somewhere, then in that somewhere one should use `check=False`.



---

archive/issue_comments_118127.json:
```json
{
    "body": "Reviewer: **Andrey Novoseltsev**",
    "created_at": "2011-07-01T00:29:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118127",
    "user": "https://github.com/novoselt"
}
```

Reviewer: **Andrey Novoseltsev**



---

archive/issue_comments_118128.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI took a look at this earlier, so I'll add my 2 cents worth.\n\n`hermite_form` is a straight replacement for `echelon_form`.  Now that we have a `rref` command to obtain results over fields, I personally think it would be nice if \"hermite form\" went away, I think it confuses too many non-specialists.\n\nI was going to vouch for the posets and linear algebra, but I don't know the Chow group stuff, so it is good that Andrey is on this one.\n\nRob",
    "created_at": "2011-07-01T04:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118128",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:2" align="right">comment:2</div>

I took a look at this earlier, so I'll add my 2 cents worth.

`hermite_form` is a straight replacement for `echelon_form`.  Now that we have a `rref` command to obtain results over fields, I personally think it would be nice if "hermite form" went away, I think it confuses too many non-specialists.

I was going to vouch for the posets and linear algebra, but I don't know the Chow group stuff, so it is good that Andrey is on this one.

Rob



---

archive/issue_comments_118129.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\n`hermite_form` is an alias for `echelon_form` for dense ZZ-matrices. Sparse ZZ-matrices currently don't have a `hermite_form` method, though I'll add that back in #11558.\n\nI'm passing `check=False` to the element constructor because the input for the base constructor is computed. Usually when you extend some element class, you pass user-specified arguments through to the base constructor and its necessary to check their validity. Though I didn't see it taking much time when benchmarking, so if you insist I'll be happy to take it out again.",
    "created_at": "2011-07-01T08:41:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118129",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

`hermite_form` is an alias for `echelon_form` for dense ZZ-matrices. Sparse ZZ-matrices currently don't have a `hermite_form` method, though I'll add that back in #11558.

I'm passing `check=False` to the element constructor because the input for the base constructor is computed. Usually when you extend some element class, you pass user-specified arguments through to the base constructor and its necessary to check their validity. Though I didn't see it taking much time when benchmarking, so if you insist I'll be happy to take it out again.



---

archive/issue_events_154516.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-07-01T09:49:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154516"
}
```



---

archive/issue_events_154517.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-07-02T10:51:14Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "subject": "https://github.com/hivert",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154517"
}
```



---

archive/issue_comments_118130.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nWhat kind of parents are you using. Normally they should be unique so that\nparent comparisons should be done with is and thus instantaneous. Moreover, I\ndon't think your solution is correct because in some case you will end up\ncomparing things where eq will simply break. I'll try to cook an example.\n\nFlorent",
    "created_at": "2011-07-02T10:51:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118130",
    "user": "https://github.com/hivert"
}
```

<div id="comment:5" align="right">comment:5</div>

What kind of parents are you using. Normally they should be unique so that
parent comparisons should be done with is and thus instantaneous. Moreover, I
don't think your solution is correct because in some case you will end up
comparing things where eq will simply break. I'll try to cook an example.

Florent



---

archive/issue_comments_118131.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI should also mention that before touching anything in posets you should test you code with #10998 applied. There where a major rewrite in posets with a lot of speedups and cleanups.\n\nFlorent",
    "created_at": "2011-07-02T10:56:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118131",
    "user": "https://github.com/hivert"
}
```

<div id="comment:6" align="right">comment:6</div>

I should also mention that before touching anything in posets you should test you code with #10998 applied. There where a major rewrite in posets with a lot of speedups and cleanups.

Florent



---

archive/issue_comments_118132.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI agree that parents should be unique. The original code compared parents with `==` and I didn't change it.\n\nMy point is that the `PosetElement.element` comparison is potentially slow. In fact, I don't understand why `PosetElement.__eq__` compares both `vertex` and `element`, I am under the impression that there is a bijection between vertices and elements. \n\nThe reordering does break comparison between `PosetElement`s and other classes, though I'm not sure if we care. The patch does conflict with #10998, so that one needs to be reviewed first.",
    "created_at": "2011-07-02T11:17:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118132",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

I agree that parents should be unique. The original code compared parents with `==` and I didn't change it.

My point is that the `PosetElement.element` comparison is potentially slow. In fact, I don't understand why `PosetElement.__eq__` compares both `vertex` and `element`, I am under the impression that there is a bijection between vertices and elements. 

The reordering does break comparison between `PosetElement`s and other classes, though I'm not sure if we care. The patch does conflict with #10998, so that one needs to be reviewed first.



---

archive/issue_comments_118133.json:
```json
{
    "body": "Changed dependencies from **#11558** to **#11558, #10998**",
    "created_at": "2011-07-27T19:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118133",
    "user": "https://github.com/novoselt"
}
```

Changed dependencies from **#11558** to **#11558, #10998**



---

archive/issue_comments_118134.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nSame lines are edited by #12351. One will have to adapt to the other one.",
    "created_at": "2012-01-26T22:19:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118134",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:9" align="right">comment:9</div>

Same lines are edited by #12351. One will have to adapt to the other one.



---

archive/issue_comments_118135.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nDoes not apply on Sage-5.0.beta4!",
    "created_at": "2012-02-15T22:31:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118135",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:10" align="right">comment:10</div>

Does not apply on Sage-5.0.beta4!



---

archive/issue_events_154518.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-02-15T22:31:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154518"
}
```



---

archive/issue_events_154519.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-02-15T22:31:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154519"
}
```



---

archive/issue_comments_118136.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@novoselt](#comment:10):\n> Does not apply on Sage-5.0.beta4!\n\nIf it's the hunk in the poset code that fails, that's normal. #10998 already integrates this change (in fact a slightly better one).",
    "created_at": "2012-02-16T10:08:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118136",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@novoselt](#comment:10):
> Does not apply on Sage-5.0.beta4!

If it's the hunk in the poset code that fails, that's normal. #10998 already integrates this change (in fact a slightly better one).



---

archive/issue_comments_118137.json:
```json
{
    "body": "Work Issues: **rebasing**",
    "created_at": "2012-03-07T22:04:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118137",
    "user": "https://github.com/novoselt"
}
```

Work Issues: **rebasing**



---

archive/issue_events_154520.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-05-25T00:07:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154520"
}
```



---

archive/issue_events_154521.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2012-05-25T00:07:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154521"
}
```



---

archive/issue_comments_118138.json:
```json
{
    "body": "Changed work issues from **rebasing** to none",
    "created_at": "2012-05-25T00:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118138",
    "user": "https://github.com/novoselt"
}
```

Changed work issues from **rebasing** to none



---

archive/issue_comments_118139.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nHey Volker,\n\nChanging posets to compare again vertices first still shaves off a second on testing Chow group module - do you have an example where it used to be crucial? In any case if you are fine with my rebasing let's merge it!",
    "created_at": "2012-05-25T00:07:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118139",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:13" align="right">comment:13</div>

Hey Volker,

Changing posets to compare again vertices first still shaves off a second on testing Chow group module - do you have an example where it used to be crucial? In any case if you are fine with my rebasing let's merge it!



---

archive/issue_comments_118140.json:
```json
{
    "body": "Changed keywords from none to **toric, sd40.5**",
    "created_at": "2012-05-27T20:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118140",
    "user": "https://github.com/novoselt"
}
```

Changed keywords from none to **toric, sd40.5**



---

archive/issue_comments_118141.json:
```json
{
    "body": "Changed dependencies from **#11558, #10998** to **#11558, #10998, #13023**",
    "created_at": "2012-05-27T20:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118141",
    "user": "https://github.com/novoselt"
}
```

Changed dependencies from **#11558, #10998** to **#11558, #10998, #13023**



---

archive/issue_comments_118142.json:
```json
{
    "body": "Rebased for Sage-5.1.beta0",
    "created_at": "2012-05-28T02:19:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118142",
    "user": "https://github.com/novoselt"
}
```

Rebased for Sage-5.1.beta0



---

archive/issue_comments_118143.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)**\n\nNow works fine after file move.",
    "created_at": "2012-05-28T02:20:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118143",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[trac_11559_fix_Chow_group.2.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)**

Now works fine after file move.



---

archive/issue_comments_118144.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n \n Patch has some other fixes. Changes the chow group to use sparse matrices.\n+\n+Apply:\n+\n+- [attachment: trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)\n+- [attachment: trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)\n``````\n",
    "created_at": "2013-07-22T14:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118144",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.
 
 Patch has some other fixes. Changes the chow group to use sparse matrices.
+
+Apply:
+
+- [attachment: trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)
+- [attachment: trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)
``````




---

archive/issue_comments_118145.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)**\n\nfor the bot:\n\napply trac_11559_fix_Chow_group.2.patch trac_11559_hasattr_vertex_fc.patch\n\nIf you do not want to check the parent first, you need to make sure that other has the attribute \"vertex\" !\n\nThis ticket needs benchmarking, to see if something significant is still gained in term of time or not.",
    "created_at": "2013-07-22T14:32:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118145",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[trac_11559_hasattr_vertex_fc.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)**

for the bot:

apply trac_11559_fix_Chow_group.2.patch trac_11559_hasattr_vertex_fc.patch

If you do not want to check the parent first, you need to make sure that other has the attribute "vertex" !

This ticket needs benchmarking, to see if something significant is still gained in term of time or not.



---

archive/issue_events_154522.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154522"
}
```



---

archive/issue_events_154523.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154523"
}
```



---

archive/issue_comments_118146.json:
```json
{
    "body": "Attachment: **[trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)**",
    "created_at": "2013-11-04T20:13:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118146",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[trac_11559_fixdoctest.patch.gz](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)**



---

archive/issue_comments_118147.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,5 @@\n Apply:\n \n - [attachment: trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)\n+- [attachment: trac_11559_fixdoctest.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)\n - [attachment: trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)\n``````\n",
    "created_at": "2013-11-04T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118147",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,5 @@
 Apply:
 
 - [attachment: trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)
+- [attachment: trac_11559_fixdoctest.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)
 - [attachment: trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)
``````




---

archive/issue_comments_118148.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nhere a patch correcting the failing doctests\n\nApply trac_11559_fix_Chow_group.2.patch trac_11559_fixdoctest.patch trac_11559_hasattr_vertex_fc.patch",
    "created_at": "2013-11-04T20:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118148",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">comment:18</div>

here a patch correcting the failing doctests

Apply trac_11559_fix_Chow_group.2.patch trac_11559_fixdoctest.patch trac_11559_hasattr_vertex_fc.patch



---

archive/issue_comments_118149.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI just noticed this ticket. Has someone tried using have_same_parent(self, other) ?",
    "created_at": "2013-11-04T20:18:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118149",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:19" align="right">comment:19</div>

I just noticed this ticket. Has someone tried using have_same_parent(self, other) ?



---

archive/issue_events_154524.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154524"
}
```



---

archive/issue_events_154525.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154525"
}
```



---

archive/issue_comments_118150.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nhere is a git branch\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7437e82d4c65596db1968d42837021eafe850eff\">7437e82</a></td><td><code>Trac #11559: Speed up Posets and toric Chow group</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3322d7cb24f4623b02c046381d679bb75ba5a1e6\">3322d7c</a></td><td><code>trac #11559 fixing failing doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822\">ad17011</a></td><td><code>trac 11559 check if other has attribute vertex</code></td></tr></table>\n",
    "created_at": "2014-02-21T13:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118150",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

here is a git branch

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7437e82d4c65596db1968d42837021eafe850eff">7437e82</a></td><td><code>Trac #11559: Speed up Posets and toric Chow group</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3322d7cb24f4623b02c046381d679bb75ba5a1e6">3322d7c</a></td><td><code>trac #11559 fixing failing doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822">ad17011</a></td><td><code>trac 11559 check if other has attribute vertex</code></td></tr></table>




---

archive/issue_comments_118151.json:
```json
{
    "body": "Commit: **[`ad17011`](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)**",
    "created_at": "2014-02-21T13:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118151",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`ad17011`](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)**



---

archive/issue_comments_118152.json:
```json
{
    "body": "Branch: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**",
    "created_at": "2014-02-21T13:17:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118152",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**



---

archive/issue_events_154526.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154526"
}
```



---

archive/issue_events_154527.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154527"
}
```



---

archive/issue_events_154528.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-07T14:07:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154528"
}
```



---

archive/issue_events_154529.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2014-05-07T14:07:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154529"
}
```



---

archive/issue_comments_118153.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nFrom the patchbot report:\n\n```\nFile \"src/sage/geometry/fan.py\", line 158, in sage.geometry.fan\nFailed example:\n    sorted(L.hasse_diagram().neighbors(cone))\nExpected:\n    [1-d cone of Rational polyhedral fan in 3-d lattice M,\n     1-d cone of Rational polyhedral fan in 3-d lattice M,\n     3-d cone of Rational polyhedral fan in 3-d lattice M,\n     3-d cone of Rational polyhedral fan in 3-d lattice M]\nGot:\n    [1-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 1-d cone of Rational polyhedral fan in 3-d lattice M]\n```",
    "created_at": "2014-05-07T14:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118153",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:23" align="right">comment:23</div>

From the patchbot report:

```
File "src/sage/geometry/fan.py", line 158, in sage.geometry.fan
Failed example:
    sorted(L.hasse_diagram().neighbors(cone))
Expected:
    [1-d cone of Rational polyhedral fan in 3-d lattice M,
     1-d cone of Rational polyhedral fan in 3-d lattice M,
     3-d cone of Rational polyhedral fan in 3-d lattice M,
     3-d cone of Rational polyhedral fan in 3-d lattice M]
Got:
    [1-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 3-d cone of Rational polyhedral fan in 3-d lattice M, 1-d cone of Rational polyhedral fan in 3-d lattice M]
```



---

archive/issue_comments_118154.json:
```json
{
    "body": "Changed commit from **[`ad17011`](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)** to **[`6cd90ca`](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)**",
    "created_at": "2014-07-09T20:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ad17011`](https://github.com/sagemath/sagetrac-mirror/commit/ad1701157f4c051ac160c72b7e63ba7ad7aeb822)** to **[`6cd90ca`](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)**



---

archive/issue_comments_118155.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/860f696f5e2265e82d7d78977dab932426875e47\">860f696</a></td><td><code>Merge branch 'u/chapoton/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30\">6cd90ca</a></td><td><code>trac #11559 correct failing doctest</code></td></tr></table>\n",
    "created_at": "2014-07-09T20:11:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118155",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/860f696f5e2265e82d7d78977dab932426875e47">860f696</a></td><td><code>Merge branch 'u/chapoton/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30">6cd90ca</a></td><td><code>trac #11559 correct failing doctest</code></td></tr></table>




---

archive/issue_events_154530.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-09T20:12:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154530"
}
```



---

archive/issue_events_154531.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2014-07-09T20:12:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154531"
}
```



---

archive/issue_events_154532.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:48:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154532"
}
```



---

archive/issue_events_154533.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:48:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154533"
}
```



---

archive/issue_comments_118156.json:
```json
{
    "body": "Changed commit from **[`6cd90ca`](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)** to **[`85a053d`](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)**",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118156",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed commit from **[`6cd90ca`](https://github.com/sagemath/sagetrac-mirror/commit/6cd90ca42510ca957f59363321ef24074eef1e30)** to **[`85a053d`](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)**



---

archive/issue_comments_118157.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nHi, the patch looks good to me and seems to make sensible changes. However, I can't tell whether the patch is actually bringing any speed benefits. Volker, Andrey, what exactly is it that should be benchmarked?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f\">85a053d</a></td><td><code>Nitpicking for 11559: Added a space</code></td></tr></table>\n",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118157",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

<div id="comment:26" align="right">comment:26</div>

Hi, the patch looks good to me and seems to make sensible changes. However, I can't tell whether the patch is actually bringing any speed benefits. Volker, Andrey, what exactly is it that should be benchmarked?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f">85a053d</a></td><td><code>Nitpicking for 11559: Added a space</code></td></tr></table>




---

archive/issue_comments_118158.json:
```json
{
    "body": "Changed reviewer from **Andrey Novoseltsev** to **Andrey Novoseltsev, Jan Keitel**",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118158",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed reviewer from **Andrey Novoseltsev** to **Andrey Novoseltsev, Jan Keitel**



---

archive/issue_comments_118159.json:
```json
{
    "body": "Changed branch from **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)** to **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)**",
    "created_at": "2014-07-09T21:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118159",
    "user": "https://github.com/sagetrac-jkeitel"
}
```

Changed branch from **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)** to **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)**



---

archive/issue_events_154534.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:49:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154534"
}
```



---

archive/issue_events_154535.json:
```json
{
    "actor": "https://github.com/sagetrac-jkeitel",
    "created_at": "2014-07-09T21:49:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154535"
}
```



---

archive/issue_events_154536.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154536"
}
```



---

archive/issue_events_154537.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154537"
}
```



---

archive/issue_comments_118160.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nThis ticket seems to confuse the patchbot. But maybe any ticket would..",
    "created_at": "2015-03-25T19:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118160",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

This ticket seems to confuse the patchbot. But maybe any ticket would..



---

archive/issue_events_154538.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:28:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154538"
}
```



---

archive/issue_events_154539.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:28:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154539"
}
```



---

archive/issue_events_154540.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:31:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154540"
}
```



---

archive/issue_events_154541.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-03-25T19:31:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154541"
}
```



---

archive/issue_comments_118161.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nPut to need info just to stop the bots loop-testing this ticket.",
    "created_at": "2015-03-25T19:31:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118161",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

Put to need info just to stop the bots loop-testing this ticket.



---

archive/issue_comments_118162.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nRelated or not - when I click on the branch name to see the differences, it shows the intent to DELETE TWO MODULES completely!!! I do not see commits that attempt to do it, however.",
    "created_at": "2015-03-25T22:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118162",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:31" align="right">comment:31</div>

Related or not - when I click on the branch name to see the differences, it shows the intent to DELETE TWO MODULES completely!!! I do not see commits that attempt to do it, however.



---

archive/issue_comments_118163.json:
```json
{
    "body": "<div id=\"comment:32\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961\">b94f43d</a></td><td><code>Merge branch 'u/jkeitel/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr></table>\n",
    "created_at": "2015-05-05T18:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118163",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961">b94f43d</a></td><td><code>Merge branch 'u/jkeitel/11559' of ssh://trac.sagemath.org:22/sage into 11559</code></td></tr></table>




---

archive/issue_comments_118164.json:
```json
{
    "body": "Changed commit from **[`85a053d`](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)** to **[`b94f43d`](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)**",
    "created_at": "2015-05-05T18:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118164",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`85a053d`](https://github.com/sagemath/sagetrac-mirror/commit/85a053daeadeb7a8d1de24e354cc6fc99068df7f)** to **[`b94f43d`](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)**



---

archive/issue_comments_118165.json:
```json
{
    "body": "Changed branch from **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)** to **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**",
    "created_at": "2015-05-05T18:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118165",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/jkeitel/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/jkeitel/11559)** to **[u/chapoton/11559](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/11559)**



---

archive/issue_events_154542.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-05T18:19:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154542"
}
```



---

archive/issue_events_154543.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2015-05-05T18:19:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154543"
}
```



---

archive/issue_comments_118166.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nSome patchbots are still testing this ticket, but there are various doctest failures; setting this back to \"needs_work\".",
    "created_at": "2015-06-04T11:40:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118166",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:34" align="right">comment:34</div>

Some patchbots are still testing this ticket, but there are various doctest failures; setting this back to "needs_work".



---

archive/issue_events_154544.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:40:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154544"
}
```



---

archive/issue_events_154545.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2015-06-04T11:40:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154545"
}
```



---

archive/issue_comments_118167.json:
```json
{
    "body": "Changed dependencies from **#11558, #10998, #13023** to none",
    "created_at": "2016-03-02T15:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118167",
    "user": "https://github.com/fchapoton"
}
```

Changed dependencies from **#11558, #10998, #13023** to none



---

archive/issue_comments_118168.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,10 +7,4 @@\n ```\n Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.\n \n-Patch has some other fixes. Changes the chow group to use sparse matrices.\n-\n-Apply:\n-\n-- [attachment: trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)\n-- [attachment: trac_11559_fixdoctest.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)\n-- [attachment: trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)\n+Patch has some other fixes. Changes the Chow group to use sparse matrices.\n``````\n",
    "created_at": "2016-03-02T15:22:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118168",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,10 +7,4 @@
 ```
 Reordering this to first compare `self.vertex == other.vertex` speeds it up dramatically.
 
-Patch has some other fixes. Changes the chow group to use sparse matrices.
-
-Apply:
-
-- [attachment: trac_11559_fix_Chow_group.2.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fix_Chow_group.2.patch.gz)
-- [attachment: trac_11559_fixdoctest.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_fixdoctest.patch.gz)
-- [attachment: trac_11559_hasattr_vertex_fc.patch](https://github.com/sagemath/sage/files/ticket11559/trac_11559_hasattr_vertex_fc.patch.gz)
+Patch has some other fixes. Changes the Chow group to use sparse matrices.
``````




---

archive/issue_events_154546.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-02T15:22:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-6.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154546"
}
```



---

archive/issue_events_154547.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2016-03-02T15:22:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154547"
}
```



---

archive/issue_comments_118169.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee\">a16336e</a></td><td><code>Merge branch 'u/chapoton/11559' in 8.1.b5</code></td></tr></table>\n",
    "created_at": "2017-09-14T12:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118169",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee">a16336e</a></td><td><code>Merge branch 'u/chapoton/11559' in 8.1.b5</code></td></tr></table>




---

archive/issue_comments_118170.json:
```json
{
    "body": "Changed commit from **[`b94f43d`](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)** to **[`a16336e`](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**",
    "created_at": "2017-09-14T12:02:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11559#issuecomment-118170",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b94f43d`](https://github.com/sagemath/sagetrac-mirror/commit/b94f43d70821674c635b318d964ec22974abe961)** to **[`a16336e`](https://github.com/sagemath/sagetrac-mirror/commit/a16336e08c9f967a5e1106406329f44b899261ee)**



---

archive/issue_events_154548.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:35:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11559",
    "milestone_number": null,
    "milestone_title": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11559#event-154548"
}
```
