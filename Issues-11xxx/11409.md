# Issue 11409: Remove old notebook files

archive/issues_011237.json:
```json
{
    "body": "The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following files are from the old notebook and should be removed:\n* `$SAGE_ROOT/devel/sage/sage/server/introspect.py`\n* `$SAGE_ROOT/devel/sage/sage/server/notebook/*`\n* `$SAGE_ROOT/devel/sage/sage/server/simple/*`\n\nThe following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these (but I have made them more uniform)\n* `$SAGE_ROOT/devel/sage/sage/server/misc.py`\n* `$SAGE_ROOT/devel/sage/sage/server/support.py`\n\n---\n\n**Apply**:\n1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n2. [attachment:trac_11409-rebased-v2.patch]\n3. [attachment:11409_doctest.patch]\n\n---\n\nAfter applying the patches, running sdist, and then make from scratch, I get the following results:\n\n```\n$ cd $SAGE_ROOT\n$ grep -e 'server.simple' -e 'server.notebook' -e 'server.introspect' -R .\nBinary file ./devel/sage/.hg/store/data/doc/en/reference/notebook.rst.i matches\nBinary file ./devel/sage/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches\nBinary file ./devel/sage/.hg/store/00manifest.d matches\nBinary file ./devel/sage-main/.hg/store/data/doc/en/reference/notebook.rst.i matches\nBinary file ./devel/sage-main/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches\nBinary file ./devel/sage-main/.hg/store/00manifest.d matches\n./local/share/texmf/tex/generic/sagetex/remote-sagetex.dtx:% in \\texttt{sage/server/simple/twist.py}.\n```\n\nThis proves that the deleted files are no longer referenced (expect for a comment in SageTeX, this has been reported to Dan Drake).\n\n---\n\nSee also #9237, #9552.\n\n**Assignee:** @jdemeyer\n\n**CC:**  @kiwifb @williamstein @kini\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton, Punarbasu Purkayastha\n\n**Author:** Jeroen Demeyer\n\n**Merged:** sage-5.13.beta2\n\n**Dependencies:** #13794, #14330\n\nIssue created by migration from https://trac.sagemath.org/ticket/11409\n\n",
    "closed_at": "2013-10-31T19:15:55Z",
    "created_at": "2011-05-31T08:57:48Z",
    "labels": [
        "component: notebook",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.13",
    "title": "Remove old notebook files",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/11409",
    "user": "https://github.com/jdemeyer"
}
```
The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following files are from the old notebook and should be removed:
* `$SAGE_ROOT/devel/sage/sage/server/introspect.py`
* `$SAGE_ROOT/devel/sage/sage/server/notebook/*`
* `$SAGE_ROOT/devel/sage/sage/server/simple/*`

The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these (but I have made them more uniform)
* `$SAGE_ROOT/devel/sage/sage/server/misc.py`
* `$SAGE_ROOT/devel/sage/sage/server/support.py`

---

**Apply**:
1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
2. [attachment:trac_11409-rebased-v2.patch]
3. [attachment:11409_doctest.patch]

---

After applying the patches, running sdist, and then make from scratch, I get the following results:

```
$ cd $SAGE_ROOT
$ grep -e 'server.simple' -e 'server.notebook' -e 'server.introspect' -R .
Binary file ./devel/sage/.hg/store/data/doc/en/reference/notebook.rst.i matches
Binary file ./devel/sage/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches
Binary file ./devel/sage/.hg/store/00manifest.d matches
Binary file ./devel/sage-main/.hg/store/data/doc/en/reference/notebook.rst.i matches
Binary file ./devel/sage-main/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches
Binary file ./devel/sage-main/.hg/store/00manifest.d matches
./local/share/texmf/tex/generic/sagetex/remote-sagetex.dtx:% in \texttt{sage/server/simple/twist.py}.
```

This proves that the deleted files are no longer referenced (expect for a comment in SageTeX, this has been reported to Dan Drake).

---

See also #9237, #9552.

**Assignee:** @jdemeyer

**CC:**  @kiwifb @williamstein @kini

**Reviewer:** Frédéric Chapoton, Punarbasu Purkayastha

**Author:** Jeroen Demeyer

**Merged:** sage-5.13.beta2

**Dependencies:** #13794, #14330

Issue created by migration from https://trac.sagemath.org/ticket/11409





---

archive/issue_comments_117470.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.\n+\n+See also #9552.\n``````\n",
    "created_at": "2011-05-31T09:05:31Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117470",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.
+
+See also #9552.
``````




---

archive/issue_comments_117471.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.\n \n-See also #9552.\n+See also #9237, #9552.\n``````\n",
    "created_at": "2011-05-31T09:14:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117471",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.
 
-See also #9552.
+See also #9237, #9552.
``````




---

archive/issue_comments_117472.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.\n \n See also #9237, #9552.\n+\n+Apply [attachment:11409_remove_notebook_dir.patch] and [attachment:11409.patch]\n``````\n",
    "created_at": "2011-05-31T09:31:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117472",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.
 
 See also #9237, #9552.
+
+Apply [attachment:11409_remove_notebook_dir.patch] and [attachment:11409.patch]
``````




---

archive/issue_comments_117473.json:
```json
{
    "body": "**Author:** Jeroen Demeyer",
    "created_at": "2011-05-31T09:31:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117473",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Jeroen Demeyer



---

archive/issue_comments_117474.json:
```json
{
    "body": "Patch for local/bin",
    "created_at": "2011-06-07T15:12:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117474",
    "user": "https://github.com/jdemeyer"
}
```

Patch for local/bin



---

archive/issue_comments_117475.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,7 @@\n \n See also #9237, #9552.\n \n-Apply [attachment:11409_remove_notebook_dir.patch] and [attachment:11409.patch]\n+**Apply**:\n+1. [attachment:11409_remove_notebook_dir.patch]\n+2. [attachment:11409.patch]\n+3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n``````\n",
    "created_at": "2011-06-07T15:13:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117475",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,7 @@
 
 See also #9237, #9552.
 
-Apply [attachment:11409_remove_notebook_dir.patch] and [attachment:11409.patch]
+**Apply**:
+1. [attachment:11409_remove_notebook_dir.patch]
+2. [attachment:11409.patch]
+3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
``````




---

archive/attachments_015012.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11409_scripts.patch",
    "asset_url": "tarball://root/attachments/ticket11409/11409_scripts.patch",
    "created_at": "2011-06-07T15:13:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/11409_scripts.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_117476.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [11409_scripts.patch](https://github.com/sagemath/sage/files/ticket11409/11409_scripts.patch) by @jdemeyer created at 2011-06-07 15:13:47",
    "created_at": "2011-06-07T15:13:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117476",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
Attachment [11409_scripts.patch](https://github.com/sagemath/sage/files/ticket11409/11409_scripts.patch) by @jdemeyer created at 2011-06-07 15:13:47



---

archive/issue_comments_117477.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,4 +5,5 @@\n **Apply**:\n 1. [attachment:11409_remove_notebook_dir.patch]\n 2. [attachment:11409.patch]\n-3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n+3. [attachment:11409_remove_server_simple.patch]\n+4. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n``````\n",
    "created_at": "2011-06-07T15:24:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117477",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,4 +5,5 @@
 **Apply**:
 1. [attachment:11409_remove_notebook_dir.patch]
 2. [attachment:11409.patch]
-3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
+3. [attachment:11409_remove_server_simple.patch]
+4. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
``````




---

archive/issue_comments_117478.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n-Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.\n+The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following directories contain old files for the Sage notebook and should be removed:\n+* `SAGE_ROOT/devel/sage/sage/server/notebook`\n+* `SAGE_ROOT/devel/sage/sage/server/simple`\n \n See also #9237, #9552.\n \n``````\n",
    "created_at": "2011-06-07T19:32:34Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117478",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
-Check whether the files in `SAGE_ROOT/devel/sage/sage/server/notebook` are still used.  If not, remove them.
+The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following directories contain old files for the Sage notebook and should be removed:
+* `SAGE_ROOT/devel/sage/sage/server/notebook`
+* `SAGE_ROOT/devel/sage/sage/server/simple`
 
 See also #9237, #9552.
 
``````




---

archive/issue_comments_117479.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,7 +5,6 @@\n See also #9237, #9552.\n \n **Apply**:\n-1. [attachment:11409_remove_notebook_dir.patch]\n+1. [attachment:11409_remove_dirs.patch]\n 2. [attachment:11409.patch]\n-3. [attachment:11409_remove_server_simple.patch]\n-4. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n+3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n``````\n",
    "created_at": "2011-06-08T12:04:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117479",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,7 +5,6 @@
 See also #9237, #9552.
 
 **Apply**:
-1. [attachment:11409_remove_notebook_dir.patch]
+1. [attachment:11409_remove_dirs.patch]
 2. [attachment:11409.patch]
-3. [attachment:11409_remove_server_simple.patch]
-4. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
+3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
``````




---

archive/issue_comments_117480.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,3 +8,4 @@\n 1. [attachment:11409_remove_dirs.patch]\n 2. [attachment:11409.patch]\n 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n+4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n``````\n",
    "created_at": "2011-06-09T08:25:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117480",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,3 +8,4 @@
 1. [attachment:11409_remove_dirs.patch]
 2. [attachment:11409.patch]
 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
+4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
``````




---

archive/issue_comments_117481.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,11 +1,12 @@\n-The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following directories contain old files for the Sage notebook and should be removed:\n-* `SAGE_ROOT/devel/sage/sage/server/notebook`\n-* `SAGE_ROOT/devel/sage/sage/server/simple`\n+The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following files are from the old notebook and should be removed:\n+* `SAGE_ROOT/devel/sage/sage/server/introspect.py`\n+* `SAGE_ROOT/devel/sage/sage/server/notebook/*`\n+* `SAGE_ROOT/devel/sage/sage/server/simple/*`\n \n See also #9237, #9552.\n \n **Apply**:\n-1. [attachment:11409_remove_dirs.patch]\n+1. [attachment:11409_remove_files.patch] (this simply removes the above files and directories)\n 2. [attachment:11409.patch]\n 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n``````\n",
    "created_at": "2011-06-09T16:23:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117481",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,11 +1,12 @@
-The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following directories contain old files for the Sage notebook and should be removed:
-* `SAGE_ROOT/devel/sage/sage/server/notebook`
-* `SAGE_ROOT/devel/sage/sage/server/simple`
+The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following files are from the old notebook and should be removed:
+* `SAGE_ROOT/devel/sage/sage/server/introspect.py`
+* `SAGE_ROOT/devel/sage/sage/server/notebook/*`
+* `SAGE_ROOT/devel/sage/sage/server/simple/*`
 
 See also #9237, #9552.
 
 **Apply**:
-1. [attachment:11409_remove_dirs.patch]
+1. [attachment:11409_remove_files.patch] (this simply removes the above files and directories)
 2. [attachment:11409.patch]
 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
``````




---

archive/issue_comments_117482.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,10 +3,14 @@\n * `SAGE_ROOT/devel/sage/sage/server/notebook/*`\n * `SAGE_ROOT/devel/sage/sage/server/simple/*`\n \n-See also #9237, #9552.\n+The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these:\n+* `SAGE_ROOT/devel/sage/sage/server/misc.py`\n+* `SAGE_ROOT/devel/sage/sage/server/support.py`\n \n **Apply**:\n 1. [attachment:11409_remove_files.patch] (this simply removes the above files and directories)\n 2. [attachment:11409.patch]\n 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n+\n+See also #9237, #9552.\n``````\n",
    "created_at": "2011-06-09T16:40:41Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117482",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,10 +3,14 @@
 * `SAGE_ROOT/devel/sage/sage/server/notebook/*`
 * `SAGE_ROOT/devel/sage/sage/server/simple/*`
 
-See also #9237, #9552.
+The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these:
+* `SAGE_ROOT/devel/sage/sage/server/misc.py`
+* `SAGE_ROOT/devel/sage/sage/server/support.py`
 
 **Apply**:
 1. [attachment:11409_remove_files.patch] (this simply removes the above files and directories)
 2. [attachment:11409.patch]
 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
+
+See also #9237, #9552.
``````




---

archive/issue_comments_117483.json:
```json
{
    "body": "Patch for SAGENB",
    "created_at": "2011-06-09T16:56:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117483",
    "user": "https://github.com/jdemeyer"
}
```

Patch for SAGENB



---

archive/issue_comments_117484.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,7 +8,7 @@\n * `SAGE_ROOT/devel/sage/sage/server/support.py`\n \n **Apply**:\n-1. [attachment:11409_remove_files.patch] (this simply removes the above files and directories)\n+1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"`\n 2. [attachment:11409.patch]\n 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n``````\n",
    "created_at": "2011-06-15T16:12:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117484",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,7 +8,7 @@
 * `SAGE_ROOT/devel/sage/sage/server/support.py`
 
 **Apply**:
-1. [attachment:11409_remove_files.patch] (this simply removes the above files and directories)
+1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"`
 2. [attachment:11409.patch]
 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
``````




---

archive/attachments_015013.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11409_sagenb.patch",
    "asset_url": "tarball://root/attachments/ticket11409/11409_sagenb.patch",
    "created_at": "2011-06-15T16:12:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/11409_sagenb.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_117485.json:
```json
{
    "body": "<a id='comment:12'></a>\nAttachment [11409_sagenb.patch](https://github.com/sagemath/sage/files/ticket11409/11409_sagenb.patch) by @jdemeyer created at 2011-06-15 16:12:16",
    "created_at": "2011-06-15T16:12:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117485",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Attachment [11409_sagenb.patch](https://github.com/sagemath/sage/files/ticket11409/11409_sagenb.patch) by @jdemeyer created at 2011-06-15 16:12:16



---

archive/issue_comments_117486.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -14,3 +14,5 @@\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n \n See also #9237, #9552.\n+\n+Testing Sage distribution: [http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/](http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/)\n``````\n",
    "created_at": "2011-06-16T19:08:21Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117486",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -14,3 +14,5 @@
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
 
 See also #9237, #9552.
+
+Testing Sage distribution: [http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/](http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/)
``````




---

archive/issue_events_089828.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T19:08:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89828"
}
```



---

archive/issue_comments_117487.json:
```json
{
    "body": "<a id='comment:13'></a>\nAfter applying the patches, running sdist, and then make from scratch, I get the following results:\n\n```\n$ cd $SAGE_ROOT\n$ grep -e 'server.simple' -e 'server.notebook' -e 'server.introspect' -R .\nBinary file ./devel/sage/.hg/store/data/doc/en/reference/notebook.rst.i matches\nBinary file ./devel/sage/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches\nBinary file ./devel/sage/.hg/store/00manifest.d matches\nBinary file ./devel/sage-main/.hg/store/data/doc/en/reference/notebook.rst.i matches\nBinary file ./devel/sage-main/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches\nBinary file ./devel/sage-main/.hg/store/00manifest.d matches\n./local/share/texmf/tex/generic/sagetex/remote-sagetex.dtx:% in \\texttt{sage/server/simple/twist.py}.\n```\n\nThis proves that the deleted files are no longer referenced (expect for a comment in SageTeX, this has been reported to Dan Drake).",
    "created_at": "2011-06-16T19:08:21Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117487",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
After applying the patches, running sdist, and then make from scratch, I get the following results:

```
$ cd $SAGE_ROOT
$ grep -e 'server.simple' -e 'server.notebook' -e 'server.introspect' -R .
Binary file ./devel/sage/.hg/store/data/doc/en/reference/notebook.rst.i matches
Binary file ./devel/sage/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches
Binary file ./devel/sage/.hg/store/00manifest.d matches
Binary file ./devel/sage-main/.hg/store/data/doc/en/reference/notebook.rst.i matches
Binary file ./devel/sage-main/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches
Binary file ./devel/sage-main/.hg/store/00manifest.d matches
./local/share/texmf/tex/generic/sagetex/remote-sagetex.dtx:% in \texttt{sage/server/simple/twist.py}.
```

This proves that the deleted files are no longer referenced (expect for a comment in SageTeX, this has been reported to Dan Drake).



---

archive/issue_events_089829.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T19:08:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "component: misc",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89829"
}
```



---

archive/issue_events_089830.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-06-16T19:08:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "component: notebook",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89830"
}
```



---

archive/issue_comments_117488.json:
```json
{
    "body": "<a id='comment:15'></a>\nJust as a comment, William made some reference at Sage Days 31 to a deprecation period and that these files were needed to enable people to migrate to the new notebook (not the really new flask notebook, nor the old new notebook, but the medium new separate sagenb notebook, I think).  I don't know how accurate that is, but thought I should mention it.",
    "created_at": "2011-06-23T03:29:54Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117488",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>
Just as a comment, William made some reference at Sage Days 31 to a deprecation period and that these files were needed to enable people to migrate to the new notebook (not the really new flask notebook, nor the old new notebook, but the medium new separate sagenb notebook, I think).  I don't know how accurate that is, but thought I should mention it.



---

archive/issue_comments_117489.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [kcrisman](#comment%3A15):\n> Just as a comment, William made some reference at Sage Days 31 to a deprecation period and that these files were needed to enable people to migrate to the new notebook (not the really new flask notebook, nor the old new notebook, but the medium new separate sagenb notebook, I think).\n\n\nHow long should we wait then?  sagenb has existed at least since sage-4.2, released 25 october 2009 (almost 2 years ago).  I think that is sufficient time.",
    "created_at": "2011-06-23T13:15:15Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117489",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Replying to [kcrisman](#comment%3A15):
> Just as a comment, William made some reference at Sage Days 31 to a deprecation period and that these files were needed to enable people to migrate to the new notebook (not the really new flask notebook, nor the old new notebook, but the medium new separate sagenb notebook, I think).


How long should we wait then?  sagenb has existed at least since sage-4.2, released 25 october 2009 (almost 2 years ago).  I think that is sufficient time.



---

archive/issue_comments_117490.json:
```json
{
    "body": "<a id='comment:17'></a>\nThat long, eh?  \n\nAnyway, since he mentioned it, I figure it would be worth asking him, since he mentioned it.  Being a BDFL has its privileges :)  \n\nTo be fair, I don't feel like I can review this in any case; it would have to be someone pretty familiar with the mechanics of the change to sagenb.   But it would be really nice to take care of this, you are right.",
    "created_at": "2011-06-23T13:21:41Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117490",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>
That long, eh?  

Anyway, since he mentioned it, I figure it would be worth asking him, since he mentioned it.  Being a BDFL has its privileges :)  

To be fair, I don't feel like I can review this in any case; it would have to be someone pretty familiar with the mechanics of the change to sagenb.   But it would be really nice to take care of this, you are right.



---

archive/issue_comments_117491.json:
```json
{
    "body": "**Changing assignee** from @jasongrout to @jdemeyer.",
    "created_at": "2011-07-24T11:41:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117491",
    "user": "https://github.com/jdemeyer"
}
```

**Changing assignee** from @jasongrout to @jdemeyer.



---

archive/issue_comments_117492.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,18 +1,38 @@\n The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following files are from the old notebook and should be removed:\n-* `SAGE_ROOT/devel/sage/sage/server/introspect.py`\n-* `SAGE_ROOT/devel/sage/sage/server/notebook/*`\n-* `SAGE_ROOT/devel/sage/sage/server/simple/*`\n+* `$SAGE_ROOT/devel/sage/sage/server/introspect.py`\n+* `$SAGE_ROOT/devel/sage/sage/server/notebook/*`\n+* `$SAGE_ROOT/devel/sage/sage/server/simple/*`\n \n-The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these:\n-* `SAGE_ROOT/devel/sage/sage/server/misc.py`\n-* `SAGE_ROOT/devel/sage/sage/server/support.py`\n+The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these (but I have made them more uniform)\n+* `$SAGE_ROOT/devel/sage/sage/server/misc.py`\n+* `$SAGE_ROOT/devel/sage/sage/server/support.py`\n+\n+---\n \n **Apply**:\n-1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"`\n+1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are some `hg` problems with removing empty files.\n 2. [attachment:11409.patch]\n 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n \n+---\n+\n+After applying the patches, running sdist, and then make from scratch, I get the following results:\n+\n+```\n+$ cd $SAGE_ROOT\n+$ grep -e 'server.simple' -e 'server.notebook' -e 'server.introspect' -R .\n+Binary file ./devel/sage/.hg/store/data/doc/en/reference/notebook.rst.i matches\n+Binary file ./devel/sage/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches\n+Binary file ./devel/sage/.hg/store/00manifest.d matches\n+Binary file ./devel/sage-main/.hg/store/data/doc/en/reference/notebook.rst.i matches\n+Binary file ./devel/sage-main/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches\n+Binary file ./devel/sage-main/.hg/store/00manifest.d matches\n+./local/share/texmf/tex/generic/sagetex/remote-sagetex.dtx:% in \\texttt{sage/server/simple/twist.py}.\n+```\n+\n+This proves that the deleted files are no longer referenced (expect for a comment in SageTeX, this has been reported to Dan Drake).\n+\n+---\n+\n See also #9237, #9552.\n-\n-Testing Sage distribution: [http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/](http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/)\n``````\n",
    "created_at": "2011-07-24T11:41:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117492",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,18 +1,38 @@
 The old Sage notebook (as part of the Sage library) has been superseded by the sagenb spkg.  The following files are from the old notebook and should be removed:
-* `SAGE_ROOT/devel/sage/sage/server/introspect.py`
-* `SAGE_ROOT/devel/sage/sage/server/notebook/*`
-* `SAGE_ROOT/devel/sage/sage/server/simple/*`
+* `$SAGE_ROOT/devel/sage/sage/server/introspect.py`
+* `$SAGE_ROOT/devel/sage/sage/server/notebook/*`
+* `$SAGE_ROOT/devel/sage/sage/server/simple/*`
 
-The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these:
-* `SAGE_ROOT/devel/sage/sage/server/misc.py`
-* `SAGE_ROOT/devel/sage/sage/server/support.py`
+The following files are duplicated in sagenb but contain some functionality which is not specific to the notebook.  At the moment no effort is made to dis-entangle these (but I have made them more uniform)
+* `$SAGE_ROOT/devel/sage/sage/server/misc.py`
+* `$SAGE_ROOT/devel/sage/sage/server/support.py`
+
+---
 
 **Apply**:
-1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"`
+1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are some `hg` problems with removing empty files.
 2. [attachment:11409.patch]
 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
 
+---
+
+After applying the patches, running sdist, and then make from scratch, I get the following results:
+
+```
+$ cd $SAGE_ROOT
+$ grep -e 'server.simple' -e 'server.notebook' -e 'server.introspect' -R .
+Binary file ./devel/sage/.hg/store/data/doc/en/reference/notebook.rst.i matches
+Binary file ./devel/sage/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches
+Binary file ./devel/sage/.hg/store/00manifest.d matches
+Binary file ./devel/sage-main/.hg/store/data/doc/en/reference/notebook.rst.i matches
+Binary file ./devel/sage-main/.hg/store/data/_m_a_n_i_f_e_s_t.in.i matches
+Binary file ./devel/sage-main/.hg/store/00manifest.d matches
+./local/share/texmf/tex/generic/sagetex/remote-sagetex.dtx:% in \texttt{sage/server/simple/twist.py}.
+```
+
+This proves that the deleted files are no longer referenced (expect for a comment in SageTeX, this has been reported to Dan Drake).
+
+---
+
 See also #9237, #9552.
-
-Testing Sage distribution: [http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/](http://boxen.math.washington.edu/home/jdemeyer/release/sage-4.7.1.alpha2-remove-old-notebook/)
``````




---

archive/issue_events_089831.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-24T11:41:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89831"
}
```



---

archive/issue_events_089832.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-24T11:41:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89832"
}
```



---

archive/issue_events_089833.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-07-24T11:41:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89833"
}
```



---

archive/issue_comments_117493.json:
```json
{
    "body": "<a id='comment:19'></a>\nThis was mentioned on [sage-support](https://groups.google.com/d/topic/sage-support/o6jQfwSDI6k/discussion).",
    "created_at": "2011-12-25T07:34:43Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117493",
    "user": "https://github.com/kini"
}
```

<a id='comment:19'></a>
This was mentioned on [sage-support](https://groups.google.com/d/topic/sage-support/o6jQfwSDI6k/discussion).



---

archive/issue_comments_117494.json:
```json
{
    "body": "<a id='comment:20'></a>\nFrom [this sage-notebook thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/7e2e94cc66d63cbf/78e24a6e39d2e413?show_docid=78e24a6e39d2e413#):\n\n```\n\nMore importantly, it would be very useful if when we remove the code \nfrom devel/sage/sage/server that is needed to migrate, we include an \nerror message that says: \"Please migrate this Sage notebook server \ninstall by installing a version of Sage between 4.3 and 4.8, \ninclusive.\" \nIncidentally, I also plan to support the format of the sage notebook \nserver files from 4.3 indefinitely.  It doesn't involve any version \nspecific pickles, etc. \n -- William \n```\nSo I guess something here about this.",
    "created_at": "2012-02-10T18:18:07Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117494",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>
From [this sage-notebook thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/7e2e94cc66d63cbf/78e24a6e39d2e413?show_docid=78e24a6e39d2e413#):

```

More importantly, it would be very useful if when we remove the code 
from devel/sage/sage/server that is needed to migrate, we include an 
error message that says: "Please migrate this Sage notebook server 
install by installing a version of Sage between 4.3 and 4.8, 
inclusive." 
Incidentally, I also plan to support the format of the sage notebook 
server files from 4.3 indefinitely.  It doesn't involve any version 
specific pickles, etc. 
 -- William 
```
So I guess something here about this.



---

archive/issue_events_089834.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-10T18:18:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89834"
}
```



---

archive/issue_events_089835.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2012-02-10T18:18:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89835"
}
```



---

archive/issue_comments_117495.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -10,7 +10,7 @@\n ---\n \n **Apply**:\n-1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are some `hg` problems with removing empty files.\n+1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n 2. [attachment:11409.patch]\n 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n``````\n",
    "created_at": "2012-04-04T09:56:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117495",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -10,7 +10,7 @@
 ---
 
 **Apply**:
-1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are some `hg` problems with removing empty files.
+1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
 2. [attachment:11409.patch]
 3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
``````




---

archive/issue_comments_117496.json:
```json
{
    "body": "<a id='comment:22'></a>\nRebased [attachment:11409.patch]",
    "created_at": "2012-04-04T10:03:02Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117496",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Rebased [attachment:11409.patch]



---

archive/issue_comments_117497.json:
```json
{
    "body": "Misc changes",
    "created_at": "2012-04-09T20:19:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117497",
    "user": "https://github.com/jdemeyer"
}
```

Misc changes



---

archive/attachments_015014.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11409.patch",
    "asset_url": "tarball://root/attachments/ticket11409/11409.patch",
    "created_at": "2012-04-11T22:11:51Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/11409.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_117498.json:
```json
{
    "body": "<a id='comment:23'></a>\nAttachment [11409.patch](https://github.com/sagemath/sage/files/ticket11409/11409.patch) by @jhpalmieri created at 2012-04-11 22:11:51\n\nReplying to [kcrisman](#comment%3A20):\n> From [this sage-notebook thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/7e2e94cc66d63cbf/78e24a6e39d2e413?show_docid=78e24a6e39d2e413#):\n> \n> ```\n> \n> More importantly, it would be very useful if when we remove the code \n> from devel/sage/sage/server that is needed to migrate, we include an \n> error message that says: \"Please migrate this Sage notebook server \n> install by installing a version of Sage between 4.3 and 4.8, \n> inclusive.\" \n> Incidentally, I also plan to support the format of the sage notebook \n> server files from 4.3 indefinitely.  It doesn't involve any version \n> specific pickles, etc. \n>  -- William \n> ```\n> So I guess something here about this.\n\n\nI'm not clear on what is required. Where would this error message appear? During an upgrade, or when running Sage? Or should we just add something to the top-level README file?",
    "created_at": "2012-04-11T22:11:51Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117498",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
Attachment [11409.patch](https://github.com/sagemath/sage/files/ticket11409/11409.patch) by @jhpalmieri created at 2012-04-11 22:11:51

Replying to [kcrisman](#comment%3A20):
> From [this sage-notebook thread](http://groups.google.com/group/sage-notebook/browse_thread/thread/7e2e94cc66d63cbf/78e24a6e39d2e413?show_docid=78e24a6e39d2e413#):
> 
> ```
> 
> More importantly, it would be very useful if when we remove the code 
> from devel/sage/sage/server that is needed to migrate, we include an 
> error message that says: "Please migrate this Sage notebook server 
> install by installing a version of Sage between 4.3 and 4.8, 
> inclusive." 
> Incidentally, I also plan to support the format of the sage notebook 
> server files from 4.3 indefinitely.  It doesn't involve any version 
> specific pickles, etc. 
>  -- William 
> ```
> So I guess something here about this.


I'm not clear on what is required. Where would this error message appear? During an upgrade, or when running Sage? Or should we just add something to the top-level README file?



---

archive/issue_comments_117499.json:
```json
{
    "body": "<a id='comment:24'></a>\nI would imagine ideally on an upgrade (that is, attempting to use a too-new Sage with too-old notebook files) it would \"detect\" super-old notebook files somehow, perhaps because they ask to use these files?  The readme might be too subtle of a solution.",
    "created_at": "2012-04-12T02:11:26Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117499",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:24'></a>
I would imagine ideally on an upgrade (that is, attempting to use a too-new Sage with too-old notebook files) it would "detect" super-old notebook files somehow, perhaps because they ask to use these files?  The readme might be too subtle of a solution.



---

archive/issue_comments_117500.json:
```json
{
    "body": "<a id='comment:25'></a>\nI think we should support the following situation:\n1. User has old version sage-x.y.z on his own laptop, runs Sage using the notebook interface.\n2. His worksheets are stored in `$DOT_SAGE`.\n3. He upgrades Sage to version 5.1 (either by `sage -upgrade` or just reinstalling from scratch).\n4. He starts up the new notebook.\n5. He finds his worksheets are still there.  Maybe some of his old code doesn't work anymore, but at least it should be there.\n\nWe should support this for as old versions as possible.",
    "created_at": "2012-04-12T06:27:50Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117500",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>
I think we should support the following situation:
1. User has old version sage-x.y.z on his own laptop, runs Sage using the notebook interface.
2. His worksheets are stored in `$DOT_SAGE`.
3. He upgrades Sage to version 5.1 (either by `sage -upgrade` or just reinstalling from scratch).
4. He starts up the new notebook.
5. He finds his worksheets are still there.  Maybe some of his old code doesn't work anymore, but at least it should be there.

We should support this for as old versions as possible.



---

archive/issue_comments_117501.json:
```json
{
    "body": "<a id='comment:26'></a>\nAnother thing is opening `.sws` files, but William said that the format for these hasn't changed since long.  So that should be less of a worry.",
    "created_at": "2012-04-12T06:28:38Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117501",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:26'></a>
Another thing is opening `.sws` files, but William said that the format for these hasn't changed since long.  So that should be less of a worry.



---

archive/issue_comments_117502.json:
```json
{
    "body": "<a id='comment:27'></a>\n[See William's comment.](https://groups.google.com/d/topic/sage-devel/DZQuFd8Vb38/discussion) Shall we just delete the code now?",
    "created_at": "2012-11-13T20:03:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117502",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:27'></a>
[See William's comment.](https://groups.google.com/d/topic/sage-devel/DZQuFd8Vb38/discussion) Shall we just delete the code now?



---

archive/issue_comments_117503.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [jhpalmieri](#comment%3A27):\n> [See William's comment.](https://groups.google.com/d/topic/sage-devel/DZQuFd8Vb38/discussion) Shall we just delete the code now?\n\n\nYes!",
    "created_at": "2012-11-14T15:33:40Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117503",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:28'></a>
Replying to [jhpalmieri](#comment%3A27):
> [See William's comment.](https://groups.google.com/d/topic/sage-devel/DZQuFd8Vb38/discussion) Shall we just delete the code now?


Yes!



---

archive/issue_comments_117504.json:
```json
{
    "body": "<a id='comment:29'></a>\nReplying to [was](#comment%3A28):\n> Replying to [jhpalmieri](#comment%3A27):\n> > [See William's comment.](https://groups.google.com/d/topic/sage-devel/DZQuFd8Vb38/discussion) Shall we just delete the code now?\n\n> \n> Yes!\n\nI see a recursion here. ;)",
    "created_at": "2012-11-14T16:14:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117504",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:29'></a>
Replying to [was](#comment%3A28):
> Replying to [jhpalmieri](#comment%3A27):
> > [See William's comment.](https://groups.google.com/d/topic/sage-devel/DZQuFd8Vb38/discussion) Shall we just delete the code now?

> 
> Yes!

I see a recursion here. ;)



---

archive/attachments_015015.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11409-rebased.patch",
    "asset_url": "tarball://root/attachments/ticket11409/trac_11409-rebased.patch",
    "created_at": "2012-12-06T02:46:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/trac_11409-rebased.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_117505.json:
```json
{
    "body": "Attachment [trac_11409-rebased.patch](https://github.com/sagemath/sage/files/ticket11409/trac_11409-rebased.patch) by @jhpalmieri created at 2012-12-06 02:46:59\n\nrebased version of \"11409.patch\"",
    "created_at": "2012-12-06T02:46:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117505",
    "user": "https://github.com/jhpalmieri"
}
```

Attachment [trac_11409-rebased.patch](https://github.com/sagemath/sage/files/ticket11409/trac_11409-rebased.patch) by @jhpalmieri created at 2012-12-06 02:46:59

rebased version of "11409.patch"



---

archive/issue_comments_117506.json:
```json
{
    "body": "modification of 11409_scripts.patch",
    "created_at": "2012-12-06T02:47:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117506",
    "user": "https://github.com/jhpalmieri"
}
```

modification of 11409_scripts.patch



---

archive/issue_comments_117507.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,8 +11,8 @@\n \n **Apply**:\n 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n-2. [attachment:11409.patch]\n-3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*\n+2. [attachment:trac_11409.patch]\n+3. [attachment:trac_11409-scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n \n ---\n``````\n",
    "created_at": "2012-12-06T02:48:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117507",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,8 +11,8 @@
 
 **Apply**:
 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
-2. [attachment:11409.patch]
-3. [attachment:11409_scripts.patch] to the scripts repository *local/bin*
+2. [attachment:trac_11409.patch]
+3. [attachment:trac_11409-scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
 
 ---
``````




---

archive/attachments_015016.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11409-scripts.patch",
    "asset_url": "tarball://root/attachments/ticket11409/trac_11409-scripts.patch",
    "created_at": "2012-12-06T02:48:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/trac_11409-scripts.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_117508.json:
```json
{
    "body": "<a id='comment:30'></a>\nAttachment [trac_11409-scripts.patch](https://github.com/sagemath/sage/files/ticket11409/trac_11409-scripts.patch) by @jhpalmieri created at 2012-12-06 02:48:24\n\nI had to modify [attachment:11409_scripts.patch] to get `sage -n` to work.",
    "created_at": "2012-12-06T02:48:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117508",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:30'></a>
Attachment [trac_11409-scripts.patch](https://github.com/sagemath/sage/files/ticket11409/trac_11409-scripts.patch) by @jhpalmieri created at 2012-12-06 02:48:24

I had to modify [attachment:11409_scripts.patch] to get `sage -n` to work.



---

archive/issue_events_089836.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-12-06T02:49:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89836"
}
```



---

archive/issue_events_089837.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2012-12-06T02:49:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89837"
}
```



---

archive/issue_comments_117509.json:
```json
{
    "body": "<a id='comment:31'></a>\nGiven William's comment, I am marking this as \"needs review\".",
    "created_at": "2012-12-06T02:49:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117509",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:31'></a>
Given William's comment, I am marking this as "needs review".



---

archive/issue_comments_117510.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n \n **Apply**:\n 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n-2. [attachment:trac_11409.patch]\n+2. [attachment:trac_11409-rebased.patch]\n 3. [attachment:trac_11409-scripts.patch] to the scripts repository *local/bin*\n 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n \n``````\n",
    "created_at": "2012-12-06T20:37:42Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117510",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 
 **Apply**:
 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
-2. [attachment:trac_11409.patch]
+2. [attachment:trac_11409-rebased.patch]
 3. [attachment:trac_11409-scripts.patch] to the scripts repository *local/bin*
 4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
 
``````




---

archive/issue_comments_117511.json:
```json
{
    "body": "<a id='comment:33'></a>\nI have created a [pull request](https://github.com/sagemath/sagenb/pull/121) for the sagenb changes.",
    "created_at": "2012-12-06T21:24:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117511",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:33'></a>
I have created a [pull request](https://github.com/sagemath/sagenb/pull/121) for the sagenb changes.



---

archive/issue_comments_117512.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,8 +12,7 @@\n **Apply**:\n 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n 2. [attachment:trac_11409-rebased.patch]\n-3. [attachment:trac_11409-scripts.patch] to the scripts repository *local/bin*\n-4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n+3. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n \n ---\n \n``````\n",
    "created_at": "2012-12-08T05:45:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117512",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,8 +12,7 @@
 **Apply**:
 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
 2. [attachment:trac_11409-rebased.patch]
-3. [attachment:trac_11409-scripts.patch] to the scripts repository *local/bin*
-4. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
+3. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
 
 ---
 
``````




---

archive/issue_comments_117513.json:
```json
{
    "body": "**Dependencies:** #13794",
    "created_at": "2012-12-08T05:45:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117513",
    "user": "https://github.com/jhpalmieri"
}
```

**Dependencies:** #13794



---

archive/issue_comments_117514.json:
```json
{
    "body": "<a id='comment:34'></a>\nI moved the scripts patch to #13794 and made that ticket a prerequisite for this one.",
    "created_at": "2012-12-08T05:45:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117514",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:34'></a>
I moved the scripts patch to #13794 and made that ticket a prerequisite for this one.



---

archive/issue_comments_117515.json:
```json
{
    "body": "<a id='comment:35'></a>\nThe patches (except the sagenb patch which doesn't apply to sagenb-main in 5.5rc0) + the changes in the pull request work. I tested interacts, plots, jmol and all of them are working.",
    "created_at": "2012-12-08T06:08:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117515",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:35'></a>
The patches (except the sagenb patch which doesn't apply to sagenb-main in 5.5rc0) + the changes in the pull request work. I tested interacts, plots, jmol and all of them are working.



---

archive/issue_comments_117516.json:
```json
{
    "body": "<a id='comment:36'></a>\nppurka: So, positive review? If so, I'll merge jhpalmieri's pull request and include it in #14330.",
    "created_at": "2013-03-22T02:53:25Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117516",
    "user": "https://github.com/kini"
}
```

<a id='comment:36'></a>
ppurka: So, positive review? If so, I'll merge jhpalmieri's pull request and include it in #14330.



---

archive/issue_comments_117517.json:
```json
{
    "body": "<a id='comment:37'></a>\nIt *was* positive review from me a couple of months ago. I will check it again later today to see that nothing is broken.",
    "created_at": "2013-03-22T03:03:18Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117517",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:37'></a>
It *was* positive review from me a couple of months ago. I will check it again later today to see that nothing is broken.



---

archive/issue_comments_117518.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,7 +12,6 @@\n **Apply**:\n 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n 2. [attachment:trac_11409-rebased.patch]\n-3. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*\n \n ---\n \n``````\n",
    "created_at": "2013-04-02T21:19:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117518",
    "user": "https://github.com/ohanar"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,7 +12,6 @@
 **Apply**:
 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
 2. [attachment:trac_11409-rebased.patch]
-3. [attachment:11409_sagenb.patch] to the sagenb repository *devel/sagenb*
 
 ---
 
``````




---

archive/issue_comments_117519.json:
```json
{
    "body": "**Changing dependencies** from \"#13794\" to \"#13794, #14330\".",
    "created_at": "2013-04-02T21:19:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117519",
    "user": "https://github.com/ohanar"
}
```

**Changing dependencies** from "#13794" to "#13794, #14330".



---

archive/issue_events_089838.json:
```json
{
    "actor": "https://github.com/ohanar",
    "created_at": "2013-04-02T21:19:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "critical",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89838"
}
```



---

archive/issue_comments_117520.json:
```json
{
    "body": "<a id='comment:39'></a>\nNote that jhpalmieri's pull request was indeed merged and might even be in Sage now, I think.",
    "created_at": "2013-06-11T16:55:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117520",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:39'></a>
Note that jhpalmieri's pull request was indeed merged and might even be in Sage now, I think.



---

archive/issue_events_089839.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "milestone": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89839"
}
```



---

archive/issue_events_089840.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89840"
}
```



---

archive/issue_comments_117521.json:
```json
{
    "body": "rebased on 5.12.beta4",
    "created_at": "2013-09-08T07:34:42Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117521",
    "user": "https://github.com/fchapoton"
}
```

rebased on 5.12.beta4



---

archive/issue_comments_117522.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,7 +11,7 @@\n \n **Apply**:\n 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n-2. [attachment:trac_11409-rebased.patch]\n+2. [attachment:trac_11409-rebased-v2.patch]\n \n ---\n \n``````\n",
    "created_at": "2013-09-08T07:36:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117522",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,7 +11,7 @@
 
 **Apply**:
 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
-2. [attachment:trac_11409-rebased.patch]
+2. [attachment:trac_11409-rebased-v2.patch]
 
 ---
 
``````




---

archive/attachments_015017.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11409-rebased-v2.patch",
    "asset_url": "tarball://root/attachments/ticket11409/trac_11409-rebased-v2.patch",
    "created_at": "2013-09-08T07:36:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/trac_11409-rebased-v2.patch",
    "user": "https://github.com/fchapoton"
}
```



---

archive/issue_comments_117523.json:
```json
{
    "body": "<a id='comment:41'></a>\nAttachment [trac_11409-rebased-v2.patch](https://github.com/sagemath/sage/files/ticket11409/trac_11409-rebased-v2.patch) by @fchapoton created at 2013-09-08 07:36:05\n\nI have rebased the patch on 5.12.beta4\n\nI had also to put back the import of alarm and cancel_alarm in server/misc.py\n\nfor the bot: apply only trac_11409-rebased-v2.patch",
    "created_at": "2013-09-08T07:36:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117523",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>
Attachment [trac_11409-rebased-v2.patch](https://github.com/sagemath/sage/files/ticket11409/trac_11409-rebased-v2.patch) by @fchapoton created at 2013-09-08 07:36:05

I have rebased the patch on 5.12.beta4

I had also to put back the import of alarm and cancel_alarm in server/misc.py

for the bot: apply only trac_11409-rebased-v2.patch



---

archive/issue_comments_117524.json:
```json
{
    "body": "<a id='comment:42'></a>\napply only trac_11409-rebased-v2.patch",
    "created_at": "2013-09-15T07:52:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117524",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:42'></a>
apply only trac_11409-rebased-v2.patch



---

archive/issue_comments_117525.json:
```json
{
    "body": "<a id='comment:43'></a>\nhello, the bot is green, so there is an opportunity to review this now !",
    "created_at": "2013-10-19T12:41:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117525",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:43'></a>
hello, the bot is green, so there is an opportunity to review this now !



---

archive/issue_comments_117526.json:
```json
{
    "body": "**Reviewer:** Punarbasu Purkayastha",
    "created_at": "2013-10-28T11:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117526",
    "user": "https://github.com/ppurka"
}
```

**Reviewer:** Punarbasu Purkayastha



---

archive/issue_events_089841.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-10-28T11:31:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89841"
}
```



---

archive/issue_events_089842.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-10-28T11:31:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89842"
}
```



---

archive/issue_comments_117527.json:
```json
{
    "body": "<a id='comment:44'></a>\nThis looks fine to me. Irrespective of what the bot says, it applies just fine to 5.13.beta1. I tested 3D plots, 2D plots, debug() functionality, and interacts, and they are all working.",
    "created_at": "2013-10-28T11:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117527",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:44'></a>
This looks fine to me. Irrespective of what the bot says, it applies just fine to 5.13.beta1. I tested 3D plots, 2D plots, debug() functionality, and interacts, and they are all working.



---

archive/attachments_015018.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11409_doctest.patch",
    "asset_url": "tarball://root/attachments/ticket11409/11409_doctest.patch",
    "created_at": "2013-10-28T22:21:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11409/11409_doctest.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_117528.json:
```json
{
    "body": "Attachment [11409_doctest.patch](https://github.com/sagemath/sage/files/ticket11409/11409_doctest.patch) by @jdemeyer created at 2013-10-28 22:21:27",
    "created_at": "2013-10-28T22:21:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117528",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [11409_doctest.patch](https://github.com/sagemath/sage/files/ticket11409/11409_doctest.patch) by @jdemeyer created at 2013-10-28 22:21:27



---

archive/issue_comments_117529.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -12,6 +12,7 @@\n **Apply**:\n 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\"` # I prefer this shell command to a patch because there are no chances of a merge conflict\n 2. [attachment:trac_11409-rebased-v2.patch]\n+3. [attachment:11409_doctest.patch]\n \n ---\n \n``````\n",
    "created_at": "2013-10-28T22:21:53Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117529",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -12,6 +12,7 @@
 **Apply**:
 1. `cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files"` # I prefer this shell command to a patch because there are no chances of a merge conflict
 2. [attachment:trac_11409-rebased-v2.patch]
+3. [attachment:11409_doctest.patch]
 
 ---
 
``````




---

archive/issue_events_089843.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-28T22:21:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89843"
}
```



---

archive/issue_events_089844.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-28T22:21:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89844"
}
```



---

archive/issue_comments_117530.json:
```json
{
    "body": "<a id='comment:46'></a>\nWhy didn't the patchbot catch this error earlier? I had only a laptop to run all doctests, so I was expecting the patchbot to report any such problems.",
    "created_at": "2013-10-29T00:05:29Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117530",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:46'></a>
Why didn't the patchbot catch this error earlier? I had only a laptop to run all doctests, so I was expecting the patchbot to report any such problems.



---

archive/issue_comments_117531.json:
```json
{
    "body": "<a id='comment:47'></a>\nReplying to [ppurka](#comment%3A46):\n> Why didn't the patchbot catch this error earlier? I had only a laptop to run all doctests, so I was expecting the patchbot to report any such problems.\n\nI guess the patchbot doesn't understand the \"apply\" instruction\n\n```\ncd sage/server && hg remove introspect.py notebook simple && hg commit -m \"Trac #11409: Remove old notebook files\n```",
    "created_at": "2013-10-29T11:12:31Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117531",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:47'></a>
Replying to [ppurka](#comment%3A46):
> Why didn't the patchbot catch this error earlier? I had only a laptop to run all doctests, so I was expecting the patchbot to report any such problems.

I guess the patchbot doesn't understand the "apply" instruction

```
cd sage/server && hg remove introspect.py notebook simple && hg commit -m "Trac #11409: Remove old notebook files
```



---

archive/issue_comments_117532.json:
```json
{
    "body": "<a id='comment:48'></a>\nSorry, the new patch actually introduces the doctest failure. I still get the old result in my copy of 5.13.beta1.",
    "created_at": "2013-10-29T11:14:06Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117532",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:48'></a>
Sorry, the new patch actually introduces the doctest failure. I still get the old result in my copy of 5.13.beta1.



---

archive/issue_comments_117533.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [ppurka](#comment%3A48):\n> I still get the old result in my copy of 5.13.beta1.\n\nDid you actually **remove** the old notebook files?",
    "created_at": "2013-10-29T11:16:43Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117533",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:49'></a>
Replying to [ppurka](#comment%3A48):
> I still get the old result in my copy of 5.13.beta1.

Did you actually **remove** the old notebook files?



---

archive/issue_comments_117534.json:
```json
{
    "body": "<a id='comment:50'></a>\nReplying to [jdemeyer](#comment%3A49):\n> Did you actually **remove** the old notebook files?\n\nThanks! I rechecked everything in the notebook after trying this. It works fine, and also doctests fine.",
    "created_at": "2013-10-29T12:00:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117534",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:50'></a>
Replying to [jdemeyer](#comment%3A49):
> Did you actually **remove** the old notebook files?

Thanks! I rechecked everything in the notebook after trying this. It works fine, and also doctests fine.



---

archive/issue_events_089845.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-10-29T12:00:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89845"
}
```



---

archive/issue_events_089846.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-10-29T12:00:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89846"
}
```



---

archive/issue_comments_117535.json:
```json
{
    "body": "**Changing reviewer** from \"Punarbasu Purkayastha\" to \"Fr\u00e9d\u00e9ric Chapoton, Punarbasu Purkayastha\".",
    "created_at": "2013-10-29T12:01:02Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117535",
    "user": "https://github.com/ppurka"
}
```

**Changing reviewer** from "Punarbasu Purkayastha" to "Frédéric Chapoton, Punarbasu Purkayastha".



---

archive/issue_comments_117536.json:
```json
{
    "body": "**Merged:** sage-5.13.beta2",
    "created_at": "2013-10-31T19:15:55Z",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11409#issuecomment-117536",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.13.beta2



---

archive/issue_events_089847.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-31T19:15:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89847"
}
```



---

archive/issue_events_089848.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-10-31T19:15:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11409",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11409#event-89848"
}
```
