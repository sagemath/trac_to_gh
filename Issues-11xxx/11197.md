# Issue 11197: Make spkg docs be built and installed after the full build

archive/issues_011027.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nFollowing on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.\n\nFrom Dan's message to sage-devel:\n\n> How about, in addition to spkg-install and spkg-check, we have spkg-install-docs? We would move the logic that checks the SAGE_SPKG_INSTALL_DOCS variable to the build/install script, which would run the script if the env var is set. This would also allow the build process to determine if a spkg has documentation that can be built, using something roughly like tar jtf foo.spkg | grep spkg-install-docs\n\n> As a data point, doing that for all spkgs in 4.7.alpha4 (except the Sage library, which we handle separately) takes about 70 seconds on a mildly-loaded sagenb.kaist.ac.kr, which is an 8-core Xeon machine.\n\nSee http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823\n\nHere are a few updated spkgs:\n\n* numpy: #10826\n* cython: #10827\n* matplotlib: #10828\n* mpmath: #10829\n* pari: #10830\n* gap: #11198\n* python: #10831\n* sagetex: #10908\n\n---\n\nApply either \n\n- [attachment: trac_11197-spkg-install-docs.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.patch.gz) (builds docs if environment variable SAGE_SPKG_INSTALL_DOCS is \"yes\"), or \n\n- [attachment: trac_11197-spkg-install-docs.v2.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.v2.patch.gz) (adds target \"spkg-doc\" to Makefile)\n\n\nCC:  @dandrake\n\nComponent: **build**\n\nKeywords: **sd32**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11197_\n\n",
    "closed_at": "2021-12-03T18:41:01Z",
    "created_at": "2011-04-14T13:50:46Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make spkg docs be built and installed after the full build",
    "type": "issue",
    "updated_at": "2021-12-03T18:41:01Z",
    "url": "https://github.com/sagemath/sage/issues/11197",
    "user": "https://github.com/jasongrout"
}
```
<div id="comment:0"></div>

Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.

From Dan's message to sage-devel:

> How about, in addition to spkg-install and spkg-check, we have spkg-install-docs? We would move the logic that checks the SAGE_SPKG_INSTALL_DOCS variable to the build/install script, which would run the script if the env var is set. This would also allow the build process to determine if a spkg has documentation that can be built, using something roughly like tar jtf foo.spkg | grep spkg-install-docs

> As a data point, doing that for all spkgs in 4.7.alpha4 (except the Sage library, which we handle separately) takes about 70 seconds on a mildly-loaded sagenb.kaist.ac.kr, which is an 8-core Xeon machine.

See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823

Here are a few updated spkgs:

* numpy: #10826
* cython: #10827
* matplotlib: #10828
* mpmath: #10829
* pari: #10830
* gap: #11198
* python: #10831
* sagetex: #10908

---

Apply either 

- [attachment: trac_11197-spkg-install-docs.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.patch.gz) (builds docs if environment variable SAGE_SPKG_INSTALL_DOCS is "yes"), or 

- [attachment: trac_11197-spkg-install-docs.v2.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.v2.patch.gz) (adds target "spkg-doc" to Makefile)


CC:  @dandrake

Component: **build**

Keywords: **sd32**

_Issue created by migration from https://trac.sagemath.org/ticket/11197_





---

archive/issue_events_146753.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-04-14T13:50:46Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146753"
}
```



---

archive/issue_events_146754.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-04-14T13:50:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146754"
}
```



---

archive/issue_events_146755.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-04-14T13:50:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146755"
}
```



---

archive/issue_events_146756.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2011-04-14T13:50:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146756"
}
```



---

archive/issue_comments_111687.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n-Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10828, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.\n+Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.\n \n See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823\n``````\n",
    "created_at": "2011-04-14T13:51:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111687",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
-Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10828, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.
+Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.
 
 See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823
``````




---

archive/issue_comments_111688.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.\n \n See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823\n+\n+Here are a few updated spkgs:\n+\n+* numpy: #10826\n+* cython: #10827\n+* matplotlib: #10828\n+* mpmath: #10829\n+* pari: #10830\n+* gap: #10825\n+* python: #10831\n+* sagetex: #10908\n``````\n",
    "created_at": "2011-04-14T13:55:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111688",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,14 @@
 Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.
 
 See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823
+
+Here are a few updated spkgs:
+
+* numpy: #10826
+* cython: #10827
+* matplotlib: #10828
+* mpmath: #10829
+* pari: #10830
+* gap: #10825
+* python: #10831
+* sagetex: #10908
``````




---

archive/issue_comments_111689.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,6 @@\n * matplotlib: #10828\n * mpmath: #10829\n * pari: #10830\n-* gap: #10825\n+* gap: #11198\n * python: #10831\n * sagetex: #10908\n``````\n",
    "created_at": "2011-04-14T13:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111689",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,6 @@
 * matplotlib: #10828
 * mpmath: #10829
 * pari: #10830
-* gap: #10825
+* gap: #11198
 * python: #10831
 * sagetex: #10908
``````




---

archive/issue_comments_111690.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,12 @@\n Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.\n+\n+From Dan's message to sage-devel:\n+\n+> How about, in addition to spkg-install and spkg-check, we have spkg-install-docs? We would move the logic that checks the SAGE_SPKG_INSTALL_DOCS variable to the build/install script, which would run the script if the env var is set. This would also allow the build process to determine if a spkg has documentation that can be built, using something roughly like tar jtf foo.spkg | grep spkg-install-docs\n+\n+> As a data point, doing that for all spkgs in 4.7.alpha4 (except the Sage library, which we handle separately) takes about 70 seconds on a mildly-loaded sagenb.kaist.ac.kr, which is an 8-core Xeon machine.\n+\n+\n \n See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823\n \n``````\n",
    "created_at": "2011-04-14T14:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111690",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,12 @@
 Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823, here is a ticket for reimplementing #10823 so that docs are built after the full Sage build.  In this way, spkg docs are built when the normal Sage docs are built, and we don't have any worries about having python or sphinx or other dependencies installed.
+
+From Dan's message to sage-devel:
+
+> How about, in addition to spkg-install and spkg-check, we have spkg-install-docs? We would move the logic that checks the SAGE_SPKG_INSTALL_DOCS variable to the build/install script, which would run the script if the env var is set. This would also allow the build process to determine if a spkg has documentation that can be built, using something roughly like tar jtf foo.spkg | grep spkg-install-docs
+
+> As a data point, doing that for all spkgs in 4.7.alpha4 (except the Sage library, which we handle separately) takes about 70 seconds on a mildly-loaded sagenb.kaist.ac.kr, which is an 8-core Xeon machine.
+
+
 
 See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823
 
``````




---

archive/issue_comments_111691.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHere's a patch for the Sage root repo (the file spkg/install).  This should perhaps be considered a first draft, because there are a few issues/questions.\n\n- Right now, it records a log for the docbuilding in spkg/logs/numpy-1.5.1.p0-docs.log, for example, instead of just appending to the already existing spkg/logs/numpy-1.5.1.p0.log.  It's easy enough to switch it around.  Opinions?\n\n- Right now, it stores a placeholder file in spkg/installed if the docs seem to have been built correctly.  (Since after building each spkg, we delete the directory where it was built (spkg/build/numpy-...), we can't just rely on 'make' recognizing that it's already been installed, I think.)  Is this the right way to do it?\n\nA few things which I think belong on other tickets or which I don't know how to solve:\n\n- With the approach here, running \"sage -i ...\" or \"sage -f ...\" won't install the docs.  Should we add something to the sage-spkg script which tries to build the docs if SAGE_SPKG_INSTALL_DOCS is \"yes\", but fails gracefully if it can't?  Or only build the docs in sage-spkg if we can tell that the Sage library has already been installed, or some other criterion like this?  This may end up with some code duplication, or separating out the doc-building stuff into a separate script (and then gets us entangled in the base repo vs. scripts repo debate...).\n\n- I noticed that the most recent cython spkg (the one in 4.7.alpha4) has files for building the docs, at least some of which weren't added to the Mercurial repository.  I haven't checked the other spkgs for this sort of issue, but someone should...",
    "created_at": "2011-04-14T22:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111691",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

Here's a patch for the Sage root repo (the file spkg/install).  This should perhaps be considered a first draft, because there are a few issues/questions.

- Right now, it records a log for the docbuilding in spkg/logs/numpy-1.5.1.p0-docs.log, for example, instead of just appending to the already existing spkg/logs/numpy-1.5.1.p0.log.  It's easy enough to switch it around.  Opinions?

- Right now, it stores a placeholder file in spkg/installed if the docs seem to have been built correctly.  (Since after building each spkg, we delete the directory where it was built (spkg/build/numpy-...), we can't just rely on 'make' recognizing that it's already been installed, I think.)  Is this the right way to do it?

A few things which I think belong on other tickets or which I don't know how to solve:

- With the approach here, running "sage -i ..." or "sage -f ..." won't install the docs.  Should we add something to the sage-spkg script which tries to build the docs if SAGE_SPKG_INSTALL_DOCS is "yes", but fails gracefully if it can't?  Or only build the docs in sage-spkg if we can tell that the Sage library has already been installed, or some other criterion like this?  This may end up with some code duplication, or separating out the doc-building stuff into a separate script (and then gets us entangled in the base repo vs. scripts repo debate...).

- I noticed that the most recent cython spkg (the one in 4.7.alpha4) has files for building the docs, at least some of which weren't added to the Mercurial repository.  I haven't checked the other spkgs for this sort of issue, but someone should...



---

archive/issue_comments_111692.json:
```json
{
    "body": "Author: **John Palmieri**",
    "created_at": "2011-04-14T22:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111692",
    "user": "https://github.com/jhpalmieri"
}
```

Author: **John Palmieri**



---

archive/issue_events_146757.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-14T22:14:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146757"
}
```



---

archive/issue_comments_111693.json:
```json
{
    "body": "root repo",
    "created_at": "2011-04-14T22:14:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111693",
    "user": "https://github.com/jhpalmieri"
}
```

root repo



---

archive/issue_comments_111694.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,8 +5,6 @@\n > How about, in addition to spkg-install and spkg-check, we have spkg-install-docs? We would move the logic that checks the SAGE_SPKG_INSTALL_DOCS variable to the build/install script, which would run the script if the env var is set. This would also allow the build process to determine if a spkg has documentation that can be built, using something roughly like tar jtf foo.spkg | grep spkg-install-docs\n \n > As a data point, doing that for all spkgs in 4.7.alpha4 (except the Sage library, which we handle separately) takes about 70 seconds on a mildly-loaded sagenb.kaist.ac.kr, which is an 8-core Xeon machine.\n-\n-\n \n See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823\n \n``````\n",
    "created_at": "2011-04-14T22:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111694",
    "user": "https://github.com/jasongrout"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,8 +5,6 @@
 > How about, in addition to spkg-install and spkg-check, we have spkg-install-docs? We would move the logic that checks the SAGE_SPKG_INSTALL_DOCS variable to the build/install script, which would run the script if the env var is set. This would also allow the build process to determine if a spkg has documentation that can be built, using something roughly like tar jtf foo.spkg | grep spkg-install-docs
 
 > As a data point, doing that for all spkgs in 4.7.alpha4 (except the Sage library, which we handle separately) takes about 70 seconds on a mildly-loaded sagenb.kaist.ac.kr, which is an 8-core Xeon machine.
-
-
 
 See http://groups.google.com/group/sage-devel/browse_thread/thread/d46ddccff06d8670 and various tickets associated with #10823
 
``````




---

archive/issue_comments_111695.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nAttachment: **[trac_11197-spkg-install-docs.patch.gz](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.patch.gz)**\n\nReplying to [@jhpalmieri](#comment%3A6):\n\n> Here's a patch for the Sage root repo (the file spkg/install).  This should perhaps be considered a first draft, because there are a few issues/questions. - Right now, it records a log for the docbuilding in spkg/logs/numpy-1.5.1.p0-docs.log, for example, instead of just appending to the already existing spkg/logs/numpy-1.5.1.p0.log.  It's easy enough to switch it around.  Opinions? \n\n> - Right now, it stores a placeholder file in spkg/installed if the docs seem to have been built correctly.  (Since after building each spkg, we delete the directory where it was built (spkg/build/numpy-...), we can't just rely on 'make' recognizing that it's already been installed, I think.)  Is this the right way to do it? A few things which I think belong on other tickets or which I don't know how to solve: \n\nTo me, it seems okay to think about the docs install as a separate thing from the spkg install, so it makes sense to me to have a separate log file and separate placeholder file.  I don't know much about this part of the build process, though, so my +1 doesn't count for much.\n\n\n> - With the approach here, running \"sage -i ...\" or \"sage -f ...\" won't install the docs.  Should we add something to the sage-spkg script which tries to build the docs if SAGE_SPKG_INSTALL_DOCS is \"yes\", but fails gracefully if it can't?  Or only build the docs in sage-spkg if we can tell that the Sage library has already been installed, or some other criterion like this?  This may end up with some code duplication, or separating out the doc-building stuff into a separate script (and then gets us entangled in the base repo vs. scripts repo debate...). \n\nHmm...thinking about this one still...\n\n> - I noticed that the most recent cython spkg (the one in 4.7.alpha4) has files for building the docs, at least some of which weren't added to the Mercurial repository.  I haven't checked the other spkgs for this sort of issue, but someone should...\n\nAre you talking about the docs directory containing the documentation?  That directory is part of the upstream source, so shouldn't be in the spkg repository.  However, as of a week or two ago, that docs directory has been merged into the main Cython source tree, so future versions of the spkg will not have that docs directory.",
    "created_at": "2011-04-14T22:34:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111695",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:7" align="right">comment:7</div>

Attachment: **[trac_11197-spkg-install-docs.patch.gz](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.patch.gz)**

Replying to [@jhpalmieri](#comment%3A6):

> Here's a patch for the Sage root repo (the file spkg/install).  This should perhaps be considered a first draft, because there are a few issues/questions. - Right now, it records a log for the docbuilding in spkg/logs/numpy-1.5.1.p0-docs.log, for example, instead of just appending to the already existing spkg/logs/numpy-1.5.1.p0.log.  It's easy enough to switch it around.  Opinions? 

> - Right now, it stores a placeholder file in spkg/installed if the docs seem to have been built correctly.  (Since after building each spkg, we delete the directory where it was built (spkg/build/numpy-...), we can't just rely on 'make' recognizing that it's already been installed, I think.)  Is this the right way to do it? A few things which I think belong on other tickets or which I don't know how to solve: 

To me, it seems okay to think about the docs install as a separate thing from the spkg install, so it makes sense to me to have a separate log file and separate placeholder file.  I don't know much about this part of the build process, though, so my +1 doesn't count for much.


> - With the approach here, running "sage -i ..." or "sage -f ..." won't install the docs.  Should we add something to the sage-spkg script which tries to build the docs if SAGE_SPKG_INSTALL_DOCS is "yes", but fails gracefully if it can't?  Or only build the docs in sage-spkg if we can tell that the Sage library has already been installed, or some other criterion like this?  This may end up with some code duplication, or separating out the doc-building stuff into a separate script (and then gets us entangled in the base repo vs. scripts repo debate...). 

Hmm...thinking about this one still...

> - I noticed that the most recent cython spkg (the one in 4.7.alpha4) has files for building the docs, at least some of which weren't added to the Mercurial repository.  I haven't checked the other spkgs for this sort of issue, but someone should...

Are you talking about the docs directory containing the documentation?  That directory is part of the upstream source, so shouldn't be in the spkg repository.  However, as of a week or two ago, that docs directory has been merged into the main Cython source tree, so future versions of the spkg will not have that docs directory.



---

archive/issue_comments_111696.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@jasongrout](#comment%3A7):\n> Are you talking about the docs directory containing the documentation?  \n\nI mean that if I unpack cython-0.14.1.p2.spkg, cd into the directory and type \"hg status\", I see\n\n```\n? SPKG.txt.orig\n? doc/.hgignore\n? doc/Makefile\n? doc/README\n? doc/TODO\n? doc/_static/cython-logo-light.png\n? doc/_static/cythonlogo.png\n? doc/_static/favicon.ico\n? doc/_templates/layout.html\n? doc/conf.py\n? doc/examples/tutorial/fib1/fib.pyx\n? doc/examples/tutorial/fib1/setup.py\n? doc/examples/tutorial/great_circle/c1.pyx\n? doc/examples/tutorial/great_circle/c2.pyx\n? doc/examples/tutorial/great_circle/p1.py\n? doc/examples/tutorial/primes/primes.py\n? doc/examples/tutorial/primes/primes.pyx\n? doc/examples/tutorial/primes/setup.py\n? doc/index.rst\n? doc/sphinxext/cython_highlighting.py\n? doc/sphinxext/ipython_console_highlighting.py\n? doc/todo.txt\n? doc/welcome.rst\n```\nSo I guess those need to be added to .hginore, or the whole doc directory needs to added, or if everything in there has since been moved to src, we only need to get rid of SPKG.txt.orig.",
    "created_at": "2011-04-14T23:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111696",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@jasongrout](#comment%3A7):
> Are you talking about the docs directory containing the documentation?  

I mean that if I unpack cython-0.14.1.p2.spkg, cd into the directory and type "hg status", I see

```
? SPKG.txt.orig
? doc/.hgignore
? doc/Makefile
? doc/README
? doc/TODO
? doc/_static/cython-logo-light.png
? doc/_static/cythonlogo.png
? doc/_static/favicon.ico
? doc/_templates/layout.html
? doc/conf.py
? doc/examples/tutorial/fib1/fib.pyx
? doc/examples/tutorial/fib1/setup.py
? doc/examples/tutorial/great_circle/c1.pyx
? doc/examples/tutorial/great_circle/c2.pyx
? doc/examples/tutorial/great_circle/p1.py
? doc/examples/tutorial/primes/primes.py
? doc/examples/tutorial/primes/primes.pyx
? doc/examples/tutorial/primes/setup.py
? doc/index.rst
? doc/sphinxext/cython_highlighting.py
? doc/sphinxext/ipython_console_highlighting.py
? doc/todo.txt
? doc/welcome.rst
```
So I guess those need to be added to .hginore, or the whole doc directory needs to added, or if everything in there has since been moved to src, we only need to get rid of SPKG.txt.orig.



---

archive/issue_comments_111697.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nGood point; the doc directory should be added to .hgignore.  And SPKG.txt.orig should be deleted.  Sorry; that seems pretty sloppy of me.",
    "created_at": "2011-04-15T00:15:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111697",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:9" align="right">comment:9</div>

Good point; the doc directory should be added to .hgignore.  And SPKG.txt.orig should be deleted.  Sorry; that seems pretty sloppy of me.



---

archive/issue_comments_111698.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI've noted these changes on #10827.",
    "created_at": "2011-04-15T00:17:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111698",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:10" align="right">comment:10</div>

I've noted these changes on #10827.



---

archive/issue_comments_111699.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@jasongrout](#comment%3A9):\n> Good point; the doc directory should be added to .hgignore.  And SPKG.txt.orig should be deleted.  Sorry; that seems pretty sloppy of me.\n\nI've made those kinds of mistakes lots of times myself...",
    "created_at": "2011-04-15T02:27:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111699",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@jasongrout](#comment%3A9):
> Good point; the doc directory should be added to .hgignore.  And SPKG.txt.orig should be deleted.  Sorry; that seems pretty sloppy of me.

I've made those kinds of mistakes lots of times myself...



---

archive/issue_comments_111700.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nIf we are moving to a two-step binary / documentation build process, how about we remove the `SAGE_SPKG_INSTALL_DOCS` environment variable and, instead, provide a \"doc\" target in the main Makefile. So you can just \"make doc\", thats much easier to discover than a cryptic environment variable.",
    "created_at": "2011-04-15T14:24:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111700",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">comment:12</div>

If we are moving to a two-step binary / documentation build process, how about we remove the `SAGE_SPKG_INSTALL_DOCS` environment variable and, instead, provide a "doc" target in the main Makefile. So you can just "make doc", thats much easier to discover than a cryptic environment variable.



---

archive/issue_comments_111701.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@vbraun](#comment%3A12):\n> If we are moving to a two-step binary / documentation build process, how about we remove the `SAGE_SPKG_INSTALL_DOCS` environment variable and, instead, provide a \"doc\" target in the main Makefile. So you can just \"make doc\", thats much easier to discover than a cryptic environment variable.\n\n+1",
    "created_at": "2011-04-15T15:06:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111701",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@vbraun](#comment%3A12):
> If we are moving to a two-step binary / documentation build process, how about we remove the `SAGE_SPKG_INSTALL_DOCS` environment variable and, instead, provide a "doc" target in the main Makefile. So you can just "make doc", thats much easier to discover than a cryptic environment variable.

+1



---

archive/issue_comments_111702.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMaybe we should clearly distinguish between sage's documentation and spkg documentation.  I'd expect make doc to just build Sage's documentation.  Maybe we could have two targets:  make doc (build and install Sage docs) and make spkg-doc (build and install any spkg docs).",
    "created_at": "2011-04-15T15:08:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111702",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:14" align="right">comment:14</div>

Maybe we should clearly distinguish between sage's documentation and spkg documentation.  I'd expect make doc to just build Sage's documentation.  Maybe we could have two targets:  make doc (build and install Sage docs) and make spkg-doc (build and install any spkg docs).



---

archive/issue_comments_111703.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nHere's a new patch.  This does the Makefile approach.  I think I like the Makefile approach, but I'm not positive, so I'm marking this as \"needs info\".  Please provide opinions about the two approaches and also about the specific patches.",
    "created_at": "2011-04-16T01:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111703",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

Here's a new patch.  This does the Makefile approach.  I think I like the Makefile approach, but I'm not positive, so I'm marking this as "needs info".  Please provide opinions about the two approaches and also about the specific patches.



---

archive/issue_comments_111704.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,3 +18,12 @@\n * gap: #11198\n * python: #10831\n * sagetex: #10908\n+\n+---\n+\n+Apply either \n+\n+- [attachment: trac_11197-spkg-install-docs.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.patch.gz) (builds docs if environment variable SAGE_SPKG_INSTALL_DOCS is \"yes\"), or \n+\n+- [attachment: trac_11197-spkg-install-docs.v2.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.v2.patch.gz) (adds target \"spkg-doc\" to Makefile)\n+\n``````\n",
    "created_at": "2011-04-16T01:08:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111704",
    "user": "https://github.com/jhpalmieri"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,3 +18,12 @@
 * gap: #11198
 * python: #10831
 * sagetex: #10908
+
+---
+
+Apply either 
+
+- [attachment: trac_11197-spkg-install-docs.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.patch.gz) (builds docs if environment variable SAGE_SPKG_INSTALL_DOCS is "yes"), or 
+
+- [attachment: trac_11197-spkg-install-docs.v2.patch](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.v2.patch.gz) (adds target "spkg-doc" to Makefile)
+
``````




---

archive/issue_events_146758.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-16T01:08:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146758"
}
```



---

archive/issue_events_146759.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2011-04-16T01:08:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146759"
}
```



---

archive/issue_comments_111705.json:
```json
{
    "body": "root repo; implement \"make spkg-doc\" from SAGE_ROOT",
    "created_at": "2011-04-16T01:09:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111705",
    "user": "https://github.com/jhpalmieri"
}
```

root repo; implement "make spkg-doc" from SAGE_ROOT



---

archive/issue_comments_111706.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nAttachment: **[trac_11197-spkg-install-docs.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.v2.patch.gz)**",
    "created_at": "2011-08-24T23:39:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111706",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:16" align="right">comment:16</div>

Attachment: **[trac_11197-spkg-install-docs.v2.patch.gz](https://github.com/sagemath/sage/files/ticket11197/trac_11197-spkg-install-docs.v2.patch.gz)**



---

archive/issue_comments_111707.json:
```json
{
    "body": "Changed keywords from none to **sd32**",
    "created_at": "2011-08-24T23:39:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111707",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from none to **sd32**



---

archive/issue_comments_111708.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHmmm, one problem I see is that a couple of spkgs would need a (re)`configure` before e.g. `make install-docs` etc. would work.\n\nAlso, many packages provide [alternate] documentation in various formats (man pages, texinfo files, HTML, dvi / PDF etc.), some of which require tools (i.e., prerequisites either provided by the system or Sage), and some even some small build process just to prepare the sources for other tools. So it isn't always clear *what* would be installed [in addition]. Re-unpacking and re-configuring an spkg just to install docs is IMHO also a bit odd, just like keeping the build directories until eventually some tools are available after the normal build has finished.\n\nThe easiest way would be to simply include some *pre-built* versions of documentation requiring external tools, and just copy / install them if `SAGE_SPKG_INSTALL_DOCS=yes` or an spkg's `spkg-install-docs` is run. This could at least in some cases increase an spkg's size significantly though.",
    "created_at": "2011-08-26T00:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111708",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:17" align="right">comment:17</div>

Hmmm, one problem I see is that a couple of spkgs would need a (re)`configure` before e.g. `make install-docs` etc. would work.

Also, many packages provide [alternate] documentation in various formats (man pages, texinfo files, HTML, dvi / PDF etc.), some of which require tools (i.e., prerequisites either provided by the system or Sage), and some even some small build process just to prepare the sources for other tools. So it isn't always clear *what* would be installed [in addition]. Re-unpacking and re-configuring an spkg just to install docs is IMHO also a bit odd, just like keeping the build directories until eventually some tools are available after the normal build has finished.

The easiest way would be to simply include some *pre-built* versions of documentation requiring external tools, and just copy / install them if `SAGE_SPKG_INSTALL_DOCS=yes` or an spkg's `spkg-install-docs` is run. This could at least in some cases increase an spkg's size significantly though.



---

archive/issue_comments_111709.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWe could also support some kind of `SAGE_SPKG_INSTALL_DOCS=no` (and `=later`) in `spkg-install`, but that still doesn't tell *which kind of* documentation.\n\n(I personally would for example always install man pages by default, if available.)\n\n\nNo matter if we build / install any documents for some spkg (or whether they are available at all in the spkg itself), we could create HTML pages with links to upstream [documentation] if appropriate.\n\nSame could be done for licenses.",
    "created_at": "2011-08-26T00:22:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111709",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:18" align="right">comment:18</div>

We could also support some kind of `SAGE_SPKG_INSTALL_DOCS=no` (and `=later`) in `spkg-install`, but that still doesn't tell *which kind of* documentation.

(I personally would for example always install man pages by default, if available.)


No matter if we build / install any documents for some spkg (or whether they are available at all in the spkg itself), we could create HTML pages with links to upstream [documentation] if appropriate.

Same could be done for licenses.



---

archive/issue_comments_111710.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nRight now, I'm more in favor of adding a target to the Makefile, rather than the environment variable approach.\n\nReplying to [@nexttime](#comment%3A17):\n> Hmmm, one problem I see is that a couple of spkgs would need a (re)`configure` before e.g. `make install-docs` etc. would work.\n\nWell, this would be taken care of by the doc install script for the particular spkg.  The whole point of this ticket is to install the docs separately from the full build, so I'm not sure I understand your concerns.  If you want to build the docs during the build, use the approach in #10823, and the spkg-install file can take care of the proper configurations to do things efficiently.  (So maybe some spkgs would behave differently depending on whether you ran `make spkg-doc` compared to `make` with `SAGE_SPKG_INSTALL_DOCS=yes`: in the first case, a special script `spkg-install-docs` would be run, while in the first case, the code would be in `spkg-install`.  Or is that too complicated?)\n\n> Also, many packages provide [alternate] documentation in various formats (man pages, texinfo files, HTML, dvi / PDF etc.), some of which require tools (i.e., prerequisites either provided by the system or Sage), and some even some small build process just to prepare the sources for other tools. So it isn't always clear *what* would be installed [in addition]. Re-unpacking and re-configuring an spkg just to install docs is IMHO also a bit odd, just like keeping the build directories until eventually some tools are available after the normal build has finished.\n\nThere could be several possible targets: `make spkg-doc` which would build whatever the spkg maintainers thought was a sensible default, but also `make spkg-doc-html`, `make spkg-doc-man`, etc.  Perhaps the script `spkg/install-spkg-docs ` should pass an argument (\"html\", \"pdf\", \"default\", etc.) to each individual `spkg-install-docs` script.\n\n> The easiest way would be to simply include some *pre-built* versions of documentation requiring external tools, and just copy / install them if `SAGE_SPKG_INSTALL_DOCS=yes` or an spkg's `spkg-install-docs` is run. This could at least in some cases increase an spkg's size significantly though.\n\nI don't think the size increase would be acceptable.\n\nReplying to [@nexttime](#comment%3A18):\n> We could also support some kind of `SAGE_SPKG_INSTALL_DOCS=no` (and `=later`) in `spkg-install`, but that still doesn't tell *which kind of* documentation.\n\nor `SAGE_SPKG_INSTALL_DOCS=html`\n\n> No matter if we build / install any documents for some spkg (or whether they are available at all in the spkg itself), we could create HTML pages with links to upstream [documentation] if appropriate.\n\nSure, that sounds like a good idea.  Probably for another ticket, once we get this framework set up.  At least, setting up these html pages would seem to require another set of ideas and therefore add another level of complications.",
    "created_at": "2011-08-26T01:35:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111710",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

Right now, I'm more in favor of adding a target to the Makefile, rather than the environment variable approach.

Replying to [@nexttime](#comment%3A17):
> Hmmm, one problem I see is that a couple of spkgs would need a (re)`configure` before e.g. `make install-docs` etc. would work.

Well, this would be taken care of by the doc install script for the particular spkg.  The whole point of this ticket is to install the docs separately from the full build, so I'm not sure I understand your concerns.  If you want to build the docs during the build, use the approach in #10823, and the spkg-install file can take care of the proper configurations to do things efficiently.  (So maybe some spkgs would behave differently depending on whether you ran `make spkg-doc` compared to `make` with `SAGE_SPKG_INSTALL_DOCS=yes`: in the first case, a special script `spkg-install-docs` would be run, while in the first case, the code would be in `spkg-install`.  Or is that too complicated?)

> Also, many packages provide [alternate] documentation in various formats (man pages, texinfo files, HTML, dvi / PDF etc.), some of which require tools (i.e., prerequisites either provided by the system or Sage), and some even some small build process just to prepare the sources for other tools. So it isn't always clear *what* would be installed [in addition]. Re-unpacking and re-configuring an spkg just to install docs is IMHO also a bit odd, just like keeping the build directories until eventually some tools are available after the normal build has finished.

There could be several possible targets: `make spkg-doc` which would build whatever the spkg maintainers thought was a sensible default, but also `make spkg-doc-html`, `make spkg-doc-man`, etc.  Perhaps the script `spkg/install-spkg-docs ` should pass an argument ("html", "pdf", "default", etc.) to each individual `spkg-install-docs` script.

> The easiest way would be to simply include some *pre-built* versions of documentation requiring external tools, and just copy / install them if `SAGE_SPKG_INSTALL_DOCS=yes` or an spkg's `spkg-install-docs` is run. This could at least in some cases increase an spkg's size significantly though.

I don't think the size increase would be acceptable.

Replying to [@nexttime](#comment%3A18):
> We could also support some kind of `SAGE_SPKG_INSTALL_DOCS=no` (and `=later`) in `spkg-install`, but that still doesn't tell *which kind of* documentation.

or `SAGE_SPKG_INSTALL_DOCS=html`

> No matter if we build / install any documents for some spkg (or whether they are available at all in the spkg itself), we could create HTML pages with links to upstream [documentation] if appropriate.

Sure, that sounds like a good idea.  Probably for another ticket, once we get this framework set up.  At least, setting up these html pages would seem to require another set of ideas and therefore add another level of complications.



---

archive/issue_events_146760.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146760"
}
```



---

archive/issue_events_146761.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146761"
}
```



---

archive/issue_events_146762.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146762"
}
```



---

archive/issue_events_146763.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146763"
}
```



---

archive/issue_events_146764.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146764"
}
```



---

archive/issue_events_146765.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146765"
}
```



---

archive/issue_events_146766.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146766"
}
```



---

archive/issue_events_146767.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146767"
}
```



---

archive/issue_comments_111711.json:
```json
{
    "body": "Replying to [@jasongrout](https://github.com/sagemath/sage/issues/11197#comment:0):\n> Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823\n\nWhat are these \"concerns\"? Can these \"concerns\" be fixed in a simpler way than adding more complexities to the Sage build procedure?",
    "created_at": "2014-11-13T14:15:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111711",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [@jasongrout](https://github.com/sagemath/sage/issues/11197#comment:0):
> Following on some concerns brought up about dependencies in building spkg docs, as implemented in #10823

What are these "concerns"? Can these "concerns" be fixed in a simpler way than adding more complexities to the Sage build procedure?



---

archive/issue_events_146768.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-13T14:15:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146768"
}
```



---

archive/issue_events_146769.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2014-11-13T14:15:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146769"
}
```



---

archive/issue_comments_111712.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI think it needs to be clarified why this ticket is needed.",
    "created_at": "2015-09-16T08:25:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111712",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

I think it needs to be clarified why this ticket is needed.



---

archive/issue_comments_111713.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI think the situation is:\n- we want to be able to install documentation for any of the various packages that provide it, but\n- building the documentation may have different prerequisites (e.g., Sphinx) than building the package itself.\nIt sounds like the plan in this ticket was to build documentation for the packages at the same time as building the regular Sage documentation.",
    "created_at": "2015-09-17T18:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111713",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:27" align="right">comment:27</div>

I think the situation is:
- we want to be able to install documentation for any of the various packages that provide it, but
- building the documentation may have different prerequisites (e.g., Sphinx) than building the package itself.
It sounds like the plan in this ticket was to build documentation for the packages at the same time as building the regular Sage documentation.



---

archive/issue_events_146770.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:13:00Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146770"
}
```



---

archive/issue_events_146771.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:13:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146771"
}
```



---

archive/issue_events_146772.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-02T01:13:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146772"
}
```



---

archive/issue_comments_111714.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\noutdated, should close",
    "created_at": "2021-12-02T01:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111714",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:28" align="right">comment:28</div>

outdated, should close



---

archive/issue_comments_111715.json:
```json
{
    "body": "Changed author from **John Palmieri** to none",
    "created_at": "2021-12-02T01:13:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11197#issuecomment-111715",
    "user": "https://github.com/mkoeppe"
}
```

Changed author from **John Palmieri** to none



---

archive/issue_events_146773.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-12-02T02:57:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146773"
}
```



---

archive/issue_events_146774.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2021-12-02T02:57:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146774"
}
```



---

archive/issue_events_146775.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146775"
}
```



---

archive/issue_events_146776.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-03T18:41:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11197",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11197#event-146776"
}
```
