# Issue 11763: Parents for polyhedra

archive/issues_011591.json:
```json
{
    "body": "The Polyhedron class is, so far, free-standing with some sort of coercion for the base ring tacked manually. This ticket strives to add parents for polyhedra and make the base ring coercion work more naturally. \n\nThere will be 3 supported base rings:\n* ZZ (meaning that the polyhedron is a lattice polytope, that is, both H- and V-representation are defined over ZZ)\n* QQ\n* RDF\n\nApply:\n* [attachment:trac_11763-polyhedra_coercion_folded.3.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch)\n* [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n* [attachment:trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)\n\n\nDepends on #11634\n\nDepends on #13109\n\nDepends on #11310\n\n**Assignee:** mhampton\n\n**CC:**  @robertwb\n\n**Reviewer:** Dmitrii Pasechnik\n\n**Author:** Volker Braun\n\n**Merged:** sage-5.6.beta1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11763\n\n",
    "closed_at": "2012-12-21T09:30:41Z",
    "created_at": "2011-08-31T14:13:15Z",
    "labels": [
        "component: geometry",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.6",
    "title": "Parents for polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/11763",
    "user": "https://github.com/vbraun"
}
```
The Polyhedron class is, so far, free-standing with some sort of coercion for the base ring tacked manually. This ticket strives to add parents for polyhedra and make the base ring coercion work more naturally. 

There will be 3 supported base rings:
* ZZ (meaning that the polyhedron is a lattice polytope, that is, both H- and V-representation are defined over ZZ)
* QQ
* RDF

Apply:
* [attachment:trac_11763-polyhedra_coercion_folded.3.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch)
* [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
* [attachment:trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)


Depends on #11634

Depends on #13109

Depends on #11310

**Assignee:** mhampton

**CC:**  @robertwb

**Reviewer:** Dmitrii Pasechnik

**Author:** Volker Braun

**Merged:** sage-5.6.beta1

Issue created by migration from https://trac.sagemath.org/ticket/11763





---

archive/issue_comments_124663.json:
```json
{
    "body": "<a id='comment:1'></a>\nWould there be any benefit in supporting real fields of arbitrary precision?",
    "created_at": "2011-08-31T14:58:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124663",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>
Would there be any benefit in supporting real fields of arbitrary precision?



---

archive/issue_comments_124664.json:
```json
{
    "body": "<a id='comment:2'></a>\nWe don't have an implementation of the double description algorithm for other base rings, so we wouldn't be able to compute anything.",
    "created_at": "2011-08-31T15:05:06Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124664",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:2'></a>
We don't have an implementation of the double description algorithm for other base rings, so we wouldn't be able to compute anything.



---

archive/attachments_016139.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_ZZ_polyhedron.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_ZZ_polyhedron.patch",
    "created_at": "2011-09-08T17:00:43Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124665.json:
```json
{
    "body": "**Attachment:** [trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)\n\nInitial patch",
    "created_at": "2011-09-08T17:00:43Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124665",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)

Initial patch



---

archive/issue_comments_124666.json:
```json
{
    "body": "Initial patch",
    "created_at": "2011-09-08T17:00:54Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124666",
    "user": "https://github.com/vbraun"
}
```

Initial patch



---

archive/issue_comments_124667.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -5,4 +5,8 @@\n * QQ\n * RDF\n \n+Apply:\n+* [attachment:trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)\n+* [attachment:trac_11763_parents_for_polyhedron.py](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py)\n \n+\n``````\n",
    "created_at": "2011-09-08T17:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124667",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -5,4 +5,8 @@
 * QQ
 * RDF
 
+Apply:
+* [attachment:trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)
+* [attachment:trac_11763_parents_for_polyhedron.py](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py)
 
+
``````




---

archive/attachments_016140.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_parents_for_polyhedron.py",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_parents_for_polyhedron.py",
    "created_at": "2011-09-08T17:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124668.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Attachment:** [trac_11763_parents_for_polyhedron.py](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py)\n\nThis is now ready for inclusion. Marshall, are you interested in reviewing this patch and its dependency? ;-)",
    "created_at": "2011-09-08T17:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124668",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:3'></a>
**Attachment:** [trac_11763_parents_for_polyhedron.py](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py)

This is now ready for inclusion. Marshall, are you interested in reviewing this patch and its dependency? ;-)



---

archive/issue_events_094086.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2011-09-08T17:06:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94086"
}
```



---

archive/issue_comments_124669.json:
```json
{
    "body": "**Author:** Volker Braun",
    "created_at": "2011-09-08T17:06:10Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124669",
    "user": "https://github.com/vbraun"
}
```

**Author:** Volker Braun



---

archive/issue_comments_124670.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,6 +7,6 @@\n \n Apply:\n * [attachment:trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)\n-* [attachment:trac_11763_parents_for_polyhedron.py](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py)\n+* [attachment:trac_11763_parents_for_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch)\n \n \n``````\n",
    "created_at": "2011-12-16T10:27:09Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124670",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,6 +7,6 @@
 
 Apply:
 * [attachment:trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)
-* [attachment:trac_11763_parents_for_polyhedron.py](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.py)
+* [attachment:trac_11763_parents_for_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch)
 
 
``````




---

archive/issue_comments_124671.json:
```json
{
    "body": "<a id='comment:5'></a>\nFix comparison of H/V-representation objects:\n\n```\nsage: triangle = Polyhedron([(0,0), (1,0), (0,1)])\nsage: ieq = triangle.inequality_generator().next()\nsage: ieq == copy(ieq)\nFalse\n```\nNow returns ``True``, as it should.",
    "created_at": "2012-02-19T02:05:08Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124671",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:5'></a>
Fix comparison of H/V-representation objects:

```
sage: triangle = Polyhedron([(0,0), (1,0), (0,1)])
sage: ieq = triangle.inequality_generator().next()
sage: ieq == copy(ieq)
False
```
Now returns ``True``, as it should.



---

archive/issue_comments_124672.json:
```json
{
    "body": "Updated patch",
    "created_at": "2012-02-19T02:06:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124672",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/attachments_016141.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_parents_for_polyhedron.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_parents_for_polyhedron.patch",
    "created_at": "2012-03-11T14:17:55Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch",
    "user": "https://github.com/loefflerd"
}
```



---

archive/attachments_016142.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_ZZ_polyhedron-rebase.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch",
    "created_at": "2012-03-11T14:17:55Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch",
    "user": "https://github.com/loefflerd"
}
```



---

archive/issue_comments_124673.json:
```json
{
    "body": "**Attachment:** [trac_11763_parents_for_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch)\n\n**Attachment:** [trac_11763_ZZ_polyhedron-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch)\n\nRebased for new patch at 11634",
    "created_at": "2012-03-11T14:17:55Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124673",
    "user": "https://github.com/loefflerd"
}
```

**Attachment:** [trac_11763_parents_for_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch)

**Attachment:** [trac_11763_ZZ_polyhedron-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch)

Rebased for new patch at 11634



---

archive/attachments_016143.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_parents-rebase.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_parents-rebase.patch",
    "created_at": "2012-03-11T14:18:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch",
    "user": "https://github.com/loefflerd"
}
```



---

archive/issue_comments_124674.json:
```json
{
    "body": "**Attachment:** [trac_11763_parents-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch)\n\nRebased for new patch at #11634",
    "created_at": "2012-03-11T14:18:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124674",
    "user": "https://github.com/loefflerd"
}
```

**Attachment:** [trac_11763_parents-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch)

Rebased for new patch at #11634



---

archive/issue_comments_124675.json:
```json
{
    "body": "<a id='comment:6'></a>\nThe new patch I posted at #11634 broke these, so I rebased them.\n\nApply trac_11763_ZZ_polyhedron-rebase.patch, trac_11763_parents-rebase.patch",
    "created_at": "2012-03-11T14:19:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124675",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:6'></a>
The new patch I posted at #11634 broke these, so I rebased them.

Apply trac_11763_ZZ_polyhedron-rebase.patch, trac_11763_parents-rebase.patch



---

archive/issue_comments_124676.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n * RDF\n \n Apply:\n-* [attachment:trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)\n-* [attachment:trac_11763_parents_for_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch)\n+* [attachment:trac_11763_ZZ_polyhedron-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch)\n+* [attachment:trac_11763_parents-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch)\n \n \n``````\n",
    "created_at": "2012-03-11T14:19:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124676",
    "user": "https://github.com/loefflerd"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 * RDF
 
 Apply:
-* [attachment:trac_11763_ZZ_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron.patch)
-* [attachment:trac_11763_parents_for_polyhedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents_for_polyhedron.patch)
+* [attachment:trac_11763_ZZ_polyhedron-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch)
+* [attachment:trac_11763_parents-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch)
 
 
``````




---

archive/issue_comments_124677.json:
```json
{
    "body": "<a id='comment:7'></a>\nApply trac_11763_zz_polyhedron-rebase.patch, trac_11763_parents-rebase.patch \n\n(bloody patchbot!)",
    "created_at": "2012-03-11T14:20:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124677",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:7'></a>
Apply trac_11763_zz_polyhedron-rebase.patch, trac_11763_parents-rebase.patch 

(bloody patchbot!)



---

archive/issue_comments_124678.json:
```json
{
    "body": "<a id='comment:8'></a>\nNo matter what I do, the patchbot won't pick up the two patches above, so I've done a single qfolded patch. Hopefully this will now work!",
    "created_at": "2012-03-11T14:23:25Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124678",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:8'></a>
No matter what I do, the patchbot won't pick up the two patches above, so I've done a single qfolded patch. Hopefully this will now work!



---

archive/issue_comments_124679.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,6 @@\n * RDF\n \n Apply:\n-* [attachment:trac_11763_ZZ_polyhedron-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch)\n-* [attachment:trac_11763_parents-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch)\n+* [attachment:trac_11763-polyhedra_coercion_folded.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch)\n \n \n``````\n",
    "created_at": "2012-03-11T14:23:57Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124679",
    "user": "https://github.com/loefflerd"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,6 @@
 * RDF
 
 Apply:
-* [attachment:trac_11763_ZZ_polyhedron-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_ZZ_polyhedron-rebase.patch)
-* [attachment:trac_11763_parents-rebase.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_parents-rebase.patch)
+* [attachment:trac_11763-polyhedra_coercion_folded.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch)
 
 
``````




---

archive/issue_comments_124680.json:
```json
{
    "body": "Apply only this patch. Patch against 5.0.beta7",
    "created_at": "2012-03-12T09:59:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124680",
    "user": "https://github.com/loefflerd"
}
```

Apply only this patch. Patch against 5.0.beta7



---

archive/attachments_016144.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763-polyhedra_coercion_folded.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763-polyhedra_coercion_folded.patch",
    "created_at": "2012-03-12T10:00:51Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch",
    "user": "https://github.com/loefflerd"
}
```



---

archive/issue_comments_124681.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Attachment:** [trac_11763-polyhedra_coercion_folded.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch)\n\nSorry, I made a hash of rebasing the patch, so here's a new version.",
    "created_at": "2012-03-12T10:00:51Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124681",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:10'></a>
**Attachment:** [trac_11763-polyhedra_coercion_folded.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch)

Sorry, I made a hash of rebasing the patch, so here's a new version.



---

archive/issue_comments_124682.json:
```json
{
    "body": "<a id='comment:11'></a>\nThis changes the behavior of the .vertices() method, returning \"sage.geometry.polyhedron.representation.Vertex\" objects instead of simple lists of coordinates.  This breaks some code of mine, so I think there should be a deprecation warning before introducing this.  I don't really like the behavior, but I see that .vertices_list() does return a list of lists of coordinates.\n\nThis patch also seems to slow things down a bit, but I haven't carefully tested that aspect.",
    "created_at": "2012-03-12T15:29:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124682",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:11'></a>
This changes the behavior of the .vertices() method, returning "sage.geometry.polyhedron.representation.Vertex" objects instead of simple lists of coordinates.  This breaks some code of mine, so I think there should be a deprecation warning before introducing this.  I don't really like the behavior, but I see that .vertices_list() does return a list of lists of coordinates.

This patch also seems to slow things down a bit, but I haven't carefully tested that aspect.



---

archive/issue_comments_124683.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe `Vertex` object implements the list interface, so any code that doesn't just test `isinstance(-,list)` should work fine. Plus, you can't really deprecate something unless you want to remove it later. I added the 'vertices_list` method so people can keep their broken code with minimal patching if they want.",
    "created_at": "2012-03-12T18:27:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124683",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'></a>
The `Vertex` object implements the list interface, so any code that doesn't just test `isinstance(-,list)` should work fine. Plus, you can't really deprecate something unless you want to remove it later. I added the 'vertices_list` method so people can keep their broken code with minimal patching if they want.



---

archive/issue_comments_124684.json:
```json
{
    "body": "<a id='comment:13'></a>\nWell, no, there is quite a bit of my code that does not work fine, and I am not talking about artificial test cases.  Here is a shortened example of something this patch breaks:\n\n```\nc = polytopes.n_cube(3)\nv = c.vertices()[0]\npoint(v)\n```\nThis now gives a \"TypeError: 'sage.rings.integer.Integer' object does not support indexing\".",
    "created_at": "2012-03-12T21:07:57Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124684",
    "user": "https://trac.sagemath.org/admin/accounts/users/mhampton"
}
```

<a id='comment:13'></a>
Well, no, there is quite a bit of my code that does not work fine, and I am not talking about artificial test cases.  Here is a shortened example of something this patch breaks:

```
c = polytopes.n_cube(3)
v = c.vertices()[0]
point(v)
```
This now gives a "TypeError: 'sage.rings.integer.Integer' object does not support indexing".



---

archive/issue_comments_124685.json:
```json
{
    "body": "<a id='comment:14'></a>\nFor the record: #12541 and #12544 have a similar situation. I replaced tuples with tuple-like containers and some stuff got broken. As it turned out, it was not too difficult to fix it by eliminating some \"hard typechecks\", although they are still waiting for an approval. If this is the case here, perhaps it is also not too difficult to fix.\n\nAs I understand it, direct typechecking is not welcomed in either Python or Sage, so if the new class implements list interface, it should be OK to use in place of the old one. If it does break some code, it is a bug and it should be fixed before merging, but not a reason for avoiding the change entirely or inventing elaborate deprecation scheme...",
    "created_at": "2012-03-12T21:19:52Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124685",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:14'></a>
For the record: #12541 and #12544 have a similar situation. I replaced tuples with tuple-like containers and some stuff got broken. As it turned out, it was not too difficult to fix it by eliminating some "hard typechecks", although they are still waiting for an approval. If this is the case here, perhaps it is also not too difficult to fix.

As I understand it, direct typechecking is not welcomed in either Python or Sage, so if the new class implements list interface, it should be OK to use in place of the old one. If it does break some code, it is a bug and it should be fixed before merging, but not a reason for avoiding the change entirely or inventing elaborate deprecation scheme...



---

archive/issue_events_094087.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-26T18:11:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94087"
}
```



---

archive/issue_events_094088.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-26T18:11:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94088"
}
```



---

archive/issue_comments_124686.json:
```json
{
    "body": "<a id='comment:15'></a>\nThere is a doctest failing on 5.0.beta10, according to the patchbot (something to do with the new associahedron class from #10817)",
    "created_at": "2012-03-26T18:11:29Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124686",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:15'></a>
There is a doctest failing on 5.0.beta10, according to the patchbot (something to do with the new associahedron class from #10817)



---

archive/issue_comments_124687.json:
```json
{
    "body": "**Work Issues:** doctest failure",
    "created_at": "2012-03-26T18:11:29Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124687",
    "user": "https://github.com/loefflerd"
}
```

**Work Issues:** doctest failure



---

archive/issue_events_094089.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-03-29T18:43:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94089"
}
```



---

archive/issue_events_094090.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-03-29T18:43:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94090"
}
```



---

archive/issue_comments_124688.json:
```json
{
    "body": "<a id='comment:16'></a>\nThe associahedron needed to be translated to the parent/element framework as well. I've fixed this. Also, I rediffed trac_11763-polyhedra_coercion_folded.2.patch because it only applied with some fuzz on sage-5.0.beta11",
    "created_at": "2012-03-29T18:43:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124688",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'></a>
The associahedron needed to be translated to the parent/element framework as well. I've fixed this. Also, I rediffed trac_11763-polyhedra_coercion_folded.2.patch because it only applied with some fuzz on sage-5.0.beta11



---

archive/issue_comments_124689.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,7 @@\n * RDF\n \n Apply:\n-* [attachment:trac_11763-polyhedra_coercion_folded.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch)\n+* [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n+* [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n \n \n``````\n",
    "created_at": "2012-03-29T18:43:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124689",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,7 @@
 * RDF
 
 Apply:
-* [attachment:trac_11763-polyhedra_coercion_folded.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.patch)
+* [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
+* [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
 
 
``````




---

archive/attachments_016145.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_relax_typechecks.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_relax_typechecks.patch",
    "created_at": "2012-03-29T19:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124690.json:
```json
{
    "body": "**Attachment:** [trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n\nUpdated patch",
    "created_at": "2012-03-29T19:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124690",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)

Updated patch



---

archive/issue_comments_124691.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,5 +8,5 @@\n Apply:\n * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n+* [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n \n-\n``````\n",
    "created_at": "2012-03-29T19:01:52Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124691",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,5 +8,5 @@
 Apply:
 * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
 * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
+* [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)
 
-
``````




---

archive/issue_comments_124692.json:
```json
{
    "body": "<a id='comment:17'></a>\nThe final patch fixes the `point()` command to not make dumb type checks.",
    "created_at": "2012-03-29T19:01:52Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124692",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:17'></a>
The final patch fixes the `point()` command to not make dumb type checks.



---

archive/issue_comments_124693.json:
```json
{
    "body": "<a id='comment:18'></a>\nI noted a problem in the documentatation build, the updated patch fixes just that.",
    "created_at": "2012-03-29T20:04:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124693",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'></a>
I noted a problem in the documentatation build, the updated patch fixes just that.



---

archive/issue_comments_124694.json:
```json
{
    "body": "<a id='comment:19'></a>\nApply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch\n\n(for patchbot)",
    "created_at": "2012-03-30T12:40:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124694",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:19'></a>
Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch

(for patchbot)



---

archive/issue_comments_124695.json:
```json
{
    "body": "<a id='comment:20'></a>\nI thought the point of having \"Apply\" section in the description was to make the patchbot happy, why does it need to be duplicated?..",
    "created_at": "2012-03-30T15:33:39Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124695",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:20'></a>
I thought the point of having "Apply" section in the description was to make the patchbot happy, why does it need to be duplicated?..



---

archive/issue_comments_124696.json:
```json
{
    "body": "<a id='comment:21'></a>\nIt was previously applying the patches in an order other than that listed on the ticket description (with coercion_folded.2.patch last rather than first). I didn't think to check whether the patches were applying happily anyway; as it happens they were. Sorry for the noise!",
    "created_at": "2012-03-30T15:50:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124696",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:21'></a>
It was previously applying the patches in an order other than that listed on the ticket description (with coercion_folded.2.patch last rather than first). I didn't think to check whether the patches were applying happily anyway; as it happens they were. Sorry for the noise!



---

archive/issue_comments_124697.json:
```json
{
    "body": "<a id='comment:22'></a>\nOh, I don't complain about your post - I complain about patchbot not figuring out what is the correct order despite a clear description ;-)",
    "created_at": "2012-03-30T19:35:58Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124697",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:22'></a>
Oh, I don't complain about your post - I complain about patchbot not figuring out what is the correct order despite a clear description ;-)



---

archive/issue_events_094091.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-04-26T15:10:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94091"
}
```



---

archive/issue_events_094092.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-04-26T15:10:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94092"
}
```



---

archive/issue_comments_124698.json:
```json
{
    "body": "**Changing work issues** from \"doctest failure\" to \"remove trailing whitespaces\".",
    "created_at": "2012-04-26T15:10:49Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124698",
    "user": "https://github.com/fchapoton"
}
```

**Changing work issues** from "doctest failure" to "remove trailing whitespaces".



---

archive/issue_events_094093.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-04-30T21:30:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94093"
}
```



---

archive/issue_events_094094.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-04-30T21:30:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94094"
}
```



---

archive/issue_comments_124699.json:
```json
{
    "body": "<a id='comment:24'></a>\nWe don't have a policy on trailing white space, so its completely useless bikeshedding to require it one way or another. But since this ticket is the special case where we create a new subdirectory layout, I used a simple sed script to remove trailing whitespace.",
    "created_at": "2012-04-30T21:30:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124699",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:24'></a>
We don't have a policy on trailing white space, so its completely useless bikeshedding to require it one way or another. But since this ticket is the special case where we create a new subdirectory layout, I used a simple sed script to remove trailing whitespace.



---

archive/issue_comments_124700.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,4 +9,6 @@\n * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n+* [attachment:trac_11763_trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_trac_11763_remove_trailing_whitespace.patch)\n \n+\n``````\n",
    "created_at": "2012-04-30T21:30:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124700",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,4 +9,6 @@
 * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
 * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
 * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)
+* [attachment:trac_11763_trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_trac_11763_remove_trailing_whitespace.patch)
 
+
``````




---

archive/issue_comments_124701.json:
```json
{
    "body": "**Changing work issues** from \"remove trailing whitespaces\" to \"\".",
    "created_at": "2012-04-30T21:30:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124701",
    "user": "https://github.com/vbraun"
}
```

**Changing work issues** from "remove trailing whitespaces" to "".



---

archive/issue_comments_124702.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -9,6 +9,6 @@\n * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n-* [attachment:trac_11763_trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_trac_11763_remove_trailing_whitespace.patch)\n+* [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)\n \n \n``````\n",
    "created_at": "2012-04-30T21:31:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124702",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -9,6 +9,6 @@
 * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
 * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
 * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)
-* [attachment:trac_11763_trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_trac_11763_remove_trailing_whitespace.patch)
+* [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)
 
 
``````




---

archive/issue_comments_124703.json:
```json
{
    "body": "<a id='comment:26'></a>\n* There is now an error to be corrected, see bot report for 5.0rc0. This comes from a strange comparison with 'anything', which looks weird.\n\n* Maybe fold all the patches into one ?\n\n* In the part about associahedra, you replaced the sentence \"Returns the Cartan type of self.\" by the sentence \"Returns the Cartan type\". This seems to be less informative.",
    "created_at": "2012-05-04T17:39:47Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124703",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:26'></a>
* There is now an error to be corrected, see bot report for 5.0rc0. This comes from a strange comparison with 'anything', which looks weird.

* Maybe fold all the patches into one ?

* In the part about associahedra, you replaced the sentence "Returns the Cartan type of self." by the sentence "Returns the Cartan type". This seems to be less informative.



---

archive/issue_events_094095.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-05-04T17:39:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94095"
}
```



---

archive/issue_events_094096.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-05-04T17:39:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94096"
}
```



---

archive/issue_comments_124704.json:
```json
{
    "body": "Updated patch",
    "created_at": "2012-05-04T17:58:49Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124704",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/attachments_016146.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763-polyhedra_coercion_folded.2.2.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763-polyhedra_coercion_folded.2.2.patch",
    "created_at": "2012-05-04T18:02:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.2.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124705.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Attachment:** [trac_11763-polyhedra_coercion_folded.2.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.2.patch)\n\nI've changed the `cmp()` doctest to use `abs(cmp())` to avoid dependence on arbitrary memory positions.\n\nFolding patches is considered harmful since it destroys history without any benefit.\n\nA method always returns information about `self`, you could add \"... of self\" to every docstring.",
    "created_at": "2012-05-04T18:02:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124705",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'></a>
**Attachment:** [trac_11763-polyhedra_coercion_folded.2.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.2.patch)

I've changed the `cmp()` doctest to use `abs(cmp())` to avoid dependence on arbitrary memory positions.

Folding patches is considered harmful since it destroys history without any benefit.

A method always returns information about `self`, you could add "... of self" to every docstring.



---

archive/issue_events_094097.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-05-04T18:07:06Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94097"
}
```



---

archive/issue_events_094098.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-05-04T18:07:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94098"
}
```



---

archive/issue_comments_124706.json:
```json
{
    "body": "<a id='comment:29'></a>\nRediffed for sage-5.0.beta3 because #12340 introduced a newline in one of the docstrings. No actual code changed.",
    "created_at": "2012-06-11T15:19:42Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124706",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:29'></a>
Rediffed for sage-5.0.beta3 because #12340 introduced a newline in one of the docstrings. No actual code changed.



---

archive/issue_comments_124707.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,4 +11,6 @@\n * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n * [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)\n \n+For the patchbot:\n+Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch, trac_11763_remove_trailing_whitespace.patch\n \n``````\n",
    "created_at": "2012-06-11T15:27:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124707",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,4 +11,6 @@
 * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)
 * [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)
 
+For the patchbot:
+Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch, trac_11763_remove_trailing_whitespace.patch
 
``````




---

archive/issue_comments_124708.json:
```json
{
    "body": "<a id='comment:31'></a>\nApply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch, trac_11763_remove_trailing_whitespace.patch",
    "created_at": "2012-06-11T15:31:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124708",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:31'></a>
Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch, trac_11763_remove_trailing_whitespace.patch



---

archive/issue_comments_124709.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -11,6 +11,3 @@\n * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n * [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)\n \n-For the patchbot:\n-Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch, trac_11763_remove_trailing_whitespace.patch\n-\n``````\n",
    "created_at": "2012-06-11T15:31:32Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124709",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -11,6 +11,3 @@
 * [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)
 * [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)
 
-For the patchbot:
-Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_relax_typechecks.patch, trac_11763_remove_trailing_whitespace.patch
-
``````




---

archive/issue_comments_124710.json:
```json
{
    "body": "**Changing dependencies** from \"#11634\" to \"#11634, #13109\".",
    "created_at": "2012-06-29T15:49:09Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124710",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#11634" to "#11634, #13109".



---

archive/issue_comments_124711.json:
```json
{
    "body": "<a id='comment:33'></a>\n#11310 fixes all the catch-all `except:` clauses, breaking this patch.",
    "created_at": "2012-07-01T16:13:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124711",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:33'></a>
#11310 fixes all the catch-all `except:` clauses, breaking this patch.



---

archive/issue_comments_124712.json:
```json
{
    "body": "**Changing dependencies** from \"#11634, #13109\" to \"#11634, #13109, #11310\".",
    "created_at": "2012-07-01T16:13:48Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124712",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#11634, #13109" to "#11634, #13109, #11310".



---

archive/issue_comments_124713.json:
```json
{
    "body": "<a id='comment:34'></a>\nI'm getting one error when testing:\n\n```\nFile \"/home/novoselt/sage-5.2.rc1/devel/sage-main/sage/libs/ppl.pyx\", line 119:\n    sage: Polyhedron(vertices=gs, backend='cddr')  # long time (3s on sage.math, 2011)\nException raised:\n    Traceback (most recent call last):\n      File \"/home/novoselt/sage-5.2.rc1/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/home/novoselt/sage-5.2.rc1/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/home/novoselt/sage-5.2.rc1/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_0[37]>\", line 1, in <module>\n        Polyhedron(vertices=gs, backend='cddr')  # long time (3s on sage.math, 2011)###line 119:\n    sage: Polyhedron(vertices=gs, backend='cddr')  # long time (3s on sage.math, 2011)\n      File \"/home/novoselt/sage-5.2.rc1/local/lib/python/site-packages/sage/misc/decorators.py\", line 691, in wrapper\n        return func(*args, **kwds)\n      File \"/home/novoselt/sage-5.2.rc1/local/lib/python/site-packages/sage/geometry/polyhedron/constructor.py\", line 325, in Polyhedron\n        parent = Polyhedra(base_ring, ambient_dim, backend=backend)\n      File \"/home/novoselt/sage-5.2.rc1/local/lib/python/site-packages/sage/geometry/polyhedron/parent.py\", line 56, in Polyhedra\n        ') implemented for given basering (='+str(base_ring)+').')\n    ValueError: No such backend (=cddr) implemented for given basering (=Integer Ring).\n```",
    "created_at": "2012-07-25T19:50:31Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124713",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:34'></a>
I'm getting one error when testing:

```
File "/home/novoselt/sage-5.2.rc1/devel/sage-main/sage/libs/ppl.pyx", line 119:
    sage: Polyhedron(vertices=gs, backend='cddr')  # long time (3s on sage.math, 2011)
Exception raised:
    Traceback (most recent call last):
      File "/home/novoselt/sage-5.2.rc1/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/home/novoselt/sage-5.2.rc1/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/home/novoselt/sage-5.2.rc1/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_0[37]>", line 1, in <module>
        Polyhedron(vertices=gs, backend='cddr')  # long time (3s on sage.math, 2011)###line 119:
    sage: Polyhedron(vertices=gs, backend='cddr')  # long time (3s on sage.math, 2011)
      File "/home/novoselt/sage-5.2.rc1/local/lib/python/site-packages/sage/misc/decorators.py", line 691, in wrapper
        return func(*args, **kwds)
      File "/home/novoselt/sage-5.2.rc1/local/lib/python/site-packages/sage/geometry/polyhedron/constructor.py", line 325, in Polyhedron
        parent = Polyhedra(base_ring, ambient_dim, backend=backend)
      File "/home/novoselt/sage-5.2.rc1/local/lib/python/site-packages/sage/geometry/polyhedron/parent.py", line 56, in Polyhedra
        ') implemented for given basering (='+str(base_ring)+').')
    ValueError: No such backend (=cddr) implemented for given basering (=Integer Ring).
```



---

archive/issue_comments_124714.json:
```json
{
    "body": "<a id='comment:35'></a>\nI fixed the doctest (its `backend=cdd` not `cddr`) and added documentation to the `sage.geometry.polyhedron.parent.Polyhedra` constructor function.",
    "created_at": "2012-08-04T18:12:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124714",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:35'></a>
I fixed the doctest (its `backend=cdd` not `cddr`) and added documentation to the `sage.geometry.polyhedron.parent.Polyhedra` constructor function.



---

archive/issue_comments_124715.json:
```json
{
    "body": "<a id='comment:36'></a>\nUpdated patch fixes one important issue. The inherited comparison for `PolyhedronFace_base` was too lax, which resulted in identical (and not just isomorphic) face lattices in some cases. Fixed now.",
    "created_at": "2012-08-04T22:47:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124715",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:36'></a>
Updated patch fixes one important issue. The inherited comparison for `PolyhedronFace_base` was too lax, which resulted in identical (and not just isomorphic) face lattices in some cases. Fixed now.



---

archive/issue_comments_124716.json:
```json
{
    "body": "**Changing dependencies** from \"#11634, #13109, #11310\" to \"#11634, #13109, #11310, #13638\".",
    "created_at": "2012-10-22T11:49:36Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124716",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#11634, #13109, #11310" to "#11634, #13109, #11310, #13638".



---

archive/issue_comments_124717.json:
```json
{
    "body": "<a id='comment:37'></a>\nRebased for #13638",
    "created_at": "2012-10-22T11:49:36Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124717",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:37'></a>
Rebased for #13638



---

archive/attachments_016147.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_remove_trailing_whitespace.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_remove_trailing_whitespace.patch",
    "created_at": "2012-10-22T11:50:04Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124718.json:
```json
{
    "body": "**Attachment:** [trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)\n\nUpdated patch",
    "created_at": "2012-10-22T11:50:04Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124718",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)

Updated patch



---

archive/issue_comments_124719.json:
```json
{
    "body": "Updated patch",
    "created_at": "2012-10-23T21:45:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124719",
    "user": "https://github.com/vbraun"
}
```

Updated patch



---

archive/issue_comments_124720.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,6 +8,4 @@\n Apply:\n * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n-* [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)\n-* [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)\n \n``````\n",
    "created_at": "2012-10-23T21:47:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124720",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,6 +8,4 @@
 Apply:
 * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
 * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
-* [attachment:trac_11763_relax_typechecks.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_relax_typechecks.patch)
-* [attachment:trac_11763_remove_trailing_whitespace.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_remove_trailing_whitespace.patch)
 
``````




---

archive/attachments_016148.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_fix_associahedron.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_fix_associahedron.patch",
    "created_at": "2012-10-23T21:47:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124721.json:
```json
{
    "body": "<a id='comment:38'></a>\n**Attachment:** [trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n\nI've changed the `PolyhedronFace` class to just derive from `SageObject` this should be clearer. Also, the more trivial patches are folded into the first.\n\nIt would be great if this ticket could be reviewed before the heat death of the universe.",
    "created_at": "2012-10-23T21:47:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124721",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:38'></a>
**Attachment:** [trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)

I've changed the `PolyhedronFace` class to just derive from `SageObject` this should be clearer. Also, the more trivial patches are folded into the first.

It would be great if this ticket could be reviewed before the heat death of the universe.



---

archive/issue_comments_124722.json:
```json
{
    "body": "<a id='comment:39'></a>\nRebased for changes in #13638",
    "created_at": "2012-10-24T09:35:23Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124722",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:39'></a>
Rebased for changes in #13638



---

archive/issue_comments_124723.json:
```json
{
    "body": "<a id='comment:40'></a>\nApply only trac_11763-polyhedra_coercion_folded.2.patch trac_11763_fix_associahedron.patch",
    "created_at": "2012-10-26T13:34:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124723",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:40'></a>
Apply only trac_11763-polyhedra_coercion_folded.2.patch trac_11763_fix_associahedron.patch



---

archive/issue_comments_124724.json:
```json
{
    "body": "<a id='comment:41'></a>\nOk, let us forget about trailing whitespaces.\n\nBut what about the startup plugin which is complaining here ?",
    "created_at": "2012-10-26T14:38:59Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124724",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'></a>
Ok, let us forget about trailing whitespaces.

But what about the startup plugin which is complaining here ?



---

archive/issue_comments_124725.json:
```json
{
    "body": "<a id='comment:42'></a>\nI agree that using lazy imports would be good. I'll give it a whirl.",
    "created_at": "2012-10-26T14:46:36Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124725",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:42'></a>
I agree that using lazy imports would be good. I'll give it a whirl.



---

archive/issue_comments_124726.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -8,4 +8,5 @@\n Apply:\n * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n+* [attachment:trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)\n \n``````\n",
    "created_at": "2012-10-26T14:55:44Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124726",
    "user": "https://github.com/vbraun"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -8,4 +8,5 @@
 Apply:
 * [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
 * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
+* [attachment:trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)
 
``````




---

archive/issue_comments_124727.json:
```json
{
    "body": "<a id='comment:43'></a>\nPatch loads Polyhedron lazily, so we don't import anything on startup.",
    "created_at": "2012-10-26T14:55:44Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124727",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:43'></a>
Patch loads Polyhedron lazily, so we don't import anything on startup.



---

archive/issue_comments_124728.json:
```json
{
    "body": "<a id='comment:44'></a>\nAlso lazily import the parent `PolyhedralSets`, plus one typo fix.",
    "created_at": "2012-10-26T16:32:44Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124728",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
Also lazily import the parent `PolyhedralSets`, plus one typo fix.



---

archive/issue_comments_124729.json:
```json
{
    "body": "<a id='comment:45'></a>\nApply trac_11763-polyhedra_coercion_folded.2.patch trac_11763_fix_associahedron.patch trac_11763_lazy_import.patch",
    "created_at": "2012-10-26T18:26:24Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124729",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:45'></a>
Apply trac_11763-polyhedra_coercion_folded.2.patch trac_11763_fix_associahedron.patch trac_11763_lazy_import.patch



---

archive/issue_comments_124730.json:
```json
{
    "body": "Improved patch",
    "created_at": "2012-11-06T04:02:28Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124730",
    "user": "https://github.com/vbraun"
}
```

Improved patch



---

archive/issue_comments_124731.json:
```json
{
    "body": "**Changing dependencies** from \"#11634, #13109, #11310, #13638\" to \"#11634, #13109, #11310\".",
    "created_at": "2012-11-26T13:09:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124731",
    "user": "https://github.com/vbraun"
}
```

**Changing dependencies** from "#11634, #13109, #11310, #13638" to "#11634, #13109, #11310".



---

archive/attachments_016149.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763_lazy_import.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763_lazy_import.patch",
    "created_at": "2012-11-26T13:09:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124732.json:
```json
{
    "body": "<a id='comment:46'></a>\n**Attachment:** [trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)\n\nI switched the order this patch and #13638.",
    "created_at": "2012-11-26T13:09:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124732",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:46'></a>
**Attachment:** [trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)

I switched the order this patch and #13638.



---

archive/issue_events_094099.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-11-27T04:46:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94099"
}
```



---

archive/issue_events_094100.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2012-11-27T04:46:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94100"
}
```



---

archive/issue_comments_124733.json:
```json
{
    "body": "<a id='comment:48'></a>\nThe patchbot seems to follow the patch order in the Attachments list, rather than in the ticket description Apply list.",
    "created_at": "2012-11-27T12:37:12Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124733",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>
The patchbot seems to follow the patch order in the Attachments list, rather than in the ticket description Apply list.



---

archive/issue_comments_124734.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [@dimpase](#comment%3A48):\n> The patchbot seems to follow the patch order in the Attachments list, rather than in the ticket description Apply list.\n\nIf I am reading the [right patchbot source](https://github.com/robertwb/sage-patchbot/blob/master/src/trac.py), it seems that it looks for `apply` in the whole rss feed...",
    "created_at": "2012-11-27T12:49:26Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124734",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>
Replying to [@dimpase](#comment%3A48):
> The patchbot seems to follow the patch order in the Attachments list, rather than in the ticket description Apply list.

If I am reading the [right patchbot source](https://github.com/robertwb/sage-patchbot/blob/master/src/trac.py), it seems that it looks for `apply` in the whole rss feed...



---

archive/issue_comments_124735.json:
```json
{
    "body": "<a id='comment:50'></a>\nFor the patchbot:\n\nApply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_lazy_import.patch",
    "created_at": "2012-11-27T16:52:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124735",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:50'></a>
For the patchbot:

Apply trac_11763-polyhedra_coercion_folded.2.patch, trac_11763_fix_associahedron.patch, trac_11763_lazy_import.patch



---

archive/issue_comments_124736.json:
```json
{
    "body": "**Reviewer:** Dmitrii Pasechnik",
    "created_at": "2012-11-28T15:35:08Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124736",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Dmitrii Pasechnik



---

archive/issue_comments_124737.json:
```json
{
    "body": "<a id='comment:52'></a>\nOn some systems, such as OS X >= 10.6 and Itanium:\n\n```\nsage -t  --long -force_lib devel/sage/sage/geometry/polyhedron/base.py\n**********************************************************************\nFile \"/Users/dehayebuildbot/build/sage/dehaye/dehaye_full/build/sage-5.6.beta0/devel/sage-main/sage/geometry/polyhedron/base.py\", line 385:\n    sage: cmp(P, 'string')\nExpected:\n    -1\nGot:\n    1\n**********************************************************************\n```",
    "created_at": "2012-12-18T07:36:41Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124737",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:52'></a>
On some systems, such as OS X >= 10.6 and Itanium:

```
sage -t  --long -force_lib devel/sage/sage/geometry/polyhedron/base.py
**********************************************************************
File "/Users/dehayebuildbot/build/sage/dehaye/dehaye_full/build/sage-5.6.beta0/devel/sage-main/sage/geometry/polyhedron/base.py", line 385:
    sage: cmp(P, 'string')
Expected:
    -1
Got:
    1
**********************************************************************
```



---

archive/issue_events_094101.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T08:05:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94101"
}
```



---

archive/issue_events_094102.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-18T08:05:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94102"
}
```



---

archive/attachments_016150.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763-polyhedra_coercion_folded.2.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch",
    "created_at": "2012-12-18T10:06:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch",
    "user": "https://github.com/vbraun"
}
```



---

archive/issue_comments_124738.json:
```json
{
    "body": "**Attachment:** [trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n\nUpdated patch",
    "created_at": "2012-12-18T10:06:00Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124738",
    "user": "https://github.com/vbraun"
}
```

**Attachment:** [trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)

Updated patch



---

archive/issue_events_094103.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T10:06:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94103"
}
```



---

archive/issue_events_094104.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2012-12-18T10:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94104"
}
```



---

archive/issue_comments_124739.json:
```json
{
    "body": "<a id='comment:54'></a>\nI've added the trivial fix.",
    "created_at": "2012-12-18T10:06:22Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124739",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:54'></a>
I've added the trivial fix.



---

archive/issue_comments_124740.json:
```json
{
    "body": "<a id='comment:55'></a>\nAnd now I noticed that this was already fixed in #12193.",
    "created_at": "2012-12-18T10:43:14Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124740",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:55'></a>
And now I noticed that this was already fixed in #12193.



---

archive/issue_comments_124741.json:
```json
{
    "body": "**Merged:** sage-5.6.beta1",
    "created_at": "2012-12-21T09:30:41Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124741",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.6.beta1



---

archive/issue_events_094105.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-21T09:30:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94105"
}
```



---

archive/issue_events_094106.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-21T09:30:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11763#event-94106"
}
```



---

archive/attachments_016151.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11763-polyhedra_coercion_folded.3.patch",
    "asset_url": "tarball://root/attachments/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch",
    "created_at": "2012-12-21T09:41:09Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_124742.json:
```json
{
    "body": "**Attachment:** [trac_11763-polyhedra_coercion_folded.3.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch)",
    "created_at": "2012-12-21T09:41:09Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124742",
    "user": "https://github.com/jdemeyer"
}
```

**Attachment:** [trac_11763-polyhedra_coercion_folded.3.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch)



---

archive/issue_comments_124743.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,7 +6,7 @@\n * RDF\n \n Apply:\n-* [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)\n+* [attachment:trac_11763-polyhedra_coercion_folded.3.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch)\n * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)\n * [attachment:trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)\n \n``````\n",
    "created_at": "2012-12-21T09:41:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124743",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,7 +6,7 @@
 * RDF
 
 Apply:
-* [attachment:trac_11763-polyhedra_coercion_folded.2.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.2.patch)
+* [attachment:trac_11763-polyhedra_coercion_folded.3.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763-polyhedra_coercion_folded.3.patch)
 * [attachment:trac_11763_fix_associahedron.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_fix_associahedron.patch)
 * [attachment:trac_11763_lazy_import.patch](https://github.com/sagemath/sage/files/ticket11763/trac_11763_lazy_import.patch)
 
``````




---

archive/issue_comments_124744.json:
```json
{
    "body": "<a id='comment:57'></a>\nRebased to sage-5.6.beta0.",
    "created_at": "2012-12-21T09:41:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124744",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:57'></a>
Rebased to sage-5.6.beta0.



---

archive/issue_comments_124745.json:
```json
{
    "body": "<a id='comment:58'></a>\nHey Volker,\n\nDo you remember what was the reason for this change in `normalize_rays`?\n\n```diff\ndiff --git a/sage/geometry/cone.py b/sage/geometry/cone.py\n\nIndex: sage/geometry/cone.py\n===================================================================\n--- a/sage/geometry/cone.py\n+++ b/sage/geometry/cone.py\n@@ -568,7 +568,10 @@\n         V = lattice.base_extend(QQ)\n         for n, ray in enumerate(rays):\n             try:\n-                ray = V(ray)\n+                if isinstance(ray, (list, tuple, V._element_class)):\n+                    ray = V(ray)\n+                else:\n+                    ray = V(list(ray))\n             except TypeError:\n                 raise TypeError(\"cannot convert %s to %s!\" % (ray, V))\n             if ray.is_zero():\n```\nIt seems that if `V` does not want to take a `ray`, we should not force it.",
    "created_at": "2012-12-24T20:26:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124745",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:58'></a>
Hey Volker,

Do you remember what was the reason for this change in `normalize_rays`?

```diff
diff --git a/sage/geometry/cone.py b/sage/geometry/cone.py

Index: sage/geometry/cone.py
===================================================================
--- a/sage/geometry/cone.py
+++ b/sage/geometry/cone.py
@@ -568,7 +568,10 @@
         V = lattice.base_extend(QQ)
         for n, ray in enumerate(rays):
             try:
-                ray = V(ray)
+                if isinstance(ray, (list, tuple, V._element_class)):
+                    ray = V(ray)
+                else:
+                    ray = V(list(ray))
             except TypeError:
                 raise TypeError("cannot convert %s to %s!" % (ray, V))
             if ray.is_zero():
```
It seems that if `V` does not want to take a `ray`, we should not force it.



---

archive/issue_comments_124746.json:
```json
{
    "body": "<a id='comment:59'></a>\nI think the idea is to allow arbitrary iterables in `normalize_rays`. Why not? Its an auxiliary function, and the more general it is the better.",
    "created_at": "2012-12-24T20:34:16Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124746",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:59'></a>
I think the idea is to allow arbitrary iterables in `normalize_rays`. Why not? Its an auxiliary function, and the more general it is the better.



---

archive/issue_comments_124747.json:
```json
{
    "body": "<a id='comment:60'></a>\nI just was wondering what was the particular use case - found this bit because of the fuzz with another patch. I don't mind it, although changing what `V.__call__` accepts seems a more pleasant solution ;-)",
    "created_at": "2012-12-25T02:42:33Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124747",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:60'></a>
I just was wondering what was the particular use case - found this bit because of the fuzz with another patch. I don't mind it, although changing what `V.__call__` accepts seems a more pleasant solution ;-)



---

archive/issue_comments_124748.json:
```json
{
    "body": "<a id='comment:61'></a>\nReplying to [@novoselt](#comment%3A60):\n> I don't mind it, although changing what `V.__call__` accepts seems a more pleasant solution ;-)\n\nWasn't that one of our design decisions, that the ToricLattice should forbid conversion between the lattice and its dual?",
    "created_at": "2012-12-25T13:24:17Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124748",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:61'></a>
Replying to [@novoselt](#comment%3A60):
> I don't mind it, although changing what `V.__call__` accepts seems a more pleasant solution ;-)

Wasn't that one of our design decisions, that the ToricLattice should forbid conversion between the lattice and its dual?



---

archive/issue_comments_124749.json:
```json
{
    "body": "<a id='comment:62'></a>\nReplying to [@vbraun](#comment%3A61):\n> Wasn't that one of our design decisions, that the ToricLattice should forbid conversion between the lattice and its dual? \n\nWe prohibit coercion, conversion is certainly possible, and here `V` is the spanned vector space anyway. But I've also hit many times a situation when a standard constructor in Sage would not take generators as input, which is probably what has happened here.",
    "created_at": "2012-12-28T02:53:46Z",
    "issue": "https://github.com/sagemath/sage/issues/11763",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11763#issuecomment-124749",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:62'></a>
Replying to [@vbraun](#comment%3A61):
> Wasn't that one of our design decisions, that the ToricLattice should forbid conversion between the lattice and its dual? 

We prohibit coercion, conversion is certainly possible, and here `V` is the spanned vector space anyway. But I've also hit many times a situation when a standard constructor in Sage would not take generators as input, which is probably what has happened here.
