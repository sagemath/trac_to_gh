# Issue 11938: Finite fields defined by Conway polynomials: conversion of elements into subfields

archive/issues_011766.json:
```json
{
    "assignees": [
        "https://github.com/ClementPernet"
    ],
    "body": "We have\n\n```            \nsage: from sage.rings.finite_rings.finite_field_givaro import FiniteField_givaro\nsage: F9 = FiniteField_givaro(9)\nsage: F81 = FiniteField_givaro(81)\nsage: F81(F9.gen())\nTraceback (most recent call last):\n...\nNotImplementedError\n```\nso one should implement this. Incidentally I did that, patch follows.\n\nApply \n* [attachment: trac_11938-5.11.beta1.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938-5.11.beta1.patch.gz)\n\n\nDepends on #13214\n\nCC:  @rbeezer @dimpase @jpflori @pjbruin @defeo\n\nKeywords: **finite field, givaro, Conway polynomial, conversion, coercion sd51**\n\nReviewer: **Jean-Pierre Flori**\n\nAuthor: **Daniel Krenn**\n\nComponent: **finite rings**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11938_\n\n",
    "closed_at": "2014-01-04T04:24:52Z",
    "created_at": "2011-10-18T09:36:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20finite%20rings",
        "https://github.com/sagemath/sage/labels/enhancement",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Finite fields defined by Conway polynomials: conversion of elements into subfields",
    "type": "issue",
    "updated_at": "2014-01-04T04:24:52Z",
    "url": "https://github.com/sagemath/sage/issues/11938",
    "user": "https://github.com/dkrenn"
}
```
We have

```            
sage: from sage.rings.finite_rings.finite_field_givaro import FiniteField_givaro
sage: F9 = FiniteField_givaro(9)
sage: F81 = FiniteField_givaro(81)
sage: F81(F9.gen())
Traceback (most recent call last):
...
NotImplementedError
```
so one should implement this. Incidentally I did that, patch follows.

Apply 
* [attachment: trac_11938-5.11.beta1.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938-5.11.beta1.patch.gz)


Depends on #13214

CC:  @rbeezer @dimpase @jpflori @pjbruin @defeo

Keywords: **finite field, givaro, Conway polynomial, conversion, coercion sd51**

Reviewer: **Jean-Pierre Flori**

Author: **Daniel Krenn**

Component: **finite rings**

_Issue created by migration from https://trac.sagemath.org/ticket/11938_





---

archive/issue_events_161217.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2011-10-18T09:36:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161217"
}
```



---

archive/issue_events_161218.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2011-10-18T09:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20finite%20rings",
    "label_color": "0000ff",
    "label_name": "c: finite rings",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161218"
}
```



---

archive/issue_events_161219.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2011-10-18T09:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161219"
}
```



---

archive/issue_events_161220.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2011-10-18T09:36:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161220"
}
```



---

archive/issue_events_161221.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2011-10-18T09:36:43Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "subject": "https://github.com/dkrenn",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161221"
}
```



---

archive/issue_comments_126331.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nAttachment: **[trac_11938_conversion_gf_conway.patch.gz](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.patch.gz)**\n\nHere comes the patch ;) Conversion is possible in both directions (up and down), see example below.\n\n```\nsage: from sage.rings.finite_rings.finite_field_givaro import FiniteField_givaro\nsage: F4 = FiniteField_givaro(4,'b')\nsage: F16 = FiniteField_givaro(16,'c')\nsage: z = F4.gen() + F16.gen(); z\nc^2\nsage: z.parent()\nFinite Field in c of size 2^4\nsage: F4(z)\nTraceback (most recent call last):\n...\nValueError: c^2 is not a sub-field element            \nsage: F4(z+F16.gen())\nb\n```",
    "created_at": "2011-10-18T09:45:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126331",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:1" align="right">comment:1</div>

Attachment: **[trac_11938_conversion_gf_conway.patch.gz](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.patch.gz)**

Here comes the patch ;) Conversion is possible in both directions (up and down), see example below.

```
sage: from sage.rings.finite_rings.finite_field_givaro import FiniteField_givaro
sage: F4 = FiniteField_givaro(4,'b')
sage: F16 = FiniteField_givaro(16,'c')
sage: z = F4.gen() + F16.gen(); z
c^2
sage: z.parent()
Finite Field in c of size 2^4
sage: F4(z)
Traceback (most recent call last):
...
ValueError: c^2 is not a sub-field element            
sage: F4(z+F16.gen())
b
```



---

archive/issue_events_161222.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2011-10-18T09:45:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161222"
}
```



---

archive/issue_comments_126332.json:
```json
{
    "body": "Author: **Daniel Krenn**",
    "created_at": "2011-11-04T17:30:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126332",
    "user": "https://github.com/dkrenn"
}
```

Author: **Daniel Krenn**



---

archive/issue_comments_126333.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nI'm afraid this doesn't apply to the current Sage beta (see patchbot logs). I suspect it conflicts with #12084 (merged in 5.0.beta0).",
    "created_at": "2012-03-25T21:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126333",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:3" align="right">comment:3</div>

I'm afraid this doesn't apply to the current Sage beta (see patchbot logs). I suspect it conflicts with #12084 (merged in 5.0.beta0).



---

archive/issue_events_161223.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-25T21:24:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161223"
}
```



---

archive/issue_events_161224.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-25T21:24:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161224"
}
```



---

archive/issue_comments_126334.json:
```json
{
    "body": "Work Issues: **needs rebase**",
    "created_at": "2012-03-25T21:24:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126334",
    "user": "https://github.com/loefflerd"
}
```

Work Issues: **needs rebase**



---

archive/issue_comments_126335.json:
```json
{
    "body": "Attachment: **[trac_11938_conversion_gf_conway.2.patch.gz](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)**",
    "created_at": "2012-04-15T12:48:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126335",
    "user": "https://github.com/dkrenn"
}
```

Attachment: **[trac_11938_conversion_gf_conway.2.patch.gz](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)**



---

archive/issue_events_161225.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2012-04-15T12:49:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161225"
}
```



---

archive/issue_events_161226.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2012-04-15T12:49:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161226"
}
```



---

archive/issue_comments_126336.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,3 +10,5 @@\n NotImplementedError\n ```\n so one should implement this. Incidentally I did that, patch follows.\n+\n+Apply trac_11938_conversion_gf_conway.2.patch\n``````\n",
    "created_at": "2012-04-15T12:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126336",
    "user": "https://github.com/dkrenn"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,3 +10,5 @@
 NotImplementedError
 ```
 so one should implement this. Incidentally I did that, patch follows.
+
+Apply trac_11938_conversion_gf_conway.2.patch
``````




---

archive/issue_comments_126337.json:
```json
{
    "body": "Changed work issues from **needs rebase** to none",
    "created_at": "2012-04-15T12:49:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126337",
    "user": "https://github.com/dkrenn"
}
```

Changed work issues from **needs rebase** to none



---

archive/issue_comments_126338.json:
```json
{
    "body": "Dependencies: **#12084**",
    "created_at": "2012-04-15T12:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126338",
    "user": "https://github.com/dkrenn"
}
```

Dependencies: **#12084**



---

archive/issue_comments_126339.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\ntrac_11938_conversion_gf_conway.2.patch is on sage-5.0.beta13",
    "created_at": "2012-04-15T12:51:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126339",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:6" align="right">comment:6</div>

trac_11938_conversion_gf_conway.2.patch is on sage-5.0.beta13



---

archive/issue_comments_126340.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis ticket actually fixes a nasty bug in the coding theory part.\n\n```\nsage: R = ReedSolomonCode(15,3,GF(16,'a'))\nsage: R.minimum_distance()                \n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/devel/sage-main/<ipython console> in <module>()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/misc/decorators.pyc in wrapper(*args, **kwds)\n    685                     kwds[new_name] = kwds[old_name]\n    686                     del kwds[old_name]\n--> 687             return func(*args, **kwds)\n    688 \n    689         return wrapper\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/coding/linear_code.pyc in minimum_distance(self, algorithm)\n   1890             return ZZ(d)\n   1891         Gstr = \"%s*Z(%s)^0\"%(gapG, q)\n-> 1892         return hamming_weight(min_wt_vec_gap(Gstr,n,k,F))\n   1893 \n   1894     def module_composition_factors(self, gp):\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/misc/decorators.pyc in wrapper(*args, **kwds)\n    685                     kwds[new_name] = kwds[old_name]\n    686                     del kwds[old_name]\n--> 687             return func(*args, **kwds)\n    688 \n    689         return wrapper\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/coding/linear_code.pyc in min_wt_vec_gap(Gmat, n, k, F, algorithm)\n    391         #print v,m,dist\n\n    392         #print [gap.eval(\"v[\"+str(i+1)+\"]\") for i in range(n)]\n\n--> 393         all.append([v._matrix_(F),m._matrix_(F),int(dist)])\n    394     ans = all[0]\n    395     for x in all:\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/interfaces/gap.pyc in _matrix_(self, R)\n    859         from sage.matrix.matrix_space import MatrixSpace\n    860         M = MatrixSpace(R, n, m)\n--> 861         entries = [[R(self[r,c]) for c in range(1,m+1)] for r in range(1,n+1)]\n    862         return M(entries)\n    863 \n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:8009)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3411)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3314)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/finite_field_givaro.pyc in _element_constructor_(self, e)\n    331             TypeError: unable to coerce from a finite field other than the prime subfield\n    332         \"\"\"\n--> 333         return self._cache.element_from_data(e)\n    334 \n    335     def _coerce_map_from_(self, R):\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/element_givaro.so in sage.rings.finite_rings.element_givaro.Cache_givaro.element_from_data (sage/rings/finite_rings/element_givaro.cpp:5957)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/element_givaro.so in sage.rings.finite_rings.element_givaro.Cache_givaro.element_from_data (sage/rings/finite_rings/element_givaro.cpp:5458)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/interfaces/gap.pyc in gfq_gap_to_sage(x, F)\n   1438     else:\n   1439         g = K.multiplicative_generator()\n-> 1440     return F(K(g**e))\n   1441 \n   1442 def intmod_gap_to_sage(x):\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7974)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.convert_map_from (sage/structure/parent.c:15419)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.discover_convert_map_from (sage/structure/parent.c:15570)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14194)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.discover_coerce_map_from (sage/structure/parent.c:14589)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent_old.so in sage.structure.parent_old.Parent._coerce_map_from_ (sage/structure/parent_old.c:6122)()\n\n/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/finite_field_givaro.pyc in _coerce_map_from_(self, R)\n    366                     # This is where we *would* do coercion from one nontrivial finite field to another...\n\n    367                     # We use this error message for backward compatibility until #8335 is finished\n\n--> 368                     raise TypeError, \"unable to coerce from a finite field other than the prime subfield\"\n    369 \n    370     def gen(self, n=0):\n\nTypeError: unable to coerce from a finite field other than the prime subfield\nsage: \n```\nAfter this patch:\n\n```\nsage: R = ReedSolomonCode(15,3,GF(16,'a'))\nsage: R.minimum_distance()                \n13\n```\nPerhaps someone more knowledgeable about conway polynomials and the finite field givaro code can properly review it.\n\nI have just minor comments to make. It will be nice to have statements like\n\n```\nraise TypeError, \"unable to convert from a finite field with different characteristic\"\n```\ninstead written as\n\n```\nraise TypeError(\"unable to convert from a finite field with different characteristic\")\n```\nThis will increase the compatibility with python3 (when Sage moves to python3 in the future).",
    "created_at": "2012-06-04T05:38:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126340",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:7" align="right">comment:7</div>

This ticket actually fixes a nasty bug in the coding theory part.

```
sage: R = ReedSolomonCode(15,3,GF(16,'a'))
sage: R.minimum_distance()                
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/punarbasu/Installations/sage-5.1beta1.trac/devel/sage-main/<ipython console> in <module>()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/misc/decorators.pyc in wrapper(*args, **kwds)
    685                     kwds[new_name] = kwds[old_name]
    686                     del kwds[old_name]
--> 687             return func(*args, **kwds)
    688 
    689         return wrapper

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/coding/linear_code.pyc in minimum_distance(self, algorithm)
   1890             return ZZ(d)
   1891         Gstr = "%s*Z(%s)^0"%(gapG, q)
-> 1892         return hamming_weight(min_wt_vec_gap(Gstr,n,k,F))
   1893 
   1894     def module_composition_factors(self, gp):

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/misc/decorators.pyc in wrapper(*args, **kwds)
    685                     kwds[new_name] = kwds[old_name]
    686                     del kwds[old_name]
--> 687             return func(*args, **kwds)
    688 
    689         return wrapper

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/coding/linear_code.pyc in min_wt_vec_gap(Gmat, n, k, F, algorithm)
    391         #print v,m,dist

    392         #print [gap.eval("v["+str(i+1)+"]") for i in range(n)]

--> 393         all.append([v._matrix_(F),m._matrix_(F),int(dist)])
    394     ans = all[0]
    395     for x in all:

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/interfaces/gap.pyc in _matrix_(self, R)
    859         from sage.matrix.matrix_space import MatrixSpace
    860         M = MatrixSpace(R, n, m)
--> 861         entries = [[R(self[r,c]) for c in range(1,m+1)] for r in range(1,n+1)]
    862         return M(entries)
    863 

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:8009)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3411)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/coerce_maps.so in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3314)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/finite_field_givaro.pyc in _element_constructor_(self, e)
    331             TypeError: unable to coerce from a finite field other than the prime subfield
    332         """
--> 333         return self._cache.element_from_data(e)
    334 
    335     def _coerce_map_from_(self, R):

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/element_givaro.so in sage.rings.finite_rings.element_givaro.Cache_givaro.element_from_data (sage/rings/finite_rings/element_givaro.cpp:5957)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/element_givaro.so in sage.rings.finite_rings.element_givaro.Cache_givaro.element_from_data (sage/rings/finite_rings/element_givaro.cpp:5458)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/interfaces/gap.pyc in gfq_gap_to_sage(x, F)
   1438     else:
   1439         g = K.multiplicative_generator()
-> 1440     return F(K(g**e))
   1441 
   1442 def intmod_gap_to_sage(x):

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7974)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.convert_map_from (sage/structure/parent.c:15419)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.discover_convert_map_from (sage/structure/parent.c:15570)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14194)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent.so in sage.structure.parent.Parent.discover_coerce_map_from (sage/structure/parent.c:14589)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/structure/parent_old.so in sage.structure.parent_old.Parent._coerce_map_from_ (sage/structure/parent_old.c:6122)()

/home/punarbasu/Installations/sage-5.1beta1.trac/local/lib/python2.7/site-packages/sage/rings/finite_rings/finite_field_givaro.pyc in _coerce_map_from_(self, R)
    366                     # This is where we *would* do coercion from one nontrivial finite field to another...

    367                     # We use this error message for backward compatibility until #8335 is finished

--> 368                     raise TypeError, "unable to coerce from a finite field other than the prime subfield"
    369 
    370     def gen(self, n=0):

TypeError: unable to coerce from a finite field other than the prime subfield
sage: 
```
After this patch:

```
sage: R = ReedSolomonCode(15,3,GF(16,'a'))
sage: R.minimum_distance()                
13
```
Perhaps someone more knowledgeable about conway polynomials and the finite field givaro code can properly review it.

I have just minor comments to make. It will be nice to have statements like

```
raise TypeError, "unable to convert from a finite field with different characteristic"
```
instead written as

```
raise TypeError("unable to convert from a finite field with different characteristic")
```
This will increase the compatibility with python3 (when Sage moves to python3 in the future).



---

archive/issue_comments_126341.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,4 +11,5 @@\n ```\n so one should implement this. Incidentally I did that, patch follows.\n \n-Apply trac_11938_conversion_gf_conway.2.patch\n+Apply \n+[attachment: trac_11938_conversion_gf_conway.2.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)\n``````\n",
    "created_at": "2012-11-07T14:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126341",
    "user": "https://github.com/dimpase"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,4 +11,5 @@
 ```
 so one should implement this. Incidentally I did that, patch follows.
 
-Apply trac_11938_conversion_gf_conway.2.patch
+Apply 
+[attachment: trac_11938_conversion_gf_conway.2.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)
``````




---

archive/issue_comments_126342.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nIs it normal that the patch is failing it's own doctest? The current answer is negative of the previous answer. From the patchbot:\n\n```\n    sage: F81(F9.gen())\nExpected:\n    a^3 + a^2 + 2\nGot:\n    2*a^3 + 2*a^2 + 1\n```",
    "created_at": "2012-11-17T19:50:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126342",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:10" align="right">comment:10</div>

Is it normal that the patch is failing it's own doctest? The current answer is negative of the previous answer. From the patchbot:

```
    sage: F81(F9.gen())
Expected:
    a^3 + a^2 + 2
Got:
    2*a^3 + 2*a^2 + 1
```



---

archive/issue_comments_126343.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI think you might be interested in #8335 which should definitely get in as well and might even superseed what is done here (no time to look at the patches now, so sorry if that's wrong).",
    "created_at": "2013-01-04T10:37:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126343",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:11" align="right">comment:11</div>

I think you might be interested in #8335 which should definitely get in as well and might even superseed what is done here (no time to look at the patches now, so sorry if that's wrong).



---

archive/issue_events_161227.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-01-04T10:46:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161227"
}
```



---

archive/issue_events_161228.json:
```json
{
    "actor": "https://github.com/ppurka",
    "created_at": "2013-01-04T10:46:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161228"
}
```



---

archive/issue_comments_126344.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jpflori](#comment:11):\n> I think you might be interested in #8335 which should definitely get in as well and might even superseed what is done here (no time to look at the patches now, so sorry if that's wrong).\n\nThanks for bringing this to our attention. All these nice patches are bitrotting while the functionality remains missing in Sage. I don't know much about the theory behind conway polynomials (or pseudo-conway polynomials that is being used in #8335), otherwise I might have tried to fix this.",
    "created_at": "2013-01-04T10:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126344",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jpflori](#comment:11):
> I think you might be interested in #8335 which should definitely get in as well and might even superseed what is done here (no time to look at the patches now, so sorry if that's wrong).

Thanks for bringing this to our attention. All these nice patches are bitrotting while the functionality remains missing in Sage. I don't know much about the theory behind conway polynomials (or pseudo-conway polynomials that is being used in #8335), otherwise I might have tried to fix this.



---

archive/issue_comments_126345.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,7 @@\n \n Apply \n [attachment: trac_11938_conversion_gf_conway.2.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)\n+\n+---\n+\n+Update (2013-Jan-04): Probably this functionality should be introduced by the patch in #8335 instead.\n``````\n",
    "created_at": "2013-01-04T10:46:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126345",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,7 @@
 
 Apply 
 [attachment: trac_11938_conversion_gf_conway.2.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)
+
+---
+
+Update (2013-Jan-04): Probably this functionality should be introduced by the patch in #8335 instead.
``````




---

archive/issue_comments_126346.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSome of the stuff here might be more efficient for Givaro than what is provided in #8335, and you also give the opportunity to go down, i.e. from a field to a subfield which is not the case in #8335.\n\nNonetheless, I think both of these should be handled after #8335 gets merged.\nFirst a general ticket to allow going down, and another one to provide optimized implementations for Givaro finite fields.",
    "created_at": "2013-06-04T09:18:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126346",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:13" align="right">comment:13</div>

Some of the stuff here might be more efficient for Givaro than what is provided in #8335, and you also give the opportunity to go down, i.e. from a field to a subfield which is not the case in #8335.

Nonetheless, I think both of these should be handled after #8335 gets merged.
First a general ticket to allow going down, and another one to provide optimized implementations for Givaro finite fields.



---

archive/issue_comments_126347.json:
```json
{
    "body": "Reviewed patch, rebased on top of #8335.",
    "created_at": "2013-06-20T14:03:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126347",
    "user": "https://github.com/jpflori"
}
```

Reviewed patch, rebased on top of #8335.



---

archive/issue_comments_126348.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,8 +12,5 @@\n so one should implement this. Incidentally I did that, patch follows.\n \n Apply \n-[attachment: trac_11938_conversion_gf_conway.2.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)\n+* [attachment: trac_11938-5.11.beta1.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938-5.11.beta1.patch.gz)\n \n----\n-\n-Update (2013-Jan-04): Probably this functionality should be introduced by the patch in #8335 instead.\n``````\n",
    "created_at": "2013-06-20T14:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126348",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,8 +12,5 @@
 so one should implement this. Incidentally I did that, patch follows.
 
 Apply 
-[attachment: trac_11938_conversion_gf_conway.2.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938_conversion_gf_conway.2.patch.gz)
+* [attachment: trac_11938-5.11.beta1.patch](https://github.com/sagemath/sage/files/ticket11938/trac_11938-5.11.beta1.patch.gz)
 
----
-
-Update (2013-Jan-04): Probably this functionality should be introduced by the patch in #8335 instead.
``````




---

archive/issue_comments_126349.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2013-06-20T14:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126349",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_events_161229.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-20T14:05:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161229"
}
```



---

archive/issue_events_161230.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-06-20T14:05:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161230"
}
```



---

archive/issue_comments_126350.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAttachment: **[trac_11938-5.11.beta1.patch.gz](https://github.com/sagemath/sage/files/ticket11938/trac_11938-5.11.beta1.patch.gz)**\n\nRebased the patch on top of #8335, some fixes.\nWhen #8335 gets in, this should as well.",
    "created_at": "2013-06-20T14:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126350",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:15" align="right">comment:15</div>

Attachment: **[trac_11938-5.11.beta1.patch.gz](https://github.com/sagemath/sage/files/ticket11938/trac_11938-5.11.beta1.patch.gz)**

Rebased the patch on top of #8335, some fixes.
When #8335 gets in, this should as well.



---

archive/issue_comments_126351.json:
```json
{
    "body": "Changed dependencies from **#12084** to **#12084, #8335**",
    "created_at": "2013-06-20T14:05:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126351",
    "user": "https://github.com/jpflori"
}
```

Changed dependencies from **#12084** to **#12084, #8335**



---

archive/issue_comments_126352.json:
```json
{
    "body": "Changed keywords from **finite field, givaro, Conway polynomial, conversion, coercion** to **finite field, givaro, Conway polynomial, conversion, coercion sd51**",
    "created_at": "2013-07-13T21:08:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126352",
    "user": "https://github.com/pjbruin"
}
```

Changed keywords from **finite field, givaro, Conway polynomial, conversion, coercion** to **finite field, givaro, Conway polynomial, conversion, coercion sd51**



---

archive/issue_comments_126353.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIn the meantime, #8335 changed a lot and this patch does not apply anymore.  On the other hand, after #8335, one can now do\n\n```\nsage: F9=GF(9,conway=True,prefix='z')      \nsage: F81=GF(81,conway=True,prefix='z')    \nsage: F81(F9.gen())                    \n2*z4^3 + 2*z4^2 + 1\n```\nI want to advocate the viewpoint that this feature should only be enabled when a compatible system of finite fields is expressly requested, either using the `conway=True` syntax from #8335 or in the future using an algebraic closure (see #14990).\n\nThe fact that elements from `F81` that are actually in `F9` cannot yet be coerced down into `F9` is not addressed by #8335, though.  I guess this ticket is the place to solve that problem.\n\nIt is probably better to put this in `FiniteField_base.pyx`, since the feature is in principle implementation-independent.\n\nOne thing to think about: in the current patch, the down-conversion involves taking roots in the finite field.  This might be the best way for finite fields that are implemented using Givaro, because it represents elements as powers of a generator of the multiplicative group.  For general finite fields, it could be more efficient to write down the inclusion map as an **F**<sub>*p*</sub>-linear map and to find the unique solution of the corresponding linear system.",
    "created_at": "2013-08-05T15:40:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126353",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:19" align="right">comment:19</div>

In the meantime, #8335 changed a lot and this patch does not apply anymore.  On the other hand, after #8335, one can now do

```
sage: F9=GF(9,conway=True,prefix='z')      
sage: F81=GF(81,conway=True,prefix='z')    
sage: F81(F9.gen())                    
2*z4^3 + 2*z4^2 + 1
```
I want to advocate the viewpoint that this feature should only be enabled when a compatible system of finite fields is expressly requested, either using the `conway=True` syntax from #8335 or in the future using an algebraic closure (see #14990).

The fact that elements from `F81` that are actually in `F9` cannot yet be coerced down into `F9` is not addressed by #8335, though.  I guess this ticket is the place to solve that problem.

It is probably better to put this in `FiniteField_base.pyx`, since the feature is in principle implementation-independent.

One thing to think about: in the current patch, the down-conversion involves taking roots in the finite field.  This might be the best way for finite fields that are implemented using Givaro, because it represents elements as powers of a generator of the multiplicative group.  For general finite fields, it could be more efficient to write down the inclusion map as an **F**<sub>*p*</sub>-linear map and to find the unique solution of the corresponding linear system.



---

archive/issue_events_161231.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-08-05T15:40:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161231"
}
```



---

archive/issue_events_161232.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-08-05T15:40:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161232"
}
```



---

archive/issue_events_161233.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-08-05T15:40:38Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "title_is": "Finite fields defined by Conway polynomials: conversion of elements into subfields",
    "title_was": "FiniteField_givaro defined by Conway polynomials: conversion of elements from F_{p^n} to F_{p^m}",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161233"
}
```



---

archive/issue_events_161234.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-08-13T09:21:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161234"
}
```



---

archive/issue_events_161235.json:
```json
{
    "actor": "https://github.com/pjbruin",
    "created_at": "2013-08-13T09:21:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161235"
}
```



---

archive/issue_comments_126354.json:
```json
{
    "body": "Changed dependencies from **#12084, #8335** to **#13214**",
    "created_at": "2013-08-13T09:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126354",
    "user": "https://github.com/pjbruin"
}
```

Changed dependencies from **#12084, #8335** to **#13214**



---

archive/issue_comments_126355.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI just finished reviewing (and slightly extending) #13214.  It seems to me that the problem of mapping finite field elements into subfields is now solved in a more systematic way by #13214.\n\nThis is due to the following fact: if you have a coercion map *K* -> *L* and a section of this map, and if *b* is in *L*, typing `K(b)` will try to apply the section to *b*.  Indeed, extending the example in [comment:19](#comment:19), one can now type\n\n```\nsage: F9=GF(9, conway=True, prefix='z')      \nsage: F81=GF(81, conway=True, prefix='z')    \nsage: F81(F9.gen())                    \n2*z4^3 + 2*z4^2 + 1\nsage: F9(F81.gen()^10)\nz2\n```\nAm I correct that #13214 (if positively reviewed) supersedes this ticket?",
    "created_at": "2013-08-13T09:21:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126355",
    "user": "https://github.com/pjbruin"
}
```

<div id="comment:20" align="right">comment:20</div>

I just finished reviewing (and slightly extending) #13214.  It seems to me that the problem of mapping finite field elements into subfields is now solved in a more systematic way by #13214.

This is due to the following fact: if you have a coercion map *K* -> *L* and a section of this map, and if *b* is in *L*, typing `K(b)` will try to apply the section to *b*.  Indeed, extending the example in [comment:19](#comment:19), one can now type

```
sage: F9=GF(9, conway=True, prefix='z')      
sage: F81=GF(81, conway=True, prefix='z')    
sage: F81(F9.gen())                    
2*z4^3 + 2*z4^2 + 1
sage: F9(F81.gen()^10)
z2
```
Am I correct that #13214 (if positively reviewed) supersedes this ticket?



---

archive/issue_comments_126356.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nIndeed it looks like #13214 will supercede this.",
    "created_at": "2013-08-13T09:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126356",
    "user": "https://github.com/ppurka"
}
```

<div id="comment:21" align="right">comment:21</div>

Indeed it looks like #13214 will supercede this.



---

archive/issue_events_161236.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161236"
}
```



---

archive/issue_events_161237.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161237"
}
```



---

archive/issue_events_161238.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-12-31T12:02:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161238"
}
```



---

archive/issue_events_161239.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-12-31T12:02:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161239"
}
```



---

archive/issue_comments_126357.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI agree that this should be closed as wontfix.\nThe going stuff should be in the base class and not depend on the actual implementation.",
    "created_at": "2013-12-31T12:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11938#issuecomment-126357",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:23" align="right">comment:23</div>

I agree that this should be closed as wontfix.
The going stuff should be in the base class and not depend on the actual implementation.



---

archive/issue_events_161240.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-12-31T12:03:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161240"
}
```



---

archive/issue_events_161241.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-12-31T12:03:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161241"
}
```



---

archive/issue_events_161242.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2013-12-31T12:03:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161242"
}
```



---

archive/issue_events_161243.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-04T04:24:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161243"
}
```



---

archive/issue_events_161244.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-04T04:24:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161244"
}
```



---

archive/issue_events_161245.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-01-04T04:24:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11938",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11938#event-161245"
}
```
