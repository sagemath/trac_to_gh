# Issue 11653: desolve failed to solve an ODE whose solution implies integration limits

archive/issues_011481.json:
```json
{
    "assignees": [],
    "body": "When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output if this contains integration limits.\n\n## A minimal example\n\n```\nsage: x=var('x') # independent variable\nsage: v=function('v', x) # dependent variable\n```\nif we now define a custom square pulse function\n\n```python\ndef pulse(tonset, tdur, amp):\n    \"\"\"\n    returns a square pulse as a function of x, f(x) \n    the pulse is defined as follows:  \n    t onset -- start of pulse  \n    tdur   -- duration of pulse  \n    amp    -- amplitude of pulse \n    \"\"\"\n\n    f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n    return f\n```\nnow we create a pulse function\n\n```\nsage: mypulse = pulse(tonset=5, tdur=5, amp=2)\n```\nand define differential equation\n\n```\nsage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function\n```\nTo get the evolution of v we can use **desolve**\n\n```\nmyvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n```\nThe error message is:\n\n```python\nTypeError: \nunable to make sense of Maxima expression \n'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' \nin Sage\n```\n\ndesolve_laplace leads to similar error:\n\n```\nsage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n```\n\n```python\nTypeError: \nunable to make sense of Maxima expression \n'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733^2+1)/?g2733^3,?g2733,x)' \nin Sage\n```\n\nAccording to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.\n\n## Expressions that work\nAnd adding the **sign** function to the differential function does not affect the solution.\n\n```\nsage: dvdx = diff(v, x)-v -sign(x) == 0 \nsage: desolve(de=dvdx, ivar=x, dvar=v) \nsage: (c + integrate(e^(-x)*sgn(x), x))*e^x\n```\n\nHowever, adding initial conditions produces an output that Sage is not able to evaluate\n\n```\nsage: desolve(de = dvdx, ivar=x, dvar=v, ics=[0,0])\n```\n\nThe output is:\n\n```python\nTypeError: \nunable to make sense of Maxima expression \n'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))'\n in Sage\n\n```\n\nI guess Sage is not able to interpret the integrations limits prompted by Maxima (e.g [t=0,v(t)=0]). \n\nDetailed information (and a more realistic example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2\n\nAssignee: **@burcin**\n\nCC:  @kcrisman @nbruin\n\nKeywords: **maxima, at, desolve**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11653_\n\n",
    "created_at": "2011-08-05T21:19:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "desolve failed to solve an ODE whose solution implies integration limits",
    "type": "issue",
    "updated_at": "2022-12-29T01:28:25Z",
    "url": "https://github.com/sagemath/sage/issues/11653",
    "user": "https://github.com/sagetrac-JGuzman"
}
```
When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output if this contains integration limits.

## A minimal example

```
sage: x=var('x') # independent variable
sage: v=function('v', x) # dependent variable
```
if we now define a custom square pulse function

```python
def pulse(tonset, tdur, amp):
    """
    returns a square pulse as a function of x, f(x) 
    the pulse is defined as follows:  
    t onset -- start of pulse  
    tdur   -- duration of pulse  
    amp    -- amplitude of pulse 
    """

    f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
    return f
```
now we create a pulse function

```
sage: mypulse = pulse(tonset=5, tdur=5, amp=2)
```
and define differential equation

```
sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function
```
To get the evolution of v we can use **desolve**

```
myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
```
The error message is:

```python
TypeError: 
unable to make sense of Maxima expression 
'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' 
in Sage
```

desolve_laplace leads to similar error:

```
sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
```

```python
TypeError: 
unable to make sense of Maxima expression 
'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733^2+1)/?g2733^3,?g2733,x)' 
in Sage
```

According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.

## Expressions that work
And adding the **sign** function to the differential function does not affect the solution.

```
sage: dvdx = diff(v, x)-v -sign(x) == 0 
sage: desolve(de=dvdx, ivar=x, dvar=v) 
sage: (c + integrate(e^(-x)*sgn(x), x))*e^x
```

However, adding initial conditions produces an output that Sage is not able to evaluate

```
sage: desolve(de = dvdx, ivar=x, dvar=v, ics=[0,0])
```

The output is:

```python
TypeError: 
unable to make sense of Maxima expression 
'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))'
 in Sage

```

I guess Sage is not able to interpret the integrations limits prompted by Maxima (e.g [t=0,v(t)=0]). 

Detailed information (and a more realistic example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2

Assignee: **@burcin**

CC:  @kcrisman @nbruin

Keywords: **maxima, at, desolve**

_Issue created by migration from https://trac.sagemath.org/ticket/11653_





---

archive/issue_events_142671.json:
```json
{
    "actor": "https://github.com/sagetrac-JGuzman",
    "created_at": "2011-08-05T21:19:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142671"
}
```



---

archive/issue_events_142672.json:
```json
{
    "actor": "https://github.com/sagetrac-JGuzman",
    "created_at": "2011-08-05T21:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "component: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142672"
}
```



---

archive/issue_events_142673.json:
```json
{
    "actor": "https://github.com/sagetrac-JGuzman",
    "created_at": "2011-08-05T21:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142673"
}
```



---

archive/issue_events_142674.json:
```json
{
    "actor": "https://github.com/sagetrac-JGuzman",
    "created_at": "2011-08-05T21:19:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142674"
}
```



---

archive/issue_events_142675.json:
```json
{
    "actor": "https://github.com/sagetrac-JGuzman",
    "created_at": "2011-08-05T21:20:27Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "title_is": "desolve failed to solve an ODE whose rhs contains a function",
    "title_was": "desolve failed to solve an ODE with a",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142675"
}
```



---

archive/issue_comments_122252.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,7 +8,10 @@\n \n def pulse(tonset, tdur, amp):\n \n-  \"\"\" returns a square pulse as a function of x, f(x) the pulse is defined as follows:  tonset -- start of pulse  tdur   -- duration of pulse  amp    -- amplitude of pulse \"\"\"\n+  \"\"\" returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t\n+  onset -- start of pulse \n+  tdur   -- duration of pulse \n+  amp    -- amplitude of pulse \"\"\"\n \n   f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n \n@@ -30,7 +33,7 @@\n \n *TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*\n \n-desolve_laplace leads to similar error: \n+desolve_laplace leads to similar error:\n \n sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n \n``````\n",
    "created_at": "2011-08-05T21:21:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122252",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,7 +8,10 @@
 
 def pulse(tonset, tdur, amp):
 
-  """ returns a square pulse as a function of x, f(x) the pulse is defined as follows:  tonset -- start of pulse  tdur   -- duration of pulse  amp    -- amplitude of pulse """
+  """ returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t
+  onset -- start of pulse 
+  tdur   -- duration of pulse 
+  amp    -- amplitude of pulse """
 
   f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
 
@@ -30,7 +33,7 @@
 
 *TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*
 
-desolve_laplace leads to similar error: 
+desolve_laplace leads to similar error:
 
 sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
 
``````




---

archive/issue_comments_122253.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,10 +8,7 @@\n \n def pulse(tonset, tdur, amp):\n \n-  \"\"\" returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t\n-  onset -- start of pulse \n-  tdur   -- duration of pulse \n-  amp    -- amplitude of pulse \"\"\"\n+  \"\"\" returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t onset -- start of pulse  tdur   -- duration of pulse  amp    -- amplitude of pulse \"\"\"\n \n   f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n \n@@ -41,4 +38,12 @@\n \n According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.\n \n+Strange enough, when using other functions, the solver works nicely\n+\n+sage: dvdx = diff(v, x)-x -sin(x) == 0 \n+\n+sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[http://trac.sagemath.org/sage_trac/log/?revs=0 \"[0,0]\"]) \n+\n+now Sage returns 1/2*x!^2 - cos(x) + 1\n+\n Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2\n``````\n",
    "created_at": "2011-08-05T21:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122253",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,10 +8,7 @@
 
 def pulse(tonset, tdur, amp):
 
-  """ returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t
-  onset -- start of pulse 
-  tdur   -- duration of pulse 
-  amp    -- amplitude of pulse """
+  """ returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t onset -- start of pulse  tdur   -- duration of pulse  amp    -- amplitude of pulse """
 
   f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
 
@@ -41,4 +38,12 @@
 
 According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.
 
+Strange enough, when using other functions, the solver works nicely
+
+sage: dvdx = diff(v, x)-x -sin(x) == 0 
+
+sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[http://trac.sagemath.org/sage_trac/log/?revs=0 "[0,0]"]) 
+
+now Sage returns 1/2*x!^2 - cos(x) + 1
+
 Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2
``````




---

archive/issue_comments_122254.json:
```json
{
    "body": "Changed keywords from **** to **maxima, at, desolve**",
    "created_at": "2011-08-05T22:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122254",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Changed keywords from **** to **maxima, at, desolve**



---

archive/issue_comments_122255.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,49 +1,54 @@\n When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output.\n \n-Here a minimal example is  #========================================================================= sage: x=var('x') # independent variable\n+Here a minimal example is  \n \n+```\n+#===================== \n+sage: x=var('x') # independent variable\n sage: v=function('v', x) # dependent variable\n \n-\\# we define a custom square pulse function\n-\n+# we define a custom square pulse function\n def pulse(tonset, tdur, amp):\n-\n-  \"\"\" returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t onset -- start of pulse  tdur   -- duration of pulse  amp    -- amplitude of pulse \"\"\"\n-\n+\"\"\"\n+returns a square pulse as a function of x, f(x) \n+the pulse is defined as follows:  \n+t onset -- start of pulse  \n+tdur   -- duration of pulse  \n+amp    -- amplitude of pulse \n+\"\"\"\n   f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n-\n   return f\n \n-\\# create my pulse function\n-\n+# create my pulse function\n sage: mypulse = pulse(tonset=5, tdur=5, amp=2)\n \n-\\# define differential equation s\n-\n+# define differential equation s\n sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function\n \n-\\# get the evolution of v\n-\n+# get the evolution of v\n myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n \n-#========================================================================= The error message is:\n+#======= \n+The error message is:\n \n-*TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*\n-\n+''TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^''\n+```\n desolve_laplace leads to similar error:\n \n+```\n sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n \n-*TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733<sup>2+1)/?g2733</sup>3,?g2733,x)' in Sage*\n-\n+''TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage''\n+```\n According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.\n \n Strange enough, when using other functions, the solver works nicely\n \n+```\n sage: dvdx = diff(v, x)-x -sin(x) == 0 \n \n sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[http://trac.sagemath.org/sage_trac/log/?revs=0 \"[0,0]\"]) \n-\n+```\n now Sage returns 1/2*x!^2 - cos(x) + 1\n \n Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2\n``````\n",
    "created_at": "2011-08-06T02:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122255",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,49 +1,54 @@
 When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output.
 
-Here a minimal example is  #========================================================================= sage: x=var('x') # independent variable
+Here a minimal example is  
 
+```
+#===================== 
+sage: x=var('x') # independent variable
 sage: v=function('v', x) # dependent variable
 
-\# we define a custom square pulse function
-
+# we define a custom square pulse function
 def pulse(tonset, tdur, amp):
-
-  """ returns a square pulse as a function of x, f(x) the pulse is defined as follows:  t onset -- start of pulse  tdur   -- duration of pulse  amp    -- amplitude of pulse """
-
+"""
+returns a square pulse as a function of x, f(x) 
+the pulse is defined as follows:  
+t onset -- start of pulse  
+tdur   -- duration of pulse  
+amp    -- amplitude of pulse 
+"""
   f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
-
   return f
 
-\# create my pulse function
-
+# create my pulse function
 sage: mypulse = pulse(tonset=5, tdur=5, amp=2)
 
-\# define differential equation s
-
+# define differential equation s
 sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function
 
-\# get the evolution of v
-
+# get the evolution of v
 myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
 
-#========================================================================= The error message is:
+#======= 
+The error message is:
 
-*TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*
-
+''TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^''
+```
 desolve_laplace leads to similar error:
 
+```
 sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
 
-*TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733<sup>2+1)/?g2733</sup>3,?g2733,x)' in Sage*
-
+''TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage''
+```
 According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.
 
 Strange enough, when using other functions, the solver works nicely
 
+```
 sage: dvdx = diff(v, x)-x -sin(x) == 0 
 
 sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[http://trac.sagemath.org/sage_trac/log/?revs=0 "[0,0]"]) 
-
+```
 now Sage returns 1/2*x!^2 - cos(x) + 1
 
 Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2
``````




---

archive/issue_comments_122256.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThanks, Jose!  Just a few pointers:\n\n* You can use some formatting to do stuff here.  There are links on the main Trac page, but the most useful one is putting code examples in triples { braces.\n* The 'author' is the author of the patch.  You are the reporter :) though perhaps also the eventual author as well!",
    "created_at": "2011-08-06T02:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122256",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">Comment 5</div>

Thanks, Jose!  Just a few pointers:

* You can use some formatting to do stuff here.  There are links on the main Trac page, but the most useful one is putting code examples in triples { braces.
* The 'author' is the author of the patch.  You are the reporter :) though perhaps also the eventual author as well!



---

archive/issue_comments_122257.json:
```json
{
    "body": "Changed author from **JGuzman** to none",
    "created_at": "2011-08-06T02:09:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122257",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **JGuzman** to none



---

archive/issue_comments_122258.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nAs to the ticket, see the sage-support thread in question.  The essential problem is that in `laplace` and `taylor` we take the answer from Maxima and send it to SR, which does parse the `at` correctly via the Maxima string thingie in calculus/calculus.py, but in the `desolve_*` functions we just coerce to `.sage()`, which does not.  Probably changing this would fix it.",
    "created_at": "2011-08-06T02:14:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122258",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">Comment 6</div>

As to the ticket, see the sage-support thread in question.  The essential problem is that in `laplace` and `taylor` we take the answer from Maxima and send it to SR, which does parse the `at` correctly via the Maxima string thingie in calculus/calculus.py, but in the `desolve_*` functions we just coerce to `.sage()`, which does not.  Probably changing this would fix it.



---

archive/issue_comments_122259.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,54 +1,66 @@\n When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output.\n \n-Here a minimal example is  \n+Here a minimal example is\n \n ```\n-#===================== \n sage: x=var('x') # independent variable\n sage: v=function('v', x) # dependent variable\n+```\n \n-# we define a custom square pulse function\n+\\# we define a custom square pulse function\n+\n+```\n def pulse(tonset, tdur, amp):\n \"\"\"\n-returns a square pulse as a function of x, f(x) \n-the pulse is defined as follows:  \n-t onset -- start of pulse  \n-tdur   -- duration of pulse  \n-amp    -- amplitude of pulse \n-\"\"\"\n-  f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n-  return f\n+    returns a square pulse as a function of x, f(x) \n+    the pulse is defined as follows:  \n+    t onset -- start of pulse  \n+    tdur   -- duration of pulse  \n+    amp    -- amplitude of pulse \n+    \"\"\"\n+    f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n+    return f\n+```\n \n-# create my pulse function\n+now we create a pulse function\n+\n+```\n sage: mypulse = pulse(tonset=5, tdur=5, amp=2)\n+```\n+and define differential equation \n \n-# define differential equation s\n+```\n sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function\n+```\n \n-# get the evolution of v\n+To get the evolution of v we can use **desolve**\n+\n+```\n myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n+```\n \n-#======= \n+\n The error message is:\n \n-''TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^''\n-```\n+*TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*\n+\n desolve_laplace leads to similar error:\n \n ```\n sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n+```\n \n-''TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage''\n-```\n+*TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733<sup>2+1)/?g2733</sup>3,?g2733,x)' in Sage*\n+\n According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.\n \n Strange enough, when using other functions, the solver works nicely\n \n ```\n sage: dvdx = diff(v, x)-x -sin(x) == 0 \n+sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0]\"]) \n+```\n \n-sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[http://trac.sagemath.org/sage_trac/log/?revs=0 \"[0,0]\"]) \n-```\n now Sage returns 1/2*x!^2 - cos(x) + 1\n \n Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2\n``````\n",
    "created_at": "2011-08-06T08:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122259",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,54 +1,66 @@
 When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output.
 
-Here a minimal example is  
+Here a minimal example is
 
 ```
-#===================== 
 sage: x=var('x') # independent variable
 sage: v=function('v', x) # dependent variable
+```
 
-# we define a custom square pulse function
+\# we define a custom square pulse function
+
+```
 def pulse(tonset, tdur, amp):
 """
-returns a square pulse as a function of x, f(x) 
-the pulse is defined as follows:  
-t onset -- start of pulse  
-tdur   -- duration of pulse  
-amp    -- amplitude of pulse 
-"""
-  f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
-  return f
+    returns a square pulse as a function of x, f(x) 
+    the pulse is defined as follows:  
+    t onset -- start of pulse  
+    tdur   -- duration of pulse  
+    amp    -- amplitude of pulse 
+    """
+    f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
+    return f
+```
 
-# create my pulse function
+now we create a pulse function
+
+```
 sage: mypulse = pulse(tonset=5, tdur=5, amp=2)
+```
+and define differential equation 
 
-# define differential equation s
+```
 sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function
+```
 
-# get the evolution of v
+To get the evolution of v we can use **desolve**
+
+```
 myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
+```
 
-#======= 
+
 The error message is:
 
-''TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^''
-```
+*TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*
+
 desolve_laplace leads to similar error:
 
 ```
 sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
+```
 
-''TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage''
-```
+*TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733<sup>2+1)/?g2733</sup>3,?g2733,x)' in Sage*
+
 According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.
 
 Strange enough, when using other functions, the solver works nicely
 
 ```
 sage: dvdx = diff(v, x)-x -sin(x) == 0 
+sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0]"]) 
+```
 
-sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[http://trac.sagemath.org/sage_trac/log/?revs=0 "[0,0]"]) 
-```
 now Sage returns 1/2*x!^2 - cos(x) + 1
 
 Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2
``````




---

archive/issue_comments_122260.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nI re-formatted the text according to kcrisman (thanks a lot for the suggestion!). I will have a look to the code soon. I am looking forward to implement it. If I understood correctly, the only thing to do is to make desolve_* take the answer from Maxima to SR.",
    "created_at": "2011-08-06T08:15:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122260",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

<div id="comment:7" align="right">Comment 7</div>

I re-formatted the text according to kcrisman (thanks a lot for the suggestion!). I will have a look to the code soon. I am looking forward to implement it. If I understood correctly, the only thing to do is to make desolve_* take the answer from Maxima to SR.



---

archive/issue_comments_122261.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI changed the summary to delimit the error more carefully. Additional,   a more detailed explanation is given of cases in which Sage is able to interpret Maxima output. I guess, the problem is that Sage is not able to interpret the integration limits prompted by the maxima expression.",
    "created_at": "2011-08-07T15:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122261",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

<div id="comment:8" align="right">Comment 8</div>

I changed the summary to delimit the error more carefully. Additional,   a more detailed explanation is given of cases in which Sage is able to interpret Maxima output. I guess, the problem is that Sage is not able to interpret the integration limits prompted by the maxima expression.



---

archive/issue_comments_122262.json:
```json
{
    "body": "Changed assignee from **@burcin** to **@sagetrac-JGuzman**",
    "created_at": "2011-08-07T15:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122262",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Changed assignee from **@burcin** to **@sagetrac-JGuzman**



---

archive/issue_comments_122263.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,48 +1,46 @@\n-When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output.\n+When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output if this contains integration limits.\n \n-Here a minimal example is\n+## A minimal example\n \n ```\n sage: x=var('x') # independent variable\n sage: v=function('v', x) # dependent variable\n ```\n+if we now define a custom square pulse function\n \n-\\# we define a custom square pulse function\n-\n-```\n+```python\n def pulse(tonset, tdur, amp):\n-\"\"\"\n+    \"\"\"\n     returns a square pulse as a function of x, f(x) \n     the pulse is defined as follows:  \n     t onset -- start of pulse  \n     tdur   -- duration of pulse  \n     amp    -- amplitude of pulse \n     \"\"\"\n+\n     f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)\n     return f\n ```\n-\n now we create a pulse function\n \n ```\n sage: mypulse = pulse(tonset=5, tdur=5, amp=2)\n ```\n-and define differential equation \n+and define differential equation\n \n ```\n sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function\n ```\n-\n To get the evolution of v we can use **desolve**\n \n ```\n myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n ```\n-\n-\n The error message is:\n \n-*TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*\n+```python\n+TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^\n+```\n \n desolve_laplace leads to similar error:\n \n@@ -50,17 +48,34 @@\n sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])\n ```\n \n-*TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733<sup>2+1)/?g2733</sup>3,?g2733,x)' in Sage*\n+```python\n+TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage\n+```\n \n According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.\n \n-Strange enough, when using other functions, the solver works nicely\n+## Expressions that work\n+And adding the **sign** function to the differential function does not affect the solution.\n \n ```\n-sage: dvdx = diff(v, x)-x -sin(x) == 0 \n+sage: dvdx = diff(v, x)-v -sign(x) == 0 \n sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0]\"]) \n+sage: (c + integrate(e^(-x)*sgn(x), x))*e^x\n ```\n \n-now Sage returns 1/2*x!^2 - cos(x) + 1\n+However, adding initial conditions produces an output that Sage is not able to evaluate\n \n-Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2\n+```\n+sage: desolve(de = dvdx, ivar=x, dvar=v, ics=[0,0])\n+```\n+\n+The output is:\n+\n+```python\n+TypeError: unable to make sense of Maxima expression 'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))' in Sage\n+\n+```\n+\n+I guess Sage is not able to interpret the integrations limits prompted by Maxima (e.g [t=0,v(t)=0]). \n+\n+Detailed information (and a more realistic example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2\n``````\n",
    "created_at": "2011-08-07T15:32:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122263",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,48 +1,46 @@
-When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output.
+When trying to solve a simple ODE whose rhs contains a function, Sage fails to interpret the Maxima output if this contains integration limits.
 
-Here a minimal example is
+## A minimal example
 
 ```
 sage: x=var('x') # independent variable
 sage: v=function('v', x) # dependent variable
 ```
+if we now define a custom square pulse function
 
-\# we define a custom square pulse function
-
-```
+```python
 def pulse(tonset, tdur, amp):
-"""
+    """
     returns a square pulse as a function of x, f(x) 
     the pulse is defined as follows:  
     t onset -- start of pulse  
     tdur   -- duration of pulse  
     amp    -- amplitude of pulse 
     """
+
     f(x)= amp*(sign(x-tonset)/2-sign(x-tonset-tdur)/2)
     return f
 ```
-
 now we create a pulse function
 
 ```
 sage: mypulse = pulse(tonset=5, tdur=5, amp=2)
 ```
-and define differential equation 
+and define differential equation
 
 ```
 sage: dvdx = diff(v, x)-x -mypulse == 0 # mypulse(x) is function
 ```
-
 To get the evolution of v we can use **desolve**
 
 ```
 myvolt = desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
 ```
-
-
 The error message is:
 
-*TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\ egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^*
+```python
+TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^
+```
 
 desolve_laplace leads to similar error:
 
@@ -50,17 +48,34 @@
 sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0])
 ```
 
-*TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733<sup>2+1)/?g2733</sup>3,?g2733,x)' in Sage*
+```python
+TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage
+```
 
 According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.
 
-Strange enough, when using other functions, the solver works nicely
+## Expressions that work
+And adding the **sign** function to the differential function does not affect the solution.
 
 ```
-sage: dvdx = diff(v, x)-x -sin(x) == 0 
+sage: dvdx = diff(v, x)-v -sign(x) == 0 
 sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0]"]) 
+sage: (c + integrate(e^(-x)*sgn(x), x))*e^x
 ```
 
-now Sage returns 1/2*x!^2 - cos(x) + 1
+However, adding initial conditions produces an output that Sage is not able to evaluate
 
-Detailed information (and a real example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2
+```
+sage: desolve(de = dvdx, ivar=x, dvar=v, ics=[0,0])
+```
+
+The output is:
+
+```python
+TypeError: unable to make sense of Maxima expression 'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))' in Sage
+
+```
+
+I guess Sage is not able to interpret the integrations limits prompted by Maxima (e.g [t=0,v(t)=0]). 
+
+Detailed information (and a more realistic example) can be found here: http://groups.google.com/group/sage-support/browse_thread/thread/8cc67d39510faca2
``````




---

archive/issue_events_142676.json:
```json
{
    "actor": "https://github.com/sagetrac-JGuzman",
    "created_at": "2011-08-07T15:32:29Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "title_is": "desolve failed to solve an ODE whose solution implies integration limits",
    "title_was": "desolve failed to solve an ODE whose rhs contains a function",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142676"
}
```



---

archive/issue_comments_122264.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -39,7 +39,10 @@\n The error message is:\n \n ```python\n-TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^\n+TypeError: \n+unable to make sense of Maxima expression \n+'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' \n+in Sage\n ```\n \n desolve_laplace leads to similar error:\n@@ -49,7 +52,10 @@\n ```\n \n ```python\n-TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage\n+TypeError: \n+unable to make sense of Maxima expression \n+'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\\ )*?g2733^2+1)/?g2733^3,?g2733,x)' \n+in Sage\n ```\n \n According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.\n@@ -72,7 +78,10 @@\n The output is:\n \n ```python\n-TypeError: unable to make sense of Maxima expression 'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))' in Sage\n+TypeError: \n+unable to make sense of Maxima expression \n+'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))'\n+ in Sage\n \n ```\n \n``````\n",
    "created_at": "2011-08-07T15:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122264",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -39,7 +39,10 @@
 The error message is:
 
 ```python
-TypeError: unable to make sense of Maxima expression 'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' in Sage^
+TypeError: 
+unable to make sense of Maxima expression 
+'v(x)=-(2*(at(integrate(signum(x-5)-signum(x-13),x),[x=0,v(x)=0]))-2*int\egrate(signum(x-5)-signum(x-13),x)-x^2)/2' 
+in Sage
 ```
 
 desolve_laplace leads to similar error:
@@ -49,7 +52,10 @@
 ```
 
 ```python
-TypeError: unable to make sense of Maxima expression 'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733^2+1)/?g2733^3,?g2733,x)' in Sage
+TypeError: 
+unable to make sense of Maxima expression 
+'ilt(((laplace(signum(x-5),x,?g2733)-laplace(signum(x-13),x,?g2733)+v(0)\ )*?g2733^2+1)/?g2733^3,?g2733,x)' 
+in Sage
 ```
 
 According to Nils Bruin, the problem is that Maxima 'at' function. As described in Ticket #385, this can be a problem with the implementation of 'at' for SR.
@@ -72,7 +78,10 @@
 The output is:
 
 ```python
-TypeError: unable to make sense of Maxima expression 'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))' in Sage
+TypeError: 
+unable to make sense of Maxima expression 
+'v(x)=e^x*integrate(e^-x*signum(x),x)-e^x*(at(integrate(e^-x*signum(x),x),[x=0,v(x)=0]))'
+ in Sage
 
 ```
 
``````




---

archive/issue_comments_122265.json:
```json
{
    "body": "Changed assignee from **@sagetrac-JGuzman** to **@burcin**",
    "created_at": "2011-08-07T15:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122265",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Changed assignee from **@sagetrac-JGuzman** to **@burcin**



---

archive/issue_comments_122266.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nChange owner to burcin (I do not know why it changed last time !), and change the typesetting of TypeError",
    "created_at": "2011-08-07T15:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122266",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

<div id="comment:9" align="right">Comment 9</div>

Change owner to burcin (I do not know why it changed last time !), and change the typesetting of TypeError



---

archive/issue_comments_122267.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,7 +65,7 @@\n \n ```\n sage: dvdx = diff(v, x)-v -sign(x) == 0 \n-sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0]\"]) \n+sage: desolve(de=dvdx, ivar=x, dvar=v\"]) \n sage: (c + integrate(e^(-x)*sgn(x), x))*e^x\n ```\n \n``````\n",
    "created_at": "2011-08-07T21:36:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122267",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,7 +65,7 @@
 
 ```
 sage: dvdx = diff(v, x)-v -sign(x) == 0 
-sage: desolve(de=dvdx, ivar=x, dvar=v, ics=[0,0]"]) 
+sage: desolve(de=dvdx, ivar=x, dvar=v"]) 
 sage: (c + integrate(e^(-x)*sgn(x), x))*e^x
 ```
 
``````




---

archive/issue_comments_122268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -65,7 +65,7 @@\n \n ```\n sage: dvdx = diff(v, x)-v -sign(x) == 0 \n-sage: desolve(de=dvdx, ivar=x, dvar=v\"]) \n+sage: desolve(de=dvdx, ivar=x, dvar=v) \n sage: (c + integrate(e^(-x)*sgn(x), x))*e^x\n ```\n \n``````\n",
    "created_at": "2011-08-07T21:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122268",
    "user": "https://github.com/sagetrac-JGuzman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -65,7 +65,7 @@
 
 ```
 sage: dvdx = diff(v, x)-v -sign(x) == 0 
-sage: desolve(de=dvdx, ivar=x, dvar=v"]) 
+sage: desolve(de=dvdx, ivar=x, dvar=v) 
 sage: (c + integrate(e^(-x)*sgn(x), x))*e^x
 ```
 
``````




---

archive/issue_comments_122269.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThere are several issues here, actually, so it may take a bit to solve this.  We are apparently translating several things wrongly by not going through SR, but then there is also the 'general' variable `?g2733` which I remember being still undealt with... probably won't be fixed immediately :( just because of time constraints.",
    "created_at": "2011-08-08T13:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11653#issuecomment-122269",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">Comment 12</div>

There are several issues here, actually, so it may take a bit to solve this.  We are apparently translating several things wrongly by not going through SR, but then there is also the 'general' variable `?g2733` which I remember being still undealt with... probably won't be fixed immediately :( just because of time constraints.



---

archive/issue_events_142677.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142677"
}
```



---

archive/issue_events_142678.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142678"
}
```



---

archive/issue_events_142679.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142679"
}
```



---

archive/issue_events_142680.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142680"
}
```



---

archive/issue_events_142681.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142681"
}
```



---

archive/issue_events_142682.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142682"
}
```



---

archive/issue_events_142683.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142683"
}
```



---

archive/issue_events_142684.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142684"
}
```



---

archive/issue_events_142685.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:28:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11653",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11653#event-142685"
}
```
