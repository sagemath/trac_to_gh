# Issue 11761: Upgrade Cython to 0.15.1

archive/issues_011589.json:
```json
{
    "body": "Lots of improvements and bug fixes, including generators.\n\nSee [http://wiki.cython.org/ReleaseNotes-0.15.1](http://wiki.cython.org/ReleaseNotes-0.15.1) for details.\n\n---\n\nNew spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg)\n\nApply [attachment:11761-cython-0.15-rebased.patch] and [attachment:11761_review.patch] to the Sage library.\n\n\n**CC:**  @kiwifb jpflori\n\n**Author:** Robert Bradshaw\n\n**Reviewer:** Jeroen Demeyer\n\n**Merged:** sage-4.8.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11761\n\n",
    "closed_at": "2011-11-07T10:12:01Z",
    "created_at": "2011-08-31T05:14:39Z",
    "labels": [
        "component: packages: standard",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.8",
    "title": "Upgrade Cython to 0.15.1",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11761",
    "user": "https://github.com/robertwb"
}
```
Lots of improvements and bug fixes, including generators.

See [http://wiki.cython.org/ReleaseNotes-0.15.1](http://wiki.cython.org/ReleaseNotes-0.15.1) for details.

---

New spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg)

Apply [attachment:11761-cython-0.15-rebased.patch] and [attachment:11761_review.patch] to the Sage library.


**CC:**  @kiwifb jpflori

**Author:** Robert Bradshaw

**Reviewer:** Jeroen Demeyer

**Merged:** sage-4.8.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/11761





---

archive/issue_comments_124594.json:
```json
{
    "body": "Replying to [ticket:11761 robertwb]:\n> ... including generators.\n\n\nYeah!",
    "created_at": "2011-08-31T05:33:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124594",
    "user": "https://github.com/nexttime"
}
```

Replying to [ticket:11761 robertwb]:
> ... including generators.


Yeah!



---

archive/issue_events_094060.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-08-31T07:33:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94060"
}
```



---

archive/attachments_015582.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11761-cython-0.15.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11761/11761-cython-0.15.patch",
    "created_at": "2011-08-31T07:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/robertwb"
}
```



---

archive/issue_comments_124595.json:
```json
{
    "body": "<a id='comment:2'></a>\nSpkg up at http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg",
    "created_at": "2011-08-31T07:33:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124595",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:2'></a>
Spkg up at http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg



---

archive/issue_comments_124596.json:
```json
{
    "body": "<a id='comment:5'></a>\nNote that 0.15.1 is around the corner, but it's not as big of a jump.",
    "created_at": "2011-09-16T09:25:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124596",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:5'></a>
Note that 0.15.1 is around the corner, but it's not as big of a jump.



---

archive/issue_comments_124597.json:
```json
{
    "body": "**Author:** Robert Bradshaw",
    "created_at": "2011-09-16T09:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124597",
    "user": "https://github.com/nexttime"
}
```

**Author:** Robert Bradshaw



---

archive/issue_comments_124598.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,10 @@\n-Lots of improvements and bug fixes, including generators. http://wiki.cython.org/ReleaseNotes-0.15\n+Lots of improvements and bug fixes, including generators.\n+\n+See [http://wiki.cython.org/ReleaseNotes-0.15](http://wiki.cython.org/ReleaseNotes-0.15) for details.\n+\n+---\n+\n+New spkg: [http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg](http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg)\n+\n+Apply [attachment:11761-cython-0.15.patch] to the Sage library.\n+\n``````\n",
    "created_at": "2011-09-16T09:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124598",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,10 @@
-Lots of improvements and bug fixes, including generators. http://wiki.cython.org/ReleaseNotes-0.15
+Lots of improvements and bug fixes, including generators.
+
+See [http://wiki.cython.org/ReleaseNotes-0.15](http://wiki.cython.org/ReleaseNotes-0.15) for details.
+
+---
+
+New spkg: [http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg](http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg)
+
+Apply [attachment:11761-cython-0.15.patch] to the Sage library.
+
``````




---

archive/issue_comments_124599.json:
```json
{
    "body": "<a id='comment:6'></a>\nWould 0.15.1 require additional changes to Sage?",
    "created_at": "2011-09-16T09:50:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124599",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
Would 0.15.1 require additional changes to Sage?



---

archive/issue_comments_124600.json:
```json
{
    "body": "<a id='comment:7'></a>\nJust FYI, 0.15.1 is now released.",
    "created_at": "2011-10-02T03:44:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124600",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:7'></a>
Just FYI, 0.15.1 is now released.



---

archive/issue_comments_124601.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [jason](#comment%3A7):\n> Just FYI, 0.15.1 is now released.\n\n\nOh, did you tell Robert?\n\n(Although he said *\"it's not as big of a jump\"*.)",
    "created_at": "2011-10-02T04:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124601",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:8'></a>
Replying to [jason](#comment%3A7):
> Just FYI, 0.15.1 is now released.


Oh, did you tell Robert?

(Although he said *"it's not as big of a jump"*.)



---

archive/issue_comments_124602.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [leif](#comment%3A8):\n> Replying to [jason](#comment%3A7):\n> > Just FYI, 0.15.1 is now released.\n\n> \n> Oh, did you tell Robert?\n\n\nOh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).\n\n> \n> (Although he said *\"it's not as big of a jump\"*.)\n",
    "created_at": "2011-10-02T04:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124602",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:9'></a>
Replying to [leif](#comment%3A8):
> Replying to [jason](#comment%3A7):
> > Just FYI, 0.15.1 is now released.

> 
> Oh, did you tell Robert?


Oh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).

> 
> (Although he said *"it's not as big of a jump"*.)




---

archive/issue_comments_124603.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jason](#comment%3A9):\n> Replying to [leif](#comment%3A8):\n> > Replying to [jason](#comment%3A7):\n> > > Just FYI, 0.15.1 is now released.\n\n> > \n> > Oh, did you tell Robert?\n\n> \n> Oh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).\n\n\nI was just kidding.\n\n(Wonder whether he updates the spkg... :P)",
    "created_at": "2011-10-02T05:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124603",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>
Replying to [jason](#comment%3A9):
> Replying to [leif](#comment%3A8):
> > Replying to [jason](#comment%3A7):
> > > Just FYI, 0.15.1 is now released.

> > 
> > Oh, did you tell Robert?

> 
> Oh, I'm sure he knows, since he's the BFDL for Cython, if there is such a position ;).


I was just kidding.

(Wonder whether he updates the spkg... :P)



---

archive/issue_events_094061.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-10-02T05:36:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "rename": {
        "from": "Upgrade Cython to 0.15",
        "to": "Upgrade Cython to 0.15 or later"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94061"
}
```



---

archive/issue_comments_124604.json:
```json
{
    "body": "<a id='comment:11'></a>\n:)",
    "created_at": "2011-10-02T05:36:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124604",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:11'></a>
:)



---

archive/issue_comments_124605.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n ---\n \n-New spkg: [http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg](http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg)\n+New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)\n \n Apply [attachment:11761-cython-0.15.patch] to the Sage library.\n \n``````\n",
    "created_at": "2011-10-04T06:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124605",
    "user": "https://github.com/robertwb"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 ---
 
-New spkg: [http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg](http://sage.math.washington.edu/home/robertwb/cython/cython-0.15.spkg)
+New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)
 
 Apply [attachment:11761-cython-0.15.patch] to the Sage library.
 
``````




---

archive/issue_comments_124606.json:
```json
{
    "body": "<a id='comment:12'></a>\nNo further patches needed for 0.15.1.",
    "created_at": "2011-10-04T06:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124606",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:12'></a>
No further patches needed for 0.15.1.



---

archive/issue_events_094062.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-10-04T06:35:59Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "rename": {
        "from": "Upgrade Cython to 0.15 or later",
        "to": "Upgrade Cython to 0.15.1"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94062"
}
```



---

archive/attachments_015583.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11761-cython-0.15-rebased.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11761/11761-cython-0.15-rebased.patch",
    "created_at": "2011-10-31T12:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_124607.json:
```json
{
    "body": "",
    "created_at": "2011-10-31T12:25:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124607",
    "user": "https://github.com/jdemeyer"
}
```





---

archive/issue_events_094063.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-31T12:26:41Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94063"
}
```



---

archive/issue_events_094064.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-31T12:26:41Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "milestone": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94064"
}
```



---

archive/issue_comments_124608.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n \n New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)\n \n-Apply [attachment:11761-cython-0.15.patch] to the Sage library.\n+Apply [attachment:11761-cython-0.15-rebased.patch] to the Sage library.\n \n``````\n",
    "created_at": "2011-10-31T12:26:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124608",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 
 New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)
 
-Apply [attachment:11761-cython-0.15.patch] to the Sage library.
+Apply [attachment:11761-cython-0.15-rebased.patch] to the Sage library.
 
``````




---

archive/attachments_015584.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "cython-0.15.1.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11761/cython-0.15.1.diff",
    "created_at": "2011-10-31T12:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_124609.json:
```json
{
    "body": "Diff for the new Cython spkg, for review only",
    "created_at": "2011-10-31T12:30:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124609",
    "user": "https://github.com/jdemeyer"
}
```

Diff for the new Cython spkg, for review only



---

archive/issue_comments_124610.json:
```json
{
    "body": "<a id='comment:14'></a>\nMinor comment: `spkg-install` is not executable (I know it is made executable upon building, but better fix this in the spkg anyway).",
    "created_at": "2011-10-31T12:31:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124610",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>
Minor comment: `spkg-install` is not executable (I know it is made executable upon building, but better fix this in the spkg anyway).



---

archive/issue_comments_124611.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Lots of improvements and bug fixes, including generators.\n \n-See [http://wiki.cython.org/ReleaseNotes-0.15](http://wiki.cython.org/ReleaseNotes-0.15) for details.\n+See [http://wiki.cython.org/ReleaseNotes-0.15.1](http://wiki.cython.org/ReleaseNotes-0.15.1) for details.\n \n ---\n \n``````\n",
    "created_at": "2011-10-31T12:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124611",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Lots of improvements and bug fixes, including generators.
 
-See [http://wiki.cython.org/ReleaseNotes-0.15](http://wiki.cython.org/ReleaseNotes-0.15) for details.
+See [http://wiki.cython.org/ReleaseNotes-0.15.1](http://wiki.cython.org/ReleaseNotes-0.15.1) for details.
 
 ---
 
``````




---

archive/issue_comments_124612.json:
```json
{
    "body": "<a id='comment:16'></a>\nWhy is the directory `tests` missing from the Cython source?  This should either be fixed, or be documented.",
    "created_at": "2011-10-31T12:34:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124612",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
Why is the directory `tests` missing from the Cython source?  This should either be fixed, or be documented.



---

archive/issue_events_094065.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-31T12:34:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94065"
}
```



---

archive/issue_events_094066.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-31T12:34:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94066"
}
```



---

archive/issue_comments_124613.json:
```json
{
    "body": "<a id='comment:17'></a>\nWhat should be done with:\n\n```\ncdef mpz_t denom\nmpz_init_set_si(denom, 1)\n```\nThis code is correct but gives a `local variable 'denom' referenced before assignment` warning.\n(there are many of these in `sage/matrix/misc.pyx` for example)",
    "created_at": "2011-10-31T13:33:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124613",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:17'></a>
What should be done with:

```
cdef mpz_t denom
mpz_init_set_si(denom, 1)
```
This code is correct but gives a `local variable 'denom' referenced before assignment` warning.
(there are many of these in `sage/matrix/misc.pyx` for example)



---

archive/issue_comments_124614.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,5 +6,5 @@\n \n New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)\n \n-Apply [attachment:11761-cython-0.15-rebased.patch] to the Sage library.\n+Apply [attachment:11761-cython-0.15-rebased.patch] and [attachment:11761_review.patch] to the Sage library.\n \n``````\n",
    "created_at": "2011-10-31T13:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124614",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,5 +6,5 @@
 
 New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)
 
-Apply [attachment:11761-cython-0.15-rebased.patch] to the Sage library.
+Apply [attachment:11761-cython-0.15-rebased.patch] and [attachment:11761_review.patch] to the Sage library.
 
``````




---

archive/issue_comments_124615.json:
```json
{
    "body": "**Reviewer:** Jeroen Demeyer",
    "created_at": "2011-10-31T13:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124615",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Jeroen Demeyer



---

archive/issue_comments_124616.json:
```json
{
    "body": "<a id='comment:19'></a>\nThis new Cython really gives *a lot* more warnings than the old one, in many cases for code which is perfectly fine.  For me, this isn't really a problem, but it is certainly annoying.",
    "created_at": "2011-10-31T15:33:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124616",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'></a>
This new Cython really gives *a lot* more warnings than the old one, in many cases for code which is perfectly fine.  For me, this isn't really a problem, but it is certainly annoying.



---

archive/issue_events_094067.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-11-01T06:03:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94067"
}
```



---

archive/issue_events_094068.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-11-01T06:03:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94068"
}
```



---

archive/issue_comments_124617.json:
```json
{
    "body": "<a id='comment:20'></a>\nI've fixed the executable bit on spkg-install and added the tests to the spkg. (I remember someone complaining way back that they were too big, but I don't think it's an issue and we've regularly shipped them before, and it's easier to just have them there.) The spkg at the above link has been refreshed. \n\nThe warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations). All the other warnings I've noticed are correct too, I simply haven't had the time to fix/update Sage's code.\n\nYour review patch looks fine. You obviously looked at this, is the window closed for 4.7.2?",
    "created_at": "2011-11-01T06:03:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124617",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:20'></a>
I've fixed the executable bit on spkg-install and added the tests to the spkg. (I remember someone complaining way back that they were too big, but I don't think it's an issue and we've regularly shipped them before, and it's easier to just have them there.) The spkg at the above link has been refreshed. 

The warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations). All the other warnings I've noticed are correct too, I simply haven't had the time to fix/update Sage's code.

Your review patch looks fine. You obviously looked at this, is the window closed for 4.7.2?



---

archive/issue_comments_124618.json:
```json
{
    "body": "<a id='comment:21'></a>\nReplying to [robertwb](#comment%3A20):\n> Your review patch looks fine.\n\nIn fact, it doesn't.  I removed one line too much, fixed now.\n\n> You obviously looked at this, is the window closed for 4.7.2?\n\nThis will certainly not be merged in sage-4.7.2.",
    "created_at": "2011-11-01T08:26:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124618",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>
Replying to [robertwb](#comment%3A20):
> Your review patch looks fine.

In fact, it doesn't.  I removed one line too much, fixed now.

> You obviously looked at this, is the window closed for 4.7.2?

This will certainly not be merged in sage-4.7.2.



---

archive/attachments_015585.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11761_review.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11761/11761_review.patch",
    "created_at": "2011-11-01T08:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jdemeyer"
}
```



---

archive/issue_comments_124619.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [robertwb](#comment%3A20):\n> The warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations).\n\n\nIf there is an easy way to fix this, then we should do this.  I'm saying we should fix every single warning but if it is possible to declare `mpz_t` such that there are no warnings, we should certainly do this.",
    "created_at": "2011-11-01T08:29:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124619",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
Replying to [robertwb](#comment%3A20):
> The warnings are primarily due to the fact that `mpz_t` et al are declared as `void*` rather than arrays of size 1. http://hg.sagemath.org/sage-main/file/2a2abbcad325/sage/libs/gmp/types.pxd#l1 Once this is fixed the warnings should go away (and they are correct with respect to the current declarations).


If there is an easy way to fix this, then we should do this.  I'm saying we should fix every single warning but if it is possible to declare `mpz_t` such that there are no warnings, we should certainly do this.



---

archive/issue_events_094069.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-01T08:29:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94069"
}
```



---

archive/issue_events_094070.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-01T08:29:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94070"
}
```



---

archive/issue_comments_124620.json:
```json
{
    "body": "<a id='comment:23'></a>\nOf course, that should have been \"I'm **not** saying we should fix every single warning\"",
    "created_at": "2011-11-01T08:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124620",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
Of course, that should have been "I'm **not** saying we should fix every single warning"



---

archive/issue_events_094071.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-01T08:50:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94071"
}
```



---

archive/issue_events_094072.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-01T08:50:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94072"
}
```



---

archive/issue_comments_124621.json:
```json
{
    "body": "<a id='comment:24'></a>\nReplying to [robertwb](#comment%3A20):\n> I've fixed the executable bit on spkg-install and added the tests to the spkg.\n\n\nOne more thing: changing permissions is a change which should be committed.  So could you please do a `hg commit` and re-upload the spkg?  Otherwise, the package and patch looks good.",
    "created_at": "2011-11-01T08:50:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124621",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
Replying to [robertwb](#comment%3A20):
> I've fixed the executable bit on spkg-install and added the tests to the spkg.


One more thing: changing permissions is a change which should be committed.  So could you please do a `hg commit` and re-upload the spkg?  Otherwise, the package and patch looks good.



---

archive/issue_events_094073.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:14:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "milestone": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94073"
}
```



---

archive/issue_comments_124622.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124622",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_events_094074.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-11-05T05:52:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94074"
}
```



---

archive/issue_events_094075.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-11-05T05:52:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94075"
}
```



---

archive/issue_events_094076.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-11-05T05:52:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "milestone": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94076"
}
```



---

archive/issue_comments_124623.json:
```json
{
    "body": "<a id='comment:26'></a>\nSpkg updated with executable bit set commit.",
    "created_at": "2011-11-05T05:52:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124623",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:26'></a>
Spkg updated with executable bit set commit.



---

archive/issue_comments_124624.json:
```json
{
    "body": "<a id='comment:27'></a>\nYes, I agree these warnings should be fixed. #11992 .",
    "created_at": "2011-11-05T06:14:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124624",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:27'></a>
Yes, I agree these warnings should be fixed. #11992 .



---

archive/issue_comments_124625.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [robertwb](#comment%3A26):\n> Spkg updated with executable bit set commit.\n\nLooks you forgot to update the spkg, it is exactly the same as before (last modified on 1 november):\n\n```\n$ ls -l /home/robertwb/cython/spkg/cython-0.15.1.spkg\n-rw-r--r-- 1 robertwb robertwb 1420704 2011-11-01 06:57 /home/robertwb/cython/spkg/cython-0.15.1.spkg\n```\n\nNever mind, I will make the change.",
    "created_at": "2011-11-05T13:20:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124625",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:28'></a>
Replying to [robertwb](#comment%3A26):
> Spkg updated with executable bit set commit.

Looks you forgot to update the spkg, it is exactly the same as before (last modified on 1 november):

```
$ ls -l /home/robertwb/cython/spkg/cython-0.15.1.spkg
-rw-r--r-- 1 robertwb robertwb 1420704 2011-11-01 06:57 /home/robertwb/cython/spkg/cython-0.15.1.spkg
```

Never mind, I will make the change.



---

archive/issue_events_094077.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T13:22:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94077"
}
```



---

archive/issue_events_094078.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-05T13:22:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94078"
}
```



---

archive/issue_comments_124626.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n \n ---\n \n-New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)\n+New spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg)\n \n Apply [attachment:11761-cython-0.15-rebased.patch] and [attachment:11761_review.patch] to the Sage library.\n \n``````\n",
    "created_at": "2011-11-05T13:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124626",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 
 ---
 
-New spkg: [http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/robertwb/cython/spkg/cython-0.15.1.spkg)
+New spkg: [http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg](http://sage.math.washington.edu/home/jdemeyer/spkg/cython-0.15.1.spkg)
 
 Apply [attachment:11761-cython-0.15-rebased.patch] and [attachment:11761_review.patch] to the Sage library.
 
``````




---

archive/issue_comments_124627.json:
```json
{
    "body": "<a id='comment:30'></a>\nOops, I put it at \n\n```\nrobertwb@sage:~/cython$ ls -l /home/robertwb/cython/cython-0.15.1.spkg \n-rw-r--r-- 1 robertwb robertwb 1412114 2011-11-04 22:51 /home/robertwb/cython/cython-0.15.1.spkg\n```\n\nThat's what comes of getting too little sleep. Go ahead and use that one (or if you've already done the trivial change, even better.)",
    "created_at": "2011-11-05T16:19:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124627",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:30'></a>
Oops, I put it at 

```
robertwb@sage:~/cython$ ls -l /home/robertwb/cython/cython-0.15.1.spkg 
-rw-r--r-- 1 robertwb robertwb 1412114 2011-11-04 22:51 /home/robertwb/cython/cython-0.15.1.spkg
```

That's what comes of getting too little sleep. Go ahead and use that one (or if you've already done the trivial change, even better.)



---

archive/issue_comments_124628.json:
```json
{
    "body": "**Merged:** sage-4.8.alpha1",
    "created_at": "2011-11-07T10:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124628",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.8.alpha1



---

archive/issue_events_094079.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-07T10:12:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94079"
}
```



---

archive/issue_events_094080.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-07T10:12:01Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11761#event-94080"
}
```



---

archive/issue_comments_124629.json:
```json
{
    "body": "<a id='comment:32'></a>\nSorry to be late to the party. I get an error building the optional mpc extension in 4.8.alpha2 and I suspect cython-0.15.1 is the problem\n\n```\nsage/rings/complex_mpc.c: In function '__pyx_pf_4sage_5rings_11complex_mpc_15MPComplexNumber_16__float__':\nsage/rings/complex_mpc.c:9720:48: error: cast specifies array type\n```\nI am guessing the complex_mpc.pyx code needs to be updated but I don't really know how.",
    "created_at": "2011-11-24T22:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11761",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11761#issuecomment-124629",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:32'></a>
Sorry to be late to the party. I get an error building the optional mpc extension in 4.8.alpha2 and I suspect cython-0.15.1 is the problem

```
sage/rings/complex_mpc.c: In function '__pyx_pf_4sage_5rings_11complex_mpc_15MPComplexNumber_16__float__':
sage/rings/complex_mpc.c:9720:48: error: cast specifies array type
```
I am guessing the complex_mpc.pyx code needs to be updated but I don't really know how.
