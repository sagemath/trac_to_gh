# Issue 11745: Some more doctests from the book "Calcul mathématique avec Sage"

archive/issues_011573.json:
```json
{
    "body": "The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul math\u00e9matique avec Sage. \n\nApply [attachment:trac_11745.patch] only.\n\nAssignee: gconnan\n\nReviewer: Paul Zimmermann\n\nAuthor: Guillaume Connan\n\nMerged: sage-5.10.beta0\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/11745\n\n",
    "closed_at": "2013-04-13T13:47:40Z",
    "created_at": "2011-08-25T17:00:24Z",
    "labels": [
        "component: doctest coverage"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.10",
    "title": "Some more doctests from the book \"Calcul math\u00e9matique avec Sage\"",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11745",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```
The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul mathématique avec Sage. 

Apply [attachment:trac_11745.patch] only.

Assignee: gconnan

Reviewer: Paul Zimmermann

Author: Guillaume Connan

Merged: sage-5.10.beta0

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/11745





---

archive/issue_comments_159255.json:
```json
{
    "body": "Changing assignee from mvngu to gconnan.",
    "created_at": "2011-08-25T17:05:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159255",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```

Changing assignee from mvngu to gconnan.



---

archive/issue_comments_159256.json:
```json
{
    "body": "Attachment [recequadiff.2.py](tarball://root/attachments/some-uuid/ticket11745/recequadiff.2.py) by gconnan created at 2011-11-26 10:00:14",
    "created_at": "2011-11-26T10:00:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159256",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```

Attachment [recequadiff.2.py](tarball://root/attachments/some-uuid/ticket11745/recequadiff.2.py) by gconnan created at 2011-11-26 10:00:14



---

archive/issue_comments_159257.json:
```json
{
    "body": "Attachment [recequadiff.py](tarball://root/attachments/some-uuid/ticket11745/recequadiff.py) by gconnan created at 2011-11-26 10:50:47\n\nReplying to [ticket:11745 gconnan]:\n> The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul math\u00e9matique avec Sage. \n> \n> All tests pass with sage 4.7.1.",
    "created_at": "2011-11-26T10:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159257",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```

Attachment [recequadiff.py](tarball://root/attachments/some-uuid/ticket11745/recequadiff.py) by gconnan created at 2011-11-26 10:50:47

Replying to [ticket:11745 gconnan]:
> The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul mathématique avec Sage. 
> 
> All tests pass with sage 4.7.1.



---

archive/issue_comments_159258.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,8 +1,7 @@\n The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul math\u00e9matique avec Sage. \n \n-All tests pass with sage 4.7.1.\n+All tests pass with sage 4.7.2.\n \n-Assignee: mvngu\n \n Comment: 1\n \n``````\n",
    "created_at": "2011-11-26T10:50:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159258",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,8 +1,7 @@
 The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul mathématique avec Sage. 
 
-All tests pass with sage 4.7.1.
+All tests pass with sage 4.7.2.
 
-Assignee: mvngu
 
 Comment: 1
 
``````




---

archive/issue_comments_159259.json:
```json
{
    "body": "<a id='comment:3'></a>Guillaume, which file is to be applied?\n\nPaul",
    "created_at": "2013-03-18T14:56:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159259",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:3'></a>Guillaume, which file is to be applied?

Paul



---

archive/issue_comments_159260.json:
```json
{
    "body": "Attachment [recequadiff_doctest.sage](tarball://root/attachments/some-uuid/ticket11745/recequadiff_doctest.sage) by @zimmermann6 created at 2013-03-18 15:27:23",
    "created_at": "2013-03-18T15:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159260",
    "user": "https://github.com/zimmermann6"
}
```

Attachment [recequadiff_doctest.sage](tarball://root/attachments/some-uuid/ticket11745/recequadiff_doctest.sage) by @zimmermann6 created at 2013-03-18 15:27:23



---

archive/issue_comments_159261.json:
```json
{
    "body": "<a id='comment:4'></a>use only the attached file `recequadiff_doctest.sage`\nThis file has to be put into `tests/french_book`, probably after changing the name to\n`recequadiff.py`. All tests pass with 5.7. I put it as \"needs review\" so that people can\ncomment.\n\nPaul\n\nPS: I do this for Guillaume who cannot login any more on trac.",
    "created_at": "2013-03-18T15:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159261",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:4'></a>use only the attached file `recequadiff_doctest.sage`
This file has to be put into `tests/french_book`, probably after changing the name to
`recequadiff.py`. All tests pass with 5.7. I put it as "needs review" so that people can
comment.

Paul

PS: I do this for Guillaume who cannot login any more on trac.



---

archive/issue_comments_159262.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-03-18T15:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159262",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_159263.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2013-03-19T12:28:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159263",
    "user": "https://github.com/zimmermann6"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_159264.json:
```json
{
    "body": "<a id='comment:6'></a>Additions to Sage should be patches to the Sage library (in devel/sage). See  http://sagemath.org/doc/developer/",
    "created_at": "2013-04-09T14:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159264",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>Additions to Sage should be patches to the Sage library (in devel/sage). See  http://sagemath.org/doc/developer/



---

archive/issue_comments_159265.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-04-09T14:26:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159265",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_159266.json:
```json
{
    "body": "Attachment [recequadiff_doctest.2.sage](tarball://root/attachments/some-uuid/ticket11745/recequadiff_doctest.2.sage) by gconnan created at 2013-04-09 15:15:03\n\nDoctest for solving differential equations and recurrences",
    "created_at": "2013-04-09T15:15:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159266",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```

Attachment [recequadiff_doctest.2.sage](tarball://root/attachments/some-uuid/ticket11745/recequadiff_doctest.2.sage) by gconnan created at 2013-04-09 15:15:03

Doctest for solving differential equations and recurrences



---

archive/issue_comments_159267.json:
```json
{
    "body": "<a id='comment:7'></a>Attachment [trac_11745.patch](tarball://root/attachments/some-uuid/ticket11745/trac_11745.patch) by @zimmermann6 created at 2013-04-10 11:02:42",
    "created_at": "2013-04-10T11:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159267",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:7'></a>Attachment [trac_11745.patch](tarball://root/attachments/some-uuid/ticket11745/trac_11745.patch) by @zimmermann6 created at 2013-04-10 11:02:42



---

archive/issue_comments_159268.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,6 @@\n+The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul math\u00e9matique avec Sage. \n \n+Apply [attachment:trac_11745.patch] only.\n \n Comment: 1\n \n``````\n",
    "created_at": "2013-04-10T11:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159268",
    "user": "https://github.com/zimmermann6"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,6 @@
+The attached patch adds to the Sage testsuite most examples appearing Chapter 9  (EDO, EDP, Recurrence) of the French book  Calcul mathématique avec Sage. 
 
+Apply [attachment:trac_11745.patch] only.
 
 Comment: 1
 
``````




---

archive/issue_comments_159269.json:
```json
{
    "body": "Changing author from \"\" to \"Guillaume Connan\"",
    "created_at": "2013-04-10T11:02:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159269",
    "user": "https://github.com/zimmermann6"
}
```

Changing author from "" to "Guillaume Connan"



---

archive/issue_comments_159270.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-04-10T12:01:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159270",
    "user": "https://trac.sagemath.org/admin/accounts/users/gconnan"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_159271.json:
```json
{
    "body": "<a id='comment:9'></a>I give a positive review. In fact it is enough to test the single (attached) file, since it does not change any functionality in Sage, it does only add some more doctests.\n\nNevertheless I did run all doctests (with Sage 5.7) and they all pass.\n\nPaul\n\nPS: note I am a co-author of the french book. I hope it does not make a problem if I review this ticket. We should soon publish the book on paper, and thus we would like to ensure our\nexamples will still run in future versions of Sage.",
    "created_at": "2013-04-10T12:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159271",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:9'></a>I give a positive review. In fact it is enough to test the single (attached) file, since it does not change any functionality in Sage, it does only add some more doctests.

Nevertheless I did run all doctests (with Sage 5.7) and they all pass.

Paul

PS: note I am a co-author of the french book. I hope it does not make a problem if I review this ticket. We should soon publish the book on paper, and thus we would like to ensure our
examples will still run in future versions of Sage.



---

archive/issue_comments_159272.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Paul Zimmermann\"",
    "created_at": "2013-04-10T12:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159272",
    "user": "https://github.com/zimmermann6"
}
```

Changing reviewer from "" to "Paul Zimmermann"



---

archive/issue_comments_159273.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-04-10T12:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159273",
    "user": "https://github.com/zimmermann6"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_159274.json:
```json
{
    "body": "<a id='comment:10'></a>Paul: as I already said to you by e-mail, be sure to run the test with `--warn-long` and mark any tests taking a long time as `# long time`.",
    "created_at": "2013-04-10T12:10:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159274",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Paul: as I already said to you by e-mail, be sure to run the test with `--warn-long` and mark any tests taking a long time as `# long time`.



---

archive/issue_comments_159275.json:
```json
{
    "body": "<a id='comment:11'></a>Jeroen, the `--warn-long` option does not seem to work with 5.7 nor 5.8:\n\n```\ntarte% ../../../../../sage -t --warn-long recequadiff.py\nsage -t --warn-long \"devel/sage-11745/sage/tests/french_book/recequadiff.py\"\n\n\nUsage: sage-doctest [same options as sage -t] filenames\n         [0.1 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n        sage -t --warn-long \"devel/sage-11745/sage/tests/french_book/recequadiff.py\"\nTotal time for all tests: 0.2 seconds\n```\nPaul",
    "created_at": "2013-04-10T12:19:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159275",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:11'></a>Jeroen, the `--warn-long` option does not seem to work with 5.7 nor 5.8:

```
tarte% ../../../../../sage -t --warn-long recequadiff.py
sage -t --warn-long "devel/sage-11745/sage/tests/french_book/recequadiff.py"


Usage: sage-doctest [same options as sage -t] filenames
         [0.1 s]
 
----------------------------------------------------------------------
The following tests failed:


        sage -t --warn-long "devel/sage-11745/sage/tests/french_book/recequadiff.py"
Total time for all tests: 0.2 seconds
```
Paul



---

archive/issue_comments_159276.json:
```json
{
    "body": "<a id='comment:12'></a>True, it was introduced in sage-5.9.beta0.",
    "created_at": "2013-04-10T12:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159276",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>True, it was introduced in sage-5.9.beta0.



---

archive/issue_comments_159277.json:
```json
{
    "body": "<a id='comment:13'></a>Anyway on my machine (which is an Intel Core 2) `numbertheory.py` takes\nabout 15 seconds, `polynomes.py` about 5 seconds, and `recequadiff.py`\nabout 13 seconds (without `-long`). Is that reasonable?\n\nPaul",
    "created_at": "2013-04-10T12:23:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159277",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:13'></a>Anyway on my machine (which is an Intel Core 2) `numbertheory.py` takes
about 15 seconds, `polynomes.py` about 5 seconds, and `recequadiff.py`
about 13 seconds (without `-long`). Is that reasonable?

Paul



---

archive/issue_events_030896.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-11T08:43:24Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "milestone": "sage-5.10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11745#event-30896"
}
```



---

archive/issue_comments_159278.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:4 zimmerma]:\n> This file has to be put into `tests/french_book`, probably after changing the name to\n> `recequadiff.py`.\n\nLet me just mention that there is no requirement from me to rename that file. It would have been fine to keep the name `recequadiff_doctest.sage` (maybe that's easier for you?)",
    "created_at": "2013-04-11T08:47:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159278",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Replying to [comment:4 zimmerma]:
> This file has to be put into `tests/french_book`, probably after changing the name to
> `recequadiff.py`.

Let me just mention that there is no requirement from me to rename that file. It would have been fine to keep the name `recequadiff_doctest.sage` (maybe that's easier for you?)



---

archive/issue_comments_159279.json:
```json
{
    "body": "<a id='comment:16'></a>since the first files in `tests/french_book` are named `xxx.py`, for coherence it is better to use similar names.\n\nPaul",
    "created_at": "2013-04-11T08:51:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159279",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:16'></a>since the first files in `tests/french_book` are named `xxx.py`, for coherence it is better to use similar names.

Paul



---

archive/issue_comments_159280.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.10.beta0\"",
    "created_at": "2013-04-13T13:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159280",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.10.beta0"



---

archive/issue_events_030897.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-04-13T13:47:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11745#event-30897"
}
```



---

archive/issue_comments_159281.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-04-13T13:47:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159281",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_159282.json:
```json
{
    "body": "<a id='comment:18'></a>we have a new patch without the executable bit, and with `...` replaced by `....:`,\nshould be attach it here or in a new ticket?\n\nPaul",
    "created_at": "2013-08-23T14:07:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11745",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11745#issuecomment-159282",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:18'></a>we have a new patch without the executable bit, and with `...` replaced by `....:`,
should be attach it here or in a new ticket?

Paul
