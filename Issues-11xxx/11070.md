# Issue 11070: Update prereq so that SAGE_PORT does not need setting on Solaris x86

archive/issues_010952.json:
```json
{
    "body": "The environment variable `SAGE_PORT` \n\nhttp://www.sagemath.org/doc/installation/source.html\n\nhas to be set on systems such as AIX and HP-UX where Sage is not supported. Currently this is also so on Solaris x86, despite the fact Sage build fine and is fully supported on both OpenSolaris x86 and Solaris 10 x86:\n\nhttp://wiki.sagemath.org/SupportedPlatforms\n\nAs such, the file\n\n`$SAGE_ROOT/spkg/base/prereq-0.7-install`\n\nneeds to be changed to remove this specific test for Solaris on x86. There is also a minor typo with an \"x\" missing on a line where a test for Solaris 2.6 is performed. \n\nThe new script will be installed as:\n\n`$SAGE_ROOT/spkg/base/prereq-0.8-install` \n\nand the old one removed.\n\n## Output on a Solaris x86 system\nHere's the output shown with sage-4.7.alpha1 on a Solaris x86 system with the environment variable `SAGE_PORT` not set. \n\n```\nStarting prerequisite check.\nMachine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc\n\nBuilding or using Sage on non-Sparc Solaris is tricky and not supported\nat the moment. It is possible, but you should be well aware that\nsome things do not work. Support for Solaris\non non-SPARC hardware is actively being worked on.\n\nMore information can be found about Sage on Solaris\non the Wiki at http://wiki.sagemath.org/solaris\n\nTo get past this message, export the variable SAGE_PORT to\nsomething non-empty.\nmake[1]: *** [installed/prereq-0.7] Error 1\nmake[1]: Leaving directory `/export/home/drkirkby/sage-4.7.alpha1/spkg'\n\nreal 0m0.024s\nuser 0m0.011s\nsys 0m0.017s\nError building Sage.\nmake: *** [build] Error 1\n```\n\nHere's the output of sage-4.7.alpha2, which has the changes applied. This time the *prereq* script gets run, without Sage exiting.\n\n```\nStarting prerequisite check.\nMachine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc\nprereq-0.8/\nprereq-0.8/install-sh\nprereq-0.8/aclocal.m4\nprereq-0.8/Makefile.am\n\n<snip>\n\nchecking for sqrt in -lm... yes\nchecking for sqrtl in -lm... yes\nconfigure: creating ./config.status\nconfig.status: creating Makefile\nconfig.status: creating config.h\nconfig.status: config.h is unchanged\nconfig.status: executing depfiles commands\n```\n\n## Notes for reviewer\nYou only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. \n\nWhen testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to `$SAGE_ROOT/spkg/base/`. \n\nBoth the script and the tar file must have the same version number (0.8). \n\n## Notes for the release manager\nThis ticket depends on #9978. This and #9978 must be updated together. Both have positive review. \n \n* The tar file `prereq-0.8.tar`, attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`. It is listed in .hgignore,so there's no need to change the repository for this. \n* The tar file `$SAGE_ROOT/spkg/base/prereq-0.7.tar` should be removed. \n* Apply [attachment:trac_11070-base-repo.patch] to the repository in spkg/base.\n\n\n**Assignee:** drkirkby\n\n**CC:**  @jhpalmieri\n\n**Reviewer:** John Palmieri\n\n**Author:** David Kirkby\n\n**Merged:** sage-4.7.alpha4\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/11070\n\n",
    "closed_at": "2011-04-05T11:59:26Z",
    "created_at": "2011-03-28T17:39:22Z",
    "labels": [
        "component: porting: solaris",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7",
    "title": "Update prereq so that SAGE_PORT does not need setting on Solaris x86",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11070",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```
The environment variable `SAGE_PORT` 

http://www.sagemath.org/doc/installation/source.html

has to be set on systems such as AIX and HP-UX where Sage is not supported. Currently this is also so on Solaris x86, despite the fact Sage build fine and is fully supported on both OpenSolaris x86 and Solaris 10 x86:

http://wiki.sagemath.org/SupportedPlatforms

As such, the file

`$SAGE_ROOT/spkg/base/prereq-0.7-install`

needs to be changed to remove this specific test for Solaris on x86. There is also a minor typo with an "x" missing on a line where a test for Solaris 2.6 is performed. 

The new script will be installed as:

`$SAGE_ROOT/spkg/base/prereq-0.8-install` 

and the old one removed.

## Output on a Solaris x86 system
Here's the output shown with sage-4.7.alpha1 on a Solaris x86 system with the environment variable `SAGE_PORT` not set. 

```
Starting prerequisite check.
Machine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc

Building or using Sage on non-Sparc Solaris is tricky and not supported
at the moment. It is possible, but you should be well aware that
some things do not work. Support for Solaris
on non-SPARC hardware is actively being worked on.

More information can be found about Sage on Solaris
on the Wiki at http://wiki.sagemath.org/solaris

To get past this message, export the variable SAGE_PORT to
something non-empty.
make[1]: *** [installed/prereq-0.7] Error 1
make[1]: Leaving directory `/export/home/drkirkby/sage-4.7.alpha1/spkg'

real 0m0.024s
user 0m0.011s
sys 0m0.017s
Error building Sage.
make: *** [build] Error 1
```

Here's the output of sage-4.7.alpha2, which has the changes applied. This time the *prereq* script gets run, without Sage exiting.

```
Starting prerequisite check.
Machine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc
prereq-0.8/
prereq-0.8/install-sh
prereq-0.8/aclocal.m4
prereq-0.8/Makefile.am

<snip>

checking for sqrt in -lm... yes
checking for sqrtl in -lm... yes
configure: creating ./config.status
config.status: creating Makefile
config.status: creating config.h
config.status: config.h is unchanged
config.status: executing depfiles commands
```

## Notes for reviewer
You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. 

When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to `$SAGE_ROOT/spkg/base/`. 

Both the script and the tar file must have the same version number (0.8). 

## Notes for the release manager
This ticket depends on #9978. This and #9978 must be updated together. Both have positive review. 
 
* The tar file `prereq-0.8.tar`, attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`. It is listed in .hgignore,so there's no need to change the repository for this. 
* The tar file `$SAGE_ROOT/spkg/base/prereq-0.7.tar` should be removed. 
* Apply [attachment:trac_11070-base-repo.patch] to the repository in spkg/base.


**Assignee:** drkirkby

**CC:**  @jhpalmieri

**Reviewer:** John Palmieri

**Author:** David Kirkby

**Merged:** sage-4.7.alpha4

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/11070





---

archive/issue_comments_148930.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-03-28T18:09:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148930",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_148931.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -21,7 +21,11 @@\n \n \n ## Notes for reviewer\n-You only need to check the changes betweem the two scripts - ignore the tar file that the script open. That is the subject of another ticket #9978. \n+You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. \n+\n+When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to $SAGE_ROOT/spkg/base/}}}. \n+\n+Both the script and the tar file must have the same version number (0.8). \n \n ## Notes for the release manager\n This ticket depends on #9978. This and #9978 must be updated together. \n``````\n",
    "created_at": "2011-03-28T18:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148931",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -21,7 +21,11 @@
 
 
 ## Notes for reviewer
-You only need to check the changes betweem the two scripts - ignore the tar file that the script open. That is the subject of another ticket #9978. 
+You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. 
+
+When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to $SAGE_ROOT/spkg/base/}}}. 
+
+Both the script and the tar file must have the same version number (0.8). 
 
 ## Notes for the release manager
 This ticket depends on #9978. This and #9978 must be updated together. 
``````




---

archive/attachments_014507.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "prereq-0.8-install",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11070/prereq-0.8-install",
    "created_at": "2011-03-28T21:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.8-install",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_148932.json:
```json
{
    "body": "To be installed as $SAGE_ROOT/spkg/base/prereq-0.8-install",
    "created_at": "2011-03-28T21:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148932",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

To be installed as $SAGE_ROOT/spkg/base/prereq-0.8-install



---

archive/issue_comments_148933.json:
```json
{
    "body": "Differences between the old script prereq-0.7-install and the new one prereq-0.8-install",
    "created_at": "2011-03-28T21:53:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148933",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Differences between the old script prereq-0.7-install and the new one prereq-0.8-install



---

archive/issue_comments_148934.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -23,7 +23,7 @@\n ## Notes for reviewer\n You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. \n \n-When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to $SAGE_ROOT/spkg/base/}}}. \n+When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to `$SAGE_ROOT/spkg/base/`. \n \n Both the script and the tar file must have the same version number (0.8). \n \n``````\n",
    "created_at": "2011-03-28T21:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148934",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -23,7 +23,7 @@
 ## Notes for reviewer
 You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. 
 
-When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to $SAGE_ROOT/spkg/base/}}}. 
+When testing, you will need to copy the file `prereq-0.8.tar` attached to #9978 to `$SAGE_ROOT/spkg/base/`. 
 
 Both the script and the tar file must have the same version number (0.8). 
 
``````




---

archive/attachments_014508.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "prereq-install-changes.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11070/prereq-install-changes.diff",
    "created_at": "2011-03-28T21:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```



---

archive/issue_comments_148935.json:
```json
{
    "body": "<a id='comment:3'></a>\n",
    "created_at": "2011-03-28T21:56:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148935",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:3'></a>




---

archive/issue_comments_148936.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,7 +2,7 @@\n \n http://www.sagemath.org/doc/installation/source.html\n \n-has to be set on systems where such as AIX and HP-UX where Sage is not supported. Currently this is also so on Solaris x86, despite the fact Sage build fine and is fully supported on both OpenSolaris x86 and Solaris 10 x86:\n+has to be set on systems such as AIX and HP-UX where Sage is not supported. Currently this is also so on Solaris x86, despite the fact Sage build fine and is fully supported on both OpenSolaris x86 and Solaris 10 x86:\n \n http://wiki.sagemath.org/SupportedPlatforms\n \n``````\n",
    "created_at": "2011-03-28T23:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148936",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,7 +2,7 @@
 
 http://www.sagemath.org/doc/installation/source.html
 
-has to be set on systems where such as AIX and HP-UX where Sage is not supported. Currently this is also so on Solaris x86, despite the fact Sage build fine and is fully supported on both OpenSolaris x86 and Solaris 10 x86:
+has to be set on systems such as AIX and HP-UX where Sage is not supported. Currently this is also so on Solaris x86, despite the fact Sage build fine and is fully supported on both OpenSolaris x86 and Solaris 10 x86:
 
 http://wiki.sagemath.org/SupportedPlatforms
 
``````




---

archive/issue_comments_148937.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -18,7 +18,53 @@\n \n and the old one removed.\n \n+## Output on a Solaris x86 system\n+Here's the output shown with sage-4.7.alpha1 on a Solaris x86 system with the environment variable `SAGE_PORT` not set. \n \n+```\n+Starting prerequisite check.\n+Machine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc\n+\n+Building or using Sage on non-Sparc Solaris is tricky and not supported\n+at the moment. It is possible, but you should be well aware that\n+some things do not work. Support for Solaris\n+on non-SPARC hardware is actively being worked on.\n+\n+More information can be found about Sage on Solaris\n+on the Wiki at http://wiki.sagemath.org/solaris\n+\n+To get past this message, export the variable SAGE_PORT to\n+something non-empty.\n+make[1]: *** [installed/prereq-0.7] Error 1\n+make[1]: Leaving directory `/export/home/drkirkby/sage-4.7.alpha1/spkg'\n+\n+real\t0m0.024s\n+user\t0m0.011s\n+sys\t0m0.017s\n+Error building Sage.\n+make: *** [build] Error 1\n+```\n+\n+Here's the output of sage-4.7.alpha2, which has the changes applied. This time the *prereq* script gets run, without Sage exiting.\n+\n+```\n+Starting prerequisite check.\n+Machine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc\n+prereq-0.8/\n+prereq-0.8/install-sh\n+prereq-0.8/aclocal.m4\n+prereq-0.8/Makefile.am\n+\n+<snip>\n+\n+checking for sqrt in -lm... yes\n+checking for sqrtl in -lm... yes\n+configure: creating ./config.status\n+config.status: creating Makefile\n+config.status: creating config.h\n+config.status: config.h is unchanged\n+config.status: executing depfiles commands\n+```\n \n ## Notes for reviewer\n You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. \n``````\n",
    "created_at": "2011-03-29T09:53:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148937",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -18,7 +18,53 @@
 
 and the old one removed.
 
+## Output on a Solaris x86 system
+Here's the output shown with sage-4.7.alpha1 on a Solaris x86 system with the environment variable `SAGE_PORT` not set. 
 
+```
+Starting prerequisite check.
+Machine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc
+
+Building or using Sage on non-Sparc Solaris is tricky and not supported
+at the moment. It is possible, but you should be well aware that
+some things do not work. Support for Solaris
+on non-SPARC hardware is actively being worked on.
+
+More information can be found about Sage on Solaris
+on the Wiki at http://wiki.sagemath.org/solaris
+
+To get past this message, export the variable SAGE_PORT to
+something non-empty.
+make[1]: *** [installed/prereq-0.7] Error 1
+make[1]: Leaving directory `/export/home/drkirkby/sage-4.7.alpha1/spkg'
+
+real	0m0.024s
+user	0m0.011s
+sys	0m0.017s
+Error building Sage.
+make: *** [build] Error 1
+```
+
+Here's the output of sage-4.7.alpha2, which has the changes applied. This time the *prereq* script gets run, without Sage exiting.
+
+```
+Starting prerequisite check.
+Machine: SunOS hawk 5.11 snv_134 i86pc i386 i86pc
+prereq-0.8/
+prereq-0.8/install-sh
+prereq-0.8/aclocal.m4
+prereq-0.8/Makefile.am
+
+<snip>
+
+checking for sqrt in -lm... yes
+checking for sqrtl in -lm... yes
+configure: creating ./config.status
+config.status: creating Makefile
+config.status: creating config.h
+config.status: config.h is unchanged
+config.status: executing depfiles commands
+```
 
 ## Notes for reviewer
 You only need to check the changes between the two scripts - ignore the tar file that the script opens. That is the subject of another ticket #9978. 
``````




---

archive/issue_comments_148938.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi Dave,\n\nIn principle this looks good.  One very minor change to the patch: add a period at the end of\n\n```\necho \"Sage is not supported on any version of Solaris earlier than 10\" \n```\n(You're deleting the following line, which has the period for that sentence.)\n\nMore importantly, though, I think that the file prereq-0.8-install should be added to the spkg/base repo, it should be executable, and prereq-0.7-install should be removed from the repo.  (I guess actually you should use hg to rename the 0.7 version to the 0.8 version, and then patch it.)  The .hgignore file should be modified, too, to include the new tar file, and I suppose it doesn't need to mention the old tar file. \n\nI'm attaching a mercurial patch which does these things, and I've committed it in your name.  Let me know if you have any objections.  Please take a look at the patch, and if you're happy with it, give the ticket a positive review.  (I'm happy with your changes, I just want to make sure you're happy with my implementation of them.)",
    "created_at": "2011-03-29T21:26:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148938",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
Hi Dave,

In principle this looks good.  One very minor change to the patch: add a period at the end of

```
echo "Sage is not supported on any version of Solaris earlier than 10" 
```
(You're deleting the following line, which has the period for that sentence.)

More importantly, though, I think that the file prereq-0.8-install should be added to the spkg/base repo, it should be executable, and prereq-0.7-install should be removed from the repo.  (I guess actually you should use hg to rename the 0.7 version to the 0.8 version, and then patch it.)  The .hgignore file should be modified, too, to include the new tar file, and I suppose it doesn't need to mention the old tar file. 

I'm attaching a mercurial patch which does these things, and I've committed it in your name.  Let me know if you have any objections.  Please take a look at the patch, and if you're happy with it, give the ticket a positive review.  (I'm happy with your changes, I just want to make sure you're happy with my implementation of them.)



---

archive/attachments_014509.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11070-base-repo.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11070/trac_11070-base-repo.patch",
    "created_at": "2011-03-29T21:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jhpalmieri"
}
```



---

archive/issue_comments_148939.json:
```json
{
    "body": "apply to spkg/base repo",
    "created_at": "2011-03-29T21:26:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148939",
    "user": "https://github.com/jhpalmieri"
}
```

apply to spkg/base repo



---

archive/issue_comments_148940.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -85,6 +85,5 @@\n To make the changes for this ticket and #9978, whilst updating the version of prereq script from 0.7 to 0.8, two things must be done. \n * The tar file `prereq-0.8.tar` attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`\n * The tar file `$SAGE_ROOT/spkg/base/prereq-0.7.tar` should be removed. \n-* The script attached to this ticket (`prereq-0.8-install`) needs to be installed as `$SAGE_ROOT/spkg/base/prereq-0.8-install`\n-* The script  `$SAGE_ROOT/spkg/base/prereq-0.7-install` must be removed. \n+* Apply [attachment:trac_11070-base-repo.patch] to the repository in spkg/base.\n \n``````\n",
    "created_at": "2011-03-29T21:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148940",
    "user": "https://github.com/jhpalmieri"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -85,6 +85,5 @@
 To make the changes for this ticket and #9978, whilst updating the version of prereq script from 0.7 to 0.8, two things must be done. 
 * The tar file `prereq-0.8.tar` attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`
 * The tar file `$SAGE_ROOT/spkg/base/prereq-0.7.tar` should be removed. 
-* The script attached to this ticket (`prereq-0.8-install`) needs to be installed as `$SAGE_ROOT/spkg/base/prereq-0.8-install`
-* The script  `$SAGE_ROOT/spkg/base/prereq-0.7-install` must be removed. 
+* Apply [attachment:trac_11070-base-repo.patch] to the repository in spkg/base.
 
``````




---

archive/issue_comments_148941.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2011-03-29T23:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148941",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Reviewer:** John Palmieri



---

archive/issue_comments_148942.json:
```json
{
    "body": "<a id='comment:8'></a>\nThank you John. \n\nYes, your changes look fine to me. I was not aware exactly how to use Mercurial to rename the files. But I applied the Mercurial patch you created and it did the right things. \n\nI still need to get a positive review on the other half if this update of \"prereq\", which is on ticket #9978. If you have time, perhaps you could take a look at that.",
    "created_at": "2011-03-29T23:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148942",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:8'></a>
Thank you John. 

Yes, your changes look fine to me. I was not aware exactly how to use Mercurial to rename the files. But I applied the Mercurial patch you created and it did the right things. 

I still need to get a positive review on the other half if this update of "prereq", which is on ticket #9978. If you have time, perhaps you could take a look at that.



---

archive/issue_comments_148943.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-03-29T23:14:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148943",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_148944.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -74,16 +74,9 @@\n Both the script and the tar file must have the same version number (0.8). \n \n ## Notes for the release manager\n-This ticket depends on #9978. This and #9978 must be updated together. \n-\n-Making changes to `$SAGE_ROOT/spkg/base` is performed in a different way to other changes. \n-\n-Attached is `prereq-0.8-install` and the diff from the old version. {{{prereq-0.7-install}}\n-\n-The tar file in the directory `$SAGE_ROOT/spkg/base` also needs the version incremented from 0.7 to 0.8. However, since some larger changes are made to this tar file as a result of a revised configure.ac used in #9978, the tar file will be attached there. \n-\n-To make the changes for this ticket and #9978, whilst updating the version of prereq script from 0.7 to 0.8, two things must be done. \n-* The tar file `prereq-0.8.tar` attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`\n+This ticket depends on #9978. This and #9978 must be updated together. Both have positive review. \n+ \n+* The tar file `prereq-0.8.tar`, attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`. It is listed in .hgignore,so there's no need to change the repository for this. \n * The tar file `$SAGE_ROOT/spkg/base/prereq-0.7.tar` should be removed. \n * Apply [attachment:trac_11070-base-repo.patch] to the repository in spkg/base.\n \n``````\n",
    "created_at": "2011-03-31T19:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148944",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -74,16 +74,9 @@
 Both the script and the tar file must have the same version number (0.8). 
 
 ## Notes for the release manager
-This ticket depends on #9978. This and #9978 must be updated together. 
-
-Making changes to `$SAGE_ROOT/spkg/base` is performed in a different way to other changes. 
-
-Attached is `prereq-0.8-install` and the diff from the old version. {{{prereq-0.7-install}}
-
-The tar file in the directory `$SAGE_ROOT/spkg/base` also needs the version incremented from 0.7 to 0.8. However, since some larger changes are made to this tar file as a result of a revised configure.ac used in #9978, the tar file will be attached there. 
-
-To make the changes for this ticket and #9978, whilst updating the version of prereq script from 0.7 to 0.8, two things must be done. 
-* The tar file `prereq-0.8.tar` attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`
+This ticket depends on #9978. This and #9978 must be updated together. Both have positive review. 
+ 
+* The tar file `prereq-0.8.tar`, attached to #9978 should be installed as `$SAGE_ROOT/spkg/base/prereq-0.8.tar`. It is listed in .hgignore,so there's no need to change the repository for this. 
 * The tar file `$SAGE_ROOT/spkg/base/prereq-0.7.tar` should be removed. 
 * Apply [attachment:trac_11070-base-repo.patch] to the repository in spkg/base.
 
``````




---

archive/issue_events_034200.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-04-05T11:59:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11070#event-34200"
}
```



---

archive/issue_comments_148945.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2011-04-05T11:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148945",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_comments_148946.json:
```json
{
    "body": "**Merged:** sage-4.7.alpha4",
    "created_at": "2011-04-05T11:59:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148946",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.alpha4



---

archive/issue_comments_148947.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -38,9 +38,9 @@\n make[1]: *** [installed/prereq-0.7] Error 1\n make[1]: Leaving directory `/export/home/drkirkby/sage-4.7.alpha1/spkg'\n \n-real\t0m0.024s\n-user\t0m0.011s\n-sys\t0m0.017s\n+real 0m0.024s\n+user 0m0.011s\n+sys 0m0.017s\n Error building Sage.\n make: *** [build] Error 1\n ```\n``````\n",
    "created_at": "2015-09-06T17:43:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11070",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11070#issuecomment-148947",
    "user": "https://github.com/fchapoton"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -38,9 +38,9 @@
 make[1]: *** [installed/prereq-0.7] Error 1
 make[1]: Leaving directory `/export/home/drkirkby/sage-4.7.alpha1/spkg'
 
-real	0m0.024s
-user	0m0.011s
-sys	0m0.017s
+real 0m0.024s
+user 0m0.011s
+sys 0m0.017s
 Error building Sage.
 make: *** [build] Error 1
 ```
``````

