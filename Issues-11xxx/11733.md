# Issue 11733: do not load sagenb.misc.misc on startup

archive/issues_011561.json:
```json
{
    "body": "Not loading *sagenb.misc.misc* on normal sage startup speeds up sage startup:\n\n```\n$ dumbbench -- ./sage --startuptime\nRan 25 iterations (4 outliers).\nRounded run time per iteration: 9.80e-01 +/- 1.3e-02 (1.3%)\n```\n\nvs.\n\n```\ndumbbench -- ./sage --startuptime\nRan 21 iterations (1 outliers).\nRounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)\n```\n\n---\n\nApply:\n1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.\n2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.\n\n\nAssignee: jason, mpatel, was\n\nKeywords: sd32\n\nResolution: worksforme\n\nDependencies: #11732\n\nReviewer: Julian Rueth\n\nIssue created by migration from https://trac.sagemath.org/ticket/11733\n\n",
    "closed_at": "2011-09-29T10:59:27Z",
    "created_at": "2011-08-24T06:22:49Z",
    "labels": [
        "component: notebook",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "do not load sagenb.misc.misc on startup",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11733",
    "user": "https://github.com/saraedum"
}
```
Not loading *sagenb.misc.misc* on normal sage startup speeds up sage startup:

```
$ dumbbench -- ./sage --startuptime
Ran 25 iterations (4 outliers).
Rounded run time per iteration: 9.80e-01 +/- 1.3e-02 (1.3%)
```

vs.

```
dumbbench -- ./sage --startuptime
Ran 21 iterations (1 outliers).
Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)
```

---

Apply:
1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.
2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.


Assignee: jason, mpatel, was

Keywords: sd32

Resolution: worksforme

Dependencies: #11732

Reviewer: Julian Rueth

Issue created by migration from https://trac.sagemath.org/ticket/11733





---

archive/issue_comments_158974.json:
```json
{
    "body": "Attachment [trac_11733_sagenb_misc_misc_sage.patch](tarball://root/attachments/some-uuid/ticket11733/trac_11733_sagenb_misc_misc_sage.patch) by @saraedum created at 2011-08-24 06:25:15",
    "created_at": "2011-08-24T06:25:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158974",
    "user": "https://github.com/saraedum"
}
```

Attachment [trac_11733_sagenb_misc_misc_sage.patch](tarball://root/attachments/some-uuid/ticket11733/trac_11733_sagenb_misc_misc_sage.patch) by @saraedum created at 2011-08-24 06:25:15



---

archive/issue_comments_158975.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-08-24T06:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158975",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_158976.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [trac_11733_sagenb_misc_misc_sagenb.patch](tarball://root/attachments/some-uuid/ticket11733/trac_11733_sagenb_misc_misc_sagenb.patch) by @saraedum created at 2011-08-24 06:34:05",
    "created_at": "2011-08-24T06:34:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158976",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>Attachment [trac_11733_sagenb_misc_misc_sagenb.patch](tarball://root/attachments/some-uuid/ticket11733/trac_11733_sagenb_misc_misc_sagenb.patch) by @saraedum created at 2011-08-24 06:34:05



---

archive/issue_comments_158977.json:
```json
{
    "body": "Changing author from \"Julian R\u00fcth\" to \"Julian Rueth\"",
    "created_at": "2011-08-24T18:59:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158977",
    "user": "https://github.com/saraedum"
}
```

Changing author from "Julian Rüth" to "Julian Rueth"



---

archive/issue_comments_158978.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd32\".",
    "created_at": "2011-08-24T23:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158978",
    "user": "https://github.com/williamstein"
}
```

Changing keywords from "" to "sd32".



---

archive/issue_comments_158979.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-08-25T03:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158979",
    "user": "https://github.com/robertwb"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_158980.json:
```json
{
    "body": "<a id='comment:4'></a>Looks good. Wish it were a bigger spedup, but ever 1-2% counts (it's like compound interest ;-)",
    "created_at": "2011-08-25T03:50:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158980",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:4'></a>Looks good. Wish it were a bigger spedup, but ever 1-2% counts (it's like compound interest ;-)



---

archive/issue_comments_158981.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,6 +14,13 @@\n Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)\n ```\n \n+---\n+\n+Apply:\n+1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.\n+2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.\n+\n+\n Dependencies: #11732\n \n Author: Julian R\u00fcth\n``````\n",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158981",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,6 +14,13 @@
 Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)
 ```
 
+---
+
+Apply:
+1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.
+2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.
+
+
 Dependencies: #11732
 
 Author: Julian Rüth
``````




---

archive/issue_comments_158982.json:
```json
{
    "body": "<a id='comment:5'></a>**Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**\n\nAlso, please make use of the comment fields for attachments.",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158982",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>**Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**

Also, please make use of the comment fields for attachments.



---

archive/issue_comments_158983.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Robert Bradshaw\"",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158983",
    "user": "https://github.com/nexttime"
}
```

Changing reviewer from "" to "Robert Bradshaw"



---

archive/issue_comments_158984.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158984",
    "user": "https://github.com/nexttime"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_158985.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 leif]:\n> **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**\n\n\nSorry, missed the dependency. Going to retry...",
    "created_at": "2011-09-08T11:15:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158985",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>Replying to [comment:5 leif]:
> **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**


Sorry, missed the dependency. Going to retry...



---

archive/issue_comments_158986.json:
```json
{
    "body": "<a id='comment:7'></a>Replying to [comment:6 leif]:\n> Replying to [comment:5 leif]:\n> > **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**\n\n> \n> Sorry, missed the dependency. Going to retry...\n\n\nStill does not apply:\n\n```\napplying http://trac.sagemath.org/sage_trac/raw-attachment/ticket/11733/trac_11733_sagenb_misc_misc_sagenb.patch\npatching file sagenb/misc/misc.py\nHunk #1 succeeded at 106 (offset 2 lines).\nHunk #2 FAILED at 163\nHunk #3 succeeded at 168 (offset -11 lines).\nHunk #4 FAILED at 334\nHunk #5 FAILED at 351\n3 out of 5 hunks FAILED -- saving rejects to file sagenb/misc/misc.py.rej\npatching file sagenb/notebook/interact.py\npatching file sagenb/notebook/notebook.py\nHunk #1 succeeded at 30 with fuzz 2 (offset 0 lines).\nHunk #2 succeeded at 619 (offset 5 lines).\nHunk #3 succeeded at 1592 with fuzz 1 (offset -2 lines).\npatching file sagenb/notebook/run_notebook.py\nabort: patch failed to apply\n```",
    "created_at": "2011-09-08T11:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158986",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>Replying to [comment:6 leif]:
> Replying to [comment:5 leif]:
> > **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**

> 
> Sorry, missed the dependency. Going to retry...


Still does not apply:

```
applying http://trac.sagemath.org/sage_trac/raw-attachment/ticket/11733/trac_11733_sagenb_misc_misc_sagenb.patch
patching file sagenb/misc/misc.py
Hunk #1 succeeded at 106 (offset 2 lines).
Hunk #2 FAILED at 163
Hunk #3 succeeded at 168 (offset -11 lines).
Hunk #4 FAILED at 334
Hunk #5 FAILED at 351
3 out of 5 hunks FAILED -- saving rejects to file sagenb/misc/misc.py.rej
patching file sagenb/notebook/interact.py
patching file sagenb/notebook/notebook.py
Hunk #1 succeeded at 30 with fuzz 2 (offset 0 lines).
Hunk #2 succeeded at 619 (offset 5 lines).
Hunk #3 succeeded at 1592 with fuzz 1 (offset -2 lines).
patching file sagenb/notebook/run_notebook.py
abort: patch failed to apply
```



---

archive/issue_comments_158987.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Rebase on Sage 4.7.2.alpha2.\"",
    "created_at": "2011-09-08T11:27:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158987",
    "user": "https://github.com/nexttime"
}
```

Changing work_issues from "" to "Rebase on Sage 4.7.2.alpha2."



---

archive/issue_comments_158988.json:
```json
{
    "body": "<a id='comment:9'></a>the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.",
    "created_at": "2011-09-21T10:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158988",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.



---

archive/issue_events_030864.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-09-21T10:11:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11733#event-30864"
}
```



---

archive/issue_comments_158989.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 saraedum]:\n> the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.\n\n\nAre you referring to alpha2 or the [alpha3 prerelease](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/)?\n\nAnyway, I can close this ticket if you give it \"positive review\" in the sense that it is invalid / fixed / no longer worth doing.",
    "created_at": "2011-09-21T12:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158989",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>Replying to [comment:9 saraedum]:
> the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.


Are you referring to alpha2 or the [alpha3 prerelease](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/)?

Anyway, I can close this ticket if you give it "positive review" in the sense that it is invalid / fixed / no longer worth doing.



---

archive/issue_comments_158990.json:
```json
{
    "body": "Changing status from needs_work to needs_info.",
    "created_at": "2011-09-29T04:08:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158990",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_work to needs_info.



---

archive/issue_comments_158991.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-09-29T09:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158991",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_158992.json:
```json
{
    "body": "<a id='comment:12'></a>no longer worth doing.",
    "created_at": "2011-09-29T09:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158992",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:12'></a>no longer worth doing.



---

archive/issue_comments_158993.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-29T09:18:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158993",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_158994.json:
```json
{
    "body": "Changing reviewer from \"Robert Bradshaw\" to \"Julian Rueth\"",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158994",
    "user": "https://github.com/nexttime"
}
```

Changing reviewer from "Robert Bradshaw" to "Julian Rueth"



---

archive/issue_events_030865.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T10:59:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11733#event-30865"
}
```



---

archive/issue_comments_158995.json:
```json
{
    "body": "Changing work_issues from \"Rebase on Sage 4.7.2.alpha2.\" to \"\"",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158995",
    "user": "https://github.com/nexttime"
}
```

Changing work_issues from "Rebase on Sage 4.7.2.alpha2." to ""



---

archive/issue_comments_158996.json:
```json
{
    "body": "Changing author from \"Julian Rueth\" to \"\"",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158996",
    "user": "https://github.com/nexttime"
}
```

Changing author from "Julian Rueth" to ""



---

archive/issue_comments_158997.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11733#issuecomment-158997",
    "user": "https://github.com/nexttime"
}
```

Resolution: worksforme
