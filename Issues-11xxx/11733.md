# Issue 11733: do not load sagenb.misc.misc on startup

archive/issues_011561.json:
```json
{
    "body": "Not loading *sagenb.misc.misc* on normal sage startup speeds up sage startup:\n\n```\n$ dumbbench -- ./sage --startuptime\nRan 25 iterations (4 outliers).\nRounded run time per iteration: 9.80e-01 +/- 1.3e-02 (1.3%)\n```\n\nvs.\n\n```\ndumbbench -- ./sage --startuptime\nRan 21 iterations (1 outliers).\nRounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)\n```\n\n---\n\nApply:\n1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.\n2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.\n\n\nDepends on #11732\n\n**Assignee:** @jasongrout, @qed777, @williamstein\n\n**Keywords:** sd32\n\n**Reviewer:** Julian Rueth\n\nIssue created by migration from https://trac.sagemath.org/ticket/11733\n\n",
    "closed_at": "2011-09-29T10:59:27Z",
    "created_at": "2011-08-24T06:22:49Z",
    "labels": [
        "component: notebook",
        "minor",
        "enhancement",
        "worksforme",
        "invalid"
    ],
    "title": "do not load sagenb.misc.misc on startup",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/11733",
    "user": "https://github.com/saraedum"
}
```
Not loading *sagenb.misc.misc* on normal sage startup speeds up sage startup:

```
$ dumbbench -- ./sage --startuptime
Ran 25 iterations (4 outliers).
Rounded run time per iteration: 9.80e-01 +/- 1.3e-02 (1.3%)
```

vs.

```
dumbbench -- ./sage --startuptime
Ran 21 iterations (1 outliers).
Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)
```

---

Apply:
1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.
2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.


Depends on #11732

**Assignee:** @jasongrout, @qed777, @williamstein

**Keywords:** sd32

**Reviewer:** Julian Rueth

Issue created by migration from https://trac.sagemath.org/ticket/11733





---

archive/attachments_015531.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11733_sagenb_misc_misc_sage.patch",
    "asset_url": "tarball://root/attachments/ticket11733/trac_11733_sagenb_misc_misc_sage.patch",
    "created_at": "2011-08-24T06:25:15Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11733/trac_11733_sagenb_misc_misc_sage.patch",
    "user": "https://github.com/saraedum"
}
```



---

archive/issue_comments_124020.json:
```json
{
    "body": "Attachment [trac_11733_sagenb_misc_misc_sage.patch](https://github.com/sagemath/sage/files/ticket11733/trac_11733_sagenb_misc_misc_sage.patch) by @saraedum created at 2011-08-24 06:25:15",
    "created_at": "2011-08-24T06:25:15Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124020",
    "user": "https://github.com/saraedum"
}
```

Attachment [trac_11733_sagenb_misc_misc_sage.patch](https://github.com/sagemath/sage/files/ticket11733/trac_11733_sagenb_misc_misc_sage.patch) by @saraedum created at 2011-08-24 06:25:15



---

archive/issue_events_093764.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-08-24T06:34:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93764"
}
```



---

archive/attachments_015532.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11733_sagenb_misc_misc_sagenb.patch",
    "asset_url": "tarball://root/attachments/ticket11733/trac_11733_sagenb_misc_misc_sagenb.patch",
    "created_at": "2011-08-24T06:34:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket11733/trac_11733_sagenb_misc_misc_sagenb.patch",
    "user": "https://github.com/saraedum"
}
```



---

archive/issue_comments_124021.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [trac_11733_sagenb_misc_misc_sagenb.patch](https://github.com/sagemath/sage/files/ticket11733/trac_11733_sagenb_misc_misc_sagenb.patch) by @saraedum created at 2011-08-24 06:34:05",
    "created_at": "2011-08-24T06:34:05Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124021",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>
Attachment [trac_11733_sagenb_misc_misc_sagenb.patch](https://github.com/sagemath/sage/files/ticket11733/trac_11733_sagenb_misc_misc_sagenb.patch) by @saraedum created at 2011-08-24 06:34:05



---

archive/issue_comments_124022.json:
```json
{
    "body": "**Changing author** from \"Julian R\u00fcth\" to \"Julian Rueth\".",
    "created_at": "2011-08-24T18:59:30Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124022",
    "user": "https://github.com/saraedum"
}
```

**Changing author** from "Julian RÃ¼th" to "Julian Rueth".



---

archive/issue_comments_124023.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"sd32\".",
    "created_at": "2011-08-24T23:30:54Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124023",
    "user": "https://github.com/williamstein"
}
```

**Changing keywords** from "" to "sd32".



---

archive/issue_events_093765.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-08-25T03:50:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93765"
}
```



---

archive/issue_events_093766.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2011-08-25T03:50:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93766"
}
```



---

archive/issue_comments_124024.json:
```json
{
    "body": "<a id='comment:4'></a>\nLooks good. Wish it were a bigger spedup, but ever 1-2% counts (it's like compound interest ;-)",
    "created_at": "2011-08-25T03:50:11Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124024",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:4'></a>
Looks good. Wish it were a bigger spedup, but ever 1-2% counts (it's like compound interest ;-)



---

archive/issue_comments_124025.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -13,3 +13,10 @@\n Ran 21 iterations (1 outliers).\n Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)\n ```\n+\n+---\n+\n+Apply:\n+1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.\n+2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.\n+\n``````\n",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124025",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -13,3 +13,10 @@
 Ran 21 iterations (1 outliers).
 Rounded run time per iteration: 9.38e-01 +/- 1.5e-02 (1.6%)
 ```
+
+---
+
+Apply:
+1. [attachment:trac_11733_sagenb_misc_misc_sage.patch] to the Sage library.
+2. [attachment:trac_11733_sagenb_misc_misc_sagenb.patch] to the SageNB repository.
+
``````




---

archive/issue_comments_124026.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**\n\nAlso, please make use of the comment fields for attachments.",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124026",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>
**Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**

Also, please make use of the comment fields for attachments.



---

archive/issue_comments_124027.json:
```json
{
    "body": "**Reviewer:** Robert Bradshaw",
    "created_at": "2011-09-08T11:03:37Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124027",
    "user": "https://github.com/nexttime"
}
```

**Reviewer:** Robert Bradshaw



---

archive/issue_events_093767.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-08T11:03:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93767"
}
```



---

archive/issue_events_093768.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-08T11:03:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93768"
}
```



---

archive/issue_comments_124028.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [leif](#comment%3A5):\n> **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**\n\n\nSorry, missed the dependency. Going to retry...",
    "created_at": "2011-09-08T11:15:23Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124028",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>
Replying to [leif](#comment%3A5):
> **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**


Sorry, missed the dependency. Going to retry...



---

archive/issue_comments_124029.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [leif](#comment%3A6):\n> Replying to [leif](#comment%3A5):\n> > **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**\n\n> \n> Sorry, missed the dependency. Going to retry...\n\n\nStill does not apply:\n\n```\napplying http://trac.sagemath.org/sage_trac/raw-attachment/ticket/11733/trac_11733_sagenb_misc_misc_sagenb.patch\npatching file sagenb/misc/misc.py\nHunk #1 succeeded at 106 (offset 2 lines).\nHunk #2 FAILED at 163\nHunk #3 succeeded at 168 (offset -11 lines).\nHunk #4 FAILED at 334\nHunk #5 FAILED at 351\n3 out of 5 hunks FAILED -- saving rejects to file sagenb/misc/misc.py.rej\npatching file sagenb/notebook/interact.py\npatching file sagenb/notebook/notebook.py\nHunk #1 succeeded at 30 with fuzz 2 (offset 0 lines).\nHunk #2 succeeded at 619 (offset 5 lines).\nHunk #3 succeeded at 1592 with fuzz 1 (offset -2 lines).\npatching file sagenb/notebook/run_notebook.py\nabort: patch failed to apply\n```",
    "created_at": "2011-09-08T11:26:49Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124029",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>
Replying to [leif](#comment%3A6):
> Replying to [leif](#comment%3A5):
> > **Does not apply to Sage 4.7.2.alpha2 / SageNB 0.8.21.**

> 
> Sorry, missed the dependency. Going to retry...


Still does not apply:

```
applying http://trac.sagemath.org/sage_trac/raw-attachment/ticket/11733/trac_11733_sagenb_misc_misc_sagenb.patch
patching file sagenb/misc/misc.py
Hunk #1 succeeded at 106 (offset 2 lines).
Hunk #2 FAILED at 163
Hunk #3 succeeded at 168 (offset -11 lines).
Hunk #4 FAILED at 334
Hunk #5 FAILED at 351
3 out of 5 hunks FAILED -- saving rejects to file sagenb/misc/misc.py.rej
patching file sagenb/notebook/interact.py
patching file sagenb/notebook/notebook.py
Hunk #1 succeeded at 30 with fuzz 2 (offset 0 lines).
Hunk #2 succeeded at 619 (offset 5 lines).
Hunk #3 succeeded at 1592 with fuzz 1 (offset -2 lines).
patching file sagenb/notebook/run_notebook.py
abort: patch failed to apply
```



---

archive/issue_comments_124030.json:
```json
{
    "body": "**Work_Issues:** Rebase on Sage 4.7.2.alpha2.",
    "created_at": "2011-09-08T11:27:56Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124030",
    "user": "https://github.com/nexttime"
}
```

**Work_Issues:** Rebase on Sage 4.7.2.alpha2.



---

archive/issue_comments_124031.json:
```json
{
    "body": "<a id='comment:9'></a>\nthe sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.",
    "created_at": "2011-09-21T10:11:36Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124031",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>
the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.



---

archive/issue_events_093769.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-09-21T10:11:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93769"
}
```



---

archive/issue_comments_124032.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [saraedum](#comment%3A9):\n> the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.\n\n\nAre you referring to alpha2 or the [alpha3 prerelease](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/)?\n\nAnyway, I can close this ticket if you give it \"positive review\" in the sense that it is invalid / fixed / no longer worth doing.",
    "created_at": "2011-09-21T12:09:53Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124032",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:10'></a>
Replying to [saraedum](#comment%3A9):
> the sagenb.misc.misc import is faster in the latest alpha and it's harder to get rid of it now, so I guess it's not worth it anymore.


Are you referring to alpha2 or the [alpha3 prerelease](http://sage.math.washington.edu/home/leif/Sage/release/sage-4.7.2.alpha3-prerelease/)?

Anyway, I can close this ticket if you give it "positive review" in the sense that it is invalid / fixed / no longer worth doing.



---

archive/issue_events_093770.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T04:08:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93770"
}
```



---

archive/issue_events_093771.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T04:08:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93771"
}
```



---

archive/issue_events_093772.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-09-29T09:18:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93772"
}
```



---

archive/issue_events_093773.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-09-29T09:18:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93773"
}
```



---

archive/issue_comments_124033.json:
```json
{
    "body": "<a id='comment:12'></a>\nno longer worth doing.",
    "created_at": "2011-09-29T09:18:08Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124033",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:12'></a>
no longer worth doing.



---

archive/issue_events_093774.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-09-29T09:18:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93774"
}
```



---

archive/issue_events_093775.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2011-09-29T09:18:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93775"
}
```



---

archive/issue_comments_124034.json:
```json
{
    "body": "**Changing reviewer** from \"Robert Bradshaw\" to \"Julian Rueth\".",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124034",
    "user": "https://github.com/nexttime"
}
```

**Changing reviewer** from "Robert Bradshaw" to "Julian Rueth".



---

archive/issue_events_093776.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T10:59:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93776"
}
```



---

archive/issue_events_093777.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T10:59:27Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93777"
}
```



---

archive/issue_comments_124035.json:
```json
{
    "body": "**Changing work_issues** from \"Rebase on Sage 4.7.2.alpha2.\" to \"\".",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124035",
    "user": "https://github.com/nexttime"
}
```

**Changing work_issues** from "Rebase on Sage 4.7.2.alpha2." to "".



---

archive/issue_comments_124036.json:
```json
{
    "body": "**Changing author** from \"Julian Rueth\" to \"\".",
    "created_at": "2011-09-29T10:59:27Z",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11733#issuecomment-124036",
    "user": "https://github.com/nexttime"
}
```

**Changing author** from "Julian Rueth" to "".



---

archive/issue_events_093778.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-29T10:59:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11733",
    "label": "worksforme",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11733#event-93778"
}
```
