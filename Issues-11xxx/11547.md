# Issue 11547: Copy needed dll to so files on Cygwin

archive/issues_011375.json:
```json
{
    "body": "As was put on [the wiki for Cygwin](CygwinPort), \n\n```\nThe following files need to be copied:\n  \"libcliquer.dll -> libcliquer.so\", \n  \"libflint.dll -> libflint.so\",\n  \"libntl.dll.a -> libntl.dll\"\n```\nSee the comments for why the third one is dealt with at #11635.\n\n---\nTwo spkg upgrades:\n* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) \n* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg) (based on the latest p7 from #11246)\n  md5sum: `bcd152d2f0e1d503ffd1e7e637c388ef`\n\n**CC:**  @dimpase @mwhansen @nexttime\n\n**Keywords:** cygwin FLINT NTL cliquer DLL shared library\n\n**Resolution:** fixed\n\n**Dependencies:** #11246\n\n**Author:** Mike Hansen, Karl-Dieter Crisman\n\n**Reviewer:** Dmitrii Pasechnik\n\n**Merged:** sage-4.7.2.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/11547\n\n",
    "closed_at": "2011-08-02T19:45:40Z",
    "created_at": "2011-06-26T11:46:50Z",
    "labels": [
        "component: porting: cygwin",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "Copy needed dll to so files on Cygwin",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11547",
    "user": "https://github.com/kcrisman"
}
```
As was put on [the wiki for Cygwin](CygwinPort), 

```
The following files need to be copied:
  "libcliquer.dll -> libcliquer.so", 
  "libflint.dll -> libflint.so",
  "libntl.dll.a -> libntl.dll"
```
See the comments for why the third one is dealt with at #11635.

---
Two spkg upgrades:
* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) 
* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg) (based on the latest p7 from #11246)
  md5sum: `bcd152d2f0e1d503ffd1e7e637c388ef`

**CC:**  @dimpase @mwhansen @nexttime

**Keywords:** cygwin FLINT NTL cliquer DLL shared library

**Resolution:** fixed

**Dependencies:** #11246

**Author:** Mike Hansen, Karl-Dieter Crisman

**Reviewer:** Dmitrii Pasechnik

**Merged:** sage-4.7.2.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/11547





---

archive/issue_comments_159679.json:
```json
{
    "body": "<a id='comment:1'></a>\nI'm going to put Mike as an \"author\" of this because [This is the Trac macro *CygwinPort?version=54* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#CygwinPort?version=54-macro) says he's the one who came up with this.",
    "created_at": "2011-06-28T18:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159679",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
I'm going to put Mike as an "author" of this because [This is the Trac macro *CygwinPort?version=54* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#CygwinPort?version=54-macro) says he's the one who came up with this.



---

archive/issue_comments_159680.json:
```json
{
    "body": "**Author:** Mike Hansen",
    "created_at": "2011-06-28T18:13:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159680",
    "user": "https://github.com/kcrisman"
}
```

**Author:** Mike Hansen



---

archive/issue_comments_159681.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -3,4 +3,9 @@\n ```\n The following files need to be copied \"libcliquer.dll -> libcliquer.so\", \"libflint.dll -> libflint.so\", \"libntl.dll.a -> libntl.dll\"\n ```\n-So that probably means three spkg upgrades?\n+\n+---\n+Three spkg upgrades:\n+* [cliquer](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg)\n+* flint\n+* ntl\n``````\n",
    "created_at": "2011-06-29T02:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159681",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -3,4 +3,9 @@
 ```
 The following files need to be copied "libcliquer.dll -> libcliquer.so", "libflint.dll -> libflint.so", "libntl.dll.a -> libntl.dll"
 ```
-So that probably means three spkg upgrades?
+
+---
+Three spkg upgrades:
+* [cliquer](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg)
+* flint
+* ntl
``````




---

archive/issue_comments_159682.json:
```json
{
    "body": "**Changing author** from \"Mike Hansen\" to \"Mike Hansen, Karl-Dieter Crisman\".",
    "created_at": "2011-06-29T02:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159682",
    "user": "https://github.com/kcrisman"
}
```

**Changing author** from "Mike Hansen" to "Mike Hansen, Karl-Dieter Crisman".



---

archive/issue_comments_159683.json:
```json
{
    "body": "<a id='comment:3'></a>\nInterestingly, both FLINT and cliquer spkgs currently make reference to needing to make dll's because they're on Windows... it looks like having both won't be a problem, but I wonder out loud whether in the long run we need only the so file.  \n\nAnyway, I'm making the spkgs so that they have both.\n\n---\nThis will depend on #11246 in the sense that the flint spkg will be based upon it, though obviously there is nothing needed other than to directly upgrade.",
    "created_at": "2011-06-29T02:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159683",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:3'></a>
Interestingly, both FLINT and cliquer spkgs currently make reference to needing to make dll's because they're on Windows... it looks like having both won't be a problem, but I wonder out loud whether in the long run we need only the so file.  

Anyway, I'm making the spkgs so that they have both.

---
This will depend on #11246 in the sense that the flint spkg will be based upon it, though obviously there is nothing needed other than to directly upgrade.



---

archive/issue_comments_159684.json:
```json
{
    "body": "**Dependencies:** #11246",
    "created_at": "2011-06-29T02:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159684",
    "user": "https://github.com/kcrisman"
}
```

**Dependencies:** #11246



---

archive/issue_comments_159685.json:
```json
{
    "body": "<a id='comment:4'></a>\nI'm attaching a diff for the flint one (I may also need to do a second upgrade to flint for ntl, since on Cygwin we move certain ntl files out of the way and this would create another one).  I used `$CP -p` instead of just `cp` because the rest of the script does that, but I'm confused as to what systems don't use `cp` for their copy - maybe some HP or IBM ones?",
    "created_at": "2011-06-29T02:27:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159685",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>
I'm attaching a diff for the flint one (I may also need to do a second upgrade to flint for ntl, since on Cygwin we move certain ntl files out of the way and this would create another one).  I used `$CP -p` instead of just `cp` because the rest of the script does that, but I'm confused as to what systems don't use `cp` for their copy - maybe some HP or IBM ones?



---

archive/issue_comments_159686.json:
```json
{
    "body": "For review purposes only",
    "created_at": "2011-06-29T02:27:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159686",
    "user": "https://github.com/kcrisman"
}
```

For review purposes only



---

archive/issue_events_035804.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-06-29T02:30:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "milestone": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11547#event-35804"
}
```



---

archive/attachments_015215.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11547-flint.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11547/trac_11547-flint.diff",
    "created_at": "2011-06-29T02:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_159687.json:
```json
{
    "body": "<a id='comment:5'></a>\n",
    "created_at": "2011-06-29T02:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159687",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>




---

archive/issue_comments_159688.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -7,5 +7,5 @@\n ---\n Three spkg upgrades:\n * [cliquer](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg)\n-* flint\n+* [flint](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)\n * ntl\n``````\n",
    "created_at": "2011-06-29T02:30:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159688",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -7,5 +7,5 @@
 ---
 Three spkg upgrades:
 * [cliquer](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg)
-* flint
+* [flint](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)
 * ntl
``````




---

archive/attachments_015216.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11547-ntl.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11547/trac_11547-ntl.diff",
    "created_at": "2011-06-29T02:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_159689.json:
```json
{
    "body": "For review purposes only",
    "created_at": "2011-06-29T02:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159689",
    "user": "https://github.com/kcrisman"
}
```

For review purposes only



---

archive/issue_comments_159690.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,6 +6,6 @@\n \n ---\n Three spkg upgrades:\n-* [cliquer](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg)\n-* [flint](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)\n-* ntl\n+* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) \n+* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)\n+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n``````\n",
    "created_at": "2011-06-29T02:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159690",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,6 +6,6 @@
 
 ---
 Three spkg upgrades:
-* [cliquer](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg)
-* [flint](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)
-* ntl
+* [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) 
+* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)
+* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
``````




---

archive/issue_comments_159691.json:
```json
{
    "body": "<a id='comment:6'></a>\nFor now, it looks in the spkg-install for flint that it was only the libntl.a file that needed to be moved, not the libntl.dll.a file, so hopefully the libntl.dll file also won't need to be moved.  This could be revisited if that didn't work, of course.\n\n---\n\nOtherwise ready for review, though I'm not assuming it will be immediately positive.  That would be nice, though :)",
    "created_at": "2011-06-29T02:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159691",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>
For now, it looks in the spkg-install for flint that it was only the libntl.a file that needed to be moved, not the libntl.dll.a file, so hopefully the libntl.dll file also won't need to be moved.  This could be revisited if that didn't work, of course.

---

Otherwise ready for review, though I'm not assuming it will be immediately positive.  That would be nice, though :)



---

archive/issue_comments_159692.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-06-29T02:50:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159692",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_159693.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2011-06-29T10:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159693",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_159694.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [kcrisman](#comment%3A6):\n> For now, it looks in the spkg-install for flint that it was only the libntl.a file that needed to be moved, not the libntl.dll.a file, so hopefully the libntl.dll file also won't need to be moved.  This could be revisited if that didn't work, of course.\n> \n> \n> ---\n> \n> Otherwise ready for review, though I'm not assuming it will be immediately positive.  That would be nice, though :)\n\n\nCould you post the diff for cliquer, too?\nAlso, in the future please refrain from unnecessarily reformatting files you are changing in spkgs (it's probably some over-eager editor you are using does it).",
    "created_at": "2011-06-29T10:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159694",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
Replying to [kcrisman](#comment%3A6):
> For now, it looks in the spkg-install for flint that it was only the libntl.a file that needed to be moved, not the libntl.dll.a file, so hopefully the libntl.dll file also won't need to be moved.  This could be revisited if that didn't work, of course.
> 
> 
> ---
> 
> Otherwise ready for review, though I'm not assuming it will be immediately positive.  That would be nice, though :)


Could you post the diff for cliquer, too?
Also, in the future please refrain from unnecessarily reformatting files you are changing in spkgs (it's probably some over-eager editor you are using does it).



---

archive/issue_comments_159695.json:
```json
{
    "body": "<a id='comment:8'></a>\n> > Otherwise ready for review, though I'm not assuming it will be immediately positive.  That would be nice, though :)\n\n> \n> Could you post the diff for cliquer, too?\n\n\nSure, I just didn't think to do it because it was much less invasive.\n\n> Also, in the future please refrain from unnecessarily reformatting files you are changing in spkgs (it's probably some over-eager editor you are using does it).\n>  \n\n\nI don't think so.  The lines were breaking in my editor, and it seems to be standard practice for the more conscientious Sage developers to fix them to have a more uniform line-width for easy viewing in a terminal session.  The SPKG.txt for NTL was particularly bad.",
    "created_at": "2011-06-29T12:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159695",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
> > Otherwise ready for review, though I'm not assuming it will be immediately positive.  That would be nice, though :)

> 
> Could you post the diff for cliquer, too?


Sure, I just didn't think to do it because it was much less invasive.

> Also, in the future please refrain from unnecessarily reformatting files you are changing in spkgs (it's probably some over-eager editor you are using does it).
>  


I don't think so.  The lines were breaking in my editor, and it seems to be standard practice for the more conscientious Sage developers to fix them to have a more uniform line-width for easy viewing in a terminal session.  The SPKG.txt for NTL was particularly bad.



---

archive/attachments_015217.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11547-cliquer.diff",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11547/trac_11547-cliquer.diff",
    "created_at": "2011-06-29T12:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.diff",
    "user": "https://github.com/kcrisman"
}
```



---

archive/issue_comments_159696.json:
```json
{
    "body": "For review purposes only",
    "created_at": "2011-06-29T12:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159696",
    "user": "https://github.com/kcrisman"
}
```

For review purposes only



---

archive/issue_comments_159697.json:
```json
{
    "body": "<a id='comment:9'></a>\nOkay, I posted the cliquer one as well.  It is *really* straightforward.",
    "created_at": "2011-06-29T12:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159697",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
Okay, I posted the cliquer one as well.  It is *really* straightforward.



---

archive/issue_comments_159698.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2011-06-29T12:36:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159698",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_159699.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-06-29T13:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159699",
    "user": "https://github.com/dimpase"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_159700.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [kcrisman](#comment%3A9):\n> Okay, I posted the cliquer one as well.  It is *really* straightforward.\n\n\nOK, this is Cygwin\u2013only (no changes on other platforms; did a sanity check --- tested spkgs on macosx).\nPositive review.",
    "created_at": "2011-06-29T13:17:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159700",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
Replying to [kcrisman](#comment%3A9):
> Okay, I posted the cliquer one as well.  It is *really* straightforward.


OK, this is Cygwin–only (no changes on other platforms; did a sanity check --- tested spkgs on macosx).
Positive review.



---

archive/issue_comments_159701.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"cygwin FLINT NTL cliquer DLL shared library\".",
    "created_at": "2011-07-06T13:48:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159701",
    "user": "https://github.com/nexttime"
}
```

**Changing keywords** from "" to "cygwin FLINT NTL cliquer DLL shared library".



---

archive/issue_comments_159702.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe current flint spkg is now no longer based on #11246, because of some cleaning up done there.  Hopefully someone there will make a p8, however.    Otherwise I would suggest splitting that one off into a different ticket, just so the others are merged.",
    "created_at": "2011-07-12T14:52:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159702",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:12'></a>
The current flint spkg is now no longer based on #11246, because of some cleaning up done there.  Hopefully someone there will make a p8, however.    Otherwise I would suggest splitting that one off into a different ticket, just so the others are merged.



---

archive/issue_comments_159703.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,11 +1,15 @@\n As was put on [the wiki for Cygwin](CygwinPort), \n \n ```\n-The following files need to be copied \"libcliquer.dll -> libcliquer.so\", \"libflint.dll -> libflint.so\", \"libntl.dll.a -> libntl.dll\"\n+The following files need to be copied:\n+  \"libcliquer.dll -> libcliquer.so\", \n+  \"libflint.dll -> libflint.so\",\n+  \"libntl.dll.a -> libntl.dll\"\n ```\n \n ---\n Three spkg upgrades:\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) \n-* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)\n+* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg) (based on the latest p7 from #11246)\n+  md5sum: `bcd152d2f0e1d503ffd1e7e637c388ef`\n * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n``````\n",
    "created_at": "2011-07-12T17:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159703",
    "user": "https://github.com/nexttime"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,11 +1,15 @@
 As was put on [the wiki for Cygwin](CygwinPort), 
 
 ```
-The following files need to be copied "libcliquer.dll -> libcliquer.so", "libflint.dll -> libflint.so", "libntl.dll.a -> libntl.dll"
+The following files need to be copied:
+  "libcliquer.dll -> libcliquer.so", 
+  "libflint.dll -> libflint.so",
+  "libntl.dll.a -> libntl.dll"
 ```
 
 ---
 Three spkg upgrades:
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) 
-* [flint-1.5.0.p7.spkg](http://sage.math.washington.edu/home/kcrisman/flint-1.5.0.p7.spkg) (based on #11246)
+* [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg) (based on the latest p7 from #11246)
+  md5sum: `bcd152d2f0e1d503ffd1e7e637c388ef`
 * [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
``````




---

archive/issue_comments_159704.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [kcrisman](#comment%3A12):\n> The current flint spkg is now no longer based on #11246, because of some cleaning up done there.  Hopefully someone there will make a p8, however.    Otherwise I would suggest splitting that one off into a different ticket, just so the others are merged.\n\n\nI've made a new FLINT p8 spkg based on the latest p7 from #11246.\n\n**New FLINT spkg: http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg**\n\n**md5sum:** `bcd152d2f0e1d503ffd1e7e637c388ef  flint-1.5.0.p8.spkg`\n\nExcept for the removal of the `.svn` directories from upstream, I haven't made any further changes (not even replaced the other occurrences of `$CP` by `cp`):\n\n```sh\nleif@quadriga:~/Sage/spkgs/flint-1.5.0.p8$ hg diff --git -r flint-1.5.0.p7 -r flint-1.5.0.p8\n```\n\n```diff\ndiff --git a/.hgtags b/.hgtags\n--- a/.hgtags\n+++ b/.hgtags\n@@ -1,2 +1,3 @@\n df4a596f2ae97186054f73ca31b94ac0a06bd2b6 flint-1.2.5.p2\n 5252db23001a3fa2ed4ee2ad2069673b9a82faf0 flint-1.3.0\n+03fb4e599477f450c711ccc121574c03888bdf3c flint-1.5.0.p7\ndiff --git a/SPKG.txt b/SPKG.txt\n--- a/SPKG.txt\n+++ b/SPKG.txt\n@@ -28,13 +28,19 @@\n \n == Special Update/Build Instructions ==\n \n-We patch the makefile slightly to add 64 bit OSX build support and also change\n-LIBS such that the NTL interface is linked into the flint library.\n-This is not an officially supported option because flint is pure C\n-and the NTL interface requires C++.\n+ * We patch the makefile slightly to add 64 bit OSX build support and also change\n+   LIBS such that the NTL interface is linked into the flint library.\n+   This is not an officially supported option because flint is pure C\n+   and the NTL interface requires C++.\n+ * Remove the '.svn' directories from upstream ('src/') if present.\n \n == Changelog ==\n \n+=== flint-1.5.0.p8 (Karl-Dieter Crisman, 12th July 2011) ===\n+  * Enable both libflint.dll and .so on Cygwin (see Trac 11547).\n+  * Use 'cp' rather than '$CP' (affects only Cygwin).\n+  * Remove '.svn' directories from upstream.\n+\n === flint-1.5.0.p7 (Jeroen Demeyer, 6 July 2011) ===\n  * Trac #11246: remove check for gcc version since we require gcc >= 4.0.1\n    for Sage anyway.\ndiff --git a/spkg-install b/spkg-install\n--- a/spkg-install\n+++ b/spkg-install\n@@ -98,8 +98,8 @@\n     if [ $UNAME = \"CYGWIN\" ]; then\n        # let's move libntl.a back\n        mv $SAGE_LOCAL/lib/xxx_libntl.a $SAGE_LOCAL/lib/libntl.a\n-       # also name flint library correctly for MS Windows (an so won't work).\n-       mv libflint.so libflint.dll\n+       # make both kinds of dynamic libraries available for Windows\n+       cp -p libflint.so libflint.dll\n     fi \n     echo \"Deleting old FLINT\"\n     rm -f $SAGE_LOCAL/lib/libflint*\n```\nIgnore the strange diff w.r.t. the tags; the new one is tagged `flint-1.5.0.p8`, while Jeroen's latest is tagged `flint-1.5.0.p7`:\n\n```\nchangeset:   84:2ed02e07f2ec\ntag:         tip\nuser:        Karl-Dieter Crisman <kcrisman@gmail.com>\ndate:        Tue Jul 12 18:00:59 2011 +0200\nsummary:     Added tag flint-1.5.0.p8 for changeset 0c03457839bc\n\nchangeset:   83:0c03457839bc\ntag:         flint-1.5.0.p8\nuser:        Karl-Dieter Crisman <kcrisman@gmail.com>\ndate:        Tue Jul 12 18:00:29 2011 +0200\nsummary:     #11547 *Copy*  FLINT '.so' to '.dll' on Cygwin such that both are available.\n\nchangeset:   82:ab8260189439\nuser:        Jeroen Demeyer <jdemeyer@cage.ugent.be>\ndate:        Wed Jul 06 13:03:09 2011 +0000\nsummary:     Added tag flint-1.5.0.p7 for changeset 03fb4e599477\n\nchangeset:   81:03fb4e599477\ntag:         flint-1.5.0.p7\nuser:        Jeroen Demeyer <jdemeyer@cage.ugent.be>\ndate:        Wed Jul 06 13:03:09 2011 +0000\nsummary:     Trac #11246: flint-1.5.0.p7 (Jeroen Demeyer, 6 July 2011)\n\n...\n```",
    "created_at": "2011-07-12T17:03:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159704",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:13'></a>
Replying to [kcrisman](#comment%3A12):
> The current flint spkg is now no longer based on #11246, because of some cleaning up done there.  Hopefully someone there will make a p8, however.    Otherwise I would suggest splitting that one off into a different ticket, just so the others are merged.


I've made a new FLINT p8 spkg based on the latest p7 from #11246.

**New FLINT spkg: http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg**

**md5sum:** `bcd152d2f0e1d503ffd1e7e637c388ef  flint-1.5.0.p8.spkg`

Except for the removal of the `.svn` directories from upstream, I haven't made any further changes (not even replaced the other occurrences of `$CP` by `cp`):

```sh
leif@quadriga:~/Sage/spkgs/flint-1.5.0.p8$ hg diff --git -r flint-1.5.0.p7 -r flint-1.5.0.p8
```

```diff
diff --git a/.hgtags b/.hgtags
--- a/.hgtags
+++ b/.hgtags
@@ -1,2 +1,3 @@
 df4a596f2ae97186054f73ca31b94ac0a06bd2b6 flint-1.2.5.p2
 5252db23001a3fa2ed4ee2ad2069673b9a82faf0 flint-1.3.0
+03fb4e599477f450c711ccc121574c03888bdf3c flint-1.5.0.p7
diff --git a/SPKG.txt b/SPKG.txt
--- a/SPKG.txt
+++ b/SPKG.txt
@@ -28,13 +28,19 @@
 
 == Special Update/Build Instructions ==
 
-We patch the makefile slightly to add 64 bit OSX build support and also change
-LIBS such that the NTL interface is linked into the flint library.
-This is not an officially supported option because flint is pure C
-and the NTL interface requires C++.
+ * We patch the makefile slightly to add 64 bit OSX build support and also change
+   LIBS such that the NTL interface is linked into the flint library.
+   This is not an officially supported option because flint is pure C
+   and the NTL interface requires C++.
+ * Remove the '.svn' directories from upstream ('src/') if present.
 
 == Changelog ==
 
+=== flint-1.5.0.p8 (Karl-Dieter Crisman, 12th July 2011) ===
+  * Enable both libflint.dll and .so on Cygwin (see Trac 11547).
+  * Use 'cp' rather than '$CP' (affects only Cygwin).
+  * Remove '.svn' directories from upstream.
+
 === flint-1.5.0.p7 (Jeroen Demeyer, 6 July 2011) ===
  * Trac #11246: remove check for gcc version since we require gcc >= 4.0.1
    for Sage anyway.
diff --git a/spkg-install b/spkg-install
--- a/spkg-install
+++ b/spkg-install
@@ -98,8 +98,8 @@
     if [ $UNAME = "CYGWIN" ]; then
        # let's move libntl.a back
        mv $SAGE_LOCAL/lib/xxx_libntl.a $SAGE_LOCAL/lib/libntl.a
-       # also name flint library correctly for MS Windows (an so won't work).
-       mv libflint.so libflint.dll
+       # make both kinds of dynamic libraries available for Windows
+       cp -p libflint.so libflint.dll
     fi 
     echo "Deleting old FLINT"
     rm -f $SAGE_LOCAL/lib/libflint*
```
Ignore the strange diff w.r.t. the tags; the new one is tagged `flint-1.5.0.p8`, while Jeroen's latest is tagged `flint-1.5.0.p7`:

```
changeset:   84:2ed02e07f2ec
tag:         tip
user:        Karl-Dieter Crisman <kcrisman@gmail.com>
date:        Tue Jul 12 18:00:59 2011 +0200
summary:     Added tag flint-1.5.0.p8 for changeset 0c03457839bc

changeset:   83:0c03457839bc
tag:         flint-1.5.0.p8
user:        Karl-Dieter Crisman <kcrisman@gmail.com>
date:        Tue Jul 12 18:00:29 2011 +0200
summary:     #11547 *Copy*  FLINT '.so' to '.dll' on Cygwin such that both are available.

changeset:   82:ab8260189439
user:        Jeroen Demeyer <jdemeyer@cage.ugent.be>
date:        Wed Jul 06 13:03:09 2011 +0000
summary:     Added tag flint-1.5.0.p7 for changeset 03fb4e599477

changeset:   81:03fb4e599477
tag:         flint-1.5.0.p7
user:        Jeroen Demeyer <jdemeyer@cage.ugent.be>
date:        Wed Jul 06 13:03:09 2011 +0000
summary:     Trac #11246: flint-1.5.0.p7 (Jeroen Demeyer, 6 July 2011)

...
```



---

archive/issue_comments_159705.json:
```json
{
    "body": "<a id='comment:14'></a>\nP.S.: Further clean-up will be made on another ticket, providing a FLINT 1.5**.2**.pN spkg, most probably #9858.",
    "created_at": "2011-07-12T17:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159705",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:14'></a>
P.S.: Further clean-up will be made on another ticket, providing a FLINT 1.5**.2**.pN spkg, most probably #9858.



---

archive/issue_comments_159706.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2011-07-28T10:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159706",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_159707.json:
```json
{
    "body": "<a id='comment:15'></a>\nThe NTL spkg should be rebased to ntl-5.5.2 from #5731.",
    "created_at": "2011-07-28T10:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159707",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
The NTL spkg should be rebased to ntl-5.5.2 from #5731.



---

archive/issue_comments_159708.json:
```json
{
    "body": "**Work_Issues:** Rebase NTL spkg (#5731)",
    "created_at": "2011-07-28T10:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159708",
    "user": "https://github.com/jdemeyer"
}
```

**Work_Issues:** Rebase NTL spkg (#5731)



---

archive/issue_comments_159709.json:
```json
{
    "body": "**Reviewer:** Dmitrii Pasechnik",
    "created_at": "2011-07-28T10:01:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159709",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Dmitrii Pasechnik



---

archive/issue_comments_159710.json:
```json
{
    "body": "**Changing status** from needs_work to positive_review.",
    "created_at": "2011-07-29T15:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159710",
    "user": "https://github.com/kcrisman"
}
```

**Changing status** from needs_work to positive_review.



---

archive/issue_comments_159711.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [jdemeyer](#comment%3A15):\n> The NTL spkg should be rebased to ntl-5.5.2 from #5731.\n\nThanks for alerting us to that, Jeroen. \n\nSince that is a pretty big upgrade to NTL at that ticket, I'd prefer to split that off to another ticket - I think it would require retesting that the NTL package compiles on Cygwin and that the change still is necessary, for instance, though it almost certainly is.\n\nThat is now #11635.  If the other two could get merged asap, that would be wonderful.  I can't do anything about it until at least Monday, probably later (due to needing access to Windows machines!), which is why I am splitting it off.",
    "created_at": "2011-07-29T15:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159711",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>
Replying to [jdemeyer](#comment%3A15):
> The NTL spkg should be rebased to ntl-5.5.2 from #5731.

Thanks for alerting us to that, Jeroen. 

Since that is a pretty big upgrade to NTL at that ticket, I'd prefer to split that off to another ticket - I think it would require retesting that the NTL package compiles on Cygwin and that the change still is necessary, for instance, though it almost certainly is.

That is now #11635.  If the other two could get merged asap, that would be wonderful.  I can't do anything about it until at least Monday, probably later (due to needing access to Windows machines!), which is why I am splitting it off.



---

archive/issue_comments_159712.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -6,10 +6,10 @@\n   \"libflint.dll -> libflint.so\",\n   \"libntl.dll.a -> libntl.dll\"\n ```\n+See the comments for why the third one is dealt with at #11635.\n \n ---\n-Three spkg upgrades:\n+Two spkg upgrades:\n * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) \n * [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg) (based on the latest p7 from #11246)\n   md5sum: `bcd152d2f0e1d503ffd1e7e637c388ef`\n-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)\n``````\n",
    "created_at": "2011-07-29T15:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159712",
    "user": "https://github.com/kcrisman"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -6,10 +6,10 @@
   "libflint.dll -> libflint.so",
   "libntl.dll.a -> libntl.dll"
 ```
+See the comments for why the third one is dealt with at #11635.
 
 ---
-Three spkg upgrades:
+Two spkg upgrades:
 * [cliquer-1.2.p10.spkg](http://sage.math.washington.edu/home/kcrisman/cliquer-1.2.p10.spkg) 
 * [flint-1.5.0.p8.spkg](http://spkg-upload.googlecode.com/files/flint-1.5.0.p8.spkg) (based on the latest p7 from #11246)
   md5sum: `bcd152d2f0e1d503ffd1e7e637c388ef`
-* [ntl-5.4.2.p13.spkg](http://sage.math.washington.edu/home/kcrisman/ntl-5.4.2.p13.spkg)
``````




---

archive/issue_comments_159713.json:
```json
{
    "body": "**Changing work_issues** from \"Rebase NTL spkg (#5731)\" to \"\".",
    "created_at": "2011-07-29T15:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159713",
    "user": "https://github.com/kcrisman"
}
```

**Changing work_issues** from "Rebase NTL spkg (#5731)" to "".



---

archive/issue_comments_159714.json:
```json
{
    "body": "**Merged:** sage-4.7.2.alpha1",
    "created_at": "2011-08-02T19:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159714",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.2.alpha1



---

archive/issue_comments_159715.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2011-08-02T19:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159715",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_events_035805.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-02T19:45:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11547#event-35805"
}
```



---

archive/issue_comments_159716.json:
```json
{
    "body": "<a id='comment:18'></a>\nIronically, this now doesn't actually work on one of my Cygwins, because of an extra line that crept into one of the patches.\n\n```\n--- src/mpn_extras.h\t2009-09-23 18:03:27.000000000 +0800\n+++ patches/mpn_extras.h\t2011-04-25 22:36:33.000000000 +0800\n@@ -22,7 +22,6 @@\n #ifndef MPN_EXTRAS_H\n #define MPN_EXTRAS_H\n \n-#include \"flint.h\"\n #include \"ZmodF_poly.h\"\n \n #include \"longlong_wrapper.h\"\n\n```\nNote the newline at the end; removing this solves the problem.  I guess this didn't cause trouble on other systems, since these patches are applied universally.\n\nBut this fix was still needed, so I've opened #11727 for this.",
    "created_at": "2011-08-24T02:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11547",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11547#issuecomment-159716",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>
Ironically, this now doesn't actually work on one of my Cygwins, because of an extra line that crept into one of the patches.

```
--- src/mpn_extras.h	2009-09-23 18:03:27.000000000 +0800
+++ patches/mpn_extras.h	2011-04-25 22:36:33.000000000 +0800
@@ -22,7 +22,6 @@
 #ifndef MPN_EXTRAS_H
 #define MPN_EXTRAS_H
 
-#include "flint.h"
 #include "ZmodF_poly.h"
 
 #include "longlong_wrapper.h"

```
Note the newline at the end; removing this solves the problem.  I guess this didn't cause trouble on other systems, since these patches are applied universally.

But this fix was still needed, so I've opened #11727 for this.
