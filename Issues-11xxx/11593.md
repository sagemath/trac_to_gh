# Issue 11593: `quo_rem` for divisor of leading unit coefficient

archive/issues_011421.json:
```json
{
    "assignees": [],
    "body": "`quo_rem` does not work for divisors of unit leading coefficients, though the quotient and the remainder are defined mathematically. \n\n```\nsage: R.<y> = QQ[x][]\nsage: f = R.random_element(200)\nsage: g = y^100+R.random_element(99)\nsage: q, r = f.quo_rem(g)\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'sage.rings.polynomial.polynomial_element.Polynomial_generic_dense' object has no attribute 'quo_rem'\n```\n\n\nDepends on #12612\n\n**Assignee:** @aghitza\n\n**Keywords:** fix and doctest exceptions\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Kwankyu Lee\n\n**Merged:** sage-5.8.beta2\n\nIssue created by migration from https://trac.sagemath.org/ticket/11593\n\n",
    "closed_at": "2013-02-28T10:30:53Z",
    "created_at": "2011-07-13T09:14:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "`quo_rem` for divisor of leading unit coefficient",
    "type": "issue",
    "updated_at": "2013-02-28T10:30:53Z",
    "url": "https://github.com/sagemath/sage/issues/11593",
    "user": "https://github.com/kwankyu"
}
```
`quo_rem` does not work for divisors of unit leading coefficients, though the quotient and the remainder are defined mathematically. 

```
sage: R.<y> = QQ[x][]
sage: f = R.random_element(200)
sage: g = y^100+R.random_element(99)
sage: q, r = f.quo_rem(g)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'sage.rings.polynomial.polynomial_element.Polynomial_generic_dense' object has no attribute 'quo_rem'
```


Depends on #12612

**Assignee:** @aghitza

**Keywords:** fix and doctest exceptions

**Reviewer:** Frédéric Chapoton

**Author:** Kwankyu Lee

**Merged:** sage-5.8.beta2

Issue created by migration from https://trac.sagemath.org/ticket/11593





---

archive/issue_events_130831.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130831"
}
```



---

archive/issue_events_130832.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20basic%20arithmetic",
    "label_color": "08517b",
    "label_name": "component: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130832"
}
```



---

archive/issue_events_130833.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130833"
}
```



---

archive/issue_events_130834.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130834"
}
```



---

archive/issue_events_130835.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:21:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130835"
}
```



---

archive/issue_events_130836.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:21:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130836"
}
```



---

archive/issue_events_130837.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:21:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130837"
}
```



---

archive/issue_comments_121136.json:
```json
{
    "body": "**Author:** Kwankyu Lee",
    "created_at": "2011-07-13T09:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121136",
    "user": "https://github.com/kwankyu"
}
```

**Author:** Kwankyu Lee



---

archive/issue_comments_121137.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe patch allows one to compute the quotient and the remainder for divisors of unit leading coefficient. The `quo_rem` added to `Polynomial_generic_dense` is slightly faster than `quo_rem` defined in `Polynomial_generic_field`.",
    "created_at": "2011-07-13T09:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121137",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:3'></a>
The patch allows one to compute the quotient and the remainder for divisors of unit leading coefficient. The `quo_rem` added to `Polynomial_generic_dense` is slightly faster than `quo_rem` defined in `Polynomial_generic_field`.



---

archive/issue_events_130838.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-16T20:49:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130838"
}
```



---

archive/issue_events_130839.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-16T20:49:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130839"
}
```



---

archive/issue_comments_121138.json:
```json
{
    "body": "<a id='comment:4'></a>\nIn the  case where self is 0 should it not be self, other returned?  Not self, self?",
    "created_at": "2011-12-16T20:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121138",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:4'></a>
In the  case where self is 0 should it not be self, other returned?  Not self, self?



---

archive/issue_comments_121139.json:
```json
{
    "body": "<a id='comment:5'></a>\nThe quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.\n\nBy the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.",
    "created_at": "2011-12-18T02:23:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121139",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:5'></a>
The quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.

By the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.



---

archive/issue_events_130840.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-18T09:27:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "008080",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130840"
}
```



---

archive/issue_events_130841.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-18T09:27:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130841"
}
```



---

archive/issue_comments_121140.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [@kwankyu](#comment%3A5):\n> The quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.\n\nOK, I was being stupid.\n\n> \n> By the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.   \n\nWell, I have many other things to do -- especially as at present I am running Sage Days 35.",
    "created_at": "2011-12-18T09:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121140",
    "user": "https://github.com/JohnCremona"
}
```

<a id='comment:6'></a>
Replying to [@kwankyu](#comment%3A5):
> The quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.

OK, I was being stupid.

> 
> By the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.   

Well, I have many other things to do -- especially as at present I am running Sage Days 35.



---

archive/issue_comments_121141.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [@JohnCremona](#comment%3A6):\n  \n> Well, I have many other things to do -- especially as at present I am running Sage Days 35.\n\nSorry for the suggestion. You are now the busiest man in the Sage community. :-) Good wish for Sage Days 35.",
    "created_at": "2011-12-18T11:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121141",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:7'></a>
Replying to [@JohnCremona](#comment%3A6):
  
> Well, I have many other things to do -- especially as at present I am running Sage Days 35.

Sorry for the suggestion. You are now the busiest man in the Sage community. :-) Good wish for Sage Days 35.



---

archive/issue_comments_121142.json:
```json
{
    "body": "<a id='comment:8'></a>\nI see no doctest failures on my own Ubuntu 11.10 and Mac. I don't know what to do with the patchbot results.",
    "created_at": "2012-01-14T01:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121142",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:8'></a>
I see no doctest failures on my own Ubuntu 11.10 and Mac. I don't know what to do with the patchbot results.



---

archive/issue_comments_121143.json:
```json
{
    "body": "<a id='comment:9'></a>\nRemoving spaces does not help. :-(",
    "created_at": "2012-01-20T01:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121143",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:9'></a>
Removing spaces does not help. :-(



---

archive/issue_comments_121144.json:
```json
{
    "body": "<a id='comment:10'></a>\nLooking forward to Python3,\nuse the \"new\" syntax to raise errors, i.e.\n\n```\nraise ZeroDivisionError(\"division by zero polynomial\")\n```",
    "created_at": "2012-02-09T21:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121144",
    "user": "https://github.com/a-andre"
}
```

<a id='comment:10'></a>
Looking forward to Python3,
use the "new" syntax to raise errors, i.e.

```
raise ZeroDivisionError("division by zero polynomial")
```



---

archive/issue_comments_121145.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [@a-andre](#comment%3A10):\n> Looking forward to Python3,\n> use the \"new\" syntax to raise errors, i.e.\n> \n> ```\n> raise ZeroDivisionError(\"division by zero polynomial\")\n> ```\n\nDone.",
    "created_at": "2012-02-13T00:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121145",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:11'></a>
Replying to [@a-andre](#comment%3A10):
> Looking forward to Python3,
> use the "new" syntax to raise errors, i.e.
> 
> ```
> raise ZeroDivisionError("division by zero polynomial")
> ```

Done.



---

archive/issue_events_130842.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T13:14:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130842"
}
```



---

archive/issue_events_130843.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T13:14:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130843"
}
```



---

archive/issue_comments_121146.json:
```json
{
    "body": "**Work Issues:** fails doctests",
    "created_at": "2012-03-17T13:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121146",
    "user": "https://github.com/loefflerd"
}
```

**Work Issues:** fails doctests



---

archive/issue_comments_121147.json:
```json
{
    "body": "<a id='comment:12'></a>\nAccording to the patchbot, some doctests are fail with this patch on the current beta (5.0.beta8):\n\n```\nsage -t  -force_lib devel/sage-11593/sage/rings/function_field/function_field_element.pyx\n**********************************************************************\nFile \"/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx\", line 423:\n    sage: a = ~(2*y + 1/x); a                           # indirect doctest\nExpected:\n    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)\nGot:\n    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)\n**********************************************************************\nFile \"/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx\", line 443:\n    sage: a = ~(2*y + 1/x); a\nExpected:\n    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)\nGot:\n    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)\n**********************************************************************\nFile \"/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx\", line 445:\n    sage: a.list()\nExpected:\n    [(2*x^3 + x)/(16*x^5 + 2*x^2 + 1), -x^2/(8*x^5 + x^2 + 1/2)]\nGot:\n    [(1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4), -1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4)]\n**********************************************************************\n```",
    "created_at": "2012-03-17T13:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121147",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:12'></a>
According to the patchbot, some doctests are fail with this patch on the current beta (5.0.beta8):

```
sage -t  -force_lib devel/sage-11593/sage/rings/function_field/function_field_element.pyx
**********************************************************************
File "/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx", line 423:
    sage: a = ~(2*y + 1/x); a                           # indirect doctest
Expected:
    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)
Got:
    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)
**********************************************************************
File "/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx", line 443:
    sage: a = ~(2*y + 1/x); a
Expected:
    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)
Got:
    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)
**********************************************************************
File "/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx", line 445:
    sage: a.list()
Expected:
    [(2*x^3 + x)/(16*x^5 + 2*x^2 + 1), -x^2/(8*x^5 + x^2 + 1/2)]
Got:
    [(1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4), -1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4)]
**********************************************************************
```



---

archive/issue_events_130844.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-07-11T07:32:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130844"
}
```



---

archive/issue_events_130845.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-07-11T07:32:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130845"
}
```



---

archive/issue_comments_121148.json:
```json
{
    "body": "**Dependencies:** #12612",
    "created_at": "2012-07-11T07:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121148",
    "user": "https://github.com/kwankyu"
}
```

**Dependencies:** #12612



---

archive/issue_comments_121149.json:
```json
{
    "body": "<a id='comment:13'></a>\nThe new code also speeds up things. See below\n\nBefore the patch,\n\n```\nsage: sage: S.<x>=QQ[]\nsage: sage: fS=FractionField(S)\nsage: sage: R.<y>=fS[]\nsage: sage: f=y^20\nsage: sage: g=y^5+1/x*y^4\nsage: sage: timeit(\"f.quo_rem(g)\") \n125 loops, best of 3: 3.25 ms per loop\n```\nAfter the patch,\n\n```\nsage: sage: S.<x>=QQ[]\nsage: sage: fS=FractionField(S)\nsage: sage: R.<y>=fS[]\nsage: sage: f=y^20\nsage: sage: g=y^5+1/x*y^4\nsage: sage: timeit(\"f.quo_rem(g)\") \n125 loops, best of 3: 1.75 ms per loop\n```",
    "created_at": "2012-07-11T07:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121149",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:13'></a>
The new code also speeds up things. See below

Before the patch,

```
sage: sage: S.<x>=QQ[]
sage: sage: fS=FractionField(S)
sage: sage: R.<y>=fS[]
sage: sage: f=y^20
sage: sage: g=y^5+1/x*y^4
sage: sage: timeit("f.quo_rem(g)") 
125 loops, best of 3: 3.25 ms per loop
```
After the patch,

```
sage: sage: S.<x>=QQ[]
sage: sage: fS=FractionField(S)
sage: sage: R.<y>=fS[]
sage: sage: f=y^20
sage: sage: g=y^5+1/x*y^4
sage: sage: timeit("f.quo_rem(g)") 
125 loops, best of 3: 1.75 ms per loop
```



---

archive/issue_comments_121150.json:
```json
{
    "body": "<a id='comment:14'></a>\nFixed the doctest failure issues.",
    "created_at": "2012-07-11T07:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121150",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'></a>
Fixed the doctest failure issues.



---

archive/issue_comments_121151.json:
```json
{
    "body": "**Changing work issues** from \"fails doctests\" to \"\".",
    "created_at": "2012-07-11T07:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121151",
    "user": "https://github.com/kwankyu"
}
```

**Changing work issues** from "fails doctests" to "".



---

archive/issue_comments_121152.json:
```json
{
    "body": "<a id='comment:15'></a>\nMaybe one could consider adding documentation for the procedure cdef _inplace_truncate ? \n\nYou are changing something inside this procedure, so the correct behaviour should be tested.",
    "created_at": "2012-09-27T13:06:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121152",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
Maybe one could consider adding documentation for the procedure cdef _inplace_truncate ? 

You are changing something inside this procedure, so the correct behaviour should be tested.



---

archive/issue_comments_121153.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@fchapoton](#comment%3A15):\n> Maybe one could consider adding documentation for the procedure cdef _inplace_truncate ? \n> \n> You are changing something inside this procedure, so the correct behaviour should be tested.\n\nI corrected a bug in _inplace_truncate, which is of only internal use, unlike the truncate method defined just above it. It's correct behaviour is indirectly checked by other methods that use it in various places.\n \nOn the other hand, the procedure is quite self-explanatory by its name and the short code, and I doubt the value of a documentation for it.",
    "created_at": "2012-09-28T00:58:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121153",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:16'></a>
Replying to [@fchapoton](#comment%3A15):
> Maybe one could consider adding documentation for the procedure cdef _inplace_truncate ? 
> 
> You are changing something inside this procedure, so the correct behaviour should be tested.

I corrected a bug in _inplace_truncate, which is of only internal use, unlike the truncate method defined just above it. It's correct behaviour is indirectly checked by other methods that use it in various places.
 
On the other hand, the procedure is quite self-explanatory by its name and the short code, and I doubt the value of a documentation for it.



---

archive/issue_comments_121154.json:
```json
{
    "body": "<a id='comment:17'></a>\nWell, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..",
    "created_at": "2012-09-28T07:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121154",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
Well, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..



---

archive/issue_comments_121155.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [@fchapoton](#comment%3A17):\n> Well, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..\n\nI found out that as `_inplace_truncate` is only a `cdef` method, that is not even counted for the doctest coverage. See the result of\n\n```\nsage -coverage sage/rings/polynomial/polynomial_element.pyx \n```",
    "created_at": "2012-10-05T14:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121155",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:18'></a>
Replying to [@fchapoton](#comment%3A17):
> Well, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..

I found out that as `_inplace_truncate` is only a `cdef` method, that is not even counted for the doctest coverage. See the result of

```
sage -coverage sage/rings/polynomial/polynomial_element.pyx 
```



---

archive/issue_events_130846.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-10-26T14:06:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130846"
}
```



---

archive/issue_events_130847.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-10-26T14:06:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130847"
}
```



---

archive/issue_comments_121156.json:
```json
{
    "body": "<a id='comment:19'></a>\nok for me, positive review",
    "created_at": "2012-10-26T14:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121156",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>
ok for me, positive review



---

archive/issue_events_130848.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-29T21:28:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130848"
}
```



---

archive/issue_events_130849.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-29T21:28:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130849"
}
```



---

archive/issue_comments_121157.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2012-10-29T21:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121157",
    "user": "https://github.com/jdemeyer"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_events_130850.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:01:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130850"
}
```



---

archive/issue_events_130851.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:01:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130851"
}
```



---

archive/issue_comments_121158.json:
```json
{
    "body": "**Merged:** sage-5.5.beta1",
    "created_at": "2012-11-01T12:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121158",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.5.beta1



---

archive/issue_comments_121159.json:
```json
{
    "body": "<a id='comment:22'></a>\nsage-5.5.beta0 + #11593 gives\n\n```\nsage -t --long \"devel/sage/sage/schemes/elliptic_curves/ell_number_field.py\"\nThe doctested process was killed by signal 11\n         [166.4 s]\n```\non OS X 10.4 PPC (not on other systems as far as I know).\n\nI think the real issue is with #715+#11521, not this ticket.",
    "created_at": "2012-11-05T07:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121159",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'></a>
sage-5.5.beta0 + #11593 gives

```
sage -t --long "devel/sage/sage/schemes/elliptic_curves/ell_number_field.py"
The doctested process was killed by signal 11
         [166.4 s]
```
on OS X 10.4 PPC (not on other systems as far as I know).

I think the real issue is with #715+#11521, not this ticket.



---

archive/issue_comments_121160.json:
```json
{
    "body": "<a id='comment:23'></a>\nBesides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.",
    "created_at": "2012-11-05T07:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121160",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>
Besides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.



---

archive/issue_comments_121161.json:
```json
{
    "body": "<a id='comment:24'></a>\nAnd exceptions should be doctested too.",
    "created_at": "2012-11-05T07:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>
And exceptions should be doctested too.



---

archive/issue_events_130852.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-05T07:56:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130852"
}
```



---

archive/issue_comments_121162.json:
```json
{
    "body": "**Changing merged** from \"sage-5.5.beta1\" to \"\".",
    "created_at": "2012-11-05T07:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121162",
    "user": "https://github.com/jdemeyer"
}
```

**Changing merged** from "sage-5.5.beta1" to "".



---

archive/issue_comments_121163.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"fix and doctest exceptions\".",
    "created_at": "2012-11-05T07:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121163",
    "user": "https://github.com/jdemeyer"
}
```

**Changing keywords** from "" to "fix and doctest exceptions".



---

archive/issue_events_130853.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-05T07:56:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130853"
}
```



---

archive/issue_events_130854.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-05T07:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130854"
}
```



---

archive/issue_comments_121164.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [@jdemeyer](#comment%3A23):\n> Besides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.\n\n`TypeError` was my inevitable choice to avoid triggering doctest failures in other parts of Sage, which depend on `TypeError` exception for normal operation. I need to remind myself of the details how and where that happens.",
    "created_at": "2012-11-05T08:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121164",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:27'></a>
Replying to [@jdemeyer](#comment%3A23):
> Besides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.

`TypeError` was my inevitable choice to avoid triggering doctest failures in other parts of Sage, which depend on `TypeError` exception for normal operation. I need to remind myself of the details how and where that happens.



---

archive/issue_comments_121165.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe new patch raises `ArithmeticError` for nonunit divisor",
    "created_at": "2012-11-05T09:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121165",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:28'></a>
The new patch raises `ArithmeticError` for nonunit divisor



---

archive/issue_events_130855.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-11-05T15:55:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130855"
}
```



---

archive/issue_events_130856.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-11-05T15:55:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130856"
}
```



---

archive/issue_comments_121166.json:
```json
{
    "body": "<a id='comment:30'></a>\nmaybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?",
    "created_at": "2012-11-07T10:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121166",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:30'></a>
maybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?



---

archive/issue_comments_121167.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@fchapoton](#comment%3A30):\n> maybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?\n\nGood point! The tests are swapped in a new patch.",
    "created_at": "2012-11-07T14:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121167",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:31'></a>
Replying to [@fchapoton](#comment%3A30):
> maybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?

Good point! The tests are swapped in a new patch.



---

archive/issue_events_130857.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-11-08T21:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130857"
}
```



---

archive/issue_events_130858.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-11-08T21:04:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130858"
}
```



---

archive/issue_comments_121168.json:
```json
{
    "body": "<a id='comment:32'></a>\nwell, let me give again a positive review. Maybe the long-test problem is still there, but it does not appear on 5.4rc3.",
    "created_at": "2012-11-08T21:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121168",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:32'></a>
well, let me give again a positive review. Maybe the long-test problem is still there, but it does not appear on 5.4rc3.



---

archive/issue_events_130859.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-16T21:58:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130859"
}
```



---

archive/issue_events_130860.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-16T21:58:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130860"
}
```



---

archive/issue_events_130861.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T12:57:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130861"
}
```



---

archive/issue_events_130862.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T12:57:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130862"
}
```



---

archive/issue_comments_121169.json:
```json
{
    "body": "<a id='comment:34'></a>\nWith #8992, I get\n\n```\n**********************************************************************\nFile \"/release/merger/sage-5.6.beta0/devel/sage-main/sage/rings/polynomial/polynomial_quotient_ring.py\", line 407:\n    sage: Q3(Q1.gen())\nException raised:\n    Traceback (most recent call last):\n      File \"/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/release/merger/sage-5.6.beta0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_5[28]>\", line 1, in <module>\n        Q3(Q1.gen())###line 407:\n    sage: Q3(Q1.gen())\n      File \"parent.pyx\", line 800, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7268)\n      File \"parent.pyx\", line 2153, in sage.structure.parent.Parent.convert_map_from (sage/structure/parent.c:15082)\n      File \"parent.pyx\", line 2165, in sage.structure.parent.Parent.discover_convert_map_from (sage/structure/parent.c:15301)\n      File \"parent.pyx\", line 1903, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14051)\n      File \"parent.pyx\", line 1974, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:13804)\n      File \"parent.pyx\", line 2068, in sage.structure.parent.Parent.discover_coerce_map_from (sage/structure/parent.c:14231)\n      File \"parent_old.pyx\", line 507, in sage.structure.parent_old.Parent._coerce_map_from_ (sage/structure/parent_old.c:6428)\n      File \"/release/merger/sage-5.6.beta0/local/lib/python/site-packages/sage/rings/polynomial/polynomial_quotient_ring.py\", line 485, in _coerce_map_from_\n        if not self.__polynomial.divides(R.modulus()):\n      File \"element.pyx\", line 2027, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16725)\n      File \"element.pyx\", line 2021, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16636)\n      File \"polynomial_element.pyx\", line 1724, in sage.rings.polynomial.polynomial_element.Polynomial.__mod__ (sage/rings/polynomial/polynomial_element.c:16751)\n        _, R = self.quo_rem(other)\n      File \"element.pyx\", line 3223, in sage.structure.element.NamedBinopMethod.__call__ (sage/structure/element.c:24763)\n      File \"polynomial_element.pyx\", line 6478, in sage.rings.polynomial.polynomial_element.Polynomial_generic_dense.quo_rem (sage/rings/polynomial/polynomial_element.c:47106)\n        raise ArithmeticError(\"Nonunit leading coefficient\")\n    ArithmeticError: Nonunit leading coefficient\n**********************************************************************\n```",
    "created_at": "2012-12-17T12:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121169",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:34'></a>
With #8992, I get

```
**********************************************************************
File "/release/merger/sage-5.6.beta0/devel/sage-main/sage/rings/polynomial/polynomial_quotient_ring.py", line 407:
    sage: Q3(Q1.gen())
Exception raised:
    Traceback (most recent call last):
      File "/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/release/merger/sage-5.6.beta0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[28]>", line 1, in <module>
        Q3(Q1.gen())###line 407:
    sage: Q3(Q1.gen())
      File "parent.pyx", line 800, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7268)
      File "parent.pyx", line 2153, in sage.structure.parent.Parent.convert_map_from (sage/structure/parent.c:15082)
      File "parent.pyx", line 2165, in sage.structure.parent.Parent.discover_convert_map_from (sage/structure/parent.c:15301)
      File "parent.pyx", line 1903, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14051)
      File "parent.pyx", line 1974, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:13804)
      File "parent.pyx", line 2068, in sage.structure.parent.Parent.discover_coerce_map_from (sage/structure/parent.c:14231)
      File "parent_old.pyx", line 507, in sage.structure.parent_old.Parent._coerce_map_from_ (sage/structure/parent_old.c:6428)
      File "/release/merger/sage-5.6.beta0/local/lib/python/site-packages/sage/rings/polynomial/polynomial_quotient_ring.py", line 485, in _coerce_map_from_
        if not self.__polynomial.divides(R.modulus()):
      File "element.pyx", line 2027, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16725)
      File "element.pyx", line 2021, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16636)
      File "polynomial_element.pyx", line 1724, in sage.rings.polynomial.polynomial_element.Polynomial.__mod__ (sage/rings/polynomial/polynomial_element.c:16751)
        _, R = self.quo_rem(other)
      File "element.pyx", line 3223, in sage.structure.element.NamedBinopMethod.__call__ (sage/structure/element.c:24763)
      File "polynomial_element.pyx", line 6478, in sage.rings.polynomial.polynomial_element.Polynomial_generic_dense.quo_rem (sage/rings/polynomial/polynomial_element.c:47106)
        raise ArithmeticError("Nonunit leading coefficient")
    ArithmeticError: Nonunit leading coefficient
**********************************************************************
```



---

archive/issue_comments_121170.json:
```json
{
    "body": "<a id='comment:35'></a>\nWell, this failing test does not make sense to me. Why on earth should we be able to convert\n\n```\nx as element of the ring Q[x]/(x^6 - x^4 - 5*x^2 - 3)\n\nto\n\nx as element of the ring Q[x][y]/(y^2+1)\n```\n\nI propose to remove this test. Anybody else has an opinion ?",
    "created_at": "2012-12-30T19:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121170",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:35'></a>
Well, this failing test does not make sense to me. Why on earth should we be able to convert

```
x as element of the ring Q[x]/(x^6 - x^4 - 5*x^2 - 3)

to

x as element of the ring Q[x][y]/(y^2+1)
```

I propose to remove this test. Anybody else has an opinion ?



---

archive/issue_comments_121171.json:
```json
{
    "body": "<a id='comment:36'></a>\nI think the doctest explains it pretty well: it is a conversion from `Q[x]/(x^6 - x^4 - 5*x^2 - 3)` to `Q[x]` which matters.\n\nYou can ask questions at #8992, where this test was introduced.",
    "created_at": "2012-12-31T09:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121171",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'></a>
I think the doctest explains it pretty well: it is a conversion from `Q[x]/(x^6 - x^4 - 5*x^2 - 3)` to `Q[x]` which matters.

You can ask questions at #8992, where this test was introduced.



---

archive/issue_comments_121172.json:
```json
{
    "body": "**Attachment:** [trac_11593.patch.gz](https://github.com/sagemath/sage/files/ticket11593/trac_11593.patch.gz)\n\nrebased for Sage 5.6",
    "created_at": "2013-02-07T04:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121172",
    "user": "https://github.com/kwankyu"
}
```

**Attachment:** [trac_11593.patch.gz](https://github.com/sagemath/sage/files/ticket11593/trac_11593.patch.gz)

rebased for Sage 5.6



---

archive/issue_comments_121173.json:
```json
{
    "body": "<a id='comment:37'></a>\nActually the fault was with #8992. There is now no need to take off the problematic doctest of #8992.",
    "created_at": "2013-02-07T04:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121173",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:37'></a>
Actually the fault was with #8992. There is now no need to take off the problematic doctest of #8992.



---

archive/issue_comments_121174.json:
```json
{
    "body": "<a id='comment:38'></a>\nThe faulty part of #8992 is now remedied and included in the current patch for this ticket.",
    "created_at": "2013-02-07T04:45:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121174",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:38'></a>
The faulty part of #8992 is now remedied and included in the current patch for this ticket.



---

archive/issue_events_130863.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2013-02-20T00:50:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130863"
}
```



---

archive/issue_events_130864.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2013-02-20T00:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130864"
}
```



---

archive/issue_comments_121175.json:
```json
{
    "body": "<a id='comment:40'></a>\nok for me, positive review",
    "created_at": "2013-02-26T19:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121175",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:40'></a>
ok for me, positive review



---

archive/issue_events_130865.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-02-26T19:42:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130865"
}
```



---

archive/issue_events_130866.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-02-26T19:42:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130866"
}
```



---

archive/issue_comments_121176.json:
```json
{
    "body": "**Merged:** sage-5.8.beta2",
    "created_at": "2013-02-28T10:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-121176",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.8.beta2



---

archive/issue_events_130867.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T10:30:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130867"
}
```



---

archive/issue_events_130868.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T10:30:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-130868"
}
```
