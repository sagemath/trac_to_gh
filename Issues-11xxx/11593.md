# Issue 11593: `quo_rem` for divisor of leading unit coefficient

archive/issues_011421.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "`quo_rem` does not work for divisors of unit leading coefficients, though the quotient and the remainder are defined mathematically. \n\n```\nsage: R.<y> = QQ[x][]\nsage: f = R.random_element(200)\nsage: g = y^100+R.random_element(99)\nsage: q, r = f.quo_rem(g)\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n...\nAttributeError: 'sage.rings.polynomial.polynomial_element.Polynomial_generic_dense' object has no attribute 'quo_rem'\n```\n\n\nDepends on #12612\n\nKeywords: **fix and doctest exceptions**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Kwankyu Lee**\n\nMerged: **sage-5.8.beta2**\n\nComponent: **basic arithmetic**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11593_\n\n",
    "closed_at": "2013-02-28T10:30:53Z",
    "created_at": "2011-07-13T09:14:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
        "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "`quo_rem` for divisor of leading unit coefficient",
    "type": "issue",
    "updated_at": "2013-02-28T10:30:53Z",
    "url": "https://github.com/sagemath/sage/issues/11593",
    "user": "https://github.com/kwankyu"
}
```
`quo_rem` does not work for divisors of unit leading coefficients, though the quotient and the remainder are defined mathematically. 

```
sage: R.<y> = QQ[x][]
sage: f = R.random_element(200)
sage: g = y^100+R.random_element(99)
sage: q, r = f.quo_rem(g)
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...
AttributeError: 'sage.rings.polynomial.polynomial_element.Polynomial_generic_dense' object has no attribute 'quo_rem'
```


Depends on #12612

Keywords: **fix and doctest exceptions**

Reviewer: **Frédéric Chapoton**

Author: **Kwankyu Lee**

Merged: **sage-5.8.beta2**

Component: **basic arithmetic**

_Issue created by migration from https://trac.sagemath.org/ticket/11593_





---

archive/issue_events_155189.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155189"
}
```



---

archive/issue_events_155190.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20basic%20arithmetic",
    "label_color": "0000ff",
    "label_name": "c: basic arithmetic",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155190"
}
```



---

archive/issue_events_155191.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155191"
}
```



---

archive/issue_events_155192.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155192"
}
```



---

archive/issue_events_155193.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-07-13T09:14:08Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "subject": "https://github.com/kwankyu",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155193"
}
```



---

archive/issue_events_155194.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:21:13Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155194"
}
```



---

archive/issue_events_155195.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:21:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155195"
}
```



---

archive/issue_events_155196.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2011-07-13T09:21:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155196"
}
```



---

archive/issue_comments_119011.json:
```json
{
    "body": "Author: **Kwankyu Lee**",
    "created_at": "2011-07-13T09:21:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119011",
    "user": "https://github.com/kwankyu"
}
```

Author: **Kwankyu Lee**



---

archive/issue_comments_119012.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nThe patch allows one to compute the quotient and the remainder for divisors of unit leading coefficient. The `quo_rem` added to `Polynomial_generic_dense` is slightly faster than `quo_rem` defined in `Polynomial_generic_field`.",
    "created_at": "2011-07-13T09:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119012",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:3" align="right">comment:3</div>

The patch allows one to compute the quotient and the remainder for divisors of unit leading coefficient. The `quo_rem` added to `Polynomial_generic_dense` is slightly faster than `quo_rem` defined in `Polynomial_generic_field`.



---

archive/issue_events_155197.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-16T20:49:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155197"
}
```



---

archive/issue_events_155198.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-16T20:49:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155198"
}
```



---

archive/issue_comments_119013.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIn the  case where self is 0 should it not be self, other returned?  Not self, self?",
    "created_at": "2011-12-16T20:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119013",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:4" align="right">comment:4</div>

In the  case where self is 0 should it not be self, other returned?  Not self, self?



---

archive/issue_comments_119014.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThe quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.\n\nBy the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.",
    "created_at": "2011-12-18T02:23:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119014",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:5" align="right">comment:5</div>

The quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.

By the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.



---

archive/issue_events_155199.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-18T09:27:25Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155199"
}
```



---

archive/issue_events_155200.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2011-12-18T09:27:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155200"
}
```



---

archive/issue_comments_119015.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@kwankyu](#comment:5):\n> The quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.\n\nOK, I was being stupid.\n\n> \n> By the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.   \n\nWell, I have many other things to do -- especially as at present I am running Sage Days 35.",
    "created_at": "2011-12-18T09:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119015",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@kwankyu](#comment:5):
> The quotient and the remainder of 0(=self) divided by other is 0 and 0. So self, self is correct.

OK, I was being stupid.

> 
> By the way, I did not care for this patch for a while. It needs to be rebased for the current Sage beta. I can't do it right away. I would appreciate if you do it.   

Well, I have many other things to do -- especially as at present I am running Sage Days 35.



---

archive/issue_comments_119016.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@JohnCremona](#comment:6):\n  \n> Well, I have many other things to do -- especially as at present I am running Sage Days 35.\n\nSorry for the suggestion. You are now the busiest man in the Sage community. :-) Good wish for Sage Days 35.",
    "created_at": "2011-12-18T11:02:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119016",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@JohnCremona](#comment:6):
  
> Well, I have many other things to do -- especially as at present I am running Sage Days 35.

Sorry for the suggestion. You are now the busiest man in the Sage community. :-) Good wish for Sage Days 35.



---

archive/issue_comments_119017.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI see no doctest failures on my own Ubuntu 11.10 and Mac. I don't know what to do with the patchbot results.",
    "created_at": "2012-01-14T01:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119017",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:8" align="right">comment:8</div>

I see no doctest failures on my own Ubuntu 11.10 and Mac. I don't know what to do with the patchbot results.



---

archive/issue_comments_119018.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nRemoving spaces does not help. :-(",
    "created_at": "2012-01-20T01:49:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119018",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:9" align="right">comment:9</div>

Removing spaces does not help. :-(



---

archive/issue_comments_119019.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nLooking forward to Python3,\nuse the \"new\" syntax to raise errors, i.e.\n\n```\nraise ZeroDivisionError(\"division by zero polynomial\")\n```",
    "created_at": "2012-02-09T21:28:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119019",
    "user": "https://github.com/a-andre"
}
```

<div id="comment:10" align="right">comment:10</div>

Looking forward to Python3,
use the "new" syntax to raise errors, i.e.

```
raise ZeroDivisionError("division by zero polynomial")
```



---

archive/issue_comments_119020.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@a-andre](#comment:10):\n> Looking forward to Python3,\n> use the \"new\" syntax to raise errors, i.e.\n> \n> ```\n> raise ZeroDivisionError(\"division by zero polynomial\")\n> ```\n\nDone.",
    "created_at": "2012-02-13T00:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119020",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@a-andre](#comment:10):
> Looking forward to Python3,
> use the "new" syntax to raise errors, i.e.
> 
> ```
> raise ZeroDivisionError("division by zero polynomial")
> ```

Done.



---

archive/issue_events_155201.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T13:14:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155201"
}
```



---

archive/issue_events_155202.json:
```json
{
    "actor": "https://github.com/loefflerd",
    "created_at": "2012-03-17T13:14:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155202"
}
```



---

archive/issue_comments_119021.json:
```json
{
    "body": "Work Issues: **fails doctests**",
    "created_at": "2012-03-17T13:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119021",
    "user": "https://github.com/loefflerd"
}
```

Work Issues: **fails doctests**



---

archive/issue_comments_119022.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAccording to the patchbot, some doctests are fail with this patch on the current beta (5.0.beta8):\n\n```\nsage -t  -force_lib devel/sage-11593/sage/rings/function_field/function_field_element.pyx\n**********************************************************************\nFile \"/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx\", line 423:\n    sage: a = ~(2*y + 1/x); a                           # indirect doctest\nExpected:\n    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)\nGot:\n    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)\n**********************************************************************\nFile \"/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx\", line 443:\n    sage: a = ~(2*y + 1/x); a\nExpected:\n    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)\nGot:\n    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)\n**********************************************************************\nFile \"/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx\", line 445:\n    sage: a.list()\nExpected:\n    [(2*x^3 + x)/(16*x^5 + 2*x^2 + 1), -x^2/(8*x^5 + x^2 + 1/2)]\nGot:\n    [(1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4), -1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4)]\n**********************************************************************\n```",
    "created_at": "2012-03-17T13:14:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119022",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:12" align="right">comment:12</div>

According to the patchbot, some doctests are fail with this patch on the current beta (5.0.beta8):

```
sage -t  -force_lib devel/sage-11593/sage/rings/function_field/function_field_element.pyx
**********************************************************************
File "/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx", line 423:
    sage: a = ~(2*y + 1/x); a                           # indirect doctest
Expected:
    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)
Got:
    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)
**********************************************************************
File "/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx", line 443:
    sage: a = ~(2*y + 1/x); a
Expected:
    (-x^2/(8*x^5 + x^2 + 1/2))*y + (2*x^3 + x)/(16*x^5 + 2*x^2 + 1)
Got:
    (-1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4))*y + (1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4)
**********************************************************************
File "/storage/masiao/sage-5.0.beta8-patchbot/devel/sage-11593/sage/rings/function_field/function_field_element.pyx", line 445:
    sage: a.list()
Expected:
    [(2*x^3 + x)/(16*x^5 + 2*x^2 + 1), -x^2/(8*x^5 + x^2 + 1/2)]
Got:
    [(1/2*x^3 + 1/4*x)/(4*x^5 + 1/2*x^2 + 1/4), -1/2*x^2/(4*x^5 + 1/2*x^2 + 1/4)]
**********************************************************************
```



---

archive/issue_events_155203.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-07-11T07:32:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155203"
}
```



---

archive/issue_events_155204.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-07-11T07:32:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155204"
}
```



---

archive/issue_comments_119023.json:
```json
{
    "body": "Dependencies: **#12612**",
    "created_at": "2012-07-11T07:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119023",
    "user": "https://github.com/kwankyu"
}
```

Dependencies: **#12612**



---

archive/issue_comments_119024.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe new code also speeds up things. See below\n\nBefore the patch,\n\n```\nsage: sage: S.<x>=QQ[]\nsage: sage: fS=FractionField(S)\nsage: sage: R.<y>=fS[]\nsage: sage: f=y^20\nsage: sage: g=y^5+1/x*y^4\nsage: sage: timeit(\"f.quo_rem(g)\") \n125 loops, best of 3: 3.25 ms per loop\n```\nAfter the patch,\n\n```\nsage: sage: S.<x>=QQ[]\nsage: sage: fS=FractionField(S)\nsage: sage: R.<y>=fS[]\nsage: sage: f=y^20\nsage: sage: g=y^5+1/x*y^4\nsage: sage: timeit(\"f.quo_rem(g)\") \n125 loops, best of 3: 1.75 ms per loop\n```",
    "created_at": "2012-07-11T07:32:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119024",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:13" align="right">comment:13</div>

The new code also speeds up things. See below

Before the patch,

```
sage: sage: S.<x>=QQ[]
sage: sage: fS=FractionField(S)
sage: sage: R.<y>=fS[]
sage: sage: f=y^20
sage: sage: g=y^5+1/x*y^4
sage: sage: timeit("f.quo_rem(g)") 
125 loops, best of 3: 3.25 ms per loop
```
After the patch,

```
sage: sage: S.<x>=QQ[]
sage: sage: fS=FractionField(S)
sage: sage: R.<y>=fS[]
sage: sage: f=y^20
sage: sage: g=y^5+1/x*y^4
sage: sage: timeit("f.quo_rem(g)") 
125 loops, best of 3: 1.75 ms per loop
```



---

archive/issue_comments_119025.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nFixed the doctest failure issues.",
    "created_at": "2012-07-11T07:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119025",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:14" align="right">comment:14</div>

Fixed the doctest failure issues.



---

archive/issue_comments_119026.json:
```json
{
    "body": "Changed work issues from **fails doctests** to none",
    "created_at": "2012-07-11T07:35:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119026",
    "user": "https://github.com/kwankyu"
}
```

Changed work issues from **fails doctests** to none



---

archive/issue_comments_119027.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nMaybe one could consider adding documentation for the procedure cdef _inplace_truncate ? \n\nYou are changing something inside this procedure, so the correct behaviour should be tested.",
    "created_at": "2012-09-27T13:06:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119027",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">comment:15</div>

Maybe one could consider adding documentation for the procedure cdef _inplace_truncate ? 

You are changing something inside this procedure, so the correct behaviour should be tested.



---

archive/issue_comments_119028.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@fchapoton](#comment:15):\n> Maybe one could consider adding documentation for the procedure cdef _inplace_truncate ? \n> \n> You are changing something inside this procedure, so the correct behaviour should be tested.\n\nI corrected a bug in _inplace_truncate, which is of only internal use, unlike the truncate method defined just above it. It's correct behaviour is indirectly checked by other methods that use it in various places.\n \nOn the other hand, the procedure is quite self-explanatory by its name and the short code, and I doubt the value of a documentation for it.",
    "created_at": "2012-09-28T00:58:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119028",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@fchapoton](#comment:15):
> Maybe one could consider adding documentation for the procedure cdef _inplace_truncate ? 
> 
> You are changing something inside this procedure, so the correct behaviour should be tested.

I corrected a bug in _inplace_truncate, which is of only internal use, unlike the truncate method defined just above it. It's correct behaviour is indirectly checked by other methods that use it in various places.
 
On the other hand, the procedure is quite self-explanatory by its name and the short code, and I doubt the value of a documentation for it.



---

archive/issue_comments_119029.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nWell, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..",
    "created_at": "2012-09-28T07:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119029",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:17" align="right">comment:17</div>

Well, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..



---

archive/issue_comments_119030.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@fchapoton](#comment:17):\n> Well, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..\n\nI found out that as `_inplace_truncate` is only a `cdef` method, that is not even counted for the doctest coverage. See the result of\n\n```\nsage -coverage sage/rings/polynomial/polynomial_element.pyx \n```",
    "created_at": "2012-10-05T14:00:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119030",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@fchapoton](#comment:17):
> Well, I understand. But it would have been one little step towards the official goal of 100% doctesting. The question is not so much the value of the documentation, that its mere existence, even if it is not very useful..

I found out that as `_inplace_truncate` is only a `cdef` method, that is not even counted for the doctest coverage. See the result of

```
sage -coverage sage/rings/polynomial/polynomial_element.pyx 
```



---

archive/issue_events_155205.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-10-26T14:06:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155205"
}
```



---

archive/issue_events_155206.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-10-26T14:06:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155206"
}
```



---

archive/issue_comments_119031.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nok for me, positive review",
    "created_at": "2012-10-26T14:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119031",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:19" align="right">comment:19</div>

ok for me, positive review



---

archive/issue_events_155207.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-29T21:28:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155207"
}
```



---

archive/issue_events_155208.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-10-29T21:28:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155208"
}
```



---

archive/issue_comments_119032.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2012-10-29T21:28:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119032",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_155209.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:01:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155209"
}
```



---

archive/issue_events_155210.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-01T12:01:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155210"
}
```



---

archive/issue_comments_119033.json:
```json
{
    "body": "Merged: **sage-5.5.beta1**",
    "created_at": "2012-11-01T12:01:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119033",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.5.beta1**



---

archive/issue_comments_119034.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nsage-5.5.beta0 + #11593 gives\n\n```\nsage -t --long \"devel/sage/sage/schemes/elliptic_curves/ell_number_field.py\"\nThe doctested process was killed by signal 11\n         [166.4 s]\n```\non OS X 10.4 PPC (not on other systems as far as I know).\n\nI think the real issue is with #715+#11521, not this ticket.",
    "created_at": "2012-11-05T07:52:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119034",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:22" align="right">comment:22</div>

sage-5.5.beta0 + #11593 gives

```
sage -t --long "devel/sage/sage/schemes/elliptic_curves/ell_number_field.py"
The doctested process was killed by signal 11
         [166.4 s]
```
on OS X 10.4 PPC (not on other systems as far as I know).

I think the real issue is with #715+#11521, not this ticket.



---

archive/issue_comments_119035.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nBesides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.",
    "created_at": "2012-11-05T07:55:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119035",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Besides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.



---

archive/issue_comments_119036.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nAnd exceptions should be doctested too.",
    "created_at": "2012-11-05T07:56:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119036",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

And exceptions should be doctested too.



---

archive/issue_events_155211.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-05T07:56:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155211"
}
```



---

archive/issue_comments_119037.json:
```json
{
    "body": "Changed merged from **sage-5.5.beta1** to none",
    "created_at": "2012-11-05T07:56:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119037",
    "user": "https://github.com/jdemeyer"
}
```

Changed merged from **sage-5.5.beta1** to none



---

archive/issue_comments_119038.json:
```json
{
    "body": "Changed keywords from none to **fix and doctest exceptions**",
    "created_at": "2012-11-05T07:56:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119038",
    "user": "https://github.com/jdemeyer"
}
```

Changed keywords from none to **fix and doctest exceptions**



---

archive/issue_events_155212.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-05T07:56:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155212"
}
```



---

archive/issue_events_155213.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-05T07:56:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155213"
}
```



---

archive/issue_comments_119039.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jdemeyer](#comment:23):\n> Besides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.\n\n`TypeError` was my inevitable choice to avoid triggering doctest failures in other parts of Sage, which depend on `TypeError` exception for normal operation. I need to remind myself of the details how and where that happens.",
    "created_at": "2012-11-05T08:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119039",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jdemeyer](#comment:23):
> Besides, why `TypeError` when dividing by a non-unit?  It seems to me that `TypeError` is not the right exception for this, I believe `ArithmeticError` suits better.

`TypeError` was my inevitable choice to avoid triggering doctest failures in other parts of Sage, which depend on `TypeError` exception for normal operation. I need to remind myself of the details how and where that happens.



---

archive/issue_comments_119040.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nThe new patch raises `ArithmeticError` for nonunit divisor",
    "created_at": "2012-11-05T09:16:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119040",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:28" align="right">comment:28</div>

The new patch raises `ArithmeticError` for nonunit divisor



---

archive/issue_events_155214.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-11-05T15:55:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155214"
}
```



---

archive/issue_events_155215.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2012-11-05T15:55:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155215"
}
```



---

archive/issue_comments_119041.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nmaybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?",
    "created_at": "2012-11-07T10:49:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119041",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:30" align="right">comment:30</div>

maybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?



---

archive/issue_comments_119042.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@fchapoton](#comment:30):\n> maybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?\n\nGood point! The tests are swapped in a new patch.",
    "created_at": "2012-11-07T14:07:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119042",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@fchapoton](#comment:30):
> maybe the second and third tests at the beginning should rather be swapped ? What do we expect when we divide 0 by something which does not have an invertible leading coefficient ?

Good point! The tests are swapped in a new patch.



---

archive/issue_events_155216.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-11-08T21:04:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155216"
}
```



---

archive/issue_events_155217.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2012-11-08T21:04:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155217"
}
```



---

archive/issue_comments_119043.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nwell, let me give again a positive review. Maybe the long-test problem is still there, but it does not appear on 5.4rc3.",
    "created_at": "2012-11-08T21:04:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119043",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

well, let me give again a positive review. Maybe the long-test problem is still there, but it does not appear on 5.4rc3.



---

archive/issue_events_155218.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-16T21:58:31Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155218"
}
```



---

archive/issue_events_155219.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-11-16T21:58:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "milestone_number": null,
    "milestone_title": "sage-5.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155219"
}
```



---

archive/issue_events_155220.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T12:57:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155220"
}
```



---

archive/issue_events_155221.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-12-17T12:57:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155221"
}
```



---

archive/issue_comments_119044.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nWith #8992, I get\n\n```\n**********************************************************************\nFile \"/release/merger/sage-5.6.beta0/devel/sage-main/sage/rings/polynomial/polynomial_quotient_ring.py\", line 407:\n    sage: Q3(Q1.gen())\nException raised:\n    Traceback (most recent call last):\n      File \"/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/release/merger/sage-5.6.beta0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_5[28]>\", line 1, in <module>\n        Q3(Q1.gen())###line 407:\n    sage: Q3(Q1.gen())\n      File \"parent.pyx\", line 800, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7268)\n      File \"parent.pyx\", line 2153, in sage.structure.parent.Parent.convert_map_from (sage/structure/parent.c:15082)\n      File \"parent.pyx\", line 2165, in sage.structure.parent.Parent.discover_convert_map_from (sage/structure/parent.c:15301)\n      File \"parent.pyx\", line 1903, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14051)\n      File \"parent.pyx\", line 1974, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:13804)\n      File \"parent.pyx\", line 2068, in sage.structure.parent.Parent.discover_coerce_map_from (sage/structure/parent.c:14231)\n      File \"parent_old.pyx\", line 507, in sage.structure.parent_old.Parent._coerce_map_from_ (sage/structure/parent_old.c:6428)\n      File \"/release/merger/sage-5.6.beta0/local/lib/python/site-packages/sage/rings/polynomial/polynomial_quotient_ring.py\", line 485, in _coerce_map_from_\n        if not self.__polynomial.divides(R.modulus()):\n      File \"element.pyx\", line 2027, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16725)\n      File \"element.pyx\", line 2021, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16636)\n      File \"polynomial_element.pyx\", line 1724, in sage.rings.polynomial.polynomial_element.Polynomial.__mod__ (sage/rings/polynomial/polynomial_element.c:16751)\n        _, R = self.quo_rem(other)\n      File \"element.pyx\", line 3223, in sage.structure.element.NamedBinopMethod.__call__ (sage/structure/element.c:24763)\n      File \"polynomial_element.pyx\", line 6478, in sage.rings.polynomial.polynomial_element.Polynomial_generic_dense.quo_rem (sage/rings/polynomial/polynomial_element.c:47106)\n        raise ArithmeticError(\"Nonunit leading coefficient\")\n    ArithmeticError: Nonunit leading coefficient\n**********************************************************************\n```",
    "created_at": "2012-12-17T12:57:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119044",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:34" align="right">comment:34</div>

With #8992, I get

```
**********************************************************************
File "/release/merger/sage-5.6.beta0/devel/sage-main/sage/rings/polynomial/polynomial_quotient_ring.py", line 407:
    sage: Q3(Q1.gen())
Exception raised:
    Traceback (most recent call last):
      File "/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/release/merger/sage-5.6.beta0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/release/merger/sage-5.6.beta0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_5[28]>", line 1, in <module>
        Q3(Q1.gen())###line 407:
    sage: Q3(Q1.gen())
      File "parent.pyx", line 800, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:7268)
      File "parent.pyx", line 2153, in sage.structure.parent.Parent.convert_map_from (sage/structure/parent.c:15082)
      File "parent.pyx", line 2165, in sage.structure.parent.Parent.discover_convert_map_from (sage/structure/parent.c:15301)
      File "parent.pyx", line 1903, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:14051)
      File "parent.pyx", line 1974, in sage.structure.parent.Parent.coerce_map_from (sage/structure/parent.c:13804)
      File "parent.pyx", line 2068, in sage.structure.parent.Parent.discover_coerce_map_from (sage/structure/parent.c:14231)
      File "parent_old.pyx", line 507, in sage.structure.parent_old.Parent._coerce_map_from_ (sage/structure/parent_old.c:6428)
      File "/release/merger/sage-5.6.beta0/local/lib/python/site-packages/sage/rings/polynomial/polynomial_quotient_ring.py", line 485, in _coerce_map_from_
        if not self.__polynomial.divides(R.modulus()):
      File "element.pyx", line 2027, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16725)
      File "element.pyx", line 2021, in sage.structure.element.CommutativeRingElement.divides (sage/structure/element.c:16636)
      File "polynomial_element.pyx", line 1724, in sage.rings.polynomial.polynomial_element.Polynomial.__mod__ (sage/rings/polynomial/polynomial_element.c:16751)
        _, R = self.quo_rem(other)
      File "element.pyx", line 3223, in sage.structure.element.NamedBinopMethod.__call__ (sage/structure/element.c:24763)
      File "polynomial_element.pyx", line 6478, in sage.rings.polynomial.polynomial_element.Polynomial_generic_dense.quo_rem (sage/rings/polynomial/polynomial_element.c:47106)
        raise ArithmeticError("Nonunit leading coefficient")
    ArithmeticError: Nonunit leading coefficient
**********************************************************************
```



---

archive/issue_comments_119045.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nWell, this failing test does not make sense to me. Why on earth should we be able to convert\n\n```\nx as element of the ring Q[x]/(x^6 - x^4 - 5*x^2 - 3)\n\nto\n\nx as element of the ring Q[x][y]/(y^2+1)\n```\n\nI propose to remove this test. Anybody else has an opinion ?",
    "created_at": "2012-12-30T19:46:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119045",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:35" align="right">comment:35</div>

Well, this failing test does not make sense to me. Why on earth should we be able to convert

```
x as element of the ring Q[x]/(x^6 - x^4 - 5*x^2 - 3)

to

x as element of the ring Q[x][y]/(y^2+1)
```

I propose to remove this test. Anybody else has an opinion ?



---

archive/issue_comments_119046.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nI think the doctest explains it pretty well: it is a conversion from `Q[x]/(x^6 - x^4 - 5*x^2 - 3)` to `Q[x]` which matters.\n\nYou can ask questions at #8992, where this test was introduced.",
    "created_at": "2012-12-31T09:48:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119046",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:36" align="right">comment:36</div>

I think the doctest explains it pretty well: it is a conversion from `Q[x]/(x^6 - x^4 - 5*x^2 - 3)` to `Q[x]` which matters.

You can ask questions at #8992, where this test was introduced.



---

archive/issue_comments_119047.json:
```json
{
    "body": "Attachment: **[trac_11593.patch.gz](https://github.com/sagemath/sage/files/ticket11593/trac_11593.patch.gz)**\n\nrebased for Sage 5.6",
    "created_at": "2013-02-07T04:39:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119047",
    "user": "https://github.com/kwankyu"
}
```

Attachment: **[trac_11593.patch.gz](https://github.com/sagemath/sage/files/ticket11593/trac_11593.patch.gz)**

rebased for Sage 5.6



---

archive/issue_comments_119048.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nActually the fault was with #8992. There is now no need to take off the problematic doctest of #8992.",
    "created_at": "2013-02-07T04:44:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119048",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:37" align="right">comment:37</div>

Actually the fault was with #8992. There is now no need to take off the problematic doctest of #8992.



---

archive/issue_comments_119049.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThe faulty part of #8992 is now remedied and included in the current patch for this ticket.",
    "created_at": "2013-02-07T04:45:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119049",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:38" align="right">comment:38</div>

The faulty part of #8992 is now remedied and included in the current patch for this ticket.



---

archive/issue_events_155222.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2013-02-20T00:50:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155222"
}
```



---

archive/issue_events_155223.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2013-02-20T00:50:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155223"
}
```



---

archive/issue_comments_119050.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nok for me, positive review",
    "created_at": "2013-02-26T19:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119050",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:40" align="right">comment:40</div>

ok for me, positive review



---

archive/issue_events_155224.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-02-26T19:42:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155224"
}
```



---

archive/issue_events_155225.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2013-02-26T19:42:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155225"
}
```



---

archive/issue_comments_119051.json:
```json
{
    "body": "Merged: **sage-5.8.beta2**",
    "created_at": "2013-02-28T10:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11593#issuecomment-119051",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.8.beta2**



---

archive/issue_events_155226.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T10:30:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155226"
}
```



---

archive/issue_events_155227.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-02-28T10:30:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11593",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11593#event-155227"
}
```
