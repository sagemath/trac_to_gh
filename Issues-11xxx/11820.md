# Issue 11820: Undo #4777: Remove PARI bug work-around in is_prime_power()

archive/issues_011648.json:
```json
{
    "body": "The PARI bug mentioned in #4777 is fixed, see ![1].\nSo undo #4777 to make `is_prime_power()` faster.\n\n![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)\n\n---\n\nApply\n1. [attachment:trac_11820_undo_4777.patch]\n2. [attachment:trac_11820-beautify_error_message.reviewer-v2.patch]\nto the Sage library.\n\n\nAssignee: @aghitza\n\nResolution: fixed\n\nDependencies: #11685\n\nAuthor: Andr\u00e9 Apitzsch\n\nReviewer: Leif Leonhardy, Jeroen Demeyer\n\nMerged: sage-4.7.2.alpha3\n\nIssue created by migration from https://trac.sagemath.org/ticket/11820\n\n",
    "closed_at": "2011-09-27T17:39:57Z",
    "created_at": "2011-09-20T19:49:19Z",
    "labels": [
        "component: basic arithmetic"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "Undo #4777: Remove PARI bug work-around in is_prime_power()",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11820",
    "user": "https://github.com/a-andre"
}
```
The PARI bug mentioned in #4777 is fixed, see ![1].
So undo #4777 to make `is_prime_power()` faster.

![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)

---

Apply
1. [attachment:trac_11820_undo_4777.patch]
2. [attachment:trac_11820-beautify_error_message.reviewer-v2.patch]
to the Sage library.


Assignee: @aghitza

Resolution: fixed

Dependencies: #11685

Author: André Apitzsch

Reviewer: Leif Leonhardy, Jeroen Demeyer

Merged: sage-4.7.2.alpha3

Issue created by migration from https://trac.sagemath.org/ticket/11820





---

archive/issue_comments_161116.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-09-20T19:54:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161116",
    "user": "https://github.com/a-andre"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_161117.json:
```json
{
    "body": "<a id='comment:2'></a>The error message could be nicer, and the commit message more meaningful.",
    "created_at": "2011-09-20T21:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161117",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:2'></a>The error message could be nicer, and the commit message more meaningful.



---

archive/issue_comments_161118.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,12 @@\n-The pari bug mentioned in #4777 is fixed, see [1].\n-So undo #4777 to make `is_prime_power` faster.\n+The PARI bug mentioned in #4777 is fixed, see ![1].\n+So undo #4777 to make `is_prime_power()` faster.\n \n-[1] http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes\n+![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)\n+\n+---\n+\n+Apply [attachment:trac_11820_undo_4777.patch] to the Sage library.\n+\n \n Author: Andr\u00e9 Apitzsch\n \n``````\n",
    "created_at": "2011-09-20T21:11:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161118",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,12 @@
-The pari bug mentioned in #4777 is fixed, see [1].
-So undo #4777 to make `is_prime_power` faster.
+The PARI bug mentioned in #4777 is fixed, see ![1].
+So undo #4777 to make `is_prime_power()` faster.
 
-[1] http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes
+![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)
+
+---
+
+Apply [attachment:trac_11820_undo_4777.patch] to the Sage library.
+
 
 Author: André Apitzsch
 
``````




---

archive/issue_comments_161119.json:
```json
{
    "body": "Attachment [trac_11820_undo_4777.patch](tarball://root/attachments/some-uuid/ticket11820/trac_11820_undo_4777.patch) by @a-andre created at 2011-09-20 21:27:38",
    "created_at": "2011-09-20T21:27:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161119",
    "user": "https://github.com/a-andre"
}
```

Attachment [trac_11820_undo_4777.patch](tarball://root/attachments/some-uuid/ticket11820/trac_11820_undo_4777.patch) by @a-andre created at 2011-09-20 21:27:38



---

archive/issue_comments_161120.json:
```json
{
    "body": "<a id='comment:3'></a>I've attached a reviewer patch fixing the error message and also some other (unrelated) parts of the documentation.\n\nP.S.: trac doesn't send a notification if you only attach or update a patch, so it's usually better to also add a comment such that others will notice your update.",
    "created_at": "2011-09-20T23:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161120",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:3'></a>I've attached a reviewer patch fixing the error message and also some other (unrelated) parts of the documentation.

P.S.: trac doesn't send a notification if you only attach or update a patch, so it's usually better to also add a comment such that others will notice your update.



---

archive/issue_comments_161121.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Leif Leonhardy\"",
    "created_at": "2011-09-20T23:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161121",
    "user": "https://github.com/nexttime"
}
```

Changing reviewer from "" to "Leif Leonhardy"



---

archive/issue_comments_161122.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-20T23:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161122",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_161123.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+The PARI bug mentioned in #4777 is fixed, see ![1].\n+So undo #4777 to make `is_prime_power()` faster.\n+\n+![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)\n+\n+---\n+\n+Apply\n+1. [attachment:trac_11820_undo_4777.patch]\n+2. [attachment:trac_11820-beautify_error_message.reviewer.patch]\n+to the Sage library.\n \n \n Author: Andr\u00e9 Apitzsch\n``````\n",
    "created_at": "2011-09-20T23:24:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161123",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,14 @@
+The PARI bug mentioned in #4777 is fixed, see ![1].
+So undo #4777 to make `is_prime_power()` faster.
+
+![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)
+
+---
+
+Apply
+1. [attachment:trac_11820_undo_4777.patch]
+2. [attachment:trac_11820-beautify_error_message.reviewer.patch]
+to the Sage library.
 
 
 Author: André Apitzsch
``````




---

archive/issue_comments_161124.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2011-09-21T13:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161124",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_161125.json:
```json
{
    "body": "<a id='comment:4'></a>Doesn't [attachment:trac_11820-beautify_error_message.reviewer.patch] conflict with #11685?",
    "created_at": "2011-09-21T13:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161125",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>Doesn't [attachment:trac_11820-beautify_error_message.reviewer.patch] conflict with #11685?



---

archive/issue_comments_161126.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 jdemeyer]:\n> Doesn't [attachment:trac_11820-beautify_error_message.reviewer.patch] conflict with #11685?\n\n\nDoes it? Apparently haven't tried, i.e., tested it / made the patch against alpha2.\n\nIf so, I can of course rebase it; I was actually considering it for late inclusion into the alpha3 since it is a trivial (or harmless) fix.",
    "created_at": "2011-09-21T13:32:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161126",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:5'></a>Replying to [comment:4 jdemeyer]:
> Doesn't [attachment:trac_11820-beautify_error_message.reviewer.patch] conflict with #11685?


Does it? Apparently haven't tried, i.e., tested it / made the patch against alpha2.

If so, I can of course rebase it; I was actually considering it for late inclusion into the alpha3 since it is a trivial (or harmless) fix.



---

archive/issue_comments_161127.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [comment:5 leif]:\n> Replying to [comment:4 jdemeyer]:\n> > Doesn't [attachment:trac_11820-beautify_error_message.reviewer.patch] conflict with #11685?\n\n> \n> Apparently haven't tried, i.e., tested it / made the patch against alpha2.\n\n\nYep, did so. (Too many terminal windows and Sage installations.)\n\nBut as long as it doesn't (formally) depend on #11685 (and alpha3 isn't released), it doesn't need work... ;-)",
    "created_at": "2011-09-21T13:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161127",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:6'></a>Replying to [comment:5 leif]:
> Replying to [comment:4 jdemeyer]:
> > Doesn't [attachment:trac_11820-beautify_error_message.reviewer.patch] conflict with #11685?

> 
> Apparently haven't tried, i.e., tested it / made the patch against alpha2.


Yep, did so. (Too many terminal windows and Sage installations.)

But as long as it doesn't (formally) depend on #11685 (and alpha3 isn't released), it doesn't need work... ;-)



---

archive/issue_comments_161128.json:
```json
{
    "body": "Changing work_issues from \"\" to \"Rebase reviewer patch on Sage 4.7.2.alpha3 prerelease / #11685.\"",
    "created_at": "2011-09-21T13:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161128",
    "user": "https://github.com/nexttime"
}
```

Changing work_issues from "" to "Rebase reviewer patch on Sage 4.7.2.alpha3 prerelease / #11685."



---

archive/issue_comments_161129.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#11685\"",
    "created_at": "2011-09-21T13:52:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161129",
    "user": "https://github.com/nexttime"
}
```

Changing dependencies from "" to "#11685"



---

archive/issue_comments_161130.json:
```json
{
    "body": "Apply on top of Andr\u00e9's patch. Includes further random documentation fixes. Based on Sage 4.7.2.alpha3-prerelease / #11685.",
    "created_at": "2011-09-21T22:53:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161130",
    "user": "https://github.com/nexttime"
}
```

Apply on top of André's patch. Includes further random documentation fixes. Based on Sage 4.7.2.alpha3-prerelease / #11685.



---

archive/issue_comments_161131.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-21T23:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161131",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_161132.json:
```json
{
    "body": "<a id='comment:7'></a>Attachment [trac_11820-beautify_error_message.reviewer.patch](tarball://root/attachments/some-uuid/ticket11820/trac_11820-beautify_error_message.reviewer.patch) by @nexttime created at 2011-09-21 23:02:31\n\nUpdated my reviewer patch.\n\nJeroen, are you going to / do you want to review this?\n\nOtherwise I'll just set it back to \"positive review\"... ;-) (Did a full `ptestlong` to catch all places where the changed exception messages are used.)",
    "created_at": "2011-09-21T23:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161132",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:7'></a>Attachment [trac_11820-beautify_error_message.reviewer.patch](tarball://root/attachments/some-uuid/ticket11820/trac_11820-beautify_error_message.reviewer.patch) by @nexttime created at 2011-09-21 23:02:31

Updated my reviewer patch.

Jeroen, are you going to / do you want to review this?

Otherwise I'll just set it back to "positive review"... ;-) (Did a full `ptestlong` to catch all places where the changed exception messages are used.)



---

archive/issue_comments_161133.json:
```json
{
    "body": "Changing work_issues from \"Rebase reviewer patch on Sage 4.7.2.alpha3 prerelease / #11685.\" to \"\"",
    "created_at": "2011-09-21T23:02:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161133",
    "user": "https://github.com/nexttime"
}
```

Changing work_issues from "Rebase reviewer patch on Sage 4.7.2.alpha3 prerelease / #11685." to ""



---

archive/issue_comments_161134.json:
```json
{
    "body": "<a id='comment:8'></a>Mercurial doesn't like [attachment:trac_11820_undo_4777.patch] because it uses non-ASCII characters:\n\n```\n$ pwd\n/usr/local/src/sage-4.7.2.alpha2/devel/sage\n\n$ ../../sage --version\n* Warning: this is a prerelease version, and it may be unstable.     *\n| Sage Version 4.7.2.alpha2, Release Date: 2011-08-24                |\n$ ../../sage -hg --version\nMercurial Distributed SCM (version 1.8.4)\n(see http://mercurial.selenic.com for more information)\n\nCopyright (C) 2005-2011 Matt Mackall and others\nThis is free software; see the source for copying conditions. There is NO\nwarranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n\n$ ../../sage -hg qpush\napplying trac_11820_undo_4777.patch\ntransaction abort!\nrollback completed\ncleaning up working directory...done\nabort: decoding near 'Andr\u00c3\u00a9 Apitzsc': 'ascii' codec can't decode byte 0xc3 in position 4: ordinal not in range(128)!\n```",
    "created_at": "2011-09-22T07:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161134",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:8'></a>Mercurial doesn't like [attachment:trac_11820_undo_4777.patch] because it uses non-ASCII characters:

```
$ pwd
/usr/local/src/sage-4.7.2.alpha2/devel/sage

$ ../../sage --version
* Warning: this is a prerelease version, and it may be unstable.     *
| Sage Version 4.7.2.alpha2, Release Date: 2011-08-24                |
$ ../../sage -hg --version
Mercurial Distributed SCM (version 1.8.4)
(see http://mercurial.selenic.com for more information)

Copyright (C) 2005-2011 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

$ ../../sage -hg qpush
applying trac_11820_undo_4777.patch
transaction abort!
rollback completed
cleaning up working directory...done
abort: decoding near 'AndrÃ© Apitzsc': 'ascii' codec can't decode byte 0xc3 in position 4: ordinal not in range(128)!
```



---

archive/issue_comments_161135.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-09-22T07:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161135",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_161136.json:
```json
{
    "body": "Changing work_issues from \"\" to \"non-ASCII patch\"",
    "created_at": "2011-09-22T07:49:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161136",
    "user": "https://github.com/jdemeyer"
}
```

Changing work_issues from "" to "non-ASCII patch"



---

archive/issue_comments_161137.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 jdemeyer]:\n> Mercurial doesn't like [attachment:trac_11820_undo_4777.patch] because it uses non-ASCII characters [...]\n\n\nJeroen, we have **lots** of such patches.\n\nYou **must not** set (e.g.) `LC_ALL=C`, but use e.g. `en_US.utf-8` when applying patches.\n\nI'd consider that a Mercurial bug btw.",
    "created_at": "2011-09-22T12:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161137",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:9'></a>Replying to [comment:8 jdemeyer]:
> Mercurial doesn't like [attachment:trac_11820_undo_4777.patch] because it uses non-ASCII characters [...]


Jeroen, we have **lots** of such patches.

You **must not** set (e.g.) `LC_ALL=C`, but use e.g. `en_US.utf-8` when applying patches.

I'd consider that a Mercurial bug btw.



---

archive/issue_comments_161138.json:
```json
{
    "body": "Changing work_issues from \"non-ASCII patch\" to \"\"",
    "created_at": "2011-09-22T12:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161138",
    "user": "https://github.com/nexttime"
}
```

Changing work_issues from "non-ASCII patch" to ""



---

archive/issue_comments_161139.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-22T12:44:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161139",
    "user": "https://github.com/nexttime"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_161140.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:9 leif]:\n> You **must not** set (e.g.) `LC_ALL=C`, but use e.g. `en_US.utf-8` when applying patches.\n\n\nAllright, the command that made it work for me was\n\n```\n$ LANG=en_US.UTF-8 hg qpush\n```\nNote that `$LANG` is set by default on some systems (e.g. sage.math.washington.edu).",
    "created_at": "2011-09-22T12:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161140",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:10'></a>Replying to [comment:9 leif]:
> You **must not** set (e.g.) `LC_ALL=C`, but use e.g. `en_US.utf-8` when applying patches.


Allright, the command that made it work for me was

```
$ LANG=en_US.UTF-8 hg qpush
```
Note that `$LANG` is set by default on some systems (e.g. sage.math.washington.edu).



---

archive/issue_comments_161141.json:
```json
{
    "body": "Attachment [trac_11820-beautify_error_message.reviewer-v2.patch](tarball://root/attachments/some-uuid/ticket11820/trac_11820-beautify_error_message.reviewer-v2.patch) by @jdemeyer created at 2011-09-22 13:00:54",
    "created_at": "2011-09-22T13:00:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161141",
    "user": "https://github.com/jdemeyer"
}
```

Attachment [trac_11820-beautify_error_message.reviewer-v2.patch](tarball://root/attachments/some-uuid/ticket11820/trac_11820-beautify_error_message.reviewer-v2.patch) by @jdemeyer created at 2011-09-22 13:00:54



---

archive/issue_comments_161142.json:
```json
{
    "body": "<a id='comment:11'></a>I don't why exception strings should have a dot at the end, they most commonly do **not** have a dot.  New reviewer patch fixing that.",
    "created_at": "2011-09-22T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161142",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:11'></a>I don't why exception strings should have a dot at the end, they most commonly do **not** have a dot.  New reviewer patch fixing that.



---

archive/issue_comments_161143.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,14 @@\n+The PARI bug mentioned in #4777 is fixed, see ![1].\n+So undo #4777 to make `is_prime_power()` faster.\n+\n+![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)\n+\n+---\n+\n+Apply\n+1. [attachment:trac_11820_undo_4777.patch]\n+2. [attachment:trac_11820-beautify_error_message.reviewer-v2.patch]\n+to the Sage library.\n \n \n Author: Andr\u00e9 Apitzsch\n``````\n",
    "created_at": "2011-09-22T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161143",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,14 @@
+The PARI bug mentioned in #4777 is fixed, see ![1].
+So undo #4777 to make `is_prime_power()` faster.
+
+![1] [http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes](http://pari.math.u-bordeaux.fr/cgi-bin/bugreport.cgi?bug=916&archive=yes)
+
+---
+
+Apply
+1. [attachment:trac_11820_undo_4777.patch]
+2. [attachment:trac_11820-beautify_error_message.reviewer-v2.patch]
+to the Sage library.
 
 
 Author: André Apitzsch
``````




---

archive/issue_comments_161144.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-22T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161144",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_161145.json:
```json
{
    "body": "Changing reviewer from \"Leif Leonhardy\" to \"Leif Leonhardy, Jeroen Demeyer\"",
    "created_at": "2011-09-22T13:01:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161145",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Leif Leonhardy" to "Leif Leonhardy, Jeroen Demeyer"



---

archive/issue_comments_161146.json:
```json
{
    "body": "<a id='comment:12'></a>Replying to [comment:10 jdemeyer]:\n> Replying to [comment:9 leif]:\n> > You **must not** set (e.g.) `LC_ALL=C`, but use e.g. `en_US.utf-8` when applying patches.\n\n> \n> Allright, the command that made it work for me was\n\n{{{\n$ LANG=en_US.UTF-8 hg qpush\n}}}\n> Note that `$LANG` is set by default on some systems (e.g. sage.math.washington.edu).\n\n\nWonder whether we should set / change the locale in `sage --hg ...` (at least if the current one is not a UTF-8 one).",
    "created_at": "2011-09-22T13:30:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161146",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:12'></a>Replying to [comment:10 jdemeyer]:
> Replying to [comment:9 leif]:
> > You **must not** set (e.g.) `LC_ALL=C`, but use e.g. `en_US.utf-8` when applying patches.

> 
> Allright, the command that made it work for me was

{{{
$ LANG=en_US.UTF-8 hg qpush
}}}
> Note that `$LANG` is set by default on some systems (e.g. sage.math.washington.edu).


Wonder whether we should set / change the locale in `sage --hg ...` (at least if the current one is not a UTF-8 one).



---

archive/issue_comments_161147.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:12 leif]:\n> Wonder whether we should set / change the locale in `sage --hg ...` (at least if the current one is not a UTF-8 one).\n\n\nSee #11830 (needs_review) for a solution.",
    "created_at": "2011-09-22T14:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161147",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>Replying to [comment:12 leif]:
> Wonder whether we should set / change the locale in `sage --hg ...` (at least if the current one is not a UTF-8 one).


See #11830 (needs_review) for a solution.



---

archive/issue_comments_161148.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-27T17:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161148",
    "user": "https://github.com/nexttime"
}
```

Resolution: fixed



---

archive/issue_comments_161149.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.7.2.alpha3\"",
    "created_at": "2011-09-27T17:39:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11820#issuecomment-161149",
    "user": "https://github.com/nexttime"
}
```

Changing merged from "" to "sage-4.7.2.alpha3"



---

archive/issue_events_031160.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-27T17:39:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11820",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11820#event-31160"
}
```
