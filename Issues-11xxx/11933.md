# Issue 11933: Fix qepcad doctests

archive/issues_011761.json:
```json
{
    "assignees": [],
    "body": "This patch fixes some doctest failures for the [experimental package](http://www.sagemath.org/packages/experimental/) qepcad and also fixes the formatting of the doctests.\n\nThis is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).\n\n\n**Assignee:** @jdemeyer\n\n**CC:**  @jasongrout\n\n**Author:** Jeroen Demeyer\n\n**Reviewer:** Karl-Dieter Crisman\n\n**Merged:** sage-4.8.alpha4\n\nIssue created by migration from https://trac.sagemath.org/ticket/11933\n\n",
    "closed_at": "2011-12-06T13:19:00Z",
    "created_at": "2011-10-17T18:48:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20doctest%20coverage",
        "https://github.com/sagemath/sage/labels/minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix qepcad doctests",
    "type": "issue",
    "updated_at": "2011-12-06T13:19:00Z",
    "url": "https://github.com/sagemath/sage/issues/11933",
    "user": "https://github.com/jdemeyer"
}
```
This patch fixes some doctest failures for the [experimental package](http://www.sagemath.org/packages/experimental/) qepcad and also fixes the formatting of the doctests.

This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).


**Assignee:** @jdemeyer

**CC:**  @jasongrout

**Author:** Jeroen Demeyer

**Reviewer:** Karl-Dieter Crisman

**Merged:** sage-4.8.alpha4

Issue created by migration from https://trac.sagemath.org/ticket/11933





---

archive/issue_events_135966.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-17T18:48:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135966"
}
```



---

archive/issue_events_135967.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-17T18:48:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20doctest%20coverage",
    "label_color": "08517b",
    "label_name": "component: doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135967"
}
```



---

archive/issue_events_135968.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-17T18:48:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/minor",
    "label_color": "ff0000",
    "label_name": "minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135968"
}
```



---

archive/issue_events_135969.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-17T18:48:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "008080",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135969"
}
```



---

archive/issue_comments_128285.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Attachment:** [11933.patch.gz](https://github.com/sagemath/sage/files/ticket11933/11933.patch.gz)",
    "created_at": "2011-10-18T02:36:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128285",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:1'></a>
**Attachment:** [11933.patch.gz](https://github.com/sagemath/sage/files/ticket11933/11933.patch.gz)



---

archive/issue_comments_128286.json:
```json
{
    "body": "<a id='comment:2'></a>\nCan you mark this \"needs review\" if it is?",
    "created_at": "2011-10-18T02:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128286",
    "user": "https://github.com/jasongrout"
}
```

<a id='comment:2'></a>
Can you mark this "needs review" if it is?



---

archive/issue_events_135970.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-10-18T10:09:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135970"
}
```



---

archive/issue_comments_128287.json:
```json
{
    "body": "**Author:** Jeroen Demeyer",
    "created_at": "2011-10-18T10:09:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128287",
    "user": "https://github.com/jdemeyer"
}
```

**Author:** Jeroen Demeyer



---

archive/issue_comments_128288.json:
```json
{
    "body": "**Changing assignee** from mvngu to @jdemeyer.",
    "created_at": "2011-10-18T10:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128288",
    "user": "https://github.com/jdemeyer"
}
```

**Changing assignee** from mvngu to @jdemeyer.



---

archive/issue_comments_128289.json:
```json
{
    "body": "<a id='comment:4'></a>\nYes, it is ready for review.  I have only tested this on one system, I hope the results are not system-dependent.",
    "created_at": "2011-10-18T10:10:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128289",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:4'></a>
Yes, it is ready for review.  I have only tested this on one system, I hope the results are not system-dependent.



---

archive/issue_comments_128290.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis patch fixes some doctest failures for the *experimental package* qepcad and also fixes the formatting of the doctests.\n\nThis is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).",
    "created_at": "2011-10-22T21:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128290",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
This patch fixes some doctest failures for the *experimental package* qepcad and also fixes the formatting of the doctests.

This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).



---

archive/issue_comments_128291.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,4 @@\n+This patch fixes some doctest failures for the [experimental package](http://www.sagemath.org/packages/experimental/) qepcad and also fixes the formatting of the doctests.\n \n+This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).\n+\n``````\n",
    "created_at": "2011-10-22T21:30:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128291",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,4 @@
+This patch fixes some doctest failures for the [experimental package](http://www.sagemath.org/packages/experimental/) qepcad and also fixes the formatting of the doctests.
 
+This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).
+
``````




---

archive/issue_comments_128292.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128292",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_events_135971.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:14:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135971"
}
```



---

archive/issue_comments_128293.json:
```json
{
    "body": "**Reviewer:** Karl-Dieter Crisman",
    "created_at": "2011-12-03T16:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128293",
    "user": "https://github.com/kcrisman"
}
```

**Reviewer:** Karl-Dieter Crisman



---

archive/issue_events_135972.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-12-03T16:08:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135972"
}
```



---

archive/issue_comments_128294.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [@jdemeyer](#comment%3A5):\n> This patch fixes some doctest failures for the *experimental package* qepcad and also fixes the formatting of the doctests.\n\nAs far as I can tell, the nonsubstantive changes are all fine, with the possible exception of the bullet lists toward the end, which could conceivably not be at an appropriate indentation level.  This is not in the reference manual, so I can't check that, but the other changes you made are good, and I assume that the bullets will render properly.\n> This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).\n\nIt also failed on Mac OS X 10.6.  \n\nI'll try to test this on sage.math momentarily for the term order changes, then it could go to positive review.",
    "created_at": "2011-12-03T16:08:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128294",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>
Replying to [@jdemeyer](#comment%3A5):
> This patch fixes some doctest failures for the *experimental package* qepcad and also fixes the formatting of the doctests.

As far as I can tell, the nonsubstantive changes are all fine, with the possible exception of the bullet lists toward the end, which could conceivably not be at an appropriate indentation level.  This is not in the reference manual, so I can't check that, but the other changes you made are good, and I assume that the bullets will render properly.
> This is only tested on x86_64 Linux (I tried installing on 32-bit i386 Linux but that failed).

It also failed on Mac OS X 10.6.  

I'll try to test this on sage.math momentarily for the term order changes, then it could go to positive review.



---

archive/issue_events_135973.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-12-03T17:45:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135973"
}
```



---

archive/issue_events_135974.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2011-12-03T17:45:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135974"
}
```



---

archive/issue_comments_128295.json:
```json
{
    "body": "<a id='comment:9'></a>\nOn sage.math, before:\n\n```\nsage -t -optional \"devel/sage/sage/interfaces/qepcad.py\"    \n**********************************************************************\nFile \"/mnt/usb1/scratch/kcrisman/sage-4.8.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage/sage/interfaces/qepcad.py\", line 95:\n    sage: F = qf.exactly_k(3, y, circle * ellipse == 0); F    # optional - qepcad\nExpected:\n    (X3 y)[(y^2 + x^2 - 3) (y^2 + 2 x y + y + 3 x^2 - x - 7) = 0]\nGot:\n    (X3 y)[(x^2 + y^2 - 3) (3 x^2 + 2 x y + y^2 - x + y - 7) = 0]\n<snip>\nExpected:\n    'approx-precision N\\n\\nApproximate algebraic numbers to N decimal places.\\n'\nGot:\n    'approx-precision N\\n\\nApproximate algeraic numbers to N decimal places.\\n'\n**********************************************************************\n3 items had failures:\n   6 of  61 in __main__.example_0\n   1 of   6 in __main__.example_2\n   1 of   6 in __main__.example_25\n***Test Failed*** 8 failures.\nFor whitespace errors, see the file /home/kcrisman/.sage//tmp/qepcad_31669.py\n\t [11.3 s]\n \n----------------------------------------------------------------------\nThe following tests failed:\n\n\n\tsage -t -optional \"devel/sage/sage/interfaces/qepcad.py\"\nTotal time for all tests: 11.4 seconds\n\n```\n\nAfter:\n\n```\n\nsage -t -optional \"devel/sage/sage/interfaces/qepcad.py\"    \n\t [11.6 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 11.6 seconds\n```\n\nGreat!",
    "created_at": "2011-12-03T17:45:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128295",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>
On sage.math, before:

```
sage -t -optional "devel/sage/sage/interfaces/qepcad.py"    
**********************************************************************
File "/mnt/usb1/scratch/kcrisman/sage-4.8.alpha3-sage.math.washington.edu-x86_64-Linux/devel/sage/sage/interfaces/qepcad.py", line 95:
    sage: F = qf.exactly_k(3, y, circle * ellipse == 0); F    # optional - qepcad
Expected:
    (X3 y)[(y^2 + x^2 - 3) (y^2 + 2 x y + y + 3 x^2 - x - 7) = 0]
Got:
    (X3 y)[(x^2 + y^2 - 3) (3 x^2 + 2 x y + y^2 - x + y - 7) = 0]
<snip>
Expected:
    'approx-precision N\n\nApproximate algebraic numbers to N decimal places.\n'
Got:
    'approx-precision N\n\nApproximate algeraic numbers to N decimal places.\n'
**********************************************************************
3 items had failures:
   6 of  61 in __main__.example_0
   1 of   6 in __main__.example_2
   1 of   6 in __main__.example_25
***Test Failed*** 8 failures.
For whitespace errors, see the file /home/kcrisman/.sage//tmp/qepcad_31669.py
	 [11.3 s]
 
----------------------------------------------------------------------
The following tests failed:


	sage -t -optional "devel/sage/sage/interfaces/qepcad.py"
Total time for all tests: 11.4 seconds

```

After:

```

sage -t -optional "devel/sage/sage/interfaces/qepcad.py"    
	 [11.6 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 11.6 seconds
```

Great!



---

archive/issue_comments_128296.json:
```json
{
    "body": "**Merged:** sage-4.8.alpha4",
    "created_at": "2011-12-06T13:19:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11933#issuecomment-128296",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.8.alpha4



---

archive/issue_events_135975.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-06T13:19:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135975"
}
```



---

archive/issue_events_135976.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-12-06T13:19:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11933",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11933#event-135976"
}
```
