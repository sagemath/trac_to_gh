# Issue 11906: PolyBoRi 0.7.1 should obey some standard environment variables

archive/issues_011734.json:
```json
{
    "assignees": [
        "https://github.com/alexanderdreyer"
    ],
    "body": "It was discovered in #11575 that PolyBoRi's build system  does not export all relevant environment variables to the build environment.\n\nThe PolyBoRi spkg already treats the following:\n`CC CXX SAGESOFLAGS PYTHONHOME SAGE_LOCAL`\n\nYet, the following standard environment variables are not utilized in PolyBoRi's build process:\n`CFLAGS CXXFLAGS CPPFLAGS LDFLAGS`\n\nThe following environment variables should be exported to PolyBoRi's build environment:\n`LD_LIBRARY_PATH LIBRARY_PATH LD_RUN_PATH DYLD_RUN_PATH`\n\nIn addition the previous installation is only deleted after a successful build.\n\n### Current patches/spkg\n* **Install** http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg\n\nDepends on #11756\n\nCC:  @nexttime\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nReviewer: **Jeroen Demeyer, Alexander Dreyer**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11906_\n\n",
    "closed_at": "2012-04-02T21:08:38Z",
    "created_at": "2011-10-07T20:24:00Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "PolyBoRi 0.7.1 should obey some standard environment variables",
    "type": "issue",
    "updated_at": "2012-04-02T22:38:55Z",
    "url": "https://github.com/sagemath/sage/issues/11906",
    "user": "https://github.com/alexanderdreyer"
}
```
It was discovered in #11575 that PolyBoRi's build system  does not export all relevant environment variables to the build environment.

The PolyBoRi spkg already treats the following:
`CC CXX SAGESOFLAGS PYTHONHOME SAGE_LOCAL`

Yet, the following standard environment variables are not utilized in PolyBoRi's build process:
`CFLAGS CXXFLAGS CPPFLAGS LDFLAGS`

The following environment variables should be exported to PolyBoRi's build environment:
`LD_LIBRARY_PATH LIBRARY_PATH LD_RUN_PATH DYLD_RUN_PATH`

In addition the previous installation is only deleted after a successful build.

### Current patches/spkg
* **Install** http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg

Depends on #11756

CC:  @nexttime

Upstream: **Fixed upstream, in a later stable release.**

Reviewer: **Jeroen Demeyer, Alexander Dreyer**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/11906_





---

archive/issue_events_160581.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-07T20:24:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160581"
}
```



---

archive/issue_events_160582.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-07T20:24:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160582"
}
```



---

archive/issue_events_160583.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-07T20:24:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160583"
}
```



---

archive/issue_events_160584.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-07T20:24:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160584"
}
```



---

archive/issue_events_160585.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-10-07T20:24:00Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160585"
}
```



---

archive/issue_events_160586.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-10-07T20:24:14Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160586"
}
```



---

archive/issue_events_160587.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-07T20:24:14Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160587"
}
```



---

archive/issue_comments_125495.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThere are two kind of environment variables. \nFirst, there are `PATH`, `LD_LIBRARY_PATH`, `CPATH` (used by gcc} and similar ones. Those just have to be imported to the build environment, for instance by the following patch to PolyBoRi's `SConstruct` file:\n\n```diff\n\n@@ -377,17 +377,12 @@                                                                                                           \n                                                                                                                                \n tools +=  [\"disttar\", \"doxygen\"]                                                                                               \n                                                                                                                                \n-# Get paths an related things from current environment                                                                         \n-# note: we cannot avoid those due to non-standard system setups                                                                \n-getenv = dict()                                                                                                                \n-for key in ['PATH', 'HOME', 'LD_LIBRARY_PATH'] :                                                                               \n-    try:                                                                                                                       \n-        getenv[key] = os.environ[key]                                                                                          \n-    except KeyError:                                                                                                           \n-        pass                                                                                                                   \n+# Get paths and related things from current environment os.environ                                                             \n+# note: We cannot avoid those due to non-standard system setups,                                                               \n+#       also we do not know which variables are used in general                                                                \n                                                                                                                                \n-                                                                                                                               \n-env = Environment(ENV = getenv, options = opts, tools = tools, toolpath = '.')                                                 \n+env = Environment(ENV = os.environ, options = opts, tools = tools,                                                             \n+                  toolpath = '.')                                                                                              \n                                                                                                                                \n env['RPATH'] = env.Literal('\\\\$$ORIGIN/') \n```\n\nOn the other hand, there are variables like `CFLAGS`, `LDFLAGS`... Those are not used by the compiler directly, but by `make`-based build systems. So we have to tell `scons` what we intended with them. For instance, we have to add a line like the following to the configuration file `custom.py` in the spkg:\n\n```python\nCXXFLAGS=os.environ['CXXFLAGS']\n```",
    "created_at": "2011-10-07T22:09:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125495",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:2" align="right">comment:2</div>

There are two kind of environment variables. 
First, there are `PATH`, `LD_LIBRARY_PATH`, `CPATH` (used by gcc} and similar ones. Those just have to be imported to the build environment, for instance by the following patch to PolyBoRi's `SConstruct` file:

```diff

@@ -377,17 +377,12 @@                                                                                                           
                                                                                                                                
 tools +=  ["disttar", "doxygen"]                                                                                               
                                                                                                                                
-# Get paths an related things from current environment                                                                         
-# note: we cannot avoid those due to non-standard system setups                                                                
-getenv = dict()                                                                                                                
-for key in ['PATH', 'HOME', 'LD_LIBRARY_PATH'] :                                                                               
-    try:                                                                                                                       
-        getenv[key] = os.environ[key]                                                                                          
-    except KeyError:                                                                                                           
-        pass                                                                                                                   
+# Get paths and related things from current environment os.environ                                                             
+# note: We cannot avoid those due to non-standard system setups,                                                               
+#       also we do not know which variables are used in general                                                                
                                                                                                                                
-                                                                                                                               
-env = Environment(ENV = getenv, options = opts, tools = tools, toolpath = '.')                                                 
+env = Environment(ENV = os.environ, options = opts, tools = tools,                                                             
+                  toolpath = '.')                                                                                              
                                                                                                                                
 env['RPATH'] = env.Literal('\\$$ORIGIN/') 
```

On the other hand, there are variables like `CFLAGS`, `LDFLAGS`... Those are not used by the compiler directly, but by `make`-based build systems. So we have to tell `scons` what we intended with them. For instance, we have to add a line like the following to the configuration file `custom.py` in the spkg:

```python
CXXFLAGS=os.environ['CXXFLAGS']
```



---

archive/issue_comments_125496.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIt turned out that the build (and partially \"Configure\", by not finding the GD and M4RI libraries) was broken for me just because **`LIBRARY_PATH`** was missing in the environment set up by (or for) `SConstruct`.\n\nSo using\n\n```python\nenv = Environment(ENV = os.environ, options = opts, tools = tools,                                                             \n                  toolpath = '.')\n```\n(in `SConstruct`) would work for me, as well as just adding `LIBRARY_PATH` to the \"exported\" environment variables.\n\nAnother option is to add all the directories from `LIBRARY_PATH` to `LIBPATH` (in `custom.py`):\n\n```python\nif os.environ.has_key(\"LIBRARY_PATH\"): \n    LIBPATH += os.environ[\"LIBRARY_PATH\"].split(os.pathsep)\n```\n\n(Cf. [comment:ticket:11575:131 this comment] at #11575.)\n\n\n\n\nIt's in general of course not bad to export (and/or make use of) other standard environment variables, like `CFLAGS` etc., too, as mentioned in the ticket's description.",
    "created_at": "2011-10-08T02:51:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125496",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:3" align="right">comment:3</div>

It turned out that the build (and partially "Configure", by not finding the GD and M4RI libraries) was broken for me just because **`LIBRARY_PATH`** was missing in the environment set up by (or for) `SConstruct`.

So using

```python
env = Environment(ENV = os.environ, options = opts, tools = tools,                                                             
                  toolpath = '.')
```
(in `SConstruct`) would work for me, as well as just adding `LIBRARY_PATH` to the "exported" environment variables.

Another option is to add all the directories from `LIBRARY_PATH` to `LIBPATH` (in `custom.py`):

```python
if os.environ.has_key("LIBRARY_PATH"): 
    LIBPATH += os.environ["LIBRARY_PATH"].split(os.pathsep)
```

(Cf. [comment:ticket:11575:131 this comment] at #11575.)




It's in general of course not bad to export (and/or make use of) other standard environment variables, like `CFLAGS` etc., too, as mentioned in the ticket's description.



---

archive/issue_comments_125497.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nReplying to [@nexttime](#comment:3):\n> It's in general of course not bad to export (and/or make use of) other standard environment variables, like `CFLAGS` etc., too, as mentioned in the ticket's description.\n\nYeah, this will be default now in 0.8.1. We change here one crucial paradigm (better explicit than implict variable import). But since one cannot know all set ups, this is the best was to do.\n\nI'll prepare new spkgs soon.",
    "created_at": "2011-10-08T19:11:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125497",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:4" align="right">comment:4</div>

Replying to [@nexttime](#comment:3):
> It's in general of course not bad to export (and/or make use of) other standard environment variables, like `CFLAGS` etc., too, as mentioned in the ticket's description.

Yeah, this will be default now in 0.8.1. We change here one crucial paradigm (better explicit than implict variable import). But since one cannot know all set ups, this is the best was to do.

I'll prepare new spkgs soon.



---

archive/issue_events_160588.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-08T19:11:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160588"
}
```



---

archive/issue_comments_125498.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\n`SPKG.txt` should have a *Special Update/Build Instructions* section (e.g. mentioning that some upstream parts should get deleted, cf. #9472).\n\nAlso, `spkg/standard/deps` have been fixed long ago to make PolyBoRi also depend on GD; cf. #9712. (I.e., the FIXME note in `SPKG.txt` should also be removed.)",
    "created_at": "2011-10-08T20:54:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125498",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:5" align="right">comment:5</div>

`SPKG.txt` should have a *Special Update/Build Instructions* section (e.g. mentioning that some upstream parts should get deleted, cf. #9472).

Also, `spkg/standard/deps` have been fixed long ago to make PolyBoRi also depend on GD; cf. #9712. (I.e., the FIXME note in `SPKG.txt` should also be removed.)



---

archive/issue_comments_125499.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nHere the updates spkg for the 0.7 series.\nhttp://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg\nPolyBoRi 0.8 will follow soon.",
    "created_at": "2011-10-08T21:36:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125499",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:6" align="right">comment:6</div>

Here the updates spkg for the 0.7 series.
http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg
PolyBoRi 0.8 will follow soon.



---

archive/issue_comments_125500.json:
```json
{
    "body": "Changed dependencies from **#11575** to **#11756**",
    "created_at": "2011-10-08T22:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125500",
    "user": "https://github.com/alexanderdreyer"
}
```

Changed dependencies from **#11575** to **#11756**



---

archive/issue_events_160589.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-08T22:17:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160589"
}
```



---

archive/issue_events_160590.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-08T22:17:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160590"
}
```



---

archive/issue_comments_125501.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nDelivering a fix for polybori 0.7.1 this ticket should depend on #11756. I'll open another ticket for 0.8.",
    "created_at": "2011-10-08T22:17:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125501",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:7" align="right">comment:7</div>

Delivering a fix for polybori 0.7.1 this ticket should depend on #11756. I'll open another ticket for 0.8.



---

archive/issue_events_160591.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-08T22:17:37Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "title_is": "PolyBoRi 0.7.1 should obey some standard environment variables",
    "title_was": "PolyBoRi should obey some standard environment variables",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160591"
}
```



---

archive/issue_comments_125502.json:
```json
{
    "body": "Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2011-10-08T22:23:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125502",
    "user": "https://github.com/alexanderdreyer"
}
```

Changed upstream from **Not yet reported upstream; Will do shortly.** to **Fixed upstream, in a later stable release.**



---

archive/issue_comments_125503.json:
```json
{
    "body": "Author: **AlexanderDreyer**",
    "created_at": "2011-10-08T22:23:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125503",
    "user": "https://github.com/alexanderdreyer"
}
```

Author: **AlexanderDreyer**



---

archive/issue_comments_125504.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,6 @@\n \n The following environment variables should be exported to PolyBoRi's build environment:\n `LD_LIBRARY_PATH LIBRARY_PATH LD_RUN_PATH DYLD_RUN_PATH`\n+\n+### Current patches/spkg\n+* **Install** http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg\n``````\n",
    "created_at": "2011-10-08T23:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125504",
    "user": "https://github.com/alexanderdreyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,6 @@
 
 The following environment variables should be exported to PolyBoRi's build environment:
 `LD_LIBRARY_PATH LIBRARY_PATH LD_RUN_PATH DYLD_RUN_PATH`
+
+### Current patches/spkg
+* **Install** http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg
``````




---

archive/issue_comments_125505.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,10 +4,12 @@\n `CC CXX SAGESOFLAGS PYTHONHOME SAGE_LOCAL`\n \n Yet, the following standard environment variables are not utilized in PolyBoRi's build process:\n-`CFLAGS CXXFLAGS CPPFLAGS LDFLAGS ABI CPP`\n+`CFLAGS CXXFLAGS CPPFLAGS LDFLAGS`\n \n The following environment variables should be exported to PolyBoRi's build environment:\n `LD_LIBRARY_PATH LIBRARY_PATH LD_RUN_PATH DYLD_RUN_PATH`\n \n+In addition the previous installation is only deleted after a successful build.\n+\n ### Current patches/spkg\n * **Install** http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg\n``````\n",
    "created_at": "2011-10-09T21:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125505",
    "user": "https://github.com/alexanderdreyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,10 +4,12 @@
 `CC CXX SAGESOFLAGS PYTHONHOME SAGE_LOCAL`
 
 Yet, the following standard environment variables are not utilized in PolyBoRi's build process:
-`CFLAGS CXXFLAGS CPPFLAGS LDFLAGS ABI CPP`
+`CFLAGS CXXFLAGS CPPFLAGS LDFLAGS`
 
 The following environment variables should be exported to PolyBoRi's build environment:
 `LD_LIBRARY_PATH LIBRARY_PATH LD_RUN_PATH DYLD_RUN_PATH`
 
+In addition the previous installation is only deleted after a successful build.
+
 ### Current patches/spkg
 * **Install** http://boxen.math.washington.edu/home/dreyer/spkg/polybori-0.7.1.p7.spkg
``````




---

archive/issue_comments_125506.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nSince I had to backport another patch from 0.8 (prepend local paths), I rebundled another spkg (at the same place above).",
    "created_at": "2011-10-09T21:24:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125506",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:10" align="right">comment:10</div>

Since I had to backport another patch from 0.8 (prepend local paths), I rebundled another spkg (at the same place above).



---

archive/issue_comments_125507.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nNote the corresponding ticket for 0.8 is #11909.",
    "created_at": "2011-10-09T21:58:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125507",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:11" align="right">comment:11</div>

Note the corresponding ticket for 0.8 is #11909.



---

archive/issue_comments_125508.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThe new spkg builds, installs and passes all tests on SuSE 11 amd64 and OS X 10.5 ppc.",
    "created_at": "2011-10-10T21:05:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125508",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:12" align="right">comment:12</div>

The new spkg builds, installs and passes all tests on SuSE 11 amd64 and OS X 10.5 ppc.



---

archive/issue_comments_125509.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@alexanderdreyer](#comment:12):\n> The new spkg builds, installs and passes all tests on **SuSE 11** [...]\n\nIn that case, you could also give the new readline 6.2 spkg at #11882 a try... :P\n\n(We couldn't yet test it on OpenSUSE, i.e. nobody had access to an OpenSUSE system; I'm pretty sure the work-around is meanwhile obsolete such that we should remove or disable it.  I've only tested it on SLES 11.1 where the work-around -- more or less incidentally -- isn't applied.)",
    "created_at": "2011-10-10T22:54:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125509",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@alexanderdreyer](#comment:12):
> The new spkg builds, installs and passes all tests on **SuSE 11** [...]

In that case, you could also give the new readline 6.2 spkg at #11882 a try... :P

(We couldn't yet test it on OpenSUSE, i.e. nobody had access to an OpenSUSE system; I'm pretty sure the work-around is meanwhile obsolete such that we should remove or disable it.  I've only tested it on SLES 11.1 where the work-around -- more or less incidentally -- isn't applied.)



---

archive/issue_comments_125510.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@nexttime](#comment:13):\n> In that case, you could also give the new readline 6.2 spkg at #11882 a try... :P\n\nIf works fine!\n\n> (We couldn't yet test it on OpenSUSE, i.e. nobody had access to an OpenSUSE system; I'm pretty sure the work-around is meanwhile obsolete such that we should remove or disable it.  I've only tested it on SLES 11.1 where the work-around -- more or less incidentally -- isn't applied.)\n\nOpenSuSE 11.1 and SLES 11 are binary compatible. But it makes a difference whether SP1 was applied to one of them. (I would recomment to apply the service pack anyway.)",
    "created_at": "2011-10-11T09:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125510",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@nexttime](#comment:13):
> In that case, you could also give the new readline 6.2 spkg at #11882 a try... :P

If works fine!

> (We couldn't yet test it on OpenSUSE, i.e. nobody had access to an OpenSUSE system; I'm pretty sure the work-around is meanwhile obsolete such that we should remove or disable it.  I've only tested it on SLES 11.1 where the work-around -- more or less incidentally -- isn't applied.)

OpenSuSE 11.1 and SLES 11 are binary compatible. But it makes a difference whether SP1 was applied to one of them. (I would recomment to apply the service pack anyway.)



---

archive/issue_events_160592.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-11T09:24:21Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160592"
}
```



---

archive/issue_events_160593.json:
```json
{
    "actor": "https://github.com/alexanderdreyer",
    "created_at": "2011-10-11T09:31:23Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "subject": "https://github.com/alexanderdreyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160593"
}
```



---

archive/issue_comments_125511.json:
```json
{
    "body": "Milestone sage-4.7.3 deleted",
    "created_at": "2011-11-03T16:14:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125511",
    "user": "https://github.com/jdemeyer"
}
```

Milestone sage-4.7.3 deleted



---

archive/issue_events_160594.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-11-03T16:14:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "milestone_number": null,
    "milestone_title": "sage-4.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160594"
}
```



---

archive/issue_events_160595.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T10:14:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160595"
}
```



---

archive/issue_events_160596.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T10:14:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160596"
}
```



---

archive/issue_events_160597.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T10:14:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160597"
}
```



---

archive/issue_comments_125512.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nHow does this relate to #12750 and #12655?",
    "created_at": "2012-04-02T10:14:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125512",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:17" align="right">comment:17</div>

How does this relate to #12750 and #12655?



---

archive/issue_comments_125513.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@jdemeyer](#comment:17):\n> How does this relate to #12750 and #12655?\n\nThe fix was merge upstream into the 0.8.1 branch, so #12655 includes it. #12750 only partially (`CXXFLAGS` etc.).",
    "created_at": "2012-04-02T14:51:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125513",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@jdemeyer](#comment:17):
> How does this relate to #12750 and #12655?

The fix was merge upstream into the 0.8.1 branch, so #12655 includes it. #12750 only partially (`CXXFLAGS` etc.).



---

archive/issue_comments_125514.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI'd suggest that I provide a new polybori.0.8.0.p3.spkg with the environment patch in #11909, but not for #12655 (0.8.1).",
    "created_at": "2012-04-02T14:54:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125514",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:19" align="right">comment:19</div>

I'd suggest that I provide a new polybori.0.8.0.p3.spkg with the environment patch in #11909, but not for #12655 (0.8.1).



---

archive/issue_comments_125515.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@alexanderdreyer](#comment:19):\n> I'd suggest that I provide a new polybori.0.8.0.p3.spkg with the environment patch in #11909, but not for #12655 (0.8.1).\n\nIf #12655 already includes the patch, I don't see the need to do this.\n\nWhy not close this ticket as duplicate of #12655?",
    "created_at": "2012-04-02T15:01:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125515",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@alexanderdreyer](#comment:19):
> I'd suggest that I provide a new polybori.0.8.0.p3.spkg with the environment patch in #11909, but not for #12655 (0.8.1).

If #12655 already includes the patch, I don't see the need to do this.

Why not close this ticket as duplicate of #12655?



---

archive/issue_comments_125516.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@jdemeyer](#comment:20):\n> Why not close this ticket as duplicate of #12655?\n\nI'm fine with that. (In fact, I'd prefer resolving as duplicate, since that issue is really obsolete now.)",
    "created_at": "2012-04-02T18:17:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125516",
    "user": "https://github.com/alexanderdreyer"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@jdemeyer](#comment:20):
> Why not close this ticket as duplicate of #12655?

I'm fine with that. (In fact, I'd prefer resolving as duplicate, since that issue is really obsolete now.)



---

archive/issue_comments_125517.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer, Alexander Dreyer**",
    "created_at": "2012-04-02T21:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125517",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer, Alexander Dreyer**



---

archive/issue_events_160598.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:08:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160598"
}
```



---

archive/issue_events_160599.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:08:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160599"
}
```



---

archive/issue_events_160600.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:08:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160600"
}
```



---

archive/issue_events_160601.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:08:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160601"
}
```



---

archive/issue_events_160602.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:08:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160602"
}
```



---

archive/issue_comments_125518.json:
```json
{
    "body": "Changed author from **AlexanderDreyer** to none",
    "created_at": "2012-04-02T21:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125518",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **AlexanderDreyer** to none



---

archive/issue_events_160603.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-04-02T21:08:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11906#event-160603"
}
```



---

archive/issue_comments_125519.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nWell, this ticket isn't really a duplicate of #12655, it's just (more or less incidentally) superseded by #12655, since upstream also fixed this in the later release.\n\nSo until we've upgraded PolyBoRi to 0.8.1 (for other reasons as well), this is still an open issue, although not with PolyBoRi 0.7.1, but 0.8.0, our current spkg.  **#11909** addresses this... :-)",
    "created_at": "2012-04-02T22:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11906",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11906#issuecomment-125519",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:23" align="right">comment:23</div>

Well, this ticket isn't really a duplicate of #12655, it's just (more or less incidentally) superseded by #12655, since upstream also fixed this in the later release.

So until we've upgraded PolyBoRi to 0.8.1 (for other reasons as well), this is still an open issue, although not with PolyBoRi 0.7.1, but 0.8.0, our current spkg.  **#11909** addresses this... :-)
