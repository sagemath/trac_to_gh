# Issue 11236: Fix _test_eq for Python 2.7

archive/issues_011064.json:
```json
{
    "body": "In Python 2.7, AssertEqual / AssertNonEqual call directly == and != a bit differently. So in Parent._test_eq, one is better of calling explicitly != and ==.\n\n**Assignee:** mvngu\n\n**Resolution:** fixed\n\n**Author:** Nicolas M. Thi\u00e9ry\n\n**Reviewer:** Fran\u00e7ois Bissey\n\n**Merged:** sage-4.7.1.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/11236\n\n",
    "closed_at": "2011-05-03T12:30:38Z",
    "created_at": "2011-04-21T22:59:38Z",
    "labels": [
        "component: doctest coverage",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "Fix _test_eq for Python 2.7",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11236",
    "user": "https://github.com/nthiery"
}
```
In Python 2.7, AssertEqual / AssertNonEqual call directly == and != a bit differently. So in Parent._test_eq, one is better of calling explicitly != and ==.

**Assignee:** mvngu

**Resolution:** fixed

**Author:** Nicolas M. Thiéry

**Reviewer:** François Bissey

**Merged:** sage-4.7.1.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/11236





---

archive/issue_comments_152696.json:
```json
{
    "body": "<a id='comment:1'></a>\nI am doing a build of python-2.7 sage-4.7.alpha5 right now. I assume you tested that it was safe with python-2.6 (I will run a check on a vanilla install in any case).",
    "created_at": "2011-04-22T03:50:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152696",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:1'></a>
I am doing a build of python-2.7 sage-4.7.alpha5 right now. I assume you tested that it was safe with python-2.6 (I will run a check on a vanilla install in any case).



---

archive/issue_comments_152697.json:
```json
{
    "body": "<a id='comment:2'></a>\n\n```\nsage -t -long -force_lib \"devel/sage-main/sage/structure/parent.pyx\"\n         [21.7 s]\n \n----------------------------------------------------------------------\nAll tests passed!\n```\nsage-on-gentoo 4.7.alpha5 with python-2.7.1. vanilla sage coming.",
    "created_at": "2011-04-22T04:58:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152697",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>

```
sage -t -long -force_lib "devel/sage-main/sage/structure/parent.pyx"
         [21.7 s]
 
----------------------------------------------------------------------
All tests passed!
```
sage-on-gentoo 4.7.alpha5 with python-2.7.1. vanilla sage coming.



---

archive/issue_comments_152698.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-04-22T05:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152698",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_152699.json:
```json
{
    "body": "<a id='comment:3'></a>\nTested on vanilla sage (4.7.alpha1) and tests passed. Positive review from me.",
    "created_at": "2011-04-22T05:04:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152699",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'></a>
Tested on vanilla sage (4.7.alpha1) and tests passed. Positive review from me.



---

archive/issue_comments_152700.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-04-22T05:05:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152700",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_152701.json:
```json
{
    "body": "<a id='comment:5'></a>\nSorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.",
    "created_at": "2011-04-23T09:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152701",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'></a>
Sorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.



---

archive/issue_comments_152702.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2011-04-23T09:02:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152702",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from positive_review to needs_work.



---

archive/issue_comments_152703.json:
```json
{
    "body": "Attachment [trac_11236-test_eq_for_python_2_7-nt.patch](tarball://root/attachments/some-uuid/ticket11236/trac_11236-test_eq_for_python_2_7-nt.patch) by @nthiery created at 2011-04-23 09:27:18",
    "created_at": "2011-04-23T09:27:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152703",
    "user": "https://github.com/nthiery"
}
```

Attachment [trac_11236-test_eq_for_python_2_7-nt.patch](tarball://root/attachments/some-uuid/ticket11236/trac_11236-test_eq_for_python_2_7-nt.patch) by @nthiery created at 2011-04-23 09:27:18



---

archive/issue_comments_152704.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [fbissey](#comment%3A5):\n> Sorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.\n\n\nVoil\u00e0!\n\nSo much for me not finding a way to avoid the code duplication between Parent and Element :-)",
    "created_at": "2011-04-23T09:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152704",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
Replying to [fbissey](#comment%3A5):
> Sorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.


Voilà!

So much for me not finding a way to avoid the code duplication between Parent and Element :-)



---

archive/issue_comments_152705.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2011-04-23T09:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152705",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_152706.json:
```json
{
    "body": "<a id='comment:7'></a>\nThat's great! It's a bit late in the day for me to test it but we'll probably be back at positive review tomorrow.",
    "created_at": "2011-04-23T09:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152706",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>
That's great! It's a bit late in the day for me to test it but we'll probably be back at positive review tomorrow.



---

archive/issue_comments_152707.json:
```json
{
    "body": "<a id='comment:8'></a>\nOk it worked like a charm. Back to positive review.",
    "created_at": "2011-04-24T02:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152707",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
Ok it worked like a charm. Back to positive review.



---

archive/issue_comments_152708.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2011-04-24T02:00:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152708",
    "user": "https://github.com/kiwifb"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_152709.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2011-05-03T12:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152709",
    "user": "https://github.com/jdemeyer"
}
```

**Resolution:** fixed



---

archive/issue_events_034610.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T12:30:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11236#event-34610"
}
```



---

archive/issue_comments_152710.json:
```json
{
    "body": "**Merged:** sage-4.7.1.alpha0",
    "created_at": "2011-05-03T12:30:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11236#issuecomment-152710",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-4.7.1.alpha0
