# Issue 11236: Fix _test_eq for Python 2.7

archive/issues_011064.json:
```json
{
    "assignees": [],
    "body": "In Python 2.7, AssertEqual / AssertNonEqual call directly == and != a bit differently. So in Parent._test_eq, one is better of calling explicitly != and ==.\n\nAssignee: **mvngu**\n\nAuthor: **Nicolas M. Thi\u00e9ry**\n\nReviewer: **Fran\u00e7ois Bissey**\n\nMerged: **sage-4.7.1.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11236_\n\n",
    "closed_at": "2011-05-03T12:30:38Z",
    "created_at": "2011-04-21T22:59:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/doctest%20coverage",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Fix _test_eq for Python 2.7",
    "type": "issue",
    "updated_at": "2011-05-03T12:30:38Z",
    "url": "https://github.com/sagemath/sage/issues/11236",
    "user": "https://github.com/nthiery"
}
```
In Python 2.7, AssertEqual / AssertNonEqual call directly == and != a bit differently. So in Parent._test_eq, one is better of calling explicitly != and ==.

Assignee: **mvngu**

Author: **Nicolas M. Thiéry**

Reviewer: **François Bissey**

Merged: **sage-4.7.1.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/11236_





---

archive/issue_events_131406.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T22:59:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "milestone_number": null,
    "milestone_title": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131406"
}
```



---

archive/issue_events_131407.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T22:59:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/doctest%20coverage",
    "label_color": "696969",
    "label_name": "doctest coverage",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131407"
}
```



---

archive/issue_events_131408.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T22:59:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131408"
}
```



---

archive/issue_events_131409.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-21T22:59:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131409"
}
```



---

archive/issue_comments_114372.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI am doing a build of python-2.7 sage-4.7.alpha5 right now. I assume you tested that it was safe with python-2.6 (I will run a check on a vanilla install in any case).",
    "created_at": "2011-04-22T03:50:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114372",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:1'>Comment 1:</a>
I am doing a build of python-2.7 sage-4.7.alpha5 right now. I assume you tested that it was safe with python-2.6 (I will run a check on a vanilla install in any case).



---

archive/issue_comments_114373.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\n\n```\nsage -t -long -force_lib \"devel/sage-main/sage/structure/parent.pyx\"\n         [21.7 s]\n \n----------------------------------------------------------------------\nAll tests passed!\n```\nsage-on-gentoo 4.7.alpha5 with python-2.7.1. vanilla sage coming.",
    "created_at": "2011-04-22T04:58:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114373",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'>Comment 2:</a>

```
sage -t -long -force_lib "devel/sage-main/sage/structure/parent.pyx"
         [21.7 s]
 
----------------------------------------------------------------------
All tests passed!
```
sage-on-gentoo 4.7.alpha5 with python-2.7.1. vanilla sage coming.



---

archive/issue_events_131410.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-22T05:04:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131410"
}
```



---

archive/issue_comments_114374.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nTested on vanilla sage (4.7.alpha1) and tests passed. Positive review from me.",
    "created_at": "2011-04-22T05:04:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114374",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:3'>Comment 3:</a>
Tested on vanilla sage (4.7.alpha1) and tests passed. Positive review from me.



---

archive/issue_events_131411.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-22T05:05:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131411"
}
```



---

archive/issue_events_131412.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-22T05:05:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131412"
}
```



---

archive/issue_comments_114375.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nSorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.",
    "created_at": "2011-04-23T09:02:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114375",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:5'>Comment 5:</a>
Sorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.



---

archive/issue_events_131413.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-23T09:02:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131413"
}
```



---

archive/issue_events_131414.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-23T09:02:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131414"
}
```



---

archive/issue_comments_114376.json:
```json
{
    "body": "Attachment: **[trac_11236-test_eq_for_python_2_7-nt.patch.gz](https://github.com/sagemath/sage/files/ticket11236/trac_11236-test_eq_for_python_2_7-nt.patch.gz)**",
    "created_at": "2011-04-23T09:27:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114376",
    "user": "https://github.com/nthiery"
}
```

Attachment: **[trac_11236-test_eq_for_python_2_7-nt.patch.gz](https://github.com/sagemath/sage/files/ticket11236/trac_11236-test_eq_for_python_2_7-nt.patch.gz)**



---

archive/issue_comments_114377.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@kiwifb](#comment%3A5):\n> Sorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.\n\nVoil\u00e0!\n\nSo much for me not finding a way to avoid the code duplication between Parent and Element :-)",
    "created_at": "2011-04-23T09:28:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114377",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@kiwifb](#comment%3A5):
> Sorry not in my initial post because I missed it but sage/structure/element.pyx has exactly the same test and problem. I don't think there are any other instance but I'll check again. It looks so much the same that you would think the patch for parent.pyx would just apply with some fuzz.

Voilà!

So much for me not finding a way to avoid the code duplication between Parent and Element :-)



---

archive/issue_events_131415.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T09:28:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131415"
}
```



---

archive/issue_events_131416.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-04-23T09:28:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131416"
}
```



---

archive/issue_comments_114378.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThat's great! It's a bit late in the day for me to test it but we'll probably be back at positive review tomorrow.",
    "created_at": "2011-04-23T09:35:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114378",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'>Comment 7:</a>
That's great! It's a bit late in the day for me to test it but we'll probably be back at positive review tomorrow.



---

archive/issue_comments_114379.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nOk it worked like a charm. Back to positive review.",
    "created_at": "2011-04-24T02:00:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114379",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'>Comment 8:</a>
Ok it worked like a charm. Back to positive review.



---

archive/issue_events_131417.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-24T02:00:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131417"
}
```



---

archive/issue_events_131418.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2011-04-24T02:00:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131418"
}
```



---

archive/issue_events_131419.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T12:30:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131419"
}
```



---

archive/issue_events_131420.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-03T12:30:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11236#event-131420"
}
```



---

archive/issue_comments_114380.json:
```json
{
    "body": "Merged: **sage-4.7.1.alpha0**",
    "created_at": "2011-05-03T12:30:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11236",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11236#issuecomment-114380",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-4.7.1.alpha0**
