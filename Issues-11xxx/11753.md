# Issue 11753: Fix step=0 in (x)srange

archive/issues_011581.json:
```json
{
    "body": "The following command \n\n```\nplot(x,3,3)\n```\ngenerates the following error:\n\n```\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"_sage_input_4.py\", line 10, in <module>\n    exec compile(u'open(\"___code___.py\",\"w\").write(\"# -*- coding: utf-8 -*-\\\\n\" + _support_.preparse_worksheet_cell(base64.b64decode(\"cGxvdCh4LDMsMyk=\"),globals())+\"\\\\n\"); execfile(os.path.abspath(\"___code___.py\"))\n  File \"\", line 1, in <module>\n    \n  File \"/tmp/tmpezK4rJ/___code___.py\", line 3, in <module>\n    exec compile(u'plot(x,_sage_const_3 ,_sage_const_3 )\n  File \"\", line 1, in <module>\n    \n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py\", line 573, in wrapper\n    return func(*args, **kwds)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py\", line 432, in wrapper\n    return func(*args, **options)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py\", line 3032, in plot\n    G = funcs.plot(*args, **original_opts)\n  File \"expression.pyx\", line 8023, in sage.symbolic.expression.Expression.plot (sage/symbolic/expression.cpp:31185)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py\", line 573, in wrapper\n    return func(*args, **kwds)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py\", line 432, in wrapper\n    return func(*args, **options)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py\", line 3051, in plot\n    G = _plot(funcs, (xmin, xmax), *args, **kwds)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py\", line 3154, in _plot\n    data = generate_plot_points(f, xrange, plot_points, adaptive_tolerance, adaptive_recursion, randomize)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py\", line 4154, in generate_plot_points\n    data = srange(*ranges[0], include_endpoint=True)\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/misc.py\", line 1149, in srange\n    L = list(xsrange(start,end,step,universe,check,include_endpoint,endpoint_tolerance))\n  File \"/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/misc.py\", line 1236, in xsrange\n    count = (end-start)/step\nZeroDivisionError: float division\n```\nThe error seems to be in [`x`]`srange()` in `sage/misc/misc.py`. Attached is a patch which raises a `ValueError` when the start point and end point of a plot are the same. The patches are to `sage/{misc,plot}/misc.py` and `sage/plot/plot.py`.\n\nI forgot to mention earlier: The errors that are generated with this patch for [`x`]`srange()` are essentially the same errors that Python gives when [`x`]`range()` is called with step 0.\n\n---\n\nApply only [attachment:11753-fix_div_by_zero.patch] to the Sage library.\n\n\nAssignee: jason, was\n\nCC:  @jasongrout dsm\n\nKeywords: srange xsrange division_by_zero\n\nResolution: fixed\n\nAuthor: Punarbasu Purkayastha\n\nReviewer: Dmitrii Pasechnik\n\nMerged: sage-4.7.2.alpha3\n\nIssue created by migration from https://trac.sagemath.org/ticket/11753\n\n",
    "closed_at": "2011-09-28T21:19:55Z",
    "created_at": "2011-08-27T20:26:59Z",
    "labels": [
        "component: graphics",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.2",
    "title": "Fix step=0 in (x)srange",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11753",
    "user": "https://github.com/ppurka"
}
```
The following command 

```
plot(x,3,3)
```
generates the following error:

```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "_sage_input_4.py", line 10, in <module>
    exec compile(u'open("___code___.py","w").write("# -*- coding: utf-8 -*-\\n" + _support_.preparse_worksheet_cell(base64.b64decode("cGxvdCh4LDMsMyk="),globals())+"\\n"); execfile(os.path.abspath("___code___.py"))
  File "", line 1, in <module>
    
  File "/tmp/tmpezK4rJ/___code___.py", line 3, in <module>
    exec compile(u'plot(x,_sage_const_3 ,_sage_const_3 )
  File "", line 1, in <module>
    
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py", line 573, in wrapper
    return func(*args, **kwds)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py", line 432, in wrapper
    return func(*args, **options)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py", line 3032, in plot
    G = funcs.plot(*args, **original_opts)
  File "expression.pyx", line 8023, in sage.symbolic.expression.Expression.plot (sage/symbolic/expression.cpp:31185)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py", line 573, in wrapper
    return func(*args, **kwds)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/decorators.py", line 432, in wrapper
    return func(*args, **options)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py", line 3051, in plot
    G = _plot(funcs, (xmin, xmax), *args, **kwds)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py", line 3154, in _plot
    data = generate_plot_points(f, xrange, plot_points, adaptive_tolerance, adaptive_recursion, randomize)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/plot/plot.py", line 4154, in generate_plot_points
    data = srange(*ranges[0], include_endpoint=True)
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/misc.py", line 1149, in srange
    L = list(xsrange(start,end,step,universe,check,include_endpoint,endpoint_tolerance))
  File "/home/punarbasu/Installations/sage-4.7/local/lib/python2.6/site-packages/sage/misc/misc.py", line 1236, in xsrange
    count = (end-start)/step
ZeroDivisionError: float division
```
The error seems to be in [`x`]`srange()` in `sage/misc/misc.py`. Attached is a patch which raises a `ValueError` when the start point and end point of a plot are the same. The patches are to `sage/{misc,plot}/misc.py` and `sage/plot/plot.py`.

I forgot to mention earlier: The errors that are generated with this patch for [`x`]`srange()` are essentially the same errors that Python gives when [`x`]`range()` is called with step 0.

---

Apply only [attachment:11753-fix_div_by_zero.patch] to the Sage library.


Assignee: jason, was

CC:  @jasongrout dsm

Keywords: srange xsrange division_by_zero

Resolution: fixed

Author: Punarbasu Purkayastha

Reviewer: Dmitrii Pasechnik

Merged: sage-4.7.2.alpha3

Issue created by migration from https://trac.sagemath.org/ticket/11753





---

archive/issue_comments_165171.json:
```json
{
    "body": "<a id='comment:1'></a>\nThanks for catching this.   I'll try to take a look at this sometime, though not immediately.  cc:ing a couple of other people who might be interested.    \n\nA few comments: \n* Is this new behavior always desirable?  \n* Might we want to catch this in plot, rather than 'fixing' misc?\n* Are there any other places this might cause problems?  (E.g., do all doctests pass with this?)\n\nI don't know the answers to these questions; this might really be the right fix, but I just want to be careful.",
    "created_at": "2011-08-31T03:11:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165171",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>
Thanks for catching this.   I'll try to take a look at this sometime, though not immediately.  cc:ing a couple of other people who might be interested.    

A few comments: 
* Is this new behavior always desirable?  
* Might we want to catch this in plot, rather than 'fixing' misc?
* Are there any other places this might cause problems?  (E.g., do all doctests pass with this?)

I don't know the answers to these questions; this might really be the right fix, but I just want to be careful.



---

archive/issue_comments_165172.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [kcrisman](#comment%3A1):\n> A few comments: \n> * Is this new behavior always desirable?  \n\n\nHaving a step size of 1 should produce an empty list if the start and end points are the same, or a single element if include_endpoint=True. This patch doesn't change either of those conditions. In any other case, the step will always be strictly non-zero and the if condition in this patch will not be executed.\n\n>  * Might we want to catch this in plot, rather than 'fixing' misc?\n\n\nIt could be fixed in plot. I had a look at the plot function, and it seems to be a generic function which passes on the arguments to other individual plot functions (func.plot(), iirc). So, *all* those plot functions will have to be fixed.\n\n>  * Are there any other places this might cause problems?  (E.g., do all doctests pass with this?)\n\n\nI did do a doctest before submitting this bug report via\n\n```\n./sage -t devel/sage/sage/misc\n```\nand it passed all the tests.\n\nThe output (a rerun) is provided below:\n\n```\n..._10.04.1_lts-x86_64-Linux> ./sage -t -long devel/sage/sage/misc\nsage -t -long \"devel/sage/sage/misc/pager.py\"               \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/typecheck.py\"           \n\t [0.1 s]\nsage -t -long \"devel/sage/sage/misc/sh.py\"                  \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/sage_unittest.py\"       \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/lazy_format.py\"         \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/sage_timeit.py\"         \n\t [2.5 s]\nsage -t -long \"devel/sage/sage/misc/edit_module.py\"         \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/remote_file.py\"         \n\t [1.8 s]\nsage -t -long \"devel/sage/sage/misc/misc_c.pyx\"             \n\t [2.4 s]\nsage -t -long \"devel/sage/sage/misc/lazy_import_cache.py\"   \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/darwin_utilities.pyx\"   \n\t [1.8 s]\nsage -t -long \"devel/sage/sage/misc/benchmark.py\"           \n\t [5.0 s]\nsage -t -long \"devel/sage/sage/misc/sage_ostools.py\"        \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/bitset.pxi\"             \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/mrange.py\"              \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/test_class_pickling.py\" \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/bitset.pyx\"             \n\t [2.2 s]\nsage -t -long \"devel/sage/sage/misc/getusage.py\"            \n\t [2.4 s]\nsage -t -long \"devel/sage/sage/misc/functional.py\"          \n\t [25.2 s]\nsage -t -long \"devel/sage/sage/misc/exceptions.py\"          \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/hg.py\"                  \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/db.py\"                  \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/persist.py\"             \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/randstate.pyx\"          \n\t [34.0 s]\nsage -t -long \"devel/sage/sage/misc/nested_class_test.py\"   \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/function_mangling.pyx\"  \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/session.pyx\"            \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/sage_itertools.py\"      \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/func_persist.py\"        \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/flatten.py\"             \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/copying.py\"             \n\t [0.1 s]\nsage -t -long \"devel/sage/sage/misc/sage_eval.py\"           \n\t [2.8 s]\nsage -t -long \"devel/sage/sage/misc/__init__.py\"            \n\t [0.1 s]\nsage -t -long \"devel/sage/sage/misc/defaults.py\"            \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/random_testing.py\"      \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/sagex_ds.pyx\"           \n\t [2.1 s]\nsage -t -long \"devel/sage/sage/misc/misc.py\"                \n\t [9.9 s]\nsage -t -long \"devel/sage/sage/misc/mathml.py\"              \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/abstract_method.py\"     \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/parser.pyx\"             \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/prandom.py\"             \n\t [3.4 s]\nsage -t -long \"devel/sage/sage/misc/file_to_worksheet.py\"   \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/all.py\"                 \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/explain_pickle.py\"      \n\t [2.2 s]\nsage -t -long \"devel/sage/sage/misc/preparser_ipython.py\"   \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/sage_timeit_class.pyx\"  \n\t [7.5 s]\nsage -t -long \"devel/sage/sage/misc/lazy_attribute.py\"      \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/preparser.py\"           \n\t [8.0 s]\nsage -t -long \"devel/sage/sage/misc/derivative.pyx\"         \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/unknown.py\"             \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/cython.py\"              \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/multireplace.py\"        \n\t [1.8 s]\nsage -t -long \"devel/sage/sage/misc/cython_c.pyx\"           \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/profiler.py\"            \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/constant_function.py\"   \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/inline_fortran.py\"      \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/attach.py\"              \n\t [1.8 s]\nsage -t -long \"devel/sage/sage/misc/lazy_import.pyx\"        \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/method_decorator.py\"    \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/trace.py\"               \n\t [3.7 s]\nsage -t -long \"devel/sage/sage/misc/map_threaded.py\"        \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/bitset_pxd.pxi\"         \n\t [0.1 s]\nsage -t -long \"devel/sage/sage/misc/interpreter.py\"         \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/decorators.py\"          \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/refcount.pyx\"           \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/nested_class.py\"        \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/latex.py\"               \n\t [3.6 s]\nsage -t -long \"devel/sage/sage/misc/citation.pyx\"           \n\t [4.5 s]\nsage -t -long \"devel/sage/sage/misc/html.py\"                \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/python.py\"              \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/displayhook.py\"         \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/reset.pyx\"              \n\t [4.0 s]\nsage -t -long \"devel/sage/sage/misc/sage_input.py\"          \n\t [2.6 s]\nsage -t -long \"devel/sage/sage/misc/object_multiplexer.py\"  \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/allocator.pyx\"          \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/bug.py\"                 \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/package.py\"             \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/test_cpickle_sage.py\"   \n\t [0.1 s]\nsage -t -long \"devel/sage/sage/misc/proof.py\"               \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/fpickle.pyx\"            \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/sagedoc.py\"             \n\t [47.1 s]\nsage -t -long \"devel/sage/sage/misc/cachefunc.py\"           \n\t [4.6 s]\nsage -t -long \"devel/sage/sage/misc/classgraph.py\"          \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/sageinspect.py\"         \n\t [2.8 s]\nsage -t -long \"devel/sage/sage/misc/log.py\"                 \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/search.pyx\"             \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/dist.py\"                \n\t [2.1 s]\nsage -t -long \"devel/sage/sage/misc/classcall_metaclass.py\" \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/cache.py\"               \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/banner.py\"              \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/latex_macros.py\"        \n\t [1.9 s]\nsage -t -long \"devel/sage/sage/misc/viewer.py\"              \n\t [2.0 s]\nsage -t -long \"devel/sage/sage/misc/pickle_old.pyx\"         \n\t [1.9 s]\n \n----------------------------------------------------------------------\nAll tests passed!\nTotal time for all tests: 307.3 seconds\n```",
    "created_at": "2011-08-31T05:25:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165172",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:2'></a>
Replying to [kcrisman](#comment%3A1):
> A few comments: 
> * Is this new behavior always desirable?  


Having a step size of 1 should produce an empty list if the start and end points are the same, or a single element if include_endpoint=True. This patch doesn't change either of those conditions. In any other case, the step will always be strictly non-zero and the if condition in this patch will not be executed.

>  * Might we want to catch this in plot, rather than 'fixing' misc?


It could be fixed in plot. I had a look at the plot function, and it seems to be a generic function which passes on the arguments to other individual plot functions (func.plot(), iirc). So, *all* those plot functions will have to be fixed.

>  * Are there any other places this might cause problems?  (E.g., do all doctests pass with this?)


I did do a doctest before submitting this bug report via

```
./sage -t devel/sage/sage/misc
```
and it passed all the tests.

The output (a rerun) is provided below:

```
..._10.04.1_lts-x86_64-Linux> ./sage -t -long devel/sage/sage/misc
sage -t -long "devel/sage/sage/misc/pager.py"               
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/typecheck.py"           
	 [0.1 s]
sage -t -long "devel/sage/sage/misc/sh.py"                  
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/sage_unittest.py"       
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/lazy_format.py"         
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/sage_timeit.py"         
	 [2.5 s]
sage -t -long "devel/sage/sage/misc/edit_module.py"         
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/remote_file.py"         
	 [1.8 s]
sage -t -long "devel/sage/sage/misc/misc_c.pyx"             
	 [2.4 s]
sage -t -long "devel/sage/sage/misc/lazy_import_cache.py"   
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/darwin_utilities.pyx"   
	 [1.8 s]
sage -t -long "devel/sage/sage/misc/benchmark.py"           
	 [5.0 s]
sage -t -long "devel/sage/sage/misc/sage_ostools.py"        
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/bitset.pxi"             
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/mrange.py"              
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/test_class_pickling.py" 
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/bitset.pyx"             
	 [2.2 s]
sage -t -long "devel/sage/sage/misc/getusage.py"            
	 [2.4 s]
sage -t -long "devel/sage/sage/misc/functional.py"          
	 [25.2 s]
sage -t -long "devel/sage/sage/misc/exceptions.py"          
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/hg.py"                  
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/db.py"                  
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/persist.py"             
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/randstate.pyx"          
	 [34.0 s]
sage -t -long "devel/sage/sage/misc/nested_class_test.py"   
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/function_mangling.pyx"  
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/session.pyx"            
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/sage_itertools.py"      
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/func_persist.py"        
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/flatten.py"             
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/copying.py"             
	 [0.1 s]
sage -t -long "devel/sage/sage/misc/sage_eval.py"           
	 [2.8 s]
sage -t -long "devel/sage/sage/misc/__init__.py"            
	 [0.1 s]
sage -t -long "devel/sage/sage/misc/defaults.py"            
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/random_testing.py"      
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/sagex_ds.pyx"           
	 [2.1 s]
sage -t -long "devel/sage/sage/misc/misc.py"                
	 [9.9 s]
sage -t -long "devel/sage/sage/misc/mathml.py"              
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/abstract_method.py"     
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/parser.pyx"             
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/prandom.py"             
	 [3.4 s]
sage -t -long "devel/sage/sage/misc/file_to_worksheet.py"   
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/all.py"                 
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/explain_pickle.py"      
	 [2.2 s]
sage -t -long "devel/sage/sage/misc/preparser_ipython.py"   
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/sage_timeit_class.pyx"  
	 [7.5 s]
sage -t -long "devel/sage/sage/misc/lazy_attribute.py"      
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/preparser.py"           
	 [8.0 s]
sage -t -long "devel/sage/sage/misc/derivative.pyx"         
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/unknown.py"             
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/cython.py"              
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/multireplace.py"        
	 [1.8 s]
sage -t -long "devel/sage/sage/misc/cython_c.pyx"           
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/profiler.py"            
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/constant_function.py"   
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/inline_fortran.py"      
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/attach.py"              
	 [1.8 s]
sage -t -long "devel/sage/sage/misc/lazy_import.pyx"        
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/method_decorator.py"    
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/trace.py"               
	 [3.7 s]
sage -t -long "devel/sage/sage/misc/map_threaded.py"        
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/bitset_pxd.pxi"         
	 [0.1 s]
sage -t -long "devel/sage/sage/misc/interpreter.py"         
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/decorators.py"          
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/refcount.pyx"           
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/nested_class.py"        
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/latex.py"               
	 [3.6 s]
sage -t -long "devel/sage/sage/misc/citation.pyx"           
	 [4.5 s]
sage -t -long "devel/sage/sage/misc/html.py"                
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/python.py"              
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/displayhook.py"         
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/reset.pyx"              
	 [4.0 s]
sage -t -long "devel/sage/sage/misc/sage_input.py"          
	 [2.6 s]
sage -t -long "devel/sage/sage/misc/object_multiplexer.py"  
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/allocator.pyx"          
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/bug.py"                 
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/package.py"             
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/test_cpickle_sage.py"   
	 [0.1 s]
sage -t -long "devel/sage/sage/misc/proof.py"               
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/fpickle.pyx"            
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/sagedoc.py"             
	 [47.1 s]
sage -t -long "devel/sage/sage/misc/cachefunc.py"           
	 [4.6 s]
sage -t -long "devel/sage/sage/misc/classgraph.py"          
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/sageinspect.py"         
	 [2.8 s]
sage -t -long "devel/sage/sage/misc/log.py"                 
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/search.pyx"             
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/dist.py"                
	 [2.1 s]
sage -t -long "devel/sage/sage/misc/classcall_metaclass.py" 
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/cache.py"               
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/banner.py"              
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/latex_macros.py"        
	 [1.9 s]
sage -t -long "devel/sage/sage/misc/viewer.py"              
	 [2.0 s]
sage -t -long "devel/sage/sage/misc/pickle_old.pyx"         
	 [1.9 s]
 
----------------------------------------------------------------------
All tests passed!
Total time for all tests: 307.3 seconds
```



---

archive/issue_comments_165173.json:
```json
{
    "body": "Attachment [fix_div_by_zero.diff](tarball://root/attachments/some-uuid/ticket11753/fix_div_by_zero.diff) by @ppurka created at 2011-09-01 12:50:50\n\nNew patch which doesn't silently fail and actually raises an error. Fixes are in sage/misc/misc.py and sage/plot/{plot.py,misc.py}.",
    "created_at": "2011-09-01T12:50:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165173",
    "user": "https://github.com/ppurka"
}
```

Attachment [fix_div_by_zero.diff](tarball://root/attachments/some-uuid/ticket11753/fix_div_by_zero.diff) by @ppurka created at 2011-09-01 12:50:50

New patch which doesn't silently fail and actually raises an error. Fixes are in sage/misc/misc.py and sage/plot/{plot.py,misc.py}.



---

archive/issue_comments_165174.json:
```json
{
    "body": "<a id='comment:3'></a>\nAttached patch which patches srange() and xsrange() in devel/sage/sage/misc/misc.py and setup_for_eval_on_grid() in devel/sage/sage/plot/misc.py\n\nIn all the functions, the patch will now raise an error instead of silently failing.\n\nThe plot() command (and also plot3d()) both now give the a more meaningful error if the endpoint and startpoints in the range are the same.",
    "created_at": "2011-09-01T12:58:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165174",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:3'></a>
Attached patch which patches srange() and xsrange() in devel/sage/sage/misc/misc.py and setup_for_eval_on_grid() in devel/sage/sage/plot/misc.py

In all the functions, the patch will now raise an error instead of silently failing.

The plot() command (and also plot3d()) both now give the a more meaningful error if the endpoint and startpoints in the range are the same.



---

archive/issue_comments_165175.json:
```json
{
    "body": "<a id='comment:4'></a>\nPlease add `plot(x,3,3)` to the appropriate doctest, to show that the patch really does the trick.",
    "created_at": "2011-09-05T19:06:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165175",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
Please add `plot(x,3,3)` to the appropriate doctest, to show that the patch really does the trick.



---

archive/issue_comments_165176.json:
```json
{
    "body": "New doctest after adding doctests",
    "created_at": "2011-09-06T02:21:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165176",
    "user": "https://github.com/ppurka"
}
```

New doctest after adding doctests



---

archive/issue_comments_165177.json:
```json
{
    "body": "Attachment [sage-doctest.2.txt](tarball://root/attachments/some-uuid/ticket11753/sage-doctest.2.txt) by @ppurka created at 2011-09-06 02:21:22\n\nNew doctest after adding doctests",
    "created_at": "2011-09-06T02:21:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165177",
    "user": "https://github.com/ppurka"
}
```

Attachment [sage-doctest.2.txt](tarball://root/attachments/some-uuid/ticket11753/sage-doctest.2.txt) by @ppurka created at 2011-09-06 02:21:22

New doctest after adding doctests



---

archive/issue_comments_165178.json:
```json
{
    "body": "<a id='comment:5'></a>\nAttachment [sage-doctest.txt](tarball://root/attachments/some-uuid/ticket11753/sage-doctest.txt) by @ppurka created at 2011-09-06 02:45:38\n\nReplying to [dimpase](#comment%3A4):\n> Please add `plot(x,3,3)` to the appropriate doctest, to show that the patch really does the trick.\n\nUpdated the patch with doctests.",
    "created_at": "2011-09-06T02:45:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165178",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:5'></a>
Attachment [sage-doctest.txt](tarball://root/attachments/some-uuid/ticket11753/sage-doctest.txt) by @ppurka created at 2011-09-06 02:45:38

Replying to [dimpase](#comment%3A4):
> Please add `plot(x,3,3)` to the appropriate doctest, to show that the patch really does the trick.

Updated the patch with doctests.



---

archive/issue_comments_165179.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -39,5 +39,4 @@\n     count = (end-start)/step\n ZeroDivisionError: float division\n ```\n-The error seems to be in misc.py. Attached is a patch which simply sets **step** to the default value of 1 if it is found to be 0.\n-\n+The error seems to be in (x)srange in devel/sage/sage/misc/misc.py. Attached is a patch which raises a ValueError when the start point and end point of a plot are the same. The patches are to devel/sage/sage/{misc,plot}/misc.py and devel/sage/sage/plot/plot.py.\n``````\n",
    "created_at": "2011-09-06T04:26:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165179",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -39,5 +39,4 @@
     count = (end-start)/step
 ZeroDivisionError: float division
 ```
-The error seems to be in misc.py. Attached is a patch which simply sets **step** to the default value of 1 if it is found to be 0.
-
+The error seems to be in (x)srange in devel/sage/sage/misc/misc.py. Attached is a patch which raises a ValueError when the start point and end point of a plot are the same. The patches are to devel/sage/sage/{misc,plot}/misc.py and devel/sage/sage/plot/plot.py.
``````




---

archive/issue_comments_165180.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2011-09-06T05:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165180",
    "user": "https://github.com/dimpase"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_165181.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [ppurka](#comment%3A5):\n> Replying to [dimpase](#comment%3A4):\n> > Please add `plot(x,3,3)` to the appropriate doctest, to show that the patch really does the trick.\n\n> Updated the patch with doctests.\n\nin misc.py, can't you do `map(len,ranges)` rather than fortranic `[len(r) for r in ranges]` ?",
    "created_at": "2011-09-06T05:09:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165181",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
Replying to [ppurka](#comment%3A5):
> Replying to [dimpase](#comment%3A4):
> > Please add `plot(x,3,3)` to the appropriate doctest, to show that the patch really does the trick.

> Updated the patch with doctests.

in misc.py, can't you do `map(len,ranges)` rather than fortranic `[len(r) for r in ranges]` ?



---

archive/issue_comments_165182.json:
```json
{
    "body": "<a id='comment:8'></a>\nReplying to [dimpase](#comment%3A7):\n> in misc.py, can't you do `map(len,ranges)` rather than fortranic `[len(r) for r in ranges]` ?\n\nI haven't touched that code except to put opening and closing braces [ ]. Without the braces it was giving me EOF errors and was failing the doctests.",
    "created_at": "2011-09-06T05:11:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165182",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:8'></a>
Replying to [dimpase](#comment%3A7):
> in misc.py, can't you do `map(len,ranges)` rather than fortranic `[len(r) for r in ranges]` ?

I haven't touched that code except to put opening and closing braces [ ]. Without the braces it was giving me EOF errors and was failing the doctests.



---

archive/issue_comments_165183.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -40,3 +40,7 @@\n ZeroDivisionError: float division\n ```\n The error seems to be in (x)srange in devel/sage/sage/misc/misc.py. Attached is a patch which raises a ValueError when the start point and end point of a plot are the same. The patches are to devel/sage/sage/{misc,plot}/misc.py and devel/sage/sage/plot/plot.py.\n+\n+I forgot to mention earlier: the errors that are generated with this patch for (x)srange() are essentially the same errors that python gives when (x)range() is called with step 0.\n+\n+Apply 11753-fix_div_by_zero.patch to devel/sage\n``````\n",
    "created_at": "2011-09-19T16:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165183",
    "user": "https://github.com/ppurka"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -40,3 +40,7 @@
 ZeroDivisionError: float division
 ```
 The error seems to be in (x)srange in devel/sage/sage/misc/misc.py. Attached is a patch which raises a ValueError when the start point and end point of a plot are the same. The patches are to devel/sage/sage/{misc,plot}/misc.py and devel/sage/sage/plot/plot.py.
+
+I forgot to mention earlier: the errors that are generated with this patch for (x)srange() are essentially the same errors that python gives when (x)range() is called with step 0.
+
+Apply 11753-fix_div_by_zero.patch to devel/sage
``````




---

archive/issue_comments_165184.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2011-09-19T16:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165184",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_165185.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [ppurka](#comment%3A8):\n> Replying to [dimpase](#comment%3A7):\n> > in misc.py, can't you do `map(len,ranges)` rather than fortranic `[len(r) for r in ranges]` ?\n\n> I haven't touched that code except to put opening and closing braces [ ]. Without the braces it was giving me EOF errors and was failing the doctests.\n\nThe condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.",
    "created_at": "2011-09-19T19:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165185",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
Replying to [ppurka](#comment%3A8):
> Replying to [dimpase](#comment%3A7):
> > in misc.py, can't you do `map(len,ranges)` rather than fortranic `[len(r) for r in ranges]` ?

> I haven't touched that code except to put opening and closing braces [ ]. Without the braces it was giving me EOF errors and was failing the doctests.

The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.



---

archive/issue_comments_165186.json:
```json
{
    "body": "<a id='comment:11'></a>\nReplying to [dimpase](#comment%3A10):\n> The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.\n\n\nShould be fixed now.",
    "created_at": "2011-09-20T14:34:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165186",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:11'></a>
Replying to [dimpase](#comment%3A10):
> The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.


Should be fixed now.



---

archive/issue_comments_165187.json:
```json
{
    "body": "Properly check for 0. Try 2.",
    "created_at": "2011-09-20T14:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165187",
    "user": "https://github.com/ppurka"
}
```

Properly check for 0. Try 2.



---

archive/issue_comments_165188.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-09-20T14:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165188",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_165189.json:
```json
{
    "body": "<a id='comment:12'></a>\nAttachment [11753-fix_div_by_zero.patch](tarball://root/attachments/some-uuid/ticket11753/11753-fix_div_by_zero.patch) by @dimpase created at 2011-09-20 14:59:47\n\nReplying to [ppurka](#comment%3A11):\n> Replying to [dimpase](#comment%3A10):\n> > The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.\n\n> \n> Should be fixed now.\n\n\nEver written \"real\" numerical code?\n\n`min(range_steps) == float(0)` won't fly. You need something like `min(range_steps)<C*sys.float_info.epsilon`, for `C`\nsomething like 2 or 10...",
    "created_at": "2011-09-20T14:59:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165189",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>
Attachment [11753-fix_div_by_zero.patch](tarball://root/attachments/some-uuid/ticket11753/11753-fix_div_by_zero.patch) by @dimpase created at 2011-09-20 14:59:47

Replying to [ppurka](#comment%3A11):
> Replying to [dimpase](#comment%3A10):
> > The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.

> 
> Should be fixed now.


Ever written "real" numerical code?

`min(range_steps) == float(0)` won't fly. You need something like `min(range_steps)<C*sys.float_info.epsilon`, for `C`
something like 2 or 10...



---

archive/issue_comments_165190.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [dimpase](#comment%3A12):\n> Replying to [ppurka](#comment%3A11):\n> > Replying to [dimpase](#comment%3A10):\n> > > The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.\n\n> > \n> > Should be fixed now.\n\n> \n> Ever written \"real\" numerical code?\n> \n> `min(range_steps) == float(0)` won't fly. You need something like `min(range_steps)<C*sys.float_info.epsilon`, for `C`\n> something like 2 or 10...\n\n\nIs this needed? Something like `plot(sqrt(x), 0, sys.float_info.epsilon**2)` works just fine.",
    "created_at": "2011-09-20T15:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165190",
    "user": "https://github.com/ppurka"
}
```

<a id='comment:13'></a>
Replying to [dimpase](#comment%3A12):
> Replying to [ppurka](#comment%3A11):
> > Replying to [dimpase](#comment%3A10):
> > > The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.

> > 
> > Should be fixed now.

> 
> Ever written "real" numerical code?
> 
> `min(range_steps) == float(0)` won't fly. You need something like `min(range_steps)<C*sys.float_info.epsilon`, for `C`
> something like 2 or 10...


Is this needed? Something like `plot(sqrt(x), 0, sys.float_info.epsilon**2)` works just fine.



---

archive/issue_comments_165191.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [ppurka](#comment%3A13):\n> Replying to [dimpase](#comment%3A12):\n> > Replying to [ppurka](#comment%3A11):\n> > > Replying to [dimpase](#comment%3A10):\n> > > > The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.\n\n> > > \n> > > Should be fixed now.\n\n> > \n> > Ever written \"real\" numerical code?\n> > \n> > `min(range_steps) == float(0)` won't fly. You need something like `min(range_steps)<C*sys.float_info.epsilon`, for `C`\n> > something like 2 or 10...\n\n> \n> Is this needed? Something like `plot(sqrt(x), 0, sys.float_info.epsilon**2)` works just fine.\n\n\noops, sorry. It looks like plot works with arbitrary precision floats from sage.rings.real_mpfr, not with hardware plots!\nThen indeed, your previous version was just fine. (no need to do any float(0) either)",
    "created_at": "2011-09-20T15:35:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165191",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
Replying to [ppurka](#comment%3A13):
> Replying to [dimpase](#comment%3A12):
> > Replying to [ppurka](#comment%3A11):
> > > Replying to [dimpase](#comment%3A10):
> > > > The condition `step == 0` you check looks worrisome. From a glance over the code it's not clear whether `step` cannot be a float, and if it is a float, then such a test does not make much sense.

> > > 
> > > Should be fixed now.

> > 
> > Ever written "real" numerical code?
> > 
> > `min(range_steps) == float(0)` won't fly. You need something like `min(range_steps)<C*sys.float_info.epsilon`, for `C`
> > something like 2 or 10...

> 
> Is this needed? Something like `plot(sqrt(x), 0, sys.float_info.epsilon**2)` works just fine.


oops, sorry. It looks like plot works with arbitrary precision floats from sage.rings.real_mpfr, not with hardware plots!
Then indeed, your previous version was just fine. (no need to do any float(0) either)



---

archive/issue_comments_165192.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2011-09-21T06:36:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165192",
    "user": "https://github.com/ppurka"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_165193.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-09-27T12:33:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165193",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_165194.json:
```json
{
    "body": "Author: P. Purkayastha",
    "created_at": "2011-09-27T19:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165194",
    "user": "https://github.com/nexttime"
}
```

Author: P. Purkayastha



---

archive/issue_comments_165195.json:
```json
{
    "body": "Reviewer: Dmitrii Pasechnik",
    "created_at": "2011-09-27T19:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165195",
    "user": "https://github.com/nexttime"
}
```

Reviewer: Dmitrii Pasechnik



---

archive/issue_comments_165196.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -39,8 +39,11 @@\n     count = (end-start)/step\n ZeroDivisionError: float division\n ```\n-The error seems to be in (x)srange in devel/sage/sage/misc/misc.py. Attached is a patch which raises a ValueError when the start point and end point of a plot are the same. The patches are to devel/sage/sage/{misc,plot}/misc.py and devel/sage/sage/plot/plot.py.\n+The error seems to be in [`x`]`srange()` in `sage/misc/misc.py`. Attached is a patch which raises a `ValueError` when the start point and end point of a plot are the same. The patches are to `sage/{misc,plot}/misc.py` and `sage/plot/plot.py`.\n \n-I forgot to mention earlier: the errors that are generated with this patch for (x)srange() are essentially the same errors that python gives when (x)range() is called with step 0.\n+I forgot to mention earlier: The errors that are generated with this patch for [`x`]`srange()` are essentially the same errors that Python gives when [`x`]`range()` is called with step 0.\n \n-Apply 11753-fix_div_by_zero.patch to devel/sage\n+---\n+\n+Apply only [attachment:11753-fix_div_by_zero.patch] to the Sage library.\n+\n``````\n",
    "created_at": "2011-09-27T19:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165196",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -39,8 +39,11 @@
     count = (end-start)/step
 ZeroDivisionError: float division
 ```
-The error seems to be in (x)srange in devel/sage/sage/misc/misc.py. Attached is a patch which raises a ValueError when the start point and end point of a plot are the same. The patches are to devel/sage/sage/{misc,plot}/misc.py and devel/sage/sage/plot/plot.py.
+The error seems to be in [`x`]`srange()` in `sage/misc/misc.py`. Attached is a patch which raises a `ValueError` when the start point and end point of a plot are the same. The patches are to `sage/{misc,plot}/misc.py` and `sage/plot/plot.py`.
 
-I forgot to mention earlier: the errors that are generated with this patch for (x)srange() are essentially the same errors that python gives when (x)range() is called with step 0.
+I forgot to mention earlier: The errors that are generated with this patch for [`x`]`srange()` are essentially the same errors that Python gives when [`x`]`range()` is called with step 0.
 
-Apply 11753-fix_div_by_zero.patch to devel/sage
+---
+
+Apply only [attachment:11753-fix_div_by_zero.patch] to the Sage library.
+
``````




---

archive/issue_comments_165197.json:
```json
{
    "body": "Changing author from \"P. Purkayastha\" to \"Punarbasu Purkayastha\"",
    "created_at": "2011-09-27T23:16:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165197",
    "user": "https://github.com/ppurka"
}
```

Changing author from "P. Purkayastha" to "Punarbasu Purkayastha"



---

archive/issue_comments_165198.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-09-28T21:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165198",
    "user": "https://github.com/nexttime"
}
```

Resolution: fixed



---

archive/issue_comments_165199.json:
```json
{
    "body": "Merged: sage-4.7.2.alpha3",
    "created_at": "2011-09-28T21:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11753#issuecomment-165199",
    "user": "https://github.com/nexttime"
}
```

Merged: sage-4.7.2.alpha3



---

archive/issue_events_036540.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-28T21:19:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11753",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11753#event-36540"
}
```
