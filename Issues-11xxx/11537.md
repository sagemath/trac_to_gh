# Issue 11537: units in polynomial rings with prime power characteristic

archive/issues_011365.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: p = 101\nsage: S.<t> = PolynomialRing(ZZ.quotient_ring(p^3))\nsage: f = 1+p*t^2\nsage: f.is_unit()\nTrue\n```\n\n```\nsage: S.<t> = PolynomialRing(ZZ.quotient_ring(p^3),1)\nsage: t = S.0\nsage: f = 1+p*t^2\nsage: f.is_unit()\nFalse\nsage: f.inverse_of_unit()\n...\nArithmeticError: Element is not a unit.\n```\n\n```\nsage: S1.<t> = PolynomialRing(ZZ.quotient_ring(p^3),1)\nsage: S2.<tt> = PolynomialRing(ZZ.quotient_ring(p^3))\nsage: S1\nMultivariate Polynomial Ring in t over Ring of integers modulo 1030301\nsage: S2\nUnivariate Polynomial Ring in tt over Ring of integers modulo 1030301\nsage: S1 == S2\nFalse\n```\n\n\nDepends on #22454\n\nAssignee: **@aghitza**\n\nBranch/Commit: **[u/vdelecroix/11537](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/11537) @ [718b0e2](https://github.com/sagemath/sagetrac-mirror/commit/718b0e2c0526e6000f1608ddfc2853f0c4bd19c0)**\n\nStopgaps: **todo**\n\nAuthor: **Mark Saaltink**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11537_\n\n",
    "created_at": "2011-06-23T19:38:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/needs%20work"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "units in polynomial rings with prime power characteristic",
    "type": "issue",
    "updated_at": "2022-12-29T01:39:18Z",
    "url": "https://github.com/sagemath/sage/issues/11537",
    "user": "https://github.com/tdupu"
}
```

```
sage: p = 101
sage: S.<t> = PolynomialRing(ZZ.quotient_ring(p^3))
sage: f = 1+p*t^2
sage: f.is_unit()
True
```

```
sage: S.<t> = PolynomialRing(ZZ.quotient_ring(p^3),1)
sage: t = S.0
sage: f = 1+p*t^2
sage: f.is_unit()
False
sage: f.inverse_of_unit()
...
ArithmeticError: Element is not a unit.
```

```
sage: S1.<t> = PolynomialRing(ZZ.quotient_ring(p^3),1)
sage: S2.<tt> = PolynomialRing(ZZ.quotient_ring(p^3))
sage: S1
Multivariate Polynomial Ring in t over Ring of integers modulo 1030301
sage: S2
Univariate Polynomial Ring in tt over Ring of integers modulo 1030301
sage: S1 == S2
False
```


Depends on #22454

Assignee: **@aghitza**

Branch/Commit: **[u/vdelecroix/11537](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/11537) @ [718b0e2](https://github.com/sagemath/sagetrac-mirror/commit/718b0e2c0526e6000f1608ddfc2853f0c4bd19c0)**

Stopgaps: **todo**

Author: **Mark Saaltink**

_Issue created by migration from https://trac.sagemath.org/ticket/11537_





---

archive/issue_events_140713.json:
```json
{
    "actor": "https://github.com/tdupu",
    "created_at": "2011-06-23T19:38:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140713"
}
```



---

archive/issue_events_140714.json:
```json
{
    "actor": "https://github.com/tdupu",
    "created_at": "2011-06-23T19:38:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140714"
}
```



---

archive/issue_events_140715.json:
```json
{
    "actor": "https://github.com/tdupu",
    "created_at": "2011-06-23T19:38:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140715"
}
```



---

archive/issue_events_140716.json:
```json
{
    "actor": "https://github.com/tdupu",
    "created_at": "2011-06-23T19:38:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140716"
}
```



---

archive/issue_comments_119781.json:
```json
{
    "body": "Attachment: **[units_mod_p.sws.gz](https://github.com/sagemath/sage/files/ticket11537/units_mod_p.sws.gz)**",
    "created_at": "2011-06-23T19:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119781",
    "user": "https://github.com/tdupu"
}
```

Attachment: **[units_mod_p.sws.gz](https://github.com/sagemath/sage/files/ticket11537/units_mod_p.sws.gz)**



---

archive/issue_comments_119782.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\n--There are lots of \"inverse_of_unit\" methods one should implement while they are fixing this the attached notebook shows one way this can be done from prime power characteristic.",
    "created_at": "2011-06-23T19:42:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119782",
    "user": "https://github.com/tdupu"
}
```

<div id="comment:1" align="right">Comment 1</div>

--There are lots of "inverse_of_unit" methods one should implement while they are fixing this the attached notebook shows one way this can be done from prime power characteristic.



---

archive/issue_events_140717.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140717"
}
```



---

archive/issue_events_140718.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140718"
}
```



---

archive/issue_events_140719.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140719"
}
```



---

archive/issue_events_140720.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140720"
}
```



---

archive/issue_events_140721.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140721"
}
```



---

archive/issue_events_140722.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140722"
}
```



---

archive/issue_events_140723.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140723"
}
```



---

archive/issue_events_140724.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140724"
}
```



---

archive/issue_comments_119783.json:
```json
{
    "body": "Stopgaps: **todo**",
    "created_at": "2015-08-25T16:00:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119783",
    "user": "https://github.com/sagetrac-jakobkroeker"
}
```

Stopgaps: **todo**



---

archive/issue_comments_119784.json:
```json
{
    "body": "Branch: **[u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic)**",
    "created_at": "2017-03-06T16:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119784",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Branch: **[u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic)**



---

archive/issue_comments_119785.json:
```json
{
    "body": "Dependencies: **#22454**",
    "created_at": "2017-03-06T16:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119785",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Dependencies: **#22454**



---

archive/issue_comments_119786.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/429dde814708ad2b01c04b5ab667756d635d58c5\">429dde8</a></td><td><code>Trac 22454 - fixed is_unit and implemented is_nilpotent for multivariate and infinite polynomials.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c42072d33bfef2db3b69013f45585d454e089624\">c42072d</a></td><td><code>Small speedup in is_unit for multivariate polynomials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eed858d8d01531d4ecdce1a2b10832bec748c626\">eed858d</a></td><td><code>Implemented inverse_of_unit for polynomials; fixes trac 11537.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f53ed4c3378f757b4dfc51ed32240513329e41c\">6f53ed4</a></td><td><code>inverse_of_unit_polynomial: use inverse_of_unit when possible.</code></td></tr></table>\n",
    "created_at": "2017-03-06T16:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119786",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:8" align="right">Comment 8</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/429dde814708ad2b01c04b5ab667756d635d58c5">429dde8</a></td><td><code>Trac 22454 - fixed is_unit and implemented is_nilpotent for multivariate and infinite polynomials.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c42072d33bfef2db3b69013f45585d454e089624">c42072d</a></td><td><code>Small speedup in is_unit for multivariate polynomials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eed858d8d01531d4ecdce1a2b10832bec748c626">eed858d</a></td><td><code>Implemented inverse_of_unit for polynomials; fixes trac 11537.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f53ed4c3378f757b4dfc51ed32240513329e41c">6f53ed4</a></td><td><code>inverse_of_unit_polynomial: use inverse_of_unit when possible.</code></td></tr></table>




---

archive/issue_comments_119787.json:
```json
{
    "body": "Commit: **[6f53ed4](https://github.com/sagemath/sagetrac-mirror/commit/6f53ed4c3378f757b4dfc51ed32240513329e41c)**",
    "created_at": "2017-03-06T16:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119787",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Commit: **[6f53ed4](https://github.com/sagemath/sagetrac-mirror/commit/6f53ed4c3378f757b4dfc51ed32240513329e41c)**



---

archive/issue_events_140725.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-03-06T16:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140725"
}
```



---

archive/issue_comments_119788.json:
```json
{
    "body": "Author: **Mark Saaltink**",
    "created_at": "2017-03-06T16:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119788",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

Author: **Mark Saaltink**



---

archive/issue_comments_119789.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\n-1 on removing the specialized code that uses Singular; at least I strongly suspect that is faster. You should be able to specify quickly in which cases you should punt up to the generic code. Also, don't use `$x$` for latex, instead use <code>\\`x\\`</code>.",
    "created_at": "2017-03-07T17:35:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119789",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">Comment 9</div>

-1 on removing the specialized code that uses Singular; at least I strongly suspect that is faster. You should be able to specify quickly in which cases you should punt up to the generic code. Also, don't use `$x$` for latex, instead use <code>\`x\`</code>.



---

archive/issue_comments_119790.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nRe: \"-1 on removing the specialized code that uses Singular\":   Yes, it is fast, but does not get the correct answers.  The same goes for libsingular's p_IsUnit. For some reason I am having trouble finding the documentation in libsingular that explains these two functions so do not know if they are even supposed to work in these non-integral domains.  I think the safest thing for now is to use the generic code to get the correct answer.\n\nI'll look into the latex issue and push something soon.",
    "created_at": "2017-03-07T20:39:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119790",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:10" align="right">Comment 10</div>

Re: "-1 on removing the specialized code that uses Singular":   Yes, it is fast, but does not get the correct answers.  The same goes for libsingular's p_IsUnit. For some reason I am having trouble finding the documentation in libsingular that explains these two functions so do not know if they are even supposed to work in these non-integral domains.  I think the safest thing for now is to use the generic code to get the correct answer.

I'll look into the latex issue and push something soon.



---

archive/issue_comments_119791.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nAs I said, I would probably send it up to the generic case when the base ring is not something nice. Probably a good condition is if the domain is known to be an integral domain, then use the specialized code. You should also post a bug report to Singular if using this in general is expected to work (provided you can find such information).",
    "created_at": "2017-03-07T21:07:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119791",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">Comment 11</div>

As I said, I would probably send it up to the generic case when the base ring is not something nice. Probably a good condition is if the domain is known to be an integral domain, then use the specialized code. You should also post a bug report to Singular if using this in general is expected to work (provided you can find such information).



---

archive/issue_comments_119792.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nI asked about the Singular functions used here, in the Singular forum, post 2582 (https://www.singular.uni-kl.de/forum/viewtopic.php?f=10&t=2582).  The answer (from \"hannes\") is quite clear:\n\n```\np_Invers: is only a helper routine for the 3-argument forms of jet [...]\nIt should not be used otherwise: is a static routine in newer releases\nFurthermore, the coefficients must be from a field.\n\np_IsUnit: is currently only used to simplify ideals,\nand currently defined as: p is a constant polynomial and the constant is a unit.\nI will try to extend that.....but it is of low priority.\n```\n\nSo I think the specialized code in multi_polynomial_libsingular canniot be relied on, and we should stick with the generic code.  The Singular documentation offers no other functions that look useful here.",
    "created_at": "2017-03-10T01:48:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119792",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:12" align="right">Comment 12</div>

I asked about the Singular functions used here, in the Singular forum, post 2582 (https://www.singular.uni-kl.de/forum/viewtopic.php?f=10&t=2582).  The answer (from "hannes") is quite clear:

```
p_Invers: is only a helper routine for the 3-argument forms of jet [...]
It should not be used otherwise: is a static routine in newer releases
Furthermore, the coefficients must be from a field.

p_IsUnit: is currently only used to simplify ideals,
and currently defined as: p is a constant polynomial and the constant is a unit.
I will try to extend that.....but it is of low priority.
```

So I think the specialized code in multi_polynomial_libsingular canniot be relied on, and we should stick with the generic code.  The Singular documentation offers no other functions that look useful here.



---

archive/issue_comments_119793.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/033f662f22e68c01e804936f18a0e329e0aeff51\">033f662</a></td><td><code>Improved the algorithm documentation for _inverse_of_unit_polynomial.</code></td></tr></table>\n",
    "created_at": "2017-03-10T03:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119793",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:13" align="right">Comment 13</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/033f662f22e68c01e804936f18a0e329e0aeff51">033f662</a></td><td><code>Improved the algorithm documentation for _inverse_of_unit_polynomial.</code></td></tr></table>




---

archive/issue_comments_119794.json:
```json
{
    "body": "Changed commit from **[6f53ed4](https://github.com/sagemath/sagetrac-mirror/commit/6f53ed4c3378f757b4dfc51ed32240513329e41c)** to **[033f662](https://github.com/sagemath/sagetrac-mirror/commit/033f662f22e68c01e804936f18a0e329e0aeff51)**",
    "created_at": "2017-03-10T03:39:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119794",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6f53ed4](https://github.com/sagemath/sagetrac-mirror/commit/6f53ed4c3378f757b4dfc51ed32240513329e41c)** to **[033f662](https://github.com/sagemath/sagetrac-mirror/commit/033f662f22e68c01e804936f18a0e329e0aeff51)**



---

archive/issue_comments_119795.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI have made the change from $x$ to `x` in the above commit.  This makes the documentation look better in the interactive console, which is not something I knew after reading the developer guide's section on Latex (http://doc.sagemath.org/html/en/developer/coding_basics.html#section-latex-typeset).",
    "created_at": "2017-03-11T21:14:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119795",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:14" align="right">Comment 14</div>

I have made the change from $x$ to `x` in the above commit.  This makes the documentation look better in the interactive console, which is not something I knew after reading the developer guide's section on Latex (http://doc.sagemath.org/html/en/developer/coding_basics.html#section-latex-typeset).



---

archive/issue_events_140726.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-21T20:00:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140726"
}
```



---

archive/issue_events_140727.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-05-21T20:00:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140727"
}
```



---

archive/issue_comments_119796.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nbranch does not apply on latest beta",
    "created_at": "2017-05-21T20:00:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119796",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">Comment 15</div>

branch does not apply on latest beta



---

archive/issue_comments_119797.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ccd4ec574747204901ccd06460d906e2b55d15f3\">ccd4ec5</a></td><td><code>Merged to resolve conflicts with latest development version</code></td></tr></table>\n",
    "created_at": "2017-05-22T15:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119797",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ccd4ec574747204901ccd06460d906e2b55d15f3">ccd4ec5</a></td><td><code>Merged to resolve conflicts with latest development version</code></td></tr></table>




---

archive/issue_comments_119798.json:
```json
{
    "body": "Changed commit from **[033f662](https://github.com/sagemath/sagetrac-mirror/commit/033f662f22e68c01e804936f18a0e329e0aeff51)** to **[ccd4ec5](https://github.com/sagemath/sagetrac-mirror/commit/ccd4ec574747204901ccd06460d906e2b55d15f3)**",
    "created_at": "2017-05-22T15:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119798",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[033f662](https://github.com/sagemath/sagetrac-mirror/commit/033f662f22e68c01e804936f18a0e329e0aeff51)** to **[ccd4ec5](https://github.com/sagemath/sagetrac-mirror/commit/ccd4ec574747204901ccd06460d906e2b55d15f3)**



---

archive/issue_comments_119799.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nMerged in the latest 'develop' branch, as suggested in the \"advanced git\" section of the developer guide for this situation.  I would have thought a rebase would be easier.",
    "created_at": "2017-05-22T15:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119799",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:17" align="right">Comment 17</div>

Merged in the latest 'develop' branch, as suggested in the "advanced git" section of the developer guide for this situation.  I would have thought a rebase would be easier.



---

archive/issue_events_140728.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-05-22T15:27:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140728"
}
```



---

archive/issue_events_140729.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-05-22T15:27:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140729"
}
```



---

archive/issue_comments_119800.json:
```json
{
    "body": "Changed commit from **[ccd4ec5](https://github.com/sagemath/sagetrac-mirror/commit/ccd4ec574747204901ccd06460d906e2b55d15f3)** to **[c2b5f08](https://github.com/sagemath/sagetrac-mirror/commit/c2b5f08e9e8c1d1ea0cc16afebdff774dd20af72)**",
    "created_at": "2017-05-22T16:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119800",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ccd4ec5](https://github.com/sagemath/sagetrac-mirror/commit/ccd4ec574747204901ccd06460d906e2b55d15f3)** to **[c2b5f08](https://github.com/sagemath/sagetrac-mirror/commit/c2b5f08e9e8c1d1ea0cc16afebdff774dd20af72)**



---

archive/issue_comments_119801.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2b5f08e9e8c1d1ea0cc16afebdff774dd20af72\">c2b5f08</a></td><td><code>Fixed up some whitespace errors</code></td></tr></table>\n",
    "created_at": "2017-05-22T16:17:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119801",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2b5f08e9e8c1d1ea0cc16afebdff774dd20af72">c2b5f08</a></td><td><code>Fixed up some whitespace errors</code></td></tr></table>




---

archive/issue_comments_119802.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\n1) Because it is private, the function `_inverse_of_unit_polynomial` and its documentation will not appear in the reference manual. I would prefer to have it public and have pointers from the various methods (via `:func:XXX`) to this function. These are implementation details but which might be of importance for advanced users. The algorithm in only explained in the function.\n\n2) Wouldn't be easy to fix the following?\n\n```\nsage: R(5).inverse_of_unit()\nTraceback (most recent call last):\n...\nAttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'>\nhas no attribute constant_coefficient\n```\n\n3) As far as I understand, singular call works in some cases. If this is the case, you would better keep it. You can easily make something like the following that is also done in other places in Sage\n\n```\n    def inverse_of_unit(self, algorithm=None):\n        if algorithm is None:\n             ... set algorithm to what is best ...\n\n        if algorithm == 'singular':\n             if self.base_ring().is_not_appropriate():\n                 raise ValueError('does not work')\n              ... singular imple ...\n         elif algorithm == 'generic':\n             ... what is provide in the branch ...\n         else:\n             raise ValueError('unknown algorithm %s' %algorithm)\n```",
    "created_at": "2017-05-22T17:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119802",
    "user": "https://github.com/videlec"
}
```

<div id="comment:19" align="right">Comment 19</div>

1) Because it is private, the function `_inverse_of_unit_polynomial` and its documentation will not appear in the reference manual. I would prefer to have it public and have pointers from the various methods (via `:func:XXX`) to this function. These are implementation details but which might be of importance for advanced users. The algorithm in only explained in the function.

2) Wouldn't be easy to fix the following?

```
sage: R(5).inverse_of_unit()
Traceback (most recent call last):
...
AttributeError: <class 'sage.rings.polynomial.infinite_polynomial_element.InfinitePolynomial_sparse'>
has no attribute constant_coefficient
```

3) As far as I understand, singular call works in some cases. If this is the case, you would better keep it. You can easily make something like the following that is also done in other places in Sage

```
    def inverse_of_unit(self, algorithm=None):
        if algorithm is None:
             ... set algorithm to what is best ...

        if algorithm == 'singular':
             if self.base_ring().is_not_appropriate():
                 raise ValueError('does not work')
              ... singular imple ...
         elif algorithm == 'generic':
             ... what is provide in the branch ...
         else:
             raise ValueError('unknown algorithm %s' %algorithm)
```



---

archive/issue_comments_119803.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\n1) Good idea; I'll make those changes.\n\n2) The fix is not as easy as I had hoped.  I have a branch open on ticket 22514 to fix this, but the way these constant infinite polynomials get created is hard to pin down---there are strange coercion things happening.  I'll get back at it and hope to have a fix soon.\n\n3) The singular call works only when the polynomial is constant, so that all we do is invert the constant coefficient in the base ring.  I don't see this as worth going to singular for.",
    "created_at": "2017-05-23T02:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119803",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:20" align="right">Comment 20</div>

1) Good idea; I'll make those changes.

2) The fix is not as easy as I had hoped.  I have a branch open on ticket 22514 to fix this, but the way these constant infinite polynomials get created is hard to pin down---there are strange coercion things happening.  I'll get back at it and hope to have a fix soon.

3) The singular call works only when the polynomial is constant, so that all we do is invert the constant coefficient in the base ring.  I don't see this as worth going to singular for.



---

archive/issue_comments_119804.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nReplying to [@sagetrac-msaaltink](#comment%3A20):\n> 3) The singular call works only when the polynomial is constant, so that all we do is invert the constant coefficient in the base ring. I don't see this as worth going to singular for.\n\nIndeed. So if Singular is that bad, remove the code. Do not put comments everywhere. You can keep a line or two of explanations\n\n```\n# Singular seems not able to invert non-constant polynomial.\n# We use the generic function created in trac ticket #11537\n```",
    "created_at": "2017-05-23T06:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119804",
    "user": "https://github.com/videlec"
}
```

<div id="comment:21" align="right">Comment 21</div>

Replying to [@sagetrac-msaaltink](#comment%3A20):
> 3) The singular call works only when the polynomial is constant, so that all we do is invert the constant coefficient in the base ring. I don't see this as worth going to singular for.

Indeed. So if Singular is that bad, remove the code. Do not put comments everywhere. You can keep a line or two of explanations

```
# Singular seems not able to invert non-constant polynomial.
# We use the generic function created in trac ticket #11537
```



---

archive/issue_comments_119805.json:
```json
{
    "body": "Changed commit from **[c2b5f08](https://github.com/sagemath/sagetrac-mirror/commit/c2b5f08e9e8c1d1ea0cc16afebdff774dd20af72)** to **[87495bf](https://github.com/sagemath/sagetrac-mirror/commit/87495bf6bc9376914a972fffa0830b18ad839d62)**",
    "created_at": "2017-05-24T00:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119805",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c2b5f08](https://github.com/sagemath/sagetrac-mirror/commit/c2b5f08e9e8c1d1ea0cc16afebdff774dd20af72)** to **[87495bf](https://github.com/sagemath/sagetrac-mirror/commit/87495bf6bc9376914a972fffa0830b18ad839d62)**



---

archive/issue_comments_119806.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87495bf6bc9376914a972fffa0830b18ad839d62\">87495bf</a></td><td><code>Implemented changes suggested by vdelecroix.</code></td></tr></table>\n",
    "created_at": "2017-05-24T00:10:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119806",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22" align="right">Comment 22</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87495bf6bc9376914a972fffa0830b18ad839d62">87495bf</a></td><td><code>Implemented changes suggested by vdelecroix.</code></td></tr></table>




---

archive/issue_events_140730.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-06-01T18:49:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140730"
}
```



---

archive/issue_events_140731.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-06-01T18:49:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140731"
}
```



---

archive/issue_comments_119807.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\n4) Could you add some checks that the parent is indeed correct, e.g.\n\n```\nsage: R.<x> = Zmod(32)[]\nsage: inverse_of_unit_polynomial(1 + 4*x)\n16*x^2 + 28*x + 1\nsage: inverse_of_unit_polynomial(1 + 4*x) is R\nTrue\n```\n\n5) I do not see where the following error is tested\n\n```\nexcept AttributeError:\n    v =  ~u # many rings don't implement inverse_of_unit\n    if v.parent() is not p.base_ring():\n        raise NotImplementedError\n```\n\n6) In order to avoid coercion, it would be better to define `mp1 = m + 1` and use it in the loop. In the same veine, change `while p*i != 1` to `while not (p * i).is_one()`",
    "created_at": "2017-06-01T18:49:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119807",
    "user": "https://github.com/videlec"
}
```

<div id="comment:23" align="right">Comment 23</div>

4) Could you add some checks that the parent is indeed correct, e.g.

```
sage: R.<x> = Zmod(32)[]
sage: inverse_of_unit_polynomial(1 + 4*x)
16*x^2 + 28*x + 1
sage: inverse_of_unit_polynomial(1 + 4*x) is R
True
```

5) I do not see where the following error is tested

```
except AttributeError:
    v =  ~u # many rings don't implement inverse_of_unit
    if v.parent() is not p.base_ring():
        raise NotImplementedError
```

6) In order to avoid coercion, it would be better to define `mp1 = m + 1` and use it in the loop. In the same veine, change `while p*i != 1` to `while not (p * i).is_one()`



---

archive/issue_events_140732.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-06-01T18:49:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140732"
}
```



---

archive/issue_events_140733.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-06-01T18:49:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140733"
}
```



---

archive/issue_comments_119808.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\n4) Do you mean that I should add a run-time check of some sort, or did you mean I should add an EXAMPLE or TEST?\n\n5) In context, that code is\n\n```\n    try:\n        v = u.inverse_of_unit()\n    except AttributeError:\n        v =  ~u # many rings don't implement inverse_of_unit\n```\nPerhaps the comment is misplaced; the except block is executed in cases where `v = u.inverse_of_unit()` is not implemented - which is for many rings.  Perhaps I should also check for `NotImplementedError`.   The fallback is to use `~v` if it is in the correct ring---sometimes it is in the fraction field.  I will try clarifying the comment.\n\n6. Good idea; I'll do that.",
    "created_at": "2017-06-02T16:51:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119808",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:24" align="right">Comment 24</div>

4) Do you mean that I should add a run-time check of some sort, or did you mean I should add an EXAMPLE or TEST?

5) In context, that code is

```
    try:
        v = u.inverse_of_unit()
    except AttributeError:
        v =  ~u # many rings don't implement inverse_of_unit
```
Perhaps the comment is misplaced; the except block is executed in cases where `v = u.inverse_of_unit()` is not implemented - which is for many rings.  Perhaps I should also check for `NotImplementedError`.   The fallback is to use `~v` if it is in the correct ring---sometimes it is in the fraction field.  I will try clarifying the comment.

6. Good idea; I'll do that.



---

archive/issue_comments_119809.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@sagetrac-msaaltink](#comment%3A24):\n> 4) Do you mean that I should add a run-time check of some sort, or did you mean I should add an EXAMPLE or TEST?\n\nNot at runtime. Only inside `EXAMPLES` or/and `TESTS` (but it can still be rather exhaustive).\n\n> 5) In context, that code is\n> \n> ```\n>     try:\n>         v = u.inverse_of_unit()\n>     except AttributeError:\n>         v =  ~u # many rings don't implement inverse_of_unit\n> ```\n> Perhaps the comment is misplaced; the except block is executed in cases where `v = u.inverse_of_unit()` is not implemented - which is for many rings.  Perhaps I should also check for `NotImplementedError`.   The fallback is to use `~v` if it is in the correct ring---sometimes it is in the fraction field.  I will try clarifying the comment.\n\nIt was not my point. My comment was about the two lines\n\n```\n    if v.parent() is not p.base_ring():\n        raise NotImplementedError\n```\nThis `NotImplementedError` does not appear in doctests.",
    "created_at": "2017-06-02T16:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119809",
    "user": "https://github.com/videlec"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@sagetrac-msaaltink](#comment%3A24):
> 4) Do you mean that I should add a run-time check of some sort, or did you mean I should add an EXAMPLE or TEST?

Not at runtime. Only inside `EXAMPLES` or/and `TESTS` (but it can still be rather exhaustive).

> 5) In context, that code is
> 
> ```
>     try:
>         v = u.inverse_of_unit()
>     except AttributeError:
>         v =  ~u # many rings don't implement inverse_of_unit
> ```
> Perhaps the comment is misplaced; the except block is executed in cases where `v = u.inverse_of_unit()` is not implemented - which is for many rings.  Perhaps I should also check for `NotImplementedError`.   The fallback is to use `~v` if it is in the correct ring---sometimes it is in the fraction field.  I will try clarifying the comment.

It was not my point. My comment was about the two lines

```
    if v.parent() is not p.base_ring():
        raise NotImplementedError
```
This `NotImplementedError` does not appear in doctests.



---

archive/issue_comments_119810.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39709c46a116c2413033360dc62e366ed3461201\">39709c4</a></td><td><code>A few more tests and a small optimization</code></td></tr></table>\n",
    "created_at": "2017-06-23T16:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119810",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39709c46a116c2413033360dc62e366ed3461201">39709c4</a></td><td><code>A few more tests and a small optimization</code></td></tr></table>




---

archive/issue_comments_119811.json:
```json
{
    "body": "Changed commit from **[87495bf](https://github.com/sagemath/sagetrac-mirror/commit/87495bf6bc9376914a972fffa0830b18ad839d62)** to **[39709c4](https://github.com/sagemath/sagetrac-mirror/commit/39709c46a116c2413033360dc62e366ed3461201)**",
    "created_at": "2017-06-23T16:40:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119811",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[87495bf](https://github.com/sagemath/sagetrac-mirror/commit/87495bf6bc9376914a972fffa0830b18ad839d62)** to **[39709c4](https://github.com/sagemath/sagetrac-mirror/commit/39709c46a116c2413033360dc62e366ed3461201)**



---

archive/issue_events_140734.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-06-23T16:45:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140734"
}
```



---

archive/issue_events_140735.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-06-23T16:45:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140735"
}
```



---

archive/issue_comments_119812.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nThe last set of comments have been addressed in this latest commit:\n\n4) has been done, with 3 more test cases\n\n5) this condition is now tested.\n\n6) `m + 1` cannot be pulled out of the loop because `m` is changed on every iteration.  I did however make the change from `p*i != 1` to `not (p*i).is_one()`.",
    "created_at": "2017-06-23T16:45:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119812",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:27" align="right">Comment 27</div>

The last set of comments have been addressed in this latest commit:

4) has been done, with 3 more test cases

5) this condition is now tested.

6) `m + 1` cannot be pulled out of the loop because `m` is changed on every iteration.  I did however make the change from `p*i != 1` to `not (p*i).is_one()`.



---

archive/issue_comments_119813.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nMatrices form a non-commutative ring... you expect your algorithm to work in this case? Anyway, I am not sure it is good idea to use this in tests as it is completely broken\n\n```\nsage: M=MatrixSpace(QQ, 2, 2); S.<y> = M[]\nsage: p = M.one() + y * M([0,2,0,0])\nsage: inverse_of_unit_polynomial(p)\nTraceback (most recent call last):\n...\nAttributeError: 'MatrixSpace_with_category' object has no attribute 'is_integral_domain'\n```",
    "created_at": "2017-06-24T14:59:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119813",
    "user": "https://github.com/videlec"
}
```

<div id="comment:28" align="right">Comment 28</div>

Matrices form a non-commutative ring... you expect your algorithm to work in this case? Anyway, I am not sure it is good idea to use this in tests as it is completely broken

```
sage: M=MatrixSpace(QQ, 2, 2); S.<y> = M[]
sage: p = M.one() + y * M([0,2,0,0])
sage: inverse_of_unit_polynomial(p)
Traceback (most recent call last):
...
AttributeError: 'MatrixSpace_with_category' object has no attribute 'is_integral_domain'
```



---

archive/issue_events_140736.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-06-24T15:03:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140736"
}
```



---

archive/issue_events_140737.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-06-24T15:03:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140737"
}
```



---

archive/issue_comments_119814.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nand doctest failure\n\n```\nsage -t --long --warn-long 75.4 rings/polynomial/polynomial_element.pyx\n**********************************************************************\nFile \"rings/polynomial/polynomial_element.pyx\", line 9680, in sage.rings.polynomial.polynomial_element.inverse_of_unit_polynomial\nFailed example:\n    inverse_of_unit_polynomial(S(1))\nExpected:\n    Traceback (most recent call last):\n    ...\n    NotImplementedError: Base ring, Full MatrixSpace of 2 by 2 dense matrices over Univariate Polynomial Ring in x over Integer Ring, does not implement inverse_of_unit.\nGot:\n    [1 0]\n    [0 1]\n**********************************************************************\n```",
    "created_at": "2017-06-24T15:03:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119814",
    "user": "https://github.com/videlec"
}
```

<div id="comment:29" align="right">Comment 29</div>

and doctest failure

```
sage -t --long --warn-long 75.4 rings/polynomial/polynomial_element.pyx
**********************************************************************
File "rings/polynomial/polynomial_element.pyx", line 9680, in sage.rings.polynomial.polynomial_element.inverse_of_unit_polynomial
Failed example:
    inverse_of_unit_polynomial(S(1))
Expected:
    Traceback (most recent call last):
    ...
    NotImplementedError: Base ring, Full MatrixSpace of 2 by 2 dense matrices over Univariate Polynomial Ring in x over Integer Ring, does not implement inverse_of_unit.
Got:
    [1 0]
    [0 1]
**********************************************************************
```



---

archive/issue_comments_119815.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nThat is strange; the doctest succeeds for me.  However, as you point out, it is not good to use a noncommutative base ring.  I do not think I then have a test for the condition triggering the `NotImplementedError`, as the place this situation used to occur was in polynomial rings, and is fixed by this patch.  Still, I'm reluctant to take the untested code out, as a ring could be added in future that also has this feature (no `inverse_of_unit` and `~` taking us to a different ring).  Would it be cheating for me to create such a ring in the doctest?",
    "created_at": "2017-06-24T16:42:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119815",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:30" align="right">Comment 30</div>

That is strange; the doctest succeeds for me.  However, as you point out, it is not good to use a noncommutative base ring.  I do not think I then have a test for the condition triggering the `NotImplementedError`, as the place this situation used to occur was in polynomial rings, and is fixed by this patch.  Still, I'm reluctant to take the untested code out, as a ring could be added in future that also has this feature (no `inverse_of_unit` and `~` taking us to a different ring).  Would it be cheating for me to create such a ring in the doctest?



---

archive/issue_comments_119816.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nNote that I did the testing on top of beta12 which might explain the changes.",
    "created_at": "2017-06-24T18:32:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119816",
    "user": "https://github.com/videlec"
}
```

<div id="comment:31" align="right">Comment 31</div>

Note that I did the testing on top of beta12 which might explain the changes.



---

archive/issue_comments_119817.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nReplying to [@sagetrac-msaaltink](#comment%3A30):\n> Would it be cheating for me to create such a ring in the doctest?\n\nYes!",
    "created_at": "2017-06-24T18:46:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119817",
    "user": "https://github.com/videlec"
}
```

<div id="comment:32" align="right">Comment 32</div>

Replying to [@sagetrac-msaaltink](#comment%3A30):
> Would it be cheating for me to create such a ring in the doctest?

Yes!



---

archive/issue_comments_119818.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nWhen I try to build a complicated base ring, `is_nilpotent` or `is_unit` is not implemented.\n\nKeep the code the way it is, but merge with beta12 and fix the doctest.",
    "created_at": "2017-06-24T18:57:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119818",
    "user": "https://github.com/videlec"
}
```

<div id="comment:33" align="right">Comment 33</div>

When I try to build a complicated base ring, `is_nilpotent` or `is_unit` is not implemented.

Keep the code the way it is, but merge with beta12 and fix the doctest.



---

archive/issue_comments_119819.json:
```json
{
    "body": "Changed commit from **[39709c4](https://github.com/sagemath/sagetrac-mirror/commit/39709c46a116c2413033360dc62e366ed3461201)** to **[4fa92cb](https://github.com/sagemath/sagetrac-mirror/commit/4fa92cb75fb00e71a91f3653b44323ea043e44b0)**",
    "created_at": "2017-06-29T15:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119819",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[39709c4](https://github.com/sagemath/sagetrac-mirror/commit/39709c46a116c2413033360dc62e366ed3461201)** to **[4fa92cb](https://github.com/sagemath/sagetrac-mirror/commit/4fa92cb75fb00e71a91f3653b44323ea043e44b0)**



---

archive/issue_comments_119820.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/deb835c808634d0aa6cab8261c47927111d6e24a\">deb835c</a></td><td><code>Merge branch 'develop' into t/11537/units_in_polynomial_rings_with_prime_power_characteristic</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fa92cb75fb00e71a91f3653b44323ea043e44b0\">4fa92cb</a></td><td><code>Fixed doctests for `inverse_of_unit_polynomial`.</code></td></tr></table>\n",
    "created_at": "2017-06-29T15:19:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119820",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:34" align="right">Comment 34</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/deb835c808634d0aa6cab8261c47927111d6e24a">deb835c</a></td><td><code>Merge branch 'develop' into t/11537/units_in_polynomial_rings_with_prime_power_characteristic</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fa92cb75fb00e71a91f3653b44323ea043e44b0">4fa92cb</a></td><td><code>Fixed doctests for `inverse_of_unit_polynomial`.</code></td></tr></table>




---

archive/issue_events_140738.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-06-29T15:20:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140738"
}
```



---

archive/issue_events_140739.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-06-29T15:20:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140739"
}
```



---

archive/issue_events_140740.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-04T15:58:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140740"
}
```



---

archive/issue_events_140741.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2017-07-04T15:58:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140741"
}
```



---

archive/issue_comments_119821.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\ndoes not apply",
    "created_at": "2017-07-04T15:58:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119821",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">Comment 36</div>

does not apply



---

archive/issue_comments_119822.json:
```json
{
    "body": "Changed commit from **[4fa92cb](https://github.com/sagemath/sagetrac-mirror/commit/4fa92cb75fb00e71a91f3653b44323ea043e44b0)** to **[03bb954](https://github.com/sagemath/sagetrac-mirror/commit/03bb9542c14c8f1aec14460e84ecd22054519477)**",
    "created_at": "2017-07-04T22:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119822",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4fa92cb](https://github.com/sagemath/sagetrac-mirror/commit/4fa92cb75fb00e71a91f3653b44323ea043e44b0)** to **[03bb954](https://github.com/sagemath/sagetrac-mirror/commit/03bb9542c14c8f1aec14460e84ecd22054519477)**



---

archive/issue_comments_119823.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/03bb9542c14c8f1aec14460e84ecd22054519477\">03bb954</a></td><td><code>Merge branch 'develop' into t/11537/units_in_polynomial_rings_with_prime_power_characteristic</code></td></tr></table>\n",
    "created_at": "2017-07-04T22:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119823",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:37" align="right">Comment 37</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/03bb9542c14c8f1aec14460e84ecd22054519477">03bb954</a></td><td><code>Merge branch 'develop' into t/11537/units_in_polynomial_rings_with_prime_power_characteristic</code></td></tr></table>




---

archive/issue_events_140742.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-07-04T22:58:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140742"
}
```



---

archive/issue_events_140743.json:
```json
{
    "actor": "https://github.com/sagetrac-msaaltink",
    "created_at": "2017-07-04T22:58:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140743"
}
```



---

archive/issue_comments_119824.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nI added a commit to introduce `constant_coefficient` for infinite polynomial rings. Please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/718b0e2c0526e6000f1608ddfc2853f0c4bd19c0\">718b0e2</a></td><td><code>11537: constant_coefficient for infinite polynomial</code></td></tr></table>\n",
    "created_at": "2017-07-06T07:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119824",
    "user": "https://github.com/videlec"
}
```

<div id="comment:39" align="right">Comment 39</div>

I added a commit to introduce `constant_coefficient` for infinite polynomial rings. Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/718b0e2c0526e6000f1608ddfc2853f0c4bd19c0">718b0e2</a></td><td><code>11537: constant_coefficient for infinite polynomial</code></td></tr></table>




---

archive/issue_comments_119825.json:
```json
{
    "body": "Changed commit from **[03bb954](https://github.com/sagemath/sagetrac-mirror/commit/03bb9542c14c8f1aec14460e84ecd22054519477)** to **[718b0e2](https://github.com/sagemath/sagetrac-mirror/commit/718b0e2c0526e6000f1608ddfc2853f0c4bd19c0)**",
    "created_at": "2017-07-06T07:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119825",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[03bb954](https://github.com/sagemath/sagetrac-mirror/commit/03bb9542c14c8f1aec14460e84ecd22054519477)** to **[718b0e2](https://github.com/sagemath/sagetrac-mirror/commit/718b0e2c0526e6000f1608ddfc2853f0c4bd19c0)**



---

archive/issue_comments_119826.json:
```json
{
    "body": "Changed branch from **[u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic)** to **[u/vdelecroix/11537](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/11537)**",
    "created_at": "2017-07-06T07:57:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119826",
    "user": "https://github.com/videlec"
}
```

Changed branch from **[u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic](https://github.com/sagemath/sagetrac-mirror/tree/u/msaaltink/units_in_polynomial_rings_with_prime_power_characteristic)** to **[u/vdelecroix/11537](https://github.com/sagemath/sagetrac-mirror/tree/u/vdelecroix/11537)**



---

archive/issue_comments_119827.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nWhile this is a straightforward change that makes an additional test case work, I had really hoped for a more comprehensive answer to the problems identified in trac #22514.  In my opinion, the right fix is to ensure that the `_p` attribute on an infinite polynomial is always in fact a polynomial, which would fix the `constant coefficient` problem as well as the many others identified in #22514.  That fix, if made, would make this new method unnecessary.",
    "created_at": "2017-07-06T15:14:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119827",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:40" align="right">Comment 40</div>

While this is a straightforward change that makes an additional test case work, I had really hoped for a more comprehensive answer to the problems identified in trac #22514.  In my opinion, the right fix is to ensure that the `_p` attribute on an infinite polynomial is always in fact a polynomial, which would fix the `constant coefficient` problem as well as the many others identified in #22514.  That fix, if made, would make this new method unnecessary.



---

archive/issue_events_140744.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-07-06T15:25:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140744"
}
```



---

archive/issue_events_140745.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2017-07-06T15:25:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140745"
}
```



---

archive/issue_comments_119828.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nI would be happy to have it the other way around, but then you should first fix #22514. Your branch attached to this ticket introduces a regression which is not good.",
    "created_at": "2017-07-06T15:25:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119828",
    "user": "https://github.com/videlec"
}
```

<div id="comment:41" align="right">Comment 41</div>

I would be happy to have it the other way around, but then you should first fix #22514. Your branch attached to this ticket introduces a regression which is not good.



---

archive/issue_comments_119829.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nNote that many methods would be simplified if the attribute `_p` would consistently be a polynomial...",
    "created_at": "2017-07-06T15:27:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119829",
    "user": "https://github.com/videlec"
}
```

<div id="comment:42" align="right">Comment 42</div>

Note that many methods would be simplified if the attribute `_p` would consistently be a polynomial...



---

archive/issue_comments_119830.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nI have pushed a proposed fix for #22514; if accepted it will make commit 718b0e2 unnecessary and will allow the test case for constant elements of an `InfinitePolynomialRing` to be successful.",
    "created_at": "2017-07-09T20:36:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11537#issuecomment-119830",
    "user": "https://github.com/sagetrac-msaaltink"
}
```

<div id="comment:43" align="right">Comment 43</div>

I have pushed a proposed fix for #22514; if accepted it will make commit 718b0e2 unnecessary and will allow the test case for constant elements of an `InfinitePolynomialRing` to be successful.



---

archive/issue_events_140746.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:39:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11537",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11537#event-140746"
}
```
