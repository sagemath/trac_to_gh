# Issue 11553: Matrix morphism additions

archive/issues_011381.json:
```json
{
    "assignees": [],
    "body": "Adds three methods to the matrix morphism class:\n\n1.  `is_bijective()`\n2.  `is_identity()`\n3.  `inverse()`\n\nI did not notice that `__invert__` via ~ was available by using tab-completion, which should explain the last one.\n\nIf there is a theme, it is better support for compositions of these morphisms.\n\n**Depends**\n1.  #11552\n\n**Apply:**\n1.  [attachment: trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)\n2.  [attachment: trac-11553-matrix-morphisms-additions-review-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review-v2.patch.gz)\n3.  [attachment: trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)\n\nDepends on #11552\nDepends on #10793\n\nAssignee: **@jasongrout, @williamstein**\n\nCC:  @simon-king-jena @miguelmarco\n\nKeywords: **sd32 bijective identity inverse**\n\nAuthor: **Rob Beezer**\n\nReviewer: **Martin Raum**\n\nMerged: **sage-4.7.2.alpha3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11553_\n\n",
    "closed_at": "2011-09-17T04:56:05Z",
    "created_at": "2011-06-28T23:23:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.7.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Matrix morphism additions",
    "type": "issue",
    "updated_at": "2011-09-17T04:56:05Z",
    "url": "https://github.com/sagemath/sage/issues/11553",
    "user": "https://github.com/rbeezer"
}
```
Adds three methods to the matrix morphism class:

1.  `is_bijective()`
2.  `is_identity()`
3.  `inverse()`

I did not notice that `__invert__` via ~ was available by using tab-completion, which should explain the last one.

If there is a theme, it is better support for compositions of these morphisms.

**Depends**
1.  #11552

**Apply:**
1.  [attachment: trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)
2.  [attachment: trac-11553-matrix-morphisms-additions-review-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review-v2.patch.gz)
3.  [attachment: trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)

Depends on #11552
Depends on #10793

Assignee: **@jasongrout, @williamstein**

CC:  @simon-king-jena @miguelmarco

Keywords: **sd32 bijective identity inverse**

Author: **Rob Beezer**

Reviewer: **Martin Raum**

Merged: **sage-4.7.2.alpha3**

_Issue created by migration from https://trac.sagemath.org/ticket/11553_





---

archive/issue_events_136315.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-06-28T23:23:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "milestone_number": null,
    "milestone_title": "sage-4.7.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136315"
}
```



---

archive/issue_events_136316.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-06-28T23:23:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "component: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136316"
}
```



---

archive/issue_events_136317.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-06-28T23:23:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136317"
}
```



---

archive/issue_events_136318.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-06-28T23:23:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136318"
}
```



---

archive/issue_comments_120127.json:
```json
{
    "body": "Attachment: **[trac_11553-matrix-morphisms-additions.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions.patch.gz)**",
    "created_at": "2011-06-28T23:35:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120127",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_11553-matrix-morphisms-additions.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions.patch.gz)**



---

archive/issue_comments_120128.json:
```json
{
    "body": "Author: **Rob Beezer**",
    "created_at": "2011-06-28T23:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120128",
    "user": "https://github.com/rbeezer"
}
```

Author: **Rob Beezer**



---

archive/issue_events_136319.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-06-28T23:37:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136319"
}
```



---

archive/issue_comments_120129.json:
```json
{
    "body": "Dependencies: **#11552**",
    "created_at": "2011-06-28T23:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120129",
    "user": "https://github.com/rbeezer"
}
```

Dependencies: **#11552**



---

archive/issue_comments_120130.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,3 +7,9 @@\n I did not notice that `__invert___` via ~ was available by using tab-completion, which should explain the last one.\n \n If there is a theme, it is better support for compositions of these morphisms.\n+\n+**Depends**\n+1.  #11552\n+\n+**Apply:**\n+1.  [attachment: trac_11553-matrix-morphisms-additions.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions.patch.gz)\n``````\n",
    "created_at": "2011-06-28T23:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120130",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,3 +7,9 @@
 I did not notice that `__invert___` via ~ was available by using tab-completion, which should explain the last one.
 
 If there is a theme, it is better support for compositions of these morphisms.
+
+**Depends**
+1.  #11552
+
+**Apply:**
+1.  [attachment: trac_11553-matrix-morphisms-additions.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions.patch.gz)
``````




---

archive/issue_comments_120131.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThe surjectivity test doesn't work fine over other euclidian domains:\n\n\n```\nsage: R=PolynomialRing(QQ,'x')\nsage: A=FreeModule(R,2)\nsage: B=FreeModule(R,2)\nsage: H=A.hom([B([x^2-1,1]),B([x^2,1])])\nsage: H   \nFree module morphism defined by the matrix\n[x^2 - 1       1]\n[    x^2       1]\nDomain: Ambient free module of rank 2 over the principal ideal domain ...\nCodomain: Ambient free module of rank 2 over the principal ideal domain ...\nsage: H.image()\nFree module of degree 2 and rank 2 over Univariate Polynomial Ring in x over Rational Field\nEchelon basis matrix:\n[ 1  0]\n[ 0 -1]        \nsage: H.is_surjective()\nFalse\nsage: H.is_injective()\nTrue\nsage: H.inverse()\nFree module morphism defined by the matrix\n[      -1        1]\n[     x^2 -x^2 + 1]\nDomain: Ambient free module of rank 2 over the principal ideal domain ...\nCodomain: Ambient free module of rank 2 over the principal ideal domain ...\nsage: H.is_identity()\nFalse\n\n```\n\n\nBut \n\n\n```\nsage: F=A.hom([B([x^2-1,1]),B([-x^2,-1])])\nsage: F.image()\nFree module of degree 2 and rank 2 over Univariate Polynomial Ring in x over Rational Field\nEchelon basis matrix:\n[1 0]\n[0 1]     \nsage: F.is_surjective()\nTrue\nsage: F.is         \nsage: F.is_identity()\nFalse\n```\n\n\nI think the problem is in ticket 11552, it still needs work.",
    "created_at": "2011-07-03T09:45:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120131",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:2'>Comment 2:</a>
The surjectivity test doesn't work fine over other euclidian domains:


```
sage: R=PolynomialRing(QQ,'x')
sage: A=FreeModule(R,2)
sage: B=FreeModule(R,2)
sage: H=A.hom([B([x^2-1,1]),B([x^2,1])])
sage: H   
Free module morphism defined by the matrix
[x^2 - 1       1]
[    x^2       1]
Domain: Ambient free module of rank 2 over the principal ideal domain ...
Codomain: Ambient free module of rank 2 over the principal ideal domain ...
sage: H.image()
Free module of degree 2 and rank 2 over Univariate Polynomial Ring in x over Rational Field
Echelon basis matrix:
[ 1  0]
[ 0 -1]        
sage: H.is_surjective()
False
sage: H.is_injective()
True
sage: H.inverse()
Free module morphism defined by the matrix
[      -1        1]
[     x^2 -x^2 + 1]
Domain: Ambient free module of rank 2 over the principal ideal domain ...
Codomain: Ambient free module of rank 2 over the principal ideal domain ...
sage: H.is_identity()
False

```


But 


```
sage: F=A.hom([B([x^2-1,1]),B([-x^2,-1])])
sage: F.image()
Free module of degree 2 and rank 2 over Univariate Polynomial Ring in x over Rational Field
Echelon basis matrix:
[1 0]
[0 1]     
sage: F.is_surjective()
True
sage: F.is         
sage: F.is_identity()
False
```


I think the problem is in ticket 11552, it still needs work.



---

archive/issue_comments_120132.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nStrikes me there is a more general problem with free module equality, which I will ask about on sage-devel:\n\n```\nsage: R = PolynomialRing(QQ, 'a')\nsage: x = vector(R, [1, 0])\nsage: y = vector(R, [0, 1])\nsage: z = vector(R, [0,-1])\nsage: A = (R^2).span([x, y])\nsage: B = (R^2).span([x, z])\nsage: A == B\nFalse\nsage: A.is_submodule(B)\nTrue\nsage: B.is_submodule(A)\nTrue\n```\n\nwhich at its root might be\n\n```\nsage: S = matrix([x, y])\nsage: S._echelon_form_PID()[1]\n[1 0]\n[0 1]\nsage: T = matrix([x, z])\nsage: T._echelon_form_PID()[1]\n[ 1  0]\n[ 0 -1]\n```",
    "created_at": "2011-07-05T21:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120132",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:3'>Comment 3:</a>
Strikes me there is a more general problem with free module equality, which I will ask about on sage-devel:

```
sage: R = PolynomialRing(QQ, 'a')
sage: x = vector(R, [1, 0])
sage: y = vector(R, [0, 1])
sage: z = vector(R, [0,-1])
sage: A = (R^2).span([x, y])
sage: B = (R^2).span([x, z])
sage: A == B
False
sage: A.is_submodule(B)
True
sage: B.is_submodule(A)
True
```

which at its root might be

```
sage: S = matrix([x, y])
sage: S._echelon_form_PID()[1]
[1 0]
[0 1]
sage: T = matrix([x, z])
sage: T._echelon_form_PID()[1]
[ 1  0]
[ 0 -1]
```



---

archive/issue_comments_120133.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nSee #11579 for an isolation of the problem above.  Surjectivity will be fixed on #11552.",
    "created_at": "2011-07-06T16:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120133",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:4'>Comment 4:</a>
See #11579 for an isolation of the problem above.  Surjectivity will be fixed on #11552.



---

archive/issue_comments_120134.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,4 @@\n 1.  #11552\n \n **Apply:**\n-1.  [attachment: trac_11553-matrix-morphisms-additions.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions.patch.gz)\n+1.  [attachment: trac_11553-matrix-morphisms-additions-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v2.patch.gz)\n``````\n",
    "created_at": "2011-07-14T02:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120134",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,4 @@
 1.  #11552
 
 **Apply:**
-1.  [attachment: trac_11553-matrix-morphisms-additions.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions.patch.gz)
+1.  [attachment: trac_11553-matrix-morphisms-additions-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v2.patch.gz)
``````




---

archive/issue_comments_120135.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nAttachment: **[trac_11553-matrix-morphisms-additions-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v2.patch.gz)**\n\nv2 patch adds a `nullity()` method for matrix morphisms, as a companion to the `rank()` method.",
    "created_at": "2011-07-14T02:39:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120135",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:5'>Comment 5:</a>
Attachment: **[trac_11553-matrix-morphisms-additions-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v2.patch.gz)**

v2 patch adds a `nullity()` method for matrix morphisms, as a companion to the `rank()` method.



---

archive/issue_comments_120136.json:
```json
{
    "body": "Attachment: **[trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)**",
    "created_at": "2011-07-16T05:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120136",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)**



---

archive/issue_comments_120137.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,4 @@\n 1.  #11552\n \n **Apply:**\n-1.  [attachment: trac_11553-matrix-morphisms-additions-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v2.patch.gz)\n+1.  [attachment: trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)\n``````\n",
    "created_at": "2011-07-16T05:28:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120137",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,4 @@
 1.  #11552
 
 **Apply:**
-1.  [attachment: trac_11553-matrix-morphisms-additions-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v2.patch.gz)
+1.  [attachment: trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)
``````




---

archive/issue_comments_120138.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nv3 patch makes `is_identity()` more robust, adds `is_zero()` and a test to see if two matrix morphisms are equal *as functions*, not just that they have the same representation.\n\nA few methods are relocated within the file, as well, to group things more logically.",
    "created_at": "2011-07-16T05:28:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120138",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:6'>Comment 6:</a>
v3 patch makes `is_identity()` more robust, adds `is_zero()` and a test to see if two matrix morphisms are equal *as functions*, not just that they have the same representation.

A few methods are relocated within the file, as well, to group things more logically.



---

archive/issue_comments_120139.json:
```json
{
    "body": "Reviewer: **Martin Raum**",
    "created_at": "2011-08-16T10:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120139",
    "user": "https://github.com/sagetrac-mraum"
}
```

Reviewer: **Martin Raum**



---

archive/issue_comments_120140.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nAttachment: **[trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)**\n\nI made some very minor changes to how to access the associated matrices. Also I added a one line documentation to the trace method. Please have a look at this and if every thing is OK, you can give it a positive review.",
    "created_at": "2011-08-16T10:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120140",
    "user": "https://github.com/sagetrac-mraum"
}
```

<a id='comment:7'>Comment 7:</a>
Attachment: **[trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)**

I made some very minor changes to how to access the associated matrices. Also I added a one line documentation to the trace method. Please have a look at this and if every thing is OK, you can give it a positive review.



---

archive/issue_comments_120141.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,3 +13,4 @@\n \n **Apply:**\n 1.  [attachment: trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)\n+2.  [attachment: trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)\n``````\n",
    "created_at": "2011-08-16T10:45:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120141",
    "user": "https://github.com/sagetrac-mraum"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,3 +13,4 @@
 
 **Apply:**
 1.  [attachment: trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)
+2.  [attachment: trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)
``````




---

archive/issue_events_136320.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-17T17:12:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136320"
}
```



---

archive/issue_events_136321.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-17T17:12:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136321"
}
```



---

archive/issue_comments_120142.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nMartin,\n\nThanks for the improvements.  The changes in the review patch look good to me, and pass tests in sage/modules, sage/matrix.  So, as suggested, I've set this to positive review.\n\nRob",
    "created_at": "2011-08-17T17:12:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120142",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:8'>Comment 8:</a>
Martin,

Thanks for the improvements.  The changes in the review patch look good to me, and pass tests in sage/modules, sage/matrix.  So, as suggested, I've set this to positive review.

Rob



---

archive/issue_comments_120143.json:
```json
{
    "body": "Changed dependencies from **#11552** to **#11552, #10793**",
    "created_at": "2011-08-22T14:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120143",
    "user": "https://github.com/jdemeyer"
}
```

Changed dependencies from **#11552** to **#11552, #10793**



---

archive/issue_comments_120144.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThis should be rebased to #10793 because of doctest failures:\n\n```\nsage -t  -force_lib devel/sage/sage/modules/matrix_morphism.py\n**********************************************************************\nFile \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/modules/matrix_morphism.py\", line 826:\n    sage: phi = V1.hom(m, V2)\nException raised:\n    Traceback (most recent call last):\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_26[5]>\", line 1, in <module>\n        phi = V1.hom(m, V2)###line 826:\n    sage: phi = V1.hom(m, V2)\n      File \"parent_gens.pyx\", line 471, in sage.structure.parent_gens.ParentWithGens.hom (sage/structure/parent_gens.c:3949)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/modules/free_module_homspace.py\", line 163, in __call__\n        return free_module_morphism.FreeModuleMorphism(self, A)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/modules/free_module_morphism.py\", line 83, in __init__\n        A = parent._matrix_space()(A)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/matrix/matrix_space.py\", line 451, in __call__\n        return self.matrix(entries, copy=copy, coerce=coerce, rows=rows)\n      File \"/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/matrix/matrix_space.py\", line 1221, in matrix\n        \"a matrix in %s!\" % (x.parent(), self))\n    ValueError: a matrix from Full MatrixSpace of 3 by 2 dense matrices over Rational Field cannot be converted to a matrix in Full MatrixSpace of 2 by 3 dense matrices over Rational Field!\n**********************************************************************\n```",
    "created_at": "2011-08-22T14:00:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120144",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'>Comment 9:</a>
This should be rebased to #10793 because of doctest failures:

```
sage -t  -force_lib devel/sage/sage/modules/matrix_morphism.py
**********************************************************************
File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/devel/sage-main/sage/modules/matrix_morphism.py", line 826:
    sage: phi = V1.hom(m, V2)
Exception raised:
    Traceback (most recent call last):
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_26[5]>", line 1, in <module>
        phi = V1.hom(m, V2)###line 826:
    sage: phi = V1.hom(m, V2)
      File "parent_gens.pyx", line 471, in sage.structure.parent_gens.ParentWithGens.hom (sage/structure/parent_gens.c:3949)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/modules/free_module_homspace.py", line 163, in __call__
        return free_module_morphism.FreeModuleMorphism(self, A)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/modules/free_module_morphism.py", line 83, in __init__
        A = parent._matrix_space()(A)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/matrix/matrix_space.py", line 451, in __call__
        return self.matrix(entries, copy=copy, coerce=coerce, rows=rows)
      File "/mnt/usb1/scratch/jdemeyer/merger/sage-4.7.2.alpha2/local/lib/python/site-packages/sage/matrix/matrix_space.py", line 1221, in matrix
        "a matrix in %s!" % (x.parent(), self))
    ValueError: a matrix from Full MatrixSpace of 3 by 2 dense matrices over Rational Field cannot be converted to a matrix in Full MatrixSpace of 2 by 3 dense matrices over Rational Field!
**********************************************************************
```



---

archive/issue_events_136322.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-22T14:00:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136322"
}
```



---

archive/issue_events_136323.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-08-22T14:00:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136323"
}
```



---

archive/issue_comments_120145.json:
```json
{
    "body": "Attachment: **[trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)**\n\nRebase of v3 patch",
    "created_at": "2011-08-23T03:30:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120145",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)**

Rebase of v3 patch



---

archive/issue_comments_120146.json:
```json
{
    "body": "Doctest matrix transposes",
    "created_at": "2011-08-23T03:30:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120146",
    "user": "https://github.com/rbeezer"
}
```

Doctest matrix transposes



---

archive/issue_comments_120147.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,5 +12,6 @@\n 1.  #11552\n \n **Apply:**\n-1.  [attachment: trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)\n+1.  [attachment: trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)\n 2.  [attachment: trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)\n+3.  [attachment: trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)\n``````\n",
    "created_at": "2011-08-23T03:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120147",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,5 +12,6 @@
 1.  #11552
 
 **Apply:**
-1.  [attachment: trac_11553-matrix-morphisms-additions-v3.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v3.patch.gz)
+1.  [attachment: trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)
 2.  [attachment: trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)
+3.  [attachment: trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)
``````




---

archive/issue_comments_120148.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nAttachment: **[trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)**\n\n4.7.2.alpha1 + #11552 + #10793\n\nRebased main patch to make v4 patch.  This was a trivial change.\n\nGot bit by the nasty bug that is fixed in #10793, so two doctests needed to have their matrix dimensions reversed (maybe not really transposes *per se*).  This minor change to the code is on the \"doctests\" patch and should require a (simple) review.",
    "created_at": "2011-08-23T03:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120148",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:10'>Comment 10:</a>
Attachment: **[trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)**

4.7.2.alpha1 + #11552 + #10793

Rebased main patch to make v4 patch.  This was a trivial change.

Got bit by the nasty bug that is fixed in #10793, so two doctests needed to have their matrix dimensions reversed (maybe not really transposes *per se*).  This minor change to the code is on the "doctests" patch and should require a (simple) review.



---

archive/issue_events_136324.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-23T03:36:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136324"
}
```



---

archive/issue_events_136325.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2011-08-23T03:36:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136325"
}
```



---

archive/issue_comments_120149.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI tested this on alpha2, which has #11552 and #10793 applied. No problem with this.  In particular, the small changes to the doctests are all right.",
    "created_at": "2011-08-25T09:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120149",
    "user": "https://github.com/sagetrac-mraum"
}
```

<a id='comment:11'>Comment 11:</a>
I tested this on alpha2, which has #11552 and #10793 applied. No problem with this.  In particular, the small changes to the doctests are all right.



---

archive/issue_events_136326.json:
```json
{
    "actor": "https://github.com/sagetrac-mraum",
    "created_at": "2011-08-25T09:01:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136326"
}
```



---

archive/issue_events_136327.json:
```json
{
    "actor": "https://github.com/sagetrac-mraum",
    "created_at": "2011-08-25T09:01:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136327"
}
```



---

archive/issue_comments_120150.json:
```json
{
    "body": "Changed keywords from **** to **sd32**",
    "created_at": "2011-08-25T19:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120150",
    "user": "https://github.com/rbeezer"
}
```

Changed keywords from **** to **sd32**



---

archive/issue_comments_120151.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n 2.  `is_identity()`\n 3.  `inverse()`\n \n-I did not notice that `__invert___` via ~ was available by using tab-completion, which should explain the last one.\n+I did not notice that `__invert__` via ~ was available by using tab-completion, which should explain the last one.\n \n If there is a theme, it is better support for compositions of these morphisms.\n \n``````\n",
    "created_at": "2011-09-08T15:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120151",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 2.  `is_identity()`
 3.  `inverse()`
 
-I did not notice that `__invert___` via ~ was available by using tab-completion, which should explain the last one.
+I did not notice that `__invert__` via ~ was available by using tab-completion, which should explain the last one.
 
 If there is a theme, it is better support for compositions of these morphisms.
 
``````




---

archive/issue_comments_120152.json:
```json
{
    "body": "Changed keywords from **sd32** to **sd32 bijective identity inverse**",
    "created_at": "2011-09-08T15:15:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120152",
    "user": "https://github.com/nexttime"
}
```

Changed keywords from **sd32** to **sd32 bijective identity inverse**



---

archive/issue_comments_120153.json:
```json
{
    "body": "Attachment: **[trac-11553-matrix-morphisms-additions-review-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review-v2.patch.gz)**",
    "created_at": "2011-09-14T04:25:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120153",
    "user": "https://github.com/rbeezer"
}
```

Attachment: **[trac-11553-matrix-morphisms-additions-review-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review-v2.patch.gz)**



---

archive/issue_comments_120154.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\n\"review-v2\" patch is a trivial rebase to eliminate a fuzz warning.  I'm going to presume this does not need a change in review status.",
    "created_at": "2011-09-14T04:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120154",
    "user": "https://github.com/rbeezer"
}
```

<a id='comment:14'>Comment 14:</a>
"review-v2" patch is a trivial rebase to eliminate a fuzz warning.  I'm going to presume this does not need a change in review status.



---

archive/issue_comments_120155.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,5 +13,5 @@\n \n **Apply:**\n 1.  [attachment: trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)\n-2.  [attachment: trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)\n+2.  [attachment: trac-11553-matrix-morphisms-additions-review-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review-v2.patch.gz)\n 3.  [attachment: trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)\n``````\n",
    "created_at": "2011-09-14T04:27:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120155",
    "user": "https://github.com/rbeezer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,5 +13,5 @@
 
 **Apply:**
 1.  [attachment: trac_11553-matrix-morphisms-additions-v4.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-additions-v4.patch.gz)
-2.  [attachment: trac-11553-matrix-morphisms-additions-review.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review.patch.gz)
+2.  [attachment: trac-11553-matrix-morphisms-additions-review-v2.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac-11553-matrix-morphisms-additions-review-v2.patch.gz)
 3.  [attachment: trac_11553-matrix-morphisms-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11553/trac_11553-matrix-morphisms-doctests.patch.gz)
``````




---

archive/issue_comments_120156.json:
```json
{
    "body": "Changed dependencies from **#11552, #10793** to **#11552 #10793**",
    "created_at": "2011-09-17T04:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120156",
    "user": "https://github.com/nexttime"
}
```

Changed dependencies from **#11552, #10793** to **#11552 #10793**



---

archive/issue_comments_120157.json:
```json
{
    "body": "Merged: **sage-4.7.2.alpha3**",
    "created_at": "2011-09-17T04:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11553#issuecomment-120157",
    "user": "https://github.com/nexttime"
}
```

Merged: **sage-4.7.2.alpha3**



---

archive/issue_events_136328.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-17T04:56:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136328"
}
```



---

archive/issue_events_136329.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2011-09-17T04:56:05Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11553",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11553#event-136329"
}
```
