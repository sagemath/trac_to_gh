# Issue 11861: Saturation of ideals

archive/issues_011689.json:
```json
{
    "body": "Returns the saturation of ideal with respect to another ideal.\nEXAMPLE:\n\n```\nsage: R.<x,y,z>=QQ[]\nsage: I = R.ideal(x^5*z^3,x*y*z,y*z^4)\nsage: J = R.ideal(z)\nsage: I.saturation(J)\nIdeal (y, x^5) of Multivariate Polynomial Ring in x, y, z over Rational Field\n```\n\napply \n\n* [attachment:11861_one_method.patch]\n* [attachment:trac_11861_review.patch]\n\nAssignee: @malb\n\nCC:  @burcin simonking\n\nKeywords: saturation, ideal, sd34\n\nReviewer: Luis Felipe Tabera Alonso, Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Hiep Dang, Miguel Marco\n\nMerged: sage-5.12.beta3\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/11861\n\n",
    "closed_at": "2013-08-20T12:54:49Z",
    "created_at": "2011-09-28T13:33:13Z",
    "labels": [
        "component: commutative algebra",
        "trivial",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.12",
    "title": "Saturation of ideals",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11861",
    "user": "https://trac.sagemath.org/admin/accounts/users/dangtuanhiep"
}
```
Returns the saturation of ideal with respect to another ideal.
EXAMPLE:

```
sage: R.<x,y,z>=QQ[]
sage: I = R.ideal(x^5*z^3,x*y*z,y*z^4)
sage: J = R.ideal(z)
sage: I.saturation(J)
Ideal (y, x^5) of Multivariate Polynomial Ring in x, y, z over Rational Field
```

apply 

* [attachment:11861_one_method.patch]
* [attachment:trac_11861_review.patch]

Assignee: @malb

CC:  @burcin simonking

Keywords: saturation, ideal, sd34

Reviewer: Luis Felipe Tabera Alonso, Frédéric Chapoton

Author: Hiep Dang, Miguel Marco

Merged: sage-5.12.beta3

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/11861





---

archive/issue_comments_167487.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [trac_11861_saturation_ideal.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_saturation_ideal.patch) by dangtuanhiep created at 2011-09-28 14:01:00",
    "created_at": "2011-09-28T14:01:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167487",
    "user": "https://trac.sagemath.org/admin/accounts/users/dangtuanhiep"
}
```

<a id='comment:1'></a>
Attachment [trac_11861_saturation_ideal.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_saturation_ideal.patch) by dangtuanhiep created at 2011-09-28 14:01:00



---

archive/issue_comments_167488.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-09-28T14:58:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167488",
    "user": "https://trac.sagemath.org/admin/accounts/users/dangtuanhiep"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_167489.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Luis Felipe Tabera Alonso\"",
    "created_at": "2011-10-04T15:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167489",
    "user": "https://github.com/lftabera"
}
```

Changing reviewer from "" to "Luis Felipe Tabera Alonso"



---

archive/issue_comments_167490.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2011-10-04T15:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167490",
    "user": "https://github.com/lftabera"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_167491.json:
```json
{
    "body": "<a id='comment:3'></a>\nNice addition, I will use this method a lot.\n\nSome comments:\n\n- I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?\n\n- I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.\n\n- I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.\n\n- I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.",
    "created_at": "2011-10-04T15:56:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167491",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:3'></a>
Nice addition, I will use this method a lot.

Some comments:

- I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?

- I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.

- I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.

- I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.



---

archive/issue_comments_167492.json:
```json
{
    "body": "<a id='comment:4'></a>\nReplying to [lftabera](#comment%3A3):\n> Nice addition, I will use this method a lot.\n> \n> Some comments:\n> \n> - I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?\n> \n> - I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.\n\n\nOtherwise, ``@`cached_method` is your friend :)\n \n> - I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.\n\n\nAgred, the parameters are not documented at all, `INPUT:` block etc.\n \n> - I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.",
    "created_at": "2011-10-04T16:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167492",
    "user": "https://github.com/malb"
}
```

<a id='comment:4'></a>
Replying to [lftabera](#comment%3A3):
> Nice addition, I will use this method a lot.
> 
> Some comments:
> 
> - I cannot apply the patch cleanly agains Sage 4.7.1 Which version are you using?
> 
> - I think that having two separate functions is inefficient. Computing saturations    is very expensive. Many people computing the saturation index will probably want the saturation ideal as well. In this case they would need to compute the saturation twice. I think it is better to add only one method that returns the answer from Singular. A tuple whose first element is the saturation ideal and the second element the saturation index.


Otherwise, ``@`cached_method` is your friend :)
 
> - I suggest to improve the documentation. Some indication that `arg` is an ideal, what is the saturation of two ideals and the saturation index.


Agred, the parameters are not documented at all, `INPUT:` block etc.
 
> - I am not sure how to deal with the rings that Singular does not understand. We will probably get a TypeError exception on those. Probably a NonImplementedError would make more sense here.



---

archive/issue_comments_167493.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [malb](#comment%3A4):\n\n> > - I think that having two separate functions is inefficient. Computing saturations    is very expensive.\n \n> \n> Otherwise, ``@`cached_method` is your friend :)\n\n\nYes, but I would try to avoid caching structures that can easily eat all your memory.",
    "created_at": "2011-10-05T07:39:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167493",
    "user": "https://github.com/lftabera"
}
```

<a id='comment:5'></a>
Replying to [malb](#comment%3A4):

> > - I think that having two separate functions is inefficient. Computing saturations    is very expensive.
 
> 
> Otherwise, ``@`cached_method` is your friend :)


Yes, but I would try to avoid caching structures that can easily eat all your memory.



---

archive/issue_comments_167494.json:
```json
{
    "body": "Attachment [11861_one_method.patch](tarball://root/attachments/some-uuid/ticket11861/11861_one_method.patch) by @miguelmarco created at 2013-07-01 13:06:12\n\nNew version, returns a tuple with both the ideal and the index.",
    "created_at": "2013-07-01T13:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167494",
    "user": "https://github.com/miguelmarco"
}
```

Attachment [11861_one_method.patch](tarball://root/attachments/some-uuid/ticket11861/11861_one_method.patch) by @miguelmarco created at 2013-07-01 13:06:12

New version, returns a tuple with both the ideal and the index.



---

archive/issue_comments_167495.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2013-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167495",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_167496.json:
```json
{
    "body": "Changing author from \"Hiep Dang\" to \"Hiep Dang, mmarco\"",
    "created_at": "2013-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167496",
    "user": "https://github.com/miguelmarco"
}
```

Changing author from "Hiep Dang" to "Hiep Dang, mmarco"



---

archive/issue_comments_167497.json:
```json
{
    "body": "<a id='comment:6'></a>\nMade a new patch (to be applied directly to a clean version of sage), that returns a tuple with both the saturation ideal and the saturation index.",
    "created_at": "2013-07-01T13:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167497",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:6'></a>
Made a new patch (to be applied directly to a clean version of sage), that returns a tuple with both the saturation ideal and the saturation index.



---

archive/issue_comments_167498.json:
```json
{
    "body": "<a id='comment:7'></a>\nfor the bot:\n\napply only 11861_one_method.patch",
    "created_at": "2013-08-02T09:52:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167498",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
for the bot:

apply only 11861_one_method.patch



---

archive/issue_comments_167499.json:
```json
{
    "body": "<a id='comment:8'></a>\nAttachment [trac_11861_review.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_review.patch) by @fchapoton created at 2013-08-02 10:13:29\n\nhere is a review patch. if you are happy with my changes, you can set the ticket to positive review",
    "created_at": "2013-08-02T10:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167499",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
Attachment [trac_11861_review.patch](tarball://root/attachments/some-uuid/ticket11861/trac_11861_review.patch) by @fchapoton created at 2013-08-02 10:13:29

here is a review patch. if you are happy with my changes, you can set the ticket to positive review



---

archive/issue_comments_167500.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -8,3 +8,8 @@\n sage: I.saturation(J)\n Ideal (y, x^5) of Multivariate Polynomial Ring in x, y, z over Rational Field\n ```\n+\n+apply \n+\n+* [attachment:11861_one_method.patch]\n+* [attachment:trac_11861_review.patch]\n``````\n",
    "created_at": "2013-08-02T10:13:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167500",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -8,3 +8,8 @@
 sage: I.saturation(J)
 Ideal (y, x^5) of Multivariate Polynomial Ring in x, y, z over Rational Field
 ```
+
+apply 
+
+* [attachment:11861_one_method.patch]
+* [attachment:trac_11861_review.patch]
``````




---

archive/issue_comments_167501.json:
```json
{
    "body": "<a id='comment:9'></a>\nOk, looks good to me.",
    "created_at": "2013-08-02T15:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167501",
    "user": "https://github.com/miguelmarco"
}
```

<a id='comment:9'></a>
Ok, looks good to me.



---

archive/issue_comments_167502.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2013-08-02T15:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167502",
    "user": "https://github.com/miguelmarco"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_036978.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-02T15:31:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11861#event-36978"
}
```



---

archive/issue_comments_167503.json:
```json
{
    "body": "Changing author from \"Hiep Dang, mmarco\" to \"Hiep Dang, Miguel Marco\"",
    "created_at": "2013-08-19T06:49:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167503",
    "user": "https://github.com/jdemeyer"
}
```

Changing author from "Hiep Dang, mmarco" to "Hiep Dang, Miguel Marco"



---

archive/issue_comments_167504.json:
```json
{
    "body": "Changing reviewer from \"Luis Felipe Tabera Alonso\" to \"Luis Felipe Tabera Alonso, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2013-08-19T07:57:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167504",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "Luis Felipe Tabera Alonso" to "Luis Felipe Tabera Alonso, Frédéric Chapoton"



---

archive/issue_comments_167505.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-5.12.beta3\"",
    "created_at": "2013-08-20T12:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167505",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-5.12.beta3"



---

archive/issue_comments_167506.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2013-08-20T12:54:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11861#issuecomment-167506",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_events_036979.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-20T12:54:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11861",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11861#event-36979"
}
```
