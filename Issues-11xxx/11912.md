# Issue 11912: Clarify simplify_radical and Maxima's radcan

archive/issues_011740.json:
```json
{
    "body": "We use Maxima's [radcan](http://maxima.sourceforge.net/docs/manual/en/maxima_9.html#Item_003a-radcan) (warning - link may change) for `simplify_radical`.  The documentation claims \n\n```\nSimplifies expr, which can contain logs, exponentials, and radicals, by\nconverting it into a form which is canonical over a large class of expressions\nand a given ordering of variables; that is, all functionally equivalent forms\nare mapped into a unique form. For a somewhat larger class of expressions,\nradcan produces a regular form. Two equivalent expressions in this class do\nnot necessarily have the same appearance, but their difference can be\nsimplified by radcan to zero.\n\nFor some expressions radcan is quite time consuming. This is the cost of\nexploring certain relationships among the components of the expression for\nsimplifications based on factoring and partial-fraction expansions of\nexponents. \n```\nbut it can be really hard to tell exactly what this all means.  See [this ask.sagemath.org question](http://ask.sagemath.org/question/767/simplification-errors-in-simple-expressions) and #8497, to which this is a followup.\n\nThe plan is to rename `simplify_radical()` to `radcan()` to match the upstream name. We can then alias `simplify_radical()` to `radcan()`, and deprecate the `simplify_radical()` name.\n\nAfterwards we can attempt to clarify the docs, and provide more examples of `radcan()`'s usage. We should provide both cautionary examples from our tickets, and some of the use cases that Dr. Fateman has described.\n\n\nAssignee: mvngu\n\nCC:  @burcin @zimmermann6\n\nKeywords: sd48\n\nBranch/Commit: 5d24f4c71b07beef87cc6b27df7f7cc37c29071e\n\nReviewer: Karl-Dieter Crisman\n\nAuthor: Michael Orlitzky\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/11912\n\n",
    "closed_at": "2014-11-22T17:18:36Z",
    "created_at": "2011-10-10T12:46:13Z",
    "labels": [
        "component: documentation",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.4",
    "title": "Clarify simplify_radical and Maxima's radcan",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11912",
    "user": "https://github.com/kcrisman"
}
```
We use Maxima's [radcan](http://maxima.sourceforge.net/docs/manual/en/maxima_9.html#Item_003a-radcan) (warning - link may change) for `simplify_radical`.  The documentation claims 

```
Simplifies expr, which can contain logs, exponentials, and radicals, by
converting it into a form which is canonical over a large class of expressions
and a given ordering of variables; that is, all functionally equivalent forms
are mapped into a unique form. For a somewhat larger class of expressions,
radcan produces a regular form. Two equivalent expressions in this class do
not necessarily have the same appearance, but their difference can be
simplified by radcan to zero.

For some expressions radcan is quite time consuming. This is the cost of
exploring certain relationships among the components of the expression for
simplifications based on factoring and partial-fraction expansions of
exponents. 
```
but it can be really hard to tell exactly what this all means.  See [this ask.sagemath.org question](http://ask.sagemath.org/question/767/simplification-errors-in-simple-expressions) and #8497, to which this is a followup.

The plan is to rename `simplify_radical()` to `radcan()` to match the upstream name. We can then alias `simplify_radical()` to `radcan()`, and deprecate the `simplify_radical()` name.

Afterwards we can attempt to clarify the docs, and provide more examples of `radcan()`'s usage. We should provide both cautionary examples from our tickets, and some of the use cases that Dr. Fateman has described.


Assignee: mvngu

CC:  @burcin @zimmermann6

Keywords: sd48

Branch/Commit: 5d24f4c71b07beef87cc6b27df7f7cc37c29071e

Reviewer: Karl-Dieter Crisman

Author: Michael Orlitzky

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/11912





---

archive/issue_comments_141014.json:
```json
{
    "body": "<a id='comment:1'></a>We should probably solve this at the same time as #12737.",
    "created_at": "2013-06-18T18:44:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141014",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>We should probably solve this at the same time as #12737.



---

archive/issue_comments_141015.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -16,6 +16,11 @@\n ```\n but it can be really hard to tell exactly what this all means.  See [this ask.sagemath.org question](http://ask.sagemath.org/question/767/simplification-errors-in-simple-expressions) and #8497, to which this is a followup.\n \n+The plan is to rename `simplify_radical()` to `radcan()` to match the upstream name. We can then alias `simplify_radical()` to `radcan()`, and deprecate the `simplify_radical()` name.\n+\n+Afterwards we can attempt to clarify the docs, and provide more examples of `radcan()`'s usage. We should provide both cautionary examples from our tickets, and some of the use cases that Dr. Fateman has described.\n+\n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/11912\n```\n",
    "created_at": "2013-06-18T19:26:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141015",
    "user": "https://github.com/orlitzky"
}
```

Description changed:
```diff
--- 
+++ 
@@ -16,6 +16,11 @@
 ```
 but it can be really hard to tell exactly what this all means.  See [this ask.sagemath.org question](http://ask.sagemath.org/question/767/simplification-errors-in-simple-expressions) and #8497, to which this is a followup.
 
+The plan is to rename `simplify_radical()` to `radcan()` to match the upstream name. We can then alias `simplify_radical()` to `radcan()`, and deprecate the `simplify_radical()` name.
+
+Afterwards we can attempt to clarify the docs, and provide more examples of `radcan()`'s usage. We should provide both cautionary examples from our tickets, and some of the use cases that Dr. Fateman has described.
+
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/11912
```




---

archive/issue_comments_141016.json:
```json
{
    "body": "Replying to [ticket:11912 kcrisman]:\n\n> The plan is to rename `simplify_radical()` to `radcan()` to match the upstream name. We can then alias `simplify_radical()` to `radcan()`, and deprecate the `simplify_radical()` name.\n\n\nWhy would we use the Maxima name? It doesn't match any Sage convention. I suggest `radical_canonicalize()` or `canonicalize_radical()` in anticipation of other `canonicalize_*()` methods.",
    "created_at": "2013-06-18T19:58:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141016",
    "user": "https://github.com/burcin"
}
```

Replying to [ticket:11912 kcrisman]:

> The plan is to rename `simplify_radical()` to `radcan()` to match the upstream name. We can then alias `simplify_radical()` to `radcan()`, and deprecate the `simplify_radical()` name.


Why would we use the Maxima name? It doesn't match any Sage convention. I suggest `radical_canonicalize()` or `canonicalize_radical()` in anticipation of other `canonicalize_*()` methods.



---

archive/issue_comments_141017.json:
```json
{
    "body": "<a id='comment:4'></a>There is `Expression.rectform()` (also my fault), but I don't particularly care about the name. Of those two I think I prefer `radical_canonicalize()`.",
    "created_at": "2013-06-18T20:33:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141017",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:4'></a>There is `Expression.rectform()` (also my fault), but I don't particularly care about the name. Of those two I think I prefer `radical_canonicalize()`.



---

archive/issue_comments_141018.json:
```json
{
    "body": "<a id='comment:5'></a>Actually, I take that back -- `canonicalize_radical()` would be better for tab completion if we add other `canonicalize_foo()` methods.",
    "created_at": "2013-06-18T20:34:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141018",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:5'></a>Actually, I take that back -- `canonicalize_radical()` would be better for tab completion if we add other `canonicalize_foo()` methods.



---

archive/issue_comments_141019.json:
```json
{
    "body": "<a id='comment:6'></a>Attachment [sage-trac_11912.patch](tarball://root/attachments/some-uuid/ticket11912/sage-trac_11912.patch) by @orlitzky created at 2013-06-18 23:23:26\n\nHere's the deprecation/rename, and a few changes to the docs. I haven't been able to come up with any good use cases for radcan(), but I'm not feeling very imaginative today.",
    "created_at": "2013-06-18T23:23:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141019",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:6'></a>Attachment [sage-trac_11912.patch](tarball://root/attachments/some-uuid/ticket11912/sage-trac_11912.patch) by @orlitzky created at 2013-06-18 23:23:26

Here's the deprecation/rename, and a few changes to the docs. I haven't been able to come up with any good use cases for radcan(), but I'm not feeling very imaginative today.



---

archive/issue_comments_141020.json:
```json
{
    "body": "<a id='comment:7'></a>Note: I haven't updated the function name anywhere, so a ton of tests fail. Just looking for some ideas for now.",
    "created_at": "2013-06-18T23:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141020",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:7'></a>Note: I haven't updated the function name anywhere, so a ton of tests fail. Just looking for some ideas for now.



---

archive/issue_comments_141021.json:
```json
{
    "body": "<a id='comment:8'></a>Yeah, and we'll need a doctest for the deprecation as well.  Let's think about this for a day or two, but resolve it by the end of SD 48.   I think that looking at the simplifications that `simplify_radical()` does would be sufficient.",
    "created_at": "2013-06-18T23:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141021",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:8'></a>Yeah, and we'll need a doctest for the deprecation as well.  Let's think about this for a day or two, but resolve it by the end of SD 48.   I think that looking at the simplifications that `simplify_radical()` does would be sufficient.



---

archive/issue_comments_141022.json:
```json
{
    "body": "Changing keywords from \"\" to \"sd48\".",
    "created_at": "2013-06-18T23:33:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141022",
    "user": "https://github.com/kcrisman"
}
```

Changing keywords from "" to "sd48".



---

archive/issue_comments_141023.json:
```json
{
    "body": "<a id='comment:9'></a>See [comment:21:ticket:12737 this comment] for both some good use cases *and* some potential new aliases...",
    "created_at": "2013-07-03T18:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141023",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>See [comment:21:ticket:12737 this comment] for both some good use cases *and* some potential new aliases...



---

archive/issue_events_031488.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31488"
}
```



---

archive/issue_events_031489.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31489"
}
```



---

archive/issue_events_031490.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31490"
}
```



---

archive/issue_events_031491.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31491"
}
```



---

archive/issue_events_031492.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31492"
}
```



---

archive/issue_events_031493.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31493"
}
```



---

archive/issue_events_031494.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31494"
}
```



---

archive/issue_comments_141024.json:
```json
{
    "body": "<a id='comment:14'></a>Rewrote the patch as a git branch, and added the deprecation tests. Also fixed the usage in the rest of the sage library.\n\n---\nNew commits:",
    "created_at": "2014-11-17T03:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141024",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:14'></a>Rewrote the patch as a git branch, and added the deprecation tests. Also fixed the usage in the rest of the sage library.

---
New commits:



---

archive/issue_comments_141025.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-11-17T03:21:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141025",
    "user": "https://github.com/orlitzky"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_141026.json:
```json
{
    "body": "<a id='comment:15'></a>Probably see also #3520.",
    "created_at": "2014-11-17T17:34:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141026",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:15'></a>Probably see also #3520.



---

archive/issue_comments_141027.json:
```json
{
    "body": "<a id='comment:16'></a>Any thoughts on `canonicalize_exp` or `canonicalize_log`?  (One could even deprecate the other functions in favor of the other names... just thinking out loud.)  I also think this one should depend on #14630, because then you can also mention it in a few examples where it would be relevant (e.g. `If you don't want this kind of \"simplification,\"...`), not to mention the likely conflict in the patches anyway.",
    "created_at": "2014-11-18T03:41:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141027",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:16'></a>Any thoughts on `canonicalize_exp` or `canonicalize_log`?  (One could even deprecate the other functions in favor of the other names... just thinking out loud.)  I also think this one should depend on #14630, because then you can also mention it in a few examples where it would be relevant (e.g. `If you don't want this kind of "simplification,"...`), not to mention the likely conflict in the patches anyway.



---

archive/issue_comments_141028.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-18T15:22:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141028",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_141029.json:
```json
{
    "body": "<a id='comment:18'></a>I just pushed another commit adding the example from #3520. I'm against adding `canonicalize_exp` and `canonicalize_log` methods, since they don't seem to serve a purpose and can cause bugs. For example, see the change I made in relation.py:\n\n```\n #Try to apply some simplifications to see if left - right == 0\n- simp_list = [difference.simplify_log, difference.simplify_rational, difference.simplify_exp,difference.simplify_radical,difference.simplify_trig]\n+ simp_list = [difference.simplify_log, difference.simplify_rational,difference.canonicalize_radical,difference.simplify_trig]\n```\n\nBoth `simplify_exp` and `simplify_radical` were being called, wasting cycles, because they're the same thing!\n\nI can see the benefit for things like `full_simplify()` where we're mimicking the Mathematica name so that new users can find it through tab completion. But for `canonicalize_*` I don't think it's going to do us any good.\n\nI agree that ideally this and #14630 should have some kind of dependency, but practically, they both may sit around waiting for review for a while. I'd rather not put up roadblocks to either one getting reviewed; when one of them gets in, I'll go update the other branch.",
    "created_at": "2014-11-18T15:33:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141029",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:18'></a>I just pushed another commit adding the example from #3520. I'm against adding `canonicalize_exp` and `canonicalize_log` methods, since they don't seem to serve a purpose and can cause bugs. For example, see the change I made in relation.py:

```
 #Try to apply some simplifications to see if left - right == 0
- simp_list = [difference.simplify_log, difference.simplify_rational, difference.simplify_exp,difference.simplify_radical,difference.simplify_trig]
+ simp_list = [difference.simplify_log, difference.simplify_rational,difference.canonicalize_radical,difference.simplify_trig]
```

Both `simplify_exp` and `simplify_radical` were being called, wasting cycles, because they're the same thing!

I can see the benefit for things like `full_simplify()` where we're mimicking the Mathematica name so that new users can find it through tab completion. But for `canonicalize_*` I don't think it's going to do us any good.

I agree that ideally this and #14630 should have some kind of dependency, but practically, they both may sit around waiting for review for a while. I'd rather not put up roadblocks to either one getting reviewed; when one of them gets in, I'll go update the other branch.



---

archive/issue_comments_141030.json:
```json
{
    "body": "<a id='comment:19'></a>> I can see the benefit for things like `full_simplify()` where we're mimicking the Mathematica name so that new users can find it through tab completion. But for `canonicalize_*` I don't think it's going to do us any good.\n\n\nHmm.  So should this even be called `canonicalize_radical` or maybe something else that indicates it doesn't just do radicals?  I wonder why they chose that name in Maxima - maybe there is something in the algorithm that is 'radical'?  (Pun intended.)",
    "created_at": "2014-11-18T16:09:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141030",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'></a>> I can see the benefit for things like `full_simplify()` where we're mimicking the Mathematica name so that new users can find it through tab completion. But for `canonicalize_*` I don't think it's going to do us any good.


Hmm.  So should this even be called `canonicalize_radical` or maybe something else that indicates it doesn't just do radicals?  I wonder why they chose that name in Maxima - maybe there is something in the algorithm that is 'radical'?  (Pun intended.)



---

archive/issue_comments_141031.json:
```json
{
    "body": "<a id='comment:20'></a>Also, I think you repeated some wording in the doc - maybe it's repeated in Maxima, but still that seems unnecessary here.\n\n```\n+            All functionally equivalent forms are mapped into a unique\n+            form. For a somewhat larger class of expressions, produces\n+            a regular form. Two equivalent expressions in this class\n+            do not necessarily have the same appearance, but their\n+            difference can be transformed by radcan to zero.\n+\n```",
    "created_at": "2014-11-18T16:10:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141031",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:20'></a>Also, I think you repeated some wording in the doc - maybe it's repeated in Maxima, but still that seems unnecessary here.

```
+            All functionally equivalent forms are mapped into a unique
+            form. For a somewhat larger class of expressions, produces
+            a regular form. Two equivalent expressions in this class
+            do not necessarily have the same appearance, but their
+            difference can be transformed by radcan to zero.
+
```



---

archive/issue_comments_141032.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-18T16:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141032",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_141033.json:
```json
{
    "body": "<a id='comment:22'></a>Replying to [comment:19 kcrisman]:\n> \n> Hmm.  So should this even be called `canonicalize_radical` or maybe something else that indicates it doesn't just do radicals?  I wonder why they chose that name in Maxima - maybe there is something in the algorithm that is 'radical'?  (Pun intended.)\n\n\nMaybe you just have to think of the complex square root in terms of the complex exponential and logarithm, at which point it becomes OK for `canonicalize_radical()` to affect certain log/exp expressions?",
    "created_at": "2014-11-18T16:29:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141033",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:22'></a>Replying to [comment:19 kcrisman]:
> 
> Hmm.  So should this even be called `canonicalize_radical` or maybe something else that indicates it doesn't just do radicals?  I wonder why they chose that name in Maxima - maybe there is something in the algorithm that is 'radical'?  (Pun intended.)


Maybe you just have to think of the complex square root in terms of the complex exponential and logarithm, at which point it becomes OK for `canonicalize_radical()` to affect certain log/exp expressions?



---

archive/issue_comments_141034.json:
```json
{
    "body": "<a id='comment:23'></a>In `def simplify`,\n\n```\n        .. seealso::\n\n           :meth:`simplify_full`, :meth:`simplify_trig`,\n           :meth:`simplify_rational`, :meth:`simplify_factorial`,\n           :meth:`simplify_log`\n```\nYou just removed it here rather than replacing it; intentional or not?  It's still useful, could put a reference in.   \n\n(For that matter, we also now have several *other* `simplify_foo` methods which should be added to the lists of simplifications in a few places.)\n\n```diff\n # Add elementwise methods.\n for method in ['simplify', 'simplify_exp', 'simplify_factorial',\n         'simplify_log', 'simplify_radical', 'simplify_rational',\n-        'simplify_trig', 'simplify_full', 'trig_expand', 'trig_reduce']:\n+        'simplify_trig', 'simplify_full', 'trig_expand',\n+        'canonicalize_radical', 'trig_reduce']:\n     setattr(Vector_symbolic_dense, method, apply_map(getattr(Expression, method)))\n```\nWhy is this keeping `simplify_radical`?\n\n> Maybe you just have to think of the complex square root in terms of the complex exponential and logarithm, at which point it becomes OK for canonicalize_radical() to affect certain log/exp expressions?\n\nSure!  But I mean that the name, if anything, is more about exp/log then as opposed to radicals.  Just seems curious, and wondering whether a better name is possible.  It may not be.",
    "created_at": "2014-11-18T16:36:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141034",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:23'></a>In `def simplify`,

```
        .. seealso::

           :meth:`simplify_full`, :meth:`simplify_trig`,
           :meth:`simplify_rational`, :meth:`simplify_factorial`,
           :meth:`simplify_log`
```
You just removed it here rather than replacing it; intentional or not?  It's still useful, could put a reference in.   

(For that matter, we also now have several *other* `simplify_foo` methods which should be added to the lists of simplifications in a few places.)

```diff
 # Add elementwise methods.
 for method in ['simplify', 'simplify_exp', 'simplify_factorial',
         'simplify_log', 'simplify_radical', 'simplify_rational',
-        'simplify_trig', 'simplify_full', 'trig_expand', 'trig_reduce']:
+        'simplify_trig', 'simplify_full', 'trig_expand',
+        'canonicalize_radical', 'trig_reduce']:
     setattr(Vector_symbolic_dense, method, apply_map(getattr(Expression, method)))
```
Why is this keeping `simplify_radical`?

> Maybe you just have to think of the complex square root in terms of the complex exponential and logarithm, at which point it becomes OK for canonicalize_radical() to affect certain log/exp expressions?

Sure!  But I mean that the name, if anything, is more about exp/log then as opposed to radicals.  Just seems curious, and wondering whether a better name is possible.  It may not be.



---

archive/issue_comments_141035.json:
```json
{
    "body": "<a id='comment:24'></a>Replying to [comment:23 kcrisman]:\n> In `def simplify`,\n> \n> ```\n>         .. seealso::\n> \n>            :meth:`simplify_full`, :meth:`simplify_trig`,\n>            :meth:`simplify_rational`, :meth:`simplify_factorial`,\n>            :meth:`simplify_log`\n> ```\n> You just removed it here rather than replacing it; intentional or not?  It's still useful, could put a reference in.\n\n\n\nIntentional, since it's no longer a `simplify_*` method. But I'm fine with having it listed there.\n\n\n\n> (For that matter, we also now have several *other* `simplify_foo` methods which should be added to the lists of simplifications in a few places.)\n\n\n\n\nI'm happy to add these. I've been meaning to add `simplify_rectform()` to `simplify_full()` once I stop making changes all over expression.pyx. Maybe in that ticket, or #14630 is probably where it's most appropriate since it adds yet another `simplify_*` method.\n\n\n\n> {{{#!diff\n>  # Add elementwise methods.\n>  for method in ['simplify', 'simplify_exp', 'simplify_factorial',\n>          'simplify_log', 'simplify_radical', 'simplify_rational',\n> -        'simplify_trig', 'simplify_full', 'trig_expand', 'trig_reduce']:\n> +        'simplify_trig', 'simplify_full', 'trig_expand',\n> +        'canonicalize_radical', 'trig_reduce']:\n>      setattr(Vector_symbolic_dense, method, apply_map(getattr(Expression, method)))\n> }}}\n> Why is this keeping `simplify_radical`?\n\n\n\nThat code is adding methods to a class -- if we remove `simplify_radical` entirely, it will break code that attempts to call `simplify_radical` on a vector. Instead I leave it there to throw the deprecation warning.",
    "created_at": "2014-11-18T16:51:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141035",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:24'></a>Replying to [comment:23 kcrisman]:
> In `def simplify`,
> 
> ```
>         .. seealso::
> 
>            :meth:`simplify_full`, :meth:`simplify_trig`,
>            :meth:`simplify_rational`, :meth:`simplify_factorial`,
>            :meth:`simplify_log`
> ```
> You just removed it here rather than replacing it; intentional or not?  It's still useful, could put a reference in.



Intentional, since it's no longer a `simplify_*` method. But I'm fine with having it listed there.



> (For that matter, we also now have several *other* `simplify_foo` methods which should be added to the lists of simplifications in a few places.)




I'm happy to add these. I've been meaning to add `simplify_rectform()` to `simplify_full()` once I stop making changes all over expression.pyx. Maybe in that ticket, or #14630 is probably where it's most appropriate since it adds yet another `simplify_*` method.



> {{{#!diff
>  # Add elementwise methods.
>  for method in ['simplify', 'simplify_exp', 'simplify_factorial',
>          'simplify_log', 'simplify_radical', 'simplify_rational',
> -        'simplify_trig', 'simplify_full', 'trig_expand', 'trig_reduce']:
> +        'simplify_trig', 'simplify_full', 'trig_expand',
> +        'canonicalize_radical', 'trig_reduce']:
>      setattr(Vector_symbolic_dense, method, apply_map(getattr(Expression, method)))
> }}}
> Why is this keeping `simplify_radical`?



That code is adding methods to a class -- if we remove `simplify_radical` entirely, it will break code that attempts to call `simplify_radical` on a vector. Instead I leave it there to throw the deprecation warning.



---

archive/issue_comments_141036.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-11-18T16:55:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141036",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_141037.json:
```json
{
    "body": "<a id='comment:26'></a>Okay, I think it's probably time for this.  Sadly.  I'm happy with it, but building doc and testing yet to be done by me.",
    "created_at": "2014-11-20T18:21:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141037",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:26'></a>Okay, I think it's probably time for this.  Sadly.  I'm happy with it, but building doc and testing yet to be done by me.



---

archive/issue_comments_141038.json:
```json
{
    "body": "<a id='comment:27'></a>Doc looks good!  Now just waiting on `make ptest`.",
    "created_at": "2014-11-20T18:27:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141038",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:27'></a>Doc looks good!  Now just waiting on `make ptest`.



---

archive/issue_comments_141039.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-11-20T19:06:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141039",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_141040.json:
```json
{
    "body": "<a id='comment:29'></a>Thanks for taking the time to review this!",
    "created_at": "2014-11-20T22:47:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141040",
    "user": "https://github.com/orlitzky"
}
```

<a id='comment:29'></a>Thanks for taking the time to review this!



---

archive/issue_comments_141041.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2014-11-22T17:18:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11912#issuecomment-141041",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_031495.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-11-22T17:18:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11912",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11912#event-31495"
}
```
