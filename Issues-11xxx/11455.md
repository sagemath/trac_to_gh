# Issue 11455: Add algorithm Magma to Conic methods

archive/issues_011283.json:
```json
{
    "body": "This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n\nApply\n\n* [attachment:11455.3.patch]\n* [attachment:11455-doctests.patch]\n\n**Assignee:** @aghitza\n\n**CC:**  florian\n\n**Keywords:** magma conic\n\n**Reviewer:** Florian Bouyer\n\n**Author:** Marco Streng\n\n**Merged:** sage-5.3.beta2\n\n**Dependencies:** #10621, #11454, #11456\n\nIssue created by migration from https://trac.sagemath.org/ticket/11455\n\n",
    "closed_at": "2012-08-14T07:02:29Z",
    "created_at": "2011-06-09T11:22:10Z",
    "labels": [
        "component: algebraic geometry",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-5.3",
    "title": "Add algorithm Magma to Conic methods",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/11455",
    "user": "https://github.com/mstreng"
}
```
This patch adds the option algorithm='magma' to (has_)rational_point for conics.

Apply

* [attachment:11455.3.patch]
* [attachment:11455-doctests.patch]

**Assignee:** @aghitza

**CC:**  florian

**Keywords:** magma conic

**Reviewer:** Florian Bouyer

**Author:** Marco Streng

**Merged:** sage-5.3.beta2

**Dependencies:** #10621, #11454, #11456

Issue created by migration from https://trac.sagemath.org/ticket/11455





---

archive/issue_comments_146730.json:
```json
{
    "body": "<a id='comment:1'></a>\nApparently the Magma interface for number field elements doesn't work the way I thought it would:\n\n```\nsage: L.<s> = QuadraticField(2)\nsage: m = magma(s)\nsage: m.sage()\nNameError: name 's' is not defined\n```\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: m = magma(i).sage(); m\nI\nsage: m.parent()\nSymbolic Ring\nsage: K(m)\nTypeError: <type 'sage.symbolic.expression.Expression'>\n```\nFraction fields are a problem too:\n\n```\nsage: R.<x> = QQ[]\nsage: y=x^2/x; y.parent()\nFraction Field of Univariate Polynomial Ring in x over Rational Field\nsage: m = magma(y)\nsage: m.sage()\nNameError: name 'x' is not defined\nsage: (m.Numerator().sage()/m.Denominator().sage())\nx\n```",
    "created_at": "2011-06-09T13:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146730",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:1'></a>
Apparently the Magma interface for number field elements doesn't work the way I thought it would:

```
sage: L.<s> = QuadraticField(2)
sage: m = magma(s)
sage: m.sage()
NameError: name 's' is not defined
```

```
sage: K.<i> = QuadraticField(-1)
sage: m = magma(i).sage(); m
I
sage: m.parent()
Symbolic Ring
sage: K(m)
TypeError: <type 'sage.symbolic.expression.Expression'>
```
Fraction fields are a problem too:

```
sage: R.<x> = QQ[]
sage: y=x^2/x; y.parent()
Fraction Field of Univariate Polynomial Ring in x over Rational Field
sage: m = magma(y)
sage: m.sage()
NameError: name 'x' is not defined
sage: (m.Numerator().sage()/m.Denominator().sage())
x
```



---

archive/issue_comments_146731.json:
```json
{
    "body": "**Work_Issues:** review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements",
    "created_at": "2011-06-09T13:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146731",
    "user": "https://github.com/mstreng"
}
```

**Work_Issues:** review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements



---

archive/issue_comments_146732.json:
```json
{
    "body": "**Changing work_issues** from \"review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements\" to \"\".",
    "created_at": "2011-06-09T15:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146732",
    "user": "https://github.com/mstreng"
}
```

**Changing work_issues** from "review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements" to "".



---

archive/issue_comments_146733.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n-Add the option algorithm='magma' to (has_)rational_point for conics.\n+This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n+\n+It depends on tickets #10621 and #11454, which need review.\n+\n+After those patches are in place, we need to either write a patch at #11456, or add a workaround here.\n``````\n",
    "created_at": "2011-06-09T15:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146733",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,5 @@
-Add the option algorithm='magma' to (has_)rational_point for conics.
+This patch adds the option algorithm='magma' to (has_)rational_point for conics.
+
+It depends on tickets #10621 and #11454, which need review.
+
+After those patches are in place, we need to either write a patch at #11456, or add a workaround here.
``````




---

archive/issue_comments_146734.json:
```json
{
    "body": "**Changing dependencies** from \"#10621, #11454\" to \"#10621, #11454, #11456\".",
    "created_at": "2011-06-09T15:01:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146734",
    "user": "https://github.com/mstreng"
}
```

**Changing dependencies** from "#10621, #11454" to "#10621, #11454, #11456".



---

archive/issue_comments_146735.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-It depends on tickets #10621 and #11454, which need review.\n+It depends on #10621, which need review, and on #11454\n \n After those patches are in place, we need to either write a patch at #11456, or add a workaround here.\n``````\n",
    "created_at": "2011-06-13T16:03:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146735",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-It depends on tickets #10621 and #11454, which need review.
+It depends on #10621, which need review, and on #11454
 
 After those patches are in place, we need to either write a patch at #11456, or add a workaround here.
``````




---

archive/attachments_015073.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_11455_magma_algorithm_conics.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11455/trac_11455_magma_algorithm_conics.patch",
    "created_at": "2011-08-18T12:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mstreng"
}
```



---

archive/issue_comments_146736.json:
```json
{
    "body": "use magma to solve conics",
    "created_at": "2011-08-18T12:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146736",
    "user": "https://github.com/mstreng"
}
```

use magma to solve conics



---

archive/issue_comments_146737.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-It depends on #10621, which need review, and on #11454\n-\n-After those patches are in place, we need to either write a patch at #11456, or add a workaround here.\n+It depends on #10621, which need review, and on #11454 and #11456\n``````\n",
    "created_at": "2011-08-18T12:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146737",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-It depends on #10621, which need review, and on #11454
-
-After those patches are in place, we need to either write a patch at #11456, or add a workaround here.
+It depends on #10621, which need review, and on #11454 and #11456
``````




---

archive/issue_comments_146738.json:
```json
{
    "body": "<a id='comment:4'></a>\nPlease review #10621, a student will need #11455 for his project in September.",
    "created_at": "2011-08-18T12:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146738",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:4'></a>
Please review #10621, a student will need #11455 for his project in September.



---

archive/issue_comments_146739.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2011-08-18T12:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146739",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_146740.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-It depends on #10621, which need review, and on #11454 and #11456\n+#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)\n``````\n",
    "created_at": "2012-02-03T11:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146740",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-It depends on #10621, which need review, and on #11454 and #11456
+#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)
``````




---

archive/issue_comments_146741.json:
```json
{
    "body": "<a id='comment:6'></a>\nSomething is wrong, in 5.0.prealpha1, I get\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: C = Conic(K,[1,1,1])\nsage: C.rational_point(algorithm='magma')\nNotImplementedError: No correct conversion implemented for converting the Magma point (-i : 1 : 0) on Conic over Number Field with defining polynomial t^2 + 1 over the Rational Field defined by\nX^2 + Y^2 + Z^2 to a correct Sage point on self (=Projective Conic Curve over Number Field in i with defining polynomial x^2 + 1 defined by x^2 + y^2 + z^2)\n```",
    "created_at": "2012-02-03T13:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146741",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:6'></a>
Something is wrong, in 5.0.prealpha1, I get

```
sage: K.<i> = QuadraticField(-1)
sage: C = Conic(K,[1,1,1])
sage: C.rational_point(algorithm='magma')
NotImplementedError: No correct conversion implemented for converting the Magma point (-i : 1 : 0) on Conic over Number Field with defining polynomial t^2 + 1 over the Rational Field defined by
X^2 + Y^2 + Z^2 to a correct Sage point on self (=Projective Conic Curve over Number Field in i with defining polynomial x^2 + 1 defined by x^2 + y^2 + z^2)
```



---

archive/issue_comments_146742.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-02-03T13:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146742",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_146743.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)\n+Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n``````\n",
    "created_at": "2012-02-03T13:21:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146743",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)
+Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
``````




---

archive/issue_comments_146744.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [mstreng](#comment%3A6):\n> Something is wrong\n\n\nHere's the reason:\n\n```\nsage: K = QuadraticField(-1, 'i')\nsage: L = NumberField(x^2+1, 'i')\nsage: magma(K.gen()).sage() in K\nFalse\nsage: magma(K.gen()).sage() in L\nTrue\nsage: magma(L.gen()).sage() in K\nFalse\nsage: magma(L.gen()).sage() in L\nTrue\nsage: magma(L.gen()).sage() == magma(K.gen()).sage()\nTrue\n```\nA field loses its embeddings when converted to Magma and back. A new patch is coming up.",
    "created_at": "2012-02-03T14:22:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146744",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:7'></a>
Replying to [mstreng](#comment%3A6):
> Something is wrong


Here's the reason:

```
sage: K = QuadraticField(-1, 'i')
sage: L = NumberField(x^2+1, 'i')
sage: magma(K.gen()).sage() in K
False
sage: magma(K.gen()).sage() in L
True
sage: magma(L.gen()).sage() in K
False
sage: magma(L.gen()).sage() in L
True
sage: magma(L.gen()).sage() == magma(K.gen()).sage()
True
```
A field loses its embeddings when converted to Magma and back. A new patch is coming up.



---

archive/issue_comments_146745.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-02-03T14:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146745",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_146746.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n+\n+Apply [attachment:11455.patch]\n``````\n",
    "created_at": "2012-02-03T14:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146746",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
 Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
+
+Apply [attachment:11455.patch]
``````




---

archive/issue_comments_146747.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-02-03T14:43:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146747",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_review to needs_work.



---

archive/attachments_015074.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11455.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11455/11455.patch",
    "created_at": "2012-02-03T15:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mstreng"
}
```



---

archive/issue_comments_146748.json:
```json
{
    "body": "",
    "created_at": "2012-02-03T15:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146748",
    "user": "https://github.com/mstreng"
}
```





---

archive/issue_comments_146749.json:
```json
{
    "body": "<a id='comment:10'></a>\nWith this patch on 5.0.prealpha1, all tests pass (except those that already fail on an unpatched 5.0.prealpha1).",
    "created_at": "2012-02-03T17:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146749",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:10'></a>
With this patch on 5.0.prealpha1, all tests pass (except those that already fail on an unpatched 5.0.prealpha1).



---

archive/issue_comments_146750.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-02-03T17:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146750",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_146751.json:
```json
{
    "body": "<a id='comment:11'></a>\nApply 11455.patch\n\n(for patchbot)",
    "created_at": "2012-03-11T19:30:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146751",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:11'></a>
Apply 11455.patch

(for patchbot)



---

archive/attachments_015075.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11455.2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11455/11455.2.patch",
    "created_at": "2012-08-03T11:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mstreng"
}
```



---

archive/issue_comments_146752.json:
```json
{
    "body": "",
    "created_at": "2012-08-03T11:38:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146752",
    "user": "https://github.com/mstreng"
}
```





---

archive/issue_comments_146753.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n \n-Apply [attachment:11455.patch]\n+Apply [attachment:11455.2.patch]\n``````\n",
    "created_at": "2012-08-03T11:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146753",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
 
-Apply [attachment:11455.patch]
+Apply [attachment:11455.2.patch]
``````




---

archive/issue_comments_146754.json:
```json
{
    "body": "<a id='comment:12'></a>\napply 11455.2.patch (which does not introduce any trailing whitespaces, but is otherwise the same)",
    "created_at": "2012-08-03T11:40:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146754",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:12'></a>
apply 11455.2.patch (which does not introduce any trailing whitespaces, but is otherwise the same)



---

archive/issue_comments_146755.json:
```json
{
    "body": "**Reviewer:** florian",
    "created_at": "2012-08-04T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146755",
    "user": "https://trac.sagemath.org/admin/accounts/users/florian"
}
```

**Reviewer:** florian



---

archive/issue_comments_146756.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-08-04T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146756",
    "user": "https://trac.sagemath.org/admin/accounts/users/florian"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_146757.json:
```json
{
    "body": "<a id='comment:13'></a>\nThis has passed all test (including long) in Sage-5.2. I checked how the documentation look and that the patch works as it should (on Sage-5.2)",
    "created_at": "2012-08-04T19:01:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146757",
    "user": "https://trac.sagemath.org/admin/accounts/users/florian"
}
```

<a id='comment:13'></a>
This has passed all test (including long) in Sage-5.2. I checked how the documentation look and that the patch works as it should (on Sage-5.2)



---

archive/issue_comments_146758.json:
```json
{
    "body": "**Changing reviewer** from \"florian\" to \"Florian Bouyer\".",
    "created_at": "2012-08-05T06:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146758",
    "user": "https://github.com/mstreng"
}
```

**Changing reviewer** from "florian" to "Florian Bouyer".



---

archive/issue_comments_146759.json:
```json
{
    "body": "<a id='comment:14'></a>\nThanks Florian",
    "created_at": "2012-08-05T06:07:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146759",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:14'></a>
Thanks Florian



---

archive/issue_comments_146760.json:
```json
{
    "body": "<a id='comment:15'></a>\nYou should use\n\n```\n# optional - magma\n```\ninstead of\n\n```\n# optional, uses magma\n```",
    "created_at": "2012-08-06T15:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146760",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>
You should use

```
# optional - magma
```
instead of

```
# optional, uses magma
```



---

archive/issue_comments_146761.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2012-08-06T15:06:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146761",
    "user": "https://github.com/jdemeyer"
}
```

**Changing status** from positive_review to needs_work.



---

archive/attachments_015076.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11455.3.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11455/11455.3.patch",
    "created_at": "2012-08-06T16:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mstreng"
}
```



---

archive/issue_comments_146762.json:
```json
{
    "body": "same as previous one, but with corrected \"optional - magma\" tag",
    "created_at": "2012-08-06T16:19:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146762",
    "user": "https://github.com/mstreng"
}
```

same as previous one, but with corrected "optional - magma" tag



---

archive/issue_comments_146763.json:
```json
{
    "body": "<a id='comment:16'></a>\napply 11455.3.patch",
    "created_at": "2012-08-06T16:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146763",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:16'></a>
apply 11455.3.patch



---

archive/issue_comments_146764.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n-\n-Apply [attachment:11455.2.patch]\n+Apply [attachment:11455.3.patch]\n``````\n",
    "created_at": "2012-08-06T16:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146764",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
-
-Apply [attachment:11455.2.patch]
+Apply [attachment:11455.3.patch]
``````




---

archive/issue_comments_146765.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-08-06T16:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146765",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_146766.json:
```json
{
    "body": "<a id='comment:17'></a>\noops, with the correct \"optional\" tag, it turns out a lot of the optional tests fail",
    "created_at": "2012-08-06T19:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146766",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:17'></a>
oops, with the correct "optional" tag, it turns out a lot of the optional tests fail



---

archive/issue_comments_146767.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2012-08-06T19:20:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146767",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_review to needs_work.



---

archive/attachments_015077.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "11455-doctests.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket11455/11455-doctests.patch",
    "created_at": "2012-08-06T20:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mstreng"
}
```



---

archive/issue_comments_146768.json:
```json
{
    "body": "apply on top of previous, fixes instable doctests",
    "created_at": "2012-08-06T20:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146768",
    "user": "https://github.com/mstreng"
}
```

apply on top of previous, fixes instable doctests



---

archive/issue_comments_146769.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-Apply [attachment:11455.3.patch]\n+Apply\n+\n+* [attachment:11455.3.patch]\n+* [attachment:11455-doctests.patch]\n``````\n",
    "created_at": "2012-08-06T20:49:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146769",
    "user": "https://github.com/mstreng"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-Apply [attachment:11455.3.patch]
+Apply
+
+* [attachment:11455.3.patch]
+* [attachment:11455-doctests.patch]
``````




---

archive/issue_comments_146770.json:
```json
{
    "body": "<a id='comment:19'></a>\nAll tests pass! Florian, could you review again?",
    "created_at": "2012-08-06T21:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146770",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:19'></a>
All tests pass! Florian, could you review again?



---

archive/issue_comments_146771.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2012-08-06T21:42:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146771",
    "user": "https://github.com/mstreng"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_146772.json:
```json
{
    "body": "<a id='comment:20'></a>\nAnd thanks Jeroen for catching this!",
    "created_at": "2012-08-06T21:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146772",
    "user": "https://github.com/mstreng"
}
```

<a id='comment:20'></a>
And thanks Jeroen for catching this!



---

archive/issue_comments_146773.json:
```json
{
    "body": "<a id='comment:21'></a>\nI'll review it again, sorry for letting the #optional, uses magma slip by.",
    "created_at": "2012-08-07T09:24:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146773",
    "user": "https://trac.sagemath.org/admin/accounts/users/florian"
}
```

<a id='comment:21'></a>
I'll review it again, sorry for letting the #optional, uses magma slip by.



---

archive/issue_comments_146774.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2012-08-07T19:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146774",
    "user": "https://trac.sagemath.org/admin/accounts/users/florian"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_146775.json:
```json
{
    "body": "<a id='comment:22'></a>\nReviewed it from scratch, everything works.",
    "created_at": "2012-08-07T19:11:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146775",
    "user": "https://trac.sagemath.org/admin/accounts/users/florian"
}
```

<a id='comment:22'></a>
Reviewed it from scratch, everything works.



---

archive/issue_events_034911.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T07:02:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/11455#event-34911"
}
```



---

archive/issue_comments_146776.json:
```json
{
    "body": "**Merged:** sage-5.3.beta2",
    "created_at": "2012-08-14T07:02:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/11455#issuecomment-146776",
    "user": "https://github.com/jdemeyer"
}
```

**Merged:** sage-5.3.beta2
