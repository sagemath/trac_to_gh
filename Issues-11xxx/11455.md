# Issue 11455: Add algorithm Magma to Conic methods

archive/issues_011283.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n\nApply\n\n* [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)\n* [attachment: 11455-doctests.patch](https://github.com/sagemath/sage/files/ticket11455/11455-doctests.patch.gz)\n\nDepends on #10621\nDepends on #11454\nDepends on #11456\n\nCC:  @sagetrac-florian\n\nKeywords: **magma conic**\n\nReviewer: **Florian Bouyer**\n\nAuthor: **Marco Streng**\n\nMerged: **sage-5.3.beta2**\n\nComponent: **algebraic geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11455_\n\n",
    "closed_at": "2012-08-14T07:02:29Z",
    "created_at": "2011-06-09T11:22:10Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Add algorithm Magma to Conic methods",
    "type": "issue",
    "updated_at": "2012-08-14T07:02:29Z",
    "url": "https://github.com/sagemath/sage/issues/11455",
    "user": "https://github.com/mstreng"
}
```
This patch adds the option algorithm='magma' to (has_)rational_point for conics.

Apply

* [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)
* [attachment: 11455-doctests.patch](https://github.com/sagemath/sage/files/ticket11455/11455-doctests.patch.gz)

Depends on #10621
Depends on #11454
Depends on #11456

CC:  @sagetrac-florian

Keywords: **magma conic**

Reviewer: **Florian Bouyer**

Author: **Marco Streng**

Merged: **sage-5.3.beta2**

Component: **algebraic geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/11455_





---

archive/issue_events_151023.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-06-09T11:22:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "milestone_number": null,
    "milestone_title": "sage-5.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151023"
}
```



---

archive/issue_events_151024.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-06-09T11:22:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebraic%20geometry",
    "label_color": "0000ff",
    "label_name": "c: algebraic geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151024"
}
```



---

archive/issue_events_151025.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-06-09T11:22:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151025"
}
```



---

archive/issue_events_151026.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-06-09T11:22:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151026"
}
```



---

archive/issue_events_151027.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2011-06-09T11:22:10Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "subject": "https://github.com/mstreng",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151027"
}
```



---

archive/issue_comments_115957.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nApparently the Magma interface for number field elements doesn't work the way I thought it would:\n\n```\nsage: L.<s> = QuadraticField(2)\nsage: m = magma(s)\nsage: m.sage()\nNameError: name 's' is not defined\n```\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: m = magma(i).sage(); m\nI\nsage: m.parent()\nSymbolic Ring\nsage: K(m)\nTypeError: <type 'sage.symbolic.expression.Expression'>\n```\nFraction fields are a problem too:\n\n```\nsage: R.<x> = QQ[]\nsage: y=x^2/x; y.parent()\nFraction Field of Univariate Polynomial Ring in x over Rational Field\nsage: m = magma(y)\nsage: m.sage()\nNameError: name 'x' is not defined\nsage: (m.Numerator().sage()/m.Denominator().sage())\nx\n```",
    "created_at": "2011-06-09T13:45:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115957",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:1" align="right">comment:1</div>

Apparently the Magma interface for number field elements doesn't work the way I thought it would:

```
sage: L.<s> = QuadraticField(2)
sage: m = magma(s)
sage: m.sage()
NameError: name 's' is not defined
```

```
sage: K.<i> = QuadraticField(-1)
sage: m = magma(i).sage(); m
I
sage: m.parent()
Symbolic Ring
sage: K(m)
TypeError: <type 'sage.symbolic.expression.Expression'>
```
Fraction fields are a problem too:

```
sage: R.<x> = QQ[]
sage: y=x^2/x; y.parent()
Fraction Field of Univariate Polynomial Ring in x over Rational Field
sage: m = magma(y)
sage: m.sage()
NameError: name 'x' is not defined
sage: (m.Numerator().sage()/m.Denominator().sage())
x
```



---

archive/issue_comments_115958.json:
```json
{
    "body": "Work Issues: **review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements**",
    "created_at": "2011-06-09T13:45:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115958",
    "user": "https://github.com/mstreng"
}
```

Work Issues: **review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements**



---

archive/issue_comments_115959.json:
```json
{
    "body": "Changed work issues from **review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements** to none",
    "created_at": "2011-06-09T15:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115959",
    "user": "https://github.com/mstreng"
}
```

Changed work issues from **review tickets on which this depends, and (in a separate ticket) implement magma interface for number field elements** to none



---

archive/issue_comments_115960.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n-Add the option algorithm='magma' to (has_)rational_point for conics.\n+This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n+\n+It depends on tickets #10621 and #11454, which need review.\n+\n+After those patches are in place, we need to either write a patch at #11456, or add a workaround here.\n``````\n",
    "created_at": "2011-06-09T15:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115960",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
-Add the option algorithm='magma' to (has_)rational_point for conics.
+This patch adds the option algorithm='magma' to (has_)rational_point for conics.
+
+It depends on tickets #10621 and #11454, which need review.
+
+After those patches are in place, we need to either write a patch at #11456, or add a workaround here.
``````




---

archive/issue_comments_115961.json:
```json
{
    "body": "Changed dependencies from **#10621, #11454** to **#10621, #11454, #11456**",
    "created_at": "2011-06-09T15:01:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115961",
    "user": "https://github.com/mstreng"
}
```

Changed dependencies from **#10621, #11454** to **#10621, #11454, #11456**



---

archive/issue_comments_115962.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-It depends on tickets #10621 and #11454, which need review.\n+It depends on #10621, which need review, and on #11454\n \n After those patches are in place, we need to either write a patch at #11456, or add a workaround here.\n``````\n",
    "created_at": "2011-06-13T16:03:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115962",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-It depends on tickets #10621 and #11454, which need review.
+It depends on #10621, which need review, and on #11454
 
 After those patches are in place, we need to either write a patch at #11456, or add a workaround here.
``````




---

archive/issue_comments_115963.json:
```json
{
    "body": "Attachment: **[trac_11455_magma_algorithm_conics.patch.gz](https://github.com/sagemath/sage/files/ticket11455/trac_11455_magma_algorithm_conics.patch.gz)**\n\nuse magma to solve conics",
    "created_at": "2011-08-18T12:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115963",
    "user": "https://github.com/mstreng"
}
```

Attachment: **[trac_11455_magma_algorithm_conics.patch.gz](https://github.com/sagemath/sage/files/ticket11455/trac_11455_magma_algorithm_conics.patch.gz)**

use magma to solve conics



---

archive/issue_comments_115964.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-It depends on #10621, which need review, and on #11454\n-\n-After those patches are in place, we need to either write a patch at #11456, or add a workaround here.\n+It depends on #10621, which need review, and on #11454 and #11456\n``````\n",
    "created_at": "2011-08-18T12:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115964",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-It depends on #10621, which need review, and on #11454
-
-After those patches are in place, we need to either write a patch at #11456, or add a workaround here.
+It depends on #10621, which need review, and on #11454 and #11456
``````




---

archive/issue_comments_115965.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nPlease review #10621, a student will need #11455 for his project in September.",
    "created_at": "2011-08-18T12:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115965",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:4" align="right">comment:4</div>

Please review #10621, a student will need #11455 for his project in September.



---

archive/issue_events_151028.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-08-18T12:21:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151028"
}
```



---

archive/issue_events_151029.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-08-18T12:21:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151029"
}
```



---

archive/issue_events_151030.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2011-08-18T12:21:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151030"
}
```



---

archive/issue_comments_115966.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-It depends on #10621, which need review, and on #11454 and #11456\n+#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)\n``````\n",
    "created_at": "2012-02-03T11:11:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115966",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-It depends on #10621, which need review, and on #11454 and #11456
+#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)
``````




---

archive/issue_comments_115967.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nSomething is wrong, in 5.0.prealpha1, I get\n\n```\nsage: K.<i> = QuadraticField(-1)\nsage: C = Conic(K,[1,1,1])\nsage: C.rational_point(algorithm='magma')\nNotImplementedError: No correct conversion implemented for converting the Magma point (-i : 1 : 0) on Conic over Number Field with defining polynomial t^2 + 1 over the Rational Field defined by\nX^2 + Y^2 + Z^2 to a correct Sage point on self (=Projective Conic Curve over Number Field in i with defining polynomial x^2 + 1 defined by x^2 + y^2 + z^2)\n```",
    "created_at": "2012-02-03T13:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115967",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:6" align="right">comment:6</div>

Something is wrong, in 5.0.prealpha1, I get

```
sage: K.<i> = QuadraticField(-1)
sage: C = Conic(K,[1,1,1])
sage: C.rational_point(algorithm='magma')
NotImplementedError: No correct conversion implemented for converting the Magma point (-i : 1 : 0) on Conic over Number Field with defining polynomial t^2 + 1 over the Rational Field defined by
X^2 + Y^2 + Z^2 to a correct Sage point on self (=Projective Conic Curve over Number Field in i with defining polynomial x^2 + 1 defined by x^2 + y^2 + z^2)
```



---

archive/issue_events_151031.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T13:21:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151031"
}
```



---

archive/issue_events_151032.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T13:21:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151032"
}
```



---

archive/issue_comments_115968.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)\n+Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n``````\n",
    "created_at": "2012-02-03T13:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115968",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-#12154 is required for making all optional Magma doctests pass (even an unpatched Sage currently has failing optional Magma doctests)
+Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
``````




---

archive/issue_comments_115969.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@mstreng](#comment%3A6):\n> Something is wrong\n\nHere's the reason:\n\n```\nsage: K = QuadraticField(-1, 'i')\nsage: L = NumberField(x^2+1, 'i')\nsage: magma(K.gen()).sage() in K\nFalse\nsage: magma(K.gen()).sage() in L\nTrue\nsage: magma(L.gen()).sage() in K\nFalse\nsage: magma(L.gen()).sage() in L\nTrue\nsage: magma(L.gen()).sage() == magma(K.gen()).sage()\nTrue\n```\nA field loses its embeddings when converted to Magma and back. A new patch is coming up.",
    "created_at": "2012-02-03T14:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115969",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@mstreng](#comment%3A6):
> Something is wrong

Here's the reason:

```
sage: K = QuadraticField(-1, 'i')
sage: L = NumberField(x^2+1, 'i')
sage: magma(K.gen()).sage() in K
False
sage: magma(K.gen()).sage() in L
True
sage: magma(L.gen()).sage() in K
False
sage: magma(L.gen()).sage() in L
True
sage: magma(L.gen()).sage() == magma(K.gen()).sage()
True
```
A field loses its embeddings when converted to Magma and back. A new patch is coming up.



---

archive/issue_events_151033.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T14:31:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151033"
}
```



---

archive/issue_events_151034.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T14:31:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151034"
}
```



---

archive/issue_comments_115970.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n+\n+Apply [attachment: 11455.patch](https://github.com/sagemath/sage/files/ticket11455/11455.patch.gz)\n``````\n",
    "created_at": "2012-02-03T14:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115970",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
 Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
+
+Apply [attachment: 11455.patch](https://github.com/sagemath/sage/files/ticket11455/11455.patch.gz)
``````




---

archive/issue_events_151035.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T14:43:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151035"
}
```



---

archive/issue_events_151036.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T14:43:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151036"
}
```



---

archive/issue_comments_115971.json:
```json
{
    "body": "Attachment: **[11455.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455.patch.gz)**",
    "created_at": "2012-02-03T15:31:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115971",
    "user": "https://github.com/mstreng"
}
```

Attachment: **[11455.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455.patch.gz)**



---

archive/issue_comments_115972.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWith this patch on 5.0.prealpha1, all tests pass (except those that already fail on an unpatched 5.0.prealpha1).",
    "created_at": "2012-02-03T17:26:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115972",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:10" align="right">comment:10</div>

With this patch on 5.0.prealpha1, all tests pass (except those that already fail on an unpatched 5.0.prealpha1).



---

archive/issue_events_151037.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T17:26:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151037"
}
```



---

archive/issue_events_151038.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-02-03T17:26:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151038"
}
```



---

archive/issue_comments_115973.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nApply 11455.patch\n\n(for patchbot)",
    "created_at": "2012-03-11T19:30:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115973",
    "user": "https://github.com/loefflerd"
}
```

<div id="comment:11" align="right">comment:11</div>

Apply 11455.patch

(for patchbot)



---

archive/issue_comments_115974.json:
```json
{
    "body": "Attachment: **[11455.2.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455.2.patch.gz)**",
    "created_at": "2012-08-03T11:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115974",
    "user": "https://github.com/mstreng"
}
```

Attachment: **[11455.2.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455.2.patch.gz)**



---

archive/issue_comments_115975.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,4 +2,4 @@\n \n Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n \n-Apply [attachment: 11455.patch](https://github.com/sagemath/sage/files/ticket11455/11455.patch.gz)\n+Apply [attachment: 11455.2.patch](https://github.com/sagemath/sage/files/ticket11455/11455.2.patch.gz)\n``````\n",
    "created_at": "2012-08-03T11:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115975",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,4 +2,4 @@
 
 Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
 
-Apply [attachment: 11455.patch](https://github.com/sagemath/sage/files/ticket11455/11455.patch.gz)
+Apply [attachment: 11455.2.patch](https://github.com/sagemath/sage/files/ticket11455/11455.2.patch.gz)
``````




---

archive/issue_comments_115976.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\napply 11455.2.patch (which does not introduce any trailing whitespaces, but is otherwise the same)",
    "created_at": "2012-08-03T11:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115976",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:12" align="right">comment:12</div>

apply 11455.2.patch (which does not introduce any trailing whitespaces, but is otherwise the same)



---

archive/issue_comments_115977.json:
```json
{
    "body": "Reviewer: **florian**",
    "created_at": "2012-08-04T19:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115977",
    "user": "https://github.com/sagetrac-florian"
}
```

Reviewer: **florian**



---

archive/issue_events_151039.json:
```json
{
    "actor": "https://github.com/sagetrac-florian",
    "created_at": "2012-08-04T19:01:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151039"
}
```



---

archive/issue_events_151040.json:
```json
{
    "actor": "https://github.com/sagetrac-florian",
    "created_at": "2012-08-04T19:01:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151040"
}
```



---

archive/issue_comments_115978.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis has passed all test (including long) in Sage-5.2. I checked how the documentation look and that the patch works as it should (on Sage-5.2)",
    "created_at": "2012-08-04T19:01:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115978",
    "user": "https://github.com/sagetrac-florian"
}
```

<div id="comment:13" align="right">comment:13</div>

This has passed all test (including long) in Sage-5.2. I checked how the documentation look and that the patch works as it should (on Sage-5.2)



---

archive/issue_comments_115979.json:
```json
{
    "body": "Changed reviewer from **florian** to **Florian Bouyer**",
    "created_at": "2012-08-05T06:07:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115979",
    "user": "https://github.com/mstreng"
}
```

Changed reviewer from **florian** to **Florian Bouyer**



---

archive/issue_comments_115980.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks Florian",
    "created_at": "2012-08-05T06:07:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115980",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks Florian



---

archive/issue_comments_115981.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYou should use\n\n```\n# optional - magma\n```\ninstead of\n\n```\n# optional, uses magma\n```",
    "created_at": "2012-08-06T15:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115981",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:15" align="right">comment:15</div>

You should use

```
# optional - magma
```
instead of

```
# optional, uses magma
```



---

archive/issue_events_151041.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-06T15:06:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151041"
}
```



---

archive/issue_events_151042.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-06T15:06:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151042"
}
```



---

archive/issue_comments_115982.json:
```json
{
    "body": "Attachment: **[11455.3.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)**\n\nsame as previous one, but with corrected \"optional - magma\" tag",
    "created_at": "2012-08-06T16:19:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115982",
    "user": "https://github.com/mstreng"
}
```

Attachment: **[11455.3.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)**

same as previous one, but with corrected "optional - magma" tag



---

archive/issue_comments_115983.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\napply 11455.3.patch",
    "created_at": "2012-08-06T16:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115983",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:16" align="right">comment:16</div>

apply 11455.3.patch



---

archive/issue_comments_115984.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.\n-\n-Apply [attachment: 11455.2.patch](https://github.com/sagemath/sage/files/ticket11455/11455.2.patch.gz)\n+Apply [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)\n``````\n",
    "created_at": "2012-08-06T16:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115984",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-Some optional magma doctests fail on current Sage. This is unrelated to this ticket, and is fixed by #12154.
-
-Apply [attachment: 11455.2.patch](https://github.com/sagemath/sage/files/ticket11455/11455.2.patch.gz)
+Apply [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)
``````




---

archive/issue_events_151043.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-08-06T16:20:33Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151043"
}
```



---

archive/issue_events_151044.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-08-06T16:20:33Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151044"
}
```



---

archive/issue_comments_115985.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\noops, with the correct \"optional\" tag, it turns out a lot of the optional tests fail",
    "created_at": "2012-08-06T19:20:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115985",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:17" align="right">comment:17</div>

oops, with the correct "optional" tag, it turns out a lot of the optional tests fail



---

archive/issue_events_151045.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-08-06T19:20:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151045"
}
```



---

archive/issue_events_151046.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-08-06T19:20:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151046"
}
```



---

archive/issue_comments_115986.json:
```json
{
    "body": "Attachment: **[11455-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455-doctests.patch.gz)**\n\napply on top of previous, fixes instable doctests",
    "created_at": "2012-08-06T20:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115986",
    "user": "https://github.com/mstreng"
}
```

Attachment: **[11455-doctests.patch.gz](https://github.com/sagemath/sage/files/ticket11455/11455-doctests.patch.gz)**

apply on top of previous, fixes instable doctests



---

archive/issue_comments_115987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n This patch adds the option algorithm='magma' to (has_)rational_point for conics.\n \n-Apply [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)\n+Apply\n+\n+* [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)\n+* [attachment: 11455-doctests.patch](https://github.com/sagemath/sage/files/ticket11455/11455-doctests.patch.gz)\n``````\n",
    "created_at": "2012-08-06T20:49:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115987",
    "user": "https://github.com/mstreng"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
 This patch adds the option algorithm='magma' to (has_)rational_point for conics.
 
-Apply [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)
+Apply
+
+* [attachment: 11455.3.patch](https://github.com/sagemath/sage/files/ticket11455/11455.3.patch.gz)
+* [attachment: 11455-doctests.patch](https://github.com/sagemath/sage/files/ticket11455/11455-doctests.patch.gz)
``````




---

archive/issue_comments_115988.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nAll tests pass! Florian, could you review again?",
    "created_at": "2012-08-06T21:42:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115988",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:19" align="right">comment:19</div>

All tests pass! Florian, could you review again?



---

archive/issue_events_151047.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-08-06T21:42:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151047"
}
```



---

archive/issue_events_151048.json:
```json
{
    "actor": "https://github.com/mstreng",
    "created_at": "2012-08-06T21:42:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151048"
}
```



---

archive/issue_comments_115989.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nAnd thanks Jeroen for catching this!",
    "created_at": "2012-08-06T21:45:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115989",
    "user": "https://github.com/mstreng"
}
```

<div id="comment:20" align="right">comment:20</div>

And thanks Jeroen for catching this!



---

archive/issue_comments_115990.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI'll review it again, sorry for letting the #optional, uses magma slip by.",
    "created_at": "2012-08-07T09:24:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115990",
    "user": "https://github.com/sagetrac-florian"
}
```

<div id="comment:21" align="right">comment:21</div>

I'll review it again, sorry for letting the #optional, uses magma slip by.



---

archive/issue_events_151049.json:
```json
{
    "actor": "https://github.com/sagetrac-florian",
    "created_at": "2012-08-07T19:11:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151049"
}
```



---

archive/issue_events_151050.json:
```json
{
    "actor": "https://github.com/sagetrac-florian",
    "created_at": "2012-08-07T19:11:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151050"
}
```



---

archive/issue_comments_115991.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nReviewed it from scratch, everything works.",
    "created_at": "2012-08-07T19:11:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115991",
    "user": "https://github.com/sagetrac-florian"
}
```

<div id="comment:22" align="right">comment:22</div>

Reviewed it from scratch, everything works.



---

archive/issue_events_151051.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T07:02:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151051"
}
```



---

archive/issue_events_151052.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-08-14T07:02:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11455#event-151052"
}
```



---

archive/issue_comments_115992.json:
```json
{
    "body": "Merged: **sage-5.3.beta2**",
    "created_at": "2012-08-14T07:02:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11455",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11455#issuecomment-115992",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.3.beta2**
