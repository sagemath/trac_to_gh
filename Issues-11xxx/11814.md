# Issue 11814: Catch and fix the segmentation fault in dlx_solver

archive/issues_011642.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-sage-combinat"
    ],
    "body": "On a 64-bit Gentoo Linux system running sage-4.7.2.alpha2:\n\n```\nsage: from sage.combinat.matrices.dancing_links import dlx_solver\nsage: rows = []\nsage: x = dlx_solver(rows)\nsage: x.search()\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libcsage.so(print_backtrace+0x31)[0x7f6c37015e02]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libcsage.so(sigdie+0x14)[0x7f6c37015e34]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libcsage.so(sage_signal_handler+0x20c)[0x7f6c37015a82]\n/lib/libpthread.so.0(+0xf400)[0x7f6c3c26e400]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/python2.6/site-packages/sage/combinat/matrices/dancing_links.so(+0x738b)[0x7f6c1612f38b]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x4c32)[0x7f6c3c55d842]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCode+0x32)[0x7f6c3c55f912]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x4ccb)[0x7f6c3c55d8db]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5a8a)[0x7f6c3c55e69a]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCode+0x32)[0x7f6c3c55f912]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyRun_FileExFlags+0xb0)[0x7f6c3c581d20]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyRun_SimpleFileExFlags+0xdf)[0x7f6c3c58275f]\n/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(Py_Main+0xb23)[0x7f6c3c58fa23]\n/lib/libc.so.6(__libc_start_main+0xe6)[0x7f6c3b897ba6]\npython[0x4006e9]\n\n------------------------------------------------------------------------\nUnhandled SIGSEGV: A segmentation fault occurred in Sage.\nThis probably occurred because a *compiled* component of Sage has a bug\nin it and is not properly wrapped with sig_on(), sig_off(). You might\nwant to run Sage under gdb with 'sage -gdb' to debug this.\nSage will now terminate.\n------------------------------------------------------------------------\n```\n\nNote that this behaviour is actually documented in `sage/combinat/tiling.py`:\n\n```\n    def is_suitable(self):\n        r\"\"\"\n        Return whether the volume of the box is equal to sum of the volume\n        of the polyominoes and the number of rows sent to the DLX solver is\n        larger than zero.\n\n        If these conditions are not verified, then the problem is not suitable\n        in the sense that there are no solution.\n\n        .. NOTE::\n\n            The DLX solver throws a Segmentation Fault when the\n            number of rows is zero::\n\n                sage: from sage.combinat.matrices.dancing_links import dlx_solver\n                sage: rows = []\n                sage: x = dlx_solver(rows)\n                sage: x.search()        # not tested\n                BOOM !!!\n```\n\nFor sage-on-gentoo, there is an assertion failure:\n\n```\nsage:  x = dlx_solver(rows)\npython2.7: sage/combinat/matrices/dancing_links_c.h:217: void dancing_links::setup_columns(): Assertion `nr_columns > 0' failed.\n/usr/lib64/libcsage.so(print_backtrace+0x24)[0x7fea73a945f7]\n/usr/lib64/libcsage.so(sigdie+0x1d)[0x7fea73a94687]\n/usr/lib64/libcsage.so(sage_signal_handler+0x157)[0x7fea73a94822]\n/lib64/libpthread.so.0(+0xfee0)[0x7fea79206ee0]\n/lib64/libc.so.6(gsignal+0x35)[0x7fea78ea5ee5]\n/lib64/libc.so.6(abort+0x186)[0x7fea78ea7896]\n/lib64/libc.so.6(__assert_fail+0xf5)[0x7fea78e9e7a5]\n/usr/lib64/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x855d)[0x7fea4e73255d]\n```\n\nAdditionally, we can segfault with a different kind of trivial problem,\n\n```\n    sage: from sage.combinat.matrices.dancing_links import dlx_solver\n    sage: d = dlx([[]])\n    sage: d.search()\n    *boom!*\n```\n\nAnd even adding rows can be a problem... this doesn't always go boom\n\n```\n    sage: d = dlx_solver([[0,1],[2]])\n    sage: d.add_rows([[0,1],[1]])\n    *boom!*\n```\n\nActually... *why the hell* would we ever support the following:\n\n```\n    sage: d = dlx_solver(anything)\n    sage: d.search()\n    sage: d.add_rows(anything else)\n```\n\n\n\nCC:  @seblabbe\n\nBranch/Commit: **[`dcdfd06`](https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **S\u00e9bastien Labb\u00e9**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11814_\n\n",
    "closed_at": "2015-07-29T09:22:41Z",
    "created_at": "2011-09-19T08:59:58Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-6.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Catch and fix the segmentation fault in dlx_solver",
    "type": "issue",
    "updated_at": "2015-07-29T09:22:41Z",
    "url": "https://github.com/sagemath/sage/issues/11814",
    "user": "https://github.com/jdemeyer"
}
```
On a 64-bit Gentoo Linux system running sage-4.7.2.alpha2:

```
sage: from sage.combinat.matrices.dancing_links import dlx_solver
sage: rows = []
sage: x = dlx_solver(rows)
sage: x.search()
/usr/local/src/sage-4.7.2.alpha2/local/lib/libcsage.so(print_backtrace+0x31)[0x7f6c37015e02]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libcsage.so(sigdie+0x14)[0x7f6c37015e34]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libcsage.so(sage_signal_handler+0x20c)[0x7f6c37015a82]
/lib/libpthread.so.0(+0xf400)[0x7f6c3c26e400]
/usr/local/src/sage-4.7.2.alpha2/local/lib/python2.6/site-packages/sage/combinat/matrices/dancing_links.so(+0x738b)[0x7f6c1612f38b]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x4c32)[0x7f6c3c55d842]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCode+0x32)[0x7f6c3c55f912]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x4ccb)[0x7f6c3c55d8db]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5a8a)[0x7f6c3c55e69a]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x5364)[0x7f6c3c55df74]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCodeEx+0x879)[0x7f6c3c55f819]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalCode+0x32)[0x7f6c3c55f912]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyRun_FileExFlags+0xb0)[0x7f6c3c581d20]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyRun_SimpleFileExFlags+0xdf)[0x7f6c3c58275f]
/usr/local/src/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(Py_Main+0xb23)[0x7f6c3c58fa23]
/lib/libc.so.6(__libc_start_main+0xe6)[0x7f6c3b897ba6]
python[0x4006e9]

------------------------------------------------------------------------
Unhandled SIGSEGV: A segmentation fault occurred in Sage.
This probably occurred because a *compiled* component of Sage has a bug
in it and is not properly wrapped with sig_on(), sig_off(). You might
want to run Sage under gdb with 'sage -gdb' to debug this.
Sage will now terminate.
------------------------------------------------------------------------
```

Note that this behaviour is actually documented in `sage/combinat/tiling.py`:

```
    def is_suitable(self):
        r"""
        Return whether the volume of the box is equal to sum of the volume
        of the polyominoes and the number of rows sent to the DLX solver is
        larger than zero.

        If these conditions are not verified, then the problem is not suitable
        in the sense that there are no solution.

        .. NOTE::

            The DLX solver throws a Segmentation Fault when the
            number of rows is zero::

                sage: from sage.combinat.matrices.dancing_links import dlx_solver
                sage: rows = []
                sage: x = dlx_solver(rows)
                sage: x.search()        # not tested
                BOOM !!!
```

For sage-on-gentoo, there is an assertion failure:

```
sage:  x = dlx_solver(rows)
python2.7: sage/combinat/matrices/dancing_links_c.h:217: void dancing_links::setup_columns(): Assertion `nr_columns > 0' failed.
/usr/lib64/libcsage.so(print_backtrace+0x24)[0x7fea73a945f7]
/usr/lib64/libcsage.so(sigdie+0x1d)[0x7fea73a94687]
/usr/lib64/libcsage.so(sage_signal_handler+0x157)[0x7fea73a94822]
/lib64/libpthread.so.0(+0xfee0)[0x7fea79206ee0]
/lib64/libc.so.6(gsignal+0x35)[0x7fea78ea5ee5]
/lib64/libc.so.6(abort+0x186)[0x7fea78ea7896]
/lib64/libc.so.6(__assert_fail+0xf5)[0x7fea78e9e7a5]
/usr/lib64/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x855d)[0x7fea4e73255d]
```

Additionally, we can segfault with a different kind of trivial problem,

```
    sage: from sage.combinat.matrices.dancing_links import dlx_solver
    sage: d = dlx([[]])
    sage: d.search()
    *boom!*
```

And even adding rows can be a problem... this doesn't always go boom

```
    sage: d = dlx_solver([[0,1],[2]])
    sage: d.add_rows([[0,1],[1]])
    *boom!*
```

Actually... *why the hell* would we ever support the following:

```
    sage: d = dlx_solver(anything)
    sage: d.search()
    sage: d.add_rows(anything else)
```



CC:  @seblabbe

Branch/Commit: **[`dcdfd06`](https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08)**

Reviewer: **Jeroen Demeyer**

Author: **Sébastien Labbé**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/11814_





---

archive/issue_events_158959.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-09-19T08:59:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158959"
}
```



---

archive/issue_events_158960.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-09-19T08:59:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158960"
}
```



---

archive/issue_events_158961.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-09-19T08:59:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/p%3A%202%20%E2%80%93%20critical",
    "label_color": "ff7700",
    "label_name": "p: 2 \u2013 critical",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158961"
}
```



---

archive/issue_events_158962.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-09-19T08:59:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158962"
}
```



---

archive/issue_events_158963.json:
```json
{
    "actor": "https://github.com/sagetrac-sage-combinat",
    "created_at": "2011-09-19T08:59:58Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "subject": "https://github.com/jdemeyer",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158963"
}
```



---

archive/issue_comments_123497.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nA bit more information on the platform, or did you try this on different systems?\n\nOn Ubuntu 10.04.3 x86_64 I get:\n\n```\n...\nsage: sage: from sage.combinat.matrices.dancing_links import dlx_solver\n==27537== Invalid read of size 4\n==27537==    at 0x4EB5E83: PyObject_Free (obmalloc.c:931)\n==27537==    by 0x4EDBE00: unicode_dealloc (unicodeobject.c:369)\n==27537==    by 0x4E9C8E0: frame_dealloc (frameobject.c:420)\n==27537==    by 0x4F1562E: PyEval_EvalCodeEx (ceval.c:2979)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==  Address 0x6156020 is 2,256 bytes inside a block of size 4,400 free'd\n==27537==    at 0x4C27058: realloc (vg_replace_malloc.c:525)\n==27537==    by 0x9F13E6A: xrealloc (xmalloc.c:74)\n==27537==    by 0x9F1442E: add_history (history.c:302)\n==27537==    by 0x9F1761F: read_history_range (histfile.c:270)\n==27537==    by 0x9CE3089: read_history_file (readline.c:102)\n==27537==    by 0x4F13E19: PyEval_EvalFrameEx (ceval.c:3706)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4E9DC2A: function_call (funcobject.c:524)\n==27537== \n==27537== Invalid read of size 4\n==27537==    at 0x4EB5E83: PyObject_Free (obmalloc.c:931)\n==27537==    by 0x4E68C66: freechildren (node.c:135)\n==27537==    by 0x4E68FAD: PyNode_Free (node.c:123)\n==27537==    by 0x4F370C8: PyParser_ASTFromString (pythonrun.c:1439)\n==27537==    by 0x4F37221: Py_CompileStringFlags (pythonrun.c:1382)\n==27537==    by 0x4F0CE6B: builtin_compile (bltinmodule.c:546)\n==27537==    by 0x4F13E19: PyEval_EvalFrameEx (ceval.c:3706)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4E9DB2E: function_call (funcobject.c:524)\n==27537==    by 0x4E741A1: PyObject_Call (abstract.c:2492)\n==27537==    by 0x4E868BC: instancemethod_call (classobject.c:2579)\n==27537==    by 0x4E741A1: PyObject_Call (abstract.c:2492)\n==27537==  Address 0xa73d020 is not stack'd, malloc'd or (recently) free'd\n==27537== \nsage: sage: rows = []\nsage: sage: x = dlx_solver(rows)\nsage: sage: x.search()\n==27537== Conditional jump or move depends on uninitialised value(s)\n==27537==    at 0x2F2C3281: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:75)\n==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)\n==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537== \n==27537== Use of uninitialised value of size 8\n==27537==    at 0x2F2C32AA: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)\n==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)\n==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537== \n==27537== Conditional jump or move depends on uninitialised value(s)\n==27537==    at 0x2F2C32A8: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)\n==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)\n==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537== \n==27537== Conditional jump or move depends on uninitialised value(s)\n==27537==    at 0x2F2C3291: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)\n==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)\n==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537== \n==27537== Invalid read of size 4\n==27537==    at 0x2F2C328C: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)\n==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)\n==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)\n==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)\n==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)\n==27537==  Address 0x30 is not stack'd, malloc'd or (recently) free'd\n==27537== \n/tmp/Sage/sage-4.7.2.alpha2/local/lib/libcsage.so(print_backtrace+0x31)[0xbfa6817]\n/tmp/Sage/sage-4.7.2.alpha2/local/lib/libcsage.so(sigdie+0x14)[0xbfa6849]\n/tmp/Sage/sage-4.7.2.alpha2/local/lib/libcsage.so(sage_signal_handler+0x20e)[0xbfa6474]\n/lib/libpthread.so.0(+0xf8f0)[0x52018f0]\n/tmp/Sage/sage-4.7.2.alpha2/local/lib/python2.6/site-packages/sage/combinat/matrices/dancing_links.so(+0x828c)[0x2f2c328c]\n/tmp/Sage/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x4af7)[0x4f13b47]\n... (same backtrace)\n```",
    "created_at": "2011-09-19T13:34:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123497",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:1" align="right">comment:1</div>

A bit more information on the platform, or did you try this on different systems?

On Ubuntu 10.04.3 x86_64 I get:

```
...
sage: sage: from sage.combinat.matrices.dancing_links import dlx_solver
==27537== Invalid read of size 4
==27537==    at 0x4EB5E83: PyObject_Free (obmalloc.c:931)
==27537==    by 0x4EDBE00: unicode_dealloc (unicodeobject.c:369)
==27537==    by 0x4E9C8E0: frame_dealloc (frameobject.c:420)
==27537==    by 0x4F1562E: PyEval_EvalCodeEx (ceval.c:2979)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==  Address 0x6156020 is 2,256 bytes inside a block of size 4,400 free'd
==27537==    at 0x4C27058: realloc (vg_replace_malloc.c:525)
==27537==    by 0x9F13E6A: xrealloc (xmalloc.c:74)
==27537==    by 0x9F1442E: add_history (history.c:302)
==27537==    by 0x9F1761F: read_history_range (histfile.c:270)
==27537==    by 0x9CE3089: read_history_file (readline.c:102)
==27537==    by 0x4F13E19: PyEval_EvalFrameEx (ceval.c:3706)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4E9DC2A: function_call (funcobject.c:524)
==27537== 
==27537== Invalid read of size 4
==27537==    at 0x4EB5E83: PyObject_Free (obmalloc.c:931)
==27537==    by 0x4E68C66: freechildren (node.c:135)
==27537==    by 0x4E68FAD: PyNode_Free (node.c:123)
==27537==    by 0x4F370C8: PyParser_ASTFromString (pythonrun.c:1439)
==27537==    by 0x4F37221: Py_CompileStringFlags (pythonrun.c:1382)
==27537==    by 0x4F0CE6B: builtin_compile (bltinmodule.c:546)
==27537==    by 0x4F13E19: PyEval_EvalFrameEx (ceval.c:3706)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4E9DB2E: function_call (funcobject.c:524)
==27537==    by 0x4E741A1: PyObject_Call (abstract.c:2492)
==27537==    by 0x4E868BC: instancemethod_call (classobject.c:2579)
==27537==    by 0x4E741A1: PyObject_Call (abstract.c:2492)
==27537==  Address 0xa73d020 is not stack'd, malloc'd or (recently) free'd
==27537== 
sage: sage: rows = []
sage: sage: x = dlx_solver(rows)
sage: sage: x.search()
==27537== Conditional jump or move depends on uninitialised value(s)
==27537==    at 0x2F2C3281: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:75)
==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)
==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537== 
==27537== Use of uninitialised value of size 8
==27537==    at 0x2F2C32AA: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)
==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)
==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537== 
==27537== Conditional jump or move depends on uninitialised value(s)
==27537==    at 0x2F2C32A8: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)
==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)
==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537== 
==27537== Conditional jump or move depends on uninitialised value(s)
==27537==    at 0x2F2C3291: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)
==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)
==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537== 
==27537== Invalid read of size 4
==27537==    at 0x2F2C328C: __pyx_pf_4sage_8combinat_8matrices_13dancing_links_20dancing_linksWrapper_9search(_object*, _object*) (dancing_links_c.h:76)
==27537==    by 0x4F13B46: PyEval_EvalFrameEx (ceval.c:3690)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F15A21: PyEval_EvalCode (ceval.c:522)
==27537==    by 0x4F14510: PyEval_EvalFrameEx (ceval.c:4401)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==    by 0x4F14CEE: PyEval_EvalFrameEx (ceval.c:3792)
==27537==    by 0x4F15947: PyEval_EvalCodeEx (ceval.c:2968)
==27537==    by 0x4F13BF3: PyEval_EvalFrameEx (ceval.c:3802)
==27537==  Address 0x30 is not stack'd, malloc'd or (recently) free'd
==27537== 
/tmp/Sage/sage-4.7.2.alpha2/local/lib/libcsage.so(print_backtrace+0x31)[0xbfa6817]
/tmp/Sage/sage-4.7.2.alpha2/local/lib/libcsage.so(sigdie+0x14)[0xbfa6849]
/tmp/Sage/sage-4.7.2.alpha2/local/lib/libcsage.so(sage_signal_handler+0x20e)[0xbfa6474]
/lib/libpthread.so.0(+0xf8f0)[0x52018f0]
/tmp/Sage/sage-4.7.2.alpha2/local/lib/python2.6/site-packages/sage/combinat/matrices/dancing_links.so(+0x828c)[0x2f2c328c]
/tmp/Sage/sage-4.7.2.alpha2/local/lib/libpython2.6.so.1.0(PyEval_EvalFrameEx+0x4af7)[0x4f13b47]
... (same backtrace)
```



---

archive/issue_comments_123498.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,4 @@\n+On a 64-bit Gentoo Linux system running sage-4.7.2.alpha2:\n \n ```\n sage: from sage.combinat.matrices.dancing_links import dlx_solver\n@@ -40,3 +41,42 @@\n Sage will now terminate.\n ------------------------------------------------------------------------\n ```\n+\n+Note that this behaviour is actually documented in `sage/combinat/tiling.py`:\n+\n+```\n+    def is_suitable(self):\n+        r\"\"\"\n+        Return whether the volume of the box is equal to sum of the volume\n+        of the polyominoes and the number of rows sent to the DLX solver is\n+        larger than zero.\n+\n+        If these conditions are not verified, then the problem is not suitable\n+        in the sense that there are no solution.\n+\n+        .. NOTE::\n+\n+            The DLX solver throws a Segmentation Fault when the\n+            number of rows is zero::\n+\n+                sage: from sage.combinat.matrices.dancing_links import dlx_solver\n+                sage: rows = []\n+                sage: x = dlx_solver(rows)\n+                sage: x.search()        # not tested\n+                BOOM !!!\n+```\n+\n+For sage-on-gentoo, there is an assertion failure:\n+\n+```\n+sage:  x = dlx_solver(rows)\n+python2.7: sage/combinat/matrices/dancing_links_c.h:217: void dancing_links::setup_columns(): Assertion `nr_columns > 0' failed.\n+/usr/lib64/libcsage.so(print_backtrace+0x24)[0x7fea73a945f7]\n+/usr/lib64/libcsage.so(sigdie+0x1d)[0x7fea73a94687]\n+/usr/lib64/libcsage.so(sage_signal_handler+0x157)[0x7fea73a94822]\n+/lib64/libpthread.so.0(+0xfee0)[0x7fea79206ee0]\n+/lib64/libc.so.6(gsignal+0x35)[0x7fea78ea5ee5]\n+/lib64/libc.so.6(abort+0x186)[0x7fea78ea7896]\n+/lib64/libc.so.6(__assert_fail+0xf5)[0x7fea78e9e7a5]\n+/usr/lib64/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x855d)[0x7fea4e73255d]\n+```\n``````\n",
    "created_at": "2011-09-19T14:00:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123498",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,4 @@
+On a 64-bit Gentoo Linux system running sage-4.7.2.alpha2:
 
 ```
 sage: from sage.combinat.matrices.dancing_links import dlx_solver
@@ -40,3 +41,42 @@
 Sage will now terminate.
 ------------------------------------------------------------------------
 ```
+
+Note that this behaviour is actually documented in `sage/combinat/tiling.py`:
+
+```
+    def is_suitable(self):
+        r"""
+        Return whether the volume of the box is equal to sum of the volume
+        of the polyominoes and the number of rows sent to the DLX solver is
+        larger than zero.
+
+        If these conditions are not verified, then the problem is not suitable
+        in the sense that there are no solution.
+
+        .. NOTE::
+
+            The DLX solver throws a Segmentation Fault when the
+            number of rows is zero::
+
+                sage: from sage.combinat.matrices.dancing_links import dlx_solver
+                sage: rows = []
+                sage: x = dlx_solver(rows)
+                sage: x.search()        # not tested
+                BOOM !!!
+```
+
+For sage-on-gentoo, there is an assertion failure:
+
+```
+sage:  x = dlx_solver(rows)
+python2.7: sage/combinat/matrices/dancing_links_c.h:217: void dancing_links::setup_columns(): Assertion `nr_columns > 0' failed.
+/usr/lib64/libcsage.so(print_backtrace+0x24)[0x7fea73a945f7]
+/usr/lib64/libcsage.so(sigdie+0x1d)[0x7fea73a94687]
+/usr/lib64/libcsage.so(sage_signal_handler+0x157)[0x7fea73a94822]
+/lib64/libpthread.so.0(+0xfee0)[0x7fea79206ee0]
+/lib64/libc.so.6(gsignal+0x35)[0x7fea78ea5ee5]
+/lib64/libc.so.6(abort+0x186)[0x7fea78ea7896]
+/lib64/libc.so.6(__assert_fail+0xf5)[0x7fea78e9e7a5]
+/usr/lib64/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x855d)[0x7fea4e73255d]
+```
``````




---

archive/issue_events_158964.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158964"
}
```



---

archive/issue_events_158965.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:34:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158965"
}
```



---

archive/issue_comments_123499.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAmusingly I found this in `add_rows`\n\n```\n        The following example would crash in Sage's debug version\n        from :trac:`13864` prior to the fix from :trac:`13822`::\n\n            sage: from sage.combinat.matrices.dancing_links import dlx_solver\n            sage: x = dlx_solver([])          # indirect doctest\n            sage: x.get_solution()\n            []\n```",
    "created_at": "2013-10-16T06:32:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123499",
    "user": "https://github.com/boothby"
}
```

<div id="comment:5" align="right">comment:5</div>

Amusingly I found this in `add_rows`

```
        The following example would crash in Sage's debug version
        from :trac:`13864` prior to the fix from :trac:`13822`::

            sage: from sage.combinat.matrices.dancing_links import dlx_solver
            sage: x = dlx_solver([])          # indirect doctest
            sage: x.get_solution()
            []
```



---

archive/issue_comments_123500.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -80,3 +80,30 @@\n /lib64/libc.so.6(__assert_fail+0xf5)[0x7fea78e9e7a5]\n /usr/lib64/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x855d)[0x7fea4e73255d]\n ```\n+\n+Additionally, we can segfault with a different kind of trivial problem,\n+\n+```\n+    sage: from sage.combinat.matrices.dancing_links import dlx_solver\n+    sage: d = dlx([[]])\n+    sage: d.search()\n+    *boom!*\n+```\n+\n+And even adding rows can be a problem... this doesn't always go boom\n+\n+```\n+    sage: d = dlx_solver([[0,1],[2]])\n+    sage: d.add_rows([[0,1],[1]])\n+    *boom!*\n+```\n+\n+Actually... *why the hell* would we ever support the following:\n+\n+```\n+    sage: d = dlx_solver(anything)\n+    sage: d.search()\n+    sage: d.add_rows(anything else)\n+```\n+\n+\n``````\n",
    "created_at": "2013-10-16T06:50:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123500",
    "user": "https://github.com/boothby"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -80,3 +80,30 @@
 /lib64/libc.so.6(__assert_fail+0xf5)[0x7fea78e9e7a5]
 /usr/lib64/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x855d)[0x7fea4e73255d]
 ```
+
+Additionally, we can segfault with a different kind of trivial problem,
+
+```
+    sage: from sage.combinat.matrices.dancing_links import dlx_solver
+    sage: d = dlx([[]])
+    sage: d.search()
+    *boom!*
+```
+
+And even adding rows can be a problem... this doesn't always go boom
+
+```
+    sage: d = dlx_solver([[0,1],[2]])
+    sage: d.add_rows([[0,1],[1]])
+    *boom!*
+```
+
+Actually... *why the hell* would we ever support the following:
+
+```
+    sage: d = dlx_solver(anything)
+    sage: d.search()
+    sage: d.add_rows(anything else)
+```
+
+
``````




---

archive/issue_events_158966.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158966"
}
```



---

archive/issue_events_158967.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158967"
}
```



---

archive/issue_events_158968.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158968"
}
```



---

archive/issue_events_158969.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:19:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158969"
}
```



---

archive/issue_events_158970.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158970"
}
```



---

archive/issue_events_158971.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158971"
}
```



---

archive/issue_comments_123501.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI just pushed a branch (based on 6.6.rc2) where the segmentation fault is catch using sig_on and sig_off. \n\nDo we want to also solve the segmentation fault itself in this ticket?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8ee8dd81d654d6d68baa335b15251a2427c3dc8e\">8ee8dd8</a></td><td><code>Trac #11814: Catch the segmentation fault in dancing links</code></td></tr></table>\n",
    "created_at": "2015-07-24T13:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123501",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:10" align="right">comment:10</div>

I just pushed a branch (based on 6.6.rc2) where the segmentation fault is catch using sig_on and sig_off. 

Do we want to also solve the segmentation fault itself in this ticket?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8ee8dd81d654d6d68baa335b15251a2427c3dc8e">8ee8dd8</a></td><td><code>Trac #11814: Catch the segmentation fault in dancing links</code></td></tr></table>




---

archive/issue_comments_123502.json:
```json
{
    "body": "Commit: **[`8ee8dd8`](https://github.com/sagemath/sagetrac-mirror/commit/8ee8dd81d654d6d68baa335b15251a2427c3dc8e)**",
    "created_at": "2015-07-24T13:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123502",
    "user": "https://github.com/seblabbe"
}
```

Commit: **[`8ee8dd8`](https://github.com/sagemath/sagetrac-mirror/commit/8ee8dd81d654d6d68baa335b15251a2427c3dc8e)**



---

archive/issue_comments_123503.json:
```json
{
    "body": "Branch: **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)**",
    "created_at": "2015-07-24T13:03:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123503",
    "user": "https://github.com/seblabbe"
}
```

Branch: **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)**



---

archive/issue_comments_123504.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/25741dfc1c52709faa59042024248824247275f4\">25741df</a></td><td><code>Trac #11814: Merge with 6.8.rc1</code></td></tr></table>\n",
    "created_at": "2015-07-24T13:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123504",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/25741dfc1c52709faa59042024248824247275f4">25741df</a></td><td><code>Trac #11814: Merge with 6.8.rc1</code></td></tr></table>




---

archive/issue_comments_123505.json:
```json
{
    "body": "Changed commit from **[`8ee8dd8`](https://github.com/sagemath/sagetrac-mirror/commit/8ee8dd81d654d6d68baa335b15251a2427c3dc8e)** to **[`25741df`](https://github.com/sagemath/sagetrac-mirror/commit/25741dfc1c52709faa59042024248824247275f4)**",
    "created_at": "2015-07-24T13:13:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123505",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8ee8dd8`](https://github.com/sagemath/sagetrac-mirror/commit/8ee8dd81d654d6d68baa335b15251a2427c3dc8e)** to **[`25741df`](https://github.com/sagemath/sagetrac-mirror/commit/25741dfc1c52709faa59042024248824247275f4)**



---

archive/issue_comments_123506.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@seblabbe](#comment:10):\n> I just pushed a branch (based on 6.6.rc2) where the segmentation fault is catch using sig_on and sig_off. \n> \n> Do we want to also solve the segmentation fault itself in this ticket?\n\nFirst of all, I would absolutely never doctest segfaults unless you know that it's safe to do so.\n\nI don't mind just adding the `sig_on`/`sig_off` in this ticket provided that you create a new ticket for the segmentation fault itself.",
    "created_at": "2015-07-24T13:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123506",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@seblabbe](#comment:10):
> I just pushed a branch (based on 6.6.rc2) where the segmentation fault is catch using sig_on and sig_off. 
> 
> Do we want to also solve the segmentation fault itself in this ticket?

First of all, I would absolutely never doctest segfaults unless you know that it's safe to do so.

I don't mind just adding the `sig_on`/`sig_off` in this ticket provided that you create a new ticket for the segmentation fault itself.



---

archive/issue_comments_123507.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nAlso: add your author name please.",
    "created_at": "2015-07-24T13:52:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123507",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

Also: add your author name please.



---

archive/issue_comments_123508.json:
```json
{
    "body": "<div id=\"comment:14\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35f074c4a0a48af5583582e25fe76d0483ca7778\">35f074c</a></td><td><code>Trac #11814: Added not tested flag for segmentation fault</code></td></tr></table>\n",
    "created_at": "2015-07-25T07:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123508",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:14"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35f074c4a0a48af5583582e25fe76d0483ca7778">35f074c</a></td><td><code>Trac #11814: Added not tested flag for segmentation fault</code></td></tr></table>




---

archive/issue_comments_123509.json:
```json
{
    "body": "Changed commit from **[`25741df`](https://github.com/sagemath/sagetrac-mirror/commit/25741dfc1c52709faa59042024248824247275f4)** to **[`35f074c`](https://github.com/sagemath/sagetrac-mirror/commit/35f074c4a0a48af5583582e25fe76d0483ca7778)**",
    "created_at": "2015-07-25T07:40:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123509",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`25741df`](https://github.com/sagemath/sagetrac-mirror/commit/25741dfc1c52709faa59042024248824247275f4)** to **[`35f074c`](https://github.com/sagemath/sagetrac-mirror/commit/35f074c4a0a48af5583582e25fe76d0483ca7778)**



---

archive/issue_comments_123510.json:
```json
{
    "body": "Author: **S\u00e9bastien Labb\u00e9**",
    "created_at": "2015-07-25T07:42:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123510",
    "user": "https://github.com/seblabbe"
}
```

Author: **Sébastien Labbé**



---

archive/issue_events_158972.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T07:42:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158972"
}
```



---

archive/issue_events_158973.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T07:42:45Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "title_is": "Catch the segmentation fault in dlx_solver",
    "title_was": "Segmentation fault in dlx_solver",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158973"
}
```



---

archive/issue_comments_123511.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@jdemeyer](#comment:12):\n> I don't mind just adding the `sig_on`/`sig_off` in this ticket provided that you create a new ticket for the segmentation fault itself.\n\nI just created #18950 for the segmentation fault itself.",
    "created_at": "2015-07-25T07:46:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123511",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@jdemeyer](#comment:12):
> I don't mind just adding the `sig_on`/`sig_off` in this ticket provided that you create a new ticket for the segmentation fault itself.

I just created #18950 for the segmentation fault itself.



---

archive/issue_events_158974.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T09:15:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158974"
}
```



---

archive/issue_events_158975.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T09:15:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158975"
}
```



---

archive/issue_comments_123512.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nWhy needs_work?",
    "created_at": "2015-07-25T09:21:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123512",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:18" align="right">comment:18</div>

Why needs_work?



---

archive/issue_comments_123513.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/549575955408f4ca4c8c24341c6c8149d14e4a1d\">5495759</a></td><td><code>Trac #11814: Fix segmentation Fault raised by an assert</code></td></tr></table>\n",
    "created_at": "2015-07-25T09:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123513",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/549575955408f4ca4c8c24341c6c8149d14e4a1d">5495759</a></td><td><code>Trac #11814: Fix segmentation Fault raised by an assert</code></td></tr></table>




---

archive/issue_comments_123514.json:
```json
{
    "body": "Changed commit from **[`35f074c`](https://github.com/sagemath/sagetrac-mirror/commit/35f074c4a0a48af5583582e25fe76d0483ca7778)** to **[`5495759`](https://github.com/sagemath/sagetrac-mirror/commit/549575955408f4ca4c8c24341c6c8149d14e4a1d)**",
    "created_at": "2015-07-25T09:33:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123514",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`35f074c`](https://github.com/sagemath/sagetrac-mirror/commit/35f074c4a0a48af5583582e25fe76d0483ca7778)** to **[`5495759`](https://github.com/sagemath/sagetrac-mirror/commit/549575955408f4ca4c8c24341c6c8149d14e4a1d)**



---

archive/issue_comments_123515.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment:18):\n> Why needs_work?\n\nBecause I found the problem and was about to push the solution here. #18950 will not be necessary.",
    "created_at": "2015-07-25T09:36:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123515",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment:18):
> Why needs_work?

Because I found the problem and was about to push the solution here. #18950 will not be necessary.



---

archive/issue_events_158976.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T09:38:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158976"
}
```



---

archive/issue_events_158977.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T09:38:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158977"
}
```



---

archive/issue_comments_123516.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI also removed the `dumps` method which was broken and useless:\n\n```\nsage: x = dlx_solver([])                                                \nsage: x.dumps()                                          \nTraceback (most ...\n...              \nAttributeError: 'list' object has no attribute 'dumps'   \n```\n\nI was about to remove `make_dlxwrapper` from the sage namespace, but decided it belongs to another ticket.",
    "created_at": "2015-07-25T09:44:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123516",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:22" align="right">comment:22</div>

I also removed the `dumps` method which was broken and useless:

```
sage: x = dlx_solver([])                                                
sage: x.dumps()                                          
Traceback (most ...
...              
AttributeError: 'list' object has no attribute 'dumps'   
```

I was about to remove `make_dlxwrapper` from the sage namespace, but decided it belongs to another ticket.



---

archive/issue_events_158978.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-25T09:45:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "title_is": "Catch and fix the segmentation fault in dlx_solver",
    "title_was": "Catch the segmentation fault in dlx_solver",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158978"
}
```



---

archive/issue_events_158979.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T10:10:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158979"
}
```



---

archive/issue_events_158980.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T10:10:35Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "milestone_number": null,
    "milestone_title": "sage-6.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158980"
}
```



---

archive/issue_events_158981.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T10:10:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158981"
}
```



---

archive/issue_events_158982.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T10:10:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158982"
}
```



---

archive/issue_comments_123517.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThe initialization of `self.rows` is a pure Python-level initialization, so I recommend to move it to `__init__` instead of `__cinit__`.",
    "created_at": "2015-07-25T10:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123517",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:24" align="right">comment:24</div>

The initialization of `self.rows` is a pure Python-level initialization, so I recommend to move it to `__init__` instead of `__cinit__`.



---

archive/issue_comments_123518.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2015-07-25T10:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123518",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_123519.json:
```json
{
    "body": "Changed branch from **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)** to **[u/jdemeyer/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/11814)**",
    "created_at": "2015-07-25T10:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123519",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)** to **[u/jdemeyer/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/11814)**



---

archive/issue_events_158983.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T11:02:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158983"
}
```



---

archive/issue_events_158984.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T11:02:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158984"
}
```



---

archive/issue_comments_123520.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI took the opportunity to fix the initialization even more and really clean up the whole file.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/392b62c70d342679c41799e0b45857c537ad8a8e\">392b62c</a></td><td><code>Simplify dancing links code</code></td></tr></table>\n",
    "created_at": "2015-07-25T11:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123520",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

I took the opportunity to fix the initialization even more and really clean up the whole file.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/392b62c70d342679c41799e0b45857c537ad8a8e">392b62c</a></td><td><code>Simplify dancing links code</code></td></tr></table>




---

archive/issue_comments_123521.json:
```json
{
    "body": "Changed commit from **[`5495759`](https://github.com/sagemath/sagetrac-mirror/commit/549575955408f4ca4c8c24341c6c8149d14e4a1d)** to **[`392b62c`](https://github.com/sagemath/sagetrac-mirror/commit/392b62c70d342679c41799e0b45857c537ad8a8e)**",
    "created_at": "2015-07-25T11:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123521",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`5495759`](https://github.com/sagemath/sagetrac-mirror/commit/549575955408f4ca4c8c24341c6c8149d14e4a1d)** to **[`392b62c`](https://github.com/sagemath/sagetrac-mirror/commit/392b62c70d342679c41799e0b45857c537ad8a8e)**



---

archive/issue_comments_123522.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nGreat! I was feeling those `Py_INCREF` were not necessary and old fashion. You were the good guy to clean/update that part. I removed the `cimport Integer` which was unused.\n\nThere is one doctest failing in `combinat/tiling.py` because of the `__str__ -> __repr__` change. I did not fix the doctest because I wonder if showing a list of list is really what we want for the `__repr__`? Maybe a repr saying `Dancing links of 34 rows` would be better together with a method `rows` returning the rows?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a3dd8be8ff50d04bc84dc60401ea9af11871af6\">3a3dd8b</a></td><td><code>Removed cimport Integer from dancing links</code></td></tr></table>\n",
    "created_at": "2015-07-25T11:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123522",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:27" align="right">comment:27</div>

Great! I was feeling those `Py_INCREF` were not necessary and old fashion. You were the good guy to clean/update that part. I removed the `cimport Integer` which was unused.

There is one doctest failing in `combinat/tiling.py` because of the `__str__ -> __repr__` change. I did not fix the doctest because I wonder if showing a list of list is really what we want for the `__repr__`? Maybe a repr saying `Dancing links of 34 rows` would be better together with a method `rows` returning the rows?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a3dd8be8ff50d04bc84dc60401ea9af11871af6">3a3dd8b</a></td><td><code>Removed cimport Integer from dancing links</code></td></tr></table>




---

archive/issue_comments_123523.json:
```json
{
    "body": "Changed commit from **[`392b62c`](https://github.com/sagemath/sagetrac-mirror/commit/392b62c70d342679c41799e0b45857c537ad8a8e)** to **[`3a3dd8b`](https://github.com/sagemath/sagetrac-mirror/commit/3a3dd8be8ff50d04bc84dc60401ea9af11871af6)**",
    "created_at": "2015-07-25T11:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123523",
    "user": "https://github.com/seblabbe"
}
```

Changed commit from **[`392b62c`](https://github.com/sagemath/sagetrac-mirror/commit/392b62c70d342679c41799e0b45857c537ad8a8e)** to **[`3a3dd8b`](https://github.com/sagemath/sagetrac-mirror/commit/3a3dd8be8ff50d04bc84dc60401ea9af11871af6)**



---

archive/issue_comments_123524.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/11814)** to **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)**",
    "created_at": "2015-07-25T11:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123524",
    "user": "https://github.com/seblabbe"
}
```

Changed branch from **[u/jdemeyer/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/11814)** to **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)**



---

archive/issue_comments_123525.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nNote: I started to fix the repr thing. Will push something soon.",
    "created_at": "2015-07-25T11:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123525",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:28" align="right">comment:28</div>

Note: I started to fix the repr thing. Will push something soon.



---

archive/issue_comments_123526.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI would prefer to see the rows in `__repr__`, so maybe `Dancing links of 2 rows [0,1,2], [0,2]`.\n\nNote: the only reason I changed it is because it looked strange to me that the class had a `__str__` method but not a `__repr__`.",
    "created_at": "2015-07-25T11:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123526",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:29" align="right">comment:29</div>

I would prefer to see the rows in `__repr__`, so maybe `Dancing links of 2 rows [0,1,2], [0,2]`.

Note: the only reason I changed it is because it looked strange to me that the class had a `__str__` method but not a `__repr__`.



---

archive/issue_comments_123527.json:
```json
{
    "body": "Changed commit from **[`3a3dd8b`](https://github.com/sagemath/sagetrac-mirror/commit/3a3dd8be8ff50d04bc84dc60401ea9af11871af6)** to **[`56c74ed`](https://github.com/sagemath/sagetrac-mirror/commit/56c74ed227fb8def88644a7e2371bd33701d8f28)**",
    "created_at": "2015-07-25T11:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123527",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3a3dd8b`](https://github.com/sagemath/sagetrac-mirror/commit/3a3dd8be8ff50d04bc84dc60401ea9af11871af6)** to **[`56c74ed`](https://github.com/sagemath/sagetrac-mirror/commit/56c74ed227fb8def88644a7e2371bd33701d8f28)**



---

archive/issue_comments_123528.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/56c74ed227fb8def88644a7e2371bd33701d8f28\">56c74ed</a></td><td><code>Better `__repr__` for dancing links, added rows method</code></td></tr></table>\n",
    "created_at": "2015-07-25T11:47:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123528",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/56c74ed227fb8def88644a7e2371bd33701d8f28">56c74ed</a></td><td><code>Better `__repr__` for dancing links, added rows method</code></td></tr></table>




---

archive/issue_comments_123529.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nWith the last commit we now have:\n\n```\nsage: from sage.games.quantumino import QuantuminoSolver\nsage: q = QuantuminoSolver(0)                           \nsage: T = q.tiling_solver()                             \nsage: T.dlx_solver()                                    \nDancing links solver for 96 columns and 5484 rows\n```\n\nI think it is better like this instead of printing the whole list of rows.",
    "created_at": "2015-07-25T11:51:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123529",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:31" align="right">comment:31</div>

With the last commit we now have:

```
sage: from sage.games.quantumino import QuantuminoSolver
sage: q = QuantuminoSolver(0)                           
sage: T = q.tiling_solver()                             
sage: T.dlx_solver()                                    
Dancing links solver for 96 columns and 5484 rows
```

I think it is better like this instead of printing the whole list of rows.



---

archive/issue_comments_123530.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nThere is a doctest failure in `src/sage/games/quantumino.py` related to the printing.",
    "created_at": "2015-07-25T11:56:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123530",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

There is a doctest failure in `src/sage/games/quantumino.py` related to the printing.



---

archive/issue_comments_123531.json:
```json
{
    "body": "Changed commit from **[`56c74ed`](https://github.com/sagemath/sagetrac-mirror/commit/56c74ed227fb8def88644a7e2371bd33701d8f28)** to **[`e2b82a4`](https://github.com/sagemath/sagetrac-mirror/commit/e2b82a4b7b035d84955c3c15a41cd740fc050eaf)**",
    "created_at": "2015-07-25T12:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123531",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`56c74ed`](https://github.com/sagemath/sagetrac-mirror/commit/56c74ed227fb8def88644a7e2371bd33701d8f28)** to **[`e2b82a4`](https://github.com/sagemath/sagetrac-mirror/commit/e2b82a4b7b035d84955c3c15a41cd740fc050eaf)**



---

archive/issue_comments_123532.json:
```json
{
    "body": "<div id=\"comment:33\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2b82a4b7b035d84955c3c15a41cd740fc050eaf\">e2b82a4</a></td><td><code>Fix doctest in games/quantumino.py</code></td></tr></table>\n",
    "created_at": "2015-07-25T12:06:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123532",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2b82a4b7b035d84955c3c15a41cd740fc050eaf">e2b82a4</a></td><td><code>Fix doctest in games/quantumino.py</code></td></tr></table>




---

archive/issue_comments_123533.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nJust to say that I agree with the changes made by Jeroen in this ticket.",
    "created_at": "2015-07-25T12:16:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123533",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:34" align="right">comment:34</div>

Just to say that I agree with the changes made by Jeroen in this ticket.



---

archive/issue_events_158985.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T12:23:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158985"
}
```



---

archive/issue_events_158986.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2015-07-25T12:23:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158986"
}
```



---

archive/issue_events_158987.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-26T23:48:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158987"
}
```



---

archive/issue_events_158988.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-26T23:48:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158988"
}
```



---

archive/issue_comments_123534.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nWhen building with `SAGE_DEBUG=yes`:\n\n```\nsage: from sage.combinat.matrices.dancing_links import dlx_solver ## line 163 ##\nsage: x = dlx_solver([])          # indirect doctest ## line 164 ##\npython: /mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/combinat/matrices/dancing_links_c.h:217: void dancing_links::setup_columns(): Assertion `nr_columns > 0' failed.\n------------------------------------------------------------------------\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so(+0x3747)[0x7f012e49a747]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so(+0x3902)[0x7f012e49a902]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so(+0x3257)[0x7f012e49a257]\n/lib64/libpthread.so.0(+0x10430)[0x7f013a8b8430]\n/lib64/libc.so.6(gsignal+0x38)[0x7f0139e0d9c8]\n/lib64/libc.so.6(abort+0x16a)[0x7f0139e0f65a]\n/lib64/libc.so.6(+0x2d187)[0x7f0139e06187]\n/lib64/libc.so.6(+0x2d232)[0x7f0139e06232]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(_ZN13dancing_links13setup_columnsEv+0x36)[0x7f00f9ec3fe8]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(_ZN13dancing_links8add_rowsESt6vectorIS0_IiSaIiEESaIS2_EE+0x153)[0x7f00f9ec4335]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x1301a)[0x7f00f9ebf01a]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x121c9)[0x7f00f9ebe1c9]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x161b6)[0x7f00f9ec21b6]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x16378)[0x7f00f9ec2378]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x1091e)[0x7f00f9ebc91e]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x106dd)[0x7f00f9ebc6dd]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(+0xdf3ed)[0x7f013aba33ed]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x160bb)[0x7f00f9ec20bb]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x13c13)[0x7f00f9ebfc13]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x13ac4)[0x7f00f9ebfac4]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(+0x15a60b)[0x7f013ac1e60b]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c85)[0x7f013ac19290]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x113f)[0x7f013ac1bd59]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x41)[0x7f013ac115e6]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(+0x15d369)[0x7f013ac21369]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x432d)[0x7f013ac15938]\n/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x113f)[0x7f013ac1bd59]\n```",
    "created_at": "2015-07-26T23:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123534",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:36" align="right">comment:36</div>

When building with `SAGE_DEBUG=yes`:

```
sage: from sage.combinat.matrices.dancing_links import dlx_solver ## line 163 ##
sage: x = dlx_solver([])          # indirect doctest ## line 164 ##
python: /mnt/disk/home/buildslave-sage/slave/sage_git/build/src/build/cythonized/sage/combinat/matrices/dancing_links_c.h:217: void dancing_links::setup_columns(): Assertion `nr_columns > 0' failed.
------------------------------------------------------------------------
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so(+0x3747)[0x7f012e49a747]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so(+0x3902)[0x7f012e49a902]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/ext/interrupt/interrupt.so(+0x3257)[0x7f012e49a257]
/lib64/libpthread.so.0(+0x10430)[0x7f013a8b8430]
/lib64/libc.so.6(gsignal+0x38)[0x7f0139e0d9c8]
/lib64/libc.so.6(abort+0x16a)[0x7f0139e0f65a]
/lib64/libc.so.6(+0x2d187)[0x7f0139e06187]
/lib64/libc.so.6(+0x2d232)[0x7f0139e06232]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(_ZN13dancing_links13setup_columnsEv+0x36)[0x7f00f9ec3fe8]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(_ZN13dancing_links8add_rowsESt6vectorIS0_IiSaIiEESaIS2_EE+0x153)[0x7f00f9ec4335]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x1301a)[0x7f00f9ebf01a]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x121c9)[0x7f00f9ebe1c9]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x161b6)[0x7f00f9ec21b6]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x16378)[0x7f00f9ec2378]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x1091e)[0x7f00f9ebc91e]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x106dd)[0x7f00f9ebc6dd]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(+0xdf3ed)[0x7f013aba33ed]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x160bb)[0x7f00f9ec20bb]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x13c13)[0x7f00f9ebfc13]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/python2.7/site-packages/sage/combinat/matrices/dancing_links.so(+0x13ac4)[0x7f00f9ebfac4]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(+0x15a60b)[0x7f013ac1e60b]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x7c85)[0x7f013ac19290]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x113f)[0x7f013ac1bd59]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCode+0x41)[0x7f013ac115e6]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(+0x15d369)[0x7f013ac21369]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalFrameEx+0x432d)[0x7f013ac15938]
/mnt/disk/home/buildslave-sage/slave/sage_git/build/local/lib/libpython2.7.so.1.0(PyEval_EvalCodeEx+0x113f)[0x7f013ac1bd59]
```



---

archive/issue_comments_123535.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nS\u00e9bastien, I won't have time in the coming month to look at this. If other people want to fix and to review, go ahead...",
    "created_at": "2015-07-27T07:41:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123535",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:37" align="right">comment:37</div>

Sébastien, I won't have time in the coming month to look at this. If other people want to fix and to review, go ahead...



---

archive/issue_comments_123536.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nNo problem Jeroen!\n\nSo how can I reproduce the problem? Like this?\n\n```\nmake distclean\nexport SAGE_DEBUG=\"yes\"\nmake\nsage -t src/sage/combinat/matrices/dancing_links.pyx\n```\n\nor is there an easier way? Can I just recompile some packages (python and cython and gcc?) packages with `SAGE_DEBUG=yes`? Does `sage -f <package>` considers the `SAGE_DEBUG` flag?",
    "created_at": "2015-07-27T19:51:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123536",
    "user": "https://github.com/seblabbe"
}
```

<div id="comment:38" align="right">comment:38</div>

No problem Jeroen!

So how can I reproduce the problem? Like this?

```
make distclean
export SAGE_DEBUG="yes"
make
sage -t src/sage/combinat/matrices/dancing_links.pyx
```

or is there an easier way? Can I just recompile some packages (python and cython and gcc?) packages with `SAGE_DEBUG=yes`? Does `sage -f <package>` considers the `SAGE_DEBUG` flag?



---

archive/issue_comments_123537.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nYou need to compile Python and everything that links to it, the only sure way is starting with make distclean imho.",
    "created_at": "2015-07-27T19:57:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123537",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

You need to compile Python and everything that links to it, the only sure way is starting with make distclean imho.



---

archive/issue_comments_123538.json:
```json
{
    "body": "Changed commit from **[`e2b82a4`](https://github.com/sagemath/sagetrac-mirror/commit/e2b82a4b7b035d84955c3c15a41cd740fc050eaf)** to **[`dcdfd06`](https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08)**",
    "created_at": "2015-07-28T19:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123538",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e2b82a4`](https://github.com/sagemath/sagetrac-mirror/commit/e2b82a4b7b035d84955c3c15a41cd740fc050eaf)** to **[`dcdfd06`](https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08)**



---

archive/issue_comments_123539.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08\">dcdfd06</a></td><td><code>Trac #11814: Fix failing Assertion nr_columns > 0 in setup_columns()</code></td></tr></table>\n",
    "created_at": "2015-07-28T19:13:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123539",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08">dcdfd06</a></td><td><code>Trac #11814: Fix failing Assertion nr_columns > 0 in setup_columns()</code></td></tr></table>




---

archive/issue_events_158989.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-28T19:15:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158989"
}
```



---

archive/issue_events_158990.json:
```json
{
    "actor": "https://github.com/seblabbe",
    "created_at": "2015-07-28T19:15:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158990"
}
```



---

archive/issue_events_158991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-28T22:47:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158991"
}
```



---

archive/issue_events_158992.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-28T22:47:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158992"
}
```



---

archive/issue_comments_123540.json:
```json
{
    "body": "Changed branch from **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)** to **[`dcdfd06`](https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08)**",
    "created_at": "2015-07-29T09:22:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11814#issuecomment-123540",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/slabbe/11814](https://github.com/sagemath/sagetrac-mirror/tree/u/slabbe/11814)** to **[`dcdfd06`](https://github.com/sagemath/sagetrac-mirror/commit/dcdfd06c1e924a72a49cf0c13929930ddcb61e08)**



---

archive/issue_events_158993.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-07-29T09:22:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158993"
}
```



---

archive/issue_events_158994.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "302e07a2097ee0e7fabda8a42909b2cd16602f51",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2015-07-29T09:22:41Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11814",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11814#event-158994"
}
```
