# Issue 11710: experimental package macaulay2-1.1-r7221.p0.spkg fails to install

archive/issues_011538.json:
```json
{
    "assignees": [],
    "body": "sage-4.7.1 on the [Skynet machine eno](http://wiki.sagemath.org/skynet#Eno) (x86_64-Linux-core2-fc) fails to install the [experimental package macaulay2-1.1-r7221.p0.spkg](http://www.sagemath.org//packages/experimental/macaulay2-1.1-r7221.p0.spkg).\n\n(Note that installing [optional package gdbm-1.8.3.spkg](http://www.sagemath.org/packages/optional/gdbm-1.8.3.spkg) is a prerequiste for installing `macaulay2-1.1-r7221.p0.spkg`.)\n\nRather than fix this problem, it may be better to upgrade to\na more recent version of [Macaulay2](http://www.math.uiuc.edu/Macaulay2/), such as [macaulay2-1.4-r12617](http://www.math.uiuc.edu/Macaulay2/Downloads/SourceCode/Macaulay2-1.4-r12617-src.tar.bz2).\n\n```\neno% ./sage -i ../optional/bug/macaulay2-1.1-r7221.p0.spkg\nInstalling ../optional/bug/macaulay2-1.1-r7221.p0.spkg\nCalling sage-spkg on ../optional/bug/macaulay2-1.1-r7221.p0.spkg\nWarning: Attempted to overwrite SAGE_ROOT environment variable\nmacaulay2-1.1-r7221.p0\nMachine:\nLinux eno 2.6.40-4.fc15.x86_64 #1 SMP Fri Jul 29 18:46:53 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\nDeleting directories from past builds of previous/current versions of macaulay2-1.1-r7221.p0\nExtracting package /home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/../optional/bug/macaulay2-1.1-r7221.p0.spkg ...\n-rw-r----- 1 mariah sage 2652090 Dec 24  2008 /home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/../optional/bug/macaulay2-1.1-r7221.p0.spkg\nFinished extraction\n****************************************************\nHost system\nuname -a:\nLinux eno 2.6.40-4.fc15.x86_64 #1 SMP Fri Jul 29 18:46:53 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\n****************************************************\n****************************************************\nCC Version\ngcc -v\nUsing built-in specs.\nCOLLECT_GCC=gcc\nCOLLECT_LTO_WRAPPER=/usr/local/gcc-4.6.1/x86_64-Linux-core2-fc/libexec/gcc/x86_64-unknown-linux-gnu/4.6.1/lto-wrapper\nTarget: x86_64-unknown-linux-gnu\nConfigured with: /usr/local/gcc-4.6.1/src/gcc-4.6.1/configure --enable-languages=c,c++,fortran --with-gnu-as --with-gnu-as=/usr/local/binutils-2.21/x86_64-Linux-core2-fc-gcc-4.5.1-rh/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.21/x86_64-Linux-core2-fc-gcc-4.5.1-rh/bin/ld --with-gmp=/usr/local/mpir-2.4.0/x86_64-Linux-core2-fc-gcc-4.6.0-rh --with-mpfr=/usr/local/mpfr-3.0.1/x86_64-Linux-core2-fc-mpir-2.4.0-gcc-4.6.0-rh --with-mpc=/usr/local/mpc-0.9/x86_64-Linux-core2-fc-mpir-2.4.0-mpfr-3.0.1-gcc-4.6.0-rh --prefix=/usr/local/gcc-4.6.1/x86_64-Linux-core2-fc\nThread model: posix\ngcc version 4.6.1 (GCC) \n****************************************************\n+ autoconf\n```\n...stuff deleted...\n\n```\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking for gawk... gawk\nchecking for gcc... gcc\nchecking whether the C compiler works... no\nconfigure: error: in `/home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/spkg/build/macaulay2-1.1-r7221.p0/src/BUILD/normal':\nconfigure: error: C compiler cannot create executables\nSee `config.log' for more details\n```\n\n\nDepends on #13234\n\nKeywords: **sd32, sd40.5**\n\nReviewer: **John Perry**\n\nAuthor: **Andrey Novoseltsev**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/11710_\n\n",
    "closed_at": "2017-09-13T16:02:49Z",
    "created_at": "2011-08-19T17:17:40Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "experimental package macaulay2-1.1-r7221.p0.spkg fails to install",
    "type": "issue",
    "updated_at": "2017-09-13T16:02:49Z",
    "url": "https://github.com/sagemath/sage/issues/11710",
    "user": "https://github.com/sagetrac-mariah"
}
```
sage-4.7.1 on the [Skynet machine eno](http://wiki.sagemath.org/skynet#Eno) (x86_64-Linux-core2-fc) fails to install the [experimental package macaulay2-1.1-r7221.p0.spkg](http://www.sagemath.org//packages/experimental/macaulay2-1.1-r7221.p0.spkg).

(Note that installing [optional package gdbm-1.8.3.spkg](http://www.sagemath.org/packages/optional/gdbm-1.8.3.spkg) is a prerequiste for installing `macaulay2-1.1-r7221.p0.spkg`.)

Rather than fix this problem, it may be better to upgrade to
a more recent version of [Macaulay2](http://www.math.uiuc.edu/Macaulay2/), such as [macaulay2-1.4-r12617](http://www.math.uiuc.edu/Macaulay2/Downloads/SourceCode/Macaulay2-1.4-r12617-src.tar.bz2).

```
eno% ./sage -i ../optional/bug/macaulay2-1.1-r7221.p0.spkg
Installing ../optional/bug/macaulay2-1.1-r7221.p0.spkg
Calling sage-spkg on ../optional/bug/macaulay2-1.1-r7221.p0.spkg
Warning: Attempted to overwrite SAGE_ROOT environment variable
macaulay2-1.1-r7221.p0
Machine:
Linux eno 2.6.40-4.fc15.x86_64 #1 SMP Fri Jul 29 18:46:53 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux
Deleting directories from past builds of previous/current versions of macaulay2-1.1-r7221.p0
Extracting package /home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/../optional/bug/macaulay2-1.1-r7221.p0.spkg ...
-rw-r----- 1 mariah sage 2652090 Dec 24  2008 /home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/../optional/bug/macaulay2-1.1-r7221.p0.spkg
Finished extraction
****************************************************
Host system
uname -a:
Linux eno 2.6.40-4.fc15.x86_64 #1 SMP Fri Jul 29 18:46:53 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux
****************************************************
****************************************************
CC Version
gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/local/gcc-4.6.1/x86_64-Linux-core2-fc/libexec/gcc/x86_64-unknown-linux-gnu/4.6.1/lto-wrapper
Target: x86_64-unknown-linux-gnu
Configured with: /usr/local/gcc-4.6.1/src/gcc-4.6.1/configure --enable-languages=c,c++,fortran --with-gnu-as --with-gnu-as=/usr/local/binutils-2.21/x86_64-Linux-core2-fc-gcc-4.5.1-rh/bin/as --with-gnu-ld --with-ld=/usr/local/binutils-2.21/x86_64-Linux-core2-fc-gcc-4.5.1-rh/bin/ld --with-gmp=/usr/local/mpir-2.4.0/x86_64-Linux-core2-fc-gcc-4.6.0-rh --with-mpfr=/usr/local/mpfr-3.0.1/x86_64-Linux-core2-fc-mpir-2.4.0-gcc-4.6.0-rh --with-mpc=/usr/local/mpc-0.9/x86_64-Linux-core2-fc-mpir-2.4.0-mpfr-3.0.1-gcc-4.6.0-rh --prefix=/usr/local/gcc-4.6.1/x86_64-Linux-core2-fc
Thread model: posix
gcc version 4.6.1 (GCC) 
****************************************************
+ autoconf
```
...stuff deleted...

```
checking for a BSD-compatible install... /usr/bin/install -c
checking for gawk... gawk
checking for gcc... gcc
checking whether the C compiler works... no
configure: error: in `/home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/spkg/build/macaulay2-1.1-r7221.p0/src/BUILD/normal':
configure: error: C compiler cannot create executables
See `config.log' for more details
```


Depends on #13234

Keywords: **sd32, sd40.5**

Reviewer: **John Perry**

Author: **Andrey Novoseltsev**

_Issue created by migration from https://trac.sagemath.org/ticket/11710_





---

archive/issue_events_143608.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-08-19T17:17:40Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143608"
}
```



---

archive/issue_events_143609.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-08-19T17:17:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143609"
}
```



---

archive/issue_events_143610.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-08-19T17:17:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143610"
}
```



---

archive/issue_events_143611.json:
```json
{
    "actor": "https://github.com/sagetrac-mariah",
    "created_at": "2011-08-19T17:17:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143611"
}
```



---

archive/issue_comments_123751.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttaching `config.log` in this case wouldn't be bad.\n\nBut as you mentioned, the package is fairly old anyway, which doesn't necessarily mean a newer version will install seamlessly. Did you already try that?",
    "created_at": "2011-08-19T18:49:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123751",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:1'>Comment 1:</a>
Attaching `config.log` in this case wouldn't be bad.

But as you mentioned, the package is fairly old anyway, which doesn't necessarily mean a newer version will install seamlessly. Did you already try that?



---

archive/issue_comments_123752.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nYes, I tried installing a newer version.  It did not go well, and\nI have abandoned the effort for now.  (Other things are demanding my attention.)  Perhaps someone else will have better luck!",
    "created_at": "2011-08-19T19:08:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123752",
    "user": "https://github.com/sagetrac-mariah"
}
```

<a id='comment:2'>Comment 2:</a>
Yes, I tried installing a newer version.  It did not go well, and
I have abandoned the effort for now.  (Other things are demanding my attention.)  Perhaps someone else will have better luck!



---

archive/issue_comments_123753.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,9 @@\n-sage-4.7.1 on eno (x86_64-Linux-core2-fc) fails to install experimental package macaulay2-1.1-r7221.p0.spkg.  \n+sage-4.7.1 on the [Skynet machine eno](http://wiki.sagemath.org/skynet#Eno) (x86_64-Linux-core2-fc) fails to install the [experimental package macaulay2-1.1-r7221.p0.spkg](http://www.sagemath.org//packages/experimental/macaulay2-1.1-r7221.p0.spkg).\n \n-(Note that installing optional package gdbm-1.8.3.spkg is a prerequiste for installing macaulay2-1.1-r7221.p0.spkg.)\n+(Note that installing [optional package gdbm-1.8.3.spkg](http://www.sagemath.org/packages/optional/gdbm-1.8.3.spkg) is a prerequiste for installing `macaulay2-1.1-r7221.p0.spkg`.)\n \n Rather than fix this problem, it may be better to upgrade to\n-a more recent version of macaulay2, such as macaulay2-1.4-r12617.\n+a more recent version of [Macaulay2](http://www.math.uiuc.edu/Macaulay2/), such as [macaulay2-1.4-r12617](http://www.math.uiuc.edu/Macaulay2/Downloads/SourceCode/Macaulay2-1.4-r12617-src.tar.bz2).\n \n ```\n eno% ./sage -i ../optional/bug/macaulay2-1.1-r7221.p0.spkg\n@@ -45,5 +45,5 @@\n configure: error: in `/home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/spkg/build/macaulay2-1.1-r7221.p0/src/BUILD/normal':\n configure: error: C compiler cannot create executables\n See `config.log' for more details\n+```\n \n-```\n``````\n",
    "created_at": "2011-08-20T13:56:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123753",
    "user": "https://github.com/nexttime"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,9 @@
-sage-4.7.1 on eno (x86_64-Linux-core2-fc) fails to install experimental package macaulay2-1.1-r7221.p0.spkg.  
+sage-4.7.1 on the [Skynet machine eno](http://wiki.sagemath.org/skynet#Eno) (x86_64-Linux-core2-fc) fails to install the [experimental package macaulay2-1.1-r7221.p0.spkg](http://www.sagemath.org//packages/experimental/macaulay2-1.1-r7221.p0.spkg).
 
-(Note that installing optional package gdbm-1.8.3.spkg is a prerequiste for installing macaulay2-1.1-r7221.p0.spkg.)
+(Note that installing [optional package gdbm-1.8.3.spkg](http://www.sagemath.org/packages/optional/gdbm-1.8.3.spkg) is a prerequiste for installing `macaulay2-1.1-r7221.p0.spkg`.)
 
 Rather than fix this problem, it may be better to upgrade to
-a more recent version of macaulay2, such as macaulay2-1.4-r12617.
+a more recent version of [Macaulay2](http://www.math.uiuc.edu/Macaulay2/), such as [macaulay2-1.4-r12617](http://www.math.uiuc.edu/Macaulay2/Downloads/SourceCode/Macaulay2-1.4-r12617-src.tar.bz2).
 
 ```
 eno% ./sage -i ../optional/bug/macaulay2-1.1-r7221.p0.spkg
@@ -45,5 +45,5 @@
 configure: error: in `/home/mariah/sage/sage-4.7.1-x86_64-Linux-core2-fc-macaulay2/spkg/build/macaulay2-1.1-r7221.p0/src/BUILD/normal':
 configure: error: C compiler cannot create executables
 See `config.log' for more details
+```
 
-```
``````




---

archive/issue_comments_123754.json:
```json
{
    "body": "Changed keywords from **** to **sd32**",
    "created_at": "2011-08-24T23:41:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123754",
    "user": "https://github.com/williamstein"
}
```

Changed keywords from **** to **sd32**



---

archive/issue_comments_123755.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nFor the record: Macaulay2 1.5 is about to be released.",
    "created_at": "2012-05-25T04:32:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123755",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:5'>Comment 5:</a>
For the record: Macaulay2 1.5 is about to be released.



---

archive/issue_comments_123756.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nTo review #12335 I need to install the spkg `macaulay2-1.1-r7221.p0` into sage-5.0 but when I try I get:\n\n```\n\nError: the autoconf program is not installed on your system.\n\n/bin/sh: autoconf: not found\nPlease install or update autoconf: the version () should be at least 2.59.\n```\n\nIt's mentioned in the error message that one can try:\n\n```\nmake get-autoconf\n```\n\nbut going to a sage shell and into the spkg src and running this command fails:\n\n```\n\n(sage-sh) jonesbe@sage:src$ make get-autoconf\nmake -f Makefile -C autoconf\nmake[1]: Entering directory `/home/jonesbe/sage/sage-5.0/spkg/build/macaulay2-1.1-r7221.p0/src/autoconf'\ncurl ftp://ftp.gnu.org/gnu/autoconf/autoconf-2.61.tar.gz -o \"autoconf-2.61.tar.gz\" && touch .fetched\n/bin/sh: curl: not found\nmake[1]: *** [.fetched] Error 127\nmake[1]: Leaving directory `/home/jonesbe/sage/sage-5.0/spkg/build/macaulay2-1.1-r7221.p0/src/autoconf'\nmake: *** [get-autoconf] Error 2\n```",
    "created_at": "2012-05-25T20:39:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123756",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:6'>Comment 6:</a>
To review #12335 I need to install the spkg `macaulay2-1.1-r7221.p0` into sage-5.0 but when I try I get:

```

Error: the autoconf program is not installed on your system.

/bin/sh: autoconf: not found
Please install or update autoconf: the version () should be at least 2.59.
```

It's mentioned in the error message that one can try:

```
make get-autoconf
```

but going to a sage shell and into the spkg src and running this command fails:

```

(sage-sh) jonesbe@sage:src$ make get-autoconf
make -f Makefile -C autoconf
make[1]: Entering directory `/home/jonesbe/sage/sage-5.0/spkg/build/macaulay2-1.1-r7221.p0/src/autoconf'
curl ftp://ftp.gnu.org/gnu/autoconf/autoconf-2.61.tar.gz -o "autoconf-2.61.tar.gz" && touch .fetched
/bin/sh: curl: not found
make[1]: *** [.fetched] Error 127
make[1]: Leaving directory `/home/jonesbe/sage/sage-5.0/spkg/build/macaulay2-1.1-r7221.p0/src/autoconf'
make: *** [get-autoconf] Error 2
```



---

archive/issue_comments_123757.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@benjaminfjones](#comment%3A6):\n> To review #12335 I need to install the spkg `macaulay2-1.1-r7221.p0` into sage-5.0 but when I try I get:\n> \n> ```\n> \n> Error: the autoconf program is not installed on your system.\n> ```\n\nIs autoconf installed on your system? If not, does Sage include its own autoconf?\n\nThese may be dumb questions, but I can get past the autoconf, maybe because it's on my system. It breaks for me elsewhere.",
    "created_at": "2012-05-26T18:59:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123757",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@benjaminfjones](#comment%3A6):
> To review #12335 I need to install the spkg `macaulay2-1.1-r7221.p0` into sage-5.0 but when I try I get:
> 
> ```
> 
> Error: the autoconf program is not installed on your system.
> ```

Is autoconf installed on your system? If not, does Sage include its own autoconf?

These may be dumb questions, but I can get past the autoconf, maybe because it's on my system. It breaks for me elsewhere.



---

archive/issue_comments_123758.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI am trying to build M2 1.4 from source - it would be way better to upgrade spkg. My diary:\n* I've installed autoconf on my system since it does not seem like Sage includes it in any way.\n* bison and flex are available as experimental packages (why not optional?) and installed fine for me.\n* I have MAKE=\"make -j2\" and configure complains that make is not GNU, changing it to just \"make\" works fine.\n* Next it complains about libcurses and libncurses. I have libncurses installed, but it is necessary to install development versions. I've done that.\n* Now development version of libxml2...\n* config finished without errors, make does not work:\n\n ```\n error: for the third-party library or program source \"gc\"\n        the source code is not present in the file \"/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/../../BUILD/tarfiles/gc-7.2alpha5-2010-09-03.tar.gz\"\n        so either download a \"fat\" tar file of the Macaulay2 source code\n        or rerun the Macaulay2 \"configure\" command with the added option \"--enable-download\"\n        to enable automatic downloading of the source code over the internet\n```",
    "created_at": "2012-05-28T17:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123758",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:8'>Comment 8:</a>
I am trying to build M2 1.4 from source - it would be way better to upgrade spkg. My diary:
* I've installed autoconf on my system since it does not seem like Sage includes it in any way.
* bison and flex are available as experimental packages (why not optional?) and installed fine for me.
* I have MAKE="make -j2" and configure complains that make is not GNU, changing it to just "make" works fine.
* Next it complains about libcurses and libncurses. I have libncurses installed, but it is necessary to install development versions. I've done that.
* Now development version of libxml2...
* config finished without errors, make does not work:

 ```
 error: for the third-party library or program source "gc"
        the source code is not present in the file "/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/../../BUILD/tarfiles/gc-7.2alpha5-2010-09-03.tar.gz"
        so either download a "fat" tar file of the Macaulay2 source code
        or rerun the Macaulay2 "configure" command with the added option "--enable-download"
        to enable automatic downloading of the source code over the internet
```



---

archive/issue_comments_123759.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nI am not sure where fat source is, but I have downloaded files one by one until there were no complaints from here:\nhttp://www.math.uiuc.edu/Macaulay2/Downloads/OtherSourceCode/1.4/index.html\nI had to get 21 out of 29 currently posted there:\n\n```\n4ti2-1.3.2.tar.gz               gfan0.4plus.tar.gz   nauty24r2.tar.gz\ncdd+-077a.tar.gz                glpk-4.44.tar.gz     normaliz2.5Source.zip\ncddlib-094f.tar.gz              lapack-3.2.2.tgz     ntl-5.5.2.tar.gz\nfactory-3-1-1.tar.gz            libfac-3-1-1.tar.gz  pari-2.3.5.tar.gz\nfrobby_v0.8.2.tar.gz            lrslib-042c.tar.gz   readline61-001\ngc-7.2alpha5-2010-09-03.tar.gz  mpfr-3.0.0.tar.gz    readline61-002\ngdbm-1.8.3.tar.gz               mpir-2.1.2.tar.gz    readline-6.1.tar.gz\n```\nAs I understand some of these should be substituted by Sage versions. From a license point of view, would it be OK to make an optional spkg with the rest included?",
    "created_at": "2012-05-28T17:24:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123759",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:9'>Comment 9:</a>
I am not sure where fat source is, but I have downloaded files one by one until there were no complaints from here:
http://www.math.uiuc.edu/Macaulay2/Downloads/OtherSourceCode/1.4/index.html
I had to get 21 out of 29 currently posted there:

```
4ti2-1.3.2.tar.gz               gfan0.4plus.tar.gz   nauty24r2.tar.gz
cdd+-077a.tar.gz                glpk-4.44.tar.gz     normaliz2.5Source.zip
cddlib-094f.tar.gz              lapack-3.2.2.tgz     ntl-5.5.2.tar.gz
factory-3-1-1.tar.gz            libfac-3-1-1.tar.gz  pari-2.3.5.tar.gz
frobby_v0.8.2.tar.gz            lrslib-042c.tar.gz   readline61-001
gc-7.2alpha5-2010-09-03.tar.gz  mpfr-3.0.0.tar.gz    readline61-002
gdbm-1.8.3.tar.gz               mpir-2.1.2.tar.gz    readline-6.1.tar.gz
```
As I understand some of these should be substituted by Sage versions. From a license point of view, would it be OK to make an optional spkg with the rest included?



---

archive/issue_comments_123760.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThe end of make's output:\n\n```\nlinalg.cpp:528:1: error: \u2018FieldMatrix::FieldMatrix\u2019 names the constructor, not the type\nmake[3]: *** [linalg.o] Error 1\nmake[3]: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/libraries/gfan/build/gfan0.4plus'\nmake[2]: *** [.compiled-0.4plus] Error 2\nmake[2]: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/libraries/gfan'\nmake[1]: *** [all-in-gfan] Error 2\nmake[1]: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/libraries'\nmake: *** [all-in-libraries] Error 2\nmake: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal'\n```",
    "created_at": "2012-05-28T18:01:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123760",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:10'>Comment 10:</a>
The end of make's output:

```
linalg.cpp:528:1: error: ‘FieldMatrix::FieldMatrix’ names the constructor, not the type
make[3]: *** [linalg.o] Error 1
make[3]: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/libraries/gfan/build/gfan0.4plus'
make[2]: *** [.compiled-0.4plus] Error 2
make[2]: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/libraries/gfan'
make[1]: *** [all-in-gfan] Error 2
make[1]: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal/libraries'
make: *** [all-in-libraries] Error 2
make: Leaving directory `/home/novoselt/tests/Macaulay2-1.4-r12617/BUILD/normal'
```



---

archive/issue_comments_123761.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nI made a new spkg based on Macaulay2-1.4, so far it fails to build because of 4ti2 and gfan. Both are installed in Sage (4ti2 as optional), but not detected by M2 - I've asked M2 developers what can be done. Including these into M2 package breaks during gfan installation, so I have no idea yet how close I am to a working package.",
    "created_at": "2012-05-28T21:49:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123761",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:11'>Comment 11:</a>
I made a new spkg based on Macaulay2-1.4, so far it fails to build because of 4ti2 and gfan. Both are installed in Sage (4ti2 as optional), but not detected by M2 - I've asked M2 developers what can be done. Including these into M2 package breaks during gfan installation, so I have no idea yet how close I am to a working package.



---

archive/issue_comments_123762.json:
```json
{
    "body": "Changed keywords from **sd32** to **sd32, sd40.5**",
    "created_at": "2012-05-29T04:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123762",
    "user": "https://github.com/novoselt"
}
```

Changed keywords from **sd32** to **sd32, sd40.5**



---

archive/issue_comments_123763.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nHere is an spkg that tries to build (building 4ti2 and gfan is prohibited):\n\nhttp://sage.math.washington.edu/home/novoselt/macaulay2-1.4-r12617.spkg\n\nIt crashes with implicit-function-declaration after several minutes into the build.\n\nI am also experimenting with the trunk version of version 1.5, but so far I had to enable downloading extra files, these extra files are huge (27Mb for normaliz), and the build is taking forever (although it is likely to succeed - it seems to process documentation now).",
    "created_at": "2012-05-29T04:34:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123763",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:12'>Comment 12:</a>
Here is an spkg that tries to build (building 4ti2 and gfan is prohibited):

http://sage.math.washington.edu/home/novoselt/macaulay2-1.4-r12617.spkg

It crashes with implicit-function-declaration after several minutes into the build.

I am also experimenting with the trunk version of version 1.5, but so far I had to enable downloading extra files, these extra files are huge (27Mb for normaliz), and the build is taking forever (although it is likely to succeed - it seems to process documentation now).



---

archive/issue_comments_123764.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe trunk version has succeeded, although my system now has autoconf, lib(n)curses and libxml2.",
    "created_at": "2012-05-29T05:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123764",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:13'>Comment 13:</a>
The trunk version has succeeded, although my system now has autoconf, lib(n)curses and libxml2.



---

archive/issue_comments_123765.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@novoselt](#comment%3A13):\n> The trunk version has succeeded, although my system now has autoconf, lib(n)curses and libxml2.\n\nIs it possible and/or advisable to test? I'm interested in trying this out.",
    "created_at": "2012-05-29T15:17:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123765",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@novoselt](#comment%3A13):
> The trunk version has succeeded, although my system now has autoconf, lib(n)curses and libxml2.

Is it possible and/or advisable to test? I'm interested in trying this out.



---

archive/issue_comments_123766.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nSure, here is a link:\n\nhttp://sage.math.washington.edu/home/novoselt/macaulay2-1.5.spkg\n\nLet me know if it complains about bison and flex during build - the install script does not check for them yet.",
    "created_at": "2012-05-29T16:26:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123766",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:15'>Comment 15:</a>
Sure, here is a link:

http://sage.math.washington.edu/home/novoselt/macaulay2-1.5.spkg

Let me know if it complains about bison and flex during build - the install script does not check for them yet.



---

archive/issue_comments_123767.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nReplying to [@novoselt](#comment%3A15):\n> Sure, here is a link:\n> \n> http://sage.math.washington.edu/home/novoselt/macaulay2-1.5.spkg\n> \n> Let me know if it complains about bison and flex during build - the install script does not check for them yet.\n\nI had complaints about libxml2 and yacc. I installed bison for yacc. Right now it's still building, but I'm guessing (fingers crossed) that I have everything I need.\n\nI may leave before it quits, and it may be Thursday before I'm back in the office, but I will let you know how it turns out.",
    "created_at": "2012-05-30T02:12:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123767",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:16'>Comment 16:</a>
Replying to [@novoselt](#comment%3A15):
> Sure, here is a link:
> 
> http://sage.math.washington.edu/home/novoselt/macaulay2-1.5.spkg
> 
> Let me know if it complains about bison and flex during build - the install script does not check for them yet.

I had complaints about libxml2 and yacc. I installed bison for yacc. Right now it's still building, but I'm guessing (fingers crossed) that I have everything I need.

I may leave before it quits, and it may be Thursday before I'm back in the office, but I will let you know how it turns out.



---

archive/issue_comments_123768.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nI think there is an option to build without xml, but I didn't try it yet. In any case since I was not able to build 1.4 due to errors during compilation of M2 itself, I'd like to wait till 1.5 is officially released, hopefully with proper packages for Normaliz etc. Then we can see how to cut down on dependencies.",
    "created_at": "2012-05-30T03:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123768",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:17'>Comment 17:</a>
I think there is an option to build without xml, but I didn't try it yet. In any case since I was not able to build 1.4 due to errors during compilation of M2 itself, I'd like to wait till 1.5 is officially released, hopefully with proper packages for Normaliz etc. Then we can see how to cut down on dependencies.



---

archive/issue_comments_123769.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nI encountered a complaint about flex, too. Trying another rebuild...",
    "created_at": "2012-05-30T12:50:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123769",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:18'>Comment 18:</a>
I encountered a complaint about flex, too. Trying another rebuild...



---

archive/issue_comments_123770.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nInteresting - so this complain was late in the build process, M2 didn't detect its absence? I've updated 1.5 spkg to have checks for gdbm, 4ti2, bison, and flex spkgs. The rest of dependencies has to be dropped somehow.",
    "created_at": "2012-05-30T14:28:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123770",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:19'>Comment 19:</a>
Interesting - so this complain was late in the build process, M2 didn't detect its absence? I've updated 1.5 spkg to have checks for gdbm, 4ti2, bison, and flex spkgs. The rest of dependencies has to be dropped somehow.



---

archive/issue_comments_123771.json:
```json
{
    "body": "Author: **Andrey Novoseltsev**",
    "created_at": "2012-05-30T14:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123771",
    "user": "https://github.com/johnperry-math"
}
```

Author: **Andrey Novoseltsev**



---

archive/issue_comments_123772.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nAs far as I know, M2 didn't detect its absence, no. It does detect some other things.\n\nApparently, the build finished, but I don't see any variant of \"Macaulay2\" in the list of optional_packages, either in the installed section, or the uninstalled section. (i.e., when I call `optional_packages()` at the command line.)\n\nIf I knew how to test it out, I'd give you some more useful information. (For example, whether it crashes while using it.) I'm turning back to #12802 for a little bit, and I have some other things to do, so I'll look at it later.\n\nBTW, what would constitute grounds for a positive review? Not just the installation, presumably, but a fairly careful amount of checking that it works, right?",
    "created_at": "2012-05-30T14:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123772",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:20'>Comment 20:</a>
As far as I know, M2 didn't detect its absence, no. It does detect some other things.

Apparently, the build finished, but I don't see any variant of "Macaulay2" in the list of optional_packages, either in the installed section, or the uninstalled section. (i.e., when I call `optional_packages()` at the command line.)

If I knew how to test it out, I'd give you some more useful information. (For example, whether it crashes while using it.) I'm turning back to #12802 for a little bit, and I have some other things to do, so I'll look at it later.

BTW, what would constitute grounds for a positive review? Not just the installation, presumably, but a fairly careful amount of checking that it works, right?



---

archive/issue_comments_123773.json:
```json
{
    "body": "Reviewer: **John Perry**",
    "created_at": "2012-05-30T14:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123773",
    "user": "https://github.com/johnperry-math"
}
```

Reviewer: **John Perry**



---

archive/issue_comments_123774.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nYou can try to run \"sage -M2\" to get M2 prompt and see if it works (worked for me showing version 1.4.0.1). Also I see it in \"sage -i\" - the list of installed packages. Maybe to see it in optional ones it has to be registered somehow.\n\nFor a positive review you need to check that it follows guidelines here:\nhttp://sagemath.org/doc/developer/producing_spkgs.html\nand perhaps there are also specific guidelines for checking them. In any case this is not ready for review yet ;-)\n\nNote also that if you just want to use M2 with Sage, you can install M2 on its own and if it is in your PATH, Sage interface should work. At least I made it work reliably with version 1.3.1 a couple years ago: #7897.",
    "created_at": "2012-05-30T15:29:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123774",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:21'>Comment 21:</a>
You can try to run "sage -M2" to get M2 prompt and see if it works (worked for me showing version 1.4.0.1). Also I see it in "sage -i" - the list of installed packages. Maybe to see it in optional ones it has to be registered somehow.

For a positive review you need to check that it follows guidelines here:
http://sagemath.org/doc/developer/producing_spkgs.html
and perhaps there are also specific guidelines for checking them. In any case this is not ready for review yet ;-)

Note also that if you just want to use M2 with Sage, you can install M2 on its own and if it is in your PATH, Sage interface should work. At least I made it work reliably with version 1.3.1 a couple years ago: #7897.



---

archive/issue_comments_123775.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@novoselt](#comment%3A21):\n> You can try to run \"sage -M2\" to get M2 prompt and see if it works (worked for me showing version 1.4.0.1).\n\n```\nMacaulay2, version 1.4.0.1\nwith packages: ConwayPolynomials, Elimination, IntegralClosure, LLLBases,\n               PrimaryDecomposition, ReesAlgebra, TangentCone\n\ni1 : \n```\n\n> Also I see it in \"sage -i\" - the list of installed packages. Maybe to see it in optional ones it has to be registered somehow.\n\nOkay, yes, I see it there.\n\n> For a positive review you need to check that it follows guidelines here:\n> http://sagemath.org/doc/developer/producing_spkgs.html\n> and perhaps there are also specific guidelines for checking them. In any case this is not ready for review yet ;-)\n\nGood point about not being ready for review. :-) For future reference, it's nice to have the link. But, I would also like to try it out with more than the M2 command line; I have seen from my work in `mpolynomial_ideal` that there are Macaulay2 representations of polynomials as well as Singular representations, and I think CoCoA representations as well, so I'd like to try working between the groups.\n\n> \n> Note also that if you just want to use M2 with Sage, you can install M2 on its own and if it is in your PATH, Sage interface should work. At least I made it work reliably with version 1.3.1 a couple years ago: #7897.\n\nI might like to use M2 with sage, and I have a version installed, as I had thought of looking into this myself at one point. Thanks for the tip.",
    "created_at": "2012-05-31T15:18:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123775",
    "user": "https://github.com/johnperry-math"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@novoselt](#comment%3A21):
> You can try to run "sage -M2" to get M2 prompt and see if it works (worked for me showing version 1.4.0.1).

```
Macaulay2, version 1.4.0.1
with packages: ConwayPolynomials, Elimination, IntegralClosure, LLLBases,
               PrimaryDecomposition, ReesAlgebra, TangentCone

i1 : 
```

> Also I see it in "sage -i" - the list of installed packages. Maybe to see it in optional ones it has to be registered somehow.

Okay, yes, I see it there.

> For a positive review you need to check that it follows guidelines here:
> http://sagemath.org/doc/developer/producing_spkgs.html
> and perhaps there are also specific guidelines for checking them. In any case this is not ready for review yet ;-)

Good point about not being ready for review. :-) For future reference, it's nice to have the link. But, I would also like to try it out with more than the M2 command line; I have seen from my work in `mpolynomial_ideal` that there are Macaulay2 representations of polynomials as well as Singular representations, and I think CoCoA representations as well, so I'd like to try working between the groups.

> 
> Note also that if you just want to use M2 with Sage, you can install M2 on its own and if it is in your PATH, Sage interface should work. At least I made it work reliably with version 1.3.1 a couple years ago: #7897.

I might like to use M2 with sage, and I have a version installed, as I had thought of looking into this myself at one point. Thanks for the tip.



---

archive/issue_comments_123776.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nOne automatic thing to try is (in Sage root)\n\n```\nnovoselt@tx2-lmde ~/sage-5.1.beta0 $ ./sage -t -long -optional devel/sage/sage/interfaces/macaulay2.py \nsage -t -long -optional \"devel/sage/sage/interfaces/macaulay2.py\"\n**********************************************************************\nFile \"/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py\", line 398:\n    sage: macaulay2.version() #optional\nExpected:\n    (1, 3, 1)\nGot:\n    (1, 4, 0, 1)\n**********************************************************************\nFile \"/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py\", line 575:\n    sage: latex(m) #optional\nExpected:\n    \\begin{pmatrix}1& {2}\\\\ {3}& {4}\\\\ \\end{pmatrix}\nGot:\n    \\begin{pmatrix}1& 2\\\\ 3& 4\\\\ \\end{pmatrix}\n**********************************************************************\nFile \"/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py\", line 618:\n    sage: R.external_string()                      #optional\nExpected:\n    'QQ[x..y, Degrees => {2:1}, Heft => {1}, MonomialOrder => VerticalList{MonomialSize => 32, GRevLex => {2:1}, Position => Up}, DegreeRank => 1]'\nGot:\n    'QQ(monoid[x..y, Degrees => {2:1}, Heft => {1}, MonomialOrder => VerticalList{MonomialSize => 32, GRevLex => {2:1}, Position => Up}, DegreeRank => 1])'\n**********************************************************************\nFile \"/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py\", line 830:\n    sage: \"generators\" in traits     # optional\nExpected:\n    True\nGot:\n    False\n**********************************************************************\n4 items had failures:\n   1 of   4 in __main__.example_21\n   1 of   6 in __main__.example_29\n   1 of   5 in __main__.example_32\n   1 of   6 in __main__.example_43\n***Test Failed*** 4 failures.\nFor whitespace errors, see the file /home/novoselt/.sage//tmp/macaulay2_19614.py\n\t [12.5 s]\n```\nWhich shows that things still work quite well - only the last test is not quite clear without looking at the code (and there are 144 failures without M2 available, so there are quite a few tests in that module).\n\nIf you have a separate M2 installed, be careful during review tests - if you don't have a working installation inside of Sage the system-wide will be used silently and without any difference. So it may seem that spkg is working when it does not.\n\nOn an unrelated note, it is peculiar how 1 was not in `{}` before but `{2}` was in pmatrix code. New way is more consistent and easier to read by a human, I'd like to change Sage latexing in the same way to make manual modifications of results easier...",
    "created_at": "2012-05-31T16:21:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123776",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:23'>Comment 23:</a>
One automatic thing to try is (in Sage root)

```
novoselt@tx2-lmde ~/sage-5.1.beta0 $ ./sage -t -long -optional devel/sage/sage/interfaces/macaulay2.py 
sage -t -long -optional "devel/sage/sage/interfaces/macaulay2.py"
**********************************************************************
File "/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py", line 398:
    sage: macaulay2.version() #optional
Expected:
    (1, 3, 1)
Got:
    (1, 4, 0, 1)
**********************************************************************
File "/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py", line 575:
    sage: latex(m) #optional
Expected:
    \begin{pmatrix}1& {2}\\ {3}& {4}\\ \end{pmatrix}
Got:
    \begin{pmatrix}1& 2\\ 3& 4\\ \end{pmatrix}
**********************************************************************
File "/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py", line 618:
    sage: R.external_string()                      #optional
Expected:
    'QQ[x..y, Degrees => {2:1}, Heft => {1}, MonomialOrder => VerticalList{MonomialSize => 32, GRevLex => {2:1}, Position => Up}, DegreeRank => 1]'
Got:
    'QQ(monoid[x..y, Degrees => {2:1}, Heft => {1}, MonomialOrder => VerticalList{MonomialSize => 32, GRevLex => {2:1}, Position => Up}, DegreeRank => 1])'
**********************************************************************
File "/home/novoselt/sage-5.1.beta0/devel/sage/sage/interfaces/macaulay2.py", line 830:
    sage: "generators" in traits     # optional
Expected:
    True
Got:
    False
**********************************************************************
4 items had failures:
   1 of   4 in __main__.example_21
   1 of   6 in __main__.example_29
   1 of   5 in __main__.example_32
   1 of   6 in __main__.example_43
***Test Failed*** 4 failures.
For whitespace errors, see the file /home/novoselt/.sage//tmp/macaulay2_19614.py
	 [12.5 s]
```
Which shows that things still work quite well - only the last test is not quite clear without looking at the code (and there are 144 failures without M2 available, so there are quite a few tests in that module).

If you have a separate M2 installed, be careful during review tests - if you don't have a working installation inside of Sage the system-wide will be used silently and without any difference. So it may seem that spkg is working when it does not.

On an unrelated note, it is peculiar how 1 was not in `{}` before but `{2}` was in pmatrix code. New way is more consistent and easier to read by a human, I'd like to change Sage latexing in the same way to make manual modifications of results easier...



---

archive/issue_comments_123777.json:
```json
{
    "body": "Dependencies: **#13234**",
    "created_at": "2012-07-11T23:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123777",
    "user": "https://github.com/novoselt"
}
```

Dependencies: **#13234**



---

archive/issue_comments_123778.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nReplying to [@novoselt](#comment%3A24):\nIMHO, many more spkg's need to be created to satisfy all the dependencies.",
    "created_at": "2012-08-19T15:18:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123778",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:25'>Comment 25:</a>
Replying to [@novoselt](#comment%3A24):
IMHO, many more spkg's need to be created to satisfy all the dependencies.



---

archive/issue_events_143612.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143612"
}
```



---

archive/issue_events_143613.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143613"
}
```



---

archive/issue_events_143614.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143614"
}
```



---

archive/issue_events_143615.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143615"
}
```



---

archive/issue_events_143616.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143616"
}
```



---

archive/issue_events_143617.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143617"
}
```



---

archive/issue_events_143618.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143618"
}
```



---

archive/issue_events_143619.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143619"
}
```



---

archive/issue_events_143620.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-09-13T00:27:44Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143620"
}
```



---

archive/issue_events_143621.json:
```json
{
    "actor": "https://github.com/nexttime",
    "created_at": "2016-09-13T00:27:44Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143621"
}
```



---

archive/issue_comments_123779.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\n(Not sure what Authors and Reviewers means here, as there doesn't seem to be any code / patch / branch.)\n\n\"The current stable version is 1.9.2, released August, 2016.\"\n\n[https://github.com/Macaulay2/M2/releases/tag/version-1.9.2](https://github.com/Macaulay2/M2/releases/tag/version-1.9.2)",
    "created_at": "2016-09-13T00:32:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123779",
    "user": "https://github.com/nexttime"
}
```

<a id='comment:31'>Comment 31:</a>
(Not sure what Authors and Reviewers means here, as there doesn't seem to be any code / patch / branch.)

"The current stable version is 1.9.2, released August, 2016."

[https://github.com/Macaulay2/M2/releases/tag/version-1.9.2](https://github.com/Macaulay2/M2/releases/tag/version-1.9.2)



---

archive/issue_events_143622.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-13T12:29:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143622"
}
```



---

archive/issue_events_143623.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-13T12:29:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20experimental",
    "label_color": "000080",
    "label_name": "component: packages: experimental",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143623"
}
```



---

archive/issue_events_143624.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T15:41:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143624"
}
```



---

archive/issue_comments_123780.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nI think this can be closed as won't fix. M2 needs many patched, for Boehm GC compatibility, packages (e.g. Flint, NTL) , and it's very bulky this way.",
    "created_at": "2017-09-13T15:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123780",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:33'>Comment 33:</a>
I think this can be closed as won't fix. M2 needs many patched, for Boehm GC compatibility, packages (e.g. Flint, NTL) , and it's very bulky this way.



---

archive/issue_events_143625.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T15:42:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143625"
}
```



---

archive/issue_events_143626.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T15:42:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143626"
}
```



---

archive/issue_events_143627.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T15:42:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143627"
}
```



---

archive/issue_events_143628.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T15:42:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143628"
}
```



---

archive/issue_events_143629.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2017-09-13T15:42:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143629"
}
```



---

archive/issue_comments_123781.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI agree, and furthermore it is not even listed under the experimental packages anymore.",
    "created_at": "2017-09-13T16:02:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/11710#issuecomment-123781",
    "user": "https://github.com/koffie"
}
```

<a id='comment:35'>Comment 35:</a>
I agree, and furthermore it is not even listed under the experimental packages anymore.



---

archive/issue_events_143630.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-13T16:02:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143630"
}
```



---

archive/issue_events_143631.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-13T16:02:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143631"
}
```



---

archive/issue_events_143632.json:
```json
{
    "actor": "https://github.com/koffie",
    "created_at": "2017-09-13T16:02:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/11710",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/11710#event-143632"
}
```
