# Issue 25372: have libgap permutation to sage use permutation instead of permutation group element

Issue created by migration from Trac.

Original creator: stumpc5

Original creation time: 2018-06-19 14:08:55

CC:  tscrim dimapse

Keywords: permutation group, libgap

This is a side improvement of #25477, as seen there in comment 62 (please properly link if possible):


```
sage: P = PermutationGroup([(1,2),(1,2,3,4,5,6,7,8)])
sage: l = [8,7,6,5,4,3,2,1]
sage: %timeit P(l, check=False)
The slowest run took 7.58 times longer than the fastest. This could mean that an intermediate result is being cached.
10000 loops, best of 3: 44.3 µs per loop
sage: %timeit Permutation(l, check_input=False)
The slowest run took 7.85 times longer than the fastest. This could mean that an intermediate result is being cached.
100000 loops, best of 3: 6.74 µs per loop
```


So creating a new permutation is much faster than creating a permutation group element. If we know which permutation group we live in, there is even a faster way:

```
sage: one = P.one()
sage: %timeit one._generate_new(l)
The slowest run took 128.70 times longer than the fastest. This could mean that an intermediate result is being cached.
1000000 loops, best of 3: 241 ns per loop
```



---

Comment by stumpc5 created at 2018-06-19 14:51:48

Changing type from PLEASE CHANGE to enhancement.


---

Comment by git created at 2018-09-18 08:56:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-09-19 09:31:39

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by git created at 2018-09-19 09:49:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-09-19 09:53:28

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by stumpc5 created at 2018-09-19 09:56:25

This is not really depending on #25477, I think. But anyways, this is only a very small change...


---

Comment by stumpc5 created at 2018-09-19 09:56:25

Changing status from new to needs_review.


---

Comment by tscrim created at 2018-09-21 01:39:36

LGTM (but I agree that #25477 should not really be a dependency).


---

Comment by tscrim created at 2018-09-21 01:39:36

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-10-02 07:03:00

See patchbot


---

Comment by vbraun created at 2018-10-02 07:03:00

Changing status from positive_review to needs_work.


---

Comment by tscrim created at 2018-10-03 00:54:24

This fixes the errors on the patchbot (the polyhedron one was fixed in #25477 and I cannot reproduce it now here).
----
New commits:


---

Comment by tscrim created at 2018-10-03 00:54:24

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2018-10-03 22:27:37

Green patchbot (morally).


---

Comment by tscrim created at 2018-10-23 13:56:37

Green patchbot (still).


---

Comment by stumpc5 created at 2018-10-23 14:16:03

Can I put it to positive review?


---

Comment by stumpc5 created at 2018-10-23 14:16:03

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2018-10-23 15:33:07

Yes. In fact, I needed someone else to review my changes. :)


---

Comment by vbraun created at 2018-10-24 21:10:55

Resolution: fixed
