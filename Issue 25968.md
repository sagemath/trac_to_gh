# Issue 25968: py3: Add rich comparision to LatticePolytopeClass

Issue created by migration from https://trac.sagemath.org/ticket/26205

Original creator: vklein

Original creation time: 2018-09-07 09:53:33

`sage -t src/sage/geometry/lattice_polytope.py` generate a lot of doctests failures due to missing `__lt__` operator.



```
TypeError: '<' not supported between instances of 'LatticePolytopeClass' and 'LatticeP
olytopeClass'
```


`__ne__` and `__eq__` are already implemented in `LatticePolytopeClass`.
This ticket aim at implementing the remaining cases `__lt__`, `__le__`, `__gt__` and `__ge__`.


---

Comment by git created at 2018-09-07 11:54:24

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2018-09-07 11:57:14

why not implement `__richcmp__` instead (with ``@`richcmp_method` on the class), replacing `__eq__` and `__ne__` ?


---

Comment by vklein created at 2018-09-07 12:09:22

For what i have understand to use `__richcmp__`/`_richcmp_` your class need to be a subclass of `sage.structure.Element`, and `LatticePolytopeClass` only extends `SageObject`. I am willing to have advices on the best way to do this.

Edit: Ok i was too fast to answer. `@`richcmp_method is the thing i was looking for thanks.


---

Comment by chapoton created at 2018-09-07 12:12:30

* `_richcmp_` with a single score if only for subclasses of Element, indeed.

* but `__richcmp__` with double underscore is for every class:

-  it works directly everywhere in cython (.pyx files)

- in python files, you need to decorate the class with ``@`richcmp_method`

For many examples, see `git grep -A1 "`@`richcmp" src/sage`


---

Comment by vklein created at 2018-09-07 12:13:49

Yes i missed the decorator part, thanks for your answer.


---

Comment by git created at 2018-09-07 12:38:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vklein created at 2018-09-07 12:44:58

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-09-07 14:30:02

This is a wrong change, just undo it:

```
-        .. NOTE::
-
-            Two lattice polytopes are equal if they have the same vertices 
+        .. Note ::
+            Two lattice polytopes are equal if they have the same vertices
```



---

Comment by git created at 2018-09-07 14:44:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vklein created at 2018-09-07 14:45:43

Wrong change undone.


---

Comment by chapoton created at 2018-09-08 06:23:26

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2018-09-08 06:23:26

ok, let it be


---

Comment by vbraun created at 2018-09-09 07:38:35

Resolution: fixed
