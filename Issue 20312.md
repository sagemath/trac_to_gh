# Issue 20312: py3 print in geometry folder

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2016-05-03 18:40:35

another small step for python3 print


---

Comment by chapoton created at 2016-05-03 18:41:07

New commits:


---

Comment by chapoton created at 2016-05-03 18:41:07

Changing status from new to needs_review.


---

Comment by jmantysalo created at 2016-05-03 18:49:57

One more ticket...


---

Comment by jmantysalo created at 2016-05-04 04:49:35

Changing status from needs_review to needs_work.


---

Comment by jmantysalo created at 2016-05-04 04:49:35

Fails in `geometry/riemannian_manifolds/parametrized_surface3d.py`:


```
Failed example:
    numerical_integral(L.substitute(a=2, b=1.5, c=1),0,1)[0]
Expected:
    2.00127905972
Got:
    2.001279059716735
```



---

Comment by jmantysalo created at 2016-05-04 04:58:21

A side note: For example `geometry/triangulation/point_configuration.py` still has old-style `print`s. You might want to add a note to the description of the ticket.


---

Comment by git created at 2016-05-04 07:41:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-05-04 07:58:49

?? I am now on another machine and got in `geometry/toric_plotter.py` an error:


```
File "src/sage/geometry/toric_plotter.py", line 475, in sage.geometry.toric_plotter.ToricPlotter.plot_lattice
Failed example:
    tp.plot_lattice()
Expected:
    Graphics object consisting of 1 graphics primitive
Got:
    doctest:590: RichReprWarning: Exception in _rich_repr_ while displaying object: int() argument must be a string or a number, not 'NoneType'
    Graphics object consisting of 1 graphics primitive
```


I think I did not see that yesterday.


---

Comment by chapoton created at 2016-05-04 08:02:08

yes, this is also found by the patchbots, and I do not yet know how to this this one.


---

Comment by git created at 2016-05-04 08:04:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jmantysalo created at 2016-05-04 08:19:32

Everything seems to be OK, counting out that one error.


---

Comment by chapoton created at 2016-05-04 08:22:01

That needs to be solved, nevertheless. I will try to investigate. Jori, if you like, could you please look at #20505 ?


---

Comment by jmantysalo created at 2016-05-04 08:38:11

Replying to [comment:10 chapoton]:
> That needs to be solved, nevertheless.

Of course.

> Jori, if you like, could you please look at #20505 ?

Why not, but Vincent seems to already be reviewing it.


---

Comment by git created at 2016-05-04 13:47:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2016-05-04 13:48:13

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2016-05-04 13:48:13

I think I have solved the doctest problem, but it is not clear what it has to do with "print".


---

Comment by jdemeyer created at 2016-05-04 15:54:39

I really don't like your last commit because it looks very unrelated to the topic of this ticket.


---

Comment by chapoton created at 2016-05-04 16:27:01

ok, ok. I see your point. But still this doctest failure was not there before. It is caused by the attribute point_size not being initialized in the object "tp".

I would rather not cure all diseases of sage at the same time..

What solution do you propose ?


---

Comment by jmantysalo created at 2016-05-07 17:56:28

Replying to [comment:14 jdemeyer]:
> I really don't like your last commit because it looks very unrelated to the topic of this ticket.

Would it be OK, if Frédéric adds a note of this to description?


---

Comment by jmantysalo created at 2016-05-11 19:44:34

It makes no sense to wait for this. This kind of trivial but long patch is just waiting to get a conflict with some other ticket. The issue solved by Frédéric with ​6d7190b can be later taken as a separate ticket if needed.


---

Comment by jmantysalo created at 2016-05-11 19:44:34

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-05-19 22:38:53

Resolution: fixed
