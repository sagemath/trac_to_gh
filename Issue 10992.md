# Issue 10992: Add logging for Dokchitser scripts

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2011-04-06 07:35:06

Assignee: was

Keywords: dokchitser gp




---

Comment by jdemeyer created at 2011-04-06 07:36:15

Changing status from new to needs_review.


---

Comment by cremona created at 2011-04-11 20:35:51

Changing status from needs_review to needs_info.


---

Comment by cremona created at 2011-04-11 20:35:51

Applies fine t. 4.7.alpha4 and all tests pass.  But I am a little concerned that with the patch, a log file is created whether or not the user wants one.  This differs from the standard pexpect convention that a log file may be requested but is not created by default.

Would it work to move the logfile parameter to the init function, with default None, and have that function start up the interpreter?

John


---

Comment by jdemeyer created at 2011-04-11 20:38:59

Replying to [comment:2 cremona]:
> Applies fine t. 4.7.alpha4 and all tests pass.  But I am a little concerned that with the patch, a log file is created whether or not the user wants one.  This differs from the standard pexpect convention that a log file may be requested but is not created by default.

Let me just point out that `gp` (from PARI/GP) always logs by default (but this might be a bad thing too).


---

Comment by jdemeyer created at 2011-04-11 20:41:54

Replying to [comment:2 cremona]:
> Would it work to move the logfile parameter to the init function, with default None, and have that function start up the interpreter?

Not sure, because the Dokchitser stuff is often initialized indirectly.

I could live with the following:

```
logfile = None
# For debugging
#logfile = os.path.join(DOT_SAGE, 'dokchitser.log')
g = sage.interfaces.gp.Gp(script_subdirectory='dokchitser', logfile=logfile)
```



---

Comment by cremona created at 2011-04-11 20:46:00

I had not noticed that gp always produces a logfile!  I would vote to remove that and make it optional.

I prefer your "debugging" option.  This may well need revisiting after we have put in the new-style Dokchitser interface as worked on by Henri Cohen and me and Martin Raum recently -- I ost track of where that got to.


---

Comment by jdemeyer created at 2011-04-11 20:49:36

The best solution would be to have some kind of global "logging" option, similar to the "proof" option that we have currently in Sage.  However, this is certainly a more complex solution and not high on my priority list.


---

Comment by jdemeyer created at 2011-04-11 20:49:36

Changing status from needs_info to needs_work.


---

Attachment


---

Comment by jdemeyer created at 2011-04-14 18:53:15

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2011-04-14 18:53:15

Replying to [comment:5 cremona]:
> I prefer your "debugging" option.
Done.  I chose the simplest solution for this ticket, but you are right that there is work to be done concerning logging (but not on this ticket).


---

Comment by cremona created at 2011-04-15 15:48:48

Looks fine, testing now...


---

Comment by cremona created at 2011-04-15 16:19:23

Replying to [comment:8 cremona]:
> Looks fine, testing now...
... and all passed.


---

Comment by cremona created at 2011-04-15 16:19:23

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2011-04-20 12:51:58

Resolution: fixed
