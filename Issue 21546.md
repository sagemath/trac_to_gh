# Issue 21546: QEPCAD: Location of default.qepcadrc and other files

archive/issues_021546.json:
```json
{
    "body": "CC:  @kiwifb @embray felixs @jdemeyer @fchapoton @jhpalmieri @dimpase\n\nThis is split out from #15105.\n\nQEPCAD assumes unusual locations for several files, including \n- `$SAGE_LOCAL/default.qepcadrc` (which would better live in `$SAGE_ETC` (= `$SAGE_LOCAL/etc`)\n- `$SAGE_LOCAL/bin/qepcad.help` (which would better live in `$SAGE_LOCAL/share/qepcad`)\n\nThe patch (split out from #15105) tried to makes a change regarding the location on the Sage side of things; but QEPCAD itself also would need changing.\n\nThat's a bigger project; lots of things about QEPCAD need changing (build system, memory management, ...)\n\nIssue created by migration from https://trac.sagemath.org/ticket/21783\n\n",
    "created_at": "2016-10-30T04:35:02Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.3",
    "title": "QEPCAD: Location of default.qepcadrc and other files",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21546",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @kiwifb @embray felixs @jdemeyer @fchapoton @jhpalmieri @dimpase

This is split out from #15105.

QEPCAD assumes unusual locations for several files, including 
- `$SAGE_LOCAL/default.qepcadrc` (which would better live in `$SAGE_ETC` (= `$SAGE_LOCAL/etc`)
- `$SAGE_LOCAL/bin/qepcad.help` (which would better live in `$SAGE_LOCAL/share/qepcad`)

The patch (split out from #15105) tried to makes a change regarding the location on the Sage side of things; but QEPCAD itself also would need changing.

That's a bigger project; lots of things about QEPCAD need changing (build system, memory management, ...)

Issue created by migration from https://trac.sagemath.org/ticket/21783





---

archive/issue_comments_298782.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-10-30T05:27:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298782",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_298783.json:
```json
{
    "body": "Remind me, why are you pulling `SAGE_ETC` from `sage.misc.misc` rather than `sage.env`? In fact I would like to know if this file is needed at all.\n\nIt just write one useful line for `qepcadrc`\n\n```\nSINGULAR $expanded_path_to_SAGE_LOCAL/bin\n```\n\nIf this is the path to singular, unless it is hardcoded to a location by default, it is in the path and therefore not very useful.",
    "created_at": "2016-10-30T07:02:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298783",
    "user": "https://github.com/kiwifb"
}
```

Remind me, why are you pulling `SAGE_ETC` from `sage.misc.misc` rather than `sage.env`? In fact I would like to know if this file is needed at all.

It just write one useful line for `qepcadrc`

```
SINGULAR $expanded_path_to_SAGE_LOCAL/bin
```

If this is the path to singular, unless it is hardcoded to a location by default, it is in the path and therefore not very useful.



---

archive/issue_comments_298784.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-01-20T23:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298784",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_298785.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-01-20T23:58:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298785",
    "user": "https://github.com/mkoeppe"
}
```

New commits:



---

archive/issue_comments_298786.json:
```json
{
    "body": "Let me see if I understand: this was in `sage-location` because it needed to hardcode the value of `SAGE_LOCAL` in `default.qepcadrc`, so if that location changed, `default.qepcadrc` needed to be rewritten. Is that right? If so, it makes sense to move it to the `spkg-install.in` script.",
    "created_at": "2021-01-21T19:00:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298786",
    "user": "https://github.com/jhpalmieri"
}
```

Let me see if I understand: this was in `sage-location` because it needed to hardcode the value of `SAGE_LOCAL` in `default.qepcadrc`, so if that location changed, `default.qepcadrc` needed to be rewritten. Is that right? If so, it makes sense to move it to the `spkg-install.in` script.



---

archive/issue_comments_298787.json:
```json
{
    "body": "Yes, that's right.",
    "created_at": "2021-01-21T19:16:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298787",
    "user": "https://github.com/mkoeppe"
}
```

Yes, that's right.



---

archive/issue_comments_298788.json:
```json
{
    "body": "And to clarify, you're not changing the odd locations mentioned in the description. Is it worth modifying the description? The changes look good to me.",
    "created_at": "2021-01-21T19:20:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298788",
    "user": "https://github.com/jhpalmieri"
}
```

And to clarify, you're not changing the odd locations mentioned in the description. Is it worth modifying the description? The changes look good to me.



---

archive/issue_comments_298789.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-01-21T19:20:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298789",
    "user": "https://github.com/jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_298790.json:
```json
{
    "body": "Thanks. I've pushed this to #31275",
    "created_at": "2021-01-21T19:52:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298790",
    "user": "https://github.com/mkoeppe"
}
```

Thanks. I've pushed this to #31275



---

archive/issue_comments_298791.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-01-31T20:53:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21546#issuecomment-298791",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_020357.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2021-01-31T20:53:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21546",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21546#event-20357"
}
```
