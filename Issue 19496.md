# Issue 19496: Assignment of special methods does not work in Cython

archive/issues_019496.json:
```json
{
    "body": "CC:  vbraun\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19733\n\n",
    "created_at": "2015-12-16T09:32:27Z",
    "labels": [
        "cython",
        "blocker",
        "bug"
    ],
    "title": "Assignment of special methods does not work in Cython",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19496",
    "user": "jdemeyer"
}
```
CC:  vbraun



Issue created by migration from https://trac.sagemath.org/ticket/19733





---

archive/issue_comments_267862.json:
```json
{
    "body": "Since it causes doctest failures when `database_gap` is installed, I'm making this a blocker.\n----\nNew commits:",
    "created_at": "2015-12-16T09:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267862",
    "user": "jdemeyer"
}
```

Since it causes doctest failures when `database_gap` is installed, I'm making this a blocker.
----
New commits:



---

archive/issue_comments_267863.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-16T09:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267863",
    "user": "jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_267864.json:
```json
{
    "body": "`make ptest` passes with `--optional=bliss,coxeter3,cryptominisat,database_gap,gap_packages,mpir,python2,sage,scons`",
    "created_at": "2015-12-16T10:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267864",
    "user": "jdemeyer"
}
```

`make ptest` passes with `--optional=bliss,coxeter3,cryptominisat,database_gap,gap_packages,mpir,python2,sage,scons`



---

archive/issue_comments_267865.json:
```json
{
    "body": "is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?",
    "created_at": "2015-12-16T11:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267865",
    "user": "dimpase"
}
```

is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?



---

archive/issue_comments_267866.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?\n\nYes, it changes the behaviour. That's the whole point of this ticket.",
    "created_at": "2015-12-16T20:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267866",
    "user": "jdemeyer"
}
```

Replying to [comment:10 dimpase]:
> is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?

Yes, it changes the behaviour. That's the whole point of this ticket.



---

archive/issue_comments_267867.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-16T20:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267867",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_267868.json:
```json
{
    "body": "well, looks good, but would be great to see what bots say...",
    "created_at": "2015-12-16T20:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267868",
    "user": "dimpase"
}
```

well, looks good, but would be great to see what bots say...



---

archive/issue_comments_267869.json:
```json
{
    "body": "All tests passed for me.",
    "created_at": "2015-12-16T20:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267869",
    "user": "tscrim"
}
```

All tests passed for me.



---

archive/issue_comments_267870.json:
```json
{
    "body": "How come failures in optional packages are blockers?",
    "created_at": "2015-12-17T21:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267870",
    "user": "vbraun"
}
```

How come failures in optional packages are blockers?



---

archive/issue_comments_267871.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-17T21:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267871",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_267872.json:
```json
{
    "body": "Also, reviewer name missing",
    "created_at": "2015-12-17T21:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267872",
    "user": "vbraun"
}
```

Also, reviewer name missing



---

archive/issue_comments_267873.json:
```json
{
    "body": "well, by right, an optional package with test failures must be downgraded to experimental...",
    "created_at": "2015-12-17T21:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267873",
    "user": "dimpase"
}
```

well, by right, an optional package with test failures must be downgraded to experimental...



---

archive/issue_comments_267874.json:
```json
{
    "body": "Replying to [comment:14 vbraun]:\n> How come failures in optional packages are blockers?\n\nYou're the release manager. If you disagree, just change the priority...",
    "created_at": "2015-12-17T21:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267874",
    "user": "jdemeyer"
}
```

Replying to [comment:14 vbraun]:
> How come failures in optional packages are blockers?

You're the release manager. If you disagree, just change the priority...



---

archive/issue_comments_267875.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-12-17T21:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267875",
    "user": "jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_267876.json:
```json
{
    "body": "In any case, it's not only an optional test failure. The doctest just exposes a more general issue: certain conversions of libGAP strings to Python strings are wrong. It's also a recent regression (since #19597), so we might not be able to judge how bad the issue is.",
    "created_at": "2015-12-17T21:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267876",
    "user": "jdemeyer"
}
```

In any case, it's not only an optional test failure. The doctest just exposes a more general issue: certain conversions of libGAP strings to Python strings are wrong. It's also a recent regression (since #19597), so we might not be able to judge how bad the issue is.



---

archive/issue_comments_267877.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-18T08:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267877",
    "user": "vbraun"
}
```

Resolution: fixed
