# Issue 19496: Assignment of special methods does not work in Cython

archive/issues_019496.json:
```json
{
    "body": "CC:  @vbraun\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/19733\n\n",
    "created_at": "2015-12-16T09:32:27Z",
    "labels": [
        "component: cython",
        "blocker",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.10",
    "title": "Assignment of special methods does not work in Cython",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19496",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @vbraun



Issue created by migration from https://trac.sagemath.org/ticket/19733





---

archive/issue_comments_267546.json:
```json
{
    "body": "Since it causes doctest failures when `database_gap` is installed, I'm making this a blocker.\n----\nNew commits:",
    "created_at": "2015-12-16T09:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267546",
    "user": "https://github.com/jdemeyer"
}
```

Since it causes doctest failures when `database_gap` is installed, I'm making this a blocker.
----
New commits:



---

archive/issue_comments_267547.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-12-16T09:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267547",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_267548.json:
```json
{
    "body": "`make ptest` passes with `--optional=bliss,coxeter3,cryptominisat,database_gap,gap_packages,mpir,python2,sage,scons`",
    "created_at": "2015-12-16T10:58:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267548",
    "user": "https://github.com/jdemeyer"
}
```

`make ptest` passes with `--optional=bliss,coxeter3,cryptominisat,database_gap,gap_packages,mpir,python2,sage,scons`



---

archive/issue_comments_267549.json:
```json
{
    "body": "is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?",
    "created_at": "2015-12-16T11:47:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267549",
    "user": "https://github.com/dimpase"
}
```

is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?



---

archive/issue_comments_267550.json:
```json
{
    "body": "Replying to [comment:10 dimpase]:\n> is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?\n\nYes, it changes the behaviour. That's the whole point of this ticket.",
    "created_at": "2015-12-16T20:10:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267550",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:10 dimpase]:
> is the swapping of `sage()` and `__str__()` in the patch just the matter of style, or it does change the behaviour?

Yes, it changes the behaviour. That's the whole point of this ticket.



---

archive/issue_comments_267551.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-12-16T20:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267551",
    "user": "https://github.com/dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_267552.json:
```json
{
    "body": "well, looks good, but would be great to see what bots say...",
    "created_at": "2015-12-16T20:47:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267552",
    "user": "https://github.com/dimpase"
}
```

well, looks good, but would be great to see what bots say...



---

archive/issue_comments_267553.json:
```json
{
    "body": "All tests passed for me.",
    "created_at": "2015-12-16T20:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267553",
    "user": "https://github.com/tscrim"
}
```

All tests passed for me.



---

archive/issue_comments_267554.json:
```json
{
    "body": "How come failures in optional packages are blockers?",
    "created_at": "2015-12-17T21:42:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267554",
    "user": "https://github.com/vbraun"
}
```

How come failures in optional packages are blockers?



---

archive/issue_comments_267555.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-12-17T21:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267555",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_267556.json:
```json
{
    "body": "Also, reviewer name missing",
    "created_at": "2015-12-17T21:42:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267556",
    "user": "https://github.com/vbraun"
}
```

Also, reviewer name missing



---

archive/issue_comments_267557.json:
```json
{
    "body": "well, by right, an optional package with test failures must be downgraded to experimental...",
    "created_at": "2015-12-17T21:49:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267557",
    "user": "https://github.com/dimpase"
}
```

well, by right, an optional package with test failures must be downgraded to experimental...



---

archive/issue_comments_267558.json:
```json
{
    "body": "Replying to [comment:14 vbraun]:\n> How come failures in optional packages are blockers?\n\nYou're the release manager. If you disagree, just change the priority...",
    "created_at": "2015-12-17T21:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267558",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:14 vbraun]:
> How come failures in optional packages are blockers?

You're the release manager. If you disagree, just change the priority...



---

archive/issue_comments_267559.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-12-17T21:53:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267559",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_267560.json:
```json
{
    "body": "In any case, it's not only an optional test failure. The doctest just exposes a more general issue: certain conversions of libGAP strings to Python strings are wrong. It's also a recent regression (since #19597), so we might not be able to judge how bad the issue is.",
    "created_at": "2015-12-17T21:57:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267560",
    "user": "https://github.com/jdemeyer"
}
```

In any case, it's not only an optional test failure. The doctest just exposes a more general issue: certain conversions of libGAP strings to Python strings are wrong. It's also a recent regression (since #19597), so we might not be able to judge how bad the issue is.



---

archive/issue_comments_267561.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-12-18T08:45:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19496#issuecomment-267561",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_018579.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-12-18T08:45:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/19496",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/19496#event-18579"
}
```
