# Issue 14645: Has bzip2 ever been both available and unusable?

Issue created by migration from Trac.

Original creator: Snark

Original creation time: 2013-07-03 06:39:18

Assignee: GeorgSWeber

I'm surprised the bzip2 spkg-install doesn't start by checking if bzip2 is in the path... and just bail out if so: why build it anyway? As asked in the summary: was there ever a case where the system bzip2 wasn't suitable for sage?


---

Comment by leif created at 2013-07-03 13:11:27

Replying to [ticket:14849 Snark]:
> Was there ever a case where the system bzip2 wasn't suitable for sage?

I strongly doubt that... ;-)

As with many other spkgs, Sage simply doesn't bother to use a system-wide version.




Ceterum censeo Sage should (ship and) use `xz`.  (And make bzip2 a prerequisite + an _optional_ spkg.)


Btw., zlib and similar are (redundantly) included in many upstream packages...


---

Comment by fbissey created at 2013-07-07 11:19:56

System bzip2 has probably always be suitable... provided that all the interesting bits are installed. I am guessing headers may be required and I am willing to bet that the library may not always installed by default (and that may have been more frequent in the past).


---

Comment by Snark created at 2013-07-08 09:13:22

1. Do we really need the headers? [for python perhaps?]
2. If bzip2 is here, doesn't that mean libbzip2 is here too?


---

Comment by fbissey created at 2013-07-08 10:52:23

I cannot talk about bzip2 in particular but I take care of some SLES servers in a professional capacity. I have seen libraries shipped as part of the dev package rather than the main package. The main executable shipped can very well be statically linked for speed.


---

Comment by jdemeyer created at 2013-08-05 10:09:47

Replying to [comment:3 Snark]:
> 1. Do we really need the headers? [for python perhaps?]
I know for sure that Python checks for and links against the bzip2 library. And I guess that the non-Darwin implementation of `sage --pkg` uses this.


---

Comment by jdemeyer created at 2013-12-10 09:13:21

Can this be closed as "wontfix"?


---

Comment by jdemeyer created at 2013-12-24 09:47:07

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-12-24 09:47:14

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-12-25 13:05:49

Resolution: wontfix
