# Issue 24039: Fix categories/examples/semigroups_cython.pyx

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2017-11-24 15:01:12

CC:  nthiery

Several doctests in that file are marked `# todo: not implemented (binding; see __getattr__)`. It's not entirely clear to me what the file `semigroups_cython.pyx` is actually trying to do, but those tests can easily be fixed be using a standard Python class instead of a `cdef class`.


---

Comment by jdemeyer created at 2017-11-24 15:14:20

New commits:


---

Comment by jdemeyer created at 2017-11-24 15:14:20

Changing status from new to needs_review.


---

Comment by nthiery created at 2017-11-24 15:32:21

For whatever it's worth, the point of this file was to explore and track how far one could Cythonize a category. If there is zero potential benefit to be expected from using cdef class, then yes, we might as well revert back to standard Python class.

Thanks for investigating!


---

Comment by jdemeyer created at 2017-11-24 15:40:21

Replying to [comment:4 nthiery]:
> For whatever it's worth, the point of this file was to explore and track how far one could Cythonize a category. If there is zero potential benefit to be expected from using cdef class, then yes, we might as well revert back to standard Python class.

Note that there is a difference between using Cython and using a `cdef class`. Using Cython can still be an advantage if the methods are non-trivial. In that case, the calls to the methods would not be optimized, but the methods themselves would be.


---

Comment by jdemeyer created at 2017-12-10 17:39:18

*ping*


---

Comment by tscrim created at 2017-12-10 23:09:55

I'm not sure if this is strictly true with these changes: `Also, the category itself includes some cython methods.` At least, I am interpreting that to mean some `c(p)def` methods. Other than that, the changes LGTM (from comment:4, my understanding is there are no objections from Nicolas).


---

Comment by git created at 2017-12-11 10:05:25

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by jdemeyer created at 2017-12-11 10:05:55

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2017-12-11 10:06:31

Replying to [comment:7 tscrim]:
> I'm not sure if this is strictly true with these changes: `Also, the category itself includes some cython methods.` At least, I am interpreting that to mean some `c(p)def` methods.

Indeed. I changed that sentence to "The category itself must be a Python class though."


---

Comment by vbraun created at 2017-12-13 17:38:00

Resolution: fixed
