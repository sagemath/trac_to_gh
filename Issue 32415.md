# Issue 32415: sage.geometry.polyhedron: Mark doctests # optional - sage.rings.number_field

Issue created by migration from https://trac.sagemath.org/ticket/32652

Original creator: mkoeppe

Original creation time: 2021-10-08 02:00:32

CC:  @kliem tscrim




---

Comment by mkoeppe created at 2021-10-08 02:05:54

Last 10 new commits:


---

Comment by mkoeppe created at 2021-10-08 02:05:54

Changing status from new to needs_review.


---

Comment by git created at 2021-10-10 20:58:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2021-10-11 05:24:21

Does `sage.symbolic` imply `sage.rings.number_field`?


```diff
-    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])
+    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])                          # optional - sage.symbolic
     Traceback (most recent call last):
     ...
     ValueError: no default backend for computations with Symbolic Ring
 
-    sage: SR.is_exact()
+    sage: SR.is_exact()                                                         # optional - sage.symbolic
     False
```



---

Comment by mkoeppe created at 2021-10-11 05:27:13

Replying to [comment:5 gh-kliem]:
> Does `sage.symbolic` imply `sage.rings.number_field`?

No, but number fields are not used in this example


---

Comment by mkoeppe created at 2021-10-11 05:29:40

Although here:

```diff
--- a/src/sage/geometry/polyhedron/constructor.py
+++ b/src/sage/geometry/polyhedron/constructor.py
@@ -177,8 +177,8 @@ equilateral triangle whose vertex coordinates involve `\sqrt{3}`. An
 exact way to work with roots in Sage is the :mod:`Algebraic Real Field
 <sage.rings.qqbar>` ::
 
-    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA)
-    sage: triangle.Hrepresentation()
+    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA) # optional - sage.rings.number_field
+    sage: triangle.Hrepresentation()                                            # optional - sage.rings.number_field
     (An inequality (-1, -0.5773502691896258?) x + 1 >= 0,
      An inequality (1, -0.5773502691896258?) x + 0 >= 0,
      An inequality (0, 1.154700538379252?) x + 0 >= 0)
```

I should have marked it `optional - sage.rings.number_field sage.symbolic`


---

Comment by git created at 2021-10-11 05:42:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2021-10-11 05:47:07

LGTM.


---

Comment by @kliem created at 2021-10-11 05:47:07

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-10-11 05:47:58

Thank you!


---

Comment by git created at 2021-10-11 22:07:43

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by git created at 2021-10-11 22:07:43

Changing status from positive_review to needs_review.


---

Comment by mkoeppe created at 2021-10-11 22:07:54

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-10-19 20:31:46

Resolution: fixed
