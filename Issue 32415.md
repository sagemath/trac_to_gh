# Issue 32415: sage.geometry.polyhedron: Mark doctests # optional - sage.rings.number_field

archive/issues_032415.json:
```json
{
    "body": "CC:  @kliem @tscrim\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32652\n\n",
    "created_at": "2021-10-08T02:00:32Z",
    "labels": [
        "component: refactoring"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.5",
    "title": "sage.geometry.polyhedron: Mark doctests # optional - sage.rings.number_field",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32415",
    "user": "https://github.com/mkoeppe"
}
```
CC:  @kliem @tscrim



Issue created by migration from https://trac.sagemath.org/ticket/32652





---

archive/issue_comments_461896.json:
```json
{
    "body": "Last 10 new commits:",
    "created_at": "2021-10-08T02:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461896",
    "user": "https://github.com/mkoeppe"
}
```

Last 10 new commits:



---

archive/issue_comments_461897.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-08T02:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461897",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_461898.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-10T20:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461898",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_461899.json:
```json
{
    "body": "Does `sage.symbolic` imply `sage.rings.number_field`?\n\n\n```diff\n-    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])\n+    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])                          # optional - sage.symbolic\n     Traceback (most recent call last):\n     ...\n     ValueError: no default backend for computations with Symbolic Ring\n \n-    sage: SR.is_exact()\n+    sage: SR.is_exact()                                                         # optional - sage.symbolic\n     False\n```\n",
    "created_at": "2021-10-11T05:24:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461899",
    "user": "https://github.com/kliem"
}
```

Does `sage.symbolic` imply `sage.rings.number_field`?


```diff
-    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])
+    sage: Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)])                          # optional - sage.symbolic
     Traceback (most recent call last):
     ...
     ValueError: no default backend for computations with Symbolic Ring
 
-    sage: SR.is_exact()
+    sage: SR.is_exact()                                                         # optional - sage.symbolic
     False
```




---

archive/issue_comments_461900.json:
```json
{
    "body": "Replying to [comment:5 gh-kliem]:\n> Does `sage.symbolic` imply `sage.rings.number_field`?\n\nNo, but number fields are not used in this example",
    "created_at": "2021-10-11T05:27:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461900",
    "user": "https://github.com/mkoeppe"
}
```

Replying to [comment:5 gh-kliem]:
> Does `sage.symbolic` imply `sage.rings.number_field`?

No, but number fields are not used in this example



---

archive/issue_comments_461901.json:
```json
{
    "body": "Although here:\n\n```diff\n--- a/src/sage/geometry/polyhedron/constructor.py\n+++ b/src/sage/geometry/polyhedron/constructor.py\n@@ -177,8 +177,8 @@ equilateral triangle whose vertex coordinates involve `\\sqrt{3}`. An\n exact way to work with roots in Sage is the :mod:`Algebraic Real Field\n <sage.rings.qqbar>` ::\n \n-    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA)\n-    sage: triangle.Hrepresentation()\n+    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA) # optional - sage.rings.number_field\n+    sage: triangle.Hrepresentation()                                            # optional - sage.rings.number_field\n     (An inequality (-1, -0.5773502691896258?) x + 1 >= 0,\n      An inequality (1, -0.5773502691896258?) x + 0 >= 0,\n      An inequality (0, 1.154700538379252?) x + 0 >= 0)\n```\n\nI should have marked it `optional - sage.rings.number_field sage.symbolic`",
    "created_at": "2021-10-11T05:29:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461901",
    "user": "https://github.com/mkoeppe"
}
```

Although here:

```diff
--- a/src/sage/geometry/polyhedron/constructor.py
+++ b/src/sage/geometry/polyhedron/constructor.py
@@ -177,8 +177,8 @@ equilateral triangle whose vertex coordinates involve `\sqrt{3}`. An
 exact way to work with roots in Sage is the :mod:`Algebraic Real Field
 <sage.rings.qqbar>` ::
 
-    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA)
-    sage: triangle.Hrepresentation()
+    sage: triangle = Polyhedron([(0,0), (1,0), (1/2, sqrt(3)/2)], base_ring=AA) # optional - sage.rings.number_field
+    sage: triangle.Hrepresentation()                                            # optional - sage.rings.number_field
     (An inequality (-1, -0.5773502691896258?) x + 1 >= 0,
      An inequality (1, -0.5773502691896258?) x + 0 >= 0,
      An inequality (0, 1.154700538379252?) x + 0 >= 0)
```

I should have marked it `optional - sage.rings.number_field sage.symbolic`



---

archive/issue_comments_461902.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-11T05:42:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461902",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_461903.json:
```json
{
    "body": "LGTM.",
    "created_at": "2021-10-11T05:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461903",
    "user": "https://github.com/kliem"
}
```

LGTM.



---

archive/issue_comments_461904.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-11T05:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461904",
    "user": "https://github.com/kliem"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_461905.json:
```json
{
    "body": "Thank you!",
    "created_at": "2021-10-11T05:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461905",
    "user": "https://github.com/mkoeppe"
}
```

Thank you!



---

archive/issue_comments_461906.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2021-10-11T22:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461906",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_461907.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2021-10-11T22:07:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461907",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_461908.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-10-11T22:07:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461908",
    "user": "https://github.com/mkoeppe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_029410.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2021-10-19T20:31:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/32415#event-29410"
}
```



---

archive/issue_comments_461909.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2021-10-19T20:31:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32415",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32415#issuecomment-461909",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
