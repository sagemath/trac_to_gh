# Issue 19357: Implement the cactus group

archive/issues_019357.json:
```json
{
    "body": "Assignee: tscrim\n\nCC:  ptingley bsalisbury1\n\nKeywords: cactus\n\nWe implement the cactus group *J*<sub>n</sub> (of type A). The cactus group has important applications in category and representation theory.\n\nThis group is not available in GAP as far as I can tell.\n\nIssue created by migration from https://trac.sagemath.org/ticket/19594\n\n",
    "created_at": "2015-11-17T23:17:44Z",
    "labels": [
        "group theory",
        "major",
        "enhancement"
    ],
    "title": "Implement the cactus group",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/19357",
    "user": "tscrim"
}
```
Assignee: tscrim

CC:  ptingley bsalisbury1

Keywords: cactus

We implement the cactus group *J*<sub>n</sub> (of type A). The cactus group has important applications in category and representation theory.

This group is not available in GAP as far as I can tell.

Issue created by migration from https://trac.sagemath.org/ticket/19594





---

archive/issue_comments_265924.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-11-17T23:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265924",
    "user": "tscrim"
}
```

New commits:



---

archive/issue_comments_265925.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-11-17T23:18:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265925",
    "user": "tscrim"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_265926.json:
```json
{
    "body": "Can you also construct the homomorphism to the symmetric group, and its kernel (i.e. pure cactus group) ?",
    "created_at": "2015-12-23T20:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265926",
    "user": "dimpase"
}
```

Can you also construct the homomorphism to the symmetric group, and its kernel (i.e. pure cactus group) ?



---

archive/issue_comments_265927.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-12-24T23:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265927",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_265928.json:
```json
{
    "body": "Replying to [comment:2 dimpase]:\n> Can you also construct the homomorphism to the symmetric group, and its kernel (i.e. pure cactus group) ?\n\nI can definitely add a default coercion to the symmetric group. I should be able to do a general subgroup defined by a particular condition (such as the kernel of a morphism). I will do this now.",
    "created_at": "2015-12-24T23:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265928",
    "user": "tscrim"
}
```

Replying to [comment:2 dimpase]:
> Can you also construct the homomorphism to the symmetric group, and its kernel (i.e. pure cactus group) ?

I can definitely add a default coercion to the symmetric group. I should be able to do a general subgroup defined by a particular condition (such as the kernel of a morphism). I will do this now.



---

archive/issue_comments_265929.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-25T02:43:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265929",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265930.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-25T02:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265930",
    "user": "tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_265931.json:
```json
{
    "body": "Done and done.",
    "created_at": "2015-12-25T02:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265931",
    "user": "tscrim"
}
```

Done and done.



---

archive/issue_comments_265932.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-28T02:01:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265932",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265933.json:
```json
{
    "body": "Travis -- I like the fact that you are implementing this group, but are you sure that the switches you do in `_product_on_gens` are enough to bring every word in its generators to a normal form? I.e., that any two products of generators that compare as un-equal are actually distinct?",
    "created_at": "2015-12-28T02:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265933",
    "user": "darij"
}
```

Travis -- I like the fact that you are implementing this group, but are you sure that the switches you do in `_product_on_gens` are enough to bring every word in its generators to a normal form? I.e., that any two products of generators that compare as un-equal are actually distinct?



---

archive/issue_comments_265934.json:
```json
{
    "body": "Replying to [comment:7 darij]:\n> Travis -- I like the fact that you are implementing this group, but are you sure that the switches you do in `_product_on_gens` are enough to bring every word in its generators to a normal form? I.e., that any two products of generators that compare as un-equal are actually distinct?\n\nI haven't formally proved it (nor do I know if there is a formal proof that there is a normal form). I'm inclined to believe it works, but I'm not 100% sure (nor can I prove it right now). Perhaps we should add a warning about this?",
    "created_at": "2015-12-28T04:56:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265934",
    "user": "tscrim"
}
```

Replying to [comment:7 darij]:
> Travis -- I like the fact that you are implementing this group, but are you sure that the switches you do in `_product_on_gens` are enough to bring every word in its generators to a normal form? I.e., that any two products of generators that compare as un-equal are actually distinct?

I haven't formally proved it (nor do I know if there is a formal proof that there is a normal form). I'm inclined to believe it works, but I'm not 100% sure (nor can I prove it right now). Perhaps we should add a warning about this?



---

archive/issue_comments_265935.json:
```json
{
    "body": "Is any cactus group automatic? GAP has [means](http://www.gap-system.org/Packages/kbmag.html) to try to check whether an f.p. group is automatic. (this would give one a normal form, etc).",
    "created_at": "2015-12-28T07:02:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265935",
    "user": "dimpase"
}
```

Is any cactus group automatic? GAP has [means](http://www.gap-system.org/Packages/kbmag.html) to try to check whether an f.p. group is automatic. (this would give one a normal form, etc).



---

archive/issue_comments_265936.json:
```json
{
    "body": "Replying to [comment:9 dimpase]:\n> Is any cactus group automatic? GAP has [means](http://www.gap-system.org/Packages/kbmag.html) to try to check whether an f.p. group is automatic. (this would give one a normal form, etc).\n\nI don't know. The best I could find from some quick Googling is [this MO question](http://mathoverflow.net/questions/65280/splitting-of-homomorphism-from-cactus-group-to-permutation-group) (which suggests that my approach does not give a normal form). We can try as I also included a f.p. version of the group which should be easy to feed to GAP. However, from me it would have to wait until tomorrow as I'm going to sleep now.",
    "created_at": "2015-12-28T08:11:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265936",
    "user": "tscrim"
}
```

Replying to [comment:9 dimpase]:
> Is any cactus group automatic? GAP has [means](http://www.gap-system.org/Packages/kbmag.html) to try to check whether an f.p. group is automatic. (this would give one a normal form, etc).

I don't know. The best I could find from some quick Googling is [this MO question](http://mathoverflow.net/questions/65280/splitting-of-homomorphism-from-cactus-group-to-permutation-group) (which suggests that my approach does not give a normal form). We can try as I also included a f.p. version of the group which should be easy to feed to GAP. However, from me it would have to wait until tomorrow as I'm going to sleep now.



---

archive/issue_comments_265937.json:
```json
{
    "body": "for n=3,4 Knuth-Bendix procedure (from the GAP package kbmag I mentioned in comment 9) quickly returns a rewriting system for J_n, but it gets stuck for n=5. I haven't tried to push this further yet.",
    "created_at": "2015-12-28T12:20:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265937",
    "user": "dimpase"
}
```

for n=3,4 Knuth-Bendix procedure (from the GAP package kbmag I mentioned in comment 9) quickly returns a rewriting system for J_n, but it gets stuck for n=5. I haven't tried to push this further yet.



---

archive/issue_comments_265938.json:
```json
{
    "body": "I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`).",
    "created_at": "2015-12-28T14:59:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265938",
    "user": "dimpase"
}
```

I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`).



---

archive/issue_comments_265939.json:
```json
{
    "body": "After a few experiments (on paper), I have started suspecting that Travis's code *does* bring every word to a normal form. This could be a cool combinatorial result, if true.\n\nIf true, it should be provable using the diamond lemma... Does anyone volunteer to bash the cases?",
    "created_at": "2015-12-28T17:18:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265939",
    "user": "darij"
}
```

After a few experiments (on paper), I have started suspecting that Travis's code *does* bring every word to a normal form. This could be a cool combinatorial result, if true.

If true, it should be provable using the diamond lemma... Does anyone volunteer to bash the cases?



---

archive/issue_comments_265940.json:
```json
{
    "body": "Replying to [comment:12 dimpase]:\n> I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`). \n\nIs this a comment on my code or GAP's? I don't know the Reidemeister-Schreier algorithm, but I am not opposed to trying to extend the implementation.",
    "created_at": "2015-12-28T18:00:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265940",
    "user": "tscrim"
}
```

Replying to [comment:12 dimpase]:
> I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`). 

Is this a comment on my code or GAP's? I don't know the Reidemeister-Schreier algorithm, but I am not opposed to trying to extend the implementation.



---

archive/issue_comments_265941.json:
```json
{
    "body": "Replying to [comment:13 darij]:\n> After a few experiments (on paper), I have started suspecting that Travis's code *does* bring every word to a normal form. This could be a cool combinatorial result, if true.\n> \n> If true, it should be provable using the diamond lemma... Does anyone volunteer to bash the cases?\n\nI am pretty sure that the terminating condition is possible, but I'm worried about a case of something like `s[4, 5] * s[1, 7] * s[5, 8]` and the shuffles. However, I agree it would be a nice little result if this was true, and as far as I can find, there is no such analogous result. At the very least, I think we can easily show an analog of Matsumoto's lemma, and so we build out a reduced word graph and find a lex min element in that.",
    "created_at": "2015-12-28T18:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265941",
    "user": "tscrim"
}
```

Replying to [comment:13 darij]:
> After a few experiments (on paper), I have started suspecting that Travis's code *does* bring every word to a normal form. This could be a cool combinatorial result, if true.
> 
> If true, it should be provable using the diamond lemma... Does anyone volunteer to bash the cases?

I am pretty sure that the terminating condition is possible, but I'm worried about a case of something like `s[4, 5] * s[1, 7] * s[5, 8]` and the shuffles. However, I agree it would be a nice little result if this was true, and as far as I can find, there is no such analogous result. At the very least, I think we can easily show an analog of Matsumoto's lemma, and so we build out a reduced word graph and find a lex min element in that.



---

archive/issue_comments_265942.json:
```json
{
    "body": "Sorry, Travis, you are right with your worries:\n\n```\nsage: s45*s13 == s13*s45\nTrue\nsage: s26*s45*s13 == s26*s13*s45\nFalse\n```\n\nThis cactus is thornier than I thought.",
    "created_at": "2015-12-28T18:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265942",
    "user": "darij"
}
```

Sorry, Travis, you are right with your worries:

```
sage: s45*s13 == s13*s45
True
sage: s26*s45*s13 == s26*s13*s45
False
```

This cactus is thornier than I thought.



---

archive/issue_comments_265943.json:
```json
{
    "body": "Replying to [comment:16 darij]:\n> Sorry, Travis, you are right with your worries:\n> {{{\n> sage: s45*s13 == s13*s45\n> True\n> sage: s26*s45*s13 == s26*s13*s45\n> False\n> }}}\n> This cactus is thornier than I thought.\n\nthis is also what Knuth-Bendix computation was predicting, that for n>4 things get hard.",
    "created_at": "2015-12-28T20:38:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265943",
    "user": "dimpase"
}
```

Replying to [comment:16 darij]:
> Sorry, Travis, you are right with your worries:
> {{{
> sage: s45*s13 == s13*s45
> True
> sage: s26*s45*s13 == s26*s13*s45
> False
> }}}
> This cactus is thornier than I thought.

this is also what Knuth-Bendix computation was predicting, that for n>4 things get hard.



---

archive/issue_comments_265944.json:
```json
{
    "body": "Replying to [comment:14 tscrim]:\n> Replying to [comment:12 dimpase]:\n> > I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`). \n> \n> Is this a comment on my code or GAP's? I don't know the Reidemeister-Schreier algorithm, but I am not opposed to trying to extend the implementation.\n\nit's a comment saying that this is doable (not sure how interesting).",
    "created_at": "2015-12-28T20:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265944",
    "user": "dimpase"
}
```

Replying to [comment:14 tscrim]:
> Replying to [comment:12 dimpase]:
> > I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`). 
> 
> Is this a comment on my code or GAP's? I don't know the Reidemeister-Schreier algorithm, but I am not opposed to trying to extend the implementation.

it's a comment saying that this is doable (not sure how interesting).



---

archive/issue_comments_265945.json:
```json
{
    "body": "There seems to be something wrong with the relations you provide.I am trying to check that you indeed have a homomorphism from J_4 to Sym(4), but GAP returns `fail`. Does your code check that your map is a group homomorphism?\n\n```\ngap> F:=FreeGroup(6);\n<free group on the generators [ f1, f2, f3, f4, f5, f6 ]>\ngap> s12:=F.1;; s13:=F.2;; s14:=F.3;; s23:=F.4;; s24:=F.5;; s34:=F.6;;\ngap> rels:=[s12^2, s13^2, s14^2, s23^2, s24^2, s34^2, s13*s12*s13^-1*s23^-1, s13*s23*s13^-1*s12^-1, s14*s12*s14^-1*s34^-1, s14*s13*s14^-1*s24^-1, s14*s23*s14^-1*s23^-1, s14*s24*s14^-1*s13^-1, s14*s34*s14^-1*s12^-1, s24*s23*s24^-1*s34^-1, s24*s34*s24^-1*s23^-1, s34*s12*s34^-1*s12^-1 ];\n[ f1^2, f2^2, f3^2, f4^2, f5^2, f6^2, f2*f1*f2^-1*f4^-1, f2*f4*f2^-1*f1^-1, f3*f1*f3^-1*f6^-1, \n  f3*f2*f3^-1*f5^-1, f3*f4*f3^-1*f4^-1, f3*f5*f3^-1*f2^-1, f3*f6*f3^-1*f1^-1, f5*f4*f5^-1*f6^-1, \n  f5*f6*f5^-1*f4^-1, f6*f1*f6^-1*f1^-1 ]\ngap> G:=F/rels;\n<fp group on the generators [ f1, f2, f3, f4, f5, f6 ]>\ngap> s4:=Group([(1,2),(1,3),(1,4),(2,3),(2,4),(3,4)]);\nGroup([ (1,2), (1,3), (1,4), (2,3), (2,4), (3,4) ])\ngap> GeneratorsOfGroup(s4);\n[ (1,2), (1,3), (1,4), (2,3), (2,4), (3,4) ]\ngap> f:=GroupHomomorphismByImages(G,s4);\nfail\n```\n",
    "created_at": "2015-12-28T21:51:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265945",
    "user": "dimpase"
}
```

There seems to be something wrong with the relations you provide.I am trying to check that you indeed have a homomorphism from J_4 to Sym(4), but GAP returns `fail`. Does your code check that your map is a group homomorphism?

```
gap> F:=FreeGroup(6);
<free group on the generators [ f1, f2, f3, f4, f5, f6 ]>
gap> s12:=F.1;; s13:=F.2;; s14:=F.3;; s23:=F.4;; s24:=F.5;; s34:=F.6;;
gap> rels:=[s12^2, s13^2, s14^2, s23^2, s24^2, s34^2, s13*s12*s13^-1*s23^-1, s13*s23*s13^-1*s12^-1, s14*s12*s14^-1*s34^-1, s14*s13*s14^-1*s24^-1, s14*s23*s14^-1*s23^-1, s14*s24*s14^-1*s13^-1, s14*s34*s14^-1*s12^-1, s24*s23*s24^-1*s34^-1, s24*s34*s24^-1*s23^-1, s34*s12*s34^-1*s12^-1 ];
[ f1^2, f2^2, f3^2, f4^2, f5^2, f6^2, f2*f1*f2^-1*f4^-1, f2*f4*f2^-1*f1^-1, f3*f1*f3^-1*f6^-1, 
  f3*f2*f3^-1*f5^-1, f3*f4*f3^-1*f4^-1, f3*f5*f3^-1*f2^-1, f3*f6*f3^-1*f1^-1, f5*f4*f5^-1*f6^-1, 
  f5*f6*f5^-1*f4^-1, f6*f1*f6^-1*f1^-1 ]
gap> G:=F/rels;
<fp group on the generators [ f1, f2, f3, f4, f5, f6 ]>
gap> s4:=Group([(1,2),(1,3),(1,4),(2,3),(2,4),(3,4)]);
Group([ (1,2), (1,3), (1,4), (2,3), (2,4), (3,4) ])
gap> GeneratorsOfGroup(s4);
[ (1,2), (1,3), (1,4), (2,3), (2,4), (3,4) ]
gap> f:=GroupHomomorphismByImages(G,s4);
fail
```




---

archive/issue_comments_265946.json:
```json
{
    "body": "here is a direct check of the relations:\n\n```\ngap> s12:=(1,2); s13:=(1,3); s14:=(1,4); s23:=(2,3); s24:=(2,4); s34:=(3,4);\n(1,2)\n(1,3)\n(1,4)\n(2,3)\n(2,4)\n(3,4)\ngap> [s12^2, s13^2, s14^2, s23^2, s24^2, s34^2, s13*s12*s13^-1*s23^-1, s13*s23*s13^-1*s12^-1, s14*s12*s14^-1*s34^-1, s14*s13*s14^-1*s24^-1, s14*s23*s14^-1*s23^-1, s14*s24*s14^-1*s13^-1, s14*s34*s14^-1*s12^-1, s24*s23*s24^-1*s34^-1, s24*s34*s24^-1*s23^-1, s34*s12*s34^-1*s12^-1 ];\n[ (), (), (), (), (), (), (), (), (2,3,4), (2,4,3), (), (1,2,3), (1,3,2), (), (), () ]\ngap> \n```\n\n\ne.g. `s14*s12*s14<sup>-1*s34</sup>-1` evaluates to (2,3,4) in Sym(4)...",
    "created_at": "2015-12-28T22:00:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265946",
    "user": "dimpase"
}
```

here is a direct check of the relations:

```
gap> s12:=(1,2); s13:=(1,3); s14:=(1,4); s23:=(2,3); s24:=(2,4); s34:=(3,4);
(1,2)
(1,3)
(1,4)
(2,3)
(2,4)
(3,4)
gap> [s12^2, s13^2, s14^2, s23^2, s24^2, s34^2, s13*s12*s13^-1*s23^-1, s13*s23*s13^-1*s12^-1, s14*s12*s14^-1*s34^-1, s14*s13*s14^-1*s24^-1, s14*s23*s14^-1*s23^-1, s14*s24*s14^-1*s13^-1, s14*s34*s14^-1*s12^-1, s24*s23*s24^-1*s34^-1, s24*s34*s24^-1*s23^-1, s34*s12*s34^-1*s12^-1 ];
[ (), (), (), (), (), (), (), (), (2,3,4), (2,4,3), (), (1,2,3), (1,3,2), (), (), () ]
gap> 
```


e.g. `s14*s12*s14<sup>-1*s34</sup>-1` evaluates to (2,3,4) in Sym(4)...



---

archive/issue_comments_265947.json:
```json
{
    "body": "`s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.\n\nI asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.\n\nWhat do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?",
    "created_at": "2015-12-28T22:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265947",
    "user": "tscrim"
}
```

`s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.

I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.

What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?



---

archive/issue_comments_265948.json:
```json
{
    "body": "It sounds like the next best thing, after we know that the obvious rewrite system does not work... But I don't see how to do it.",
    "created_at": "2015-12-28T23:04:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265948",
    "user": "darij"
}
```

It sounds like the next best thing, after we know that the obvious rewrite system does not work... But I don't see how to do it.



---

archive/issue_comments_265949.json:
```json
{
    "body": "Replying to [comment:21 tscrim]:\n> `s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.\n\noops, OK then. Sorry for noise. By the way, what is proper Sage way to get words generating\nthe kernel of the homomorphism to S_n?\n  \n> \n> I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.\n> \n> What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?\n\nthis looks a bit unlikely that a Matsumoto's-type argument would work here, with so many redundant generators (as opposed to the case of Coxeter groups). What might work is a kind of argument one sees for presentations of soluble groups, where one has commutator relations, allowing one to \"sort\" generators in words; but as we have S_n acting, unsolvable for n>4...",
    "created_at": "2015-12-29T15:30:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265949",
    "user": "dimpase"
}
```

Replying to [comment:21 tscrim]:
> `s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.

oops, OK then. Sorry for noise. By the way, what is proper Sage way to get words generating
the kernel of the homomorphism to S_n?
  
> 
> I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.
> 
> What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?

this looks a bit unlikely that a Matsumoto's-type argument would work here, with so many redundant generators (as opposed to the case of Coxeter groups). What might work is a kind of argument one sees for presentations of soluble groups, where one has commutator relations, allowing one to "sort" generators in words; but as we have S_n acting, unsolvable for n>4...



---

archive/issue_comments_265950.json:
```json
{
    "body": "Replying to [comment:23 dimpase]:\n> Replying to [comment:21 tscrim]:\n> > `s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.\n> \n> oops, OK then. Sorry for noise. By the way, what is proper Sage way to get words generating\n> the kernel of the homomorphism to S_n?\n\nWhat I ended up doing on this ticket is just iterating over the ambient group J<sub>n</sub> and returning the element in the kernel.\n\n\n> > I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.\n> > \n> > What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?\n> \n> this looks a bit unlikely that a Matsumoto's-type argument would work here, with so many redundant generators (as opposed to the case of Coxeter groups). What might work is a kind of argument one sees for presentations of soluble groups, where one has commutator relations, allowing one to \"sort\" generators in words; but as we have S_n acting, unsolvable for n>4...\n\nI am guessing it would be too much to ask for a Garside-type structure coming from the projection onto S<sub>n</sub>, where every element can be written as `xy^k` where `x` is the natural section of S<sub>n</sub> and `y` is some special element in J<sub>n</sub> (similar to a normal form for the braid group elements, where `y` corresponds to the section of the long element).\n\nAre you thinking that there might be reduced expressions which require using the `x^2 = 1` identity to add letters temporarily to get between them for n > 4?\n\nI'm also emailing Joel and Peter about possible assistance we might get from geometric information.",
    "created_at": "2015-12-30T01:13:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265950",
    "user": "tscrim"
}
```

Replying to [comment:23 dimpase]:
> Replying to [comment:21 tscrim]:
> > `s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.
> 
> oops, OK then. Sorry for noise. By the way, what is proper Sage way to get words generating
> the kernel of the homomorphism to S_n?

What I ended up doing on this ticket is just iterating over the ambient group J<sub>n</sub> and returning the element in the kernel.


> > I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.
> > 
> > What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?
> 
> this looks a bit unlikely that a Matsumoto's-type argument would work here, with so many redundant generators (as opposed to the case of Coxeter groups). What might work is a kind of argument one sees for presentations of soluble groups, where one has commutator relations, allowing one to "sort" generators in words; but as we have S_n acting, unsolvable for n>4...

I am guessing it would be too much to ask for a Garside-type structure coming from the projection onto S<sub>n</sub>, where every element can be written as `xy^k` where `x` is the natural section of S<sub>n</sub> and `y` is some special element in J<sub>n</sub> (similar to a normal form for the braid group elements, where `y` corresponds to the section of the long element).

Are you thinking that there might be reduced expressions which require using the `x^2 = 1` identity to add letters temporarily to get between them for n > 4?

I'm also emailing Joel and Peter about possible assistance we might get from geometric information.



---

archive/issue_comments_265951.json:
```json
{
    "body": "Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...",
    "created_at": "2015-12-30T01:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265951",
    "user": "tscrim"
}
```

Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...



---

archive/issue_comments_265952.json:
```json
{
    "body": "Replying to [comment:25 tscrim]:\n> Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...\n\nI don't see an immediate connection, as the presentation there seems to include more relations, of the form `(xy)^m=1` ?\n\nAnyhow, it might be quite hard to prove that an f.p. group is linear --- you probably heard the story of braid groups in this respect...",
    "created_at": "2015-12-30T10:51:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265952",
    "user": "dimpase"
}
```

Replying to [comment:25 tscrim]:
> Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...

I don't see an immediate connection, as the presentation there seems to include more relations, of the form `(xy)^m=1` ?

Anyhow, it might be quite hard to prove that an f.p. group is linear --- you probably heard the story of braid groups in this respect...



---

archive/issue_comments_265953.json:
```json
{
    "body": "Replying to [comment:24 tscrim]:\n> I am guessing it would be too much to ask for a Garside-type structure coming from the projection onto S<sub>n</sub>, where every element can be written as `xy^k` where `x` is the natural section of S<sub>n</sub> and `y` is some special element in J<sub>n</sub> (similar to a normal form for the braid group elements, where `y` corresponds to the section of the long element).\n\nA Garside-type structure would not work here because that is used for passing from the braid monoid to the braid group. So I really don't think this will work for the cactus group.",
    "created_at": "2015-12-30T15:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265953",
    "user": "tscrim"
}
```

Replying to [comment:24 tscrim]:
> I am guessing it would be too much to ask for a Garside-type structure coming from the projection onto S<sub>n</sub>, where every element can be written as `xy^k` where `x` is the natural section of S<sub>n</sub> and `y` is some special element in J<sub>n</sub> (similar to a normal form for the braid group elements, where `y` corresponds to the section of the long element).

A Garside-type structure would not work here because that is used for passing from the braid monoid to the braid group. So I really don't think this will work for the cactus group.



---

archive/issue_comments_265954.json:
```json
{
    "body": "Replying to [comment:26 dimpase]:\n> Replying to [comment:25 tscrim]:\n> > Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...\n> \n> I don't see an immediate connection, as the presentation there seems to include more relations, of the form `(xy)^m=1` ?\n\nAccording to R. Scott's paper [Right-angled Mock reflections and mock Artin groups](http://www.ams.org/journals/tran/2008-360-08/S0002-9947-08-04452-8/S0002-9947-08-04452-8.pdf), the cactus group is a special case of the presentation in that paper. I still need to verify it because I don't quite understand the first yet, but I believe Scott's comment.\n\n> Anyhow, it might be quite hard to prove that an f.p. group is linear --- you probably heard the story of braid groups in this respect...\n\nYea, but here I think we are closer to the Coxeter group than the braid group (and even have a representation to test). Yet, I do agree that this could be a hard thing to prove.\n\nI forgot to mention it, but thank you Darij for testing it and the example showing my proposed normal form won't work.",
    "created_at": "2015-12-30T15:44:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265954",
    "user": "tscrim"
}
```

Replying to [comment:26 dimpase]:
> Replying to [comment:25 tscrim]:
> > Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...
> 
> I don't see an immediate connection, as the presentation there seems to include more relations, of the form `(xy)^m=1` ?

According to R. Scott's paper [Right-angled Mock reflections and mock Artin groups](http://www.ams.org/journals/tran/2008-360-08/S0002-9947-08-04452-8/S0002-9947-08-04452-8.pdf), the cactus group is a special case of the presentation in that paper. I still need to verify it because I don't quite understand the first yet, but I believe Scott's comment.

> Anyhow, it might be quite hard to prove that an f.p. group is linear --- you probably heard the story of braid groups in this respect...

Yea, but here I think we are closer to the Coxeter group than the braid group (and even have a representation to test). Yet, I do agree that this could be a hard thing to prove.

I forgot to mention it, but thank you Darij for testing it and the example showing my proposed normal form won't work.



---

archive/issue_comments_265955.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-03T03:45:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265955",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265956.json:
```json
{
    "body": "Okay, so the cactus group corresponds to type A<sub>n</sub> and when `R` is the full power set of the index set. I've added the representation described in the DJS paper here. One related question that comes to mind is what happens when `t=1`, do we get a (faithful) representation of the right-angled Coxeter group which has the `t=1` bilinear form? We have a lot to think on for this...\n\nThe end result of our discussion as I see it is that we don't have a good way to construct normal forms of elements at present. So for the purposes of this ticket, should we include this as-is with a warning stating that elements may be equal even if `==` does not necessarily return `True`?",
    "created_at": "2016-01-03T03:52:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265956",
    "user": "tscrim"
}
```

Okay, so the cactus group corresponds to type A<sub>n</sub> and when `R` is the full power set of the index set. I've added the representation described in the DJS paper here. One related question that comes to mind is what happens when `t=1`, do we get a (faithful) representation of the right-angled Coxeter group which has the `t=1` bilinear form? We have a lot to think on for this...

The end result of our discussion as I see it is that we don't have a good way to construct normal forms of elements at present. So for the purposes of this ticket, should we include this as-is with a warning stating that elements may be equal even if `==` does not necessarily return `True`?



---

archive/issue_comments_265957.json:
```json
{
    "body": "I am not sure that it is a good idea to have this group in the same catalog as the others (which do have a normal form for its elements). As it stands, the group operation for J<sub>n</sub> is not well-defined, you know.",
    "created_at": "2016-01-05T11:39:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265957",
    "user": "dimpase"
}
```

I am not sure that it is a good idea to have this group in the same catalog as the others (which do have a normal form for its elements). As it stands, the group operation for J<sub>n</sub> is not well-defined, you know.



---

archive/issue_comments_265958.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-05-26T10:01:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265958",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265959.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-11T21:09:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265959",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265960.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-01-05T20:46:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265960",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265961.json:
```json
{
    "body": "Daan Krammer has constructed an analogue of the Tits representation for the cactus groups.\nHe proves this is faithful. The preprint version is:\n\nhttps://arxiv.org/pdf/0708.1273.pdf\n\n[You need to leave out the six term relations.]",
    "created_at": "2017-07-14T14:46:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265961",
    "user": "Bruce"
}
```

Daan Krammer has constructed an analogue of the Tits representation for the cactus groups.
He proves this is faithful. The preprint version is:

https://arxiv.org/pdf/0708.1273.pdf

[You need to leave out the six term relations.]



---

archive/issue_comments_265962.json:
```json
{
    "body": "Is there a class for permutation representations of a finitely presented group?\n\nI implemented the action on highest weight words in the tensor power of a crystal many years ago\n(using the Henriques-Kamnitzer definition).",
    "created_at": "2017-07-14T14:48:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265962",
    "user": "Bruce"
}
```

Is there a class for permutation representations of a finitely presented group?

I implemented the action on highest weight words in the tensor power of a crystal many years ago
(using the Henriques-Kamnitzer definition).



---

archive/issue_comments_265963.json:
```json
{
    "body": "Bruce: Interesting! Can you direct me to the specific point where the representation is constructed? How do I \"leave out\" the six term relations? (I mean, what do I tweak to make sure that the representation is still faithful?)",
    "created_at": "2017-07-16T13:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265963",
    "user": "darij"
}
```

Bruce: Interesting! Can you direct me to the specific point where the representation is constructed? How do I "leave out" the six term relations? (I mean, what do I tweak to make sure that the representation is still faithful?)



---

archive/issue_comments_265964.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-05T14:32:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265964",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265965.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-12-05T19:06:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265965",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_265966.json:
```json
{
    "body": "According to a conversation with Travis today, the mathematics of this patch is incorrect at the moment.",
    "created_at": "2018-07-24T14:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265966",
    "user": "bsalisbury1"
}
```

According to a conversation with Travis today, the mathematics of this patch is incorrect at the moment.



---

archive/issue_comments_265967.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-07-24T14:16:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265967",
    "user": "bsalisbury1"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_265968.json:
```json
{
    "body": "A solution to the word problem has been explicitly described in https://arxiv.org/abs/2209.08813. (Darij had also come up with (I believe) the same solution, but we never got around to implementing it.)",
    "created_at": "2022-09-20T07:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/19357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/19357#issuecomment-265968",
    "user": "tscrim"
}
```

A solution to the word problem has been explicitly described in https://arxiv.org/abs/2209.08813. (Darij had also come up with (I believe) the same solution, but we never got around to implementing it.)
