# Issue 19357: Implement the cactus group

Issue created by migration from https://trac.sagemath.org/ticket/19594

Original creator: tscrim

Original creation time: 2015-11-17 23:17:44

Assignee: tscrim

CC:  ptingley bsalisbury1

Keywords: cactus

We implement the cactus group _J_<sub>n</sub> (of type A). The cactus group has important applications in category and representation theory.

This group is not available in GAP as far as I can tell.


---

Comment by tscrim created at 2015-11-17 23:18:16

New commits:


---

Comment by tscrim created at 2015-11-17 23:18:16

Changing status from new to needs_review.


---

Comment by dimpase created at 2015-12-23 20:35:21

Can you also construct the homomorphism to the symmetric group, and its kernel (i.e. pure cactus group) ?


---

Comment by tscrim created at 2015-12-24 23:10:15

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2015-12-24 23:10:15

Replying to [comment:2 dimpase]:
> Can you also construct the homomorphism to the symmetric group, and its kernel (i.e. pure cactus group) ?

I can definitely add a default coercion to the symmetric group. I should be able to do a general subgroup defined by a particular condition (such as the kernel of a morphism). I will do this now.


---

Comment by git created at 2015-12-25 02:43:27

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-12-25 02:44:09

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2015-12-25 02:44:09

Done and done.


---

Comment by git created at 2015-12-28 02:01:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2015-12-28 02:02:44

Travis -- I like the fact that you are implementing this group, but are you sure that the switches you do in `_product_on_gens` are enough to bring every word in its generators to a normal form? I.e., that any two products of generators that compare as un-equal are actually distinct?


---

Comment by tscrim created at 2015-12-28 04:56:08

Replying to [comment:7 darij]:
> Travis -- I like the fact that you are implementing this group, but are you sure that the switches you do in `_product_on_gens` are enough to bring every word in its generators to a normal form? I.e., that any two products of generators that compare as un-equal are actually distinct?

I haven't formally proved it (nor do I know if there is a formal proof that there is a normal form). I'm inclined to believe it works, but I'm not 100% sure (nor can I prove it right now). Perhaps we should add a warning about this?


---

Comment by dimpase created at 2015-12-28 07:02:04

Is any cactus group automatic? GAP has [means](http://www.gap-system.org/Packages/kbmag.html) to try to check whether an f.p. group is automatic. (this would give one a normal form, etc).


---

Comment by tscrim created at 2015-12-28 08:11:26

Replying to [comment:9 dimpase]:
> Is any cactus group automatic? GAP has [means](http://www.gap-system.org/Packages/kbmag.html) to try to check whether an f.p. group is automatic. (this would give one a normal form, etc).

I don't know. The best I could find from some quick Googling is [this MO question](http://mathoverflow.net/questions/65280/splitting-of-homomorphism-from-cactus-group-to-permutation-group) (which suggests that my approach does not give a normal form). We can try as I also included a f.p. version of the group which should be easy to feed to GAP. However, from me it would have to wait until tomorrow as I'm going to sleep now.


---

Comment by dimpase created at 2015-12-28 12:20:34

for n=3,4 Knuth-Bendix procedure (from the GAP package kbmag I mentioned in comment 9) quickly returns a rewriting system for J_n, but it gets stuck for n=5. I haven't tried to push this further yet.


---

Comment by dimpase created at 2015-12-28 14:59:50

I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`).


---

Comment by darij created at 2015-12-28 17:18:38

After a few experiments (on paper), I have started suspecting that Travis's code *does* bring every word to a normal form. This could be a cool combinatorial result, if true.

If true, it should be provable using the diamond lemma... Does anyone volunteer to bash the cases?


---

Comment by tscrim created at 2015-12-28 18:00:44

Replying to [comment:12 dimpase]:
> I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`). 

Is this a comment on my code or GAP's? I don't know the Reidemeister-Schreier algorithm, but I am not opposed to trying to extend the implementation.


---

Comment by tscrim created at 2015-12-28 18:04:36

Replying to [comment:13 darij]:
> After a few experiments (on paper), I have started suspecting that Travis's code *does* bring every word to a normal form. This could be a cool combinatorial result, if true.
> 
> If true, it should be provable using the diamond lemma... Does anyone volunteer to bash the cases?

I am pretty sure that the terminating condition is possible, but I'm worried about a case of something like `s[4, 5] * s[1, 7] * s[5, 8]` and the shuffles. However, I agree it would be a nice little result if this was true, and as far as I can find, there is no such analogous result. At the very least, I think we can easily show an analog of Matsumoto's lemma, and so we build out a reduced word graph and find a lex min element in that.


---

Comment by darij created at 2015-12-28 18:15:05

Sorry, Travis, you are right with your worries:

```
sage: s45*s13 == s13*s45
True
sage: s26*s45*s13 == s26*s13*s45
False
```

This cactus is thornier than I thought.


---

Comment by dimpase created at 2015-12-28 20:38:44

Replying to [comment:16 darij]:
> Sorry, Travis, you are right with your worries:
> {{{
> sage: s45*s13 == s13*s45
> True
> sage: s26*s45*s13 == s26*s13*s45
> False
> }}}
> This cactus is thornier than I thought.

this is also what Knuth-Bendix computation was predicting, that for n>4 things get hard.


---

Comment by dimpase created at 2015-12-28 20:39:27

Replying to [comment:14 tscrim]:
> Replying to [comment:12 dimpase]:
> > I wonder why the code does not compute a presentation for the pure cactus group. This is more or less standard thing, Reidemeister-Schreier algorithm, implemented in GAP (see e.g. `PresentationSubgroup`). 
> 
> Is this a comment on my code or GAP's? I don't know the Reidemeister-Schreier algorithm, but I am not opposed to trying to extend the implementation.

it's a comment saying that this is doable (not sure how interesting).


---

Comment by dimpase created at 2015-12-28 21:51:43

There seems to be something wrong with the relations you provide.I am trying to check that you indeed have a homomorphism from J_4 to Sym(4), but GAP returns `fail`. Does your code check that your map is a group homomorphism?

```
gap> F:=FreeGroup(6);
<free group on the generators [ f1, f2, f3, f4, f5, f6 ]>
gap> s12:=F.1;; s13:=F.2;; s14:=F.3;; s23:=F.4;; s24:=F.5;; s34:=F.6;;
gap> rels:=[s12^2, s13^2, s14^2, s23^2, s24^2, s34^2, s13*s12*s13^-1*s23^-1, s13*s23*s13^-1*s12^-1, s14*s12*s14^-1*s34^-1, s14*s13*s14^-1*s24^-1, s14*s23*s14^-1*s23^-1, s14*s24*s14^-1*s13^-1, s14*s34*s14^-1*s12^-1, s24*s23*s24^-1*s34^-1, s24*s34*s24^-1*s23^-1, s34*s12*s34^-1*s12^-1 ];
[ f1^2, f2^2, f3^2, f4^2, f5^2, f6^2, f2*f1*f2^-1*f4^-1, f2*f4*f2^-1*f1^-1, f3*f1*f3^-1*f6^-1, 
  f3*f2*f3^-1*f5^-1, f3*f4*f3^-1*f4^-1, f3*f5*f3^-1*f2^-1, f3*f6*f3^-1*f1^-1, f5*f4*f5^-1*f6^-1, 
  f5*f6*f5^-1*f4^-1, f6*f1*f6^-1*f1^-1 ]
gap> G:=F/rels;
<fp group on the generators [ f1, f2, f3, f4, f5, f6 ]>
gap> s4:=Group([(1,2),(1,3),(1,4),(2,3),(2,4),(3,4)]);
Group([ (1,2), (1,3), (1,4), (2,3), (2,4), (3,4) ])
gap> GeneratorsOfGroup(s4);
[ (1,2), (1,3), (1,4), (2,3), (2,4), (3,4) ]
gap> f:=GroupHomomorphismByImages(G,s4);
fail
```



---

Comment by dimpase created at 2015-12-28 22:00:52

here is a direct check of the relations:

```
gap> s12:=(1,2); s13:=(1,3); s14:=(1,4); s23:=(2,3); s24:=(2,4); s34:=(3,4);
(1,2)
(1,3)
(1,4)
(2,3)
(2,4)
(3,4)
gap> [s12^2, s13^2, s14^2, s23^2, s24^2, s34^2, s13*s12*s13^-1*s23^-1, s13*s23*s13^-1*s12^-1, s14*s12*s14^-1*s34^-1, s14*s13*s14^-1*s24^-1, s14*s23*s14^-1*s23^-1, s14*s24*s14^-1*s13^-1, s14*s34*s14^-1*s12^-1, s24*s23*s24^-1*s34^-1, s24*s34*s24^-1*s23^-1, s34*s12*s34^-1*s12^-1 ];
[ (), (), (), (), (), (), (), (), (2,3,4), (2,4,3), (), (1,2,3), (1,3,2), (), (), () ]
gap> 
```


e.g. `s14*s12*s14<sup>-1*s34</sup>-1` evaluates to (2,3,4) in Sym(4)...


---

Comment by tscrim created at 2015-12-28 22:40:32

`s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.

I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.

What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?


---

Comment by darij created at 2015-12-28 23:04:44

It sounds like the next best thing, after we know that the obvious rewrite system does not work... But I don't see how to do it.


---

Comment by dimpase created at 2015-12-29 15:30:23

Replying to [comment:21 tscrim]:
> `s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.

oops, OK then. Sorry for noise. By the way, what is proper Sage way to get words generating
the kernel of the homomorphism to S_n?
  
> 
> I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.
> 
> What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?

this looks a bit unlikely that a Matsumoto's-type argument would work here, with so many redundant generators (as opposed to the case of Coxeter groups). What might work is a kind of argument one sees for presentations of soluble groups, where one has commutator relations, allowing one to "sort" generators in words; but as we have S_n acting, unsolvable for n>4...


---

Comment by tscrim created at 2015-12-30 01:13:41

Replying to [comment:23 dimpase]:
> Replying to [comment:21 tscrim]:
> > `s14 |-> (1,4) (2,3)` is the correct image as `s14` should correspond to flipping the entire interval `[1, 4]`.
> 
> oops, OK then. Sorry for noise. By the way, what is proper Sage way to get words generating
> the kernel of the homomorphism to S_n?

What I ended up doing on this ticket is just iterating over the ambient group J<sub>n</sub> and returning the element in the kernel.


> > I asked Peter Tingley, who asked Joel Kamnitzer, and they do not know of a normal form.
> > 
> > What do both of you think about trying to prove an analog of Matsumoto's theorem for the cactus group, i.e., that all reduced words are related to each other by just applying the defining relations, as per comment:15?
> 
> this looks a bit unlikely that a Matsumoto's-type argument would work here, with so many redundant generators (as opposed to the case of Coxeter groups). What might work is a kind of argument one sees for presentations of soluble groups, where one has commutator relations, allowing one to "sort" generators in words; but as we have S_n acting, unsolvable for n>4...

I am guessing it would be too much to ask for a Garside-type structure coming from the projection onto S<sub>n</sub>, where every element can be written as `xy^k` where `x` is the natural section of S<sub>n</sub> and `y` is some special element in J<sub>n</sub> (similar to a normal form for the braid group elements, where `y` corresponds to the section of the long element).

Are you thinking that there might be reduced expressions which require using the `x^2 = 1` identity to add letters temporarily to get between them for n > 4?

I'm also emailing Joel and Peter about possible assistance we might get from geometric information.


---

Comment by tscrim created at 2015-12-30 01:30:54

Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...


---

Comment by dimpase created at 2015-12-30 10:51:53

Replying to [comment:25 tscrim]:
> Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...

I don't see an immediate connection, as the presentation there seems to include more relations, of the form `(xy)^m=1` ?

Anyhow, it might be quite hard to prove that an f.p. group is linear --- you probably heard the story of braid groups in this respect...


---

Comment by tscrim created at 2015-12-30 15:39:46

Replying to [comment:24 tscrim]:
> I am guessing it would be too much to ask for a Garside-type structure coming from the projection onto S<sub>n</sub>, where every element can be written as `xy^k` where `x` is the natural section of S<sub>n</sub> and `y` is some special element in J<sub>n</sub> (similar to a normal form for the braid group elements, where `y` corresponds to the section of the long element).

A Garside-type structure would not work here because that is used for passing from the braid monoid to the braid group. So I really don't think this will work for the cactus group.


---

Comment by tscrim created at 2015-12-30 15:44:05

Replying to [comment:26 dimpase]:
> Replying to [comment:25 tscrim]:
> > Also Remark 6.2.4 of http://arxiv.org/abs/math/0203127 says that this should be a linear group (i.e., admits a faithful finite-dimensional representation). I should try to understand the representation they construct and implement that as well...
> 
> I don't see an immediate connection, as the presentation there seems to include more relations, of the form `(xy)^m=1` ?

According to R. Scott's paper [Right-angled Mock reflections and mock Artin groups](http://www.ams.org/journals/tran/2008-360-08/S0002-9947-08-04452-8/S0002-9947-08-04452-8.pdf), the cactus group is a special case of the presentation in that paper. I still need to verify it because I don't quite understand the first yet, but I believe Scott's comment.

> Anyhow, it might be quite hard to prove that an f.p. group is linear --- you probably heard the story of braid groups in this respect...

Yea, but here I think we are closer to the Coxeter group than the braid group (and even have a representation to test). Yet, I do agree that this could be a hard thing to prove.

I forgot to mention it, but thank you Darij for testing it and the example showing my proposed normal form won't work.


---

Comment by git created at 2016-01-03 03:45:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2016-01-03 03:52:51

Okay, so the cactus group corresponds to type A<sub>n</sub> and when `R` is the full power set of the index set. I've added the representation described in the DJS paper here. One related question that comes to mind is what happens when `t=1`, do we get a (faithful) representation of the right-angled Coxeter group which has the `t=1` bilinear form? We have a lot to think on for this...

The end result of our discussion as I see it is that we don't have a good way to construct normal forms of elements at present. So for the purposes of this ticket, should we include this as-is with a warning stating that elements may be equal even if `==` does not necessarily return `True`?


---

Comment by dimpase created at 2016-01-05 11:39:14

I am not sure that it is a good idea to have this group in the same catalog as the others (which do have a normal form for its elements). As it stands, the group operation for J<sub>n</sub> is not well-defined, you know.


---

Comment by git created at 2016-05-26 10:01:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-11-11 21:09:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-01-05 20:46:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Bruce created at 2017-07-14 14:46:56

Daan Krammer has constructed an analogue of the Tits representation for the cactus groups.
He proves this is faithful. The preprint version is:

https://arxiv.org/pdf/0708.1273.pdf

[You need to leave out the six term relations.]


---

Comment by Bruce created at 2017-07-14 14:48:58

Is there a class for permutation representations of a finitely presented group?

I implemented the action on highest weight words in the tensor power of a crystal many years ago
(using the Henriques-Kamnitzer definition).


---

Comment by darij created at 2017-07-16 13:09:31

Bruce: Interesting! Can you direct me to the specific point where the representation is constructed? How do I "leave out" the six term relations? (I mean, what do I tweak to make sure that the representation is still faithful?)


---

Comment by git created at 2017-12-05 14:32:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-12-05 19:06:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by bsalisbury1 created at 2018-07-24 14:16:53

According to a conversation with Travis today, the mathematics of this patch is incorrect at the moment.


---

Comment by bsalisbury1 created at 2018-07-24 14:16:53

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2022-09-20 07:19:28

A solution to the word problem has been explicitly described in https://arxiv.org/abs/2209.08813. (Darij had also come up with (I believe) the same solution, but we never got around to implementing it.)
