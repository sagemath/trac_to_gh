# Issue 21647: giacpy_sage has a doctest failure

archive/issues_021647.json:
```json
{
    "body": "CC:  parisse @frederichan-IMJPRG jpflori\n\nRelated to #21860 : one failure in ptestlong :\n\n\n```\ncharpent@asus16-ec:/usr/local/sage-7$ sage -t --long --warn-long 100.3 src/sage/rings/polynomial/multi_polynomial_ideal.py\nRunning doctests with ID 2016-11-17-09-17-43-cce569e2.\nGit branch: t/21860/giacblas\nUsing --optional=database_gap,giac,giacpy_sage,mpir,python2,sage\nDoctesting 1 file.\nsage -t --long --warn-long 100.3 src/sage/rings/polynomial/multi_polynomial_ideal.py\n**********************************************************************\nFile \"src/sage/rings/polynomial/multi_polynomial_ideal.py\", line 3533, in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.groebner_basis\nFailed example:\n    ideal(J.transformed_basis()).change_ring(P).interreduced_basis()  # optional - giacpy_sage\nExpected:\n    [a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]\nGot:\n    [7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c]\n**********************************************************************\n1 item had failures:\n   1 of  67 in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.groebner_basis\n    [723 tests, 1 failure, 9.10 s]\n----------------------------------------------------------------------\nsage -t --long --warn-long 100.3 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed\n----------------------------------------------------------------------\nTotal time for all tests: 9.2 seconds\n    cpu time: 15.5 seconds\n    cumulative wall time: 9.1 seconds\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/21884\n\n",
    "created_at": "2016-11-17T08:31:57Z",
    "labels": [
        "component: packages: optional",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.6",
    "title": "giacpy_sage has a doctest failure",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21647",
    "user": "https://github.com/EmmanuelCharpentier"
}
```
CC:  parisse @frederichan-IMJPRG jpflori

Related to #21860 : one failure in ptestlong :


```
charpent@asus16-ec:/usr/local/sage-7$ sage -t --long --warn-long 100.3 src/sage/rings/polynomial/multi_polynomial_ideal.py
Running doctests with ID 2016-11-17-09-17-43-cce569e2.
Git branch: t/21860/giacblas
Using --optional=database_gap,giac,giacpy_sage,mpir,python2,sage
Doctesting 1 file.
sage -t --long --warn-long 100.3 src/sage/rings/polynomial/multi_polynomial_ideal.py
**********************************************************************
File "src/sage/rings/polynomial/multi_polynomial_ideal.py", line 3533, in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.groebner_basis
Failed example:
    ideal(J.transformed_basis()).change_ring(P).interreduced_basis()  # optional - giacpy_sage
Expected:
    [a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]
Got:
    [7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c]
**********************************************************************
1 item had failures:
   1 of  67 in sage.rings.polynomial.multi_polynomial_ideal.NCPolynomialIdeal.groebner_basis
    [723 tests, 1 failure, 9.10 s]
----------------------------------------------------------------------
sage -t --long --warn-long 100.3 src/sage/rings/polynomial/multi_polynomial_ideal.py  # 1 doctest failed
----------------------------------------------------------------------
Total time for all tests: 9.2 seconds
    cpu time: 15.5 seconds
    cumulative wall time: 9.1 seconds
```


Issue created by migration from https://trac.sagemath.org/ticket/21884





---

archive/issue_comments_300317.json:
```json
{
    "body": "I don't think that it is related to #21860 (giac update), but it is related to the singular upgrade:\n\nwith sage 7.5beta2 (singular4)\n\n```\nsage: P.<a,b,c> = PolynomialRing(QQ,3, order='lex') \nsage: toto=ideal([7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c])\n....: \nsage: toto.interreduced_basis()\n[7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c]\nsage: \n```\n\nbut with older versions with singular3 it gives\n\n```\n[a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]\n```\n",
    "created_at": "2016-11-17T17:31:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300317",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

I don't think that it is related to #21860 (giac update), but it is related to the singular upgrade:

with sage 7.5beta2 (singular4)

```
sage: P.<a,b,c> = PolynomialRing(QQ,3, order='lex') 
sage: toto=ideal([7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c])
....: 
sage: toto.interreduced_basis()
[7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c]
sage: 
```

but with older versions with singular3 it gives

```
[a - 60*c^3 + 158/7*c^2 + 8/7*c - 1, b + 30*c^3 - 79/7*c^2 + 3/7*c, c^4 - 10/21*c^3 + 1/84*c^2 + 1/84*c]
```




---

archive/issue_comments_300318.json:
```json
{
    "body": "In fact the doctest was not using the result computed by giac but was recomputing everything with singular so I have changed this.\n\nI have not yet changed the output doc string because it seems not coherent with the documentation of\ninterreduced_basis:\n\n\n```\n   If this ideal is spanned by (f_1, ..., f_n) this method returns\n   (g_1, ..., g_s) such that:\n\n   * (f_1,...,f_n) = (g_1,...,g_s)\n\n   * LT(g_i) != LT(g_j) for all i != j\n\n   * LT(g_i) does not divide m for all monomials m of\n\n        {g_1,...,g_{i-1},g_{i+1},...,g_s}\n\n   * LC(g_i) == 1 for all i if the coefficient ring is a field.\n\n```\n\nbut\n\n\n```\nsage: P.<a,b,c> = PolynomialRing(QQ,3, order='lex')\nsage: toto=ideal([7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c])\n....: \nsage: g=toto.interreduced_basis()\nsage: g[0].lc()\n7\nsage: toto.base_ring()\nRational Field\n```\n\n\n----\nLast 10 new commits:",
    "created_at": "2016-11-17T18:23:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300318",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

In fact the doctest was not using the result computed by giac but was recomputing everything with singular so I have changed this.

I have not yet changed the output doc string because it seems not coherent with the documentation of
interreduced_basis:


```
   If this ideal is spanned by (f_1, ..., f_n) this method returns
   (g_1, ..., g_s) such that:

   * (f_1,...,f_n) = (g_1,...,g_s)

   * LT(g_i) != LT(g_j) for all i != j

   * LT(g_i) does not divide m for all monomials m of

        {g_1,...,g_{i-1},g_{i+1},...,g_s}

   * LC(g_i) == 1 for all i if the coefficient ring is a field.

```

but


```
sage: P.<a,b,c> = PolynomialRing(QQ,3, order='lex')
sage: toto=ideal([7*a - 420*c^3 + 158*c^2 + 8*c - 7, 7*b + 210*c^3 - 79*c^2 + 3*c, 84*c^4 - 40*c^3 + c^2 + c])
....: 
sage: g=toto.interreduced_basis()
sage: g[0].lc()
7
sage: toto.base_ring()
Rational Field
```


----
Last 10 new commits:



---

archive/issue_comments_300319.json:
```json
{
    "body": "15 commits to change just one line of code? Please squash this to one commit :-)",
    "created_at": "2016-11-19T08:46:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300319",
    "user": "https://github.com/jdemeyer"
}
```

15 commits to change just one line of code? Please squash this to one commit :-)



---

archive/issue_comments_300320.json:
```json
{
    "body": "Changing component from packages: optional to doctest coverage.",
    "created_at": "2016-11-19T08:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300320",
    "user": "https://github.com/jdemeyer"
}
```

Changing component from packages: optional to doctest coverage.



---

archive/issue_comments_300321.json:
```json
{
    "body": "And change the title to something which refers to Singular.",
    "created_at": "2016-11-19T08:49:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300321",
    "user": "https://github.com/jdemeyer"
}
```

And change the title to something which refers to Singular.



---

archive/issue_comments_300322.json:
```json
{
    "body": "sorry for the messy branch, here is a new one\n----\nNew commits:",
    "created_at": "2016-11-19T11:19:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300322",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

sorry for the messy branch, here is a new one
----
New commits:



---

archive/issue_comments_300323.json:
```json
{
    "body": "how about changing the doc of `interreduced_basis` where it says that LCs will be 1 if working over a field, i.e.\n\n```\n* LC(g_i) == 1 for all i if the coefficient ring is a field.\n```\n\nis no longer true.",
    "created_at": "2016-11-19T18:28:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300323",
    "user": "https://github.com/dimpase"
}
```

how about changing the doc of `interreduced_basis` where it says that LCs will be 1 if working over a field, i.e.

```
* LC(g_i) == 1 for all i if the coefficient ring is a field.
```

is no longer true.



---

archive/issue_comments_300324.json:
```json
{
    "body": "Before doing just that, my question is also about how QQ was detected in the old code and does the new condition detect any ring, because if I grep the old test I already have:\n\n\n```\nmacbookito(fred)$ grep -r \"ringtype == 0\" src/sage\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:            if r.ringtype == 0 or r.cf.nDivBy(p_GetCoeff(f._poly, r), p_GetCoeff(g._poly, r)):\nsrc/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx:    if r.ringtype == 0:\nsrc/sage/rings/polynomial/plural.pyx:            if r.ringtype == 0 or r.cf.nDivBy(p_GetCoeff(f._poly, r), p_GetCoeff(g._poly, r)):\nsrc/sage/libs/singular/singular.pyx:        if _ring.ringtype == 0:\nsrc/sage/libs/singular/singular.pyx:        if _ring.ringtype == 0:\nmacbookito(fred)$ grep -r \"ringtype != 0\" src/sage\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:        if r.ringtype != 0:\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:        if _ring.ringtype != 0:\nsrc/sage/rings/polynomial/multi_polynomial_libsingular.pyx:        if _ring.ringtype != 0:\nsrc/sage/libs/singular/ring.pyx:    if ringtype != 0:\n```\n",
    "created_at": "2016-11-20T10:05:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300324",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

Before doing just that, my question is also about how QQ was detected in the old code and does the new condition detect any ring, because if I grep the old test I already have:


```
macbookito(fred)$ grep -r "ringtype == 0" src/sage
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:            if r.ringtype == 0 or r.cf.nDivBy(p_GetCoeff(f._poly, r), p_GetCoeff(g._poly, r)):
src/sage/rings/polynomial/multi_polynomial_ideal_libsingular.pyx:    if r.ringtype == 0:
src/sage/rings/polynomial/plural.pyx:            if r.ringtype == 0 or r.cf.nDivBy(p_GetCoeff(f._poly, r), p_GetCoeff(g._poly, r)):
src/sage/libs/singular/singular.pyx:        if _ring.ringtype == 0:
src/sage/libs/singular/singular.pyx:        if _ring.ringtype == 0:
macbookito(fred)$ grep -r "ringtype != 0" src/sage
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:        if r.ringtype != 0:
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:        if _ring.ringtype != 0:
src/sage/rings/polynomial/multi_polynomial_libsingular.pyx:        if _ring.ringtype != 0:
src/sage/libs/singular/ring.pyx:    if ringtype != 0:
```




---

archive/issue_comments_300325.json:
```json
{
    "body": "So if I am right it seems that the old test ringtype != 0 was used as a trick to detect if the  ring of coefficient was not a field, and seems equivalent to \n\n   cf.type ==  one of n_Z, n_Zm, n_Zmn, n_Z2n\n\nin src/sage/rings/polynomial/multi_polynomial_libsingular.pyx\nin the gcd and lcm a test has been added so the code is equivalent to the old one.\n            if r.cf.type == n_Znm or r.cf.type == n_Zn or r.cf.type == n_Z2m :\n                raise NotImplementedError(\"Division of multivariate polynomials over non fields by n\n\nin interreduced the normalisation of the head coefficient may be never executed and is not equivalent to the old code. So I suggest 2 modification.\neither:\n   1)  change the doc a dima suggest to do the same as singular and delete the normalisation code\nor\n   2)  replace the cf.type == n_unknown by  \n            if r.cf.type != n_Znm and r.cf.type != n_Zn and r.cf.type != n_Z2m \n       and keep the doc as is\n\nfor plural.pyx it should be OK because of the or\n\nBut in src/sage/libs/singular/singular.pyx the 2 substitutions gives  strange code:\n\n```\n\n    elif isinstance(base, IntegerModRing_generic):\n        if _ring.cf.type == n_unknown:\n            return base(_ring.cf.cfInt(n, _ring.cf))\n        return si2sa_ZZmod(n, _ring, base)\n\n```\n\n\n```\n    elif isinstance(elem._parent, IntegerModRing_generic):\n        if _ring.cf.type == n_unknown:\n            return n_Init(int(elem),_ring)\n        return sa2si_ZZmod(elem, _ring)\n\n```\n \nfor instance n_Zp had ringtype == 0",
    "created_at": "2016-11-23T11:38:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300325",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

So if I am right it seems that the old test ringtype != 0 was used as a trick to detect if the  ring of coefficient was not a field, and seems equivalent to 

   cf.type ==  one of n_Z, n_Zm, n_Zmn, n_Z2n

in src/sage/rings/polynomial/multi_polynomial_libsingular.pyx
in the gcd and lcm a test has been added so the code is equivalent to the old one.
            if r.cf.type == n_Znm or r.cf.type == n_Zn or r.cf.type == n_Z2m :
                raise NotImplementedError("Division of multivariate polynomials over non fields by n

in interreduced the normalisation of the head coefficient may be never executed and is not equivalent to the old code. So I suggest 2 modification.
either:
   1)  change the doc a dima suggest to do the same as singular and delete the normalisation code
or
   2)  replace the cf.type == n_unknown by  
            if r.cf.type != n_Znm and r.cf.type != n_Zn and r.cf.type != n_Z2m 
       and keep the doc as is

for plural.pyx it should be OK because of the or

But in src/sage/libs/singular/singular.pyx the 2 substitutions gives  strange code:

```

    elif isinstance(base, IntegerModRing_generic):
        if _ring.cf.type == n_unknown:
            return base(_ring.cf.cfInt(n, _ring.cf))
        return si2sa_ZZmod(n, _ring, base)

```


```
    elif isinstance(elem._parent, IntegerModRing_generic):
        if _ring.cf.type == n_unknown:
            return n_Init(int(elem),_ring)
        return sa2si_ZZmod(elem, _ring)

```
 
for instance n_Zp had ringtype == 0



---

archive/issue_comments_300326.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-11-24T11:49:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_300327.json:
```json
{
    "body": "NB: I chose solution 2 because the reduced command of  multi_polynomial_sequence.py also talk of normalized polynomials and use the libgiac interred:\n\n```\n        if isinstance(R,MPolynomialRing_libsingular):\n            return PolynomialSequence(R, interred_libsingular(self), immutable=True)\n```\n",
    "created_at": "2016-11-24T11:54:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300327",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

NB: I chose solution 2 because the reduced command of  multi_polynomial_sequence.py also talk of normalized polynomials and use the libgiac interred:

```
        if isinstance(R,MPolynomialRing_libsingular):
            return PolynomialSequence(R, interred_libsingular(self), immutable=True)
```




---

archive/issue_comments_300328.json:
```json
{
    "body": "NB: I am not confortable enough with sage and singular to modify the == n_unkown in:\nsrc/sage/libs/singular/singular.pyx\n\nDoes anyone plan to change it or can I switch to need review?",
    "created_at": "2016-11-24T12:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300328",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

NB: I am not confortable enough with sage and singular to modify the == n_unkown in:
src/sage/libs/singular/singular.pyx

Does anyone plan to change it or can I switch to need review?



---

archive/issue_comments_300329.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2016-11-25T12:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300329",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_300330.json:
```json
{
    "body": "Changing priority from major to blocker.",
    "created_at": "2017-03-10T21:54:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300330",
    "user": "https://github.com/jdemeyer"
}
```

Changing priority from major to blocker.



---

archive/issue_comments_300331.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-03-11T09:25:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300331",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_300332.json:
```json
{
    "body": "Rebased to 7.6.beta6",
    "created_at": "2017-03-11T09:26:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300332",
    "user": "https://github.com/jdemeyer"
}
```

Rebased to 7.6.beta6



---

archive/issue_comments_300333.json:
```json
{
    "body": "Is it good to go ?",
    "created_at": "2017-03-17T14:22:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300333",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Is it good to go ?



---

archive/issue_comments_300334.json:
```json
{
    "body": "I have not run the test suite for while but we should try if other doctests have been added in between",
    "created_at": "2017-03-17T14:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300334",
    "user": "https://github.com/frederichan-IMJPRG"
}
```

I have not run the test suite for while but we should try if other doctests have been added in between



---

archive/issue_comments_300335.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-03-18T11:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300335",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_300336.json:
```json
{
    "body": "In 7.6.rc1 + #20523 + #21884 (present ticket) :\n* `giacpy_sage` passes its own test suite (237 tests pased, 0 failed, 5 items with no test)\n* Sage pass `ptestlong` with one failure :\n\n```\n----------------------------------------------------------------------\nsage -t --long src/sage/homology/simplicial_complex.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nwhich is transient (i. e. pass without failure when ran standalone).\n\n==> `positive review`.",
    "created_at": "2017-03-18T11:00:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300336",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

In 7.6.rc1 + #20523 + #21884 (present ticket) :
* `giacpy_sage` passes its own test suite (237 tests pased, 0 failed, 5 items with no test)
* Sage pass `ptestlong` with one failure :

```
----------------------------------------------------------------------
sage -t --long src/sage/homology/simplicial_complex.py  # 1 doctest failed
----------------------------------------------------------------------
```

which is transient (i. e. pass without failure when ran standalone).

==> `positive review`.



---

archive/issue_comments_300337.json:
```json
{
    "body": "Forgot to sign the review...",
    "created_at": "2017-03-18T11:03:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300337",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Forgot to sign the review...



---

archive/issue_comments_300338.json:
```json
{
    "body": "Note : I do not understand the patchbot failure. Someone with a better understanding of the patchbot system should investigate the issue...",
    "created_at": "2017-03-18T11:10:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300338",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

Note : I do not understand the patchbot failure. Someone with a better understanding of the patchbot system should investigate the issue...



---

archive/issue_events_020447.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-03-19T16:25:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/21647#event-20447"
}
```



---

archive/issue_comments_300339.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-03-19T16:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21647",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21647#issuecomment-300339",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
