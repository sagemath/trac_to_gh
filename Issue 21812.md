# Issue 21812: Numpy doesn't build on Cygwin due to missing xlocale.h

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2016-12-12 12:01:13

I'm not sure why this never came up for me before.  I did recently reinstall Cygwin, and maybe had forgotten that I long ago symlinked locale.h to xlocale.h.  Another possibility is that the version of Cygwin I was using didn't define strtold_l, which is the only case in which Numpy looks for xlocale.h.


---

Comment by embray created at 2016-12-12 12:06:05

Changing status from new to needs_review.


---

Comment by embray created at 2016-12-12 12:06:05

New commits:


---

Comment by git created at 2016-12-12 13:40:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by embray created at 2016-12-12 13:41:18

New commits:


---

Comment by tscrim created at 2016-12-12 23:10:07

You will need to bump the numpy version, but otherwise LGTM.


---

Comment by tscrim created at 2016-12-12 23:11:13

Actually, that's not quite true since it didn't build beforehand and it doesn't affect anyone else who has already built numpy.


---

Comment by tscrim created at 2016-12-12 23:11:13

Changing status from needs_review to positive_review.


---

Comment by git created at 2016-12-13 12:51:27

Changing status from positive_review to needs_review.


---

Comment by git created at 2016-12-13 12:51:27

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by embray created at 2016-12-13 13:31:24

That was my thinking as well.  The only affected platform we know or care about is Cygwin--it won't affect existing numpy installations.


---

Comment by embray created at 2016-12-13 13:33:41

Changing status from needs_review to needs_work.


---

Comment by embray created at 2016-12-13 13:33:41

Oops, my updated version of the patch had a typo.


---

Comment by git created at 2016-12-13 13:39:10

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by embray created at 2016-12-13 13:39:29

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2016-12-13 15:25:59

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2016-12-14 23:15:43

Resolution: fixed
