# Issue 29519: Meta-ticket: Review of Python 3 features that sagelib should use systematically

Issue created by migration from https://trac.sagemath.org/ticket/29756

Original creator: mkoeppe

Original creation time: 2020-05-29 15:15:20

CC:  chapoton dimpase jhpalmieri @tobiasdiez tscrim nthiery slelievre nbruin

Keywords: sd109

- types
 - native namespace packages - #28925
 - ...?


---

Comment by egourgoulhon created at 2020-06-02 10:34:12

About types, has a general policy been discussed on sage-devel?


---

Comment by dimpase created at 2020-06-02 14:53:25

`typing` is a standard Python 3 module, and it allows one to catch more errors.. Why would one have anything against it?


---

Comment by kcrisman created at 2020-06-03 02:26:42

> `typing` is a standard Python 3 module, and it allows one to catch more errors.. Why would one have anything against it?

Are there reasons (e.g. performance) not to use it in certain circumstances?


---

Comment by mkoeppe created at 2020-06-03 02:35:46

I created this ticket as a place for discussions of these new features to make sure that we use them systematically in the Sage library, rather than in an ad-hoc way.

For example, for typing, I think there are opportunities to integrate it with the various dynamically generated classes that come in from the category system, as I noted in #29775.


---

Comment by @tobiasdiez created at 2020-06-03 11:36:38

There shouldn't be any performance issues with typing as it is deactivated on runtime (the only additional overhead is the import of the `typing` package).
See also the discussion here https://realpython.com/python-type-checking/#pros-and-cons


---

Comment by slelievre created at 2020-07-13 10:55:04

Regarding f-strings, see this comment:

- #30107#comment:19


---

Comment by @mwageringel created at 2020-09-03 07:03:46

Replying to [comment:2 egourgoulhon]:
> About types, has a general policy been discussed on sage-devel?

+1 for using typing. Return types in particular are useful for tab-completion on the result of function calls. For example

```
sage: "hello".upper().lower().upper()
```

this tab-completes without evaluating the code (i.e. without setting IPython's `IPCompleter.greedy` config option).


---

Comment by mkoeppe created at 2021-03-24 02:04:25

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.
