# Issue 16228: Category of classes of combinatorial structures

Issue created by migration from Trac.

Original creator: elixyre

Original creation time: 2014-06-10 04:07:54

CC:  nthiery mantepse virmaux

Keywords: combinatorics

That category gives a good and easy pattern of combinatorial structures.

The ideas (a list of others tickets) behind that are
 - a simple framework of combinatorial structures
 - sum, product, cartesian product, sequence, multi-set, cycle, ...
 - species (simplified such that it becomes easy to implement our species of structures)
 - change the world (may be)


---

Comment by mantepse created at 2014-06-10 12:02:12

It would be very useful to know what difficulties you encounter with the species framework!

Currently, one hold-up for progress regarding species is #16137 and a multivariate companion.


---

Comment by elixyre created at 2014-06-10 13:24:08

I don't have (especially) problem with the species framework. I have a problem with how to implement a class of combinatorial structures.

The current way to do that consist in copy-paste a file like `sage.combinat.binay_trees.py` with some obscurs lines then adapt the code.

My patch (when I would tame git) will propose a simple framework to design a class of (combinatorial) structures.

My opinion about species of structures is a species is a class of combinatorial structures! That is a class of combinatorial structures with some specific "method": transport of structures, isomophism types, cycle index series... so in the best of worlds, I want use a species as a parent and I want define more sophisticate structures with its elements.

Furthermore, a set partition, a permutation, ... are structures of a species. It would be nice to merge the module `sage.combinat.species`. (That will be a second patch...).

About #16137, it seems to me your patch treats generating series but not about the framework of structures, so that is not directly linked. Nowadays, I am not convinced by sage to compute generating series... There exists a deterministic way to define and extract some coefficients in a generating series?? I believe users don't have to learn a new tool to do compute something so `LazyPowerSeries`, `SymbolicRing` or whatever must be integrated in an unique manner in sage which one is user friendly...


---

Comment by elixyre created at 2014-06-11 14:45:08

New commits:


---

Comment by mantepse created at 2014-06-11 20:04:47

A comment about a comment in the code: I think it's a misconception that a species is a "labelled structure".  Clearly, I can consider every "class of unlabelled structures" as a combinatorial species, albeit possibly not in a very interesting way: simply let the symmetric group act trivially.


---

Comment by mantepse created at 2014-06-11 20:15:32

Replying to [comment:2 elixyre]:
> I don't have (especially) problem with the species framework. I have a problem with how to implement a class of combinatorial structures.

> The current way to do that consist in copy-paste a file like `sage.combinat.binay_trees.py` with some obscurs lines then adapt the code.

I really would like to improve the usability of the species code, to make this task simpler.  But I do not yet understand: `binary_trees.py' does not define a species, does it?

> I want use a species as a parent and I want define more sophisticate structures with its elements.

Hm.  What I'd like to see is a simple way to turn any given parent (eg. `BinaryTree') into a species simply by providing the action of the symmetric group.  But I think it's a really bad idea to have something like "species" and something like "combinatorial structures" side by side. 
 
> Furthermore, a set partition, a permutation, ... are structures of a species. It would be nice to merge the module `sage.combinat.species`. (That will be a second patch...).

I'm not sure if I understand.

> About #16137, it seems to me your patch treats generating series but not about the framework of structures

quite right (except that it's not my patch).  however, it's holding me up from implementing multivariate species, which are necessary to deal with most interesting structures.

I admit that my second big holdup is that I find python a very very very difficult language.

Martin


---

Comment by elixyre created at 2014-06-12 21:58:44

Replying to [comment:5 mantepse]:
> A comment about a comment in the code: I think it's a misconception that a species is a "labelled structure".  Clearly, I can consider every "class of unlabelled structures" as a combinatorial species, albeit possibly not in a very interesting way: simply let the symmetric group act trivially.

Ok you are right every class of combinatorial structures is a species (and by default there an trivial action of $S_n$). But my opinion is most of people don't know species and they want only to use/develop class of structures (so roughly a disjoint union of graded set). 
It is why I want make a distinction between species and class of combinatorial structures. 

Specially one problem if everything is species, that is one has to compute each isomorphism type for every unlabeled class of objects! Most of the time, we have already implemented this class! Furthermore, most of the operation on unlabeled object are well defined: cartesian product, cauchy product, sum, derivation, ... So if someone want use only an unlabeled class it is possible to do it efficiently.



Replying to [comment:6 mantepse]:
> I really would like to improve the usability of the species code, to make this task simpler.  But I do not yet understand: `binary_trees.py' does not define a species, does it?

I have implemented a really simple example of class of structures in my last commit `mod:sage.categories.example.combinatorial_structures_compositions`:
> ||[16685a3](http://git.sagemath.org/sage.git/commit/?id=16685a3be9c5deee1b76dddc2adbe33a10d1ad94)||`Ticket 16465 : improve the category and give a framework of class of combinatorial structures`||

I like this design (not only because it is mine). It is really simple and understandable. If you have any comment... I want.



> But I think it's a really bad idea to have something like "species" and something like "combinatorial structures" side by side. 

It is a bad idea to make a great distinction between `permutations as simple combinatorial objects` and `permutations as species`!
And I don't want them side by side! I want say a species is a refinement of a class of combinatorial structures.



> > Furthermore, a set partition, a permutation, ... are structures of a species. It would be nice to merge the module `sage.combinat.species`. (That will be a second patch...).
> 
> I'm not sure if I understand.

Sorry my sentence is wrong : "Set partitions, permutations have a (mathematical) structure of species (so both are in the species category)" There is no disadvantage to patch the usual sets as species!



> however, it's holding me up from implementing multivariate species, which are necessary to deal with most interesting structures. 

> I admit that my second big holdup is that I find python a very very very difficult language.

The fact is the Category framework of [comment: nthiery] is really a usefull tool to do that! I want to implementing linear species... but with category, that it is not necessary to reimplement everything from scratch or nearly from. Multivariate, ordered, linear species are species with a refinement of the category after that operations are still same!



Obviously, I understand your problem is not mine, you want enumeration and I want generation! And like I have already say:

>> There exists a deterministic way to define and extract some coefficients in a generating series?? 

It was rhetoric... Until that is not user friendly and homogeneous that is not possible to attune enumeration and generation...


---

Comment by git created at 2014-06-13 03:10:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-13 15:45:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by elixyre created at 2014-06-13 15:49:37

Some of my tests fails in `sage.combinat.structures.operations.sequences` but I can't reproduce the failure in the terminal. I don't understand that... I believe there is some problem with `Categories` during the tests. Do you have any idea, [comment: nthiery]?


---

Comment by git created at 2014-06-17 04:07:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-06-17 16:13:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by virmaux created at 2014-07-03 20:25:02

Ummm i fixed some documentation, is it possible to push it without changing the branch ?


---

Comment by elixyre created at 2014-07-09 03:36:19

New commits:


---

Comment by git created at 2014-07-09 04:00:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-07-10 23:17:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2014-11-22 10:26:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by elixyre created at 2014-11-22 10:27:18

New commits:


---

Comment by elixyre created at 2014-11-22 10:27:18

Changing status from new to needs_review.


---

Comment by git created at 2015-03-09 17:37:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-03-13 14:22:32

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by elixyre created at 2015-03-13 14:24:48

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-04-23 10:43:27

Branch pushed to git repo; I updated commit sha1. New commits:
