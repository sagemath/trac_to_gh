# Issue 28434: fix doctests when DOT_SAGE is symbolic link

Issue created by migration from https://trac.sagemath.org/ticket/28671

Original creator: @mwageringel

Original creation time: 2019-10-29 18:01:43

If `DOT_SAGE` points to a symbolic link, the following 2 doctests fail, as symbolic links are not resolved in these tests:

```
sage -t --long --warn-long 54.2 src/sage/misc/inline_fortran.py
**********************************************************************
File "src/sage/misc/inline_fortran.py", line 149, in sage.misc.inline_fortran._import_module_from_path._import_module_from_path_impl
Failed example:
    os.getcwd() == os.path.normpath(DOT_SAGE)
Expected:
    True
Got:
    False
**********************************************************************
sage -t --long --warn-long 54.2 src/sage/misc/sage_ostools.pyx
**********************************************************************
File "src/sage/misc/sage_ostools.pyx", line 67, in sage.misc.sage_ostools.restore_cwd
Failed example:
    with restore_cwd(str(SAGE_TMP)):
        print(os.getcwd() == SAGE_TMP)
Expected:
    True
Got:
    False
```



---

Comment by @mwageringel created at 2019-10-29 18:07:00

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2019-10-29 18:07:00

New commits:


---

Comment by @mwageringel created at 2020-01-01 12:37:24

Changing priority from minor to trivial.


---

Comment by mjo created at 2020-03-24 17:01:29

Changing status from needs_review to positive_review.


---

Comment by mjo created at 2020-03-24 17:01:29

Seems to work, what could possibly go wrong?


---

Comment by @mwageringel created at 2020-03-24 19:27:54

Thank you.


---

Comment by vbraun created at 2020-03-29 00:23:42

Resolution: fixed
