# Issue 23893: Reverse plane partitions and Hillman-Grassl

Issue created by migration from Trac.

Original creator: darij

Original creation time: 2017-10-31 02:38:17

CC:  troby tscrim jpswanson aschilling zhamaker mariamonks

Keywords: IMA coding sprint, reverse plane partitions, tableaux

Long ago I planned to build a class for reverse plane partitions once the tableaux class was overhauled (#17983). But the overhaul project never got finished, and I will probably not have much to add to it in foreseeable time.

The purpose of this ticket is to create a bare-bones class for reverse plane partitions (output is highly encouraged about what this class should be able to do and what it should inherit from!). Then, we want to implement the Hillman-Grassl correspondence and Sulzgruber's alternative bijection (arXiv:1612.03922v2).


---

Comment by tscrim created at 2017-10-31 07:06:31

Other papers that might be of interest:

- https://arxiv.org/abs/1501.00051 -- In particular, I would very much want to get the crystal structure added. I can do that once you have the basic parents.
- https://arxiv.org/abs/1710.09695


---

Comment by darij created at 2018-04-01 18:07:20

We've implemented the Hillman-Grassl correspondence and its inverse. So far this is separate from the class hierarchy and just a bunch of functions. We are also lacking Sulzgruber's, Pak's and Hopkins's variants.

How would you embed this into the classes? Or wait until Tableaux have been refactored?

Also, I have no idea if the doc works...
----
New commits:


---

Comment by git created at 2018-04-01 18:59:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-01 19:04:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-01 19:15:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-01 19:51:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-01 20:24:55

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-01 20:29:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-02 05:17:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-02 08:28:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-02 18:57:38

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-02 18:58:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-03 18:50:00

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-03 18:55:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-03 22:32:34

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by darij created at 2018-04-03 22:36:55

Finished apart from the definitions of Pak and Salzgruber, which I'm not sure whether belong into the doc (I know for sure that Hopkins's paper defines them well; the other two don't look bad either, so it's not exactly a gap in the literature).

Travis, can you look at the OOP? I've been mostly monkeying around here.


---

Comment by darij created at 2018-04-03 22:36:55

Changing status from new to needs_review.


---

Comment by tscrim created at 2018-04-04 01:15:37

You do not need the `WeakRPPs.__classcall_private__` as it just calls the "base" method (in the classcall sense).

Some other comments:

- It is not good to use abbreviations in class names: `RPP` -> `ReversePlanePartitions`.
- For the qualifier "weak", do you expect there to be a good use for "strong" RPPs? If not, then I think we should keep it simple and remove "weak".
- lazy import things:
  {{{#!diff
from .hillman_grassl import WeakRPP, WeakRPPs, hillman_grassl, hillman_grassl_inverse, pak_correspondence, sulzgruber_correspondence
lazy_import("sage.combinat.hillman_grassl", ["WeakRPP", "WeakRPPs", "hillman_grassl", "hillman_grassl_inverse", "pak_correspondence", "sulzgruber_correspondence"]
  }}}
- I do not see any benefit to adding the bijections to the global namespace since they are accessible via `Tableau` and `WeakRPP`, which are their only input formats. They are also too specialized IMO to be added to the global namespace. There's a bit of a case to be made for Pak/Sulzgruber, but at this point, I am not certain it is for the best to have them as global functions.
- Having the module level explanations of everything means you cannot see the definitions in the interactive doc (i.e., via `?`), plus it looses some granularity (c.f., you added section headers). I think it would be more useful to have this in each user entry point, e.g., in `Tableau.hillman_grassl()`.
- Paranoia: I would raw-string `r"""` the new methods to `Tableau`.
- Micro-optimization: Faster to do `if not M:` than `if len(M) == 0:`.


---

Comment by darij created at 2018-04-04 15:34:51

Made all the changes except for moving the doc into the methods. I'm not sure about the latter: should it be in the methods or in the functions? Should the definition of a \lambda-array and of an rpp be included in it? If not, then are we really gaining much?


---

Comment by git created at 2018-04-04 15:35:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-04-04 23:21:47

Replying to [comment:18 darij]:
> Made all the changes except for moving the doc into the methods. I'm not sure about the latter: should it be in the methods or in the functions? Should the definition of a \lambda-array and of an rpp be included in it? If not, then are we really gaining much?

It should be in the main place you expect users to enter. For example, for Hillman-Grassl it would be in the `Tableau.hillman_grassl()` method because you do not import the (internal) function `hillman_grassl()`. Since you have a class for RPPs (and the main entry point is via RPPs), you don't need the definition of an RPP. It might be worthwhile to talk about the `\lambda`-array definition in one place.

IMO what you are gaining is ease of use for people who are discovering things in Sage via tab-completion and `?`, which is how I recommend people explore Sage (and is usually how I first try to learn what a method does).


---

Comment by git created at 2018-04-05 20:32:22

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-05 20:33:22

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2018-04-05 21:06:25

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2018-04-05 21:07:10

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by darij created at 2018-04-05 21:07:44

All done.

In other news, this ticket spawned an MO discussion: https://mathoverflow.net/questions/297015/is-the-ford-fulkerson-algorithm-a-tropical-rational-function


---

Comment by git created at 2018-04-10 23:08:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2018-04-10 23:09:05

I made some trivial reviewer changes. If my changes look good, then positive review.


---

Comment by darij created at 2018-04-10 23:16:18

Changing status from needs_review to positive_review.


---

Comment by darij created at 2018-04-10 23:16:18

Thank you!!


---

Comment by git created at 2018-04-25 22:34:43

Changing status from positive_review to needs_review.


---

Comment by git created at 2018-04-25 22:34:43

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by darij created at 2018-04-25 22:35:35

Changing status from needs_review to positive_review.


---

Comment by darij created at 2018-04-25 22:35:35

The failing doctests were because of a change in __repr__. Fixed.


---

Comment by vbraun created at 2018-05-08 17:27:07

Resolution: fixed
