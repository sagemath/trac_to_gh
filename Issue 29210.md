# Issue 29210: small regression in character art of dictionaries

Issue created by migration from https://trac.sagemath.org/ticket/29447

Original creator: @mwageringel

Original creation time: 2020-04-01 18:22:03

CC:  vdelecroix

Since a recent change (#29204), the ASCII and unicode art of a dictionary can fail if it contains empty strings:


```
sage: ascii_art({'a': '', '': ''})
...
  File "/Applications/SageMath/local/lib/python3.7/site-packages/sage/typeset/character_art_factory.py", line 344, in concat_no_breakpoint
    elt._breakpoints.remove(k._l + 1)
ValueError: list.remove(x): x not in list
```


The code for building character art of dictionaries needs to take into account that the concatenation of two character art elements only inserts a breakpoint between the two elements if neither of them is empty.



---

Comment by @mwageringel created at 2020-04-01 18:30:05

Changing status from new to needs_review.


---

Comment by @mwageringel created at 2020-04-01 18:30:05

I have marked the test as py3, since dictionaries do not preserve insertion order in Python 2.
----
New commits:


---

Comment by @mwageringel created at 2020-04-01 19:41:40

Green bot. Please review if you can.


---

Comment by chapoton created at 2020-04-01 19:42:06

looks good, thanks


---

Comment by chapoton created at 2020-04-01 19:42:06

Changing status from needs_review to positive_review.


---

Comment by @mwageringel created at 2020-04-01 19:43:02

Thank you.


---

Comment by vbraun created at 2020-04-09 22:44:28

Resolution: fixed
