# Issue 32981: speed up valuation of a polynomial at another

Issue created by migration from https://trac.sagemath.org/ticket/33218

Original creator: mmezzarobba

Original creation time: 2022-01-22 16:58:51




---

Comment by mmezzarobba created at 2022-01-22 17:02:23

Changing status from new to needs_review.


---

Comment by mmezzarobba created at 2022-01-22 17:02:23

New commits:


---

Comment by lorenz created at 2022-01-25 09:09:54

Looks good! Just two small suggestions.

- This appears to make it a tiny bit faster:

```diff
-        rem = self.parent().zero()
+        cdef Polynomial rem = self.parent().zero()
```


- While we're at it, we could also fix this (to catch `p=0`):

```diff
-        if p.degree() == 0:
-            raise ArithmeticError("The polynomial, p, must have positive degree.")
+        if p.is_constant():
+            raise ArithmeticError("The polynomial, p, must be non-constant.")
```



---

Comment by git created at 2022-01-25 09:29:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mmezzarobba created at 2022-01-25 09:30:14

thanks for your comments! the new version seems to be 1-2% faster on the example in the description


---

Comment by chapoton created at 2022-02-06 07:54:45

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-02-06 07:54:45

ok


---

Comment by mmezzarobba created at 2022-02-06 12:18:09

thank you!


---

Comment by vbraun created at 2022-02-13 10:16:44

Resolution: fixed
