# Issue 11587: octahedron() and dodecahedron() produce "non-enclosed" polyhedra

Issue created by migration from Trac.

Original creator: kini

Original creation time: 2011-08-30 14:28:09

Assignee: jason, was

CC:  kcrisman mkoeppe vdelecroix jplabbe

Keywords: platonic octahedron icosahedron enclosed edges


```
sage: tetrahedron().edges()
<sage.plot.plot3d.index_face_set.EdgeIter object at 0x6187af0>
sage: cube().edges()
<sage.plot.plot3d.index_face_set.EdgeIter object at 0x618c4b0>
sage: octahedron().edges()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/fs/<ipython console> in <module>()

/opt/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/index_face_set.so in sage.plot.plot3d.index_face_set.IndexFaceSet.edges (sage/plot/plot3d/index_face_set.c:5359)()

/opt/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/index_face_set.so in sage.plot.plot3d.index_face_set.EdgeIter.__init__ (sage/plot/plot3d/index_face_set.c:9605)()

TypeError: Must be closed to use the simple iterator.
sage: dodecahedron().edges()
<sage.plot.plot3d.index_face_set.EdgeIter object at 0x6178370>
sage: icosahedron().edges()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/fs/<ipython console> in <module>()

/opt/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/index_face_set.so in sage.plot.plot3d.index_face_set.IndexFaceSet.edges (sage/plot/plot3d/index_face_set.c:5359)()

/opt/sage/local/lib/python2.6/site-packages/sage/plot/plot3d/index_face_set.so in sage.plot.plot3d.index_face_set.EdgeIter.__init__ (sage/plot/plot3d/index_face_set.c:9605)()

TypeError: Must be closed to use the simple iterator.
```


The octahedron and the icosahedron are of course (closed) polyhedra. The problem is, I guess, that the `dual()` function which creates them is not checking enclosedness and passing it on when generating the dual object.

Marking this ticket as "graphics" since it involves stuff in `$SAGE_ROOT/devel/sage/sage/plot/plot3d/`.


---

Comment by kini created at 2011-08-31 03:21:08

whoops, wrong title


---

Attachment

I uploaded a trivial patch to fix this issue.


---

Comment by dimpase created at 2011-09-06 17:24:47

Changing status from new to needs_review.


---

Comment by kini created at 2011-09-06 17:55:43

Changing status from needs_review to needs_info.


---

Comment by kini created at 2011-09-06 17:55:43

This should ideally be fixed at the source (i.e. when duals are created). Currently we don't allow the creation of dual objects from non-enclosed `IndexFaceSet`s. This may change in the future (?) since the exception thrown when you try to take the dual of a non-enclosed `IndexFaceSet` is a `NotImplementedError` exception. Will this change in the future, or can we just cause the `dual()` function to always set the object it returns to be an enclosed object? Needs info.


---

Comment by chapoton created at 2017-05-12 20:02:04

trivial ticket for a small improvement
----
New commits:


---

Comment by chapoton created at 2017-05-12 20:02:04

Changing status from needs_info to needs_review.


---

Comment by dimpase created at 2017-05-12 20:29:20

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2017-05-12 20:29:20

thanks for digging up my old patch!


---

Comment by vbraun created at 2017-05-14 08:20:13

Resolution: fixed
