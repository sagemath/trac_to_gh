# Issue 25865: Speed up search_doc

Issue created by migration from Trac.

Original creator: jhpalmieri

Original creation time: 2018-08-20 22:34:44

The function `search_doc` in `sage/misc/sagedoc.py` could be sped up: only search the `html` directory of `local/share/doc/sage`, and skip the `_static` subdirectories.



---

Comment by jhpalmieri created at 2018-08-20 22:34:56

Changing priority from major to minor.


---

Comment by jhpalmieri created at 2018-08-20 22:34:56

Changing component from PLEASE CHANGE to misc.


---

Comment by jhpalmieri created at 2018-08-20 22:34:56

Changing type from PLEASE CHANGE to enhancement.


---

Comment by jhpalmieri created at 2018-08-20 22:35:34

New commits:


---

Comment by jhpalmieri created at 2018-08-20 22:35:34

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2018-08-22 22:01:44

Some tests results on one computer (these obviously depend on the speed of the hard drive, among other things):

- with 8.4.beta1 (devel): `%time search_doc('curl')` takes about 65 seconds.
- with this branch: `%time search_doc('curl')` takes about 6 seconds.


---

Comment by embray created at 2018-08-23 09:32:31

Changing status from needs_review to positive_review.


---

Comment by embray created at 2018-08-23 09:32:31

Huge improvement!


---

Comment by vbraun created at 2018-09-03 23:29:52

Resolution: fixed
