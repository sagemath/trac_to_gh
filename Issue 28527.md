# Issue 28527: 2 internet doctest failed in hadamard_matrix.py

archive/issues_028527.json:
```json
{
    "body": "With version 9.0.beta6, Release Date: 2019-11-18, the following\n\n\n```\nsage -t --optional=sage,optional,external src/sage/combinat/matrices/hadamard_matrix.py\n```\n\n\ngives\n\n\n```\nsage -t src/sage/combinat/matrices/hadamard_matrix.py\n**********************************************************************\nFile \"src/sage/combinat/matrices/hadamard_matrix.py\", line 471, in sage.combinat.matrices.hadamard_matrix.hadamard_matrix_www\nFailed example:\n    hadamard_matrix_www(\"had.4.txt\")      # optional - internet\nExpected:\n    [ 1  1  1  1]\n    [ 1 -1  1 -1]\n    [ 1  1 -1 -1]\n    [ 1 -1 -1  1]\nGot:\n    [-1 -1 -1 -1]\n    [-1 -1 -1 -1]\n    [-1 -1 -1 -1]\n    [-1 -1 -1 -1]\n**********************************************************************\nFile \"src/sage/combinat/matrices/hadamard_matrix.py\", line 476, in sage.combinat.matrices.hadamard_matrix.hadamard_matrix_www\nFailed example:\n    hadamard_matrix_www(\"had.16.2.txt\",comments=True)   # optional - internet\nExpected:\n    Automorphism group has order = 49152 = 2^14 * 3\n    [ 1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1]\n    [ 1 -1  1 -1  1 -1  1 -1  1 -1  1 -1  1 -1  1 -1]\n    [ 1  1 -1 -1  1  1 -1 -1  1  1 -1 -1  1  1 -1 -1]\n    [ 1 -1 -1  1  1 -1 -1  1  1 -1 -1  1  1 -1 -1  1]\n    [ 1  1  1  1 -1 -1 -1 -1  1  1  1  1 -1 -1 -1 -1]\n    [ 1 -1  1 -1 -1  1 -1  1  1 -1  1 -1 -1  1 -1  1]\n    [ 1  1 -1 -1 -1 -1  1  1  1  1 -1 -1 -1 -1  1  1]\n    [ 1 -1 -1  1 -1  1  1 -1  1 -1 -1  1 -1  1  1 -1]\n    [ 1  1  1  1  1  1  1  1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [ 1  1  1  1 -1 -1 -1 -1 -1 -1 -1 -1  1  1  1  1]\n    [ 1  1 -1 -1  1 -1  1 -1 -1 -1  1  1 -1  1 -1  1]\n    [ 1  1 -1 -1 -1  1 -1  1 -1 -1  1  1  1 -1  1 -1]\n    [ 1 -1  1 -1  1 -1 -1  1 -1  1 -1  1 -1  1  1 -1]\n    [ 1 -1  1 -1 -1  1  1 -1 -1  1 -1  1  1 -1 -1  1]\n    [ 1 -1 -1  1  1  1 -1 -1 -1  1  1 -1 -1 -1  1  1]\n    [ 1 -1 -1  1 -1 -1  1  1 -1  1  1 -1  1  1 -1 -1]\nGot:\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]\n**********************************************************************\n1 item had failures:\n   2 of   3 in sage.combinat.matrices.hadamard_matrix.hadamard_matrix_www\n    [104 tests, 2 failures, 1.24 s]\n----------------------------------------------------------------------\nsage -t src/sage/combinat/matrices/hadamard_matrix.py  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 1.6 seconds\n    cpu time: 0.6 seconds\n    cumulative wall time: 1.2 seconds\nExternal software detected for doctesting: internet\n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/28764\n\n",
    "created_at": "2019-11-19T09:04:35Z",
    "labels": [
        "component: combinatorics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "2 internet doctest failed in hadamard_matrix.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/28527",
    "user": "https://github.com/seblabbe"
}
```
With version 9.0.beta6, Release Date: 2019-11-18, the following


```
sage -t --optional=sage,optional,external src/sage/combinat/matrices/hadamard_matrix.py
```


gives


```
sage -t src/sage/combinat/matrices/hadamard_matrix.py
**********************************************************************
File "src/sage/combinat/matrices/hadamard_matrix.py", line 471, in sage.combinat.matrices.hadamard_matrix.hadamard_matrix_www
Failed example:
    hadamard_matrix_www("had.4.txt")      # optional - internet
Expected:
    [ 1  1  1  1]
    [ 1 -1  1 -1]
    [ 1  1 -1 -1]
    [ 1 -1 -1  1]
Got:
    [-1 -1 -1 -1]
    [-1 -1 -1 -1]
    [-1 -1 -1 -1]
    [-1 -1 -1 -1]
**********************************************************************
File "src/sage/combinat/matrices/hadamard_matrix.py", line 476, in sage.combinat.matrices.hadamard_matrix.hadamard_matrix_www
Failed example:
    hadamard_matrix_www("had.16.2.txt",comments=True)   # optional - internet
Expected:
    Automorphism group has order = 49152 = 2^14 * 3
    [ 1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1]
    [ 1 -1  1 -1  1 -1  1 -1  1 -1  1 -1  1 -1  1 -1]
    [ 1  1 -1 -1  1  1 -1 -1  1  1 -1 -1  1  1 -1 -1]
    [ 1 -1 -1  1  1 -1 -1  1  1 -1 -1  1  1 -1 -1  1]
    [ 1  1  1  1 -1 -1 -1 -1  1  1  1  1 -1 -1 -1 -1]
    [ 1 -1  1 -1 -1  1 -1  1  1 -1  1 -1 -1  1 -1  1]
    [ 1  1 -1 -1 -1 -1  1  1  1  1 -1 -1 -1 -1  1  1]
    [ 1 -1 -1  1 -1  1  1 -1  1 -1 -1  1 -1  1  1 -1]
    [ 1  1  1  1  1  1  1  1 -1 -1 -1 -1 -1 -1 -1 -1]
    [ 1  1  1  1 -1 -1 -1 -1 -1 -1 -1 -1  1  1  1  1]
    [ 1  1 -1 -1  1 -1  1 -1 -1 -1  1  1 -1  1 -1  1]
    [ 1  1 -1 -1 -1  1 -1  1 -1 -1  1  1  1 -1  1 -1]
    [ 1 -1  1 -1  1 -1 -1  1 -1  1 -1  1 -1  1  1 -1]
    [ 1 -1  1 -1 -1  1  1 -1 -1  1 -1  1  1 -1 -1  1]
    [ 1 -1 -1  1  1  1 -1 -1 -1  1  1 -1 -1 -1  1  1]
    [ 1 -1 -1  1 -1 -1  1  1 -1  1  1 -1  1  1 -1 -1]
Got:
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
    [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1]
**********************************************************************
1 item had failures:
   2 of   3 in sage.combinat.matrices.hadamard_matrix.hadamard_matrix_www
    [104 tests, 2 failures, 1.24 s]
----------------------------------------------------------------------
sage -t src/sage/combinat/matrices/hadamard_matrix.py  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 1.6 seconds
    cpu time: 0.6 seconds
    cumulative wall time: 1.2 seconds
External software detected for doctesting: internet
```


Issue created by migration from https://trac.sagemath.org/ticket/28764





---

archive/issue_comments_402369.json:
```json
{
    "body": "ok, here is a fix\n----\nNew commits:",
    "created_at": "2019-11-19T12:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28527#issuecomment-402369",
    "user": "https://github.com/fchapoton"
}
```

ok, here is a fix
----
New commits:



---

archive/issue_comments_402370.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-11-19T12:33:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28527#issuecomment-402370",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_402371.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-19T16:06:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28527#issuecomment-402371",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_026397.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2019-11-30T13:36:19Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/28527",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/28527#event-26397"
}
```



---

archive/issue_comments_402372.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-30T13:36:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/28527",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/28527#issuecomment-402372",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
