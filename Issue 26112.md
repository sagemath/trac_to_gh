# Issue 26112: Memory leaks with matrix multiplication over GF(2)

Issue created by migration from Trac.

Original creator: @antoine06

Original creation time: 2018-09-26 11:48:24

Keywords: memory leaks

See https://ask.sagemath.org/question/43769/memory-leaks-with-matrix-multiplication-over-gf2/


---

Comment by nbruin created at 2018-09-28 13:02:31

It would seem the memory management on these objects is rather fundamentally broken.
Also with lines like `Y= M+M` or `Y=X+X` I am seeing similar leaking behaviour.


---

Comment by @black-stones created at 2019-05-07 17:21:53

Changing status from new to needs_review.


---

Comment by @black-stones created at 2019-05-07 17:21:53

Tested this on Sage 8.7, macOS Mojave and Ubuntu 19.04, and the problem seems to be fixed.

If someone else could confirm this on another OS (the person on ask used debian buster) then we can probably close this as wontfix.


---

Comment by tscrim created at 2019-05-08 08:37:14

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-05-08 08:37:14

Confirmed on Ubuntu 16.04 that I am not seeing a leak.


---

Comment by nbruin created at 2019-05-13 17:51:39

I'm still seeing suspicious behaviour on sage 8.8.beta3 / python3, on Fedora:

If I set a vmem limit of 10 gigabyte and execute

```
n = 1000
X = zero_vector(GF(2), n)
M = zero_matrix(GF(2), n, n)

for _ in range(10000000):
    Y = M + M
```

sage still crashes for me (whereas a small number of iterations does run without problem).


---

Comment by nbruin created at 2019-05-13 17:51:39

Changing status from positive_review to needs_work.


---

Comment by embray created at 2019-06-14 14:50:27

Tickets still needing working or clarification should be moved to the next release milestone at the soonest (please feel free to revert if you think the ticket is close to being resolved).


---

Comment by embray created at 2019-12-30 14:48:17

Ticket retargeted after milestone closed


---

Comment by @sn-d created at 2020-04-25 16:54:52

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2020-04-25 23:13:08

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-04-25 23:13:08

LGTM.


---

Comment by vbraun created at 2020-05-02 21:58:30

Resolution: fixed
