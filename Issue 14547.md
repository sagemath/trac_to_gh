# Issue 14547: Regression in representation of CombinatorialFreeModules (introduced #13735)

Issue created by migration from Trac.

Original creator: agd

Original creation time: 2013-06-16 16:53:43

Assignee: agd

CC:  vittucek novoselt jdemeyer

The patch applied by ticket #13735 changes the behavior of the repr_lincomb method in misc/misc.py so that it now evaluates the comparison "c < 0" for every coefficient. However, since this method is called by CombinatorialFreeModule, which can create lienar combinations whose coefficients are elements of arbitrary rings, this comparison is not always mathematically meaningful.

For example, in the code I submitted in #14347, I build a CombinatorialFreeModule whose basis is a specified finite group G and whose coefficients are elements of a CycleIndexSeriesRing. In 5.9, this was perfectly functional; in 5.10-rc2, with the new patch, any call to _repr_ on an element of this CombinatorialFreeModule results in a NotImplementedError because of this comparison.


---

Comment by jhpalmieri created at 2013-06-17 19:30:14

Here is an attempt at a patch. It seems to work with the patch at #14347.


---

Comment by jhpalmieri created at 2013-06-17 19:30:14

Changing status from new to needs_review.


---

Comment by agd created at 2013-06-17 20:35:20

Changing status from needs_review to positive_review.


---

Attachment

This seems to do the trick, and the code looks good to me! All doctests pass on my system, including those added in #14347. Thanks for taking the time to look at this.


---

Comment by jdemeyer created at 2013-06-19 12:27:20

Resolution: fixed
