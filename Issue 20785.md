# Issue 20785: version information in sage.__version__

Issue created by migration from Trac.

Original creator: schilly

Original creation time: 2016-07-14 10:32:48

CC:  slelievre

Almost all python libs I know have `libname.__version__`. This allows someone to write scripts for checking/listing the version of all available libs. With this ticket I envision, that `sage-update-version` also modifies the topmost `__init__.py` to add the version info there.


---

Comment by mcbell created at 2018-03-20 11:56:16

Yes this would be very useful since it would also allow you to specify a version of Sage at the start of a script with a simple assert:

```
import sage
from distutils.version import LooseVersion
assert sage.__version__ >= LooseVersion('7.0')
```


Since the version is set at the end of `setup.py`, one of the standard ways that this is done in Python packages is to add:

```
import pkg_resources
__version__ = pkg_resources.require('sage')[0].version
```


to `__init__.py`.


---

Comment by mcbell created at 2018-03-20 21:12:09

Set assignee to mcbell.


---

Comment by mcbell created at 2018-03-20 21:12:09

New commits:


---

Comment by mcbell created at 2018-03-20 21:15:55

Changing priority from minor to major.


---

Comment by mcbell created at 2018-03-20 21:19:03

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2018-03-21 21:25:37

I think that this is slightly better, reusing `sage.version` instead of using `pkg_config`.
----
New commits:


---

Comment by mcbell created at 2018-03-21 22:33:07

Excellent. Yes, that is an even simpler and more understandable solution.


---

Comment by slelievre created at 2018-03-21 22:37:32

Changing keywords from "" to "version".


---

Comment by mcbell created at 2018-03-22 22:26:40

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-03-22 23:17:38

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2018-03-22 23:17:38

Reviewer name missing...


---

Comment by jdemeyer created at 2018-03-23 05:58:53

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2018-05-08 17:27:31

Resolution: fixed
