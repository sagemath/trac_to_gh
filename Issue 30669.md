# Issue 30669: let pari's spkg-configure accept pari 2.13

archive/issues_030669.json:
```json
{
    "body": "CC:  thansen @thierry-freebsd mjo mkoeppe arojas vdelecroix @dkwo\n\nsome formats have changed, so tests fail, see \nhttps://trac.sagemath.org/ticket/30801#comment:6\n\nIssue created by migration from https://trac.sagemath.org/ticket/30906\n\n",
    "created_at": "2020-11-13T11:37:09Z",
    "labels": [
        "build: configure",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "let pari's spkg-configure accept pari 2.13",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/30669",
    "user": "dimpase"
}
```
CC:  thansen @thierry-freebsd mjo mkoeppe arojas vdelecroix @dkwo

some formats have changed, so tests fail, see 
https://trac.sagemath.org/ticket/30801#comment:6

Issue created by migration from https://trac.sagemath.org/ticket/30906





---

archive/issue_comments_438384.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438384",
    "user": "dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_438385.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-11-13T12:48:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438385",
    "user": "dimpase"
}
```

New commits:



---

archive/issue_comments_438386.json:
```json
{
    "body": "ping",
    "created_at": "2020-12-03T09:54:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438386",
    "user": "dimpase"
}
```

ping



---

archive/issue_comments_438387.json:
```json
{
    "body": "on Gentoo this blocks using system pari",
    "created_at": "2020-12-03T09:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438387",
    "user": "dimpase"
}
```

on Gentoo this blocks using system pari



---

archive/issue_comments_438388.json:
```json
{
    "body": "Changing priority from major to critical.",
    "created_at": "2020-12-03T09:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438388",
    "user": "dimpase"
}
```

Changing priority from major to critical.



---

archive/issue_comments_438389.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2020-12-03T17:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438389",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_438390.json:
```json
{
    "body": "The pari upgrade to the same version in #30801 seems to require nontrivial changes to Sage code and tests and also involves an upgrade of cypari2. How come we should just be able to be accepting system pari 2.13?",
    "created_at": "2020-12-03T17:47:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438390",
    "user": "mkoeppe"
}
```

The pari upgrade to the same version in #30801 seems to require nontrivial changes to Sage code and tests and also involves an upgrade of cypari2. How come we should just be able to be accepting system pari 2.13?



---

archive/issue_comments_438391.json:
```json
{
    "body": "made it conditional on pari update to 2.13",
    "created_at": "2020-12-31T00:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438391",
    "user": "dimpase"
}
```

made it conditional on pari update to 2.13



---

archive/issue_comments_438392.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2020-12-31T00:15:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438392",
    "user": "dimpase"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_438393.json:
```json
{
    "body": "On my Void linux machine, what works is\n\n```\n$ echo \"bnf = bnfinit(y^4-y-1); bnfisunit(bnf,-y^3+2*y^2-1)==[0,2,0]~\" | gp -qf\n1\n```\n\nwith only one square parenthesis, not two.",
    "created_at": "2021-02-09T17:42:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438393",
    "user": "@dkwo"
}
```

On my Void linux machine, what works is

```
$ echo "bnf = bnfinit(y^4-y-1); bnfisunit(bnf,-y^3+2*y^2-1)==[0,2,0]~" | gp -qf
1
```

with only one square parenthesis, not two.



---

archive/issue_comments_438394.json:
```json
{
    "body": "the two brackets are m4 syntax",
    "created_at": "2021-02-09T19:02:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438394",
    "user": "mkoeppe"
}
```

the two brackets are m4 syntax



---

archive/issue_comments_438395.json:
```json
{
    "body": "I see, thanks.\nHowever, even if I edit the file as per the commit, the bnfisunit test still fails for me with pari 2.13.0 using ./config, even though from a shell I get as above.\n\nWhat am I missing?",
    "created_at": "2021-02-09T20:07:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438395",
    "user": "@dkwo"
}
```

I see, thanks.
However, even if I edit the file as per the commit, the bnfisunit test still fails for me with pari 2.13.0 using ./config, even though from a shell I get as above.

What am I missing?



---

archive/issue_comments_438396.json:
```json
{
    "body": "Did you run `./bootstrap`?",
    "created_at": "2021-02-09T20:10:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438396",
    "user": "mkoeppe"
}
```

Did you run `./bootstrap`?



---

archive/issue_comments_438397.json:
```json
{
    "body": "That fixes it, thanks.",
    "created_at": "2021-02-09T20:40:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438397",
    "user": "@dkwo"
}
```

That fixes it, thanks.



---

archive/issue_comments_438398.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-02-13T21:43:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438398",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_438399.json:
```json
{
    "body": "Looks like #30801 is taking care of this",
    "created_at": "2021-03-17T20:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438399",
    "user": "mkoeppe"
}
```

Looks like #30801 is taking care of this



---

archive/issue_comments_438400.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2021-03-17T20:17:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438400",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_438401.json:
```json
{
    "body": "yep. looks like the fix here was copied there.",
    "created_at": "2021-03-18T11:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438401",
    "user": "dimpase"
}
```

yep. looks like the fix here was copied there.



---

archive/issue_comments_438402.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-03-18T11:26:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438402",
    "user": "dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_438403.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2021-06-13T06:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/30669",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/30669#issuecomment-438403",
    "user": "mkoeppe"
}
```

Resolution: invalid
