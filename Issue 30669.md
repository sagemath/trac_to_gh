# Issue 30669: let pari's spkg-configure accept pari 2.13

Issue created by migration from https://trac.sagemath.org/ticket/30906

Original creator: dimpase

Original creation time: 2020-11-13 11:37:09

CC:  thansen @thierry-freebsd mjo mkoeppe arojas vdelecroix @dkwo

some formats have changed, so tests fail, see 
https://trac.sagemath.org/ticket/30801#comment:6


---

Comment by dimpase created at 2020-11-13 12:48:02

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-11-13 12:48:02

New commits:


---

Comment by dimpase created at 2020-12-03 09:54:09

ping


---

Comment by dimpase created at 2020-12-03 09:54:45

on Gentoo this blocks using system pari


---

Comment by dimpase created at 2020-12-03 09:56:37

Changing priority from major to critical.


---

Comment by mkoeppe created at 2020-12-03 17:47:58

Changing status from needs_review to needs_info.


---

Comment by mkoeppe created at 2020-12-03 17:47:58

The pari upgrade to the same version in #30801 seems to require nontrivial changes to Sage code and tests and also involves an upgrade of cypari2. How come we should just be able to be accepting system pari 2.13?


---

Comment by dimpase created at 2020-12-31 00:15:39

made it conditional on pari update to 2.13


---

Comment by dimpase created at 2020-12-31 00:15:39

Changing status from needs_info to needs_review.


---

Comment by @dkwo created at 2021-02-09 17:42:32

On my Void linux machine, what works is

```
$ echo "bnf = bnfinit(y^4-y-1); bnfisunit(bnf,-y^3+2*y^2-1)==[0,2,0]~" | gp -qf
1
```

with only one square parenthesis, not two.


---

Comment by mkoeppe created at 2021-02-09 19:02:21

the two brackets are m4 syntax


---

Comment by @dkwo created at 2021-02-09 20:07:21

I see, thanks.
However, even if I edit the file as per the commit, the bnfisunit test still fails for me with pari 2.13.0 using ./config, even though from a shell I get as above.

What am I missing?


---

Comment by mkoeppe created at 2021-02-09 20:10:31

Did you run `./bootstrap`?


---

Comment by @dkwo created at 2021-02-09 20:40:01

That fixes it, thanks.


---

Comment by mkoeppe created at 2021-02-13 21:43:04

Changing status from needs_review to needs_work.


---

Comment by mkoeppe created at 2021-03-17 20:17:17

Looks like #30801 is taking care of this


---

Comment by mkoeppe created at 2021-03-17 20:17:17

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2021-03-18 11:26:08

yep. looks like the fix here was copied there.


---

Comment by dimpase created at 2021-03-18 11:26:08

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2021-06-13 06:40:58

Resolution: invalid
