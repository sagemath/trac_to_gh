# Issue 13310: The documentation of representative_vector_list for Quadratic Forms should mention that it is for positive definite quadratic forms only

Issue created by migration from Trac.

Original creator: mstreng

Original creation time: 2012-09-20 20:17:59

Assignee: justin

Keywords: positive definite documentation quadratic form representative_vector_list

On [sage-nt](https://groups.google.com/forum/?hl=en-GB&fromgroups=#!topic/sage-nt/Hj9G0Pr_kLw), it was noted that it would be helpful if the documentation of `representative_vector_list` for quadratic forms mentions the fact that this function is for positive definite quadratic forms only, and that it returns random `PariErrors` otherwise.


---

Comment by chapoton created at 2017-03-17 19:23:47

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-03-17 19:23:47

done, please review
----
New commits:


---

Comment by git created at 2017-03-31 07:14:51

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-03-31 14:18:40

I don't understand why you changed the default value; it seems to unnecessarily complicate things. Also, do we want to run that check rather than letting PARI give the error (possibly catching and sending an appropriate Sage error)?


---

Comment by git created at 2017-03-31 18:02:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-04-04 18:48:29

I changed back the default value, but did not modify the handling of errors.


---

Comment by tscrim created at 2017-04-04 19:14:30

More towards bikeshedding, but I don't think it should it be a `TypeError`. I feel more like it should be a `NotImplementedError`, since it is more like a feature that is lacking. Or perhaps a `ValueError` since it is based on the values of the matrix.

However, the PARI error that is raised seems fairly descriptive:

```
sage: R = QuadraticForm(ZZ,2,[-4,-3,0])
sage: R.representation_vector_list(10)
...
PariError: domain error in minim0: form is not positive definite
```

Thus, I'm not completely convinced about doing a check on the Sage side, which seems to be done on the PARI side too.

Also, changing the error type might break some code. Although the chances of this are unlikely, so that is a very weak argument.


---

Comment by git created at 2017-04-04 19:30:03

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-04-04 19:30:49

done, put back the `PariError`


---

Comment by chapoton created at 2017-04-06 08:41:15

green bot, please review


---

Comment by tscrim created at 2017-04-06 21:38:53

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-04-06 21:38:53

Thanks.


---

Comment by vbraun created at 2017-04-08 17:12:50

Resolution: fixed
