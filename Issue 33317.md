# Issue 33317: typo in sage.graphs.graph_coloring.first_coloring documentation

archive/issues_033317.json:
```json
{
    "body": "Keywords: typo\n\ndear developers,\n\nthere is a typo in the documentation of sage.graphs.graph_coloring.first_coloring.\nIt says\n\"Given a graph, and optionally a natural number n, returns the first coloring we find with at least n colors\"\nbut it should be \"with at most n colors\" as otherwise it would not make sence / would be trivial (e.g. one could color each vertex with its own color).\n\nhttp://doc.sagemath.org/html/en/reference/graphs/sage/graphs/graph_coloring.html#sage.graphs.graph_coloring.first_coloring\n\nbest regards,\nManfred Scheucher\n\nIssue created by migration from https://trac.sagemath.org/ticket/33554\n\n",
    "created_at": "2022-03-24T09:12:48Z",
    "labels": [
        "documentation",
        "trivial"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "typo in sage.graphs.graph_coloring.first_coloring documentation",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33317",
    "user": "@deadalps"
}
```
Keywords: typo

dear developers,

there is a typo in the documentation of sage.graphs.graph_coloring.first_coloring.
It says
"Given a graph, and optionally a natural number n, returns the first coloring we find with at least n colors"
but it should be "with at most n colors" as otherwise it would not make sence / would be trivial (e.g. one could color each vertex with its own color).

http://doc.sagemath.org/html/en/reference/graphs/sage/graphs/graph_coloring.html#sage.graphs.graph_coloring.first_coloring

best regards,
Manfred Scheucher

Issue created by migration from https://trac.sagemath.org/ticket/33554





---

archive/issue_comments_474358.json:
```json
{
    "body": "The description of the method is correct.\n\nHere `n` is **not** the number of vertices of the graph but a number of colors.\n\nThe method tries first to find a coloring with `n` colors. If no such coloring is found, it tries to find a coloring with `n+1` colors and so on.",
    "created_at": "2022-03-24T17:30:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474358",
    "user": "@dcoudert"
}
```

The description of the method is correct.

Here `n` is **not** the number of vertices of the graph but a number of colors.

The method tries first to find a coloring with `n` colors. If no such coloring is found, it tries to find a coloring with `n+1` colors and so on.



---

archive/issue_comments_474359.json:
```json
{
    "body": "edit: I don't know. something appears to be fishy, either with the documentation or the implementation. If you run\n\n```\ngraph_coloring.first_coloring(graphs.PathGraph(3),3)\n```\n\ni.e., coloring the path on 3 vertices with \"at least\" n=3 colors, one obtains\n\n```\n[[0, 2], [1]]\n```\n\nbut this only involves 2 colors. so this does not make sense.",
    "created_at": "2022-03-24T18:10:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474359",
    "user": "@deadalps"
}
```

edit: I don't know. something appears to be fishy, either with the documentation or the implementation. If you run

```
graph_coloring.first_coloring(graphs.PathGraph(3),3)
```

i.e., coloring the path on 3 vertices with "at least" n=3 colors, one obtains

```
[[0, 2], [1]]
```

but this only involves 2 colors. so this does not make sense.



---

archive/issue_comments_474360.json:
```json
{
    "body": "This is effectively an incorrect result due to methods `all_graph_colorings`. Not sure how to fix that...",
    "created_at": "2022-03-24T19:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474360",
    "user": "@dcoudert"
}
```

This is effectively an incorrect result due to methods `all_graph_colorings`. Not sure how to fix that...



---

archive/issue_comments_474361.json:
```json
{
    "body": "to be honest, I don't really understand the purpose of the first_coloring method since colorings with an arbitrarily large number of colors do not make ANY sense from a mathematical point of few and can be constructed trivially. actually, I thought that it is a typo and would give any coloring with at most n colors, or in other words, I assumed that first_coloring coincides with next(all_graph_colorings), and switched to the all_graph_colorings method when then performed as I expected it to do. the all_graph_colorings method certainly makes sense and appears to work fine to me. \n\nso maybe one should try to figure out what first_coloring should do and if it really does not make any sense remove the method first_coloring? I guess no one uses this method anyhow :)",
    "created_at": "2022-03-24T20:40:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474361",
    "user": "@deadalps"
}
```

to be honest, I don't really understand the purpose of the first_coloring method since colorings with an arbitrarily large number of colors do not make ANY sense from a mathematical point of few and can be constructed trivially. actually, I thought that it is a typo and would give any coloring with at most n colors, or in other words, I assumed that first_coloring coincides with next(all_graph_colorings), and switched to the all_graph_colorings method when then performed as I expected it to do. the all_graph_colorings method certainly makes sense and appears to work fine to me. 

so maybe one should try to figure out what first_coloring should do and if it really does not make any sense remove the method first_coloring? I guess no one uses this method anyhow :)



---

archive/issue_comments_474362.json:
```json
{
    "body": "This method has been introduced in #1311 and is used only in `sage.graphs.graph.coloring` to get an optimal coloring. \nParameter `n` is used as a lower bound on the number of colors. \n\nWe can:\n- clarify the documentation to make it clear that it is a lower bound\n- fix method `all_graph_colorings` to ensure that it returns (or count) only colorings with at least `n` colors.\n\nDo you agree ?",
    "created_at": "2022-03-25T11:12:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474362",
    "user": "@dcoudert"
}
```

This method has been introduced in #1311 and is used only in `sage.graphs.graph.coloring` to get an optimal coloring. 
Parameter `n` is used as a lower bound on the number of colors. 

We can:
- clarify the documentation to make it clear that it is a lower bound
- fix method `all_graph_colorings` to ensure that it returns (or count) only colorings with at least `n` colors.

Do you agree ?



---

archive/issue_comments_474363.json:
```json
{
    "body": "Changing component from documentation to graph theory.",
    "created_at": "2022-03-25T15:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474363",
    "user": "@dcoudert"
}
```

Changing component from documentation to graph theory.



---

archive/issue_comments_474364.json:
```json
{
    "body": "Changing keywords from \"typo\" to \"\".",
    "created_at": "2022-03-25T15:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474364",
    "user": "@dcoudert"
}
```

Changing keywords from "typo" to "".



---

archive/issue_comments_474365.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2022-03-25T15:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474365",
    "user": "@dcoudert"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_474366.json:
```json
{
    "body": "Changing priority from trivial to major.",
    "created_at": "2022-03-25T15:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474366",
    "user": "@dcoudert"
}
```

Changing priority from trivial to major.



---

archive/issue_comments_474367.json:
```json
{
    "body": "This is the changes I propose. Do you agree ?\n\nWe could also add (in another ticket) a method returning a greedy coloring.\n----\nNew commits:",
    "created_at": "2022-03-25T15:40:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474367",
    "user": "@dcoudert"
}
```

This is the changes I propose. Do you agree ?

We could also add (in another ticket) a method returning a greedy coloring.
----
New commits:



---

archive/issue_comments_474368.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-03-25T15:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474368",
    "user": "@dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_474369.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-06-16T00:56:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474369",
    "user": "@tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_474370.json:
```json
{
    "body": "I think this is good as the changes make sense to me.",
    "created_at": "2022-06-16T00:56:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474370",
    "user": "@tscrim"
}
```

I think this is good as the changes make sense to me.



---

archive/issue_comments_474371.json:
```json
{
    "body": "Thank you.",
    "created_at": "2022-06-16T06:03:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474371",
    "user": "@dcoudert"
}
```

Thank you.



---

archive/issue_comments_474372.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-06-19T15:24:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33317",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33317#issuecomment-474372",
    "user": "@vbraun"
}
```

Resolution: fixed
