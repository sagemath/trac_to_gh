# Issue 33317: typo in sage.graphs.graph_coloring.first_coloring documentation

Issue created by migration from https://trac.sagemath.org/ticket/33554

Original creator: @deadalps

Original creation time: 2022-03-24 09:12:48

Keywords: typo

dear developers,

there is a typo in the documentation of sage.graphs.graph_coloring.first_coloring.
It says
"Given a graph, and optionally a natural number n, returns the first coloring we find with at least n colors"
but it should be "with at most n colors" as otherwise it would not make sence / would be trivial (e.g. one could color each vertex with its own color).

http://doc.sagemath.org/html/en/reference/graphs/sage/graphs/graph_coloring.html#sage.graphs.graph_coloring.first_coloring

best regards,
Manfred Scheucher


---

Comment by dcoudert created at 2022-03-24 17:30:56

The description of the method is correct.

Here `n` is **not** the number of vertices of the graph but a number of colors.

The method tries first to find a coloring with `n` colors. If no such coloring is found, it tries to find a coloring with `n+1` colors and so on.


---

Comment by @deadalps created at 2022-03-24 18:10:48

edit: I don't know. something appears to be fishy, either with the documentation or the implementation. If you run

```
graph_coloring.first_coloring(graphs.PathGraph(3),3)
```

i.e., coloring the path on 3 vertices with "at least" n=3 colors, one obtains

```
[[0, 2], [1]]
```

but this only involves 2 colors. so this does not make sense.


---

Comment by dcoudert created at 2022-03-24 19:03:07

This is effectively an incorrect result due to methods `all_graph_colorings`. Not sure how to fix that...


---

Comment by @deadalps created at 2022-03-24 20:40:17

to be honest, I don't really understand the purpose of the first_coloring method since colorings with an arbitrarily large number of colors do not make ANY sense from a mathematical point of few and can be constructed trivially. actually, I thought that it is a typo and would give any coloring with at most n colors, or in other words, I assumed that first_coloring coincides with next(all_graph_colorings), and switched to the all_graph_colorings method when then performed as I expected it to do. the all_graph_colorings method certainly makes sense and appears to work fine to me. 

so maybe one should try to figure out what first_coloring should do and if it really does not make any sense remove the method first_coloring? I guess no one uses this method anyhow :)


---

Comment by dcoudert created at 2022-03-25 11:12:16

This method has been introduced in #1311 and is used only in `sage.graphs.graph.coloring` to get an optimal coloring. 
Parameter `n` is used as a lower bound on the number of colors. 

We can:
- clarify the documentation to make it clear that it is a lower bound
- fix method `all_graph_colorings` to ensure that it returns (or count) only colorings with at least `n` colors.

Do you agree ?


---

Comment by dcoudert created at 2022-03-25 15:40:58

Changing component from documentation to graph theory.


---

Comment by dcoudert created at 2022-03-25 15:40:58

Changing keywords from "typo" to "".


---

Comment by dcoudert created at 2022-03-25 15:40:58

Changing type from PLEASE CHANGE to enhancement.


---

Comment by dcoudert created at 2022-03-25 15:40:58

Changing priority from trivial to major.


---

Comment by dcoudert created at 2022-03-25 15:40:58

This is the changes I propose. Do you agree ?

We could also add (in another ticket) a method returning a greedy coloring.
----
New commits:


---

Comment by dcoudert created at 2022-03-25 15:41:07

Changing status from new to needs_review.


---

Comment by tscrim created at 2022-06-16 00:56:29

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2022-06-16 00:56:29

I think this is good as the changes make sense to me.


---

Comment by dcoudert created at 2022-06-16 06:03:45

Thank you.


---

Comment by vbraun created at 2022-06-19 15:24:36

Resolution: fixed
