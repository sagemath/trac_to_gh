# Issue 17607: Multiplication action by -2^63 hangs

Issue created by migration from Trac.

Original creator: jdemeyer

Original creation time: 2015-02-23 16:33:07


```
sage: E = EllipticCurve(GF(5),[0,1])
sage: P = E.random_element()
sage: (-2^63)*P   # hangs
```



---

Comment by jdemeyer created at 2015-02-23 17:05:55

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-02-23 17:05:55

New commits:


---

Comment by vdelecroix created at 2015-02-23 17:24:59

Cleaner and faster option in `fast_mul_long` that avoid coercions

```
- return parent_c(a)(0)
+ try:
+     return parent_c(a).zero()
+ except AttributeError:
+     return parent_c(a)(0)
```


Related note: It would be much better if this code for multiplication was closer to `generic_power_c` in `sage.structure.element`. And by the way, it would be cool to have a `generic_power_long_c`.

Vincent


---

Comment by vdelecroix created at 2015-02-28 12:23:19

Changing status from needs_review to needs_work.


---

Comment by vdelecroix created at 2015-02-28 12:23:19

The change is not only *important* but *needed*! And it would be cool to have a comment saying why, i.e. `-LONG_MIN = LONG_MIN` for longs.

Vincent


---

Comment by git created at 2015-03-01 16:02:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by jdemeyer created at 2015-03-01 16:03:34

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2015-03-01 16:58:54

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2015-03-01 16:58:54

The improvement for the 0 case is not an improvement for elliptic curves since the group does not implement the method `zero`... but this is a different story.

Good to me!


---

Comment by vbraun created at 2015-03-03 00:25:10

Resolution: fixed
