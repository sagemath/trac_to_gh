# Issue 21722: Optional automatic injection of undefined variables into the global namespaces

Issue created by migration from https://trac.sagemath.org/ticket/21959

Original creator: Kosta

Original creation time: 2016-11-24 13:40:39

CC:  ​kcrisman ​robertwb tscrim

The Sage Notebook interface allows automatic creation of undefined variables, which can be useful e.g. for quick calculus work.

It is listed as one of the blockers for moving completely to Jupyter in [the wiki](https://wiki.sagemath.org/IpythonNotebook)


---

Comment by git created at 2016-11-24 14:47:26

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2016-11-24 14:48:10

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Kosta created at 2016-11-24 14:49:58

Changing status from new to needs_review.


---

Comment by Kosta created at 2016-11-24 14:49:58

New commits:


---

Comment by Kosta created at 2016-11-24 14:52:18

Right now this is implemented by patching ipython. A more permanent way would possibly be to add a post exception hook to ipython and then to use that hook, but for that ipython would need to accept such a modification first.


---

Comment by Kosta created at 2016-11-26 07:33:20

Changing keywords from "" to "days79,calculus".


---

Comment by git created at 2016-11-26 07:42:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by Kosta created at 2016-11-26 07:47:27

Turns out it wasn't necessary to modify ipython, since it already had the relevant hook available.


---

Comment by Kosta created at 2017-01-08 10:26:24

ping?


---

Comment by tscrim created at 2017-04-28 13:18:11

Sorry for not getting back to you sooner on this. A few quick comments:

- Indentation is 4 spaces.
- You should have the 1-line description on the line after the `"""`.
- Perhaps make the `Beware...` sentence in a `.. WARNING::` block?
- It would be good to have doctests for every function and method.
- Why are the tests in `__auto_vars` marked as `# not tested`?


---

Comment by jipilab created at 2018-04-12 14:52:34

Changing status from needs_review to needs_work.
