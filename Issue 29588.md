# Issue 29588: Clean-up for src/bin/sage-env

Issue created by migration from https://trac.sagemath.org/ticket/29825

Original creator: mkoeppe

Original creation time: 2020-06-08 05:38:52

CC:  mjo fbissey arojas vbraun




---

Comment by mkoeppe created at 2020-06-08 06:35:36

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-06-08 06:35:36

New commits:


---

Comment by jhpalmieri created at 2020-06-16 20:49:16

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2020-06-16 20:49:16

Looks okay to me.


---

Comment by mkoeppe created at 2020-06-16 23:09:19

Thanks!


---

Comment by vbraun created at 2020-06-27 09:25:42

Resolution: fixed


---

Comment by vbraun created at 2020-07-04 15:51:26

Changing status from closed to new.


---

Comment by vbraun created at 2020-07-04 15:51:26

Resolution changed from fixed to 


---

Comment by vbraun created at 2020-07-04 15:51:26

This breaks `sage -sdist` which is part of the release process:

```
rm -f /openblas.pc
(echo "Name: openblas"; echo "Description: OpenBLAS"; echo "Version: 0.3"; echo "Libs: -lopenblas ") > "/openblas.pc"
/bin/sh: /openblas.pc: Permission denied
make[1]: *** [Makefile:59: /openblas.pc] Error 1
make[1]: Leaving directory '/home/release/Sage/build/make'
make: *** [Makefile:1766: download-for-sdist] Error 2
```



---

Comment by git created at 2020-07-16 00:37:37

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-07-16 00:48:01

Changing status from new to needs_review.


---

Comment by fbissey created at 2020-07-27 00:57:03

LGTM. This is all fairly minor spring cleaning. Apart from the `dist` stuff which was annoying.


---

Comment by fbissey created at 2020-07-27 00:57:03

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-07-27 00:58:46

Thanks.


---

Comment by vbraun created at 2020-07-30 20:45:43

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2020-07-30 20:45:43


```
[sagelib-9.2.beta6] copying bin/sage-cachegrind -> build/scripts-3.7
[sagelib-9.2.beta6] copying bin/sage-callgrind -> build/scripts-3.7
[sagelib-9.2.beta6] copying bin/sage-massif -> build/scripts-3.7
[sagelib-9.2.beta6] copying bin/sage-omega -> build/scripts-3.7
[sagelib-9.2.beta6] copying bin/sage-valgrind -> build/scripts-3.7
[sagelib-9.2.beta6] copying bin/sage-version.sh -> build/scripts-3.7
[sagelib-9.2.beta6] copying and adjusting bin/sage-cleaner -> build/scripts-3.7
[sagelib-9.2.beta6] copying and adjusting bin/sage-list-packages -> build/scripts-3.7
[sagelib-9.2.beta6] error: file '/home/release/Sage/src/bin/sage-clone-source' does not exist
[sagelib-9.2.beta6] 
[sagelib-9.2.beta6] real        5m25.685s
[sagelib-9.2.beta6] user        49m14.730s
[sagelib-9.2.beta6] sys 1m10.018s
make[4]: *** [Makefile:2090: sagelib-no-deps] Error 1
make[4]: Leaving directory '/home/release/Sage/build/make'
make[3]: *** [Makefile:2090: /home/release/Sage/local/var/lib/sage/installed/sagelib-9.2.beta6] Error 2
make[3]: Leaving directory '/home/release/Sage/build/make'
make[2]: *** [Makefile:1701: all-start] Error 2
make[2]: Leaving directory '/home/release/Sage/build/make'
```



---

Comment by git created at 2020-07-30 20:53:58

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-07-30 20:54:11

Changing status from needs_work to needs_review.


---

Comment by fbissey created at 2020-07-30 21:07:45

Now, that's something I should have checked. All good now as far as I can see it.


---

Comment by fbissey created at 2020-07-30 21:07:45

Changing status from needs_review to positive_review.


---

Comment by mkoeppe created at 2020-07-30 21:21:58

Thanks!


---

Comment by vbraun created at 2020-08-07 19:07:35

Resolution: fixed
