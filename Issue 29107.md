# Issue 29107: configure.ac: fix bashisms

Issue created by migration from https://trac.sagemath.org/ticket/29344

Original creator: mjo

Original creation time: 2020-03-15 22:27:12

CC:  dimpase mkoeppe embray

Autoconf scripts are supposed to be POSIX sh -- not bash -- even though ours forces itself to be run with bash at the moment (chicken and egg problem). There are a few bashisms that are easy to fix:

 * Two double-equals comparisons in m4/ax_check_root.m4 and build/pkgs/gcc/spkg-configure.m4.
 * The construction of SAGE_SCRIPTS which, it turns out, is just a static list of files anyway and shouldn't be constructed dynamically.



---

Comment by mjo created at 2020-03-15 22:41:39

New commits:


---

Comment by mjo created at 2020-03-15 22:41:39

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-03-15 23:03:27

See also #21559 -- which changes how the scripts are installed...


---

Comment by git created at 2020-03-15 23:11:19

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mjo created at 2020-03-15 23:12:10

Thanks, I dropped the two commits that touch SCRIPTS, since #21559 will take care of that.


---

Comment by mkoeppe created at 2020-03-15 23:14:30

I'll take a look


---

Comment by mkoeppe created at 2020-03-16 00:11:57

I'm running some tests on this (with a number of other tickets) at https://github.com/mkoeppe/sage/actions/runs/56355410, and will finish the review by tomorrow.


---

Comment by mkoeppe created at 2020-03-16 14:52:26

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-03-16 15:10:32

perhaps one can try building with zsh being the default shell.
(I heard zsh is going to replace bash on MacOS)


---

Comment by vbraun created at 2020-03-18 22:40:38

Resolution: fixed
