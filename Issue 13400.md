# Issue 13400: .DS_Store garbage in sympy spkg

Issue created by migration from Trac.

Original creator: pdehaye

Original creation time: 2012-10-15 22:31:41

Assignee: tbd

CC:  certik

Keywords: .DS_Store

Following files are present:
sympy/src/doc/.DS_Store
sympy/src/doc/src/.DS_Store
sympy/src/doc/src/modules/.DS_Store
sympy/src/doc/src/modules/mpmath/.DS_Store

Should this be reported upstream?


---

Comment by pdehaye created at 2012-10-15 22:38:29

Fix at http://boxen.math.washington.edu/home/pdehaye/spkg/sympy-0.7.1.p1.spkg hopefully


---

Comment by pdehaye created at 2012-10-15 22:38:58

Changing status from new to needs_review.


---

Comment by kcrisman created at 2012-10-16 00:45:12

Reporting upstream sounds good.  I'm not sure whether [https://github.com/sympy/sympy/issues](https://github.com/sympy/sympy/issues) or [http://code.google.com/p/sympy/issues/list](http://code.google.com/p/sympy/issues/list) is better.


---

Comment by kcrisman created at 2012-10-16 00:55:37

I think that in this case we should update the spkg scripts a bit more.  There isn't much point in removing this by hand when the `get_orig_sources` script will just do it again.  

Also, I think that nowadays such scripts are called `spkg-create` or something like that... I can't remember, though, and [the developer guide](http://www.sagemath.org/doc/developer/producing_spkgs.html) doesn't have it, of course.  Certainly the `README` is ancient (`hg log` says 2008); that information should be in `SPKG.txt` in any case.


---

Comment by kcrisman created at 2013-01-03 20:10:28

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2013-02-13 02:21:53

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2013-02-13 02:21:53

Well, I looked at a clean source and these files aren't there, so they must have gotten added when a Sage developer on Mac wasn't careful about this.  Maybe the sage-pkg script needs to do a `ls -aR | grep DS_Store` or something.

Anyway, I'm putting this back to 'needs review' because of this.


---

Comment by jdemeyer created at 2013-04-28 22:42:38

Replying to [comment:6 kcrisman]:
> Well, I looked at a clean source and these files aren't there, so they must have gotten added when a Sage developer on Mac wasn't careful about this.
No, the `.DS_Store` files are upstream in `http://sympy.googlecode.com/files/sympy-0.7.1.tar.gz`

This should be either reported upstream or closed as "wontfix" (I won't do neither of these).


---

Comment by kcrisman created at 2013-04-29 15:04:38

Thanks, Jeroen - I used the wrong command before.  In Sympy 0.7.2, we have

```

$ ls -aR . | grep -C 4 DS_Store

./data:
.
..
.DS_Store
IPython
Macports
TeXmacs

--

./doc:
.
..
.DS_Store
Makefile
README.rst
api
apidoc.conf
--

./doc/src:
.
..
.DS_Store
_static
aboutus.rst
conf.py
figures
```

so different garbage, but still there.  

Reported upstream at [Sympy issue 3787](http://code.google.com/p/sympy/issues/detail?id=3787).

I now agree that we either need a script in spkg-install to avoid this or to wait on upstream.  Is there any problem if we also upgrade at this ticket, should that work?


---

Comment by kcrisman created at 2013-04-29 15:04:38

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2013-04-30 20:24:14

Changing priority from major to minor.


---

Comment by kcrisman created at 2013-04-30 20:24:14

They say that [Sympy issue 3445](http://code.google.com/p/sympy/issues/detail?id=3445), where they automate the release process, would take care of this.  We'll see.

Since my original comment 
> I think that in this case we should update the spkg scripts a bit more. There isn't much point in removing this by hand when the get_orig_sources script will just do it again.
now stands again, I am putting this back to "needs work".  And it is clearly not particularly major.


---

Comment by kcrisman created at 2014-04-06 16:48:42

"Migrated to http://github.com/sympy/sympy/issues/6886"


---

Comment by jdemeyer created at 2014-04-12 12:13:06

Changing status from needs_work to positive_review.


---

Comment by jdemeyer created at 2014-04-12 12:13:06

I think this can be closed since we longer use spkg's.


---

Comment by kcrisman created at 2014-04-12 14:15:09

Changing status from positive_review to needs_info.


---

Comment by kcrisman created at 2014-04-12 14:15:09

Except we do still take upstream, and if it has garbage, it should be removed.  I don't think it's there any more, but it's worth checking.  Does [https://github.com/sympy/sympy/pull/2256](https://github.com/sympy/sympy/pull/2256) indeed take care of it?


---

Comment by jdemeyer created at 2014-04-12 16:44:30

Changing status from needs_info to positive_review.


---

Comment by jdemeyer created at 2014-04-12 16:44:30

Replying to [comment:15 kcrisman]:
> Except we do still take upstream, and if it has garbage, it should be removed
...by upstream, so this is not a Sage bug.


---

Comment by kcrisman created at 2014-04-13 01:40:15

> > Except we do still take upstream, and if it has garbage, it should be removed
> ...by upstream, so this is not a Sage bug.
Well, fine, but we **do** fix upstream bugs until they're fixed upstream.  Anyway, as long as it's been handled there I have no interest in it, just trying to make sure that is confirmed (as we do for other upstream tickets).


---

Comment by jdemeyer created at 2014-04-13 08:05:33

Replying to [comment:17 kcrisman]:
> > > Except we do still take upstream, and if it has garbage, it should be removed
> > ...by upstream, so this is not a Sage bug.
> Well, fine, but we **do** fix upstream bugs until they're fixed upstream.
True, but is this even a bug? A few extra files which do nothing wrong, take almost no space and don't do anything wrong.


---

Comment by vbraun created at 2014-04-13 19:37:15

Resolution: fixed


---

Comment by vbraun created at 2014-04-13 19:37:15

Its still wrong to have unrelated crap in your tarball. But its gone in sympy-0.7.4 which we currently use.
