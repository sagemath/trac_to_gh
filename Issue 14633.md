# Issue 14633: Implement graph join operation

Issue created by migration from Trac.

Original creator: azuge

Original creation time: 2013-06-28 13:06:44

Assignee: jason, ncohen, rlm

Keywords: graph join

As noted in http://trac.sagemath.org/sage_trac/wiki/GraphTheoryRoadmap, the graph join operation is missing in Sage.


---

Comment by azuge created at 2013-06-28 13:31:35

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-06-30 11:30:50

Hellooooooooooooooooooooooooooo Alexandre !!!

Would it be possible to use the `disjoint_union` method instead of copying most of its code ? Looks like what you have to do is just build the disjoint union then add the missing edges, don't you ?

Nathann


---

Comment by ncohen created at 2013-06-30 11:30:50

Changing status from needs_review to needs_info.


---

Comment by azuge created at 2013-07-02 14:34:37

Hello!!

You are correct that I used the same code for relabeling (for conciseness), since I do not see how to know which vertices come from which graph without actually recalculating the labels. Unfortunately I ended up duplicating code...
Now that I am thinking about it, I believe a good solution is to create a helper function to calculate the labels and use this function both in disjoint_union and in join.

What do you think?
(And what should I do? Is there a way to replace the attached patch or should I post a new attachment?)

Alexandre


---

Comment by ncohen created at 2013-07-02 14:54:59

HMmmmmmmm... And what about changing the behaviour of disjoint_union so that depending on the input it either 1) Relabels all vertices to consecutive integers; or 2) Relabels them as `(0,u)` and `(1,u)` depending on the value of verbose_relabel but *never* leaves the names as they are ?

Leaving the names as they are is exactly the behaviour of `Graph.union`, so it does not make sense to make this a special case of `disjoint_union`. This way, one can know from the method's arguments the actual names of the future vertices, which is good to have. As it is, there is no way to guess as it depends on the graph itself, so it's pretty hard to write a script using this method.
And besides, this behaviour can already be obtained through `Graph.union`.

Then you could use this `Graph.disjoint_union` from `Graph.join` without duplicating the code. And `disjoint_union` would be more reliable too.

What do you think ?

If you think that it would be nice but don't have time to do it yourself, just tell me and I will.

Oh, and you can perfectly overwrite this patch with another one. Or you can use mercurial queue and upload several patches that are to be applied on top of each other, as you prefer.

Have fuuuuuuuuuun !

Nathann


---

Attachment


---

Comment by azuge created at 2013-07-09 15:37:52

Hello!!

I have done the modifications you suggested and posted a new patch.
For me, this new behavior of disjoint_union is very reasonable and seems much easier to understand.

Alexandre


---

Comment by azuge created at 2013-07-09 15:37:52

Changing status from needs_info to needs_review.


---

Attachment


---

Comment by ncohen created at 2013-07-10 10:14:15

Helloooooooo Alexandre !

Thank you very much for implementing that. I just wrote a small reviewer's patch with superficial fixes. There are some weird rules like "don't add spaces at the end of a line" that we try to respect, and I also added links from one methods to the others.

If you agree with those changes, you can set the ticket to `positive_review` !

Nathann


---

Comment by azuge created at 2013-07-11 17:47:48

Hello!!

I agree with the changes and liked very much the SEEALSO part -- I see there is a lot for me to learn.

However, there is something strange on the documentation now. The explanation for the "verbose_label" parameter is broken into two paragraphs when I generate it locally. Is that expected? Could it be a problem on my end?

Just clarifying a bit, on the join documentation the text reads "... each vertex v in<new paragraph>the first graph will..." and on the disjoint_union "... If True, each<new paragraph>vertex v...".

Alexandre


---

Comment by ncohen created at 2013-07-12 08:00:14

Argggggggggg !! You are totally right. There were too many spaces before the lines of each paragraph compared  to the first `^^;`

This should be better. Nice job noticing that !!!

Nathann


---

Attachment


---

Comment by azuge created at 2013-07-15 17:42:21

Changing status from needs_review to positive_review.


---

Comment by azuge created at 2013-07-15 17:42:21

Hello!!

Just tried rebuilding the docs and it looks like we are done!

Thanks for all the help.

Alexandre


---

Comment by ncohen created at 2013-07-15 17:55:54

Cool `;-)`

Nathann


---

Comment by jdemeyer created at 2013-08-16 21:13:09

Resolution: fixed
