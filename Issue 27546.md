# Issue 27546: 6 doctests failed in src/sage/databases/oeis.py with tag internet

Issue created by migration from https://trac.sagemath.org/ticket/27783

Original creator: slabbe

Original creation time: 2019-05-06 12:45:01

With version 8.8.beta4, Release Date: 2019-05-04,


```
sage -t --long --optional=sage,internet src/sage/databases/oeis.py 
```


gives


```
Using --optional=internet,memlimit,sage
Doctesting 1 file.
sage -t --long src/sage/databases/oeis.py
**********************************************************************
File "src/sage/databases/oeis.py", line 290, in sage.databases.oeis.OEIS
Failed example:
    search = oeis([1,2,3,5,8,13]) ; search    # optional -- internet
Expected:
    0: A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
    1: A027926: Triangular array T read by rows: T(n,0) = T(n,2n) = 1 for n >= 0; T(n,1) = 1 for n >= 1; T(n,k) = T(n-1,k-2) + T(n-1,k-1) for k = 2..2n-1, n >= 2.
    2: ...
Got:
    0: A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
    1: A290689: Number of transitive rooted trees with n nodes.
    2: A027926: Triangular array T read by rows: T(n,0) = T(n,2n) = 1 for n >= 0; T(n,1) = 1 for n >= 1; T(n,k) = T(n-1,k-2) + T(n-1,k-1) for k = 2..2n-1, n >= 2.
**********************************************************************
File "src/sage/databases/oeis.py", line 334, in sage.databases.oeis.OEIS
Failed example:
    oeis('prime gap factorization', max_results=4)                # optional -- internet
Expected:
    0: A073491: Numbers having no prime gaps in their factorization.
    1: A073490: Number of prime gaps in factorization of n.
    2: A073485: Product of any number of consecutive primes; squarefree numbers with no gaps in their prime factorization.
    3: A073492: Numbers having at least one prime gap in their factorization.
Got:
    0: A073491: Numbers having no prime gaps in their factorization.
    1: A073485: Product of any number of consecutive primes; squarefree numbers with no gaps in their prime factorization.
    2: A073490: Number of prime gaps in factorization of n.
    3: A073492: Numbers having at least one prime gap in their factorization.
**********************************************************************
File "src/sage/databases/oeis.py", line 345, in sage.databases.oeis.OEIS
Failed example:
    oeis([1,2,3,5,8,13])                  # optional -- internet
Expected:
    0: A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
    1: A027926: Triangular array T read by rows: T(n,0) = T(n,2n) = 1 for n >= 0; T(n,1) = 1 for n >= 1; T(n,k) = T(n-1,k-2) + T(n-1,k-1) for k = 2..2n-1, n >= 2.
    2: ...
Got:
    0: A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
    1: A290689: Number of transitive rooted trees with n nodes.
    2: A027926: Triangular array T read by rows: T(n,0) = T(n,2n) = 1 for n >= 0; T(n,1) = 1 for n >= 1; T(n,k) = T(n-1,k-2) + T(n-1,k-1) for k = 2..2n-1, n >= 2.
**********************************************************************
File "src/sage/databases/oeis.py", line 356, in sage.databases.oeis.OEIS
Failed example:
    oeis([1,2,3,5,8,13])                  # optional -- internet
Expected:
    0: A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
    1: A027926: Triangular array T read by rows: T(n,0) = T(n,2n) = 1 for n >= 0; T(n,1) = 1 for n >= 1; T(n,k) = T(n-1,k-2) + T(n-1,k-1) for k = 2..2n-1, n >= 2.
    2: ...
Got:
    0: A000045: Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1.
    1: A290689: Number of transitive rooted trees with n nodes.
    2: A027926: Triangular array T read by rows: T(n,0) = T(n,2n) = 1 for n >= 0; T(n,1) = 1 for n >= 1; T(n,k) = T(n-1,k-2) + T(n-1,k-1) for k = 2..2n-1, n >= 2.
**********************************************************************
File "src/sage/databases/oeis.py", line 450, in sage.databases.oeis.OEIS.find_by_description
Failed example:
    oeis.find_by_description('prime gap factorization')       # optional -- internet
Expected:
    0: A073491: Numbers having no prime gaps in their factorization.
    1: A073490: Number of prime gaps in factorization of n.
    2: A073485: Product of any number of consecutive primes; squarefree numbers with no gaps in their prime factorization.
Got:
    0: A073491: Numbers having no prime gaps in their factorization.
    1: A073485: Product of any number of consecutive primes; squarefree numbers with no gaps in their prime factorization.
    2: A073490: Number of prime gaps in factorization of n.
**********************************************************************
File "src/sage/databases/oeis.py", line 455, in sage.databases.oeis.OEIS.find_by_description
Failed example:
    prime_gaps = _[1] ; prime_gaps        # optional -- internet
Expected:
    A073490: Number of prime gaps in factorization of n.
Got:
    A073485: Product of any number of consecutive primes; squarefree numbers with no gaps in their prime factorization.
**********************************************************************
2 items had failures:
   4 of  21 in sage.databases.oeis.OEIS
   2 of   5 in sage.databases.oeis.OEIS.find_by_description
    [265 tests, 6 failures, 62.75 s]
----------------------------------------------------------------------
sage -t --long src/sage/databases/oeis.py  # 6 doctests failed
----------------------------------------------------------------------
```



---

Comment by vklein created at 2019-05-09 09:58:40

Changing keywords from "" to "thursdaysbdx".


---

Comment by vklein created at 2019-05-09 09:58:40

Changing status from new to needs_review.


---

Comment by vklein created at 2019-05-09 09:58:40

As the order of the list returned by oeis cannot be predicted, sort the results of the failing doctests.
----
New commits:


---

Comment by tscrim created at 2019-05-14 01:09:30

LGTM.


---

Comment by tscrim created at 2019-05-14 01:09:30

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-05-17 11:45:39

Resolution: fixed
