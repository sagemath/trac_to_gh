# Issue 30520: fedora-33-standard flint/arb breakage

Issue created by migration from https://trac.sagemath.org/ticket/30757

Original creator: mkoeppe

Original creation time: 2020-10-11 22:05:39

CC:  dimpase jhpalmieri mjo fredrik.johansson vdelecroix fbissey arojas

`fedora-33-standard`, https://github.com/sagemath/sage/runs/1235092189

configure finds system `flint` but not system `arb` (headers are installed in `/usr/include/arb/`). Then compiling arb spkg results in: 

```
  [arb-2.16.0.p0]   /sage/local/var/tmp/sage/build/arb-2.16.0.p0/src/fmpr.h:25:10: fatal error: flint/config.h: No such file or directory
  [arb-2.16.0.p0]      25 | #include "flint/config.h"
  [arb-2.16.0.p0]         |          ^~~~~~~~~~~~~~~~
  [arb-2.16.0.p0]   compilation terminated.
```



---

Comment by mkoeppe created at 2020-10-13 18:26:37

Changing priority from major to critical.


---

Comment by mkoeppe created at 2020-10-14 21:28:18

Changing priority from critical to blocker.


---

Comment by mkoeppe created at 2020-10-14 23:39:40

Should the install location of the arb headers in Fedora be considered a packaging bug?


---

Comment by mjo created at 2020-10-14 23:52:47

Replying to [comment:6 mkoeppe]:
> Should the install location of the arb headers in Fedora be considered a packaging bug?

Yes, any packager who relocates the public headers for their package has 100% broken its public API.


---

Comment by mkoeppe created at 2020-10-16 05:17:26

To keep the scope limited this late in the 9.2 cycle, I have only cherry-picked a fix for arb from the #29719/#28623 branch

----
New commits:


---

Comment by mkoeppe created at 2020-10-16 05:23:25

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-10-16 05:34:28

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2020-10-18 08:38:33

Resolution: fixed
