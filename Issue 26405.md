# Issue 26405: Errors when copying files ignored

Issue created by migration from https://trac.sagemath.org/ticket/26642

Original creator: jdemeyer

Original creation time: 2018-11-05 13:21:51

CC:  embray

This piece in `sage-spkg` is wrong:

```
    # Copy files into $SAGE_LOCAL
    $SAGE_SUDO cp -Rp "$PREFIX/." "$SAGE_LOCAL"
    rm -rf "$SAGE_DESTDIR"
    if [ $? -ne 0 ]; then
        error_msg "Error copying files for $PKG_NAME."
        exit 1
    fi
```

This is checking for errors from `rm -rf` instead of from the copy operation.


---

Comment by jdemeyer created at 2018-11-05 13:46:23

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2018-11-05 13:46:23

New commits:


---

Comment by chapoton created at 2018-11-05 20:38:38

ok, looks good


---

Comment by chapoton created at 2018-11-05 20:38:38

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-11-07 11:28:18

Resolution: fixed
