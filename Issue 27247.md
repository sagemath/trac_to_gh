# Issue 27247: Add sdh_cmake helper

Issue created by migration from https://trac.sagemath.org/ticket/27484

Original creator: embray

Original creation time: 2019-03-14 16:07:23

A few packages which are currently optional are configured using cmake.

We should add a `sdh_cmake` helper function to `sage-dist-helpers` analogous to `sdh_configure` for running `cmake` with the correct flags for building in Sage.

In particular we need to set `CMAKE_INSTALL_PREFIX=$SAGE_LOCAL`, and we also need to specify `CMAKE_INSTALL_LIBDIR=lib`, since otherwise CMake will default to installing libraries to `$(prefix)/lib64` on some platforms.


---

Comment by embray created at 2019-03-14 16:11:44

New commits:


---

Comment by embray created at 2019-03-14 16:11:44

Changing status from new to needs_review.


---

Comment by dimpase created at 2019-03-14 16:51:58

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2019-03-14 16:51:58

LGTM, tested with primecount.


---

Comment by vbraun created at 2019-03-15 08:09:32

Resolution: fixed
