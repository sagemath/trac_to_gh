# Issue 13975: Increase harcoded timeouts default values

Issue created by migration from Trac.

Original creator: jpflori

Original creation time: 2013-02-25 14:13:41

Assignee: tbd

CC:  jdemeyer kcrisman dimpase

Keywords: cygwin timeout

Two hardcoded timeouts default valued make some tests fail on Cygwin (presumably because Cygwin is slow, and forking is horribly slow):
* sage/tests/cmdline.py, the timeout value (current default 50.0 secs) of test_executable;
* sagenb/misc/misc.py, the alarm value (current default 1 sec) when launcing the notebook (which makes lauching the notebook tricky.
See http://trac.sagemath.org/sage_trac/ticket/6743#comment:144 and http://trac.sagemath.org/sage_trac/ticket/6743#comment:146

Just slightly (from a human point of view) increasing these values let the tests pass on recent and even not so recent and powerful harware running Cygwin, so let's increase these default values unconditionnally rather than adding Cygwin specific code, or warnings about expected to fail tests or whatever; let's say:
* 100.0 secs in test_executable,
* 5 secs when launching the notebook.


---

Comment by jpflori created at 2013-02-25 14:16:31

Here comes a patch for the Sage library part.
Not sure of the procedure for modifying the notebook, I'll post a link to here on sage-notebook group.


---

Comment by jpflori created at 2013-02-25 14:17:47

(Note the patch name says 14719, but fortunately the commit message states the correct ticket number, so I won't upload another patch, unless modifications are needed of course.)


---

Comment by kini created at 2013-02-27 01:01:53

For sagenb: https://github.com/sagemath/sagenb/pull/137


---

Comment by jpflori created at 2013-02-27 09:48:46

Replying to [comment:3 kini]:
> For sagenb: https://github.com/sagemath/sagenb/pull/137
Great, thanx!
We now just have to make this ticket depend on the future sagenb upgrade.


---

Comment by kcrisman created at 2013-04-02 01:41:54

Patchbot, apply trac_14719-sage_library.patch


---

Comment by jpflori created at 2013-04-02 14:40:22

The notebook fix is in version 0.10.5 and upgrading to this version is #14330.


---

Comment by jpflori created at 2013-04-02 14:40:22

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2013-04-02 14:55:36

This doesn't actually depend on #14330.


---

Comment by jdemeyer created at 2013-04-02 14:55:36

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-02 16:09:06

And it needs to be rebased to #12415.


---

Comment by jdemeyer created at 2013-04-02 16:09:06

Changing status from positive_review to needs_work.


---

Comment by jpflori created at 2013-04-02 16:17:42

Changing status from needs_work to needs_review.


---

Attachment


---

Comment by jpflori created at 2013-04-02 16:19:09

In fact I'm not sure what needed to be rebased.
The patch I just uploaded was produced on top of 5.9.beta2 but looks exactly like the previous one.
So I'll think a little more.


---

Comment by jpflori created at 2013-04-02 16:19:09

Changing status from needs_review to needs_info.


---

Comment by jpflori created at 2013-04-02 16:23:00

Changing status from needs_info to needs_review.


---

Comment by jpflori created at 2013-04-02 16:23:00

Oh, is that the 'r' before '"""'...


---

Comment by jdemeyer created at 2013-04-02 16:26:13

Changing status from needs_review to positive_review.


---

Comment by jdemeyer created at 2013-04-04 17:40:26

Resolution: fixed
