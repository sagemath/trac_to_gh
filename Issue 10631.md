# Issue 10631: plot of rational function crashes sage

Issue created by migration from https://trac.sagemath.org/ticket/10684

Original creator: AlexGhitza

Original creation time: 2011-01-25 00:13:27

Assignee: jason, was

CC:  jason

Keywords: plot rational function crash

In sage-4.6.1, the following plot command results in a crash:


```
sage: plot(lambda x: 1/(x^2-0.5^2), (-10, 10), ymin=-5, ymax=5)
/opt/sage/local/bin/sage-sage: line 300:  5596 Illegal instruction      (core dumped) sage-ipython "$@" -i
```


Note that the following modified version works fine:


```
sage: plot(lambda x: 1/(x^2-1^2), (-10, 10), ymin=-5, ymax=5)
```




---

Comment by aapitzsch created at 2011-01-25 16:17:07

I cannot confirm this crash. Tested with 4.6.2.alpha0.


---

Comment by robert_goss created at 2011-02-08 19:16:11

I cannot confirm this crash either. Testing with 4.6.1 release


---

Comment by jason created at 2011-02-09 22:28:03

I also didn't get a crash for the first plot (OSX 10.6.6, sage-4.6.1).  Alex, can you provide more details about your setup?


---

Comment by AlexGhitza created at 2011-02-09 22:57:55

Hmmm.  This ticket should definitely be closed as invalid.

I don't actually know what happened.  The machine I got this on runs Arch Linux and is rather slow for building sage from scratch, so I have been using the binaries packaged with Arch.  Since I ran into the problem there have been a couple of updates for these binaries so maybe something was slightly off and is now ok.  Or maybe something else was messed up in my setup and now is back to normal.  In any case, I cannot reproduce this anymore.

If someone is really keen on doing detective work on this, I could probably downgrade my sage binaries and try to catch this again.


---

Comment by jason created at 2011-02-09 23:21:24

What do you say we mark it as invalid, with the understanding that you open it again if you see it again.  My first inclination is that the binary was built on a processor using processor-specific functionality that your processor did not have.  That seems to usually be the cause of the error messages you saw.


---

Comment by jason created at 2011-02-09 23:24:58

I meant, what do you think about marking this ticket as invalid now and opening another one if you see the problem again.


---

Comment by AlexGhitza created at 2011-02-10 00:54:40

Resolution: invalid


---

Comment by AlexGhitza created at 2011-02-10 00:54:40

Sounds good.
