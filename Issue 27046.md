# Issue 27046: documentation for ModularSymbols says that only weight 2 is supported, but any weight at least 2 is supported

Issue created by migration from https://trac.sagemath.org/ticket/27283

Original creator: was

Original creation time: 2019-02-14 20:15:16

CC:  slelievre tscrim

My Ph.d. student was convinced that Sage's modular symbols only supports weight 2.  Why?  That's nuts.  But he showed me our docstring for ModularSymbols? and indeed it says the weight must be 2.   That's an unfortunate typo indeed!

I traced this back with git blame, and the problem was introduced by Mike Hansen when he was reformatting our docstrings to Sphinx and he changed  >= that I had written into an =.  It happens in at least two places in this commit:

https://github.com/sagemath/sage/commit/3917b3330171f71ba7f4257ba109ebabf4e97f3a#diff-ebe1d291e9fe46ac218031c382dcaadcL117

I bet it was an automated conversion script he wrote, and there might be incidences all over the sage codebase potentially of >='s converted to ='s.  There's at least two above.


---

Comment by slelievre created at 2019-02-15 08:50:05

Indeed, many `<` and `>` were lost in the commit you mention!

Maybe some fluke related to dealing with html tags?

As a consequence:
- this changed some `<=` into `<`, and some `>=` into `>`
- things like `if the weight is > 2` becoming `if the weight is 2`.

Some of that may have been restored over time, but certainly not all.


---

Comment by chapoton created at 2019-02-23 18:00:09

New commits:


---

Comment by git created at 2019-02-23 18:03:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-02-23 19:46:25

green bot, please review


---

Comment by chapoton created at 2019-02-23 19:46:25

Changing status from new to needs_review.


---

Comment by tscrim created at 2019-02-23 22:34:53

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2019-02-23 22:34:53

LGTM.


---

Comment by slelievre created at 2019-02-24 09:29:30

Shouldn't this be `>= 0` not `=> 0`:

```diff
diff --git a/src/sage/combinat/sloane_functions.py b/src/sage/combinat/sloane_functions.py
index fbc0561..632fc35 100644
--- a/src/sage/combinat/sloane_functions.py
+++ b/src/sage/combinat/sloane_functions.py
@@ -9546,19 +9533,14 @@ class A000587(ExponentialNumbers):
             C_n = \sum{k=0}^{n} (-1)^k S(n, k) .
 
 
-
         INPUT:
 
-
-        -  ``n`` - integer = 0
-
+        -  ``n`` - integer => 0
 
         OUTPUT:
 
-
         -  ``integer`` - `C_n`
 
-
         EXAMPLES::
 
             sage: a = sloane.A000587; a
```


Not sure about replacing `=` by `>` here, it must have come from `>=`.

```diff
diff --git a/src/sage/modular/modform/half_integral.py b/src/sage/modular/modform/half_integral.py
index efd8e04..43e5389 100644
--- a/src/sage/modular/modform/half_integral.py
+++ b/src/sage/modular/modform/half_integral.py
@@ -25,14 +25,11 @@ def half_integral_weight_modform_basis(chi, k, prec):
 
     INPUT:
 
+    - ``chi`` -- a Dirichlet character with modulus divisible by 16
 
-    -  ``chi`` - a Dirichlet character with modulus
-       divisible by 16
-
-    -  ``k`` - an odd integer = 1
-
-    -  ``prec`` - a positive integer
+    - ``k`` -- an odd integer > 1
 
+    - ``prec`` -- a positive integer
 
     OUTPUT: a list of power series
```


Shouldn't `prime = 5` be `prime >= 5` in all of these:

```diff
diff --git a/src/sage/schemes/elliptic_curves/padics.py b/src/sage/schemes/elliptic_curves/padics.py
index 528acfb..82e1f5f 100644
--- a/src/sage/schemes/elliptic_curves/padics.py
+++ b/src/sage/schemes/elliptic_curves/padics.py
@@ -590,7 +590,7 @@ def padic_height(self, p, prec=20, sigma=None, check_hypotheses=True):
     -  ``p`` - prime = 5 for which the curve has
        semi-stable reduction
 
-    -  ``prec`` - integer = 1, desired precision of result
+    -  ``prec`` - integer >= 1 (default 20), desired precision of result
 
     -  ``sigma`` - precomputed value of sigma. If not
        supplied, this function will call padic_sigma to compute it.
@@ -799,7 +799,7 @@ def padic_height_via_multiply(self, p, prec=20, E2=None, check_hypotheses=True):
     -  ``p`` - prime = 5 for which the curve has good
        ordinary reduction
 
-    -  ``prec`` - integer = 2, desired precision of result
+    -  ``prec`` - integer >= 2 (default 20), desired precision of result
 
     -  ``E2`` - precomputed value of E2. If not supplied,
        this function will call padic_E2 to compute it. The value supplied
@@ -951,7 +951,7 @@ def padic_sigma(self, p, N=20, E2=None, check=False, check_hypotheses=True):
     -  ``p`` - prime = 5 for which the curve has good
        ordinary reduction
 
-    -  ``N`` - integer = 1, indicates precision of result;
+    -  ``N`` - integer >= 1 (default 20), indicates precision of result;
        see OUTPUT section for description
 
     -  ``E2`` - precomputed value of E2. If not supplied,
@@ -1161,14 +1161,14 @@ def padic_sigma(self, p, N=20, E2=None, check=False, check_hypotheses=True):
 
 def padic_sigma_truncated(self, p, N=20, lamb=0, E2=None, check_hypotheses=True):
     r"""
-    Computes the p-adic sigma function with respect to the standard
+    Compute the p-adic sigma function with respect to the standard
     invariant differential `dx/(2y + a_1 x + a_3)`, as
     defined by Mazur and Tate, as a power series in the usual
     uniformiser `t` at the origin.
 
     The equation of the curve must be minimal at `p`.
 
-    This function differs from padic_sigma() in the precision profile
+    This function differs from :func:`padic_sigma` in the precision profile
     of the returned power series; see OUTPUT below.
 
     INPUT:
@@ -1177,10 +1177,10 @@ def padic_sigma_truncated(self, p, N=20, lamb=0, E2=None, check_hypotheses=True)
     -  ``p`` - prime = 5 for which the curve has good
        ordinary reduction
 
-    -  ``N`` - integer = 2, indicates precision of result;
+    -  ``N`` - integer >= 2 (default 20), indicates precision of result;
        see OUTPUT section for description
 
-    -  ``lamb`` - integer = 0, see OUTPUT section for
+    -  ``lamb`` - integer >= 0, see OUTPUT section for
        description
 
     -  ``E2`` - precomputed value of E2. If not supplied,
```


and here:

```diff
diff --git a/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py b/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py
index 35d2617..df8a0dc 100644
--- a/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py
+++ b/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py
@@ -1388,8 +1388,7 @@ def matrix_of_frobenius(Q, p, M, trace=None, compute_exact_forms=False):
 
     - ``p`` -- prime = 5 for which E has good reduction
 
-    - ``M`` -- integer = 2; `p` -adic precision of
-       the coefficient ring
+    - ``M`` -- integer >= 2; `p` -adic precision of the coefficient ring
 
     - ``trace`` -- (optional) the trace of the matrix, if
        known in advance. This is easy to compute because it is just the
generated by cgit v1.0-1-gd88e at 2019-02-23 18:03:51 +0000
```



---

Comment by slelievre created at 2019-02-24 09:29:30

Changing status from positive_review to needs_work.


---

Comment by git created at 2019-02-24 16:42:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-02-24 16:43:08

All done. The change in src/sage/modular/modform/half_integral.py is in fact correct, and corresponds to the code.


---

Comment by chapoton created at 2019-02-24 16:43:08

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2019-03-11 19:31:52

green bot since 2 weeks, please review


---

Comment by klui created at 2019-03-11 20:04:27

I'm the aforementioned grad student and it looks good to me.


---

Comment by klui created at 2019-03-11 20:04:27

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-03-13 18:29:13

Resolution: fixed
