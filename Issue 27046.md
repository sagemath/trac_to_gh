# Issue 27046: documentation for ModularSymbols says that only weight 2 is supported, but any weight at least 2 is supported

archive/issues_027046.json:
```json
{
    "body": "CC:  slelievre tscrim\n\nMy Ph.d. student was convinced that Sage's modular symbols only supports weight 2.  Why?  That's nuts.  But he showed me our docstring for ModularSymbols? and indeed it says the weight must be 2.   That's an unfortunate typo indeed!\n\nI traced this back with git blame, and the problem was introduced by Mike Hansen when he was reformatting our docstrings to Sphinx and he changed  >= that I had written into an =.  It happens in at least two places in this commit:\n\nhttps://github.com/sagemath/sage/commit/3917b3330171f71ba7f4257ba109ebabf4e97f3a#diff-ebe1d291e9fe46ac218031c382dcaadcL117\n\nI bet it was an automated conversion script he wrote, and there might be incidences all over the sage codebase potentially of >='s converted to ='s.  There's at least two above.\n\nIssue created by migration from https://trac.sagemath.org/ticket/27283\n\n",
    "created_at": "2019-02-14T20:15:16Z",
    "labels": [
        "modular forms",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "documentation for ModularSymbols says that only weight 2 is supported, but any weight at least 2 is supported",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/27046",
    "user": "was"
}
```
CC:  slelievre tscrim

My Ph.d. student was convinced that Sage's modular symbols only supports weight 2.  Why?  That's nuts.  But he showed me our docstring for ModularSymbols? and indeed it says the weight must be 2.   That's an unfortunate typo indeed!

I traced this back with git blame, and the problem was introduced by Mike Hansen when he was reformatting our docstrings to Sphinx and he changed  >= that I had written into an =.  It happens in at least two places in this commit:

https://github.com/sagemath/sage/commit/3917b3330171f71ba7f4257ba109ebabf4e97f3a#diff-ebe1d291e9fe46ac218031c382dcaadcL117

I bet it was an automated conversion script he wrote, and there might be incidences all over the sage codebase potentially of >='s converted to ='s.  There's at least two above.

Issue created by migration from https://trac.sagemath.org/ticket/27283





---

archive/issue_comments_381013.json:
```json
{
    "body": "Indeed, many `<` and `>` were lost in the commit you mention!\n\nMaybe some fluke related to dealing with html tags?\n\nAs a consequence:\n- this changed some `<=` into `<`, and some `>=` into `>`\n- things like `if the weight is > 2` becoming `if the weight is 2`.\n\nSome of that may have been restored over time, but certainly not all.",
    "created_at": "2019-02-15T08:50:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381013",
    "user": "slelievre"
}
```

Indeed, many `<` and `>` were lost in the commit you mention!

Maybe some fluke related to dealing with html tags?

As a consequence:
- this changed some `<=` into `<`, and some `>=` into `>`
- things like `if the weight is > 2` becoming `if the weight is 2`.

Some of that may have been restored over time, but certainly not all.



---

archive/issue_comments_381014.json:
```json
{
    "body": "New commits:",
    "created_at": "2019-02-23T18:00:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381014",
    "user": "chapoton"
}
```

New commits:



---

archive/issue_comments_381015.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-23T18:03:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381015",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_381016.json:
```json
{
    "body": "green bot, please review",
    "created_at": "2019-02-23T19:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381016",
    "user": "chapoton"
}
```

green bot, please review



---

archive/issue_comments_381017.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-23T19:46:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381017",
    "user": "chapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_381018.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-23T22:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381018",
    "user": "tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_381019.json:
```json
{
    "body": "LGTM.",
    "created_at": "2019-02-23T22:34:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381019",
    "user": "tscrim"
}
```

LGTM.



---

archive/issue_comments_381020.json:
```json
{
    "body": "Shouldn't this be `>= 0` not `=> 0`:\n\n```diff\ndiff --git a/src/sage/combinat/sloane_functions.py b/src/sage/combinat/sloane_functions.py\nindex fbc0561..632fc35 100644\n--- a/src/sage/combinat/sloane_functions.py\n+++ b/src/sage/combinat/sloane_functions.py\n@@ -9546,19 +9533,14 @@ class A000587(ExponentialNumbers):\n             C_n = \\sum{k=0}^{n} (-1)^k S(n, k) .\n \n \n-\n         INPUT:\n \n-\n-        -  ``n`` - integer = 0\n-\n+        -  ``n`` - integer => 0\n \n         OUTPUT:\n \n-\n         -  ``integer`` - `C_n`\n \n-\n         EXAMPLES::\n \n             sage: a = sloane.A000587; a\n```\n\n\nNot sure about replacing `=` by `>` here, it must have come from `>=`.\n\n```diff\ndiff --git a/src/sage/modular/modform/half_integral.py b/src/sage/modular/modform/half_integral.py\nindex efd8e04..43e5389 100644\n--- a/src/sage/modular/modform/half_integral.py\n+++ b/src/sage/modular/modform/half_integral.py\n@@ -25,14 +25,11 @@ def half_integral_weight_modform_basis(chi, k, prec):\n \n     INPUT:\n \n+    - ``chi`` -- a Dirichlet character with modulus divisible by 16\n \n-    -  ``chi`` - a Dirichlet character with modulus\n-       divisible by 16\n-\n-    -  ``k`` - an odd integer = 1\n-\n-    -  ``prec`` - a positive integer\n+    - ``k`` -- an odd integer > 1\n \n+    - ``prec`` -- a positive integer\n \n     OUTPUT: a list of power series\n```\n\n\nShouldn't `prime = 5` be `prime >= 5` in all of these:\n\n```diff\ndiff --git a/src/sage/schemes/elliptic_curves/padics.py b/src/sage/schemes/elliptic_curves/padics.py\nindex 528acfb..82e1f5f 100644\n--- a/src/sage/schemes/elliptic_curves/padics.py\n+++ b/src/sage/schemes/elliptic_curves/padics.py\n@@ -590,7 +590,7 @@ def padic_height(self, p, prec=20, sigma=None, check_hypotheses=True):\n     -  ``p`` - prime = 5 for which the curve has\n        semi-stable reduction\n \n-    -  ``prec`` - integer = 1, desired precision of result\n+    -  ``prec`` - integer >= 1 (default 20), desired precision of result\n \n     -  ``sigma`` - precomputed value of sigma. If not\n        supplied, this function will call padic_sigma to compute it.\n@@ -799,7 +799,7 @@ def padic_height_via_multiply(self, p, prec=20, E2=None, check_hypotheses=True):\n     -  ``p`` - prime = 5 for which the curve has good\n        ordinary reduction\n \n-    -  ``prec`` - integer = 2, desired precision of result\n+    -  ``prec`` - integer >= 2 (default 20), desired precision of result\n \n     -  ``E2`` - precomputed value of E2. If not supplied,\n        this function will call padic_E2 to compute it. The value supplied\n@@ -951,7 +951,7 @@ def padic_sigma(self, p, N=20, E2=None, check=False, check_hypotheses=True):\n     -  ``p`` - prime = 5 for which the curve has good\n        ordinary reduction\n \n-    -  ``N`` - integer = 1, indicates precision of result;\n+    -  ``N`` - integer >= 1 (default 20), indicates precision of result;\n        see OUTPUT section for description\n \n     -  ``E2`` - precomputed value of E2. If not supplied,\n@@ -1161,14 +1161,14 @@ def padic_sigma(self, p, N=20, E2=None, check=False, check_hypotheses=True):\n \n def padic_sigma_truncated(self, p, N=20, lamb=0, E2=None, check_hypotheses=True):\n     r\"\"\"\n-    Computes the p-adic sigma function with respect to the standard\n+    Compute the p-adic sigma function with respect to the standard\n     invariant differential `dx/(2y + a_1 x + a_3)`, as\n     defined by Mazur and Tate, as a power series in the usual\n     uniformiser `t` at the origin.\n \n     The equation of the curve must be minimal at `p`.\n \n-    This function differs from padic_sigma() in the precision profile\n+    This function differs from :func:`padic_sigma` in the precision profile\n     of the returned power series; see OUTPUT below.\n \n     INPUT:\n@@ -1177,10 +1177,10 @@ def padic_sigma_truncated(self, p, N=20, lamb=0, E2=None, check_hypotheses=True)\n     -  ``p`` - prime = 5 for which the curve has good\n        ordinary reduction\n \n-    -  ``N`` - integer = 2, indicates precision of result;\n+    -  ``N`` - integer >= 2 (default 20), indicates precision of result;\n        see OUTPUT section for description\n \n-    -  ``lamb`` - integer = 0, see OUTPUT section for\n+    -  ``lamb`` - integer >= 0, see OUTPUT section for\n        description\n \n     -  ``E2`` - precomputed value of E2. If not supplied,\n```\n\n\nand here:\n\n```diff\ndiff --git a/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py b/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py\nindex 35d2617..df8a0dc 100644\n--- a/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py\n+++ b/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py\n@@ -1388,8 +1388,7 @@ def matrix_of_frobenius(Q, p, M, trace=None, compute_exact_forms=False):\n \n     - ``p`` -- prime = 5 for which E has good reduction\n \n-    - ``M`` -- integer = 2; `p` -adic precision of\n-       the coefficient ring\n+    - ``M`` -- integer >= 2; `p` -adic precision of the coefficient ring\n \n     - ``trace`` -- (optional) the trace of the matrix, if\n        known in advance. This is easy to compute because it is just the\ngenerated by cgit v1.0-1-gd88e at 2019-02-23 18:03:51 +0000\n```\n",
    "created_at": "2019-02-24T09:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381020",
    "user": "slelievre"
}
```

Shouldn't this be `>= 0` not `=> 0`:

```diff
diff --git a/src/sage/combinat/sloane_functions.py b/src/sage/combinat/sloane_functions.py
index fbc0561..632fc35 100644
--- a/src/sage/combinat/sloane_functions.py
+++ b/src/sage/combinat/sloane_functions.py
@@ -9546,19 +9533,14 @@ class A000587(ExponentialNumbers):
             C_n = \sum{k=0}^{n} (-1)^k S(n, k) .
 
 
-
         INPUT:
 
-
-        -  ``n`` - integer = 0
-
+        -  ``n`` - integer => 0
 
         OUTPUT:
 
-
         -  ``integer`` - `C_n`
 
-
         EXAMPLES::
 
             sage: a = sloane.A000587; a
```


Not sure about replacing `=` by `>` here, it must have come from `>=`.

```diff
diff --git a/src/sage/modular/modform/half_integral.py b/src/sage/modular/modform/half_integral.py
index efd8e04..43e5389 100644
--- a/src/sage/modular/modform/half_integral.py
+++ b/src/sage/modular/modform/half_integral.py
@@ -25,14 +25,11 @@ def half_integral_weight_modform_basis(chi, k, prec):
 
     INPUT:
 
+    - ``chi`` -- a Dirichlet character with modulus divisible by 16
 
-    -  ``chi`` - a Dirichlet character with modulus
-       divisible by 16
-
-    -  ``k`` - an odd integer = 1
-
-    -  ``prec`` - a positive integer
+    - ``k`` -- an odd integer > 1
 
+    - ``prec`` -- a positive integer
 
     OUTPUT: a list of power series
```


Shouldn't `prime = 5` be `prime >= 5` in all of these:

```diff
diff --git a/src/sage/schemes/elliptic_curves/padics.py b/src/sage/schemes/elliptic_curves/padics.py
index 528acfb..82e1f5f 100644
--- a/src/sage/schemes/elliptic_curves/padics.py
+++ b/src/sage/schemes/elliptic_curves/padics.py
@@ -590,7 +590,7 @@ def padic_height(self, p, prec=20, sigma=None, check_hypotheses=True):
     -  ``p`` - prime = 5 for which the curve has
        semi-stable reduction
 
-    -  ``prec`` - integer = 1, desired precision of result
+    -  ``prec`` - integer >= 1 (default 20), desired precision of result
 
     -  ``sigma`` - precomputed value of sigma. If not
        supplied, this function will call padic_sigma to compute it.
@@ -799,7 +799,7 @@ def padic_height_via_multiply(self, p, prec=20, E2=None, check_hypotheses=True):
     -  ``p`` - prime = 5 for which the curve has good
        ordinary reduction
 
-    -  ``prec`` - integer = 2, desired precision of result
+    -  ``prec`` - integer >= 2 (default 20), desired precision of result
 
     -  ``E2`` - precomputed value of E2. If not supplied,
        this function will call padic_E2 to compute it. The value supplied
@@ -951,7 +951,7 @@ def padic_sigma(self, p, N=20, E2=None, check=False, check_hypotheses=True):
     -  ``p`` - prime = 5 for which the curve has good
        ordinary reduction
 
-    -  ``N`` - integer = 1, indicates precision of result;
+    -  ``N`` - integer >= 1 (default 20), indicates precision of result;
        see OUTPUT section for description
 
     -  ``E2`` - precomputed value of E2. If not supplied,
@@ -1161,14 +1161,14 @@ def padic_sigma(self, p, N=20, E2=None, check=False, check_hypotheses=True):
 
 def padic_sigma_truncated(self, p, N=20, lamb=0, E2=None, check_hypotheses=True):
     r"""
-    Computes the p-adic sigma function with respect to the standard
+    Compute the p-adic sigma function with respect to the standard
     invariant differential `dx/(2y + a_1 x + a_3)`, as
     defined by Mazur and Tate, as a power series in the usual
     uniformiser `t` at the origin.
 
     The equation of the curve must be minimal at `p`.
 
-    This function differs from padic_sigma() in the precision profile
+    This function differs from :func:`padic_sigma` in the precision profile
     of the returned power series; see OUTPUT below.
 
     INPUT:
@@ -1177,10 +1177,10 @@ def padic_sigma_truncated(self, p, N=20, lamb=0, E2=None, check_hypotheses=True)
     -  ``p`` - prime = 5 for which the curve has good
        ordinary reduction
 
-    -  ``N`` - integer = 2, indicates precision of result;
+    -  ``N`` - integer >= 2 (default 20), indicates precision of result;
        see OUTPUT section for description
 
-    -  ``lamb`` - integer = 0, see OUTPUT section for
+    -  ``lamb`` - integer >= 0, see OUTPUT section for
        description
 
     -  ``E2`` - precomputed value of E2. If not supplied,
```


and here:

```diff
diff --git a/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py b/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py
index 35d2617..df8a0dc 100644
--- a/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py
+++ b/src/sage/schemes/hyperelliptic_curves/monsky_washnitzer.py
@@ -1388,8 +1388,7 @@ def matrix_of_frobenius(Q, p, M, trace=None, compute_exact_forms=False):
 
     - ``p`` -- prime = 5 for which E has good reduction
 
-    - ``M`` -- integer = 2; `p` -adic precision of
-       the coefficient ring
+    - ``M`` -- integer >= 2; `p` -adic precision of the coefficient ring
 
     - ``trace`` -- (optional) the trace of the matrix, if
        known in advance. This is easy to compute because it is just the
generated by cgit v1.0-1-gd88e at 2019-02-23 18:03:51 +0000
```




---

archive/issue_comments_381021.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-02-24T09:29:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381021",
    "user": "slelievre"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_381022.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-02-24T16:42:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381022",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_381023.json:
```json
{
    "body": "All done. The change in src/sage/modular/modform/half_integral.py is in fact correct, and corresponds to the code.",
    "created_at": "2019-02-24T16:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381023",
    "user": "chapoton"
}
```

All done. The change in src/sage/modular/modform/half_integral.py is in fact correct, and corresponds to the code.



---

archive/issue_comments_381024.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-02-24T16:43:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381024",
    "user": "chapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_381025.json:
```json
{
    "body": "green bot since 2 weeks, please review",
    "created_at": "2019-03-11T19:31:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381025",
    "user": "chapoton"
}
```

green bot since 2 weeks, please review



---

archive/issue_comments_381026.json:
```json
{
    "body": "I'm the aforementioned grad student and it looks good to me.",
    "created_at": "2019-03-11T20:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381026",
    "user": "klui"
}
```

I'm the aforementioned grad student and it looks good to me.



---

archive/issue_comments_381027.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-03-11T20:04:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381027",
    "user": "klui"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_381028.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-03-13T18:29:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/27046",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/27046#issuecomment-381028",
    "user": "vbraun"
}
```

Resolution: fixed
