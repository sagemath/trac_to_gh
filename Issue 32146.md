# Issue 32146: maxima interfaces: Translate == and != to equal and notequal, not = and #

Issue created by migration from https://trac.sagemath.org/ticket/32383

Original creator: mkoeppe

Original creation time: 2021-08-15 16:01:12

CC:  charpent @spaghettisalat kcrisman mjo

(from #31911)


---

Comment by mkoeppe created at 2021-08-15 21:14:34

We still need `=`, `#` in some places, though. Maxima's `solve` does not understand `equal`:

```
(%i1) solve(x^2 = 1);
(%o1)                          [x = - 1, x = 1]
(%i2) solve(equal(x^2, 1));
                                      2
(%o2)                         [equal(x , 1) = 0]
```

----
New commits:


---

Comment by git created at 2021-08-15 21:26:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-08-15 21:50:21

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-08-15 23:23:17

We will have to make the equations passed to Maxima's `solve` (and `desolve`) a special case.  There is only a small number of such call sites in the Sage library.

The introduction of `and_symbolic` in #31911 will anyway make changes to the `Expression.solve` method necessary so that it can accept conjunctions expressed using `and_symbolic` in addition to those expressed as lists of clauses.


---

Comment by git created at 2021-08-16 00:27:49

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-08-16 00:28:57

setting it to `needs_review` so that the patchbot runs.

to do: converting `equal(...)`, `notequal(...)` back to `==` and `!=`.


---

Comment by mkoeppe created at 2021-08-16 00:28:57

Changing status from new to needs_review.


---

Comment by git created at 2021-08-16 00:56:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2021-08-16 01:26:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-08-16 01:34:04

Roundtripping with `max_to_sr` works

```
from sage.interfaces.maxima_lib import max_to_sr 
sage: max_to_sr(maxima_calculus(x == 0).ecl())                                                                            
x == 0
```

but normal conversion via the expression parser does not:

```
sage: maxima_calculus(x == 0)._sage_()                                                                                    
equal(x, 0)
```



---

Comment by git created at 2021-08-16 05:08:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-08-16 05:09:57

This gets the conversion to work (both with `maxima` and `maxima_calculus`), but it can't possibly be the right solution


---

Comment by git created at 2021-08-16 05:34:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2021-09-11 04:57:59

Changing status from needs_review to needs_work.


---

Comment by git created at 2022-02-03 18:41:41

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by mkoeppe created at 2022-02-03 18:41:55

Rebased
