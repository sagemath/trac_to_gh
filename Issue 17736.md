# Issue 17736: Better Sage consistency for naming and calling in linear_code

Issue created by migration from https://trac.sagemath.org/ticket/17973

Original creator: dlucas

Original creation time: 2015-03-17 14:04:54

CC:  jsrn defeo ncohen

Some method and parameter names in linear_code.py file are abbreviated names which might be confusing (for instance the `distance` parameter actually stands for the minimum distance).
Most importantly, the `gen_mat` method will be renamed `generator_matrix` and the `check_mat` method `parity_check_matrix`. 

Besides, some getter methods to access the private fields of linear codes exist but are not used internally in the class.
To support subclassing, it is better to use these instead of directly invoking a parameter.
  


---

Comment by dlucas created at 2015-03-17 15:40:42

New commits:


---

Comment by dlucas created at 2015-03-17 15:40:42

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-03-17 15:56:13

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2015-03-17 15:56:13

Hello !

I would say that this is good to go, except for one detail: could you deprecate the methods using `deprecated_function_alias` instead of doing it manually? There are some advantages, like a warning in the doc of the deprecated function. Besides, they do not appear in the lists of undocumented functions.

http://www.sagemath.org/doc/developer/coding_in_python.html#deprecation

Nathann


---

Comment by git created at 2015-03-17 16:21:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dlucas created at 2015-03-17 16:22:41

It's done! I also replaced "check matrix" by "parity check matrix" in `parity_check_matrix` docstring for consistency with its new name.


---

Comment by dlucas created at 2015-03-17 16:22:53

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2015-03-17 16:32:07

Changing status from needs_review to needs_work.


---

Comment by ncohen created at 2015-03-17 16:32:07

There are two broken doctests in binary_code.pyx:


```
(tmp|âœ”)~/sage/coding$ sage -tp 4 -l binary_code.pyx
too many failed tests, not using stored timings
Running doctests with ID 2015-03-17-17-31-39-70361bd3.
Git branch: tmp
Doctesting 1 file using 4 threads.
sage -t --long binary_code.pyx
**********************************************************************
File "binary_code.pyx", line 1100, in sage.coding.binary_code.BinaryCode.apply_permutation
Failed example:
    B = BinaryCode(codes.ExtendedBinaryGolayCode().gen_mat())
Expected nothing
Got:
    doctest:1: DeprecationWarning: gen_mat is deprecated. Please use generator_matrix instead.
    See http://trac.sagemath.org/17973 for details.
**********************************************************************
File "binary_code.pyx", line 3858, in sage.coding.binary_code.BinaryCodeClassifier.put_in_canonical_form
Failed example:
    B = BinaryCode(codes.ExtendedBinaryGolayCode().gen_mat())
Expected nothing
Got:
    doctest:1: DeprecationWarning: gen_mat is deprecated. Please use generator_matrix instead.
    See http://trac.sagemath.org/17973 for details.
**********************************************************************
2 items had failures:
   1 of   6 in sage.coding.binary_code.BinaryCode.apply_permutation
   1 of   8 in sage.coding.binary_code.BinaryCodeClassifier.put_in_canonical_form
    [351 tests, 2 failures, 6.60 s]
----------------------------------------------------------------------
sage -t --long binary_code.pyx  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 6.7 seconds
    cpu time: 6.3 seconds
    cumulative wall time: 6.6 seconds

```



---

Comment by ncohen created at 2015-03-17 16:36:06

And many others in `src/doc/en/constructions/linear_codes.rst`. In some situations it is safer to run all of Sage's doctests just to make sure. There may be others in places I could not guess.

Nathann


---

Comment by git created at 2015-03-17 18:39:12

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dlucas created at 2015-03-17 18:40:25

Thanks for the advice. I was indeed able to find some more after a `make -ptestlong`.


---

Comment by dlucas created at 2015-03-17 18:40:44

Changing status from needs_work to needs_review.


---

Comment by ncohen created at 2015-03-17 23:01:34

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-03-17 23:01:34

OKayyyyyyyyyyy then it's good to go !

Nathann


---

Comment by vbraun created at 2015-03-19 03:17:18

Resolution: fixed
