# Issue 17765: Submonoids and subsemigroup defined by generators

archive/issues_017765.json:
```json
{
    "body": "CC:  @nthiery @anneschilling days64\n\nKeywords: monoids, days64\n\nImplement subsemigroups generated by elements of an ambient\nsemigroups, lazily constructing all the elements and their Cayley\ngraph relations.\n\nHere is a quick example from the documentation:\n\n```\nsage: R = IntegerModRing(12)\nsage: R.submonoid([R(3), R(5)], one = R.one())\nsage: M.cardinality()\n4\n```\n\nThis builds on and supersedes the old patch\n`automatic_monoid-nt.patch` from the Sage-Combinat mercurial queue.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/18002\n\n",
    "closed_at": "2015-04-14T23:01:34Z",
    "created_at": "2015-03-19T21:31:11Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Submonoids and subsemigroup defined by generators",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17765",
    "user": "https://github.com/avirmaux"
}
```
CC:  @nthiery @anneschilling days64

Keywords: monoids, days64

Implement subsemigroups generated by elements of an ambient
semigroups, lazily constructing all the elements and their Cayley
graph relations.

Here is a quick example from the documentation:

```
sage: R = IntegerModRing(12)
sage: R.submonoid([R(3), R(5)], one = R.one())
sage: M.cardinality()
4
```

This builds on and supersedes the old patch
`automatic_monoid-nt.patch` from the Sage-Combinat mercurial queue.


Issue created by migration from https://trac.sagemath.org/ticket/18002





---

archive/issue_comments_237642.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2015-03-19T21:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237642",
    "user": "https://github.com/avirmaux"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_237643.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-19T21:33:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237643",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237644.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-19T23:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237644",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237645.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-19T23:07:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237645",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237646.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T00:41:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237647.json:
```json
{
    "body": "Hello,\n\nthe code is now freshly imported from the sage-combinat queue. I remade a lot of doctest, add some examples and documented almost every methods.\nAll tests pass.",
    "created_at": "2015-03-20T00:43:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237647",
    "user": "https://github.com/avirmaux"
}
```

Hello,

the code is now freshly imported from the sage-combinat queue. I remade a lot of doctest, add some examples and documented almost every methods.
All tests pass.



---

archive/issue_comments_237648.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T20:08:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237648",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237649.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T20:32:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237650.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-03-20T20:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237650",
    "user": "https://github.com/anneschilling"
}
```

New commits:



---

archive/issue_comments_237651.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-03-20T20:53:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237651",
    "user": "https://github.com/anneschilling"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_237652.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237652",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237653.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:07:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237653",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237654.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:08:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237654",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237655.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:23:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237655",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237656.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:28:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237656",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237657.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T21:52:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237657",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237658.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-20T23:02:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237658",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237659.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T06:45:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237659",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237660.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T18:20:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237660",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237661.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T18:22:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237661",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237662.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T20:21:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237662",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237663.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T23:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237663",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237664.json:
```json
{
    "body": "You should fill the `Authors` field of the ticket (with the full names of each author).",
    "created_at": "2015-03-21T23:26:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237664",
    "user": "https://github.com/videlec"
}
```

You should fill the `Authors` field of the ticket (with the full names of each author).



---

archive/issue_comments_237665.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-21T23:27:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237665",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237666.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-23T07:24:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237666",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237667.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-23T07:45:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237667",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237668.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T00:09:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237668",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237669.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T18:07:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237670.json:
```json
{
    "body": "Hello,\n\nThe commit I just made is stupid: I did not checked I correctly pulled before so it merged pretty well with the last one you made. The second one only corrects some typo in the documentation (mainly I replaced 'monoids' by 'semigroups' to be accurate with the last commits).\n\nThe method one() is provided whether the constructed object is a monoid (which is great) or is a semigroup (which is less great). Would not it be better to define this method in the constructor only if the `AutomaticSemigroup` is in `Monoids` ?\nThere is no real example where the ambient semigroup is actually a semigroup (ie not a Monoid),\nmay we add and play with the following in the doc ?\n\n```\nsage: S = Semigroups().Finite().example()\nsage: A = AutomaticSemigroup(Family({1: S('a'), 2: S('ca'), 3: S('bc')}))\nsage: A in Semigroups() and A not in Monoids()\nTrue\n```\n\nCheers,\nAladin",
    "created_at": "2015-03-24T18:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237670",
    "user": "https://github.com/avirmaux"
}
```

Hello,

The commit I just made is stupid: I did not checked I correctly pulled before so it merged pretty well with the last one you made. The second one only corrects some typo in the documentation (mainly I replaced 'monoids' by 'semigroups' to be accurate with the last commits).

The method one() is provided whether the constructed object is a monoid (which is great) or is a semigroup (which is less great). Would not it be better to define this method in the constructor only if the `AutomaticSemigroup` is in `Monoids` ?
There is no real example where the ambient semigroup is actually a semigroup (ie not a Monoid),
may we add and play with the following in the doc ?

```
sage: S = Semigroups().Finite().example()
sage: A = AutomaticSemigroup(Family({1: S('a'), 2: S('ca'), 3: S('bc')}))
sage: A in Semigroups() and A not in Monoids()
True
```

Cheers,
Aladin



---

archive/issue_comments_237671.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2015-03-24T18:34:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237671",
    "user": "https://github.com/avirmaux"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_237672.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-24T18:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237672",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237673.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-25T03:33:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237673",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237674.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2015-03-25T03:34:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237674",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_237675.json:
```json
{
    "body": "Looks good to me now! There is currently one doctest failure in /categories/semigroup.py which should be fixed once #17160 is merged. Then this can be set to positive review.",
    "created_at": "2015-03-25T03:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237675",
    "user": "https://github.com/anneschilling"
}
```

Looks good to me now! There is currently one doctest failure in /categories/semigroup.py which should be fixed once #17160 is merged. Then this can be set to positive review.



---

archive/issue_comments_237676.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-25T04:09:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237676",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237677.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-03-29T18:20:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237677",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237678.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-02T02:47:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237678",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237679.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2015-04-02T02:58:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237679",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_237680.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-04T22:13:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237680",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237681.json:
```json
{
    "body": "Hi Aladin, Anne,\n\nFollowing a suggestion of Aladin, and Anne's experience with using the ticket in practice, I made a few further changes (better handling of one + submonoid method). I also merged 17160 and rc2. Running the full long tests now, but the tests in the relevant category files + automatic_semigroup.py pass.",
    "created_at": "2015-04-04T22:18:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237681",
    "user": "https://github.com/nthiery"
}
```

Hi Aladin, Anne,

Following a suggestion of Aladin, and Anne's experience with using the ticket in practice, I made a few further changes (better handling of one + submonoid method). I also merged 17160 and rc2. Running the full long tests now, but the tests in the relevant category files + automatic_semigroup.py pass.



---

archive/issue_comments_237682.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-05T03:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237682",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237683.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-05T03:59:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237683",
    "user": "https://github.com/anneschilling"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_237684.json:
```json
{
    "body": "I made some small doc changes. The rest looks good to me. Thanks!",
    "created_at": "2015-04-05T03:59:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237684",
    "user": "https://github.com/anneschilling"
}
```

I made some small doc changes. The rest looks good to me. Thanks!



---

archive/issue_comments_237685.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2015-04-05T04:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237685",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_237686.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-05T04:05:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237686",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_237687.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-05T04:06:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237687",
    "user": "https://github.com/avirmaux"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_237688.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2015-04-05T07:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237688",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_237689.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:",
    "created_at": "2015-04-05T07:38:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237689",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:



---

archive/issue_comments_237690.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2015-04-05T07:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237690",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_237691.json:
```json
{
    "body": "Thanks Anne and Aladin for the checks and fixes. I added a small note about the name of the class. It's trivial enough that I left this as positive review.",
    "created_at": "2015-04-05T07:39:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237691",
    "user": "https://github.com/nthiery"
}
```

Thanks Anne and Aladin for the checks and fixes. I added a small note about the name of the class. It's trivial enough that I left this as positive review.



---

archive/issue_comments_237692.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2015-04-12T10:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237692",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_237693.json:
```json
{
    "body": "```\n**********************************************************************\nFile \"src/doc/en/thematic_tutorials/coercion_and_categories.rst\", line 463, in doc.en.thematic_tutorials.coercion_and_categories\nFailed example:\n    len([s for s in dir(MS2) if inspect.ismethod(getattr(MS2,s,None))])\nExpected:\n    83\nGot:\n    85\n```",
    "created_at": "2015-04-12T10:36:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237693",
    "user": "https://github.com/vbraun"
}
```

```
**********************************************************************
File "src/doc/en/thematic_tutorials/coercion_and_categories.rst", line 463, in doc.en.thematic_tutorials.coercion_and_categories
Failed example:
    len([s for s in dir(MS2) if inspect.ismethod(getattr(MS2,s,None))])
Expected:
    83
Got:
    85
```



---

archive/issue_comments_237694.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-12T11:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237694",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237695.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-04-12T19:13:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237695",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_237696.json:
```json
{
    "body": "Oops, sorry. Just a trivial thing. Fixed!",
    "created_at": "2015-04-12T19:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237696",
    "user": "https://github.com/nthiery"
}
```

Oops, sorry. Just a trivial thing. Fixed!



---

archive/issue_comments_237697.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-04-12T19:14:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237697",
    "user": "https://github.com/nthiery"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_237698.json:
```json
{
    "body": "The example in the description is precisely an example where we want to override the method `.submonoid()` since everything can be computed using `gcd`!",
    "created_at": "2015-04-13T15:16:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237698",
    "user": "https://github.com/videlec"
}
```

The example in the description is precisely an example where we want to override the method `.submonoid()` since everything can be computed using `gcd`!



---

archive/issue_comments_237699.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-04-14T23:01:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237699",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_051160.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-04-14T23:01:34Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17765#event-51160"
}
```



---

archive/issue_comments_237700.json:
```json
{
    "body": "Replying to [comment:58 vdelecroix]:\n> The example in the description is precisely an example where we want to override the method `.submonoid()` since everything can be computed using `gcd`!\n\n\nWe are looking for a multiplicative monoid here, not additive. So I don't see from the top of my head how to do it with `gcd`. I might be missing something though. And I certainly agree that there must be some better way than brute force in such a specific situation. I was just looking for a simple example where one can easily check things by hand.",
    "created_at": "2015-04-15T12:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237700",
    "user": "https://github.com/nthiery"
}
```

Replying to [comment:58 vdelecroix]:
> The example in the description is precisely an example where we want to override the method `.submonoid()` since everything can be computed using `gcd`!


We are looking for a multiplicative monoid here, not additive. So I don't see from the top of my head how to do it with `gcd`. I might be missing something though. And I certainly agree that there must be some better way than brute force in such a specific situation. I was just looking for a simple example where one can easily check things by hand.



---

archive/issue_comments_237701.json:
```json
{
    "body": "Replying to [comment:60 nthiery]:\n> Replying to [comment:58 vdelecroix]:\n> > The example in the description is precisely an example where we want to override the method `.submonoid()` since everything can be computed using `gcd`!\n\n> \n> We are looking for a multiplicative monoid here, not additive. So I don't see from the top of my head how to do it with `gcd`.\n\n\nIndeed, `gcd` is not enough.\n\n> And I certainly agree that there must be some better way than brute force in such a specific situation. I was just looking for a simple example where one can easily check things by hand.\n\n\nIn the case of `Z/nZ` we know the multiplicative structure! That is indeed a great advantage. I would decompose `Z/nZ = Prod_i (Z/(p_i)^k_i Z`. Then determine the order of the generators in each projection and the (multiplicative) subgroup they generate. And finally glue back.\n\nBut I am pretty sure that this was not the situation you had in mind with Aladin when you wrote this ticket ;-)\n\nVincent",
    "created_at": "2015-04-15T12:30:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17765",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17765#issuecomment-237701",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:60 nthiery]:
> Replying to [comment:58 vdelecroix]:
> > The example in the description is precisely an example where we want to override the method `.submonoid()` since everything can be computed using `gcd`!

> 
> We are looking for a multiplicative monoid here, not additive. So I don't see from the top of my head how to do it with `gcd`.


Indeed, `gcd` is not enough.

> And I certainly agree that there must be some better way than brute force in such a specific situation. I was just looking for a simple example where one can easily check things by hand.


In the case of `Z/nZ` we know the multiplicative structure! That is indeed a great advantage. I would decompose `Z/nZ = Prod_i (Z/(p_i)^k_i Z`. Then determine the order of the generators in each projection and the (multiplicative) subgroup they generate. And finally glue back.

But I am pretty sure that this was not the situation you had in mind with Aladin when you wrote this ticket ;-)

Vincent
