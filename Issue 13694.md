# Issue 13694: OSX build failure in mercurial with FSF GCC

archive/issues_013694.json:
```json
{
    "body": "Assignee: tbd\n\nAs reported on https://groups.google.com/d/topic/sage-devel/kfXamuej_Gs/discussion\n\n```\ngcc -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -O2 -g -m64 \n-I/opt/sage/sage-5.6.beta1/local/include/python2.7 -c mercurial/osutil.c \n-o build/temp.macosx-10.8-x86_64-2.7/mercurial/osutil.o \nIn file included from \n/System/Library/Frameworks/Foundation.framework/Headers/NSObject.h:5:0, \n                  from /usr/include/os/object.h:74, \n                  from /usr/include/dispatch/dispatch.h:48, \n                  from \n/System/Library/Frameworks/CoreFoundation.framework/Headers/CFMessagePort.h:11, \n                  from \n/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:68, \n                  from \n/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:18, \n                  from \n/System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20, \n                  from \n/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:18, \n                  from \n/System/Library/Frameworks/ApplicationServices.framework/Headers/ApplicationServices.h:24, \n                  from mercurial/osutil.c:523: \n/System/Library/Frameworks/Foundation.framework/Headers/NSObjCRuntime.h:409:1: \nFehler: verirrtes \u00bb@\u00ab im Programm \n```\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/13898\n\n",
    "created_at": "2013-01-01T20:55:41Z",
    "labels": [
        "packages: standard",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "OSX build failure in mercurial with FSF GCC",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/13694",
    "user": "@vbraun"
}
```
Assignee: tbd

As reported on https://groups.google.com/d/topic/sage-devel/kfXamuej_Gs/discussion

```
gcc -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -O2 -g -m64 
-I/opt/sage/sage-5.6.beta1/local/include/python2.7 -c mercurial/osutil.c 
-o build/temp.macosx-10.8-x86_64-2.7/mercurial/osutil.o 
In file included from 
/System/Library/Frameworks/Foundation.framework/Headers/NSObject.h:5:0, 
                  from /usr/include/os/object.h:74, 
                  from /usr/include/dispatch/dispatch.h:48, 
                  from 
/System/Library/Frameworks/CoreFoundation.framework/Headers/CFMessagePort.h:11, 
                  from 
/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:68, 
                  from 
/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:18, 
                  from 
/System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20, 
                  from 
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:18, 
                  from 
/System/Library/Frameworks/ApplicationServices.framework/Headers/ApplicationServices.h:24, 
                  from mercurial/osutil.c:523: 
/System/Library/Frameworks/Foundation.framework/Headers/NSObjCRuntime.h:409:1: 
Fehler: verirrtes »@« im Programm 
```


Issue created by migration from https://trac.sagemath.org/ticket/13898





---

archive/issue_comments_169819.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2013-01-01T21:01:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169819",
    "user": "@vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_169820.json:
```json
{
    "body": "diff for review only",
    "created_at": "2013-01-01T21:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169820",
    "user": "@vbraun"
}
```

diff for review only



---

archive/issue_comments_169821.json:
```json
{
    "body": "Attachment [mercurial-p1.patch](tarball://root/attachments/some-uuid/ticket13898/mercurial-p1.patch) by @jdemeyer created at 2013-01-02 09:04:36\n\nThe spkg obviously looks fine. But we need to check that this actually fixes the problem.",
    "created_at": "2013-01-02T09:04:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169821",
    "user": "@jdemeyer"
}
```

Attachment [mercurial-p1.patch](tarball://root/attachments/some-uuid/ticket13898/mercurial-p1.patch) by @jdemeyer created at 2013-01-02 09:04:36

The spkg obviously looks fine. But we need to check that this actually fixes the problem.



---

archive/issue_comments_169822.json:
```json
{
    "body": "diff for review only",
    "created_at": "2013-01-07T10:49:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169822",
    "user": "zeier"
}
```

diff for review only



---

archive/issue_comments_169823.json:
```json
{
    "body": "Attachment [python-p4.patch](tarball://root/attachments/some-uuid/ticket13898/python-p4.patch) by zeier created at 2013-01-07 10:49:38\n\ndiff for review only",
    "created_at": "2013-01-07T10:49:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169823",
    "user": "zeier"
}
```

Attachment [python-p4.patch](tarball://root/attachments/some-uuid/ticket13898/python-p4.patch) by zeier created at 2013-01-07 10:49:38

diff for review only



---

archive/issue_comments_169824.json:
```json
{
    "body": "Attachment [r-p7.patch](tarball://root/attachments/some-uuid/ticket13898/r-p7.patch) by zeier created at 2013-01-07 10:52:44\n\nI have tested all three patches also with sage-5.6.beta2",
    "created_at": "2013-01-07T10:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169824",
    "user": "zeier"
}
```

Attachment [r-p7.patch](tarball://root/attachments/some-uuid/ticket13898/r-p7.patch) by zeier created at 2013-01-07 10:52:44

I have tested all three patches also with sage-5.6.beta2



---

archive/issue_comments_169825.json:
```json
{
    "body": "One data point: on an OS X 10.8.2 machine on which I had no problems before, everything still works after using these spkgs.",
    "created_at": "2013-01-10T21:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169825",
    "user": "@jhpalmieri"
}
```

One data point: on an OS X 10.8.2 machine on which I had no problems before, everything still works after using these spkgs.



---

archive/issue_comments_169826.json:
```json
{
    "body": "I have just tested the three provided spkg files with sage-5.6.rc0 on OS X 10.8.2. Everything compiles.",
    "created_at": "2013-01-14T15:49:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169826",
    "user": "zeier"
}
```

I have just tested the three provided spkg files with sage-5.6.rc0 on OS X 10.8.2. Everything compiles.



---

archive/issue_comments_169827.json:
```json
{
    "body": "Attachment [python-2.7.3.p7.diff](tarball://root/attachments/some-uuid/ticket13898/python-2.7.3.p7.diff) by zeier created at 2013-04-24 07:22:29\n\ndiff for review",
    "created_at": "2013-04-24T07:22:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169827",
    "user": "zeier"
}
```

Attachment [python-2.7.3.p7.diff](tarball://root/attachments/some-uuid/ticket13898/python-2.7.3.p7.diff) by zeier created at 2013-04-24 07:22:29

diff for review



---

archive/issue_comments_169828.json:
```json
{
    "body": "diff for review",
    "created_at": "2013-04-24T07:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169828",
    "user": "zeier"
}
```

diff for review



---

archive/issue_comments_169829.json:
```json
{
    "body": "Attachment [r-2.15.2.p2.diff](tarball://root/attachments/some-uuid/ticket13898/r-2.15.2.p2.diff) by zeier created at 2013-04-24 07:28:24\n\nUpdated spkgs and diffs for python and r are included as they have changed in the meantime. The new ones build on python-2.7.3.p6 and r-2.15-2-p1. They can be applied to sage-5.9.beta5.",
    "created_at": "2013-04-24T07:28:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169829",
    "user": "zeier"
}
```

Attachment [r-2.15.2.p2.diff](tarball://root/attachments/some-uuid/ticket13898/r-2.15.2.p2.diff) by zeier created at 2013-04-24 07:28:24

Updated spkgs and diffs for python and r are included as they have changed in the meantime. The new ones build on python-2.7.3.p6 and r-2.15-2-p1. They can be applied to sage-5.9.beta5.



---

archive/issue_comments_169830.json:
```json
{
    "body": "The Python spkg needs to be rebased on top of #14423. And I'm not going to do it, I fixed it once and nobody reviewed it.",
    "created_at": "2013-04-24T09:41:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169830",
    "user": "@vbraun"
}
```

The Python spkg needs to be rebased on top of #14423. And I'm not going to do it, I fixed it once and nobody reviewed it.



---

archive/issue_comments_169831.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2013-04-24T09:41:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169831",
    "user": "@vbraun"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_169832.json:
```json
{
    "body": "I think this can be closed, since we no longer distribute Mercurial.",
    "created_at": "2014-01-31T19:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169832",
    "user": "@jhpalmieri"
}
```

I think this can be closed, since we no longer distribute Mercurial.



---

archive/issue_comments_169833.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2014-01-31T19:35:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169833",
    "user": "@jhpalmieri"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_169834.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2014-01-31T19:42:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/13694",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/13694#issuecomment-169834",
    "user": "@vbraun"
}
```

Resolution: wontfix
