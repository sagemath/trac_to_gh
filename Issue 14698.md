# Issue 14698: Singular NULL pointer with a ring of the form QQ(t)[x, y]/(f)

Issue created by migration from https://trac.sagemath.org/ticket/14902

Original creator: pbruin

Original creation time: 2013-07-17 12:13:12

Assignee: malb

Keywords: Singular NULL pointer

The following returns the right thing in the end, but exhibits a problem with calling Singular in the process:

```
sage: K.<t> = FunctionField(QQ)
sage: A.<x,y> = PolynomialRing(K, 2)
sage: B = A.quotient(y^2 + (t + 1)*x*y + t*y - x^3 - t*x^2)
sage: B.gens()
verbose 0 (3490: multi_polynomial_ideal.py, groebner_basis) Warning: falling back to very slow toy implementation.
singular_ring_delete(ring*) called with NULL pointer.
  File "/home/staff/pbruin/src/sage-5.11.beta3/local/bin/sage-ipython", line 18, in <module>
    app.start()
...
  File "/home/staff/pbruin/src/sage-5.11.beta3/local/lib/python2.7/site-packages/sage/rings/polynomial/multi_polynomial_ideal.py", line 910, in _groebner_strategy
    return GroebnerStrategy(MPolynomialIdeal(self.ring(), self.groebner_basis()))
Exception KeyError: (The ring pointer 0x0,) in 'sage.libs.singular.ring.singular_ring_delete' ignored
(xbar, ybar)
```

Probably Gr√∂bner bases shouldn't even be invoked in this example, but that is another question.


---

Comment by jdemeyer created at 2013-07-25 17:39:53

Looks very much like #12188.


---

Comment by kcrisman created at 2013-08-07 14:03:04

Volker says that [this ask.sagemath question](http://ask.sagemath.org/question/2888/scary-muli_polynomial_ring-warning) is a duplicate as well.


---

Comment by pbruin created at 2013-08-07 22:35:05

Changing status from new to needs_review.


---

Comment by pbruin created at 2013-08-07 22:35:05

I posted a patch for #12188 that fixes this ticket as well.  Now the output of the above example is

```
verbose 0 (3490: multi_polynomial_ideal.py, groebner_basis) Warning: falling back to very slow toy implementation.
(xbar, ybar)
```



---

Comment by vbraun created at 2013-08-08 00:00:18

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-08-08 00:00:18

I agree, same issue as #12188.


---

Comment by jdemeyer created at 2013-08-13 08:49:08

Resolution: duplicate
