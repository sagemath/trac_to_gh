# Issue 30459: Inconsistency in valuation of elements that are non-distinguishable from zero

Issue created by migration from https://trac.sagemath.org/ticket/30696

Original creator: @n-vi

Original creation time: 2020-10-02 09:08:43

Keywords: valuation, zero, power-series, laurent, padics

Using version 9.1 of Sage, Power-Series and Multi-Power-Series O(x<sup>n</sup>) elements are given valuation n, whereas Laurent-series O(x<sup>n</sup>) elements are given valuation infinity:

```
# Power-Series
sage: P.<x> = PowerSeriesRing(ZZ)
sage: O(x^5).valuation()
5
# Multi-Power-Series
sage: R.<x,y> = QQ[[]]
sage: r = R(0).O(5)
sage: r
0 + O(x, y)^5
sage: r.valuation()
5
# Laurent-Series
sage: S.<y> = LaurentSeriesRing(ZZ)
sage: O(y^5).valuation()
+Infinity
```

In case this should be changed, here are some considerations for choosing a uniform approach:
1. padic O(x<sup>n</sup>) elements are given valuation n (like power-series and multi-power-series), which suggests giving valuation n.
2. In all cases (power-series, multi-power-series, laurent-series, padics), O(x<sup>n</sup>) elements return True for is_zero(), which suggests giving valuation infinity (in all cases).


---

Comment by mkoeppe created at 2021-05-10 17:42:09

Moving to 9.4, as 9.3 has been released.
