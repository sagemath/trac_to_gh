# Issue 29937: Trivial coercion Modules(QQ)(FiniteRankFreeModule(QQ, 3)) fails

Issue created by migration from https://trac.sagemath.org/ticket/30174

Original creator: mkoeppe

Original creation time: 2020-07-19 14:09:13

CC:  egourgoulhon tscrim @mjungmath

(from #30094)


```
sage: Q3 = FiniteRankFreeModule(QQ, 3)
sage: Q3 in Modules(QQ)
True
sage: Modules(QQ)(Q3)
TypeError: 'FiniteRankFreeModule_with_category' object has no attribute 'vector_space'
unable to coerce x (=3-dimensional vector space over the Rational Field) into Category of vector spaces over Rational Field
```


Compare with:

```
sage: Modules(QQ)(QQ^3)
Vector space of dimension 3 over Rational Field
```




---

Comment by mkoeppe created at 2020-07-19 14:12:37

tscrim, #30094 comment 4:

  My 2 cents for the error reported in the ticket is to first check that the object is not in the category. The other option is to lift the vector_space method up to the category of modules and then implement a change_ring method for Q3.


---

Comment by mkoeppe created at 2021-02-13 20:51:01

Setting new milestone based on a cursory review of ticket status, priority, and last modification date.


---

Comment by @mjungmath created at 2021-02-14 18:22:13

That should solve it. `__call__` is not supposed to be overwritten for children classes of `Category`.
----
New commits:


---

Comment by @mjungmath created at 2021-02-14 18:22:13

Changing status from new to needs_review.


---

Comment by git created at 2021-02-14 20:40:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2021-02-14 23:43:15

LGTM once there is a green patchbot. Don't forget to add the author name.


---

Comment by @mjungmath created at 2021-02-15 09:15:40

Patchbot is green.


---

Comment by tscrim created at 2021-02-16 00:45:31

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-03-01 00:20:53

Resolution: fixed
