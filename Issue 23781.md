# Issue 23781: Remove PIP_INSTALL from sage-env

Issue created by migration from Trac.

Original creator: embray

Original creation time: 2017-10-12 10:11:25

CC:  slelievre tscrim embray jdemeyer

#24014 deprecated the `PIP_INSTALL` environment variable in favor of the `sdh_pip_install` helper function.  This ticket is to remove `PIP_INSTALL` entirely.


---

Comment by embray created at 2017-10-12 10:11:31

Set assignee to embray.


---

Comment by jdemeyer created at 2017-10-12 10:29:53

Related: some Python packages don't use `pip` at all:

```
gambit
numpy
pillow
scons
setuptools
```

For `setuptools`, this is obvious because it's a dependency of `pip`.


---

Comment by slelievre created at 2017-10-30 18:09:55

Changing keywords from "" to "pip".


---

Comment by slelievre created at 2017-10-30 18:09:55

In #24014, getting rid of the `PIP_INSTALL` environment variable was postponed for the sake of work in progress on `brial` and `dot2tex`.

Since #24092, `brial` no longer uses `PIP_INSTALL`.

Now that #23983 is closed, all that remains to do is to stop using  `PIP_INSTALL` for `dot2tex`, allowing to remove `PIP_INSTALL` entirely.


---

Comment by tscrim created at 2017-10-30 22:08:08

Because I care about `dot2tex`.


---

Comment by chapoton created at 2018-12-19 09:41:45

New commits:


---

Comment by chapoton created at 2018-12-19 09:41:45

Changing status from new to needs_review.


---

Comment by chapoton created at 2018-12-19 15:24:03

Jeroen, would you have some time to look at this one ? This should be pretty clear, removal of the last instance of this variable. I have tested the package installation and it worked.


---

Comment by embray created at 2018-12-21 14:55:38

In retrospect there is one small possible use for a variable like this, in case users for some particular reason needed to override and/or extend the default flags passed to pip.  I could sort of envision a reason for that in theory, though I don't know one explicitly.

In any case, the current implementation wouldn't work that way anyways, and something more like `PIP_INSTALL_FLAGS` would be better for that use case.


---

Comment by embray created at 2018-12-21 14:55:38

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2018-12-23 23:39:16

Resolution: fixed


---

Comment by embray created at 2018-12-28 14:06:38

This tickets were closed as fixed after the Sage 8.5 release.
