# Issue 22438: Upgrade PARI to version 2.9.2

archive/issues_022438.json:
```json
{
    "body": "CC:  @embray @kiwifb @videlec @defeo\n\nPARI just made a prerelease for version 2.9.2. When it is released, we should use this version in Sage. This will likely fix #22279.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22675\n\n",
    "created_at": "2017-03-23T10:55:04Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.0",
    "title": "Upgrade PARI to version 2.9.2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22438",
    "user": "https://github.com/jdemeyer"
}
```
CC:  @embray @kiwifb @videlec @defeo

PARI just made a prerelease for version 2.9.2. When it is released, we should use this version in Sage. This will likely fix #22279.

Issue created by migration from https://trac.sagemath.org/ticket/22675





---

archive/issue_comments_312212.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-03-25T09:02:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312212",
    "user": "https://github.com/kiwifb"
}
```

New commits:



---

archive/issue_comments_312213.json:
```json
{
    "body": "I'm not sure but this might also fix #22635 if that gets incorporated into the final release.\n\nThe fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.",
    "created_at": "2017-04-03T10:51:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312213",
    "user": "https://github.com/embray"
}
```

I'm not sure but this might also fix #22635 if that gets incorporated into the final release.

The fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.



---

archive/issue_comments_312214.json:
```json
{
    "body": "Replying to [comment:4 embray]:\n> The fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.\n\n#22633 will certainly not be fixed in 2.9.2 because my `PROT_NONE` patches are not in 2.9.2 either.",
    "created_at": "2017-04-03T10:56:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312214",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:4 embray]:
> The fix to #22633 is still held up for some reason, even though it has nothing directly to do with the concerns about emscripten.

#22633 will certainly not be fixed in 2.9.2 because my `PROT_NONE` patches are not in 2.9.2 either.



---

archive/issue_comments_312215.json:
```json
{
    "body": "Okay, I thought that might be the case since there was still some question about it.",
    "created_at": "2017-04-03T11:02:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312215",
    "user": "https://github.com/embray"
}
```

Okay, I thought that might be the case since there was still some question about it.



---

archive/issue_comments_312216.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-04-06T08:25:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312216",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_312217.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-04-06T11:03:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312217",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_312218.json:
```json
{
    "body": "Ping...",
    "created_at": "2017-04-19T08:10:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312218",
    "user": "https://github.com/jdemeyer"
}
```

Ping...



---

archive/issue_comments_312219.json:
```json
{
    "body": "Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?",
    "created_at": "2017-04-19T08:17:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312219",
    "user": "https://github.com/videlec"
}
```

Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?



---

archive/issue_comments_312220.json:
```json
{
    "body": "Replying to [comment:12 vdelecroix]:\n> Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?\n\n1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?\n\n2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10",
    "created_at": "2017-04-19T08:41:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312220",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:12 vdelecroix]:
> Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?

1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?

2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10



---

archive/issue_comments_312221.json:
```json
{
    "body": "Replying to [comment:13 jdemeyer]:\n> Replying to [comment:12 vdelecroix]:\n> > Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?\n> \n> 1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?\n\n`prot_none_4.patch` included with commit `343f241` is part of the branch.\n\n> 2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10\n\nOf course not. But you can care about the future of your patches and ask to have it backported in stable releases.",
    "created_at": "2017-04-19T08:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312221",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:13 jdemeyer]:
> Replying to [comment:12 vdelecroix]:
> > Apparently `prot_none_4.patch` is accepted upstream (seems to be `d42061c`). Are you sure it will be in a stable release?
> 
> 1. This ticket here does not deal with `prot_none_4.patch` so why does it matter?

`prot_none_4.patch` included with commit `343f241` is part of the branch.

> 2. I cannot read the mind of the PARI developers, but I guess it will be in PARI 2.10

Of course not. But you can care about the future of your patches and ask to have it backported in stable releases.



---

archive/issue_comments_312222.json:
```json
{
    "body": "It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?",
    "created_at": "2017-04-19T08:53:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312222",
    "user": "https://github.com/videlec"
}
```

It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?



---

archive/issue_comments_312223.json:
```json
{
    "body": "Now, waiting for the testsuite...",
    "created_at": "2017-04-19T08:59:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312223",
    "user": "https://github.com/videlec"
}
```

Now, waiting for the testsuite...



---

archive/issue_comments_312224.json:
```json
{
    "body": "Replying to [comment:15 vdelecroix]:\n> It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?\n\nI don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.",
    "created_at": "2017-04-19T09:24:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312224",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:15 vdelecroix]:
> It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?

I don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.



---

archive/issue_comments_312225.json:
```json
{
    "body": "Replying to [comment:17 jdemeyer]:\n> Replying to [comment:15 vdelecroix]:\n> > It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?\n> \n> I don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.\n\nThere are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1",
    "created_at": "2017-04-19T11:52:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312225",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:17 jdemeyer]:
> Replying to [comment:15 vdelecroix]:
> > It is always a mess to attribute commit to dependencies... how am I supposed to deal with that?
> 
> I don't know what you are seeing. There is only one commit and it does not involve `prot_none_4.patch`.

There are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1



---

archive/issue_comments_312226.json:
```json
{
    "body": "Replying to [comment:18 vdelecroix]:\n> There are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1\n\nRight. I understand what you mean now. I usually look at the branch on Trac and that shows only one commit.\n\nAnyway, this review is only about https://git.sagemath.org/sage.git/commit/?h=543c4a1889f21b35483b0bf45e7dbcdb6ce25582",
    "created_at": "2017-04-19T12:36:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312226",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:18 vdelecroix]:
> There are two commits on `u/jdemeyer/upgrade_pari_to_version_2_9_2` on top of 8.0.beta1

Right. I understand what you mean now. I usually look at the branch on Trac and that shows only one commit.

Anyway, this review is only about https://git.sagemath.org/sage.git/commit/?h=543c4a1889f21b35483b0bf45e7dbcdb6ce25582



---

archive/issue_comments_312227.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-04-20T06:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312227",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_312228.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-04-23T12:58:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22438#issuecomment-312228",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_059108.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-04-23T12:58:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/22438",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/22438#event-59108"
}
```
