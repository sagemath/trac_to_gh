# Issue 29332: Obtain polar with both Vrep and Hrep (if backend supports it)

Issue created by migration from https://trac.sagemath.org/ticket/29569

Original creator: @kliem

Original creation time: 2020-04-24 14:30:37

CC:  jipilab @laisrast

Keywords: polar, polytopes

We obtain the polar with both Vrep and Hrep to speed things up.


---

Comment by @kliem created at 2020-04-24 15:00:49

New commits:


---

Comment by mkoeppe created at 2020-05-01 04:28:42

Moving tickets to milestone sage-9.2 based on a review of last modification date, branch status, and severity.


---

Comment by @kliem created at 2020-05-05 14:25:26

New commits:


---

Comment by @kliem created at 2020-05-05 14:25:26

Changing status from new to needs_review.


---

Comment by @kliem created at 2020-05-11 08:33:13

New commits:


---

Comment by jipilab created at 2020-05-11 13:57:23

About the bug that you mentioned, it is really a bug?

I am asking because "polar" means different things depending on which corner of the street you stand at...


```
sage: p = LatticePolytope([[1,0],[0,1],[-1,-1]])
sage: p
2-d reflexive polytope #0 in 2-d lattice M
sage: p.polar()
2-d reflexive polytope #15 in 2-d lattice N
sage: p.polar().vertices()
N( 2, -1),
N(-1,  2),
N(-1, -1)
in 2-d lattice N
```



---

Comment by jipilab created at 2020-05-11 14:02:12

Changing status from needs_review to needs_work.


---

Comment by jipilab created at 2020-05-11 14:02:12

In the tutorial, it would be good to still have an example where it really still gives an error. There is likely such an example in the library (see those that are forced to be exact).

I would then keep a error and a warning in the tutorial to maintain an up-to-date document.


---

Comment by @kliem created at 2020-05-11 14:07:06

Replying to [comment:7 jipilab]:
> About the bug that you mentioned, it is really a bug?
> 
> I am asking because "polar" means different things depending on which corner of the street you stand at...
> 
> {{{
> sage: p = LatticePolytope([[1,0],[0,1],[-1,-1]])
> sage: p
> 2-d reflexive polytope #0 in 2-d lattice M
> sage: p.polar()
> 2-d reflexive polytope #15 in 2-d lattice N
> sage: p.polar().vertices()
> N( 2, -1),
> N(-1,  2),
> N(-1, -1)
> in 2-d lattice N
> }}}

Thanks for checking this. No it's not a bug. It's exactly the output described in `OUTPUT`.

It's still confusing. But this ticket shouldn't be about making things more uniform.


---

Comment by git created at 2020-05-11 15:08:43

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-05-11 15:09:38

Changing status from needs_work to needs_review.


---

Comment by jipilab created at 2020-05-11 15:13:59

The fix in the last commit means that it was no passing the tests? It would also be nice to have the "warning" case and the "error" case if we can find the two in the library for example.


---

Comment by @kliem created at 2020-05-11 15:15:41

If you sort it, you get an error. If you don't sort it, you get a warning.


---

Comment by git created at 2020-05-11 15:31:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @kliem created at 2020-05-11 15:32:01

Now I'm giving both examples.


---

Comment by jipilab created at 2020-05-12 10:50:55

Looks good to me now. The code styles are fixed in a different ticket.


---

Comment by jipilab created at 2020-05-12 10:50:55

Changing status from needs_review to positive_review.


---

Comment by @kliem created at 2020-05-12 10:53:03

Thank you.


---

Comment by @kliem created at 2020-05-12 10:54:55

`@`jipilab: Are you ware that the first commit of this ticket is actually #29568.


---

Comment by jipilab created at 2020-05-12 11:39:35

Replying to [comment:19 gh-kliem]:
> `@`jipilab: Are you ware that the first commit of this ticket is actually #29568.

I missed that. I'll have a look.


---

Comment by vbraun created at 2020-05-26 21:43:49

Resolution: fixed
