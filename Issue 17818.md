# Issue 17818: Improve lookahead in IntegerListsLex

archive/issues_017818.json:
```json
{
    "body": "CC:  bgillespie\n\n`IntegerListsLex` uses a depth first search in a prefix tree, with lookahead to prune branches.\nThe purpose of this ticket is to improve the lookahead algorithm in two directions:\n\n- Detect more branches that can be cut.\n- Better time complexity; this probably will involve identifying important invariants and caching them.\n\nExample:: even just for n=1000 this is taking a long time:\n\n```\n    sage: n = 100\n    sage: IntegerListsLex(binomial(n,2)-1, length=n, min_slope=1).list()\n```\n\n\nOne could hope that, in non degenerate cases, one could reach an\naverage complexity roughly linear in `O(log(max_n), max_length)` per\nlist generated.\n\nIssue created by migration from https://trac.sagemath.org/ticket/18055\n\n",
    "created_at": "2015-03-25T18:25:10Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.6",
    "title": "Improve lookahead in IntegerListsLex",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17818",
    "user": "nthiery"
}
```
CC:  bgillespie

`IntegerListsLex` uses a depth first search in a prefix tree, with lookahead to prune branches.
The purpose of this ticket is to improve the lookahead algorithm in two directions:

- Detect more branches that can be cut.
- Better time complexity; this probably will involve identifying important invariants and caching them.

Example:: even just for n=1000 this is taking a long time:

```
    sage: n = 100
    sage: IntegerListsLex(binomial(n,2)-1, length=n, min_slope=1).list()
```


One could hope that, in non degenerate cases, one could reach an
average complexity roughly linear in `O(log(max_n), max_length)` per
list generated.

Issue created by migration from https://trac.sagemath.org/ticket/18055





---

archive/issue_comments_238876.json:
```json
{
    "body": "Can we *please* stop talking about \"degenerate cases\" without specifying what that means?",
    "created_at": "2015-04-11T21:34:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17818",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17818#issuecomment-238876",
    "user": "jdemeyer"
}
```

Can we *please* stop talking about "degenerate cases" without specifying what that means?



---

archive/issue_comments_238877.json:
```json
{
    "body": "Replying to [comment:5 jdemeyer]:\n> Can we *please* stop talking about \"degenerate cases\" without specifying what that means?\n\nThis ticket involves some research, which includes in particular defining precisely what \"degenerate\" is. Until this research is done, we can't do anything but remain vague.",
    "created_at": "2015-04-11T22:59:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17818",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17818#issuecomment-238877",
    "user": "nthiery"
}
```

Replying to [comment:5 jdemeyer]:
> Can we *please* stop talking about "degenerate cases" without specifying what that means?

This ticket involves some research, which includes in particular defining precisely what "degenerate" is. Until this research is done, we can't do anything but remain vague.
