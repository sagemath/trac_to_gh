# Issue 26241: Modified Nakajima monomials for Borcherds algebras

archive/issues_026004.json:
```json
{
    "body": "\n\nCC:  @tscrim\n\nKeywords: crystals, Nakajima monomials\n\nAuthor: Ben Salisbury\n\nBranch: u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras\n\nStatus: new\n\nCommit: 7a31d0ea6ddbd5a49a62b769da8dbbf652c74065\n\nIssue created by migration from https://trac.sagemath.org/ticket/26241\n\n",
    "created_at": "2018-09-11T12:33:47Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Modified Nakajima monomials for Borcherds algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26241",
    "user": "https://github.com/bsalisbury1"
}
```


CC:  @tscrim

Keywords: crystals, Nakajima monomials

Author: Ben Salisbury

Branch: u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras

Status: new

Commit: 7a31d0ea6ddbd5a49a62b769da8dbbf652c74065

Issue created by migration from https://trac.sagemath.org/ticket/26241





---

archive/issue_comments_506262.json:
```json
{
    "body": "Changing branch from \"\" to \"u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras\"",
    "created_at": "2018-09-11T12:35:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506262",
    "user": "https://github.com/bsalisbury1"
}
```

Changing branch from "" to "u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras"



---

archive/issue_comments_506263.json:
```json
{
    "body": "Changing commit from \"\" to \"a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552\"",
    "created_at": "2018-09-11T12:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552"



---

archive/issue_comments_506264.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[a062c0b](https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552)|`initial implementation -- broken`|",
    "created_at": "2018-09-11T12:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[a062c0b](https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552)|`initial implementation -- broken`|



---

archive/issue_comments_506265.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|\n|[7c83ddf](https://github.com/sagemath/sagetrac-mirror/commit/7c83ddf914da3457c208d9e4d801cd66baf794f5)|`fixed mistake in cartan_matrix.py`|\n|[e8b022f](https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4)|`the f operator works?`|",
    "created_at": "2018-09-13T19:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506265",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
|[7c83ddf](https://github.com/sagemath/sagetrac-mirror/commit/7c83ddf914da3457c208d9e4d801cd66baf794f5)|`fixed mistake in cartan_matrix.py`|
|[e8b022f](https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4)|`the f operator works?`|



---

archive/issue_comments_506266.json:
```json
{
    "body": "Changing commit from \"a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552\" to \"e8b022fd049391ac8ea146559ea471d4f08a9da4\"",
    "created_at": "2018-09-13T19:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552" to "e8b022fd049391ac8ea146559ea471d4f08a9da4"



---

archive/issue_comments_506267.json:
```json
{
    "body": "<a id='comment:4'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|\n|[e12273a](https://github.com/sagemath/sagetrac-mirror/commit/e12273aadc1f59a4e1d2c1c3d1612dbed3ffe162)|`Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras`|\n|[2081c19](https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2)|`f fixed? e in progress`|",
    "created_at": "2018-09-20T19:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|[e12273a](https://github.com/sagemath/sagetrac-mirror/commit/e12273aadc1f59a4e1d2c1c3d1612dbed3ffe162)|`Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras`|
|[2081c19](https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2)|`f fixed? e in progress`|



---

archive/issue_comments_506268.json:
```json
{
    "body": "Changing commit from \"e8b022fd049391ac8ea146559ea471d4f08a9da4\" to \"2081c1990621033433663310b6dfd2ef837866d2\"",
    "created_at": "2018-09-20T19:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506268",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "e8b022fd049391ac8ea146559ea471d4f08a9da4" to "2081c1990621033433663310b6dfd2ef837866d2"



---

archive/issue_comments_506269.json:
```json
{
    "body": "<a id='comment:5'></a>\nThat shift is really just a hack to correct for the indexing set of the finite type. The correct thing to do is have `j = self.index_set().index(i)`. The way to optimize this is to store a\n\n```\nself._index_set_inverse = {ind: i for i,ind in enumerate(self.index_set())\n```\nin the parent that is constructed at initialization. Actually, this is probably better done as an ``@`lazy_attribute` in the `Crystals` category.",
    "created_at": "2018-09-20T22:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506269",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>
That shift is really just a hack to correct for the indexing set of the finite type. The correct thing to do is have `j = self.index_set().index(i)`. The way to optimize this is to store a

```
self._index_set_inverse = {ind: i for i,ind in enumerate(self.index_set())
```
in the parent that is constructed at initialization. Actually, this is probably better done as an ``@`lazy_attribute` in the `Crystals` category.



---

archive/issue_comments_506270.json:
```json
{
    "body": "Changing commit from \"2081c1990621033433663310b6dfd2ef837866d2\" to \"53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439\"",
    "created_at": "2018-09-21T17:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506270",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2081c1990621033433663310b6dfd2ef837866d2" to "53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439"



---

archive/issue_comments_506271.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|\n|[53c2cb1](https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439)|`getting there...`|",
    "created_at": "2018-09-21T17:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------|
|[53c2cb1](https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439)|`getting there...`|



---

archive/issue_comments_506272.json:
```json
{
    "body": "Changing commit from \"53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439\" to \"7a31d0ea6ddbd5a49a62b769da8dbbf652c74065\"",
    "created_at": "2018-09-24T14:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439" to "7a31d0ea6ddbd5a49a62b769da8dbbf652c74065"



---

archive/issue_comments_506273.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|\n|[7a31d0e](https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065)|`Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras`|",
    "created_at": "2018-09-24T14:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-506273",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
|[7a31d0e](https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065)|`Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras`|
