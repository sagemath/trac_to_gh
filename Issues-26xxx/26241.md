# Issue 26241: Modified Nakajima monomials for Borcherds algebras

archive/issues_026004.json:
```json
{
    "body": "\n\nCC:  @tscrim\n\nKeywords: crystals, Nakajima monomials\n\nAuthor: Ben Salisbury\n\nBranch: u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras\n\nStatus: new\n\nCommit: 7a31d0ea6ddbd5a49a62b769da8dbbf652c74065\n\nIssue created by migration from https://trac.sagemath.org/ticket/26241\n\n",
    "created_at": "2018-09-11T12:33:47Z",
    "labels": [
        "component: combinatorics"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Modified Nakajima monomials for Borcherds algebras",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26241",
    "user": "https://github.com/bsalisbury1"
}
```


CC:  @tscrim

Keywords: crystals, Nakajima monomials

Author: Ben Salisbury

Branch: u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras

Status: new

Commit: 7a31d0ea6ddbd5a49a62b769da8dbbf652c74065

Issue created by migration from https://trac.sagemath.org/ticket/26241





---

archive/issue_comments_390528.json:
```json
{
    "body": "<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-11T12:39:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-390528",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_390529.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-13T19:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-390529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_390530.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-20T19:03:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-390530",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_390531.json:
```json
{
    "body": "<a id='comment:5'></a>That shift is really just a hack to correct for the indexing set of the finite type. The correct thing to do is have `j = self.index_set().index(i)`. The way to optimize this is to store a\n\n```\nself._index_set_inverse = {ind: i for i,ind in enumerate(self.index_set())\n```\nin the parent that is constructed at initialization. Actually, this is probably better done as an ``@`lazy_attribute` in the `Crystals` category.",
    "created_at": "2018-09-20T22:32:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-390531",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'></a>That shift is really just a hack to correct for the indexing set of the finite type. The correct thing to do is have `j = self.index_set().index(i)`. The way to optimize this is to store a

```
self._index_set_inverse = {ind: i for i,ind in enumerate(self.index_set())
```
in the parent that is constructed at initialization. Actually, this is probably better done as an ``@`lazy_attribute` in the `Crystals` category.



---

archive/issue_comments_390532.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-21T17:47:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-390532",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_390533.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-09-24T14:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26241#issuecomment-390533",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:
