# Issue 26241: Modified Nakajima monomials for Borcherds algebras

archive/issues_026004.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @tscrim\n\nKeywords: **crystals, Nakajima monomials**\n\nBranch/Commit: **[u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras](https://github.com/sagemath/sagetrac-mirror/tree/u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras) @ [7a31d0e](https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065)**\n\nAuthor: **Ben Salisbury**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26241_\n\n",
    "created_at": "2018-09-11T12:33:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Modified Nakajima monomials for Borcherds algebras",
    "type": "issue",
    "updated_at": "2022-12-29T01:42:26Z",
    "url": "https://github.com/sagemath/sage/issues/26241",
    "user": "https://github.com/bsalisbury1"
}
```


CC:  @tscrim

Keywords: **crystals, Nakajima monomials**

Branch/Commit: **[u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras](https://github.com/sagemath/sagetrac-mirror/tree/u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras) @ [7a31d0e](https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065)**

Author: **Ben Salisbury**

_Issue created by migration from https://trac.sagemath.org/ticket/26241_





---

archive/issue_events_343774.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2018-09-11T12:33:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26241#event-343774"
}
```



---

archive/issue_events_343775.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2018-09-11T12:33:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26241#event-343775"
}
```



---

archive/issue_events_343776.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2018-09-11T12:33:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26241#event-343776"
}
```



---

archive/issue_events_343777.json:
```json
{
    "actor": "https://github.com/bsalisbury1",
    "created_at": "2018-09-11T12:33:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26241#event-343777"
}
```



---

archive/issue_comments_407261.json:
```json
{
    "body": "Branch: **[u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras](https://github.com/sagemath/sagetrac-mirror/tree/u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras)**",
    "created_at": "2018-09-11T12:35:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407261",
    "user": "https://github.com/bsalisbury1"
}
```

Branch: **[u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras](https://github.com/sagemath/sagetrac-mirror/tree/u/bsalisbury1/modified_nakajima_monomials_for_borcherds_algebras)**



---

archive/issue_comments_407262.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552\">a062c0b</a></td><td><code>initial implementation -- broken</code></td></tr></table>\n",
    "created_at": "2018-09-11T12:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407262",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:2'>Comment 2:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552">a062c0b</a></td><td><code>initial implementation -- broken</code></td></tr></table>




---

archive/issue_comments_407263.json:
```json
{
    "body": "Commit: **[a062c0b](https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552)**",
    "created_at": "2018-09-11T12:39:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407263",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[a062c0b](https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552)**



---

archive/issue_comments_407264.json:
```json
{
    "body": "Changed commit from **[a062c0b](https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552)** to **[e8b022f](https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4)**",
    "created_at": "2018-09-13T19:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407264",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a062c0b](https://github.com/sagemath/sagetrac-mirror/commit/a062c0bfff1a1edfad90d0e3a8e6bcb4ec00f552)** to **[e8b022f](https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4)**



---

archive/issue_comments_407265.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7c83ddf914da3457c208d9e4d801cd66baf794f5\">7c83ddf</a></td><td><code>fixed mistake in cartan_matrix.py</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4\">e8b022f</a></td><td><code>the f operator works?</code></td></tr></table>\n",
    "created_at": "2018-09-13T19:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407265",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7c83ddf914da3457c208d9e4d801cd66baf794f5">7c83ddf</a></td><td><code>fixed mistake in cartan_matrix.py</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4">e8b022f</a></td><td><code>the f operator works?</code></td></tr></table>




---

archive/issue_comments_407266.json:
```json
{
    "body": "Changed commit from **[e8b022f](https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4)** to **[2081c19](https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2)**",
    "created_at": "2018-09-20T19:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407266",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e8b022f](https://github.com/sagemath/sagetrac-mirror/commit/e8b022fd049391ac8ea146559ea471d4f08a9da4)** to **[2081c19](https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2)**



---

archive/issue_comments_407267.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e12273aadc1f59a4e1d2c1c3d1612dbed3ffe162\">e12273a</a></td><td><code>Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2\">2081c19</a></td><td><code>f fixed? e in progress</code></td></tr></table>\n",
    "created_at": "2018-09-20T19:03:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407267",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e12273aadc1f59a4e1d2c1c3d1612dbed3ffe162">e12273a</a></td><td><code>Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2">2081c19</a></td><td><code>f fixed? e in progress</code></td></tr></table>




---

archive/issue_comments_407268.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThat shift is really just a hack to correct for the indexing set of the finite type. The correct thing to do is have `j = self.index_set().index(i)`. The way to optimize this is to store a\n\n```\nself._index_set_inverse = {ind: i for i,ind in enumerate(self.index_set())\n```\nin the parent that is constructed at initialization. Actually, this is probably better done as an `@lazy_attribute` in the `Crystals` category.",
    "created_at": "2018-09-20T22:32:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407268",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:5'>Comment 5:</a>
That shift is really just a hack to correct for the indexing set of the finite type. The correct thing to do is have `j = self.index_set().index(i)`. The way to optimize this is to store a

```
self._index_set_inverse = {ind: i for i,ind in enumerate(self.index_set())
```
in the parent that is constructed at initialization. Actually, this is probably better done as an `@lazy_attribute` in the `Crystals` category.



---

archive/issue_comments_407269.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439\">53c2cb1</a></td><td><code>getting there...</code></td></tr></table>\n",
    "created_at": "2018-09-21T17:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407269",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439">53c2cb1</a></td><td><code>getting there...</code></td></tr></table>




---

archive/issue_comments_407270.json:
```json
{
    "body": "Changed commit from **[2081c19](https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2)** to **[53c2cb1](https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439)**",
    "created_at": "2018-09-21T17:47:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407270",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[2081c19](https://github.com/sagemath/sagetrac-mirror/commit/2081c1990621033433663310b6dfd2ef837866d2)** to **[53c2cb1](https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439)**



---

archive/issue_comments_407271.json:
```json
{
    "body": "Changed commit from **[53c2cb1](https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439)** to **[7a31d0e](https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065)**",
    "created_at": "2018-09-24T14:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407271",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[53c2cb1](https://github.com/sagemath/sagetrac-mirror/commit/53c2cb1cb6322c76fec9c7fbfe0b9c0d7e6a8439)** to **[7a31d0e](https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065)**



---

archive/issue_comments_407272.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065\">7a31d0e</a></td><td><code>Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras</code></td></tr></table>\n",
    "created_at": "2018-09-24T14:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26241#issuecomment-407272",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7a31d0ea6ddbd5a49a62b769da8dbbf652c74065">7a31d0e</a></td><td><code>Merge branch 'develop' into t/26241/modified_nakajima_monomials_for_borcherds_algebras</code></td></tr></table>




---

archive/issue_events_343778.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-12-29T01:42:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26241",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26241#event-343778"
}
```
