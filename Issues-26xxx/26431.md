# Issue 26431: py3: not sorting vertices on some graph functions

archive/issues_026194.json:
```json
{
    "body": "\n\nCC:  @dcoudert\n\nReviewer: Travis Scrimshaw, David Coudert\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nBranch: 51d798a87885f35ba8f55a69967a64221a1e9f10\n\nCommit: 51d798a87885f35ba8f55a69967a64221a1e9f10\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26431\n\n",
    "closed_at": "2018-10-20T19:02:57Z",
    "created_at": "2018-10-07T20:07:00Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "py3: not sorting vertices on some graph functions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26431",
    "user": "https://github.com/fchapoton"
}
```


CC:  @dcoudert

Reviewer: Travis Scrimshaw, David Coudert

Author: Frédéric Chapoton

Branch: 51d798a87885f35ba8f55a69967a64221a1e9f10

Commit: 51d798a87885f35ba8f55a69967a64221a1e9f10

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26431





---

archive/issue_comments_368662.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-07T20:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368662",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_368663.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2018-10-07T20:07:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368663",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_368664.json:
```json
{
    "body": "<a id='comment:2'></a>LGTM.",
    "created_at": "2018-10-07T22:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368664",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:2'></a>LGTM.



---

archive/issue_comments_368665.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-07T22:12:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368665",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_368666.json:
```json
{
    "body": "<a id='comment:3'></a>+1. Was about to give positive review as well ;)",
    "created_at": "2018-10-07T22:16:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368666",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>+1. Was about to give positive review as well ;)



---

archive/issue_comments_368667.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-10-18T22:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368667",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_368668.json:
```json
{
    "body": "<a id='comment:4'></a>There are a bunch of numerical noise issues, see patchbot",
    "created_at": "2018-10-18T22:25:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368668",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:4'></a>There are a bunch of numerical noise issues, see patchbot



---

archive/issue_comments_368669.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T07:53:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368669",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_368670.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-19T07:53:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368670",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_368671.json:
```json
{
    "body": "<a id='comment:7'></a>By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.\n\nI agree that for this test we know exactly the type of the vertices, but isn't it better to do:\n\n```diff\n-            sage: sorted(D.keys()) == sorted(g)\n+            sage: set(D.keys()) == set(g)\n```\nI don't know what is best, just asking.",
    "created_at": "2018-10-19T09:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368671",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.

I agree that for this test we know exactly the type of the vertices, but isn't it better to do:

```diff
-            sage: sorted(D.keys()) == sorted(g)
+            sage: set(D.keys()) == set(g)
```
I don't know what is best, just asking.



---

archive/issue_comments_368672.json:
```json
{
    "body": "<a id='comment:8'></a>Replying to [comment:7 dcoudert]:\n> By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.\n\n\nI see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?\n\n> I agree that for this test we know exactly the type of the vertices, but isn't it better to do:\n> \n> ```diff\n> -            sage: sorted(D.keys()) == sorted(g)\n> +            sage: set(D.keys()) == set(g)\n> ```\n> I don't know what is best, just asking.\n\n\nIn this precise case, we can sort the vertices, so no need to worry about python3.",
    "created_at": "2018-10-19T09:56:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368672",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>Replying to [comment:7 dcoudert]:
> By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.


I see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?

> I agree that for this test we know exactly the type of the vertices, but isn't it better to do:
> 
> ```diff
> -            sage: sorted(D.keys()) == sorted(g)
> +            sage: set(D.keys()) == set(g)
> ```
> I don't know what is best, just asking.


In this precise case, we can sort the vertices, so no need to worry about python3.



---

archive/issue_comments_368673.json:
```json
{
    "body": "<a id='comment:9'></a>Replying to [comment:8 chapoton]:\n> Replying to [comment:7 dcoudert]:\n> > By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.\n\n> \n> I see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?\n\n\nWe could may be have one such test just in case. I don't have better proposals.",
    "created_at": "2018-10-19T10:03:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368673",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'></a>Replying to [comment:8 chapoton]:
> Replying to [comment:7 dcoudert]:
> > By flagging the tests `# random`, aren't we taking the risk of missing errors induced by other changes ? I agree that these tests are very sensitive.

> 
> I see no really better option.. One could maybe check that the result is a dictionary, with keys in G and values that are pairs of numbers ?


We could may be have one such test just in case. I don't have better proposals.



---

archive/issue_comments_368674.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T11:57:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368674",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_368675.json:
```json
{
    "body": "<a id='comment:11'></a>Comme ca, ca irait ?",
    "created_at": "2018-10-19T11:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368675",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>Comme ca, ca irait ?



---

archive/issue_comments_368676.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-19T15:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368676",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_368677.json:
```json
{
    "body": "<a id='comment:12'></a>Perfect.",
    "created_at": "2018-10-19T15:32:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368677",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'></a>Perfect.



---

archive/issue_comments_368678.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-20T19:02:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368678",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_065706.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T19:02:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26431#event-65706"
}
```



---

archive/issue_comments_368679.json:
```json
{
    "body": "<a id='comment:14'></a>This should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26431#issuecomment-368679",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>This should be re-targeted for 8.5.



---

archive/issue_events_065707.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26431",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26431#event-65707"
}
```
