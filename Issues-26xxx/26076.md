# Issue 26076: Free nilpotent Lie algebras

archive/issues_025839.json:
```json
{
    "assignees": [],
    "body": "Implement the construction of free nilpotent Lie algebras, i.e. Lie algebras where the only additional relations among the brackets are that iterated brackets longer than the nilpotency step must vanish.\n\nDepends on #26074\n\nCC:  @tscrim\n\nKeywords: **Lie algebras, nilpotent**\n\nBranch/Commit: **[664fbec](https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Eero Hakavuori**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26076_\n\n",
    "closed_at": "2018-08-26T09:37:40Z",
    "created_at": "2018-08-17T07:00:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Free nilpotent Lie algebras",
    "type": "issue",
    "updated_at": "2018-08-26T09:37:40Z",
    "url": "https://github.com/sagemath/sage/issues/26076",
    "user": "https://github.com/ehaka"
}
```
Implement the construction of free nilpotent Lie algebras, i.e. Lie algebras where the only additional relations among the brackets are that iterated brackets longer than the nilpotency step must vanish.

Depends on #26074

CC:  @tscrim

Keywords: **Lie algebras, nilpotent**

Branch/Commit: **[664fbec](https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd)**

Reviewer: **Travis Scrimshaw**

Author: **Eero Hakavuori**

_Issue created by migration from https://trac.sagemath.org/ticket/26076_





---

archive/issue_events_329774.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-17T07:00:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329774"
}
```



---

archive/issue_events_329775.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-17T07:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329775"
}
```



---

archive/issue_events_329776.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-17T07:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329776"
}
```



---

archive/issue_events_329777.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-17T07:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329777"
}
```



---

archive/issue_comments_404376.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nSome implementation already exists in an external private codebase that I need to clean up and import into Sage.",
    "created_at": "2018-08-17T07:02:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404376",
    "user": "https://github.com/ehaka"
}
```

<a id='comment:1'>Comment 1:</a>
Some implementation already exists in an external private codebase that I need to clean up and import into Sage.



---

archive/issue_comments_404377.json:
```json
{
    "body": "Commit: **[cb8a103](https://github.com/sagemath/sagetrac-mirror/commit/cb8a1030ea0da83777e06bbf8aea9876819b2567)**",
    "created_at": "2018-08-17T11:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404377",
    "user": "https://github.com/ehaka"
}
```

Commit: **[cb8a103](https://github.com/sagemath/sagetrac-mirror/commit/cb8a1030ea0da83777e06bbf8aea9876819b2567)**



---

archive/issue_events_329778.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-17T11:59:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329778"
}
```



---

archive/issue_comments_404378.json:
```json
{
    "body": "Author: **Eero Hakavuori**",
    "created_at": "2018-08-17T11:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404378",
    "user": "https://github.com/ehaka"
}
```

Author: **Eero Hakavuori**



---

archive/issue_comments_404379.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThe adapted version of the free nilpotent Lie algebra construction is in the commits. I removed the parameter `free` from the method `sage.algebras.lie_algebras.nilpotent_lie_algebra.NilpotentLieAlgebra` of #26074, as the parameter seemed to be redundant.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19c27ebb9f0952df7ab9e607a94574f6b8d1c5cf\">19c27eb</a></td><td><code>New subcategories of Lie algebras (nilpotent, graded, stratified) and a base class for nilpotent Lie algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f58cdddb0eb08c123662d55f7c1fa4cacb0380d1\">f58cddd</a></td><td><code>Implementation of the construction of free nilpotent Lie algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb8a1030ea0da83777e06bbf8aea9876819b2567\">cb8a103</a></td><td><code>Changed doctests to use free nilpotent Lie algebras as more natural examples of graded or stratified Lie algebras</code></td></tr></table>\n",
    "created_at": "2018-08-17T11:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404379",
    "user": "https://github.com/ehaka"
}
```

<a id='comment:2'>Comment 2:</a>
The adapted version of the free nilpotent Lie algebra construction is in the commits. I removed the parameter `free` from the method `sage.algebras.lie_algebras.nilpotent_lie_algebra.NilpotentLieAlgebra` of #26074, as the parameter seemed to be redundant.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19c27ebb9f0952df7ab9e607a94574f6b8d1c5cf">19c27eb</a></td><td><code>New subcategories of Lie algebras (nilpotent, graded, stratified) and a base class for nilpotent Lie algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f58cdddb0eb08c123662d55f7c1fa4cacb0380d1">f58cddd</a></td><td><code>Implementation of the construction of free nilpotent Lie algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb8a1030ea0da83777e06bbf8aea9876819b2567">cb8a103</a></td><td><code>Changed doctests to use free nilpotent Lie algebras as more natural examples of graded or stratified Lie algebras</code></td></tr></table>




---

archive/issue_comments_404380.json:
```json
{
    "body": "Branch: **[u/gh-ehaka/free_nilpotent_lie_algebras-26076](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ehaka/free_nilpotent_lie_algebras-26076)**",
    "created_at": "2018-08-17T11:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404380",
    "user": "https://github.com/ehaka"
}
```

Branch: **[u/gh-ehaka/free_nilpotent_lie_algebras-26076](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ehaka/free_nilpotent_lie_algebras-26076)**



---

archive/issue_comments_404381.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/158bfdbfd8ed4c2afa660ff86cbb0fe2fbc54db0\">158bfdb</a></td><td><code>Fix to product_space() for when L is not a true subalgebra of A.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/293901e306fb90a5bd43b35571c9b36bc0025df6\">293901e</a></td><td><code>Fixed a test for _test_generated_by_degree_one().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8658e9d059f2d457de1a747068e8c5b37f27f338\">8658e9d</a></td><td><code>Fixing print order for fin-dim nilpotent Lie algebras with basis.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/726639fdd3518ea8a9dd0df3c4f708da5ead7dcc\">726639f</a></td><td><code>Some last little cleanup.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b3c58560a44a449d4757c72c5d5e81ef5fef723\">8b3c585</a></td><td><code>A better failure example for _test_generated_by_degree_one and some more doc.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1e1ace42fb1bd26ca7ebbdebc640ea4f7361520\">a1e1ace</a></td><td><code>Refactored nilpotent Lie algebra constructor into Lie algebra constructor</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14fcd30d1908bb3ce743a8b625467c498bbb2c98\">14fcd30</a></td><td><code>Deduction rule for the fact that finite dimensional stratified Lie algebras are nilpotent</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f1a0b1ede04fd5e24772ad9550a2467db171d6f9\">f1a0b1e</a></td><td><code>Docstring fix for indexing of grading of a stratification</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4d4bdf6d174deb544095b7bfc09e1312cd3138af\">4d4bdf6</a></td><td><code>Merge remote-tracking branch 'trac/public/lie_algebras/base_class_nilponent-26074' into free_nilpotent_lie_algebras</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31fa53ab88a2d593f4fa2992f04d12e6f71f9930\">31fa53a</a></td><td><code>Added free nilpotent Lie algebras to LieAlgebra constructor</code></td></tr></table>\n",
    "created_at": "2018-08-21T17:24:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404381",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:3'>Comment 3:</a>
Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/158bfdbfd8ed4c2afa660ff86cbb0fe2fbc54db0">158bfdb</a></td><td><code>Fix to product_space() for when L is not a true subalgebra of A.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/293901e306fb90a5bd43b35571c9b36bc0025df6">293901e</a></td><td><code>Fixed a test for _test_generated_by_degree_one().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8658e9d059f2d457de1a747068e8c5b37f27f338">8658e9d</a></td><td><code>Fixing print order for fin-dim nilpotent Lie algebras with basis.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/726639fdd3518ea8a9dd0df3c4f708da5ead7dcc">726639f</a></td><td><code>Some last little cleanup.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b3c58560a44a449d4757c72c5d5e81ef5fef723">8b3c585</a></td><td><code>A better failure example for _test_generated_by_degree_one and some more doc.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1e1ace42fb1bd26ca7ebbdebc640ea4f7361520">a1e1ace</a></td><td><code>Refactored nilpotent Lie algebra constructor into Lie algebra constructor</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14fcd30d1908bb3ce743a8b625467c498bbb2c98">14fcd30</a></td><td><code>Deduction rule for the fact that finite dimensional stratified Lie algebras are nilpotent</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f1a0b1ede04fd5e24772ad9550a2467db171d6f9">f1a0b1e</a></td><td><code>Docstring fix for indexing of grading of a stratification</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4d4bdf6d174deb544095b7bfc09e1312cd3138af">4d4bdf6</a></td><td><code>Merge remote-tracking branch 'trac/public/lie_algebras/base_class_nilponent-26074' into free_nilpotent_lie_algebras</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31fa53ab88a2d593f4fa2992f04d12e6f71f9930">31fa53a</a></td><td><code>Added free nilpotent Lie algebras to LieAlgebra constructor</code></td></tr></table>




---

archive/issue_comments_404382.json:
```json
{
    "body": "Changed commit from **[cb8a103](https://github.com/sagemath/sagetrac-mirror/commit/cb8a1030ea0da83777e06bbf8aea9876819b2567)** to **[31fa53a](https://github.com/sagemath/sagetrac-mirror/commit/31fa53ab88a2d593f4fa2992f04d12e6f71f9930)**",
    "created_at": "2018-08-21T17:24:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404382",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cb8a103](https://github.com/sagemath/sagetrac-mirror/commit/cb8a1030ea0da83777e06bbf8aea9876819b2567)** to **[31fa53a](https://github.com/sagemath/sagetrac-mirror/commit/31fa53ab88a2d593f4fa2992f04d12e6f71f9930)**



---

archive/issue_comments_404383.json:
```json
{
    "body": "Changed commit from **[31fa53a](https://github.com/sagemath/sagetrac-mirror/commit/31fa53ab88a2d593f4fa2992f04d12e6f71f9930)** to **[b7c8a2a](https://github.com/sagemath/sagetrac-mirror/commit/b7c8a2a95b985b716a440bbdc89342528b5817ba)**",
    "created_at": "2018-08-22T05:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404383",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[31fa53a](https://github.com/sagemath/sagetrac-mirror/commit/31fa53ab88a2d593f4fa2992f04d12e6f71f9930)** to **[b7c8a2a](https://github.com/sagemath/sagetrac-mirror/commit/b7c8a2a95b985b716a440bbdc89342528b5817ba)**



---

archive/issue_comments_404384.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a3dccfda64d58af8fe6bd5c564f3a4d8304ecf23\">a3dccfd</a></td><td><code>Merge branch 'public/lie_algebras/base_class_nilponent-26074' of git://trac.sagemath.org/sage into public/lie_algebras/base_class_nilponent-26074</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0fa41adae20fd16a97587a542c3ee4c9781d20ee\">0fa41ad</a></td><td><code>Fixing doctests, making category an arugment, and other small tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53a10be657d3ea6dfeb3373b762f4d8645047b97\">53a10be</a></td><td><code>Adding an extra doctest and fix for the category option.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7077cdbc9619e5d64cb53f49149fd96966dfd35\">d7077cd</a></td><td><code>Merge remote-tracking branch 'trac/public/lie_algebras/base_class_nilponent-26074' into u/gh-ehaka/free_nilpotent_lie_algebras-26076</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b7c8a2a95b985b716a440bbdc89342528b5817ba\">b7c8a2a</a></td><td><code>Fixed category parameter of initialization of free nilpotent Lie algebra</code></td></tr></table>\n",
    "created_at": "2018-08-22T05:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404384",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a3dccfda64d58af8fe6bd5c564f3a4d8304ecf23">a3dccfd</a></td><td><code>Merge branch 'public/lie_algebras/base_class_nilponent-26074' of git://trac.sagemath.org/sage into public/lie_algebras/base_class_nilponent-26074</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0fa41adae20fd16a97587a542c3ee4c9781d20ee">0fa41ad</a></td><td><code>Fixing doctests, making category an arugment, and other small tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53a10be657d3ea6dfeb3373b762f4d8645047b97">53a10be</a></td><td><code>Adding an extra doctest and fix for the category option.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7077cdbc9619e5d64cb53f49149fd96966dfd35">d7077cd</a></td><td><code>Merge remote-tracking branch 'trac/public/lie_algebras/base_class_nilponent-26074' into u/gh-ehaka/free_nilpotent_lie_algebras-26076</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b7c8a2a95b985b716a440bbdc89342528b5817ba">b7c8a2a</a></td><td><code>Fixed category parameter of initialization of free nilpotent Lie algebra</code></td></tr></table>




---

archive/issue_comments_404385.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5ec3adf73a86bd3e2175be25c47966a85d08f13\">a5ec3ad</a></td><td><code>Moving the axioms around for better printing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09b54f536e775b1f7c6b267ac25a77fbbdd52c99\">09b54f5</a></td><td><code>Merge remote-tracking branch 'trac/public/lie_algebras/base_class_nilponent-26074' into u/gh-ehaka/free_nilpotent_lie_algebras-26076</code></td></tr></table>\n",
    "created_at": "2018-08-22T05:51:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404385",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:5'>Comment 5:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5ec3adf73a86bd3e2175be25c47966a85d08f13">a5ec3ad</a></td><td><code>Moving the axioms around for better printing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09b54f536e775b1f7c6b267ac25a77fbbdd52c99">09b54f5</a></td><td><code>Merge remote-tracking branch 'trac/public/lie_algebras/base_class_nilponent-26074' into u/gh-ehaka/free_nilpotent_lie_algebras-26076</code></td></tr></table>




---

archive/issue_comments_404386.json:
```json
{
    "body": "Changed commit from **[b7c8a2a](https://github.com/sagemath/sagetrac-mirror/commit/b7c8a2a95b985b716a440bbdc89342528b5817ba)** to **[09b54f5](https://github.com/sagemath/sagetrac-mirror/commit/09b54f536e775b1f7c6b267ac25a77fbbdd52c99)**",
    "created_at": "2018-08-22T05:51:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404386",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b7c8a2a](https://github.com/sagemath/sagetrac-mirror/commit/b7c8a2a95b985b716a440bbdc89342528b5817ba)** to **[09b54f5](https://github.com/sagemath/sagetrac-mirror/commit/09b54f536e775b1f7c6b267ac25a77fbbdd52c99)**



---

archive/issue_comments_404387.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b70bebd70696d8d22a58b422f90c701cb459f2db\">b70bebd</a></td><td><code>doctest fix for changed category printing</code></td></tr></table>\n",
    "created_at": "2018-08-22T05:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404387",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b70bebd70696d8d22a58b422f90c701cb459f2db">b70bebd</a></td><td><code>doctest fix for changed category printing</code></td></tr></table>




---

archive/issue_comments_404388.json:
```json
{
    "body": "Changed commit from **[09b54f5](https://github.com/sagemath/sagetrac-mirror/commit/09b54f536e775b1f7c6b267ac25a77fbbdd52c99)** to **[b70bebd](https://github.com/sagemath/sagetrac-mirror/commit/b70bebd70696d8d22a58b422f90c701cb459f2db)**",
    "created_at": "2018-08-22T05:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404388",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[09b54f5](https://github.com/sagemath/sagetrac-mirror/commit/09b54f536e775b1f7c6b267ac25a77fbbdd52c99)** to **[b70bebd](https://github.com/sagemath/sagetrac-mirror/commit/b70bebd70696d8d22a58b422f90c701cb459f2db)**



---

archive/issue_comments_404389.json:
```json
{
    "body": "Changed commit from **[b70bebd](https://github.com/sagemath/sagetrac-mirror/commit/b70bebd70696d8d22a58b422f90c701cb459f2db)** to **[a60ef68](https://github.com/sagemath/sagetrac-mirror/commit/a60ef683b3747b7d129b14b6834d0f329820a4fa)**",
    "created_at": "2018-08-23T01:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404389",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[b70bebd](https://github.com/sagemath/sagetrac-mirror/commit/b70bebd70696d8d22a58b422f90c701cb459f2db)** to **[a60ef68](https://github.com/sagemath/sagetrac-mirror/commit/a60ef683b3747b7d129b14b6834d0f329820a4fa)**



---

archive/issue_comments_404390.json:
```json
{
    "body": "Changed branch from **[u/gh-ehaka/free_nilpotent_lie_algebras-26076](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ehaka/free_nilpotent_lie_algebras-26076)** to **[public/lie_algebras/free_nilpotent-26076](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/free_nilpotent-26076)**",
    "created_at": "2018-08-23T01:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404390",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/gh-ehaka/free_nilpotent_lie_algebras-26076](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-ehaka/free_nilpotent_lie_algebras-26076)** to **[public/lie_algebras/free_nilpotent-26076](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/free_nilpotent-26076)**



---

archive/issue_comments_404391.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-08-23T01:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404391",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_404392.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI have made some documentation tweaks and a little better normalization and testing of the input. I have also obtained a speedup of the creation of the free nilpotent lie algebra (although it costs a big more in terms of memory usage by having to hold 2 copies of all of the Lyndon word tuples in memory):\n\n```\n%sage: %time L = LieAlgebra(QQ, 3, step=3)\nCPU times: user 48 ms, sys: 4 ms, total: 52 ms\nWall time: 50.3 ms\nsage: %time L = LieAlgebra(QQ, 5, step=3)\nCPU times: user 16 ms, sys: 0 ns, total: 16 ms\nWall time: 12.7 ms\nsage: %time L = LieAlgebra(QQ, 5, step=4)\nCPU times: user 92 ms, sys: 0 ns, total: 92 ms\nWall time: 88.3 ms\nsage: %time L = LieAlgebra(QQ, 5, step=5)\nCPU times: user 1.45 s, sys: 28 ms, total: 1.48 s\nWall time: 1.47 s\nsage: %time L = LieAlgebra(QQ, 6, step=3)\nCPU times: user 16 ms, sys: 8 ms, total: 24 ms\nWall time: 21 ms\nsage: %time L = LieAlgebra(QQ, 6, step=4)\nCPU times: user 368 ms, sys: 36 ms, total: 404 ms\nWall time: 356 ms\nsage: %time L = LieAlgebra(QQ, 6, step=5)\nCPU times: user 8.83 s, sys: 148 ms, total: 8.98 s\nWall time: 8.97 s\n```\nvs prev\n\n```\nsage: %time L = LieAlgebra(QQ, 3, step=3)\nCPU times: user 44 ms, sys: 8 ms, total: 52 ms\nWall time: 49.3 ms\nsage: %time L = LieAlgebra(QQ, 5, step=3)\nCPU times: user 12 ms, sys: 4 ms, total: 16 ms\nWall time: 15.5 ms\nsage: %time L = LieAlgebra(QQ, 5, step=4)\nCPU times: user 144 ms, sys: 12 ms, total: 156 ms\nWall time: 142 ms\nsage: %time L = LieAlgebra(QQ, 5, step=5)\nCPU times: user 2.29 s, sys: 24 ms, total: 2.32 s\nWall time: 2.31 s\nsage: %time L = LieAlgebra(QQ, 6, step=3)\nCPU times: user 24 ms, sys: 0 ns, total: 24 ms\nWall time: 25.2 ms\nsage: %time L = LieAlgebra(QQ, 6, step=4)\nCPU times: user 536 ms, sys: 28 ms, total: 564 ms\nWall time: 533 ms\nsage: %time L = LieAlgebra(QQ, 6, step=5)\nCPU times: user 13.7 s, sys: 204 ms, total: 13.9 s\nWall time: 13.9 s\n```\n\nIf my changes are good, then positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f7aac54ad2479eb6f4044643043aae48e5093f7\">8f7aac5</a></td><td><code>Added missing files to documentation, removed non-existent one that was causing docbuild to fail</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/120c02af8877a76a06590d6a06c414ff3e7e1167\">120c02a</a></td><td><code>Some trivial fixes.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7699db449d8cc3d3d85df364c5ef7ddf152a30eb\">7699db4</a></td><td><code>Merge branch 'u/gh-ehaka/free_nilpotent_lie_algebras-26076' of git://trac.sagemath.org/sage into public/lie_algebras/free_nilpotent-26076</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1fe093f0eb87fadf439bd6ba15e2ab80627ffdd\">d1fe093</a></td><td><code>Some reviewer changes and tweaks.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a60ef683b3747b7d129b14b6834d0f329820a4fa\">a60ef68</a></td><td><code>Speedup constructor for free Nilpotent Lie algebras.</code></td></tr></table>\n",
    "created_at": "2018-08-23T01:04:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404392",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'>Comment 7:</a>
I have made some documentation tweaks and a little better normalization and testing of the input. I have also obtained a speedup of the creation of the free nilpotent lie algebra (although it costs a big more in terms of memory usage by having to hold 2 copies of all of the Lyndon word tuples in memory):

```
%sage: %time L = LieAlgebra(QQ, 3, step=3)
CPU times: user 48 ms, sys: 4 ms, total: 52 ms
Wall time: 50.3 ms
sage: %time L = LieAlgebra(QQ, 5, step=3)
CPU times: user 16 ms, sys: 0 ns, total: 16 ms
Wall time: 12.7 ms
sage: %time L = LieAlgebra(QQ, 5, step=4)
CPU times: user 92 ms, sys: 0 ns, total: 92 ms
Wall time: 88.3 ms
sage: %time L = LieAlgebra(QQ, 5, step=5)
CPU times: user 1.45 s, sys: 28 ms, total: 1.48 s
Wall time: 1.47 s
sage: %time L = LieAlgebra(QQ, 6, step=3)
CPU times: user 16 ms, sys: 8 ms, total: 24 ms
Wall time: 21 ms
sage: %time L = LieAlgebra(QQ, 6, step=4)
CPU times: user 368 ms, sys: 36 ms, total: 404 ms
Wall time: 356 ms
sage: %time L = LieAlgebra(QQ, 6, step=5)
CPU times: user 8.83 s, sys: 148 ms, total: 8.98 s
Wall time: 8.97 s
```
vs prev

```
sage: %time L = LieAlgebra(QQ, 3, step=3)
CPU times: user 44 ms, sys: 8 ms, total: 52 ms
Wall time: 49.3 ms
sage: %time L = LieAlgebra(QQ, 5, step=3)
CPU times: user 12 ms, sys: 4 ms, total: 16 ms
Wall time: 15.5 ms
sage: %time L = LieAlgebra(QQ, 5, step=4)
CPU times: user 144 ms, sys: 12 ms, total: 156 ms
Wall time: 142 ms
sage: %time L = LieAlgebra(QQ, 5, step=5)
CPU times: user 2.29 s, sys: 24 ms, total: 2.32 s
Wall time: 2.31 s
sage: %time L = LieAlgebra(QQ, 6, step=3)
CPU times: user 24 ms, sys: 0 ns, total: 24 ms
Wall time: 25.2 ms
sage: %time L = LieAlgebra(QQ, 6, step=4)
CPU times: user 536 ms, sys: 28 ms, total: 564 ms
Wall time: 533 ms
sage: %time L = LieAlgebra(QQ, 6, step=5)
CPU times: user 13.7 s, sys: 204 ms, total: 13.9 s
Wall time: 13.9 s
```

If my changes are good, then positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f7aac54ad2479eb6f4044643043aae48e5093f7">8f7aac5</a></td><td><code>Added missing files to documentation, removed non-existent one that was causing docbuild to fail</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/120c02af8877a76a06590d6a06c414ff3e7e1167">120c02a</a></td><td><code>Some trivial fixes.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7699db449d8cc3d3d85df364c5ef7ddf152a30eb">7699db4</a></td><td><code>Merge branch 'u/gh-ehaka/free_nilpotent_lie_algebras-26076' of git://trac.sagemath.org/sage into public/lie_algebras/free_nilpotent-26076</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1fe093f0eb87fadf439bd6ba15e2ab80627ffdd">d1fe093</a></td><td><code>Some reviewer changes and tweaks.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a60ef683b3747b7d129b14b6834d0f329820a4fa">a60ef68</a></td><td><code>Speedup constructor for free Nilpotent Lie algebras.</code></td></tr></table>




---

archive/issue_comments_404393.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd\">664fbec</a></td><td><code>Changing r=10 as cutoff to requiring a linear ordering.</code></td></tr></table>\n",
    "created_at": "2018-08-23T01:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404393",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd">664fbec</a></td><td><code>Changing r=10 as cutoff to requiring a linear ordering.</code></td></tr></table>




---

archive/issue_comments_404394.json:
```json
{
    "body": "Changed commit from **[a60ef68](https://github.com/sagemath/sagetrac-mirror/commit/a60ef683b3747b7d129b14b6834d0f329820a4fa)** to **[664fbec](https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd)**",
    "created_at": "2018-08-23T01:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404394",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a60ef68](https://github.com/sagemath/sagetrac-mirror/commit/a60ef683b3747b7d129b14b6834d0f329820a4fa)** to **[664fbec](https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd)**



---

archive/issue_comments_404395.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI also changed the `r = 10` case to not be accepted for the index naming because you are using 1-based indices.",
    "created_at": "2018-08-23T01:08:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404395",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'>Comment 10:</a>
I also changed the `r = 10` case to not be accepted for the index naming because you are using 1-based indices.



---

archive/issue_comments_404396.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@tscrim](#comment%3A7):\n> I have made some documentation tweaks and a little better normalization and testing of the input.\n\nAll good changes.\n\n> I have also obtained a speedup of the creation of the free nilpotent lie algebra (although it costs a big more in terms of memory usage by having to hold 2 copies of all of the Lyndon word tuples in memory)\n\nA ~30% speedup in the expensive cases, very impressive!\n\n\nReplying to [@tscrim](#comment%3A10):\n> I also changed the `r = 10` case to not be accepted for the index naming because you are using 1-based indices.\n\nI left the cutoff at 11 because I figured technically a zero does not cause ambiguity since it must always be attached to a 10. For aesthetic and convenience the cutoff at 10 is much better though.\n\nThe changes all look very good to me, thanks for the improvements!",
    "created_at": "2018-08-23T06:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404396",
    "user": "https://github.com/ehaka"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@tscrim](#comment%3A7):
> I have made some documentation tweaks and a little better normalization and testing of the input.

All good changes.

> I have also obtained a speedup of the creation of the free nilpotent lie algebra (although it costs a big more in terms of memory usage by having to hold 2 copies of all of the Lyndon word tuples in memory)

A ~30% speedup in the expensive cases, very impressive!


Replying to [@tscrim](#comment%3A10):
> I also changed the `r = 10` case to not be accepted for the index naming because you are using 1-based indices.

I left the cutoff at 11 because I figured technically a zero does not cause ambiguity since it must always be attached to a 10. For aesthetic and convenience the cutoff at 10 is much better though.

The changes all look very good to me, thanks for the improvements!



---

archive/issue_events_329779.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-23T06:31:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329779"
}
```



---

archive/issue_events_329780.json:
```json
{
    "actor": "https://github.com/ehaka",
    "created_at": "2018-08-23T06:31:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329780"
}
```



---

archive/issue_events_329781.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-08-26T09:37:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329781"
}
```



---

archive/issue_events_329782.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "17251138ec13a63de82398dff49942751d6a395f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-08-26T09:37:40Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26076#event-329782"
}
```



---

archive/issue_comments_404397.json:
```json
{
    "body": "Changed branch from **[public/lie_algebras/free_nilpotent-26076](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/free_nilpotent-26076)** to **[664fbec](https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd)**",
    "created_at": "2018-08-26T09:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26076",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26076#issuecomment-404397",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/lie_algebras/free_nilpotent-26076](https://github.com/sagemath/sagetrac-mirror/tree/public/lie_algebras/free_nilpotent-26076)** to **[664fbec](https://github.com/sagemath/sagetrac-mirror/commit/664fbeceb2594310cb95ffe1df434e41ceb5ebbd)**
