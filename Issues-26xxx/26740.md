# Issue 26740: create a python3 test make target

archive/issues_026503.json:
```json
{
    "assignees": [],
    "body": "to prevent regression by testing submodules already known to be ok.\n\n\n**CC:**  @jdemeyer @tscrim @kiwifb @embray @vbraun\n\n**Branch/Commit:** [f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)\n\n**Reviewer:** Volker Braun\n\n**Author:** Fr\u00e9d\u00e9ric Chapoton\n\nIssue created by migration from https://trac.sagemath.org/ticket/26740\n\n",
    "closed_at": "2019-01-24T18:17:55Z",
    "created_at": "2018-11-22T14:27:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "create a python3 test make target",
    "type": "issue",
    "updated_at": "2019-01-24T18:17:55Z",
    "url": "https://github.com/sagemath/sage/issues/26740",
    "user": "https://github.com/fchapoton"
}
```
to prevent regression by testing submodules already known to be ok.


**CC:**  @jdemeyer @tscrim @kiwifb @embray @vbraun

**Branch/Commit:** [f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)

**Reviewer:** Volker Braun

**Author:** Frédéric Chapoton

Issue created by migration from https://trac.sagemath.org/ticket/26740





---

archive/issue_events_321038.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321038"
}
```



---

archive/issue_events_321039.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "08517b",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321039"
}
```



---

archive/issue_events_321040.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "008080",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321040"
}
```



---

archive/issue_comments_414415.json:
```json
{
    "body": "<a id='comment:1'>**Comment 1:**</a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae\">9268f9d</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2018-11-22T14:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414415",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>**Comment 1:**</a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae">9268f9d</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_events_321041.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321041"
}
```



---

archive/issue_comments_414416.json:
```json
{
    "body": "**Branch:** [public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)",
    "created_at": "2018-11-22T14:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414416",
    "user": "https://github.com/fchapoton"
}
```

**Branch:** [public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)



---

archive/issue_comments_414417.json:
```json
{
    "body": "**Commit:** [9268f9df6b04612cece9531505087c91d32f3bae](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)",
    "created_at": "2018-11-22T14:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414417",
    "user": "https://github.com/fchapoton"
}
```

**Commit:** [9268f9df6b04612cece9531505087c91d32f3bae](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)



---

archive/issue_events_321042.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T15:32:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321042"
}
```



---

archive/issue_events_321043.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T15:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321043"
}
```



---

archive/issue_comments_414418.json:
```json
{
    "body": "<a id='comment:2'>**Comment 2:**</a>\nerrors when not using this option..",
    "created_at": "2018-11-22T15:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414418",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>**Comment 2:**</a>
errors when not using this option..



---

archive/issue_comments_414419.json:
```json
{
    "body": "<a id='comment:3'>**Comment 3:**</a>\nOh, well, this seems to work correctly. Feedback would be appreciated.",
    "created_at": "2018-11-22T19:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414419",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'>**Comment 3:**</a>
Oh, well, this seems to work correctly. Feedback would be appreciated.



---

archive/issue_events_321044.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T19:34:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321044"
}
```



---

archive/issue_events_321045.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T19:34:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321045"
}
```



---

archive/issue_comments_414420.json:
```json
{
    "body": "<a id='comment:4'>**Comment 4:**</a>\nI think that's a lofty goal but I have reservations until I understand how it impact and work with distro (like me). What happens when you\nhit this section with python2?\n\n```\n@@ -690,6 +690,13 @@ class DocTestController(SageObject):\n             Doctesting the Sage notebook.\n             sage: DC.files[0][-6:]  # py2\n             'sagenb'\n+\n+        ::\n+\n+            sage: DD = DocTestDefaults(python3 = True)\n+            sage: DC = DocTestController(DD, [])\n+            sage: DC.add_files()\n+            Doctesting modules compatible with Python 3\n         \"\"\"\n         opj = os.path.join\n         from sage.env import SAGE_SRC, SAGE_DOC_SRC, SAGE_ROOT\n```\n\nAs a distro with sage installed for python2 and python3 do I have to run something like `S{sage-python3} -t --python3 --long`, but not `--all`, to run the appropriate doctests?",
    "created_at": "2018-11-22T20:01:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414420",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'>**Comment 4:**</a>
I think that's a lofty goal but I have reservations until I understand how it impact and work with distro (like me). What happens when you
hit this section with python2?

```
@@ -690,6 +690,13 @@ class DocTestController(SageObject):
             Doctesting the Sage notebook.
             sage: DC.files[0][-6:]  # py2
             'sagenb'
+
+        ::
+
+            sage: DD = DocTestDefaults(python3 = True)
+            sage: DC = DocTestController(DD, [])
+            sage: DC.add_files()
+            Doctesting modules compatible with Python 3
         """
         opj = os.path.join
         from sage.env import SAGE_SRC, SAGE_DOC_SRC, SAGE_ROOT
```

As a distro with sage installed for python2 and python3 do I have to run something like `S{sage-python3} -t --python3 --long`, but not `--all`, to run the appropriate doctests?



---

archive/issue_comments_414421.json:
```json
{
    "body": "<a id='comment:5'>**Comment 5:**</a>\nThere is no reason for you to worry at all. It has no effect on the distro side, as far as I can tell.\n\nThis introduces a new option \"--python3\" when running the doctests. Maybe a better name would be \"--python3only\" or \"--python3-valid-modules-only\".\n\nThe only effect of using this option is to select a pre-defined list of modules whose doctests will be launched.\n\nIf you use the option with sage2, it will just test those files.\n\nIf you use this option with sage3, exactly the same.\n\nThe crop in your comment just doctests that this option exists and works. It does not launch the associated behaviour.\n\nThe goal of this ticket is to allow our release manager to have a builtbot that checks that no regression happens, namely that once a module is ok for python3, it will be checked to remain so.",
    "created_at": "2018-11-22T20:47:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414421",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:5'>**Comment 5:**</a>
There is no reason for you to worry at all. It has no effect on the distro side, as far as I can tell.

This introduces a new option "--python3" when running the doctests. Maybe a better name would be "--python3only" or "--python3-valid-modules-only".

The only effect of using this option is to select a pre-defined list of modules whose doctests will be launched.

If you use the option with sage2, it will just test those files.

If you use this option with sage3, exactly the same.

The crop in your comment just doctests that this option exists and works. It does not launch the associated behaviour.

The goal of this ticket is to allow our release manager to have a builtbot that checks that no regression happens, namely that once a module is ok for python3, it will be checked to remain so.



---

archive/issue_comments_414422.json:
```json
{
    "body": "<a id='comment:6'>**Comment 6:**</a>\nThank you for taking the time to answer. Just to be sure, I could run the test as I suggested on a distro to check for regression or problem with my distro regarding python3?",
    "created_at": "2018-11-22T20:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414422",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:6'>**Comment 6:**</a>
Thank you for taking the time to answer. Just to be sure, I could run the test as I suggested on a distro to check for regression or problem with my distro regarding python3?



---

archive/issue_comments_414423.json:
```json
{
    "body": "<a id='comment:7'>**Comment 7:**</a>\nRight, if you provide sage3 on your distro, you could indeed use this option to check that all these tests do pass as they should.",
    "created_at": "2018-11-23T07:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414423",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'>**Comment 7:**</a>
Right, if you provide sage3 on your distro, you could indeed use this option to check that all these tests do pass as they should.



---

archive/issue_comments_414424.json:
```json
{
    "body": "**Changing commit** from \"[9268f9df6b04612cece9531505087c91d32f3bae](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)\" to \"[6b743fd3c413af9e9c69168fbe837c9360d2e9c8](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)\".",
    "created_at": "2018-11-23T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414424",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[9268f9df6b04612cece9531505087c91d32f3bae](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)" to "[6b743fd3c413af9e9c69168fbe837c9360d2e9c8](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)".



---

archive/issue_comments_414425.json:
```json
{
    "body": "<a id='comment:8'>**Comment 8:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8\">6b743fd</a></td><td><code>trac 26740 fix</code></td></tr></table>\n",
    "created_at": "2018-11-23T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414425",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>**Comment 8:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8">6b743fd</a></td><td><code>trac 26740 fix</code></td></tr></table>




---

archive/issue_comments_414426.json:
```json
{
    "body": "<a id='comment:9'>**Comment 9:**</a>\nI don't really see the point.  Just let them fail.  If regressions happen they will usually be small, and will be reduced over time.  Before long hopefully there will, or should, be none, in which case this will be a useless feature.\n\nWhat I think would be more useful, which is something I *have* wanted for other purposes as well, is a way to provide `./sage -t -a` a custom list of \"known failures\" which could be provided on a machine by machine basis (e.g. known failures for a specific platform being tested on).  This could be passed, for example, to any Python 3 builders if you wanted.  It would also be helpful to know when tests that are expected to fail start passing :)",
    "created_at": "2018-11-26T14:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414426",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>**Comment 9:**</a>
I don't really see the point.  Just let them fail.  If regressions happen they will usually be small, and will be reduced over time.  Before long hopefully there will, or should, be none, in which case this will be a useless feature.

What I think would be more useful, which is something I *have* wanted for other purposes as well, is a way to provide `./sage -t -a` a custom list of "known failures" which could be provided on a machine by machine basis (e.g. known failures for a specific platform being tested on).  This could be passed, for example, to any Python 3 builders if you wanted.  It would also be helpful to know when tests that are expected to fail start passing :)



---

archive/issue_comments_414427.json:
```json
{
    "body": "<a id='comment:10'>**Comment 10:**</a>\nThe point is to move the responsability of fixing the new failing doctests from me (or should I say us?) to the ticket owners..",
    "created_at": "2018-11-26T15:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414427",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'>**Comment 10:**</a>
The point is to move the responsability of fixing the new failing doctests from me (or should I say us?) to the ticket owners..



---

archive/issue_comments_414428.json:
```json
{
    "body": "<a id='comment:11'>**Comment 11:**</a>\nI'm not opposed to that of course, but I think a more generic way to list known-failures or exclusions would be better.  This also obviates the need for a special make target since this can just be passed in the `TEST_OPTS` variable.",
    "created_at": "2018-11-26T15:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414428",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'>**Comment 11:**</a>
I'm not opposed to that of course, but I think a more generic way to list known-failures or exclusions would be better.  This also obviates the need for a special make target since this can just be passed in the `TEST_OPTS` variable.



---

archive/issue_events_321046.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-27T15:19:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321046"
}
```



---

archive/issue_events_321047.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-27T15:19:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321047"
}
```



---

archive/issue_comments_414429.json:
```json
{
    "body": "<a id='comment:12'>**Comment 12:**</a>\nBeing able to pass in a list of known failures might be useful, feel free to open a ticket for that. Until then: The perfect is the enemy of the good.",
    "created_at": "2018-11-27T15:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414429",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:12'>**Comment 12:**</a>
Being able to pass in a list of known failures might be useful, feel free to open a ticket for that. Until then: The perfect is the enemy of the good.



---

archive/issue_comments_414430.json:
```json
{
    "body": "**Reviewer:** Volker Braun",
    "created_at": "2018-11-27T15:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414430",
    "user": "https://github.com/vbraun"
}
```

**Reviewer:** Volker Braun



---

archive/issue_comments_414431.json:
```json
{
    "body": "<a id='comment:14'>**Comment 14:**</a>\nI disagree--this can very easily be improved.  Just give me a day or two.",
    "created_at": "2018-11-27T16:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414431",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'>**Comment 14:**</a>
I disagree--this can very easily be improved.  Just give me a day or two.



---

archive/issue_events_321048.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-27T16:05:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321048"
}
```



---

archive/issue_events_321049.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-27T16:05:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321049"
}
```



---

archive/issue_comments_414432.json:
```json
{
    "body": "<a id='comment:15'>**Comment 15:**</a>\nAll that's required is to remove the \"python 3\" specific stuff, and change that option to be able to read a list of filenames/directories (possibly optionally from a file as well).  We could even add a file listing known Python 3 failures to the repository which I wouldn't mind, but it's silly to hard-code this when a few small changes can upgrade it to a more generally useful feature that won't just have to be ripped out later when it becomes obsolete.",
    "created_at": "2018-11-27T16:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414432",
    "user": "https://github.com/embray"
}
```

<a id='comment:15'>**Comment 15:**</a>
All that's required is to remove the "python 3" specific stuff, and change that option to be able to read a list of filenames/directories (possibly optionally from a file as well).  We could even add a file listing known Python 3 failures to the repository which I wouldn't mind, but it's silly to hard-code this when a few small changes can upgrade it to a more generally useful feature that won't just have to be ripped out later when it becomes obsolete.



---

archive/issue_comments_414433.json:
```json
{
    "body": "<a id='comment:16'>**Comment 16:**</a>\nOK, you have 2 days. And make sure that the known python3 failures are in the repo so I don't have to manually maintain them on a dozen buildbots.",
    "created_at": "2018-11-27T16:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414433",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:16'>**Comment 16:**</a>
OK, you have 2 days. And make sure that the known python3 failures are in the repo so I don't have to manually maintain them on a dozen buildbots.



---

archive/issue_comments_414434.json:
```json
{
    "body": "<a id='comment:17'>**Comment 17:**</a>\nI mean, I don't know what you mean by \"a dozen buildbots\" as that's a setting that can just go in the builder settings for Python 3 builds, which is one place.  The builder settings have to be updated either way.  But I'm happy to maintain a list in the repo for now since they can be scratched off alongside changes that fix them.",
    "created_at": "2018-11-27T16:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414434",
    "user": "https://github.com/embray"
}
```

<a id='comment:17'>**Comment 17:**</a>
I mean, I don't know what you mean by "a dozen buildbots" as that's a setting that can just go in the builder settings for Python 3 builds, which is one place.  The builder settings have to be updated either way.  But I'm happy to maintain a list in the repo for now since they can be scratched off alongside changes that fix them.



---

archive/issue_comments_414435.json:
```json
{
    "body": "<a id='comment:18'>**Comment 18:**</a>\nThanks, looking forward to having a py3 buildbot...",
    "created_at": "2018-11-27T16:42:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414435",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:18'>**Comment 18:**</a>
Thanks, looking forward to having a py3 buildbot...



---

archive/issue_comments_414436.json:
```json
{
    "body": "<a id='comment:19'>**Comment 19:**</a>\nIt occurs to me I initially misread the patch on this ticket--I thought the hard-coded `python3_files` was for some reason a list of known failures to *exclude*, but in fact it's a list of sub-packages that are known passing.  In which case this could have been done without adding anything to the doctest runner.  Rather, just put this list in a file or something and (as a compromise, for simplicity's sake) keep the separate makefile target and do the rough equivalent of `./sage -t --long $(cat list-of-known-passing.txt)`.\n\nHowever, I still think having the converse--an ability to list known failures--would be very useful in general.",
    "created_at": "2018-11-28T07:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414436",
    "user": "https://github.com/embray"
}
```

<a id='comment:19'>**Comment 19:**</a>
It occurs to me I initially misread the patch on this ticket--I thought the hard-coded `python3_files` was for some reason a list of known failures to *exclude*, but in fact it's a list of sub-packages that are known passing.  In which case this could have been done without adding anything to the doctest runner.  Rather, just put this list in a file or something and (as a compromise, for simplicity's sake) keep the separate makefile target and do the rough equivalent of `./sage -t --long $(cat list-of-known-passing.txt)`.

However, I still think having the converse--an ability to list known failures--would be very useful in general.



---

archive/issue_comments_414437.json:
```json
{
    "body": "<a id='comment:20'>**Comment 20:**</a>\nFr\u00e9d\u00e9ric, does your list of \"known passing\" include with flags like `--long`?  Or are we not worrying about that for now?  I'm just curious because I want to see about generating the converse list, of test modules with known failures.",
    "created_at": "2018-11-28T08:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414437",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'>**Comment 20:**</a>
Frédéric, does your list of "known passing" include with flags like `--long`?  Or are we not worrying about that for now?  I'm just curious because I want to see about generating the converse list, of test modules with known failures.



---

archive/issue_comments_414438.json:
```json
{
    "body": "**Attachment:** [small-log.txt](https://github.com/sagemath/sage/files/ticket26740/small-log.txt)",
    "created_at": "2018-11-28T08:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414438",
    "user": "https://github.com/fchapoton"
}
```

**Attachment:** [small-log.txt](https://github.com/sagemath/sage/files/ticket26740/small-log.txt)



---

archive/issue_comments_414439.json:
```json
{
    "body": "<a id='comment:21'>**Comment 21:**</a>\nI have attached the list of failing files in 8.5.b5. This is the result of a patchbot run, so it was done with \"--long\" but not using any other optional option.\n\n**EDIT**:\nThere is a script attached to #26212 that takes a patchbot log and extract useful information, including the list of failing modules.",
    "created_at": "2018-11-28T08:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414439",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:21'>**Comment 21:**</a>
I have attached the list of failing files in 8.5.b5. This is the result of a patchbot run, so it was done with "--long" but not using any other optional option.

**EDIT**:
There is a script attached to #26212 that takes a patchbot log and extract useful information, including the list of failing modules.



---

archive/issue_comments_414440.json:
```json
{
    "body": "<a id='comment:22'>**Comment 22:**</a>\nThanks.  Interestingly, I just ran the tests against current develop branch *without* `--long` and got 309 failing files: more than the log you attached.  Perhaps YMMV depending on your system, or the order in which the test were run.  Still, pretty good!  A lot of progress (~150 more passing) since I last tried.",
    "created_at": "2018-11-28T08:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414440",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'>**Comment 22:**</a>
Thanks.  Interestingly, I just ran the tests against current develop branch *without* `--long` and got 309 failing files: more than the log you attached.  Perhaps YMMV depending on your system, or the order in which the test were run.  Still, pretty good!  A lot of progress (~150 more passing) since I last tried.



---

archive/issue_comments_414441.json:
```json
{
    "body": "<a id='comment:23'>**Comment 23:**</a>\nPlease see #26785 and its companion #26784.\n\nOne minor concern I have is that because this list of \"known failures\" is more fine-grained than the list of \"expected passes\" in this ticket, it could be a little more difficult to manage especially w.r.t. merge conflicts.  I would like to give it a try though.  Merge conflicts shouldn't be too much trouble since we want to mostly be removing lines from the file and never adding them.",
    "created_at": "2018-11-28T15:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414441",
    "user": "https://github.com/embray"
}
```

<a id='comment:23'>**Comment 23:**</a>
Please see #26785 and its companion #26784.

One minor concern I have is that because this list of "known failures" is more fine-grained than the list of "expected passes" in this ticket, it could be a little more difficult to manage especially w.r.t. merge conflicts.  I would like to give it a try though.  Merge conflicts shouldn't be too much trouble since we want to mostly be removing lines from the file and never adding them.



---

archive/issue_comments_414442.json:
```json
{
    "body": "<a id='comment:24'>**Comment 24:**</a>\nI am not very happy (for the present task) with the idea that Erik proposed to store a list of failing files. And I dislike even more a list of failing files than a list of failing modules. My only aim here (yes it's scaffolding, but that is useful and can be removed once used) is to prevent regression by using this make target as a lock.\n\nStoring and testing a list of successful python-3 modules has two advantages : it needs much less maintenance work, as it will change less often. And we do not want to run for nothing the doctests that will be failing.\n\nMaybe other opinions would help to arbitrate (@jdemeyer, @kiwifb). If somebody else review #26785 and #26784, I will certainly not object in any manner.",
    "created_at": "2018-12-03T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414442",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'>**Comment 24:**</a>
I am not very happy (for the present task) with the idea that Erik proposed to store a list of failing files. And I dislike even more a list of failing files than a list of failing modules. My only aim here (yes it's scaffolding, but that is useful and can be removed once used) is to prevent regression by using this make target as a lock.

Storing and testing a list of successful python-3 modules has two advantages : it needs much less maintenance work, as it will change less often. And we do not want to run for nothing the doctests that will be failing.

Maybe other opinions would help to arbitrate (@jdemeyer, @kiwifb). If somebody else review #26785 and #26784, I will certainly not object in any manner.



---

archive/issue_comments_414443.json:
```json
{
    "body": "<a id='comment:25'>**Comment 25:**</a>\nI don't really understand your point--this accomplishes the same purpose.  It's still effectively storing a list of \"successful\" modules in the form of the list of all tests, minus those that are known failures.\n\n> And we do not want to run for nothing the doctests that will be failing.\n\nIt's not for nothing: In fact it can inform you when some files' tests start passing e.g. due to something that was fixed.",
    "created_at": "2018-12-11T10:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414443",
    "user": "https://github.com/embray"
}
```

<a id='comment:25'>**Comment 25:**</a>
I don't really understand your point--this accomplishes the same purpose.  It's still effectively storing a list of "successful" modules in the form of the list of all tests, minus those that are known failures.

> And we do not want to run for nothing the doctests that will be failing.

It's not for nothing: In fact it can inform you when some files' tests start passing e.g. due to something that was fixed.



---

archive/issue_comments_414444.json:
```json
{
    "body": "<a id='comment:26'>**Comment 26:**</a>\nI thought I made this point elsewhere, but should add your patch could be implemented as a file like `python3-known-passing.txt`:\n\n```\nsrc/sage/foo\nsrc/sage/bar\nsrc/sage/whatever\n...\n```\n\n```\n$ cat python3-known-passing.txt | xargs ./sage -t --long -p\n```\n\nNo need for special \"hacks\".",
    "created_at": "2018-12-11T10:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414444",
    "user": "https://github.com/embray"
}
```

<a id='comment:26'>**Comment 26:**</a>
I thought I made this point elsewhere, but should add your patch could be implemented as a file like `python3-known-passing.txt`:

```
src/sage/foo
src/sage/bar
src/sage/whatever
...
```

```
$ cat python3-known-passing.txt | xargs ./sage -t --long -p
```

No need for special "hacks".



---

archive/issue_comments_414445.json:
```json
{
    "body": "<a id='comment:27'>**Comment 27:**</a>\nSo how about turning your one-liner into a makefile target? Both positive and negative lists can be useful for different use cases...",
    "created_at": "2018-12-25T11:30:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414445",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:27'>**Comment 27:**</a>
So how about turning your one-liner into a makefile target? Both positive and negative lists can be useful for different use cases...



---

archive/issue_events_321050.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:37:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321050"
}
```



---

archive/issue_events_321051.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:37:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321051"
}
```



---

archive/issue_comments_414446.json:
```json
{
    "body": "**Changing commit** from \"[6b743fd3c413af9e9c69168fbe837c9360d2e9c8](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)\" to \"[1cdda8f79604b1518c1b9aa20ea74157316c22d3](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)\".",
    "created_at": "2019-01-16T16:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414446",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[6b743fd3c413af9e9c69168fbe837c9360d2e9c8](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)" to "[1cdda8f79604b1518c1b9aa20ea74157316c22d3](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)".



---

archive/issue_comments_414447.json:
```json
{
    "body": "<a id='comment:29'>**Comment 29:**</a>\nanother tentative, as suggested by Erik\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3\">1cdda8f</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2019-01-16T16:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414447",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:29'>**Comment 29:**</a>
another tentative, as suggested by Erik

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3">1cdda8f</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_comments_414448.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)\" to \"[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)\".",
    "created_at": "2019-01-16T16:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414448",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)" to "[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)".



---

archive/issue_comments_414449.json:
```json
{
    "body": "<a id='comment:30'>**Comment 30:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83\">5fe82a3</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2019-01-16T16:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414449",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:30'>**Comment 30:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83">5fe82a3</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_comments_414450.json:
```json
{
    "body": "**Changing commit** from \"[1cdda8f79604b1518c1b9aa20ea74157316c22d3](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)\" to \"[5fe82a376061f26ada95d206826e6e8ebc993b83](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)\".",
    "created_at": "2019-01-16T16:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414450",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[1cdda8f79604b1518c1b9aa20ea74157316c22d3](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)" to "[5fe82a376061f26ada95d206826e6e8ebc993b83](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)".



---

archive/issue_comments_414451.json:
```json
{
    "body": "<a id='comment:31'>**Comment 31:**</a>\nok, ready for review",
    "created_at": "2019-01-16T16:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414451",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:31'>**Comment 31:**</a>
ok, ready for review



---

archive/issue_events_321052.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-16T16:43:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "008080",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321052"
}
```



---

archive/issue_events_321053.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-16T16:43:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321053"
}
```



---

archive/issue_comments_414452.json:
```json
{
    "body": "<a id='comment:32'>**Comment 32:**</a>\nWhy is `python3-known-passing.txt` one long line? Isn't the whole point of `xargs` to support a file with one filename per line?",
    "created_at": "2019-01-16T16:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414452",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'>**Comment 32:**</a>
Why is `python3-known-passing.txt` one long line? Isn't the whole point of `xargs` to support a file with one filename per line?



---

archive/issue_comments_414453.json:
```json
{
    "body": "<a id='comment:33'>**Comment 33:**</a>\nBecause this is the (only) way I managed to get it work. If you feel able to do better, please help!",
    "created_at": "2019-01-16T16:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414453",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'>**Comment 33:**</a>
Because this is the (only) way I managed to get it work. If you feel able to do better, please help!



---

archive/issue_comments_414454.json:
```json
{
    "body": "<a id='comment:34'>**Comment 34:**</a>\nit turns out that one can split the lines, coming soon",
    "created_at": "2019-01-16T16:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414454",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:34'>**Comment 34:**</a>
it turns out that one can split the lines, coming soon



---

archive/issue_comments_414455.json:
```json
{
    "body": "**Changing commit** from \"[5fe82a376061f26ada95d206826e6e8ebc993b83](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)\" to \"[2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)\".",
    "created_at": "2019-01-16T16:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414455",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[5fe82a376061f26ada95d206826e6e8ebc993b83](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)" to "[2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)".



---

archive/issue_comments_414456.json:
```json
{
    "body": "<a id='comment:35'>**Comment 35:**</a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61\">2ea4678</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2019-01-16T16:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414456",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:35'>**Comment 35:**</a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61">2ea4678</a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_comments_414457.json:
```json
{
    "body": "<a id='comment:36'>**Comment 36:**</a>\ndone. Better like that ?",
    "created_at": "2019-01-16T17:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414457",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:36'>**Comment 36:**</a>
done. Better like that ?



---

archive/issue_comments_414458.json:
```json
{
    "body": "<a id='comment:37'>**Comment 37:**</a>\nJust to avoid top-level file proliferation, can this .txt file go in `misc/` or something?",
    "created_at": "2019-01-16T17:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414458",
    "user": "https://github.com/embray"
}
```

<a id='comment:37'>**Comment 37:**</a>
Just to avoid top-level file proliferation, can this .txt file go in `misc/` or something?



---

archive/issue_comments_414459.json:
```json
{
    "body": "<a id='comment:38'>**Comment 38:**</a>\nJust tell me where exactly I should put that and I will do so..",
    "created_at": "2019-01-16T19:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414459",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:38'>**Comment 38:**</a>
Just tell me where exactly I should put that and I will do so..



---

archive/issue_comments_414460.json:
```json
{
    "body": "<a id='comment:39'>**Comment 39:**</a>\nMaybe create a file in `src/ext/doctest/`?",
    "created_at": "2019-01-16T19:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414460",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:39'>**Comment 39:**</a>
Maybe create a file in `src/ext/doctest/`?



---

archive/issue_comments_414461.json:
```json
{
    "body": "**Changing commit** from \"[2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)\" to \"[f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)\".",
    "created_at": "2019-01-16T19:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414461",
    "user": "https://github.com/sagetrac-git"
}
```

**Changing commit** from "[2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)" to "[f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)".



---

archive/issue_comments_414462.json:
```json
{
    "body": "<a id='comment:40'>**Comment 40:**</a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0\">f9fbbd0</a></td><td><code>move the python3-known-passing file</code></td></tr></table>\n",
    "created_at": "2019-01-16T19:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414462",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:40'>**Comment 40:**</a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0">f9fbbd0</a></td><td><code>move the python3-known-passing file</code></td></tr></table>




---

archive/issue_comments_414463.json:
```json
{
    "body": "<a id='comment:41'>**Comment 41:**</a>\ndone, thanks",
    "created_at": "2019-01-16T19:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414463",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:41'>**Comment 41:**</a>
done, thanks



---

archive/issue_comments_414464.json:
```json
{
    "body": "<a id='comment:42'>**Comment 42:**</a>\nThis works well on my usual python3-test machine, where the selected passing doctests are known to pass since many months. Before putting it on a buildbot, could other people please launch the new make target on python3-sage installations on various machines ? We need to see if some failures happen in these modules in other architectures and os.",
    "created_at": "2019-01-17T10:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414464",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:42'>**Comment 42:**</a>
This works well on my usual python3-test machine, where the selected passing doctests are known to pass since many months. Before putting it on a buildbot, could other people please launch the new make target on python3-sage installations on various machines ? We need to see if some failures happen in these modules in other architectures and os.



---

archive/issue_comments_414465.json:
```json
{
    "body": "<a id='comment:43'>**Comment 43:**</a>\nIt worked for me on OS X. On some future ticket, we should add a `ptestlong` option.",
    "created_at": "2019-01-17T16:31:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414465",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:43'>**Comment 43:**</a>
It worked for me on OS X. On some future ticket, we should add a `ptestlong` option.



---

archive/issue_comments_414466.json:
```json
{
    "body": "<a id='comment:44'>**Comment 44:**</a>\nThanks John. Anybody else ? Maybe we can consider that this is ready for positive review ? Volker, what do you think ?",
    "created_at": "2019-01-18T09:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414466",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:44'>**Comment 44:**</a>
Thanks John. Anybody else ? Maybe we can consider that this is ready for positive review ? Volker, what do you think ?



---

archive/issue_comments_414467.json:
```json
{
    "body": "<a id='comment:45'>**Comment 45:**</a>\nI literally just meant adding a top-level directory called `misc/`, but either way.",
    "created_at": "2019-01-18T12:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414467",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'>**Comment 45:**</a>
I literally just meant adding a top-level directory called `misc/`, but either way.



---

archive/issue_comments_414468.json:
```json
{
    "body": "<a id='comment:46'>**Comment 46:**</a>\nwould you please try it on Cygwin ?",
    "created_at": "2019-01-18T12:46:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414468",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:46'>**Comment 46:**</a>
would you please try it on Cygwin ?



---

archive/issue_comments_414469.json:
```json
{
    "body": "<a id='comment:47'>**Comment 47:**</a>\nI would but my Windows machine is currently occupied building the Sage 8.6 release.  I'm not sure it's really needed though: There's nothing very special about Python 2 vs Python 3 on Cygwin that I'm aware of as it pertains to Sage.",
    "created_at": "2019-01-18T13:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414469",
    "user": "https://github.com/embray"
}
```

<a id='comment:47'>**Comment 47:**</a>
I would but my Windows machine is currently occupied building the Sage 8.6 release.  I'm not sure it's really needed though: There's nothing very special about Python 2 vs Python 3 on Cygwin that I'm aware of as it pertains to Sage.



---

archive/issue_comments_414470.json:
```json
{
    "body": "<a id='comment:48'>**Comment 48:**</a>\nI can test on `ppc64le`",
    "created_at": "2019-01-18T14:00:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414470",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:48'>**Comment 48:**</a>
I can test on `ppc64le`



---

archive/issue_comments_414471.json:
```json
{
    "body": "<a id='comment:49'>**Comment 49:**</a>\nOn `Linux sardonis 4.4.0-141-generic #167-Ubuntu SMP Wed Dec 5 10:33:00 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux`:\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 367.5 seconds\n    cpu time: 4433.2 seconds\n    cumulative wall time: 4408.9 seconds\n```",
    "created_at": "2019-01-18T14:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414471",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:49'>**Comment 49:**</a>
On `Linux sardonis 4.4.0-141-generic #167-Ubuntu SMP Wed Dec 5 10:33:00 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux`:

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 367.5 seconds
    cpu time: 4433.2 seconds
    cumulative wall time: 4408.9 seconds
```



---

archive/issue_comments_414472.json:
```json
{
    "body": "<a id='comment:50'>**Comment 50:**</a>\nThanks. Would somebody be brave enough to set a positive review ?",
    "created_at": "2019-01-18T15:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414472",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:50'>**Comment 50:**</a>
Thanks. Would somebody be brave enough to set a positive review ?



---

archive/issue_events_321054.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-18T16:10:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "008080",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321054"
}
```



---

archive/issue_events_321055.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-18T16:10:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321055"
}
```



---

archive/issue_events_321056.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-24T18:17:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "008080",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321056"
}
```



---

archive/issue_events_321057.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8e4e83493a556effa7e064c5159db34c57a7c962",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-24T18:17:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-321057"
}
```



---

archive/issue_comments_414473.json:
```json
{
    "body": "**Changing branch** from \"[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)\" to \"[f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)\".",
    "created_at": "2019-01-24T18:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-414473",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)" to "[f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)".
