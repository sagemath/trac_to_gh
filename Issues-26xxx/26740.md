# Issue 26740: create a python3 test make target

archive/issues_026503.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nto prevent regression by testing submodules already known to be ok.\n\n\nCC:  @jdemeyer @tscrim @kiwifb @embray @vbraun\n\nComponent: **python3**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nBranch/Commit: **[`f9fbbd0`](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)**\n\nReviewer: **Volker Braun**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26740_\n\n",
    "closed_at": "2019-01-24T18:17:55Z",
    "created_at": "2018-11-22T14:27:29Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "create a python3 test make target",
    "type": "issue",
    "updated_at": "2019-01-24T18:17:55Z",
    "url": "https://github.com/sagemath/sage/issues/26740",
    "user": "https://github.com/fchapoton"
}
```
<div id="comment:0"></div>

to prevent regression by testing submodules already known to be ok.


CC:  @jdemeyer @tscrim @kiwifb @embray @vbraun

Component: **python3**

Author: **Frédéric Chapoton**

Branch/Commit: **[`f9fbbd0`](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)**

Reviewer: **Volker Braun**

_Issue created by migration from https://trac.sagemath.org/ticket/26740_





---

archive/issue_events_364643.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364643"
}
```



---

archive/issue_events_364644.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364644"
}
```



---

archive/issue_events_364645.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364645"
}
```



---

archive/issue_events_364646.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:27:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364646"
}
```



---

archive/issue_comments_411694.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae\"><code>9268f9d</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2018-11-22T14:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411694",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae"><code>9268f9d</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_events_364647.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T14:28:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364647"
}
```



---

archive/issue_comments_411695.json:
```json
{
    "body": "Branch: **[public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)**",
    "created_at": "2018-11-22T14:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411695",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)**



---

archive/issue_comments_411696.json:
```json
{
    "body": "Commit: **[`9268f9d`](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)**",
    "created_at": "2018-11-22T14:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411696",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`9268f9d`](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)**



---

archive/issue_events_364648.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T15:32:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364648"
}
```



---

archive/issue_events_364649.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T15:32:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364649"
}
```



---

archive/issue_comments_411697.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nerrors when not using this option..",
    "created_at": "2018-11-22T15:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411697",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

errors when not using this option..



---

archive/issue_comments_411698.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nOh, well, this seems to work correctly. Feedback would be appreciated.",
    "created_at": "2018-11-22T19:34:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411698",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

Oh, well, this seems to work correctly. Feedback would be appreciated.



---

archive/issue_events_364650.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T19:34:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364650"
}
```



---

archive/issue_events_364651.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-22T19:34:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364651"
}
```



---

archive/issue_comments_411699.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nI think that's a lofty goal but I have reservations until I understand how it impact and work with distro (like me). What happens when you\nhit this section with python2?\n\n```\n@@ -690,6 +690,13 @@ class DocTestController(SageObject):\n             Doctesting the Sage notebook.\n             sage: DC.files[0][-6:]  # py2\n             'sagenb'\n+\n+        ::\n+\n+            sage: DD = DocTestDefaults(python3 = True)\n+            sage: DC = DocTestController(DD, [])\n+            sage: DC.add_files()\n+            Doctesting modules compatible with Python 3\n         \"\"\"\n         opj = os.path.join\n         from sage.env import SAGE_SRC, SAGE_DOC_SRC, SAGE_ROOT\n```\n\nAs a distro with sage installed for python2 and python3 do I have to run something like `S{sage-python3} -t --python3 --long`, but not `--all`, to run the appropriate doctests?",
    "created_at": "2018-11-22T20:01:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411699",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

I think that's a lofty goal but I have reservations until I understand how it impact and work with distro (like me). What happens when you
hit this section with python2?

```
@@ -690,6 +690,13 @@ class DocTestController(SageObject):
             Doctesting the Sage notebook.
             sage: DC.files[0][-6:]  # py2
             'sagenb'
+
+        ::
+
+            sage: DD = DocTestDefaults(python3 = True)
+            sage: DC = DocTestController(DD, [])
+            sage: DC.add_files()
+            Doctesting modules compatible with Python 3
         """
         opj = os.path.join
         from sage.env import SAGE_SRC, SAGE_DOC_SRC, SAGE_ROOT
```

As a distro with sage installed for python2 and python3 do I have to run something like `S{sage-python3} -t --python3 --long`, but not `--all`, to run the appropriate doctests?



---

archive/issue_comments_411700.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThere is no reason for you to worry at all. It has no effect on the distro side, as far as I can tell.\n\nThis introduces a new option \"--python3\" when running the doctests. Maybe a better name would be \"--python3only\" or \"--python3-valid-modules-only\".\n\nThe only effect of using this option is to select a pre-defined list of modules whose doctests will be launched.\n\nIf you use the option with sage2, it will just test those files.\n\nIf you use this option with sage3, exactly the same.\n\nThe crop in your comment just doctests that this option exists and works. It does not launch the associated behaviour.\n\nThe goal of this ticket is to allow our release manager to have a builtbot that checks that no regression happens, namely that once a module is ok for python3, it will be checked to remain so.",
    "created_at": "2018-11-22T20:47:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411700",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

There is no reason for you to worry at all. It has no effect on the distro side, as far as I can tell.

This introduces a new option "--python3" when running the doctests. Maybe a better name would be "--python3only" or "--python3-valid-modules-only".

The only effect of using this option is to select a pre-defined list of modules whose doctests will be launched.

If you use the option with sage2, it will just test those files.

If you use this option with sage3, exactly the same.

The crop in your comment just doctests that this option exists and works. It does not launch the associated behaviour.

The goal of this ticket is to allow our release manager to have a builtbot that checks that no regression happens, namely that once a module is ok for python3, it will be checked to remain so.



---

archive/issue_comments_411701.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nThank you for taking the time to answer. Just to be sure, I could run the test as I suggested on a distro to check for regression or problem with my distro regarding python3?",
    "created_at": "2018-11-22T20:50:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411701",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:6" align="right">comment:6</div>

Thank you for taking the time to answer. Just to be sure, I could run the test as I suggested on a distro to check for regression or problem with my distro regarding python3?



---

archive/issue_comments_411702.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nRight, if you provide sage3 on your distro, you could indeed use this option to check that all these tests do pass as they should.",
    "created_at": "2018-11-23T07:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411702",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

Right, if you provide sage3 on your distro, you could indeed use this option to check that all these tests do pass as they should.



---

archive/issue_comments_411703.json:
```json
{
    "body": "Changed commit from **[`9268f9d`](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)** to **[`6b743fd`](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)**",
    "created_at": "2018-11-23T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411703",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9268f9d`](https://github.com/sagemath/sagetrac-mirror/commit/9268f9df6b04612cece9531505087c91d32f3bae)** to **[`6b743fd`](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)**



---

archive/issue_comments_411704.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8\"><code>6b743fd</code></a></td><td><code>trac 26740 fix</code></td></tr></table>\n",
    "created_at": "2018-11-23T20:24:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411704",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8"><code>6b743fd</code></a></td><td><code>trac 26740 fix</code></td></tr></table>




---

archive/issue_comments_411705.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI don't really see the point.  Just let them fail.  If regressions happen they will usually be small, and will be reduced over time.  Before long hopefully there will, or should, be none, in which case this will be a useless feature.\n\nWhat I think would be more useful, which is something I *have* wanted for other purposes as well, is a way to provide `./sage -t -a` a custom list of \"known failures\" which could be provided on a machine by machine basis (e.g. known failures for a specific platform being tested on).  This could be passed, for example, to any Python 3 builders if you wanted.  It would also be helpful to know when tests that are expected to fail start passing :)",
    "created_at": "2018-11-26T14:56:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411705",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

I don't really see the point.  Just let them fail.  If regressions happen they will usually be small, and will be reduced over time.  Before long hopefully there will, or should, be none, in which case this will be a useless feature.

What I think would be more useful, which is something I *have* wanted for other purposes as well, is a way to provide `./sage -t -a` a custom list of "known failures" which could be provided on a machine by machine basis (e.g. known failures for a specific platform being tested on).  This could be passed, for example, to any Python 3 builders if you wanted.  It would also be helpful to know when tests that are expected to fail start passing :)



---

archive/issue_comments_411706.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe point is to move the responsability of fixing the new failing doctests from me (or should I say us?) to the ticket owners..",
    "created_at": "2018-11-26T15:00:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411706",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

The point is to move the responsability of fixing the new failing doctests from me (or should I say us?) to the ticket owners..



---

archive/issue_comments_411707.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI'm not opposed to that of course, but I think a more generic way to list known-failures or exclusions would be better.  This also obviates the need for a special make target since this can just be passed in the `TEST_OPTS` variable.",
    "created_at": "2018-11-26T15:33:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411707",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

I'm not opposed to that of course, but I think a more generic way to list known-failures or exclusions would be better.  This also obviates the need for a special make target since this can just be passed in the `TEST_OPTS` variable.



---

archive/issue_events_364652.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-27T15:19:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364652"
}
```



---

archive/issue_events_364653.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-27T15:19:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364653"
}
```



---

archive/issue_comments_411708.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nBeing able to pass in a list of known failures might be useful, feel free to open a ticket for that. Until then: The perfect is the enemy of the good.",
    "created_at": "2018-11-27T15:19:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411708",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">comment:12</div>

Being able to pass in a list of known failures might be useful, feel free to open a ticket for that. Until then: The perfect is the enemy of the good.



---

archive/issue_comments_411709.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2018-11-27T15:19:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411709",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_411710.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI disagree--this can very easily be improved.  Just give me a day or two.",
    "created_at": "2018-11-27T16:05:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411710",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

I disagree--this can very easily be improved.  Just give me a day or two.



---

archive/issue_events_364654.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-27T16:05:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364654"
}
```



---

archive/issue_events_364655.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-11-27T16:05:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364655"
}
```



---

archive/issue_comments_411711.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nAll that's required is to remove the \"python 3\" specific stuff, and change that option to be able to read a list of filenames/directories (possibly optionally from a file as well).  We could even add a file listing known Python 3 failures to the repository which I wouldn't mind, but it's silly to hard-code this when a few small changes can upgrade it to a more generally useful feature that won't just have to be ripped out later when it becomes obsolete.",
    "created_at": "2018-11-27T16:09:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411711",
    "user": "https://github.com/embray"
}
```

<div id="comment:15" align="right">comment:15</div>

All that's required is to remove the "python 3" specific stuff, and change that option to be able to read a list of filenames/directories (possibly optionally from a file as well).  We could even add a file listing known Python 3 failures to the repository which I wouldn't mind, but it's silly to hard-code this when a few small changes can upgrade it to a more generally useful feature that won't just have to be ripped out later when it becomes obsolete.



---

archive/issue_comments_411712.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nOK, you have 2 days. And make sure that the known python3 failures are in the repo so I don't have to manually maintain them on a dozen buildbots.",
    "created_at": "2018-11-27T16:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411712",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:16" align="right">comment:16</div>

OK, you have 2 days. And make sure that the known python3 failures are in the repo so I don't have to manually maintain them on a dozen buildbots.



---

archive/issue_comments_411713.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI mean, I don't know what you mean by \"a dozen buildbots\" as that's a setting that can just go in the builder settings for Python 3 builds, which is one place.  The builder settings have to be updated either way.  But I'm happy to maintain a list in the repo for now since they can be scratched off alongside changes that fix them.",
    "created_at": "2018-11-27T16:23:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411713",
    "user": "https://github.com/embray"
}
```

<div id="comment:17" align="right">comment:17</div>

I mean, I don't know what you mean by "a dozen buildbots" as that's a setting that can just go in the builder settings for Python 3 builds, which is one place.  The builder settings have to be updated either way.  But I'm happy to maintain a list in the repo for now since they can be scratched off alongside changes that fix them.



---

archive/issue_comments_411714.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThanks, looking forward to having a py3 buildbot...",
    "created_at": "2018-11-27T16:42:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411714",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:18" align="right">comment:18</div>

Thanks, looking forward to having a py3 buildbot...



---

archive/issue_comments_411715.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt occurs to me I initially misread the patch on this ticket--I thought the hard-coded `python3_files` was for some reason a list of known failures to *exclude*, but in fact it's a list of sub-packages that are known passing.  In which case this could have been done without adding anything to the doctest runner.  Rather, just put this list in a file or something and (as a compromise, for simplicity's sake) keep the separate makefile target and do the rough equivalent of `./sage -t --long $(cat list-of-known-passing.txt)`.\n\nHowever, I still think having the converse--an ability to list known failures--would be very useful in general.",
    "created_at": "2018-11-28T07:58:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411715",
    "user": "https://github.com/embray"
}
```

<div id="comment:19" align="right">comment:19</div>

It occurs to me I initially misread the patch on this ticket--I thought the hard-coded `python3_files` was for some reason a list of known failures to *exclude*, but in fact it's a list of sub-packages that are known passing.  In which case this could have been done without adding anything to the doctest runner.  Rather, just put this list in a file or something and (as a compromise, for simplicity's sake) keep the separate makefile target and do the rough equivalent of `./sage -t --long $(cat list-of-known-passing.txt)`.

However, I still think having the converse--an ability to list known failures--would be very useful in general.



---

archive/issue_comments_411716.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nFr\u00e9d\u00e9ric, does your list of \"known passing\" include with flags like `--long`?  Or are we not worrying about that for now?  I'm just curious because I want to see about generating the converse list, of test modules with known failures.",
    "created_at": "2018-11-28T08:05:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411716",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Frédéric, does your list of "known passing" include with flags like `--long`?  Or are we not worrying about that for now?  I'm just curious because I want to see about generating the converse list, of test modules with known failures.



---

archive/issue_comments_411717.json:
```json
{
    "body": "Attachment: **[small-log.txt](https://github.com/sagemath/sage/files/ticket26740/small-log.txt)**",
    "created_at": "2018-11-28T08:23:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411717",
    "user": "https://github.com/fchapoton"
}
```

Attachment: **[small-log.txt](https://github.com/sagemath/sage/files/ticket26740/small-log.txt)**



---

archive/issue_comments_411718.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI have attached the list of failing files in 8.5.b5. This is the result of a patchbot run, so it was done with \"--long\" but not using any other optional option.\n\n**EDIT**:\nThere is a script attached to #26212 that takes a patchbot log and extract useful information, including the list of failing modules.",
    "created_at": "2018-11-28T08:24:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411718",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:21" align="right">comment:21</div>

I have attached the list of failing files in 8.5.b5. This is the result of a patchbot run, so it was done with "--long" but not using any other optional option.

**EDIT**:
There is a script attached to #26212 that takes a patchbot log and extract useful information, including the list of failing modules.



---

archive/issue_comments_411719.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks.  Interestingly, I just ran the tests against current develop branch *without* `--long` and got 309 failing files: more than the log you attached.  Perhaps YMMV depending on your system, or the order in which the test were run.  Still, pretty good!  A lot of progress (~150 more passing) since I last tried.",
    "created_at": "2018-11-28T08:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411719",
    "user": "https://github.com/embray"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks.  Interestingly, I just ran the tests against current develop branch *without* `--long` and got 309 failing files: more than the log you attached.  Perhaps YMMV depending on your system, or the order in which the test were run.  Still, pretty good!  A lot of progress (~150 more passing) since I last tried.



---

archive/issue_comments_411720.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nPlease see #26785 and its companion #26784.\n\nOne minor concern I have is that because this list of \"known failures\" is more fine-grained than the list of \"expected passes\" in this ticket, it could be a little more difficult to manage especially w.r.t. merge conflicts.  I would like to give it a try though.  Merge conflicts shouldn't be too much trouble since we want to mostly be removing lines from the file and never adding them.",
    "created_at": "2018-11-28T15:00:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411720",
    "user": "https://github.com/embray"
}
```

<div id="comment:23" align="right">comment:23</div>

Please see #26785 and its companion #26784.

One minor concern I have is that because this list of "known failures" is more fine-grained than the list of "expected passes" in this ticket, it could be a little more difficult to manage especially w.r.t. merge conflicts.  I would like to give it a try though.  Merge conflicts shouldn't be too much trouble since we want to mostly be removing lines from the file and never adding them.



---

archive/issue_comments_411721.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nI am not very happy (for the present task) with the idea that Erik proposed to store a list of failing files. And I dislike even more a list of failing files than a list of failing modules. My only aim here (yes it's scaffolding, but that is useful and can be removed once used) is to prevent regression by using this make target as a lock.\n\nStoring and testing a list of successful python-3 modules has two advantages : it needs much less maintenance work, as it will change less often. And we do not want to run for nothing the doctests that will be failing.\n\nMaybe other opinions would help to arbitrate (@jdemeyer, @kiwifb). If somebody else review #26785 and #26784, I will certainly not object in any manner.",
    "created_at": "2018-12-03T13:43:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411721",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">comment:24</div>

I am not very happy (for the present task) with the idea that Erik proposed to store a list of failing files. And I dislike even more a list of failing files than a list of failing modules. My only aim here (yes it's scaffolding, but that is useful and can be removed once used) is to prevent regression by using this make target as a lock.

Storing and testing a list of successful python-3 modules has two advantages : it needs much less maintenance work, as it will change less often. And we do not want to run for nothing the doctests that will be failing.

Maybe other opinions would help to arbitrate (@jdemeyer, @kiwifb). If somebody else review #26785 and #26784, I will certainly not object in any manner.



---

archive/issue_comments_411722.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI don't really understand your point--this accomplishes the same purpose.  It's still effectively storing a list of \"successful\" modules in the form of the list of all tests, minus those that are known failures.\n\n> And we do not want to run for nothing the doctests that will be failing.\n\nIt's not for nothing: In fact it can inform you when some files' tests start passing e.g. due to something that was fixed.",
    "created_at": "2018-12-11T10:05:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411722",
    "user": "https://github.com/embray"
}
```

<div id="comment:25" align="right">comment:25</div>

I don't really understand your point--this accomplishes the same purpose.  It's still effectively storing a list of "successful" modules in the form of the list of all tests, minus those that are known failures.

> And we do not want to run for nothing the doctests that will be failing.

It's not for nothing: In fact it can inform you when some files' tests start passing e.g. due to something that was fixed.



---

archive/issue_comments_411723.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI thought I made this point elsewhere, but should add your patch could be implemented as a file like `python3-known-passing.txt`:\n\n```\nsrc/sage/foo\nsrc/sage/bar\nsrc/sage/whatever\n...\n```\n\n```\n$ cat python3-known-passing.txt | xargs ./sage -t --long -p\n```\n\nNo need for special \"hacks\".",
    "created_at": "2018-12-11T10:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411723",
    "user": "https://github.com/embray"
}
```

<div id="comment:26" align="right">comment:26</div>

I thought I made this point elsewhere, but should add your patch could be implemented as a file like `python3-known-passing.txt`:

```
src/sage/foo
src/sage/bar
src/sage/whatever
...
```

```
$ cat python3-known-passing.txt | xargs ./sage -t --long -p
```

No need for special "hacks".



---

archive/issue_comments_411724.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nSo how about turning your one-liner into a makefile target? Both positive and negative lists can be useful for different use cases...",
    "created_at": "2018-12-25T11:30:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411724",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:27" align="right">comment:27</div>

So how about turning your one-liner into a makefile target? Both positive and negative lists can be useful for different use cases...



---

archive/issue_events_364656.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:37:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364656"
}
```



---

archive/issue_events_364657.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:37:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364657"
}
```



---

archive/issue_comments_411725.json:
```json
{
    "body": "Changed commit from **[`6b743fd`](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)** to **[`1cdda8f`](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)**",
    "created_at": "2019-01-16T16:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411725",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[`6b743fd`](https://github.com/sagemath/sagetrac-mirror/commit/6b743fd3c413af9e9c69168fbe837c9360d2e9c8)** to **[`1cdda8f`](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)**



---

archive/issue_comments_411726.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nanother tentative, as suggested by Erik\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3\"><code>1cdda8f</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2019-01-16T16:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411726",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:29" align="right">comment:29</div>

another tentative, as suggested by Erik

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3"><code>1cdda8f</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_comments_411727.json:
```json
{
    "body": "Changed branch from **[public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)** to **[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)**",
    "created_at": "2019-01-16T16:36:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411727",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[public/ticket/26740](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26740)** to **[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)**



---

archive/issue_comments_411728.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83\"><code>5fe82a3</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2019-01-16T16:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411728",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83"><code>5fe82a3</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_comments_411729.json:
```json
{
    "body": "Changed commit from **[`1cdda8f`](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)** to **[`5fe82a3`](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)**",
    "created_at": "2019-01-16T16:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411729",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1cdda8f`](https://github.com/sagemath/sagetrac-mirror/commit/1cdda8f79604b1518c1b9aa20ea74157316c22d3)** to **[`5fe82a3`](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)**



---

archive/issue_comments_411730.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nok, ready for review",
    "created_at": "2019-01-16T16:43:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411730",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:31" align="right">comment:31</div>

ok, ready for review



---

archive/issue_events_364658.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-16T16:43:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364658"
}
```



---

archive/issue_events_364659.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-16T16:43:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364659"
}
```



---

archive/issue_comments_411731.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nWhy is `python3-known-passing.txt` one long line? Isn't the whole point of `xargs` to support a file with one filename per line?",
    "created_at": "2019-01-16T16:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411731",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

Why is `python3-known-passing.txt` one long line? Isn't the whole point of `xargs` to support a file with one filename per line?



---

archive/issue_comments_411732.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nBecause this is the (only) way I managed to get it work. If you feel able to do better, please help!",
    "created_at": "2019-01-16T16:53:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411732",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">comment:33</div>

Because this is the (only) way I managed to get it work. If you feel able to do better, please help!



---

archive/issue_comments_411733.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nit turns out that one can split the lines, coming soon",
    "created_at": "2019-01-16T16:55:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411733",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:34" align="right">comment:34</div>

it turns out that one can split the lines, coming soon



---

archive/issue_comments_411734.json:
```json
{
    "body": "Changed commit from **[`5fe82a3`](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)** to **[`2ea4678`](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)**",
    "created_at": "2019-01-16T16:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411734",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5fe82a3`](https://github.com/sagemath/sagetrac-mirror/commit/5fe82a376061f26ada95d206826e6e8ebc993b83)** to **[`2ea4678`](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)**



---

archive/issue_comments_411735.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61\"><code>2ea4678</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>\n",
    "created_at": "2019-01-16T16:58:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411735",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:35"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61"><code>2ea4678</code></a></td><td><code>py3: create a python3 test make target</code></td></tr></table>




---

archive/issue_comments_411736.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\ndone. Better like that ?",
    "created_at": "2019-01-16T17:00:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411736",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:36" align="right">comment:36</div>

done. Better like that ?



---

archive/issue_comments_411737.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nJust to avoid top-level file proliferation, can this .txt file go in `misc/` or something?",
    "created_at": "2019-01-16T17:44:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411737",
    "user": "https://github.com/embray"
}
```

<div id="comment:37" align="right">comment:37</div>

Just to avoid top-level file proliferation, can this .txt file go in `misc/` or something?



---

archive/issue_comments_411738.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nJust tell me where exactly I should put that and I will do so..",
    "created_at": "2019-01-16T19:22:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411738",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:38" align="right">comment:38</div>

Just tell me where exactly I should put that and I will do so..



---

archive/issue_comments_411739.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nMaybe create a file in `src/ext/doctest/`?",
    "created_at": "2019-01-16T19:39:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411739",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:39" align="right">comment:39</div>

Maybe create a file in `src/ext/doctest/`?



---

archive/issue_comments_411740.json:
```json
{
    "body": "Changed commit from **[`2ea4678`](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)** to **[`f9fbbd0`](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)**",
    "created_at": "2019-01-16T19:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411740",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2ea4678`](https://github.com/sagemath/sagetrac-mirror/commit/2ea46789ab0b31fda19a3fb9cd29f396bcb1dd61)** to **[`f9fbbd0`](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)**



---

archive/issue_comments_411741.json:
```json
{
    "body": "<div id=\"comment:40\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0\"><code>f9fbbd0</code></a></td><td><code>move the python3-known-passing file</code></td></tr></table>\n",
    "created_at": "2019-01-16T19:42:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411741",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:40"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0"><code>f9fbbd0</code></a></td><td><code>move the python3-known-passing file</code></td></tr></table>




---

archive/issue_comments_411742.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\ndone, thanks",
    "created_at": "2019-01-16T19:42:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411742",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:41" align="right">comment:41</div>

done, thanks



---

archive/issue_comments_411743.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nThis works well on my usual python3-test machine, where the selected passing doctests are known to pass since many months. Before putting it on a buildbot, could other people please launch the new make target on python3-sage installations on various machines ? We need to see if some failures happen in these modules in other architectures and os.",
    "created_at": "2019-01-17T10:13:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411743",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:42" align="right">comment:42</div>

This works well on my usual python3-test machine, where the selected passing doctests are known to pass since many months. Before putting it on a buildbot, could other people please launch the new make target on python3-sage installations on various machines ? We need to see if some failures happen in these modules in other architectures and os.



---

archive/issue_comments_411744.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nIt worked for me on OS X. On some future ticket, we should add a `ptestlong` option.",
    "created_at": "2019-01-17T16:31:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411744",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:43" align="right">comment:43</div>

It worked for me on OS X. On some future ticket, we should add a `ptestlong` option.



---

archive/issue_comments_411745.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThanks John. Anybody else ? Maybe we can consider that this is ready for positive review ? Volker, what do you think ?",
    "created_at": "2019-01-18T09:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411745",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:44" align="right">comment:44</div>

Thanks John. Anybody else ? Maybe we can consider that this is ready for positive review ? Volker, what do you think ?



---

archive/issue_comments_411746.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI literally just meant adding a top-level directory called `misc/`, but either way.",
    "created_at": "2019-01-18T12:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411746",
    "user": "https://github.com/embray"
}
```

<div id="comment:45" align="right">comment:45</div>

I literally just meant adding a top-level directory called `misc/`, but either way.



---

archive/issue_comments_411747.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nwould you please try it on Cygwin ?",
    "created_at": "2019-01-18T12:46:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411747",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:46" align="right">comment:46</div>

would you please try it on Cygwin ?



---

archive/issue_comments_411748.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">comment:47</div>\n\nI would but my Windows machine is currently occupied building the Sage 8.6 release.  I'm not sure it's really needed though: There's nothing very special about Python 2 vs Python 3 on Cygwin that I'm aware of as it pertains to Sage.",
    "created_at": "2019-01-18T13:54:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411748",
    "user": "https://github.com/embray"
}
```

<div id="comment:47" align="right">comment:47</div>

I would but my Windows machine is currently occupied building the Sage 8.6 release.  I'm not sure it's really needed though: There's nothing very special about Python 2 vs Python 3 on Cygwin that I'm aware of as it pertains to Sage.



---

archive/issue_comments_411749.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nI can test on `ppc64le`",
    "created_at": "2019-01-18T14:00:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411749",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:48" align="right">comment:48</div>

I can test on `ppc64le`



---

archive/issue_comments_411750.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nOn `Linux sardonis 4.4.0-141-generic #167-Ubuntu SMP Wed Dec 5 10:33:00 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux`:\n\n```\n----------------------------------------------------------------------\nAll tests passed!\n----------------------------------------------------------------------\nTotal time for all tests: 367.5 seconds\n    cpu time: 4433.2 seconds\n    cumulative wall time: 4408.9 seconds\n```",
    "created_at": "2019-01-18T14:16:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411750",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

On `Linux sardonis 4.4.0-141-generic #167-Ubuntu SMP Wed Dec 5 10:33:00 UTC 2018 ppc64le ppc64le ppc64le GNU/Linux`:

```
----------------------------------------------------------------------
All tests passed!
----------------------------------------------------------------------
Total time for all tests: 367.5 seconds
    cpu time: 4433.2 seconds
    cumulative wall time: 4408.9 seconds
```



---

archive/issue_comments_411751.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nThanks. Would somebody be brave enough to set a positive review ?",
    "created_at": "2019-01-18T15:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411751",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:50" align="right">comment:50</div>

Thanks. Would somebody be brave enough to set a positive review ?



---

archive/issue_events_364660.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-18T16:10:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364660"
}
```



---

archive/issue_events_364661.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-18T16:10:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364661"
}
```



---

archive/issue_events_364662.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-24T18:17:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364662"
}
```



---

archive/issue_events_364663.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "8e4e83493a556effa7e064c5159db34c57a7c962",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-24T18:17:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26740#event-364663"
}
```



---

archive/issue_comments_411752.json:
```json
{
    "body": "Changed branch from **[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)** to **[`f9fbbd0`](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)**",
    "created_at": "2019-01-24T18:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26740",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26740#issuecomment-411752",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/26740](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26740)** to **[`f9fbbd0`](https://github.com/sagemath/sagetrac-mirror/commit/f9fbbd05fff30a1936a11c3bc743d13a4dbd0ef0)**
