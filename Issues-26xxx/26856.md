# Issue 26856: Upgrade to gap_packages 4.10 and remove database_gap

archive/issues_026619.json:
```json
{
    "body": "After the upgrade to GAP 4.10 in #22626, we revisit what\nGAP packages are available in Sage via the GAP standard\nSPKG and via extra optional SPGKs.\n\nAll GAP packages formerly in our \"database_gap\"\noptional SPKG, except tomlib, now get installed\nwith GAP as part of our \"gap\" standard SPKG.\n\nThis ticket adds tomlib to the \"gap\" standard SPKG\nand removes the \"database_gap\" optional SPKG.\n\n(All packages previously in \"database_gap\" have\nGPL-compatible licenses and can therefore be\ndistributed as part of the \"gap\" standard SPKG\nwithout license worries.)\n\nWe also update the list of extra GAP packages\nin gap_packages, which remains a separate and\noptional SPKG.\n\nOnce the present ticket is merged, GAP packages\nshipped with the \"gap\" standard SPKG and with\nthe \"gap_packages\" optional SPKG are as follows.\n\n'''GAP packages now shipped with \"gap\"\n(standard SageMath package)'''\n\nA basic package used by most GAP packages\nfor their documentation\n\n- GAPDoc\n\nFive database packages formerly in \"database_gap\"\n\n- PrimGrp\n- SmallGrp\n- TransGrp\n- TomLib\n- AtlasRep\n\nTwelve more packages\n\n- AutPGrp\n- Alnuth\n- CRISP\n- !CTblLib\n- FactInt\n- FGA\n- IRREDSOL\n- LAGUNA\n- Polenta\n- Polycyclic\n- ResClasses\n- Sophus\n\n'''GAP packages now shipped with \"gap_packages\"\n(optional SageMath package)'''\n\nTwenty-five \"pure GAP\" packages\n(not requiring compilation)\n\n- AClib\n- AutoDoc\n- CoReLG\n- CRIME\n- Cryst\n- CrystCat\n- DESIGN\n- GBNP\n- HAP\n- HAPcryst\n- hecke\n- LieAlgDB\n- LiePRing\n- LieRing\n- loops\n- MapClass\n- polymaking\n- QPA\n- QuaGroup\n- RadiRoot\n- Repsn\n- SLA\n- SONATA\n- Toric\n- utils\n\nFour compiled GAP packages\n\n- cohomolo\n- GRAPE\n- GUAVA\n- nq\n\n**No longer distributed**\n\n- HAPprime: unmaintained, partly merged in HAP, \n  see [list of \"No longer redistributed with GAP or renamed\" GAP packages](https://www.gap-system.org/Packages/packages.html#deppkg),\n  source code [archived at GitHub](https://github.com/gap-packages/happrime)\n\n\nDepends on #22626\n\nDepends on #26889\n\nDepends on #26965\n\n**CC:**  alexk @antonio-rojas @dimpase @embray @kiwifb @mantepse @miguelmarco @slel @tscrim @vbraun\n\n**Keywords:** GAP\n\n**Branch:** [8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)\n\n**Reviewer:** Erik Bray, Dima Pasechnik\n\n**Author:** Dima Pasechnik, Erik Bray\n\nIssue created by migration from https://trac.sagemath.org/ticket/26856\n\n",
    "closed_at": "2018-12-31T10:37:12Z",
    "created_at": "2018-12-08T08:04:53Z",
    "labels": [
        "component: packages: optional",
        "critical",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.6",
    "title": "Upgrade to gap_packages 4.10 and remove database_gap",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/26856",
    "user": "https://github.com/dimpase"
}
```
After the upgrade to GAP 4.10 in #22626, we revisit what
GAP packages are available in Sage via the GAP standard
SPKG and via extra optional SPGKs.

All GAP packages formerly in our "database_gap"
optional SPKG, except tomlib, now get installed
with GAP as part of our "gap" standard SPKG.

This ticket adds tomlib to the "gap" standard SPKG
and removes the "database_gap" optional SPKG.

(All packages previously in "database_gap" have
GPL-compatible licenses and can therefore be
distributed as part of the "gap" standard SPKG
without license worries.)

We also update the list of extra GAP packages
in gap_packages, which remains a separate and
optional SPKG.

Once the present ticket is merged, GAP packages
shipped with the "gap" standard SPKG and with
the "gap_packages" optional SPKG are as follows.

'''GAP packages now shipped with "gap"
(standard SageMath package)'''

A basic package used by most GAP packages
for their documentation

- GAPDoc

Five database packages formerly in "database_gap"

- PrimGrp
- SmallGrp
- TransGrp
- TomLib
- AtlasRep

Twelve more packages

- AutPGrp
- Alnuth
- CRISP
- !CTblLib
- FactInt
- FGA
- IRREDSOL
- LAGUNA
- Polenta
- Polycyclic
- ResClasses
- Sophus

'''GAP packages now shipped with "gap_packages"
(optional SageMath package)'''

Twenty-five "pure GAP" packages
(not requiring compilation)

- AClib
- AutoDoc
- CoReLG
- CRIME
- Cryst
- CrystCat
- DESIGN
- GBNP
- HAP
- HAPcryst
- hecke
- LieAlgDB
- LiePRing
- LieRing
- loops
- MapClass
- polymaking
- QPA
- QuaGroup
- RadiRoot
- Repsn
- SLA
- SONATA
- Toric
- utils

Four compiled GAP packages

- cohomolo
- GRAPE
- GUAVA
- nq

**No longer distributed**

- HAPprime: unmaintained, partly merged in HAP, 
  see [list of "No longer redistributed with GAP or renamed" GAP packages](https://www.gap-system.org/Packages/packages.html#deppkg),
  source code [archived at GitHub](https://github.com/gap-packages/happrime)


Depends on #22626

Depends on #26889

Depends on #26965

**CC:**  alexk @antonio-rojas @dimpase @embray @kiwifb @mantepse @miguelmarco @slel @tscrim @vbraun

**Keywords:** GAP

**Branch:** [8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)

**Reviewer:** Erik Bray, Dima Pasechnik

**Author:** Dima Pasechnik, Erik Bray

Issue created by migration from https://trac.sagemath.org/ticket/26856





---

archive/issue_comments_416058.json:
```json
{
    "body": "**Commit:** [1ed2d00b452155e803c79040460edcd55c120320](https://github.com/sagemath/sagetrac-mirror/commit/1ed2d00b452155e803c79040460edcd55c120320)",
    "created_at": "2018-12-08T13:52:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416058",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [1ed2d00b452155e803c79040460edcd55c120320](https://github.com/sagemath/sagetrac-mirror/commit/1ed2d00b452155e803c79040460edcd55c120320)



---

archive/issue_comments_416059.json:
```json
{
    "body": "**Author:** Dima Pasechnik",
    "created_at": "2018-12-08T13:52:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416059",
    "user": "https://github.com/dimpase"
}
```

**Author:** Dima Pasechnik



---

archive/issue_comments_416060.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b53d4f224bc523d7f821274fbb34deaf40f1786\">8b53d4f</a></td><td><code>this file is no longer needed since I'm patching GAP with this functionality instead</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94f09a623d02d7b0313747e9a5b43f57fa04e27a\">94f09a6</a></td><td><code>speed up this code up a little bit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5713992e5af26255451b15c64dfd5d0043fd308\">f571399</a></td><td><code>use ViewObj instead of ViewString</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b106ff9d0386a00b56b2c7e54ee6ad898a08aa9b\">b106ff9</a></td><td><code>use more GAP_Enter() and GAP_Leave() where it seems appropriate</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/acc75fe53d371145a87a7e73449bc4c603de8340\">acc75fe</a></td><td><code>fix some tests whose output changed since</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e588e7a9a3dae7c90b7f88c5022ee8798c420928\">e588e7a</a></td><td><code>fix needed due to changes in record keys</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e11e4388648148a55026b46221fafe93e8c6e8a3\">e11e438</a></td><td><code>minor test fixes and cleanup</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b686acfe4f129d27e8e0bcf84f801bb166e4ed94\">b686acf</a></td><td><code>use changesignal to restore SIGCHLD and SIGINT handling</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/09d229f1db78ff96d6b46df9ffad22d03155c2c8\">09d229f</a></td><td><code>remove this debug function for now</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1ed2d00b452155e803c79040460edcd55c120320\">1ed2d00</a></td><td><code>fix doctests changed due to GAP formatting etc changes</code></td></tr></table>\n",
    "created_at": "2018-12-08T13:52:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416060",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b53d4f224bc523d7f821274fbb34deaf40f1786">8b53d4f</a></td><td><code>this file is no longer needed since I'm patching GAP with this functionality instead</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94f09a623d02d7b0313747e9a5b43f57fa04e27a">94f09a6</a></td><td><code>speed up this code up a little bit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5713992e5af26255451b15c64dfd5d0043fd308">f571399</a></td><td><code>use ViewObj instead of ViewString</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b106ff9d0386a00b56b2c7e54ee6ad898a08aa9b">b106ff9</a></td><td><code>use more GAP_Enter() and GAP_Leave() where it seems appropriate</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/acc75fe53d371145a87a7e73449bc4c603de8340">acc75fe</a></td><td><code>fix some tests whose output changed since</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e588e7a9a3dae7c90b7f88c5022ee8798c420928">e588e7a</a></td><td><code>fix needed due to changes in record keys</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e11e4388648148a55026b46221fafe93e8c6e8a3">e11e438</a></td><td><code>minor test fixes and cleanup</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b686acfe4f129d27e8e0bcf84f801bb166e4ed94">b686acf</a></td><td><code>use changesignal to restore SIGCHLD and SIGINT handling</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/09d229f1db78ff96d6b46df9ffad22d03155c2c8">09d229f</a></td><td><code>remove this debug function for now</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1ed2d00b452155e803c79040460edcd55c120320">1ed2d00</a></td><td><code>fix doctests changed due to GAP formatting etc changes</code></td></tr></table>




---

archive/issue_comments_416061.json:
```json
{
    "body": "**Branch:** [u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)",
    "created_at": "2018-12-08T13:52:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416061",
    "user": "https://github.com/dimpase"
}
```

**Branch:** [u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)



---

archive/issue_comments_416062.json:
```json
{
    "body": "**Dependencies:** #22626",
    "created_at": "2018-12-08T13:54:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416062",
    "user": "https://github.com/dimpase"
}
```

**Dependencies:** #22626



---

archive/issue_comments_416063.json:
```json
{
    "body": "<a id='comment:3'></a>\nIs there a particular reason to merge `database_gap` into `gap_packages`?",
    "created_at": "2018-12-10T12:53:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416063",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'></a>
Is there a particular reason to merge `database_gap` into `gap_packages`?



---

archive/issue_comments_416064.json:
```json
{
    "body": "<a id='comment:4'></a>\nhistorically, there were several reasons to have separate gap, database_gap and gap_packages, and do not install all the possible GAP packages\n\n* largish sizes of downloads\n* licensing issues---stuff in database_gap is not GPL-compatible before GAP 4.9 or 4.10\n* non-working with libgap GAP kernel extensions\n\nthe 1st one, if we decide not to re-package original GAP tarball (and I am very much for not re-packaging), would be gone.\n\nthe 2nd one is (completely, from the point of view of GAP's LICENCE file) fixed since GAP 4.10 (or even 4.9).\n\nthe 3rd one is fixed by #22626, although this has to be verified.",
    "created_at": "2018-12-10T13:50:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416064",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
historically, there were several reasons to have separate gap, database_gap and gap_packages, and do not install all the possible GAP packages

* largish sizes of downloads
* licensing issues---stuff in database_gap is not GPL-compatible before GAP 4.9 or 4.10
* non-working with libgap GAP kernel extensions

the 1st one, if we decide not to re-package original GAP tarball (and I am very much for not re-packaging), would be gone.

the 2nd one is (completely, from the point of view of GAP's LICENCE file) fixed since GAP 4.10 (or even 4.9).

the 3rd one is fixed by #22626, although this has to be verified.



---

archive/issue_comments_416065.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [dimpase](#comment%3A4):\n> the 3rd one is fixed by #22626, although this has to be verified.\n\nLast I checked this is broken actually, but it's mostly a problem with my install script I think.  I need to tinker with that a bit more.",
    "created_at": "2018-12-10T17:16:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416065",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Replying to [dimpase](#comment%3A4):
> the 3rd one is fixed by #22626, although this has to be verified.

Last I checked this is broken actually, but it's mostly a problem with my install script I think.  I need to tinker with that a bit more.



---

archive/issue_comments_416066.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5d3fce1000f67cfea8be984df8959933c403e83c\">5d3fce1</a></td><td><code>fixed noisy \"#I  MakeReadWriteGlobal\" things</code></td></tr></table>\n",
    "created_at": "2018-12-10T17:22:25Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5d3fce1000f67cfea8be984df8959933c403e83c">5d3fce1</a></td><td><code>fixed noisy "#I  MakeReadWriteGlobal" things</code></td></tr></table>




---

archive/issue_comments_416067.json:
```json
{
    "body": "**Changing commit** from \"[1ed2d00b452155e803c79040460edcd55c120320](https://github.com/sagemath/sagetrac-mirror/commit/1ed2d00b452155e803c79040460edcd55c120320)\" to \"[5d3fce1000f67cfea8be984df8959933c403e83c](https://github.com/sagemath/sagetrac-mirror/commit/5d3fce1000f67cfea8be984df8959933c403e83c)\".",
    "created_at": "2018-12-10T17:22:25Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416067",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1ed2d00b452155e803c79040460edcd55c120320](https://github.com/sagemath/sagetrac-mirror/commit/1ed2d00b452155e803c79040460edcd55c120320)" to "[5d3fce1000f67cfea8be984df8959933c403e83c](https://github.com/sagemath/sagetrac-mirror/commit/5d3fce1000f67cfea8be984df8959933c403e83c)".



---

archive/issue_comments_416068.json:
```json
{
    "body": "<a id='comment:7'></a>\nNote that most of database_gap is already in our new gap (4.10) package, with exception of tomlib. \n\nI'll add tomlib to gap 4.10, and get rid of database_gap.",
    "created_at": "2018-12-11T11:59:14Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416068",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
Note that most of database_gap is already in our new gap (4.10) package, with exception of tomlib. 

I'll add tomlib to gap 4.10, and get rid of database_gap.



---

archive/issue_comments_416069.json:
```json
{
    "body": "<a id='comment:8'></a>\nI am checking whether `database_gap` is already in the branch on #22626, running\n\n```\n./sage -tp  --optional=dochtml,memlimit,mpir,python2,database_gap,sage src/sage/groups/perm_gps/permgroup.py \n```\n(that is, adding `database_gap` to the `optional` list) and get the following weird error:\n\n```\nUsing --optional=database_gap,dochtml,memlimit,mpir,python2,sage\nDoctesting 1 file using 4 threads.\nsage -t src/sage/groups/perm_gps/permgroup.py\n**********************************************************************\nFile \"src/sage/groups/perm_gps/permgroup.py\", line 733, in sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_\nFailed example:\n    p = f(mg); p\nException raised:\n    Traceback (most recent call last):\n      File \"/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_[19]>\", line 1, in <module>\n        p = f(mg); p\n    TypeError: 'NoneType' object is not callable\n**********************************************************************\nFile \"src/sage/groups/perm_gps/permgroup.py\", line 735, in sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_\nFailed example:\n    PG(p._gap_()) == p\nException raised:\n    Traceback (most recent call last):\n      File \"/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_[20]>\", line 1, in <module>\n        PG(p._gap_()) == p\n    NameError: name 'p' is not defined\n**********************************************************************\n1 item had failures:\n   2 of  27 in sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_\n    [862 tests, 2 failures, 18.36 s]\n----------------------------------------------------------------------\nsage -t src/sage/groups/perm_gps/permgroup.py  # 2 doctests failed\n----------------------------------------------------------------------\nTotal time for all tests: 18.6 seconds\n```\n\nWithout `database_gap` in optional, everything passes. The trouble is that the failing tests are not tagged as optional, i.e. it should not matter whether `database_gap` is passed or not. \n\nNeedless to say, these tests work at the Sage prompt just fine.\n\nMy hunch is that it might be related to the recent #25706, which unfortunately mixes `libgap` and `gap`. (Even if this were true, it would not take away the general flakiness of Sage's doctesting framework...)",
    "created_at": "2018-12-13T05:41:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416069",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:8'></a>
I am checking whether `database_gap` is already in the branch on #22626, running

```
./sage -tp  --optional=dochtml,memlimit,mpir,python2,database_gap,sage src/sage/groups/perm_gps/permgroup.py 
```
(that is, adding `database_gap` to the `optional` list) and get the following weird error:

```
Using --optional=database_gap,dochtml,memlimit,mpir,python2,sage
Doctesting 1 file using 4 threads.
sage -t src/sage/groups/perm_gps/permgroup.py
**********************************************************************
File "src/sage/groups/perm_gps/permgroup.py", line 733, in sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_
Failed example:
    p = f(mg); p
Exception raised:
    Traceback (most recent call last):
      File "/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_[19]>", line 1, in <module>
        p = f(mg); p
    TypeError: 'NoneType' object is not callable
**********************************************************************
File "src/sage/groups/perm_gps/permgroup.py", line 735, in sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_
Failed example:
    PG(p._gap_()) == p
Exception raised:
    Traceback (most recent call last):
      File "/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/dimpase/Sage/sagetrac-mirror/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_[20]>", line 1, in <module>
        PG(p._gap_()) == p
    NameError: name 'p' is not defined
**********************************************************************
1 item had failures:
   2 of  27 in sage.groups.perm_gps.permgroup.PermutationGroup_generic._coerce_map_from_
    [862 tests, 2 failures, 18.36 s]
----------------------------------------------------------------------
sage -t src/sage/groups/perm_gps/permgroup.py  # 2 doctests failed
----------------------------------------------------------------------
Total time for all tests: 18.6 seconds
```

Without `database_gap` in optional, everything passes. The trouble is that the failing tests are not tagged as optional, i.e. it should not matter whether `database_gap` is passed or not. 

Needless to say, these tests work at the Sage prompt just fine.

My hunch is that it might be related to the recent #25706, which unfortunately mixes `libgap` and `gap`. (Even if this were true, it would not take away the general flakiness of Sage's doctesting framework...)



---

archive/issue_comments_416070.json:
```json
{
    "body": "**Changing commit** from \"[5d3fce1000f67cfea8be984df8959933c403e83c](https://github.com/sagemath/sagetrac-mirror/commit/5d3fce1000f67cfea8be984df8959933c403e83c)\" to \"\".",
    "created_at": "2018-12-13T05:41:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416070",
    "user": "https://github.com/dimpase"
}
```

**Changing commit** from "[5d3fce1000f67cfea8be984df8959933c403e83c](https://github.com/sagemath/sagetrac-mirror/commit/5d3fce1000f67cfea8be984df8959933c403e83c)" to "".



---

archive/issue_comments_416071.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)\" to \"\".",
    "created_at": "2018-12-13T05:41:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416071",
    "user": "https://github.com/dimpase"
}
```

**Changing branch** from "[u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)" to "".



---

archive/issue_comments_416072.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [dimpase](#comment%3A8):\n> it would not take away the general flakiness of Sage's doctesting framework...\n\nThe \"doctest framework\" is not flaky. Code in Sage or its tests is flaky.",
    "created_at": "2018-12-13T10:37:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416072",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:9'></a>
Replying to [dimpase](#comment%3A8):
> it would not take away the general flakiness of Sage's doctesting framework...

The "doctest framework" is not flaky. Code in Sage or its tests is flaky.



---

archive/issue_comments_416073.json:
```json
{
    "body": "<a id='comment:10'></a>\nOne way or another, I have no idea where to even start looking, and what kind of side effects might cause this, and whether it's side-effects in Sage alone, or in Sage interacting with the doctest framework---in the latter case this means it's not possible to reproduce on \"standalone\" Sage.",
    "created_at": "2018-12-13T11:04:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416073",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:10'></a>
One way or another, I have no idea where to even start looking, and what kind of side effects might cause this, and whether it's side-effects in Sage alone, or in Sage interacting with the doctest framework---in the latter case this means it's not possible to reproduce on "standalone" Sage.



---

archive/issue_comments_416074.json:
```json
{
    "body": "**Commit:** [ef2230a3c98cb6d8b500e5ba6b925199c30a5647](https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647)",
    "created_at": "2018-12-13T14:05:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416074",
    "user": "https://github.com/dimpase"
}
```

**Commit:** [ef2230a3c98cb6d8b500e5ba6b925199c30a5647](https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647)



---

archive/issue_comments_416075.json:
```json
{
    "body": "<a id='comment:11'></a>\nThe issue in comment 8 disappears (I dare not call this a fix, cause the only proof I have is that tests pass!) with the [latest commit](https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647) on this branch,\nwhich reduces insanity in `src/sage/groups/matrix_gps/finitely_generated.py`, see #26889,\nwhere it should be posted as an independent thing.\n\nAt least I can say that my hunch seems to have been right...\n\n---\n**Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/60d7eb69ffa7d402495717148879906639324244\">60d7eb6</a></td><td><code>Allow Gap.__getattr__ to return GAP objects other than just functions</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cf204795df0a2406078d6ac47a5cc8c7173277d\">0cf2047</a></td><td><code>updated GAP_Enter patch that does not require gapstate.h in libgap-api.h</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2de776d5e35bcda2984b6436c0b6f37598ac329e\">2de776d</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eefc0fc2a18aeec5472b04ba6b55d029c6c1aab6\">eefc0fc</a></td><td><code>fix warning from cython</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9292d47a01b4ffe2e33898722845ace6ab18e186\">9292d47</a></td><td><code>add sig_on/off() around GAP_Initialize, just in case unhandled segfaults or the like occur</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/132a7c303a8639c51eb92061ac7cb39106f5d316\">132a7c3</a></td><td><code>copy the current environment before passing it to GAP</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29d4c8475d98d462238fd68388104e8acaccd2b0\">29d4c84</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7c85cd7ba758f5661245b994d857ca2a22f1637\">d7c85cd</a></td><td><code>When running doctests, use the current_randstate()'s seed for Interface.rand_seed()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6a7397629a96bc8f51aecf982b3a2e743a37977\">e6a7397</a></td><td><code>Merge branch 'u/embray/doctests/interfaces-rand-seed' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647\">ef2230a</a></td><td><code>more libGAP in as_permutation(), less pexpect mess</code></td></tr></table>\n",
    "created_at": "2018-12-13T14:05:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416075",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>
The issue in comment 8 disappears (I dare not call this a fix, cause the only proof I have is that tests pass!) with the [latest commit](https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647) on this branch,
which reduces insanity in `src/sage/groups/matrix_gps/finitely_generated.py`, see #26889,
where it should be posted as an independent thing.

At least I can say that my hunch seems to have been right...

---
**Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/60d7eb69ffa7d402495717148879906639324244">60d7eb6</a></td><td><code>Allow Gap.__getattr__ to return GAP objects other than just functions</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cf204795df0a2406078d6ac47a5cc8c7173277d">0cf2047</a></td><td><code>updated GAP_Enter patch that does not require gapstate.h in libgap-api.h</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2de776d5e35bcda2984b6436c0b6f37598ac329e">2de776d</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eefc0fc2a18aeec5472b04ba6b55d029c6c1aab6">eefc0fc</a></td><td><code>fix warning from cython</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9292d47a01b4ffe2e33898722845ace6ab18e186">9292d47</a></td><td><code>add sig_on/off() around GAP_Initialize, just in case unhandled segfaults or the like occur</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/132a7c303a8639c51eb92061ac7cb39106f5d316">132a7c3</a></td><td><code>copy the current environment before passing it to GAP</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29d4c8475d98d462238fd68388104e8acaccd2b0">29d4c84</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7c85cd7ba758f5661245b994d857ca2a22f1637">d7c85cd</a></td><td><code>When running doctests, use the current_randstate()'s seed for Interface.rand_seed()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6a7397629a96bc8f51aecf982b3a2e743a37977">e6a7397</a></td><td><code>Merge branch 'u/embray/doctests/interfaces-rand-seed' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647">ef2230a</a></td><td><code>more libGAP in as_permutation(), less pexpect mess</code></td></tr></table>




---

archive/issue_events_236858.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-13T14:05:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236858"
}
```



---

archive/issue_comments_416076.json:
```json
{
    "body": "**Branch:** [u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)",
    "created_at": "2018-12-13T14:05:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416076",
    "user": "https://github.com/dimpase"
}
```

**Branch:** [u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)



---

archive/issue_comments_416077.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [dimpase](#comment%3A10):\n> One way or another, I have no idea where to even start looking, and what kind of side effects might cause this\n\nIn many cases, the mysterious failure of doctests is due to some changing interaction with the Python garbage collector. For example, adding an extra test might change the time when the garbage collector kicks in, causing these strange failures. This is especially true when weak references are involved. And the failing test involves the coercion model, which is using weak references.",
    "created_at": "2018-12-13T16:25:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416077",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>
Replying to [dimpase](#comment%3A10):
> One way or another, I have no idea where to even start looking, and what kind of side effects might cause this

In many cases, the mysterious failure of doctests is due to some changing interaction with the Python garbage collector. For example, adding an extra test might change the time when the garbage collector kicks in, causing these strange failures. This is especially true when weak references are involved. And the failing test involves the coercion model, which is using weak references.



---

archive/issue_comments_416078.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9266fed2e972f870d0c4ba891993bbfbb13f2100\">9266fed</a></td><td><code>adjusting to the new bigger GAP database, better messages</code></td></tr></table>\n",
    "created_at": "2018-12-14T09:40:59Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9266fed2e972f870d0c4ba891993bbfbb13f2100">9266fed</a></td><td><code>adjusting to the new bigger GAP database, better messages</code></td></tr></table>




---

archive/issue_comments_416079.json:
```json
{
    "body": "**Changing commit** from \"[ef2230a3c98cb6d8b500e5ba6b925199c30a5647](https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647)\" to \"[9266fed2e972f870d0c4ba891993bbfbb13f2100](https://github.com/sagemath/sagetrac-mirror/commit/9266fed2e972f870d0c4ba891993bbfbb13f2100)\".",
    "created_at": "2018-12-14T09:40:59Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ef2230a3c98cb6d8b500e5ba6b925199c30a5647](https://github.com/sagemath/sagetrac-mirror/commit/ef2230a3c98cb6d8b500e5ba6b925199c30a5647)" to "[9266fed2e972f870d0c4ba891993bbfbb13f2100](https://github.com/sagemath/sagetrac-mirror/commit/9266fed2e972f870d0c4ba891993bbfbb13f2100)".



---

archive/issue_comments_416080.json:
```json
{
    "body": "<a id='comment:14'></a>\nAll that is needed to have the doctests pass with `database_gap` in `--optional` is the latest commit. \n\nWe still need to make sure that tables of marks (GAP 4.8 tomlib package) are there, and then remove `#optional : database_gap` tags and `database_gap` package.",
    "created_at": "2018-12-14T09:45:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416080",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>
All that is needed to have the doctests pass with `database_gap` in `--optional` is the latest commit. 

We still need to make sure that tables of marks (GAP 4.8 tomlib package) are there, and then remove `#optional : database_gap` tags and `database_gap` package.



---

archive/issue_comments_416081.json:
```json
{
    "body": "<a id='comment:15'></a>\nOK, I'll make our default GAP, without `gap_packages` installed, to be the same as vanilla GAP 4.10, which is, package-wise, as follows:\n\n```\n$ ./gap\n \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   GAP 4.10.0 of 01-Nov-2018\n \u2502  GAP  \u2502   https://www.gap-system.org\n \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   Architecture: x86_64-pc-linux-gnu-default64\n Configuration:  gmp 6.1.2, readline\n Loading the library and packages ...\n Packages:   AClib 1.3.1, Alnuth 3.1.0, AtlasRep 1.5.1, AutoDoc 2018.09.20, AutPGrp 1.10, CRISP 1.4.4, Cryst 4.1.18, CrystCat 1.1.8, CTblLib 1.2.2, \n             FactInt 1.6.2, FGA 1.4.0, GAPDoc 1.6.2, IRREDSOL 1.4, LAGUNA 3.9.0, Polenta 1.3.8, Polycyclic 2.14, PrimGrp 3.3.2, RadiRoot 2.8, \n             ResClasses 4.7.1, SmallGrp 1.3, Sophus 1.24, SpinSym 1.5, TomLib 1.2.7, TransGrp 2.0.4, utils 0.59 \n```\n\nThis covers everything that is in `database_gap`, and more - so we'll move some things out of `gap_packages` into the main `gap` package.",
    "created_at": "2018-12-14T11:09:02Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416081",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
OK, I'll make our default GAP, without `gap_packages` installed, to be the same as vanilla GAP 4.10, which is, package-wise, as follows:

```
$ ./gap
 ┌───────┐   GAP 4.10.0 of 01-Nov-2018
 │  GAP  │   https://www.gap-system.org
 └───────┘   Architecture: x86_64-pc-linux-gnu-default64
 Configuration:  gmp 6.1.2, readline
 Loading the library and packages ...
 Packages:   AClib 1.3.1, Alnuth 3.1.0, AtlasRep 1.5.1, AutoDoc 2018.09.20, AutPGrp 1.10, CRISP 1.4.4, Cryst 4.1.18, CrystCat 1.1.8, CTblLib 1.2.2, 
             FactInt 1.6.2, FGA 1.4.0, GAPDoc 1.6.2, IRREDSOL 1.4, LAGUNA 3.9.0, Polenta 1.3.8, Polycyclic 2.14, PrimGrp 3.3.2, RadiRoot 2.8, 
             ResClasses 4.7.1, SmallGrp 1.3, Sophus 1.24, SpinSym 1.5, TomLib 1.2.7, TransGrp 2.0.4, utils 0.59 
```

This covers everything that is in `database_gap`, and more - so we'll move some things out of `gap_packages` into the main `gap` package.



---

archive/issue_comments_416082.json:
```json
{
    "body": "<a id='comment:16'></a>\nI thought that we should remove `build/pkgs/gap/patches/nodefaultpackages.patch`, but this breaks pexpect interface to GAP. Note that `database_gap` and `gap_packages` do not not attempt to change the GAP package autoloading settings, so we should leave them as they are (it does not seem to be easy to fix).\n\nIt does not really matter. We can modify stripts starting `gap_console()` to enable autoloading (or not)...",
    "created_at": "2018-12-14T14:35:22Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416082",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:16'></a>
I thought that we should remove `build/pkgs/gap/patches/nodefaultpackages.patch`, but this breaks pexpect interface to GAP. Note that `database_gap` and `gap_packages` do not not attempt to change the GAP package autoloading settings, so we should leave them as they are (it does not seem to be easy to fix).

It does not really matter. We can modify stripts starting `gap_console()` to enable autoloading (or not)...



---

archive/issue_comments_416083.json:
```json
{
    "body": "**Changing commit** from \"[9266fed2e972f870d0c4ba891993bbfbb13f2100](https://github.com/sagemath/sagetrac-mirror/commit/9266fed2e972f870d0c4ba891993bbfbb13f2100)\" to \"[01665fa57aa56458b2d43765fd17b88944186f23](https://github.com/sagemath/sagetrac-mirror/commit/01665fa57aa56458b2d43765fd17b88944186f23)\".",
    "created_at": "2018-12-14T18:57:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416083",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9266fed2e972f870d0c4ba891993bbfbb13f2100](https://github.com/sagemath/sagetrac-mirror/commit/9266fed2e972f870d0c4ba891993bbfbb13f2100)" to "[01665fa57aa56458b2d43765fd17b88944186f23](https://github.com/sagemath/sagetrac-mirror/commit/01665fa57aa56458b2d43765fd17b88944186f23)".



---

archive/issue_comments_416084.json:
```json
{
    "body": "<a id='comment:17'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01665fa57aa56458b2d43765fd17b88944186f23\">01665fa</a></td><td><code>rm #optional - database_gap tags, doc updates, few GAP->libGAP changes</code></td></tr></table>\n",
    "created_at": "2018-12-14T18:57:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416084",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01665fa57aa56458b2d43765fd17b88944186f23">01665fa</a></td><td><code>rm #optional - database_gap tags, doc updates, few GAP->libGAP changes</code></td></tr></table>




---

archive/issue_comments_416085.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0915b50f653a1732f9a37ac1d4ee2ef1cc3c445\">a0915b5</a></td><td><code>another doctest with different format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2908fc41d45b2f4d94e7e66b46114221787ca6c5\">2908fc4</a></td><td><code>trimming backspaces, in part due to previous mass edit</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a81e52974ac5bf30a241a8a99a2755cd1df7691\">9a81e52</a></td><td><code>removing last traces of database_gap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/90f2fea00aa8aa088c619ac128faf2e5ec5cecbd\">90f2fea</a></td><td><code>remaining places dealing with database_gap</code></td></tr></table>\n",
    "created_at": "2018-12-14T23:29:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416085",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0915b50f653a1732f9a37ac1d4ee2ef1cc3c445">a0915b5</a></td><td><code>another doctest with different format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2908fc41d45b2f4d94e7e66b46114221787ca6c5">2908fc4</a></td><td><code>trimming backspaces, in part due to previous mass edit</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a81e52974ac5bf30a241a8a99a2755cd1df7691">9a81e52</a></td><td><code>removing last traces of database_gap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/90f2fea00aa8aa088c619ac128faf2e5ec5cecbd">90f2fea</a></td><td><code>remaining places dealing with database_gap</code></td></tr></table>




---

archive/issue_comments_416086.json:
```json
{
    "body": "**Changing commit** from \"[01665fa57aa56458b2d43765fd17b88944186f23](https://github.com/sagemath/sagetrac-mirror/commit/01665fa57aa56458b2d43765fd17b88944186f23)\" to \"[90f2fea00aa8aa088c619ac128faf2e5ec5cecbd](https://github.com/sagemath/sagetrac-mirror/commit/90f2fea00aa8aa088c619ac128faf2e5ec5cecbd)\".",
    "created_at": "2018-12-14T23:29:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416086",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[01665fa57aa56458b2d43765fd17b88944186f23](https://github.com/sagemath/sagetrac-mirror/commit/01665fa57aa56458b2d43765fd17b88944186f23)" to "[90f2fea00aa8aa088c619ac128faf2e5ec5cecbd](https://github.com/sagemath/sagetrac-mirror/commit/90f2fea00aa8aa088c619ac128faf2e5ec5cecbd)".



---

archive/issue_comments_416087.json:
```json
{
    "body": "<a id='comment:19'></a>\ndone getting rid of database_gap\n\nNow on to gap_packages...",
    "created_at": "2018-12-14T23:34:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416087",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:19'></a>
done getting rid of database_gap

Now on to gap_packages...



---

archive/issue_comments_416088.json:
```json
{
    "body": "**Changing dependencies** from \"#22626\" to \"#22626, #26889\".",
    "created_at": "2018-12-15T10:21:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416088",
    "user": "https://github.com/dimpase"
}
```

**Changing dependencies** from "#22626" to "#22626, #26889".



---

archive/issue_comments_416089.json:
```json
{
    "body": "<a id='comment:21'></a>\nopened #26901 to deal with changes in the only (apart from gap_packages) package of Sage dependent on database_gap.",
    "created_at": "2018-12-15T12:42:41Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416089",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
opened #26901 to deal with changes in the only (apart from gap_packages) package of Sage dependent on database_gap.



---

archive/issue_comments_416090.json:
```json
{
    "body": "**Changing commit** from \"[90f2fea00aa8aa088c619ac128faf2e5ec5cecbd](https://github.com/sagemath/sagetrac-mirror/commit/90f2fea00aa8aa088c619ac128faf2e5ec5cecbd)\" to \"[9407fba12c12b60c77eb47d11046964be2dd2c74](https://github.com/sagemath/sagetrac-mirror/commit/9407fba12c12b60c77eb47d11046964be2dd2c74)\".",
    "created_at": "2018-12-16T09:21:17Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416090",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[90f2fea00aa8aa088c619ac128faf2e5ec5cecbd](https://github.com/sagemath/sagetrac-mirror/commit/90f2fea00aa8aa088c619ac128faf2e5ec5cecbd)" to "[9407fba12c12b60c77eb47d11046964be2dd2c74](https://github.com/sagemath/sagetrac-mirror/commit/9407fba12c12b60c77eb47d11046964be2dd2c74)".



---

archive/issue_comments_416091.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9407fba12c12b60c77eb47d11046964be2dd2c74\">9407fba</a></td><td><code>reviewer's example and fix</code></td></tr></table>\n",
    "created_at": "2018-12-16T09:21:17Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416091",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9407fba12c12b60c77eb47d11046964be2dd2c74">9407fba</a></td><td><code>reviewer's example and fix</code></td></tr></table>




---

archive/issue_comments_416092.json:
```json
{
    "body": "**Changing commit** from \"[9407fba12c12b60c77eb47d11046964be2dd2c74](https://github.com/sagemath/sagetrac-mirror/commit/9407fba12c12b60c77eb47d11046964be2dd2c74)\" to \"[ca7f6ff6bf514e3b640ab39d8f51760eacc75a88](https://github.com/sagemath/sagetrac-mirror/commit/ca7f6ff6bf514e3b640ab39d8f51760eacc75a88)\".",
    "created_at": "2018-12-18T13:33:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416092",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9407fba12c12b60c77eb47d11046964be2dd2c74](https://github.com/sagemath/sagetrac-mirror/commit/9407fba12c12b60c77eb47d11046964be2dd2c74)" to "[ca7f6ff6bf514e3b640ab39d8f51760eacc75a88](https://github.com/sagemath/sagetrac-mirror/commit/ca7f6ff6bf514e3b640ab39d8f51760eacc75a88)".



---

archive/issue_comments_416093.json:
```json
{
    "body": "<a id='comment:23'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68a50fc4ed6ce2872f56628da817ebf93800d8ee\">68a50fc</a></td><td><code>Merge branch 'u/embray/doctests/interfaces-rand-seed' of trac.sagemath.org:sage into g410</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38e687b90bf9a411ac524273c3713f5db199824f\">38e687b</a></td><td><code>install only those packages that are required by GAP to run</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b0d0adf655ad6d7b0442b63ca5cfb38f1ca17df\">8b0d0ad</a></td><td><code>Implement GAPElement_List.__bool__ to work like a Python list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a5d34a92ddb510cfb5944f8dd05c0947eb9d23c\">6a5d34a</a></td><td><code>fix the test for available operations on an object</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72df280f83fbcbc85ab6df809b2c57fc2d652068\">72df280</a></td><td><code>clean up gap_root() a bit more; remove obsolete warning message</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4e6eb3ed24fd34f597f2bab66c06c4082dbf872e\">4e6eb3e</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into g410</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca7f6ff6bf514e3b640ab39d8f51760eacc75a88\">ca7f6ff</a></td><td><code>Merge branch 'u/dimpase/GQ' of trac.sagemath.org:sage into g410</code></td></tr></table>\n",
    "created_at": "2018-12-18T13:33:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416093",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68a50fc4ed6ce2872f56628da817ebf93800d8ee">68a50fc</a></td><td><code>Merge branch 'u/embray/doctests/interfaces-rand-seed' of trac.sagemath.org:sage into g410</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38e687b90bf9a411ac524273c3713f5db199824f">38e687b</a></td><td><code>install only those packages that are required by GAP to run</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b0d0adf655ad6d7b0442b63ca5cfb38f1ca17df">8b0d0ad</a></td><td><code>Implement GAPElement_List.__bool__ to work like a Python list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a5d34a92ddb510cfb5944f8dd05c0947eb9d23c">6a5d34a</a></td><td><code>fix the test for available operations on an object</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72df280f83fbcbc85ab6df809b2c57fc2d652068">72df280</a></td><td><code>clean up gap_root() a bit more; remove obsolete warning message</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4e6eb3ed24fd34f597f2bab66c06c4082dbf872e">4e6eb3e</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into g410</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca7f6ff6bf514e3b640ab39d8f51760eacc75a88">ca7f6ff</a></td><td><code>Merge branch 'u/dimpase/GQ' of trac.sagemath.org:sage into g410</code></td></tr></table>




---

archive/issue_comments_416094.json:
```json
{
    "body": "**Changing commit** from \"[ca7f6ff6bf514e3b640ab39d8f51760eacc75a88](https://github.com/sagemath/sagetrac-mirror/commit/ca7f6ff6bf514e3b640ab39d8f51760eacc75a88)\" to \"[b63db23cde4ed4800a93caec12edec29d4c24aab](https://github.com/sagemath/sagetrac-mirror/commit/b63db23cde4ed4800a93caec12edec29d4c24aab)\".",
    "created_at": "2018-12-18T15:20:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416094",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ca7f6ff6bf514e3b640ab39d8f51760eacc75a88](https://github.com/sagemath/sagetrac-mirror/commit/ca7f6ff6bf514e3b640ab39d8f51760eacc75a88)" to "[b63db23cde4ed4800a93caec12edec29d4c24aab](https://github.com/sagemath/sagetrac-mirror/commit/b63db23cde4ed4800a93caec12edec29d4c24aab)".



---

archive/issue_comments_416095.json:
```json
{
    "body": "<a id='comment:24'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b63db23cde4ed4800a93caec12edec29d4c24aab\">b63db23</a></td><td><code>allow GAP default packages and install them</code></td></tr></table>\n",
    "created_at": "2018-12-18T15:20:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416095",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:24'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b63db23cde4ed4800a93caec12edec29d4c24aab">b63db23</a></td><td><code>allow GAP default packages and install them</code></td></tr></table>




---

archive/issue_comments_416096.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d305273fcdd2c247a0c50b8432e2939bc9c6a0f6\">d305273</a></td><td><code>install atlasrep, as it is a dependency of tomlib</code></td></tr></table>\n",
    "created_at": "2018-12-18T17:42:13Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416096",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d305273fcdd2c247a0c50b8432e2939bc9c6a0f6">d305273</a></td><td><code>install atlasrep, as it is a dependency of tomlib</code></td></tr></table>




---

archive/issue_comments_416097.json:
```json
{
    "body": "**Changing commit** from \"[b63db23cde4ed4800a93caec12edec29d4c24aab](https://github.com/sagemath/sagetrac-mirror/commit/b63db23cde4ed4800a93caec12edec29d4c24aab)\" to \"[d305273fcdd2c247a0c50b8432e2939bc9c6a0f6](https://github.com/sagemath/sagetrac-mirror/commit/d305273fcdd2c247a0c50b8432e2939bc9c6a0f6)\".",
    "created_at": "2018-12-18T17:42:13Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416097",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b63db23cde4ed4800a93caec12edec29d4c24aab](https://github.com/sagemath/sagetrac-mirror/commit/b63db23cde4ed4800a93caec12edec29d4c24aab)" to "[d305273fcdd2c247a0c50b8432e2939bc9c6a0f6](https://github.com/sagemath/sagetrac-mirror/commit/d305273fcdd2c247a0c50b8432e2939bc9c6a0f6)".



---

archive/issue_comments_416098.json:
```json
{
    "body": "**Changing commit** from \"[d305273fcdd2c247a0c50b8432e2939bc9c6a0f6](https://github.com/sagemath/sagetrac-mirror/commit/d305273fcdd2c247a0c50b8432e2939bc9c6a0f6)\" to \"[1b7109983cb030067c6a7e471da076edf8fe6f64](https://github.com/sagemath/sagetrac-mirror/commit/1b7109983cb030067c6a7e471da076edf8fe6f64)\".",
    "created_at": "2018-12-18T19:11:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416098",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d305273fcdd2c247a0c50b8432e2939bc9c6a0f6](https://github.com/sagemath/sagetrac-mirror/commit/d305273fcdd2c247a0c50b8432e2939bc9c6a0f6)" to "[1b7109983cb030067c6a7e471da076edf8fe6f64](https://github.com/sagemath/sagetrac-mirror/commit/1b7109983cb030067c6a7e471da076edf8fe6f64)".



---

archive/issue_comments_416099.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3a7b9f7b15878e2048d755ecad52e6ad7b14d252\">3a7b9f7</a></td><td><code>less libgap.eval usage</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b7109983cb030067c6a7e471da076edf8fe6f64\">1b71099</a></td><td><code>adjust doctests to accommodate more GAP methods</code></td></tr></table>\n",
    "created_at": "2018-12-18T19:11:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416099",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3a7b9f7b15878e2048d755ecad52e6ad7b14d252">3a7b9f7</a></td><td><code>less libgap.eval usage</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b7109983cb030067c6a7e471da076edf8fe6f64">1b71099</a></td><td><code>adjust doctests to accommodate more GAP methods</code></td></tr></table>




---

archive/issue_comments_416100.json:
```json
{
    "body": "<a id='comment:27'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5daf5762529ac67383bee1b2b3ca46d5db6070f7\">5daf576</a></td><td><code>get rid of explicit GAP package list</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d879657c584c866152fe795888ee7d02c8668f12\">d879657</a></td><td><code>attempt to replicate GAP packages from 4.8.6</code></td></tr></table>\n",
    "created_at": "2018-12-18T23:54:43Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416100",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:27'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5daf5762529ac67383bee1b2b3ca46d5db6070f7">5daf576</a></td><td><code>get rid of explicit GAP package list</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d879657c584c866152fe795888ee7d02c8668f12">d879657</a></td><td><code>attempt to replicate GAP packages from 4.8.6</code></td></tr></table>




---

archive/issue_comments_416101.json:
```json
{
    "body": "**Changing commit** from \"[1b7109983cb030067c6a7e471da076edf8fe6f64](https://github.com/sagemath/sagetrac-mirror/commit/1b7109983cb030067c6a7e471da076edf8fe6f64)\" to \"[d879657c584c866152fe795888ee7d02c8668f12](https://github.com/sagemath/sagetrac-mirror/commit/d879657c584c866152fe795888ee7d02c8668f12)\".",
    "created_at": "2018-12-18T23:54:43Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416101",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[1b7109983cb030067c6a7e471da076edf8fe6f64](https://github.com/sagemath/sagetrac-mirror/commit/1b7109983cb030067c6a7e471da076edf8fe6f64)" to "[d879657c584c866152fe795888ee7d02c8668f12](https://github.com/sagemath/sagetrac-mirror/commit/d879657c584c866152fe795888ee7d02c8668f12)".



---

archive/issue_comments_416102.json:
```json
{
    "body": "<a id='comment:28'></a>\nThe latest bit does not work, as I don't know how to build GAP packages in the current setup. We have built them in place before, so this needs some work.",
    "created_at": "2018-12-19T00:00:46Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416102",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:28'></a>
The latest bit does not work, as I don't know how to build GAP packages in the current setup. We have built them in place before, so this needs some work.



---

archive/issue_events_236859.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-19T00:01:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236859"
}
```



---

archive/issue_events_236860.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-19T00:01:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236860"
}
```



---

archive/issue_comments_416103.json:
```json
{
    "body": "**Work Issues:** work out where/how to build GAP packages",
    "created_at": "2018-12-19T00:01:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416103",
    "user": "https://github.com/dimpase"
}
```

**Work Issues:** work out where/how to build GAP packages



---

archive/issue_comments_416104.json:
```json
{
    "body": "<a id='comment:30'></a>\nCertainly, we can keep the present arrangement, where binaries of GAP packages are installed in place, into package's bin/ subdirectories.",
    "created_at": "2018-12-19T08:00:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416104",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
Certainly, we can keep the present arrangement, where binaries of GAP packages are installed in place, into package's bin/ subdirectories.



---

archive/issue_comments_416105.json:
```json
{
    "body": "**Changing commit** from \"[d879657c584c866152fe795888ee7d02c8668f12](https://github.com/sagemath/sagetrac-mirror/commit/d879657c584c866152fe795888ee7d02c8668f12)\" to \"[785b9dedc352d33a74f8f5d54f6c91c436b225d8](https://github.com/sagemath/sagetrac-mirror/commit/785b9dedc352d33a74f8f5d54f6c91c436b225d8)\".",
    "created_at": "2018-12-19T21:40:49Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416105",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d879657c584c866152fe795888ee7d02c8668f12](https://github.com/sagemath/sagetrac-mirror/commit/d879657c584c866152fe795888ee7d02c8668f12)" to "[785b9dedc352d33a74f8f5d54f6c91c436b225d8](https://github.com/sagemath/sagetrac-mirror/commit/785b9dedc352d33a74f8f5d54f6c91c436b225d8)".



---

archive/issue_comments_416106.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e61d7b6a0da3aa53d8176fa1fb9353cc559b098\">5e61d7b</a></td><td><code>pass -A option to GAP to disable autoloading of default packages for both GAP interfaces</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/18f2f4388b50b1b0b21535ca3f96db4b7ee03f71\">18f2f43</a></td><td><code>instead of disabling autoloading of default packages, just install all default packages as a standard part of the GAP SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/da909ef2a07cf361223dcbf552865201fff22167\">da909ef</a></td><td><code>more fixes to the GAP SPKG installation</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d1c98f33d429a110e38b9576676ae3f3ea9faaec\">d1c98f3</a></td><td><code>also include the atlasrep package, which is a dependency of tomlib</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/785b9dedc352d33a74f8f5d54f6c91c436b225d8\">785b9de</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into gap410pkg</code></td></tr></table>\n",
    "created_at": "2018-12-19T21:40:49Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416106",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e61d7b6a0da3aa53d8176fa1fb9353cc559b098">5e61d7b</a></td><td><code>pass -A option to GAP to disable autoloading of default packages for both GAP interfaces</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/18f2f4388b50b1b0b21535ca3f96db4b7ee03f71">18f2f43</a></td><td><code>instead of disabling autoloading of default packages, just install all default packages as a standard part of the GAP SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/da909ef2a07cf361223dcbf552865201fff22167">da909ef</a></td><td><code>more fixes to the GAP SPKG installation</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d1c98f33d429a110e38b9576676ae3f3ea9faaec">d1c98f3</a></td><td><code>also include the atlasrep package, which is a dependency of tomlib</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/785b9dedc352d33a74f8f5d54f6c91c436b225d8">785b9de</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into gap410pkg</code></td></tr></table>




---

archive/issue_comments_416107.json:
```json
{
    "body": "**Changing commit** from \"[785b9dedc352d33a74f8f5d54f6c91c436b225d8](https://github.com/sagemath/sagetrac-mirror/commit/785b9dedc352d33a74f8f5d54f6c91c436b225d8)\" to \"[67ca32109f47388f820d95f4171f01bc050e32c8](https://github.com/sagemath/sagetrac-mirror/commit/67ca32109f47388f820d95f4171f01bc050e32c8)\".",
    "created_at": "2018-12-19T22:57:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416107",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[785b9dedc352d33a74f8f5d54f6c91c436b225d8](https://github.com/sagemath/sagetrac-mirror/commit/785b9dedc352d33a74f8f5d54f6c91c436b225d8)" to "[67ca32109f47388f820d95f4171f01bc050e32c8](https://github.com/sagemath/sagetrac-mirror/commit/67ca32109f47388f820d95f4171f01bc050e32c8)".



---

archive/issue_comments_416108.json:
```json
{
    "body": "<a id='comment:32'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/67ca32109f47388f820d95f4171f01bc050e32c8\">67ca321</a></td><td><code>fixed gap_packages, also package compiling/installing</code></td></tr></table>\n",
    "created_at": "2018-12-19T22:57:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416108",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/67ca32109f47388f820d95f4171f01bc050e32c8">67ca321</a></td><td><code>fixed gap_packages, also package compiling/installing</code></td></tr></table>




---

archive/issue_comments_416109.json:
```json
{
    "body": "**Changing commit** from \"[67ca32109f47388f820d95f4171f01bc050e32c8](https://github.com/sagemath/sagetrac-mirror/commit/67ca32109f47388f820d95f4171f01bc050e32c8)\" to \"[a7ef9e015984e48785b80d95ff422bcd3f6ae232](https://github.com/sagemath/sagetrac-mirror/commit/a7ef9e015984e48785b80d95ff422bcd3f6ae232)\".",
    "created_at": "2018-12-20T10:34:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416109",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[67ca32109f47388f820d95f4171f01bc050e32c8](https://github.com/sagemath/sagetrac-mirror/commit/67ca32109f47388f820d95f4171f01bc050e32c8)" to "[a7ef9e015984e48785b80d95ff422bcd3f6ae232](https://github.com/sagemath/sagetrac-mirror/commit/a7ef9e015984e48785b80d95ff422bcd3f6ae232)".



---

archive/issue_comments_416110.json:
```json
{
    "body": "<a id='comment:33'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a7ef9e015984e48785b80d95ff422bcd3f6ae232\">a7ef9e0</a></td><td><code>backport guava patch to allow no gcc</code></td></tr></table>\n",
    "created_at": "2018-12-20T10:34:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416110",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:33'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a7ef9e015984e48785b80d95ff422bcd3f6ae232">a7ef9e0</a></td><td><code>backport guava patch to allow no gcc</code></td></tr></table>




---

archive/issue_comments_416111.json:
```json
{
    "body": "<a id='comment:34'></a>\nIt turns out that most of the changes so far here should go to #22626. Once this is done I'll update the branch accordingly.",
    "created_at": "2018-12-20T12:46:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416111",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
It turns out that most of the changes so far here should go to #22626. Once this is done I'll update the branch accordingly.



---

archive/issue_comments_416112.json:
```json
{
    "body": "<a id='comment:35'></a>\nIs there any reason the IO package isn't installed here?  It seems to be mentioned quite often, but we don't provide a means to install it.",
    "created_at": "2018-12-20T13:14:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416112",
    "user": "https://github.com/embray"
}
```

<a id='comment:35'></a>
Is there any reason the IO package isn't installed here?  It seems to be mentioned quite often, but we don't provide a means to install it.



---

archive/issue_comments_416113.json:
```json
{
    "body": "**Changing commit** from \"[a7ef9e015984e48785b80d95ff422bcd3f6ae232](https://github.com/sagemath/sagetrac-mirror/commit/a7ef9e015984e48785b80d95ff422bcd3f6ae232)\" to \"[01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65](https://github.com/sagemath/sagetrac-mirror/commit/01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65)\".",
    "created_at": "2018-12-20T13:23:54Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416113",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[a7ef9e015984e48785b80d95ff422bcd3f6ae232](https://github.com/sagemath/sagetrac-mirror/commit/a7ef9e015984e48785b80d95ff422bcd3f6ae232)" to "[01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65](https://github.com/sagemath/sagetrac-mirror/commit/01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65)".



---

archive/issue_comments_416114.json:
```json
{
    "body": "<a id='comment:36'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53f07cc92ee670a7aa091eee1c056c488167ab13\">53f07cc</a></td><td><code>disable parallel make for gap</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b446ebb496d45c4408aa949f98f855f962d9388a\">b446ebb</a></td><td><code>adjust doctests to accommodate more GAP methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65\">01d85a7</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into gap410pkg</code></td></tr></table>\n",
    "created_at": "2018-12-20T13:23:54Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416114",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:36'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53f07cc92ee670a7aa091eee1c056c488167ab13">53f07cc</a></td><td><code>disable parallel make for gap</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b446ebb496d45c4408aa949f98f855f962d9388a">b446ebb</a></td><td><code>adjust doctests to accommodate more GAP methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65">01d85a7</a></td><td><code>Merge branch 'u/embray/spkgs/gap-410' of trac.sagemath.org:sage into gap410pkg</code></td></tr></table>




---

archive/issue_comments_416115.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [embray](#comment%3A35):\n> Is there any reason the IO package isn't installed here?  It seems to be mentioned quite often, but we don't provide a means to install it.\n\nI'm currently going for the minimal thing: get gap_packages spkg working the way it was.\nWe never had io package there, as it was breaking libgap in a bad way.\n(there are open tickets about io package).\n\nDoes this sound like a good plan to you? We can postpone io package, it's not needed to be ready by the Debian freeze deadline.",
    "created_at": "2018-12-20T13:32:14Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416115",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:37'></a>
Replying to [embray](#comment%3A35):
> Is there any reason the IO package isn't installed here?  It seems to be mentioned quite often, but we don't provide a means to install it.

I'm currently going for the minimal thing: get gap_packages spkg working the way it was.
We never had io package there, as it was breaking libgap in a bad way.
(there are open tickets about io package).

Does this sound like a good plan to you? We can postpone io package, it's not needed to be ready by the Debian freeze deadline.



---

archive/issue_comments_416116.json:
```json
{
    "body": "<a id='comment:38'></a>\nI need to adjust formatting in a dozen of tests, after that should be ready for review.",
    "created_at": "2018-12-20T13:33:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416116",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:38'></a>
I need to adjust formatting in a dozen of tests, after that should be ready for review.



---

archive/issue_comments_416117.json:
```json
{
    "body": "<a id='comment:39'></a>\nOK regarding the IO package.  If we weren't installing it in the first place I'm fine just sticking to the minimum set of packages that we were always installing in the first place.\n\nI am also making some updates to this: In particular I'm not happy with the way the compiled packages are installed.  Let me know when you're done your changes (set needs_review) and I'll add my changes on top of that.",
    "created_at": "2018-12-20T13:37:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416117",
    "user": "https://github.com/embray"
}
```

<a id='comment:39'></a>
OK regarding the IO package.  If we weren't installing it in the first place I'm fine just sticking to the minimum set of packages that we were always installing in the first place.

I am also making some updates to this: In particular I'm not happy with the way the compiled packages are installed.  Let me know when you're done your changes (set needs_review) and I'll add my changes on top of that.



---

archive/issue_comments_416118.json:
```json
{
    "body": "<a id='comment:40'></a>\nI'm getting an unpleasant surprise from the doctest framework here - it mangles long lines in this file, e.g. here:\n\n```\nFile \"src/sage/algebras/quantum_groups/quantum_group_gap.py\", line 757, in sage.algebras.quantum_groups.quantum_group_gap.QuantumGroup.coproduct\nFailed example:\n    [Q.coproduct(f, 2)._latex_() for f in Q.F_simple()]  # optional - gap_packages\nExpected:\n    ['1 {(1<x>1<x>F_{\\\\alpha_{1}})}+-q^{2}+q^{-2} {(1<x>F_{\\\\alpha_{1}}<x>[ K_{1} ; 1 ])}+1 {(1<x>F_{\\\\alpha_{1}}<x>K_{1})}+q^{4}-2+q^{-4} {(F_{\\\\alpha_{1}}<x>[ K_{1} ; 1 ]<x>[ K_{1} ; 1 ])}+-q^{2}+q^{-2} {(F_{\\\\alpha_{1}}<x>[ K_{1} ; 1 ]<x>K_{1})}+-q^{2}+q^{-2} {(F_{\\\\alpha_{1}}<x>K_{1}<x>[ K_{1} ; 1 ])}+1 {(F_{\\\\alpha_{1}}<x>K_{1}<x>K_{1})}',\n     '1 {(1<x>1<x>F_{\\\\alpha_{2}})}+-q+q^{-1} {(1<x>F_{\\\\alpha_{2}}<x>[ K_{2} ; 1 ])}+1 {(1<x>F_{\\\\alpha_{2}}<x>K_{2})}+q^{2}-2+q^{-2} {(F_{\\\\alpha_{2}}<x>[ K_{2} ; 1 ]<x>[ K_{2} ; 1 ])}+-q+q^{-1} {(F_{\\\\alpha_{2}}<x>[ K_{2} ; 1 ]<x>K_{2})}+-q+q^{-1} {(F_{\\\\alpha_{2}}<x>K_{2}<x>[ K_{2} ; 1 ])}+1 {(F_{\\\\alpha_{2}}<x>K_{2}<x>K_{2})}']\nGot:\n    ['1 {(1<x>1<x>F_{\\\\alpha_{1}})}+-q^{2}+q^{-2} {(1<x>F_{\\\\alpha_{1}}<x>[ K_{1} ; 1 ])}+1 {(1<x>F_{\\\\alpha_{1}}<x>K_{1})}+q^{4}-2+q^{-4} {(F\\n1<x>[ K_{1} ; 1 ]<x>[ K_{1} ; 1 ])}+-q^{2}+q^{-2} {(F_{\\\\alpha_{1}}<x>[ K_{1} ; 1 ]<x>K_{1})}+-q^{2}+q^{-2} {(F\\n1<x>K_{1}<x>[ K_{1} ; 1 ])}+1 {(F_{\\\\alpha_{1}}<x>K_{1}<x>K_{1})}',\n     '1 {(1<x>1<x>F_{\\\\alpha_{2}})}+-q+q^{-1} {(1<x>F_{\\\\alpha_{2}}<x>[ K_{2} ; 1 ])}+1 {(1<x>F_{\\\\alpha_{2}}<x>K_{2})}+q^{2}-2+q^{-2} {(F\\n4<x>[ K_{2} ; 1 ]<x>[ K_{2} ; 1 ])}+-q+q^{-1} {(F_{\\\\alpha_{2}}<x>[ K_{2} ; 1 ]<x>K_{2})}+-q+q^{-1} {(F_{\\\\alpha_{2}}<x>K\\n2<x>[ K_{2} ; 1 ])}+1 {(F_{\\\\alpha_{2}}<x>K_{2}<x>K_{2})}']\n```\nand instead of `F_{\\\\alpha_{1}}` at few places it outputs `F\\n1` - probably some unfortunate combination of escape sequences, dunno... (needless to say, the output at the sage prompt is fine).\n\nI'm inclined to mark these as `# known bug` and deal with them later...",
    "created_at": "2018-12-20T14:17:46Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416118",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:40'></a>
I'm getting an unpleasant surprise from the doctest framework here - it mangles long lines in this file, e.g. here:

```
File "src/sage/algebras/quantum_groups/quantum_group_gap.py", line 757, in sage.algebras.quantum_groups.quantum_group_gap.QuantumGroup.coproduct
Failed example:
    [Q.coproduct(f, 2)._latex_() for f in Q.F_simple()]  # optional - gap_packages
Expected:
    ['1 {(1<x>1<x>F_{\\alpha_{1}})}+-q^{2}+q^{-2} {(1<x>F_{\\alpha_{1}}<x>[ K_{1} ; 1 ])}+1 {(1<x>F_{\\alpha_{1}}<x>K_{1})}+q^{4}-2+q^{-4} {(F_{\\alpha_{1}}<x>[ K_{1} ; 1 ]<x>[ K_{1} ; 1 ])}+-q^{2}+q^{-2} {(F_{\\alpha_{1}}<x>[ K_{1} ; 1 ]<x>K_{1})}+-q^{2}+q^{-2} {(F_{\\alpha_{1}}<x>K_{1}<x>[ K_{1} ; 1 ])}+1 {(F_{\\alpha_{1}}<x>K_{1}<x>K_{1})}',
     '1 {(1<x>1<x>F_{\\alpha_{2}})}+-q+q^{-1} {(1<x>F_{\\alpha_{2}}<x>[ K_{2} ; 1 ])}+1 {(1<x>F_{\\alpha_{2}}<x>K_{2})}+q^{2}-2+q^{-2} {(F_{\\alpha_{2}}<x>[ K_{2} ; 1 ]<x>[ K_{2} ; 1 ])}+-q+q^{-1} {(F_{\\alpha_{2}}<x>[ K_{2} ; 1 ]<x>K_{2})}+-q+q^{-1} {(F_{\\alpha_{2}}<x>K_{2}<x>[ K_{2} ; 1 ])}+1 {(F_{\\alpha_{2}}<x>K_{2}<x>K_{2})}']
Got:
    ['1 {(1<x>1<x>F_{\\alpha_{1}})}+-q^{2}+q^{-2} {(1<x>F_{\\alpha_{1}}<x>[ K_{1} ; 1 ])}+1 {(1<x>F_{\\alpha_{1}}<x>K_{1})}+q^{4}-2+q^{-4} {(F\n1<x>[ K_{1} ; 1 ]<x>[ K_{1} ; 1 ])}+-q^{2}+q^{-2} {(F_{\\alpha_{1}}<x>[ K_{1} ; 1 ]<x>K_{1})}+-q^{2}+q^{-2} {(F\n1<x>K_{1}<x>[ K_{1} ; 1 ])}+1 {(F_{\\alpha_{1}}<x>K_{1}<x>K_{1})}',
     '1 {(1<x>1<x>F_{\\alpha_{2}})}+-q+q^{-1} {(1<x>F_{\\alpha_{2}}<x>[ K_{2} ; 1 ])}+1 {(1<x>F_{\\alpha_{2}}<x>K_{2})}+q^{2}-2+q^{-2} {(F\n4<x>[ K_{2} ; 1 ]<x>[ K_{2} ; 1 ])}+-q+q^{-1} {(F_{\\alpha_{2}}<x>[ K_{2} ; 1 ]<x>K_{2})}+-q+q^{-1} {(F_{\\alpha_{2}}<x>K\n2<x>[ K_{2} ; 1 ])}+1 {(F_{\\alpha_{2}}<x>K_{2}<x>K_{2})}']
```
and instead of `F_{\\alpha_{1}}` at few places it outputs `F\n1` - probably some unfortunate combination of escape sequences, dunno... (needless to say, the output at the sage prompt is fine).

I'm inclined to mark these as `# known bug` and deal with them later...



---

archive/issue_comments_416119.json:
```json
{
    "body": "<a id='comment:41'></a>\nIn the case of the \"grape\" package, ISTM the only actual \"compiled\" part is not technically part of the package at all, but rather it builds its own copy of nauty.  It ought to be able to use the nauty that's already included in Sage.\n\nI probably won't stress about it too much in the short time that we have, but this should probably be fixed later.",
    "created_at": "2018-12-20T14:19:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416119",
    "user": "https://github.com/embray"
}
```

<a id='comment:41'></a>
In the case of the "grape" package, ISTM the only actual "compiled" part is not technically part of the package at all, but rather it builds its own copy of nauty.  It ought to be able to use the nauty that's already included in Sage.

I probably won't stress about it too much in the short time that we have, but this should probably be fixed later.



---

archive/issue_comments_416120.json:
```json
{
    "body": "<a id='comment:42'></a>\nI agree about nauty/grape - see #26923",
    "created_at": "2018-12-20T14:23:55Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416120",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
I agree about nauty/grape - see #26923



---

archive/issue_comments_416121.json:
```json
{
    "body": "<a id='comment:43'></a>\nReplying to [dimpase](#comment%3A40):\n> I'm getting an unpleasant surprise from the doctest framework here - it mangles long lines in this file, e.g. here:\n> and instead of `F_{\\\\alpha_{1}}` at few places it outputs `F\\n1` - probably some unfortunate combination of escape sequences, dunno... (needless to say, the output at the sage prompt is fine).\n\nI'm not so sure about that.  I don't think the doctest framework is doing that, but I'll look into it later.",
    "created_at": "2018-12-20T14:25:01Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416121",
    "user": "https://github.com/embray"
}
```

<a id='comment:43'></a>
Replying to [dimpase](#comment%3A40):
> I'm getting an unpleasant surprise from the doctest framework here - it mangles long lines in this file, e.g. here:
> and instead of `F_{\\alpha_{1}}` at few places it outputs `F\n1` - probably some unfortunate combination of escape sequences, dunno... (needless to say, the output at the sage prompt is fine).

I'm not so sure about that.  I don't think the doctest framework is doing that, but I'll look into it later.



---

archive/issue_comments_416122.json:
```json
{
    "body": "<a id='comment:44'></a>\nReplying to [embray](#comment%3A43):\n> Replying to [dimpase](#comment%3A40):\n> > I'm getting an unpleasant surprise from the doctest framework here - it mangles long lines in this file, e.g. here:\n> > and instead of `F_{\\\\alpha_{1}}` at few places it outputs `F\\n1` - probably some unfortunate combination of escape sequences, dunno... (needless to say, the output at the sage prompt is fine).\n\n> \n> I'm not so sure about that.  I don't think the doctest framework is doing that, but I'll look into it later.\n\nMight be a \"noisy line\" thing - but why only while doctesting? Anyhow I have opened #26924 to deal with it.",
    "created_at": "2018-12-20T14:34:39Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416122",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:44'></a>
Replying to [embray](#comment%3A43):
> Replying to [dimpase](#comment%3A40):
> > I'm getting an unpleasant surprise from the doctest framework here - it mangles long lines in this file, e.g. here:
> > and instead of `F_{\\alpha_{1}}` at few places it outputs `F\n1` - probably some unfortunate combination of escape sequences, dunno... (needless to say, the output at the sage prompt is fine).

> 
> I'm not so sure about that.  I don't think the doctest framework is doing that, but I'll look into it later.

Might be a "noisy line" thing - but why only while doctesting? Anyhow I have opened #26924 to deal with it.



---

archive/issue_comments_416123.json:
```json
{
    "body": "<a id='comment:45'></a>\nI'm running the tests for some of these packages.  A bunch of tests fail for guava: I'm not sure whether or not this is expected.",
    "created_at": "2018-12-20T14:36:04Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416123",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'></a>
I'm running the tests for some of these packages.  A bunch of tests fail for guava: I'm not sure whether or not this is expected.



---

archive/issue_comments_416124.json:
```json
{
    "body": "<a id='comment:46'></a>\nA new failure I'm getting is:\n\n```\nFile \"src/sage/graphs/strongly_regular_db.pyx\", line 2445, in sage.graphs.strongly_regular_db.SRG_416_100_36_20\nFailed example:\n    g = SRG_416_100_36_20()                # optional - gap_packages # long time\nExpected nothing\nGot:\n    #I  io package is not available. Check that the name is correct\n    #I  and it is present in one of the GAP root directories (see '??RootPaths')\n    #I  io package is not available. Check that the name is correct\n    #I  and it is present in one of the GAP root directories (see '??RootPaths')\n**********************************************************************\n1 item had failures:\n   1 of   4 in sage.graphs.strongly_regular_db.SRG_416_100_36_20\n    [334 tests, 1 failure, 61.16 s]\n```\n\nSo perhaps one of these packages at least tries to load the IO package if available, though doesn't strictly need it.  In that case we should at least be silencing this message.",
    "created_at": "2018-12-20T14:48:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416124",
    "user": "https://github.com/embray"
}
```

<a id='comment:46'></a>
A new failure I'm getting is:

```
File "src/sage/graphs/strongly_regular_db.pyx", line 2445, in sage.graphs.strongly_regular_db.SRG_416_100_36_20
Failed example:
    g = SRG_416_100_36_20()                # optional - gap_packages # long time
Expected nothing
Got:
    #I  io package is not available. Check that the name is correct
    #I  and it is present in one of the GAP root directories (see '??RootPaths')
    #I  io package is not available. Check that the name is correct
    #I  and it is present in one of the GAP root directories (see '??RootPaths')
**********************************************************************
1 item had failures:
   1 of   4 in sage.graphs.strongly_regular_db.SRG_416_100_36_20
    [334 tests, 1 failure, 61.16 s]
```

So perhaps one of these packages at least tries to load the IO package if available, though doesn't strictly need it.  In that case we should at least be silencing this message.



---

archive/issue_comments_416125.json:
```json
{
    "body": "<a id='comment:47'></a>\nAnother one that's a bit troubling is:\n\n```\nsage -t --long src/sage/tests/gap_packages.py\n**********************************************************************\nFile \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\nFailed example:\n    test_packages(pkgs, only_failures=True)    # optional - gap_packages\nExpected:\n      Status   Package   GAP Output\n    +--------+---------+------------+\nGot:\n    #I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n    #I  HAP warning: Set POLYMAKE_PATH manually if needed.\n    #I  HAP warning: Set BROWSER_PATH manually if needed.\n    #I  HAP warning: Set ASY_PATH manually if needed.\n    #I  You may wish to install the xgap package\n    #I  and enjoy the graphic capabilities of SONATA.\n    #I  qpa-version package is not available. Check that the name is correct\n    #I  and it is present in one of the GAP root directories (see '??RootPaths')\n      Status    Package       GAP Output\n    +---------+-------------+------------+\n      Failure   polenta       fail\n      Failure   qpa-version   fail\n      Failure   resclasses    fail\n**********************************************************************\n1 item had failures:\n   1 of   5 in sage.tests.gap_packages\n    [10 tests, 1 failure, 3.98 s]\n```\n\nI get these warnings when loading the relevant GAP packages in a vanilla GAP source tree, so I suppose they're normal and/or expected, or at least not indicative of any specific bug on our part.  But we probably need to at least temporarily silence them for the purposes of the code and tests they affect.\n\nThe one exception being the error about \"qpa-version\".  The name of the package is just \"qpa\", but its source directory is unusually named \"qpa-version-<x.y>\", so there's some code that's making an invalid assumption about GAP package names :sigh:",
    "created_at": "2018-12-20T14:51:03Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416125",
    "user": "https://github.com/embray"
}
```

<a id='comment:47'></a>
Another one that's a bit troubling is:

```
sage -t --long src/sage/tests/gap_packages.py
**********************************************************************
File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
Failed example:
    test_packages(pkgs, only_failures=True)    # optional - gap_packages
Expected:
      Status   Package   GAP Output
    +--------+---------+------------+
Got:
    #I  polymake command not found. Please set POLYMAKE_COMMAND by hand
    #I  HAP warning: Set POLYMAKE_PATH manually if needed.
    #I  HAP warning: Set BROWSER_PATH manually if needed.
    #I  HAP warning: Set ASY_PATH manually if needed.
    #I  You may wish to install the xgap package
    #I  and enjoy the graphic capabilities of SONATA.
    #I  qpa-version package is not available. Check that the name is correct
    #I  and it is present in one of the GAP root directories (see '??RootPaths')
      Status    Package       GAP Output
    +---------+-------------+------------+
      Failure   polenta       fail
      Failure   qpa-version   fail
      Failure   resclasses    fail
**********************************************************************
1 item had failures:
   1 of   5 in sage.tests.gap_packages
    [10 tests, 1 failure, 3.98 s]
```

I get these warnings when loading the relevant GAP packages in a vanilla GAP source tree, so I suppose they're normal and/or expected, or at least not indicative of any specific bug on our part.  But we probably need to at least temporarily silence them for the purposes of the code and tests they affect.

The one exception being the error about "qpa-version".  The name of the package is just "qpa", but its source directory is unusually named "qpa-version-<x.y>", so there's some code that's making an invalid assumption about GAP package names :sigh:



---

archive/issue_comments_416126.json:
```json
{
    "body": "<a id='comment:48'></a>\nReplying to [embray](#comment%3A46):\n> A new failure I'm getting is:\n> \n> ```\n> File \"src/sage/graphs/strongly_regular_db.pyx\", line 2445, in sage.graphs.strongly_regular_db.SRG_416_100_36_20\n> Failed example:\n>     g = SRG_416_100_36_20()                # optional - gap_packages # long time\n> Expected nothing\n> Got:\n>     #I  io package is not available. Check that the name is correct\n>     #I  and it is present in one of the GAP root directories (see '??RootPaths')\n>     #I  io package is not available. Check that the name is correct\n>     #I  and it is present in one of the GAP root directories (see '??RootPaths')\n> **********************************************************************\n> 1 item had failures:\n>    1 of   4 in sage.graphs.strongly_regular_db.SRG_416_100_36_20\n>     [334 tests, 1 failure, 61.16 s]\n> ```\n> \n> So perhaps one of these packages at least tries to load the IO package if available, though doesn't strictly need it.  In that case we should at least be silencing this message.\n\nYes, atlasrep does this.\nHowever, you might have a stale libgap workspace. I saw this warning, and then went away after I wiped the workspaces out.",
    "created_at": "2018-12-20T14:59:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416126",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:48'></a>
Replying to [embray](#comment%3A46):
> A new failure I'm getting is:
> 
> ```
> File "src/sage/graphs/strongly_regular_db.pyx", line 2445, in sage.graphs.strongly_regular_db.SRG_416_100_36_20
> Failed example:
>     g = SRG_416_100_36_20()                # optional - gap_packages # long time
> Expected nothing
> Got:
>     #I  io package is not available. Check that the name is correct
>     #I  and it is present in one of the GAP root directories (see '??RootPaths')
>     #I  io package is not available. Check that the name is correct
>     #I  and it is present in one of the GAP root directories (see '??RootPaths')
> **********************************************************************
> 1 item had failures:
>    1 of   4 in sage.graphs.strongly_regular_db.SRG_416_100_36_20
>     [334 tests, 1 failure, 61.16 s]
> ```
> 
> So perhaps one of these packages at least tries to load the IO package if available, though doesn't strictly need it.  In that case we should at least be silencing this message.

Yes, atlasrep does this.
However, you might have a stale libgap workspace. I saw this warning, and then went away after I wiped the workspaces out.



---

archive/issue_comments_416127.json:
```json
{
    "body": "<a id='comment:49'></a>\nReplying to [embray](#comment%3A47):\n> Another one that's a bit troubling is:\n> \n> ```\n> sage -t --long src/sage/tests/gap_packages.py\n> **********************************************************************\n> File \"src/sage/tests/gap_packages.py\", line 8, in sage.tests.gap_packages\n> Failed example:\n>     test_packages(pkgs, only_failures=True)    # optional - gap_packages\n> Expected:\n>       Status   Package   GAP Output\n>     +--------+---------+------------+\n> Got:\n>     #I  polymake command not found. Please set POLYMAKE_COMMAND by hand\n>     #I  HAP warning: Set POLYMAKE_PATH manually if needed.\n>     #I  HAP warning: Set BROWSER_PATH manually if needed.\n>     #I  HAP warning: Set ASY_PATH manually if needed.\n>     #I  You may wish to install the xgap package\n>     #I  and enjoy the graphic capabilities of SONATA.\n>     #I  qpa-version package is not available. Check that the name is correct\n>     #I  and it is present in one of the GAP root directories (see '??RootPaths')\n>       Status    Package       GAP Output\n>     +---------+-------------+------------+\n>       Failure   polenta       fail\n>       Failure   qpa-version   fail\n>       Failure   resclasses    fail\n> **********************************************************************\n> 1 item had failures:\n>    1 of   5 in sage.tests.gap_packages\n>     [10 tests, 1 failure, 3.98 s]\n> ```\n> \n> I get these warnings when loading the relevant GAP packages in a vanilla GAP source tree, so I suppose they're normal and/or expected, or at least not indicative of any specific bug on our part.  But we probably need to at least temporarily silence them for the purposes of the code and tests they affect.\n> \n> The one exception being the error about \"qpa-version\".  The name of the package is just \"qpa\", but its source directory is unusually named \"qpa-version-<x.y>\", so there's some code that's making an invalid assumption about GAP package names :sigh:\n\nYes, that's where I am now too. I'll need to step away for an hour, I'll push what I have in a second.",
    "created_at": "2018-12-20T15:01:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416127",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:49'></a>
Replying to [embray](#comment%3A47):
> Another one that's a bit troubling is:
> 
> ```
> sage -t --long src/sage/tests/gap_packages.py
> **********************************************************************
> File "src/sage/tests/gap_packages.py", line 8, in sage.tests.gap_packages
> Failed example:
>     test_packages(pkgs, only_failures=True)    # optional - gap_packages
> Expected:
>       Status   Package   GAP Output
>     +--------+---------+------------+
> Got:
>     #I  polymake command not found. Please set POLYMAKE_COMMAND by hand
>     #I  HAP warning: Set POLYMAKE_PATH manually if needed.
>     #I  HAP warning: Set BROWSER_PATH manually if needed.
>     #I  HAP warning: Set ASY_PATH manually if needed.
>     #I  You may wish to install the xgap package
>     #I  and enjoy the graphic capabilities of SONATA.
>     #I  qpa-version package is not available. Check that the name is correct
>     #I  and it is present in one of the GAP root directories (see '??RootPaths')
>       Status    Package       GAP Output
>     +---------+-------------+------------+
>       Failure   polenta       fail
>       Failure   qpa-version   fail
>       Failure   resclasses    fail
> **********************************************************************
> 1 item had failures:
>    1 of   5 in sage.tests.gap_packages
>     [10 tests, 1 failure, 3.98 s]
> ```
> 
> I get these warnings when loading the relevant GAP packages in a vanilla GAP source tree, so I suppose they're normal and/or expected, or at least not indicative of any specific bug on our part.  But we probably need to at least temporarily silence them for the purposes of the code and tests they affect.
> 
> The one exception being the error about "qpa-version".  The name of the package is just "qpa", but its source directory is unusually named "qpa-version-<x.y>", so there's some code that's making an invalid assumption about GAP package names :sigh:

Yes, that's where I am now too. I'll need to step away for an hour, I'll push what I have in a second.



---

archive/issue_comments_416128.json:
```json
{
    "body": "<a id='comment:50'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f31a8cdea8657847b74fddb55f0fe1d01aed5eb1\">f31a8cd</a></td><td><code>backport https://github.com/gap-packages/cohomolo/pull/19</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78db91a51010662e85dda67649495eaed4193025\">78db91a</a></td><td><code>known-buggification - see Trac #26924</code></td></tr></table>\n",
    "created_at": "2018-12-20T15:02:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416128",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:50'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f31a8cdea8657847b74fddb55f0fe1d01aed5eb1">f31a8cd</a></td><td><code>backport https://github.com/gap-packages/cohomolo/pull/19</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78db91a51010662e85dda67649495eaed4193025">78db91a</a></td><td><code>known-buggification - see Trac #26924</code></td></tr></table>




---

archive/issue_comments_416129.json:
```json
{
    "body": "**Changing commit** from \"[01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65](https://github.com/sagemath/sagetrac-mirror/commit/01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65)\" to \"[78db91a51010662e85dda67649495eaed4193025](https://github.com/sagemath/sagetrac-mirror/commit/78db91a51010662e85dda67649495eaed4193025)\".",
    "created_at": "2018-12-20T15:02:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416129",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65](https://github.com/sagemath/sagetrac-mirror/commit/01d85a7b1ebe5b95cb8a84d273dafd13c62f4a65)" to "[78db91a51010662e85dda67649495eaed4193025](https://github.com/sagemath/sagetrac-mirror/commit/78db91a51010662e85dda67649495eaed4193025)".



---

archive/issue_comments_416130.json:
```json
{
    "body": "<a id='comment:51'></a>\nOK, over to you now.",
    "created_at": "2018-12-20T15:02:34Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416130",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:51'></a>
OK, over to you now.



---

archive/issue_comments_416131.json:
```json
{
    "body": "<a id='comment:52'></a>\nI think this change\n\n```diff\ndiff --git a/src/sage/algebras/quantum_groups/quantum_group_gap.py b/src/sage/algebras/quantum_groups/quantum_group_gap.py\nindex 4ce98f4..0e4549b 100644\n--- a/src/sage/algebras/quantum_groups/quantum_group_gap.py\n+++ b/src/sage/algebras/quantum_groups/quantum_group_gap.py\n@@ -1566,8 +1564,8 @@ class QuantumGroupModule(Parent, UniqueRepresentation):\n             sage: Q = QuantumGroup(['A',2])           # optional - gap_packages\n             sage: V = Q.highest_weight_module([1,1])  # optional - gap_packages\n             sage: V.gap()                             # optional - gap_packages\n-            <8-dimensional left-module over QuantumUEA( <root system of type A2>,\n-             Qpar = q )>\n+            <8-dimensional left-module over QuantumUEA( <root system of type A\n+            2>, Qpar = q )>\n         \"\"\"\n         return self._libgap\n```\n\nThis one feels like a bug in the GAP and/or the QuaGroup package to me, but I confirmed that this is in fact the output provided by GAP and not a bug on our end, so for the time being there's nothing to be done (other than possibly report it upstream)\n\nThis is one of the problems with GAP objects not having a real string representation that isn't tied to how exactly they're printed to the screen :|",
    "created_at": "2018-12-20T15:17:56Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416131",
    "user": "https://github.com/embray"
}
```

<a id='comment:52'></a>
I think this change

```diff
diff --git a/src/sage/algebras/quantum_groups/quantum_group_gap.py b/src/sage/algebras/quantum_groups/quantum_group_gap.py
index 4ce98f4..0e4549b 100644
--- a/src/sage/algebras/quantum_groups/quantum_group_gap.py
+++ b/src/sage/algebras/quantum_groups/quantum_group_gap.py
@@ -1566,8 +1564,8 @@ class QuantumGroupModule(Parent, UniqueRepresentation):
             sage: Q = QuantumGroup(['A',2])           # optional - gap_packages
             sage: V = Q.highest_weight_module([1,1])  # optional - gap_packages
             sage: V.gap()                             # optional - gap_packages
-            <8-dimensional left-module over QuantumUEA( <root system of type A2>,
-             Qpar = q )>
+            <8-dimensional left-module over QuantumUEA( <root system of type A
+            2>, Qpar = q )>
         """
         return self._libgap
```

This one feels like a bug in the GAP and/or the QuaGroup package to me, but I confirmed that this is in fact the output provided by GAP and not a bug on our end, so for the time being there's nothing to be done (other than possibly report it upstream)

This is one of the problems with GAP objects not having a real string representation that isn't tied to how exactly they're printed to the screen :|



---

archive/issue_comments_416132.json:
```json
{
    "body": "<a id='comment:53'></a>\nThe problem here, accounting for all these test failures including the test above that was modified, is that the QuaGroups package seems (I have not looked for the exact code) to insert linebreaks into the representations of its types in different places depending on the terminal width.  Not exactly sure if that's a GAP thing in general or something specific to this package, but this is the first place it's come up.  In any case we apparently aren't dealing well with those unnecessary line breaks.",
    "created_at": "2018-12-20T15:39:05Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416132",
    "user": "https://github.com/embray"
}
```

<a id='comment:53'></a>
The problem here, accounting for all these test failures including the test above that was modified, is that the QuaGroups package seems (I have not looked for the exact code) to insert linebreaks into the representations of its types in different places depending on the terminal width.  Not exactly sure if that's a GAP thing in general or something specific to this package, but this is the first place it's come up.  In any case we apparently aren't dealing well with those unnecessary line breaks.



---

archive/issue_comments_416133.json:
```json
{
    "body": "<a id='comment:54'></a>\nlinebreaks are inserted by GAP, it was always the case.",
    "created_at": "2018-12-20T15:47:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416133",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:54'></a>
linebreaks are inserted by GAP, it was always the case.



---

archive/issue_comments_416134.json:
```json
{
    "body": "<a id='comment:55'></a>\nI see now, the output splitting is indeed done by default by GAP.  Again, this is no good, especially since it can depend on terminal width.  I haven't found yet exactly where GAP determines this, but I need to figure out a way to force it to just not do this at all, if possible.  That might be something to do as part of #22626 or as a follow-up.",
    "created_at": "2018-12-20T16:09:06Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416134",
    "user": "https://github.com/embray"
}
```

<a id='comment:55'></a>
I see now, the output splitting is indeed done by default by GAP.  Again, this is no good, especially since it can depend on terminal width.  I haven't found yet exactly where GAP determines this, but I need to figure out a way to force it to just not do this at all, if possible.  That might be something to do as part of #22626 or as a follow-up.



---

archive/issue_comments_416135.json:
```json
{
    "body": "<a id='comment:56'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fc197922d0c70666dfaa48efccbedfdeb7be1070\">fc19792</a></td><td><code>install deps of polenta, qpa, resclasses, fix test</code></td></tr></table>\n",
    "created_at": "2018-12-21T00:34:25Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416135",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:56'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fc197922d0c70666dfaa48efccbedfdeb7be1070">fc19792</a></td><td><code>install deps of polenta, qpa, resclasses, fix test</code></td></tr></table>




---

archive/issue_comments_416136.json:
```json
{
    "body": "**Changing commit** from \"[78db91a51010662e85dda67649495eaed4193025](https://github.com/sagemath/sagetrac-mirror/commit/78db91a51010662e85dda67649495eaed4193025)\" to \"[fc197922d0c70666dfaa48efccbedfdeb7be1070](https://github.com/sagemath/sagetrac-mirror/commit/fc197922d0c70666dfaa48efccbedfdeb7be1070)\".",
    "created_at": "2018-12-21T00:34:25Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[78db91a51010662e85dda67649495eaed4193025](https://github.com/sagemath/sagetrac-mirror/commit/78db91a51010662e85dda67649495eaed4193025)" to "[fc197922d0c70666dfaa48efccbedfdeb7be1070](https://github.com/sagemath/sagetrac-mirror/commit/fc197922d0c70666dfaa48efccbedfdeb7be1070)".



---

archive/issue_comments_416137.json:
```json
{
    "body": "<a id='comment:57'></a>\nReplying to [embray](#comment%3A47):\n> Another one that's a bit troubling is:\n> \n> ```\n> sage -t --long src/sage/tests/gap_packages.py\n> [.....]\n>      +---------+-------------+------------+\n>       Failure   polenta       fail\n>       Failure   qpa-version   fail\n>       Failure   resclasses    fail\n> **********************************************************************\n> 1 item had failures:\n>    1 of   5 in sage.tests.gap_packages\n>     [10 tests, 1 failure, 3.98 s]\n> ```\n> \n> I get these warnings when loading the relevant GAP packages in a vanilla GAP source tree, so I suppose they're normal and/or expected, or at least not indicative of any specific bug on our part.  But we probably need to at least temporarily silence them for the purposes of the code and tests they affect.\n\n> The one exception being the error about \"qpa-version\".  The name of the package is just \"qpa\", but its source directory is unusually named \"qpa-version-<x.y>\", so there's some code that's making an invalid assumption about GAP package names :sigh:\n\nthe latest commit fixes these failures, which are two-fold:\nmissing dependencies and weird `-version`-part which one should strip.\n\nI should still figure out how to suppress these `#I ...` lines...",
    "created_at": "2018-12-21T00:38:24Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416137",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:57'></a>
Replying to [embray](#comment%3A47):
> Another one that's a bit troubling is:
> 
> ```
> sage -t --long src/sage/tests/gap_packages.py
> [.....]
>      +---------+-------------+------------+
>       Failure   polenta       fail
>       Failure   qpa-version   fail
>       Failure   resclasses    fail
> **********************************************************************
> 1 item had failures:
>    1 of   5 in sage.tests.gap_packages
>     [10 tests, 1 failure, 3.98 s]
> ```
> 
> I get these warnings when loading the relevant GAP packages in a vanilla GAP source tree, so I suppose they're normal and/or expected, or at least not indicative of any specific bug on our part.  But we probably need to at least temporarily silence them for the purposes of the code and tests they affect.

> The one exception being the error about "qpa-version".  The name of the package is just "qpa", but its source directory is unusually named "qpa-version-<x.y>", so there's some code that's making an invalid assumption about GAP package names :sigh:

the latest commit fixes these failures, which are two-fold:
missing dependencies and weird `-version`-part which one should strip.

I should still figure out how to suppress these `#I ...` lines...



---

archive/issue_comments_416138.json:
```json
{
    "body": "**Changing commit** from \"[fc197922d0c70666dfaa48efccbedfdeb7be1070](https://github.com/sagemath/sagetrac-mirror/commit/fc197922d0c70666dfaa48efccbedfdeb7be1070)\" to \"[92517b495dc21eb739f9c8fcb39840674bc690f0](https://github.com/sagemath/sagetrac-mirror/commit/92517b495dc21eb739f9c8fcb39840674bc690f0)\".",
    "created_at": "2018-12-21T01:04:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416138",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[fc197922d0c70666dfaa48efccbedfdeb7be1070](https://github.com/sagemath/sagetrac-mirror/commit/fc197922d0c70666dfaa48efccbedfdeb7be1070)" to "[92517b495dc21eb739f9c8fcb39840674bc690f0](https://github.com/sagemath/sagetrac-mirror/commit/92517b495dc21eb739f9c8fcb39840674bc690f0)".



---

archive/issue_comments_416139.json:
```json
{
    "body": "<a id='comment:58'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/92517b495dc21eb739f9c8fcb39840674bc690f0\">92517b4</a></td><td><code>suppress \"#I..\" warnings</code></td></tr></table>\n",
    "created_at": "2018-12-21T01:04:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:58'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/92517b495dc21eb739f9c8fcb39840674bc690f0">92517b4</a></td><td><code>suppress "#I.." warnings</code></td></tr></table>




---

archive/issue_comments_416140.json:
```json
{
    "body": "<a id='comment:59'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17\">08ffb33</a></td><td><code>more doctest fixes</code></td></tr></table>\n",
    "created_at": "2018-12-21T10:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:59'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17">08ffb33</a></td><td><code>more doctest fixes</code></td></tr></table>




---

archive/issue_comments_416141.json:
```json
{
    "body": "**Changing commit** from \"[92517b495dc21eb739f9c8fcb39840674bc690f0](https://github.com/sagemath/sagetrac-mirror/commit/92517b495dc21eb739f9c8fcb39840674bc690f0)\" to \"[08ffb3396308b4643cfcbed1c56c0272c39f6a17](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)\".",
    "created_at": "2018-12-21T10:15:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416141",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[92517b495dc21eb739f9c8fcb39840674bc690f0](https://github.com/sagemath/sagetrac-mirror/commit/92517b495dc21eb739f9c8fcb39840674bc690f0)" to "[08ffb3396308b4643cfcbed1c56c0272c39f6a17](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)".



---

archive/issue_comments_416142.json:
```json
{
    "body": "<a id='comment:60'></a>\nBy the way, I tried installing IO package in the same way as this ticket builds packages needing compilation, but this fails due to a \"missing\" header (not sure what goes wrong):\n\n```\n[gap_packages-4.10.0] configure: creating ./config.status\n[gap_packages-4.10.0] config.status: creating Makefile\n[gap_packages-4.10.0] config.status: creating src/pkgconfig.h\n[gap_packages-4.10.0] config.status: executing depfiles commands\n[gap_packages-4.10.0] config.status: executing libtool commands\n[gap_packages-4.10.0] make[2]: Entering directory '/mnt/opt/Sage/sage-dev/local/share/gap/pkg/io-4.5.4'\n[gap_packages-4.10.0] /bin/sh ./libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I./src  -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/gen -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/src -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src -DHAVE_CONFIG_H -I/mnt/opt/Sage/sage-dev/local/include        -O2 -g   -g -O2 -MT src/io_la-io.lo -MD -MP -MF src/.deps/io_la-io.Tpo -c -o src/io_la-io.lo `test -f 'src/io.c' || echo './'`src/io.c\n[gap_packages-4.10.0] libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I./src -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/gen -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/src -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src -DHAVE_CONFIG_H -I/mnt/opt/Sage/sage-dev/local/include -O2 -g -g -O2 -MT src/io_la-io.lo -MD -MP -MF src/.deps/io_la-io.Tpo -c src/io.c  -fPIC -DPIC -o src/.libs/io_la-io.o\n[gap_packages-4.10.0] src/io.c:14:10: fatal error: src/compiled.h: No such file or directory\n[gap_packages-4.10.0]  #include \"src/compiled.h\"          /* GAP headers                */\n[gap_packages-4.10.0]           ^~~~~~~~~~~~~~~~\n```\nlooks like the corresponding `-I` arguments all have an extra `/src` suffix, something that prevents this header to be found.",
    "created_at": "2018-12-21T10:39:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416142",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:60'></a>
By the way, I tried installing IO package in the same way as this ticket builds packages needing compilation, but this fails due to a "missing" header (not sure what goes wrong):

```
[gap_packages-4.10.0] configure: creating ./config.status
[gap_packages-4.10.0] config.status: creating Makefile
[gap_packages-4.10.0] config.status: creating src/pkgconfig.h
[gap_packages-4.10.0] config.status: executing depfiles commands
[gap_packages-4.10.0] config.status: executing libtool commands
[gap_packages-4.10.0] make[2]: Entering directory '/mnt/opt/Sage/sage-dev/local/share/gap/pkg/io-4.5.4'
[gap_packages-4.10.0] /bin/sh ./libtool  --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I./src  -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/gen -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/src -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src -DHAVE_CONFIG_H -I/mnt/opt/Sage/sage-dev/local/include        -O2 -g   -g -O2 -MT src/io_la-io.lo -MD -MP -MF src/.deps/io_la-io.Tpo -c -o src/io_la-io.lo `test -f 'src/io.c' || echo './'`src/io.c
[gap_packages-4.10.0] libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I./src -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/gen -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src/src -I/mnt/opt/Sage/sage-dev/local/var/tmp/sage/build/gap-4.10.0/src -DHAVE_CONFIG_H -I/mnt/opt/Sage/sage-dev/local/include -O2 -g -g -O2 -MT src/io_la-io.lo -MD -MP -MF src/.deps/io_la-io.Tpo -c src/io.c  -fPIC -DPIC -o src/.libs/io_la-io.o
[gap_packages-4.10.0] src/io.c:14:10: fatal error: src/compiled.h: No such file or directory
[gap_packages-4.10.0]  #include "src/compiled.h"          /* GAP headers                */
[gap_packages-4.10.0]           ^~~~~~~~~~~~~~~~
```
looks like the corresponding `-I` arguments all have an extra `/src` suffix, something that prevents this header to be found.



---

archive/issue_comments_416143.json:
```json
{
    "body": "<a id='comment:61'></a>\n...\"thanks\" to Gatwick drone operators, I can do this work now, and not sit on a plane off to Singapore...",
    "created_at": "2018-12-21T10:40:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416143",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:61'></a>
..."thanks" to Gatwick drone operators, I can do this work now, and not sit on a plane off to Singapore...



---

archive/issue_comments_416144.json:
```json
{
    "body": "<a id='comment:62'></a>\nGAP's IO is on #26930",
    "created_at": "2018-12-21T11:34:12Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416144",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:62'></a>
GAP's IO is on #26930



---

archive/issue_comments_416145.json:
```json
{
    "body": "**Changing commit** from \"[08ffb3396308b4643cfcbed1c56c0272c39f6a17](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)\" to \"[c2e30ae0aff04ce2c88b9e6e9126caac305e85eb](https://github.com/sagemath/sagetrac-mirror/commit/c2e30ae0aff04ce2c88b9e6e9126caac305e85eb)\".",
    "created_at": "2018-12-21T12:07:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416145",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[08ffb3396308b4643cfcbed1c56c0272c39f6a17](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)" to "[c2e30ae0aff04ce2c88b9e6e9126caac305e85eb](https://github.com/sagemath/sagetrac-mirror/commit/c2e30ae0aff04ce2c88b9e6e9126caac305e85eb)".



---

archive/issue_comments_416146.json:
```json
{
    "body": "<a id='comment:63'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c2e30ae0aff04ce2c88b9e6e9126caac305e85eb\">c2e30ae</a></td><td><code>silence one more #I message from GAP</code></td></tr></table>\n",
    "created_at": "2018-12-21T12:07:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416146",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:63'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c2e30ae0aff04ce2c88b9e6e9126caac305e85eb">c2e30ae</a></td><td><code>silence one more #I message from GAP</code></td></tr></table>




---

archive/issue_comments_416147.json:
```json
{
    "body": "<a id='comment:64'></a>\nOK, seems to be ready now",
    "created_at": "2018-12-21T12:07:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416147",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:64'></a>
OK, seems to be ready now



---

archive/issue_events_236861.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-21T12:07:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236861"
}
```



---

archive/issue_events_236862.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-21T12:07:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236862"
}
```



---

archive/issue_comments_416148.json:
```json
{
    "body": "<a id='comment:65'></a>\n\n```diff\n\ndiff --git a/src/sage/graphs/strongly_regular_db.pyx b/src/sage/graphs/strongly_regular_db.pyx\nindex 8df9bf5..06a0780 100644\n--- a/src/sage/graphs/strongly_regular_db.pyx\n+++ b/src/sage/graphs/strongly_regular_db.pyx\n@@ -2442,7 +2442,9 @@ def SRG_416_100_36_20():\n     EXAMPLES::\n \n         sage: from sage.graphs.strongly_regular_db import SRG_416_100_36_20\n+        sage: libgap.eval(\"SetInfoLevel(InfoWarning,0)\") # silence #I warnings\n         sage: g = SRG_416_100_36_20()                # optional - gap_packages # long time\n+        sage: libgap.eval(\"SetInfoLevel(InfoWarning,1)\") # silence #I warnings\n         sage: g.is_strongly_regular(parameters=True) # optional - gap_packages # long time\n         (416, 100, 36, 20)\n     \"\"\"\n```\n\nI don't like that this is done in the doctest; it distracts from the actual documentation.  I think this should go in the function itself.  We've already seen the warning in question, decided it is not important to us, and can go ahead and silence it.",
    "created_at": "2018-12-21T13:50:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416148",
    "user": "https://github.com/embray"
}
```

<a id='comment:65'></a>

```diff

diff --git a/src/sage/graphs/strongly_regular_db.pyx b/src/sage/graphs/strongly_regular_db.pyx
index 8df9bf5..06a0780 100644
--- a/src/sage/graphs/strongly_regular_db.pyx
+++ b/src/sage/graphs/strongly_regular_db.pyx
@@ -2442,7 +2442,9 @@ def SRG_416_100_36_20():
     EXAMPLES::
 
         sage: from sage.graphs.strongly_regular_db import SRG_416_100_36_20
+        sage: libgap.eval("SetInfoLevel(InfoWarning,0)") # silence #I warnings
         sage: g = SRG_416_100_36_20()                # optional - gap_packages # long time
+        sage: libgap.eval("SetInfoLevel(InfoWarning,1)") # silence #I warnings
         sage: g.is_strongly_regular(parameters=True) # optional - gap_packages # long time
         (416, 100, 36, 20)
     """
```

I don't like that this is done in the doctest; it distracts from the actual documentation.  I think this should go in the function itself.  We've already seen the warning in question, decided it is not important to us, and can go ahead and silence it.



---

archive/issue_comments_416149.json:
```json
{
    "body": "<a id='comment:66'></a>\nReplying to [git](#comment%3A59):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17\">08ffb33</a></td><td><code>more doctest fixes</code></td></tr></table>\n\nThis change doesn't seem to work for me.  Those tests passed before this commit, and fail after.  I tried clearing my existing workspaces but it still fails.  That's troubling--it may still be some badly managed random state somewhere.  Unless I'm missing something else.",
    "created_at": "2018-12-21T14:19:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416149",
    "user": "https://github.com/embray"
}
```

<a id='comment:66'></a>
Replying to [git](#comment%3A59):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17">08ffb33</a></td><td><code>more doctest fixes</code></td></tr></table>

This change doesn't seem to work for me.  Those tests passed before this commit, and fail after.  I tried clearing my existing workspaces but it still fails.  That's troubling--it may still be some badly managed random state somewhere.  Unless I'm missing something else.



---

archive/issue_comments_416150.json:
```json
{
    "body": "<a id='comment:67'></a>\nReplying to [dimpase](#comment%3A61):\n> ...\"thanks\" to Gatwick drone operators, I can do this work now, and not sit on a plane off to Singapore...\n\nHuh?? What happened?  :(",
    "created_at": "2018-12-21T14:20:03Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416150",
    "user": "https://github.com/embray"
}
```

<a id='comment:67'></a>
Replying to [dimpase](#comment%3A61):
> ..."thanks" to Gatwick drone operators, I can do this work now, and not sit on a plane off to Singapore...

Huh?? What happened?  :(



---

archive/issue_comments_416151.json:
```json
{
    "body": "<a id='comment:68'></a>\nReplying to [embray](#comment%3A67):\n> Replying to [dimpase](#comment%3A61):\n> > ...\"thanks\" to Gatwick drone operators, I can do this work now, and not sit on a plane off to Singapore...\n\n> \n> Huh?? What happened?  :(\n\nLucky you, you don't read news. :-)\nGatwick was shut down for ~36 hours due to some not yet caught folks flying a largish drone over it several times, 700+ flights cancelled, 100s diverted. We were able to book an even cheaper flight, via Berlin, and get a full refund. They are open since this morning, and in fact the airline rebooked us for tonight, but we were in the full panic mode and got the other flight already...",
    "created_at": "2018-12-21T14:27:44Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416151",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:68'></a>
Replying to [embray](#comment%3A67):
> Replying to [dimpase](#comment%3A61):
> > ..."thanks" to Gatwick drone operators, I can do this work now, and not sit on a plane off to Singapore...

> 
> Huh?? What happened?  :(

Lucky you, you don't read news. :-)
Gatwick was shut down for ~36 hours due to some not yet caught folks flying a largish drone over it several times, 700+ flights cancelled, 100s diverted. We were able to book an even cheaper flight, via Berlin, and get a full refund. They are open since this morning, and in fact the airline rebooked us for tonight, but we were in the full panic mode and got the other flight already...



---

archive/issue_comments_416152.json:
```json
{
    "body": "<a id='comment:69'></a>\nReplying to [embray](#comment%3A66):\n> Replying to [git](#comment%3A59):\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n\n> |                                                                                                                                                 |                    |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n> |[08ffb33](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)|`more doctest fixes`|\n> \n> This change doesn't seem to work for me.  Those tests passed before this commit, and fail after.  I tried clearing my existing workspaces but it still fails.  That's troubling--it may still be some badly managed random state somewhere.  Unless I'm missing something else.\n\nthey pass for me, both with and without `--long`, on Linux and on OSX.\n\nI'd try `rm -rf local/share/gap local/include/gap` followed by `./sage -f gap gap_packages` followed up by `make build`, and then testing...\n\n(and wiping out `~/.sage/gap/` too)",
    "created_at": "2018-12-21T14:38:35Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416152",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:69'></a>
Replying to [embray](#comment%3A66):
> Replying to [git](#comment%3A59):
> > Branch pushed to git repo; I updated commit sha1. New commits:

> |                                                                                                                                                 |                    |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
> |[08ffb33](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)|`more doctest fixes`|
> 
> This change doesn't seem to work for me.  Those tests passed before this commit, and fail after.  I tried clearing my existing workspaces but it still fails.  That's troubling--it may still be some badly managed random state somewhere.  Unless I'm missing something else.

they pass for me, both with and without `--long`, on Linux and on OSX.

I'd try `rm -rf local/share/gap local/include/gap` followed by `./sage -f gap gap_packages` followed up by `make build`, and then testing...

(and wiping out `~/.sage/gap/` too)



---

archive/issue_comments_416153.json:
```json
{
    "body": "**Changing commit** from \"[c2e30ae0aff04ce2c88b9e6e9126caac305e85eb](https://github.com/sagemath/sagetrac-mirror/commit/c2e30ae0aff04ce2c88b9e6e9126caac305e85eb)\" to \"[1e5f679c41a7b27088ed330f986df91d03099a71](https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71)\".",
    "created_at": "2018-12-21T14:55:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416153",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c2e30ae0aff04ce2c88b9e6e9126caac305e85eb](https://github.com/sagemath/sagetrac-mirror/commit/c2e30ae0aff04ce2c88b9e6e9126caac305e85eb)" to "[1e5f679c41a7b27088ed330f986df91d03099a71](https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71)".



---

archive/issue_comments_416154.json:
```json
{
    "body": "<a id='comment:70'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71\">1e5f679</a></td><td><code>move silencing into the function body</code></td></tr></table>\n",
    "created_at": "2018-12-21T14:55:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416154",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:70'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71">1e5f679</a></td><td><code>move silencing into the function body</code></td></tr></table>




---

archive/issue_comments_416155.json:
```json
{
    "body": "<a id='comment:71'></a>\nReplying to [git](#comment%3A70):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71\">1e5f679</a></td><td><code>move silencing into the function body</code></td></tr></table>\n\nthis addresses comment 65.",
    "created_at": "2018-12-21T14:56:44Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416155",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:71'></a>
Replying to [git](#comment%3A70):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71">1e5f679</a></td><td><code>move silencing into the function body</code></td></tr></table>

this addresses comment 65.



---

archive/issue_comments_416156.json:
```json
{
    "body": "<a id='comment:72'></a>\nReplying to [embray](#comment%3A66):\n> Replying to [git](#comment%3A59):\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n\n> |                                                                                                                                                 |                    |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n> |[08ffb33](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)|`more doctest fixes`|\n> \n> This change doesn't seem to work for me.  Those tests passed before this commit, and fail after.  I tried clearing my existing workspaces but it still fails.  That's troubling--it may still be some badly managed random state somewhere.  Unless I'm missing something else.\n\nNevermind, that was my fault.  Nevertheless, this still won't work: The outcomes of these tests depend on whether or not `gap_packages` is installed, so if it isn't then these will give different results.  I'm not sure what to do: Maybe these tests should be rewritten to be more flexible, or the code that's being tested needs to be rewritten to be less sensitive to what GAP packages are installed (if that's even possible...)",
    "created_at": "2018-12-21T14:59:55Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416156",
    "user": "https://github.com/embray"
}
```

<a id='comment:72'></a>
Replying to [embray](#comment%3A66):
> Replying to [git](#comment%3A59):
> > Branch pushed to git repo; I updated commit sha1. New commits:

> |                                                                                                                                                 |                    |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
> |[08ffb33](https://github.com/sagemath/sagetrac-mirror/commit/08ffb3396308b4643cfcbed1c56c0272c39f6a17)|`more doctest fixes`|
> 
> This change doesn't seem to work for me.  Those tests passed before this commit, and fail after.  I tried clearing my existing workspaces but it still fails.  That's troubling--it may still be some badly managed random state somewhere.  Unless I'm missing something else.

Nevermind, that was my fault.  Nevertheless, this still won't work: The outcomes of these tests depend on whether or not `gap_packages` is installed, so if it isn't then these will give different results.  I'm not sure what to do: Maybe these tests should be rewritten to be more flexible, or the code that's being tested needs to be rewritten to be less sensitive to what GAP packages are installed (if that's even possible...)



---

archive/issue_comments_416157.json:
```json
{
    "body": "<a id='comment:73'></a>\nLet's just make gap_packages standard, as planned anyway. This will alleviate this problem.",
    "created_at": "2018-12-21T15:11:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416157",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:73'></a>
Let's just make gap_packages standard, as planned anyway. This will alleviate this problem.



---

archive/issue_comments_416158.json:
```json
{
    "body": "<a id='comment:74'></a>\nI don't think we should do that.  It's bad enough that we're adding all the \"default\" packages, but that does seem defensible.\n\nOtherwise there's no point in even having a separate spkg.\n\nMeanwhile, I don't like that merely having some random package installed can cause actually different (even if not substantively) results, in ways that are very difficult to trace.  This is a really annoying problem with GAP...",
    "created_at": "2018-12-21T15:17:29Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416158",
    "user": "https://github.com/embray"
}
```

<a id='comment:74'></a>
I don't think we should do that.  It's bad enough that we're adding all the "default" packages, but that does seem defensible.

Otherwise there's no point in even having a separate spkg.

Meanwhile, I don't like that merely having some random package installed can cause actually different (even if not substantively) results, in ways that are very difficult to trace.  This is a really annoying problem with GAP...



---

archive/issue_comments_416159.json:
```json
{
    "body": "<a id='comment:75'></a>\nLet's see... For the test that's failing in `sage.libs.gap.element` it should suffice to just put ellipses after `ValueError: libGAP: Error, no method found!`.  That's the only part that's important; the rest are details.\n\nThe other two look like they might result from different PRNG states, so it might suffice for those two to explicitly re-seed the PRNG before them; let me try.",
    "created_at": "2018-12-21T15:24:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416159",
    "user": "https://github.com/embray"
}
```

<a id='comment:75'></a>
Let's see... For the test that's failing in `sage.libs.gap.element` it should suffice to just put ellipses after `ValueError: libGAP: Error, no method found!`.  That's the only part that's important; the rest are details.

The other two look like they might result from different PRNG states, so it might suffice for those two to explicitly re-seed the PRNG before them; let me try.



---

archive/issue_comments_416160.json:
```json
{
    "body": "<a id='comment:76'></a>\nReplying to [embray](#comment%3A74):\n> I don't think we should do that.  It's bad enough that we're adding all the \"default\" packages, but that does seem defensible.\n> \n> Otherwise there's no point in even having a separate spkg.\n\nfor transition from several to one package it's OK, I think.\nWe can merge them later on another ticket.\n \n> \n> Meanwhile, I don't like that merely having some random package installed can cause actually different (even if not substantively) results, in ways that are very difficult to trace.  This is a really annoying problem with GAP...",
    "created_at": "2018-12-21T15:30:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416160",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:76'></a>
Replying to [embray](#comment%3A74):
> I don't think we should do that.  It's bad enough that we're adding all the "default" packages, but that does seem defensible.
> 
> Otherwise there's no point in even having a separate spkg.

for transition from several to one package it's OK, I think.
We can merge them later on another ticket.
 
> 
> Meanwhile, I don't like that merely having some random package installed can cause actually different (even if not substantively) results, in ways that are very difficult to trace.  This is a really annoying problem with GAP...



---

archive/issue_comments_416161.json:
```json
{
    "body": "<a id='comment:77'></a>\nI'm definitely -1 on making it a standard package, especially in the short time that we have.  These have always been an optional add-on, and for the time being I don't want to add any more footprint to the default installation than we already are (keep in mind, this also increases the possibility of bugs in user code for which we don't have test cases).",
    "created_at": "2018-12-21T15:41:49Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416161",
    "user": "https://github.com/embray"
}
```

<a id='comment:77'></a>
I'm definitely -1 on making it a standard package, especially in the short time that we have.  These have always been an optional add-on, and for the time being I don't want to add any more footprint to the default installation than we already are (keep in mind, this also increases the possibility of bugs in user code for which we don't have test cases).



---

archive/issue_comments_416162.json:
```json
{
    "body": "<a id='comment:78'></a>\nIn the cases of the test we have failing currently, it appears that loading some of these packages just modifies the PRNG state, so the best solution for now is to explicitly re-seed them before the affected tests (not ideal, but it will ensure consistent results).",
    "created_at": "2018-12-21T15:43:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416162",
    "user": "https://github.com/embray"
}
```

<a id='comment:78'></a>
In the cases of the test we have failing currently, it appears that loading some of these packages just modifies the PRNG state, so the best solution for now is to explicitly re-seed them before the affected tests (not ideal, but it will ensure consistent results).



---

archive/issue_events_236863.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-21T15:45:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236863"
}
```



---

archive/issue_events_236864.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-21T15:45:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236864"
}
```



---

archive/issue_comments_416163.json:
```json
{
    "body": "**Changing branch** from \"[u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)\" to \"[public/ticket-26856](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-26856)\".",
    "created_at": "2018-12-21T15:45:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416163",
    "user": "https://github.com/embray"
}
```

**Changing branch** from "[u/dimpase/GQ](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/GQ)" to "[public/ticket-26856](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-26856)".



---

archive/issue_comments_416164.json:
```json
{
    "body": "**Changing commit** from \"[1e5f679c41a7b27088ed330f986df91d03099a71](https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71)\" to \"\".",
    "created_at": "2018-12-21T15:45:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416164",
    "user": "https://github.com/embray"
}
```

**Changing commit** from "[1e5f679c41a7b27088ed330f986df91d03099a71](https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71)" to "".



---

archive/issue_comments_416165.json:
```json
{
    "body": "<a id='comment:79'></a>\nPublic branch for this ticket.  It is up-to-date with Dima's branch minus the last two commits that are contentious.",
    "created_at": "2018-12-21T15:45:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416165",
    "user": "https://github.com/embray"
}
```

<a id='comment:79'></a>
Public branch for this ticket.  It is up-to-date with Dima's branch minus the last two commits that are contentious.



---

archive/issue_comments_416166.json:
```json
{
    "body": "<a id='comment:80'></a>\nyour branch does not merge cleanly...",
    "created_at": "2018-12-21T15:47:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416166",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:80'></a>
your branch does not merge cleanly...



---

archive/issue_comments_416167.json:
```json
{
    "body": "<a id='comment:81'></a>\nHow about tagging the previously untagged tests that differ if gap_packages are installed with `# optional - gap_packages`, and be done with it? It's not that many tests, right?",
    "created_at": "2018-12-21T15:54:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416167",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:81'></a>
How about tagging the previously untagged tests that differ if gap_packages are installed with `# optional - gap_packages`, and be done with it? It's not that many tests, right?



---

archive/issue_comments_416168.json:
```json
{
    "body": "<a id='comment:82'></a>\n~~It might need to be rebased again already; I don't know what Volker has been doing.~~ I just didn't push it yet.\n\nI already have another solution for these tests that is less fragile.",
    "created_at": "2018-12-21T16:00:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416168",
    "user": "https://github.com/embray"
}
```

<a id='comment:82'></a>
~~It might need to be rebased again already; I don't know what Volker has been doing.~~ I just didn't push it yet.

I already have another solution for these tests that is less fragile.



---

archive/issue_comments_416169.json:
```json
{
    "body": "**Commit:** [3b3053bdff12aeb168bc0157aaa4cb3e850839e8](https://github.com/sagemath/sagetrac-mirror/commit/3b3053bdff12aeb168bc0157aaa4cb3e850839e8)",
    "created_at": "2018-12-21T16:02:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [3b3053bdff12aeb168bc0157aaa4cb3e850839e8](https://github.com/sagemath/sagetrac-mirror/commit/3b3053bdff12aeb168bc0157aaa4cb3e850839e8)



---

archive/issue_comments_416170.json:
```json
{
    "body": "<a id='comment:83'></a>\n**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5e2220d72d873e7d7411e73500fc8855d63909fe\">5e2220d</a></td><td><code>backport guava patch to allow no gcc</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29c82e8c605306c17f549b3f12c717ea06cdbf52\">29c82e8</a></td><td><code>put each installed package on its own line for readability</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d7bd012ae6567d92d08ddea9e9eef5571d99404f\">d7bd012</a></td><td><code>remove unnecessary cruft</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8f2232165fc3e1ac657f58ae1ee7c894d1952ac0\">8f22321</a></td><td><code>I don't think this is necessary anymore either</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d0b769d670045e8411069c75d80ad6c388944131\">d0b769d</a></td><td><code>set GAP's notion of 'screen width' to the maximum allowed</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b50f48868ae836948b723469b150d5daf8341da9\">b50f488</a></td><td><code>backport https://github.com/gap-packages/cohomolo/pull/19</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/884bc4f607564453aeb1ec7df3f7c31cbc91ff1d\">884bc4f</a></td><td><code>install deps of polenta, qpa, resclasses, fix test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf2890e6919e144544f118f50891c1967bbe2144\">bf2890e</a></td><td><code>emphasize here that the pacakge's name is 'qpa', not 'qpa-version'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8e81b4290d1a4c98bc6aaba40aabb08edc1175e2\">8e81b42</a></td><td><code>the exact output of this test depends somewhat on which GAP packages happen to</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3b3053bdff12aeb168bc0157aaa4cb3e850839e8\">3b3053b</a></td><td><code>add a convenience method on the libgap object to reset the random seed on</code></td></tr></table>\n",
    "created_at": "2018-12-21T16:02:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416170",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:83'></a>
**Branch pushed to git repo; I updated commit sha1.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5e2220d72d873e7d7411e73500fc8855d63909fe">5e2220d</a></td><td><code>backport guava patch to allow no gcc</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29c82e8c605306c17f549b3f12c717ea06cdbf52">29c82e8</a></td><td><code>put each installed package on its own line for readability</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d7bd012ae6567d92d08ddea9e9eef5571d99404f">d7bd012</a></td><td><code>remove unnecessary cruft</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8f2232165fc3e1ac657f58ae1ee7c894d1952ac0">8f22321</a></td><td><code>I don't think this is necessary anymore either</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d0b769d670045e8411069c75d80ad6c388944131">d0b769d</a></td><td><code>set GAP's notion of 'screen width' to the maximum allowed</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b50f48868ae836948b723469b150d5daf8341da9">b50f488</a></td><td><code>backport https://github.com/gap-packages/cohomolo/pull/19</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/884bc4f607564453aeb1ec7df3f7c31cbc91ff1d">884bc4f</a></td><td><code>install deps of polenta, qpa, resclasses, fix test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf2890e6919e144544f118f50891c1967bbe2144">bf2890e</a></td><td><code>emphasize here that the pacakge's name is 'qpa', not 'qpa-version'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8e81b4290d1a4c98bc6aaba40aabb08edc1175e2">8e81b42</a></td><td><code>the exact output of this test depends somewhat on which GAP packages happen to</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3b3053bdff12aeb168bc0157aaa4cb3e850839e8">3b3053b</a></td><td><code>add a convenience method on the libgap object to reset the random seed on</code></td></tr></table>




---

archive/issue_comments_416171.json:
```json
{
    "body": "<a id='comment:84'></a>\nFor the remaining problematic tests I was able to fix them by manually calling (with some explanation in the prose) `libgap.set_seed(0)` before them (and modifying the expected output to correspond to that random seed).\n\nIt's unfortunate but possibly necessary, since the state of the PRNG can seem to depend on which packages were loaded and when, and for whatever reason those tests just happened to be very sensitive to this.\n\nI'm re-running the full test suite now to see if any other examples like this turn up.",
    "created_at": "2018-12-21T16:15:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416171",
    "user": "https://github.com/embray"
}
```

<a id='comment:84'></a>
For the remaining problematic tests I was able to fix them by manually calling (with some explanation in the prose) `libgap.set_seed(0)` before them (and modifying the expected output to correspond to that random seed).

It's unfortunate but possibly necessary, since the state of the PRNG can seem to depend on which packages were loaded and when, and for whatever reason those tests just happened to be very sensitive to this.

I'm re-running the full test suite now to see if any other examples like this turn up.



---

archive/issue_comments_416172.json:
```json
{
    "body": "**Changing commit** from \"[3b3053bdff12aeb168bc0157aaa4cb3e850839e8](https://github.com/sagemath/sagetrac-mirror/commit/3b3053bdff12aeb168bc0157aaa4cb3e850839e8)\" to \"[78859fff771aa376e486d83e1ee4b6ff8ec9afb3](https://github.com/sagemath/sagetrac-mirror/commit/78859fff771aa376e486d83e1ee4b6ff8ec9afb3)\".",
    "created_at": "2018-12-21T16:37:39Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416172",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3b3053bdff12aeb168bc0157aaa4cb3e850839e8](https://github.com/sagemath/sagetrac-mirror/commit/3b3053bdff12aeb168bc0157aaa4cb3e850839e8)" to "[78859fff771aa376e486d83e1ee4b6ff8ec9afb3](https://github.com/sagemath/sagetrac-mirror/commit/78859fff771aa376e486d83e1ee4b6ff8ec9afb3)".



---

archive/issue_comments_416173.json:
```json
{
    "body": "<a id='comment:85'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/78859fff771aa376e486d83e1ee4b6ff8ec9afb3\">78859ff</a></td><td><code>clean up installation of compiled packages so that they are are also</code></td></tr></table>\n",
    "created_at": "2018-12-21T16:37:39Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416173",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:85'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/78859fff771aa376e486d83e1ee4b6ff8ec9afb3">78859ff</a></td><td><code>clean up installation of compiled packages so that they are are also</code></td></tr></table>




---

archive/issue_comments_416174.json:
```json
{
    "body": "<a id='comment:86'></a>\nOops, forgot to finish the tests for libgap.set_seed.",
    "created_at": "2018-12-21T16:55:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416174",
    "user": "https://github.com/embray"
}
```

<a id='comment:86'></a>
Oops, forgot to finish the tests for libgap.set_seed.



---

archive/issue_comments_416175.json:
```json
{
    "body": "<a id='comment:87'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0611aa24ac3757dc8e6a634700d38fb5e97063f5\">0611aa2</a></td><td><code>add a convenience method on the libgap object to reset the random seed on</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/728ad7faab01b0839317c3e77acef5c14e1a0ddb\">728ad7f</a></td><td><code>clean up installation of compiled packages so that they are are also</code></td></tr></table>\n",
    "created_at": "2018-12-21T16:57:52Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416175",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:87'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0611aa24ac3757dc8e6a634700d38fb5e97063f5">0611aa2</a></td><td><code>add a convenience method on the libgap object to reset the random seed on</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/728ad7faab01b0839317c3e77acef5c14e1a0ddb">728ad7f</a></td><td><code>clean up installation of compiled packages so that they are are also</code></td></tr></table>




---

archive/issue_comments_416176.json:
```json
{
    "body": "**Changing commit** from \"[78859fff771aa376e486d83e1ee4b6ff8ec9afb3](https://github.com/sagemath/sagetrac-mirror/commit/78859fff771aa376e486d83e1ee4b6ff8ec9afb3)\" to \"[728ad7faab01b0839317c3e77acef5c14e1a0ddb](https://github.com/sagemath/sagetrac-mirror/commit/728ad7faab01b0839317c3e77acef5c14e1a0ddb)\".",
    "created_at": "2018-12-21T16:57:52Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416176",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[78859fff771aa376e486d83e1ee4b6ff8ec9afb3](https://github.com/sagemath/sagetrac-mirror/commit/78859fff771aa376e486d83e1ee4b6ff8ec9afb3)" to "[728ad7faab01b0839317c3e77acef5c14e1a0ddb](https://github.com/sagemath/sagetrac-mirror/commit/728ad7faab01b0839317c3e77acef5c14e1a0ddb)".



---

archive/issue_comments_416177.json:
```json
{
    "body": "<a id='comment:88'></a>\nyour branch does not have 8.5.rc1 merged, by the way. Just testing it might show wrong test faults...",
    "created_at": "2018-12-21T17:22:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416177",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:88'></a>
your branch does not have 8.5.rc1 merged, by the way. Just testing it might show wrong test faults...



---

archive/issue_comments_416178.json:
```json
{
    "body": "<a id='comment:89'></a>\nReplying to [dimpase](#comment%3A8):\n> I am checking whether `database_gap` is already in the branch on #22626, running\n> \n> ```\n> ./sage -tp  --optional=dochtml,memlimit,mpir,python2,database_gap,sage src/sage/groups/perm_gps/permgroup.py \n> ```\n\nI don't suppose you ever found a solution and/or explanation for this failure?  I have some workarounds for most everything else but this.",
    "created_at": "2018-12-21T17:40:33Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416178",
    "user": "https://github.com/embray"
}
```

<a id='comment:89'></a>
Replying to [dimpase](#comment%3A8):
> I am checking whether `database_gap` is already in the branch on #22626, running
> 
> ```
> ./sage -tp  --optional=dochtml,memlimit,mpir,python2,database_gap,sage src/sage/groups/perm_gps/permgroup.py 
> ```

I don't suppose you ever found a solution and/or explanation for this failure?  I have some workarounds for most everything else but this.



---

archive/issue_comments_416179.json:
```json
{
    "body": "**Changing commit** from \"[728ad7faab01b0839317c3e77acef5c14e1a0ddb](https://github.com/sagemath/sagetrac-mirror/commit/728ad7faab01b0839317c3e77acef5c14e1a0ddb)\" to \"[6a2d88243b82b25d8e22362c4ea2aae03ca4b72d](https://github.com/sagemath/sagetrac-mirror/commit/6a2d88243b82b25d8e22362c4ea2aae03ca4b72d)\".",
    "created_at": "2018-12-21T17:41:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416179",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[728ad7faab01b0839317c3e77acef5c14e1a0ddb](https://github.com/sagemath/sagetrac-mirror/commit/728ad7faab01b0839317c3e77acef5c14e1a0ddb)" to "[6a2d88243b82b25d8e22362c4ea2aae03ca4b72d](https://github.com/sagemath/sagetrac-mirror/commit/6a2d88243b82b25d8e22362c4ea2aae03ca4b72d)".



---

archive/issue_comments_416180.json:
```json
{
    "body": "<a id='comment:90'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6a2d88243b82b25d8e22362c4ea2aae03ca4b72d\">6a2d882</a></td><td><code>fix some tests where GAP output was improved by increasing the GAP output line width</code></td></tr></table>\n",
    "created_at": "2018-12-21T17:41:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416180",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:90'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6a2d88243b82b25d8e22362c4ea2aae03ca4b72d">6a2d882</a></td><td><code>fix some tests where GAP output was improved by increasing the GAP output line width</code></td></tr></table>




---

archive/issue_comments_416181.json:
```json
{
    "body": "<a id='comment:91'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f44ca4cd544b5d565166f4d04c3ef7e11e2267f0\">f44ca4c</a></td><td><code>explicitly calling libgap.set_seed(0) for these tests allows consistent results for them</code></td></tr></table>\n",
    "created_at": "2018-12-21T17:42:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416181",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:91'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f44ca4cd544b5d565166f4d04c3ef7e11e2267f0">f44ca4c</a></td><td><code>explicitly calling libgap.set_seed(0) for these tests allows consistent results for them</code></td></tr></table>




---

archive/issue_comments_416182.json:
```json
{
    "body": "**Changing commit** from \"[6a2d88243b82b25d8e22362c4ea2aae03ca4b72d](https://github.com/sagemath/sagetrac-mirror/commit/6a2d88243b82b25d8e22362c4ea2aae03ca4b72d)\" to \"[f44ca4cd544b5d565166f4d04c3ef7e11e2267f0](https://github.com/sagemath/sagetrac-mirror/commit/f44ca4cd544b5d565166f4d04c3ef7e11e2267f0)\".",
    "created_at": "2018-12-21T17:42:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416182",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[6a2d88243b82b25d8e22362c4ea2aae03ca4b72d](https://github.com/sagemath/sagetrac-mirror/commit/6a2d88243b82b25d8e22362c4ea2aae03ca4b72d)" to "[f44ca4cd544b5d565166f4d04c3ef7e11e2267f0](https://github.com/sagemath/sagetrac-mirror/commit/f44ca4cd544b5d565166f4d04c3ef7e11e2267f0)".



---

archive/issue_comments_416183.json:
```json
{
    "body": "<a id='comment:92'></a>\nReplying to [embray](#comment%3A89):\n> Replying to [dimpase](#comment%3A8):\n> > I am checking whether `database_gap` is already in the branch on #22626, running\n> > \n> > ```\n> > ./sage -tp  --optional=dochtml,memlimit,mpir,python2,database_gap,sage src/sage/groups/perm_gps/permgroup.py \n> > ```\n\n> \n> I don't suppose you ever found a solution and/or explanation for this failure?  I have some workarounds for most everything else but this.\n\nsee [comment:11](#comment%3A11). Have you merged the corresponding commit? (from the ticket it refers to)\n\nthat's why #26889 is a dependence of this ticket.",
    "created_at": "2018-12-21T18:12:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416183",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:92'></a>
Replying to [embray](#comment%3A89):
> Replying to [dimpase](#comment%3A8):
> > I am checking whether `database_gap` is already in the branch on #22626, running
> > 
> > ```
> > ./sage -tp  --optional=dochtml,memlimit,mpir,python2,database_gap,sage src/sage/groups/perm_gps/permgroup.py 
> > ```

> 
> I don't suppose you ever found a solution and/or explanation for this failure?  I have some workarounds for most everything else but this.

see [comment:11](#comment%3A11). Have you merged the corresponding commit? (from the ticket it refers to)

that's why #26889 is a dependence of this ticket.



---

archive/issue_comments_416184.json:
```json
{
    "body": "<a id='comment:93'></a>\nAh, right, I had forgotten about that.  That makes sense.\n\nThe issue here again seems to have something in part to do with the random number generator state in GAP.  In the case of:\n\n```\nsage: MG = GU(3,2).as_matrix_group()\nsage: PG = MG.as_permutation_group()\nsage: PG2 = MG._permutation_group_()\n```\n\n*usually* `PG` and `PG2` will be the same, but on rare occasion they will be different, and that just happened to be the case in this test.  Could that be a bug in GAP, or expected behavior?  That I don't know.\n\nThat code is still a mess on the Sage end too as well, so any effort to clean it up can't hurt.",
    "created_at": "2018-12-21T18:46:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416184",
    "user": "https://github.com/embray"
}
```

<a id='comment:93'></a>
Ah, right, I had forgotten about that.  That makes sense.

The issue here again seems to have something in part to do with the random number generator state in GAP.  In the case of:

```
sage: MG = GU(3,2).as_matrix_group()
sage: PG = MG.as_permutation_group()
sage: PG2 = MG._permutation_group_()
```

*usually* `PG` and `PG2` will be the same, but on rare occasion they will be different, and that just happened to be the case in this test.  Could that be a bug in GAP, or expected behavior?  That I don't know.

That code is still a mess on the Sage end too as well, so any effort to clean it up can't hurt.



---

archive/issue_comments_416185.json:
```json
{
    "body": "<a id='comment:94'></a>\nReplying to [embray](#comment%3A93):\n> Ah, right, I had forgotten about that.  That makes sense.\n> \n> The issue here again seems to have something in part to do with the random number generator state in GAP.  In the case of:\n> \n> ```\n> sage: MG = GU(3,2).as_matrix_group()\n> sage: PG = MG.as_permutation_group()\n> sage: PG2 = MG._permutation_group_()\n> ```\n> \n> *usually* `PG` and `PG2` will be the same, but on rare occasion they will be different, and that just happened to be the case in this test.  Could that be a bug in GAP, or expected behavior?  That I don't know.\n\nWe have two instances of GAP talking to each other, how their RNGs are syncronised is\nan interesting question. Are they?",
    "created_at": "2018-12-21T19:39:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416185",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:94'></a>
Replying to [embray](#comment%3A93):
> Ah, right, I had forgotten about that.  That makes sense.
> 
> The issue here again seems to have something in part to do with the random number generator state in GAP.  In the case of:
> 
> ```
> sage: MG = GU(3,2).as_matrix_group()
> sage: PG = MG.as_permutation_group()
> sage: PG2 = MG._permutation_group_()
> ```
> 
> *usually* `PG` and `PG2` will be the same, but on rare occasion they will be different, and that just happened to be the case in this test.  Could that be a bug in GAP, or expected behavior?  That I don't know.

We have two instances of GAP talking to each other, how their RNGs are syncronised is
an interesting question. Are they?



---

archive/issue_comments_416186.json:
```json
{
    "body": "**Changing commit** from \"[f44ca4cd544b5d565166f4d04c3ef7e11e2267f0](https://github.com/sagemath/sagetrac-mirror/commit/f44ca4cd544b5d565166f4d04c3ef7e11e2267f0)\" to \"[ca05b247f3c373950a1f883ac5c97f8bb1917781](https://github.com/sagemath/sagetrac-mirror/commit/ca05b247f3c373950a1f883ac5c97f8bb1917781)\".",
    "created_at": "2018-12-22T00:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416186",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f44ca4cd544b5d565166f4d04c3ef7e11e2267f0](https://github.com/sagemath/sagetrac-mirror/commit/f44ca4cd544b5d565166f4d04c3ef7e11e2267f0)" to "[ca05b247f3c373950a1f883ac5c97f8bb1917781](https://github.com/sagemath/sagetrac-mirror/commit/ca05b247f3c373950a1f883ac5c97f8bb1917781)".



---

archive/issue_comments_416187.json:
```json
{
    "body": "<a id='comment:95'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35abd3462b00a1b7bf42ace3df0f119c90b29bc2\">35abd34</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into gap410pkg</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db3f63ef80152cafa36dce38fe49e97bf0df3f6e\">db3f63e</a></td><td><code>more libGAP in as_permutation(), less pexpect mess</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2d77eeec35faf376b8d715b0d18510753ee544fc\">2d77eee</a></td><td><code>follow up pyflake hints (all but one)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7dd5fa67e041e5b6d3f4e5046a484333a7e8d9d7\">7dd5fa6</a></td><td><code>reviewer's example and fix</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ca05b247f3c373950a1f883ac5c97f8bb1917781\">ca05b24</a></td><td><code>Merge branch 'u/dimpase/groups/better_as_permutation' of trac.sagemath.org:sage into gap410pkg</code></td></tr></table>\n",
    "created_at": "2018-12-22T00:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:95'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35abd3462b00a1b7bf42ace3df0f119c90b29bc2">35abd34</a></td><td><code>Merge branch 'develop' of trac.sagemath.org:sage into gap410pkg</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db3f63ef80152cafa36dce38fe49e97bf0df3f6e">db3f63e</a></td><td><code>more libGAP in as_permutation(), less pexpect mess</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2d77eeec35faf376b8d715b0d18510753ee544fc">2d77eee</a></td><td><code>follow up pyflake hints (all but one)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7dd5fa67e041e5b6d3f4e5046a484333a7e8d9d7">7dd5fa6</a></td><td><code>reviewer's example and fix</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ca05b247f3c373950a1f883ac5c97f8bb1917781">ca05b24</a></td><td><code>Merge branch 'u/dimpase/groups/better_as_permutation' of trac.sagemath.org:sage into gap410pkg</code></td></tr></table>




---

archive/issue_comments_416188.json:
```json
{
    "body": "<a id='comment:96'></a>\nnew gap_packages installation does not work, breaks at cohomolo GAP package:\n\n```\n[gap_packages-4.10.0] cp calcpres.gap ..//..//bin/x86_64-pc-linux-gnu-default64/calcpres.gap\n[gap_packages-4.10.0] chmod +x ..//..//bin/x86_64-pc-linux-gnu-default64/calcpres.gap\n[gap_packages-4.10.0] make[3]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7/standalone/progs.d'\n[gap_packages-4.10.0] make[2]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7'\n[gap_packages-4.10.0] bin/ -> /home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/inst/home/scratch2/dimpase/sage/sage/local/lib/gap/pkg/cohomolo-1.6.7\n[gap_packages-4.10.0] make[2]: Entering directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7'\n[gap_packages-4.10.0] cd standalone/progs.d; make clean\n[gap_packages-4.10.0] make[3]: Entering directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7/standalone/progs.d'\n[gap_packages-4.10.0] /bin/rm -f *.o\n[gap_packages-4.10.0] make[3]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7/standalone/progs.d'\n[gap_packages-4.10.0] make[2]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7'\n[gap_packages-4.10.0] ********************************************************************************\n[gap_packages-4.10.0] Error: source file/directory bin does not exist\n[gap_packages-4.10.0] ********************************************************************************\n```\n(this is on Fedora 26, in case it matters)",
    "created_at": "2018-12-22T00:22:05Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416188",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:96'></a>
new gap_packages installation does not work, breaks at cohomolo GAP package:

```
[gap_packages-4.10.0] cp calcpres.gap ..//..//bin/x86_64-pc-linux-gnu-default64/calcpres.gap
[gap_packages-4.10.0] chmod +x ..//..//bin/x86_64-pc-linux-gnu-default64/calcpres.gap
[gap_packages-4.10.0] make[3]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7/standalone/progs.d'
[gap_packages-4.10.0] make[2]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7'
[gap_packages-4.10.0] bin/ -> /home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/inst/home/scratch2/dimpase/sage/sage/local/lib/gap/pkg/cohomolo-1.6.7
[gap_packages-4.10.0] make[2]: Entering directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7'
[gap_packages-4.10.0] cd standalone/progs.d; make clean
[gap_packages-4.10.0] make[3]: Entering directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7/standalone/progs.d'
[gap_packages-4.10.0] /bin/rm -f *.o
[gap_packages-4.10.0] make[3]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7/standalone/progs.d'
[gap_packages-4.10.0] make[2]: Leaving directory '/home/scratch2/dimpase/sage/sage/local/var/tmp/sage/build/gap_packages-4.10.0/src/pkg/cohomolo-1.6.7'
[gap_packages-4.10.0] ********************************************************************************
[gap_packages-4.10.0] Error: source file/directory bin does not exist
[gap_packages-4.10.0] ********************************************************************************
```
(this is on Fedora 26, in case it matters)



---

archive/issue_comments_416189.json:
```json
{
    "body": "<a id='comment:97'></a>\n#22626 breaks some of the `# optional - database_gap` doctests. I'll ignore that failure for now but please fix asap.",
    "created_at": "2018-12-23T10:19:43Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416189",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:97'></a>
#22626 breaks some of the `# optional - database_gap` doctests. I'll ignore that failure for now but please fix asap.



---

archive/issue_comments_416190.json:
```json
{
    "body": "<a id='comment:98'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b\">bd849fb</a></td><td><code>don't clean too early</code></td></tr></table>\n",
    "created_at": "2018-12-24T02:24:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:98'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b">bd849fb</a></td><td><code>don't clean too early</code></td></tr></table>




---

archive/issue_comments_416191.json:
```json
{
    "body": "**Changing commit** from \"[ca05b247f3c373950a1f883ac5c97f8bb1917781](https://github.com/sagemath/sagetrac-mirror/commit/ca05b247f3c373950a1f883ac5c97f8bb1917781)\" to \"[bd849fbe2b32a6cc8d4b56b334e4293846061a6b](https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b)\".",
    "created_at": "2018-12-24T02:24:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ca05b247f3c373950a1f883ac5c97f8bb1917781](https://github.com/sagemath/sagetrac-mirror/commit/ca05b247f3c373950a1f883ac5c97f8bb1917781)" to "[bd849fbe2b32a6cc8d4b56b334e4293846061a6b](https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b)".



---

archive/issue_comments_416192.json:
```json
{
    "body": "**Changing author** from \"Dima Pasechnik\" to \"Dima Pasechnik, Erik Bray\".",
    "created_at": "2018-12-24T02:26:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416192",
    "user": "https://github.com/dimpase"
}
```

**Changing author** from "Dima Pasechnik" to "Dima Pasechnik, Erik Bray".



---

archive/issue_events_236865.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-24T02:26:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236865"
}
```



---

archive/issue_events_236866.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-24T02:26:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236866"
}
```



---

archive/issue_comments_416193.json:
```json
{
    "body": "<a id='comment:100'></a>\nReplying to [vbraun](#comment%3A97):\n> #22626 breaks some of the `# optional - database_gap` doctests. I'll ignore that failure for now but please fix asap.\n\nYes, this ticket gets rid of database_gap (everything there will be a part of gap package), so this is taken care of here.\n\nI've also fixed the build failure here, so it's ready for review, I think.",
    "created_at": "2018-12-24T02:28:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416193",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:100'></a>
Replying to [vbraun](#comment%3A97):
> #22626 breaks some of the `# optional - database_gap` doctests. I'll ignore that failure for now but please fix asap.

Yes, this ticket gets rid of database_gap (everything there will be a part of gap package), so this is taken care of here.

I've also fixed the build failure here, so it's ready for review, I think.



---

archive/issue_comments_416194.json:
```json
{
    "body": "<a id='comment:1'></a>\nSo the current scheme is that gap_packages remains optional spkg, for the time being at least. I'd rather make it standard too, and then merge into gap package,\nbut Erik thinks it's too big a change (I don't think so---I think the change between what we have in Sage 8.4 (and 8.5) is already very big, not the least due to GAP 4.10 being quite a big change from GAP 4.8, and forcing people to adjust their code several times is worse than asking to do so once--- but OK).",
    "created_at": "2018-12-24T02:30:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416194",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:1'></a>
So the current scheme is that gap_packages remains optional spkg, for the time being at least. I'd rather make it standard too, and then merge into gap package,
but Erik thinks it's too big a change (I don't think so---I think the change between what we have in Sage 8.4 (and 8.5) is already very big, not the least due to GAP 4.10 being quite a big change from GAP 4.8, and forcing people to adjust their code several times is worse than asking to do so once--- but OK).



---

archive/issue_comments_416195.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff7722e4edb044fcadef0c83d78d72193a4aa013\">ff7722e</a></td><td><code>suppress \"#I..\" warnings</code></td></tr></table>\n",
    "created_at": "2018-12-24T21:33:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416195",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff7722e4edb044fcadef0c83d78d72193a4aa013">ff7722e</a></td><td><code>suppress "#I.." warnings</code></td></tr></table>




---

archive/issue_comments_416196.json:
```json
{
    "body": "**Changing commit** from \"[bd849fbe2b32a6cc8d4b56b334e4293846061a6b](https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b)\" to \"[ff7722e4edb044fcadef0c83d78d72193a4aa013](https://github.com/sagemath/sagetrac-mirror/commit/ff7722e4edb044fcadef0c83d78d72193a4aa013)\".",
    "created_at": "2018-12-24T21:33:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416196",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bd849fbe2b32a6cc8d4b56b334e4293846061a6b](https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b)" to "[ff7722e4edb044fcadef0c83d78d72193a4aa013](https://github.com/sagemath/sagetrac-mirror/commit/ff7722e4edb044fcadef0c83d78d72193a4aa013)".



---

archive/issue_comments_416197.json:
```json
{
    "body": "<a id='comment:3'></a>\nthis commit went AWOL from the current branch. With it in, all tests pass",
    "created_at": "2018-12-24T21:34:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416197",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:3'></a>
this commit went AWOL from the current branch. With it in, all tests pass



---

archive/issue_comments_416198.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bf405752a966b932afb7a7bb34d7be388c94324b\">bf40575</a></td><td><code>silencing of #I warning from GAP in the function body</code></td></tr></table>\n",
    "created_at": "2018-12-26T02:26:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bf405752a966b932afb7a7bb34d7be388c94324b">bf40575</a></td><td><code>silencing of #I warning from GAP in the function body</code></td></tr></table>




---

archive/issue_comments_416199.json:
```json
{
    "body": "**Changing commit** from \"[ff7722e4edb044fcadef0c83d78d72193a4aa013](https://github.com/sagemath/sagetrac-mirror/commit/ff7722e4edb044fcadef0c83d78d72193a4aa013)\" to \"[bf405752a966b932afb7a7bb34d7be388c94324b](https://github.com/sagemath/sagetrac-mirror/commit/bf405752a966b932afb7a7bb34d7be388c94324b)\".",
    "created_at": "2018-12-26T02:26:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416199",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ff7722e4edb044fcadef0c83d78d72193a4aa013](https://github.com/sagemath/sagetrac-mirror/commit/ff7722e4edb044fcadef0c83d78d72193a4aa013)" to "[bf405752a966b932afb7a7bb34d7be388c94324b](https://github.com/sagemath/sagetrac-mirror/commit/bf405752a966b932afb7a7bb34d7be388c94324b)".



---

archive/issue_comments_416200.json:
```json
{
    "body": "<a id='comment:5'></a>\nOne more AWOL commit.",
    "created_at": "2018-12-26T02:27:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416200",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:5'></a>
One more AWOL commit.



---

archive/issue_comments_416201.json:
```json
{
    "body": "**Changing commit** from \"[bf405752a966b932afb7a7bb34d7be388c94324b](https://github.com/sagemath/sagetrac-mirror/commit/bf405752a966b932afb7a7bb34d7be388c94324b)\" to \"[37e23290bad2ee4d36463647f4c058c500b81eba](https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba)\".",
    "created_at": "2018-12-26T03:13:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416201",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[bf405752a966b932afb7a7bb34d7be388c94324b](https://github.com/sagemath/sagetrac-mirror/commit/bf405752a966b932afb7a7bb34d7be388c94324b)" to "[37e23290bad2ee4d36463647f4c058c500b81eba](https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba)".



---

archive/issue_comments_416202.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba\">37e2329</a></td><td><code>tagged # random - answer is always mathematically OK, outputs differ</code></td></tr></table>\n",
    "created_at": "2018-12-26T03:13:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416202",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba">37e2329</a></td><td><code>tagged # random - answer is always mathematically OK, outputs differ</code></td></tr></table>




---

archive/issue_comments_416203.json:
```json
{
    "body": "<a id='comment:107'></a>\nReplying to [dimpase](#comment%3A71):\n> Replying to [git](#comment%3A70):\n> > Branch pushed to git repo; I updated commit sha1. New commits:\n\n> |                                                                                                                                                 |                                       |\n> |-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|\n> |[1e5f679](https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71)|`move silencing into the function body`|\n> \n> this addresses comment 65.\n\nThis should probably use `InfoLevel(InfoWarning)` to get the previous level, not just assume to restore it to 1.  Probably unlikely to matter usually but it is still a bug waiting to happen.",
    "created_at": "2018-12-28T11:08:52Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416203",
    "user": "https://github.com/embray"
}
```

<a id='comment:107'></a>
Replying to [dimpase](#comment%3A71):
> Replying to [git](#comment%3A70):
> > Branch pushed to git repo; I updated commit sha1. New commits:

> |                                                                                                                                                 |                                       |
> |-------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|
> |[1e5f679](https://github.com/sagemath/sagetrac-mirror/commit/1e5f679c41a7b27088ed330f986df91d03099a71)|`move silencing into the function body`|
> 
> this addresses comment 65.

This should probably use `InfoLevel(InfoWarning)` to get the previous level, not just assume to restore it to 1.  Probably unlikely to matter usually but it is still a bug waiting to happen.



---

archive/issue_comments_416204.json:
```json
{
    "body": "<a id='comment:108'></a>\nReplying to [git](#comment%3A106):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba\">37e2329</a></td><td><code>tagged # random - answer is always mathematically OK, outputs differ</code></td></tr></table>\n\nI'm going to double-check but this shouldn't be necessary.  This is what #26874 was fixing.",
    "created_at": "2018-12-28T11:10:52Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416204",
    "user": "https://github.com/embray"
}
```

<a id='comment:108'></a>
Replying to [git](#comment%3A106):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba">37e2329</a></td><td><code>tagged # random - answer is always mathematically OK, outputs differ</code></td></tr></table>

I'm going to double-check but this shouldn't be necessary.  This is what #26874 was fixing.



---

archive/issue_comments_416205.json:
```json
{
    "body": "<a id='comment:9'></a>\nYes, merging in #26874 guarantees that test always works the same way, as the RNG state is consistent.\n\nI'll deal with [comment:107](#comment%3A107) and then do a couple final checks before setting positive_review.",
    "created_at": "2018-12-28T11:22:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416205",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'></a>
Yes, merging in #26874 guarantees that test always works the same way, as the RNG state is consistent.

I'll deal with [comment:107](#comment%3A107) and then do a couple final checks before setting positive_review.



---

archive/issue_comments_416206.json:
```json
{
    "body": "<a id='comment:110'></a>\nReplying to [git](#comment%3A98):\n> Branch pushed to git repo; I updated commit sha1. **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b\">bd849fb</a></td><td><code>don't clean too early</code></td></tr></table>\n\nThis \"fix\" is a problem as well.  The \"cleanup\" commands that were moved were deliberately *before* `sdh_install *` so that files that shouldn't be installed aren't installed.  I'll see if I can reproduce the problem you had; I did not have the same problem on Ubuntu.",
    "created_at": "2018-12-28T11:25:17Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416206",
    "user": "https://github.com/embray"
}
```

<a id='comment:110'></a>
Replying to [git](#comment%3A98):
> Branch pushed to git repo; I updated commit sha1. **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd849fbe2b32a6cc8d4b56b334e4293846061a6b">bd849fb</a></td><td><code>don't clean too early</code></td></tr></table>

This "fix" is a problem as well.  The "cleanup" commands that were moved were deliberately *before* `sdh_install *` so that files that shouldn't be installed aren't installed.  I'll see if I can reproduce the problem you had; I did not have the same problem on Ubuntu.



---

archive/issue_events_236867.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T11:25:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236867"
}
```



---

archive/issue_events_236868.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T11:25:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236868"
}
```



---

archive/issue_comments_416207.json:
```json
{
    "body": "<a id='comment:112'></a>\nReplying to [dimpase](#comment%3A94):\n> Replying to [embray](#comment%3A93):\n> > Ah, right, I had forgotten about that.  That makes sense.\n> > \n> > The issue here again seems to have something in part to do with the random number generator state in GAP.  In the case of:\n> > \n> > ```\n> > sage: MG = GU(3,2).as_matrix_group()\n> > sage: PG = MG.as_permutation_group()\n> > sage: PG2 = MG._permutation_group_()\n> > ```\n> > \n> > *usually* `PG` and `PG2` will be the same, but on rare occasion they will be different, and that just happened to be the case in this test.  Could that be a bug in GAP, or expected behavior?  That I don't know.\n\n> \n> We have two instances of GAP talking to each other, how their RNGs are syncronised is\n> an interesting question. Are they?\n\nNope.  I do have an experimental branch where I modified `Randstate.set_seed_gap()` to seed both libgap and the pexpect GAP simultaneously, but I haven't decided whether or not to use it yet.",
    "created_at": "2018-12-28T11:34:59Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416207",
    "user": "https://github.com/embray"
}
```

<a id='comment:112'></a>
Replying to [dimpase](#comment%3A94):
> Replying to [embray](#comment%3A93):
> > Ah, right, I had forgotten about that.  That makes sense.
> > 
> > The issue here again seems to have something in part to do with the random number generator state in GAP.  In the case of:
> > 
> > ```
> > sage: MG = GU(3,2).as_matrix_group()
> > sage: PG = MG.as_permutation_group()
> > sage: PG2 = MG._permutation_group_()
> > ```
> > 
> > *usually* `PG` and `PG2` will be the same, but on rare occasion they will be different, and that just happened to be the case in this test.  Could that be a bug in GAP, or expected behavior?  That I don't know.

> 
> We have two instances of GAP talking to each other, how their RNGs are syncronised is
> an interesting question. Are they?

Nope.  I do have an experimental branch where I modified `Randstate.set_seed_gap()` to seed both libgap and the pexpect GAP simultaneously, but I haven't decided whether or not to use it yet.



---

archive/issue_comments_416208.json:
```json
{
    "body": "**Changing commit** from \"[37e23290bad2ee4d36463647f4c058c500b81eba](https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba)\" to \"[5ad8209875bf43561ff0ff86b797cae67e1d5c02](https://github.com/sagemath/sagetrac-mirror/commit/5ad8209875bf43561ff0ff86b797cae67e1d5c02)\".",
    "created_at": "2018-12-28T15:02:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416208",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[37e23290bad2ee4d36463647f4c058c500b81eba](https://github.com/sagemath/sagetrac-mirror/commit/37e23290bad2ee4d36463647f4c058c500b81eba)" to "[5ad8209875bf43561ff0ff86b797cae67e1d5c02](https://github.com/sagemath/sagetrac-mirror/commit/5ad8209875bf43561ff0ff86b797cae67e1d5c02)".



---

archive/issue_comments_416209.json:
```json
{
    "body": "<a id='comment:3'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6c873456323db303f7a755ad08fc7ce2b68a376\">f6c8734</a></td><td><code>When running doctests, use the current_randstate()'s seed for Interface.rand_seed()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1dc5078ba5f050369d67962689a7b6af57589717\">1dc5078</a></td><td><code>Add the generic InfoWarning info class to the 'standard' GAP globals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e2c2c54186853096a4b21c8cfa7275a5f422b614\">e2c2c54</a></td><td><code>suppress \"#I..\" warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5ad8209875bf43561ff0ff86b797cae67e1d5c02\">5ad8209</a></td><td><code>followup to #22626: adds a prerm script to the gap SPKG</code></td></tr></table>\n",
    "created_at": "2018-12-28T15:02:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416209",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6c873456323db303f7a755ad08fc7ce2b68a376">f6c8734</a></td><td><code>When running doctests, use the current_randstate()'s seed for Interface.rand_seed()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1dc5078ba5f050369d67962689a7b6af57589717">1dc5078</a></td><td><code>Add the generic InfoWarning info class to the 'standard' GAP globals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e2c2c54186853096a4b21c8cfa7275a5f422b614">e2c2c54</a></td><td><code>suppress "#I.." warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5ad8209875bf43561ff0ff86b797cae67e1d5c02">5ad8209</a></td><td><code>followup to #22626: adds a prerm script to the gap SPKG</code></td></tr></table>




---

archive/issue_comments_416210.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24498860d9a7603f7c439bbd0f68a349b22e7770\">2449886</a></td><td><code>When running doctests, use the current_randstate()'s seed for Interface.rand_seed()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9dbd0014eccf03c5486081c74116e7a0105a362\">d9dbd00</a></td><td><code>Add the generic InfoWarning info class to the 'standard' GAP globals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/40b4108c2c30787f091eebbe059716a3362b0e35\">40b4108</a></td><td><code>suppress \"#I..\" warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f3a938b92a922a0e78b955b90183b739c965d033\">f3a938b</a></td><td><code>followup to #22626: adds a prerm script to the gap SPKG</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f\">84a3d2f</a></td><td><code>make sure this make clean command is not run in parallel</code></td></tr></table>\n",
    "created_at": "2018-12-28T15:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416210",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24498860d9a7603f7c439bbd0f68a349b22e7770">2449886</a></td><td><code>When running doctests, use the current_randstate()'s seed for Interface.rand_seed()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9dbd0014eccf03c5486081c74116e7a0105a362">d9dbd00</a></td><td><code>Add the generic InfoWarning info class to the 'standard' GAP globals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/40b4108c2c30787f091eebbe059716a3362b0e35">40b4108</a></td><td><code>suppress "#I.." warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f3a938b92a922a0e78b955b90183b739c965d033">f3a938b</a></td><td><code>followup to #22626: adds a prerm script to the gap SPKG</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f">84a3d2f</a></td><td><code>make sure this make clean command is not run in parallel</code></td></tr></table>




---

archive/issue_comments_416211.json:
```json
{
    "body": "**Changing commit** from \"[5ad8209875bf43561ff0ff86b797cae67e1d5c02](https://github.com/sagemath/sagetrac-mirror/commit/5ad8209875bf43561ff0ff86b797cae67e1d5c02)\" to \"[84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f](https://github.com/sagemath/sagetrac-mirror/commit/84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f)\".",
    "created_at": "2018-12-28T15:18:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416211",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[5ad8209875bf43561ff0ff86b797cae67e1d5c02](https://github.com/sagemath/sagetrac-mirror/commit/5ad8209875bf43561ff0ff86b797cae67e1d5c02)" to "[84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f](https://github.com/sagemath/sagetrac-mirror/commit/84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f)".



---

archive/issue_comments_416212.json:
```json
{
    "body": "<a id='comment:5'></a>\nCan you check if the latest commit fixes the issue from [comment:96](#comment%3A96) ?  I can't reproduce that so I'm not really sure what's going on there (seeing more of the log might help too, if it's not fixed...)",
    "created_at": "2018-12-28T15:19:18Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416212",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Can you check if the latest commit fixes the issue from [comment:96](#comment%3A96) ?  I can't reproduce that so I'm not really sure what's going on there (seeing more of the log might help too, if it's not fixed...)



---

archive/issue_comments_416213.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"GAP\".",
    "created_at": "2018-12-28T15:37:42Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416213",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "GAP".



---

archive/issue_comments_416214.json:
```json
{
    "body": "<a id='comment:6'></a>\nDoes this also fix #23054?",
    "created_at": "2018-12-28T15:37:42Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416214",
    "user": "https://github.com/slel"
}
```

<a id='comment:6'></a>
Does this also fix #23054?



---

archive/issue_comments_416215.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,6 +1,5 @@\n-now everything needed is already in GAP's tarball.\n+Now everything needed is already in GAP's tarball.\n \n-There is also no more copyright-induced hassle of having database_gap\n-separate and optional, although gap_packages still need a look at the respective copyrights (if we wish to make it standard)\n+There is also no more copyright-induced hassle of having `database_gap`\n+separate and optional, although `gap_packages` still need a look at the respective copyrights (if we wish to make it standard).\n \n-\n``````\n",
    "created_at": "2018-12-28T15:37:42Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416215",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,6 +1,5 @@
-now everything needed is already in GAP's tarball.
+Now everything needed is already in GAP's tarball.
 
-There is also no more copyright-induced hassle of having database_gap
-separate and optional, although gap_packages still need a look at the respective copyrights (if we wish to make it standard)
+There is also no more copyright-induced hassle of having `database_gap`
+separate and optional, although `gap_packages` still need a look at the respective copyrights (if we wish to make it standard).
 
-
``````




---

archive/issue_events_236869.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-12-28T15:37:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236869"
}
```



---

archive/issue_events_236870.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-12-28T15:37:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236870"
}
```



---

archive/attachments_021874.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "gap_packages-4.10.0.log",
    "asset_url": "tarball://root/attachments/ticket26856/gap_packages-4.10.0.log",
    "created_at": "2018-12-28T15:57:56Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket26856/gap_packages-4.10.0.log",
    "user": "https://github.com/mantepse"
}
```



---

archive/issue_comments_416216.json:
```json
{
    "body": "**Attachment:** [gap_packages-4.10.0.log](https://github.com/sagemath/sage/files/ticket26856/gap_packages-4.10.0.log)",
    "created_at": "2018-12-28T15:57:56Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416216",
    "user": "https://github.com/mantepse"
}
```

**Attachment:** [gap_packages-4.10.0.log](https://github.com/sagemath/sage/files/ticket26856/gap_packages-4.10.0.log)



---

archive/issue_comments_416217.json:
```json
{
    "body": "<a id='comment:7'></a>\nI also have the problem from [comment:96](#comment%3A96), on ubuntu 17.10, sage 8.6.beta0.  I attached the log.",
    "created_at": "2018-12-28T15:59:03Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416217",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>
I also have the problem from [comment:96](#comment%3A96), on ubuntu 17.10, sage 8.6.beta0.  I attached the log.



---

archive/issue_comments_416218.json:
```json
{
    "body": "<a id='comment:8'></a>\nThanks--I was able to reproduce the problem in a docker container.  My attempted fix doesn't seem to help.  Not sure what the problem is though; it's an odd one...",
    "created_at": "2018-12-28T17:07:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416218",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
Thanks--I was able to reproduce the problem in a docker container.  My attempted fix doesn't seem to help.  Not sure what the problem is though; it's an odd one...



---

archive/issue_comments_416219.json:
```json
{
    "body": "<a id='comment:119'></a>\nReplying to [embray](#comment%3A118):\n> Thanks--I was able to reproduce the problem in a docker container.  My attempted fix doesn't seem to help.  Not sure what the problem is though; it's an odd one...\n\nIMHO it should not hold up this ticket - open a follow-up ticket to fix it.",
    "created_at": "2018-12-28T17:40:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416219",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:119'></a>
Replying to [embray](#comment%3A118):
> Thanks--I was able to reproduce the problem in a docker container.  My attempted fix doesn't seem to help.  Not sure what the problem is though; it's an odd one...

IMHO it should not hold up this ticket - open a follow-up ticket to fix it.



---

archive/issue_comments_416220.json:
```json
{
    "body": "<a id='comment:0'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:",
    "created_at": "2018-12-28T17:44:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416220",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:0'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** New commits:



---

archive/issue_comments_416221.json:
```json
{
    "body": "**Changing commit** from \"[84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f](https://github.com/sagemath/sagetrac-mirror/commit/84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f)\" to \"[f3a938b92a922a0e78b955b90183b739c965d033](https://github.com/sagemath/sagetrac-mirror/commit/f3a938b92a922a0e78b955b90183b739c965d033)\".",
    "created_at": "2018-12-28T17:44:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416221",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f](https://github.com/sagemath/sagetrac-mirror/commit/84a3d2f93f74ce2d09d19e0a55ee5ae8a9c7f45f)" to "[f3a938b92a922a0e78b955b90183b739c965d033](https://github.com/sagemath/sagetrac-mirror/commit/f3a938b92a922a0e78b955b90183b739c965d033)".



---

archive/issue_comments_416222.json:
```json
{
    "body": "**Changing dependencies** from \"#22626, #26889\" to \"#22626, #26889, #26965\".",
    "created_at": "2018-12-28T17:52:12Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416222",
    "user": "https://github.com/embray"
}
```

**Changing dependencies** from "#22626, #26889" to "#22626, #26889, #26965".



---

archive/issue_comments_416223.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3213d2cb8c4736c7e889dd99a029e30914853945\">3213d2c</a></td><td><code>install deps of polenta, qpa, resclasses, fix test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a2eb73bea89d4200d9b5690d7a846e385d7ebe3\">2a2eb73</a></td><td><code>emphasize here that the pacakge's name is 'qpa', not 'qpa-version'</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d50642bd2804963fc6f093fbffbbc41042f60788\">d50642b</a></td><td><code>the exact output of this test depends somewhat on which GAP packages happen to</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b68c547921b1dea6fb9ea38554218b9fdf6e4e8e\">b68c547</a></td><td><code>add a convenience method on the libgap object to reset the random seed on</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/47e4b6e1da144197bc8fefe5033a28d68c87f619\">47e4b6e</a></td><td><code>clean up installation of compiled packages so that they are are also</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2da5c32a49332d4d5a30c46c62a0f8de8a08b2b4\">2da5c32</a></td><td><code>fix some tests where GAP output was improved by increasing the GAP output line width</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/508e6d8bcd2e7be2997082b6670b8b7073ba79e0\">508e6d8</a></td><td><code>explicitly calling libgap.set_seed(0) for these tests allows consistent results for them</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08f52a317dafbbec7b5ed07aab44c474cfa6996c\">08f52a3</a></td><td><code>Add the generic InfoWarning info class to the 'standard' GAP globals</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2b65d0cc899be53f56db1d10aea1b3e8f709ab7a\">2b65d0c</a></td><td><code>suppress \"#I..\" warnings</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/293e79ab78bf1574e469ddfa9ff8a93b7087c396\">293e79a</a></td><td><code>followup to #22626: adds a prerm script to the gap SPKG</code></td></tr></table>\n",
    "created_at": "2018-12-28T17:55:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416223",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3213d2cb8c4736c7e889dd99a029e30914853945">3213d2c</a></td><td><code>install deps of polenta, qpa, resclasses, fix test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a2eb73bea89d4200d9b5690d7a846e385d7ebe3">2a2eb73</a></td><td><code>emphasize here that the pacakge's name is 'qpa', not 'qpa-version'</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d50642bd2804963fc6f093fbffbbc41042f60788">d50642b</a></td><td><code>the exact output of this test depends somewhat on which GAP packages happen to</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b68c547921b1dea6fb9ea38554218b9fdf6e4e8e">b68c547</a></td><td><code>add a convenience method on the libgap object to reset the random seed on</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/47e4b6e1da144197bc8fefe5033a28d68c87f619">47e4b6e</a></td><td><code>clean up installation of compiled packages so that they are are also</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2da5c32a49332d4d5a30c46c62a0f8de8a08b2b4">2da5c32</a></td><td><code>fix some tests where GAP output was improved by increasing the GAP output line width</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/508e6d8bcd2e7be2997082b6670b8b7073ba79e0">508e6d8</a></td><td><code>explicitly calling libgap.set_seed(0) for these tests allows consistent results for them</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08f52a317dafbbec7b5ed07aab44c474cfa6996c">08f52a3</a></td><td><code>Add the generic InfoWarning info class to the 'standard' GAP globals</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2b65d0cc899be53f56db1d10aea1b3e8f709ab7a">2b65d0c</a></td><td><code>suppress "#I.." warnings</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/293e79ab78bf1574e469ddfa9ff8a93b7087c396">293e79a</a></td><td><code>followup to #22626: adds a prerm script to the gap SPKG</code></td></tr></table>




---

archive/issue_comments_416224.json:
```json
{
    "body": "**Changing commit** from \"[f3a938b92a922a0e78b955b90183b739c965d033](https://github.com/sagemath/sagetrac-mirror/commit/f3a938b92a922a0e78b955b90183b739c965d033)\" to \"[293e79ab78bf1574e469ddfa9ff8a93b7087c396](https://github.com/sagemath/sagetrac-mirror/commit/293e79ab78bf1574e469ddfa9ff8a93b7087c396)\".",
    "created_at": "2018-12-28T17:55:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416224",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f3a938b92a922a0e78b955b90183b739c965d033](https://github.com/sagemath/sagetrac-mirror/commit/f3a938b92a922a0e78b955b90183b739c965d033)" to "[293e79ab78bf1574e469ddfa9ff8a93b7087c396](https://github.com/sagemath/sagetrac-mirror/commit/293e79ab78bf1574e469ddfa9ff8a93b7087c396)".



---

archive/issue_comments_416225.json:
```json
{
    "body": "<a id='comment:3'></a>\nRebased on 8.6.beta0",
    "created_at": "2018-12-28T17:56:01Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416225",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'></a>
Rebased on 8.6.beta0



---

archive/issue_comments_416226.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f49332f10f0b869fe5f81a60c6ffcf609ee10d7\">5f49332</a></td><td><code>fix sdh_install of symlinks with invalid targets</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9854c3a3a59fd2ab42aacfb78f38346439f280d9\">9854c3a</a></td><td><code>Merge branch 'u/embray/build/sdh-install-symlinks' into public/ticket-26856</code></td></tr></table>\n",
    "created_at": "2018-12-28T17:56:24Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f49332f10f0b869fe5f81a60c6ffcf609ee10d7">5f49332</a></td><td><code>fix sdh_install of symlinks with invalid targets</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9854c3a3a59fd2ab42aacfb78f38346439f280d9">9854c3a</a></td><td><code>Merge branch 'u/embray/build/sdh-install-symlinks' into public/ticket-26856</code></td></tr></table>




---

archive/issue_comments_416227.json:
```json
{
    "body": "**Changing commit** from \"[293e79ab78bf1574e469ddfa9ff8a93b7087c396](https://github.com/sagemath/sagetrac-mirror/commit/293e79ab78bf1574e469ddfa9ff8a93b7087c396)\" to \"[9854c3a3a59fd2ab42aacfb78f38346439f280d9](https://github.com/sagemath/sagetrac-mirror/commit/9854c3a3a59fd2ab42aacfb78f38346439f280d9)\".",
    "created_at": "2018-12-28T17:56:24Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[293e79ab78bf1574e469ddfa9ff8a93b7087c396](https://github.com/sagemath/sagetrac-mirror/commit/293e79ab78bf1574e469ddfa9ff8a93b7087c396)" to "[9854c3a3a59fd2ab42aacfb78f38346439f280d9](https://github.com/sagemath/sagetrac-mirror/commit/9854c3a3a59fd2ab42aacfb78f38346439f280d9)".



---

archive/issue_comments_416228.json:
```json
{
    "body": "<a id='comment:5'></a>\nMerged fix from #26965 so that this branch can be built successfully from a fresh install.",
    "created_at": "2018-12-28T17:57:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416228",
    "user": "https://github.com/embray"
}
```

<a id='comment:5'></a>
Merged fix from #26965 so that this branch can be built successfully from a fresh install.



---

archive/issue_events_236871.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T17:57:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236871"
}
```



---

archive/issue_events_236872.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T17:57:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236872"
}
```



---

archive/issue_comments_416229.json:
```json
{
    "body": "<a id='comment:6'></a>\ncomment in the commit 293e79a\tis a bit off, as altlasrep has a cache of files downloaded from the net, not generated.",
    "created_at": "2018-12-28T18:17:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416229",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:6'></a>
comment in the commit 293e79a	is a bit off, as altlasrep has a cache of files downloaded from the net, not generated.



---

archive/issue_comments_416230.json:
```json
{
    "body": "<a id='comment:7'></a>\nI am getting timeouts in these iffy parts of libgap:\n\n```\nsage -t --warn-long 109.1 src/sage/libs/gap/all_documented_functions.py\n    Timed out\nsage -t --warn-long 109.1 src/sage/libs/gap/assigned_names.py\n    Timed out\n```\nsomething these should be tagged `# long time` ?",
    "created_at": "2018-12-28T18:24:54Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416230",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:7'></a>
I am getting timeouts in these iffy parts of libgap:

```
sage -t --warn-long 109.1 src/sage/libs/gap/all_documented_functions.py
    Timed out
sage -t --warn-long 109.1 src/sage/libs/gap/assigned_names.py
    Timed out
```
something these should be tagged `# long time` ?



---

archive/issue_comments_416231.json:
```json
{
    "body": "<a id='comment:8'></a>\nWherever the files come from I just mean that they are created by the package at runtime and are not \"installed\".",
    "created_at": "2018-12-28T18:26:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416231",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>
Wherever the files come from I just mean that they are created by the package at runtime and are not "installed".



---

archive/issue_comments_416232.json:
```json
{
    "body": "<a id='comment:129'></a>\nReplying to [dimpase](#comment%3A127):\n> I am getting timeouts in these iffy parts of libgap:\n> \n> ```\n> sage -t --warn-long 109.1 src/sage/libs/gap/all_documented_functions.py\n>     Timed out\n> sage -t --warn-long 109.1 src/sage/libs/gap/assigned_names.py\n>     Timed out\n> ```\n> something these should be tagged `# long time` ?\n\n\nI think they are.  I originally meant, as part of #22626 to deprecate these modules and disable their tests, but I forgot to add that to the work items.\n\nWhile we're at it I'll go ahead and mark the tests to be skipped, and will handle the deprecation later, perhaps as part of #26959.",
    "created_at": "2018-12-28T18:28:32Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416232",
    "user": "https://github.com/embray"
}
```

<a id='comment:129'></a>
Replying to [dimpase](#comment%3A127):
> I am getting timeouts in these iffy parts of libgap:
> 
> ```
> sage -t --warn-long 109.1 src/sage/libs/gap/all_documented_functions.py
>     Timed out
> sage -t --warn-long 109.1 src/sage/libs/gap/assigned_names.py
>     Timed out
> ```
> something these should be tagged `# long time` ?


I think they are.  I originally meant, as part of #22626 to deprecate these modules and disable their tests, but I forgot to add that to the work items.

While we're at it I'll go ahead and mark the tests to be skipped, and will handle the deprecation later, perhaps as part of #26959.



---

archive/issue_comments_416233.json:
```json
{
    "body": "<a id='comment:0'></a>\nOK, tests are running, I'll have a look in the morning (I'm on UTC+8 now, sorry :-))",
    "created_at": "2018-12-28T18:36:17Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416233",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:0'></a>
OK, tests are running, I'll have a look in the morning (I'm on UTC+8 now, sorry :-))



---

archive/issue_comments_416234.json:
```json
{
    "body": "<a id='comment:1'></a>\nI did a fresh test run earlier today and everything looked good, but it will be good to get a second opinion.  I'm about to push one more change to disable skip those problematic tests.",
    "created_at": "2018-12-28T18:46:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416234",
    "user": "https://github.com/embray"
}
```

<a id='comment:1'></a>
I did a fresh test run earlier today and everything looked good, but it will be good to get a second opinion.  I'm about to push one more change to disable skip those problematic tests.



---

archive/issue_comments_416235.json:
```json
{
    "body": "**Changing commit** from \"[9854c3a3a59fd2ab42aacfb78f38346439f280d9](https://github.com/sagemath/sagetrac-mirror/commit/9854c3a3a59fd2ab42aacfb78f38346439f280d9)\" to \"[8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)\".",
    "created_at": "2018-12-28T20:04:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416235",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9854c3a3a59fd2ab42aacfb78f38346439f280d9](https://github.com/sagemath/sagetrac-mirror/commit/9854c3a3a59fd2ab42aacfb78f38346439f280d9)" to "[8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)".



---

archive/issue_comments_416236.json:
```json
{
    "body": "<a id='comment:2'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe\">8bf1044</a></td><td><code>disable doctesting of these modules</code></td></tr></table>\n",
    "created_at": "2018-12-28T20:04:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416236",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe">8bf1044</a></td><td><code>disable doctesting of these modules</code></td></tr></table>




---

archive/issue_comments_416237.json:
```json
{
    "body": "<a id='comment:3'></a>\nseems to work here!  (same timeouts, because I didn't have the final commit yet)\n\nThank you!",
    "created_at": "2018-12-28T23:07:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416237",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>
seems to work here!  (same timeouts, because I didn't have the final commit yet)

Thank you!



---

archive/issue_comments_416238.json:
```json
{
    "body": "<a id='comment:4'></a>\nOK, great, all works. \n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe\">8bf1044</a></td><td><code>disable doctesting of these modules</code></td></tr></table>\n",
    "created_at": "2018-12-29T02:18:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416238",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:4'></a>
OK, great, all works. 

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe">8bf1044</a></td><td><code>disable doctesting of these modules</code></td></tr></table>




---

archive/issue_events_236873.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-29T02:18:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236873"
}
```



---

archive/issue_events_236874.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2018-12-29T02:18:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236874"
}
```



---

archive/issue_comments_416239.json:
```json
{
    "body": "**Reviewer:** Erik Bray, Dima Pasechnik",
    "created_at": "2018-12-29T02:19:18Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416239",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Erik Bray, Dima Pasechnik



---

archive/issue_comments_416240.json:
```json
{
    "body": "<a id='comment:136'></a>\nReplying to [slelievre](#comment%3A116):\n> Does this also fix #23054?\n\nyes it does, thanks for pointing this out.",
    "created_at": "2018-12-29T03:59:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416240",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:136'></a>
Replying to [slelievre](#comment%3A116):
> Does this also fix #23054?

yes it does, thanks for pointing this out.



---

archive/issue_comments_416241.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket-26856](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-26856)\" to \"[8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)\".",
    "created_at": "2018-12-31T10:37:12Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416241",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket-26856](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket-26856)" to "[8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)".



---

archive/issue_events_236875.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-31T10:37:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236875"
}
```



---

archive/issue_events_236876.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a109ab90d038eec3a17ef5f3ddbe918fdbc1f87d",
    "created_at": "2018-12-31T10:37:12Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236876"
}
```



---

archive/issue_comments_416242.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,5 +1,100 @@\n-Now everything needed is already in GAP's tarball.\n+After the upgrade to GAP 4.10 in #22626, we revisit what\n+GAP packages are available in Sage via the GAP standard\n+SPKG and via extra optional SPGKs.\n \n-There is also no more copyright-induced hassle of having `database_gap`\n-separate and optional, although `gap_packages` still need a look at the respective copyrights (if we wish to make it standard).\n+All GAP packages formerly in our \"database_gap\"\n+optional SPKG, except tomlib, now get installed\n+with GAP as part of our \"gap\" standard SPKG.\n \n+This ticket adds tomlib to the \"gap\" standard SPKG\n+and removes the \"database_gap\" optional SPKG.\n+\n+(All packages previously in \"database_gap\" have\n+GPL-compatible licenses and can therefore be\n+distributed as part of the \"gap\" standard SPKG\n+without license worries.)\n+\n+We also update the list of extra GAP packages\n+in gap_packages, which remains a separate and\n+optional SPKG.\n+\n+Once the present ticket is merged, GAP packages\n+shipped with the \"gap\" standard SPKG and with\n+the \"gap_packages\" optional SPKG are as follows.\n+\n+'''GAP packages now shipped with \"gap\"\n+(standard SageMath package)'''\n+\n+A basic package used by most GAP packages\n+for their documentation\n+\n+- GAPDoc\n+\n+Five database packages formerly in \"database_gap\"\n+\n+- PrimGrp\n+- SmallGrp\n+- TransGrp\n+- TomLib\n+- AtlasRep\n+\n+Twelve more packages\n+\n+- AutPGrp\n+- Alnuth\n+- CRISP\n+- !CTblLib\n+- FactInt\n+- FGA\n+- IRREDSOL\n+- LAGUNA\n+- Polenta\n+- Polycyclic\n+- ResClasses\n+- Sophus\n+\n+'''GAP packages now shipped with \"gap_packages\"\n+(optional SageMath package)'''\n+\n+Twenty-five \"pure GAP\" packages\n+(not requiring compilation)\n+\n+- AClib\n+- AutoDoc\n+- CoReLG\n+- CRIME\n+- Cryst\n+- CrystCat\n+- DESIGN\n+- GBNP\n+- HAP\n+- HAPcryst\n+- hecke\n+- LieAlgDB\n+- LiePRing\n+- LieRing\n+- loops\n+- MapClass\n+- polymaking\n+- QPA\n+- QuaGroup\n+- RadiRoot\n+- Repsn\n+- SLA\n+- SONATA\n+- Toric\n+- utils\n+\n+Four compiled GAP packages\n+\n+- cohomolo\n+- GRAPE\n+- GUAVA\n+- nq\n+\n+**No longer distributed**\n+\n+- HAPprime: unmaintained, partly merged in HAP, \n+  see [list of \"No longer redistributed with GAP or renamed\" GAP packages](https://www.gap-system.org/Packages/packages.html#deppkg),\n+  source code [archived at GitHub](https://github.com/gap-packages/happrime)\n+\n``````\n",
    "created_at": "2021-07-07T12:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416242",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,5 +1,100 @@
-Now everything needed is already in GAP's tarball.
+After the upgrade to GAP 4.10 in #22626, we revisit what
+GAP packages are available in Sage via the GAP standard
+SPKG and via extra optional SPGKs.
 
-There is also no more copyright-induced hassle of having `database_gap`
-separate and optional, although `gap_packages` still need a look at the respective copyrights (if we wish to make it standard).
+All GAP packages formerly in our "database_gap"
+optional SPKG, except tomlib, now get installed
+with GAP as part of our "gap" standard SPKG.
 
+This ticket adds tomlib to the "gap" standard SPKG
+and removes the "database_gap" optional SPKG.
+
+(All packages previously in "database_gap" have
+GPL-compatible licenses and can therefore be
+distributed as part of the "gap" standard SPKG
+without license worries.)
+
+We also update the list of extra GAP packages
+in gap_packages, which remains a separate and
+optional SPKG.
+
+Once the present ticket is merged, GAP packages
+shipped with the "gap" standard SPKG and with
+the "gap_packages" optional SPKG are as follows.
+
+'''GAP packages now shipped with "gap"
+(standard SageMath package)'''
+
+A basic package used by most GAP packages
+for their documentation
+
+- GAPDoc
+
+Five database packages formerly in "database_gap"
+
+- PrimGrp
+- SmallGrp
+- TransGrp
+- TomLib
+- AtlasRep
+
+Twelve more packages
+
+- AutPGrp
+- Alnuth
+- CRISP
+- !CTblLib
+- FactInt
+- FGA
+- IRREDSOL
+- LAGUNA
+- Polenta
+- Polycyclic
+- ResClasses
+- Sophus
+
+'''GAP packages now shipped with "gap_packages"
+(optional SageMath package)'''
+
+Twenty-five "pure GAP" packages
+(not requiring compilation)
+
+- AClib
+- AutoDoc
+- CoReLG
+- CRIME
+- Cryst
+- CrystCat
+- DESIGN
+- GBNP
+- HAP
+- HAPcryst
+- hecke
+- LieAlgDB
+- LiePRing
+- LieRing
+- loops
+- MapClass
+- polymaking
+- QPA
+- QuaGroup
+- RadiRoot
+- Repsn
+- SLA
+- SONATA
+- Toric
+- utils
+
+Four compiled GAP packages
+
+- cohomolo
+- GRAPE
+- GUAVA
+- nq
+
+**No longer distributed**
+
+- HAPprime: unmaintained, partly merged in HAP, 
+  see [list of "No longer redistributed with GAP or renamed" GAP packages](https://www.gap-system.org/Packages/packages.html#deppkg),
+  source code [archived at GitHub](https://github.com/gap-packages/happrime)
+
``````




---

archive/issue_events_236877.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2021-07-07T12:00:50Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "rename": {
        "from": "update gap_packages and database_gap to GAP 4.10",
        "to": "Upgrade to gap_packages 4.10 and remove database_gap"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26856#event-236877"
}
```



---

archive/issue_comments_416243.json:
```json
{
    "body": "**Changing work issues** from \"work out where/how to build GAP packages\" to \"\".",
    "created_at": "2021-07-07T12:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416243",
    "user": "https://github.com/slel"
}
```

**Changing work issues** from "work out where/how to build GAP packages" to "".



---

archive/issue_comments_416244.json:
```json
{
    "body": "**Changing commit** from \"[8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)\" to \"\".",
    "created_at": "2021-07-07T12:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26856",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26856#issuecomment-416244",
    "user": "https://github.com/slel"
}
```

**Changing commit** from "[8bf1044efda750d8a767d88aa6a2afda69edadbe](https://github.com/sagemath/sagetrac-mirror/commit/8bf1044efda750d8a767d88aa6a2afda69edadbe)" to "".
