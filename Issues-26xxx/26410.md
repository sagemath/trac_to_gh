# Issue 26410: Make threejs / three.js viewer respect thickness in parametric_plot3d

archive/issues_026173.json:
```json
{
    "assignees": [],
    "body": "<div id=\"comment:0\"></div>\n\nOn Windows and macOS, WebGL line thickness support is absent\nor limited, so that the three.js / threejs viewer appears not to respect\nthe thickness optional parameter in parametric_plot3d, while other\nviewers such as Jmol and Tachyon do.\n\nFor example, in Sage 8.3 or 8.7 on macOS 10.10.5, the thickness\nis not taken into account in the following -- whether launching it\nfrom the Sage REPL, the Jupyter notebook, or even SageCell online:\n\n```\nsage: pi = RDF.pi()\nsage: tau = 2*pi\nsage: a = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau)\nsage: b = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau + 1)\nsage: aa = parametric_plot(a, (-tau, tau), color='blue', thickness=1)\nsage: bb = parametric_plot(b, (-3*pi, pi), color='red', thickness=10)\nsage: p = aa + bb\nsage: p.show(viewer='threejs')\nLaunched html viewer for Graphics3d Object\nsage: p.show(viewer='jmol')\nLaunched jmol viewer for Graphics3d Object\nsage: p.show(viewer='tachyon')\nLaunched png viewer for Graphics3d Object\n```\n\nSuggested workarounds:\n- use `radius` instead of `thickness`.\n- use THREE.Meshline\n\nCC:  @embray @jcamp0x2a @paulmasson @slel @egourgoulhon @novoselt\n\nComponent: **graphics**\n\nKeywords: **threejs, three.js, parametric_plot3d, thickness, graphic options**\n\nAuthor: **Joshua Campbell**\n\nBranch/Commit: **[`c90639a`](https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed)**\n\nReviewer: **Eric Gourgoulhon**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26410_\n\n",
    "closed_at": "2021-02-20T10:46:35Z",
    "created_at": "2018-10-05T10:21:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make threejs / three.js viewer respect thickness in parametric_plot3d",
    "type": "issue",
    "updated_at": "2021-02-20T10:46:35Z",
    "url": "https://github.com/sagemath/sage/issues/26410",
    "user": "https://github.com/slel"
}
```
<div id="comment:0"></div>

On Windows and macOS, WebGL line thickness support is absent
or limited, so that the three.js / threejs viewer appears not to respect
the thickness optional parameter in parametric_plot3d, while other
viewers such as Jmol and Tachyon do.

For example, in Sage 8.3 or 8.7 on macOS 10.10.5, the thickness
is not taken into account in the following -- whether launching it
from the Sage REPL, the Jupyter notebook, or even SageCell online:

```
sage: pi = RDF.pi()
sage: tau = 2*pi
sage: a = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau)
sage: b = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau + 1)
sage: aa = parametric_plot(a, (-tau, tau), color='blue', thickness=1)
sage: bb = parametric_plot(b, (-3*pi, pi), color='red', thickness=10)
sage: p = aa + bb
sage: p.show(viewer='threejs')
Launched html viewer for Graphics3d Object
sage: p.show(viewer='jmol')
Launched jmol viewer for Graphics3d Object
sage: p.show(viewer='tachyon')
Launched png viewer for Graphics3d Object
```

Suggested workarounds:
- use `radius` instead of `thickness`.
- use THREE.Meshline

CC:  @embray @jcamp0x2a @paulmasson @slel @egourgoulhon @novoselt

Component: **graphics**

Keywords: **threejs, three.js, parametric_plot3d, thickness, graphic options**

Author: **Joshua Campbell**

Branch/Commit: **[`c90639a`](https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed)**

Reviewer: **Eric Gourgoulhon**

_Issue created by migration from https://trac.sagemath.org/ticket/26410_





---

archive/issue_events_360797.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-05T10:21:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360797"
}
```



---

archive/issue_events_360798.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-05T10:21:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360798"
}
```



---

archive/issue_events_360799.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-05T10:21:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360799"
}
```



---

archive/issue_events_360800.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2018-10-05T10:21:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360800"
}
```



---

archive/issue_comments_407008.json:
```json
{
    "body": "Changed keywords from none to **threejs, three.js, parametric_plot3d, thickness, graphic options**",
    "created_at": "2018-10-05T10:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407008",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **threejs, three.js, parametric_plot3d, thickness, graphic options**



---

archive/issue_comments_407009.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-In Sage 8.3, the Jmol viewer respects the thickness optional parameter in  parametric_plot3d,\n-but the threejs / three.js viewer does not.\n+In Sage 8.3, the three.js / threejs viewer does not respects the thickness optional\n+parameter in parametric_plot3d, while other viewers such as Jmol and Tachyon do.\n \n ```\n sage: pi = RDF.pi()\n@@ -9,8 +9,10 @@\n sage: aa = parametric_plot(a, (-tau, tau), color='blue', thickness=1)\n sage: bb = parametric_plot(b, (-3*pi, pi), color='red', thickness=10)\n sage: p = aa + bb\n+sage: p.show(viewer='threejs')\n+Launched html viewer for Graphics3d Object\n sage: p.show(viewer='jmol')\n Launched jmol viewer for Graphics3d Object\n-sage: p.show(viewer='threejs')\n-Launched html viewer for Graphics3d Object\n+sage: p.show(viewer='tachyon')\n+Launched png viewer for Graphics3d Object\n ```\n``````\n",
    "created_at": "2018-10-05T10:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407009",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-In Sage 8.3, the Jmol viewer respects the thickness optional parameter in  parametric_plot3d,
-but the threejs / three.js viewer does not.
+In Sage 8.3, the three.js / threejs viewer does not respects the thickness optional
+parameter in parametric_plot3d, while other viewers such as Jmol and Tachyon do.
 
 ```
 sage: pi = RDF.pi()
@@ -9,8 +9,10 @@
 sage: aa = parametric_plot(a, (-tau, tau), color='blue', thickness=1)
 sage: bb = parametric_plot(b, (-3*pi, pi), color='red', thickness=10)
 sage: p = aa + bb
+sage: p.show(viewer='threejs')
+Launched html viewer for Graphics3d Object
 sage: p.show(viewer='jmol')
 Launched jmol viewer for Graphics3d Object
-sage: p.show(viewer='threejs')
-Launched html viewer for Graphics3d Object
+sage: p.show(viewer='tachyon')
+Launched png viewer for Graphics3d Object
 ```
``````




---

archive/issue_comments_407010.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nSamuel, I don't see what the problem is: the red line looks thicker to me than the blue in the Three.js viewer. What are your expecting?",
    "created_at": "2019-03-31T21:51:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407010",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:2" align="right">comment:2</div>

Samuel, I don't see what the problem is: the red line looks thicker to me than the blue in the Three.js viewer. What are your expecting?



---

archive/issue_comments_407011.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nPaul, thanks a lot for having a look. For me the red line looks thicker in jmol and tachyon, but not in threejs.\nNot only on my computer, but also [on sagecell](https://sagecell.sagemath.org/?z=eJydjzEOwjAMRfecwluTNhQoG1I3xAG4AHLaSDWkTZSk9Pq4UwViYrO__vvfDgQt3C7XOpBUIuPMa1MGEsiDdDiaHiGfofNJZqVhUxJNX0pT5j0nKGH-ZqGCoxK4lgeMONocqbsH57NEDXLHFg1rh-ZU52NbGDfbgrWBuudkU2qZN-YHb1b-xK9pCLTx0faf-EGJwDjfUIExItRp8It8kV0s2_MQrX2kQr0B2b5ggQ==&lang=sage&interacts=eJyLjgUAARUAuQ==).",
    "created_at": "2019-04-01T08:27:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407011",
    "user": "https://github.com/slel"
}
```

<div id="comment:3" align="right">comment:3</div>

Paul, thanks a lot for having a look. For me the red line looks thicker in jmol and tachyon, but not in threejs.
Not only on my computer, but also [on sagecell](https://sagecell.sagemath.org/?z=eJydjzEOwjAMRfecwluTNhQoG1I3xAG4AHLaSDWkTZSk9Pq4UwViYrO__vvfDgQt3C7XOpBUIuPMa1MGEsiDdDiaHiGfofNJZqVhUxJNX0pT5j0nKGH-ZqGCoxK4lgeMONocqbsH57NEDXLHFg1rh-ZU52NbGDfbgrWBuudkU2qZN-YHb1b-xK9pCLTx0faf-EGJwDjfUIExItRp8It8kV0s2_MQrX2kQr0B2b5ggQ==&lang=sage&interacts=eJyLjgUAARUAuQ==).



---

archive/issue_comments_407012.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThat's probably because you're using a Windows machine. WebGL line thickness isn't supported at all in Windows, and support for it in macOS has limitations. It looks like line thickness will be removed from future versions of WebGL entirely.\n\nThe way to visualize thick lines is to use the `radius` parameter listed in the [documentation](http://doc.sagemath.org/html/en/reference/plot3d/threejs.html), which creates a cylinder along the path:\n\n```\npi = RDF.pi()\ntau = 2*pi\na = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau)\nb = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau + 1)\naa = parametric_plot(a, (-tau, tau), color='blue', thickness=1)\nbb = parametric_plot(b, (-3*pi, pi), color='red', radius=.1)\np = aa + bb\np.show(viewer='threejs')\n```\n\nThree.js has its own workaround for thick lines, but it's only in the examples, not the main library. I wouldn't implement it here until it's an official part of the main library.",
    "created_at": "2019-04-01T19:46:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407012",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:4" align="right">comment:4</div>

That's probably because you're using a Windows machine. WebGL line thickness isn't supported at all in Windows, and support for it in macOS has limitations. It looks like line thickness will be removed from future versions of WebGL entirely.

The way to visualize thick lines is to use the `radius` parameter listed in the [documentation](http://doc.sagemath.org/html/en/reference/plot3d/threejs.html), which creates a cylinder along the path:

```
pi = RDF.pi()
tau = 2*pi
a = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau)
b = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau + 1)
aa = parametric_plot(a, (-tau, tau), color='blue', thickness=1)
bb = parametric_plot(b, (-3*pi, pi), color='red', radius=.1)
p = aa + bb
p.show(viewer='threejs')
```

Three.js has its own workaround for thick lines, but it's only in the examples, not the main library. I wouldn't implement it here until it's an official part of the main library.



---

archive/issue_comments_407013.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks for explaining and for the workaround.\n\nThis was under macOS 10.10.5, using either Firefox 66.0.2 (64-bit),\nOpera 58.0.3135.118, Safari 10.1.2 (10603.3.8), so surely illustrating\nthe limitations you refer to.\n\nUsing `radius` as you suggest does the trick. A small enough radius works well.\nIf the curve is long and the radius gets somewhat large it is worth increasing the\nnumber of plot points so that the (piecewise linear) cylinder still looks more\ncurved than piecewise linear.\n\nThe following works well:\n\n```\npi = RDF.pi()\ntau = 2*pi\na = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau)\nb = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau + 1)\naa = parametric_plot(a, (-tau, tau), color='blue', radius=.02, plot_points=400)\nbb = parametric_plot(b, (-3*pi, pi), color='red', radius=.04, plot_points=400)\np = aa + bb\np.show(viewer='threejs')\n```\n\nI also notice that the cylinders have a polygonal base, with a number of\nsides depending on the radius; it seems to start 5-sided for small radius,\nand then the number of sides grows with the radius. Is there a way to\ncontrol that number of sides?\n\nThe following example shows the number of sides starting at 5 then\nincreasing to 6, 7, 8, 8, 9, 10, 11 (makes one want to guess the fomula\nfor `number_of_sides` as a function of `radius`):\n\n```\npp = parametric_plot\ncyl = lambda x, y: (lambda t: x, lambda t: y, lambda t: t)\npcyl = lambda x, y, r, h: pp(cyl(x, y), (0, 1), radius=r, rgbcolor=hue(h))\nparam = (.03, .04, .05, .06, .07, .08, .09, .10, .11, .12, .13, .14, .15, .16)\nnp = RDF(len(param))\ncylparam = lambda i, r: (0, 2.05*sum(param[:i])+r, r, (i+1)/(np+1))\np = sum((pcyl(*cylparam(i, r)) for i, r in enumerate(param)), Graphics())\np.show(frame=False, viewer='threejs')\n```",
    "created_at": "2019-04-02T16:27:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407013",
    "user": "https://github.com/slel"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks for explaining and for the workaround.

This was under macOS 10.10.5, using either Firefox 66.0.2 (64-bit),
Opera 58.0.3135.118, Safari 10.1.2 (10603.3.8), so surely illustrating
the limitations you refer to.

Using `radius` as you suggest does the trick. A small enough radius works well.
If the curve is long and the radius gets somewhat large it is worth increasing the
number of plot points so that the (piecewise linear) cylinder still looks more
curved than piecewise linear.

The following works well:

```
pi = RDF.pi()
tau = 2*pi
a = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau)
b = (lambda t: cos(t), lambda t: sin(t), lambda t: 2*t/tau + 1)
aa = parametric_plot(a, (-tau, tau), color='blue', radius=.02, plot_points=400)
bb = parametric_plot(b, (-3*pi, pi), color='red', radius=.04, plot_points=400)
p = aa + bb
p.show(viewer='threejs')
```

I also notice that the cylinders have a polygonal base, with a number of
sides depending on the radius; it seems to start 5-sided for small radius,
and then the number of sides grows with the radius. Is there a way to
control that number of sides?

The following example shows the number of sides starting at 5 then
increasing to 6, 7, 8, 8, 9, 10, 11 (makes one want to guess the fomula
for `number_of_sides` as a function of `radius`):

```
pp = parametric_plot
cyl = lambda x, y: (lambda t: x, lambda t: y, lambda t: t)
pcyl = lambda x, y, r, h: pp(cyl(x, y), (0, 1), radius=r, rgbcolor=hue(h))
param = (.03, .04, .05, .06, .07, .08, .09, .10, .11, .12, .13, .14, .15, .16)
np = RDF(len(param))
cylparam = lambda i, r: (0, 2.05*sum(param[:i])+r, r, (i+1)/(np+1))
p = sum((pcyl(*cylparam(i, r)) for i, r in enumerate(param)), Graphics())
p.show(frame=False, viewer='threejs')
```



---

archive/issue_comments_407014.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI have encountered this problem myself, about a year ago, with my own threejs experiments outside of Sage.  It's really too bad this is still a problem.  IIRC the best workaround I found was to use the `THREE.MeshLine` plugin: https://github.com/spite/THREE.MeshLine\n\nIn particular, check out this cool demo: https://www.clicktorelease.com/code/THREE.MeshLine/demo/index.html\n\nPerhaps we could work that into Sage for use in parametric plots?",
    "created_at": "2019-04-03T10:23:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407014",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>

I have encountered this problem myself, about a year ago, with my own threejs experiments outside of Sage.  It's really too bad this is still a problem.  IIRC the best workaround I found was to use the `THREE.MeshLine` plugin: https://github.com/spite/THREE.MeshLine

In particular, check out this cool demo: https://www.clicktorelease.com/code/THREE.MeshLine/demo/index.html

Perhaps we could work that into Sage for use in parametric plots?



---

archive/issue_events_360801.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-04-14T22:26:24Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360801"
}
```



---

archive/issue_events_360802.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-04-14T22:26:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360802"
}
```



---

archive/issue_comments_407015.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,11 @@\n-In Sage 8.3, the three.js / threejs viewer does not respects the thickness optional\n-parameter in parametric_plot3d, while other viewers such as Jmol and Tachyon do.\n+On Windows and macOS, WebGL line thickness support is absent\n+or limited, so that the three.js / threejs viewer appears not to respect\n+the thickness optional parameter in parametric_plot3d, while other\n+viewers such as Jmol and Tachyon do.\n+\n+For example, in Sage 8.3 or 8.7 on macOS 10.10.5, the thickness\n+is not taken into account in the following -- whether launching it\n+from the Sage REPL, the Jupyter notebook, or even SageCell online:\n \n ```\n sage: pi = RDF.pi()\n@@ -16,3 +22,7 @@\n sage: p.show(viewer='tachyon')\n Launched png viewer for Graphics3d Object\n ```\n+\n+Suggested workarounds:\n+- use `radius` instead of `thickness`.\n+- use THREE.Meshline\n``````\n",
    "created_at": "2019-04-14T22:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407015",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,11 @@
-In Sage 8.3, the three.js / threejs viewer does not respects the thickness optional
-parameter in parametric_plot3d, while other viewers such as Jmol and Tachyon do.
+On Windows and macOS, WebGL line thickness support is absent
+or limited, so that the three.js / threejs viewer appears not to respect
+the thickness optional parameter in parametric_plot3d, while other
+viewers such as Jmol and Tachyon do.
+
+For example, in Sage 8.3 or 8.7 on macOS 10.10.5, the thickness
+is not taken into account in the following -- whether launching it
+from the Sage REPL, the Jupyter notebook, or even SageCell online:
 
 ```
 sage: pi = RDF.pi()
@@ -16,3 +22,7 @@
 sage: p.show(viewer='tachyon')
 Launched png viewer for Graphics3d Object
 ```
+
+Suggested workarounds:
+- use `radius` instead of `thickness`.
+- use THREE.Meshline
``````




---

archive/issue_comments_407016.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThanks! Very cool demo indeed -- it would be very nice to work that into Sage.",
    "created_at": "2019-04-14T22:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407016",
    "user": "https://github.com/slel"
}
```

<div id="comment:8" align="right">comment:8</div>

Thanks! Very cool demo indeed -- it would be very nice to work that into Sage.



---

archive/issue_comments_407017.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@slel](#comment%3A8):\n> Thanks! Very cool demo indeed -- it would be very nice to work that into Sage.\n\nI was able to get [MeshLine](https://github.com/spite/THREE.MeshLine) integrated into the Three.js viewer quite easily. It's nice being able to get thick lines on my Windows box that aren't cylinders :) I've also got a branch that uses MeshLine instead of sprites to add arrow heads. (Although I don't think I ever put my sprite arrow heads up for review. They make `plot_vector_field3d` look a lot nicer.)\n\nThe packaging is the only part I'm unsure of. Right now I'm just having Sage copy the MeshLine code directly into the generated pages similar to what I do for my animation files. I imagine we'd probably want to treat it similarly to `threejs.min.js` and `OrbitControls.js`? That is: include `THREE.MeshLine.js` in the `threejs` SPKG for offline use and use the jsDelivr CDN link for online use?",
    "created_at": "2020-09-19T19:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407017",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@slel](#comment%3A8):
> Thanks! Very cool demo indeed -- it would be very nice to work that into Sage.

I was able to get [MeshLine](https://github.com/spite/THREE.MeshLine) integrated into the Three.js viewer quite easily. It's nice being able to get thick lines on my Windows box that aren't cylinders :) I've also got a branch that uses MeshLine instead of sprites to add arrow heads. (Although I don't think I ever put my sprite arrow heads up for review. They make `plot_vector_field3d` look a lot nicer.)

The packaging is the only part I'm unsure of. Right now I'm just having Sage copy the MeshLine code directly into the generated pages similar to what I do for my animation files. I imagine we'd probably want to treat it similarly to `threejs.min.js` and `OrbitControls.js`? That is: include `THREE.MeshLine.js` in the `threejs` SPKG for offline use and use the jsDelivr CDN link for online use?



---

archive/issue_comments_407018.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nWith respect to packaging, we can\u2019t just add it to what we\u2019re doing with Three.js because it has a different owner with a separate license. And remember that Three.js has its own [implementation](https://threejs.org/examples/?q=fat#webgl_lines_fat) that looks better. We could package some of the files from the examples directory just like `OrbitControls.js`, but keep in mind that all of the simple non-module JavaScript files are disappearing at the end of the year...",
    "created_at": "2020-09-19T20:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407018",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:11" align="right">comment:11</div>

With respect to packaging, we can’t just add it to what we’re doing with Three.js because it has a different owner with a separate license. And remember that Three.js has its own [implementation](https://threejs.org/examples/?q=fat#webgl_lines_fat) that looks better. We could package some of the files from the examples directory just like `OrbitControls.js`, but keep in mind that all of the simple non-module JavaScript files are disappearing at the end of the year...



---

archive/issue_comments_407019.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@paulmasson](#comment%3A11):\n> With respect to packaging, we can\u2019t just add it to what we\u2019re doing with Three.js because it has a different owner with a separate license.\n\nHmm, good point.\n\n> And remember that Three.js has its own [implementation](https://threejs.org/examples/?q=fat#webgl_lines_fat) that looks better.\n\nNice! I was not aware of that example (missed your [previous comment](#comment%3A4) in this ticket), and I do agree it looks better. Also looks like we could use the wireframe example below it to spruce up the surface grid lines, too. One downside is that it doesn't seem to support varying width over the line like MeshLine does. I was using that to create arrow heads. Doesn't look like it would be difficult to add, though. (Don't quote me on that!)\n\n> We could package some of the files from the examples directory just like `OrbitControls.js`,\n\nI will proceed along the same lines then.\n\n> but keep in mind that all of the simple non-module JavaScript files are disappearing at the end of the year...\n\nOut of curiosity, do we know how we're going to handle this? As I understand, modules can't be loaded from the filesystem. So...\n\n- just drop support for running it purely locally, i.e. `online=False` and outside Jupyter?\n- spin up a simple server the first time a Three.js plot is shown per session for the sole purpose of serving the Three.js files? Would probably want to print a warning: \"Hey! This plot won't work once you exit Sage!\"\n- maintain our own non-module fork of the example files? I don't really have any interest in trying to keep such a fork up-to-date, even for only one file; heaven forbid the core Three.js ever goes module-only.\n- something else?",
    "created_at": "2020-09-19T23:39:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407019",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@paulmasson](#comment%3A11):
> With respect to packaging, we can’t just add it to what we’re doing with Three.js because it has a different owner with a separate license.

Hmm, good point.

> And remember that Three.js has its own [implementation](https://threejs.org/examples/?q=fat#webgl_lines_fat) that looks better.

Nice! I was not aware of that example (missed your [previous comment](#comment%3A4) in this ticket), and I do agree it looks better. Also looks like we could use the wireframe example below it to spruce up the surface grid lines, too. One downside is that it doesn't seem to support varying width over the line like MeshLine does. I was using that to create arrow heads. Doesn't look like it would be difficult to add, though. (Don't quote me on that!)

> We could package some of the files from the examples directory just like `OrbitControls.js`,

I will proceed along the same lines then.

> but keep in mind that all of the simple non-module JavaScript files are disappearing at the end of the year...

Out of curiosity, do we know how we're going to handle this? As I understand, modules can't be loaded from the filesystem. So...

- just drop support for running it purely locally, i.e. `online=False` and outside Jupyter?
- spin up a simple server the first time a Three.js plot is shown per session for the sole purpose of serving the Three.js files? Would probably want to print a warning: "Hey! This plot won't work once you exit Sage!"
- maintain our own non-module fork of the example files? I don't really have any interest in trying to keep such a fork up-to-date, even for only one file; heaven forbid the core Three.js ever goes module-only.
- something else?



---

archive/issue_comments_407020.json:
```json
{
    "body": "Branch: **[u/gh-jcamp0x2a/26410-threejs-fat-lines](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/26410-threejs-fat-lines)**",
    "created_at": "2020-09-20T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407020",
    "user": "https://github.com/jcamp0x2a"
}
```

Branch: **[u/gh-jcamp0x2a/26410-threejs-fat-lines](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/26410-threejs-fat-lines)**



---

archive/issue_comments_407021.json:
```json
{
    "body": "Dependencies: **30462**",
    "created_at": "2020-09-20T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407021",
    "user": "https://github.com/jcamp0x2a"
}
```

Dependencies: **30462**



---

archive/issue_events_360803.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-09-20T18:10:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360803"
}
```



---

archive/issue_comments_407022.json:
```json
{
    "body": "Commit: **[`b3a444e`](https://github.com/sagemath/sagetrac-mirror/commit/b3a444e0014187065db8712c8d7e67fc357338ed)**",
    "created_at": "2020-09-20T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407022",
    "user": "https://github.com/jcamp0x2a"
}
```

Commit: **[`b3a444e`](https://github.com/sagemath/sagetrac-mirror/commit/b3a444e0014187065db8712c8d7e67fc357338ed)**



---

archive/issue_comments_407023.json:
```json
{
    "body": "Author: **Joshua Campbell**",
    "created_at": "2020-09-20T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407023",
    "user": "https://github.com/jcamp0x2a"
}
```

Author: **Joshua Campbell**



---

archive/issue_events_360804.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-09-20T18:10:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360804"
}
```



---

archive/issue_events_360805.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-09-20T18:10:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360805"
}
```



---

archive/issue_comments_407024.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI've pushed a branch that is based on the [webgl_lines_fat](https://threejs.org/examples/?q=fat#webgl_lines_fat) example that applies to both regular lines and surface grid lines. I opted not to follow the [webgl_lines_fat_wireframe](https://threejs.org/examples/?q=fat#webgl_lines_fat_wireframe) example for the surface grid since it would outline the generated triangles and not the original polygons coming from Sage.\n\nRequires the following files from Three.js's `examples/js/lines` directory:\n\n- `LineMaterial.js`\n- `LineSegmentsGeometry.js`\n- `LineGeometry.js`\n- `LineSegments2.js`\n- `Line2.js`\n\nThey have all been added to the threejs SPKG. Since I had to modify the SPKG anyway, I went ahead and bumped Three.js up to the current version, r120. The new tarball is attached. If it'd be preferred to do the upgrade/repackaging in a separate ticket first, I can do that as well.\n\nWhether these files and the new `fat_lines.js` script that uses them are included on the page depends on whether any lines or surface meshes with thickness > 1 are present in the scene so as not to slow down loading of plots that don't require this functionality.\n\nI'm anticipating a merge conflict with #30462, but it should be trivial.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b3a444e0014187065db8712c8d7e67fc357338ed\"><code>b3a444e</code></a></td><td><code>Three.js: update to r120 and support line thickness > 1 on all platforms</code></td></tr></table>\n",
    "created_at": "2020-09-20T18:10:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407024",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:13" align="right">comment:13</div>

I've pushed a branch that is based on the [webgl_lines_fat](https://threejs.org/examples/?q=fat#webgl_lines_fat) example that applies to both regular lines and surface grid lines. I opted not to follow the [webgl_lines_fat_wireframe](https://threejs.org/examples/?q=fat#webgl_lines_fat_wireframe) example for the surface grid since it would outline the generated triangles and not the original polygons coming from Sage.

Requires the following files from Three.js's `examples/js/lines` directory:

- `LineMaterial.js`
- `LineSegmentsGeometry.js`
- `LineGeometry.js`
- `LineSegments2.js`
- `Line2.js`

They have all been added to the threejs SPKG. Since I had to modify the SPKG anyway, I went ahead and bumped Three.js up to the current version, r120. The new tarball is attached. If it'd be preferred to do the upgrade/repackaging in a separate ticket first, I can do that as well.

Whether these files and the new `fat_lines.js` script that uses them are included on the page depends on whether any lines or surface meshes with thickness > 1 are present in the scene so as not to slow down loading of plots that don't require this functionality.

I'm anticipating a merge conflict with #30462, but it should be trivial.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b3a444e0014187065db8712c8d7e67fc357338ed"><code>b3a444e</code></a></td><td><code>Three.js: update to r120 and support line thickness > 1 on all platforms</code></td></tr></table>




---

archive/issue_comments_407025.json:
```json
{
    "body": "Attachment: **[threejs-r120.tar.gz](https://github.com/sagemath/sage/files/ticket26410/threejs-r120.tar.gz)**",
    "created_at": "2020-09-20T18:11:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407025",
    "user": "https://github.com/jcamp0x2a"
}
```

Attachment: **[threejs-r120.tar.gz](https://github.com/sagemath/sage/files/ticket26410/threejs-r120.tar.gz)**



---

archive/issue_events_360806.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2020-09-20T19:12:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360806"
}
```



---

archive/issue_events_360807.json:
```json
{
    "actor": "https://github.com/paulmasson",
    "created_at": "2020-09-20T19:12:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360807"
}
```



---

archive/issue_comments_407026.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nJoshua, the version upgrade needs to be a separate ticket so the release manager knows to copy the attachment to the mirrors.\n\nI haven\u2019t looked at the Three.js example in detail. Are all of the files you copied actually used here?",
    "created_at": "2020-09-20T19:12:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407026",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:14" align="right">comment:14</div>

Joshua, the version upgrade needs to be a separate ticket so the release manager knows to copy the attachment to the mirrors.

I haven’t looked at the Three.js example in detail. Are all of the files you copied actually used here?



---

archive/issue_comments_407027.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@paulmasson](#comment%3A14):\n> Joshua, the version upgrade needs to be a separate ticket so the release manager knows to copy the attachment to the mirrors.\n\nUnderstood. Is there somewhere I would need to post the ticket number, like in sage-devel, in order for it to be picked up? Or would duplicating the structure of your r117 ticket, #29809, be enough? Please forgive me if I'm overstepping here and you'd prefer to manage the Three.js upgrades. I know the viewer is your creation, and I'm very grateful for it :)\n\n> I haven\u2019t looked at the Three.js example in detail. Are all of the files you copied actually used here?\n\nYes, they're all used in `fat_lines.js`, but I could potentially get rid of [Line2](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/Line2.js) and [LineGeometry](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/LineGeometry.js) if we want to absolutely minimize the number of scripts fetched / included on the page. They are pretty minimal wrappers around [LineSegments2](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/LineSegments2.js) and [LineSegmentsGeometry](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/LineSegmentsGeometry.js), respectively. Could easily turn the line strip into line segments ourselves.",
    "created_at": "2020-09-20T20:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407027",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@paulmasson](#comment%3A14):
> Joshua, the version upgrade needs to be a separate ticket so the release manager knows to copy the attachment to the mirrors.

Understood. Is there somewhere I would need to post the ticket number, like in sage-devel, in order for it to be picked up? Or would duplicating the structure of your r117 ticket, #29809, be enough? Please forgive me if I'm overstepping here and you'd prefer to manage the Three.js upgrades. I know the viewer is your creation, and I'm very grateful for it :)

> I haven’t looked at the Three.js example in detail. Are all of the files you copied actually used here?

Yes, they're all used in `fat_lines.js`, but I could potentially get rid of [Line2](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/Line2.js) and [LineGeometry](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/LineGeometry.js) if we want to absolutely minimize the number of scripts fetched / included on the page. They are pretty minimal wrappers around [LineSegments2](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/LineSegments2.js) and [LineSegmentsGeometry](https://github.com/mrdoob/three.js/blob/master/examples/js/lines/LineSegmentsGeometry.js), respectively. Could easily turn the line strip into line segments ourselves.



---

archive/issue_comments_407028.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI don't mind if you perform the upgrade. Just copy the last one, making sure \"upgrade\" is clearly stated. And make sure there are no errors in the template from features that might have changed. Test against a variety of graphics.\n\nI've opened #30620 to discuss the possibilities for handling modular files. Considering that the change is coming in a couple months, you might want to minimize the number of files copied now. Or you may want to put this ticket on hold until we address the bigger issue. The change is a real pain...",
    "created_at": "2020-09-20T21:28:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407028",
    "user": "https://github.com/paulmasson"
}
```

<div id="comment:16" align="right">comment:16</div>

I don't mind if you perform the upgrade. Just copy the last one, making sure "upgrade" is clearly stated. And make sure there are no errors in the template from features that might have changed. Test against a variety of graphics.

I've opened #30620 to discuss the possibilities for handling modular files. Considering that the change is coming in a couple months, you might want to minimize the number of files copied now. Or you may want to put this ticket on hold until we address the bigger issue. The change is a real pain...



---

archive/issue_comments_407029.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@paulmasson](#comment%3A16):\n> I've opened #30620 to discuss the possibilities for handling modular files. Considering that the change is coming in a couple months, you might want to minimize the number of files copied now. Or you may want to put this ticket on hold until we address the bigger issue. The change is a real pain...\n\nGoing to put it on hold then until that's resolved.",
    "created_at": "2020-09-21T02:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407029",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@paulmasson](#comment%3A16):
> I've opened #30620 to discuss the possibilities for handling modular files. Considering that the change is coming in a couple months, you might want to minimize the number of files copied now. Or you may want to put this ticket on hold until we address the bigger issue. The change is a real pain...

Going to put it on hold then until that's resolved.



---

archive/issue_events_360808.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-09-21T02:17:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360808"
}
```



---

archive/issue_events_360809.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-09-21T02:17:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360809"
}
```



---

archive/issue_comments_407030.json:
```json
{
    "body": "Changed commit from **[`b3a444e`](https://github.com/sagemath/sagetrac-mirror/commit/b3a444e0014187065db8712c8d7e67fc357338ed)** to **[`e190d71`](https://github.com/sagemath/sagetrac-mirror/commit/e190d719856f2cdf7d8c919c4b4e2e8543892ee9)**",
    "created_at": "2020-11-06T05:10:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`b3a444e`](https://github.com/sagemath/sagetrac-mirror/commit/b3a444e0014187065db8712c8d7e67fc357338ed)** to **[`e190d71`](https://github.com/sagemath/sagetrac-mirror/commit/e190d719856f2cdf7d8c919c4b4e2e8543892ee9)**



---

archive/issue_comments_407031.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e190d719856f2cdf7d8c919c4b4e2e8543892ee9\"><code>e190d71</code></a></td><td><code>Three.js: update to r122 and support line thickness > 1 on all platforms</code></td></tr></table>\n",
    "created_at": "2020-11-06T05:10:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407031",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e190d719856f2cdf7d8c919c4b4e2e8543892ee9"><code>e190d71</code></a></td><td><code>Three.js: update to r122 and support line thickness > 1 on all platforms</code></td></tr></table>




---

archive/issue_comments_407032.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a49eba0a074e9467c99313f5d85c31a3f48306c1\"><code>a49eba0</code></a></td><td><code>Fix a test involving path to CDN script</code></td></tr></table>\n",
    "created_at": "2020-11-06T05:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407032",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a49eba0a074e9467c99313f5d85c31a3f48306c1"><code>a49eba0</code></a></td><td><code>Fix a test involving path to CDN script</code></td></tr></table>




---

archive/issue_comments_407033.json:
```json
{
    "body": "Changed commit from **[`e190d71`](https://github.com/sagemath/sagetrac-mirror/commit/e190d719856f2cdf7d8c919c4b4e2e8543892ee9)** to **[`a49eba0`](https://github.com/sagemath/sagetrac-mirror/commit/a49eba0a074e9467c99313f5d85c31a3f48306c1)**",
    "created_at": "2020-11-06T05:20:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407033",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e190d71`](https://github.com/sagemath/sagetrac-mirror/commit/e190d719856f2cdf7d8c919c4b4e2e8543892ee9)** to **[`a49eba0`](https://github.com/sagemath/sagetrac-mirror/commit/a49eba0a074e9467c99313f5d85c31a3f48306c1)**



---

archive/issue_comments_407034.json:
```json
{
    "body": "Changed dependencies from **30462** to **#30462**",
    "created_at": "2020-12-03T16:55:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407034",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **30462** to **#30462**



---

archive/issue_comments_407035.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7575ea9c0f882671ac505da524694aa8606c8e13\"><code>7575ea9</code></a></td><td><code>Three.js: support line thickness > 1 on all platforms using \"fat\" lines</code></td></tr></table>\n",
    "created_at": "2020-12-06T23:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407035",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7575ea9c0f882671ac505da524694aa8606c8e13"><code>7575ea9</code></a></td><td><code>Three.js: support line thickness > 1 on all platforms using "fat" lines</code></td></tr></table>




---

archive/issue_comments_407036.json:
```json
{
    "body": "Changed commit from **[`a49eba0`](https://github.com/sagemath/sagetrac-mirror/commit/a49eba0a074e9467c99313f5d85c31a3f48306c1)** to **[`7575ea9`](https://github.com/sagemath/sagetrac-mirror/commit/7575ea9c0f882671ac505da524694aa8606c8e13)**",
    "created_at": "2020-12-06T23:04:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407036",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a49eba0`](https://github.com/sagemath/sagetrac-mirror/commit/a49eba0a074e9467c99313f5d85c31a3f48306c1)** to **[`7575ea9`](https://github.com/sagemath/sagetrac-mirror/commit/7575ea9c0f882671ac505da524694aa8606c8e13)**



---

archive/issue_comments_407037.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nNow that the Three.js r122 update has been merged in #30915, I've pushed an updated version of this branch.",
    "created_at": "2020-12-06T23:06:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407037",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:22" align="right">comment:22</div>

Now that the Three.js r122 update has been merged in #30915, I've pushed an updated version of this branch.



---

archive/issue_events_360810.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-12-06T23:06:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360810"
}
```



---

archive/issue_events_360811.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-12-06T23:06:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360811"
}
```



---

archive/issue_events_360812.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-12-06T23:08:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "milestone_number": null,
    "milestone_title": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360812"
}
```



---

archive/issue_events_360813.json:
```json
{
    "actor": "https://github.com/jcamp0x2a",
    "created_at": "2020-12-06T23:08:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360813"
}
```



---

archive/issue_comments_407038.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nReplying to [@jcamp0x2a](#comment%3A22):\n> Now that the Three.js r122 update has been merged in #30915, I've pushed an updated version of this branch.\n\nThere is a merge conflict with Sage 9.3.beta5. Could you please fix this?",
    "created_at": "2020-12-29T16:14:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407038",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:25" align="right">comment:25</div>

Replying to [@jcamp0x2a](#comment%3A22):
> Now that the Three.js r122 update has been merged in #30915, I've pushed an updated version of this branch.

There is a merge conflict with Sage 9.3.beta5. Could you please fix this?



---

archive/issue_comments_407039.json:
```json
{
    "body": "Changed commit from **[`7575ea9`](https://github.com/sagemath/sagetrac-mirror/commit/7575ea9c0f882671ac505da524694aa8606c8e13)** to **[`c90639a`](https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed)**",
    "created_at": "2020-12-29T21:46:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407039",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7575ea9`](https://github.com/sagemath/sagetrac-mirror/commit/7575ea9c0f882671ac505da524694aa8606c8e13)** to **[`c90639a`](https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed)**



---

archive/issue_comments_407040.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed\"><code>c90639a</code></a></td><td><code>Merge branch 'develop' into u/gh-jcamp0x2a/26410-threejs-fat-lines</code></td></tr></table>\n",
    "created_at": "2020-12-29T21:46:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407040",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed"><code>c90639a</code></a></td><td><code>Merge branch 'develop' into u/gh-jcamp0x2a/26410-threejs-fat-lines</code></td></tr></table>




---

archive/issue_comments_407041.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@egourgoulhon](#comment%3A25):\n> Replying to [@jcamp0x2a](#comment%3A22):\n> > Now that the Three.js r122 update has been merged in #30915, I've pushed an updated version of this branch.\n> \n> There is a merge conflict with Sage 9.3.beta5. Could you please fix this?\n\nThanks, I've merged in the latest develop branch. Did a quick sanity check to make sure the feature still works, too.",
    "created_at": "2020-12-29T21:50:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407041",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@egourgoulhon](#comment%3A25):
> Replying to [@jcamp0x2a](#comment%3A22):
> > Now that the Three.js r122 update has been merged in #30915, I've pushed an updated version of this branch.
> 
> There is a merge conflict with Sage 9.3.beta5. Could you please fix this?

Thanks, I've merged in the latest develop branch. Did a quick sanity check to make sure the feature still works, too.



---

archive/issue_comments_407042.json:
```json
{
    "body": "Changed dependencies from **#30462** to none",
    "created_at": "2021-01-17T19:22:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407042",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#30462** to none



---

archive/issue_events_360814.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-02-05T18:27:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360814"
}
```



---

archive/issue_events_360815.json:
```json
{
    "actor": "https://github.com/egourgoulhon",
    "created_at": "2021-02-05T18:27:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360815"
}
```



---

archive/issue_comments_407043.json:
```json
{
    "body": "Reviewer: **Eric Gourgoulhon**",
    "created_at": "2021-02-05T18:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407043",
    "user": "https://github.com/egourgoulhon"
}
```

Reviewer: **Eric Gourgoulhon**



---

archive/issue_comments_407044.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nSorry the delay! LGTM. Thanks.",
    "created_at": "2021-02-05T18:27:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407044",
    "user": "https://github.com/egourgoulhon"
}
```

<div id="comment:29" align="right">comment:29</div>

Sorry the delay! LGTM. Thanks.



---

archive/issue_comments_407045.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@egourgoulhon](#comment%3A29):\n> Sorry the delay! LGTM. Thanks.\n\nNo worries. I haven't been able to do much Sage stuff recently myself. Thanks for the review :)",
    "created_at": "2021-02-11T21:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407045",
    "user": "https://github.com/jcamp0x2a"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@egourgoulhon](#comment%3A29):
> Sorry the delay! LGTM. Thanks.

No worries. I haven't been able to do much Sage stuff recently myself. Thanks for the review :)



---

archive/issue_comments_407046.json:
```json
{
    "body": "Changed branch from **[u/gh-jcamp0x2a/26410-threejs-fat-lines](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/26410-threejs-fat-lines)** to **[`c90639a`](https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed)**",
    "created_at": "2021-02-20T10:46:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26410#issuecomment-407046",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/gh-jcamp0x2a/26410-threejs-fat-lines](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-jcamp0x2a/26410-threejs-fat-lines)** to **[`c90639a`](https://github.com/sagemath/sagetrac-mirror/commit/c90639a2e61752644244a0c8edbeeca7add255ed)**



---

archive/issue_events_360816.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-02-20T10:46:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360816"
}
```



---

archive/issue_events_360817.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0b99fac56beef72b3da068162df5729f9a2c098e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-02-20T10:46:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26410",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26410#event-360817"
}
```
