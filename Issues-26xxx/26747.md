# Issue 26747: py3: final fixes for cluster_algebra.py

archive/issues_026510.json:
```json
{
    "body": "by adding some #random, because the answer (a path) depends on the behaviour of an iterator. Also making the hash doctest more robust.\n\nThis fixes the last 5 failing doctests in this file.\n\nCC:  @etn40ff\n\nBranch/Commit: 7794060134985d8b8b70838de2845953c0970af8\n\nReviewer: Salvatore Stella\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26747\n\n",
    "closed_at": "2018-11-24T18:54:24Z",
    "created_at": "2018-11-23T17:00:02Z",
    "labels": [
        "component: python3",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "py3: final fixes for cluster_algebra.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26747",
    "user": "https://github.com/fchapoton"
}
```
by adding some #random, because the answer (a path) depends on the behaviour of an iterator. Also making the hash doctest more robust.

This fixes the last 5 failing doctests in this file.

CC:  @etn40ff

Branch/Commit: 7794060134985d8b8b70838de2845953c0970af8

Reviewer: Salvatore Stella

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26747





---

archive/issue_comments_507315.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[a57ddd3](https://github.com/sagemath/sagetrac-mirror/commit/a57ddd3e8e018348e8078dc831f8cd1a86721676)|`py3: fix doctest in grossman larsson`|",
    "created_at": "2018-11-23T17:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507315",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[a57ddd3](https://github.com/sagemath/sagetrac-mirror/commit/a57ddd3e8e018348e8078dc831f8cd1a86721676)|`py3: fix doctest in grossman larsson`|



---

archive/issue_comments_507316.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/26747\"",
    "created_at": "2018-11-23T17:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507316",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/26747"



---

archive/issue_comments_507317.json:
```json
{
    "body": "Changing commit from \"\" to \"a57ddd3e8e018348e8078dc831f8cd1a86721676\"",
    "created_at": "2018-11-23T17:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507317",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "a57ddd3e8e018348e8078dc831f8cd1a86721676"



---

archive/issue_comments_507318.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-23T17:00:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507318",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_507319.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[3a6f494](https://github.com/sagemath/sagetrac-mirror/commit/3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3)|`py3 fixes for cluster algebra.py`|",
    "created_at": "2018-11-23T17:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507319",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[3a6f494](https://github.com/sagemath/sagetrac-mirror/commit/3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3)|`py3 fixes for cluster algebra.py`|



---

archive/issue_comments_507320.json:
```json
{
    "body": "Changing commit from \"a57ddd3e8e018348e8078dc831f8cd1a86721676\" to \"3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3\"",
    "created_at": "2018-11-23T17:01:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507320",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a57ddd3e8e018348e8078dc831f8cd1a86721676" to "3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3"



---

archive/issue_comments_507321.json:
```json
{
    "body": "<a id='comment:3'></a>\nHi Fr\u00e9d\u00e9ric,\ndid you link the correct branch?\n\n---\nNew commits:\n|                                                                                                                                          |                                  |\n|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[3a6f494](https://github.com/sagemath/sagetrac-mirror/commit/3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3)|`py3 fixes for cluster algebra.py`|",
    "created_at": "2018-11-23T17:03:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507321",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:3'></a>
Hi Frédéric,
did you link the correct branch?

---
New commits:
|                                                                                                                                          |                                  |
|------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[3a6f494](https://github.com/sagemath/sagetrac-mirror/commit/3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3)|`py3 fixes for cluster algebra.py`|



---

archive/issue_comments_507322.json:
```json
{
    "body": "<a id='comment:4'></a>\nI am not sure the outputs are really random because the algorithm goes through the vertices in width first and neighbouring vertices are labeled always in the same way. \n\nMathematically the `# random` is justified thus LGTM",
    "created_at": "2018-11-23T17:12:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507322",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:4'></a>
I am not sure the outputs are really random because the algorithm goes through the vertices in width first and neighbouring vertices are labeled always in the same way. 

Mathematically the `# random` is justified thus LGTM



---

archive/issue_comments_507323.json:
```json
{
    "body": "<a id='comment:5'></a>\nLooking at it more carefully one of the changes you made was not complete.\n\n---\nNew commits:\n|                                                                                                                                          |                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n|[d01cdce](https://github.com/sagemath/sagetrac-mirror/commit/d01cdce26fa52dd11a5ae2e0a2ef8712cd80a8e1)|`Fix random doctest`|",
    "created_at": "2018-11-23T17:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507323",
    "user": "https://github.com/etn40ff"
}
```

<a id='comment:5'></a>
Looking at it more carefully one of the changes you made was not complete.

---
New commits:
|                                                                                                                                          |                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|[d01cdce](https://github.com/sagemath/sagetrac-mirror/commit/d01cdce26fa52dd11a5ae2e0a2ef8712cd80a8e1)|`Fix random doctest`|



---

archive/issue_comments_507324.json:
```json
{
    "body": "Changing commit from \"3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3\" to \"d01cdce26fa52dd11a5ae2e0a2ef8712cd80a8e1\"",
    "created_at": "2018-11-23T17:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507324",
    "user": "https://github.com/etn40ff"
}
```

Changing commit from "3a6f494ac1d4dbc1e22b0ecbebdbc639f6c7f6d3" to "d01cdce26fa52dd11a5ae2e0a2ef8712cd80a8e1"



---

archive/issue_comments_507325.json:
```json
{
    "body": "Changing branch from \"u/chapoton/26747\" to \"u/etn40ff/26747\"",
    "created_at": "2018-11-23T17:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507325",
    "user": "https://github.com/etn40ff"
}
```

Changing branch from "u/chapoton/26747" to "u/etn40ff/26747"



---

archive/issue_comments_507326.json:
```json
{
    "body": "Changing commit from \"d01cdce26fa52dd11a5ae2e0a2ef8712cd80a8e1\" to \"2a971d9e6ac7d2f5f5ea742e2ce3aa43ee11525f\"",
    "created_at": "2018-11-23T17:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507326",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "d01cdce26fa52dd11a5ae2e0a2ef8712cd80a8e1" to "2a971d9e6ac7d2f5f5ea742e2ce3aa43ee11525f"



---

archive/issue_comments_507327.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                       |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|\n|[2a971d9](https://github.com/sagemath/sagetrac-mirror/commit/2a971d9e6ac7d2f5f5ea742e2ce3aa43ee11525f)|`Still not perfect yet`|",
    "created_at": "2018-11-23T17:48:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507327",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                       |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
|[2a971d9](https://github.com/sagemath/sagetrac-mirror/commit/2a971d9e6ac7d2f5f5ea742e2ce3aa43ee11525f)|`Still not perfect yet`|



---

archive/issue_comments_507328.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------|\n|[7794060](https://github.com/sagemath/sagetrac-mirror/commit/7794060134985d8b8b70838de2845953c0970af8)|`One more`|",
    "created_at": "2018-11-23T17:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507328",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |          |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------|
|[7794060](https://github.com/sagemath/sagetrac-mirror/commit/7794060134985d8b8b70838de2845953c0970af8)|`One more`|



---

archive/issue_comments_507329.json:
```json
{
    "body": "Changing commit from \"2a971d9e6ac7d2f5f5ea742e2ce3aa43ee11525f\" to \"7794060134985d8b8b70838de2845953c0970af8\"",
    "created_at": "2018-11-23T17:53:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507329",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "2a971d9e6ac7d2f5f5ea742e2ce3aa43ee11525f" to "7794060134985d8b8b70838de2845953c0970af8"



---

archive/issue_comments_507330.json:
```json
{
    "body": "<a id='comment:8'></a>\nThe random is required because python3 gives other (valid) mutation sequences.\n\nok, good enough for me. Please set to positive if you agree. The patchbot is green.",
    "created_at": "2018-11-23T19:13:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507330",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
The random is required because python3 gives other (valid) mutation sequences.

ok, good enough for me. Please set to positive if you agree. The patchbot is green.



---

archive/issue_comments_507331.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Salvatore Stella\"",
    "created_at": "2018-11-23T19:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507331",
    "user": "https://github.com/etn40ff"
}
```

Changing reviewer from "" to "Salvatore Stella"



---

archive/issue_comments_507332.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-23T19:25:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507332",
    "user": "https://github.com/etn40ff"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_083059.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-24T18:54:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26747#event-83059"
}
```



---

archive/issue_comments_507333.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-24T18:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507333",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_507334.json:
```json
{
    "body": "Changing branch from \"u/etn40ff/26747\" to \"7794060134985d8b8b70838de2845953c0970af8\"",
    "created_at": "2018-11-24T18:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26747",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26747#issuecomment-507334",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/etn40ff/26747" to "7794060134985d8b8b70838de2845953c0970af8"
