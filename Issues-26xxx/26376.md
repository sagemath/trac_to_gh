# Issue 26376: py3: fix a bunch of syntax errors

archive/issues_026139.json:
```json
{
    "assignees": [],
    "body": "\n\nBranch/Commit: **[`a2f357f`](https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26376_\n\n",
    "closed_at": "2018-10-03T21:56:22Z",
    "created_at": "2018-10-01T13:49:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: fix a bunch of syntax errors",
    "type": "issue",
    "updated_at": "2018-10-03T21:56:22Z",
    "url": "https://github.com/sagemath/sage/issues/26376",
    "user": "https://github.com/fchapoton"
}
```


Branch/Commit: **[`a2f357f`](https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/26376_





---

archive/issue_events_360423.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-01T13:49:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360423"
}
```



---

archive/issue_events_360424.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-01T13:49:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360424"
}
```



---

archive/issue_events_360425.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-01T13:49:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360425"
}
```



---

archive/issue_events_360426.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-01T13:49:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360426"
}
```



---

archive/issue_comments_406630.json:
```json
{
    "body": "Commit: **[`31c8708`](https://github.com/sagemath/sagetrac-mirror/commit/31c8708eac66a61fb0d1445649e796c69dacbc05)**",
    "created_at": "2018-10-01T14:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406630",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`31c8708`](https://github.com/sagemath/sagetrac-mirror/commit/31c8708eac66a61fb0d1445649e796c69dacbc05)**



---

archive/issue_comments_406631.json:
```json
{
    "body": "Branch: **[u/chapoton/26376](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26376)**",
    "created_at": "2018-10-01T14:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406631",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/26376](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26376)**



---

archive/issue_events_360427.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-01T14:02:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360427"
}
```



---

archive/issue_comments_406632.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/31c8708eac66a61fb0d1445649e796c69dacbc05\"><code>31c8708</code></a></td><td><code>py3: fix a bunch of syntax errors</code></td></tr></table>\n",
    "created_at": "2018-10-01T14:02:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406632",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/31c8708eac66a61fb0d1445649e796c69dacbc05"><code>31c8708</code></a></td><td><code>py3: fix a bunch of syntax errors</code></td></tr></table>




---

archive/issue_comments_406633.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis change induces a syntax error on Python2:\n\n```diff\ndiff --git a/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst b/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst\nindex 0285291..7ac5a9e 100644\n--- a/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst\n+++ b/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst\n@@ -60,9 +60,9 @@ can use the direction option in subcrystal::\n     sage: La = R.weight_space(extended = True).basis()\n     sage: LS = crystals.LSPaths(La[1]-La[0]); LS\n     The crystal of LS paths of type ['A', 2, 1] and weight -Lambda[0] + Lambda[1]\n-    sage: C = LS.subcrystal(max_depth=2, direction = 'both')\n+    sage: C = LS.subcrystal(max_depth=2, direction='both')\n     sage: G = LS.digraph(subset = C)\n-    sage: G.set_latex_options(edge_options = lambda (u,v,label): ({}))\n+    sage: G.set_latex_options(edge_options=lambda u,v,label: ({}))\n     sage: view(G, tightpage=True)  # optional - dot2tex graphviz, not tested (opens external window)\n \n .. image:: ../media/level_zero_crystal.png\n```\nWhich comes from this:\n\n```\nsage: l = lambda (x,y,z): x + y + z\nsage: l([1,2,3])\n6\nsage: l(1,2,3)\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-6-ad1d3bb1c2ba> in <module>()\n----> 1 l(Integer(1),Integer(2),Integer(3))\n\nTypeError: <lambda>() takes exactly 1 argument (3 given)\n```\nI think the correct thing would be to change it to\n\n```\nsage: G.set_latex_options(edge_options=lambda uvl: ({}))\n```",
    "created_at": "2018-10-01T22:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406633",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:2" align="right">comment:2</div>

This change induces a syntax error on Python2:

```diff
diff --git a/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst b/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst
index 0285291..7ac5a9e 100644
--- a/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst
+++ b/src/doc/en/thematic_tutorials/lie/affine_hw_crystals.rst
@@ -60,9 +60,9 @@ can use the direction option in subcrystal::
     sage: La = R.weight_space(extended = True).basis()
     sage: LS = crystals.LSPaths(La[1]-La[0]); LS
     The crystal of LS paths of type ['A', 2, 1] and weight -Lambda[0] + Lambda[1]
-    sage: C = LS.subcrystal(max_depth=2, direction = 'both')
+    sage: C = LS.subcrystal(max_depth=2, direction='both')
     sage: G = LS.digraph(subset = C)
-    sage: G.set_latex_options(edge_options = lambda (u,v,label): ({}))
+    sage: G.set_latex_options(edge_options=lambda u,v,label: ({}))
     sage: view(G, tightpage=True)  # optional - dot2tex graphviz, not tested (opens external window)
 
 .. image:: ../media/level_zero_crystal.png
```
Which comes from this:

```
sage: l = lambda (x,y,z): x + y + z
sage: l([1,2,3])
6
sage: l(1,2,3)
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-6-ad1d3bb1c2ba> in <module>()
----> 1 l(Integer(1),Integer(2),Integer(3))

TypeError: <lambda>() takes exactly 1 argument (3 given)
```
I think the correct thing would be to change it to

```
sage: G.set_latex_options(edge_options=lambda uvl: ({}))
```



---

archive/issue_events_360428.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-10-01T22:28:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360428"
}
```



---

archive/issue_events_360429.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-10-01T22:28:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360429"
}
```



---

archive/issue_comments_406634.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-10-01T22:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406634",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_406635.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595\"><code>a2f357f</code></a></td><td><code>trac 26376 fixing detail</code></td></tr></table>\n",
    "created_at": "2018-10-02T07:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406635",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595"><code>a2f357f</code></a></td><td><code>trac 26376 fixing detail</code></td></tr></table>




---

archive/issue_comments_406636.json:
```json
{
    "body": "Changed commit from **[`31c8708`](https://github.com/sagemath/sagetrac-mirror/commit/31c8708eac66a61fb0d1445649e796c69dacbc05)** to **[`a2f357f`](https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595)**",
    "created_at": "2018-10-02T07:25:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406636",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`31c8708`](https://github.com/sagemath/sagetrac-mirror/commit/31c8708eac66a61fb0d1445649e796c69dacbc05)** to **[`a2f357f`](https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595)**



---

archive/issue_events_360430.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-02T08:32:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360430"
}
```



---

archive/issue_events_360431.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-02T08:32:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360431"
}
```



---

archive/issue_comments_406637.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\ndone, thanks !",
    "created_at": "2018-10-02T08:32:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406637",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">comment:4</div>

done, thanks !



---

archive/issue_events_360432.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-10-02T12:34:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360432"
}
```



---

archive/issue_events_360433.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-10-02T12:34:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360433"
}
```



---

archive/issue_comments_406638.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThanks.",
    "created_at": "2018-10-02T12:34:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406638",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:5" align="right">comment:5</div>

Thanks.



---

archive/issue_comments_406639.json:
```json
{
    "body": "Changed branch from **[u/chapoton/26376](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26376)** to **[`a2f357f`](https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595)**",
    "created_at": "2018-10-03T21:56:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26376#issuecomment-406639",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/26376](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26376)** to **[`a2f357f`](https://github.com/sagemath/sagetrac-mirror/commit/a2f357f7f6abfd1f98d39fa3ec64e7e3e02a9595)**



---

archive/issue_events_360434.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-03T21:56:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360434"
}
```



---

archive/issue_events_360435.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "7244ea7038cd0f7ef667e8e6c3601e6deb0ab886",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-10-03T21:56:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26376",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26376#event-360435"
}
```
