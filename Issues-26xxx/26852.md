# Issue 26852: Use MultiRef to cache coercion maps

archive/issues_026615.json:
```json
{
    "body": "\n\nCC:  simonking @nbruin\n\nAuthor: Jeroen Demeyer\n\nBranch: u/jdemeyer/use_multiref_to_cache_coercion_maps\n\nStatus: new\n\nDependencies: #26790, #26811\n\nCommit: 4e8f1f79294612877b193d1fd1adb7d77f22ea23\n\nIssue created by migration from https://trac.sagemath.org/ticket/26852\n\n",
    "created_at": "2018-12-07T10:49:41Z",
    "labels": [
        "component: coercion"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Use MultiRef to cache coercion maps",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26852",
    "user": "https://github.com/jdemeyer"
}
```


CC:  simonking @nbruin

Author: Jeroen Demeyer

Branch: u/jdemeyer/use_multiref_to_cache_coercion_maps

Status: new

Dependencies: #26790, #26811

Commit: 4e8f1f79294612877b193d1fd1adb7d77f22ea23

Issue created by migration from https://trac.sagemath.org/ticket/26852





---

archive/issue_comments_515520.json:
```json
{
    "body": "Changing branch from \"\" to \"u/jdemeyer/use_multiref_to_cache_coercion_maps\"",
    "created_at": "2018-12-07T11:37:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26852#issuecomment-515520",
    "user": "https://github.com/jdemeyer"
}
```

Changing branch from "" to "u/jdemeyer/use_multiref_to_cache_coercion_maps"



---

archive/issue_comments_515521.json:
```json
{
    "body": "Changing commit from \"\" to \"da43ded2f6ee2059b900d1a7ec458b5a08e445cc\"",
    "created_at": "2018-12-07T14:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26852#issuecomment-515521",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "" to "da43ded2f6ee2059b900d1a7ec458b5a08e445cc"



---

archive/issue_comments_515522.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[b06a06c](https://git.sagemath.org/sage.git/commit/?id=b06a06c31bd27ba035c596a0436f33240960f858)|`Micro-optimizations in MonoDict/TripleDict`|\n|[0f713ce](https://git.sagemath.org/sage.git/commit/?id=0f713cece712fc6fe5f2757476031d5489b0583c)|`MultiWeakref object`|\n|[cc5e179](https://git.sagemath.org/sage.git/commit/?id=cc5e1791f837484ea2b8a8e5486e467618f2d1a9)|`Clear dead MultiRef values before resizing`|\n|[de9aaa4](https://git.sagemath.org/sage.git/commit/?id=de9aaa4b00dbd59227b09c1a52c9493e500f99cb)|`Use MultiRef to cache coercion maps`|\n|[da43ded](https://git.sagemath.org/sage.git/commit/?id=da43ded2f6ee2059b900d1a7ec458b5a08e445cc)|`f cleardead`|",
    "created_at": "2018-12-07T14:22:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26852#issuecomment-515522",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[b06a06c](https://git.sagemath.org/sage.git/commit/?id=b06a06c31bd27ba035c596a0436f33240960f858)|`Micro-optimizations in MonoDict/TripleDict`|
|[0f713ce](https://git.sagemath.org/sage.git/commit/?id=0f713cece712fc6fe5f2757476031d5489b0583c)|`MultiWeakref object`|
|[cc5e179](https://git.sagemath.org/sage.git/commit/?id=cc5e1791f837484ea2b8a8e5486e467618f2d1a9)|`Clear dead MultiRef values before resizing`|
|[de9aaa4](https://git.sagemath.org/sage.git/commit/?id=de9aaa4b00dbd59227b09c1a52c9493e500f99cb)|`Use MultiRef to cache coercion maps`|
|[da43ded](https://git.sagemath.org/sage.git/commit/?id=da43ded2f6ee2059b900d1a7ec458b5a08e445cc)|`f cleardead`|



---

archive/issue_comments_515523.json:
```json
{
    "body": "Changing commit from \"da43ded2f6ee2059b900d1a7ec458b5a08e445cc\" to \"4e8f1f79294612877b193d1fd1adb7d77f22ea23\"",
    "created_at": "2018-12-07T15:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26852#issuecomment-515523",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "da43ded2f6ee2059b900d1a7ec458b5a08e445cc" to "4e8f1f79294612877b193d1fd1adb7d77f22ea23"



---

archive/issue_comments_515524.json:
```json
{
    "body": "<a id='comment:3'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                           |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|\n|[ad1967d](https://git.sagemath.org/sage.git/commit/?id=ad1967d3042e320f52808dbbfdcc8bf0e29dadf2)|`Keep _action_hash as write-only hashtable`|\n|[865c2b9](https://git.sagemath.org/sage.git/commit/?id=865c2b90da9c6346cc52682a128a61af194c6342)|`Micro-optimizations in MonoDict/TripleDict`|\n|[e2f52a5](https://git.sagemath.org/sage.git/commit/?id=e2f52a5f67cf3d757a83e363b524804839fcbd39)|`MultiWeakref object`|\n|[6e291dd](https://git.sagemath.org/sage.git/commit/?id=6e291dd650476e8942541246ee6ab5ee9ee10d46)|`Clear dead MultiRef values before resizing`|\n|[4e8f1f7](https://git.sagemath.org/sage.git/commit/?id=4e8f1f79294612877b193d1fd1adb7d77f22ea23)|`Use MultiRef to cache coercion maps`|",
    "created_at": "2018-12-07T15:29:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26852",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26852#issuecomment-515524",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
|[ad1967d](https://git.sagemath.org/sage.git/commit/?id=ad1967d3042e320f52808dbbfdcc8bf0e29dadf2)|`Keep _action_hash as write-only hashtable`|
|[865c2b9](https://git.sagemath.org/sage.git/commit/?id=865c2b90da9c6346cc52682a128a61af194c6342)|`Micro-optimizations in MonoDict/TripleDict`|
|[e2f52a5](https://git.sagemath.org/sage.git/commit/?id=e2f52a5f67cf3d757a83e363b524804839fcbd39)|`MultiWeakref object`|
|[6e291dd](https://git.sagemath.org/sage.git/commit/?id=6e291dd650476e8942541246ee6ab5ee9ee10d46)|`Clear dead MultiRef values before resizing`|
|[4e8f1f7](https://git.sagemath.org/sage.git/commit/?id=4e8f1f79294612877b193d1fd1adb7d77f22ea23)|`Use MultiRef to cache coercion maps`|
