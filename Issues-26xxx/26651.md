# Issue 26651: py3: fix repr of callable dict

archive/issues_026414.json:
```json
{
    "body": "and therefore also the doctest in combinat/ranker.py\n\nCC:  @tscrim\n\nBranch/Commit: 3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc\n\nReviewer: David Coudert, Vincent Klein\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26651\n\n",
    "closed_at": "2018-11-09T17:16:09Z",
    "created_at": "2018-11-06T14:19:12Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "py3: fix repr of callable dict",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26651",
    "user": "https://github.com/fchapoton"
}
```
and therefore also the doctest in combinat/ranker.py

CC:  @tscrim

Branch/Commit: 3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc

Reviewer: David Coudert, Vincent Klein

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26651





---

archive/issue_comments_505877.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|\n|[151ac1c](https://github.com/sagemath/sagetrac-mirror/commit/151ac1caa4956bc51db4c227c38b79585165a8ee)|`py3: fix __repr__ of callable dict`|",
    "created_at": "2018-11-06T14:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505877",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|
|[151ac1c](https://github.com/sagemath/sagetrac-mirror/commit/151ac1caa4956bc51db4c227c38b79585165a8ee)|`py3: fix __repr__ of callable dict`|



---

archive/issue_comments_505878.json:
```json
{
    "body": "Changing branch from \"\" to \"u/chapoton/26651\"",
    "created_at": "2018-11-06T14:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505878",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "" to "u/chapoton/26651"



---

archive/issue_comments_505879.json:
```json
{
    "body": "Changing commit from \"\" to \"151ac1caa4956bc51db4c227c38b79585165a8ee\"",
    "created_at": "2018-11-06T14:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505879",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "" to "151ac1caa4956bc51db4c227c38b79585165a8ee"



---

archive/issue_comments_505880.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-06T14:19:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505880",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_505881.json:
```json
{
    "body": "<a id='comment:2'></a>\ngreen bot, please review",
    "created_at": "2018-11-06T19:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505881",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>
green bot, please review



---

archive/issue_comments_505882.json:
```json
{
    "body": "Set assignee to @vinklein.",
    "created_at": "2018-11-08T07:33:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505882",
    "user": "https://github.com/vinklein"
}
```

Set assignee to @vinklein.



---

archive/issue_comments_505883.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe tests block of method `__call__` contains:\n\n```\n            sage: from sage.misc.callable_dict import CallableDict\n            sage: from sage.combinat.words.morphism import CallableDict\n```\nis it to show that it is possible to import from different places or is it just a mistake ?",
    "created_at": "2018-11-08T08:03:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505883",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>
The tests block of method `__call__` contains:

```
            sage: from sage.misc.callable_dict import CallableDict
            sage: from sage.combinat.words.morphism import CallableDict
```
is it to show that it is possible to import from different places or is it just a mistake ?



---

archive/issue_comments_505884.json:
```json
{
    "body": "<a id='comment:5'></a>\nIf the goal is to show that it can be imported from different places with doctests, maybe a more explicit code will be better. For example :\n\n```\nsage: from sage.misc.callable_dict import CallableDict as CDict\nsage: d1 = CDict({1: 'a', 3: 'b', 2: 'c'})\nsage: from sage.combinat.words.morphism import CallableDict\nsage: d2 = CallableDict({1: 'a', 3: 'b', 2: 'c'})\nsage: d1 == d2\nTrue\n```",
    "created_at": "2018-11-08T08:20:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505884",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:5'></a>
If the goal is to show that it can be imported from different places with doctests, maybe a more explicit code will be better. For example :

```
sage: from sage.misc.callable_dict import CallableDict as CDict
sage: d1 = CDict({1: 'a', 3: 'b', 2: 'c'})
sage: from sage.combinat.words.morphism import CallableDict
sage: d2 = CallableDict({1: 'a', 3: 'b', 2: 'c'})
sage: d1 == d2
True
```



---

archive/issue_comments_505885.json:
```json
{
    "body": "Remove assignee @vinklein.",
    "created_at": "2018-11-08T08:20:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505885",
    "user": "https://github.com/vinklein"
}
```

Remove assignee @vinklein.



---

archive/issue_comments_505886.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[3ec238b](https://github.com/sagemath/sagetrac-mirror/commit/3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc)|`trac 26651 fix imports`|",
    "created_at": "2018-11-08T08:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505886",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[3ec238b](https://github.com/sagemath/sagetrac-mirror/commit/3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc)|`trac 26651 fix imports`|



---

archive/issue_comments_505887.json:
```json
{
    "body": "Changing commit from \"151ac1caa4956bc51db4c227c38b79585165a8ee\" to \"3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc\"",
    "created_at": "2018-11-08T08:28:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "151ac1caa4956bc51db4c227c38b79585165a8ee" to "3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc"



---

archive/issue_comments_505888.json:
```json
{
    "body": "<a id='comment:8'></a>\nfixed, this was just a mistake.",
    "created_at": "2018-11-08T08:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505888",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'></a>
fixed, this was just a mistake.



---

archive/issue_comments_505889.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-08T09:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505889",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_505890.json:
```json
{
    "body": "<a id='comment:9'></a>\nLooks good to me.",
    "created_at": "2018-11-08T09:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505890",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:9'></a>
Looks good to me.



---

archive/issue_comments_505891.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Coudert, Vincent Klein\"",
    "created_at": "2018-11-08T09:25:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505891",
    "user": "https://github.com/vinklein"
}
```

Changing reviewer from "" to "David Coudert, Vincent Klein"



---

archive/issue_events_082917.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-09T17:16:09Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26651#event-82917"
}
```



---

archive/issue_comments_505892.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-09T17:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505892",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_505893.json:
```json
{
    "body": "Changing branch from \"u/chapoton/26651\" to \"3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc\"",
    "created_at": "2018-11-09T17:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26651",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26651#issuecomment-505893",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/chapoton/26651" to "3ec238bcdcfad77aa8bf9d5477c15feb03d1aadc"
