# Issue 26817: GaloisGroup_subgroup.fixed_field() should always return an embedding

archive/issues_026580.json:
```json
{
    "body": "Currently, `GaloisGroup_subgroup.fixed_field()` does not return an embedding of the fixed field into the ambient field if the subgroup is trivial:\n\n```\nsage: K.<a> = NumberField(x^6 - 6*x^4 + 9*x^2 + 23)\nsage: G = K.galois_group()\nsage: H = G.subgroup([g for g in G if g.order().divides(3)])\nsage: H.fixed_field()\n(Number Field in a0 with defining polynomial x^2 + 207, Ring morphism:\n   From: Number Field in a0 with defining polynomial x^2 + 207\n   To:   Number Field in a with defining polynomial x^6 - 6*x^4 + 9*x^2 + 23\n   Defn: a0 |--> 3*a^3 - 9*a)\nsage: H = G.subgroup([G.identity()])\nsage: H.fixed_field()\nNumber Field in a with defining polynomial x^6 - 6*x^4 + 9*x^2 + 23\n```\nThis should be fixed for consistency.\n\nCC:  @loefflerd\n\nKeywords: Galois group\n\nBranch/Commit: 2b26bc454ddbf132ab5c41ef90b86d713735a1ad\n\nReviewer: David Roe\n\nAuthor: Peter Bruin\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26817\n\n",
    "closed_at": "2019-11-30T13:35:59Z",
    "created_at": "2018-12-04T16:41:16Z",
    "labels": [
        "component: number fields",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.0",
    "title": "GaloisGroup_subgroup.fixed_field() should always return an embedding",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26817",
    "user": "https://github.com/pjbruin"
}
```
Currently, `GaloisGroup_subgroup.fixed_field()` does not return an embedding of the fixed field into the ambient field if the subgroup is trivial:

```
sage: K.<a> = NumberField(x^6 - 6*x^4 + 9*x^2 + 23)
sage: G = K.galois_group()
sage: H = G.subgroup([g for g in G if g.order().divides(3)])
sage: H.fixed_field()
(Number Field in a0 with defining polynomial x^2 + 207, Ring morphism:
   From: Number Field in a0 with defining polynomial x^2 + 207
   To:   Number Field in a with defining polynomial x^6 - 6*x^4 + 9*x^2 + 23
   Defn: a0 |--> 3*a^3 - 9*a)
sage: H = G.subgroup([G.identity()])
sage: H.fixed_field()
Number Field in a with defining polynomial x^6 - 6*x^4 + 9*x^2 + 23
```
This should be fixed for consistency.

CC:  @loefflerd

Keywords: Galois group

Branch/Commit: 2b26bc454ddbf132ab5c41ef90b86d713735a1ad

Reviewer: David Roe

Author: Peter Bruin

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26817





---

archive/issue_comments_516782.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-12-04T16:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516782",
    "user": "https://github.com/pjbruin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_516783.json:
```json
{
    "body": "Changing commit from \"\" to \"9545ec7da42286552422f245a2d9b4f99393beeb\"",
    "created_at": "2018-12-04T16:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516783",
    "user": "https://github.com/pjbruin"
}
```

Changing commit from "" to "9545ec7da42286552422f245a2d9b4f99393beeb"



---

archive/issue_comments_516784.json:
```json
{
    "body": "<a id='comment:1'></a>\nThis branch fixes the problem by removing two lines that \"work around a silly error\".  David, you seem to be the author of this code; do you remember what this was?  Maybe a bug in an old PARI version?",
    "created_at": "2018-12-04T16:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516784",
    "user": "https://github.com/pjbruin"
}
```

<a id='comment:1'></a>
This branch fixes the problem by removing two lines that "work around a silly error".  David, you seem to be the author of this code; do you remember what this was?  Maybe a bug in an old PARI version?



---

archive/issue_comments_516785.json:
```json
{
    "body": "Changing branch from \"\" to \"u/pbruin/26817-GaloisGroup_fixed_field\"",
    "created_at": "2018-12-04T16:55:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516785",
    "user": "https://github.com/pjbruin"
}
```

Changing branch from "" to "u/pbruin/26817-GaloisGroup_fixed_field"



---

archive/issue_comments_516786.json:
```json
{
    "body": "Changing commit from \"9545ec7da42286552422f245a2d9b4f99393beeb\" to \"2b26bc454ddbf132ab5c41ef90b86d713735a1ad\"",
    "created_at": "2019-06-07T13:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516786",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9545ec7da42286552422f245a2d9b4f99393beeb" to "2b26bc454ddbf132ab5c41ef90b86d713735a1ad"



---

archive/issue_comments_516787.json:
```json
{
    "body": "<a id='comment:2'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|\n|[79e2a58](https://github.com/sagemath/sagetrac-mirror/commit/79e2a582bf277ddd7fb419f4d7eb4b7e1dd6cedf)|`Merge branch 'develop' into ticket/26817-GaloisGroup_fixed_field`|\n|[2b26bc4](https://github.com/sagemath/sagetrac-mirror/commit/2b26bc454ddbf132ab5c41ef90b86d713735a1ad)|`Trac 26817: fix doctest`|",
    "created_at": "2019-06-07T13:09:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516787",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:2'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|[79e2a58](https://github.com/sagemath/sagetrac-mirror/commit/79e2a582bf277ddd7fb419f4d7eb4b7e1dd6cedf)|`Merge branch 'develop' into ticket/26817-GaloisGroup_fixed_field`|
|[2b26bc4](https://github.com/sagemath/sagetrac-mirror/commit/2b26bc454ddbf132ab5c41ef90b86d713735a1ad)|`Trac 26817: fix doctest`|



---

archive/issue_comments_516788.json:
```json
{
    "body": "<a id='comment:3'></a>\nLooks good to me.   The recent test failures are due to the switch to Python 3 breaking patchbots.",
    "created_at": "2019-11-20T22:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516788",
    "user": "https://github.com/roed314"
}
```

<a id='comment:3'></a>
Looks good to me.   The recent test failures are due to the switch to Python 3 breaking patchbots.



---

archive/issue_comments_516789.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-11-20T22:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516789",
    "user": "https://github.com/roed314"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_516790.json:
```json
{
    "body": "Changing reviewer from \"\" to \"David Roe\"",
    "created_at": "2019-11-20T22:06:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516790",
    "user": "https://github.com/roed314"
}
```

Changing reviewer from "" to "David Roe"



---

archive/issue_events_075362.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-11-21T14:19:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "milestone": "sage-9.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26817#event-75362"
}
```



---

archive/issue_events_075363.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-11-30T13:35:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26817#event-75363"
}
```



---

archive/issue_comments_516791.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-11-30T13:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516791",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_516792.json:
```json
{
    "body": "Changing branch from \"u/pbruin/26817-GaloisGroup_fixed_field\" to \"2b26bc454ddbf132ab5c41ef90b86d713735a1ad\"",
    "created_at": "2019-11-30T13:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26817",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26817#issuecomment-516792",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/pbruin/26817-GaloisGroup_fixed_field" to "2b26bc454ddbf132ab5c41ef90b86d713735a1ad"
