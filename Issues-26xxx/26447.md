# Issue 26447: py3: do not sort vertices in static graphs

archive/issues_026210.json:
```json
{
    "body": "as this may help to fix the posets\n\nCC:  @dcoudert\n\nBranch/Commit: [f5e740c7f090ae2152009d19f77edf9d234486a3](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)\n\nReviewer: David Coudert\n\nAuthor: Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26447\n\n",
    "closed_at": "2018-10-20T11:57:59Z",
    "created_at": "2018-10-09T17:52:22Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "py3: do not sort vertices in static graphs",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26447",
    "user": "https://github.com/fchapoton"
}
```
as this may help to fix the posets

CC:  @dcoudert

Branch/Commit: [f5e740c7f090ae2152009d19f77edf9d234486a3](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)

Reviewer: David Coudert

Author: Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26447





---

archive/issue_comments_510257.json:
```json
{
    "body": "Branch: [u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)",
    "created_at": "2018-10-09T17:53:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510257",
    "user": "https://github.com/fchapoton"
}
```

Branch: [u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)



---

archive/issue_comments_510258.json:
```json
{
    "body": "<a id='comment:1'></a>\nNew commits:\n|                                                                                                                                          |                                                                    |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|\n|[c92e95e](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)|`py3: trying to fix posets by not sorting vertices in static graphs`|",
    "created_at": "2018-10-09T17:53:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510258",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'></a>
New commits:
|                                                                                                                                          |                                                                    |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------|
|[c92e95e](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)|`py3: trying to fix posets by not sorting vertices in static graphs`|



---

archive/issue_comments_510259.json:
```json
{
    "body": "Commit: [c92e95e77dd9a169275790f152a2e92f6dc6c724](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)",
    "created_at": "2018-10-09T17:53:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510259",
    "user": "https://github.com/fchapoton"
}
```

Commit: [c92e95e77dd9a169275790f152a2e92f6dc6c724](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)



---

archive/issue_comments_510260.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-09T17:53:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510260",
    "user": "https://github.com/fchapoton"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_510261.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis makes many doctests errors\n\n```\nsage -t --long src/sage/graphs/generic_graph.py  # 7 doctests failed\nsage -t --long src/sage/graphs/strongly_regular_db.pyx  # 2 doctests failed\nsage -t --long src/sage/graphs/connectivity.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/base/static_sparse_graph.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/generic_graph_pyx.pyx  # 2 doctests failed\nsage -t --long src/sage/graphs/comparability.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/hyperbolicity.pyx  # 8 doctests failed\n```",
    "created_at": "2018-10-09T18:37:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510261",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:2'></a>
This makes many doctests errors

```
sage -t --long src/sage/graphs/generic_graph.py  # 7 doctests failed
sage -t --long src/sage/graphs/strongly_regular_db.pyx  # 2 doctests failed
sage -t --long src/sage/graphs/connectivity.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/base/static_sparse_graph.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/generic_graph_pyx.pyx  # 2 doctests failed
sage -t --long src/sage/graphs/comparability.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/hyperbolicity.pyx  # 8 doctests failed
```



---

archive/issue_comments_510262.json:
```json
{
    "body": "<a id='comment:3'></a>\ndamned.. This would have been too simple..",
    "created_at": "2018-10-09T18:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510262",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:3'></a>
damned.. This would have been too simple..



---

archive/issue_comments_510263.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-10-09T18:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510263",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_510264.json:
```json
{
    "body": "<a id='comment:4'></a>\neven just the simple change in static_sparse_backend.pyx triggers doctests failures in src/sage/graphs/connectivity.pyx (related to SPQR trees, in fact)\n\nEDIT: more precisely\n\n```\nsage -t --long src/sage/graphs/connectivity.pyx  # 6 doctests failed\nsage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 4 doctests failed\n```",
    "created_at": "2018-10-09T18:54:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510264",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>
even just the simple change in static_sparse_backend.pyx triggers doctests failures in src/sage/graphs/connectivity.pyx (related to SPQR trees, in fact)

EDIT: more precisely

```
sage -t --long src/sage/graphs/connectivity.pyx  # 6 doctests failed
sage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 4 doctests failed
```



---

archive/issue_comments_510265.json:
```json
{
    "body": "<a id='comment:5'></a>\nThis is not surprising. The entire graph module assumes that the order of the vertices is always the same. Touching this ordering is a nightmare..",
    "created_at": "2018-10-09T19:08:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510265",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>
This is not surprising. The entire graph module assumes that the order of the vertices is always the same. Touching this ordering is a nightmare..



---

archive/issue_comments_510266.json:
```json
{
    "body": "Changing commit from \"[c92e95e77dd9a169275790f152a2e92f6dc6c724](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)\" to \"[9402ff34536ff144251144f700b66508a955556b](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)\"",
    "created_at": "2018-10-09T19:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510266",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[c92e95e77dd9a169275790f152a2e92f6dc6c724](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)" to "[9402ff34536ff144251144f700b66508a955556b](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)"



---

archive/issue_comments_510267.json:
```json
{
    "body": "<a id='comment:6'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                      |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[9402ff3](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)|`trac 26447 fixing some easy doctests`|",
    "created_at": "2018-10-09T19:19:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510267",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                      |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[9402ff3](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)|`trac 26447 fixing some easy doctests`|



---

archive/issue_comments_510268.json:
```json
{
    "body": "<a id='comment:7'></a>\nhere is another tentative, previous one stored in \"u/chapoton/26447\"\n\n---\nNew commits:\n|                                                                                                                                          |                   |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|\n|[1a87d7d](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)|`another tentative`|",
    "created_at": "2018-10-10T08:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510268",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>
here is another tentative, previous one stored in "u/chapoton/26447"

---
New commits:
|                                                                                                                                          |                   |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------|
|[1a87d7d](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)|`another tentative`|



---

archive/issue_comments_510269.json:
```json
{
    "body": "Changing commit from \"[9402ff34536ff144251144f700b66508a955556b](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)\" to \"[1a87d7d237a77e384bb6371f8a33bb0831d0d3d4](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)\"",
    "created_at": "2018-10-10T08:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510269",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "[9402ff34536ff144251144f700b66508a955556b](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)" to "[1a87d7d237a77e384bb6371f8a33bb0831d0d3d4](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)"



---

archive/issue_comments_510270.json:
```json
{
    "body": "Changing branch from \"[u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)\" to \"[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)\"",
    "created_at": "2018-10-10T08:02:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510270",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "[u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)" to "[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)"



---

archive/issue_comments_510271.json:
```json
{
    "body": "Changing commit from \"[1a87d7d237a77e384bb6371f8a33bb0831d0d3d4](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)\" to \"[b82d8ed9c195b7a786053d2730c79028fc560656](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)\"",
    "created_at": "2018-10-11T07:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510271",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[1a87d7d237a77e384bb6371f8a33bb0831d0d3d4](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)" to "[b82d8ed9c195b7a786053d2730c79028fc560656](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)"



---

archive/issue_comments_510272.json:
```json
{
    "body": "<a id='comment:8'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[b82d8ed](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)|`trac 26447 sorting when possible`|",
    "created_at": "2018-10-11T07:21:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510272",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[b82d8ed](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)|`trac 26447 sorting when possible`|



---

archive/issue_comments_510273.json:
```json
{
    "body": "<a id='comment:9'></a>\nOk, so this is a working proposal: sort if possible. Not breaking any doctest on python2.\n\nEDIT: and improving a lot of things on the python3 side !",
    "created_at": "2018-10-11T09:35:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510273",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
Ok, so this is a working proposal: sort if possible. Not breaking any doctest on python2.

EDIT: and improving a lot of things on the python3 side !



---

archive/issue_comments_510274.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-11T10:01:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510274",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_510275.json:
```json
{
    "body": "<a id='comment:11'></a>\nIn general I agree with this change. However, I have the following concern:\n- the description of parameter `vertex_list` must be extended. It should be explained that if it is given, the ordering induced by this vertex_list is used to map vertices to integers.\n- What if vertex_list is not a list but a set, dict, etc. ?\n- What if vertex_list has length less than `G.order()`. In particular, we must check that `set(vertex_list) == set(G.vertices())`.\n- Specific doctests are required.\n\nQuestion: in the declaration of method `init_short_digraph` in file `static_sparse_graph.pxd`, you use `vertex_list = ?`. Shouldn't it be `vertex_list=?` to comply with PEP8 ?",
    "created_at": "2018-10-11T13:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510275",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:11'></a>
In general I agree with this change. However, I have the following concern:
- the description of parameter `vertex_list` must be extended. It should be explained that if it is given, the ordering induced by this vertex_list is used to map vertices to integers.
- What if vertex_list is not a list but a set, dict, etc. ?
- What if vertex_list has length less than `G.order()`. In particular, we must check that `set(vertex_list) == set(G.vertices())`.
- Specific doctests are required.

Question: in the declaration of method `init_short_digraph` in file `static_sparse_graph.pxd`, you use `vertex_list = ?`. Shouldn't it be `vertex_list=?` to comply with PEP8 ?



---

archive/issue_comments_510276.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-10-11T13:38:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510276",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_510277.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                 |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|\n|[d3a9a8b](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)|`trac 26447 more doc and doctest`|",
    "created_at": "2018-10-11T14:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|[d3a9a8b](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)|`trac 26447 more doc and doctest`|



---

archive/issue_comments_510278.json:
```json
{
    "body": "Changing commit from \"[b82d8ed9c195b7a786053d2730c79028fc560656](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)\" to \"[d3a9a8b52b42630014f4aca95444c2400c4d830f](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)\"",
    "created_at": "2018-10-11T14:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510278",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[b82d8ed9c195b7a786053d2730c79028fc560656](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)" to "[d3a9a8b52b42630014f4aca95444c2400c4d830f](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)"



---

archive/issue_comments_510279.json:
```json
{
    "body": "<a id='comment:13'></a>\nHere is some more doc. I would prefer not to add checks for the type, length and content of \"vertex_list\".",
    "created_at": "2018-10-11T14:09:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510279",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>
Here is some more doc. I would prefer not to add checks for the type, length and content of "vertex_list".



---

archive/issue_comments_510280.json:
```json
{
    "body": "<a id='comment:14'></a>\nI did several tests and it's working well except when the list has more vertices than the graph. This particular case could be tested at low cost, no ?\n\nIn all other cases, when the given list is not good, an error is raised somewhere. \n\n```python\nsage: from sage.graphs.base.static_sparse_backend import StaticSparseCGraph\nsage: G = graphs.PetersenGraph()\nsage: S = StaticSparseCGraph(G, vertex_list=range(10))\nsage: S = StaticSparseCGraph(G, vertex_list=range(10)[::-1])\nsage: S.verts()\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nsage: S = StaticSparseCGraph(G, vertex_list=range(20)) ### should we care ??\nsage: S.verts()\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nsage:\nsage: S = StaticSparseCGraph(G, vertex_list=range(5))\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n...\nIndexError: list index out of range\nsage:\nsage: S = StaticSparseCGraph(G, vertex_list=range(1,11))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n....\nTypeError: 'int' object is not iterable\nsage:\nsage: S = StaticSparseCGraph(G, vertex_list=set(range(10)))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: Expected list, got set\n```",
    "created_at": "2018-10-11T15:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510280",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'></a>
I did several tests and it's working well except when the list has more vertices than the graph. This particular case could be tested at low cost, no ?

In all other cases, when the given list is not good, an error is raised somewhere. 

```python
sage: from sage.graphs.base.static_sparse_backend import StaticSparseCGraph
sage: G = graphs.PetersenGraph()
sage: S = StaticSparseCGraph(G, vertex_list=range(10))
sage: S = StaticSparseCGraph(G, vertex_list=range(10)[::-1])
sage: S.verts()
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
sage: S = StaticSparseCGraph(G, vertex_list=range(20)) ### should we care ??
sage: S.verts()
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
sage:
sage: S = StaticSparseCGraph(G, vertex_list=range(5))
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
...
IndexError: list index out of range
sage:
sage: S = StaticSparseCGraph(G, vertex_list=range(1,11))
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
....
TypeError: 'int' object is not iterable
sage:
sage: S = StaticSparseCGraph(G, vertex_list=set(range(10)))
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: Expected list, got set
```



---

archive/issue_comments_510281.json:
```json
{
    "body": "Reviewer: David Coudert",
    "created_at": "2018-10-11T15:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510281",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: David Coudert



---

archive/issue_comments_510282.json:
```json
{
    "body": "Changing commit from \"[d3a9a8b52b42630014f4aca95444c2400c4d830f](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)\" to \"[6cb9d36a6bab2e1753307e345385a4c19b81a8fa](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)\"",
    "created_at": "2018-10-11T17:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[d3a9a8b52b42630014f4aca95444c2400c4d830f](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)" to "[6cb9d36a6bab2e1753307e345385a4c19b81a8fa](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)"



---

archive/issue_comments_510283.json:
```json
{
    "body": "<a id='comment:15'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                   |\n|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|\n|[6cb9d36](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)|`trac 26447 adding check for length of vertex_list`|",
    "created_at": "2018-10-11T17:07:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:15'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                   |
|-------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
|[6cb9d36](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)|`trac 26447 adding check for length of vertex_list`|



---

archive/issue_comments_510284.json:
```json
{
    "body": "<a id='comment:16'></a>\n`len(G)` could be `G.order()`.",
    "created_at": "2018-10-11T17:11:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510284",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:16'></a>
`len(G)` could be `G.order()`.



---

archive/issue_comments_510285.json:
```json
{
    "body": "Changing commit from \"[6cb9d36a6bab2e1753307e345385a4c19b81a8fa](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)\" to \"[f5e740c7f090ae2152009d19f77edf9d234486a3](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)\"",
    "created_at": "2018-10-11T17:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510285",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "[6cb9d36a6bab2e1753307e345385a4c19b81a8fa](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)" to "[f5e740c7f090ae2152009d19f77edf9d234486a3](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)"



---

archive/issue_comments_510286.json:
```json
{
    "body": "<a id='comment:17'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------|\n|[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)|`detail`|",
    "created_at": "2018-10-11T17:47:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |        |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------|
|[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)|`detail`|



---

archive/issue_comments_510287.json:
```json
{
    "body": "<a id='comment:18'></a>\nok, done",
    "created_at": "2018-10-11T17:53:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510287",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'></a>
ok, done



---

archive/issue_comments_510288.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-10-11T18:02:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510288",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_510289.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-11T18:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510289",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_510290.json:
```json
{
    "body": "<a id='comment:20'></a>\nLGTM, passes all long tests on `graphs`.",
    "created_at": "2018-10-11T18:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510290",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:20'></a>
LGTM, passes all long tests on `graphs`.



---

archive/issue_events_074691.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T11:57:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26447#event-74691"
}
```



---

archive/issue_comments_510291.json:
```json
{
    "body": "Changing branch from \"[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)\" to \"[f5e740c7f090ae2152009d19f77edf9d234486a3](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)\"",
    "created_at": "2018-10-20T11:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510291",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)" to "[f5e740c7f090ae2152009d19f77edf9d234486a3](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)"



---

archive/issue_comments_510292.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-20T11:57:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510292",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_510293.json:
```json
{
    "body": "<a id='comment:22'></a>\nThis should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26447#issuecomment-510293",
    "user": "https://github.com/embray"
}
```

<a id='comment:22'></a>
This should be re-targeted for 8.5.



---

archive/issue_events_074692.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26447",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26447#event-74692"
}
```
