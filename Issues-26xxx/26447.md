# Issue 26447: py3: do not sort vertices in static graphs

archive/issues_026210.json:
```json
{
    "assignees": [],
    "body": "as this may help to fix the posets\n\nCC:  @dcoudert\n\nBranch/Commit: **[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)**\n\nReviewer: **David Coudert**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26447_\n\n",
    "closed_at": "2018-10-20T11:57:59Z",
    "created_at": "2018-10-09T17:52:22Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20python3",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: do not sort vertices in static graphs",
    "type": "issue",
    "updated_at": "2018-10-28T14:52:23Z",
    "url": "https://github.com/sagemath/sage/issues/26447",
    "user": "https://github.com/fchapoton"
}
```
as this may help to fix the posets

CC:  @dcoudert

Branch/Commit: **[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)**

Reviewer: **David Coudert**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/26447_





---

archive/issue_events_346280.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T17:52:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346280"
}
```



---

archive/issue_events_346281.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T17:52:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20python3",
    "label_color": "000080",
    "label_name": "component: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346281"
}
```



---

archive/issue_events_346282.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T17:52:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346282"
}
```



---

archive/issue_events_346283.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T17:52:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346283"
}
```



---

archive/issue_comments_410538.json:
```json
{
    "body": "Branch: **[u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)**",
    "created_at": "2018-10-09T17:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410538",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)**



---

archive/issue_comments_410539.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724\">c92e95e</a></td><td><code>py3: trying to fix posets by not sorting vertices in static graphs</code></td></tr></table>\n",
    "created_at": "2018-10-09T17:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410539",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724">c92e95e</a></td><td><code>py3: trying to fix posets by not sorting vertices in static graphs</code></td></tr></table>




---

archive/issue_comments_410540.json:
```json
{
    "body": "Commit: **[c92e95e](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)**",
    "created_at": "2018-10-09T17:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410540",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[c92e95e](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)**



---

archive/issue_events_346284.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T17:53:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346284"
}
```



---

archive/issue_comments_410541.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nThis makes many doctests errors\n\n```\nsage -t --long src/sage/graphs/generic_graph.py  # 7 doctests failed\nsage -t --long src/sage/graphs/strongly_regular_db.pyx  # 2 doctests failed\nsage -t --long src/sage/graphs/connectivity.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/base/static_sparse_graph.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/generic_graph_pyx.pyx  # 2 doctests failed\nsage -t --long src/sage/graphs/comparability.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 1 doctest failed\nsage -t --long src/sage/graphs/hyperbolicity.pyx  # 8 doctests failed\n```",
    "created_at": "2018-10-09T18:37:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410541",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:2" align="right">Comment 2</div>

This makes many doctests errors

```
sage -t --long src/sage/graphs/generic_graph.py  # 7 doctests failed
sage -t --long src/sage/graphs/strongly_regular_db.pyx  # 2 doctests failed
sage -t --long src/sage/graphs/connectivity.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/base/static_sparse_graph.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/generic_graph_pyx.pyx  # 2 doctests failed
sage -t --long src/sage/graphs/comparability.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 1 doctest failed
sage -t --long src/sage/graphs/hyperbolicity.pyx  # 8 doctests failed
```



---

archive/issue_comments_410542.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\ndamned.. This would have been too simple..",
    "created_at": "2018-10-09T18:45:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410542",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">Comment 3</div>

damned.. This would have been too simple..



---

archive/issue_events_346285.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T18:45:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346285"
}
```



---

archive/issue_events_346286.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-09T18:45:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346286"
}
```



---

archive/issue_comments_410543.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\neven just the simple change in static_sparse_backend.pyx triggers doctests failures in src/sage/graphs/connectivity.pyx (related to SPQR trees, in fact)\n\nEDIT: more precisely\n\n```\nsage -t --long src/sage/graphs/connectivity.pyx  # 6 doctests failed\nsage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 4 doctests failed\n```",
    "created_at": "2018-10-09T18:54:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410543",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:4" align="right">Comment 4</div>

even just the simple change in static_sparse_backend.pyx triggers doctests failures in src/sage/graphs/connectivity.pyx (related to SPQR trees, in fact)

EDIT: more precisely

```
sage -t --long src/sage/graphs/connectivity.pyx  # 6 doctests failed
sage -t --long src/sage/graphs/base/static_sparse_backend.pyx  # 4 doctests failed
```



---

archive/issue_comments_410544.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nThis is not surprising. The entire graph module assumes that the order of the vertices is always the same. Touching this ordering is a nightmare..",
    "created_at": "2018-10-09T19:08:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410544",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">Comment 5</div>

This is not surprising. The entire graph module assumes that the order of the vertices is always the same. Touching this ordering is a nightmare..



---

archive/issue_comments_410545.json:
```json
{
    "body": "Changed commit from **[c92e95e](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)** to **[9402ff3](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)**",
    "created_at": "2018-10-09T19:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410545",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c92e95e](https://github.com/sagemath/sagetrac-mirror/commit/c92e95e77dd9a169275790f152a2e92f6dc6c724)** to **[9402ff3](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)**



---

archive/issue_comments_410546.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b\">9402ff3</a></td><td><code>trac 26447 fixing some easy doctests</code></td></tr></table>\n",
    "created_at": "2018-10-09T19:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410546",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6" align="right">Comment 6</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b">9402ff3</a></td><td><code>trac 26447 fixing some easy doctests</code></td></tr></table>




---

archive/issue_comments_410547.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nhere is another tentative, previous one stored in \"u/chapoton/26447\"\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4\">1a87d7d</a></td><td><code>another tentative</code></td></tr></table>\n",
    "created_at": "2018-10-10T08:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410547",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">Comment 7</div>

here is another tentative, previous one stored in "u/chapoton/26447"

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4">1a87d7d</a></td><td><code>another tentative</code></td></tr></table>




---

archive/issue_comments_410548.json:
```json
{
    "body": "Changed commit from **[9402ff3](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)** to **[1a87d7d](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)**",
    "created_at": "2018-10-10T08:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410548",
    "user": "https://github.com/fchapoton"
}
```

Changed commit from **[9402ff3](https://github.com/sagemath/sagetrac-mirror/commit/9402ff34536ff144251144f700b66508a955556b)** to **[1a87d7d](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)**



---

archive/issue_comments_410549.json:
```json
{
    "body": "Changed branch from **[u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)** to **[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)**",
    "created_at": "2018-10-10T08:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410549",
    "user": "https://github.com/fchapoton"
}
```

Changed branch from **[u/chapoton/26447](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26447)** to **[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)**



---

archive/issue_comments_410550.json:
```json
{
    "body": "Changed commit from **[1a87d7d](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)** to **[b82d8ed](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)**",
    "created_at": "2018-10-11T07:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1a87d7d](https://github.com/sagemath/sagetrac-mirror/commit/1a87d7d237a77e384bb6371f8a33bb0831d0d3d4)** to **[b82d8ed](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)**



---

archive/issue_comments_410551.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656\">b82d8ed</a></td><td><code>trac 26447 sorting when possible</code></td></tr></table>\n",
    "created_at": "2018-10-11T07:21:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8" align="right">Comment 8</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656">b82d8ed</a></td><td><code>trac 26447 sorting when possible</code></td></tr></table>




---

archive/issue_comments_410552.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nOk, so this is a working proposal: sort if possible. Not breaking any doctest on python2.\n\nEDIT: and improving a lot of things on the python3 side !",
    "created_at": "2018-10-11T09:35:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410552",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">Comment 9</div>

Ok, so this is a working proposal: sort if possible. Not breaking any doctest on python2.

EDIT: and improving a lot of things on the python3 side !



---

archive/issue_events_346287.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-11T10:01:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346287"
}
```



---

archive/issue_events_346288.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-11T10:01:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346288"
}
```



---

archive/issue_comments_410553.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nIn general I agree with this change. However, I have the following concern:\n- the description of parameter `vertex_list` must be extended. It should be explained that if it is given, the ordering induced by this vertex_list is used to map vertices to integers.\n- What if vertex_list is not a list but a set, dict, etc. ?\n- What if vertex_list has length less than `G.order()`. In particular, we must check that `set(vertex_list) == set(G.vertices())`.\n- Specific doctests are required.\n\nQuestion: in the declaration of method `init_short_digraph` in file `static_sparse_graph.pxd`, you use `vertex_list = ?`. Shouldn't it be `vertex_list=?` to comply with PEP8 ?",
    "created_at": "2018-10-11T13:38:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410553",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:11" align="right">Comment 11</div>

In general I agree with this change. However, I have the following concern:
- the description of parameter `vertex_list` must be extended. It should be explained that if it is given, the ordering induced by this vertex_list is used to map vertices to integers.
- What if vertex_list is not a list but a set, dict, etc. ?
- What if vertex_list has length less than `G.order()`. In particular, we must check that `set(vertex_list) == set(G.vertices())`.
- Specific doctests are required.

Question: in the declaration of method `init_short_digraph` in file `static_sparse_graph.pxd`, you use `vertex_list = ?`. Shouldn't it be `vertex_list=?` to comply with PEP8 ?



---

archive/issue_events_346289.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-11T13:38:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346289"
}
```



---

archive/issue_events_346290.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-11T13:38:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346290"
}
```



---

archive/issue_comments_410554.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f\">d3a9a8b</a></td><td><code>trac 26447 more doc and doctest</code></td></tr></table>\n",
    "created_at": "2018-10-11T14:09:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410554",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12" align="right">Comment 12</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f">d3a9a8b</a></td><td><code>trac 26447 more doc and doctest</code></td></tr></table>




---

archive/issue_comments_410555.json:
```json
{
    "body": "Changed commit from **[b82d8ed](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)** to **[d3a9a8b](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)**",
    "created_at": "2018-10-11T14:09:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410555",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[b82d8ed](https://github.com/sagemath/sagetrac-mirror/commit/b82d8ed9c195b7a786053d2730c79028fc560656)** to **[d3a9a8b](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)**



---

archive/issue_comments_410556.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nHere is some more doc. I would prefer not to add checks for the type, length and content of \"vertex_list\".",
    "created_at": "2018-10-11T14:09:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410556",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">Comment 13</div>

Here is some more doc. I would prefer not to add checks for the type, length and content of "vertex_list".



---

archive/issue_comments_410557.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI did several tests and it's working well except when the list has more vertices than the graph. This particular case could be tested at low cost, no ?\n\nIn all other cases, when the given list is not good, an error is raised somewhere. \n\n```python\nsage: from sage.graphs.base.static_sparse_backend import StaticSparseCGraph\nsage: G = graphs.PetersenGraph()\nsage: S = StaticSparseCGraph(G, vertex_list=range(10))\nsage: S = StaticSparseCGraph(G, vertex_list=range(10)[::-1])\nsage: S.verts()\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nsage: S = StaticSparseCGraph(G, vertex_list=range(20)) ### should we care ??\nsage: S.verts()\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nsage:\nsage: S = StaticSparseCGraph(G, vertex_list=range(5))\n---------------------------------------------------------------------------\nIndexError                                Traceback (most recent call last)\n...\nIndexError: list index out of range\nsage:\nsage: S = StaticSparseCGraph(G, vertex_list=range(1,11))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n....\nTypeError: 'int' object is not iterable\nsage:\nsage: S = StaticSparseCGraph(G, vertex_list=set(range(10)))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n...\nTypeError: Expected list, got set\n```",
    "created_at": "2018-10-11T15:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410557",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">Comment 14</div>

I did several tests and it's working well except when the list has more vertices than the graph. This particular case could be tested at low cost, no ?

In all other cases, when the given list is not good, an error is raised somewhere. 

```python
sage: from sage.graphs.base.static_sparse_backend import StaticSparseCGraph
sage: G = graphs.PetersenGraph()
sage: S = StaticSparseCGraph(G, vertex_list=range(10))
sage: S = StaticSparseCGraph(G, vertex_list=range(10)[::-1])
sage: S.verts()
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
sage: S = StaticSparseCGraph(G, vertex_list=range(20)) ### should we care ??
sage: S.verts()
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
sage:
sage: S = StaticSparseCGraph(G, vertex_list=range(5))
---------------------------------------------------------------------------
IndexError                                Traceback (most recent call last)
...
IndexError: list index out of range
sage:
sage: S = StaticSparseCGraph(G, vertex_list=range(1,11))
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
....
TypeError: 'int' object is not iterable
sage:
sage: S = StaticSparseCGraph(G, vertex_list=set(range(10)))
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
...
TypeError: Expected list, got set
```



---

archive/issue_comments_410558.json:
```json
{
    "body": "Reviewer: **David Coudert**",
    "created_at": "2018-10-11T15:40:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410558",
    "user": "https://github.com/dcoudert"
}
```

Reviewer: **David Coudert**



---

archive/issue_comments_410559.json:
```json
{
    "body": "Changed commit from **[d3a9a8b](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)** to **[6cb9d36](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)**",
    "created_at": "2018-10-11T17:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410559",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d3a9a8b](https://github.com/sagemath/sagetrac-mirror/commit/d3a9a8b52b42630014f4aca95444c2400c4d830f)** to **[6cb9d36](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)**



---

archive/issue_comments_410560.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa\">6cb9d36</a></td><td><code>trac 26447 adding check for length of vertex_list</code></td></tr></table>\n",
    "created_at": "2018-10-11T17:07:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410560",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15" align="right">Comment 15</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa">6cb9d36</a></td><td><code>trac 26447 adding check for length of vertex_list</code></td></tr></table>




---

archive/issue_comments_410561.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\n`len(G)` could be `G.order()`.",
    "created_at": "2018-10-11T17:11:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410561",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:16" align="right">Comment 16</div>

`len(G)` could be `G.order()`.



---

archive/issue_comments_410562.json:
```json
{
    "body": "Changed commit from **[6cb9d36](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)** to **[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)**",
    "created_at": "2018-10-11T17:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410562",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6cb9d36](https://github.com/sagemath/sagetrac-mirror/commit/6cb9d36a6bab2e1753307e345385a4c19b81a8fa)** to **[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)**



---

archive/issue_comments_410563.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3\">f5e740c</a></td><td><code>detail</code></td></tr></table>\n",
    "created_at": "2018-10-11T17:47:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410563",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17" align="right">Comment 17</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3">f5e740c</a></td><td><code>detail</code></td></tr></table>




---

archive/issue_comments_410564.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nok, done",
    "created_at": "2018-10-11T17:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410564",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:18" align="right">Comment 18</div>

ok, done



---

archive/issue_events_346291.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-11T18:02:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346291"
}
```



---

archive/issue_events_346292.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-10-11T18:02:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346292"
}
```



---

archive/issue_events_346293.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-11T18:11:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346293"
}
```



---

archive/issue_events_346294.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-11T18:11:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346294"
}
```



---

archive/issue_comments_410565.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nLGTM, passes all long tests on `graphs`.",
    "created_at": "2018-10-11T18:11:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410565",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:20" align="right">Comment 20</div>

LGTM, passes all long tests on `graphs`.



---

archive/issue_events_346295.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T11:57:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346295"
}
```



---

archive/issue_events_346296.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "75808093e3c60e0aa7860029565bf34ed6bc1d1d",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-10-20T11:57:59Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346296"
}
```



---

archive/issue_comments_410566.json:
```json
{
    "body": "Changed branch from **[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)** to **[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)**",
    "created_at": "2018-10-20T11:57:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410566",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/26447-version2](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26447-version2)** to **[f5e740c](https://github.com/sagemath/sagetrac-mirror/commit/f5e740c7f090ae2152009d19f77edf9d234486a3)**



---

archive/issue_comments_410567.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nThis should be re-targeted for 8.5.",
    "created_at": "2018-10-28T14:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26447#issuecomment-410567",
    "user": "https://github.com/embray"
}
```

<div id="comment:22" align="right">Comment 22</div>

This should be re-targeted for 8.5.



---

archive/issue_events_346297.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346297"
}
```



---

archive/issue_events_346298.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-10-28T14:52:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26447",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26447#event-346298"
}
```
