# Issue 26103: absolute_field() for towers of finite fields

archive/issues_025866.json:
```json
{
    "body": "Towers of finite fields are hard to work with because they lose most of the nice functionality of simple extensions of prime finite fields and are also much slower.\n\nTherefore it would be useful to have a method that turns a tower into a simple extension.\n\nNote that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me. There is also `_isomorphic_ring` on polynomial quotient rings which does something similar so this should probably be unified for finite fields.\n\nCC:  swewers @roed314\n\nKeywords: finite fields, polynomial quotient ring, padicBordeaux\n\nBranch: u/saraedum/26103\n\nDependencies: #26105, #26161\n\nCommit: 0f7c2c959c577ef62edc7a2477dc7df6826d9f9a\n\nResolution: invalid\n\nIssue created by migration from https://trac.sagemath.org/ticket/26103\n\n",
    "closed_at": "2022-02-12T18:02:50Z",
    "created_at": "2018-08-20T23:50:33Z",
    "labels": [
        "component: finite rings"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "absolute_field() for towers of finite fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26103",
    "user": "https://github.com/saraedum"
}
```
Towers of finite fields are hard to work with because they lose most of the nice functionality of simple extensions of prime finite fields and are also much slower.

Therefore it would be useful to have a method that turns a tower into a simple extension.

Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me. There is also `_isomorphic_ring` on polynomial quotient rings which does something similar so this should probably be unified for finite fields.

CC:  swewers @roed314

Keywords: finite fields, polynomial quotient ring, padicBordeaux

Branch: u/saraedum/26103

Dependencies: #26105, #26161

Commit: 0f7c2c959c577ef62edc7a2477dc7df6826d9f9a

Resolution: invalid

Issue created by migration from https://trac.sagemath.org/ticket/26103





---

archive/issue_comments_388486.json:
```json
{
    "body": "<a id='comment:1'></a>See #25976 for a followup and https://github.com/MCLF/mclf/issues/103 for some context.",
    "created_at": "2018-08-20T23:52:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388486",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:1'></a>See #25976 for a followup and https://github.com/MCLF/mclf/issues/103 for some context.



---

archive/issue_comments_388487.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -4,7 +4,9 @@\n \n Initially this would only be implemented for trivial extensions and towers of finite fields.\n \n-Keywords: finite fields, polynomial quotient ring\n+As an alternative, there could also be a `absolute_field()` method in the category of finite fields.\n+\n+Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me.\n \n Comment: 1\n \n```\n",
    "created_at": "2018-08-21T12:51:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388487",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -4,7 +4,9 @@
 
 Initially this would only be implemented for trivial extensions and towers of finite fields.
 
-Keywords: finite fields, polynomial quotient ring
+As an alternative, there could also be a `absolute_field()` method in the category of finite fields.
+
+Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me.
 
 Comment: 1
 
```




---

archive/issue_comments_388488.json:
```json
{
    "body": "<a id='comment:4'></a>New commits:",
    "created_at": "2018-08-21T17:25:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388488",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:4'></a>New commits:



---

archive/issue_comments_388489.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-21T17:31:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388489",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_388490.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Towers of finite fields are hard to work with because they lose most of the nice functionality of simple extensions of prime finite fields and are also much slower.\n \n+Therefore it would be useful to have a method that turns a tower into a simple extension.\n+\n+Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me.\n \n Comment: 1\n \n```\n",
    "created_at": "2018-08-21T17:32:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388490",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Towers of finite fields are hard to work with because they lose most of the nice functionality of simple extensions of prime finite fields and are also much slower.
 
+Therefore it would be useful to have a method that turns a tower into a simple extension.
+
+Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me.
 
 Comment: 1
 
```




---

archive/issue_comments_388491.json:
```json
{
    "body": "<a id='comment:7'></a>Without proper support for morphisms with base_morphisms, the output is slightly ugly:\n\n```\nsage: k = GF(2)\nsage: R.<a> = k[]\nsage: l.<a> = k.extension(a^3 + a^2 + 1)\nsage: l.absolute_field()\n(Finite Field in z3 of size 2^3, Composite map:\n   From: Finite Field in a of size 2^3\n   To:   Finite Field in z3 of size 2^3\n   Defn:   Ring morphism:\n           From: Finite Field in a of size 2^3\n           To:   Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)\n           Defn: a |--> a\n         then\n           Ring morphism:\n           From: Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)\n           To:   Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3\n           Defn: Induced from base ring by\n                 Composite map:\n                   From: Finite Field of size 2\n                   To:   Finite Field in z3 of size 2^3\n                   Defn:   Identity endomorphism of Finite Field of size 2\n                         then\n                           Ring morphism:\n                           From: Finite Field of size 2\n                           To:   Finite Field in z3 of size 2^3\n                           Defn: 1 |--> 1\n         then\n           Ring morphism:\n           From: Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3\n           To:   Finite Field in z3 of size 2^3\n           Defn: a |--> z3^2 + 1, Ring morphism:\n   From: Finite Field in z3 of size 2^3\n   To:   Finite Field in a of size 2^3\n   Defn: z3 |--> a^2 + a)\n```\n\nUnfortunately, this does not work yet if we add another extension on top:\n\n```\nsage: R.<b> = l[]\nsage: m.<b> = l.extension(b^2 + b + a)\nsage: m.absolute_field()\nAttributeError: no attribute absolute_field\n```\n\nThe problem is that even though `m` is in the category of finite fields, it does not inherit the parent methods for some reason.\n\n---\nNew commits:",
    "created_at": "2018-08-29T13:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388491",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:7'></a>Without proper support for morphisms with base_morphisms, the output is slightly ugly:

```
sage: k = GF(2)
sage: R.<a> = k[]
sage: l.<a> = k.extension(a^3 + a^2 + 1)
sage: l.absolute_field()
(Finite Field in z3 of size 2^3, Composite map:
   From: Finite Field in a of size 2^3
   To:   Finite Field in z3 of size 2^3
   Defn:   Ring morphism:
           From: Finite Field in a of size 2^3
           To:   Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)
           Defn: a |--> a
         then
           Ring morphism:
           From: Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)
           To:   Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3
           Defn: Induced from base ring by
                 Composite map:
                   From: Finite Field of size 2
                   To:   Finite Field in z3 of size 2^3
                   Defn:   Identity endomorphism of Finite Field of size 2
                         then
                           Ring morphism:
                           From: Finite Field of size 2
                           To:   Finite Field in z3 of size 2^3
                           Defn: 1 |--> 1
         then
           Ring morphism:
           From: Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3
           To:   Finite Field in z3 of size 2^3
           Defn: a |--> z3^2 + 1, Ring morphism:
   From: Finite Field in z3 of size 2^3
   To:   Finite Field in a of size 2^3
   Defn: z3 |--> a^2 + a)
```

Unfortunately, this does not work yet if we add another extension on top:

```
sage: R.<b> = l[]
sage: m.<b> = l.extension(b^2 + b + a)
sage: m.absolute_field()
AttributeError: no attribute absolute_field
```

The problem is that even though `m` is in the category of finite fields, it does not inherit the parent methods for some reason.

---
New commits:



---

archive/issue_comments_388492.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-29T14:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388492",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_388493.json:
```json
{
    "body": "<a id='comment:9'></a>It only gets worse for larger towers:\n\n```\nsage: R.<b> = l[]\nsage: m.<b> = l.extension(b^2 + b + a)\nsage: m.is_field() # refines category\nsage: m.absolute_field()\n(Finite Field in z6 of size 2^6, Composite map:\n   From: Univariate Quotient Polynomial Ring in b over Finite Field in a of size 2^3 with modulus b^2 + b + a\n   To:   Finite Field in z6 of size 2^6\n   Defn:   Ring morphism:\n           From: Univariate Quotient Polynomial Ring in b over Finite Field in a of size 2^3 with modulus b^2 + b + a\n           To:   Univariate Polynomial Ring in b over Finite Field in a of size 2^3\n           Defn: b |--> b\n         then\n           Ring morphism:\n           From: Univariate Polynomial Ring in b over Finite Field in a of size 2^3\n           To:   Univariate Polynomial Ring in b over Finite Field in z6 of size 2^6\n           Defn: Induced from base ring by\n                 Composite map:\n                   From: Finite Field in a of size 2^3\n                   To:   Finite Field in z6 of size 2^6\n                   Defn:   Ring morphism:\n                           From: Finite Field in a of size 2^3\n                           To:   Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)\n                           Defn: a |--> a\n                         then\n                           Ring morphism:\n                           From: Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)\n                           To:   Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3\n                           Defn: Induced from base ring by\n                                 Composite map:\n                                   From: Finite Field of size 2\n                                   To:   Finite Field in z3 of size 2^3\n                                   Defn:   Identity endomorphism of Finite Field of size 2\n                                         then\n                                           Ring morphism:\n                                           From: Finite Field of size 2\n                                           To:   Finite Field in z3 of size 2^3\n                                           Defn: 1 |--> 1\n                         then\n                           Ring morphism:\n                           From: Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3\n                           To:   Finite Field in z3 of size 2^3\n                           Defn: a |--> z3 + 1\n                         then\n                           Ring morphism:\n                           From: Finite Field in z3 of size 2^3\n                           To:   Finite Field in z6 of size 2^6\n                           Defn: z3 |--> z6^5 + z6^4 + z6^2 + 1\n         then\n           Ring morphism:\n           From: Univariate Polynomial Ring in b over Finite Field in z6 of size 2^6\n           To:   Finite Field in z6 of size 2^6\n           Defn: b |--> z6^4 + z6^3, Ring morphism:\n   From: Finite Field in z6 of size 2^6\n   To:   Univariate Quotient Polynomial Ring in b over Finite Field in a of size 2^3 with modulus b^2 + b + a\n   Defn: z6 |--> (a + 1)*b + a^2 + a)\n```",
    "created_at": "2018-08-29T15:40:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388493",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:9'></a>It only gets worse for larger towers:

```
sage: R.<b> = l[]
sage: m.<b> = l.extension(b^2 + b + a)
sage: m.is_field() # refines category
sage: m.absolute_field()
(Finite Field in z6 of size 2^6, Composite map:
   From: Univariate Quotient Polynomial Ring in b over Finite Field in a of size 2^3 with modulus b^2 + b + a
   To:   Finite Field in z6 of size 2^6
   Defn:   Ring morphism:
           From: Univariate Quotient Polynomial Ring in b over Finite Field in a of size 2^3 with modulus b^2 + b + a
           To:   Univariate Polynomial Ring in b over Finite Field in a of size 2^3
           Defn: b |--> b
         then
           Ring morphism:
           From: Univariate Polynomial Ring in b over Finite Field in a of size 2^3
           To:   Univariate Polynomial Ring in b over Finite Field in z6 of size 2^6
           Defn: Induced from base ring by
                 Composite map:
                   From: Finite Field in a of size 2^3
                   To:   Finite Field in z6 of size 2^6
                   Defn:   Ring morphism:
                           From: Finite Field in a of size 2^3
                           To:   Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)
                           Defn: a |--> a
                         then
                           Ring morphism:
                           From: Univariate Polynomial Ring in a over Finite Field of size 2 (using GF2X)
                           To:   Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3
                           Defn: Induced from base ring by
                                 Composite map:
                                   From: Finite Field of size 2
                                   To:   Finite Field in z3 of size 2^3
                                   Defn:   Identity endomorphism of Finite Field of size 2
                                         then
                                           Ring morphism:
                                           From: Finite Field of size 2
                                           To:   Finite Field in z3 of size 2^3
                                           Defn: 1 |--> 1
                         then
                           Ring morphism:
                           From: Univariate Polynomial Ring in a over Finite Field in z3 of size 2^3
                           To:   Finite Field in z3 of size 2^3
                           Defn: a |--> z3 + 1
                         then
                           Ring morphism:
                           From: Finite Field in z3 of size 2^3
                           To:   Finite Field in z6 of size 2^6
                           Defn: z3 |--> z6^5 + z6^4 + z6^2 + 1
         then
           Ring morphism:
           From: Univariate Polynomial Ring in b over Finite Field in z6 of size 2^6
           To:   Finite Field in z6 of size 2^6
           Defn: b |--> z6^4 + z6^3, Ring morphism:
   From: Finite Field in z6 of size 2^6
   To:   Univariate Quotient Polynomial Ring in b over Finite Field in a of size 2^3 with modulus b^2 + b + a
   Defn: z6 |--> (a + 1)*b + a^2 + a)
```



---

archive/issue_comments_388494.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-29T15:41:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388494",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_388495.json:
```json
{
    "body": "<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-08-30T00:43:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388495",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_388496.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,8 @@\n+Towers of finite fields are hard to work with because they lose most of the nice functionality of simple extensions of prime finite fields and are also much slower.\n \n+Therefore it would be useful to have a method that turns a tower into a simple extension.\n+\n+Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me. There is also `_isomorphic_ring` on polynomial quotient rings which does something similar so this should probably be unified for finite fields.\n \n Comment: 1\n \n```\n",
    "created_at": "2018-09-04T14:11:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388496",
    "user": "https://github.com/saraedum"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,8 @@
+Towers of finite fields are hard to work with because they lose most of the nice functionality of simple extensions of prime finite fields and are also much slower.
 
+Therefore it would be useful to have a method that turns a tower into a simple extension.
+
+Note that there have been attempts to support relative extensions of finite fields in #21413 and that there is also `sage.coding.relative_finite_field_extension`, the state of which is unclear to me. There is also `_isomorphic_ring` on polynomial quotient rings which does something similar so this should probably be unified for finite fields.
 
 Comment: 1
 
```




---

archive/issue_comments_388497.json:
```json
{
    "body": "Changing keywords from \"finite fields, polynomial quotient ring\" to \"finite fields, polynomial quotient ring, padicBordeaux\".",
    "created_at": "2019-09-07T12:22:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388497",
    "user": "https://github.com/roed314"
}
```

Changing keywords from "finite fields, polynomial quotient ring" to "finite fields, polynomial quotient ring, padicBordeaux".



---

archive/issue_comments_388498.json:
```json
{
    "body": "<a id='comment:15'></a>https://gitlab.com/sagemath/sage/-/merge_requests/33 implements this in a more general way it seems.\n\nSo what's been done here is probably irrelevant.",
    "created_at": "2020-09-02T20:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388498",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:15'></a>https://gitlab.com/sagemath/sage/-/merge_requests/33 implements this in a more general way it seems.

So what's been done here is probably irrelevant.



---

archive/issue_events_065127.json:
```json
{
    "actor": "https://github.com/saraedum",
    "created_at": "2022-02-12T17:57:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26103#event-65127"
}
```



---

archive/issue_comments_388499.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-02-12T17:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388499",
    "user": "https://github.com/saraedum"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_388500.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-02-12T17:57:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388500",
    "user": "https://github.com/saraedum"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_388501.json:
```json
{
    "body": "Resolution: invalid",
    "created_at": "2022-02-12T18:02:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26103#issuecomment-388501",
    "user": "https://github.com/mkoeppe"
}
```

Resolution: invalid



---

archive/issue_events_065128.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-02-12T18:02:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26103",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26103#event-65128"
}
```
