# Issue 26949: py3: make sage autodoc extension work for both python2 and python3

archive/issues_026712.json:
```json
{
    "assignees": [],
    "body": "Sage using python3 presently fails to build the sage documentation. This is because the current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc` that works for both python2 and python3.\n\nThe new `sage_autodoc` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.\n\nBranch/Commit: **[`16d81eb`](https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d)**\n\nReviewer: **Jeroen Demeyer**\n\nAuthor: **Kwankyu Lee**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26949_\n\n",
    "closed_at": "2019-01-24T18:17:49Z",
    "created_at": "2018-12-24T00:43:23Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: make sage autodoc extension work for both python2 and python3",
    "type": "issue",
    "updated_at": "2019-01-24T18:17:49Z",
    "url": "https://github.com/sagemath/sage/issues/26949",
    "user": "https://github.com/kwankyu"
}
```
Sage using python3 presently fails to build the sage documentation. This is because the current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc` that works for both python2 and python3.

The new `sage_autodoc` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.

Branch/Commit: **[`16d81eb`](https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d)**

Reviewer: **Jeroen Demeyer**

Author: **Kwankyu Lee**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/26949_





---

archive/issue_events_372073.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T00:43:23Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372073"
}
```



---

archive/issue_events_372074.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T00:43:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372074"
}
```



---

archive/issue_events_372075.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T00:43:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372075"
}
```



---

archive/issue_events_372076.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T00:43:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372076"
}
```



---

archive/issue_comments_415402.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,5 @@\n+Sage using python3 presently fails to build the sage documentation. This is because current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc3` module for python3 along with old `sage_autodoc` for python2.\n \n+The new `sage_autodoc3` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.\n+\n+It would be preferable to make one `sage_autodoc` working for both python 2  and 3. But after lots of trials and failures, this aim was given up, and now is left as a future task for someone who cares it.\n``````\n",
    "created_at": "2018-12-24T01:08:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415402",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,5 @@
+Sage using python3 presently fails to build the sage documentation. This is because current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc3` module for python3 along with old `sage_autodoc` for python2.
 
+The new `sage_autodoc3` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.
+
+It would be preferable to make one `sage_autodoc` working for both python 2  and 3. But after lots of trials and failures, this aim was given up, and now is left as a future task for someone who cares it.
``````




---

archive/issue_comments_415403.json:
```json
{
    "body": "Branch: **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)**",
    "created_at": "2018-12-24T01:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415403",
    "user": "https://github.com/kwankyu"
}
```

Branch: **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)**



---

archive/issue_comments_415404.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/808579c7df14e62eebf550cbb43b913156952a85\"><code>808579c</code></a></td><td><code>Make sage autodoc work for both py2 and py3</code></td></tr></table>\n",
    "created_at": "2018-12-24T01:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415404",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/808579c7df14e62eebf550cbb43b913156952a85"><code>808579c</code></a></td><td><code>Make sage autodoc work for both py2 and py3</code></td></tr></table>




---

archive/issue_comments_415405.json:
```json
{
    "body": "Author: **Kwankyu Lee**",
    "created_at": "2018-12-24T01:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415405",
    "user": "https://github.com/kwankyu"
}
```

Author: **Kwankyu Lee**



---

archive/issue_comments_415406.json:
```json
{
    "body": "Commit: **[`808579c`](https://github.com/sagemath/sagetrac-mirror/commit/808579c7df14e62eebf550cbb43b913156952a85)**",
    "created_at": "2018-12-24T01:13:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415406",
    "user": "https://github.com/kwankyu"
}
```

Commit: **[`808579c`](https://github.com/sagemath/sagetrac-mirror/commit/808579c7df14e62eebf550cbb43b913156952a85)**



---

archive/issue_events_372077.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T01:22:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20documentation",
    "label_color": "0075ca",
    "label_name": "c: documentation",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372077"
}
```



---

archive/issue_events_372078.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T01:22:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372078"
}
```



---

archive/issue_events_372079.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T01:26:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372079"
}
```



---

archive/issue_events_372080.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T06:00:39Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "title_is": "py3: Make sage autodoc extension work for both python2 and python3",
    "title_was": "Make sage autodoc extension work for both python2 and python3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372080"
}
```



---

archive/issue_events_372081.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-24T06:02:40Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "title_is": "py3: make sage autodoc extension work for both python2 and python3",
    "title_was": "py3: Make sage autodoc extension work for both python2 and python3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372081"
}
```



---

archive/issue_comments_415407.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI had always thought the issue was with `sage_autodoc.py` but I didn't have the python 3 background to attempt a change. I'll give it a try.",
    "created_at": "2018-12-24T17:55:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415407",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:8" align="right">comment:8</div>

I had always thought the issue was with `sage_autodoc.py` but I didn't have the python 3 background to attempt a change. I'll give it a try.



---

archive/issue_comments_415408.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nThis is good progress. Methods in the Python 3 documentation look like `method(self):`, while in the Python 2 version, they look like `method()`. I don't object to that, but do we know why this change has happened? More significantly, in the Python 3 version, it seems that if a method has a decorator like `@cached_method` or `@abstract_method`, then the signature is gone completely and it just says `method`.",
    "created_at": "2018-12-24T20:46:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415408",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:9" align="right">comment:9</div>

This is good progress. Methods in the Python 3 documentation look like `method(self):`, while in the Python 2 version, they look like `method()`. I don't object to that, but do we know why this change has happened? More significantly, in the Python 3 version, it seems that if a method has a decorator like `@cached_method` or `@abstract_method`, then the signature is gone completely and it just says `method`.



---

archive/issue_comments_415409.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nAlso under [Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html) \n**an_element()** with Python 2 appears as **an_element** with Python 3. This may be due to confusing `py:method` (Python 2) with `py:attribute` (Python 3).",
    "created_at": "2018-12-24T21:13:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415409",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:10" align="right">comment:10</div>

Also under [Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html) 
**an_element()** with Python 2 appears as **an_element** with Python 3. This may be due to confusing `py:method` (Python 2) with `py:attribute` (Python 3).



---

archive/issue_comments_415410.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@strogdon](#comment:10):\n> Also under [Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html) \n> **an_element()** with Python 2 appears as **an_element** with Python 3. This may be due to confusing `py:method` (Python 2) with `py:attribute` (Python 3).\n\nI was guessing that this was because `an_element` is marked as `@cached_method`.",
    "created_at": "2018-12-24T22:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415410",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@strogdon](#comment:10):
> Also under [Sets](http://doc.sagemath.org/html/en/reference/categories/sage/categories/sets_cat.html) 
> **an_element()** with Python 2 appears as **an_element** with Python 3. This may be due to confusing `py:method` (Python 2) with `py:attribute` (Python 3).

I was guessing that this was because `an_element` is marked as `@cached_method`.



---

archive/issue_comments_415411.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@jhpalmieri](#comment:9):\n> This is good progress. Methods in the Python 3 documentation look like `method(self):`, while in the Python 2 version, they look like `method()`. I don't object to that, but do we know why this change has happened? More significantly, in the Python 3 version, it seems that if a method has a decorator like `@cached_method` or `@abstract_method`, then the signature is gone completely and it just says `method`.\n\nI expected these subtle differences. I cannot explain the cause of the differences, but know where to look. You can start with \n\n`vimdiff src/sage_setup/docbuild/ext/sage_autodoc3.py local/lib/python2.7/site-packages/sphinx/ext/autodoc/__init__.py` \n\nand perhaps also with comparing `sage_autodoc3` with the original `sage_autodoc`. \n\nI would welcome commits to fix these unpleasant changes, after switching to a public branch. \n\nTo understand how an attribute (in the general sense, of a module or of a class) is rendered by Sphinx, note that a  suitable `Documenter` is selected for each attribute in the last lines of the following (in `sage_autodoc`): \n\n```\n    def document_members(self, all_members=False):\n        \"\"\"Generate reST for member documentation.\n\n        If *all_members* is True, do all members, else those given by\n        *self.options.members*.\n        \"\"\"\n        # set current namespace for finding members\n        self.env.temp_data['autodoc:module'] = self.modname\n        if self.objpath:\n            self.env.temp_data['autodoc:class'] = self.objpath[0]\n\n        want_all = all_members or self.options.inherited_members or \\\n            self.options.members is ALL\n        # find out which members are documentable\n        members_check_module, members = self.get_object_members(want_all)\n\n        # remove members given by exclude-members\n        if self.options.exclude_members:\n            members = [(membername, member) for (membername, member) in members\n                       if membername not in self.options.exclude_members]\n\n        # document non-skipped members\n        memberdocumenters = []\n        for (mname, member, isattr) in self.filter_members(members, want_all): <------------------------\n            classes = [cls for cls in itervalues(self.documenters)\n                       if cls.can_document_member(member, mname, isattr, self)]  <----------------------\n            if not classes:\n                # don't know how to document this member\n                continue\n            # prefer the documenter with the highest priority\n            classes.sort(key=lambda cls: cls.priority)                 <----------------------\n            # give explicitly separated module name, so that members\n            # of inner classes can be documented\n            full_mname = self.modname + '::' + \\\n                '.'.join(self.objpath + [mname])\n            documenter = classes[-1](self.directive, full_mname, self.indent)               <---------- look here\n\n            memberdocumenters.append((documenter, isattr))\n\n        ...\n```",
    "created_at": "2018-12-24T23:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415411",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@jhpalmieri](#comment:9):
> This is good progress. Methods in the Python 3 documentation look like `method(self):`, while in the Python 2 version, they look like `method()`. I don't object to that, but do we know why this change has happened? More significantly, in the Python 3 version, it seems that if a method has a decorator like `@cached_method` or `@abstract_method`, then the signature is gone completely and it just says `method`.

I expected these subtle differences. I cannot explain the cause of the differences, but know where to look. You can start with 

`vimdiff src/sage_setup/docbuild/ext/sage_autodoc3.py local/lib/python2.7/site-packages/sphinx/ext/autodoc/__init__.py` 

and perhaps also with comparing `sage_autodoc3` with the original `sage_autodoc`. 

I would welcome commits to fix these unpleasant changes, after switching to a public branch. 

To understand how an attribute (in the general sense, of a module or of a class) is rendered by Sphinx, note that a  suitable `Documenter` is selected for each attribute in the last lines of the following (in `sage_autodoc`): 

```
    def document_members(self, all_members=False):
        """Generate reST for member documentation.

        If *all_members* is True, do all members, else those given by
        *self.options.members*.
        """
        # set current namespace for finding members
        self.env.temp_data['autodoc:module'] = self.modname
        if self.objpath:
            self.env.temp_data['autodoc:class'] = self.objpath[0]

        want_all = all_members or self.options.inherited_members or \
            self.options.members is ALL
        # find out which members are documentable
        members_check_module, members = self.get_object_members(want_all)

        # remove members given by exclude-members
        if self.options.exclude_members:
            members = [(membername, member) for (membername, member) in members
                       if membername not in self.options.exclude_members]

        # document non-skipped members
        memberdocumenters = []
        for (mname, member, isattr) in self.filter_members(members, want_all): <------------------------
            classes = [cls for cls in itervalues(self.documenters)
                       if cls.can_document_member(member, mname, isattr, self)]  <----------------------
            if not classes:
                # don't know how to document this member
                continue
            # prefer the documenter with the highest priority
            classes.sort(key=lambda cls: cls.priority)                 <----------------------
            # give explicitly separated module name, so that members
            # of inner classes can be documented
            full_mname = self.modname + '::' + \
                '.'.join(self.objpath + [mname])
            documenter = classes[-1](self.directive, full_mname, self.indent)               <---------- look here

            memberdocumenters.append((documenter, isattr))

        ...
```



---

archive/issue_events_372082.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-25T11:53:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372082"
}
```



---

archive/issue_events_372083.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-25T11:53:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372083"
}
```



---

archive/issue_comments_415412.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nWhile making things compatible with Python 3 is a good goal, having two completely independent implementations of it is a horrible solution. Then we would have two autodoc extensions to maintain instead of one.",
    "created_at": "2018-12-25T11:53:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415412",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

While making things compatible with Python 3 is a good goal, having two completely independent implementations of it is a horrible solution. Then we would have two autodoc extensions to maintain instead of one.



---

archive/issue_comments_415413.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nAlso, I would personally prefer to wait with this until after #26451. But it's partially my fault for dragging that, so consider this just a suggestion.",
    "created_at": "2018-12-25T11:55:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415413",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Also, I would personally prefer to wait with this until after #26451. But it's partially my fault for dragging that, so consider this just a suggestion.



---

archive/issue_comments_415414.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fb41ff74528f50996b618bf31de6da6374e44361\"><code>fb41ff7</code></a></td><td><code>Have one sage_autodoc for py2 and py3</code></td></tr></table>\n",
    "created_at": "2018-12-26T01:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415414",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fb41ff74528f50996b618bf31de6da6374e44361"><code>fb41ff7</code></a></td><td><code>Have one sage_autodoc for py2 and py3</code></td></tr></table>




---

archive/issue_comments_415415.json:
```json
{
    "body": "Changed commit from **[`808579c`](https://github.com/sagemath/sagetrac-mirror/commit/808579c7df14e62eebf550cbb43b913156952a85)** to **[`fb41ff7`](https://github.com/sagemath/sagetrac-mirror/commit/fb41ff74528f50996b618bf31de6da6374e44361)**",
    "created_at": "2018-12-26T01:37:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415415",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`808579c`](https://github.com/sagemath/sagetrac-mirror/commit/808579c7df14e62eebf550cbb43b913156952a85)** to **[`fb41ff7`](https://github.com/sagemath/sagetrac-mirror/commit/fb41ff74528f50996b618bf31de6da6374e44361)**



---

archive/issue_events_372084.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-26T01:42:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372084"
}
```



---

archive/issue_events_372085.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-26T01:42:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372085"
}
```



---

archive/issue_comments_415416.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,3 @@\n-Sage using python3 presently fails to build the sage documentation. This is because current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc3` module for python3 along with old `sage_autodoc` for python2.\n+Sage using python3 presently fails to build the sage documentation. This is because the current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc` that works for both python2 and python3.\n \n-The new `sage_autodoc3` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.\n-\n-It would be preferable to make one `sage_autodoc` working for both python 2  and 3. But after lots of trials and failures, this aim was given up, and now is left as a future task for someone who cares it.\n+The new `sage_autodoc` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.\n``````\n",
    "created_at": "2018-12-26T01:42:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415416",
    "user": "https://github.com/kwankyu"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,3 @@
-Sage using python3 presently fails to build the sage documentation. This is because current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc3` module for python3 along with old `sage_autodoc` for python2.
+Sage using python3 presently fails to build the sage documentation. This is because the current sage autodoc extension does not properly work with python3. This ticket provides new `sage_autodoc` that works for both python2 and python3.
 
-The new `sage_autodoc3` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.
-
-It would be preferable to make one `sage_autodoc` working for both python 2  and 3. But after lots of trials and failures, this aim was given up, and now is left as a future task for someone who cares it.
+The new `sage_autodoc` is based on the existing `sage_autodoc` but trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`. This is to make it more **maintainable** by clarifying modifications made by Sage to Sphinx autodoc extension.
``````




---

archive/issue_comments_415417.json:
```json
{
    "body": "Changed commit from **[`fb41ff7`](https://github.com/sagemath/sagetrac-mirror/commit/fb41ff74528f50996b618bf31de6da6374e44361)** to **[`2796bde`](https://github.com/sagemath/sagetrac-mirror/commit/2796bde886b2a5b4ebe3057458b4470c74170730)**",
    "created_at": "2018-12-26T02:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415417",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fb41ff7`](https://github.com/sagemath/sagetrac-mirror/commit/fb41ff74528f50996b618bf31de6da6374e44361)** to **[`2796bde`](https://github.com/sagemath/sagetrac-mirror/commit/2796bde886b2a5b4ebe3057458b4470c74170730)**



---

archive/issue_comments_415418.json:
```json
{
    "body": "<div id=\"comment:17\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2796bde886b2a5b4ebe3057458b4470c74170730\"><code>2796bde</code></a></td><td><code>Remove scaffolds used for debugging</code></td></tr></table>\n",
    "created_at": "2018-12-26T02:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415418",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:17"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2796bde886b2a5b4ebe3057458b4470c74170730"><code>2796bde</code></a></td><td><code>Remove scaffolds used for debugging</code></td></tr></table>




---

archive/issue_comments_415419.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nA cursory look at a python 3 build of the docs looks OK. Now for python 2.",
    "created_at": "2018-12-26T04:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415419",
    "user": "https://github.com/strogdon"
}
```

<div id="comment:18" align="right">comment:18</div>

A cursory look at a python 3 build of the docs looks OK. Now for python 2.



---

archive/issue_comments_415420.json:
```json
{
    "body": "Replying to [ticket:26949 klee]:\n> trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`.\n\nCan you justify this? In particular, which \"orthodox `autodoc`\" are you talking about? Given that Sage is not using the latest Sphinx (see #26451 for that), this is a relevant question.",
    "created_at": "2018-12-26T12:33:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415420",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [ticket:26949 klee]:
> trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`.

Can you justify this? In particular, which "orthodox `autodoc`" are you talking about? Given that Sage is not using the latest Sphinx (see #26451 for that), this is a relevant question.



---

archive/issue_comments_415421.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jdemeyer](#comment:19):\n> Replying to [ticket:26949 klee]:\n> > trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`.\n\n> \n> Can you justify this? In particular, which \"orthodox `autodoc`\" are you talking about? Given that Sage is not using the latest Sphinx (see #26451 for that), this is a relevant question.\n\nI just meant the one currently shipped with Sage. So not the latest. \n\nYou know what I mean by \"sync well\" if you \"vimdiff\" old `sage_autodoc` and then the new `sage_autodoc`,  against Sphinx' `ext/autodoc/__init__py`.",
    "created_at": "2018-12-26T12:57:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415421",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jdemeyer](#comment:19):
> Replying to [ticket:26949 klee]:
> > trimmed a lot to be in sync well with Sphinx' orthodox `autodoc`.

> 
> Can you justify this? In particular, which "orthodox `autodoc`" are you talking about? Given that Sage is not using the latest Sphinx (see #26451 for that), this is a relevant question.

I just meant the one currently shipped with Sage. So not the latest. 

You know what I mean by "sync well" if you "vimdiff" old `sage_autodoc` and then the new `sage_autodoc`,  against Sphinx' `ext/autodoc/__init__py`.



---

archive/issue_comments_415422.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2cb19948089a96db237ab74cfdec8ea7c0f71d3\"><code>f2cb199</code></a></td><td><code>Some pyflakes fixes</code></td></tr></table>\n",
    "created_at": "2018-12-26T13:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415422",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2cb19948089a96db237ab74cfdec8ea7c0f71d3"><code>f2cb199</code></a></td><td><code>Some pyflakes fixes</code></td></tr></table>




---

archive/issue_comments_415423.json:
```json
{
    "body": "Changed commit from **[`2796bde`](https://github.com/sagemath/sagetrac-mirror/commit/2796bde886b2a5b4ebe3057458b4470c74170730)** to **[`f2cb199`](https://github.com/sagemath/sagetrac-mirror/commit/f2cb19948089a96db237ab74cfdec8ea7c0f71d3)**",
    "created_at": "2018-12-26T13:41:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415423",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`2796bde`](https://github.com/sagemath/sagetrac-mirror/commit/2796bde886b2a5b4ebe3057458b4470c74170730)** to **[`f2cb199`](https://github.com/sagemath/sagetrac-mirror/commit/f2cb19948089a96db237ab74cfdec8ea7c0f71d3)**



---

archive/issue_comments_415424.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16849f30085975888c3a747d1449f5ba78107146\"><code>16849f3</code></a></td><td><code>Another pyflakes fix</code></td></tr></table>\n",
    "created_at": "2018-12-26T13:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415424",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16849f30085975888c3a747d1449f5ba78107146"><code>16849f3</code></a></td><td><code>Another pyflakes fix</code></td></tr></table>




---

archive/issue_comments_415425.json:
```json
{
    "body": "Changed commit from **[`f2cb199`](https://github.com/sagemath/sagetrac-mirror/commit/f2cb19948089a96db237ab74cfdec8ea7c0f71d3)** to **[`16849f3`](https://github.com/sagemath/sagetrac-mirror/commit/16849f30085975888c3a747d1449f5ba78107146)**",
    "created_at": "2018-12-26T13:47:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415425",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f2cb199`](https://github.com/sagemath/sagetrac-mirror/commit/f2cb19948089a96db237ab74cfdec8ea7c0f71d3)** to **[`16849f3`](https://github.com/sagemath/sagetrac-mirror/commit/16849f30085975888c3a747d1449f5ba78107146)**



---

archive/issue_comments_415426.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nPlease rebase to 8.5 and squash commits to just one commit.",
    "created_at": "2018-12-26T14:04:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415426",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:23" align="right">comment:23</div>

Please rebase to 8.5 and squash commits to just one commit.



---

archive/issue_comments_415427.json:
```json
{
    "body": "Reviewer: **Jeroen Demeyer**",
    "created_at": "2018-12-26T14:07:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415427",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Jeroen Demeyer**



---

archive/issue_comments_415428.json:
```json
{
    "body": "Changed commit from **[`16849f3`](https://github.com/sagemath/sagetrac-mirror/commit/16849f30085975888c3a747d1449f5ba78107146)** to **[`bd72960`](https://github.com/sagemath/sagetrac-mirror/commit/bd729605a55d59319d0cf9f5b0cdc9e7ac83c9a9)**",
    "created_at": "2018-12-26T14:32:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415428",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`16849f3`](https://github.com/sagemath/sagetrac-mirror/commit/16849f30085975888c3a747d1449f5ba78107146)** to **[`bd72960`](https://github.com/sagemath/sagetrac-mirror/commit/bd729605a55d59319d0cf9f5b0cdc9e7ac83c9a9)**



---

archive/issue_comments_415429.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd729605a55d59319d0cf9f5b0cdc9e7ac83c9a9\"><code>bd72960</code></a></td><td><code>Makes sage autodoc work for both py2 and py3</code></td></tr></table>\n",
    "created_at": "2018-12-26T14:32:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415429",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd729605a55d59319d0cf9f5b0cdc9e7ac83c9a9"><code>bd72960</code></a></td><td><code>Makes sage autodoc work for both py2 and py3</code></td></tr></table>




---

archive/issue_comments_415430.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\n`sage.combinat.diagram_algebras.AbstractPartitionDiagrams.Element` is now documented as \"alias of `InheritComparisonClasscallMetaclass`\" which is not very informative.\n\nThis used to be \"alias of `AbstractPartitionDiagram`\".",
    "created_at": "2018-12-26T14:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415430",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:26" align="right">comment:26</div>

`sage.combinat.diagram_algebras.AbstractPartitionDiagrams.Element` is now documented as "alias of `InheritComparisonClasscallMetaclass`" which is not very informative.

This used to be "alias of `AbstractPartitionDiagram`".



---

archive/issue_events_372086.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-26T14:34:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372086"
}
```



---

archive/issue_events_372087.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-26T14:34:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372087"
}
```



---

archive/issue_comments_415431.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@kwankyu](#comment:20):\n> I just meant the one currently shipped with Sage. So not the latest. \n\nThe most reasonable comparison is probably with Sphinx 1.7.9, the lastest bugfix of the version currently in Sage.",
    "created_at": "2018-12-26T14:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415431",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@kwankyu](#comment:20):
> I just meant the one currently shipped with Sage. So not the latest. 

The most reasonable comparison is probably with Sphinx 1.7.9, the lastest bugfix of the version currently in Sage.



---

archive/issue_comments_415432.json:
```json
{
    "body": "Changed commit from **[`bd72960`](https://github.com/sagemath/sagetrac-mirror/commit/bd729605a55d59319d0cf9f5b0cdc9e7ac83c9a9)** to **[`842074c`](https://github.com/sagemath/sagetrac-mirror/commit/842074c436c5ea4c35ebe8595e509e1332d28988)**",
    "created_at": "2018-12-27T06:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415432",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd72960`](https://github.com/sagemath/sagetrac-mirror/commit/bd729605a55d59319d0cf9f5b0cdc9e7ac83c9a9)** to **[`842074c`](https://github.com/sagemath/sagetrac-mirror/commit/842074c436c5ea4c35ebe8595e509e1332d28988)**



---

archive/issue_comments_415433.json:
```json
{
    "body": "<div id=\"comment:28\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/842074c436c5ea4c35ebe8595e509e1332d28988\"><code>842074c</code></a></td><td><code>Fix wrong-named aliases</code></td></tr></table>\n",
    "created_at": "2018-12-27T06:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415433",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:28"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/842074c436c5ea4c35ebe8595e509e1332d28988"><code>842074c</code></a></td><td><code>Fix wrong-named aliases</code></td></tr></table>




---

archive/issue_events_372088.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-27T10:17:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372088"
}
```



---

archive/issue_events_372089.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-27T10:17:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372089"
}
```



---

archive/issue_comments_415434.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nThanks! I'll have a deeper look at what's going wrong with `__qualname__`.",
    "created_at": "2018-12-27T20:00:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415434",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

Thanks! I'll have a deeper look at what's going wrong with `__qualname__`.



---

archive/issue_comments_415435.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nThe \"problem\" seems to be that Cython defines an ordinary attribute `__qualname__` on the metaclass. I'm not entirely convinced that your fix is the right thing to do, I'll need to think about it.",
    "created_at": "2018-12-30T01:38:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415435",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:31" align="right">comment:31</div>

The "problem" seems to be that Cython defines an ordinary attribute `__qualname__` on the metaclass. I'm not entirely convinced that your fix is the right thing to do, I'll need to think about it.



---

archive/issue_comments_415436.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nsee also #26319",
    "created_at": "2018-12-30T10:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415436",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:32" align="right">comment:32</div>

see also #26319



---

archive/issue_comments_415437.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nI consider the `__qualname__` issue a Cython bug: https://github.com/cython/cython/issues/2772\n\nSince the issue is almost certainly not limited to `InheritComparisonMetaclass`, it's pointless to work around it only there.\n\nInstead, I suggest to simply not use `__qualname__` in autodoc until this Cython bug is fixed.",
    "created_at": "2018-12-31T09:32:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415437",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

I consider the `__qualname__` issue a Cython bug: https://github.com/cython/cython/issues/2772

Since the issue is almost certainly not limited to `InheritComparisonMetaclass`, it's pointless to work around it only there.

Instead, I suggest to simply not use `__qualname__` in autodoc until this Cython bug is fixed.



---

archive/issue_events_372090.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-31T09:34:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372090"
}
```



---

archive/issue_events_372091.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-31T09:34:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372091"
}
```



---

archive/issue_comments_415438.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@fchapoton](#comment:32):\n> see also #26319\n\nThat is a different unrelated problem with `__qualname__`",
    "created_at": "2018-12-31T09:35:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415438",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@fchapoton](#comment:32):
> see also #26319

That is a different unrelated problem with `__qualname__`



---

archive/issue_comments_415439.json:
```json
{
    "body": "Changed commit from **[`842074c`](https://github.com/sagemath/sagetrac-mirror/commit/842074c436c5ea4c35ebe8595e509e1332d28988)** to **[`630626b`](https://github.com/sagemath/sagetrac-mirror/commit/630626bb7183b1b579f57be8d32e7c27014d551e)**",
    "created_at": "2018-12-31T22:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415439",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`842074c`](https://github.com/sagemath/sagetrac-mirror/commit/842074c436c5ea4c35ebe8595e509e1332d28988)** to **[`630626b`](https://github.com/sagemath/sagetrac-mirror/commit/630626bb7183b1b579f57be8d32e7c27014d551e)**



---

archive/issue_comments_415440.json:
```json
{
    "body": "<div id=\"comment:36\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/630626bb7183b1b579f57be8d32e7c27014d551e\"><code>630626b</code></a></td><td><code>Do not rely on `__qualname__` for python2</code></td></tr></table>\n",
    "created_at": "2018-12-31T22:52:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415440",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/630626bb7183b1b579f57be8d32e7c27014d551e"><code>630626b</code></a></td><td><code>Do not rely on `__qualname__` for python2</code></td></tr></table>




---

archive/issue_comments_415441.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@jdemeyer](#comment:33):\n> I consider the `__qualname__` issue a Cython bug: https://github.com/cython/cython/issues/2772\n> \n> Since the issue is almost certainly not limited to `InheritComparisonMetaclass`, it's pointless to work around it only there.\n\nRight.\n\n> Instead, I suggest to simply not use `__qualname__` in autodoc until this Cython bug is fixed.\n\nDone. Thanks.",
    "created_at": "2018-12-31T22:54:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415441",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@jdemeyer](#comment:33):
> I consider the `__qualname__` issue a Cython bug: https://github.com/cython/cython/issues/2772
> 
> Since the issue is almost certainly not limited to `InheritComparisonMetaclass`, it's pointless to work around it only there.

Right.

> Instead, I suggest to simply not use `__qualname__` in autodoc until this Cython bug is fixed.

Done. Thanks.



---

archive/issue_events_372092.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-31T22:55:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372092"
}
```



---

archive/issue_events_372093.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2018-12-31T22:55:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372093"
}
```



---

archive/issue_comments_415442.json:
```json
{
    "body": "Changed branch from **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)** to **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)**",
    "created_at": "2019-01-01T09:28:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415442",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)** to **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)**



---

archive/issue_comments_415443.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nRebased to 8.6.beta0 and squashed.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e22f78b3cb8825377170348f0f31ae3d12f14597\"><code>e22f78b</code></a></td><td><code>Makes sage autodoc work for both py2 and py3</code></td></tr></table>\n",
    "created_at": "2019-01-01T09:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415443",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:40" align="right">comment:40</div>

Rebased to 8.6.beta0 and squashed.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e22f78b3cb8825377170348f0f31ae3d12f14597"><code>e22f78b</code></a></td><td><code>Makes sage autodoc work for both py2 and py3</code></td></tr></table>




---

archive/issue_comments_415444.json:
```json
{
    "body": "Changed commit from **[`630626b`](https://github.com/sagemath/sagetrac-mirror/commit/630626bb7183b1b579f57be8d32e7c27014d551e)** to **[`e22f78b`](https://github.com/sagemath/sagetrac-mirror/commit/e22f78b3cb8825377170348f0f31ae3d12f14597)**",
    "created_at": "2019-01-01T09:28:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415444",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[`630626b`](https://github.com/sagemath/sagetrac-mirror/commit/630626bb7183b1b579f57be8d32e7c27014d551e)** to **[`e22f78b`](https://github.com/sagemath/sagetrac-mirror/commit/e22f78b3cb8825377170348f0f31ae3d12f14597)**



---

archive/issue_comments_415445.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nBuilding the docs now...",
    "created_at": "2019-01-01T09:29:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415445",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:41" align="right">comment:41</div>

Building the docs now...



---

archive/issue_comments_415446.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nSince the change involving `__qualname__` is a functional change, I decided to deal with that in a separate ticket: #27002",
    "created_at": "2019-01-02T17:54:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415446",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:42" align="right">comment:42</div>

Since the change involving `__qualname__` is a functional change, I decided to deal with that in a separate ticket: #27002



---

archive/issue_comments_415447.json:
```json
{
    "body": "<div id=\"comment:43\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1b4d0f474cc28d4cf7bf25f8f3b13aca46122d1b\"><code>1b4d0f4</code></a></td><td><code>Makes sage autodoc work for both py2 and py3</code></td></tr></table>\n",
    "created_at": "2019-01-02T17:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415447",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:43"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1b4d0f474cc28d4cf7bf25f8f3b13aca46122d1b"><code>1b4d0f4</code></a></td><td><code>Makes sage autodoc work for both py2 and py3</code></td></tr></table>




---

archive/issue_comments_415448.json:
```json
{
    "body": "Changed commit from **[`e22f78b`](https://github.com/sagemath/sagetrac-mirror/commit/e22f78b3cb8825377170348f0f31ae3d12f14597)** to **[`1b4d0f4`](https://github.com/sagemath/sagetrac-mirror/commit/1b4d0f474cc28d4cf7bf25f8f3b13aca46122d1b)**",
    "created_at": "2019-01-02T17:57:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415448",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e22f78b`](https://github.com/sagemath/sagetrac-mirror/commit/e22f78b3cb8825377170348f0f31ae3d12f14597)** to **[`1b4d0f4`](https://github.com/sagemath/sagetrac-mirror/commit/1b4d0f474cc28d4cf7bf25f8f3b13aca46122d1b)**



---

archive/issue_events_372094.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-02T22:31:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372094"
}
```



---

archive/issue_events_372095.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-02T22:31:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372095"
}
```



---

archive/issue_comments_415449.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nSome things are no longer documented. For example `sage.schemes.elliptic_curves.padics.padic_lseries` which is a `CachedMethod`.",
    "created_at": "2019-01-02T22:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415449",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:44" align="right">comment:44</div>

Some things are no longer documented. For example `sage.schemes.elliptic_curves.padics.padic_lseries` which is a `CachedMethod`.



---

archive/issue_comments_415450.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nReplying to [@jdemeyer](#comment:44):\n> Some things are no longer documented. For example `sage.schemes.elliptic_curves.padics.padic_lseries` which is a `CachedMethod`.\n\nYou might have noticed that these cached functions have wrong documentations already with the current sage. With the present patch, they now have no documentation. We are just seeing different manifestations of an issue with cached functions. Fixing this issue with cached functions seems to be out of the scope of the present ticket. I may open a ticket to tackle this issue if you agree.",
    "created_at": "2019-01-03T11:39:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415450",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:45" align="right">comment:45</div>

Replying to [@jdemeyer](#comment:44):
> Some things are no longer documented. For example `sage.schemes.elliptic_curves.padics.padic_lseries` which is a `CachedMethod`.

You might have noticed that these cached functions have wrong documentations already with the current sage. With the present patch, they now have no documentation. We are just seeing different manifestations of an issue with cached functions. Fixing this issue with cached functions seems to be out of the scope of the present ticket. I may open a ticket to tackle this issue if you agree.



---

archive/issue_comments_415451.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nReplying to [@kwankyu](#comment:45):\n> Replying to [@jdemeyer](#comment:44):\n> > Some things are no longer documented. For example `sage.schemes.elliptic_curves.padics.padic_lseries` which is a `CachedMethod`.\n\n> \n> You might have noticed that these cached functions have wrong documentations already with the current sage. With the present patch, they now have no documentation. \n\nThis is right.\n\n> We are just seeing different manifestations of an issue with cached functions. \n\nThis is wrong. There is no issue with cached functions! All functions defined in `sage.schemes.elliptic_curves.padics` are imported and embedded into the class `EllipticCurve_rational_field` defined in `sage.schemes.elliptic_curves.padics.ell_rational_field`.  Thus the functions are well documented as methods in the documentation of the class. Hence there is no need to (should not) document the functions in `padics.py` in duplicate!\n\n>Fixing this issue with cached functions seems to be out of the scope of the present ticket. I may open a ticket to tackle this issue if you agree.\n\nWhat should be done is to remove the article `Miscellaneous p-adic functions` from the Sage documentation. I may open a ticket for this, if you agree.",
    "created_at": "2019-01-03T20:10:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415451",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:46" align="right">comment:46</div>

Replying to [@kwankyu](#comment:45):
> Replying to [@jdemeyer](#comment:44):
> > Some things are no longer documented. For example `sage.schemes.elliptic_curves.padics.padic_lseries` which is a `CachedMethod`.

> 
> You might have noticed that these cached functions have wrong documentations already with the current sage. With the present patch, they now have no documentation. 

This is right.

> We are just seeing different manifestations of an issue with cached functions. 

This is wrong. There is no issue with cached functions! All functions defined in `sage.schemes.elliptic_curves.padics` are imported and embedded into the class `EllipticCurve_rational_field` defined in `sage.schemes.elliptic_curves.padics.ell_rational_field`.  Thus the functions are well documented as methods in the documentation of the class. Hence there is no need to (should not) document the functions in `padics.py` in duplicate!

>Fixing this issue with cached functions seems to be out of the scope of the present ticket. I may open a ticket to tackle this issue if you agree.

What should be done is to remove the article `Miscellaneous p-adic functions` from the Sage documentation. I may open a ticket for this, if you agree.



---

archive/issue_events_372096.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2019-01-03T20:15:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372096"
}
```



---

archive/issue_events_372097.json:
```json
{
    "actor": "https://github.com/kwankyu",
    "created_at": "2019-01-03T20:15:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372097"
}
```



---

archive/issue_comments_415452.json:
```json
{
    "body": "Changed commit from **[`1b4d0f4`](https://github.com/sagemath/sagetrac-mirror/commit/1b4d0f474cc28d4cf7bf25f8f3b13aca46122d1b)** to **[`fe42da1`](https://github.com/sagemath/sagetrac-mirror/commit/fe42da1310513ea1f1f79147b4ba1ed9525ef4ce)**",
    "created_at": "2019-01-04T01:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415452",
    "user": "https://github.com/kwankyu"
}
```

Changed commit from **[`1b4d0f4`](https://github.com/sagemath/sagetrac-mirror/commit/1b4d0f474cc28d4cf7bf25f8f3b13aca46122d1b)** to **[`fe42da1`](https://github.com/sagemath/sagetrac-mirror/commit/fe42da1310513ea1f1f79147b4ba1ed9525ef4ce)**



---

archive/issue_comments_415453.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">comment:48</div>\n\nRebased on sage 8.6.rc0 and removed a few unuseful comments like `# type: ...`\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fe42da1310513ea1f1f79147b4ba1ed9525ef4ce\"><code>fe42da1</code></a></td><td><code>Make sage autodoc work for both py2 and py3</code></td></tr></table>\n",
    "created_at": "2019-01-04T01:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415453",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:48" align="right">comment:48</div>

Rebased on sage 8.6.rc0 and removed a few unuseful comments like `# type: ...`

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fe42da1310513ea1f1f79147b4ba1ed9525ef4ce"><code>fe42da1</code></a></td><td><code>Make sage autodoc work for both py2 and py3</code></td></tr></table>




---

archive/issue_comments_415454.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)** to **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)**",
    "created_at": "2019-01-04T01:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415454",
    "user": "https://github.com/kwankyu"
}
```

Changed branch from **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)** to **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)**



---

archive/issue_comments_415455.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">comment:49</div>\n\nFair enough regarding `padic_lseries`.\n\nStill, there is more documentation which is removed. For example `sage.combinat.finite_state_machine.FiniteStateMachine.output_alphabet`\n\nIn the sources, there is\n\n```python\n    output_alphabet = None\n    \"\"\"\n    A list of letters representing the output alphabet of the finite\n    state machine.\n\n    It can be set by the parameter ``output_alphabet`` when initializing\n    a finite state machine, see :class:`FiniteStateMachine`.\n\n    It can also be set by the method :meth:`determine_alphabets`.\n\n    .. SEEALSO::\n\n        :class:`FiniteStateMachine`,\n        :meth:`determine_alphabets`,\n        :attr:`input_alphabet`.\n    \"\"\"\n```\nand apparently Sphinx parses this correctly before this patch but not after this patch.",
    "created_at": "2019-01-04T11:50:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415455",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:49" align="right">comment:49</div>

Fair enough regarding `padic_lseries`.

Still, there is more documentation which is removed. For example `sage.combinat.finite_state_machine.FiniteStateMachine.output_alphabet`

In the sources, there is

```python
    output_alphabet = None
    """
    A list of letters representing the output alphabet of the finite
    state machine.

    It can be set by the parameter ``output_alphabet`` when initializing
    a finite state machine, see :class:`FiniteStateMachine`.

    It can also be set by the method :meth:`determine_alphabets`.

    .. SEEALSO::

        :class:`FiniteStateMachine`,
        :meth:`determine_alphabets`,
        :attr:`input_alphabet`.
    """
```
and apparently Sphinx parses this correctly before this patch but not after this patch.



---

archive/issue_comments_415456.json:
```json
{
    "body": "<div id=\"comment:50\" align=\"right\">comment:50</div>\n\nReplying to [@kwankyu](#comment:48):\n> removed a few unuseful comments like `# type: ...`\n\nIf those comments appear in the original, it's more maintainable to keep them.",
    "created_at": "2019-01-04T12:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415456",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:50" align="right">comment:50</div>

Replying to [@kwankyu](#comment:48):
> removed a few unuseful comments like `# type: ...`

If those comments appear in the original, it's more maintainable to keep them.



---

archive/issue_comments_415457.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nReplying to [@jdemeyer](#comment:50):\n> Replying to [@kwankyu](#comment:48):\n> > removed a few unuseful comments like `# type: ...`\n\n> \n> If those comments appear in the original, it's more maintainable to keep them.\n\nThe old `sage_autodoc` didn't keep those comments. It seems to be a convention of Sphinx, but absolutely not of Sage. Anyway I don't care. Do you prefer to follow Sphinx?",
    "created_at": "2019-01-04T13:26:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415457",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:51" align="right">comment:51</div>

Replying to [@jdemeyer](#comment:50):
> Replying to [@kwankyu](#comment:48):
> > removed a few unuseful comments like `# type: ...`

> 
> If those comments appear in the original, it's more maintainable to keep them.

The old `sage_autodoc` didn't keep those comments. It seems to be a convention of Sphinx, but absolutely not of Sage. Anyway I don't care. Do you prefer to follow Sphinx?



---

archive/issue_comments_415458.json:
```json
{
    "body": "Changed commit from **[`fe42da1`](https://github.com/sagemath/sagetrac-mirror/commit/fe42da1310513ea1f1f79147b4ba1ed9525ef4ce)** to **[`3aefb2b`](https://github.com/sagemath/sagetrac-mirror/commit/3aefb2b297d8ccf04f4f30691a778765ccd7a6b5)**",
    "created_at": "2019-01-04T13:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415458",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`fe42da1`](https://github.com/sagemath/sagetrac-mirror/commit/fe42da1310513ea1f1f79147b4ba1ed9525ef4ce)** to **[`3aefb2b`](https://github.com/sagemath/sagetrac-mirror/commit/3aefb2b297d8ccf04f4f30691a778765ccd7a6b5)**



---

archive/issue_comments_415459.json:
```json
{
    "body": "<div id=\"comment:52\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3aefb2b297d8ccf04f4f30691a778765ccd7a6b5\"><code>3aefb2b</code></a></td><td><code>Recover missing attributes</code></td></tr></table>\n",
    "created_at": "2019-01-04T13:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415459",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:52"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3aefb2b297d8ccf04f4f30691a778765ccd7a6b5"><code>3aefb2b</code></a></td><td><code>Recover missing attributes</code></td></tr></table>




---

archive/issue_comments_415460.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nReplying to [@kwankyu](#comment:51):\n> It seems to be a convention of Sphinx, but absolutely not of Sage.\n\nIt's not just a Sphinx thing: https://www.python.org/dev/peps/pep-0484/#suggested-syntax-for-python-2-7-and-straddling-code\n\n> Do you prefer to follow Sphinx? \n\nYes. More generally, we should stay as close to upstream Sphinx as possible.",
    "created_at": "2019-01-04T13:30:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415460",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:53" align="right">comment:53</div>

Replying to [@kwankyu](#comment:51):
> It seems to be a convention of Sphinx, but absolutely not of Sage.

It's not just a Sphinx thing: https://www.python.org/dev/peps/pep-0484/#suggested-syntax-for-python-2-7-and-straddling-code

> Do you prefer to follow Sphinx? 

Yes. More generally, we should stay as close to upstream Sphinx as possible.



---

archive/issue_comments_415461.json:
```json
{
    "body": "<div id=\"comment:54\" align=\"right\">comment:54</div>\n\nI am not sure if my last commit will finally make everything right or break something somewhere. This business is going to be close to blind trials...\n\nAnyway personally I could not afford more trials if anything breaks, for some weeks. Sorry.",
    "created_at": "2019-01-04T13:39:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415461",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:54" align="right">comment:54</div>

I am not sure if my last commit will finally make everything right or break something somewhere. This business is going to be close to blind trials...

Anyway personally I could not afford more trials if anything breaks, for some weeks. Sorry.



---

archive/issue_comments_415462.json:
```json
{
    "body": "<div id=\"comment:55\" align=\"right\">comment:55</div>\n\nReplying to [@kwankyu](#comment:54):\n> Anyway personally I could not afford more trials if anything breaks, for some weeks. Sorry.\n\nNo need to apologize. You already did very good work!\n\nGood to know that you'll be inactive. I'll try to fix any issues myself.",
    "created_at": "2019-01-04T13:43:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415462",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:55" align="right">comment:55</div>

Replying to [@kwankyu](#comment:54):
> Anyway personally I could not afford more trials if anything breaks, for some weeks. Sorry.

No need to apologize. You already did very good work!

Good to know that you'll be inactive. I'll try to fix any issues myself.



---

archive/issue_comments_415463.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nI'm happy enough with the generated documentation now.",
    "created_at": "2019-01-07T11:59:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415463",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:56" align="right">comment:56</div>

I'm happy enough with the generated documentation now.



---

archive/issue_comments_415464.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bdb5063567a9e5cffd416d64d94a0d0b204c95e7\"><code>bdb5063</code></a></td><td><code>Increase sync rate with Sphinx autodoc of ver 1.7.6</code></td></tr></table>\n",
    "created_at": "2019-01-07T14:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415464",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bdb5063567a9e5cffd416d64d94a0d0b204c95e7"><code>bdb5063</code></a></td><td><code>Increase sync rate with Sphinx autodoc of ver 1.7.6</code></td></tr></table>




---

archive/issue_comments_415465.json:
```json
{
    "body": "Changed commit from **[`3aefb2b`](https://github.com/sagemath/sagetrac-mirror/commit/3aefb2b297d8ccf04f4f30691a778765ccd7a6b5)** to **[`bdb5063`](https://github.com/sagemath/sagetrac-mirror/commit/bdb5063567a9e5cffd416d64d94a0d0b204c95e7)**",
    "created_at": "2019-01-07T14:26:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415465",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`3aefb2b`](https://github.com/sagemath/sagetrac-mirror/commit/3aefb2b297d8ccf04f4f30691a778765ccd7a6b5)** to **[`bdb5063`](https://github.com/sagemath/sagetrac-mirror/commit/bdb5063567a9e5cffd416d64d94a0d0b204c95e7)**



---

archive/issue_comments_415466.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nThe last commit should not affect documentation. Tried a tiny bit to prepare for Sphinx 1.8.",
    "created_at": "2019-01-07T14:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415466",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:58" align="right">comment:58</div>

The last commit should not affect documentation. Tried a tiny bit to prepare for Sphinx 1.8.



---

archive/issue_comments_415467.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">comment:59</div>\n\nOK, do you plan further changes? I'll just need to know when I can review the final version of this branch.",
    "created_at": "2019-01-07T14:33:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415467",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:59" align="right">comment:59</div>

OK, do you plan further changes? I'll just need to know when I can review the final version of this branch.



---

archive/issue_comments_415468.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nReplying to [@jdemeyer](#comment:59):\n> OK, do you plan further changes? I'll just need to know when I can review the final version of this branch.\n\nNo. Please proceed.",
    "created_at": "2019-01-07T14:34:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415468",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:60" align="right">comment:60</div>

Replying to [@jdemeyer](#comment:59):
> OK, do you plan further changes? I'll just need to know when I can review the final version of this branch.

No. Please proceed.



---

archive/issue_comments_415469.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415469",
    "user": "https://github.com/embray"
}
```

<div id="comment:61" align="right">comment:61</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_372098.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372098"
}
```



---

archive/issue_events_372099.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372099"
}
```



---

archive/issue_comments_415470.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">comment:62</div>\n\nany progress here ? Will this fix `make doc` for python3 ?",
    "created_at": "2019-01-17T09:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415470",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:62" align="right">comment:62</div>

any progress here ? Will this fix `make doc` for python3 ?



---

archive/issue_comments_415471.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nReplying to [@fchapoton](#comment:62):\n> any progress here ? Will this fix `make doc` for python3 ?\n\nYes. I am waiting for a final review.",
    "created_at": "2019-01-17T10:42:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415471",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:63" align="right">comment:63</div>

Replying to [@fchapoton](#comment:62):
> any progress here ? Will this fix `make doc` for python3 ?

Yes. I am waiting for a final review.



---

archive/issue_comments_415472.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\ncould you please check these pyflakes warnings (maybe not pertinent)\n\n```\n+src/sage_setup/docbuild/ext/sage_autodoc.py:33: 'warnings' imported but unused\n+src/sage_setup/docbuild/ext/sage_autodoc.py:36: 'six.iteritems' imported but unused\n+src/sage_setup/docbuild/ext/sage_autodoc.py:39: 'sphinx.errors.ExtensionError' imported but unused\n+src/sage_setup/docbuild/ext/sage_autodoc.py:41: 'sphinx.ext.autodoc.inspector.format_annotation' imported but unused\n+src/sage_setup/docbuild/ext/sage_autodoc.py:47: 'sphinx.util.inspect.Signature' imported but unused\n+src/sage_setup/docbuild/ext/sage_autodoc.py:50: 'sphinx.util.inspect.getargspec' imported but unused\n```",
    "created_at": "2019-01-17T10:52:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415472",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:64" align="right">comment:64</div>

could you please check these pyflakes warnings (maybe not pertinent)

```
+src/sage_setup/docbuild/ext/sage_autodoc.py:33: 'warnings' imported but unused
+src/sage_setup/docbuild/ext/sage_autodoc.py:36: 'six.iteritems' imported but unused
+src/sage_setup/docbuild/ext/sage_autodoc.py:39: 'sphinx.errors.ExtensionError' imported but unused
+src/sage_setup/docbuild/ext/sage_autodoc.py:41: 'sphinx.ext.autodoc.inspector.format_annotation' imported but unused
+src/sage_setup/docbuild/ext/sage_autodoc.py:47: 'sphinx.util.inspect.Signature' imported but unused
+src/sage_setup/docbuild/ext/sage_autodoc.py:50: 'sphinx.util.inspect.getargspec' imported but unused
```



---

archive/issue_comments_415473.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nSorry, I forgot about this ticket. I will review it. Please do not make further changes.",
    "created_at": "2019-01-17T11:57:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415473",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:65" align="right">comment:65</div>

Sorry, I forgot about this ticket. I will review it. Please do not make further changes.



---

archive/issue_comments_415474.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">comment:66</div>\n\nReplying to [@fchapoton](#comment:64):\n> could you please check these pyflakes warnings (maybe not pertinent)\n> \n> ```\n> +src/sage_setup/docbuild/ext/sage_autodoc.py:33: 'warnings' imported but unused\n> +src/sage_setup/docbuild/ext/sage_autodoc.py:36: 'six.iteritems' imported but unused\n> +src/sage_setup/docbuild/ext/sage_autodoc.py:39: 'sphinx.errors.ExtensionError' imported but unused\n> +src/sage_setup/docbuild/ext/sage_autodoc.py:41: 'sphinx.ext.autodoc.inspector.format_annotation' imported but unused\n> +src/sage_setup/docbuild/ext/sage_autodoc.py:47: 'sphinx.util.inspect.Signature' imported but unused\n> +src/sage_setup/docbuild/ext/sage_autodoc.py:50: 'sphinx.util.inspect.getargspec' imported but unused\n> ```\n\nFixed all pyflakes warnings, except  one about`sphinx.util.inspect.Signature`. `Signature` is imported in the original Sphinx autodoc, and I think is very likely to be used in future,  perhaps in #26451 or in #26254.",
    "created_at": "2019-01-17T12:15:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415474",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:66" align="right">comment:66</div>

Replying to [@fchapoton](#comment:64):
> could you please check these pyflakes warnings (maybe not pertinent)
> 
> ```
> +src/sage_setup/docbuild/ext/sage_autodoc.py:33: 'warnings' imported but unused
> +src/sage_setup/docbuild/ext/sage_autodoc.py:36: 'six.iteritems' imported but unused
> +src/sage_setup/docbuild/ext/sage_autodoc.py:39: 'sphinx.errors.ExtensionError' imported but unused
> +src/sage_setup/docbuild/ext/sage_autodoc.py:41: 'sphinx.ext.autodoc.inspector.format_annotation' imported but unused
> +src/sage_setup/docbuild/ext/sage_autodoc.py:47: 'sphinx.util.inspect.Signature' imported but unused
> +src/sage_setup/docbuild/ext/sage_autodoc.py:50: 'sphinx.util.inspect.getargspec' imported but unused
> ```

Fixed all pyflakes warnings, except  one about`sphinx.util.inspect.Signature`. `Signature` is imported in the original Sphinx autodoc, and I think is very likely to be used in future,  perhaps in #26451 or in #26254.



---

archive/issue_comments_415475.json:
```json
{
    "body": "Changed commit from **[`bdb5063`](https://github.com/sagemath/sagetrac-mirror/commit/bdb5063567a9e5cffd416d64d94a0d0b204c95e7)** to **[`4cece14`](https://github.com/sagemath/sagetrac-mirror/commit/4cece146efb583fa775b8ba20565af62996f770c)**",
    "created_at": "2019-01-17T12:15:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415475",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bdb5063`](https://github.com/sagemath/sagetrac-mirror/commit/bdb5063567a9e5cffd416d64d94a0d0b204c95e7)** to **[`4cece14`](https://github.com/sagemath/sagetrac-mirror/commit/4cece146efb583fa775b8ba20565af62996f770c)**



---

archive/issue_comments_415476.json:
```json
{
    "body": "<div id=\"comment:67\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4cece146efb583fa775b8ba20565af62996f770c\"><code>4cece14</code></a></td><td><code>Remove unused imports</code></td></tr></table>\n",
    "created_at": "2019-01-17T12:15:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415476",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:67"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4cece146efb583fa775b8ba20565af62996f770c"><code>4cece14</code></a></td><td><code>Remove unused imports</code></td></tr></table>




---

archive/issue_comments_415477.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nI explicitly asked not to make further changes, so I will revert that last commit.",
    "created_at": "2019-01-17T13:02:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415477",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:68" align="right">comment:68</div>

I explicitly asked not to make further changes, so I will revert that last commit.



---

archive/issue_comments_415478.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nReplying to [@jdemeyer](#comment:68):\n> I explicitly asked not to make further changes, so I will revert that last commit. \n\nOk with that. But I am curious why the small, rather insignificant, change like the last commit is unacceptable to you. It seems not a big deal to me... Is there a technical reason that I miss?",
    "created_at": "2019-01-17T13:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415478",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:69" align="right">comment:69</div>

Replying to [@jdemeyer](#comment:68):
> I explicitly asked not to make further changes, so I will revert that last commit. 

Ok with that. But I am curious why the small, rather insignificant, change like the last commit is unacceptable to you. It seems not a big deal to me... Is there a technical reason that I miss?



---

archive/issue_comments_415479.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nI just don't want to review a moving target. The change itself may or may not be fine but at some point the branch needs to be fixed. For example, I would need to review the fact that the change is as innocent as you claim it to be.",
    "created_at": "2019-01-17T14:16:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415479",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:70" align="right">comment:70</div>

I just don't want to review a moving target. The change itself may or may not be fine but at some point the branch needs to be fixed. For example, I would need to review the fact that the change is as innocent as you claim it to be.



---

archive/issue_comments_415480.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@jdemeyer](#comment:70):\n> I just don't want to review a moving target. The change itself may or may not be fine but at some point the branch needs to be fixed. For example, I would need to review the fact that the change is as innocent as you claim it to be.\n\nI agree in general. Ok.",
    "created_at": "2019-01-17T14:20:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415480",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@jdemeyer](#comment:70):
> I just don't want to review a moving target. The change itself may or may not be fine but at some point the branch needs to be fixed. For example, I would need to review the fact that the change is as innocent as you claim it to be.

I agree in general. Ok.



---

archive/issue_comments_415481.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nI know that everyone is in agreement, but if you want actual evidence: in #16298, an import was apparently unused anywhere, so removing it was recommended by `pyflakes` and looked innocent to all parties involved, but removing it actually broke things. So (a) `pyflakes` can be wrong, and (b) \"innocent\" changes may not actually be innocent.",
    "created_at": "2019-01-17T18:13:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415481",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:72" align="right">comment:72</div>

I know that everyone is in agreement, but if you want actual evidence: in #16298, an import was apparently unused anywhere, so removing it was recommended by `pyflakes` and looked innocent to all parties involved, but removing it actually broke things. So (a) `pyflakes` can be wrong, and (b) "innocent" changes may not actually be innocent.



---

archive/issue_comments_415482.json:
```json
{
    "body": "Changed branch from **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)** to **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)**",
    "created_at": "2019-01-18T08:34:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415482",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/klee/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/klee/26949)** to **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)**



---

archive/issue_comments_415483.json:
```json
{
    "body": "Changed commit from **[`4cece14`](https://github.com/sagemath/sagetrac-mirror/commit/4cece146efb583fa775b8ba20565af62996f770c)** to **[`16d81eb`](https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d)**",
    "created_at": "2019-01-18T08:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415483",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`4cece14`](https://github.com/sagemath/sagetrac-mirror/commit/4cece146efb583fa775b8ba20565af62996f770c)** to **[`16d81eb`](https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d)**



---

archive/issue_comments_415484.json:
```json
{
    "body": "<div id=\"comment:74\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d\"><code>16d81eb</code></a></td><td><code>Make sage autodoc work for both py2 and py3</code></td></tr></table>\n",
    "created_at": "2019-01-18T08:42:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415484",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:74"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d"><code>16d81eb</code></a></td><td><code>Make sage autodoc work for both py2 and py3</code></td></tr></table>




---

archive/issue_comments_415485.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReverted last commit and squashed the other commits.",
    "created_at": "2019-01-18T08:42:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415485",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:75" align="right">comment:75</div>

Reverted last commit and squashed the other commits.



---

archive/issue_events_372100.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-18T08:50:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372100"
}
```



---

archive/issue_events_372101.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-18T08:50:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372101"
}
```



---

archive/issue_comments_415486.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nThank you. I wish that now with this patch, `make` builds the documentation also on python3!",
    "created_at": "2019-01-18T09:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415486",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:77" align="right">comment:77</div>

Thank you. I wish that now with this patch, `make` builds the documentation also on python3!



---

archive/issue_comments_415487.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nReplying to [@jdemeyer](#comment:68):\n> I explicitly asked not to make further changes, so I will revert that last commit. \n\nI understand your reasoning, but given that the commit was made and you hadn't actually (as far as anyone can tell) begun the review the change, why not just incorporate it into your review?  It does look pretty harmless to me and, while it should still have been checked, really doesn't add significant burden to review.",
    "created_at": "2019-01-18T13:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415487",
    "user": "https://github.com/embray"
}
```

<div id="comment:78" align="right">comment:78</div>

Replying to [@jdemeyer](#comment:68):
> I explicitly asked not to make further changes, so I will revert that last commit. 

I understand your reasoning, but given that the commit was made and you hadn't actually (as far as anyone can tell) begun the review the change, why not just incorporate it into your review?  It does look pretty harmless to me and, while it should still have been checked, really doesn't add significant burden to review.



---

archive/issue_comments_415488.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">comment:79</div>\n\nReplying to [@embray](#comment:78):\n> you hadn't actually (as far as anyone can tell) begun the review the change,\n\nI thought that \"I will review it. Please do not make further changes.\" was clear enough. So yes, I was already building the documentation when that additional commit was pushed.\n\nCan we please not make further fuss about this? This ticket has positive review now, let's keep it that way. It's not perfect and that's fine. And the `pyflakes` warnings are the least of my worries with the Sage docbuilder.",
    "created_at": "2019-01-18T13:35:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415488",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:79" align="right">comment:79</div>

Replying to [@embray](#comment:78):
> you hadn't actually (as far as anyone can tell) begun the review the change,

I thought that "I will review it. Please do not make further changes." was clear enough. So yes, I was already building the documentation when that additional commit was pushed.

Can we please not make further fuss about this? This ticket has positive review now, let's keep it that way. It's not perfect and that's fine. And the `pyflakes` warnings are the least of my worries with the Sage docbuilder.



---

archive/issue_comments_415489.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)** to **[`16d81eb`](https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d)**",
    "created_at": "2019-01-24T18:17:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26949#issuecomment-415489",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/26949](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26949)** to **[`16d81eb`](https://github.com/sagemath/sagetrac-mirror/commit/16d81eb2f945aa75a3aefccd71c5e455dba0a44d)**



---

archive/issue_events_372102.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-24T18:17:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372102"
}
```



---

archive/issue_events_372103.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d305eda0fedc73fdbe0447b5d6d2b520b8d112c4",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-24T18:17:49Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26949",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26949#event-372103"
}
```
