# Issue 26623: Constructions for common polyhedral cones

archive/issues_026386.json:
```json
{
    "assignees": [],
    "body": "When working with graphs, we have a nice tab-completed list of common graphs that we can construct; for example,\n\n```\nsage: graphs.BuckyBall()\nBucky Ball: Graph on 60 vertices\n```\n\nMore and more, I find myself wishing we had the same thing for convex cones, particularly in test cases. I have constructions for all of the following and use them regularly:\n\n* The nonnegative orthant.\n* The full ambient space.\n* The schur cone that induces the majorization ordering.\n* The permutation-invariant \"rearrangement\" cone.\n* The trivial cone, since `trivial_cone(n)` looks a lot nicer than `Cone([], ToricLattice(n))`.\n\net cetera; I'm sure I can think of more. Each of these makes sense in any dimension `n`.\n\nI'm wondering if you think this would be a useful feature to make available as e.g.\n\n```\nsage: cones.nonnegative_orthant(5)\n5-d cone in 5-d lattice N\n```\n\nThey should all probably take a \"lattice\" argument too now that I think about it.\n\nCC:  @novoselt\n\nBranch/Commit: **[b2aab91](https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351)**\n\nReviewer: **Jonathan Kliem**\n\nAuthor: **Michael Orlitzky**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26623_\n\n",
    "closed_at": "2020-03-01T23:46:07Z",
    "created_at": "2018-11-03T04:19:25Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Constructions for common polyhedral cones",
    "type": "issue",
    "updated_at": "2020-03-01T23:46:07Z",
    "url": "https://github.com/sagemath/sage/issues/26623",
    "user": "https://github.com/orlitzky"
}
```
When working with graphs, we have a nice tab-completed list of common graphs that we can construct; for example,

```
sage: graphs.BuckyBall()
Bucky Ball: Graph on 60 vertices
```

More and more, I find myself wishing we had the same thing for convex cones, particularly in test cases. I have constructions for all of the following and use them regularly:

* The nonnegative orthant.
* The full ambient space.
* The schur cone that induces the majorization ordering.
* The permutation-invariant "rearrangement" cone.
* The trivial cone, since `trivial_cone(n)` looks a lot nicer than `Cone([], ToricLattice(n))`.

et cetera; I'm sure I can think of more. Each of these makes sense in any dimension `n`.

I'm wondering if you think this would be a useful feature to make available as e.g.

```
sage: cones.nonnegative_orthant(5)
5-d cone in 5-d lattice N
```

They should all probably take a "lattice" argument too now that I think about it.

CC:  @novoselt

Branch/Commit: **[b2aab91](https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351)**

Reviewer: **Jonathan Kliem**

Author: **Michael Orlitzky**

_Issue created by migration from https://trac.sagemath.org/ticket/26623_





---

archive/issue_events_348255.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2018-11-03T04:19:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348255"
}
```



---

archive/issue_events_348256.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2018-11-03T04:19:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "component: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348256"
}
```



---

archive/issue_events_348257.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2018-11-03T04:19:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348257"
}
```



---

archive/issue_events_348258.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2018-11-03T04:19:25Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348258"
}
```



---

archive/issue_comments_413097.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nThey certainly should take a lattice argument! From a toric perspective it is probably more natural to have these as methods of lattices, i.e. something like\n\n```\nToricLattice(n).trivial_cone()\n```\nalthough of course this makes it impossible to use `ZZ^n`. And perhaps even more natural is to have not cones, but associated toric varieties which are already available:\n\n```\nsage: toric_varieties.A(5).fan().generating_cone(0).rays()\nN(1, 0, 0, 0, 0),\nN(0, 1, 0, 0, 0),\nN(0, 0, 1, 0, 0),\nN(0, 0, 0, 1, 0),\nN(0, 0, 0, 0, 1)\nin 5-d lattice N\n```",
    "created_at": "2018-11-04T19:28:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413097",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:1" align="right">Comment 1</div>

They certainly should take a lattice argument! From a toric perspective it is probably more natural to have these as methods of lattices, i.e. something like

```
ToricLattice(n).trivial_cone()
```
although of course this makes it impossible to use `ZZ^n`. And perhaps even more natural is to have not cones, but associated toric varieties which are already available:

```
sage: toric_varieties.A(5).fan().generating_cone(0).rays()
N(1, 0, 0, 0, 0),
N(0, 1, 0, 0, 0),
N(0, 0, 1, 0, 0),
N(0, 0, 0, 1, 0),
N(0, 0, 0, 0, 1)
in 5-d lattice N
```



---

archive/issue_comments_413098.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nReplying to [@novoselt](#comment%3A1):\n> They certainly should take a lattice argument! From a toric perspective it is probably more natural to have these as methods of lattices, i.e. something like\n> \n> ```\n> ToricLattice(n).trivial_cone()\n> ```\n> although of course this makes it impossible to use `ZZ^n`.\n\nI think from a design standpoint, that's where the method belongs, but there are two things that bug me about it.\n\nFirst: in many cases, the user won't care about the lattice and will want \"the default.\" This is basically what happens when you do `ToricLattice(n).nonnegative_orthant()`, but it feels a little weird to specify a particular lattice when you don't care about it. By analogy, the `Cone()` function should also be a method on a `ToricLattice` object. A lot of the time you just don't care though, so it's nice to be able to get a sensible default without having to construct a generic lattice of the correct size first. On the other hand, I like that this eliminates the `n` and `lattice` parameters from the cone-creating functions. And it would ensure that (for example) if you only create one lattice object, then you can intersect any two cones created by methods on it. I'll have to think harder about this but it may be the way to go.\n\nSecond: tab completion on `graphs.<tab>` is so nice. Having a list of twenty or so cones interspersed in the tab-completion list for lattices would be bad for both people who want to see lattice methods and people who want to see predefined cones.\n\n(Might we have something like `lattice.cones.<tab>` where `lattice` is some `ToricLattice`?)\n\\\\\n\\\\\n\n> And perhaps even more natural is to have not cones, but associated toric varieties which are already available:\n> \n> ```\n> sage: toric_varieties.A(5).fan().generating_cone(0).rays()\n> ...\n> ```\n\nMy main objection to this is that I'm not smart enough to implement it or remember which cone is associated with which toric variety =)\n\nHaving the code above be the implementation for `nonnegative_orthant(5)` would be fine with me though.",
    "created_at": "2018-11-05T01:20:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413098",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:2" align="right">Comment 2</div>

Replying to [@novoselt](#comment%3A1):
> They certainly should take a lattice argument! From a toric perspective it is probably more natural to have these as methods of lattices, i.e. something like
> 
> ```
> ToricLattice(n).trivial_cone()
> ```
> although of course this makes it impossible to use `ZZ^n`.

I think from a design standpoint, that's where the method belongs, but there are two things that bug me about it.

First: in many cases, the user won't care about the lattice and will want "the default." This is basically what happens when you do `ToricLattice(n).nonnegative_orthant()`, but it feels a little weird to specify a particular lattice when you don't care about it. By analogy, the `Cone()` function should also be a method on a `ToricLattice` object. A lot of the time you just don't care though, so it's nice to be able to get a sensible default without having to construct a generic lattice of the correct size first. On the other hand, I like that this eliminates the `n` and `lattice` parameters from the cone-creating functions. And it would ensure that (for example) if you only create one lattice object, then you can intersect any two cones created by methods on it. I'll have to think harder about this but it may be the way to go.

Second: tab completion on `graphs.<tab>` is so nice. Having a list of twenty or so cones interspersed in the tab-completion list for lattices would be bad for both people who want to see lattice methods and people who want to see predefined cones.

(Might we have something like `lattice.cones.<tab>` where `lattice` is some `ToricLattice`?)
\\
\\

> And perhaps even more natural is to have not cones, but associated toric varieties which are already available:
> 
> ```
> sage: toric_varieties.A(5).fan().generating_cone(0).rays()
> ...
> ```

My main objection to this is that I'm not smart enough to implement it or remember which cone is associated with which toric variety =)

Having the code above be the implementation for `nonnegative_orthant(5)` would be fine with me though.



---

archive/issue_comments_413099.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\n\"A lot of the time you just don't care though\" - I always care, we are just using cones for different things ;-) But you are right - just because cones are associated to lattices does not mean that they have to be methods of lattices. So I think `cones.etc` is the right interface, but there has to be an option to specify the lattice and the default should be the same as for `Cone(...)`.",
    "created_at": "2018-11-05T03:50:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413099",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:3" align="right">Comment 3</div>

"A lot of the time you just don't care though" - I always care, we are just using cones for different things ;-) But you are right - just because cones are associated to lattices does not mean that they have to be methods of lattices. So I think `cones.etc` is the right interface, but there has to be an option to specify the lattice and the default should be the same as for `Cone(...)`.



---

archive/issue_comments_413100.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI have another question. There are a few vector spaces associated with each cone, that can be thought of as cones themselves:\n\n* The span of the cone K.\n* Its orthogonal complement, (span(K))-perp.\n* Its lineality space (the largest subspace it contains).\n\nThe span of the cone and its lineality space are already available as,\n\n```\nsage: K = Cone([(1,1),(0,1)])\nsage: K.span()\nSublattice <N(1, 0), N(0, 1)>\nsage: span(K)\nFree module of degree 2 and rank 2 over Integer Ring\nEchelon basis matrix:\n[1 0]\n[0 1]\nsage: K.linear_subspace()\nVector space of degree 2 and dimension 0 over Rational Field\nBasis matrix:\n[]\n```\n\nBut none of those return cones directly. Having a cone is handy when you want to compute e.g. the intersection of one of these things with some other cone.\n\nIf we were to add similar methods that return cones, how would you prefer to do it? We could either...\n\n1. Add methods to the cones themselves, for things like `K.span_cone()`, `K.lineality_space()`, `K.orthogonal_complement()`\n2. Add them as part of the new `cones.<whatever>` interface, with something like `cones.span_of(K)`.\n\nThe first one seems more correct to me, but risks polluting the namespace with a bunch of methods that all look the same but return different things.\n\nThe second one does make it obvious that you're going to get a cone back, but only if people know to look there for what should in principle be a method on the cone itself.",
    "created_at": "2018-11-12T16:44:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413100",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:4" align="right">Comment 4</div>

I have another question. There are a few vector spaces associated with each cone, that can be thought of as cones themselves:

* The span of the cone K.
* Its orthogonal complement, (span(K))-perp.
* Its lineality space (the largest subspace it contains).

The span of the cone and its lineality space are already available as,

```
sage: K = Cone([(1,1),(0,1)])
sage: K.span()
Sublattice <N(1, 0), N(0, 1)>
sage: span(K)
Free module of degree 2 and rank 2 over Integer Ring
Echelon basis matrix:
[1 0]
[0 1]
sage: K.linear_subspace()
Vector space of degree 2 and dimension 0 over Rational Field
Basis matrix:
[]
```

But none of those return cones directly. Having a cone is handy when you want to compute e.g. the intersection of one of these things with some other cone.

If we were to add similar methods that return cones, how would you prefer to do it? We could either...

1. Add methods to the cones themselves, for things like `K.span_cone()`, `K.lineality_space()`, `K.orthogonal_complement()`
2. Add them as part of the new `cones.<whatever>` interface, with something like `cones.span_of(K)`.

The first one seems more correct to me, but risks polluting the namespace with a bunch of methods that all look the same but return different things.

The second one does make it obvious that you're going to get a cone back, but only if people know to look there for what should in principle be a method on the cone itself.



---

archive/issue_comments_413101.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nOption 3:\n\nFor the span and the orthogonal complement, we could sensibly add a `cone()` method somewhere in the module hierarchy, like\n\n```\nsage: K.orthogonal_sublattice().cone()\n```\n\nwhich would be a wrapper around\n\n```\nsage: Cone( c*g for g in K.orthogonal_sublattice().gens() for c in [-1, 1] )\n```\n\nThe problem with that is, when starting from a cone and passing through a vector space, the lattice information is lost. If I start with a cone in a lattice `M`, take its `linear_subspace()`, and then turn it into cone...\n\n```\nsage: K = Cone([(1,0,0),(-1,0,0),(0,1,0)], ToricLattice(3,'M'))\nsage: Cone(K.linear_subspace().gens())\n1-d cone in 3-d lattice N\n```\n\nit should live in the same lattice as the original cone. I don't see how to fix that immediately.",
    "created_at": "2018-11-12T17:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413101",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:5" align="right">Comment 5</div>

Option 3:

For the span and the orthogonal complement, we could sensibly add a `cone()` method somewhere in the module hierarchy, like

```
sage: K.orthogonal_sublattice().cone()
```

which would be a wrapper around

```
sage: Cone( c*g for g in K.orthogonal_sublattice().gens() for c in [-1, 1] )
```

The problem with that is, when starting from a cone and passing through a vector space, the lattice information is lost. If I start with a cone in a lattice `M`, take its `linear_subspace()`, and then turn it into cone...

```
sage: K = Cone([(1,0,0),(-1,0,0),(0,1,0)], ToricLattice(3,'M'))
sage: Cone(K.linear_subspace().gens())
1-d cone in 3-d lattice N
```

it should live in the same lattice as the original cone. I don't see how to fix that immediately.



---

archive/issue_comments_413102.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nJust a reminder - orthogonality in the toric setting is handled via dual lattices:\n\n```\nsage: c = Cone([(1,2,3), (4,5,6)])\nsage: c\n2-d cone in 3-d lattice N\nsage: c.orthogonal_sublattice()\nSublattice <M(1, -2, 1)>\nsage: c.span()\nSublattice <N(1, 2, 3), N(0, 3, 6)>\n```\nI can't imagine use cases where I would like to treat all these spaces as cones. Can you please explain it in more details, i.e. what is wrong with treating them as, well, spaces? If you really do want to have cones associated to spaces, then you can easily attach a method to toric lattices and sublattices, or, alternatively or in addition, you can modify the `Cone` constructor to handle lattices and spaces. I just tried `Cone(c.span())` for the above example and probably hit some infinite recursion that is in addition very slow - after a few minutes it is still doing something.\n\nBut I am still unclear why would one want to turn a space into a cone, what is there to gain from such a representation?",
    "created_at": "2018-11-12T18:54:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413102",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:6" align="right">Comment 6</div>

Just a reminder - orthogonality in the toric setting is handled via dual lattices:

```
sage: c = Cone([(1,2,3), (4,5,6)])
sage: c
2-d cone in 3-d lattice N
sage: c.orthogonal_sublattice()
Sublattice <M(1, -2, 1)>
sage: c.span()
Sublattice <N(1, 2, 3), N(0, 3, 6)>
```
I can't imagine use cases where I would like to treat all these spaces as cones. Can you please explain it in more details, i.e. what is wrong with treating them as, well, spaces? If you really do want to have cones associated to spaces, then you can easily attach a method to toric lattices and sublattices, or, alternatively or in addition, you can modify the `Cone` constructor to handle lattices and spaces. I just tried `Cone(c.span())` for the above example and probably hit some infinite recursion that is in addition very slow - after a few minutes it is still doing something.

But I am still unclear why would one want to turn a space into a cone, what is there to gain from such a representation?



---

archive/issue_comments_413103.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nOof, it looks like I'm missing trac emails again.\n\nIt would just be nice to have the cone methods available on subspaces. For example, Corollary 1 in these notes,\n\nhttp://michael.orlitzky.com/notes/on_z-operators_and_viability_theorems.pdf\n\nis very easy to test as the intersection of a closed convex (dual) cone and a subspace. If span(x) is a cone, and if its orthogonal complement is a cone, then I can use the cone intersection method that we already have to test it.\n\nAnother example is the \"maximal angle between two convex cones.\" This is a newish concept (from 2016), and I've implemented it as a method on cones. However, the \"principal angle between subspaces\" is a classical idea going back to the 1950s, and they turn out to be equivalent for cones that are subspaces. If subspaces can be treated as cones, then I can use the same method that I have on cones to compute principal angles between subspaces. And so on.\n\nThe reason `Cone(c.span())` \"hangs\" is because it carefully enumerates every element of the vector space.\n\nI think there's plenty of work to do just to get the trivial cone, nonnegative orthant, and a few others implemented and documented. I'll focus on that and worry about the other questions later.",
    "created_at": "2019-02-09T19:44:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413103",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:7" align="right">Comment 7</div>

Oof, it looks like I'm missing trac emails again.

It would just be nice to have the cone methods available on subspaces. For example, Corollary 1 in these notes,

http://michael.orlitzky.com/notes/on_z-operators_and_viability_theorems.pdf

is very easy to test as the intersection of a closed convex (dual) cone and a subspace. If span(x) is a cone, and if its orthogonal complement is a cone, then I can use the cone intersection method that we already have to test it.

Another example is the "maximal angle between two convex cones." This is a newish concept (from 2016), and I've implemented it as a method on cones. However, the "principal angle between subspaces" is a classical idea going back to the 1950s, and they turn out to be equivalent for cones that are subspaces. If subspaces can be treated as cones, then I can use the same method that I have on cones to compute principal angles between subspaces. And so on.

The reason `Cone(c.span())` "hangs" is because it carefully enumerates every element of the vector space.

I think there's plenty of work to do just to get the trivial cone, nonnegative orthant, and a few others implemented and documented. I'll focus on that and worry about the other questions later.



---

archive/issue_comments_413104.json:
```json
{
    "body": "Commit: **[eb072ce](https://github.com/sagemath/sagetrac-mirror/commit/eb072cefecfe1382929a13ee2f40c6525093b363)**",
    "created_at": "2019-02-12T16:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413104",
    "user": "https://github.com/orlitzky"
}
```

Commit: **[eb072ce](https://github.com/sagemath/sagetrac-mirror/commit/eb072cefecfe1382929a13ee2f40c6525093b363)**



---

archive/issue_comments_413105.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nHere's my first attempt at this. I'm open to other suggestions if you don't like the module or class names.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66459117d05adc8993b623f45775ca488224f81f\">6645911</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/84f5635bf31a0638eb38ef48c7cb24c6c2ede4ed\">84f5635</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dd759dc135b7a50cb9d922927c448df3298214a6\">dd759dc</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb072cefecfe1382929a13ee2f40c6525093b363\">eb072ce</a></td><td><code>Trac #26623: update doctests in cone.py to use new \"cones\" methods.</code></td></tr></table>\n",
    "created_at": "2019-02-12T16:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413105",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:8" align="right">Comment 8</div>

Here's my first attempt at this. I'm open to other suggestions if you don't like the module or class names.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66459117d05adc8993b623f45775ca488224f81f">6645911</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/84f5635bf31a0638eb38ef48c7cb24c6c2ede4ed">84f5635</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dd759dc135b7a50cb9d922927c448df3298214a6">dd759dc</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb072cefecfe1382929a13ee2f40c6525093b363">eb072ce</a></td><td><code>Trac #26623: update doctests in cone.py to use new "cones" methods.</code></td></tr></table>




---

archive/issue_comments_413106.json:
```json
{
    "body": "Author: **Michael Orlitzky**",
    "created_at": "2019-02-12T16:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413106",
    "user": "https://github.com/orlitzky"
}
```

Author: **Michael Orlitzky**



---

archive/issue_comments_413107.json:
```json
{
    "body": "Branch: **[u/mjo/ticket/26623](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623)**",
    "created_at": "2019-02-12T16:10:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413107",
    "user": "https://github.com/orlitzky"
}
```

Branch: **[u/mjo/ticket/26623](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623)**



---

archive/issue_events_348259.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2019-02-12T16:10:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348259"
}
```



---

archive/issue_comments_413108.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nI am fine with the class names but the objects would better be like graphs (and many other constructors): that is in caml case like `Trivial`, `NonnegativeOrthant`, etc",
    "created_at": "2019-02-28T18:16:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413108",
    "user": "https://github.com/videlec"
}
```

<div id="comment:9" align="right">Comment 9</div>

I am fine with the class names but the objects would better be like graphs (and many other constructors): that is in caml case like `Trivial`, `NonnegativeOrthant`, etc



---

archive/issue_comments_413109.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nReplying to [@videlec](#comment%3A9):\n> I am fine with the class names but the objects would better be like graphs (and many other constructors): that is in caml case like `Trivial`, `NonnegativeOrthant`, etc\n\nDoesn't that violate PEP8? They're not really constructors, even though they do mimic constructors (in the sense that they *would* be constructors if I didn't want the `cones.` prefix). However this is python where almost every function creates a new object and returns it, so the distinction seems a little arbitrary to me.",
    "created_at": "2019-02-28T22:50:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413109",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:10" align="right">Comment 10</div>

Replying to [@videlec](#comment%3A9):
> I am fine with the class names but the objects would better be like graphs (and many other constructors): that is in caml case like `Trivial`, `NonnegativeOrthant`, etc

Doesn't that violate PEP8? They're not really constructors, even though they do mimic constructors (in the sense that they *would* be constructors if I didn't want the `cones.` prefix). However this is python where almost every function creates a new object and returns it, so the distinction seems a little arbitrary to me.



---

archive/issue_comments_413110.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nPlease have a look at: `graphs.`, `designs.`, `polytopes.`, `manifolds.`, ... All of them use caml case and most of them are not classes. I am not talking about PEP8 but consistency within sage.",
    "created_at": "2019-03-01T06:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413110",
    "user": "https://github.com/videlec"
}
```

<div id="comment:11" align="right">Comment 11</div>

Please have a look at: `graphs.`, `designs.`, `polytopes.`, `manifolds.`, ... All of them use caml case and most of them are not classes. I am not talking about PEP8 but consistency within sage.



---

archive/issue_comments_413111.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nIt seems that when you do specify a lattice, you also have to specify its dimension and there is a check that you do not make a mistake. It would be more pleasant to provide only one input argument: either a number to get the cone in the default lattice of that dimension, or a lattice and get a cone in that lattice.",
    "created_at": "2019-03-02T00:41:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413111",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:12" align="right">Comment 12</div>

It seems that when you do specify a lattice, you also have to specify its dimension and there is a check that you do not make a mistake. It would be more pleasant to provide only one input argument: either a number to get the cone in the default lattice of that dimension, or a lattice and get a cone in that lattice.



---

archive/issue_comments_413112.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nReplying to [@novoselt](#comment%3A12):\n> It seems that when you do specify a lattice, you also have to specify its dimension and there is a check that you do not make a mistake. It would be more pleasant to provide only one input argument: either a number to get the cone in the default lattice of that dimension, or a lattice and get a cone in that lattice.\n\nBut that's exactly how `Cone()` works, and `Cone()` is the function that underlies all of these convenience methods.\n\nThe additional check is not strictly required; it serves only to provide a more relevant error message. For example, if I were to delete the check and then pass a lattice of the wrong rank to `Cone()`, I would get\n\n```\nsage: M = ToricLattice(2)\nsage: Cone([(1,-1,0),(0,1,-1)], lattice=M)\n...\nTypeError: cannot convert (1, -1, 0) to Vector space of dimension 2 over Rational Field!\n\n```\n\nIf you know the generators of (say) the Schur cone, then you might be able to figure out what that error message means. But, if you don't know what those generators are off the top of your head, then an error message complaining about converting `(1,-1,0)` to a rational vector space could be confusing. That said, I'm not too attached to the additional sanity check and error message, and would be happy to remove them.\n\n\n> It would be more pleasant to provide only one input argument: either a number to get the cone in the default lattice of that dimension\n\nI don't think this is workable, since in applications we often want to intersect the dual of some cone (which will live in a non-default lattice) with e.g. a nonnegative orthant.\n\n\n> only one input argument...  a lattice, and get a cone in that lattice. \n\nThis is the best API, but as a user-interface is pretty annoying to use. The \"pass a lattice, but only if you don't want the default one\" approach of `Cone()` is IMO a good compromise. Having to do e.g.\n\n```\nsage: cones.trivial(ToricLattice(3))\n```\n\nis even worse than\n\n```\nsage: Cone([], ToricLattice(3))\n```\n\nIn the common case, the user is left wondering why he has to type `ToricLattice(n)` all the time instead of just `n`. The default is usually fine until you start doing complicated stuff.",
    "created_at": "2019-03-02T01:21:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413112",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:13" align="right">Comment 13</div>

Replying to [@novoselt](#comment%3A12):
> It seems that when you do specify a lattice, you also have to specify its dimension and there is a check that you do not make a mistake. It would be more pleasant to provide only one input argument: either a number to get the cone in the default lattice of that dimension, or a lattice and get a cone in that lattice.

But that's exactly how `Cone()` works, and `Cone()` is the function that underlies all of these convenience methods.

The additional check is not strictly required; it serves only to provide a more relevant error message. For example, if I were to delete the check and then pass a lattice of the wrong rank to `Cone()`, I would get

```
sage: M = ToricLattice(2)
sage: Cone([(1,-1,0),(0,1,-1)], lattice=M)
...
TypeError: cannot convert (1, -1, 0) to Vector space of dimension 2 over Rational Field!

```

If you know the generators of (say) the Schur cone, then you might be able to figure out what that error message means. But, if you don't know what those generators are off the top of your head, then an error message complaining about converting `(1,-1,0)` to a rational vector space could be confusing. That said, I'm not too attached to the additional sanity check and error message, and would be happy to remove them.


> It would be more pleasant to provide only one input argument: either a number to get the cone in the default lattice of that dimension

I don't think this is workable, since in applications we often want to intersect the dual of some cone (which will live in a non-default lattice) with e.g. a nonnegative orthant.


> only one input argument...  a lattice, and get a cone in that lattice. 

This is the best API, but as a user-interface is pretty annoying to use. The "pass a lattice, but only if you don't want the default one" approach of `Cone()` is IMO a good compromise. Having to do e.g.

```
sage: cones.trivial(ToricLattice(3))
```

is even worse than

```
sage: Cone([], ToricLattice(3))
```

In the common case, the user is left wondering why he has to type `ToricLattice(n)` all the time instead of just `n`. The default is usually fine until you start doing complicated stuff.



---

archive/issue_comments_413113.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\n`Cone` works for arbitrary cones and it may be convenient to give input as integer vectors, especially as a user input, in which case it is handy to specify some lattice and cast all vectors to it. Just specifying a lattice does not make much sense for `Cone` except for a trivial one, perhaps. But in your constructors everything **is** determined by dimension, there are no explicit rays to give, so what I propose is to have two options: `cones.trivial(3)` and `cones.trivial(my_lattice)`. I do **not** suggest that you eliminate the form when only the integer is given, rather do not require this integer in those cases, when the lattice was given explicitly!",
    "created_at": "2019-03-02T01:37:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413113",
    "user": "https://github.com/novoselt"
}
```

<div id="comment:14" align="right">Comment 14</div>

`Cone` works for arbitrary cones and it may be convenient to give input as integer vectors, especially as a user input, in which case it is handy to specify some lattice and cast all vectors to it. Just specifying a lattice does not make much sense for `Cone` except for a trivial one, perhaps. But in your constructors everything **is** determined by dimension, there are no explicit rays to give, so what I propose is to have two options: `cones.trivial(3)` and `cones.trivial(my_lattice)`. I do **not** suggest that you eliminate the form when only the integer is given, rather do not require this integer in those cases, when the lattice was given explicitly!



---

archive/issue_comments_413114.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@novoselt](#comment%3A14):\n> I do **not** suggest that you eliminate the form when only the integer is given, rather do not require this integer in those cases, when the lattice was given explicitly!\n\nAh, sorry I misunderstood. This sounds like a good idea.",
    "created_at": "2019-03-02T01:42:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413114",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@novoselt](#comment%3A14):
> I do **not** suggest that you eliminate the form when only the integer is given, rather do not require this integer in those cases, when the lattice was given explicitly!

Ah, sorry I misunderstood. This sounds like a good idea.



---

archive/issue_comments_413115.json:
```json
{
    "body": "Changed commit from **[eb072ce](https://github.com/sagemath/sagetrac-mirror/commit/eb072cefecfe1382929a13ee2f40c6525093b363)** to **[5533bd2](https://github.com/sagemath/sagetrac-mirror/commit/5533bd22838f7d530f37812662e3a6353d2439a8)**",
    "created_at": "2019-03-04T15:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413115",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[eb072ce](https://github.com/sagemath/sagetrac-mirror/commit/eb072cefecfe1382929a13ee2f40c6525093b363)** to **[5533bd2](https://github.com/sagemath/sagetrac-mirror/commit/5533bd22838f7d530f37812662e3a6353d2439a8)**



---

archive/issue_comments_413116.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53f7b42fc46b9667bd555ef746ac1f2415ff3175\">53f7b42</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cab6be82b02612b30680288101965b175cd6313d\">cab6be8</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f48f779a67135b743c85bbbc7e7e6de902aa8a5d\">f48f779</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eda8548e76e749f369eb0f9f96bdfaab841299e4\">eda8548</a></td><td><code>Trac #26623: update doctests in cone.py to use new \"cones\" methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8122dc0ab2de4e962ff9c6331dc90ff5d35da508\">8122dc0</a></td><td><code>Trac #26623: factor out common \"cones\" argument processing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5533bd22838f7d530f37812662e3a6353d2439a8\">5533bd2</a></td><td><code>Trac #26623: use Pascal case for \"cones\" method names.</code></td></tr></table>\n",
    "created_at": "2019-03-04T15:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413116",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16" align="right">Comment 16</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53f7b42fc46b9667bd555ef746ac1f2415ff3175">53f7b42</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cab6be82b02612b30680288101965b175cd6313d">cab6be8</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f48f779a67135b743c85bbbc7e7e6de902aa8a5d">f48f779</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eda8548e76e749f369eb0f9f96bdfaab841299e4">eda8548</a></td><td><code>Trac #26623: update doctests in cone.py to use new "cones" methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8122dc0ab2de4e962ff9c6331dc90ff5d35da508">8122dc0</a></td><td><code>Trac #26623: factor out common "cones" argument processing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5533bd22838f7d530f37812662e3a6353d2439a8">5533bd2</a></td><td><code>Trac #26623: use Pascal case for "cones" method names.</code></td></tr></table>




---

archive/issue_comments_413117.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nEach method will now make an attempt to determine the ambient dimension from the lattice and vice-versa. An error is raised if they are both left unspecified, or if they disagree. I don't think it's necessary to prohibit e.g. `nonnegative_orthant(3,M)` if the rank of `M` is `3`.\n\nI also added a commit on top of the others to switch to PascalCase names. My mother taught me that \"everyone else is doing it\" isn't a good excuse, so I'm not sold on the motivation, but it's there. I don't feel that strongly about it if I'm in the minority.",
    "created_at": "2019-03-04T15:42:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413117",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:17" align="right">Comment 17</div>

Each method will now make an attempt to determine the ambient dimension from the lattice and vice-versa. An error is raised if they are both left unspecified, or if they disagree. I don't think it's necessary to prohibit e.g. `nonnegative_orthant(3,M)` if the rank of `M` is `3`.

I also added a commit on top of the others to switch to PascalCase names. My mother taught me that "everyone else is doing it" isn't a good excuse, so I'm not sold on the motivation, but it's there. I don't feel that strongly about it if I'm in the minority.



---

archive/issue_comments_413118.json:
```json
{
    "body": "Changed commit from **[5533bd2](https://github.com/sagemath/sagetrac-mirror/commit/5533bd22838f7d530f37812662e3a6353d2439a8)** to **[59fd912](https://github.com/sagemath/sagetrac-mirror/commit/59fd912961474829dd39cc4edbaa462158f2f4bb)**",
    "created_at": "2019-08-12T21:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413118",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[5533bd2](https://github.com/sagemath/sagetrac-mirror/commit/5533bd22838f7d530f37812662e3a6353d2439a8)** to **[59fd912](https://github.com/sagemath/sagetrac-mirror/commit/59fd912961474829dd39cc4edbaa462158f2f4bb)**



---

archive/issue_comments_413119.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7ddd80335a292c66c7ab101cfec0efccedce4f55\">7ddd803</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/05882899805ebedfe7ac4be022162daa3cc58a34\">0588289</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a80699c5c8287cefe443b7069a8f7d366263e7b3\">a80699c</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f8aeaf38d731016f6c5819206797a697fa87e09\">1f8aeaf</a></td><td><code>Trac #26623: update doctests in cone.py to use new \"cones\" methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d266a330dc628bf4e5dfce065c8c9cdd120f8aa8\">d266a33</a></td><td><code>Trac #26623: factor out common \"cones\" argument processing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59fd912961474829dd39cc4edbaa462158f2f4bb\">59fd912</a></td><td><code>Trac #26623: use Pascal case for \"cones\" method names.</code></td></tr></table>\n",
    "created_at": "2019-08-12T21:21:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413119",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18" align="right">Comment 18</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7ddd80335a292c66c7ab101cfec0efccedce4f55">7ddd803</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/05882899805ebedfe7ac4be022162daa3cc58a34">0588289</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a80699c5c8287cefe443b7069a8f7d366263e7b3">a80699c</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f8aeaf38d731016f6c5819206797a697fa87e09">1f8aeaf</a></td><td><code>Trac #26623: update doctests in cone.py to use new "cones" methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d266a330dc628bf4e5dfce065c8c9cdd120f8aa8">d266a33</a></td><td><code>Trac #26623: factor out common "cones" argument processing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59fd912961474829dd39cc4edbaa462158f2f4bb">59fd912</a></td><td><code>Trac #26623: use Pascal case for "cones" method names.</code></td></tr></table>




---

archive/issue_comments_413120.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nForce-pushed a rebase onto the \"develop\" branch to fix a conflict in `src/doc/en/reference/references/index.rst`.",
    "created_at": "2019-08-12T21:22:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413120",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:19" align="right">Comment 19</div>

Force-pushed a rebase onto the "develop" branch to fix a conflict in `src/doc/en/reference/references/index.rst`.



---

archive/issue_events_348260.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-08-27T09:10:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348260"
}
```



---

archive/issue_events_348261.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2019-08-27T09:10:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348261"
}
```



---

archive/issue_comments_413121.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nThere seems to be a conflict with version 8.9.beta8.",
    "created_at": "2019-08-27T09:10:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413121",
    "user": "https://github.com/jplab"
}
```

<div id="comment:20" align="right">Comment 20</div>

There seems to be a conflict with version 8.9.beta8.



---

archive/issue_comments_413122.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4fcb2c4707eda83e9d925399587fcc25e25f7120\">4fcb2c4</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d163d528284d776094b3cae29975e3a75207071b\">d163d52</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/58e305f2d42202c188e1f1d414747852d6e3f1e4\">58e305f</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/65f70a410a5eb416e32ef7b31e3080cc6b8bbb32\">65f70a4</a></td><td><code>Trac #26623: update doctests in cone.py to use new \"cones\" methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4789295bcfc38b27ca0db581a30f7346bacc665\">b478929</a></td><td><code>Trac #26623: factor out common \"cones\" argument processing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4c577e7afa2a469ffe35997adcc99298e3f7b86\">f4c577e</a></td><td><code>Trac #26623: use Pascal case for \"cones\" method names.</code></td></tr></table>\n",
    "created_at": "2019-08-27T13:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413122",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21" align="right">Comment 21</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4fcb2c4707eda83e9d925399587fcc25e25f7120">4fcb2c4</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d163d528284d776094b3cae29975e3a75207071b">d163d52</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/58e305f2d42202c188e1f1d414747852d6e3f1e4">58e305f</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/65f70a410a5eb416e32ef7b31e3080cc6b8bbb32">65f70a4</a></td><td><code>Trac #26623: update doctests in cone.py to use new "cones" methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4789295bcfc38b27ca0db581a30f7346bacc665">b478929</a></td><td><code>Trac #26623: factor out common "cones" argument processing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4c577e7afa2a469ffe35997adcc99298e3f7b86">f4c577e</a></td><td><code>Trac #26623: use Pascal case for "cones" method names.</code></td></tr></table>




---

archive/issue_comments_413123.json:
```json
{
    "body": "Changed commit from **[59fd912](https://github.com/sagemath/sagetrac-mirror/commit/59fd912961474829dd39cc4edbaa462158f2f4bb)** to **[f4c577e](https://github.com/sagemath/sagetrac-mirror/commit/f4c577e7afa2a469ffe35997adcc99298e3f7b86)**",
    "created_at": "2019-08-27T13:45:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413123",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[59fd912](https://github.com/sagemath/sagetrac-mirror/commit/59fd912961474829dd39cc4edbaa462158f2f4bb)** to **[f4c577e](https://github.com/sagemath/sagetrac-mirror/commit/f4c577e7afa2a469ffe35997adcc99298e3f7b86)**



---

archive/issue_events_348262.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2019-08-27T13:46:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348262"
}
```



---

archive/issue_events_348263.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2019-08-27T13:46:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348263"
}
```



---

archive/issue_comments_413124.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nReplying to [@jplab](#comment%3A20):\n> There seems to be a conflict with version 8.9.beta8.\n\nAnother conflict in the global references list. Fixed now, thanks for the heads up.",
    "created_at": "2019-08-27T13:46:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413124",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:22" align="right">Comment 22</div>

Replying to [@jplab](#comment%3A20):
> There seems to be a conflict with version 8.9.beta8.

Another conflict in the global references list. Fixed now, thanks for the heads up.



---

archive/issue_comments_413125.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nWould it make sense to use lazy imports?",
    "created_at": "2019-12-06T20:56:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413125",
    "user": "https://github.com/kliem"
}
```

<div id="comment:23" align="right">Comment 23</div>

Would it make sense to use lazy imports?



---

archive/issue_comments_413126.json:
```json
{
    "body": "Changed commit from **[f4c577e](https://github.com/sagemath/sagetrac-mirror/commit/f4c577e7afa2a469ffe35997adcc99298e3f7b86)** to **[23b7dfc](https://github.com/sagemath/sagetrac-mirror/commit/23b7dfca8f406bd037876fd4f8e8911c39036016)**",
    "created_at": "2019-12-08T13:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413126",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f4c577e](https://github.com/sagemath/sagetrac-mirror/commit/f4c577e7afa2a469ffe35997adcc99298e3f7b86)** to **[23b7dfc](https://github.com/sagemath/sagetrac-mirror/commit/23b7dfca8f406bd037876fd4f8e8911c39036016)**



---

archive/issue_comments_413127.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/146bf23ff2f8efcf109f97691a23613a6abb56ef\">146bf23</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f8f5febad6bbe97cf0639c69aa61d865fb52248d\">f8f5feb</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0d2d9a67be4d69f5b5b6cf0a68dd283103debdc3\">0d2d9a6</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29b269d6fd0411e9482c00426ad4e34ad25b3596\">29b269d</a></td><td><code>Trac #26623: update doctests in cone.py to use new \"cones\" methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5665a7657fea5794a17778a720a91a43558fd3ba\">5665a76</a></td><td><code>Trac #26623: factor out common \"cones\" argument processing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b919f9096d648b1ab97dfdfa981eb93254bc0e1d\">b919f90</a></td><td><code>Trac #26623: use Pascal case for \"cones\" method names.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/23b7dfca8f406bd037876fd4f8e8911c39036016\">23b7dfc</a></td><td><code>Trac #26623: use a lazy_import for the global \"cones\" object.</code></td></tr></table>\n",
    "created_at": "2019-12-08T13:27:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413127",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24" align="right">Comment 24</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/146bf23ff2f8efcf109f97691a23613a6abb56ef">146bf23</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f8f5febad6bbe97cf0639c69aa61d865fb52248d">f8f5feb</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0d2d9a67be4d69f5b5b6cf0a68dd283103debdc3">0d2d9a6</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29b269d6fd0411e9482c00426ad4e34ad25b3596">29b269d</a></td><td><code>Trac #26623: update doctests in cone.py to use new "cones" methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5665a7657fea5794a17778a720a91a43558fd3ba">5665a76</a></td><td><code>Trac #26623: factor out common "cones" argument processing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b919f9096d648b1ab97dfdfa981eb93254bc0e1d">b919f90</a></td><td><code>Trac #26623: use Pascal case for "cones" method names.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/23b7dfca8f406bd037876fd4f8e8911c39036016">23b7dfc</a></td><td><code>Trac #26623: use a lazy_import for the global "cones" object.</code></td></tr></table>




---

archive/issue_comments_413128.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nReplying to [@kliem](#comment%3A23):\n> Would it make sense to use lazy imports?\n\nGood idea. I dislike lazy imports when they're used to mis-structure a hierarchy, but in this case it prevents sage from fully loading an esoteric feature and should speed things up.",
    "created_at": "2019-12-08T13:30:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413128",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:25" align="right">Comment 25</div>

Replying to [@kliem](#comment%3A23):
> Would it make sense to use lazy imports?

Good idea. I dislike lazy imports when they're used to mis-structure a hierarchy, but in this case it prevents sage from fully loading an esoteric feature and should speed things up.



---

archive/issue_comments_413129.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2cffd938b2a9c73a4ff912700bc5611f6dcc06b9\">2cffd93</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d2e22a213588ee6da4f2178a9d06d2a439cce9c1\">d2e22a2</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/211477fb54554095d3d917baa340bdb78a5bc092\">211477f</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e707e63f78e83a3941f2555cf65f09e99575f47e\">e707e63</a></td><td><code>Trac #26623: update doctests in cone.py to use new \"cones\" methods.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f0542f25abbfc39a0518f315d92d64827759f304\">f0542f2</a></td><td><code>Trac #26623: factor out common \"cones\" argument processing.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0f4d97927ea21552b74a8e21f3d2cef29d454ed9\">0f4d979</a></td><td><code>Trac #26623: use Pascal case for \"cones\" method names.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9d605a78adf96a6eff19741b4f0090cbf39821b5\">9d605a7</a></td><td><code>Trac #26623: use a lazy_import for the global \"cones\" object.</code></td></tr></table>\n",
    "created_at": "2020-02-09T00:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413129",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26" align="right">Comment 26</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2cffd938b2a9c73a4ff912700bc5611f6dcc06b9">2cffd93</a></td><td><code>Trac #26623: add global entries for pending sage.geometry.cones citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d2e22a213588ee6da4f2178a9d06d2a439cce9c1">d2e22a2</a></td><td><code>Trac #26623: add cones.<whatever> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/211477fb54554095d3d917baa340bdb78a5bc092">211477f</a></td><td><code>Trac #26623: add the sage.geometry.cones module to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e707e63f78e83a3941f2555cf65f09e99575f47e">e707e63</a></td><td><code>Trac #26623: update doctests in cone.py to use new "cones" methods.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f0542f25abbfc39a0518f315d92d64827759f304">f0542f2</a></td><td><code>Trac #26623: factor out common "cones" argument processing.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0f4d97927ea21552b74a8e21f3d2cef29d454ed9">0f4d979</a></td><td><code>Trac #26623: use Pascal case for "cones" method names.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9d605a78adf96a6eff19741b4f0090cbf39821b5">9d605a7</a></td><td><code>Trac #26623: use a lazy_import for the global "cones" object.</code></td></tr></table>




---

archive/issue_comments_413130.json:
```json
{
    "body": "Changed commit from **[23b7dfc](https://github.com/sagemath/sagetrac-mirror/commit/23b7dfca8f406bd037876fd4f8e8911c39036016)** to **[9d605a7](https://github.com/sagemath/sagetrac-mirror/commit/9d605a78adf96a6eff19741b4f0090cbf39821b5)**",
    "created_at": "2020-02-09T00:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413130",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[23b7dfc](https://github.com/sagemath/sagetrac-mirror/commit/23b7dfca8f406bd037876fd4f8e8911c39036016)** to **[9d605a7](https://github.com/sagemath/sagetrac-mirror/commit/9d605a78adf96a6eff19741b4f0090cbf39821b5)**



---

archive/issue_comments_413131.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nRebased onto develop branch.",
    "created_at": "2020-02-09T00:31:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413131",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:27" align="right">Comment 27</div>

Rebased onto develop branch.



---

archive/issue_comments_413132.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nSome minor things:\n\n- Is [CamelCase](../wiki/CamelCase) really necessary (compare the `polytopes.` library...)?\n- The function `_preprocess_args` needs doctests.\n- There is a pyflake import error, could you take care of it?",
    "created_at": "2020-02-14T09:19:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413132",
    "user": "https://github.com/jplab"
}
```

<div id="comment:28" align="right">Comment 28</div>

Some minor things:

- Is [CamelCase](../wiki/CamelCase) really necessary (compare the `polytopes.` library...)?
- The function `_preprocess_args` needs doctests.
- There is a pyflake import error, could you take care of it?



---

archive/issue_events_348264.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-14T09:19:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348264"
}
```



---

archive/issue_events_348265.json:
```json
{
    "actor": "https://github.com/jplab",
    "created_at": "2020-02-14T09:19:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348265"
}
```



---

archive/issue_comments_413133.json:
```json
{
    "body": "Changed commit from **[9d605a7](https://github.com/sagemath/sagetrac-mirror/commit/9d605a78adf96a6eff19741b4f0090cbf39821b5)** to **[3c88088](https://github.com/sagemath/sagetrac-mirror/commit/3c880885fbc910f21b76745dea1a141e205f6ce4)**",
    "created_at": "2020-02-15T02:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413133",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9d605a7](https://github.com/sagemath/sagetrac-mirror/commit/9d605a78adf96a6eff19741b4f0090cbf39821b5)** to **[3c88088](https://github.com/sagemath/sagetrac-mirror/commit/3c880885fbc910f21b76745dea1a141e205f6ce4)**



---

archive/issue_comments_413134.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c880885fbc910f21b76745dea1a141e205f6ce4\">3c88088</a></td><td><code>Trac #26623: remove two unused imports.</code></td></tr></table>\n",
    "created_at": "2020-02-15T02:03:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413134",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:29" align="right">Comment 29</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c880885fbc910f21b76745dea1a141e205f6ce4">3c88088</a></td><td><code>Trac #26623: remove two unused imports.</code></td></tr></table>




---

archive/issue_comments_413135.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nReplying to [@jplab](#comment%3A28):\n> Some minor things:\n> \n> - Is [CamelCase](../wiki/CamelCase) really necessary (compare the `polytopes.` library...)?\n\nThe hardest question to answer. I started with e.g. `cones.nonnegative_orthant()`, and was asked to change it for consistency (read the earlier comments). I don't have strong feelings either way, but slightly prefer the way the lowercase/underscore names look. We should have a consistent, documented policy about this. I started a thread on -dev about it.\n\n\n> - The function `_preprocess_args` needs doctests.\n\nThis is doctested, it just doesn't look like it. That code was originally inlined into each individual method, and each individual method still has tests to make sure that it works. You can check e.g. the last three TESTS for `Schur()` to see that they're really testing the code in `_preprocess_args`. This actually results in some duplicated tests, but makes sure that I haven't totally forgotten to call `_preprocess_args` for some cone (and is nice documentation). \n\n\n> - There is a pyflake import error, could you take care of it?\n\nFixed, thanks.",
    "created_at": "2020-02-15T02:10:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413135",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:30" align="right">Comment 30</div>

Replying to [@jplab](#comment%3A28):
> Some minor things:
> 
> - Is [CamelCase](../wiki/CamelCase) really necessary (compare the `polytopes.` library...)?

The hardest question to answer. I started with e.g. `cones.nonnegative_orthant()`, and was asked to change it for consistency (read the earlier comments). I don't have strong feelings either way, but slightly prefer the way the lowercase/underscore names look. We should have a consistent, documented policy about this. I started a thread on -dev about it.


> - The function `_preprocess_args` needs doctests.

This is doctested, it just doesn't look like it. That code was originally inlined into each individual method, and each individual method still has tests to make sure that it works. You can check e.g. the last three TESTS for `Schur()` to see that they're really testing the code in `_preprocess_args`. This actually results in some duplicated tests, but makes sure that I haven't totally forgotten to call `_preprocess_args` for some cone (and is nice documentation). 


> - There is a pyflake import error, could you take care of it?

Fixed, thanks.



---

archive/issue_comments_413136.json:
```json
{
    "body": "Changed commit from **[3c88088](https://github.com/sagemath/sagetrac-mirror/commit/3c880885fbc910f21b76745dea1a141e205f6ce4)** to **[f4a4d34](https://github.com/sagemath/sagetrac-mirror/commit/f4a4d3488789021cb17169cf4134dd4787fa7568)**",
    "created_at": "2020-02-16T16:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413136",
    "user": "https://github.com/orlitzky"
}
```

Changed commit from **[3c88088](https://github.com/sagemath/sagetrac-mirror/commit/3c880885fbc910f21b76745dea1a141e205f6ce4)** to **[f4a4d34](https://github.com/sagemath/sagetrac-mirror/commit/f4a4d3488789021cb17169cf4134dd4787fa7568)**



---

archive/issue_comments_413137.json:
```json
{
    "body": "Changed branch from **[u/mjo/ticket/26623](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623)** to **[u/mjo/ticket/26623-ng](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623-ng)**",
    "created_at": "2020-02-16T16:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413137",
    "user": "https://github.com/orlitzky"
}
```

Changed branch from **[u/mjo/ticket/26623](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623)** to **[u/mjo/ticket/26623-ng](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623-ng)**



---

archive/issue_comments_413138.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nIf no one else, I have convinced myself that lowercase-with-underscores is the better option here.\n\nThings got messy when I tried to revert the camel-case commit, so I wound up re-doing everything. The new implementation is slightly different:\n\n* I renamed the module from `cones` to `cone_catalog` which fits better with the existing naming scheme for algebras, designs, etc. Someone pointed this out on the mailing list and it makes sense to me.\n* I got rid of the class, and put everything back into functions exposed at the top level. The whole module is now imported under the global name `cones`. The reason for not doing this in the first place is that you don't want `cones.<tab>` to show things like `ZZ` and `matrix` that just happen to be imported into the module. After moving a few imports into the functions that use them, that's no longer an issue here.\n* Things are back to lowercase-with-underscores.\n* The lazy import isn't needed any longer, because we're not at risk of importing a pre-created object that will waste memory. Now it's just function names that do nothing unless you call them.\n* All of the commit messages have been updated to reflect these changes.",
    "created_at": "2020-02-16T16:06:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413138",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:31" align="right">Comment 31</div>

If no one else, I have convinced myself that lowercase-with-underscores is the better option here.

Things got messy when I tried to revert the camel-case commit, so I wound up re-doing everything. The new implementation is slightly different:

* I renamed the module from `cones` to `cone_catalog` which fits better with the existing naming scheme for algebras, designs, etc. Someone pointed this out on the mailing list and it makes sense to me.
* I got rid of the class, and put everything back into functions exposed at the top level. The whole module is now imported under the global name `cones`. The reason for not doing this in the first place is that you don't want `cones.<tab>` to show things like `ZZ` and `matrix` that just happen to be imported into the module. After moving a few imports into the functions that use them, that's no longer an issue here.
* Things are back to lowercase-with-underscores.
* The lazy import isn't needed any longer, because we're not at risk of importing a pre-created object that will waste memory. Now it's just function names that do nothing unless you call them.
* All of the commit messages have been updated to reflect these changes.



---

archive/issue_events_348266.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-02-16T16:06:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348266"
}
```



---

archive/issue_events_348267.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-02-16T16:06:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348267"
}
```



---

archive/issue_comments_413139.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nSome minor comments.\n\n- Your `INPUT` item all end with a period\n- You describe twice (after `INPUT` and after `OUTPUT`), when errors are being raised.\n- You misspelled `rearrangenent` at least once.\n- Please provide doctests for `_preprocess_args`.\n- `nonnegative_orthant`:\n  - Can you be more precise with the reference?\n\n```\n+    REFERENCES:\n+\n+    - [BV2009]_\n```\n  -\n- `rearrangement`:\n  - `\"rearrange,\"` (comma in quotes)\n  - again the references are rather unspecific except for `[Jeong2017]_` (is there any way to obtain `[Jeong2017]_`?)\n  - I would formulate the statement exactly the other way around. I guess figuring out the Lyapunov rank of the nonnegative orthant or a halfspace is the easy part.\n\n```\n+    Jeong's Corollary 5.2.4 [Jeong2017]_ states that if ``p`` is\n+    either one or ``ambient_dim``, then the Lyapunov rank of the\n+    rearrangement cone in ``ambient_dim`` dimensions is\n+    ``ambient_dim``. Moreover for all other values of ``p``, its\n+    Lyapunov rank is one::\n```\n- Isn't this clear from the definition anyway?\n\n```\n+    Jeong's Proposition 5.2.1 [Jeong2017]_ states that the rearrangenent\n+    cone of order ``p`` is contained in the rearrangement cone of\n+    order ``p + 1``::\n```\n    So maybe just the following would suffice\n\n```\n+    The rearrangement cone of order ``p`` is\n+    by definition contained in the one of order ``p + 1``::\n```\n  -\n\n```\n+    The generators for the rearrangement cone are given by [Jeong2017]_\n+    Theorem 5.2.3.\n```\n    Maybe it's more useful for the reader to specify the generators concretely here.\n- `schur`\n  - Please provide a definition.\n  - Again the references would be more helpful with concrete information (such as sections etc.)",
    "created_at": "2020-02-19T10:31:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413139",
    "user": "https://github.com/kliem"
}
```

<div id="comment:32" align="right">Comment 32</div>

Some minor comments.

- Your `INPUT` item all end with a period
- You describe twice (after `INPUT` and after `OUTPUT`), when errors are being raised.
- You misspelled `rearrangenent` at least once.
- Please provide doctests for `_preprocess_args`.
- `nonnegative_orthant`:
  - Can you be more precise with the reference?

```
+    REFERENCES:
+
+    - [BV2009]_
```
  -
- `rearrangement`:
  - `"rearrange,"` (comma in quotes)
  - again the references are rather unspecific except for `[Jeong2017]_` (is there any way to obtain `[Jeong2017]_`?)
  - I would formulate the statement exactly the other way around. I guess figuring out the Lyapunov rank of the nonnegative orthant or a halfspace is the easy part.

```
+    Jeong's Corollary 5.2.4 [Jeong2017]_ states that if ``p`` is
+    either one or ``ambient_dim``, then the Lyapunov rank of the
+    rearrangement cone in ``ambient_dim`` dimensions is
+    ``ambient_dim``. Moreover for all other values of ``p``, its
+    Lyapunov rank is one::
```
- Isn't this clear from the definition anyway?

```
+    Jeong's Proposition 5.2.1 [Jeong2017]_ states that the rearrangenent
+    cone of order ``p`` is contained in the rearrangement cone of
+    order ``p + 1``::
```
    So maybe just the following would suffice

```
+    The rearrangement cone of order ``p`` is
+    by definition contained in the one of order ``p + 1``::
```
  -

```
+    The generators for the rearrangement cone are given by [Jeong2017]_
+    Theorem 5.2.3.
```
    Maybe it's more useful for the reader to specify the generators concretely here.
- `schur`
  - Please provide a definition.
  - Again the references would be more helpful with concrete information (such as sections etc.)



---

archive/issue_events_348268.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-02-19T10:31:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348268"
}
```



---

archive/issue_events_348269.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2020-02-19T10:31:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348269"
}
```



---

archive/issue_comments_413140.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nBranch pushed to git repo; I updated commit sha1. Last 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed907959ee46a5c81397149d3f711ec1cf67bb13\">ed90795</a></td><td><code>Trac #26623: reduce INPUT/OUTPUT documentation duplication.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d83f5e09f9e3c6273285b378a2897c3b12845a1c\">d83f5e0</a></td><td><code>Trac #26623: add more documentation and examples for _preprocess_args().</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/06df9d96268d49b9fd2ac6323b97e5fe7c364e1b\">06df9d9</a></td><td><code>Trac #26623: remove an unnecessary citation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bde9302fc7179216f3b6b059dc5780ed0b6a7d76\">bde9302</a></td><td><code>Trac #26623: improve the ALGORITHM block for the rearrangement() cone.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6ceefa87c3f31a8f84e7cbe08ff605ff392fa56c\">6ceefa8</a></td><td><code>Trac #26623: clarify the example of Jeong's Corollary 5.2.4.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab5ea7d843161c3da0f296aac7d0ecfa3d361c74\">ab5ea7d</a></td><td><code>Trac #26623: fix a bound in a doctest (off-by-two from range()).</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f54d45af7a563cec41de922de64dfa809d15191a\">f54d45a</a></td><td><code>Trac #26623: improve the references for the rearrangement cone.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/26618d49f83e3d9188a4d0595461547940b4e107\">26618d4</a></td><td><code>Trac #26623: improve documentation for the schur() cone.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8034754f6cf3661d8feeddaa428ff6dfe2e6b8e0\">8034754</a></td><td><code>Trac #26623: remove two breaking spaces in LaTeX code.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/42e9e2abb91c4b8c38b39588c5428d8643ec268a\">42e9e2a</a></td><td><code>Trac #26623: remove periods from bullet list items.</code></td></tr></table>\n",
    "created_at": "2020-02-20T13:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413140",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:33" align="right">Comment 33</div>

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed907959ee46a5c81397149d3f711ec1cf67bb13">ed90795</a></td><td><code>Trac #26623: reduce INPUT/OUTPUT documentation duplication.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d83f5e09f9e3c6273285b378a2897c3b12845a1c">d83f5e0</a></td><td><code>Trac #26623: add more documentation and examples for _preprocess_args().</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/06df9d96268d49b9fd2ac6323b97e5fe7c364e1b">06df9d9</a></td><td><code>Trac #26623: remove an unnecessary citation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bde9302fc7179216f3b6b059dc5780ed0b6a7d76">bde9302</a></td><td><code>Trac #26623: improve the ALGORITHM block for the rearrangement() cone.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6ceefa87c3f31a8f84e7cbe08ff605ff392fa56c">6ceefa8</a></td><td><code>Trac #26623: clarify the example of Jeong's Corollary 5.2.4.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab5ea7d843161c3da0f296aac7d0ecfa3d361c74">ab5ea7d</a></td><td><code>Trac #26623: fix a bound in a doctest (off-by-two from range()).</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f54d45af7a563cec41de922de64dfa809d15191a">f54d45a</a></td><td><code>Trac #26623: improve the references for the rearrangement cone.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/26618d49f83e3d9188a4d0595461547940b4e107">26618d4</a></td><td><code>Trac #26623: improve documentation for the schur() cone.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8034754f6cf3661d8feeddaa428ff6dfe2e6b8e0">8034754</a></td><td><code>Trac #26623: remove two breaking spaces in LaTeX code.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/42e9e2abb91c4b8c38b39588c5428d8643ec268a">42e9e2a</a></td><td><code>Trac #26623: remove periods from bullet list items.</code></td></tr></table>




---

archive/issue_comments_413141.json:
```json
{
    "body": "Changed commit from **[f4a4d34](https://github.com/sagemath/sagetrac-mirror/commit/f4a4d3488789021cb17169cf4134dd4787fa7568)** to **[42e9e2a](https://github.com/sagemath/sagetrac-mirror/commit/42e9e2abb91c4b8c38b39588c5428d8643ec268a)**",
    "created_at": "2020-02-20T13:34:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413141",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f4a4d34](https://github.com/sagemath/sagetrac-mirror/commit/f4a4d3488789021cb17169cf4134dd4787fa7568)** to **[42e9e2a](https://github.com/sagemath/sagetrac-mirror/commit/42e9e2abb91c4b8c38b39588c5428d8643ec268a)**



---

archive/issue_events_348270.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-02-20T13:37:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348270"
}
```



---

archive/issue_events_348271.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-02-20T13:37:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348271"
}
```



---

archive/issue_comments_413142.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nThanks for the feedback. I think I addressed all of your suggestions. I left each change separate for ease of review, but these commits can all be squashed eventually.\n\nThe only way I know of to get Juyoung's thesis is to email him and ask. I don't know of another published reference for the Lyapunov rank result, though.",
    "created_at": "2020-02-20T13:37:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413142",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:34" align="right">Comment 34</div>

Thanks for the feedback. I think I addressed all of your suggestions. I left each change separate for ease of review, but these commits can all be squashed eventually.

The only way I know of to get Juyoung's thesis is to email him and ask. I don't know of another published reference for the Lyapunov rank result, though.



---

archive/issue_comments_413143.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nThanks. Overall this will be a nice improvement.\n\nA few comments for now.\n\n- I would suggest using commas here:\n\n```diff\n+globally-available ``cones`` prefix, to create some common cones:\n+\n+- The nonnegative orthant,\n+- the rearrangement cone of order ``p``,\n+- the Schur cone,\n+- the trivial cone.\n-   globally-available ``cones`` prefix, to create some common cones:\n-\n-- The nonnegative orthant\n-- The rearrangement cone of order ``p``\n-- The Schur cone\n-- The trivial cone\n```\n- The warning at the beginning should include mentioning, that any import will be imported at startup.\n- If you lazy import `Cone` and `random_cone` than the bots will be fine with the number of startup modules. Also this should be done anyway, shouldn't it?",
    "created_at": "2020-02-21T12:21:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413143",
    "user": "https://github.com/kliem"
}
```

<div id="comment:35" align="right">Comment 35</div>

Thanks. Overall this will be a nice improvement.

A few comments for now.

- I would suggest using commas here:

```diff
+globally-available ``cones`` prefix, to create some common cones:
+
+- The nonnegative orthant,
+- the rearrangement cone of order ``p``,
+- the Schur cone,
+- the trivial cone.
-   globally-available ``cones`` prefix, to create some common cones:
-
-- The nonnegative orthant
-- The rearrangement cone of order ``p``
-- The Schur cone
-- The trivial cone
```
- The warning at the beginning should include mentioning, that any import will be imported at startup.
- If you lazy import `Cone` and `random_cone` than the bots will be fine with the number of startup modules. Also this should be done anyway, shouldn't it?



---

archive/issue_comments_413144.json:
```json
{
    "body": "Changed commit from **[42e9e2a](https://github.com/sagemath/sagetrac-mirror/commit/42e9e2abb91c4b8c38b39588c5428d8643ec268a)** to **[282a694](https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77)**",
    "created_at": "2020-02-21T21:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413144",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[42e9e2a](https://github.com/sagemath/sagetrac-mirror/commit/42e9e2abb91c4b8c38b39588c5428d8643ec268a)** to **[282a694](https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77)**



---

archive/issue_comments_413145.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdfd1e4852d7ed3db2e384ab0a22ba9abe6efa3f\">fdfd1e4</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffa1e9b0d0fcb9eab9ef4eecc03ede1fb3afc820\">ffa1e9b</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77\">282a694</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr></table>\n",
    "created_at": "2020-02-21T21:52:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413145",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:36" align="right">Comment 36</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdfd1e4852d7ed3db2e384ab0a22ba9abe6efa3f">fdfd1e4</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffa1e9b0d0fcb9eab9ef4eecc03ede1fb3afc820">ffa1e9b</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77">282a694</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr></table>




---

archive/issue_comments_413146.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nThanks, I added the commas, and expanded the warning at the beginning of the module.\n\nAs for the bots: I don't think they're complaining about `Cone` or `random_cone`:\n\n1. Both of those are loaded by `sage.geometry.all` anyway.\n\n2. Those import statements aren't executed until you run one of the functions in the `cone_catalog` module, so importing them is essentially \"lazy\" even if you're using sage as a library and not interactively.\n\nInstead, I think the bots are pointing out that `sage.geometry.cone_catalog` is now loaded into the global namespace as `cones`, but that's almost unavoidable since that's the whole point. However, it is indeed slower than the lazy import of the class was, should you decide not to use it.\n\nThere may be some clever way to delay even *that* import, while still retaining the name \"cones\" along with its tab-completion list. For example, if I give a top-level variable name to the module, and then import that object lazily... e.g. this seems to work in cone_catalog.py\n\n```\nimport sys\n\n# A python object that can be imported lazily with lazy_import(...).\ncones = sys.modules[__name__]\n\ndef __dir__():\n    # Don't expose any global imports or variables to tab-completion.\n    return ['nonnegative_orthant',\n            'rearrangement',\n            'schur',\n            'trivial']\n```\n\nif I then do\n\n```\nlazy_import('sage.geometry.cone_catalog', 'cones')\n```\n\nin sage/geometry/all.py. But that's veering dangerously close to \"too clever\" to save a few microseconds in my opinion.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fdfd1e4852d7ed3db2e384ab0a22ba9abe6efa3f\">fdfd1e4</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ffa1e9b0d0fcb9eab9ef4eecc03ede1fb3afc820\">ffa1e9b</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77\">282a694</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr></table>\n",
    "created_at": "2020-02-21T22:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413146",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:37" align="right">Comment 37</div>

Thanks, I added the commas, and expanded the warning at the beginning of the module.

As for the bots: I don't think they're complaining about `Cone` or `random_cone`:

1. Both of those are loaded by `sage.geometry.all` anyway.

2. Those import statements aren't executed until you run one of the functions in the `cone_catalog` module, so importing them is essentially "lazy" even if you're using sage as a library and not interactively.

Instead, I think the bots are pointing out that `sage.geometry.cone_catalog` is now loaded into the global namespace as `cones`, but that's almost unavoidable since that's the whole point. However, it is indeed slower than the lazy import of the class was, should you decide not to use it.

There may be some clever way to delay even *that* import, while still retaining the name "cones" along with its tab-completion list. For example, if I give a top-level variable name to the module, and then import that object lazily... e.g. this seems to work in cone_catalog.py

```
import sys

# A python object that can be imported lazily with lazy_import(...).
cones = sys.modules[__name__]

def __dir__():
    # Don't expose any global imports or variables to tab-completion.
    return ['nonnegative_orthant',
            'rearrangement',
            'schur',
            'trivial']
```

if I then do

```
lazy_import('sage.geometry.cone_catalog', 'cones')
```

in sage/geometry/all.py. But that's veering dangerously close to "too clever" to save a few microseconds in my opinion.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fdfd1e4852d7ed3db2e384ab0a22ba9abe6efa3f">fdfd1e4</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ffa1e9b0d0fcb9eab9ef4eecc03ede1fb3afc820">ffa1e9b</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77">282a694</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr></table>




---

archive/issue_comments_413147.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nOne could just do\n\n```\nlazy_import(\"sage.geometry\", \"cone_catalog\", \"cones\")\n```\n\nI don't know if it's faster, but I don't see a disadvantage. Tab completion and everything still works.",
    "created_at": "2020-02-26T13:46:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413147",
    "user": "https://github.com/kliem"
}
```

<div id="comment:38" align="right">Comment 38</div>

One could just do

```
lazy_import("sage.geometry", "cone_catalog", "cones")
```

I don't know if it's faster, but I don't see a disadvantage. Tab completion and everything still works.



---

archive/issue_comments_413148.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/75678743c86bccd78a9f4972d2e0234bb4560256\">7567874</a></td><td><code>Trac #26623: add global entries for pending cone catalog citations.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/39fd483b83acee1629caa3738496991e6309dc5e\">39fd483</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c6a1b3a3b8ad2dc80608e6b4dcb1ad6260c71285\">c6a1b3a</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e8fd707d791a9c09b65ba8722c505d7ff23d3738\">e8fd707</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr></table>\n",
    "created_at": "2020-02-26T14:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413148",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:39" align="right">Comment 39</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/75678743c86bccd78a9f4972d2e0234bb4560256">7567874</a></td><td><code>Trac #26623: add global entries for pending cone catalog citations.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/39fd483b83acee1629caa3738496991e6309dc5e">39fd483</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c6a1b3a3b8ad2dc80608e6b4dcb1ad6260c71285">c6a1b3a</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e8fd707d791a9c09b65ba8722c505d7ff23d3738">e8fd707</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr></table>




---

archive/issue_comments_413149.json:
```json
{
    "body": "Changed commit from **[282a694](https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77)** to **[e8fd707](https://github.com/sagemath/sagetrac-mirror/commit/e8fd707d791a9c09b65ba8722c505d7ff23d3738)**",
    "created_at": "2020-02-26T14:05:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413149",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[282a694](https://github.com/sagemath/sagetrac-mirror/commit/282a6943dc3e8e9172f2d96375a1f046907bfb77)** to **[e8fd707](https://github.com/sagemath/sagetrac-mirror/commit/e8fd707d791a9c09b65ba8722c505d7ff23d3738)**



---

archive/issue_comments_413150.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nReplying to [@kliem](#comment%3A38):\n> \n> I don't know if it's faster, but I don't see a disadvantage. Tab completion and everything still works.\n\nThank you! I wasted a lot of time trying to figure out how to do that. I had even written a new `lazy_import_module` function to implement the hack in my [comment:37](#comment%3A37), but this is much simpler and will make the bots happy.",
    "created_at": "2020-02-26T14:07:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413150",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:40" align="right">Comment 40</div>

Replying to [@kliem](#comment%3A38):
> 
> I don't know if it's faster, but I don't see a disadvantage. Tab completion and everything still works.

Thank you! I wasted a lot of time trying to figure out how to do that. I had even written a new `lazy_import_module` function to implement the hack in my [comment:37](#comment%3A37), but this is much simpler and will make the bots happy.



---

archive/issue_comments_413151.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\nI failing doctest, due to the fact that there is a new submodule of `geometry`.\n\n```\nFile \"src/sage/misc/dev_tools.py\", line 164, in sage.misc.dev_tools.load_submodules\nFailed example:\n    sage.misc.dev_tools.load_submodules(sage.geometry, \"database$|lattice\")\nExpected:\n    load sage.geometry.fan_isomorphism... succeeded\n    load sage.geometry.hyperplane_arrangement.affine_subspace... succeeded\n    ...\n    load sage.geometry.riemannian_manifolds.surface3d_generators... succeeded\nGot:\n    load sage.geometry.cone_catalog... succeeded\n    load sage.geometry.fan_isomorphism... succeeded\n    load sage.geometry.hyperbolic_space.hyperbolic_coercion... succeeded\n    load sage.geometry.hyperbolic_space.hyperbolic_constants... succeeded\n    load sage.geometry.hyperbolic_space.hyperbolic_geodesic... succeeded\n    load sage.geometry.hyperbolic_space.hyperbolic_interface... succeeded\n    load sage.geometry.hyperplane_arrangement.affine_subspace... succeeded\n    load sage.geometry.hyperplane_arrangement.arrangement... succeeded\n    load sage.geometry.hyperplane_arrangement.check_freeness... succeeded\n    load sage.geometry.hyperplane_arrangement.library... succeeded\n    load sage.geometry.hyperplane_arrangement.plot... succeeded\n    load sage.geometry.newton_polygon... succeeded\n    load sage.geometry.polyhedron.cdd_file_format... succeeded\n    load sage.geometry.polyhedron.combinatorial_polyhedron.base... succeeded\n    load sage.geometry.polyhedron.double_description... succeeded\n    load sage.geometry.polyhedron.double_description_inhomogeneous... succeeded\n    load sage.geometry.polyhedron.face... succeeded\n    load sage.geometry.polyhedron.library... succeeded\n    load sage.geometry.polyhedron.plot... succeeded\n    load sage.geometry.pseudolines... succeeded\n    load sage.geometry.ribbon_graph... succeeded\n    load sage.geometry.riemannian_manifolds.parametrized_surface3d... succeeded\n    load sage.geometry.riemannian_manifolds.surface3d_generators... succeeded\n```",
    "created_at": "2020-02-26T15:49:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413151",
    "user": "https://github.com/kliem"
}
```

<div id="comment:41" align="right">Comment 41</div>

I failing doctest, due to the fact that there is a new submodule of `geometry`.

```
File "src/sage/misc/dev_tools.py", line 164, in sage.misc.dev_tools.load_submodules
Failed example:
    sage.misc.dev_tools.load_submodules(sage.geometry, "database$|lattice")
Expected:
    load sage.geometry.fan_isomorphism... succeeded
    load sage.geometry.hyperplane_arrangement.affine_subspace... succeeded
    ...
    load sage.geometry.riemannian_manifolds.surface3d_generators... succeeded
Got:
    load sage.geometry.cone_catalog... succeeded
    load sage.geometry.fan_isomorphism... succeeded
    load sage.geometry.hyperbolic_space.hyperbolic_coercion... succeeded
    load sage.geometry.hyperbolic_space.hyperbolic_constants... succeeded
    load sage.geometry.hyperbolic_space.hyperbolic_geodesic... succeeded
    load sage.geometry.hyperbolic_space.hyperbolic_interface... succeeded
    load sage.geometry.hyperplane_arrangement.affine_subspace... succeeded
    load sage.geometry.hyperplane_arrangement.arrangement... succeeded
    load sage.geometry.hyperplane_arrangement.check_freeness... succeeded
    load sage.geometry.hyperplane_arrangement.library... succeeded
    load sage.geometry.hyperplane_arrangement.plot... succeeded
    load sage.geometry.newton_polygon... succeeded
    load sage.geometry.polyhedron.cdd_file_format... succeeded
    load sage.geometry.polyhedron.combinatorial_polyhedron.base... succeeded
    load sage.geometry.polyhedron.double_description... succeeded
    load sage.geometry.polyhedron.double_description_inhomogeneous... succeeded
    load sage.geometry.polyhedron.face... succeeded
    load sage.geometry.polyhedron.library... succeeded
    load sage.geometry.polyhedron.plot... succeeded
    load sage.geometry.pseudolines... succeeded
    load sage.geometry.ribbon_graph... succeeded
    load sage.geometry.riemannian_manifolds.parametrized_surface3d... succeeded
    load sage.geometry.riemannian_manifolds.surface3d_generators... succeeded
```



---

archive/issue_comments_413152.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">Comment 42</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bfd757fc18fcd58ac86f232bc388e24127d19bf2\">bfd757f</a></td><td><code>Trac #26623: fix a doctest for sage.misc.dev_tools.load_submodules().</code></td></tr></table>\n",
    "created_at": "2020-02-26T16:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413152",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:42" align="right">Comment 42</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bfd757fc18fcd58ac86f232bc388e24127d19bf2">bfd757f</a></td><td><code>Trac #26623: fix a doctest for sage.misc.dev_tools.load_submodules().</code></td></tr></table>




---

archive/issue_comments_413153.json:
```json
{
    "body": "Changed commit from **[e8fd707](https://github.com/sagemath/sagetrac-mirror/commit/e8fd707d791a9c09b65ba8722c505d7ff23d3738)** to **[bfd757f](https://github.com/sagemath/sagetrac-mirror/commit/bfd757fc18fcd58ac86f232bc388e24127d19bf2)**",
    "created_at": "2020-02-26T16:32:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413153",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e8fd707](https://github.com/sagemath/sagetrac-mirror/commit/e8fd707d791a9c09b65ba8722c505d7ff23d3738)** to **[bfd757f](https://github.com/sagemath/sagetrac-mirror/commit/bfd757fc18fcd58ac86f232bc388e24127d19bf2)**



---

archive/issue_comments_413154.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nReplying to [@kliem](#comment%3A41):\n> I failing doctest, due to the fact that there is a new submodule of `geometry`.\n\nOof, fixed. The switch back to a lazy import caused that one.",
    "created_at": "2020-02-26T16:33:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413154",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:43" align="right">Comment 43</div>

Replying to [@kliem](#comment%3A41):
> I failing doctest, due to the fact that there is a new submodule of `geometry`.

Oof, fixed. The switch back to a lazy import caused that one.



---

archive/issue_comments_413155.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">Comment 44</div>\n\nAgain many minor things.\n\n- There is a tripple dash\n\n```\n+At the moment, only convex rational polyhedral cones are\n+supported---specifically, those cones that can be built using the\n```\n\n- Instead of importing in each function, you could do something as\n\n```\nfrom sage.rings.all import ZZ as _ZZ\n```\n  Don't know if that is better.\n- I don't know, if this is going to link correctly in the documentation:\n\n```\n+    - ``lattice`` - a :class:`ToricLattice` in which the cone will live\n```\n- I think we are supposed to use double quotation marks for error messages:\n\n```\n+        raise ValueError('lattice rank=%d and ambient_dim=%d '\n+                         'are incompatible' % (lattice.rank(), ambient_dim))\n```\n- Missing semicolons:\n\n```diff\n-    - ``ambient_dim`` -- (default: ``None``) the dimension of the\n-      ambient space, a nonnegative integer\n-\n-    - ``lattice`` -- (default: ``None``) the toric lattice in which\n-      the cone will live\n+    - ``ambient_dim`` -- (default: ``None``); the dimension of the\n+      ambient space, a nonnegative integer\n+\n+    - ``lattice`` -- (default: ``None``); the toric lattice in which\n+      the cone will live\n```\n- Again I'm not sure that this will work in the documentation\n\n```\n+    A :class:`.ConvexRationalPolyhedralCone` living in ``lattice``\n```\n- I don't know if I would mention the errors after `OUTPUT` at all. Isn't this clear that this `OUTPUT` is given only if the `INPUT` is as required and otherwise an error is raised?\n- \n\n```diff\n-    I = matrix.identity(ZZ,ambient_dim)\n+    I = matrix.identity(ZZ, ambient_dim)\n```\n-\n\n```diff\n-    I = matrix.identity(ZZ,ambient_dim)\n-    M = matrix.ones(ZZ,ambient_dim) - p*I\n+    I = matrix.identity(ZZ, ambient_dim)\n+    M = matrix.ones(ZZ, ambient_dim) - p*I\n```\n- The rearrangment cone will give nonsense, when `p` is not an integer. But I don't know if this is a problem.",
    "created_at": "2020-02-26T16:40:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413155",
    "user": "https://github.com/kliem"
}
```

<div id="comment:44" align="right">Comment 44</div>

Again many minor things.

- There is a tripple dash

```
+At the moment, only convex rational polyhedral cones are
+supported---specifically, those cones that can be built using the
```

- Instead of importing in each function, you could do something as

```
from sage.rings.all import ZZ as _ZZ
```
  Don't know if that is better.
- I don't know, if this is going to link correctly in the documentation:

```
+    - ``lattice`` - a :class:`ToricLattice` in which the cone will live
```
- I think we are supposed to use double quotation marks for error messages:

```
+        raise ValueError('lattice rank=%d and ambient_dim=%d '
+                         'are incompatible' % (lattice.rank(), ambient_dim))
```
- Missing semicolons:

```diff
-    - ``ambient_dim`` -- (default: ``None``) the dimension of the
-      ambient space, a nonnegative integer
-
-    - ``lattice`` -- (default: ``None``) the toric lattice in which
-      the cone will live
+    - ``ambient_dim`` -- (default: ``None``); the dimension of the
+      ambient space, a nonnegative integer
+
+    - ``lattice`` -- (default: ``None``); the toric lattice in which
+      the cone will live
```
- Again I'm not sure that this will work in the documentation

```
+    A :class:`.ConvexRationalPolyhedralCone` living in ``lattice``
```
- I don't know if I would mention the errors after `OUTPUT` at all. Isn't this clear that this `OUTPUT` is given only if the `INPUT` is as required and otherwise an error is raised?
- 

```diff
-    I = matrix.identity(ZZ,ambient_dim)
+    I = matrix.identity(ZZ, ambient_dim)
```
-

```diff
-    I = matrix.identity(ZZ,ambient_dim)
-    M = matrix.ones(ZZ,ambient_dim) - p*I
+    I = matrix.identity(ZZ, ambient_dim)
+    M = matrix.ones(ZZ, ambient_dim) - p*I
```
- The rearrangment cone will give nonsense, when `p` is not an integer. But I don't know if this is a problem.



---

archive/issue_comments_413156.json:
```json
{
    "body": "Changed commit from **[bfd757f](https://github.com/sagemath/sagetrac-mirror/commit/bfd757fc18fcd58ac86f232bc388e24127d19bf2)** to **[ebb5a76](https://github.com/sagemath/sagetrac-mirror/commit/ebb5a768f86362887238e82a29f3221974fd6237)**",
    "created_at": "2020-02-26T22:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413156",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bfd757f](https://github.com/sagemath/sagetrac-mirror/commit/bfd757fc18fcd58ac86f232bc388e24127d19bf2)** to **[ebb5a76](https://github.com/sagemath/sagetrac-mirror/commit/ebb5a768f86362887238e82a29f3221974fd6237)**



---

archive/issue_comments_413157.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">Comment 45</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7660105a24f746bd0a9dd8e6956b54c992584e95\">7660105</a></td><td><code>Trac #26623: use docstring conventions from the developer's guide.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7e8af614b07e97bb2f8733b106b7699a01c5f37\">f7e8af6</a></td><td><code>Trac #26623: add a few spaces to the cone catalog for readability.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e91d99368322ac8ab450d35caf0009d38086eb54\">e91d993</a></td><td><code>Trac #26623: make rearrangement cones of non-integer orders an error.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ebb5a768f86362887238e82a29f3221974fd6237\">ebb5a76</a></td><td><code>Trac #26623: use double-quotes as first choice for string delimeters.</code></td></tr></table>\n",
    "created_at": "2020-02-26T22:07:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413157",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:45" align="right">Comment 45</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7660105a24f746bd0a9dd8e6956b54c992584e95">7660105</a></td><td><code>Trac #26623: use docstring conventions from the developer's guide.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7e8af614b07e97bb2f8733b106b7699a01c5f37">f7e8af6</a></td><td><code>Trac #26623: add a few spaces to the cone catalog for readability.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e91d99368322ac8ab450d35caf0009d38086eb54">e91d993</a></td><td><code>Trac #26623: make rearrangement cones of non-integer orders an error.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ebb5a768f86362887238e82a29f3221974fd6237">ebb5a76</a></td><td><code>Trac #26623: use double-quotes as first choice for string delimeters.</code></td></tr></table>




---

archive/issue_comments_413158.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">Comment 46</div>\n\nReplying to [@kliem](#comment%3A44):\n> Again many minor things.\n> \n> - There is a tripple dash\n\nThis is actually the documented way to get sphinx to create an \"em\" dash in the HTML output. It's displaying correctly for me in the built docs.\n\n \n> - Instead of importing in each function, you could do something as\n> \n> ```\n> from sage.rings.all import ZZ as _ZZ\n> ```\n>   Don't know if that is better.\n\nClever =)\n\nBut, the extra imports are \"free\", so I don't think it's worth changing them around again at this point.\n\n\n> - I don't know, if this is going to link correctly in the documentation:\n> \n> ```\n> +    - ``lattice`` - a :class:`ToricLattice` in which the cone will live\n> ```\n\nYou are right... `ToricLattice` isn't a class.\n\n\n> - I think we are supposed to use double quotation marks for error messages:\n\nIs that written down anywhere (for my future reference)? I don't care either way, I changed them to double quotes.\n\n\n> - Missing semicolons:\n\nHmm.. someone has updated the developer's guide without fixing the existing docstrings or mentioning it to anyone. I tried to conform to the new examples in the guide.\n\n\n> - Again I'm not sure that this will work in the documentation\n> \n> ```\n> +    A :class:`.ConvexRationalPolyhedralCone` living in ``lattice``\n> ```\n\nThis one works!\n\n\n> - I don't know if I would mention the errors after `OUTPUT` at all. Isn't this clear that this `OUTPUT` is given only if the `INPUT` is as required and otherwise an error is raised?\n\nOther languages/projects have a standard location to document the exceptions that can be raised, but as far as I know, we don't. We probably should. I think it's nice to mention that a function *can* fail in the OUTPUT docs, just to be on the safe side in case the user skips the INPUT docs. But to me it feels like the relationship between the inputs belongs in the INPUT block. My mind could be changed on this, if everyone could agree to do it consistently.\n \n\n> ```diff\n> -    I = matrix.identity(ZZ,ambient_dim)\n> +    I = matrix.identity(ZZ, ambient_dim)\n> ```\n> -\n> \n> ```diff\n> -    I = matrix.identity(ZZ,ambient_dim)\n> -    M = matrix.ones(ZZ,ambient_dim) - p*I\n> +    I = matrix.identity(ZZ, ambient_dim)\n> +    M = matrix.ones(ZZ, ambient_dim) - p*I\n> ```\n\nAdded spacing throughout.\n\n\n> - The rearrangement cone will give nonsense, when `p` is not an integer. But I don't know if this is a problem.\n\nThanks, I don't like that the function would silently return nonsense if you pass in e.g. `p=1.5` I've added another error check to that cone.",
    "created_at": "2020-02-26T22:18:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413158",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:46" align="right">Comment 46</div>

Replying to [@kliem](#comment%3A44):
> Again many minor things.
> 
> - There is a tripple dash

This is actually the documented way to get sphinx to create an "em" dash in the HTML output. It's displaying correctly for me in the built docs.

 
> - Instead of importing in each function, you could do something as
> 
> ```
> from sage.rings.all import ZZ as _ZZ
> ```
>   Don't know if that is better.

Clever =)

But, the extra imports are "free", so I don't think it's worth changing them around again at this point.


> - I don't know, if this is going to link correctly in the documentation:
> 
> ```
> +    - ``lattice`` - a :class:`ToricLattice` in which the cone will live
> ```

You are right... `ToricLattice` isn't a class.


> - I think we are supposed to use double quotation marks for error messages:

Is that written down anywhere (for my future reference)? I don't care either way, I changed them to double quotes.


> - Missing semicolons:

Hmm.. someone has updated the developer's guide without fixing the existing docstrings or mentioning it to anyone. I tried to conform to the new examples in the guide.


> - Again I'm not sure that this will work in the documentation
> 
> ```
> +    A :class:`.ConvexRationalPolyhedralCone` living in ``lattice``
> ```

This one works!


> - I don't know if I would mention the errors after `OUTPUT` at all. Isn't this clear that this `OUTPUT` is given only if the `INPUT` is as required and otherwise an error is raised?

Other languages/projects have a standard location to document the exceptions that can be raised, but as far as I know, we don't. We probably should. I think it's nice to mention that a function *can* fail in the OUTPUT docs, just to be on the safe side in case the user skips the INPUT docs. But to me it feels like the relationship between the inputs belongs in the INPUT block. My mind could be changed on this, if everyone could agree to do it consistently.
 

> ```diff
> -    I = matrix.identity(ZZ,ambient_dim)
> +    I = matrix.identity(ZZ, ambient_dim)
> ```
> -
> 
> ```diff
> -    I = matrix.identity(ZZ,ambient_dim)
> -    M = matrix.ones(ZZ,ambient_dim) - p*I
> +    I = matrix.identity(ZZ, ambient_dim)
> +    M = matrix.ones(ZZ, ambient_dim) - p*I
> ```

Added spacing throughout.


> - The rearrangement cone will give nonsense, when `p` is not an integer. But I don't know if this is a problem.

Thanks, I don't like that the function would silently return nonsense if you pass in e.g. `p=1.5` I've added another error check to that cone.



---

archive/issue_comments_413159.json:
```json
{
    "body": "Reviewer: **Jonathan Kliem**",
    "created_at": "2020-02-28T11:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413159",
    "user": "https://github.com/kliem"
}
```

Reviewer: **Jonathan Kliem**



---

archive/issue_comments_413160.json:
```json
{
    "body": "<div id=\"comment:47\" align=\"right\">Comment 47</div>\n\nMissing comma for the if ... then statement:\n\n```\n+    Jeong's Corollary 5.2.4 [Jeong2017]_ states that if `p = n-1` in\n+    an `n`-dimensional ambient space then the Lyapunov rank of the\n```\n\nOtherwise, you can set it on positive review on my behalf.",
    "created_at": "2020-02-28T11:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413160",
    "user": "https://github.com/kliem"
}
```

<div id="comment:47" align="right">Comment 47</div>

Missing comma for the if ... then statement:

```
+    Jeong's Corollary 5.2.4 [Jeong2017]_ states that if `p = n-1` in
+    an `n`-dimensional ambient space then the Lyapunov rank of the
```

Otherwise, you can set it on positive review on my behalf.



---

archive/issue_comments_413161.json:
```json
{
    "body": "Changed commit from **[ebb5a76](https://github.com/sagemath/sagetrac-mirror/commit/ebb5a768f86362887238e82a29f3221974fd6237)** to **[b2aab91](https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351)**",
    "created_at": "2020-02-28T12:06:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413161",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ebb5a76](https://github.com/sagemath/sagetrac-mirror/commit/ebb5a768f86362887238e82a29f3221974fd6237)** to **[b2aab91](https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351)**



---

archive/issue_comments_413162.json:
```json
{
    "body": "<div id=\"comment:48\" align=\"right\">Comment 48</div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/24d97c0d402740395c124f891f74ac7c1c429e02\">24d97c0</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f454d1b1c1871c32dbeeea8aa166d0dc0612918\">1f454d1</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12ee26c7ac01dc416ad6df4f4409be40c61fb84f\">12ee26c</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351\">b2aab91</a></td><td><code>Trac #26623: fix a doctest for sage.misc.dev_tools.load_submodules().</code></td></tr></table>\n",
    "created_at": "2020-02-28T12:06:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413162",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48" align="right">Comment 48</div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/24d97c0d402740395c124f891f74ac7c1c429e02">24d97c0</a></td><td><code>Trac #26623: add cones.<foo> shortcuts for common cones.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f454d1b1c1871c32dbeeea8aa166d0dc0612918">1f454d1</a></td><td><code>Trac #26623: add sage.geometry.cone_catalog to the documentation index.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12ee26c7ac01dc416ad6df4f4409be40c61fb84f">12ee26c</a></td><td><code>Trac #26623: update sage.geometry.cone doctests to use the cone catalog.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351">b2aab91</a></td><td><code>Trac #26623: fix a doctest for sage.misc.dev_tools.load_submodules().</code></td></tr></table>




---

archive/issue_comments_413163.json:
```json
{
    "body": "<div id=\"comment:49\" align=\"right\">Comment 49</div>\n\nReplying to [@kliem](#comment%3A47):\n> Missing comma for the if ... then statement:\n> \n> ...\n> \n> Otherwise, you can set it on positive review on my behalf.\n\nThanks again. I squashed this and the other recent commits into the main one. It will be nice to have this off my to-do list.",
    "created_at": "2020-02-28T12:09:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413163",
    "user": "https://github.com/orlitzky"
}
```

<div id="comment:49" align="right">Comment 49</div>

Replying to [@kliem](#comment%3A47):
> Missing comma for the if ... then statement:
> 
> ...
> 
> Otherwise, you can set it on positive review on my behalf.

Thanks again. I squashed this and the other recent commits into the main one. It will be nice to have this off my to-do list.



---

archive/issue_events_348272.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-02-28T12:09:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348272"
}
```



---

archive/issue_events_348273.json:
```json
{
    "actor": "https://github.com/orlitzky",
    "created_at": "2020-02-28T12:09:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348273"
}
```



---

archive/issue_events_348274.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-02-29T12:58:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348274"
}
```



---

archive/issue_events_348275.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-02-29T12:58:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348275"
}
```



---

archive/issue_events_348276.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-03-01T23:46:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348276"
}
```



---

archive/issue_events_348277.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "25fac58bd09c994c2c2522c7cfd8cd09075093cc",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-03-01T23:46:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26623#event-348277"
}
```



---

archive/issue_comments_413164.json:
```json
{
    "body": "Changed branch from **[u/mjo/ticket/26623-ng](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623-ng)** to **[b2aab91](https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351)**",
    "created_at": "2020-03-01T23:46:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26623",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26623#issuecomment-413164",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mjo/ticket/26623-ng](https://github.com/sagemath/sagetrac-mirror/tree/u/mjo/ticket/26623-ng)** to **[b2aab91](https://github.com/sagemath/sagetrac-mirror/commit/b2aab916b145144f10f325161c551301ac34c351)**
