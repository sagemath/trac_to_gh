# Issue 26870: py3: fix error with map in strongly_regular_db.pyx

archive/issues_026633.json:
```json
{
    "assignees": [],
    "body": "`map` is an iterator in Python3, so some care is needed.\n- in `strongly_regular_db.pyx`, the graph constructor was called with a set of vertices defined by a map. We ensure that we build the list of vertices first.\n- same for the call to method `IntersectionGraph`.\n\nWe also fix some issues with `bytes` and `str`.\n\nCC:  @tscrim @fchapoton @embray\n\nKeywords: **py3, graph**\n\nBranch/Commit: **[ee621e8](https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26870_\n\n",
    "closed_at": "2018-12-23T23:40:07Z",
    "created_at": "2018-12-11T02:39:14Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: fix error with map in strongly_regular_db.pyx",
    "type": "issue",
    "updated_at": "2018-12-28T14:06:38Z",
    "url": "https://github.com/sagemath/sage/issues/26870",
    "user": "https://github.com/dcoudert"
}
```
`map` is an iterator in Python3, so some care is needed.
- in `strongly_regular_db.pyx`, the graph constructor was called with a set of vertices defined by a map. We ensure that we build the list of vertices first.
- same for the call to method `IntersectionGraph`.

We also fix some issues with `bytes` and `str`.

CC:  @tscrim @fchapoton @embray

Keywords: **py3, graph**

Branch/Commit: **[ee621e8](https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab)**

Reviewer: **Frédéric Chapoton**

Author: **David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/26870_





---

archive/issue_events_351032.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-11T02:39:14Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351032"
}
```



---

archive/issue_events_351033.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-11T02:39:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351033"
}
```



---

archive/issue_events_351034.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-11T02:39:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351034"
}
```



---

archive/issue_events_351035.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-11T02:39:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351035"
}
```



---

archive/issue_comments_416571.json:
```json
{
    "body": "Branch: **[public/26870_strongly_regular_db](https://github.com/sagemath/sagetrac-mirror/tree/public/26870_strongly_regular_db)**",
    "created_at": "2018-12-11T02:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416571",
    "user": "https://github.com/dcoudert"
}
```

Branch: **[public/26870_strongly_regular_db](https://github.com/sagemath/sagetrac-mirror/tree/public/26870_strongly_regular_db)**



---

archive/issue_comments_416572.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a5c862b039dce115a5bfa2eafec03b4975e912f9\">a5c862b</a></td><td><code>trac #26870: fix error with map</code></td></tr></table>\n",
    "created_at": "2018-12-11T02:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416572",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a5c862b039dce115a5bfa2eafec03b4975e912f9">a5c862b</a></td><td><code>trac #26870: fix error with map</code></td></tr></table>




---

archive/issue_events_351036.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-11T02:46:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351036"
}
```



---

archive/issue_comments_416573.json:
```json
{
    "body": "Commit: **[a5c862b](https://github.com/sagemath/sagetrac-mirror/commit/a5c862b039dce115a5bfa2eafec03b4975e912f9)**",
    "created_at": "2018-12-11T02:46:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416573",
    "user": "https://github.com/dcoudert"
}
```

Commit: **[a5c862b](https://github.com/sagemath/sagetrac-mirror/commit/a5c862b039dce115a5bfa2eafec03b4975e912f9)**



---

archive/issue_comments_416574.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nThis looks very suspicious:\n\n```\nbytes_to_str(brouwer_data['comments'].encode('ascii', 'ignore')))\n```\nProbably there should be a shorter way..",
    "created_at": "2018-12-11T09:41:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416574",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
This looks very suspicious:

```
bytes_to_str(brouwer_data['comments'].encode('ascii', 'ignore')))
```
Probably there should be a shorter way..



---

archive/issue_comments_416575.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nPlease don't do `list(map(...))`.  Instead convert these to list comprehensions or generator expressions as appropriate.",
    "created_at": "2018-12-11T09:56:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416575",
    "user": "https://github.com/embray"
}
```

<a id='comment:3'>Comment 3:</a>
Please don't do `list(map(...))`.  Instead convert these to list comprehensions or generator expressions as appropriate.



---

archive/issue_comments_416576.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/33c75cd79450f62b77938118c2ce04d576ba912b\">33c75cd</a></td><td><code>trac #26870: use list comprehension</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/df223f97f93bc6d3abb3878a2c4161785b7770a9\">df223f9</a></td><td><code>trac #26870: not using bytes_to_str</code></td></tr></table>\n",
    "created_at": "2018-12-11T12:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416576",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/33c75cd79450f62b77938118c2ce04d576ba912b">33c75cd</a></td><td><code>trac #26870: use list comprehension</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/df223f97f93bc6d3abb3878a2c4161785b7770a9">df223f9</a></td><td><code>trac #26870: not using bytes_to_str</code></td></tr></table>




---

archive/issue_comments_416577.json:
```json
{
    "body": "Changed commit from **[a5c862b](https://github.com/sagemath/sagetrac-mirror/commit/a5c862b039dce115a5bfa2eafec03b4975e912f9)** to **[df223f9](https://github.com/sagemath/sagetrac-mirror/commit/df223f97f93bc6d3abb3878a2c4161785b7770a9)**",
    "created_at": "2018-12-11T12:07:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416577",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a5c862b](https://github.com/sagemath/sagetrac-mirror/commit/a5c862b039dce115a5bfa2eafec03b4975e912f9)** to **[df223f9](https://github.com/sagemath/sagetrac-mirror/commit/df223f97f93bc6d3abb3878a2c4161785b7770a9)**



---

archive/issue_comments_416578.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nThis passes doctests with Python3 but not with Python2. There is an encoding issue as the database contains `\u00d6sterg\u00e5rd`.\n\nWhat should I do ?",
    "created_at": "2018-12-11T12:12:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416578",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'>Comment 5:</a>
This passes doctests with Python3 but not with Python2. There is an encoding issue as the database contains `Östergård`.

What should I do ?



---

archive/issue_comments_416579.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nMaybe try adding `encoding='utf-8'` inside the `open(..)` in `cdef load_brouwer_database()` ?",
    "created_at": "2018-12-11T12:31:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416579",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:6'>Comment 6:</a>
Maybe try adding `encoding='utf-8'` inside the `open(..)` in `cdef load_brouwer_database()` ?



---

archive/issue_comments_416580.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\n`open(...)` does not accept the encoding parameter in Python2 (`TypeError: 'encoding' is an invalid keyword argument for this function`). It works with Python3.\n\nI also tried to put `encoding='utf-8'` in `json.load(...)` but it does not solve the issue in Python2 :(",
    "created_at": "2018-12-11T12:45:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416580",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'>Comment 7:</a>
`open(...)` does not accept the encoding parameter in Python2 (`TypeError: 'encoding' is an invalid keyword argument for this function`). It works with Python3.

I also tried to put `encoding='utf-8'` in `json.load(...)` but it does not solve the issue in Python2 :(



---

archive/issue_comments_416581.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nusing io.open() ?",
    "created_at": "2018-12-11T12:47:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416581",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:8'>Comment 8:</a>
using io.open() ?



---

archive/issue_comments_416582.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nno, still get the same error with py2.\n\n```\nFailed example:\n    graphs.strongly_regular_graph(324,57,0,12)\nExpected:\n    Traceback (most recent call last):\n    ...\n    EmptySetError: Andries Brouwer's database reports that no (324, 57, 0,\n    12)-strongly regular graph exists. Comments: <a\n    href=\"srgtabrefs.html#GavrilyukMakhnev05\">Gavrilyuk & Makhnev</a> and <a\n    href=\"srgtabrefs.html#KaskiOstergard07\">Kaski & \u00d6sterg\u00e5rd</a>\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.strongly_regular_db.strongly_regular_graph[6]>\", line 1, in <module>\n        graphs.strongly_regular_graph(Integer(324),Integer(57),Integer(0),Integer(12))\n      File \"sage/graphs/strongly_regular_db.pyx\", line 3002, in sage.graphs.strongly_regular_db.strongly_regular_graph (build/cythonized/sage/graphs/strongly_regular_db.c:42610)\n        raise EmptySetError(\"Andries Brouwer's database reports that no \" +\n    EmptySetError: Andries Brouwer's database reports that no (324, 57, 0, 12)-strongly regular graph exists. Comments: <a href=\"srgtabrefs.html#GavrilyukMakhnev05\">Gavrilyuk & Makhnev</a> and <a href=\"srgtabrefs.html#KaskiOstergard07\">Kaski & \\xd6sterg\\xe5rd</a>\n```",
    "created_at": "2018-12-11T12:57:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416582",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:9'>Comment 9:</a>
no, still get the same error with py2.

```
Failed example:
    graphs.strongly_regular_graph(324,57,0,12)
Expected:
    Traceback (most recent call last):
    ...
    EmptySetError: Andries Brouwer's database reports that no (324, 57, 0,
    12)-strongly regular graph exists. Comments: <a
    href="srgtabrefs.html#GavrilyukMakhnev05">Gavrilyuk & Makhnev</a> and <a
    href="srgtabrefs.html#KaskiOstergard07">Kaski & Östergård</a>
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/dcoudert/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.strongly_regular_db.strongly_regular_graph[6]>", line 1, in <module>
        graphs.strongly_regular_graph(Integer(324),Integer(57),Integer(0),Integer(12))
      File "sage/graphs/strongly_regular_db.pyx", line 3002, in sage.graphs.strongly_regular_db.strongly_regular_graph (build/cythonized/sage/graphs/strongly_regular_db.c:42610)
        raise EmptySetError("Andries Brouwer's database reports that no " +
    EmptySetError: Andries Brouwer's database reports that no (324, 57, 0, 12)-strongly regular graph exists. Comments: <a href="srgtabrefs.html#GavrilyukMakhnev05">Gavrilyuk & Makhnev</a> and <a href="srgtabrefs.html#KaskiOstergard07">Kaski & \xd6sterg\xe5rd</a>
```



---

archive/issue_comments_416583.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9dc4d3a1e3f03faa2d00eaa9bc7253dce54fa8db\">9dc4d3a</a></td><td><code>a bit of trivial cleanup for readability</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a527cea57c00a6888286e525d4a6b98fff7bc861\">a527cea</a></td><td><code>improve formatting of these error messages using f-strings</code></td></tr></table>\n",
    "created_at": "2018-12-11T16:15:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416583",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9dc4d3a1e3f03faa2d00eaa9bc7253dce54fa8db">9dc4d3a</a></td><td><code>a bit of trivial cleanup for readability</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a527cea57c00a6888286e525d4a6b98fff7bc861">a527cea</a></td><td><code>improve formatting of these error messages using f-strings</code></td></tr></table>




---

archive/issue_comments_416584.json:
```json
{
    "body": "Changed commit from **[df223f9](https://github.com/sagemath/sagetrac-mirror/commit/df223f97f93bc6d3abb3878a2c4161785b7770a9)** to **[a527cea](https://github.com/sagemath/sagetrac-mirror/commit/a527cea57c00a6888286e525d4a6b98fff7bc861)**",
    "created_at": "2018-12-11T16:15:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416584",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[df223f9](https://github.com/sagemath/sagetrac-mirror/commit/df223f97f93bc6d3abb3878a2c4161785b7770a9)** to **[a527cea](https://github.com/sagemath/sagetrac-mirror/commit/a527cea57c00a6888286e525d4a6b98fff7bc861)**



---

archive/issue_comments_416585.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nTry this !^\n\nThe problem with the original code, on Python 2, was that it was interpolating unicode strings into templates that were non-unicode strings.  On Python 2 this results in implicit encoding of the unicode strings as ASCII, which results in a `UnicodeEncodeError` for any comments that contain non-ASCII characters.\n\nWould have been better if the original code just used unicode strings for the error messages in the first place.  Now, since this is Cython code, we can use f-strings which are implicitly unicode anyways, and make the formatting look a bit nicer.",
    "created_at": "2018-12-11T16:17:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416585",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'>Comment 11:</a>
Try this !^

The problem with the original code, on Python 2, was that it was interpolating unicode strings into templates that were non-unicode strings.  On Python 2 this results in implicit encoding of the unicode strings as ASCII, which results in a `UnicodeEncodeError` for any comments that contain non-ASCII characters.

Would have been better if the original code just used unicode strings for the error messages in the first place.  Now, since this is Cython code, we can use f-strings which are implicitly unicode anyways, and make the formatting look a bit nicer.



---

archive/issue_comments_416586.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nIt's way nicer. I didn't know `f-strings` which seems very convenient.\nHowever, I still get `Kaski & \\xd6sterg\\xe5rd` instead of `Kaski & \u00d6sterg\u00e5rd` with py2 :(",
    "created_at": "2018-12-11T16:40:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416586",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:12'>Comment 12:</a>
It's way nicer. I didn't know `f-strings` which seems very convenient.
However, I still get `Kaski & \xd6sterg\xe5rd` instead of `Kaski & Östergård` with py2 :(



---

archive/issue_comments_416587.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nYikes, I didn't realize this myself (it has not come up often), but it turns out on Python 2 most exceptions can't accept exception messages as unicode objects (rather, it can, but it will still try to implicitly encode them with ASCII)! :(  https://pythonhosted.org/kitchen/unicode-frustrations.html#frustration-5-exceptions\n\nThe best thing to do would be to convert them to bytes, but *only* on Python 2, just using UTF-8 probably.",
    "created_at": "2018-12-12T08:32:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416587",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'>Comment 13:</a>
Yikes, I didn't realize this myself (it has not come up often), but it turns out on Python 2 most exceptions can't accept exception messages as unicode objects (rather, it can, but it will still try to implicitly encode them with ASCII)! :(  https://pythonhosted.org/kitchen/unicode-frustrations.html#frustration-5-exceptions

The best thing to do would be to convert them to bytes, but *only* on Python 2, just using UTF-8 probably.



---

archive/issue_comments_416588.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nnot sure how to do that...",
    "created_at": "2018-12-12T14:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416588",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:14'>Comment 14:</a>
not sure how to do that...



---

archive/issue_comments_416589.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nI would just suggest to put `...` at the appropriate place in the failing doctest. We do not really care about these details..",
    "created_at": "2018-12-12T21:17:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416589",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'>Comment 15:</a>
I would just suggest to put `...` at the appropriate place in the failing doctest. We do not really care about these details..



---

archive/issue_comments_416590.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab\">ee621e8</a></td><td><code>trac #26870: simplify doctest</code></td></tr></table>\n",
    "created_at": "2018-12-12T21:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416590",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab">ee621e8</a></td><td><code>trac #26870: simplify doctest</code></td></tr></table>




---

archive/issue_comments_416591.json:
```json
{
    "body": "Changed commit from **[a527cea](https://github.com/sagemath/sagetrac-mirror/commit/a527cea57c00a6888286e525d4a6b98fff7bc861)** to **[ee621e8](https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab)**",
    "created_at": "2018-12-12T21:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416591",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a527cea](https://github.com/sagemath/sagetrac-mirror/commit/a527cea57c00a6888286e525d4a6b98fff7bc861)** to **[ee621e8](https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab)**



---

archive/issue_comments_416592.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\ngood idea.",
    "created_at": "2018-12-12T21:25:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416592",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:17'>Comment 17:</a>
good idea.



---

archive/issue_comments_416593.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-12-13T14:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416593",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_events_351037.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T14:15:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351037"
}
```



---

archive/issue_events_351038.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T14:15:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351038"
}
```



---

archive/issue_comments_416594.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nok, good for me.",
    "created_at": "2018-12-13T14:15:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416594",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:18'>Comment 18:</a>
ok, good for me.



---

archive/issue_events_351039.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-23T23:40:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351039"
}
```



---

archive/issue_events_351040.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e01aec82943e3894f9bbf88e7ca949925b10f22f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-12-23T23:40:07Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351040"
}
```



---

archive/issue_comments_416595.json:
```json
{
    "body": "Changed branch from **[public/26870_strongly_regular_db](https://github.com/sagemath/sagetrac-mirror/tree/public/26870_strongly_regular_db)** to **[ee621e8](https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab)**",
    "created_at": "2018-12-23T23:40:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416595",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/26870_strongly_regular_db](https://github.com/sagemath/sagetrac-mirror/tree/public/26870_strongly_regular_db)** to **[ee621e8](https://github.com/sagemath/sagetrac-mirror/commit/ee621e8daf4c88e27e0a186abb9d3118b8d01eab)**



---

archive/issue_events_351041.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T14:06:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351041"
}
```



---

archive/issue_events_351042.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-28T14:06:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26870#event-351042"
}
```



---

archive/issue_comments_416596.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nThis tickets were closed as fixed after the Sage 8.5 release.",
    "created_at": "2018-12-28T14:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26870",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26870#issuecomment-416596",
    "user": "https://github.com/embray"
}
```

<a id='comment:20'>Comment 20:</a>
This tickets were closed as fixed after the Sage 8.5 release.
