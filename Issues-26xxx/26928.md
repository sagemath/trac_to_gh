# Issue 26928: matrix argument parsing eats all the memory instead of rising an error

archive/issues_026691.json:
```json
{
    "assignees": [],
    "body": "It has been reported on [this ask question](https://ask.sagemath.org/question/44717/error-in-sagemath-code-which-crash-my-pc/), here is a minimal example:\n\n```\nmatrix([ZZ])\n```\n\n\nComponent: **linear algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26928_\n\n",
    "closed_at": "2018-12-21T10:36:08Z",
    "created_at": "2018-12-20T20:34:07Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "matrix argument parsing eats all the memory instead of rising an error",
    "type": "issue",
    "updated_at": "2018-12-21T10:36:08Z",
    "url": "https://github.com/sagemath/sage/issues/26928",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
It has been reported on [this ask question](https://ask.sagemath.org/question/44717/error-in-sagemath-code-which-crash-my-pc/), here is a minimal example:

```
matrix([ZZ])
```


Component: **linear algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/26928_





---

archive/issue_events_369949.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-12-20T20:34:07Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369949"
}
```



---

archive/issue_events_369950.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-12-20T20:34:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "c: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369950"
}
```



---

archive/issue_events_369951.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-12-20T20:34:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369951"
}
```



---

archive/issue_events_369952.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-12-20T20:34:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369952"
}
```



---

archive/issue_comments_414946.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWhy is this a bug? ZZ is an iterable, as you can see from\n\n```\nsage: I=iter(ZZ)\nsage: [next(I) for i in [1..10]]\n[0, 1, -1, 2, -2, 3, -3, 4, -4, 5]\n```\nso the user is asking to construct a matrix with one row and countably infinitely many columns. If there would be a way to tell that an iterator is infinite, we could raise an error, but python does not provide such functionality (thanks to the stopping problem). We can't really do anything about this. It does seem appropriate that `matrix` accepts an iterable that produces iterables.",
    "created_at": "2018-12-21T05:27:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26928#issuecomment-414946",
    "user": "https://github.com/nbruin"
}
```

<div id="comment:1" align="right">comment:1</div>

Why is this a bug? ZZ is an iterable, as you can see from

```
sage: I=iter(ZZ)
sage: [next(I) for i in [1..10]]
[0, 1, -1, 2, -2, 3, -3, 4, -4, 5]
```
so the user is asking to construct a matrix with one row and countably infinitely many columns. If there would be a way to tell that an iterator is infinite, we could raise an error, but python does not provide such functionality (thanks to the stopping problem). We can't really do anything about this. It does seem appropriate that `matrix` accepts an iterable that produces iterables.



---

archive/issue_comments_414947.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI consider this a duplicate of the more general #24757",
    "created_at": "2018-12-21T10:31:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26928#issuecomment-414947",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:2" align="right">comment:2</div>

I consider this a duplicate of the more general #24757



---

archive/issue_events_369953.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-21T10:36:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369953"
}
```



---

archive/issue_events_369954.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-21T10:36:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369954"
}
```



---

archive/issue_events_369955.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-21T10:36:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369955"
}
```



---

archive/issue_events_369956.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-21T10:36:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26928",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26928#event-369956"
}
```
