# Issue 26484: clean graph_coloring.py

archive/issues_026247.json:
```json
{
    "assignees": [],
    "body": "Clean `graph_coloring.py` and avoid comparison of vertex labels.\n\nCC:  @tscrim @fchapoton\n\nKeywords: **py3, graph**\n\nBranch/Commit: **[f334d2b](https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26484_\n\n",
    "closed_at": "2018-10-20T19:02:47Z",
    "created_at": "2018-10-13T13:32:43Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "clean graph_coloring.py",
    "type": "issue",
    "updated_at": "2018-10-20T19:02:47Z",
    "url": "https://github.com/sagemath/sage/issues/26484",
    "user": "https://github.com/dcoudert"
}
```
Clean `graph_coloring.py` and avoid comparison of vertex labels.

CC:  @tscrim @fchapoton

Keywords: **py3, graph**

Branch/Commit: **[f334d2b](https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b)**

Reviewer: **Travis Scrimshaw**

Author: **David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/26484_





---

archive/issue_events_346718.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-13T13:32:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346718"
}
```



---

archive/issue_events_346719.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-13T13:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346719"
}
```



---

archive/issue_events_346720.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-13T13:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346720"
}
```



---

archive/issue_events_346721.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-13T13:32:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346721"
}
```



---

archive/issue_comments_411118.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9910b4d5e58ba5e87e4e55e873cc77ba9f1d19f7\">9910b4d</a></td><td><code>trac #26484: clean graph_coloring.py</code></td></tr></table>\n",
    "created_at": "2018-10-13T13:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411118",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:1" align="right">Comment 1</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9910b4d5e58ba5e87e4e55e873cc77ba9f1d19f7">9910b4d</a></td><td><code>trac #26484: clean graph_coloring.py</code></td></tr></table>




---

archive/issue_comments_411119.json:
```json
{
    "body": "Commit: **[9910b4d](https://github.com/sagemath/sagetrac-mirror/commit/9910b4d5e58ba5e87e4e55e873cc77ba9f1d19f7)**",
    "created_at": "2018-10-13T13:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411119",
    "user": "https://github.com/dcoudert"
}
```

Commit: **[9910b4d](https://github.com/sagemath/sagetrac-mirror/commit/9910b4d5e58ba5e87e4e55e873cc77ba9f1d19f7)**



---

archive/issue_comments_411120.json:
```json
{
    "body": "Branch: **[public/26484_graph_coloring_py](https://github.com/sagemath/sagetrac-mirror/tree/public/26484_graph_coloring_py)**",
    "created_at": "2018-10-13T13:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411120",
    "user": "https://github.com/dcoudert"
}
```

Branch: **[public/26484_graph_coloring_py](https://github.com/sagemath/sagetrac-mirror/tree/public/26484_graph_coloring_py)**



---

archive/issue_comments_411121.json:
```json
{
    "body": "Changed keywords from none to **py3, graph**",
    "created_at": "2018-10-13T13:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411121",
    "user": "https://github.com/dcoudert"
}
```

Changed keywords from none to **py3, graph**



---

archive/issue_comments_411122.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-Clean `graph_coloring.py`. Fix a `max` to avoid comparison of vertex labels.\n+Clean `graph_coloring.py` and avoid comparison of vertex labels.\n``````\n",
    "created_at": "2018-10-13T13:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411122",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-Clean `graph_coloring.py`. Fix a `max` to avoid comparison of vertex labels.
+Clean `graph_coloring.py` and avoid comparison of vertex labels.
``````




---

archive/issue_events_346722.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-13T13:35:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346722"
}
```



---

archive/issue_events_346723.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-18T15:27:57Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346723"
}
```



---

archive/issue_events_346724.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-18T15:27:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346724"
}
```



---

archive/issue_comments_411123.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nA while-we-are-at-it:\n\n```diff\n-    if not n: return\n+    if not n:\n+        return\n-    if n < 0: raise ValueError(\"n must be non-negative\")\n+    if n < 0:\n+        raise ValueError(\"n must be non-negative\")\n```\n\nThis is now a grammatical error:\n\n```diff\n-    number of colors.\n-\n-    ::\n+    number of colors ::\n```\nRemove the space before the `::` so it generates a colon after colors.\n\nCan you use Python `set`'s here instead of Sage `Set`'s:\n\n```\n            # make the dict into a set for quick uniqueness checking\n            S += Set([Set([(k,tuple(C[k])) for k in C])])\n```\n(or at least for intermediate computations)?\n\nFor this change:\n\n```diff\n-            raise RuntimeError(\"It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen \")\n+            raise RuntimeError(\"it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen \")\n```\nthe `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say \"We implore you!\".\n\nEverything else LGTM.",
    "created_at": "2018-10-19T03:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411123",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">Comment 3</div>

A while-we-are-at-it:

```diff
-    if not n: return
+    if not n:
+        return
-    if n < 0: raise ValueError("n must be non-negative")
+    if n < 0:
+        raise ValueError("n must be non-negative")
```

This is now a grammatical error:

```diff
-    number of colors.
-
-    ::
+    number of colors ::
```
Remove the space before the `::` so it generates a colon after colors.

Can you use Python `set`'s here instead of Sage `Set`'s:

```
            # make the dict into a set for quick uniqueness checking
            S += Set([Set([(k,tuple(C[k])) for k in C])])
```
(or at least for intermediate computations)?

For this change:

```diff
-            raise RuntimeError("It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
+            raise RuntimeError("it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
```
the `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say "We implore you!".

Everything else LGTM.



---

archive/issue_comments_411124.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-10-19T03:32:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411124",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_411125.json:
```json
{
    "body": "Changed commit from **[9910b4d](https://github.com/sagemath/sagetrac-mirror/commit/9910b4d5e58ba5e87e4e55e873cc77ba9f1d19f7)** to **[87f29c1](https://github.com/sagemath/sagetrac-mirror/commit/87f29c10f4bddcb704f3a8cb949a867862a260a5)**",
    "created_at": "2018-10-19T07:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411125",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9910b4d](https://github.com/sagemath/sagetrac-mirror/commit/9910b4d5e58ba5e87e4e55e873cc77ba9f1d19f7)** to **[87f29c1](https://github.com/sagemath/sagetrac-mirror/commit/87f29c10f4bddcb704f3a8cb949a867862a260a5)**



---

archive/issue_comments_411126.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/87f29c10f4bddcb704f3a8cb949a867862a260a5\">87f29c1</a></td><td><code>trac #26484: reviewers comments</code></td></tr></table>\n",
    "created_at": "2018-10-19T07:01:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411126",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4" align="right">Comment 4</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/87f29c10f4bddcb704f3a8cb949a867862a260a5">87f29c1</a></td><td><code>trac #26484: reviewers comments</code></td></tr></table>




---

archive/issue_comments_411127.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\n> Remove the space before the `::` so it generates a colon after colors.\n\nI didn't know that. I'm learning every day. Cool.\n \n> Can you use Python `set`'s here instead of Sage `Set`'s:\n\nDone. I also added a loop as the input parameter was not used",
    "created_at": "2018-10-19T07:04:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411127",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:5" align="right">Comment 5</div>

> Remove the space before the `::` so it generates a colon after colors.

I didn't know that. I'm learning every day. Cool.
 
> Can you use Python `set`'s here instead of Sage `Set`'s:

Done. I also added a loop as the input parameter was not used



---

archive/issue_comments_411128.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nThanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.",
    "created_at": "2018-10-19T14:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411128",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:6" align="right">Comment 6</div>

Thanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.



---

archive/issue_comments_411129.json:
```json
{
    "body": "Changed commit from **[87f29c1](https://github.com/sagemath/sagetrac-mirror/commit/87f29c10f4bddcb704f3a8cb949a867862a260a5)** to **[f334d2b](https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b)**",
    "created_at": "2018-10-19T15:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411129",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[87f29c1](https://github.com/sagemath/sagetrac-mirror/commit/87f29c10f4bddcb704f3a8cb949a867862a260a5)** to **[f334d2b](https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b)**



---

archive/issue_comments_411130.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b\">f334d2b</a></td><td><code>trac #26484: reduce default number of tests in random_all_graph_colorings</code></td></tr></table>\n",
    "created_at": "2018-10-19T15:36:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411130",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7" align="right">Comment 7</div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b">f334d2b</a></td><td><code>trac #26484: reduce default number of tests in random_all_graph_colorings</code></td></tr></table>




---

archive/issue_events_346725.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-19T15:37:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346725"
}
```



---

archive/issue_events_346726.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-19T15:37:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346726"
}
```



---

archive/issue_comments_411131.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nI reduced it to 2. Note that the doctest of that method calls it with 1.\n\nThanks for the review.",
    "created_at": "2018-10-19T15:37:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411131",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">Comment 8</div>

I reduced it to 2. Note that the doctest of that method calls it with 1.

Thanks for the review.



---

archive/issue_events_346727.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T19:02:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346727"
}
```



---

archive/issue_events_346728.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ec6372f055d092d35dcf9228d005b2fe59e568e2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-10-20T19:02:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26484#event-346728"
}
```



---

archive/issue_comments_411132.json:
```json
{
    "body": "Changed branch from **[public/26484_graph_coloring_py](https://github.com/sagemath/sagetrac-mirror/tree/public/26484_graph_coloring_py)** to **[f334d2b](https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b)**",
    "created_at": "2018-10-20T19:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26484#issuecomment-411132",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/26484_graph_coloring_py](https://github.com/sagemath/sagetrac-mirror/tree/public/26484_graph_coloring_py)** to **[f334d2b](https://github.com/sagemath/sagetrac-mirror/commit/f334d2b98724bba070c2ee3a18356fb56d5b075b)**
