# Issue 26484: clean graph_coloring.py

archive/issues_026247.json:
```json
{
    "body": "Clean `graph_coloring.py` and avoid comparison of vertex labels.\n\nCC:  @tscrim @fchapoton\n\nKeywords: py3, graph\n\nReviewer: Travis Scrimshaw\n\nAuthor: David Coudert\n\nBranch: f334d2b98724bba070c2ee3a18356fb56d5b075b\n\nCommit: f334d2b98724bba070c2ee3a18356fb56d5b075b\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26484\n\n",
    "closed_at": "2018-10-20T19:02:47Z",
    "created_at": "2018-10-13T13:32:43Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "clean graph_coloring.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26484",
    "user": "https://github.com/dcoudert"
}
```
Clean `graph_coloring.py` and avoid comparison of vertex labels.

CC:  @tscrim @fchapoton

Keywords: py3, graph

Reviewer: Travis Scrimshaw

Author: David Coudert

Branch: f334d2b98724bba070c2ee3a18356fb56d5b075b

Commit: f334d2b98724bba070c2ee3a18356fb56d5b075b

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26484





---

archive/issue_comments_369470.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2018-10-13T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369470",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_369471.json:
```json
{
    "body": "Changing keywords from \"\" to \"py3, graph\".",
    "created_at": "2018-10-13T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369471",
    "user": "https://github.com/dcoudert"
}
```

Changing keywords from "" to "py3, graph".



---

archive/issue_comments_369472.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-13T13:35:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369472",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_events_065824.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-10-18T15:27:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26484#event-65824"
}
```



---

archive/issue_comments_369473.json:
```json
{
    "body": "<a id='comment:3'></a>A while-we-are-at-it:\n\n```diff\n-    if not n: return\n+    if not n:\n+        return\n-    if n < 0: raise ValueError(\"n must be non-negative\")\n+    if n < 0:\n+        raise ValueError(\"n must be non-negative\")\n```\n\nThis is now a grammatical error:\n\n```diff\n-    number of colors.\n-\n-    ::\n+    number of colors ::\n```\nRemove the space before the `::` so it generates a colon after colors.\n\nCan you use Python `set`'s here instead of Sage `Set`'s:\n\n```\n            # make the dict into a set for quick uniqueness checking\n            S += Set([Set([(k,tuple(C[k])) for k in C])])\n```\n(or at least for intermediate computations)?\n\nFor this change:\n\n```diff\n-            raise RuntimeError(\"It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen \")\n+            raise RuntimeError(\"it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen \")\n```\nthe `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say \"We implore you!\".\n\nEverything else LGTM.",
    "created_at": "2018-10-19T03:32:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369473",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:3'></a>A while-we-are-at-it:

```diff
-    if not n: return
+    if not n:
+        return
-    if n < 0: raise ValueError("n must be non-negative")
+    if n < 0:
+        raise ValueError("n must be non-negative")
```

This is now a grammatical error:

```diff
-    number of colors.
-
-    ::
+    number of colors ::
```
Remove the space before the `::` so it generates a colon after colors.

Can you use Python `set`'s here instead of Sage `Set`'s:

```
            # make the dict into a set for quick uniqueness checking
            S += Set([Set([(k,tuple(C[k])) for k in C])])
```
(or at least for intermediate computations)?

For this change:

```diff
-            raise RuntimeError("It looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
+            raise RuntimeError("it looks like you have found a counterexample to a very old conjecture. Please do not loose it ! Please publish it, and send a post to sage-devel to warn us. I implore you ! Nathann Cohen ")
```
the `it` should be capitalized because the error message is so long and multiple sentences. Also, you should remove Nathann Cohen from the error message and say "We implore you!".

Everything else LGTM.



---

archive/issue_comments_369474.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T07:01:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369474",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369475.json:
```json
{
    "body": "<a id='comment:5'></a>> Remove the space before the `::` so it generates a colon after colors.\n\nI didn't know that. I'm learning every day. Cool.\n \n> Can you use Python `set`'s here instead of Sage `Set`'s:\nDone. I also added a loop as the input parameter was not used",
    "created_at": "2018-10-19T07:04:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369475",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:5'></a>> Remove the space before the `::` so it generates a colon after colors.

I didn't know that. I'm learning every day. Cool.
 
> Can you use Python `set`'s here instead of Sage `Set`'s:
Done. I also added a loop as the input parameter was not used



---

archive/issue_comments_369476.json:
```json
{
    "body": "<a id='comment:6'></a>Thanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.",
    "created_at": "2018-10-19T14:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369476",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:6'></a>Thanks. Actually, now I am a little worried about the default number of tests run in `random_all_graph_colorings`. It takes over a minute on my laptop. I think we are better having the default number be 10 or possibly 100. Once changed, you can set a positive review on my behalf.



---

archive/issue_comments_369477.json:
```json
{
    "body": "<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-10-19T15:36:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369477",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_369478.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-10-19T15:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369478",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_369479.json:
```json
{
    "body": "<a id='comment:8'></a>I reduced it to 2. Note that the doctest of that method calls it with 1.\n\nThanks for the review.",
    "created_at": "2018-10-19T15:37:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369479",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:8'></a>I reduced it to 2. Note that the doctest of that method calls it with 1.

Thanks for the review.



---

archive/issue_comments_369480.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-10-20T19:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26484#issuecomment-369480",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_065825.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-20T19:02:47Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26484",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26484#event-65825"
}
```
