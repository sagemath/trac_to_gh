# Issue 26932: Upgrade to givaro-4.1.1 fflas-ffpack-2.4.3 linbox-1.6.3

archive/issues_026695.json:
```json
{
    "assignees": [],
    "body": "Tarballs of released packages (with appropriate names) can be found at:\n* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2\n* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n\nExample of timing improvements (in seconds) on my laptop running an i7-8650U\n\n* for random square matrices of order n=4000 over GF(4194301) (22 bits)\n\n|               | develop | #26932 |\n|:---------------:|:---------:|:--------:|\n| A * B         |  3.61     |  3.57    |\n| A.det()       |  2.96     |  1.52    |\n| A.echelonize()|  3.59     |  1.86    |\n| A\\b           |  8.9      |  5.13    |\n\n* for random square matrices of order n=4000 over GF(251) (8 bits)\n\n|               | develop | #26932 |\n|:---------------:|:---------:|:--------:|\n| A * B         |  1.59     |  1.5     |\n| A.det()       |  1.54     |  0.731   |\n| A.echelonize()|  1.82     |  0.692   |\n| A\\b           |  3.7      |  1.79    |\n\n\nCC:  @kiwifb @timokau\n\nBranch: **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**\n\nReviewer: **Timo Kaufmann**\n\nAuthor: **Cl\u00e9ment Pernet**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26932_\n\n",
    "closed_at": "2019-08-01T22:55:03Z",
    "created_at": "2018-12-21T13:33:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.3 linbox-1.6.3",
    "type": "issue",
    "updated_at": "2019-08-03T13:58:49Z",
    "url": "https://github.com/sagemath/sage/issues/26932",
    "user": "https://github.com/ClementPernet"
}
```
Tarballs of released packages (with appropriate names) can be found at:
* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2
* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz

Example of timing improvements (in seconds) on my laptop running an i7-8650U

* for random square matrices of order n=4000 over GF(4194301) (22 bits)

|               | develop | #26932 |
|:---------------:|:---------:|:--------:|
| A * B         |  3.61     |  3.57    |
| A.det()       |  2.96     |  1.52    |
| A.echelonize()|  3.59     |  1.86    |
| A\b           |  8.9      |  5.13    |

* for random square matrices of order n=4000 over GF(251) (8 bits)

|               | develop | #26932 |
|:---------------:|:---------:|:--------:|
| A * B         |  1.59     |  1.5     |
| A.det()       |  1.54     |  0.731   |
| A.echelonize()|  1.82     |  0.692   |
| A\b           |  3.7      |  1.79    |


CC:  @kiwifb @timokau

Branch: **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**

Reviewer: **Timo Kaufmann**

Author: **Clément Pernet**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/26932_





---

archive/issue_events_370035.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370035"
}
```



---

archive/issue_events_370036.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370036"
}
```



---

archive/issue_events_370037.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370037"
}
```



---

archive/issue_events_370038.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370038"
}
```



---

archive/issue_events_370039.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370039"
}
```



---

archive/issue_events_370040.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370040"
}
```



---

archive/issue_comments_415144.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415144",
    "user": "https://github.com/embray"
}
```

<div id="comment:2" align="right">comment:2</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_415145.json:
```json
{
    "body": "Branch: **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)**",
    "created_at": "2019-02-21T13:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415145",
    "user": "https://github.com/ClementPernet"
}
```

Branch: **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)**



---

archive/issue_comments_415146.json:
```json
{
    "body": "Commit: **[`f7aa5c0`](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)**",
    "created_at": "2019-02-21T16:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415146",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`f7aa5c0`](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)**



---

archive/issue_comments_415147.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467\">f7aa5c0</a></td><td><code>fix and clean fetch_int</code></td></tr></table>\n",
    "created_at": "2019-02-21T16:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415147",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467">f7aa5c0</a></td><td><code>fix and clean fetch_int</code></td></tr></table>




---

archive/issue_comments_415148.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nTarballs of released packages (with appropriate names) can be found at:\n* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz\n* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2\n* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz\n\nI'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.",
    "created_at": "2019-02-21T16:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415148",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:5" align="right">comment:5</div>

Tarballs of released packages (with appropriate names) can be found at:
* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz
* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2
* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz

I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.



---

archive/issue_comments_415149.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n+Tarballs of released packages (with appropriate names) can be found at:\n+* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz\n+* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2\n+* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz\n \n+I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.\n``````\n",
    "created_at": "2019-02-21T16:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415149",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
+Tarballs of released packages (with appropriate names) can be found at:
+* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz
+* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2
+* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz
 
+I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.
``````




---

archive/issue_comments_415150.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6\">ff8e058</a></td><td><code>update checksums</code></td></tr></table>\n",
    "created_at": "2019-03-05T09:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415150",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6">ff8e058</a></td><td><code>update checksums</code></td></tr></table>




---

archive/issue_comments_415151.json:
```json
{
    "body": "Changed commit from **[`f7aa5c0`](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)** to **[`ff8e058`](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)**",
    "created_at": "2019-03-05T09:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415151",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f7aa5c0`](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)** to **[`ff8e058`](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)**



---

archive/issue_comments_415152.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nFor the record, the branch currently breaks several doctests.\n\n```\n----------------------------------------------------------------------\nsage -t src/sage/algebras/free_algebra.py  # 2 doctests failed\nsage -t src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx  # 9 doctests failed\nsage -t src/sage/algebras/letterplace/free_algebra_letterplace.pyx  # 3 doctests failed\nsage -t src/sage/coding/bch.py  # 2 doctests failed\nsage -t src/sage/coding/extended_code.py  # 1 doctest failed\nsage -t src/sage/dynamics/arithmetic_dynamics/generic_ds.py  # 4 doctests failed\nsage -t src/sage/schemes/elliptic_curves/isogeny_small_degree.py  # 1 doctest failed\nsage -t src/sage/schemes/elliptic_curves/ell_curve_isogeny.py  # 1 doctest failed\nsage -t src/sage/schemes/generic/scheme.py  # 2 doctests failed\nsage -t src/sage/schemes/curves/projective_curve.py  # 9 doctests failed\nsage -t src/sage/schemes/hyperelliptic_curves/hyperelliptic_finite_field.py  # 1 doctest failed\nsage -t src/sage/interfaces/sage0.py  # 1 doctest failed\nsage -t src/sage/rings/fraction_field.py  # 1 doctest failed\nsage -t src/sage/rings/polynomial/multi_polynomial.pyx  # 1 doctest failed\nsage -t src/sage/rings/polynomial/flatten.py  # 1 doctest failed\nsage -t src/sage/rings/polynomial/multi_polynomial_ideal.py  # 5 doctests failed\nsage -t src/sage/rings/polynomial/multi_polynomial_element.py  # 1 doctest failed\nsage -t src/sage/crypto/mq/rijndael_gf.py  # 73 doctests failed\n----------------------------------------------------------------------\n```\n\nGivaro::GFqDom seems to be the culprit. I'm working on it.",
    "created_at": "2019-03-05T13:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415152",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:8" align="right">comment:8</div>

For the record, the branch currently breaks several doctests.

```
----------------------------------------------------------------------
sage -t src/sage/algebras/free_algebra.py  # 2 doctests failed
sage -t src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx  # 9 doctests failed
sage -t src/sage/algebras/letterplace/free_algebra_letterplace.pyx  # 3 doctests failed
sage -t src/sage/coding/bch.py  # 2 doctests failed
sage -t src/sage/coding/extended_code.py  # 1 doctest failed
sage -t src/sage/dynamics/arithmetic_dynamics/generic_ds.py  # 4 doctests failed
sage -t src/sage/schemes/elliptic_curves/isogeny_small_degree.py  # 1 doctest failed
sage -t src/sage/schemes/elliptic_curves/ell_curve_isogeny.py  # 1 doctest failed
sage -t src/sage/schemes/generic/scheme.py  # 2 doctests failed
sage -t src/sage/schemes/curves/projective_curve.py  # 9 doctests failed
sage -t src/sage/schemes/hyperelliptic_curves/hyperelliptic_finite_field.py  # 1 doctest failed
sage -t src/sage/interfaces/sage0.py  # 1 doctest failed
sage -t src/sage/rings/fraction_field.py  # 1 doctest failed
sage -t src/sage/rings/polynomial/multi_polynomial.pyx  # 1 doctest failed
sage -t src/sage/rings/polynomial/flatten.py  # 1 doctest failed
sage -t src/sage/rings/polynomial/multi_polynomial_ideal.py  # 5 doctests failed
sage -t src/sage/rings/polynomial/multi_polynomial_element.py  # 1 doctest failed
sage -t src/sage/crypto/mq/rijndael_gf.py  # 73 doctests failed
----------------------------------------------------------------------
```

Givaro::GFqDom seems to be the culprit. I'm working on it.



---

archive/issue_events_370041.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370041"
}
```



---

archive/issue_events_370042.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370042"
}
```



---

archive/issue_comments_415153.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415153",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_415154.json:
```json
{
    "body": "Changed commit from **[`ff8e058`](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)** to **[`e879bfe`](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)**",
    "created_at": "2019-04-04T16:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415154",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ff8e058`](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)** to **[`e879bfe`](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)**



---

archive/issue_comments_415155.json:
```json
{
    "body": "<div id=\"comment:10\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b\">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr></table>\n",
    "created_at": "2019-04-04T16:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415155",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:10"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr></table>




---

archive/issue_comments_415156.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nFor the record, the source of the above-mentionned bugs has been identified to a change in givaro GFqDom interface. It has been fixed now, and we can move forward on this ticket.",
    "created_at": "2019-05-02T07:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415156",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:11" align="right">comment:11</div>

For the record, the source of the above-mentionned bugs has been identified to a change in givaro GFqDom interface. It has been fixed now, and we can move forward on this ticket.



---

archive/issue_comments_415157.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI don't suppose any of these are tested on Cygwin?  I'm happy to do so if not, I just wondered.",
    "created_at": "2019-05-02T14:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415157",
    "user": "https://github.com/embray"
}
```

<div id="comment:12" align="right">comment:12</div>

I don't suppose any of these are tested on Cygwin?  I'm happy to do so if not, I just wondered.



---

archive/issue_comments_415158.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThe 3 libraries are tested on cygwin. We currently have an unsolved bug of fflas-ffpack which seem to be cygwin specific: [https://github.com/linbox-team/fflas-ffpack/issues/248](https://github.com/linbox-team/fflas-ffpack/issues/248)\n\nHowever, I personnaly don't have a cygwin box on which I could test this ticket, so I appreciate your proposition to test the ticket once I put it in \"needs review\", or shortly before doing so.",
    "created_at": "2019-05-02T14:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415158",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:13" align="right">comment:13</div>

The 3 libraries are tested on cygwin. We currently have an unsolved bug of fflas-ffpack which seem to be cygwin specific: [https://github.com/linbox-team/fflas-ffpack/issues/248](https://github.com/linbox-team/fflas-ffpack/issues/248)

However, I personnaly don't have a cygwin box on which I could test this ticket, so I appreciate your proposition to test the ticket once I put it in "needs review", or shortly before doing so.



---

archive/issue_comments_415159.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThanks Clement, will do.  I'll also have a look at that bug.",
    "created_at": "2019-05-03T14:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415159",
    "user": "https://github.com/embray"
}
```

<div id="comment:14" align="right">comment:14</div>

Thanks Clement, will do.  I'll also have a look at that bug.



---

archive/issue_comments_415160.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,4 @@\n Tarballs of released packages (with appropriate names) can be found at:\n-* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz\n-* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2\n-* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz\n-\n-I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.\n+* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz\n``````\n",
    "created_at": "2019-05-10T16:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415160",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,4 @@
 Tarballs of released packages (with appropriate names) can be found at:
-* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz
-* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2
-* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz
-
-I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.
+* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
+* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz
``````




---

archive/issue_comments_415161.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582\">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9\">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c\">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6\">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c\">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504\">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr></table>\n",
    "created_at": "2019-05-10T16:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415161",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr></table>




---

archive/issue_comments_415162.json:
```json
{
    "body": "Changed commit from **[`e879bfe`](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)** to **[`c11d9cf`](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)**",
    "created_at": "2019-05-10T16:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415162",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`e879bfe`](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)** to **[`c11d9cf`](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)**



---

archive/issue_comments_415163.json:
```json
{
    "body": "Author: **Cl\u00e9ment Pernet**",
    "created_at": "2019-05-10T16:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415163",
    "user": "https://github.com/ClementPernet"
}
```

Author: **Clément Pernet**



---

archive/issue_comments_415164.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI have just released the 3 libraries and updated the sage bindings accordingly.\nSage test suite passes on my box. The ticket is ready for review.\nI may post later on some benchmarks advertising the performance gain from this update.",
    "created_at": "2019-05-10T16:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415164",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:17" align="right">comment:17</div>

I have just released the 3 libraries and updated the sage bindings accordingly.
Sage test suite passes on my box. The ticket is ready for review.
I may post later on some benchmarks advertising the performance gain from this update.



---

archive/issue_events_370043.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-05-10T16:16:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370043"
}
```



---

archive/issue_comments_415165.json:
```json
{
    "body": "Changed commit from **[`c11d9cf`](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)** to **[`058bfb3`](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)**",
    "created_at": "2019-05-13T14:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415165",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c11d9cf`](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)** to **[`058bfb3`](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)**



---

archive/issue_comments_415166.json:
```json
{
    "body": "<div id=\"comment:19\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6\">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr></table>\n",
    "created_at": "2019-05-13T14:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415166",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:19"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr></table>




---

archive/issue_events_370044.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-05-13T14:36:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.1",
    "title_was": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370044"
}
```



---

archive/issue_comments_415167.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nUpdate: I realized that there was a mismatch between the tar.gz on github and the published md5, sha1 and cksum checks. I updated the tar.gz of the three libraries to their actual values on github. \n\nIn addition, we fixed some minor issues in the linbox-auto-install and the dependency version checking  system and therefore release 1.6.1 consequently. I have thus updated this ticket to linbox-1.6.1 accordingly.",
    "created_at": "2019-05-13T14:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415167",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:20" align="right">comment:20</div>

Update: I realized that there was a mismatch between the tar.gz on github and the published md5, sha1 and cksum checks. I updated the tar.gz of the three libraries to their actual values on github. 

In addition, we fixed some minor issues in the linbox-auto-install and the dependency version checking  system and therefore release 1.6.1 consequently. I have thus updated this ticket to linbox-1.6.1 accordingly.



---

archive/issue_comments_415168.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n-* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz\n``````\n",
    "created_at": "2019-05-13T14:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415168",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
 * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
-* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz
+* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz
``````




---

archive/issue_comments_415169.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nFor what it's wroth the linbox 1.6.0 update broke the build *on nixos* for [darwin](https://nix-cache.s3.amazonaws.com/log/qjcscs69g4qayfadz8lagxa0nxjm0hc6-linbox-1.6.0.drv) and [aarch64](https://nix-cache.s3.amazonaws.com/log/ifhzq8jqhcrz81y75cvxz9rs6dws5hny-linbox-1.6.0.drv). That may be an issue for sage as well.",
    "created_at": "2019-05-13T17:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415169",
    "user": "https://github.com/timokau"
}
```

<div id="comment:21" align="right">comment:21</div>

For what it's wroth the linbox 1.6.0 update broke the build *on nixos* for [darwin](https://nix-cache.s3.amazonaws.com/log/qjcscs69g4qayfadz8lagxa0nxjm0hc6-linbox-1.6.0.drv) and [aarch64](https://nix-cache.s3.amazonaws.com/log/ifhzq8jqhcrz81y75cvxz9rs6dws5hny-linbox-1.6.0.drv). That may be an issue for sage as well.



---

archive/issue_comments_415170.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nThanks for the feedback.\n- for the darwin bug, this is a bug in the test-suite file tests/test-qlup.C which I just fixed upstream. It does not have any impact on the main library itself.\n- for the aarch64 bug, it seems that some SIMD has been detected at configure time by reading hte CPUID (SSE2 enabled), but the definition of the `__m128i` type is absent. The header file with these definition should be included in `fflas-ffpack/utils/fflas_intrinsic.h` where I read that `arm_neon.h` gets included. However its seems that the intrinsics there are totally different from the intel/amd ones (I have no experience with ARM). I guess you will hit the same bugs building fflas-ffpack and givaro don't you? And they probably already existed with linbox-1.5.2 fflas-ffpack-2.3.2, givaro-4.0.4. As an easy fix I suggest to force disable these SIMD at configure time (`--disable-sse --disable-sse2`). If no-one with experience on ARM and SIMD can help enabling it, I will then auto-disable these simd in the configure scripts when ARM target is detected. Bug reported upstream https://github.com/linbox-team/linbox/issues/215",
    "created_at": "2019-05-14T14:16:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415170",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:22" align="right">comment:22</div>

Thanks for the feedback.
- for the darwin bug, this is a bug in the test-suite file tests/test-qlup.C which I just fixed upstream. It does not have any impact on the main library itself.
- for the aarch64 bug, it seems that some SIMD has been detected at configure time by reading hte CPUID (SSE2 enabled), but the definition of the `__m128i` type is absent. The header file with these definition should be included in `fflas-ffpack/utils/fflas_intrinsic.h` where I read that `arm_neon.h` gets included. However its seems that the intrinsics there are totally different from the intel/amd ones (I have no experience with ARM). I guess you will hit the same bugs building fflas-ffpack and givaro don't you? And they probably already existed with linbox-1.5.2 fflas-ffpack-2.3.2, givaro-4.0.4. As an easy fix I suggest to force disable these SIMD at configure time (`--disable-sse --disable-sse2`). If no-one with experience on ARM and SIMD can help enabling it, I will then auto-disable these simd in the configure scripts when ARM target is detected. Bug reported upstream https://github.com/linbox-team/linbox/issues/215



---

archive/issue_comments_415171.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nOk scratch what I said about the aarch64 problem. I got confused between the 2 logs and did not realized that no SIMD was detected with the aarch64 build. The bug is much simpler, and I think I fixed it upstream. As I can not test it on an aarch64 system, could you confirm that it is now fixed?\nI built a prerelease https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha0.tar.gz for you to test it. It should fix the two above issues.",
    "created_at": "2019-05-15T07:36:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415171",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:23" align="right">comment:23</div>

Ok scratch what I said about the aarch64 problem. I got confused between the 2 logs and did not realized that no SIMD was detected with the aarch64 build. The bug is much simpler, and I think I fixed it upstream. As I can not test it on an aarch64 system, could you confirm that it is now fixed?
I built a prerelease https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha0.tar.gz for you to test it. It should fix the two above issues.



---

archive/issue_comments_415172.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nThanks for looking into this!\n\nThe tarball you linked wasn't able to run tests (apparently some files are missing: `test-smith-form.h: No such file or directory`). Instead I'm testing the [latest](https://github.com/linbox-team/linbox/commit/dd17635a8676794fdaaafe060aaabb91f60bfac4) commit on github.\n\nThis is running on our CI right now (I don't have direct access to aarch64/darwin myself). You can see the status  in the \"checks\" on this [GitHub](../wiki/GitHub) PR: https://github.com/NixOS/nixpkgs/pull/61535",
    "created_at": "2019-05-15T08:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415172",
    "user": "https://github.com/timokau"
}
```

<div id="comment:24" align="right">comment:24</div>

Thanks for looking into this!

The tarball you linked wasn't able to run tests (apparently some files are missing: `test-smith-form.h: No such file or directory`). Instead I'm testing the [latest](https://github.com/linbox-team/linbox/commit/dd17635a8676794fdaaafe060aaabb91f60bfac4) commit on github.

This is running on our CI right now (I don't have direct access to aarch64/darwin myself). You can see the status  in the "checks" on this [GitHub](../wiki/GitHub) PR: https://github.com/NixOS/nixpkgs/pull/61535



---

archive/issue_comments_415173.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI can't believe this one did not get caught earlier. I fixed it upstream and prepared https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha1.tar.gz accordingly in case it helps.",
    "created_at": "2019-05-15T08:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415173",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:25" align="right">comment:25</div>

I can't believe this one did not get caught earlier. I fixed it upstream and prepared https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha1.tar.gz accordingly in case it helps.



---

archive/issue_comments_415174.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nWe usually build from the git repository anyways, so it doesn't make much difference.\n\nThe aarch64 build succeeded, but darwin is still failing: https://logs.nix.ci/?key=nixos/nixpkgs.61535&attempt_id=da868da3-0fdc-45df-98b0-7cb18ed6f867",
    "created_at": "2019-05-15T09:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415174",
    "user": "https://github.com/timokau"
}
```

<div id="comment:26" align="right">comment:26</div>

We usually build from the git repository anyways, so it doesn't make much difference.

The aarch64 build succeeded, but darwin is still failing: https://logs.nix.ci/?key=nixos/nixpkgs.61535&attempt_id=da868da3-0fdc-45df-98b0-7cb18ed6f867



---

archive/issue_comments_415175.json:
```json
{
    "body": "Changed commit from **[`058bfb3`](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)** to **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**",
    "created_at": "2019-05-24T08:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415175",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`058bfb3`](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)** to **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**



---

archive/issue_comments_415176.json:
```json
{
    "body": "<div id=\"comment:27\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9\">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr></table>\n",
    "created_at": "2019-05-24T08:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415176",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:27"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr></table>




---

archive/issue_comments_415177.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n-* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz\n``````\n",
    "created_at": "2019-05-24T08:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415177",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
 * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
-* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz
+* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz
``````




---

archive/issue_events_370045.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-05-24T08:27:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.2",
    "title_was": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370045"
}
```



---

archive/issue_comments_415178.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nI released linbox-1.6.2 fixing the bugs raised by gh-timokau  and updated the branch accordingly.",
    "created_at": "2019-05-24T08:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415178",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:28" align="right">comment:28</div>

I released linbox-1.6.2 fixing the bugs raised by gh-timokau  and updated the branch accordingly.



---

archive/issue_comments_415179.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI can confirm that those are fixed, thank you!",
    "created_at": "2019-05-24T16:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415179",
    "user": "https://github.com/timokau"
}
```

<div id="comment:29" align="right">comment:29</div>

I can confirm that those are fixed, thank you!



---

archive/issue_comments_415180.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,24 @@\n * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n * https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz\n+\n+Example of timing improvements (in seconds) on my laptop running an i7-8650U\n+\n+* for random square matrices of order n=4000 over GF(4194301) (22 bits)\n+\n+|               | develop | #26932 |\n+|:---------------:|:---------:|:--------:|\n+| A * B         |  3.57     |  3.61    |\n+| A.det()       |  2.96     |  1.52    |\n+| A.echelonize()|  3.59     |  1.86    |\n+| A\\b           |  8.9     |  5.13    |\n+\n+* for random square matrices of order n=4000 over GF(251) (8 bits)\n+\n+|               | develop | #26932 |\n+|:---------------:|:---------:|:--------:|\n+| A * B         |  1.59     |  1.5     |\n+| A.det()       |  1.54     |  0.731   |\n+| A.echelonize()|  1.82     |  0.692   |\n+| A\\b           |  3.7      |  1.79    |\n+\n``````\n",
    "created_at": "2019-05-29T08:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415180",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,24 @@
 * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
 * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
 * https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz
+
+Example of timing improvements (in seconds) on my laptop running an i7-8650U
+
+* for random square matrices of order n=4000 over GF(4194301) (22 bits)
+
+|               | develop | #26932 |
+|:---------------:|:---------:|:--------:|
+| A * B         |  3.57     |  3.61    |
+| A.det()       |  2.96     |  1.52    |
+| A.echelonize()|  3.59     |  1.86    |
+| A\b           |  8.9     |  5.13    |
+
+* for random square matrices of order n=4000 over GF(251) (8 bits)
+
+|               | develop | #26932 |
+|:---------------:|:---------:|:--------:|
+| A * B         |  1.59     |  1.5     |
+| A.det()       |  1.54     |  0.731   |
+| A.echelonize()|  1.82     |  0.692   |
+| A\b           |  3.7      |  1.79    |
+
``````




---

archive/issue_comments_415181.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,10 +9,10 @@\n \n |               | develop | #26932 |\n |:---------------:|:---------:|:--------:|\n-| A * B         |  3.57     |  3.61    |\n+| A * B         |  3.61     |  3.57    |\n | A.det()       |  2.96     |  1.52    |\n | A.echelonize()|  3.59     |  1.86    |\n-| A\\b           |  8.9     |  5.13    |\n+| A\\b           |  8.9      |  5.13    |\n \n * for random square matrices of order n=4000 over GF(251) (8 bits)\n \n``````\n",
    "created_at": "2019-05-29T08:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415181",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,10 +9,10 @@
 
 |               | develop | #26932 |
 |:---------------:|:---------:|:--------:|
-| A * B         |  3.57     |  3.61    |
+| A * B         |  3.61     |  3.57    |
 | A.det()       |  2.96     |  1.52    |
 | A.echelonize()|  3.59     |  1.86    |
-| A\b           |  8.9     |  5.13    |
+| A\b           |  8.9      |  5.13    |
 
 * for random square matrices of order n=4000 over GF(251) (8 bits)
 
``````




---

archive/issue_comments_415182.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nIs someone who has already looked at it willing to set this to a positive review? Otherwise I will doublecheck things on my (ubuntu) machine and then flip it positive.",
    "created_at": "2019-05-30T00:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415182",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

Is someone who has already looked at it willing to set this to a positive review? Otherwise I will doublecheck things on my (ubuntu) machine and then flip it positive.



---

archive/issue_comments_415183.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nThanks!",
    "created_at": "2019-05-30T17:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415183",
    "user": "https://github.com/timokau"
}
```

<div id="comment:33" align="right">comment:33</div>

Thanks!



---

archive/issue_events_370046.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2019-05-30T17:16:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370046"
}
```



---

archive/issue_events_370047.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2019-05-30T17:16:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370047"
}
```



---

archive/issue_comments_415184.json:
```json
{
    "body": "Reviewer: **Timo Kaufmann**",
    "created_at": "2019-05-30T17:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415184",
    "user": "https://github.com/timokau"
}
```

Reviewer: **Timo Kaufmann**



---

archive/issue_comments_415185.json:
```json
{
    "body": "Changed branch from **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)** to **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**",
    "created_at": "2019-06-02T22:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415185",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)** to **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**



---

archive/issue_events_370048.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-02T22:04:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370048"
}
```



---

archive/issue_events_370049.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-02T22:04:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370049"
}
```



---

archive/issue_comments_415186.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nI was going to report that I had this issue testing linbox in gentoo\n\n```\nx86_64-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..  -DLinBoxTestOnly -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -g -DNDEBUG -U_LB_DEBUG -I.. -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -fopenmp -DFFLAS_COMPILED -DFFPACK_COMPILED -fabi-version=6 -I/usr/include/openblas        -march=native -O2 -pipe  -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2 -mfma -c -o test-serialization.o test-serialization.C\ntest-serialization.C:32:10: fatal error: linbox/util/serialization.h: No such file or directory\n   32 | #include \"linbox/util/serialization.h\"\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n```\nI see that a fix has been committed in linbox [https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815](https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815) unfortunately it requires a new tarball to be completely fixed since the problem is that some files have not been included in the 1.6.2 tarball [and earlier probably]. What is the ETA for that?",
    "created_at": "2019-06-03T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415186",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

I was going to report that I had this issue testing linbox in gentoo

```
x86_64-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..  -DLinBoxTestOnly -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -g -DNDEBUG -U_LB_DEBUG -I.. -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -fopenmp -DFFLAS_COMPILED -DFFPACK_COMPILED -fabi-version=6 -I/usr/include/openblas        -march=native -O2 -pipe  -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2 -mfma -c -o test-serialization.o test-serialization.C
test-serialization.C:32:10: fatal error: linbox/util/serialization.h: No such file or directory
   32 | #include "linbox/util/serialization.h"
      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
```
I see that a fix has been committed in linbox [https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815](https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815) unfortunately it requires a new tarball to be completely fixed since the problem is that some files have not been included in the 1.6.2 tarball [and earlier probably]. What is the ETA for that?



---

archive/issue_comments_415187.json:
```json
{
    "body": "Changed commit from **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to none",
    "created_at": "2019-06-03T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415187",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to none



---

archive/issue_comments_415188.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nThese missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.\nI can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. \nI guess, it will happen in another ticket as this one is now closed.",
    "created_at": "2019-06-04T07:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415188",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:36" align="right">comment:36</div>

These missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.
I can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. 
I guess, it will happen in another ticket as this one is now closed.



---

archive/issue_comments_415189.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@ClementPernet](#comment:36):\n> These missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.\n> I can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. \n> I guess, it will happen in another ticket as this one is now closed.\n\nYes, I should have said it is in the test suite. I don't know, Volker may choose to re-open if it causes troubles with bots running `spkg-check` on packages.",
    "created_at": "2019-06-04T07:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415189",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@ClementPernet](#comment:36):
> These missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.
> I can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. 
> I guess, it will happen in another ticket as this one is now closed.

Yes, I should have said it is in the test suite. I don't know, Volker may choose to re-open if it causes troubles with bots running `spkg-check` on packages.



---

archive/issue_comments_415190.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nOn 32-bit the sage library doesn't build:\n\n```\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp: In function \u2018long unsigned int __pyx_f_4sage_4libs_6linbox_22linbox_flint_interface_linbox_fmpz_mat_rank(fmpz_mat_struct*)\u2019:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: error: no matching function for call to \u2018rank(long unsigned int&, LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> >&)\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: candidate: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A)\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   cannot convert \u2018__pyx_v_r\u2019 (type \u2018long unsigned int\u2019) to type \u2018size_t& {aka unsigned int&}\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const Method&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 3 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Auto&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                    &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note: candidate: template<class Field, class Vector> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, _Storage>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   \u2018LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}\u2019 is not derived from \u2018const LinBox::SparseMatrix<_Field, _Storage>\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Blackbox&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Wiedemann&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &res,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note: candidate: template<class Field> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::SparseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   \u2018LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}\u2019 is not derived from \u2018const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note: candidate: template<class Blackbox, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const LinBox::Method::SparseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::DenseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note: candidate: template<class Blackbox, class MyMethod> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::IntegerTag&, const MyMethod&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const Method&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                           &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const LinBox::Method::SparseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t           &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n```",
    "created_at": "2019-06-04T22:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415190",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:39" align="right">comment:39</div>

On 32-bit the sage library doesn't build:

```
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp: In function ‘long unsigned int __pyx_f_4sage_4libs_6linbox_22linbox_flint_interface_linbox_fmpz_mat_rank(fmpz_mat_struct*)’:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: error: no matching function for call to ‘rank(long unsigned int&, LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> >&)’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: candidate: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A)
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   cannot convert ‘__pyx_v_r’ (type ‘long unsigned int’) to type ‘size_t& {aka unsigned int&}’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const Method&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 3 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Auto&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                    &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note: candidate: template<class Field, class Vector> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, _Storage>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   ‘LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}’ is not derived from ‘const LinBox::SparseMatrix<_Field, _Storage>’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Blackbox&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Wiedemann&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &res,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note: candidate: template<class Field> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::SparseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   ‘LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}’ is not derived from ‘const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note: candidate: template<class Blackbox, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const LinBox::Method::SparseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::DenseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note: candidate: template<class Blackbox, class MyMethod> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::IntegerTag&, const MyMethod&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const Method&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                           &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const LinBox::Method::SparseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t           &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
```



---

archive/issue_comments_415191.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nYou may as well get a linbox 1.6.3 in at the same time, me and the other distros that look at testsuite results would be very grateful to have a working testsuite.",
    "created_at": "2019-06-05T01:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415191",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">comment:40</div>

You may as well get a linbox 1.6.3 in at the same time, me and the other distros that look at testsuite results would be very grateful to have a working testsuite.



---

archive/issue_comments_415192.json:
```json
{
    "body": "Changed branch from **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**",
    "created_at": "2019-06-05T07:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415192",
    "user": "https://github.com/ClementPernet"
}
```

Changed branch from **[`4287e02`](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**



---

archive/issue_comments_415193.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nI am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b\">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582\">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9\">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c\">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6\">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c\">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504\">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6\">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9\">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca\">bd8b2a0</a></td><td><code>fix 32 compilation failure for linbox-rank</code></td></tr></table>\n",
    "created_at": "2019-06-05T08:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415193",
    "user": "https://github.com/timokau"
}
```

<div id="comment:42" align="right">comment:42</div>

I am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca">bd8b2a0</a></td><td><code>fix 32 compilation failure for linbox-rank</code></td></tr></table>




---

archive/issue_comments_415194.json:
```json
{
    "body": "Commit: **[`bd8b2a0`](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)**",
    "created_at": "2019-06-05T08:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415194",
    "user": "https://github.com/timokau"
}
```

Commit: **[`bd8b2a0`](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)**



---

archive/issue_comments_415195.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">comment:43</div>\n\nReplying to [@timokau](#comment:42):\n> I am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?\n\nYes. I am using the tarball generated by `make sdist` and which is the one linked in the ticket description. A git checkout will test fine but not the generated tarball.",
    "created_at": "2019-06-05T08:14:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415195",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:43" align="right">comment:43</div>

Replying to [@timokau](#comment:42):
> I am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?

Yes. I am using the tarball generated by `make sdist` and which is the one linked in the ticket description. A git checkout will test fine but not the generated tarball.



---

archive/issue_comments_415196.json:
```json
{
    "body": "<div id=\"comment:44\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5\">ddacbf0</a></td><td><code>upgrade to linbox-1.6.3 fflas-ffpack-2.4.1 and givaro-4.1.1</code></td></tr></table>\n",
    "created_at": "2019-06-07T14:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415196",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:44"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5">ddacbf0</a></td><td><code>upgrade to linbox-1.6.3 fflas-ffpack-2.4.1 and givaro-4.1.1</code></td></tr></table>




---

archive/issue_comments_415197.json:
```json
{
    "body": "Changed commit from **[`bd8b2a0`](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)** to **[`ddacbf0`](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)**",
    "created_at": "2019-06-07T14:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415197",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`bd8b2a0`](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)** to **[`ddacbf0`](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)**



---

archive/issue_comments_415198.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Tarballs of released packages (with appropriate names) can be found at:\n-* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n-* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz\n+* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n \n Example of timing improvements (in seconds) on my laptop running an i7-8650U\n \n``````\n",
    "created_at": "2019-06-07T14:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415198",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Tarballs of released packages (with appropriate names) can be found at:
-* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
-* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz
+* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2
+* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz
 
 Example of timing improvements (in seconds) on my laptop running an i7-8650U
 
``````




---

archive/issue_events_370050.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-06-07T14:37:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.1 linbox-1.6.3",
    "title_was": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370050"
}
```



---

archive/issue_comments_415199.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI just released new minor revisions of linbox (1.6.3) fflas-ffpack (2.4.1) and givaro (4.1.1), \n* taking into account the above problems and fixing other minor issues such as \n* including the README.md in the distro, \n* fixing fflas-ffpack API for parallel calls from [SageMath](../wiki/SageMath) (in preparation of #27444).\nI updated the current branch and ticket accordingly, and it is now again ready for review.",
    "created_at": "2019-06-07T14:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415199",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:45" align="right">comment:45</div>

I just released new minor revisions of linbox (1.6.3) fflas-ffpack (2.4.1) and givaro (4.1.1), 
* taking into account the above problems and fixing other minor issues such as 
* including the README.md in the distro, 
* fixing fflas-ffpack API for parallel calls from [SageMath](../wiki/SageMath) (in preparation of #27444).
I updated the current branch and ticket accordingly, and it is now again ready for review.



---

archive/issue_events_370051.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-06-07T14:38:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370051"
}
```



---

archive/issue_comments_415200.json:
```json
{
    "body": "Changed commit from **[`ddacbf0`](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)** to **[`f2d1f29`](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)**",
    "created_at": "2019-06-11T08:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415200",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ddacbf0`](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)** to **[`f2d1f29`](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)**



---

archive/issue_comments_415201.json:
```json
{
    "body": "<div id=\"comment:47\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb\">f2d1f29</a></td><td><code>upgrade to fflas-ffpack-2.4.2 fixing testsuite errors with echlon forms</code></td></tr></table>\n",
    "created_at": "2019-06-11T08:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415201",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:47"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb">f2d1f29</a></td><td><code>upgrade to fflas-ffpack-2.4.2 fixing testsuite errors with echlon forms</code></td></tr></table>




---

archive/issue_comments_415202.json:
```json
{
    "body": "Changed commit from **[`f2d1f29`](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)** to **[`7848156`](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)**",
    "created_at": "2019-06-11T11:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415202",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f2d1f29`](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)** to **[`7848156`](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)**



---

archive/issue_comments_415203.json:
```json
{
    "body": "<div id=\"comment:48\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853\">7848156</a></td><td><code>upgrade do fflas-ffpack 2.4.3 fixing an error in charpoly autotune</code></td></tr></table>\n",
    "created_at": "2019-06-11T11:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415203",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:48"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853">7848156</a></td><td><code>upgrade do fflas-ffpack 2.4.3 fixing an error in charpoly autotune</code></td></tr></table>




---

archive/issue_comments_415204.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2\n * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n \n Example of timing improvements (in seconds) on my laptop running an i7-8650U\n``````\n",
    "created_at": "2019-06-11T11:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415204",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2
+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2
 * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz
 
 Example of timing improvements (in seconds) on my laptop running an i7-8650U
``````




---

archive/issue_comments_415205.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2\n * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n \n Example of timing improvements (in seconds) on my laptop running an i7-8650U\n``````\n",
    "created_at": "2019-06-11T11:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415205",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2
+* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2
 * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz
 
 Example of timing improvements (in seconds) on my laptop running an i7-8650U
``````




---

archive/issue_comments_415206.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">comment:51</div>\n\nI just did 2 last fixes of some bugs which shamelessly went through the prerelease testing.\nNo more fixes are expected, and the ticket is still open for review, with fflas-ffpack-2.4.3 version (I updated the branch and ticket description accordingly).",
    "created_at": "2019-06-11T11:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415206",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:51" align="right">comment:51</div>

I just did 2 last fixes of some bugs which shamelessly went through the prerelease testing.
No more fixes are expected, and the ticket is still open for review, with fflas-ffpack-2.4.3 version (I updated the branch and ticket description accordingly).



---

archive/issue_events_370052.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-06-11T11:49:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.3 linbox-1.6.3",
    "title_was": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.1 linbox-1.6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370052"
}
```



---

archive/issue_comments_415207.json:
```json
{
    "body": "<div id=\"comment:53\" align=\"right\">comment:53</div>\n\nTestsuite of givaro, fflas-ffpack, linbox passes for me on Linux-64, osx-64 on conda. Any chance we could get this ticket tested and reviewed soon?",
    "created_at": "2019-06-19T06:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415207",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:53" align="right">comment:53</div>

Testsuite of givaro, fflas-ffpack, linbox passes for me on Linux-64, osx-64 on conda. Any chance we could get this ticket tested and reviewed soon?



---

archive/issue_events_370053.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-02T16:59:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370053"
}
```



---

archive/issue_events_370054.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-02T16:59:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370054"
}
```



---

archive/issue_events_370055.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-03T06:53:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370055"
}
```



---

archive/issue_events_370056.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-03T06:53:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370056"
}
```



---

archive/issue_events_370057.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-03T10:58:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370057"
}
```



---

archive/issue_events_370058.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-03T10:58:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370058"
}
```



---

archive/issue_comments_415208.json:
```json
{
    "body": "<div id=\"comment:56\" align=\"right\">comment:56</div>\n\nDoesn't build on 32-bit:\n\nDebian 10 32-bit:\n\n```\n[sagelib-8.9.beta0] [ 5/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/libs/flint -I./sage/cpython -I./sage/ext -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -I./sage/rings -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cypari2 -I./sage/rings/finite_rings -Isage/cpython -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_dense.c -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_dense.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -std=c99 -g -fPIC -Wall -O2 -mmmx -msse -msse2 -msse3 -I/var/lib/buildbot/slave/sage_git/build/local/include/m4ri -I/var/lib/buildbot/slave/sage_git/build/local/include\n[sagelib-8.9.beta0] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53,\n[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,\n[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,\n[sagelib-8.9.beta0]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:722:\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function \u2018Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]\u2019:\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta0]                                                                  ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta0]                                                                  ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta0]                                              ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta0]                                              ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0] [ 6/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/var/lib/buildbot/slave/sage_git/build/local/include\n[sagelib-8.9.beta0] cc1plus: warning: SSE instruction set disabled, using 387 arithmetics\n[sagelib-8.9.beta0] error: command 'gcc' failed with exit status 1\n[sagelib-8.9.beta0] make[4]: *** [Makefile:33: sage] Error 1\n```\n\n\nDebian 8, 9 32-bit:\n\n```\n[sagelib-8.9.beta0] [ 6/13] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/src -I/home/buildbot/slave/sage_git/build/src/sage/ext -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -fpermissive -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/home/buildbot/slave/sage_git/build/local/include\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:1:0: warning: SSE instruction set disabled, using 387 arithmetics\n[sagelib-8.9.beta0]  /* Generated by Cython 0.29.10 */\n[sagelib-8.9.beta0]  ^\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp: In function \u2018PyObject* __pyx_pf_4sage_6matrix_21matrix_integer_sparse_21Matrix_integer_sparse_30_rank_linbox(__pyx_obj_4sage_6matrix_21matrix_integer_sparse_Matrix_integer_sparse*)\u2019:\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: error: no matching function for call to \u2018rank(long unsigned int&, LinBox::SparseMatrix<Givaro::ZRing<Givaro::Integer> >&)\u2019\n[sagelib-8.9.beta0]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_M[0])));\n[sagelib-8.9.beta0]                                                 ^\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: note: candidates are:\n[sagelib-8.9.beta0] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.9.beta0]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.9.beta0]                  from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:4384:\n[sagelib-8.9.beta0] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)\n[sagelib-8.9.beta0]   inline size_t &rank (size_t &r, const Blackbox &A,\n[sagelib-8.9.beta0]                  ^\n```",
    "created_at": "2019-07-03T10:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415208",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:56" align="right">comment:56</div>

Doesn't build on 32-bit:

Debian 10 32-bit:

```
[sagelib-8.9.beta0] [ 5/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/libs/flint -I./sage/cpython -I./sage/ext -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -I./sage/rings -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cypari2 -I./sage/rings/finite_rings -Isage/cpython -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_dense.c -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_dense.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -std=c99 -g -fPIC -Wall -O2 -mmmx -msse -msse2 -msse3 -I/var/lib/buildbot/slave/sage_git/build/local/include/m4ri -I/var/lib/buildbot/slave/sage_git/build/local/include
[sagelib-8.9.beta0] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53,
[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,
[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,
[sagelib-8.9.beta0]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:722:
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function ‘Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]’:
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta0]                                                                  ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta0]                                                                  ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta0]                                              ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta0]                                              ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0] [ 6/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/var/lib/buildbot/slave/sage_git/build/local/include
[sagelib-8.9.beta0] cc1plus: warning: SSE instruction set disabled, using 387 arithmetics
[sagelib-8.9.beta0] error: command 'gcc' failed with exit status 1
[sagelib-8.9.beta0] make[4]: *** [Makefile:33: sage] Error 1
```


Debian 8, 9 32-bit:

```
[sagelib-8.9.beta0] [ 6/13] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/src -I/home/buildbot/slave/sage_git/build/src/sage/ext -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -fpermissive -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/home/buildbot/slave/sage_git/build/local/include
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:1:0: warning: SSE instruction set disabled, using 387 arithmetics
[sagelib-8.9.beta0]  /* Generated by Cython 0.29.10 */
[sagelib-8.9.beta0]  ^
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp: In function ‘PyObject* __pyx_pf_4sage_6matrix_21matrix_integer_sparse_21Matrix_integer_sparse_30_rank_linbox(__pyx_obj_4sage_6matrix_21matrix_integer_sparse_Matrix_integer_sparse*)’:
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: error: no matching function for call to ‘rank(long unsigned int&, LinBox::SparseMatrix<Givaro::ZRing<Givaro::Integer> >&)’
[sagelib-8.9.beta0]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_M[0])));
[sagelib-8.9.beta0]                                                 ^
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: note: candidates are:
[sagelib-8.9.beta0] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.9.beta0]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.9.beta0]                  from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:4384:
[sagelib-8.9.beta0] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)
[sagelib-8.9.beta0]   inline size_t &rank (size_t &r, const Blackbox &A,
[sagelib-8.9.beta0]                  ^
```



---

archive/issue_comments_415209.json:
```json
{
    "body": "Changed commit from **[`7848156`](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)** to **[`43e1b7f`](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)**",
    "created_at": "2019-07-04T12:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415209",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`7848156`](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)** to **[`43e1b7f`](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)**



---

archive/issue_comments_415210.json:
```json
{
    "body": "<div id=\"comment:57\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc\">43e1b7f</a></td><td><code>fix ulong->size_t bug in 32 bits debian 8,9</code></td></tr></table>\n",
    "created_at": "2019-07-04T12:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415210",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:57"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc">43e1b7f</a></td><td><code>fix ulong->size_t bug in 32 bits debian 8,9</code></td></tr></table>




---

archive/issue_comments_415211.json:
```json
{
    "body": "<div id=\"comment:58\" align=\"right\">comment:58</div>\n\nI pushed a fix to the second bug (size_t vs unsigned long in calling `LinBox::rank`). I'm still waiting for a build of sage on a 32 bit ubuntu to finish, to confirm that the bug is no longer there.\n\nAs for the first bug, do you confirm that it only shows up in Debian 10 ?\nI have no clue what is going on there, and can not reproduce it as I don't have a 32 bit Debian at hand. Looking at other instances of the bug, it seems related to asm code explicitly using some registers (like %ebx) that gcc reserves for PIC offsets. Altough the `umul_ppmm` indeed uses some asm code (in reclonglong.h) in does not use %ebx explicitly, and more surprisingly, the other error, for `udiv_qrnd` does not involve any asm code.\n\nThis part of givaro's code is not used in Sage, so an easy fix is to comment out line 26 of `givaro/src/kernel/ring/modular.h`.",
    "created_at": "2019-07-04T14:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415211",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:58" align="right">comment:58</div>

I pushed a fix to the second bug (size_t vs unsigned long in calling `LinBox::rank`). I'm still waiting for a build of sage on a 32 bit ubuntu to finish, to confirm that the bug is no longer there.

As for the first bug, do you confirm that it only shows up in Debian 10 ?
I have no clue what is going on there, and can not reproduce it as I don't have a 32 bit Debian at hand. Looking at other instances of the bug, it seems related to asm code explicitly using some registers (like %ebx) that gcc reserves for PIC offsets. Altough the `umul_ppmm` indeed uses some asm code (in reclonglong.h) in does not use %ebx explicitly, and more surprisingly, the other error, for `udiv_qrnd` does not involve any asm code.

This part of givaro's code is not used in Sage, so an easy fix is to comment out line 26 of `givaro/src/kernel/ring/modular.h`.



---

archive/issue_comments_415212.json:
```json
{
    "body": "Changed commit from **[`43e1b7f`](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)** to **[`b022142`](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)**",
    "created_at": "2019-07-05T07:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415212",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`43e1b7f`](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)** to **[`b022142`](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)**



---

archive/issue_comments_415213.json:
```json
{
    "body": "<div id=\"comment:59\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702\">b022142</a></td><td><code>fix ulong -> size_t</code></td></tr></table>\n",
    "created_at": "2019-07-05T07:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415213",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:59"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702">b022142</a></td><td><code>fix ulong -> size_t</code></td></tr></table>




---

archive/issue_comments_415214.json:
```json
{
    "body": "<div id=\"comment:60\" align=\"right\">comment:60</div>\n\nI added a fix to another size_t issue. I confirm that the current branch compiles and passes the test-suite on a 32 bit ubuntu xenial I could have access to.",
    "created_at": "2019-07-05T15:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415214",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:60" align="right">comment:60</div>

I added a fix to another size_t issue. I confirm that the current branch compiles and passes the test-suite on a 32 bit ubuntu xenial I could have access to.



---

archive/issue_comments_415215.json:
```json
{
    "body": "<div id=\"comment:61\" align=\"right\">comment:61</div>\n\nYes, I get the error only on Debian 10 32-bit. Thats gcc 8.3.0. My guess would be that all sufficiently new compiler versions fail. The next oldest 32-bit machine is Ubuntu 18 / gcc 7.3.0 and that passes.\n\nI don't think the error is about EBX, you are free to use it in inline asm as long as you restore it (at least on gcc >=5 and as long as you don't make function calls / use the PLT).\n\nI haven't tried to figure out which of the many inline asm implementations is selected but various do specify constraints `\"=&r\" (sl)` which maybe be inconsistent (presumably meaning unsatisfyable).",
    "created_at": "2019-07-06T12:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415215",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:61" align="right">comment:61</div>

Yes, I get the error only on Debian 10 32-bit. Thats gcc 8.3.0. My guess would be that all sufficiently new compiler versions fail. The next oldest 32-bit machine is Ubuntu 18 / gcc 7.3.0 and that passes.

I don't think the error is about EBX, you are free to use it in inline asm as long as you restore it (at least on gcc >=5 and as long as you don't make function calls / use the PLT).

I haven't tried to figure out which of the many inline asm implementations is selected but various do specify constraints `"=&r" (sl)` which maybe be inconsistent (presumably meaning unsatisfyable).



---

archive/issue_comments_415216.json:
```json
{
    "body": "Changed commit from **[`b022142`](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)** to **[`8dbef68`](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)**",
    "created_at": "2019-07-16T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415216",
    "user": "https://github.com/isuruf"
}
```

Changed commit from **[`b022142`](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)** to **[`8dbef68`](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)**



---

archive/issue_events_370059.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-16T17:49:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370059"
}
```



---

archive/issue_events_370060.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-16T17:49:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370060"
}
```



---

archive/issue_comments_415217.json:
```json
{
    "body": "<div id=\"comment:62\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0616252dd7915e1a46cfe4c8bc7856ecca1eff48\">0616252</a></td><td><code>Merge remote-tracking branch 'trac/develop' into u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e\">8dbef68</a></td><td><code>Avoid modular-ruint.h</code></td></tr></table>\n",
    "created_at": "2019-07-16T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415217",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:62"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0616252dd7915e1a46cfe4c8bc7856ecca1eff48">0616252</a></td><td><code>Merge remote-tracking branch 'trac/develop' into u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e">8dbef68</a></td><td><code>Avoid modular-ruint.h</code></td></tr></table>




---

archive/issue_comments_415218.json:
```json
{
    "body": "Changed branch from **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)**",
    "created_at": "2019-07-16T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415218",
    "user": "https://github.com/isuruf"
}
```

Changed branch from **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)**



---

archive/issue_events_370061.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-07-16T22:21:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370061"
}
```



---

archive/issue_events_370062.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-07-16T22:21:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370062"
}
```



---

archive/issue_comments_415219.json:
```json
{
    "body": "<div id=\"comment:63\" align=\"right\">comment:63</div>\n\nLet's try it again.",
    "created_at": "2019-07-16T22:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415219",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:63" align="right">comment:63</div>

Let's try it again.



---

archive/issue_comments_415220.json:
```json
{
    "body": "<div id=\"comment:64\" align=\"right\">comment:64</div>\n\nOk, I finally got some time to get back to this problem. I doubt the fix above will work (I tried on a 32bit box and it still fails, as recint is also included in fflas-ffpack).\n\nThe problem is that two copies of the file longlong.h from GNU GMP are shipped: one in flint (longlong.h) and one in givaro (reclonglong.h). Flint has stripped down the file to a minimalistic set of definitions while givaro's version is the complete original one.\n\nThe problem is that these file define macros in the global namespace and conflict one with the other. I therefore added a `#ifdef add_ssaaaa` in givaro's reclonglong.h to yield whenever flint's longlong.h was already included.\n\nHowever, givaro's forces the NO_ASM macro which skips all ASM dependent defines and makes the calls to `umul_ppmm` and other also work on i386 even when passed 64 bits ints. However, flint longlong.h removed the NO_ASM section, and therefore compiles the ASM variants of these routines, thus triggering the compilation failure.\nI will fix givaro's `reclonglong.h` so that it undefs the symbols conflicting with flint and redefines them in its own way.",
    "created_at": "2019-07-17T15:37:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415220",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:64" align="right">comment:64</div>

Ok, I finally got some time to get back to this problem. I doubt the fix above will work (I tried on a 32bit box and it still fails, as recint is also included in fflas-ffpack).

The problem is that two copies of the file longlong.h from GNU GMP are shipped: one in flint (longlong.h) and one in givaro (reclonglong.h). Flint has stripped down the file to a minimalistic set of definitions while givaro's version is the complete original one.

The problem is that these file define macros in the global namespace and conflict one with the other. I therefore added a `#ifdef add_ssaaaa` in givaro's reclonglong.h to yield whenever flint's longlong.h was already included.

However, givaro's forces the NO_ASM macro which skips all ASM dependent defines and makes the calls to `umul_ppmm` and other also work on i386 even when passed 64 bits ints. However, flint longlong.h removed the NO_ASM section, and therefore compiles the ASM variants of these routines, thus triggering the compilation failure.
I will fix givaro's `reclonglong.h` so that it undefs the symbols conflicting with flint and redefines them in its own way.



---

archive/issue_comments_415221.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">comment:65</div>\n\nFix doesn't work, for the record. Still fails with the \n\n```\n[sagelib-8.9.beta2] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53:0,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/field-traits.h:30,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/gf2.h:40,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream-gf2.h:77,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream.h:872,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:42,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79,\n[sagelib-8.9.beta2]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:727:\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function \u2018Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]\u2019:\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta2]                                                                  ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta2]                                                                  ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta2]                                              ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta2]                                              ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n```",
    "created_at": "2019-07-18T21:02:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415221",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:65" align="right">comment:65</div>

Fix doesn't work, for the record. Still fails with the 

```
[sagelib-8.9.beta2] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53:0,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/field-traits.h:30,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/gf2.h:40,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream-gf2.h:77,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream.h:872,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:42,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79,
[sagelib-8.9.beta2]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:727:
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function ‘Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]’:
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta2]                                                                  ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta2]                                                                  ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta2]                                              ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta2]                                              ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
```



---

archive/issue_events_370063.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T21:02:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370063"
}
```



---

archive/issue_events_370064.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T21:02:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370064"
}
```



---

archive/issue_comments_415222.json:
```json
{
    "body": "Changed branch from **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)** to **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)**",
    "created_at": "2019-07-19T14:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415222",
    "user": "https://github.com/ClementPernet"
}
```

Changed branch from **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)** to **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)**



---

archive/issue_comments_415223.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">comment:67</div>\n\nI pushed a patch to givaro, which basically changes the name on givaro's side of all macros which definition where in conflict between flint (longlong.h) and givaro (reclonglong.h) by prefixing them with `recint_`.\n\nThis change solves the problem on the 32bit ubuntu machine where I could reproduce the bug.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef\">ead33ba</a></td><td><code>fixing double definition of macros between flint and givaro by isolating givaro's with recint_ prefix</code></td></tr></table>\n",
    "created_at": "2019-07-19T14:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415223",
    "user": "https://github.com/ClementPernet"
}
```

<div id="comment:67" align="right">comment:67</div>

I pushed a patch to givaro, which basically changes the name on givaro's side of all macros which definition where in conflict between flint (longlong.h) and givaro (reclonglong.h) by prefixing them with `recint_`.

This change solves the problem on the 32bit ubuntu machine where I could reproduce the bug.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef">ead33ba</a></td><td><code>fixing double definition of macros between flint and givaro by isolating givaro's with recint_ prefix</code></td></tr></table>




---

archive/issue_events_370065.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-07-19T14:38:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370065"
}
```



---

archive/issue_events_370066.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-07-19T14:38:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370066"
}
```



---

archive/issue_comments_415224.json:
```json
{
    "body": "Changed commit from **[`8dbef68`](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)** to **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**",
    "created_at": "2019-07-19T14:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415224",
    "user": "https://github.com/ClementPernet"
}
```

Changed commit from **[`8dbef68`](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)** to **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**



---

archive/issue_comments_415225.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">comment:68</div>\n\nThanks. @vbraun, can you review this?",
    "created_at": "2019-07-24T01:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415225",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:68" align="right">comment:68</div>

Thanks. @vbraun, can you review this?



---

archive/issue_comments_415226.json:
```json
{
    "body": "<div id=\"comment:69\" align=\"right\">comment:69</div>\n\nWith this branch and using sagelib built against system libraries, I'm getting\n\n```\nFile \"/usr/lib/python2.7/site-packages/sage/matrix/matrix_double_dense.pyx\", line 2517, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary\nFailed example:\n    P.is_unitary(algorithm='orthonormal')\nExpected:\n    Traceback (most recent call last):\n    ...\n    error: ((lwork==-1)||(lwork >= MAX(1,2*n))) failed for 3rd keyword lwork: zgees:lwork=0\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1105, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary[23]>\", line 1, in <module>\n        P.is_unitary(algorithm='orthonormal')\n      File \"sage/matrix/matrix_double_dense.pyx\", line 2568, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary (build/cythonized/sage/matrix/matrix_double_dense.c:16152)\n        _, T = self.schur(base_ring=sage.rings.complex_double.CDF)\n      File \"sage/matrix/matrix_double_dense.pyx\", line 3268, in sage.matrix.matrix_double_dense.Matrix_double_dense.schur (build/cythonized/sage/matrix/matrix_double_dense.c:19274)\n        T._matrix_numpy, Q._matrix_numpy = scipy.linalg.schur(self._matrix_numpy, output=format)\n      File \"/usr/lib/python2.7/site-packages/scipy/linalg/decomp_schur.py\", line 139, in schur\n        result = gees(lambda x: None, a1, lwork=-1)\n    ValueError: On entry to ZGEES parameter number 6 had an illegal value\n```\nAny ideas?",
    "created_at": "2019-07-24T14:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415226",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:69" align="right">comment:69</div>

With this branch and using sagelib built against system libraries, I'm getting

```
File "/usr/lib/python2.7/site-packages/sage/matrix/matrix_double_dense.pyx", line 2517, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary
Failed example:
    P.is_unitary(algorithm='orthonormal')
Expected:
    Traceback (most recent call last):
    ...
    error: ((lwork==-1)||(lwork >= MAX(1,2*n))) failed for 3rd keyword lwork: zgees:lwork=0
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 1105, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary[23]>", line 1, in <module>
        P.is_unitary(algorithm='orthonormal')
      File "sage/matrix/matrix_double_dense.pyx", line 2568, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary (build/cythonized/sage/matrix/matrix_double_dense.c:16152)
        _, T = self.schur(base_ring=sage.rings.complex_double.CDF)
      File "sage/matrix/matrix_double_dense.pyx", line 3268, in sage.matrix.matrix_double_dense.Matrix_double_dense.schur (build/cythonized/sage/matrix/matrix_double_dense.c:19274)
        T._matrix_numpy, Q._matrix_numpy = scipy.linalg.schur(self._matrix_numpy, output=format)
      File "/usr/lib/python2.7/site-packages/scipy/linalg/decomp_schur.py", line 139, in schur
        result = gees(lambda x: None, a1, lwork=-1)
    ValueError: On entry to ZGEES parameter number 6 had an illegal value
```
Any ideas?



---

archive/issue_comments_415227.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">comment:70</div>\n\nYes. It is not related to this ticket but to the way we sometimes package openblas in distro compared to sage. I have had this doctest failure for several months now. https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-30999803 has some gory details if you get down in it. The culprit is not so much sage than it is scipy in a way. It is all down to the `xerbla` routine effectively used https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-31035447 and after.\n\nIn any case this is not related to this ticket.",
    "created_at": "2019-07-24T20:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415227",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:70" align="right">comment:70</div>

Yes. It is not related to this ticket but to the way we sometimes package openblas in distro compared to sage. I have had this doctest failure for several months now. https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-30999803 has some gory details if you get down in it. The culprit is not so much sage than it is scipy in a way. It is all down to the `xerbla` routine effectively used https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-31035447 and after.

In any case this is not related to this ticket.



---

archive/issue_comments_415228.json:
```json
{
    "body": "<div id=\"comment:71\" align=\"right\">comment:71</div>\n\nReplying to [@kiwifb](#comment:70):\n \n> In any case this is not related to this ticket.\n\nAfter some investigation, in my case this turned out to be caused by linking fflas-ffpack with --as-needed - apparently this strips a bit too many linked libs. I started linking with --as-needed with the 2.4.0 update so that made me think it was related to the upgrade.",
    "created_at": "2019-07-24T22:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415228",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:71" align="right">comment:71</div>

Replying to [@kiwifb](#comment:70):
 
> In any case this is not related to this ticket.

After some investigation, in my case this turned out to be caused by linking fflas-ffpack with --as-needed - apparently this strips a bit too many linked libs. I started linking with --as-needed with the 2.4.0 update so that made me think it was related to the upgrade.



---

archive/issue_comments_415229.json:
```json
{
    "body": "<div id=\"comment:72\" align=\"right\">comment:72</div>\n\nThat's very strange because the failure above occurs during a call to a function in scipy. It is supposed to fail but the error message and the point it break is different depending on the version of `xerbla` (C or Fortran) used.",
    "created_at": "2019-07-24T22:03:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415229",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:72" align="right">comment:72</div>

That's very strange because the failure above occurs during a call to a function in scipy. It is supposed to fail but the error message and the point it break is different depending on the version of `xerbla` (C or Fortran) used.



---

archive/issue_comments_415230.json:
```json
{
    "body": "<div id=\"comment:73\" align=\"right\">comment:73</div>\n\nI guess the linking may influence the order things are loaded in memory and privilege a call over another.",
    "created_at": "2019-07-24T22:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415230",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:73" align="right">comment:73</div>

I guess the linking may influence the order things are loaded in memory and privilege a call over another.



---

archive/issue_comments_415231.json:
```json
{
    "body": "<div id=\"comment:74\" align=\"right\">comment:74</div>\n\nNumpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue",
    "created_at": "2019-07-24T22:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415231",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:74" align="right">comment:74</div>

Numpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue



---

archive/issue_comments_415232.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">comment:75</div>\n\nReplying to [@isuruf](#comment:74):\n> Numpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue\n\nI didn't know that. In that case the over-ridding is obviously not working under some conditions. Is it a bug in sage, scipy or numpy? Digging this a bit more.",
    "created_at": "2019-07-24T22:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415232",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:75" align="right">comment:75</div>

Replying to [@isuruf](#comment:74):
> Numpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue

I didn't know that. In that case the over-ridding is obviously not working under some conditions. Is it a bug in sage, scipy or numpy? Digging this a bit more.



---

archive/issue_comments_415233.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">comment:76</div>\n\nActually, the numpy source file you are pointing to gives the error message we see in some sage-on-distros as opposed to the one seen in vanilla sage. The source file is in two places in numpy. Once in linalg/lapack_lite which seems to indicate that this is used when numpy is configured without an external lapack. The other copy is in core/src/common, it is unclear if it is always compiled or not at this stage.",
    "created_at": "2019-07-24T22:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415233",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:76" align="right">comment:76</div>

Actually, the numpy source file you are pointing to gives the error message we see in some sage-on-distros as opposed to the one seen in vanilla sage. The source file is in two places in numpy. Once in linalg/lapack_lite which seems to indicate that this is used when numpy is configured without an external lapack. The other copy is in core/src/common, it is unclear if it is always compiled or not at this stage.



---

archive/issue_comments_415234.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">comment:77</div>\n\nI'd say `python_xerbla.c` is always compiled. This is from `core/src/common/setupy.py`\n\n```\n    blas_info = get_info('blas_opt', 0)\n    if blas_info and ('HAVE_CBLAS', None) in blas_info.get('define_macros', []):\n        extra_info = blas_info\n        # These files are also in MANIFEST.in so that they are always in\n        # the source distribution independently of HAVE_CBLAS.\n        common_src.extend([join('src', 'common', 'cblasfuncs.c'),\n                           join('src', 'common', 'python_xerbla.c'),\n                          ])\n        if uses_accelerate_framework(blas_info):\n            common_src.extend(get_sgemv_fix())\n    else:\n        extra_info = {}\n```\nFor those who don't know, numpy's build system sets `-DHAVE_CBLAS=NONE` when blas/lapack is found :) When no blas/lapack is provided found, `HAVE_CBLAS` is undefined.\n\nThe `xerbla_` symbol is inserted in `numpy/core/_multiarray_umath.so`. But from experience the scipy call that can give the differing messages never use that and must load a version from blas/lapack otherwise we would never see this difference.",
    "created_at": "2019-07-24T22:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415234",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:77" align="right">comment:77</div>

I'd say `python_xerbla.c` is always compiled. This is from `core/src/common/setupy.py`

```
    blas_info = get_info('blas_opt', 0)
    if blas_info and ('HAVE_CBLAS', None) in blas_info.get('define_macros', []):
        extra_info = blas_info
        # These files are also in MANIFEST.in so that they are always in
        # the source distribution independently of HAVE_CBLAS.
        common_src.extend([join('src', 'common', 'cblasfuncs.c'),
                           join('src', 'common', 'python_xerbla.c'),
                          ])
        if uses_accelerate_framework(blas_info):
            common_src.extend(get_sgemv_fix())
    else:
        extra_info = {}
```
For those who don't know, numpy's build system sets `-DHAVE_CBLAS=NONE` when blas/lapack is found :) When no blas/lapack is provided found, `HAVE_CBLAS` is undefined.

The `xerbla_` symbol is inserted in `numpy/core/_multiarray_umath.so`. But from experience the scipy call that can give the differing messages never use that and must load a version from blas/lapack otherwise we would never see this difference.



---

archive/issue_events_370067.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-30T05:00:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370067"
}
```



---

archive/issue_events_370068.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-30T05:00:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370068"
}
```



---

archive/issue_comments_415235.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">comment:78</div>\n\nPutting this into positive review, so that it's tested again.",
    "created_at": "2019-07-30T05:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415235",
    "user": "https://github.com/isuruf"
}
```

<div id="comment:78" align="right">comment:78</div>

Putting this into positive review, so that it's tested again.



---

archive/issue_comments_415236.json:
```json
{
    "body": "Changed branch from **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)** to **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**",
    "created_at": "2019-08-01T22:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415236",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)** to **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**



---

archive/issue_events_370069.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-01T22:55:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370069"
}
```



---

archive/issue_events_370070.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "27a54e331abf741a3c20997694f436906e754c1f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-08-01T22:55:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-370070"
}
```



---

archive/issue_comments_415237.json:
```json
{
    "body": "Changed commit from **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)** to none",
    "created_at": "2019-08-03T13:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415237",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[`ead33ba`](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)** to none



---

archive/issue_comments_415238.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">comment:80</div>\n\nThis released fixed\n\n```\nsage: m = diagonal_matrix(ZZ, [2] * 46)\nsage: m._det_linbox()\n70368744177664\nsage: m = diagonal_matrix(ZZ, [3] * 100)\nsage: m._det_linbox()\n515377520732011331036461129765621272702107522001\n```\nsee #28318",
    "created_at": "2019-08-03T13:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-415238",
    "user": "https://github.com/videlec"
}
```

<div id="comment:80" align="right">comment:80</div>

This released fixed

```
sage: m = diagonal_matrix(ZZ, [2] * 46)
sage: m._det_linbox()
70368744177664
sage: m = diagonal_matrix(ZZ, [3] * 100)
sage: m._det_linbox()
515377520732011331036461129765621272702107522001
```
see #28318
