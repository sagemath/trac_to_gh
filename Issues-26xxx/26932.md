# Issue 26932: Upgrade to givaro-4.1.1 fflas-ffpack-2.4.3 linbox-1.6.3

archive/issues_026695.json:
```json
{
    "assignees": [],
    "body": "Tarballs of released packages (with appropriate names) can be found at:\n* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2\n* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n\nExample of timing improvements (in seconds) on my laptop running an i7-8650U\n\n* for random square matrices of order n=4000 over GF(4194301) (22 bits)\n\n|               | develop | #26932 |\n|:---------------:|:---------:|:--------:|\n| A * B         |  3.61     |  3.57    |\n| A.det()       |  2.96     |  1.52    |\n| A.echelonize()|  3.59     |  1.86    |\n| A\\b           |  8.9      |  5.13    |\n\n* for random square matrices of order n=4000 over GF(251) (8 bits)\n\n|               | develop | #26932 |\n|:---------------:|:---------:|:--------:|\n| A * B         |  1.59     |  1.5     |\n| A.det()       |  1.54     |  0.731   |\n| A.echelonize()|  1.82     |  0.692   |\n| A\\b           |  3.7      |  1.79    |\n\n\nCC:  @kiwifb @timokau\n\nBranch: **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**\n\nReviewer: **Timo Kaufmann**\n\nAuthor: **Cl\u00e9ment Pernet**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26932_\n\n",
    "closed_at": "2019-08-01T22:55:03Z",
    "created_at": "2018-12-21T13:33:55Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.3 linbox-1.6.3",
    "type": "issue",
    "updated_at": "2019-08-03T13:58:49Z",
    "url": "https://github.com/sagemath/sage/issues/26932",
    "user": "https://github.com/ClementPernet"
}
```
Tarballs of released packages (with appropriate names) can be found at:
* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2
* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz

Example of timing improvements (in seconds) on my laptop running an i7-8650U

* for random square matrices of order n=4000 over GF(4194301) (22 bits)

|               | develop | #26932 |
|:---------------:|:---------:|:--------:|
| A * B         |  3.61     |  3.57    |
| A.det()       |  2.96     |  1.52    |
| A.echelonize()|  3.59     |  1.86    |
| A\b           |  8.9      |  5.13    |

* for random square matrices of order n=4000 over GF(251) (8 bits)

|               | develop | #26932 |
|:---------------:|:---------:|:--------:|
| A * B         |  1.59     |  1.5     |
| A.det()       |  1.54     |  0.731   |
| A.echelonize()|  1.82     |  0.692   |
| A\b           |  3.7      |  1.79    |


CC:  @kiwifb @timokau

Branch: **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**

Reviewer: **Timo Kaufmann**

Author: **Clément Pernet**

_Issue created by migration from https://trac.sagemath.org/ticket/26932_





---

archive/issue_events_351892.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351892"
}
```



---

archive/issue_events_351893.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351893"
}
```



---

archive/issue_events_351894.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351894"
}
```



---

archive/issue_events_351895.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2018-12-21T13:33:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351895"
}
```



---

archive/issue_events_351896.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351896"
}
```



---

archive/issue_events_351897.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351897"
}
```



---

archive/issue_comments_417926.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417926",
    "user": "https://github.com/embray"
}
```

<a id='comment:2'>Comment 2:</a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_417927.json:
```json
{
    "body": "Branch: **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)**",
    "created_at": "2019-02-21T13:04:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417927",
    "user": "https://github.com/ClementPernet"
}
```

Branch: **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)**



---

archive/issue_comments_417928.json:
```json
{
    "body": "Commit: **[f7aa5c0](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)**",
    "created_at": "2019-02-21T16:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417928",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[f7aa5c0](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)**



---

archive/issue_comments_417929.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467\">f7aa5c0</a></td><td><code>fix and clean fetch_int</code></td></tr></table>\n",
    "created_at": "2019-02-21T16:05:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417929",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:4'>Comment 4:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467">f7aa5c0</a></td><td><code>fix and clean fetch_int</code></td></tr></table>




---

archive/issue_comments_417930.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nTarballs of released packages (with appropriate names) can be found at:\n* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz\n* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2\n* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz\n\nI'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.",
    "created_at": "2019-02-21T16:19:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417930",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:5'>Comment 5:</a>
Tarballs of released packages (with appropriate names) can be found at:
* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz
* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2
* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz

I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.



---

archive/issue_comments_417931.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,6 @@\n+Tarballs of released packages (with appropriate names) can be found at:\n+* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz\n+* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2\n+* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz\n \n+I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.\n``````\n",
    "created_at": "2019-02-21T16:20:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417931",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,6 @@
+Tarballs of released packages (with appropriate names) can be found at:
+* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz
+* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2
+* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz
 
+I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.
``````




---

archive/issue_comments_417932.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6\">ff8e058</a></td><td><code>update checksums</code></td></tr></table>\n",
    "created_at": "2019-03-05T09:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417932",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:7'>Comment 7:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6">ff8e058</a></td><td><code>update checksums</code></td></tr></table>




---

archive/issue_comments_417933.json:
```json
{
    "body": "Changed commit from **[f7aa5c0](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)** to **[ff8e058](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)**",
    "created_at": "2019-03-05T09:45:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417933",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f7aa5c0](https://github.com/sagemath/sagetrac-mirror/commit/f7aa5c04a155e8d690a674bd489f43153bd0d467)** to **[ff8e058](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)**



---

archive/issue_comments_417934.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nFor the record, the branch currently breaks several doctests.\n\n```\n----------------------------------------------------------------------\nsage -t src/sage/algebras/free_algebra.py  # 2 doctests failed\nsage -t src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx  # 9 doctests failed\nsage -t src/sage/algebras/letterplace/free_algebra_letterplace.pyx  # 3 doctests failed\nsage -t src/sage/coding/bch.py  # 2 doctests failed\nsage -t src/sage/coding/extended_code.py  # 1 doctest failed\nsage -t src/sage/dynamics/arithmetic_dynamics/generic_ds.py  # 4 doctests failed\nsage -t src/sage/schemes/elliptic_curves/isogeny_small_degree.py  # 1 doctest failed\nsage -t src/sage/schemes/elliptic_curves/ell_curve_isogeny.py  # 1 doctest failed\nsage -t src/sage/schemes/generic/scheme.py  # 2 doctests failed\nsage -t src/sage/schemes/curves/projective_curve.py  # 9 doctests failed\nsage -t src/sage/schemes/hyperelliptic_curves/hyperelliptic_finite_field.py  # 1 doctest failed\nsage -t src/sage/interfaces/sage0.py  # 1 doctest failed\nsage -t src/sage/rings/fraction_field.py  # 1 doctest failed\nsage -t src/sage/rings/polynomial/multi_polynomial.pyx  # 1 doctest failed\nsage -t src/sage/rings/polynomial/flatten.py  # 1 doctest failed\nsage -t src/sage/rings/polynomial/multi_polynomial_ideal.py  # 5 doctests failed\nsage -t src/sage/rings/polynomial/multi_polynomial_element.py  # 1 doctest failed\nsage -t src/sage/crypto/mq/rijndael_gf.py  # 73 doctests failed\n----------------------------------------------------------------------\n```\n\nGivaro::GFqDom seems to be the culprit. I'm working on it.",
    "created_at": "2019-03-05T13:29:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417934",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:8'>Comment 8:</a>
For the record, the branch currently breaks several doctests.

```
----------------------------------------------------------------------
sage -t src/sage/algebras/free_algebra.py  # 2 doctests failed
sage -t src/sage/algebras/letterplace/free_algebra_element_letterplace.pyx  # 9 doctests failed
sage -t src/sage/algebras/letterplace/free_algebra_letterplace.pyx  # 3 doctests failed
sage -t src/sage/coding/bch.py  # 2 doctests failed
sage -t src/sage/coding/extended_code.py  # 1 doctest failed
sage -t src/sage/dynamics/arithmetic_dynamics/generic_ds.py  # 4 doctests failed
sage -t src/sage/schemes/elliptic_curves/isogeny_small_degree.py  # 1 doctest failed
sage -t src/sage/schemes/elliptic_curves/ell_curve_isogeny.py  # 1 doctest failed
sage -t src/sage/schemes/generic/scheme.py  # 2 doctests failed
sage -t src/sage/schemes/curves/projective_curve.py  # 9 doctests failed
sage -t src/sage/schemes/hyperelliptic_curves/hyperelliptic_finite_field.py  # 1 doctest failed
sage -t src/sage/interfaces/sage0.py  # 1 doctest failed
sage -t src/sage/rings/fraction_field.py  # 1 doctest failed
sage -t src/sage/rings/polynomial/multi_polynomial.pyx  # 1 doctest failed
sage -t src/sage/rings/polynomial/flatten.py  # 1 doctest failed
sage -t src/sage/rings/polynomial/multi_polynomial_ideal.py  # 5 doctests failed
sage -t src/sage/rings/polynomial/multi_polynomial_element.py  # 1 doctest failed
sage -t src/sage/crypto/mq/rijndael_gf.py  # 73 doctests failed
----------------------------------------------------------------------
```

Givaro::GFqDom seems to be the culprit. I'm working on it.



---

archive/issue_events_351898.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351898"
}
```



---

archive/issue_events_351899.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351899"
}
```



---

archive/issue_comments_417935.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417935",
    "user": "https://github.com/embray"
}
```

<a id='comment:9'>Comment 9:</a>
Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_comments_417936.json:
```json
{
    "body": "Changed commit from **[ff8e058](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)** to **[e879bfe](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)**",
    "created_at": "2019-04-04T16:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417936",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ff8e058](https://github.com/sagemath/sagetrac-mirror/commit/ff8e05871c467be7803fd0457a870f54456c58e6)** to **[e879bfe](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)**



---

archive/issue_comments_417937.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b\">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr></table>\n",
    "created_at": "2019-04-04T16:15:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417937",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:10'>Comment 10:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr></table>




---

archive/issue_comments_417938.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nFor the record, the source of the above-mentionned bugs has been identified to a change in givaro GFqDom interface. It has been fixed now, and we can move forward on this ticket.",
    "created_at": "2019-05-02T07:09:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417938",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:11'>Comment 11:</a>
For the record, the source of the above-mentionned bugs has been identified to a change in givaro GFqDom interface. It has been fixed now, and we can move forward on this ticket.



---

archive/issue_comments_417939.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nI don't suppose any of these are tested on Cygwin?  I'm happy to do so if not, I just wondered.",
    "created_at": "2019-05-02T14:17:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417939",
    "user": "https://github.com/embray"
}
```

<a id='comment:12'>Comment 12:</a>
I don't suppose any of these are tested on Cygwin?  I'm happy to do so if not, I just wondered.



---

archive/issue_comments_417940.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nThe 3 libraries are tested on cygwin. We currently have an unsolved bug of fflas-ffpack which seem to be cygwin specific: [https://github.com/linbox-team/fflas-ffpack/issues/248](https://github.com/linbox-team/fflas-ffpack/issues/248)\n\nHowever, I personnaly don't have a cygwin box on which I could test this ticket, so I appreciate your proposition to test the ticket once I put it in \"needs review\", or shortly before doing so.",
    "created_at": "2019-05-02T14:53:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417940",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:13'>Comment 13:</a>
The 3 libraries are tested on cygwin. We currently have an unsolved bug of fflas-ffpack which seem to be cygwin specific: [https://github.com/linbox-team/fflas-ffpack/issues/248](https://github.com/linbox-team/fflas-ffpack/issues/248)

However, I personnaly don't have a cygwin box on which I could test this ticket, so I appreciate your proposition to test the ticket once I put it in "needs review", or shortly before doing so.



---

archive/issue_comments_417941.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nThanks Clement, will do.  I'll also have a look at that bug.",
    "created_at": "2019-05-03T14:07:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417941",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'>Comment 14:</a>
Thanks Clement, will do.  I'll also have a look at that bug.



---

archive/issue_comments_417942.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,4 @@\n Tarballs of released packages (with appropriate names) can be found at:\n-* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz\n-* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2\n-* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz\n-\n-I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.\n+* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz\n``````\n",
    "created_at": "2019-05-10T16:13:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417942",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,4 @@
 Tarballs of released packages (with appropriate names) can be found at:
-* https://ljk.imag.fr/membres/Clement.Pernet/soft/givaro-4.1.0rc0.tar.gz
-* https://ljk.imag.fr/membres/Clement.Pernet/soft/fflas_ffpack-2.4.0rc0.tar.bz2
-* https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.0rc0.tar.gz
-
-I'll release the 3 libraries soon, but I meant to check that they could be smoothly updating into sage before hand, therefore this ticket proposes to apply the rc0 versions temporarily. Once everything is in order, I'll cut the releases, and checksums accordingly in this branch.
+* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
+* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz
``````




---

archive/issue_comments_417943.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582\">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9\">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c\">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6\">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c\">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504\">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr></table>\n",
    "created_at": "2019-05-10T16:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417943",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:16'>Comment 16:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr></table>




---

archive/issue_comments_417944.json:
```json
{
    "body": "Changed commit from **[e879bfe](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)** to **[c11d9cf](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)**",
    "created_at": "2019-05-10T16:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417944",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[e879bfe](https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b)** to **[c11d9cf](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)**



---

archive/issue_comments_417945.json:
```json
{
    "body": "Author: **Cl\u00e9ment Pernet**",
    "created_at": "2019-05-10T16:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417945",
    "user": "https://github.com/ClementPernet"
}
```

Author: **Clément Pernet**



---

archive/issue_comments_417946.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nI have just released the 3 libraries and updated the sage bindings accordingly.\nSage test suite passes on my box. The ticket is ready for review.\nI may post later on some benchmarks advertising the performance gain from this update.",
    "created_at": "2019-05-10T16:16:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417946",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:17'>Comment 17:</a>
I have just released the 3 libraries and updated the sage bindings accordingly.
Sage test suite passes on my box. The ticket is ready for review.
I may post later on some benchmarks advertising the performance gain from this update.



---

archive/issue_events_351900.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-05-10T16:16:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351900"
}
```



---

archive/issue_comments_417947.json:
```json
{
    "body": "Changed commit from **[c11d9cf](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)** to **[058bfb3](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)**",
    "created_at": "2019-05-13T14:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417947",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[c11d9cf](https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504)** to **[058bfb3](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)**



---

archive/issue_comments_417948.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6\">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr></table>\n",
    "created_at": "2019-05-13T14:32:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417948",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:19'>Comment 19:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr></table>




---

archive/issue_events_351901.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-05-13T14:36:53Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.1",
    "title_was": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351901"
}
```



---

archive/issue_comments_417949.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nUpdate: I realized that there was a mismatch between the tar.gz on github and the published md5, sha1 and cksum checks. I updated the tar.gz of the three libraries to their actual values on github. \n\nIn addition, we fixed some minor issues in the linbox-auto-install and the dependency version checking  system and therefore release 1.6.1 consequently. I have thus updated this ticket to linbox-1.6.1 accordingly.",
    "created_at": "2019-05-13T14:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417949",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:20'>Comment 20:</a>
Update: I realized that there was a mismatch between the tar.gz on github and the published md5, sha1 and cksum checks. I updated the tar.gz of the three libraries to their actual values on github. 

In addition, we fixed some minor issues in the linbox-auto-install and the dependency version checking  system and therefore release 1.6.1 consequently. I have thus updated this ticket to linbox-1.6.1 accordingly.



---

archive/issue_comments_417950.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n-* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz\n``````\n",
    "created_at": "2019-05-13T14:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417950",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
 * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
-* https://github.com/linbox-team/linbox/releases/download/v1.6.0/linbox-1.6.0.tar.gz
+* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz
``````




---

archive/issue_comments_417951.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nFor what it's wroth the linbox 1.6.0 update broke the build *on nixos* for [darwin](https://nix-cache.s3.amazonaws.com/log/qjcscs69g4qayfadz8lagxa0nxjm0hc6-linbox-1.6.0.drv) and [aarch64](https://nix-cache.s3.amazonaws.com/log/ifhzq8jqhcrz81y75cvxz9rs6dws5hny-linbox-1.6.0.drv). That may be an issue for sage as well.",
    "created_at": "2019-05-13T17:37:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417951",
    "user": "https://github.com/timokau"
}
```

<a id='comment:21'>Comment 21:</a>
For what it's wroth the linbox 1.6.0 update broke the build *on nixos* for [darwin](https://nix-cache.s3.amazonaws.com/log/qjcscs69g4qayfadz8lagxa0nxjm0hc6-linbox-1.6.0.drv) and [aarch64](https://nix-cache.s3.amazonaws.com/log/ifhzq8jqhcrz81y75cvxz9rs6dws5hny-linbox-1.6.0.drv). That may be an issue for sage as well.



---

archive/issue_comments_417952.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nThanks for the feedback.\n- for the darwin bug, this is a bug in the test-suite file tests/test-qlup.C which I just fixed upstream. It does not have any impact on the main library itself.\n- for the aarch64 bug, it seems that some SIMD has been detected at configure time by reading hte CPUID (SSE2 enabled), but the definition of the `__m128i` type is absent. The header file with these definition should be included in `fflas-ffpack/utils/fflas_intrinsic.h` where I read that `arm_neon.h` gets included. However its seems that the intrinsics there are totally different from the intel/amd ones (I have no experience with ARM). I guess you will hit the same bugs building fflas-ffpack and givaro don't you? And they probably already existed with linbox-1.5.2 fflas-ffpack-2.3.2, givaro-4.0.4. As an easy fix I suggest to force disable these SIMD at configure time (`--disable-sse --disable-sse2`). If no-one with experience on ARM and SIMD can help enabling it, I will then auto-disable these simd in the configure scripts when ARM target is detected. Bug reported upstream https://github.com/linbox-team/linbox/issues/215",
    "created_at": "2019-05-14T14:16:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417952",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:22'>Comment 22:</a>
Thanks for the feedback.
- for the darwin bug, this is a bug in the test-suite file tests/test-qlup.C which I just fixed upstream. It does not have any impact on the main library itself.
- for the aarch64 bug, it seems that some SIMD has been detected at configure time by reading hte CPUID (SSE2 enabled), but the definition of the `__m128i` type is absent. The header file with these definition should be included in `fflas-ffpack/utils/fflas_intrinsic.h` where I read that `arm_neon.h` gets included. However its seems that the intrinsics there are totally different from the intel/amd ones (I have no experience with ARM). I guess you will hit the same bugs building fflas-ffpack and givaro don't you? And they probably already existed with linbox-1.5.2 fflas-ffpack-2.3.2, givaro-4.0.4. As an easy fix I suggest to force disable these SIMD at configure time (`--disable-sse --disable-sse2`). If no-one with experience on ARM and SIMD can help enabling it, I will then auto-disable these simd in the configure scripts when ARM target is detected. Bug reported upstream https://github.com/linbox-team/linbox/issues/215



---

archive/issue_comments_417953.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nOk scratch what I said about the aarch64 problem. I got confused between the 2 logs and did not realized that no SIMD was detected with the aarch64 build. The bug is much simpler, and I think I fixed it upstream. As I can not test it on an aarch64 system, could you confirm that it is now fixed?\nI built a prerelease https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha0.tar.gz for you to test it. It should fix the two above issues.",
    "created_at": "2019-05-15T07:36:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417953",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:23'>Comment 23:</a>
Ok scratch what I said about the aarch64 problem. I got confused between the 2 logs and did not realized that no SIMD was detected with the aarch64 build. The bug is much simpler, and I think I fixed it upstream. As I can not test it on an aarch64 system, could you confirm that it is now fixed?
I built a prerelease https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha0.tar.gz for you to test it. It should fix the two above issues.



---

archive/issue_comments_417954.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nThanks for looking into this!\n\nThe tarball you linked wasn't able to run tests (apparently some files are missing: `test-smith-form.h: No such file or directory`). Instead I'm testing the [latest](https://github.com/linbox-team/linbox/commit/dd17635a8676794fdaaafe060aaabb91f60bfac4) commit on github.\n\nThis is running on our CI right now (I don't have direct access to aarch64/darwin myself). You can see the status  in the \"checks\" on this [GitHub](../wiki/GitHub) PR: https://github.com/NixOS/nixpkgs/pull/61535",
    "created_at": "2019-05-15T08:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417954",
    "user": "https://github.com/timokau"
}
```

<a id='comment:24'>Comment 24:</a>
Thanks for looking into this!

The tarball you linked wasn't able to run tests (apparently some files are missing: `test-smith-form.h: No such file or directory`). Instead I'm testing the [latest](https://github.com/linbox-team/linbox/commit/dd17635a8676794fdaaafe060aaabb91f60bfac4) commit on github.

This is running on our CI right now (I don't have direct access to aarch64/darwin myself). You can see the status  in the "checks" on this [GitHub](../wiki/GitHub) PR: https://github.com/NixOS/nixpkgs/pull/61535



---

archive/issue_comments_417955.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nI can't believe this one did not get caught earlier. I fixed it upstream and prepared https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha1.tar.gz accordingly in case it helps.",
    "created_at": "2019-05-15T08:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417955",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:25'>Comment 25:</a>
I can't believe this one did not get caught earlier. I fixed it upstream and prepared https://ljk.imag.fr/membres/Clement.Pernet/soft/linbox-1.6.2alpha1.tar.gz accordingly in case it helps.



---

archive/issue_comments_417956.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nWe usually build from the git repository anyways, so it doesn't make much difference.\n\nThe aarch64 build succeeded, but darwin is still failing: https://logs.nix.ci/?key=nixos/nixpkgs.61535&attempt_id=da868da3-0fdc-45df-98b0-7cb18ed6f867",
    "created_at": "2019-05-15T09:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417956",
    "user": "https://github.com/timokau"
}
```

<a id='comment:26'>Comment 26:</a>
We usually build from the git repository anyways, so it doesn't make much difference.

The aarch64 build succeeded, but darwin is still failing: https://logs.nix.ci/?key=nixos/nixpkgs.61535&attempt_id=da868da3-0fdc-45df-98b0-7cb18ed6f867



---

archive/issue_comments_417957.json:
```json
{
    "body": "Changed commit from **[058bfb3](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)** to **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**",
    "created_at": "2019-05-24T08:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417957",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[058bfb3](https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6)** to **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**



---

archive/issue_comments_417958.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9\">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr></table>\n",
    "created_at": "2019-05-24T08:24:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417958",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:27'>Comment 27:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr></table>




---

archive/issue_comments_417959.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n-* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz\n``````\n",
    "created_at": "2019-05-24T08:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417959",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
 * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
-* https://github.com/linbox-team/linbox/releases/download/v1.6.1/linbox-1.6.1.tar.gz
+* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz
``````




---

archive/issue_events_351902.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-05-24T08:27:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.2",
    "title_was": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351902"
}
```



---

archive/issue_comments_417960.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nI released linbox-1.6.2 fixing the bugs raised by gh-timokau  and updated the branch accordingly.",
    "created_at": "2019-05-24T08:27:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417960",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:28'>Comment 28:</a>
I released linbox-1.6.2 fixing the bugs raised by gh-timokau  and updated the branch accordingly.



---

archive/issue_comments_417961.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nI can confirm that those are fixed, thank you!",
    "created_at": "2019-05-24T16:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417961",
    "user": "https://github.com/timokau"
}
```

<a id='comment:29'>Comment 29:</a>
I can confirm that those are fixed, thank you!



---

archive/issue_comments_417962.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,3 +2,24 @@\n * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n * https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz\n+\n+Example of timing improvements (in seconds) on my laptop running an i7-8650U\n+\n+* for random square matrices of order n=4000 over GF(4194301) (22 bits)\n+\n+|               | develop | #26932 |\n+|:---------------:|:---------:|:--------:|\n+| A * B         |  3.57     |  3.61    |\n+| A.det()       |  2.96     |  1.52    |\n+| A.echelonize()|  3.59     |  1.86    |\n+| A\\b           |  8.9     |  5.13    |\n+\n+* for random square matrices of order n=4000 over GF(251) (8 bits)\n+\n+|               | develop | #26932 |\n+|:---------------:|:---------:|:--------:|\n+| A * B         |  1.59     |  1.5     |\n+| A.det()       |  1.54     |  0.731   |\n+| A.echelonize()|  1.82     |  0.692   |\n+| A\\b           |  3.7      |  1.79    |\n+\n``````\n",
    "created_at": "2019-05-29T08:42:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417962",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,3 +2,24 @@
 * https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
 * https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
 * https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz
+
+Example of timing improvements (in seconds) on my laptop running an i7-8650U
+
+* for random square matrices of order n=4000 over GF(4194301) (22 bits)
+
+|               | develop | #26932 |
+|:---------------:|:---------:|:--------:|
+| A * B         |  3.57     |  3.61    |
+| A.det()       |  2.96     |  1.52    |
+| A.echelonize()|  3.59     |  1.86    |
+| A\b           |  8.9     |  5.13    |
+
+* for random square matrices of order n=4000 over GF(251) (8 bits)
+
+|               | develop | #26932 |
+|:---------------:|:---------:|:--------:|
+| A * B         |  1.59     |  1.5     |
+| A.det()       |  1.54     |  0.731   |
+| A.echelonize()|  1.82     |  0.692   |
+| A\b           |  3.7      |  1.79    |
+
``````




---

archive/issue_comments_417963.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,10 +9,10 @@\n \n |               | develop | #26932 |\n |:---------------:|:---------:|:--------:|\n-| A * B         |  3.57     |  3.61    |\n+| A * B         |  3.61     |  3.57    |\n | A.det()       |  2.96     |  1.52    |\n | A.echelonize()|  3.59     |  1.86    |\n-| A\\b           |  8.9     |  5.13    |\n+| A\\b           |  8.9      |  5.13    |\n \n * for random square matrices of order n=4000 over GF(251) (8 bits)\n \n``````\n",
    "created_at": "2019-05-29T08:43:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417963",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,10 +9,10 @@
 
 |               | develop | #26932 |
 |:---------------:|:---------:|:--------:|
-| A * B         |  3.57     |  3.61    |
+| A * B         |  3.61     |  3.57    |
 | A.det()       |  2.96     |  1.52    |
 | A.echelonize()|  3.59     |  1.86    |
-| A\b           |  8.9     |  5.13    |
+| A\b           |  8.9      |  5.13    |
 
 * for random square matrices of order n=4000 over GF(251) (8 bits)
 
``````




---

archive/issue_comments_417964.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nIs someone who has already looked at it willing to set this to a positive review? Otherwise I will doublecheck things on my (ubuntu) machine and then flip it positive.",
    "created_at": "2019-05-30T00:06:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417964",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'>Comment 32:</a>
Is someone who has already looked at it willing to set this to a positive review? Otherwise I will doublecheck things on my (ubuntu) machine and then flip it positive.



---

archive/issue_comments_417965.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nThanks!",
    "created_at": "2019-05-30T17:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417965",
    "user": "https://github.com/timokau"
}
```

<a id='comment:33'>Comment 33:</a>
Thanks!



---

archive/issue_events_351903.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2019-05-30T17:16:07Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351903"
}
```



---

archive/issue_events_351904.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2019-05-30T17:16:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351904"
}
```



---

archive/issue_comments_417966.json:
```json
{
    "body": "Reviewer: **Timo Kaufmann**",
    "created_at": "2019-05-30T17:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417966",
    "user": "https://github.com/timokau"
}
```

Reviewer: **Timo Kaufmann**



---

archive/issue_comments_417967.json:
```json
{
    "body": "Changed branch from **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)** to **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**",
    "created_at": "2019-06-02T22:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417967",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0)** to **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**



---

archive/issue_events_351905.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-02T22:04:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351905"
}
```



---

archive/issue_events_351906.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-02T22:04:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351906"
}
```



---

archive/issue_comments_417968.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nI was going to report that I had this issue testing linbox in gentoo\n\n```\nx86_64-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..  -DLinBoxTestOnly -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -g -DNDEBUG -U_LB_DEBUG -I.. -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -fopenmp -DFFLAS_COMPILED -DFFPACK_COMPILED -fabi-version=6 -I/usr/include/openblas        -march=native -O2 -pipe  -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2 -mfma -c -o test-serialization.o test-serialization.C\ntest-serialization.C:32:10: fatal error: linbox/util/serialization.h: No such file or directory\n   32 | #include \"linbox/util/serialization.h\"\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n```\nI see that a fix has been committed in linbox [https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815](https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815) unfortunately it requires a new tarball to be completely fixed since the problem is that some files have not been included in the 1.6.2 tarball [and earlier probably]. What is the ETA for that?",
    "created_at": "2019-06-03T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417968",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'>Comment 35:</a>
I was going to report that I had this issue testing linbox in gentoo

```
x86_64-pc-linux-gnu-g++ -DHAVE_CONFIG_H -I. -I..  -DLinBoxTestOnly -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -g -DNDEBUG -U_LB_DEBUG -I.. -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -DARCH_X86_64=1 -DOPENBLAS___64BIT__=1 -fopenmp -DFFLAS_COMPILED -DFFPACK_COMPILED -fabi-version=6 -I/usr/include/openblas        -march=native -O2 -pipe  -msse -msse2 -msse3 -mssse3 -msse4.1 -msse4.2 -mavx -mavx2 -mfma -c -o test-serialization.o test-serialization.C
test-serialization.C:32:10: fatal error: linbox/util/serialization.h: No such file or directory
   32 | #include "linbox/util/serialization.h"
      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
```
I see that a fix has been committed in linbox [https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815](https://github.com/linbox-team/linbox/commit/5a0aac2662969289c50fb9dec2fd2e597a276815) unfortunately it requires a new tarball to be completely fixed since the problem is that some files have not been included in the 1.6.2 tarball [and earlier probably]. What is the ETA for that?



---

archive/issue_comments_417969.json:
```json
{
    "body": "Changed commit from **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to none",
    "created_at": "2019-06-03T22:28:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417969",
    "user": "https://github.com/kiwifb"
}
```

Changed commit from **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to none



---

archive/issue_comments_417970.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nThese missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.\nI can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. \nI guess, it will happen in another ticket as this one is now closed.",
    "created_at": "2019-06-04T07:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417970",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:36'>Comment 36:</a>
These missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.
I can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. 
I guess, it will happen in another ticket as this one is now closed.



---

archive/issue_comments_417971.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@ClementPernet](#comment%3A36):\n> These missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.\n> I can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. \n> I guess, it will happen in another ticket as this one is now closed.\n\nYes, I should have said it is in the test suite. I don't know, Volker may choose to re-open if it causes troubles with bots running `spkg-check` on packages.",
    "created_at": "2019-06-04T07:25:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417971",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@ClementPernet](#comment%3A36):
> These missing files do not impact the part of LinBox used in Sage. The compilation failure is in the test-suite.
> I can release v1.6.3 of LinBox very shortly if you think it should be fixed for the next sage release. 
> I guess, it will happen in another ticket as this one is now closed.

Yes, I should have said it is in the test suite. I don't know, Volker may choose to re-open if it causes troubles with bots running `spkg-check` on packages.



---

archive/issue_comments_417972.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nOn 32-bit the sage library doesn't build:\n\n```\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp: In function \u2018long unsigned int __pyx_f_4sage_4libs_6linbox_22linbox_flint_interface_linbox_fmpz_mat_rank(fmpz_mat_struct*)\u2019:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: error: no matching function for call to \u2018rank(long unsigned int&, LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> >&)\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: candidate: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A)\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   cannot convert \u2018__pyx_v_r\u2019 (type \u2018long unsigned int\u2019) to type \u2018size_t& {aka unsigned int&}\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const Method&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 3 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Auto&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                    &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note: candidate: template<class Field, class Vector> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, _Storage>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   \u2018LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}\u2019 is not derived from \u2018const LinBox::SparseMatrix<_Field, _Storage>\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Blackbox&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Wiedemann&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &res,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note: candidate: template<class Field> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::SparseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   \u2018LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}\u2019 is not derived from \u2018const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>\u2019\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note: candidate: template<class Blackbox, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const LinBox::Method::SparseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::DenseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note: candidate: template<class Blackbox, class MyMethod> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::IntegerTag&, const MyMethod&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const Method&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t                           &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n[sagelib-8.8.beta7]                                                   ^\n[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,\n[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const LinBox::Method::SparseElimination&)\n[sagelib-8.8.beta7]   inline size_t &rank (size_t           &r,\n[sagelib-8.8.beta7]                  ^~~~\n[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note:   template argument deduction/substitution failed:\n[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided\n[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));\n```",
    "created_at": "2019-06-04T22:27:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417972",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:39'>Comment 39:</a>
On 32-bit the sage library doesn't build:

```
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp: In function ‘long unsigned int __pyx_f_4sage_4libs_6linbox_22linbox_flint_interface_linbox_fmpz_mat_rank(fmpz_mat_struct*)’:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: error: no matching function for call to ‘rank(long unsigned int&, LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> >&)’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: candidate: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A)
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:92:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   cannot convert ‘__pyx_v_r’ (type ‘long unsigned int’) to type ‘size_t& {aka unsigned int&}’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const Method&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t &r, const Blackbox &A,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:109:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 3 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Auto&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                    &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:44:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:60:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note: candidate: template<class Field, class Vector> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, _Storage>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Elimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:75:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   ‘LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}’ is not derived from ‘const LinBox::SparseMatrix<_Field, _Storage>’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Blackbox&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:503:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::Wiedemann&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &res,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:93:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note: candidate: template<class Field> size_t& LinBox::rank(size_t&, const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::SparseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:388:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   ‘LinBox::DenseMatrix<Givaro::ZRing<Givaro::Integer> > {aka LinBox::BlasMatrix<Givaro::ZRing<Givaro::Integer>, std::vector<Givaro::Integer> >}’ is not derived from ‘const LinBox::SparseMatrix<_Field, LinBox::SparseMatrixFormat::SparseSeq>’
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note: candidate: template<class Blackbox, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const LinBox::Method::SparseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                       &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:400:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::ModularTag&, const LinBox::Method::DenseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                      &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:413:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note: candidate: template<class Blackbox, class MyMethod> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::IntegerTag&, const MyMethod&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                     &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:458:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note: candidate: template<class Blackbox, class Method> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const Method&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t                           &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:468:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
[sagelib-8.8.beta7]                                                   ^
[sagelib-8.8.beta7] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:131:0,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47,
[sagelib-8.8.beta7]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.8.beta7]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1233:
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note: candidate: template<class Blackbox> size_t& LinBox::rank(size_t&, const Blackbox&, const LinBox::RingCategories::RationalTag&, const LinBox::Method::SparseElimination&)
[sagelib-8.8.beta7]   inline size_t &rank (size_t           &r,
[sagelib-8.8.beta7]                  ^~~~
[sagelib-8.8.beta7] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.inl:483:17: note:   template argument deduction/substitution failed:
[sagelib-8.8.beta7] build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:1792:50: note:   candidate expects 4 arguments, 2 provided
[sagelib-8.8.beta7]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_LBA[0])));
```



---

archive/issue_comments_417973.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nYou may as well get a linbox 1.6.3 in at the same time, me and the other distros that look at testsuite results would be very grateful to have a working testsuite.",
    "created_at": "2019-06-05T01:17:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417973",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'>Comment 40:</a>
You may as well get a linbox 1.6.3 in at the same time, me and the other distros that look at testsuite results would be very grateful to have a working testsuite.



---

archive/issue_comments_417974.json:
```json
{
    "body": "Changed branch from **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**",
    "created_at": "2019-06-05T07:02:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417974",
    "user": "https://github.com/ClementPernet"
}
```

Changed branch from **[4287e02](https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)**



---

archive/issue_comments_417975.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nI am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?\n\n---\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b\">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582\">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9\">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c\">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6\">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c\">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504\">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6\">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9\">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca\">bd8b2a0</a></td><td><code>fix 32 compilation failure for linbox-rank</code></td></tr></table>\n",
    "created_at": "2019-06-05T08:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417975",
    "user": "https://github.com/timokau"
}
```

<a id='comment:42'>Comment 42:</a>
I am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?

---
Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e879bfecb479d5290a006de25047495d7887d59b">e879bfe</a></td><td><code>Merge branch 'develop' into t/26932/upgrade_to_givaro_4_1_0_fflas_ffpack_2_4_0_linbox_1_6_0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a608945793484d84e3a795035b36886be654582">4a60894</a></td><td><code>new api for FFPACK::Det</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2a9938356ec8a4564d3e42594147f4fa260e50f9">2a99383</a></td><td><code>fix gfqDom interface</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c4f97e1b55764c9730ca379f5158000bfb06328c">c4f97e1</a></td><td><code>fix new echelon API in LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/eb00ddea8112e895858a38466a39af191e5688a6">eb00dde</a></td><td><code>update to new echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fbbd37afa86df3521f8373df9b4d15e27da8846c">fbbd37a</a></td><td><code>update to new Echelon API</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c11d9cfa23ff9f77681a8f12742f68143eed4504">c11d9cf</a></td><td><code>update checksum to the freshly cut releases</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/058bfb34c4ba2cc11ae3dcaca9f0bd2abaa1feb6">058bfb3</a></td><td><code>update to minor version of LinBox</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4287e026ac4c8d1655b364e5be7a4309224dc7b9">4287e02</a></td><td><code>upgrade to linbox-1.6.2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca">bd8b2a0</a></td><td><code>fix 32 compilation failure for linbox-rank</code></td></tr></table>




---

archive/issue_comments_417976.json:
```json
{
    "body": "Commit: **[bd8b2a0](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)**",
    "created_at": "2019-06-05T08:07:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417976",
    "user": "https://github.com/timokau"
}
```

Commit: **[bd8b2a0](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)**



---

archive/issue_comments_417977.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nReplying to [@timokau](#comment%3A42):\n> I am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?\n\nYes. I am using the tarball generated by `make sdist` and which is the one linked in the ticket description. A git checkout will test fine but not the generated tarball.",
    "created_at": "2019-06-05T08:14:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417977",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:43'>Comment 43:</a>
Replying to [@timokau](#comment%3A42):
> I am a little confused, the testsuite runs fine on nixos (64 bit). Is it maybe because we fetch directly from the github tag?

Yes. I am using the tarball generated by `make sdist` and which is the one linked in the ticket description. A git checkout will test fine but not the generated tarball.



---

archive/issue_comments_417978.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5\">ddacbf0</a></td><td><code>upgrade to linbox-1.6.3 fflas-ffpack-2.4.1 and givaro-4.1.1</code></td></tr></table>\n",
    "created_at": "2019-06-07T14:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417978",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5">ddacbf0</a></td><td><code>upgrade to linbox-1.6.3 fflas-ffpack-2.4.1 and givaro-4.1.1</code></td></tr></table>




---

archive/issue_comments_417979.json:
```json
{
    "body": "Changed commit from **[bd8b2a0](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)** to **[ddacbf0](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)**",
    "created_at": "2019-06-07T14:32:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417979",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bd8b2a0](https://github.com/sagemath/sagetrac-mirror/commit/bd8b2a0e3c84eaf05db55687b43503457ad9deca)** to **[ddacbf0](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)**



---

archive/issue_comments_417980.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Tarballs of released packages (with appropriate names) can be found at:\n-* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz\n-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2\n-* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz\n+* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2\n+* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n \n Example of timing improvements (in seconds) on my laptop running an i7-8650U\n \n``````\n",
    "created_at": "2019-06-07T14:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417980",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Tarballs of released packages (with appropriate names) can be found at:
-* https://github.com/linbox-team/givaro/releases/download/v4.1.0/givaro-4.1.0.tar.gz
-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.0/fflas_ffpack-2.4.0.tar.bz2
-* https://github.com/linbox-team/linbox/releases/download/v1.6.2/linbox-1.6.2.tar.gz
+* https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2
+* https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz
 
 Example of timing improvements (in seconds) on my laptop running an i7-8650U
 
``````




---

archive/issue_events_351907.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-06-07T14:37:57Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.1 linbox-1.6.3",
    "title_was": "Upgrade to givaro-4.1.0 fflas-ffpack-2.4.0 linbox-1.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351907"
}
```



---

archive/issue_comments_417981.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nI just released new minor revisions of linbox (1.6.3) fflas-ffpack (2.4.1) and givaro (4.1.1), \n* taking into account the above problems and fixing other minor issues such as \n* including the README.md in the distro, \n* fixing fflas-ffpack API for parallel calls from [SageMath](../wiki/SageMath) (in preparation of #27444).\nI updated the current branch and ticket accordingly, and it is now again ready for review.",
    "created_at": "2019-06-07T14:37:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417981",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:45'>Comment 45:</a>
I just released new minor revisions of linbox (1.6.3) fflas-ffpack (2.4.1) and givaro (4.1.1), 
* taking into account the above problems and fixing other minor issues such as 
* including the README.md in the distro, 
* fixing fflas-ffpack API for parallel calls from [SageMath](../wiki/SageMath) (in preparation of #27444).
I updated the current branch and ticket accordingly, and it is now again ready for review.



---

archive/issue_events_351908.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-06-07T14:38:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351908"
}
```



---

archive/issue_comments_417982.json:
```json
{
    "body": "Changed commit from **[ddacbf0](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)** to **[f2d1f29](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)**",
    "created_at": "2019-06-11T08:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417982",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[ddacbf0](https://github.com/sagemath/sagetrac-mirror/commit/ddacbf01a64e7830f2ad03f13200c3edff4f0dc5)** to **[f2d1f29](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)**



---

archive/issue_comments_417983.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb\">f2d1f29</a></td><td><code>upgrade to fflas-ffpack-2.4.2 fixing testsuite errors with echlon forms</code></td></tr></table>\n",
    "created_at": "2019-06-11T08:55:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417983",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:47'>Comment 47:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb">f2d1f29</a></td><td><code>upgrade to fflas-ffpack-2.4.2 fixing testsuite errors with echlon forms</code></td></tr></table>




---

archive/issue_comments_417984.json:
```json
{
    "body": "Changed commit from **[f2d1f29](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)** to **[7848156](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)**",
    "created_at": "2019-06-11T11:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417984",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[f2d1f29](https://github.com/sagemath/sagetrac-mirror/commit/f2d1f29dcf5860053d8861a516058cc48e3f5bbb)** to **[7848156](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)**



---

archive/issue_comments_417985.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853\">7848156</a></td><td><code>upgrade do fflas-ffpack 2.4.3 fixing an error in charpoly autotune</code></td></tr></table>\n",
    "created_at": "2019-06-11T11:43:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417985",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:48'>Comment 48:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853">7848156</a></td><td><code>upgrade do fflas-ffpack 2.4.3 fixing an error in charpoly autotune</code></td></tr></table>




---

archive/issue_comments_417986.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2\n * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n \n Example of timing improvements (in seconds) on my laptop running an i7-8650U\n``````\n",
    "created_at": "2019-06-11T11:44:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417986",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.1/fflas_ffpack-2.4.1.tar.bz2
+* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2
 * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz
 
 Example of timing improvements (in seconds) on my laptop running an i7-8650U
``````




---

archive/issue_comments_417987.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n Tarballs of released packages (with appropriate names) can be found at:\n * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz\n-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2\n+* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2\n * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz\n \n Example of timing improvements (in seconds) on my laptop running an i7-8650U\n``````\n",
    "created_at": "2019-06-11T11:46:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417987",
    "user": "https://github.com/ClementPernet"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
 Tarballs of released packages (with appropriate names) can be found at:
 * https://github.com/linbox-team/givaro/releases/download/v4.1.1/givaro-4.1.1.tar.gz
-* https://github.com/linbox-team/fflas-ffpack/releases/download/v2.4.3/fflas_ffpack-2.4.3.tar.bz2
+* https://github.com/linbox-team/fflas-ffpack/releases/download/2.4.3/fflas_ffpack-2.4.3.tar.bz2
 * https://github.com/linbox-team/linbox/releases/download/v1.6.3/linbox-1.6.3.tar.gz
 
 Example of timing improvements (in seconds) on my laptop running an i7-8650U
``````




---

archive/issue_comments_417988.json:
```json
{
    "body": "<a id='comment:51'>Comment 51:</a>\nI just did 2 last fixes of some bugs which shamelessly went through the prerelease testing.\nNo more fixes are expected, and the ticket is still open for review, with fflas-ffpack-2.4.3 version (I updated the branch and ticket description accordingly).",
    "created_at": "2019-06-11T11:48:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417988",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:51'>Comment 51:</a>
I just did 2 last fixes of some bugs which shamelessly went through the prerelease testing.
No more fixes are expected, and the ticket is still open for review, with fflas-ffpack-2.4.3 version (I updated the branch and ticket description accordingly).



---

archive/issue_events_351909.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-06-11T11:49:00Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "title_is": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.3 linbox-1.6.3",
    "title_was": "Upgrade to givaro-4.1.1 fflas-ffpack-2.4.1 linbox-1.6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351909"
}
```



---

archive/issue_comments_417989.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nTestsuite of givaro, fflas-ffpack, linbox passes for me on Linux-64, osx-64 on conda. Any chance we could get this ticket tested and reviewed soon?",
    "created_at": "2019-06-19T06:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417989",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:53'>Comment 53:</a>
Testsuite of givaro, fflas-ffpack, linbox passes for me on Linux-64, osx-64 on conda. Any chance we could get this ticket tested and reviewed soon?



---

archive/issue_events_351910.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-02T16:59:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351910"
}
```



---

archive/issue_events_351911.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-02T16:59:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351911"
}
```



---

archive/issue_events_351912.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-03T06:53:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351912"
}
```



---

archive/issue_events_351913.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-07-03T06:53:22Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351913"
}
```



---

archive/issue_events_351914.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-03T10:58:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351914"
}
```



---

archive/issue_events_351915.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-03T10:58:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351915"
}
```



---

archive/issue_comments_417990.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\nDoesn't build on 32-bit:\n\nDebian 10 32-bit:\n\n```\n[sagelib-8.9.beta0] [ 5/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/libs/flint -I./sage/cpython -I./sage/ext -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -I./sage/rings -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cypari2 -I./sage/rings/finite_rings -Isage/cpython -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_dense.c -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_dense.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -std=c99 -g -fPIC -Wall -O2 -mmmx -msse -msse2 -msse3 -I/var/lib/buildbot/slave/sage_git/build/local/include/m4ri -I/var/lib/buildbot/slave/sage_git/build/local/include\n[sagelib-8.9.beta0] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53,\n[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,\n[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,\n[sagelib-8.9.beta0]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:722:\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function \u2018Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]\u2019:\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta0]                                                                  ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta0]                                                                  ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta0]                                              ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta0]                                              ^\n[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta0] [ 6/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/var/lib/buildbot/slave/sage_git/build/local/include\n[sagelib-8.9.beta0] cc1plus: warning: SSE instruction set disabled, using 387 arithmetics\n[sagelib-8.9.beta0] error: command 'gcc' failed with exit status 1\n[sagelib-8.9.beta0] make[4]: *** [Makefile:33: sage] Error 1\n```\n\n\nDebian 8, 9 32-bit:\n\n```\n[sagelib-8.9.beta0] [ 6/13] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/src -I/home/buildbot/slave/sage_git/build/src/sage/ext -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -fpermissive -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/home/buildbot/slave/sage_git/build/local/include\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:1:0: warning: SSE instruction set disabled, using 387 arithmetics\n[sagelib-8.9.beta0]  /* Generated by Cython 0.29.10 */\n[sagelib-8.9.beta0]  ^\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp: In function \u2018PyObject* __pyx_pf_4sage_6matrix_21matrix_integer_sparse_21Matrix_integer_sparse_30_rank_linbox(__pyx_obj_4sage_6matrix_21matrix_integer_sparse_Matrix_integer_sparse*)\u2019:\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: error: no matching function for call to \u2018rank(long unsigned int&, LinBox::SparseMatrix<Givaro::ZRing<Givaro::Integer> >&)\u2019\n[sagelib-8.9.beta0]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_M[0])));\n[sagelib-8.9.beta0]                                                 ^\n[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: note: candidates are:\n[sagelib-8.9.beta0] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,\n[sagelib-8.9.beta0]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,\n[sagelib-8.9.beta0]                  from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:4384:\n[sagelib-8.9.beta0] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)\n[sagelib-8.9.beta0]   inline size_t &rank (size_t &r, const Blackbox &A,\n[sagelib-8.9.beta0]                  ^\n```",
    "created_at": "2019-07-03T10:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417990",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:56'>Comment 56:</a>
Doesn't build on 32-bit:

Debian 10 32-bit:

```
[sagelib-8.9.beta0] [ 5/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/libs/flint -I./sage/cpython -I./sage/ext -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -I./sage/rings -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cypari2 -I./sage/rings/finite_rings -Isage/cpython -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_dense.c -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_dense.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -std=c99 -g -fPIC -Wall -O2 -mmmx -msse -msse2 -msse3 -I/var/lib/buildbot/slave/sage_git/build/local/include/m4ri -I/var/lib/buildbot/slave/sage_git/build/local/include
[sagelib-8.9.beta0] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53,
[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,
[sagelib-8.9.beta0]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,
[sagelib-8.9.beta0]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:722:
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function ‘Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]’:
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta0]                                                                  ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta0]                                                                  ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta0]                                              ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta0]                                              ^
[sagelib-8.9.beta0] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta0] [ 6/15] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/var/lib/buildbot/slave/sage_git/build/local/include -I/var/lib/buildbot/slave/sage_git/build/src -I/var/lib/buildbot/slave/sage_git/build/src/sage/ext -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -I/var/lib/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/var/lib/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/var/lib/buildbot/slave/sage_git/build/local/include
[sagelib-8.9.beta0] cc1plus: warning: SSE instruction set disabled, using 387 arithmetics
[sagelib-8.9.beta0] error: command 'gcc' failed with exit status 1
[sagelib-8.9.beta0] make[4]: *** [Makefile:33: sage] Error 1
```


Debian 8, 9 32-bit:

```
[sagelib-8.9.beta0] [ 6/13] gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wno-unused -fPIC -I./sage/cpython -I./sage/ext -I./sage/libs/flint -I./sage/libs/ntl -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/cysignals -Isage/libs/flint -I/home/buildbot/slave/sage_git/build/local/include -I/home/buildbot/slave/sage_git/build/src -I/home/buildbot/slave/sage_git/build/src/sage/ext -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -I/home/buildbot/slave/sage_git/build/local/lib/python2.7/site-packages/numpy/core/include -Ibuild/cythonized -I/home/buildbot/slave/sage_git/build/local/include/python2.7 -c build/cythonized/sage/matrix/matrix_integer_sparse.cpp -o build/temp.linux-i686-2.7/build/cythonized/sage/matrix/matrix_integer_sparse.o -fno-strict-aliasing -DCYTHON_CLINE_IN_TRACEBACK=1 -O2 -Wall -g -DNDEBUG -U_LB_DEBUG -DDISABLE_COMMENTATOR -DFFLAS_COMPILED -DFFPACK_COMPILED -fpermissive -std=gnu++11 -mfpmath=sse -fabi-version=6 -I/home/buildbot/slave/sage_git/build/local/include
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:1:0: warning: SSE instruction set disabled, using 387 arithmetics
[sagelib-8.9.beta0]  /* Generated by Cython 0.29.10 */
[sagelib-8.9.beta0]  ^
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp: In function ‘PyObject* __pyx_pf_4sage_6matrix_21matrix_integer_sparse_21Matrix_integer_sparse_30_rank_linbox(__pyx_obj_4sage_6matrix_21matrix_integer_sparse_Matrix_integer_sparse*)’:
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: error: no matching function for call to ‘rank(long unsigned int&, LinBox::SparseMatrix<Givaro::ZRing<Givaro::Integer> >&)’
[sagelib-8.9.beta0]    (void)(LinBox::rank(__pyx_v_r, (__pyx_v_M[0])));
[sagelib-8.9.beta0]                                                 ^
[sagelib-8.9.beta0] build/cythonized/sage/matrix/matrix_integer_sparse.cpp:7765:48: note: candidates are:
[sagelib-8.9.beta0] In file included from /home/buildbot/slave/sage_git/build/local/include/linbox/algorithms/bbcharpoly.h:47:0,
[sagelib-8.9.beta0]                  from /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/charpoly.h:34,
[sagelib-8.9.beta0]                  from build/cythonized/sage/matrix/matrix_integer_sparse.cpp:4384:
[sagelib-8.9.beta0] /home/buildbot/slave/sage_git/build/local/include/linbox/solutions/rank.h:75:17: note: template<class Blackbox, class Method, class DomainCategory> size_t& LinBox::rank(size_t&, const Blackbox&, const DomainCategory&, const Method&)
[sagelib-8.9.beta0]   inline size_t &rank (size_t &r, const Blackbox &A,
[sagelib-8.9.beta0]                  ^
```



---

archive/issue_comments_417991.json:
```json
{
    "body": "Changed commit from **[7848156](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)** to **[43e1b7f](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)**",
    "created_at": "2019-07-04T12:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417991",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[7848156](https://github.com/sagemath/sagetrac-mirror/commit/784815648e9e8bac9c81e6336014f0021d91f853)** to **[43e1b7f](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)**



---

archive/issue_comments_417992.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc\">43e1b7f</a></td><td><code>fix ulong->size_t bug in 32 bits debian 8,9</code></td></tr></table>\n",
    "created_at": "2019-07-04T12:57:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417992",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:57'>Comment 57:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc">43e1b7f</a></td><td><code>fix ulong->size_t bug in 32 bits debian 8,9</code></td></tr></table>




---

archive/issue_comments_417993.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nI pushed a fix to the second bug (size_t vs unsigned long in calling `LinBox::rank`). I'm still waiting for a build of sage on a 32 bit ubuntu to finish, to confirm that the bug is no longer there.\n\nAs for the first bug, do you confirm that it only shows up in Debian 10 ?\nI have no clue what is going on there, and can not reproduce it as I don't have a 32 bit Debian at hand. Looking at other instances of the bug, it seems related to asm code explicitly using some registers (like %ebx) that gcc reserves for PIC offsets. Altough the `umul_ppmm` indeed uses some asm code (in reclonglong.h) in does not use %ebx explicitly, and more surprisingly, the other error, for `udiv_qrnd` does not involve any asm code.\n\nThis part of givaro's code is not used in Sage, so an easy fix is to comment out line 26 of `givaro/src/kernel/ring/modular.h`.",
    "created_at": "2019-07-04T14:25:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417993",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:58'>Comment 58:</a>
I pushed a fix to the second bug (size_t vs unsigned long in calling `LinBox::rank`). I'm still waiting for a build of sage on a 32 bit ubuntu to finish, to confirm that the bug is no longer there.

As for the first bug, do you confirm that it only shows up in Debian 10 ?
I have no clue what is going on there, and can not reproduce it as I don't have a 32 bit Debian at hand. Looking at other instances of the bug, it seems related to asm code explicitly using some registers (like %ebx) that gcc reserves for PIC offsets. Altough the `umul_ppmm` indeed uses some asm code (in reclonglong.h) in does not use %ebx explicitly, and more surprisingly, the other error, for `udiv_qrnd` does not involve any asm code.

This part of givaro's code is not used in Sage, so an easy fix is to comment out line 26 of `givaro/src/kernel/ring/modular.h`.



---

archive/issue_comments_417994.json:
```json
{
    "body": "Changed commit from **[43e1b7f](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)** to **[b022142](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)**",
    "created_at": "2019-07-05T07:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417994",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[43e1b7f](https://github.com/sagemath/sagetrac-mirror/commit/43e1b7f236db20e098450953c90e368ebdcc8dcc)** to **[b022142](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)**



---

archive/issue_comments_417995.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702\">b022142</a></td><td><code>fix ulong -> size_t</code></td></tr></table>\n",
    "created_at": "2019-07-05T07:52:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417995",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:59'>Comment 59:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702">b022142</a></td><td><code>fix ulong -> size_t</code></td></tr></table>




---

archive/issue_comments_417996.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nI added a fix to another size_t issue. I confirm that the current branch compiles and passes the test-suite on a 32 bit ubuntu xenial I could have access to.",
    "created_at": "2019-07-05T15:24:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417996",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:60'>Comment 60:</a>
I added a fix to another size_t issue. I confirm that the current branch compiles and passes the test-suite on a 32 bit ubuntu xenial I could have access to.



---

archive/issue_comments_417997.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\nYes, I get the error only on Debian 10 32-bit. Thats gcc 8.3.0. My guess would be that all sufficiently new compiler versions fail. The next oldest 32-bit machine is Ubuntu 18 / gcc 7.3.0 and that passes.\n\nI don't think the error is about EBX, you are free to use it in inline asm as long as you restore it (at least on gcc >=5 and as long as you don't make function calls / use the PLT).\n\nI haven't tried to figure out which of the many inline asm implementations is selected but various do specify constraints `\"=&r\" (sl)` which maybe be inconsistent (presumably meaning unsatisfyable).",
    "created_at": "2019-07-06T12:38:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417997",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:61'>Comment 61:</a>
Yes, I get the error only on Debian 10 32-bit. Thats gcc 8.3.0. My guess would be that all sufficiently new compiler versions fail. The next oldest 32-bit machine is Ubuntu 18 / gcc 7.3.0 and that passes.

I don't think the error is about EBX, you are free to use it in inline asm as long as you restore it (at least on gcc >=5 and as long as you don't make function calls / use the PLT).

I haven't tried to figure out which of the many inline asm implementations is selected but various do specify constraints `"=&r" (sl)` which maybe be inconsistent (presumably meaning unsatisfyable).



---

archive/issue_comments_417998.json:
```json
{
    "body": "Changed commit from **[b022142](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)** to **[8dbef68](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)**",
    "created_at": "2019-07-16T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417998",
    "user": "https://github.com/isuruf"
}
```

Changed commit from **[b022142](https://github.com/sagemath/sagetrac-mirror/commit/b0221421819f534f72a7282fe842737de9fa9702)** to **[8dbef68](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)**



---

archive/issue_events_351916.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-16T17:49:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351916"
}
```



---

archive/issue_events_351917.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-16T17:49:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351917"
}
```



---

archive/issue_comments_417999.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0616252dd7915e1a46cfe4c8bc7856ecca1eff48\">0616252</a></td><td><code>Merge remote-tracking branch 'trac/develop' into u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e\">8dbef68</a></td><td><code>Avoid modular-ruint.h</code></td></tr></table>\n",
    "created_at": "2019-07-16T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-417999",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:62'>Comment 62:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0616252dd7915e1a46cfe4c8bc7856ecca1eff48">0616252</a></td><td><code>Merge remote-tracking branch 'trac/develop' into u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e">8dbef68</a></td><td><code>Avoid modular-ruint.h</code></td></tr></table>




---

archive/issue_comments_418000.json:
```json
{
    "body": "Changed branch from **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)**",
    "created_at": "2019-07-16T17:49:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418000",
    "user": "https://github.com/isuruf"
}
```

Changed branch from **[u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/4287e026ac4c8d1655b364e5be7a4309224dc7b9)** to **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)**



---

archive/issue_events_351918.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-07-16T22:21:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351918"
}
```



---

archive/issue_events_351919.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-07-16T22:21:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351919"
}
```



---

archive/issue_comments_418001.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nLet's try it again.",
    "created_at": "2019-07-16T22:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418001",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:63'>Comment 63:</a>
Let's try it again.



---

archive/issue_comments_418002.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\nOk, I finally got some time to get back to this problem. I doubt the fix above will work (I tried on a 32bit box and it still fails, as recint is also included in fflas-ffpack).\n\nThe problem is that two copies of the file longlong.h from GNU GMP are shipped: one in flint (longlong.h) and one in givaro (reclonglong.h). Flint has stripped down the file to a minimalistic set of definitions while givaro's version is the complete original one.\n\nThe problem is that these file define macros in the global namespace and conflict one with the other. I therefore added a `#ifdef add_ssaaaa` in givaro's reclonglong.h to yield whenever flint's longlong.h was already included.\n\nHowever, givaro's forces the NO_ASM macro which skips all ASM dependent defines and makes the calls to `umul_ppmm` and other also work on i386 even when passed 64 bits ints. However, flint longlong.h removed the NO_ASM section, and therefore compiles the ASM variants of these routines, thus triggering the compilation failure.\nI will fix givaro's `reclonglong.h` so that it undefs the symbols conflicting with flint and redefines them in its own way.",
    "created_at": "2019-07-17T15:37:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418002",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:64'>Comment 64:</a>
Ok, I finally got some time to get back to this problem. I doubt the fix above will work (I tried on a 32bit box and it still fails, as recint is also included in fflas-ffpack).

The problem is that two copies of the file longlong.h from GNU GMP are shipped: one in flint (longlong.h) and one in givaro (reclonglong.h). Flint has stripped down the file to a minimalistic set of definitions while givaro's version is the complete original one.

The problem is that these file define macros in the global namespace and conflict one with the other. I therefore added a `#ifdef add_ssaaaa` in givaro's reclonglong.h to yield whenever flint's longlong.h was already included.

However, givaro's forces the NO_ASM macro which skips all ASM dependent defines and makes the calls to `umul_ppmm` and other also work on i386 even when passed 64 bits ints. However, flint longlong.h removed the NO_ASM section, and therefore compiles the ASM variants of these routines, thus triggering the compilation failure.
I will fix givaro's `reclonglong.h` so that it undefs the symbols conflicting with flint and redefines them in its own way.



---

archive/issue_comments_418003.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\nFix doesn't work, for the record. Still fails with the \n\n```\n[sagelib-8.9.beta2] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53:0,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/field-traits.h:30,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/gf2.h:40,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream-gf2.h:77,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream.h:872,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:42,\n[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79,\n[sagelib-8.9.beta2]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:727:\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function \u2018Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]\u2019:\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta2]                                                                  ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);\n[sagelib-8.9.beta2]                                                                  ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta2]                                              ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);\n[sagelib-8.9.beta2]                                              ^\n[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an \u2018asm\u2019\n```",
    "created_at": "2019-07-18T21:02:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418003",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:65'>Comment 65:</a>
Fix doesn't work, for the record. Still fails with the 

```
[sagelib-8.9.beta2] In file included from /var/lib/buildbot/slave/sage_git/build/local/include/recint/ruint.h:53:0,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular-ruint.h:14,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/givaro/modular.h:26,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/field-traits.h:30,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/field/gf2.h:40,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream-gf2.h:77,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/vector/stream.h:872,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/densematrix/blas-matrix.h:42,
[sagelib-8.9.beta2]                  from /var/lib/buildbot/slave/sage_git/build/local/include/linbox/matrix/dense-matrix.h:79,
[sagelib-8.9.beta2]                  from build/cythonized/sage/libs/linbox/linbox_flint_interface.cpp:727:
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h: In member function ‘Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element& Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::init(Givaro::Modular<_Storage_t, _Compute_t, typename std::enable_if<(is_same_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value || is_smaller_ruint< <template-parameter-1-1>, <template-parameter-1-2> >::value)>::type>::Element&, const Givaro::Integer&) const [with _Storage_t = RecInt::ruint<7>; _Compute_t = RecInt::ruint<8>]’:
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta2]                                                                  ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:214:65: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]              udiv_qrnnd(q.Value, c, a2.Value, a1.Value, b1.Value);
[sagelib-8.9.beta2]                                                                  ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta2]                                              ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
[sagelib-8.9.beta2]          umul_ppmm(d1, d0, q.Value, b0.Value);
[sagelib-8.9.beta2]                                              ^
[sagelib-8.9.beta2] /var/lib/buildbot/slave/sage_git/build/local/include/recint/rudiv.h:222:45: error: inconsistent operand constraints in an ‘asm’
```



---

archive/issue_events_351920.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T21:02:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351920"
}
```



---

archive/issue_events_351921.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-07-18T21:02:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351921"
}
```



---

archive/issue_comments_418004.json:
```json
{
    "body": "Changed branch from **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)** to **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)**",
    "created_at": "2019-07-19T14:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418004",
    "user": "https://github.com/ClementPernet"
}
```

Changed branch from **[u/isuruf/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/isuruf/26932)** to **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)**



---

archive/issue_comments_418005.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\nI pushed a patch to givaro, which basically changes the name on givaro's side of all macros which definition where in conflict between flint (longlong.h) and givaro (reclonglong.h) by prefixing them with `recint_`.\n\nThis change solves the problem on the 32bit ubuntu machine where I could reproduce the bug.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef\">ead33ba</a></td><td><code>fixing double definition of macros between flint and givaro by isolating givaro's with recint_ prefix</code></td></tr></table>\n",
    "created_at": "2019-07-19T14:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418005",
    "user": "https://github.com/ClementPernet"
}
```

<a id='comment:67'>Comment 67:</a>
I pushed a patch to givaro, which basically changes the name on givaro's side of all macros which definition where in conflict between flint (longlong.h) and givaro (reclonglong.h) by prefixing them with `recint_`.

This change solves the problem on the 32bit ubuntu machine where I could reproduce the bug.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef">ead33ba</a></td><td><code>fixing double definition of macros between flint and givaro by isolating givaro's with recint_ prefix</code></td></tr></table>




---

archive/issue_events_351922.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-07-19T14:38:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351922"
}
```



---

archive/issue_events_351923.json:
```json
{
    "actor": "https://github.com/ClementPernet",
    "created_at": "2019-07-19T14:38:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351923"
}
```



---

archive/issue_comments_418006.json:
```json
{
    "body": "Changed commit from **[8dbef68](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)** to **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**",
    "created_at": "2019-07-19T14:38:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418006",
    "user": "https://github.com/ClementPernet"
}
```

Changed commit from **[8dbef68](https://github.com/sagemath/sagetrac-mirror/commit/8dbef6857366344bcff0b8f789e59fd4b183d23e)** to **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**



---

archive/issue_comments_418007.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nThanks. @vbraun, can you review this?",
    "created_at": "2019-07-24T01:32:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418007",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:68'>Comment 68:</a>
Thanks. @vbraun, can you review this?



---

archive/issue_comments_418008.json:
```json
{
    "body": "<a id='comment:69'>Comment 69:</a>\nWith this branch and using sagelib built against system libraries, I'm getting\n\n```\nFile \"/usr/lib/python2.7/site-packages/sage/matrix/matrix_double_dense.pyx\", line 2517, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary\nFailed example:\n    P.is_unitary(algorithm='orthonormal')\nExpected:\n    Traceback (most recent call last):\n    ...\n    error: ((lwork==-1)||(lwork >= MAX(1,2*n))) failed for 3rd keyword lwork: zgees:lwork=0\nGot:\n    <BLANKLINE>\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1105, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary[23]>\", line 1, in <module>\n        P.is_unitary(algorithm='orthonormal')\n      File \"sage/matrix/matrix_double_dense.pyx\", line 2568, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary (build/cythonized/sage/matrix/matrix_double_dense.c:16152)\n        _, T = self.schur(base_ring=sage.rings.complex_double.CDF)\n      File \"sage/matrix/matrix_double_dense.pyx\", line 3268, in sage.matrix.matrix_double_dense.Matrix_double_dense.schur (build/cythonized/sage/matrix/matrix_double_dense.c:19274)\n        T._matrix_numpy, Q._matrix_numpy = scipy.linalg.schur(self._matrix_numpy, output=format)\n      File \"/usr/lib/python2.7/site-packages/scipy/linalg/decomp_schur.py\", line 139, in schur\n        result = gees(lambda x: None, a1, lwork=-1)\n    ValueError: On entry to ZGEES parameter number 6 had an illegal value\n```\nAny ideas?",
    "created_at": "2019-07-24T14:48:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418008",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:69'>Comment 69:</a>
With this branch and using sagelib built against system libraries, I'm getting

```
File "/usr/lib/python2.7/site-packages/sage/matrix/matrix_double_dense.pyx", line 2517, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary
Failed example:
    P.is_unitary(algorithm='orthonormal')
Expected:
    Traceback (most recent call last):
    ...
    error: ((lwork==-1)||(lwork >= MAX(1,2*n))) failed for 3rd keyword lwork: zgees:lwork=0
Got:
    <BLANKLINE>
    Traceback (most recent call last):
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 1105, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary[23]>", line 1, in <module>
        P.is_unitary(algorithm='orthonormal')
      File "sage/matrix/matrix_double_dense.pyx", line 2568, in sage.matrix.matrix_double_dense.Matrix_double_dense.is_unitary (build/cythonized/sage/matrix/matrix_double_dense.c:16152)
        _, T = self.schur(base_ring=sage.rings.complex_double.CDF)
      File "sage/matrix/matrix_double_dense.pyx", line 3268, in sage.matrix.matrix_double_dense.Matrix_double_dense.schur (build/cythonized/sage/matrix/matrix_double_dense.c:19274)
        T._matrix_numpy, Q._matrix_numpy = scipy.linalg.schur(self._matrix_numpy, output=format)
      File "/usr/lib/python2.7/site-packages/scipy/linalg/decomp_schur.py", line 139, in schur
        result = gees(lambda x: None, a1, lwork=-1)
    ValueError: On entry to ZGEES parameter number 6 had an illegal value
```
Any ideas?



---

archive/issue_comments_418009.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nYes. It is not related to this ticket but to the way we sometimes package openblas in distro compared to sage. I have had this doctest failure for several months now. https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-30999803 has some gory details if you get down in it. The culprit is not so much sage than it is scipy in a way. It is all down to the `xerbla` routine effectively used https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-31035447 and after.\n\nIn any case this is not related to this ticket.",
    "created_at": "2019-07-24T20:42:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418009",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:70'>Comment 70:</a>
Yes. It is not related to this ticket but to the way we sometimes package openblas in distro compared to sage. I have had this doctest failure for several months now. https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-30999803 has some gory details if you get down in it. The culprit is not so much sage than it is scipy in a way. It is all down to the `xerbla` routine effectively used https://github.com/cschwan/sage-on-gentoo/commit/1a5fefec74c222ee5d0673bb439c6d5a3b0c6e1e#commitcomment-31035447 and after.

In any case this is not related to this ticket.



---

archive/issue_comments_418010.json:
```json
{
    "body": "<a id='comment:71'>Comment 71:</a>\nReplying to [@kiwifb](#comment%3A70):\n \n> In any case this is not related to this ticket.\n\nAfter some investigation, in my case this turned out to be caused by linking fflas-ffpack with --as-needed - apparently this strips a bit too many linked libs. I started linking with --as-needed with the 2.4.0 update so that made me think it was related to the upgrade.",
    "created_at": "2019-07-24T22:00:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418010",
    "user": "https://github.com/antonio-rojas"
}
```

<a id='comment:71'>Comment 71:</a>
Replying to [@kiwifb](#comment%3A70):
 
> In any case this is not related to this ticket.

After some investigation, in my case this turned out to be caused by linking fflas-ffpack with --as-needed - apparently this strips a bit too many linked libs. I started linking with --as-needed with the 2.4.0 update so that made me think it was related to the upgrade.



---

archive/issue_comments_418011.json:
```json
{
    "body": "<a id='comment:72'>Comment 72:</a>\nThat's very strange because the failure above occurs during a call to a function in scipy. It is supposed to fail but the error message and the point it break is different depending on the version of `xerbla` (C or Fortran) used.",
    "created_at": "2019-07-24T22:03:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418011",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:72'>Comment 72:</a>
That's very strange because the failure above occurs during a call to a function in scipy. It is supposed to fail but the error message and the point it break is different depending on the version of `xerbla` (C or Fortran) used.



---

archive/issue_comments_418012.json:
```json
{
    "body": "<a id='comment:73'>Comment 73:</a>\nI guess the linking may influence the order things are loaded in memory and privilege a call over another.",
    "created_at": "2019-07-24T22:04:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418012",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:73'>Comment 73:</a>
I guess the linking may influence the order things are loaded in memory and privilege a call over another.



---

archive/issue_comments_418013.json:
```json
{
    "body": "<a id='comment:74'>Comment 74:</a>\nNumpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue",
    "created_at": "2019-07-24T22:07:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418013",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:74'>Comment 74:</a>
Numpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue



---

archive/issue_comments_418014.json:
```json
{
    "body": "<a id='comment:75'>Comment 75:</a>\nReplying to [@isuruf](#comment%3A74):\n> Numpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue\n\nI didn't know that. In that case the over-ridding is obviously not working under some conditions. Is it a bug in sage, scipy or numpy? Digging this a bit more.",
    "created_at": "2019-07-24T22:15:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418014",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:75'>Comment 75:</a>
Replying to [@isuruf](#comment%3A74):
> Numpy has a `python_xerbla.c` file and a `xerbla_` inside which is supposed to override the xerbla from BLAS and give a nice exception. We should create a new ticket for the xerbla issue

I didn't know that. In that case the over-ridding is obviously not working under some conditions. Is it a bug in sage, scipy or numpy? Digging this a bit more.



---

archive/issue_comments_418015.json:
```json
{
    "body": "<a id='comment:76'>Comment 76:</a>\nActually, the numpy source file you are pointing to gives the error message we see in some sage-on-distros as opposed to the one seen in vanilla sage. The source file is in two places in numpy. Once in linalg/lapack_lite which seems to indicate that this is used when numpy is configured without an external lapack. The other copy is in core/src/common, it is unclear if it is always compiled or not at this stage.",
    "created_at": "2019-07-24T22:20:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418015",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:76'>Comment 76:</a>
Actually, the numpy source file you are pointing to gives the error message we see in some sage-on-distros as opposed to the one seen in vanilla sage. The source file is in two places in numpy. Once in linalg/lapack_lite which seems to indicate that this is used when numpy is configured without an external lapack. The other copy is in core/src/common, it is unclear if it is always compiled or not at this stage.



---

archive/issue_comments_418016.json:
```json
{
    "body": "<a id='comment:77'>Comment 77:</a>\nI'd say `python_xerbla.c` is always compiled. This is from `core/src/common/setupy.py`\n\n```\n    blas_info = get_info('blas_opt', 0)\n    if blas_info and ('HAVE_CBLAS', None) in blas_info.get('define_macros', []):\n        extra_info = blas_info\n        # These files are also in MANIFEST.in so that they are always in\n        # the source distribution independently of HAVE_CBLAS.\n        common_src.extend([join('src', 'common', 'cblasfuncs.c'),\n                           join('src', 'common', 'python_xerbla.c'),\n                          ])\n        if uses_accelerate_framework(blas_info):\n            common_src.extend(get_sgemv_fix())\n    else:\n        extra_info = {}\n```\nFor those who don't know, numpy's build system sets `-DHAVE_CBLAS=NONE` when blas/lapack is found :) When no blas/lapack is provided found, `HAVE_CBLAS` is undefined.\n\nThe `xerbla_` symbol is inserted in `numpy/core/_multiarray_umath.so`. But from experience the scipy call that can give the differing messages never use that and must load a version from blas/lapack otherwise we would never see this difference.",
    "created_at": "2019-07-24T22:41:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418016",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:77'>Comment 77:</a>
I'd say `python_xerbla.c` is always compiled. This is from `core/src/common/setupy.py`

```
    blas_info = get_info('blas_opt', 0)
    if blas_info and ('HAVE_CBLAS', None) in blas_info.get('define_macros', []):
        extra_info = blas_info
        # These files are also in MANIFEST.in so that they are always in
        # the source distribution independently of HAVE_CBLAS.
        common_src.extend([join('src', 'common', 'cblasfuncs.c'),
                           join('src', 'common', 'python_xerbla.c'),
                          ])
        if uses_accelerate_framework(blas_info):
            common_src.extend(get_sgemv_fix())
    else:
        extra_info = {}
```
For those who don't know, numpy's build system sets `-DHAVE_CBLAS=NONE` when blas/lapack is found :) When no blas/lapack is provided found, `HAVE_CBLAS` is undefined.

The `xerbla_` symbol is inserted in `numpy/core/_multiarray_umath.so`. But from experience the scipy call that can give the differing messages never use that and must load a version from blas/lapack otherwise we would never see this difference.



---

archive/issue_events_351924.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-30T05:00:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351924"
}
```



---

archive/issue_events_351925.json:
```json
{
    "actor": "https://github.com/isuruf",
    "created_at": "2019-07-30T05:00:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351925"
}
```



---

archive/issue_comments_418017.json:
```json
{
    "body": "<a id='comment:78'>Comment 78:</a>\nPutting this into positive review, so that it's tested again.",
    "created_at": "2019-07-30T05:00:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418017",
    "user": "https://github.com/isuruf"
}
```

<a id='comment:78'>Comment 78:</a>
Putting this into positive review, so that it's tested again.



---

archive/issue_comments_418018.json:
```json
{
    "body": "Changed branch from **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)** to **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**",
    "created_at": "2019-08-01T22:55:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418018",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/cpernet/26932](https://github.com/sagemath/sagetrac-mirror/tree/u/cpernet/26932)** to **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)**



---

archive/issue_events_351926.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-08-01T22:55:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351926"
}
```



---

archive/issue_events_351927.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "27a54e331abf741a3c20997694f436906e754c1f",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-08-01T22:55:03Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26932#event-351927"
}
```



---

archive/issue_comments_418019.json:
```json
{
    "body": "Changed commit from **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)** to none",
    "created_at": "2019-08-03T13:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418019",
    "user": "https://github.com/videlec"
}
```

Changed commit from **[ead33ba](https://github.com/sagemath/sagetrac-mirror/commit/ead33baa4ac1b72158dee587c72ac3b4300d96ef)** to none



---

archive/issue_comments_418020.json:
```json
{
    "body": "<a id='comment:80'>Comment 80:</a>\nThis released fixed\n\n```\nsage: m = diagonal_matrix(ZZ, [2] * 46)\nsage: m._det_linbox()\n70368744177664\nsage: m = diagonal_matrix(ZZ, [3] * 100)\nsage: m._det_linbox()\n515377520732011331036461129765621272702107522001\n```\nsee #28318",
    "created_at": "2019-08-03T13:58:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26932",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26932#issuecomment-418020",
    "user": "https://github.com/videlec"
}
```

<a id='comment:80'>Comment 80:</a>
This released fixed

```
sage: m = diagonal_matrix(ZZ, [2] * 46)
sage: m._det_linbox()
70368744177664
sage: m = diagonal_matrix(ZZ, [3] * 100)
sage: m._det_linbox()
515377520732011331036461129765621272702107522001
```
see #28318
