# Issue 26495: Py3 : Fix doctests in module tests/french_book

archive/issues_026258.json:
```json
{
    "body": "For frenchbook doctests errors, I chose to use doctest flag `# py2` instead of rewriting the examples.\n\nAs the tests are supposed to be the examples of the book i think it's more consistent to just skip them in python 3 rather than rewrite them and have examples which differ form the book.\n\nThe remaining doctests errors does not depends on this \"module\".\n\nCC:  @zimmermann6 @tscrim\n\nBranch/Commit: 2a6aae804b54637c9584a8e6bf75ddc01fad86a3\n\nReviewer: Vincent Klein\n\nAuthor: Vincent Klein, Fr\u00e9d\u00e9ric Chapoton\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26495\n\n",
    "closed_at": "2019-02-23T23:14:50Z",
    "created_at": "2018-10-16T14:01:10Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Py3 : Fix doctests in module tests/french_book",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26495",
    "user": "https://github.com/vinklein"
}
```
For frenchbook doctests errors, I chose to use doctest flag `# py2` instead of rewriting the examples.

As the tests are supposed to be the examples of the book i think it's more consistent to just skip them in python 3 rather than rewrite them and have examples which differ form the book.

The remaining doctests errors does not depends on this "module".

CC:  @zimmermann6 @tscrim

Branch/Commit: 2a6aae804b54637c9584a8e6bf75ddc01fad86a3

Reviewer: Vincent Klein

Author: Vincent Klein, Frédéric Chapoton

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26495





---

archive/issue_comments_502958.json:
```json
{
    "body": "Changing branch from \"\" to \"u/vklein/26495\"",
    "created_at": "2018-10-16T14:03:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502958",
    "user": "https://github.com/vinklein"
}
```

Changing branch from "" to "u/vklein/26495"



---

archive/issue_comments_502959.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                                             |\n|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|\n|[57bdc26](https://github.com/sagemath/sagetrac-mirror/commit/57bdc26bc290ac61736a0bfb73a7058f8dcdabe5)|`Trac #26495: Py3 use doctest flag `#py 2` for incompati ...`|",
    "created_at": "2018-10-16T14:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502959",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                                             |
|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|
|[57bdc26](https://github.com/sagemath/sagetrac-mirror/commit/57bdc26bc290ac61736a0bfb73a7058f8dcdabe5)|`Trac #26495: Py3 use doctest flag `#py 2` for incompati ...`|



---

archive/issue_comments_502960.json:
```json
{
    "body": "Changing commit from \"\" to \"57bdc26bc290ac61736a0bfb73a7058f8dcdabe5\"",
    "created_at": "2018-10-16T14:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502960",
    "user": "https://github.com/vinklein"
}
```

Changing commit from "" to "57bdc26bc290ac61736a0bfb73a7058f8dcdabe5"



---

archive/issue_comments_502961.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-16T14:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502961",
    "user": "https://github.com/vinklein"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_502962.json:
```json
{
    "body": "<a id='comment:4'></a>\nthank you for adding me in cc\n\nNote however that `tests/french_book` is currently being updated with #23572,\nthus it would be better to apply this patch after #23572 (for which reviewers are welcome).",
    "created_at": "2018-10-17T16:10:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502962",
    "user": "https://github.com/zimmermann6"
}
```

<a id='comment:4'></a>
thank you for adding me in cc

Note however that `tests/french_book` is currently being updated with #23572,
thus it would be better to apply this patch after #23572 (for which reviewers are welcome).



---

archive/issue_comments_502963.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#23572\"",
    "created_at": "2018-10-18T09:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502963",
    "user": "https://github.com/vinklein"
}
```

Changing dependencies from "" to "#23572"



---

archive/issue_comments_502964.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2018-10-18T09:14:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502964",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_502965.json:
```json
{
    "body": "<a id='comment:6'></a>\nI will update this ticket after #23572's merge.",
    "created_at": "2018-10-18T09:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502965",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:6'></a>
I will update this ticket after #23572's merge.



---

archive/issue_comments_502966.json:
```json
{
    "body": "Changing status from needs_info to needs_work.",
    "created_at": "2018-10-18T09:20:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502966",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_info to needs_work.



---

archive/issue_events_082638.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-08T19:54:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26495#event-82638"
}
```



---

archive/issue_events_082639.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:36:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26495#event-82639"
}
```



---

archive/issue_events_082640.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:36:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26495#event-82640"
}
```



---

archive/issue_comments_502967.json:
```json
{
    "body": "<a id='comment:9'></a>\nthe new-french-book doctests have many errors ; some may be fixed by #26792",
    "created_at": "2019-02-15T20:23:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502967",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>
the new-french-book doctests have many errors ; some may be fixed by #26792



---

archive/issue_comments_502968.json:
```json
{
    "body": "Changing commit from \"57bdc26bc290ac61736a0bfb73a7058f8dcdabe5\" to \"ddef784e73dceb70b607cc71aa8d16c033d3e19f\"",
    "created_at": "2019-02-16T15:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502968",
    "user": "https://github.com/fchapoton"
}
```

Changing commit from "57bdc26bc290ac61736a0bfb73a7058f8dcdabe5" to "ddef784e73dceb70b607cc71aa8d16c033d3e19f"



---

archive/issue_comments_502969.json:
```json
{
    "body": "Changing dependencies from \"#23572\" to \"\"",
    "created_at": "2019-02-16T15:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502969",
    "user": "https://github.com/fchapoton"
}
```

Changing dependencies from "#23572" to ""



---

archive/issue_comments_502970.json:
```json
{
    "body": "<a id='comment:10'></a>\ntentative merge\n\n---\nNew commits:\n|                                                                                                                                          |                                         |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|\n|[ddef784](https://github.com/sagemath/sagetrac-mirror/commit/ddef784e73dceb70b607cc71aa8d16c033d3e19f)|`Merge branch 'u/vklein/26495' in 8.7.b4`|",
    "created_at": "2019-02-16T15:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502970",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:10'></a>
tentative merge

---
New commits:
|                                                                                                                                          |                                         |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------|
|[ddef784](https://github.com/sagemath/sagetrac-mirror/commit/ddef784e73dceb70b607cc71aa8d16c033d3e19f)|`Merge branch 'u/vklein/26495' in 8.7.b4`|



---

archive/issue_comments_502971.json:
```json
{
    "body": "Changing branch from \"u/vklein/26495\" to \"public/ticket/26495\"",
    "created_at": "2019-02-16T15:11:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502971",
    "user": "https://github.com/fchapoton"
}
```

Changing branch from "u/vklein/26495" to "public/ticket/26495"



---

archive/issue_comments_502972.json:
```json
{
    "body": "<a id='comment:11'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|\n|[5db080f](https://github.com/sagemath/sagetrac-mirror/commit/5db080fcc808b8926515569a36494c0138407a60)|`py3: some fixes in the book`|",
    "created_at": "2019-02-16T15:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502972",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|
|[5db080f](https://github.com/sagemath/sagetrac-mirror/commit/5db080fcc808b8926515569a36494c0138407a60)|`py3: some fixes in the book`|



---

archive/issue_comments_502973.json:
```json
{
    "body": "Changing commit from \"ddef784e73dceb70b607cc71aa8d16c033d3e19f\" to \"5db080fcc808b8926515569a36494c0138407a60\"",
    "created_at": "2019-02-16T15:18:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502973",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "ddef784e73dceb70b607cc71aa8d16c033d3e19f" to "5db080fcc808b8926515569a36494c0138407a60"



---

archive/issue_comments_502974.json:
```json
{
    "body": "<a id='comment:12'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                  |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|\n|[a1e8b4f](https://github.com/sagemath/sagetrac-mirror/commit/a1e8b4fc2bca5dc674908b1794991e52f52068d0)|`py3: more fixes in book doctests`|",
    "created_at": "2019-02-16T15:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502974",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                  |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
|[a1e8b4f](https://github.com/sagemath/sagetrac-mirror/commit/a1e8b4fc2bca5dc674908b1794991e52f52068d0)|`py3: more fixes in book doctests`|



---

archive/issue_comments_502975.json:
```json
{
    "body": "Changing commit from \"5db080fcc808b8926515569a36494c0138407a60\" to \"a1e8b4fc2bca5dc674908b1794991e52f52068d0\"",
    "created_at": "2019-02-16T15:25:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502975",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "5db080fcc808b8926515569a36494c0138407a60" to "a1e8b4fc2bca5dc674908b1794991e52f52068d0"



---

archive/issue_comments_502976.json:
```json
{
    "body": "Changing commit from \"a1e8b4fc2bca5dc674908b1794991e52f52068d0\" to \"2a6aae804b54637c9584a8e6bf75ddc01fad86a3\"",
    "created_at": "2019-02-16T17:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502976",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a1e8b4fc2bca5dc674908b1794991e52f52068d0" to "2a6aae804b54637c9584a8e6bf75ddc01fad86a3"



---

archive/issue_comments_502977.json:
```json
{
    "body": "<a id='comment:13'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                        |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|\n|[2a6aae8](https://github.com/sagemath/sagetrac-mirror/commit/2a6aae804b54637c9584a8e6bf75ddc01fad86a3)|`trac 26495 fix doctest`|",
    "created_at": "2019-02-16T17:48:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502977",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                        |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------|
|[2a6aae8](https://github.com/sagemath/sagetrac-mirror/commit/2a6aae804b54637c9584a8e6bf75ddc01fad86a3)|`trac 26495 fix doctest`|



---

archive/issue_comments_502978.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2019-02-16T17:48:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502978",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_502979.json:
```json
{
    "body": "<a id='comment:15'></a>\nI suggest that we should positive-review this one and keep other failures for another ticket. See also #26792",
    "created_at": "2019-02-17T07:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502979",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
I suggest that we should positive-review this one and keep other failures for another ticket. See also #26792



---

archive/issue_comments_502980.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,5 +1,5 @@\n-For frenchbook doctests errors i chose to use doctest flag `# py2` instead of rewriting the examples.\n+For frenchbook doctests errors, I chose to use doctest flag `# py2` instead of rewriting the examples.\n \n-As the tests are supposed to be the examples of the book i think it's more consistant to just skip them in python 3 rather than rewrite them and have examples which differ form the book.\n+As the tests are supposed to be the examples of the book i think it's more consistent to just skip them in python 3 rather than rewrite them and have examples which differ form the book.\n \n The remaining doctests errors does not depends on this \"module\".\n``````\n",
    "created_at": "2019-02-17T07:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502980",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,5 +1,5 @@
-For frenchbook doctests errors i chose to use doctest flag `# py2` instead of rewriting the examples.
+For frenchbook doctests errors, I chose to use doctest flag `# py2` instead of rewriting the examples.
 
-As the tests are supposed to be the examples of the book i think it's more consistant to just skip them in python 3 rather than rewrite them and have examples which differ form the book.
+As the tests are supposed to be the examples of the book i think it's more consistent to just skip them in python 3 rather than rewrite them and have examples which differ form the book.
 
 The remaining doctests errors does not depends on this "module".
``````




---

archive/issue_comments_502981.json:
```json
{
    "body": "<a id='comment:16'></a>\nOk. Looks good to me. I give positive review to the last three commits.\nFrederic you set this ticket in positive review if you validate commit `57bdc26`",
    "created_at": "2019-02-22T16:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502981",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:16'></a>
Ok. Looks good to me. I give positive review to the last three commits.
Frederic you set this ticket in positive review if you validate commit `57bdc26`



---

archive/issue_comments_502982.json:
```json
{
    "body": "Changing author from \"Vincent Klein\" to \"Vincent Klein, Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2019-02-22T16:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502982",
    "user": "https://github.com/vinklein"
}
```

Changing author from "Vincent Klein" to "Vincent Klein, Frédéric Chapoton"



---

archive/issue_comments_502983.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Vincent Klein\"",
    "created_at": "2019-02-22T16:19:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502983",
    "user": "https://github.com/vinklein"
}
```

Changing reviewer from "" to "Vincent Klein"



---

archive/issue_comments_502984.json:
```json
{
    "body": "<a id='comment:17'></a>\nok, merci",
    "created_at": "2019-02-22T17:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502984",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
ok, merci



---

archive/issue_comments_502985.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-22T17:29:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502985",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_502986.json:
```json
{
    "body": "Changing branch from \"public/ticket/26495\" to \"2a6aae804b54637c9584a8e6bf75ddc01fad86a3\"",
    "created_at": "2019-02-23T23:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502986",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/ticket/26495" to "2a6aae804b54637c9584a8e6bf75ddc01fad86a3"



---

archive/issue_events_082641.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-23T23:14:50Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26495#event-82641"
}
```



---

archive/issue_comments_502987.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-23T23:14:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26495",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26495#issuecomment-502987",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
