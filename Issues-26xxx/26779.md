# Issue 26779: py3: fix graph_input.py and hypergraph_generators.py

archive/issues_026542.json:
```json
{
    "body": "doctest errors in `hypergraph_generators.py` are due to bytes vs str. We add a test in `graph_input.py` to fix the issue.\n\nCC:  @tscrim @fchapoton @embray\n\nKeywords: py3, graph\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: David Coudert\n\nBranch: 016fa31eb0083267eaccf15c5a508da5aaabbbb1\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26779\n\n",
    "closed_at": "2018-12-08T02:54:24Z",
    "created_at": "2018-11-27T16:48:15Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "py3: fix graph_input.py and hypergraph_generators.py",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26779",
    "user": "https://github.com/dcoudert"
}
```
doctest errors in `hypergraph_generators.py` are due to bytes vs str. We add a test in `graph_input.py` to fix the issue.

CC:  @tscrim @fchapoton @embray

Keywords: py3, graph

Reviewer: Frédéric Chapoton

Author: David Coudert

Branch: 016fa31eb0083267eaccf15c5a508da5aaabbbb1

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26779





---

archive/issue_comments_514299.json:
```json
{
    "body": "Changing commit from \"\" to \"c58ed7920a65bfde0e651f5393ca165db546bccf\"",
    "created_at": "2018-11-27T16:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514299",
    "user": "https://github.com/dcoudert"
}
```

Changing commit from "" to "c58ed7920a65bfde0e651f5393ca165db546bccf"



---

archive/issue_comments_514300.json:
```json
{
    "body": "<a id='comment:1'></a>I don't know if it's the best way to do it.\n\n---\nNew commits:",
    "created_at": "2018-11-27T16:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514300",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>I don't know if it's the best way to do it.

---
New commits:



---

archive/issue_comments_514301.json:
```json
{
    "body": "Changing branch from \"\" to \"public/26779_graph_input\"",
    "created_at": "2018-11-27T16:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514301",
    "user": "https://github.com/dcoudert"
}
```

Changing branch from "" to "public/26779_graph_input"



---

archive/issue_comments_514302.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-27T16:51:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514302",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_514303.json:
```json
{
    "body": "<a id='comment:2'></a>probably, it would be better to use \"bytes_to_str\"\n\n```\nfrom sage.cpython.string import bytes_to_str\n```\n\ncc-ing Erik, who knows better about the unicode problem",
    "created_at": "2018-11-30T15:46:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514303",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>probably, it would be better to use "bytes_to_str"

```
from sage.cpython.string import bytes_to_str
```

cc-ing Erik, who knows better about the unicode problem



---

archive/issue_comments_514304.json:
```json
{
    "body": "<a id='comment:3'></a>If it's safer I can use it. I was not aware of that method. Let me know if I should do the change.",
    "created_at": "2018-12-01T20:44:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514304",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>If it's safer I can use it. I was not aware of that method. Let me know if I should do the change.



---

archive/issue_comments_514305.json:
```json
{
    "body": "<a id='comment:4'></a>yes, please use \"bytes_to_str\".",
    "created_at": "2018-12-02T19:57:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514305",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:4'></a>yes, please use "bytes_to_str".



---

archive/issue_comments_514306.json:
```json
{
    "body": "Changing commit from \"c58ed7920a65bfde0e651f5393ca165db546bccf\" to \"99e5b330baf3b8a5c7b16107ced5381cba83a2ea\"",
    "created_at": "2018-12-02T21:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c58ed7920a65bfde0e651f5393ca165db546bccf" to "99e5b330baf3b8a5c7b16107ced5381cba83a2ea"



---

archive/issue_comments_514307.json:
```json
{
    "body": "<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-02T21:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514307",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_514308.json:
```json
{
    "body": "<a id='comment:6'></a>Thank you. I agree it is much cleaner this way.",
    "created_at": "2018-12-02T21:13:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514308",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:6'></a>Thank you. I agree it is much cleaner this way.



---

archive/issue_comments_514309.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-12-06T13:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514309",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_514310.json:
```json
{
    "body": "<a id='comment:7'></a>ok, let it be",
    "created_at": "2018-12-06T13:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514310",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>ok, let it be



---

archive/issue_comments_514311.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Fr\u00e9d\u00e9ric Chapoton\"",
    "created_at": "2018-12-06T13:11:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514311",
    "user": "https://github.com/fchapoton"
}
```

Changing reviewer from "" to "Frédéric Chapoton"



---

archive/issue_comments_514312.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2018-12-06T17:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514312",
    "user": "https://github.com/embray"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_514313.json:
```json
{
    "body": "<a id='comment:8'></a>Please try to avoid using inline imports if it isn't strictly necessary; see recent discussion about this at #26758#comment:11",
    "created_at": "2018-12-06T17:04:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514313",
    "user": "https://github.com/embray"
}
```

<a id='comment:8'></a>Please try to avoid using inline imports if it isn't strictly necessary; see recent discussion about this at #26758#comment:11



---

archive/issue_comments_514314.json:
```json
{
    "body": "Changing commit from \"99e5b330baf3b8a5c7b16107ced5381cba83a2ea\" to \"016fa31eb0083267eaccf15c5a508da5aaabbbb1\"",
    "created_at": "2018-12-06T17:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "99e5b330baf3b8a5c7b16107ced5381cba83a2ea" to "016fa31eb0083267eaccf15c5a508da5aaabbbb1"



---

archive/issue_comments_514315.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-06T17:15:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_514316.json:
```json
{
    "body": "<a id='comment:10'></a>I have not touched to existing imports. But it could also be done here if needed.",
    "created_at": "2018-12-06T17:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514316",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'></a>I have not touched to existing imports. But it could also be done here if needed.



---

archive/issue_comments_514317.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-06T17:16:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514317",
    "user": "https://github.com/dcoudert"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_514318.json:
```json
{
    "body": "<a id='comment:11'></a>ok",
    "created_at": "2018-12-06T17:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514318",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'></a>ok



---

archive/issue_comments_514319.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-12-06T17:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514319",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_514320.json:
```json
{
    "body": "Changing branch from \"public/26779_graph_input\" to \"016fa31eb0083267eaccf15c5a508da5aaabbbb1\"",
    "created_at": "2018-12-08T02:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514320",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "public/26779_graph_input" to "016fa31eb0083267eaccf15c5a508da5aaabbbb1"



---

archive/issue_comments_514321.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-12-08T02:54:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514321",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_066280.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-08T02:54:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26779#event-66280"
}
```



---

archive/issue_comments_514322.json:
```json
{
    "body": "Changing commit from \"016fa31eb0083267eaccf15c5a508da5aaabbbb1\" to \"\"",
    "created_at": "2018-12-10T12:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514322",
    "user": "https://github.com/embray"
}
```

Changing commit from "016fa31eb0083267eaccf15c5a508da5aaabbbb1" to ""



---

archive/issue_comments_514323.json:
```json
{
    "body": "<a id='comment:13'></a>It would also be great to squash trivial changes like those together, although at least in this case both versions are at least valid (it's more of a problem when one commit contains trivial errors).",
    "created_at": "2018-12-10T12:55:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514323",
    "user": "https://github.com/embray"
}
```

<a id='comment:13'></a>It would also be great to squash trivial changes like those together, although at least in this case both versions are at least valid (it's more of a problem when one commit contains trivial errors).



---

archive/issue_comments_514324.json:
```json
{
    "body": "<a id='comment:14'></a>Didn't mean to delete that.  I think that's a bug in the trac plugin...",
    "created_at": "2018-12-10T13:08:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26779",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26779#issuecomment-514324",
    "user": "https://github.com/embray"
}
```

<a id='comment:14'></a>Didn't mean to delete that.  I think that's a bug in the trac plugin...
