# Issue 26929: Quotients of polynomials rings over boolean rings

archive/issues_026692.json:
```json
{
    "body": "We have a problem in 8.4 that didn't arise in 8.2:\n\n```\nsage: R.<a0,a1,a2>=BooleanPolynomialRing()\nsage: P.<X>=R[]\nsage: PQ.<t>=P.quo(X^4+X+1)\nsage: (t^4+t+1)==0 #problem\nFalse\nsage: (t^4+t+1).is_zero() #correct\nTrue\n```\nSee https://groups.google.com/d/msg/sage-devel/JuxpFfaKYzA/wdfobJ3GCAAJ\n\nCC:  @saraedum @xcaruso @roed314\n\nAuthor: Martin Rubey\n\nBranch: u/mantepse/quotients_of_polynomials_rings_over_boolean_rings\n\nStatus: needs_work\n\nCommit: 8bfb308b9aa4ba1bfc6bbadd09aab53f12a92156\n\nIssue created by migration from https://trac.sagemath.org/ticket/26929\n\n",
    "created_at": "2018-12-20T21:32:39Z",
    "labels": [
        "component: algebra",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Quotients of polynomials rings over boolean rings",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26929",
    "user": "https://github.com/nbruin"
}
```
We have a problem in 8.4 that didn't arise in 8.2:

```
sage: R.<a0,a1,a2>=BooleanPolynomialRing()
sage: P.<X>=R[]
sage: PQ.<t>=P.quo(X^4+X+1)
sage: (t^4+t+1)==0 #problem
False
sage: (t^4+t+1).is_zero() #correct
True
```
See https://groups.google.com/d/msg/sage-devel/JuxpFfaKYzA/wdfobJ3GCAAJ

CC:  @saraedum @xcaruso @roed314

Author: Martin Rubey

Branch: u/mantepse/quotients_of_polynomials_rings_over_boolean_rings

Status: needs_work

Commit: 8bfb308b9aa4ba1bfc6bbadd09aab53f12a92156

Issue created by migration from https://trac.sagemath.org/ticket/26929





---

archive/issue_comments_519041.json:
```json
{
    "body": "<a id='comment:1'></a>\nSeems to be the same in 8.3.",
    "created_at": "2018-12-20T21:50:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519041",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:1'></a>
Seems to be the same in 8.3.



---

archive/issue_comments_519042.json:
```json
{
    "body": "<a id='comment:2'></a>\n8.3.beta0 works.  Next trying 8.3.beta4",
    "created_at": "2018-12-20T22:39:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519042",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'></a>
8.3.beta0 works.  Next trying 8.3.beta4



---

archive/issue_comments_519043.json:
```json
{
    "body": "<a id='comment:3'></a>\n8.3.beta4 works, next trying 8.3.beta8",
    "created_at": "2018-12-20T23:25:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519043",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>
8.3.beta4 works, next trying 8.3.beta8



---

archive/issue_comments_519044.json:
```json
{
    "body": "<a id='comment:4'></a>\n8.3.beta8 works, next trying 8.3.rc2",
    "created_at": "2018-12-20T23:50:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519044",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:4'></a>
8.3.beta8 works, next trying 8.3.rc2



---

archive/issue_comments_519045.json:
```json
{
    "body": "<a id='comment:5'></a>\n8.3.rc2 fails, next trying 8.3.rc0",
    "created_at": "2018-12-21T06:40:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519045",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:5'></a>
8.3.rc2 fails, next trying 8.3.rc0



---

archive/issue_comments_519046.json:
```json
{
    "body": "<a id='comment:6'></a>\n8.3.rc0 fails",
    "created_at": "2018-12-21T06:51:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519046",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'></a>
8.3.rc0 fails



---

archive/issue_comments_519047.json:
```json
{
    "body": "<a id='comment:7'></a>\nHere are the commits inbetween:\n\n```\n4ea72a1 Updated SageMath version to 8.3.rc0\ne79526a Trac #25686: UniversalCyclotomicField is not finite\n20cfa9e Trac #25677: py3: normalize repr of bound methods in doctest results\n1e8e585 Trac #25673: Add Young-Fibonacci to poset examples\nc78836c Trac #25647: fixing invalid escape sequences in geometry\n01f3896 Trac #25586: py3: adding hash function for orders and fraction fields\nf95b598 Trac #25579: py3: towards docbuild, work on plot.py\n418c1b3 Trac #25573: pyflakes cleanup in number fields\n4caec5e Trac #25569: Speed up TorsionQuadraticModule creation\n1a81fa5 Trac #25529: Implement Sieving to replace search enumeration\n3b29678 Trac #25516: Huge delay introduced in SBox nonlinearity\n6aa29cd Trac #25471: OEIS update (database format change, new entries, incorrect warning handling)\n2f9e9a1 Trac #25320: Support older versions of backports.shutil_get_terminal_size\n111bba1 Trac #25252: Doctest: Complex arithmetic/exponentiation hang (or very slow)\n9ca6afb Trac #25251: Doctest: Certain products cause pynac to deadloop\n7906ff7 Trac #23416: Provide a \"sage -ipynb2rst\" command\na55caf8 Trac #22983: polynomial quotient rings are unique parents\n788b342 Trac #25731: sage-spkg-uninstall: global name 'cur_dir' is not defined\nc513357 Trac #25771: Upgrade to Python 3.6.6\n9bddfce Fix doctest due to more verbose python message\ne4a4340 25529: corrected doc-build failure\n79f6f2c Trac #24973: Univariate polynomial roots bug\n50172dd fix uninstall script\n966c36b Merge develop and 22983\n1594f2d Upgrade to Python 3.6.6\nd2dd232 trac 25579 fixing bad handling of error msg in plot.py\n813da83 Merge branch 'public/25579' in 8.3.b8\n321c9ee Trac #23580: Implement the Onsager and q-Onsager algebras\naae829b Trac #22453: A mistake in the mq.Sbox.polynomials\n4f2c67c Trac #22344: Parent richcmp: never use id()\nc4bbfd9 Trac #18514: Upgrade of p_group_cohomology spkg\n46a4d40 Trac #24612: Move permutation groups to new coercion model\n07c3add Trac #25665: Don't use installed_packages() for threejs URL\n28aa801 Trac #25661: Primecount failures on 32-bit systems\n05ae254 Adding comment in _element_constructor_.\n5f39a40 Merge branch 'public/coercion/perm_groups_new_parent-24612' of git://trac.sagemath.org/sage into public/coercion/perm_groups_new_parent-24612\n1815bc7 Minor fixes to permutation groups\n4ea72a1 Updated SageMath version to 8.3.rc0\ne79526a Trac #25686: UniversalCyclotomicField is not finite\n20cfa9e Trac #25677: py3: normalize repr of bound methods in doctest results\n1e8e585 Trac #25673: Add Young-Fibonacci to poset examples\nc78836c Trac #25647: fixing invalid escape sequences in geometry\n01f3896 Trac #25586: py3: adding hash function for orders and fraction fields\nf95b598 Trac #25579: py3: towards docbuild, work on plot.py\n418c1b3 Trac #25573: pyflakes cleanup in number fields\n4caec5e Trac #25569: Speed up TorsionQuadraticModule creation\n1a81fa5 Trac #25529: Implement Sieving to replace search enumeration\n3b29678 Trac #25516: Huge delay introduced in SBox nonlinearity\n6aa29cd Trac #25471: OEIS update (database format change, new entries, incorrect warning handling)\n2f9e9a1 Trac #25320: Support older versions of backports.shutil_get_terminal_size\n111bba1 Trac #25252: Doctest: Complex arithmetic/exponentiation hang (or very slow)\n9ca6afb Trac #25251: Doctest: Certain products cause pynac to deadloop\n7906ff7 Trac #23416: Provide a \"sage -ipynb2rst\" command\na55caf8 Trac #22983: polynomial quotient rings are unique parents\n788b342 Trac #25731: sage-spkg-uninstall: global name 'cur_dir' is not defined\nc513357 Trac #25771: Upgrade to Python 3.6.6\n9bddfce Fix doctest due to more verbose python message\ne4a4340 25529: corrected doc-build failure\n79f6f2c Trac #24973: Univariate polynomial roots bug\n50172dd fix uninstall script\n966c36b Merge develop and 22983\n1594f2d Upgrade to Python 3.6.6\nd2dd232 trac 25579 fixing bad handling of error msg in plot.py\n813da83 Merge branch 'public/25579' in 8.3.b8\n321c9ee Trac #23580: Implement the Onsager and q-Onsager algebras\naae829b Trac #22453: A mistake in the mq.Sbox.polynomials\n4f2c67c Trac #22344: Parent richcmp: never use id()\nc4bbfd9 Trac #18514: Upgrade of p_group_cohomology spkg\n46a4d40 Trac #24612: Move permutation groups to new coercion model\n07c3add Trac #25665: Don't use installed_packages() for threejs URL\n28aa801 Trac #25661: Primecount failures on 32-bit systems\n05ae254 Adding comment in _element_constructor_.\n5f39a40 Merge branch 'public/coercion/perm_groups_new_parent-24612' of git://trac.sagemath.org/sage into public/coercion/perm_groups_new_parent-24612\n1815bc7 Minor fixes to permutation groups\nfc2b6e9 Trac #25712: Typo in SageTimeit documentation\nba8da52 Trac #25655: Typo ticket\n44e4061 Trac #25695: Miscellaneous code cleanup in sage.misc.dev_tools\n71448bd Trac #21917: Binomial Random Uniform Hypergraph\nb70f6ea Trac #25710: UnicodeDecodeError when plotting `graphs.AfricaMap()`\n5927aea Trac #25707: Package cocoalib\n5cc7435 25529: Corrected coerce issue\n6e37aa2 #23416 : update cmdline doctest\nf935b04 #23416 : has_pandoc doctest function\na3b8c87 merge develop\nedab1bc look at .popcount % 2\n30806a2 Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD\na59ea13 Correct docstring.\n1e667df Element type to word.\n9889222 Trac 25471 : fix warnings for dead sequences\n6f15c06 Trac 25471 : the OEIS database format changed and does not make difference between signed and unsigned sequences anymore\ne081bc5 Trac 25471 : fix the 20 trivial upstream changes\n7292cf3 fix a bug with user defined generators\nf051601 Avoid mutation of a torsion quadratic module after creation in submodule.\n03055ab doctest error in _list_from_iterator fixed\n52c99c2 Corrected Rational point logic\n867e1ff trac 25665 fixing threejs URL\n8b25b1c 25252: doctest\n495e9f4 25251: doctest\n6576915 Wrapping some long lines\n10cdf0e Add optional package p_group_cohomology-3.0\n7a120cb 25529: Removed Affine sieve and some clean up\ncd9ce5b Merge branch 'develop' into t/23580/public/lie_algebras/onsager-23580\ndb8d0d8 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into t/23580/public/lie_algebras/onsager-23580\n7c88021 Trac #20407: Add Magma interface for orders and ideals of number fields\ndc00f68 pyflakes cleanup in number fields\n1b89e95 Fixing doctests.\n344907e Moving permutation groups to the new coercion model and style parents.\nd74a8da Merge remote-tracking branch 'origin/develop' into t/22453/a_mistake_in_the_mq_sbox_polynomials\n3aadf60 fixed typo 'timit' to 'timeit'\n73c5e18 trac 25710 fix unicode in Africa map\n5a7b76a Empty lines after TESTS::\ndd1a07d Use \"make install\" but don't ask questions\n6806c37 trac 25586 adding comment\n0e16142 #25707 package cocoalib\nd1ef281 reformatted the tests\n383b74a Improve speed of component_function to fix delay in walsh_hadamard_transform\nd3b2c00 test added\nde49d8c Typo, parameter checks and tests\ne16a342 Merge remote-tracking branch 'origin/develop' into t/25516/huge_delay_introduced_in_sbox_nonlinearity\n06ac820 add test for method if bug is fixed\n1891333 miscellaneous minor code cleanup in sage.misc.dev_tools\nae0cbb8 correction of comment\n16b48b5 correction\ndab8b92 more doctests for hash\n2b6b048 Random binomial uniform hypergraph\nc91be02 Merge branch 'u/chapoton/25586' in 8.3.b7\n65f09d3 Some small final tweaks.\na5673d1 remove meth is_finite from ring.pyx and universal_cyclotomic_field in order to fall back to the categorial framework\nf90805f Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into public/lie_algebras/onsager-23580\n8c32108 updated branch to honor recent changes to the sbox module\nad4059c Trac #25661: Fix doctests for 32bits platform\n957548b 25529: Reference added\n4c3e188 fix this doctest so that it's normalized properly\n8fbc6a9 py3: support normalization of bound method reprs in the doctest result parser\n042616c Change name.\nc80678a Add to TOC.\na51b8a9 Add another poset example.\n0b9fba4 25529: added some improvements\neff8c2a more typos\n846f1f0 fixing some typos\nb52c99d added long time to some doctests\n1bab637 Merge tag '8.3.beta7' into t/25529/implement_sieving_to_replace_search_enumeration\nddf4a25 fixing escape sequences in geometry folder\n97d8e09 py3: adding hash to orders and fraction fields + other details\n96eafe4 Merge branch 'develop' into t/25516/huge_delay_introduced_in_sbox_nonlinearity\ned1ad6a Examples added\n8a78906 Added Normalization to defining polynomials\n420256c affine: initial version\n359d179 some care for py3 doctests in plot/plot.py\nb25a670 Added Sieve Algorithm for Projective Schemes\n02f421e 24973: use flattening morphism in factor\nd24dd41 Make the ZeroDivisionError format more flexible\n9cf0503 fix\n63badaf do not use id in parent comparison\nc495d92 Replace ._gens by gens() to make things work.\n44d39f9 set ._gens only if necessary to same time at creation. Further cleanup of unnecessary methods\nc9d6272 Speed up. If check is false, then the _module_constructor uses the modulus of self.\n2817d90 Fix delay introduced in the computation of walsh hadamard transform\n7897736 #23416 : typo\n5ed5ab1 #23416 : remove depedency test to pandoc\n0785497 #23416 : command line doctest\n03e157c Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD\naa75e08 #23416 : postprocessing\n2af3bfc #23416 : let nbconvert write file and save images\nd22357e #23416 : do not start with a blank line\n697d02e Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into HEAD\n224cbeb Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into t/23580/public/lie_algebras/onsager-23580\n40f5d38 Updates to documentation for clarity.\n4ecef2f #23416 : better template (output correctly displayed)\n79da2e7 fixed typo, rephrased a sentence\n1edaf59 Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD\n4c76b01 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into t/23580/public/lie_algebras/onsager-23580\nedf0bc7 Cache the product_on_basis.\ncd47f94 Merge branch 'public/lie_algebras/onsager-23580' of trac.sagemath.org:sage into public/lie_algebras/onsager-23580\n37c4050 Merge branch 'develop' into t/23580/public/lie_algebras/onsager-23580\ne6d5ed7 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into public/lie_algebras/onsager-23580\n6498f58 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into public/lie_algebras/onsager-23580\n4660c18 Fix doctests\nf1f2fa5 Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into trac-22983\n806d5af Pickling now works\n272e7e3 Merge remote-tracking branch 'origin/develop' into HEAD\n272e7e3 Merge remote-tracking branch 'origin/develop' into HEAD\n3d8fcbf Merge branch 'develop' into public/lie_algebras/onsager-23580\n6bc3ff8 Some doc fixes and uniformization.\n4bc750b Merge branch 'develop' into public/lie_algebras/onsager-23580\n75e97c6 Merge branch 'develop' into public/lie_algebras/onsager-23580\n5040e90 Added some additional methods and tests.\n90223dc Adding new file to the doc.\nb094112 Implementing q-Onsager algebra.\nfecf666 Initial version of Onsager algebra.\n2ef220d #23416 : typo.\nc18f853 #23416 sage -ipynb2rst command.\nb04e7e9 Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents\n19af059 Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents\nf6a1cd8 Document normalization of modulus\n054945d Make polynomial quotient rings unique parents\nf6b0fae Add rank evaluation\nffdad84 Added Magma interface for orders and ideals of number fields.\n```",
    "created_at": "2018-12-21T06:58:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519047",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>
Here are the commits inbetween:

```
4ea72a1 Updated SageMath version to 8.3.rc0
e79526a Trac #25686: UniversalCyclotomicField is not finite
20cfa9e Trac #25677: py3: normalize repr of bound methods in doctest results
1e8e585 Trac #25673: Add Young-Fibonacci to poset examples
c78836c Trac #25647: fixing invalid escape sequences in geometry
01f3896 Trac #25586: py3: adding hash function for orders and fraction fields
f95b598 Trac #25579: py3: towards docbuild, work on plot.py
418c1b3 Trac #25573: pyflakes cleanup in number fields
4caec5e Trac #25569: Speed up TorsionQuadraticModule creation
1a81fa5 Trac #25529: Implement Sieving to replace search enumeration
3b29678 Trac #25516: Huge delay introduced in SBox nonlinearity
6aa29cd Trac #25471: OEIS update (database format change, new entries, incorrect warning handling)
2f9e9a1 Trac #25320: Support older versions of backports.shutil_get_terminal_size
111bba1 Trac #25252: Doctest: Complex arithmetic/exponentiation hang (or very slow)
9ca6afb Trac #25251: Doctest: Certain products cause pynac to deadloop
7906ff7 Trac #23416: Provide a "sage -ipynb2rst" command
a55caf8 Trac #22983: polynomial quotient rings are unique parents
788b342 Trac #25731: sage-spkg-uninstall: global name 'cur_dir' is not defined
c513357 Trac #25771: Upgrade to Python 3.6.6
9bddfce Fix doctest due to more verbose python message
e4a4340 25529: corrected doc-build failure
79f6f2c Trac #24973: Univariate polynomial roots bug
50172dd fix uninstall script
966c36b Merge develop and 22983
1594f2d Upgrade to Python 3.6.6
d2dd232 trac 25579 fixing bad handling of error msg in plot.py
813da83 Merge branch 'public/25579' in 8.3.b8
321c9ee Trac #23580: Implement the Onsager and q-Onsager algebras
aae829b Trac #22453: A mistake in the mq.Sbox.polynomials
4f2c67c Trac #22344: Parent richcmp: never use id()
c4bbfd9 Trac #18514: Upgrade of p_group_cohomology spkg
46a4d40 Trac #24612: Move permutation groups to new coercion model
07c3add Trac #25665: Don't use installed_packages() for threejs URL
28aa801 Trac #25661: Primecount failures on 32-bit systems
05ae254 Adding comment in _element_constructor_.
5f39a40 Merge branch 'public/coercion/perm_groups_new_parent-24612' of git://trac.sagemath.org/sage into public/coercion/perm_groups_new_parent-24612
1815bc7 Minor fixes to permutation groups
4ea72a1 Updated SageMath version to 8.3.rc0
e79526a Trac #25686: UniversalCyclotomicField is not finite
20cfa9e Trac #25677: py3: normalize repr of bound methods in doctest results
1e8e585 Trac #25673: Add Young-Fibonacci to poset examples
c78836c Trac #25647: fixing invalid escape sequences in geometry
01f3896 Trac #25586: py3: adding hash function for orders and fraction fields
f95b598 Trac #25579: py3: towards docbuild, work on plot.py
418c1b3 Trac #25573: pyflakes cleanup in number fields
4caec5e Trac #25569: Speed up TorsionQuadraticModule creation
1a81fa5 Trac #25529: Implement Sieving to replace search enumeration
3b29678 Trac #25516: Huge delay introduced in SBox nonlinearity
6aa29cd Trac #25471: OEIS update (database format change, new entries, incorrect warning handling)
2f9e9a1 Trac #25320: Support older versions of backports.shutil_get_terminal_size
111bba1 Trac #25252: Doctest: Complex arithmetic/exponentiation hang (or very slow)
9ca6afb Trac #25251: Doctest: Certain products cause pynac to deadloop
7906ff7 Trac #23416: Provide a "sage -ipynb2rst" command
a55caf8 Trac #22983: polynomial quotient rings are unique parents
788b342 Trac #25731: sage-spkg-uninstall: global name 'cur_dir' is not defined
c513357 Trac #25771: Upgrade to Python 3.6.6
9bddfce Fix doctest due to more verbose python message
e4a4340 25529: corrected doc-build failure
79f6f2c Trac #24973: Univariate polynomial roots bug
50172dd fix uninstall script
966c36b Merge develop and 22983
1594f2d Upgrade to Python 3.6.6
d2dd232 trac 25579 fixing bad handling of error msg in plot.py
813da83 Merge branch 'public/25579' in 8.3.b8
321c9ee Trac #23580: Implement the Onsager and q-Onsager algebras
aae829b Trac #22453: A mistake in the mq.Sbox.polynomials
4f2c67c Trac #22344: Parent richcmp: never use id()
c4bbfd9 Trac #18514: Upgrade of p_group_cohomology spkg
46a4d40 Trac #24612: Move permutation groups to new coercion model
07c3add Trac #25665: Don't use installed_packages() for threejs URL
28aa801 Trac #25661: Primecount failures on 32-bit systems
05ae254 Adding comment in _element_constructor_.
5f39a40 Merge branch 'public/coercion/perm_groups_new_parent-24612' of git://trac.sagemath.org/sage into public/coercion/perm_groups_new_parent-24612
1815bc7 Minor fixes to permutation groups
fc2b6e9 Trac #25712: Typo in SageTimeit documentation
ba8da52 Trac #25655: Typo ticket
44e4061 Trac #25695: Miscellaneous code cleanup in sage.misc.dev_tools
71448bd Trac #21917: Binomial Random Uniform Hypergraph
b70f6ea Trac #25710: UnicodeDecodeError when plotting `graphs.AfricaMap()`
5927aea Trac #25707: Package cocoalib
5cc7435 25529: Corrected coerce issue
6e37aa2 #23416 : update cmdline doctest
f935b04 #23416 : has_pandoc doctest function
a3b8c87 merge develop
edab1bc look at .popcount % 2
30806a2 Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD
a59ea13 Correct docstring.
1e667df Element type to word.
9889222 Trac 25471 : fix warnings for dead sequences
6f15c06 Trac 25471 : the OEIS database format changed and does not make difference between signed and unsigned sequences anymore
e081bc5 Trac 25471 : fix the 20 trivial upstream changes
7292cf3 fix a bug with user defined generators
f051601 Avoid mutation of a torsion quadratic module after creation in submodule.
03055ab doctest error in _list_from_iterator fixed
52c99c2 Corrected Rational point logic
867e1ff trac 25665 fixing threejs URL
8b25b1c 25252: doctest
495e9f4 25251: doctest
6576915 Wrapping some long lines
10cdf0e Add optional package p_group_cohomology-3.0
7a120cb 25529: Removed Affine sieve and some clean up
cd9ce5b Merge branch 'develop' into t/23580/public/lie_algebras/onsager-23580
db8d0d8 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into t/23580/public/lie_algebras/onsager-23580
7c88021 Trac #20407: Add Magma interface for orders and ideals of number fields
dc00f68 pyflakes cleanup in number fields
1b89e95 Fixing doctests.
344907e Moving permutation groups to the new coercion model and style parents.
d74a8da Merge remote-tracking branch 'origin/develop' into t/22453/a_mistake_in_the_mq_sbox_polynomials
3aadf60 fixed typo 'timit' to 'timeit'
73c5e18 trac 25710 fix unicode in Africa map
5a7b76a Empty lines after TESTS::
dd1a07d Use "make install" but don't ask questions
6806c37 trac 25586 adding comment
0e16142 #25707 package cocoalib
d1ef281 reformatted the tests
383b74a Improve speed of component_function to fix delay in walsh_hadamard_transform
d3b2c00 test added
de49d8c Typo, parameter checks and tests
e16a342 Merge remote-tracking branch 'origin/develop' into t/25516/huge_delay_introduced_in_sbox_nonlinearity
06ac820 add test for method if bug is fixed
1891333 miscellaneous minor code cleanup in sage.misc.dev_tools
ae0cbb8 correction of comment
16b48b5 correction
dab8b92 more doctests for hash
2b6b048 Random binomial uniform hypergraph
c91be02 Merge branch 'u/chapoton/25586' in 8.3.b7
65f09d3 Some small final tweaks.
a5673d1 remove meth is_finite from ring.pyx and universal_cyclotomic_field in order to fall back to the categorial framework
f90805f Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into public/lie_algebras/onsager-23580
8c32108 updated branch to honor recent changes to the sbox module
ad4059c Trac #25661: Fix doctests for 32bits platform
957548b 25529: Reference added
4c3e188 fix this doctest so that it's normalized properly
8fbc6a9 py3: support normalization of bound method reprs in the doctest result parser
042616c Change name.
c80678a Add to TOC.
a51b8a9 Add another poset example.
0b9fba4 25529: added some improvements
eff8c2a more typos
846f1f0 fixing some typos
b52c99d added long time to some doctests
1bab637 Merge tag '8.3.beta7' into t/25529/implement_sieving_to_replace_search_enumeration
ddf4a25 fixing escape sequences in geometry folder
97d8e09 py3: adding hash to orders and fraction fields + other details
96eafe4 Merge branch 'develop' into t/25516/huge_delay_introduced_in_sbox_nonlinearity
ed1ad6a Examples added
8a78906 Added Normalization to defining polynomials
420256c affine: initial version
359d179 some care for py3 doctests in plot/plot.py
b25a670 Added Sieve Algorithm for Projective Schemes
02f421e 24973: use flattening morphism in factor
d24dd41 Make the ZeroDivisionError format more flexible
9cf0503 fix
63badaf do not use id in parent comparison
c495d92 Replace ._gens by gens() to make things work.
44d39f9 set ._gens only if necessary to same time at creation. Further cleanup of unnecessary methods
c9d6272 Speed up. If check is false, then the _module_constructor uses the modulus of self.
2817d90 Fix delay introduced in the computation of walsh hadamard transform
7897736 #23416 : typo
5ed5ab1 #23416 : remove depedency test to pandoc
0785497 #23416 : command line doctest
03e157c Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD
aa75e08 #23416 : postprocessing
2af3bfc #23416 : let nbconvert write file and save images
d22357e #23416 : do not start with a blank line
697d02e Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into HEAD
224cbeb Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into t/23580/public/lie_algebras/onsager-23580
40f5d38 Updates to documentation for clarity.
4ecef2f #23416 : better template (output correctly displayed)
79da2e7 fixed typo, rephrased a sentence
1edaf59 Merge branch 'u/tmonteil/provide_a__sage__ipynb2rst__command' of trac.sagemath.org:sage into HEAD
4c76b01 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into t/23580/public/lie_algebras/onsager-23580
edf0bc7 Cache the product_on_basis.
cd47f94 Merge branch 'public/lie_algebras/onsager-23580' of trac.sagemath.org:sage into public/lie_algebras/onsager-23580
37c4050 Merge branch 'develop' into t/23580/public/lie_algebras/onsager-23580
e6d5ed7 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into public/lie_algebras/onsager-23580
6498f58 Merge branch 'public/lie_algebras/onsager-23580' of git://trac.sagemath.org/sage into public/lie_algebras/onsager-23580
4660c18 Fix doctests
f1f2fa5 Merge remote-tracking branch 'trac/u/saraedum/polynomial_quotient_rings_are_unique_parents' into trac-22983
806d5af Pickling now works
272e7e3 Merge remote-tracking branch 'origin/develop' into HEAD
272e7e3 Merge remote-tracking branch 'origin/develop' into HEAD
3d8fcbf Merge branch 'develop' into public/lie_algebras/onsager-23580
6bc3ff8 Some doc fixes and uniformization.
4bc750b Merge branch 'develop' into public/lie_algebras/onsager-23580
75e97c6 Merge branch 'develop' into public/lie_algebras/onsager-23580
5040e90 Added some additional methods and tests.
90223dc Adding new file to the doc.
b094112 Implementing q-Onsager algebra.
fecf666 Initial version of Onsager algebra.
2ef220d #23416 : typo.
c18f853 #23416 sage -ipynb2rst command.
b04e7e9 Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents
19af059 Merge branch 'develop' into t/22983/polynomial_quotient_rings_are_unique_parents
f6a1cd8 Document normalization of modulus
054945d Make polynomial quotient rings unique parents
f6b0fae Add rank evaluation
ffdad84 Added Magma interface for orders and ideals of number fields.
```



---

archive/issue_comments_519048.json:
```json
{
    "body": "<a id='comment:8'></a>\n\n```\ngit diff --name-only 8.3.beta8 8.3.rc0 src/sage/rings/polynomial\nsrc/sage/rings/polynomial/polynomial_element.pyx\nsrc/sage/rings/polynomial/polynomial_quotient_ring.py\n```",
    "created_at": "2018-12-21T06:59:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519048",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>

```
git diff --name-only 8.3.beta8 8.3.rc0 src/sage/rings/polynomial
src/sage/rings/polynomial/polynomial_element.pyx
src/sage/rings/polynomial/polynomial_quotient_ring.py
```



---

archive/issue_comments_519049.json:
```json
{
    "body": "<a id='comment:9'></a>\nThe offending commit is:\n\n```\na55caf8 Trac #22983: polynomial quotient rings are unique parents\n```\nBefore it works, afterward it fails.\n\nThe diff is not very long, see #22983 and affects only `polynomial_quotient_ring.py`, but debugging this is beyond me.",
    "created_at": "2018-12-21T07:25:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519049",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:9'></a>
The offending commit is:

```
a55caf8 Trac #22983: polynomial quotient rings are unique parents
```
Before it works, afterward it fails.

The diff is not very long, see #22983 and affects only `polynomial_quotient_ring.py`, but debugging this is beyond me.



---

archive/issue_comments_519050.json:
```json
{
    "body": "<a id='comment:11'></a>\nIs it intentional that the parent of `x` does not involve `t`?\n\n```\nsage: R.<a0,a1,a2>=BooleanPolynomialRing()\nsage: P.<X>=R[]\nsage: PQ.<t>=P.quo(X^4+X+1)\nsage: x = (t^4+t+1)\nsage: x.parent()\nQuotient of Univariate Polynomial Ring in X over Boolean PolynomialRing in a0, a1, a2 by the ideal (X^4 + X + 1)\n```\n\nApart from that, possibly the problem is that `x.parent().defining_ideal()` only has the default method `reduce`.",
    "created_at": "2018-12-21T13:17:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519050",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:11'></a>
Is it intentional that the parent of `x` does not involve `t`?

```
sage: R.<a0,a1,a2>=BooleanPolynomialRing()
sage: P.<X>=R[]
sage: PQ.<t>=P.quo(X^4+X+1)
sage: x = (t^4+t+1)
sage: x.parent()
Quotient of Univariate Polynomial Ring in X over Boolean PolynomialRing in a0, a1, a2 by the ideal (X^4 + X + 1)
```

Apart from that, possibly the problem is that `x.parent().defining_ideal()` only has the default method `reduce`.



---

archive/issue_comments_519051.json:
```json
{
    "body": "<a id='comment:12'></a>\nThe parent does not print the `t` when you ask about the string representation but it knows about it. That's normal behaviour for many parents.",
    "created_at": "2018-12-21T13:46:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519051",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:12'></a>
The parent does not print the `t` when you ask about the string representation but it knows about it. That's normal behaviour for many parents.



---

archive/issue_comments_519052.json:
```json
{
    "body": "<a id='comment:13'></a>\nI think the problem is that the type of `PQ` changed from a `PolynomialQuotientRing` to a `QuotientRing`, probably because some operation thrown an error and then the fallback is used.",
    "created_at": "2018-12-21T13:47:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519052",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:13'></a>
I think the problem is that the type of `PQ` changed from a `PolynomialQuotientRing` to a `QuotientRing`, probably because some operation thrown an error and then the fallback is used.



---

archive/issue_comments_519053.json:
```json
{
    "body": "<a id='comment:14'></a>\nThe quotient by a principal ideal does not work anymore:\n\n```\nsage: P.quotient_by_principal_ideal(P.ideal(X^4+X+1))\nAttributeError: 'sage.rings.polynomial.pbori.BooleanPolynomial' object has no attribute 'dict'\n```\n\nSo, why do boolean polynomials not implement a `dict()` method that the generic polynomial code expects every polynomials to implement apparently?\n\n```\nsage: R.one().dict()\nAttributeError: 'sage.rings.polynomial.pbori.BooleanPolynomial' object has no attribute 'dict'\n```\n\nEarlier that code path was not triggered, because the code asked the boolean polynomial ring `isinstance(R, IntegralDomain)` which it is not. This was however, the wrong question. Now it correctly asks `R in IntegralDomains()` which it is.\n\nSo, if you want to fix this, maybe just implement `dict()` like other polynomial rings do.",
    "created_at": "2018-12-21T13:56:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519053",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:14'></a>
The quotient by a principal ideal does not work anymore:

```
sage: P.quotient_by_principal_ideal(P.ideal(X^4+X+1))
AttributeError: 'sage.rings.polynomial.pbori.BooleanPolynomial' object has no attribute 'dict'
```

So, why do boolean polynomials not implement a `dict()` method that the generic polynomial code expects every polynomials to implement apparently?

```
sage: R.one().dict()
AttributeError: 'sage.rings.polynomial.pbori.BooleanPolynomial' object has no attribute 'dict'
```

Earlier that code path was not triggered, because the code asked the boolean polynomial ring `isinstance(R, IntegralDomain)` which it is not. This was however, the wrong question. Now it correctly asks `R in IntegralDomains()` which it is.

So, if you want to fix this, maybe just implement `dict()` like other polynomial rings do.



---

archive/issue_comments_519054.json:
```json
{
    "body": "<a id='comment:15'></a>\nJust implementing `dict` breaks all kinds of other things. I put:\n\n```\n    def dict(self):\n        R=self.parent()\n        vars=R.gens()\n        GF2=R.base_ring()\n        one=GF2.one()\n        return dict((ETuple(tuple(1 if v in s else 0 for v in vars)),one) for s in self.set())\n```\non `sage.rings.polynomial.pbori.BooleanPolynomial` and it breaks the construction of the quotient ring. By providing a `dict` method, we do end up in the code path of `P.quotient_by_principal_ideal` but something there breaks (it ends up factorizing the modulus, but something breaks in the coercion framework). It looks a little wrong that it tries to factor the modulus just for constructing the quotient ring. It could just happily compute in the quotient ring without factoring!\n\nIt doesn't look like this is very easy to fix.",
    "created_at": "2018-12-22T04:00:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519054",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:15'></a>
Just implementing `dict` breaks all kinds of other things. I put:

```
    def dict(self):
        R=self.parent()
        vars=R.gens()
        GF2=R.base_ring()
        one=GF2.one()
        return dict((ETuple(tuple(1 if v in s else 0 for v in vars)),one) for s in self.set())
```
on `sage.rings.polynomial.pbori.BooleanPolynomial` and it breaks the construction of the quotient ring. By providing a `dict` method, we do end up in the code path of `P.quotient_by_principal_ideal` but something there breaks (it ends up factorizing the modulus, but something breaks in the coercion framework). It looks a little wrong that it tries to factor the modulus just for constructing the quotient ring. It could just happily compute in the quotient ring without factoring!

It doesn't look like this is very easy to fix.



---

archive/issue_comments_519055.json:
```json
{
    "body": "<a id='comment:16'></a>\nThere is a lot more wrong here:\n\n```\nsage: R.<a,b,c>=BooleanPolynomialRing()\nsage: R.is_integral_domain()\nTrue\nsage: a*(a+1)\n0\n```\nThe problem: the method is_integral_domain is just inherited from generic polynomial rings, where it just returns whether the base ring is an integral domain. However, a BooleanPolynomialRing is of course NOT a free polynomial ring, so this is completely wrong. I don't know what the right way is to override, because in a way the problem is much deeper: If we inherit from GenericPolynomialRing, don't we end up with something that SHOULD be an integral domain? So should BooleanPolynomialRing inherit from something else?",
    "created_at": "2018-12-22T04:12:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519055",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:16'></a>
There is a lot more wrong here:

```
sage: R.<a,b,c>=BooleanPolynomialRing()
sage: R.is_integral_domain()
True
sage: a*(a+1)
0
```
The problem: the method is_integral_domain is just inherited from generic polynomial rings, where it just returns whether the base ring is an integral domain. However, a BooleanPolynomialRing is of course NOT a free polynomial ring, so this is completely wrong. I don't know what the right way is to override, because in a way the problem is much deeper: If we inherit from GenericPolynomialRing, don't we end up with something that SHOULD be an integral domain? So should BooleanPolynomialRing inherit from something else?



---

archive/issue_comments_519056.json:
```json
{
    "body": "<a id='comment:17'></a>\ndeleted comment because of nonsense.",
    "created_at": "2018-12-22T06:27:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519056",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:17'></a>
deleted comment because of nonsense.



---

archive/issue_comments_519057.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [nbruin](#comment%3A16):\n> There is a lot more wrong here:\n> \n> ```\n> sage: R.<a,b,c>=BooleanPolynomialRing()\n> sage: R.is_integral_domain()\n> True\n> sage: a*(a+1)\n> 0\n> ```\n> The problem: the method is_integral_domain is just inherited from generic polynomial rings, where it just returns whether the base ring is an integral domain. However, a BooleanPolynomialRing is of course NOT a free polynomial ring, so this is completely wrong. I don't know what the right way is to override, because in a way the problem is much deeper: If we inherit from GenericPolynomialRing, don't we end up with something that SHOULD be an integral domain? So should BooleanPolynomialRing inherit from something else?\n\n\nWell, when I wrote the things above, I had just assumed that boolean polynomial rings are free since they inherited from the generic implementation. Now that I read what they actually are, I agree that they should definitely not inherit from that class.\n\nI guess they should probably just inherit from Parent and set the right category, see sage.structure.parent. There might be a better superclass though.",
    "created_at": "2018-12-22T14:34:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519057",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:18'></a>
Replying to [nbruin](#comment%3A16):
> There is a lot more wrong here:
> 
> ```
> sage: R.<a,b,c>=BooleanPolynomialRing()
> sage: R.is_integral_domain()
> True
> sage: a*(a+1)
> 0
> ```
> The problem: the method is_integral_domain is just inherited from generic polynomial rings, where it just returns whether the base ring is an integral domain. However, a BooleanPolynomialRing is of course NOT a free polynomial ring, so this is completely wrong. I don't know what the right way is to override, because in a way the problem is much deeper: If we inherit from GenericPolynomialRing, don't we end up with something that SHOULD be an integral domain? So should BooleanPolynomialRing inherit from something else?


Well, when I wrote the things above, I had just assumed that boolean polynomial rings are free since they inherited from the generic implementation. Now that I read what they actually are, I agree that they should definitely not inherit from that class.

I guess they should probably just inherit from Parent and set the right category, see sage.structure.parent. There might be a better superclass though.



---

archive/issue_comments_519058.json:
```json
{
    "body": "<a id='comment:19'></a>\ninherit from `sage.rings.ring.CommutativeRing`, just as `MPolynomialRing_base` does? (and then `MPolynomial(CommutativeRingElement)`)",
    "created_at": "2018-12-22T14:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519058",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:19'></a>
inherit from `sage.rings.ring.CommutativeRing`, just as `MPolynomialRing_base` does? (and then `MPolynomial(CommutativeRingElement)`)



---

archive/issue_comments_519059.json:
```json
{
    "body": "<a id='comment:20'></a>\nThe documentation is a bit unclear here:\n\n```\n    Those classes, except maybe for the lowest ones like :class:`Ring`,\n    :class:`CommutativeRing`, :class:`Algebra` and :class:`CommutativeAlgebra`,\n    are being progressively deprecated in favor of the corresponding\n    categories. which are more flexible, in particular with respect to multiple\n    inheritance.\n```\n\nNote that all of these inherit from `ParentWithGens` which is deprecated.",
    "created_at": "2018-12-22T14:48:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519059",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:20'></a>
The documentation is a bit unclear here:

```
    Those classes, except maybe for the lowest ones like :class:`Ring`,
    :class:`CommutativeRing`, :class:`Algebra` and :class:`CommutativeAlgebra`,
    are being progressively deprecated in favor of the corresponding
    categories. which are more flexible, in particular with respect to multiple
    inheritance.
```

Note that all of these inherit from `ParentWithGens` which is deprecated.



---

archive/issue_comments_519060.json:
```json
{
    "body": "<a id='comment:21'></a>\nAnyway, I guess whatever works is fine.",
    "created_at": "2018-12-22T14:53:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519060",
    "user": "https://github.com/saraedum"
}
```

<a id='comment:21'></a>
Anyway, I guess whatever works is fine.



---

archive/issue_comments_519061.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/quotients_of_polynomials_rings_over_boolean_rings\"",
    "created_at": "2018-12-23T13:10:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519061",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/quotients_of_polynomials_rings_over_boolean_rings"



---

archive/issue_comments_519062.json:
```json
{
    "body": "Changing commit from \"\" to \"984c6d98fa08520173ac583319a3bf10731bb430\"",
    "created_at": "2018-12-23T17:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519062",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "984c6d98fa08520173ac583319a3bf10731bb430"



---

archive/issue_comments_519063.json:
```json
{
    "body": "<a id='comment:23'></a>\nI think it would be more correct to adapt `polynomial_quotient_ring.py` for multivariate polynomials.\n\n---\nNew commits:\n|                                                                                                                                          |           |\n|------------------------------------------------------------------------------------------------------------------------------------------|-----------|\n|[984c6d9](https://github.com/sagemath/sagetrac-mirror/commit/984c6d98fa08520173ac583319a3bf10731bb430)|`naive fix`|",
    "created_at": "2018-12-23T17:07:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519063",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:23'></a>
I think it would be more correct to adapt `polynomial_quotient_ring.py` for multivariate polynomials.

---
New commits:
|                                                                                                                                          |           |
|------------------------------------------------------------------------------------------------------------------------------------------|-----------|
|[984c6d9](https://github.com/sagemath/sagetrac-mirror/commit/984c6d98fa08520173ac583319a3bf10731bb430)|`naive fix`|



---

archive/issue_comments_519064.json:
```json
{
    "body": "<a id='comment:24'></a>\nIn fact, I would like to inherit from `QuotientRing_nc`, but it seems that this is not possible ('not an extension type').  What would be the proper way to do this?  For the moment, I'll just duplicate the definitions, but that's stupid.",
    "created_at": "2018-12-24T07:44:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519064",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:24'></a>
In fact, I would like to inherit from `QuotientRing_nc`, but it seems that this is not possible ('not an extension type').  What would be the proper way to do this?  For the moment, I'll just duplicate the definitions, but that's stupid.



---

archive/issue_comments_519065.json:
```json
{
    "body": "Changing commit from \"984c6d98fa08520173ac583319a3bf10731bb430\" to \"236f09677dba5124584096c535430ee01b8974ce\"",
    "created_at": "2018-12-24T22:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519065",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "984c6d98fa08520173ac583319a3bf10731bb430" to "236f09677dba5124584096c535430ee01b8974ce"



---

archive/issue_comments_519066.json:
```json
{
    "body": "<a id='comment:25'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                    |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|\n|[236f096](https://github.com/sagemath/sagetrac-mirror/commit/236f09677dba5124584096c535430ee01b8974ce)|`fix remaining doctests, remove unnecessary imports`|",
    "created_at": "2018-12-24T22:15:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519066",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                    |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|
|[236f096](https://github.com/sagemath/sagetrac-mirror/commit/236f09677dba5124584096c535430ee01b8974ce)|`fix remaining doctests, remove unnecessary imports`|



---

archive/issue_comments_519067.json:
```json
{
    "body": "<a id='comment:26'></a>\nIt's a stupid fix, but it seems to work, at least essentially.",
    "created_at": "2018-12-24T22:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519067",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:26'></a>
It's a stupid fix, but it seems to work, at least essentially.



---

archive/issue_comments_519068.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Rubey\"",
    "created_at": "2018-12-24T22:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519068",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "Martin Rubey"



---

archive/issue_comments_519069.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-12-24T22:16:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519069",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_519070.json:
```json
{
    "body": "<a id='comment:27'></a>\nActually, it doesn't work.  There are failing doctests in `sage.crypto`.",
    "created_at": "2018-12-24T22:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519070",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:27'></a>
Actually, it doesn't work.  There are failing doctests in `sage.crypto`.



---

archive/issue_comments_519071.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-12-24T22:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519071",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_519072.json:
```json
{
    "body": "<a id='comment:28'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                     |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|\n|[9bae43d](https://github.com/sagemath/sagetrac-mirror/commit/9bae43d1438c94005e7a168b75cfdf3d48682a20)|`fix bad import, implement repr_long`|",
    "created_at": "2018-12-24T23:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519072",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:28'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|
|[9bae43d](https://github.com/sagemath/sagetrac-mirror/commit/9bae43d1438c94005e7a168b75cfdf3d48682a20)|`fix bad import, implement repr_long`|



---

archive/issue_comments_519073.json:
```json
{
    "body": "Changing commit from \"236f09677dba5124584096c535430ee01b8974ce\" to \"9bae43d1438c94005e7a168b75cfdf3d48682a20\"",
    "created_at": "2018-12-24T23:10:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519073",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "236f09677dba5124584096c535430ee01b8974ce" to "9bae43d1438c94005e7a168b75cfdf3d48682a20"



---

archive/issue_comments_519074.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-24T23:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519074",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_519075.json:
```json
{
    "body": "<a id='comment:29'></a>\nnext try...",
    "created_at": "2018-12-24T23:11:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519075",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:29'></a>
next try...



---

archive/issue_comments_519076.json:
```json
{
    "body": "<a id='comment:30'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|\n|[c68d2c1](https://github.com/sagemath/sagetrac-mirror/commit/c68d2c1e0af31017f4f3f68cb08a6b539c30906b)|`remove unused imports reported by pyflakes`|",
    "created_at": "2018-12-25T07:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519076",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:30'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------|
|[c68d2c1](https://github.com/sagemath/sagetrac-mirror/commit/c68d2c1e0af31017f4f3f68cb08a6b539c30906b)|`remove unused imports reported by pyflakes`|



---

archive/issue_comments_519077.json:
```json
{
    "body": "Changing commit from \"9bae43d1438c94005e7a168b75cfdf3d48682a20\" to \"c68d2c1e0af31017f4f3f68cb08a6b539c30906b\"",
    "created_at": "2018-12-25T07:14:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519077",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "9bae43d1438c94005e7a168b75cfdf3d48682a20" to "c68d2c1e0af31017f4f3f68cb08a6b539c30906b"



---

archive/issue_comments_519078.json:
```json
{
    "body": "Changing commit from \"c68d2c1e0af31017f4f3f68cb08a6b539c30906b\" to \"a3f33b72fba1c666f071fb09b18adee785ba95bc\"",
    "created_at": "2018-12-25T08:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519078",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c68d2c1e0af31017f4f3f68cb08a6b539c30906b" to "a3f33b72fba1c666f071fb09b18adee785ba95bc"



---

archive/issue_comments_519079.json:
```json
{
    "body": "<a id='comment:31'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                              |\n|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|\n|[a3f33b7](https://github.com/sagemath/sagetrac-mirror/commit/a3f33b72fba1c666f071fb09b18adee785ba95bc)|`add documentation and doctest for term_order`|",
    "created_at": "2018-12-25T08:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519079",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                              |
|-------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
|[a3f33b7](https://github.com/sagemath/sagetrac-mirror/commit/a3f33b72fba1c666f071fb09b18adee785ba95bc)|`add documentation and doctest for term_order`|



---

archive/issue_comments_519080.json:
```json
{
    "body": "<a id='comment:32'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |             |\n|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|\n|[8bfb308](https://github.com/sagemath/sagetrac-mirror/commit/8bfb308b9aa4ba1bfc6bbadd09aab53f12a92156)|`fix doctest`|",
    "created_at": "2018-12-26T18:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519080",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:32'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |             |
|-------------------------------------------------------------------------------------------------------------------------------------------|-------------|
|[8bfb308](https://github.com/sagemath/sagetrac-mirror/commit/8bfb308b9aa4ba1bfc6bbadd09aab53f12a92156)|`fix doctest`|



---

archive/issue_comments_519081.json:
```json
{
    "body": "Changing commit from \"a3f33b72fba1c666f071fb09b18adee785ba95bc\" to \"8bfb308b9aa4ba1bfc6bbadd09aab53f12a92156\"",
    "created_at": "2018-12-26T18:48:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519081",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a3f33b72fba1c666f071fb09b18adee785ba95bc" to "8bfb308b9aa4ba1bfc6bbadd09aab53f12a92156"



---

archive/issue_comments_519082.json:
```json
{
    "body": "<a id='comment:33'></a>\nThanks for these fixes, Martin. I've tested your commits on top of 8.5. The example works now.\nThen I looked at another use case of mine which has an additional quotient ring. A coercion from one quotient ring to the other fails. Here is the expanded example:\n\n```\nvarl = ['x0', 'x1', 'x2', 'x3']\nB = BooleanPolynomialRing(names = varl)\nB.inject_variables(verbose=False)\nP.<p> = PolynomialRing(B)\nByte.<t> = P.quotient_ring( p^4 + p + 1 )\nt^4 + t + 1 == 0   # o.k.\nX = B.gens()\nx = Byte(list(X))\n\nBaff = P.quotient( p^4 + 1 )\nxa = Baff(x)\n```\n\nThe last statement fails. In version 8.2 and before it works with `xa` being `x3*pbar^3 + x2*pbar^2 + x1*pbar + x0`. Something is still missing?\n\nRegards,\nJ\u00f6rg.",
    "created_at": "2018-12-29T14:47:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519082",
    "user": "https://github.com/jvpeetz"
}
```

<a id='comment:33'></a>
Thanks for these fixes, Martin. I've tested your commits on top of 8.5. The example works now.
Then I looked at another use case of mine which has an additional quotient ring. A coercion from one quotient ring to the other fails. Here is the expanded example:

```
varl = ['x0', 'x1', 'x2', 'x3']
B = BooleanPolynomialRing(names = varl)
B.inject_variables(verbose=False)
P.<p> = PolynomialRing(B)
Byte.<t> = P.quotient_ring( p^4 + p + 1 )
t^4 + t + 1 == 0   # o.k.
X = B.gens()
x = Byte(list(X))

Baff = P.quotient( p^4 + 1 )
xa = Baff(x)
```

The last statement fails. In version 8.2 and before it works with `xa` being `x3*pbar^3 + x2*pbar^2 + x1*pbar + x0`. Something is still missing?

Regards,
Jrg.



---

archive/issue_comments_519083.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [gh-jvpeetz](#comment%3A33):\n[...]\n> The last statement fails. In version 8.2 and before it works with `xa` being `x3*pbar^3 + x2*pbar^2 + x1*pbar + x0`. Something is still missing?\n\n\nI'm inclined to say the failure is justified and desirable. The rings `Baff` and `Byte` aren't canonically isomorphic, are they? It looks like previously, the conversion happened by arbitrarily lifting the element from `Byte` to `P` and then taking the image in `Baff`. You should still be able to do that by explicitly lifting:\n\n```\nxa=Baff(x.lift())\n```",
    "created_at": "2018-12-29T15:57:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519083",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:34'></a>
Replying to [gh-jvpeetz](#comment%3A33):
[...]
> The last statement fails. In version 8.2 and before it works with `xa` being `x3*pbar^3 + x2*pbar^2 + x1*pbar + x0`. Something is still missing?


I'm inclined to say the failure is justified and desirable. The rings `Baff` and `Byte` aren't canonically isomorphic, are they? It looks like previously, the conversion happened by arbitrarily lifting the element from `Byte` to `P` and then taking the image in `Baff`. You should still be able to do that by explicitly lifting:

```
xa=Baff(x.lift())
```



---

archive/issue_comments_519084.json:
```json
{
    "body": "<a id='comment:35'></a>\nYes, that works. This also works by using the `list()` method:\n\n```\nxa = Baff(x.list())\n```\nPreviously, also something like this worked:\n\n```\ny = t^2 + t + 1\nxint = ZZ(y.list(), 2)\n```\nwhich now fails.\nAny idea?",
    "created_at": "2018-12-29T17:28:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519084",
    "user": "https://github.com/jvpeetz"
}
```

<a id='comment:35'></a>
Yes, that works. This also works by using the `list()` method:

```
xa = Baff(x.list())
```
Previously, also something like this worked:

```
y = t^2 + t + 1
xint = ZZ(y.list(), 2)
```
which now fails.
Any idea?



---

archive/issue_comments_519085.json:
```json
{
    "body": "<a id='comment:36'></a>\nWhat should the last statement do?  (I've never seen a two-parameter call to `ZZ`)",
    "created_at": "2018-12-29T18:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519085",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:36'></a>
What should the last statement do?  (I've never seen a two-parameter call to `ZZ`)



---

archive/issue_comments_519086.json:
```json
{
    "body": "<a id='comment:37'></a>\nThe second parameter gives a base for the transformation of the list of digits given as the first argument. In the example `y.list()` is `[1, 1, 1, 0]` which should be interpreted as bits to give decimal 7 (big endian). See `ZZ?`.",
    "created_at": "2018-12-29T18:45:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519086",
    "user": "https://github.com/jvpeetz"
}
```

<a id='comment:37'></a>
The second parameter gives a base for the transformation of the list of digits given as the first argument. In the example `y.list()` is `[1, 1, 1, 0]` which should be interpreted as bits to give decimal 7 (big endian). See `ZZ?`.



---

archive/issue_comments_519087.json:
```json
{
    "body": "<a id='comment:38'></a>\nOK, a bit simpler:\n\n```\nsage: B.<x> = BooleanPolynomialRing(1)\nsage: ZZ(B(1))\nTypeError: unable to coerce <type 'sage.rings.polynomial.pbori.BooleanPolynomial'> to an integer\nsage: \n```",
    "created_at": "2018-12-29T19:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519087",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:38'></a>
OK, a bit simpler:

```
sage: B.<x> = BooleanPolynomialRing(1)
sage: ZZ(B(1))
TypeError: unable to coerce <type 'sage.rings.polynomial.pbori.BooleanPolynomial'> to an integer
sage: 
```



---

archive/issue_comments_519088.json:
```json
{
    "body": "<a id='comment:39'></a>\nThis problem is not specific to the Boolean polynomial ring:\n\n```\nsage: R.<x> = PolynomialRing(QQ)\nsage: S = R.quotient(x^2+x)\nsage: S(1)\n1\nsage: ZZ(S(1))\nTypeError: unable to coerce <class 'sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic_with_category.element_class'> to an integer\n```\n\nI am not familiar enough with the coercion model to decide whether there should be a coercion or not.  I don't even know how\n\n```\nsage: ZZ(R(1))\n1\n```\nworks.",
    "created_at": "2018-12-29T19:30:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519088",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:39'></a>
This problem is not specific to the Boolean polynomial ring:

```
sage: R.<x> = PolynomialRing(QQ)
sage: S = R.quotient(x^2+x)
sage: S(1)
1
sage: ZZ(S(1))
TypeError: unable to coerce <class 'sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic_with_category.element_class'> to an integer
```

I am not familiar enough with the coercion model to decide whether there should be a coercion or not.  I don't even know how

```
sage: ZZ(R(1))
1
```
works.



---

archive/issue_comments_519089.json:
```json
{
    "body": "<a id='comment:40'></a>\nThere seems to be a bug. Quotients of multivariate polynomial rings do coerce to integers, quotients of univariate rings don't:\n\n```\nsage: R.<x,y> = QQ[]; S.<a,b> = R.quo(x^2 + y^2); type(a)\n<class 'sage.rings.quotient_ring.QuotientRing_generic_with_category.element_class'>\nsage: ZZ(S(-3))\n-3\nsage: R1.<x1> = QQ[]; S1.<a1> = R1.quo(x1^2 + x1); type(a1)\n<class 'sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic_with_category.element_class'>\nsage: ZZ(S1(-3))\nTypeError: unable to coerce <class 'sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic_with_category.element_class'> to an integer\n```",
    "created_at": "2018-12-29T19:42:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519089",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:40'></a>
There seems to be a bug. Quotients of multivariate polynomial rings do coerce to integers, quotients of univariate rings don't:

```
sage: R.<x,y> = QQ[]; S.<a,b> = R.quo(x^2 + y^2); type(a)
<class 'sage.rings.quotient_ring.QuotientRing_generic_with_category.element_class'>
sage: ZZ(S(-3))
-3
sage: R1.<x1> = QQ[]; S1.<a1> = R1.quo(x1^2 + x1); type(a1)
<class 'sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic_with_category.element_class'>
sage: ZZ(S1(-3))
TypeError: unable to coerce <class 'sage.rings.polynomial.polynomial_quotient_ring.PolynomialQuotientRing_generic_with_category.element_class'> to an integer
```



---

archive/issue_comments_519090.json:
```json
{
    "body": "<a id='comment:41'></a>\nReplying to [mantepse](#comment%3A40):\n> There seems to be a bug. Quotients of multivariate polynomial rings do coerce to integers\n\n\nThese are conversions, not coercions. The idea is that a coercion is only considered if there is a canonical, mathematically motivated, morphism available. Coercions are performed automatically (for instance in `1 + a` and things like that).\n\nConversions are explicit: `ZZ(...)`, and are allowed to perform a \"best effort\" attempt at creating an appropriate element, with the basic rule that if a coercion is available to create such an element, then the result should be compatible with that.\n\nIt is definitely desirable to reduce inconsistencies in conversions, but since they are inherently allowed to be a bit ill-defined (or partial, as with conversion from QQ to ZZ), inconsistencies are going to be unavoidable.\n\nI would therefore propose to move the request that conversions from univariate quotient rings to subrings of the base ring get harmonized with those of multivariate quotient rings to another ticket, so that this (critical!) ticket can be closed.\n\nOn that ticket, relevant information might be:\n\n```\nsage:  R.<x,y> = QQ[]; S.<a,b> = R.quo(x^2 + y^2);\nsage: ZZ.coerce_map_from(S) is None\nTrue\nsage: ZZ.convert_map_from(S)\nConversion via _integer_ method map:\n  From: Quotient of Multivariate Polynomial Ring in x, y over Rational Field by the ideal (x^2 + y^2)\n  To:   Integer Ring\n```\nIn the univariate case another map gets picked up; one that apparently always fails.\n\n```\nsage: R.<x>=QQ[]; S.<a>=R.quo(x^2+1)\nsage: m=ZZ.convert_map_from(S); m\nConversion map:\n  From: Univariate Quotient Polynomial Ring in a over Rational Field with modulus x^2 + 1\n  To:   Integer Ring\n```\nThis map simply ends up calling `ZZ._element_constructor_(<argument>)`, which fails.\n\nSo the difference seems to be whether an `_integer_` method is available on the elements.",
    "created_at": "2018-12-30T00:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519090",
    "user": "https://github.com/nbruin"
}
```

<a id='comment:41'></a>
Replying to [mantepse](#comment%3A40):
> There seems to be a bug. Quotients of multivariate polynomial rings do coerce to integers


These are conversions, not coercions. The idea is that a coercion is only considered if there is a canonical, mathematically motivated, morphism available. Coercions are performed automatically (for instance in `1 + a` and things like that).

Conversions are explicit: `ZZ(...)`, and are allowed to perform a "best effort" attempt at creating an appropriate element, with the basic rule that if a coercion is available to create such an element, then the result should be compatible with that.

It is definitely desirable to reduce inconsistencies in conversions, but since they are inherently allowed to be a bit ill-defined (or partial, as with conversion from QQ to ZZ), inconsistencies are going to be unavoidable.

I would therefore propose to move the request that conversions from univariate quotient rings to subrings of the base ring get harmonized with those of multivariate quotient rings to another ticket, so that this (critical!) ticket can be closed.

On that ticket, relevant information might be:

```
sage:  R.<x,y> = QQ[]; S.<a,b> = R.quo(x^2 + y^2);
sage: ZZ.coerce_map_from(S) is None
True
sage: ZZ.convert_map_from(S)
Conversion via _integer_ method map:
  From: Quotient of Multivariate Polynomial Ring in x, y over Rational Field by the ideal (x^2 + y^2)
  To:   Integer Ring
```
In the univariate case another map gets picked up; one that apparently always fails.

```
sage: R.<x>=QQ[]; S.<a>=R.quo(x^2+1)
sage: m=ZZ.convert_map_from(S); m
Conversion map:
  From: Univariate Quotient Polynomial Ring in a over Rational Field with modulus x^2 + 1
  To:   Integer Ring
```
This map simply ends up calling `ZZ._element_constructor_(<argument>)`, which fails.

So the difference seems to be whether an `_integer_` method is available on the elements.



---

archive/issue_comments_519091.json:
```json
{
    "body": "<a id='comment:42'></a>\ndone! (#26970)",
    "created_at": "2018-12-30T00:55:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519091",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:42'></a>
done! (#26970)



---

archive/issue_comments_519092.json:
```json
{
    "body": "<a id='comment:43'></a>\nJust for completeness, I want to add that the conversion in the second line of\n\n```\ny = t^2 + t + 1\nZZ(y.list(), 2)\n```\nworks in 7.6 and 8.2, but is broken in 8.5 and 8.5 with Martin's fixes.\nOn the other side, this conversion\n\n```\nZZ(y.lift().list(), 2)\n```\nworks in 7.6, 8.2. and 8.5. Only with Martin's fixes it fails.",
    "created_at": "2018-12-30T10:29:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519092",
    "user": "https://github.com/jvpeetz"
}
```

<a id='comment:43'></a>
Just for completeness, I want to add that the conversion in the second line of

```
y = t^2 + t + 1
ZZ(y.list(), 2)
```
works in 7.6 and 8.2, but is broken in 8.5 and 8.5 with Martin's fixes.
On the other side, this conversion

```
ZZ(y.lift().list(), 2)
```
works in 7.6, 8.2. and 8.5. Only with Martin's fixes it fails.



---

archive/issue_comments_519093.json:
```json
{
    "body": "<a id='comment:44'></a>\nYes, I think that's a consequence of the problems with conversion.  The elements of `y.lift().list()` are Boolean polynomials, and with my fix they lost the conversion to `ZZ`.\n\nIt's great and helpful that you tested all this!",
    "created_at": "2018-12-30T10:58:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519093",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:44'></a>
Yes, I think that's a consequence of the problems with conversion.  The elements of `y.lift().list()` are Boolean polynomials, and with my fix they lost the conversion to `ZZ`.

It's great and helpful that you tested all this!



---

archive/issue_events_075693.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75693"
}
```



---

archive/issue_comments_519094.json:
```json
{
    "body": "<a id='comment:45'></a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519094",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'></a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_519095.json:
```json
{
    "body": "<a id='comment:46'></a>\nThis bug was also [encountered on Ask SageMath](https://ask.sagemath.org/question/45146/declaring-symbols-in-a-field/?answer=45165#post-id-45165). The workaround to restore the old behavior is\n\n```\nfrom sage.rings.polynomial.polynomial_quotient_ring import PolynomialQuotientRing_generic\nPQ = PolynomialQuotientRing_generic(P, X^4+X+1, 't')\nt = PQ.gen()\n```\n\nbut of course the underlying issue should be addressed.",
    "created_at": "2019-01-26T11:09:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519095",
    "user": "https://github.com/rburing"
}
```

<a id='comment:46'></a>
This bug was also [encountered on Ask SageMath](https://ask.sagemath.org/question/45146/declaring-symbols-in-a-field/?answer=45165#post-id-45165). The workaround to restore the old behavior is

```
from sage.rings.polynomial.polynomial_quotient_ring import PolynomialQuotientRing_generic
PQ = PolynomialQuotientRing_generic(P, X^4+X+1, 't')
t = PQ.gen()
```

but of course the underlying issue should be addressed.



---

archive/issue_comments_519096.json:
```json
{
    "body": "<a id='comment:47'></a>\nIs there any interest in this ticket?  Should I rebase?",
    "created_at": "2019-02-26T23:13:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519096",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:47'></a>
Is there any interest in this ticket?  Should I rebase?



---

archive/issue_events_075694.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:41:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75694"
}
```



---

archive/issue_events_075695.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:41:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75695"
}
```



---

archive/issue_comments_519097.json:
```json
{
    "body": "<a id='comment:48'></a>\nMoving all blocker/critical issues from 8.7 to 8.8.",
    "created_at": "2019-03-25T10:41:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519097",
    "user": "https://github.com/embray"
}
```

<a id='comment:48'></a>
Moving all blocker/critical issues from 8.7 to 8.8.



---

archive/issue_events_075696.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75696"
}
```



---

archive/issue_events_075697.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-07-03T11:37:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75697"
}
```



---

archive/issue_comments_519098.json:
```json
{
    "body": "<a id='comment:49'></a>\nMoving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).",
    "created_at": "2019-07-03T11:37:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519098",
    "user": "https://github.com/embray"
}
```

<a id='comment:49'></a>
Moving tickets from the Sage 8.8 milestone that have been actively worked on in the last six months to the next release milestone (optimistically).



---

archive/issue_comments_519099.json:
```json
{
    "body": "<a id='comment:50'></a>\nTicket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519099",
    "user": "https://github.com/embray"
}
```

<a id='comment:50'></a>
Ticket retargeted after milestone closed



---

archive/issue_events_075698.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75698"
}
```



---

archive/issue_events_075699.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-12-30T14:48:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75699"
}
```



---

archive/issue_events_075700.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75700"
}
```



---

archive/issue_events_075701.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-07T02:29:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75701"
}
```



---

archive/issue_comments_519100.json:
```json
{
    "body": "<a id='comment:52'></a>\nCurrent branch has conflict with the current develop branch of Sage.",
    "created_at": "2020-08-15T13:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519100",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:52'></a>
Current branch has conflict with the current develop branch of Sage.



---

archive/issue_comments_519101.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-08-15T13:36:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519101",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_075702.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75702"
}
```



---

archive/issue_events_075703.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-09-05T19:21:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75703"
}
```



---

archive/issue_events_075704.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75704"
}
```



---

archive/issue_events_075705.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-02-13T20:51:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75705"
}
```



---

archive/issue_comments_519102.json:
```json
{
    "body": "<a id='comment:54'></a>\nSetting new milestone based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-02-13T20:51:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519102",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>
Setting new milestone based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_075706.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75706"
}
```



---

archive/issue_events_075707.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T00:44:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75707"
}
```



---

archive/issue_comments_519103.json:
```json
{
    "body": "<a id='comment:55'></a>\nSetting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26929#issuecomment-519103",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:55'></a>
Setting a new milestone for this ticket based on a cursory review.



---

archive/issue_events_075708.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75708"
}
```



---

archive/issue_events_075709.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-18T19:24:17Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75709"
}
```



---

archive/issue_events_075710.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75710"
}
```



---

archive/issue_events_075711.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-04-02T20:27:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75711"
}
```



---

archive/issue_events_075712.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75712"
}
```



---

archive/issue_events_075713.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-09-19T18:58:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26929",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26929#event-75713"
}
```
