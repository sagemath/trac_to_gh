# Issue 26993: Allow multiplication of function field elements with differentials from compatible fields

archive/issues_026756.json:
```json
{
    "assignees": [],
    "body": "In the function field code, you currently can't multiply function field elements with differentials from a subfield.\n\nFor example, in this basic setup:\n\n```\nsage: K.<x> = FunctionField(QQ); R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x*y + 4*x^3)\n```\n\n`y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.\n\nThe code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.\n\nDepends on #27712\n\nCC:  @kwankyu\n\nKeywords: **function field**\n\nBranch/Commit: **[`bffacfc`](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**\n\nReviewer: **Kwankyu Lee, Travis Scrimshaw**\n\nAuthor: **Brent Baccala**\n\nComponent: **algebra**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26993_\n\n",
    "closed_at": "2019-06-27T20:13:44Z",
    "created_at": "2019-01-02T04:27:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Allow multiplication of function field elements with differentials from compatible fields",
    "type": "issue",
    "updated_at": "2019-06-27T20:13:44Z",
    "url": "https://github.com/sagemath/sage/issues/26993",
    "user": "https://github.com/BrentBaccala"
}
```
In the function field code, you currently can't multiply function field elements with differentials from a subfield.

For example, in this basic setup:

```
sage: K.<x> = FunctionField(QQ); R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x*y + 4*x^3)
```

`y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.

The code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.

Depends on #27712

CC:  @kwankyu

Keywords: **function field**

Branch/Commit: **[`bffacfc`](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**

Reviewer: **Kwankyu Lee, Travis Scrimshaw**

Author: **Brent Baccala**

Component: **algebra**

_Issue created by migration from https://trac.sagemath.org/ticket/26993_





---

archive/issue_events_367944.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367944"
}
```



---

archive/issue_events_367945.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367945"
}
```



---

archive/issue_events_367946.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367946"
}
```



---

archive/issue_events_367947.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367947"
}
```



---

archive/issue_comments_416107.json:
```json
{
    "body": "Dependencies: **public/26991, u/klee/22982_stable**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416107",
    "user": "https://github.com/BrentBaccala"
}
```

Dependencies: **public/26991, u/klee/22982_stable**



---

archive/issue_comments_416108.json:
```json
{
    "body": "Author: **Brent Baccala**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416108",
    "user": "https://github.com/BrentBaccala"
}
```

Author: **Brent Baccala**



---

archive/issue_comments_416109.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,4 @@\n \n `y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.\n \n-The code attached to this ticket fixes that problem.\n+The code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.\n``````\n",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416109",
    "user": "https://github.com/BrentBaccala"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,4 @@
 
 `y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.
 
-The code attached to this ticket fixes that problem.
+The code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.
``````




---

archive/issue_comments_416110.json:
```json
{
    "body": "Branch: **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416110",
    "user": "https://github.com/BrentBaccala"
}
```

Branch: **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)**



---

archive/issue_comments_416111.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3b7833a14ea5a304b1aafd6240ee66c188a3302\"><code>d3b7833</code></a></td><td><code>Add global function fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f59d184f26de251eeed948c8603485cb3195b384\"><code>f59d184</code></a></td><td><code>Trac #26991: refactor divisor methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5d2ab067599533c6ac0ee02f8537fd02b066538\"><code>d5d2ab0</code></a></td><td><code>Trac #26991: refactor 'place' method into ideal super class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/413aa01afc0684b0b2293ffd307ca167a3e25ab5\"><code>413aa01</code></a></td><td><code>Trac #26991: refactor 'space_of_differentials' method in FunctionField</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7\"><code>6642cfd</code></a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr></table>\n",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416111",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3b7833a14ea5a304b1aafd6240ee66c188a3302"><code>d3b7833</code></a></td><td><code>Add global function fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f59d184f26de251eeed948c8603485cb3195b384"><code>f59d184</code></a></td><td><code>Trac #26991: refactor divisor methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5d2ab067599533c6ac0ee02f8537fd02b066538"><code>d5d2ab0</code></a></td><td><code>Trac #26991: refactor 'place' method into ideal super class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/413aa01afc0684b0b2293ffd307ca167a3e25ab5"><code>413aa01</code></a></td><td><code>Trac #26991: refactor 'space_of_differentials' method in FunctionField</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7"><code>6642cfd</code></a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr></table>




---

archive/issue_comments_416112.json:
```json
{
    "body": "Commit: **[`6642cfd`](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416112",
    "user": "https://github.com/BrentBaccala"
}
```

Commit: **[`6642cfd`](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)**



---

archive/issue_comments_416113.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nNote: the dependency field should be filled with ticket numbers, including #, and not with branch names.",
    "created_at": "2019-01-02T12:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416113",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:2" align="right">comment:2</div>

Note: the dependency field should be filled with ticket numbers, including #, and not with branch names.



---

archive/issue_comments_416114.json:
```json
{
    "body": "Changed dependencies from **public/26991, u/klee/22982_stable** to **#26991, #22982**",
    "created_at": "2019-01-03T20:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416114",
    "user": "https://github.com/BrentBaccala"
}
```

Changed dependencies from **public/26991, u/klee/22982_stable** to **#26991, #22982**



---

archive/issue_comments_416115.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@fchapoton](#comment:2):\n> Note: the dependency field should be filled with ticket numbers, including #, and not with branch names.\n\nCorrected.",
    "created_at": "2019-01-03T20:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416115",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@fchapoton](#comment:2):
> Note: the dependency field should be filled with ticket numbers, including #, and not with branch names.

Corrected.



---

archive/issue_comments_416116.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416116",
    "user": "https://github.com/embray"
}
```

<div id="comment:4" align="right">comment:4</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_367948.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367948"
}
```



---

archive/issue_events_367949.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367949"
}
```



---

archive/issue_events_367950.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-17T21:36:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367950"
}
```



---

archive/issue_events_367951.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-17T21:36:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367951"
}
```



---

archive/issue_comments_416117.json:
```json
{
    "body": "Changed commit from **[`6642cfd`](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)** to **[`96ee4b1`](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)**",
    "created_at": "2019-04-08T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416117",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`6642cfd`](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)** to **[`96ee4b1`](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)**



---

archive/issue_comments_416118.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66fa58281261e0f68af87f34412bbcfa2f0f0da1\"><code>66fa582</code></a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e\"><code>96ee4b1</code></a></td><td><code>Trac #26993: clean up inherited methods in DifferentialsSpaceMorphism</code></td></tr></table>\n",
    "created_at": "2019-04-08T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416118",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66fa58281261e0f68af87f34412bbcfa2f0f0da1"><code>66fa582</code></a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e"><code>96ee4b1</code></a></td><td><code>Trac #26993: clean up inherited methods in DifferentialsSpaceMorphism</code></td></tr></table>




---

archive/issue_comments_416119.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-In the new function field code (Trac #22982), you currently can't multiply function field elements with differentials from a subfield.\n+In the function field code, you currently can't multiply function field elements with differentials from a subfield.\n \n For example, in this basic setup:\n \n``````\n",
    "created_at": "2019-04-08T19:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416119",
    "user": "https://github.com/BrentBaccala"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-In the new function field code (Trac #22982), you currently can't multiply function field elements with differentials from a subfield.
+In the function field code, you currently can't multiply function field elements with differentials from a subfield.
 
 For example, in this basic setup:
 
``````




---

archive/issue_events_367952.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-08T19:43:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367952"
}
```



---

archive/issue_events_367953.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-08T19:43:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367953"
}
```



---

archive/issue_comments_416120.json:
```json
{
    "body": "Changed dependencies from **#26991, #22982** to none",
    "created_at": "2019-04-08T19:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416120",
    "user": "https://github.com/BrentBaccala"
}
```

Changed dependencies from **#26991, #22982** to none



---

archive/issue_events_367954.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-08T19:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367954"
}
```



---

archive/issue_comments_416121.json:
```json
{
    "body": "<div id=\"comment:8\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618\"><code>8621500</code></a></td><td><code>Trac #26993: differential class shouldn't be hardwired; instead</code></td></tr></table>\n",
    "created_at": "2019-04-11T02:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416121",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:8"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618"><code>8621500</code></a></td><td><code>Trac #26993: differential class shouldn't be hardwired; instead</code></td></tr></table>




---

archive/issue_comments_416122.json:
```json
{
    "body": "Changed commit from **[`96ee4b1`](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)** to **[`8621500`](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)**",
    "created_at": "2019-04-11T02:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416122",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`96ee4b1`](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)** to **[`8621500`](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)**



---

archive/issue_comments_416123.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nWhat is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for?",
    "created_at": "2019-04-16T05:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416123",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:10" align="right">comment:10</div>

What is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for?



---

archive/issue_comments_416124.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@kwankyu](#comment:10):\n> What is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for? \n\nf dx maps to f dx.\n\n```\nsage: K.<x> = FunctionField(QQ); R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x*y + 4*x^3)\n\nsage: x*x.differential()\n(x) d(x)\nsage: (x*x.differential()).parent()\nSpace of differentials of Rational function field in x over Rational Field\n\nsage: L.space_of_differentials()(x*x.differential())\n(x) d(x)\nsage: L.space_of_differentials()(x*x.differential()).parent()\nSpace of differentials of Function field in y defined by y^2 - x*y + 4*x^3\n```",
    "created_at": "2019-04-16T23:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416124",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@kwankyu](#comment:10):
> What is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for? 

f dx maps to f dx.

```
sage: K.<x> = FunctionField(QQ); R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x*y + 4*x^3)

sage: x*x.differential()
(x) d(x)
sage: (x*x.differential()).parent()
Space of differentials of Rational function field in x over Rational Field

sage: L.space_of_differentials()(x*x.differential())
(x) d(x)
sage: L.space_of_differentials()(x*x.differential()).parent()
Space of differentials of Function field in y defined by y^2 - x*y + 4*x^3
```



---

archive/issue_comments_416125.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nDo you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?",
    "created_at": "2019-04-17T04:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416125",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:12" align="right">comment:12</div>

Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?



---

archive/issue_comments_416126.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nReplying to [@kwankyu](#comment:12):\n> Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?\n> \n\nNo, nested fields don't work right.  For example,\n\n```\nsage: K.<x> = FunctionField(QQ)\nsage: R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x)\nsage: R.<z> = L[]\nsage: M.<z> = L.extension(z^2 - y)\n\nsage: M.space_of_differentials()(x.differential())\nd(y)\n```\n\n\nPart of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:\n\n```\nsage: K.space_of_differentials()(x)\nd(x)\nsage: L.space_of_differentials()(x)\nd(x)\nsage: M.space_of_differentials()(x)\nd(y)\n```\n\nWhat is the rationale for expressing differentials in extensions w.r.t. the generator of the field immediately underneath the extension?  Should there be some way to express differentials w.r.t the rational function field under all of the extensions?\n\nI'm thinking that the result of `M.space_of_differentials()(x)` should be `d(x)` and the differentials should all be expressed w.r.t the base rational function field.  Otherwise, if they're expressed w.r.t. the first underlying field, then the result of `M.space_of_differentials()(x)` should be `2 y d(y)`.\n\nShould the user be able to select which variable is used to express differentials?\n\nFor my application, I either want to express differentials w.r.t the base rational function field, or w.r.t. a local uniformizing variable at a specific place.\n\nI'd like to hear some feedback on what klee (and others) think.",
    "created_at": "2019-04-17T22:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416126",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:13" align="right">comment:13</div>

Replying to [@kwankyu](#comment:12):
> Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?
> 

No, nested fields don't work right.  For example,

```
sage: K.<x> = FunctionField(QQ)
sage: R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x)
sage: R.<z> = L[]
sage: M.<z> = L.extension(z^2 - y)

sage: M.space_of_differentials()(x.differential())
d(y)
```


Part of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:

```
sage: K.space_of_differentials()(x)
d(x)
sage: L.space_of_differentials()(x)
d(x)
sage: M.space_of_differentials()(x)
d(y)
```

What is the rationale for expressing differentials in extensions w.r.t. the generator of the field immediately underneath the extension?  Should there be some way to express differentials w.r.t the rational function field under all of the extensions?

I'm thinking that the result of `M.space_of_differentials()(x)` should be `d(x)` and the differentials should all be expressed w.r.t the base rational function field.  Otherwise, if they're expressed w.r.t. the first underlying field, then the result of `M.space_of_differentials()(x)` should be `2 y d(y)`.

Should the user be able to select which variable is used to express differentials?

For my application, I either want to express differentials w.r.t the base rational function field, or w.r.t. a local uniformizing variable at a specific place.

I'd like to hear some feedback on what klee (and others) think.



---

archive/issue_comments_416127.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@BrentBaccala](#comment:13):\n> Replying to [@kwankyu](#comment:12):\n> > Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?\n> > \n\n> \n> No, nested fields don't work right. \n\nSo it seems.\n\n> Part of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:\n> \n> ```\n> sage: K.space_of_differentials()(x)\n> d(x)\n> sage: L.space_of_differentials()(x)\n> d(x)\n> sage: M.space_of_differentials()(x)\n> d(y)\n> ```\n\nCurrently Sage only supports differentials of global function fields (and rational function fields). \n\nSo you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.",
    "created_at": "2019-04-18T04:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416127",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@BrentBaccala](#comment:13):
> Replying to [@kwankyu](#comment:12):
> > Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?
> > 

> 
> No, nested fields don't work right. 

So it seems.

> Part of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:
> 
> ```
> sage: K.space_of_differentials()(x)
> d(x)
> sage: L.space_of_differentials()(x)
> d(x)
> sage: M.space_of_differentials()(x)
> d(y)
> ```

Currently Sage only supports differentials of global function fields (and rational function fields). 

So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.



---

archive/issue_comments_416128.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@kwankyu](#comment:14):\n> Currently Sage only supports differentials of global function fields (and rational function fields). \n> \n> So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.\n\nOK, so let me change the example.  How about this:\n\n```\nsage: K.<x> = FunctionField(GF(31))\nsage: R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x)\nsage: R.<z> = L[]\nsage: M.<z> = L.extension(z^2 - y)\n\nsage: K.space_of_differentials()(x)\nd(x)\nsage: L.space_of_differentials()(x)\nd(x)\nsage: M.space_of_differentials()(x)\nd(y)\n```\n\nNow `M` is a global function field, right?  Yet we still see the same behavior.  Furthermore...\n\n```\nsage: z.differential()\n(8/x*z) d(y)\n```\n\nYet dz = 1/(2*z) dy, which doesn't seem to be (8/x*z):\n\n```\nsage: 1/(2*z) == (8/x*z)\nFalse\n```\n\nWhat's going on here?\n\n```\nsage: M.derivation()\nDerivation map:\n  From: Function field in z defined by z^2 + 30*y\n  To:   Function field in z defined by z^2 + 30*y\n  Defn: z |--> 8/x*z\n        y |--> 16/x*y\n        x |--> 1\n```\n\n`M`'s derivation map is w.r.t. x, but `FunctionFieldDifferential_global`'s constructor assumes that it's w.r.t. y, right?",
    "created_at": "2019-04-18T20:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416128",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@kwankyu](#comment:14):
> Currently Sage only supports differentials of global function fields (and rational function fields). 
> 
> So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.

OK, so let me change the example.  How about this:

```
sage: K.<x> = FunctionField(GF(31))
sage: R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x)
sage: R.<z> = L[]
sage: M.<z> = L.extension(z^2 - y)

sage: K.space_of_differentials()(x)
d(x)
sage: L.space_of_differentials()(x)
d(x)
sage: M.space_of_differentials()(x)
d(y)
```

Now `M` is a global function field, right?  Yet we still see the same behavior.  Furthermore...

```
sage: z.differential()
(8/x*z) d(y)
```

Yet dz = 1/(2*z) dy, which doesn't seem to be (8/x*z):

```
sage: 1/(2*z) == (8/x*z)
False
```

What's going on here?

```
sage: M.derivation()
Derivation map:
  From: Function field in z defined by z^2 + 30*y
  To:   Function field in z defined by z^2 + 30*y
  Defn: z |--> 8/x*z
        y |--> 16/x*y
        x |--> 1
```

`M`'s derivation map is w.r.t. x, but `FunctionFieldDifferential_global`'s constructor assumes that it's w.r.t. y, right?



---

archive/issue_events_367955.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-18T23:24:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367955"
}
```



---

archive/issue_events_367956.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-18T23:24:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367956"
}
```



---

archive/issue_comments_416129.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@BrentBaccala](#comment:15):\n> Replying to [@kwankyu](#comment:14):\n> > Currently Sage only supports differentials of global function fields (and rational function fields). \n> > \n> > So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.\n\n> \n> OK, so let me change the example.  How about this:\n> \n> ```\n> sage: K.<x> = FunctionField(GF(31))\n> sage: R.<y> = K[]\n> sage: L.<y> = K.extension(y^2 - x)\n> sage: R.<z> = L[]\n> sage: M.<z> = L.extension(z^2 - y)\n> \n> sage: K.space_of_differentials()(x)\n> d(x)\n> sage: L.space_of_differentials()(x)\n> d(x)\n> sage: M.space_of_differentials()(x)\n> d(y)\n> ```\n> \n> Now `M` is a global function field, right?  \n\nI meant global function fields in sage. They are separable extensions of rational function fields over finite fields. M is not a global function field in sage in this sense.\n\nThe erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. \n\nI guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.\n\nOn the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \\otimes_K \\Omega_K$ into $\\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.",
    "created_at": "2019-04-19T01:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416129",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@BrentBaccala](#comment:15):
> Replying to [@kwankyu](#comment:14):
> > Currently Sage only supports differentials of global function fields (and rational function fields). 
> > 
> > So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.

> 
> OK, so let me change the example.  How about this:
> 
> ```
> sage: K.<x> = FunctionField(GF(31))
> sage: R.<y> = K[]
> sage: L.<y> = K.extension(y^2 - x)
> sage: R.<z> = L[]
> sage: M.<z> = L.extension(z^2 - y)
> 
> sage: K.space_of_differentials()(x)
> d(x)
> sage: L.space_of_differentials()(x)
> d(x)
> sage: M.space_of_differentials()(x)
> d(y)
> ```
> 
> Now `M` is a global function field, right?  

I meant global function fields in sage. They are separable extensions of rational function fields over finite fields. M is not a global function field in sage in this sense.

The erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. 

I guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.

On the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \otimes_K \Omega_K$ into $\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.



---

archive/issue_comments_416130.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kwankyu](#comment:17):\n> The erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. \n\nOK.  I think that's another ticket.\n\n> I guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.\n\nNo, my coercion is not intended just for global function fields.  I'd like it to work for all of the function fields that can formed using the present code.\n\n> On the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \\otimes_K \\Omega_K$ into $\\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.\n> \n\nI'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.\n\nI haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?",
    "created_at": "2019-04-19T03:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416130",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kwankyu](#comment:17):
> The erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. 

OK.  I think that's another ticket.

> I guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.

No, my coercion is not intended just for global function fields.  I'd like it to work for all of the function fields that can formed using the present code.

> On the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \otimes_K \Omega_K$ into $\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.
> 

I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.

I haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?



---

archive/issue_comments_416131.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nReplying to [@BrentBaccala](#comment:18):\n> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.\n\nNice.\n \n> I haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?\n\nOk. No one asks for that these days :-)",
    "created_at": "2019-04-19T04:45:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416131",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:19" align="right">comment:19</div>

Replying to [@BrentBaccala](#comment:18):
> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.

Nice.
 
> I haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?

Ok. No one asks for that these days :-)



---

archive/issue_comments_416132.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@BrentBaccala](#comment:18):\n> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.\n\nThat ticket is now #27712",
    "created_at": "2019-04-22T18:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416132",
    "user": "https://github.com/BrentBaccala"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@BrentBaccala](#comment:18):
> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.

That ticket is now #27712



---

archive/issue_comments_416133.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1ae198af39ba4e3ce02932d8b0bb9af783125da\"><code>a1ae198</code></a></td><td><code>Trac #27712: print the correct differential name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95e0e12c63fc852f5d9f0f3c93926671d9096950\"><code>95e0e12</code></a></td><td><code>Trac #27712: fix a mistake in documentation of _intermediate_fields()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19a6cc324e5965a7965e0c4e5023a00a6f82ad32\"><code>19a6cc3</code></a></td><td><code>Trac #27712: explicitly specify base differential of DifferentialsSpace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b\"><code>08d2858</code></a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>\n",
    "created_at": "2019-04-24T00:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416133",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1ae198af39ba4e3ce02932d8b0bb9af783125da"><code>a1ae198</code></a></td><td><code>Trac #27712: print the correct differential name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95e0e12c63fc852f5d9f0f3c93926671d9096950"><code>95e0e12</code></a></td><td><code>Trac #27712: fix a mistake in documentation of _intermediate_fields()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19a6cc324e5965a7965e0c4e5023a00a6f82ad32"><code>19a6cc3</code></a></td><td><code>Trac #27712: explicitly specify base differential of DifferentialsSpace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b"><code>08d2858</code></a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>




---

archive/issue_comments_416134.json:
```json
{
    "body": "Changed commit from **[`8621500`](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)** to **[`08d2858`](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)**",
    "created_at": "2019-04-24T00:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416134",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8621500`](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)** to **[`08d2858`](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)**



---

archive/issue_comments_416135.json:
```json
{
    "body": "Dependencies: **#27712**",
    "created_at": "2019-04-24T00:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416135",
    "user": "https://github.com/BrentBaccala"
}
```

Dependencies: **#27712**



---

archive/issue_events_367957.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-24T00:37:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367957"
}
```



---

archive/issue_events_367958.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-24T00:37:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367958"
}
```



---

archive/issue_comments_416136.json:
```json
{
    "body": "Changed commit from **[`08d2858`](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)** to **[`cd61702`](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)**",
    "created_at": "2019-04-26T00:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416136",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`08d2858`](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)** to **[`cd61702`](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)**



---

archive/issue_comments_416137.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cf74b2db0cfc3465596050e954c220c5db7957e\"><code>1cf74b2</code></a></td><td><code>Trac #27712: silence pyflakes warning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d\"><code>cd61702</code></a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>\n",
    "created_at": "2019-04-26T00:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416137",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cf74b2db0cfc3465596050e954c220c5db7957e"><code>1cf74b2</code></a></td><td><code>Trac #27712: silence pyflakes warning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d"><code>cd61702</code></a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>




---

archive/issue_comments_416138.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e177040e8af23bb12888a26ad40f2ee8aa3b8c60\"><code>e177040</code></a></td><td><code>Merge tag '8.8.beta7' into public/26993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818\"><code>1df496c</code></a></td><td><code>Trac #26993: resolve import dependency loop</code></td></tr></table>\n",
    "created_at": "2019-06-04T03:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416138",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e177040e8af23bb12888a26ad40f2ee8aa3b8c60"><code>e177040</code></a></td><td><code>Merge tag '8.8.beta7' into public/26993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818"><code>1df496c</code></a></td><td><code>Trac #26993: resolve import dependency loop</code></td></tr></table>




---

archive/issue_comments_416139.json:
```json
{
    "body": "Changed commit from **[`cd61702`](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)** to **[`1df496c`](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)**",
    "created_at": "2019-06-04T03:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416139",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cd61702`](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)** to **[`1df496c`](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)**



---

archive/issue_comments_416140.json:
```json
{
    "body": "Changed commit from **[`1df496c`](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)** to **[`bffacfc`](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**",
    "created_at": "2019-06-14T01:36:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416140",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1df496c`](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)** to **[`bffacfc`](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**



---

archive/issue_comments_416141.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b9a9c9fc0b1a8c43f2bde989db5a98ae89e5f31\"><code>8b9a9c9</code></a></td><td><code>Merge branch 'develop' into differential-trac26993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a\"><code>bffacfc</code></a></td><td><code>Simplify the coercion and add hash to differentials</code></td></tr></table>\n",
    "created_at": "2019-06-14T01:36:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416141",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b9a9c9fc0b1a8c43f2bde989db5a98ae89e5f31"><code>8b9a9c9</code></a></td><td><code>Merge branch 'develop' into differential-trac26993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a"><code>bffacfc</code></a></td><td><code>Simplify the coercion and add hash to differentials</code></td></tr></table>




---

archive/issue_comments_416142.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nI worked on your code and could simplify a lot the code. \n\nPositive review on your part of the code.",
    "created_at": "2019-06-14T01:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416142",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:27" align="right">comment:27</div>

I worked on your code and could simplify a lot the code. 

Positive review on your part of the code.



---

archive/issue_comments_416143.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2019-06-14T01:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416143",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_416144.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNeeds review on reviewer's part of the code.",
    "created_at": "2019-06-25T07:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416144",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:29" align="right">comment:29</div>

Needs review on reviewer's part of the code.



---

archive/issue_comments_416145.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nI thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.",
    "created_at": "2019-06-26T10:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416145",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:30" align="right">comment:30</div>

I thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.



---

archive/issue_comments_416146.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@tscrim](#comment:30):\n> I thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.\n\nThere is no action to be discovered by the coercion frame even though the coercion map is there. \n\nFor y*dx, where x is in a function field F and y is in its extension E, which is the case that this ticket deals with, the action on the differential dx is **not** constructed from `_rmul_` automatically because y is not in F.\n\n\nSo I implemented one.",
    "created_at": "2019-06-26T11:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416146",
    "user": "https://github.com/kwankyu"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@tscrim](#comment:30):
> I thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.

There is no action to be discovered by the coercion frame even though the coercion map is there. 

For y*dx, where x is in a function field F and y is in its extension E, which is the case that this ticket deals with, the action on the differential dx is **not** constructed from `_rmul_` automatically because y is not in F.


So I implemented one.



---

archive/issue_comments_416147.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nHmm...that sounds like a pushout construction is missing. Well, that could be done on a followup as this works.",
    "created_at": "2019-06-26T14:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416147",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:32" align="right">comment:32</div>

Hmm...that sounds like a pushout construction is missing. Well, that could be done on a followup as this works.



---

archive/issue_comments_416148.json:
```json
{
    "body": "Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Travis Scrimshaw**",
    "created_at": "2019-06-26T14:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416148",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Travis Scrimshaw**



---

archive/issue_events_367959.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367959"
}
```



---

archive/issue_events_367960.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367960"
}
```



---

archive/issue_events_367961.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367961"
}
```



---

archive/issue_events_367962.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367962"
}
```



---

archive/issue_comments_416149.json:
```json
{
    "body": "Changed branch from **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)** to **[`bffacfc`](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**",
    "created_at": "2019-06-27T20:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-416149",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)** to **[`bffacfc`](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**



---

archive/issue_events_367963.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-27T20:13:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367963"
}
```



---

archive/issue_events_367964.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "17f5643097c9fa6af9f7ca58394e0e94f16f41c6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-06-27T20:13:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-367964"
}
```
