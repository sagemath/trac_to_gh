# Issue 26993: Allow multiplication of function field elements with differentials from compatible fields

archive/issues_026756.json:
```json
{
    "assignees": [],
    "body": "In the function field code, you currently can't multiply function field elements with differentials from a subfield.\n\nFor example, in this basic setup:\n\n```\nsage: K.<x> = FunctionField(QQ); R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x*y + 4*x^3)\n```\n\n`y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.\n\nThe code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.\n\nDepends on #27712\n\nCC:  @kwankyu\n\nKeywords: **function field**\n\nBranch/Commit: **[bffacfc](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**\n\nReviewer: **Kwankyu Lee, Travis Scrimshaw**\n\nAuthor: **Brent Baccala**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26993_\n\n",
    "closed_at": "2019-06-27T20:13:44Z",
    "created_at": "2019-01-02T04:27:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.9",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Allow multiplication of function field elements with differentials from compatible fields",
    "type": "issue",
    "updated_at": "2019-06-27T20:13:44Z",
    "url": "https://github.com/sagemath/sage/issues/26993",
    "user": "https://github.com/BrentBaccala"
}
```
In the function field code, you currently can't multiply function field elements with differentials from a subfield.

For example, in this basic setup:

```
sage: K.<x> = FunctionField(QQ); R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x*y + 4*x^3)
```

`y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.

The code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.

Depends on #27712

CC:  @kwankyu

Keywords: **function field**

Branch/Commit: **[bffacfc](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**

Reviewer: **Kwankyu Lee, Travis Scrimshaw**

Author: **Brent Baccala**

_Issue created by migration from https://trac.sagemath.org/ticket/26993_





---

archive/issue_events_352773.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352773"
}
```



---

archive/issue_events_352774.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "component: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352774"
}
```



---

archive/issue_events_352775.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352775"
}
```



---

archive/issue_events_352776.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-02T04:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352776"
}
```



---

archive/issue_comments_419015.json:
```json
{
    "body": "Dependencies: **public/26991, u/klee/22982_stable**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419015",
    "user": "https://github.com/BrentBaccala"
}
```

Dependencies: **public/26991, u/klee/22982_stable**



---

archive/issue_comments_419016.json:
```json
{
    "body": "Author: **Brent Baccala**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419016",
    "user": "https://github.com/BrentBaccala"
}
```

Author: **Brent Baccala**



---

archive/issue_comments_419017.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,4 +9,4 @@\n \n `y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.\n \n-The code attached to this ticket fixes that problem.\n+The code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.\n``````\n",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419017",
    "user": "https://github.com/BrentBaccala"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,4 +9,4 @@
 
 `y * y.differential()` works, but `y * x.differential()` doesn't, because there's no way to multiply an element of `L` with a differential from `K`.
 
-The code attached to this ticket fixes that problem.
+The code attached to this ticket fixes that problem by defining suitable actions and coercion morphisms.
``````




---

archive/issue_comments_419018.json:
```json
{
    "body": "Branch: **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419018",
    "user": "https://github.com/BrentBaccala"
}
```

Branch: **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)**



---

archive/issue_comments_419019.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d3b7833a14ea5a304b1aafd6240ee66c188a3302\">d3b7833</a></td><td><code>Add global function fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f59d184f26de251eeed948c8603485cb3195b384\">f59d184</a></td><td><code>Trac #26991: refactor divisor methods</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d5d2ab067599533c6ac0ee02f8537fd02b066538\">d5d2ab0</a></td><td><code>Trac #26991: refactor 'place' method into ideal super class</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/413aa01afc0684b0b2293ffd307ca167a3e25ab5\">413aa01</a></td><td><code>Trac #26991: refactor 'space_of_differentials' method in FunctionField</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7\">6642cfd</a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr></table>\n",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419019",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:1'>Comment 1:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d3b7833a14ea5a304b1aafd6240ee66c188a3302">d3b7833</a></td><td><code>Add global function fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f59d184f26de251eeed948c8603485cb3195b384">f59d184</a></td><td><code>Trac #26991: refactor divisor methods</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d5d2ab067599533c6ac0ee02f8537fd02b066538">d5d2ab0</a></td><td><code>Trac #26991: refactor 'place' method into ideal super class</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/413aa01afc0684b0b2293ffd307ca167a3e25ab5">413aa01</a></td><td><code>Trac #26991: refactor 'space_of_differentials' method in FunctionField</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7">6642cfd</a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr></table>




---

archive/issue_comments_419020.json:
```json
{
    "body": "Commit: **[6642cfd](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)**",
    "created_at": "2019-01-02T04:32:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419020",
    "user": "https://github.com/BrentBaccala"
}
```

Commit: **[6642cfd](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)**



---

archive/issue_comments_419021.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNote: the dependency field should be filled with ticket numbers, including #, and not with branch names.",
    "created_at": "2019-01-02T12:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419021",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'>Comment 2:</a>
Note: the dependency field should be filled with ticket numbers, including #, and not with branch names.



---

archive/issue_comments_419022.json:
```json
{
    "body": "Changed dependencies from **public/26991, u/klee/22982_stable** to **#26991, #22982**",
    "created_at": "2019-01-03T20:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419022",
    "user": "https://github.com/BrentBaccala"
}
```

Changed dependencies from **public/26991, u/klee/22982_stable** to **#26991, #22982**



---

archive/issue_comments_419023.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [@fchapoton](#comment%3A2):\n> Note: the dependency field should be filled with ticket numbers, including #, and not with branch names.\n\nCorrected.",
    "created_at": "2019-01-03T20:32:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419023",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [@fchapoton](#comment%3A2):
> Note: the dependency field should be filled with ticket numbers, including #, and not with branch names.

Corrected.



---

archive/issue_comments_419024.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419024",
    "user": "https://github.com/embray"
}
```

<a id='comment:4'>Comment 4:</a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_352777.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352777"
}
```



---

archive/issue_events_352778.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352778"
}
```



---

archive/issue_events_352779.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-17T21:36:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352779"
}
```



---

archive/issue_events_352780.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-01-17T21:36:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352780"
}
```



---

archive/issue_comments_419025.json:
```json
{
    "body": "Changed commit from **[6642cfd](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)** to **[96ee4b1](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)**",
    "created_at": "2019-04-08T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419025",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6642cfd](https://github.com/sagemath/sagetrac-mirror/commit/6642cfdc67c8121c068145a924db5d93252108b7)** to **[96ee4b1](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)**



---

archive/issue_comments_419026.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/66fa58281261e0f68af87f34412bbcfa2f0f0da1\">66fa582</a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e\">96ee4b1</a></td><td><code>Trac #26993: clean up inherited methods in DifferentialsSpaceMorphism</code></td></tr></table>\n",
    "created_at": "2019-04-08T19:40:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419026",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:6'>Comment 6:</a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/66fa58281261e0f68af87f34412bbcfa2f0f0da1">66fa582</a></td><td><code>Trac #26993: allow mult of function field elements and differentials</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e">96ee4b1</a></td><td><code>Trac #26993: clean up inherited methods in DifferentialsSpaceMorphism</code></td></tr></table>




---

archive/issue_comments_419027.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-In the new function field code (Trac #22982), you currently can't multiply function field elements with differentials from a subfield.\n+In the function field code, you currently can't multiply function field elements with differentials from a subfield.\n \n For example, in this basic setup:\n \n``````\n",
    "created_at": "2019-04-08T19:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419027",
    "user": "https://github.com/BrentBaccala"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-In the new function field code (Trac #22982), you currently can't multiply function field elements with differentials from a subfield.
+In the function field code, you currently can't multiply function field elements with differentials from a subfield.
 
 For example, in this basic setup:
 
``````




---

archive/issue_events_352781.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-08T19:43:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352781"
}
```



---

archive/issue_events_352782.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-08T19:43:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352782"
}
```



---

archive/issue_comments_419028.json:
```json
{
    "body": "Changed dependencies from **#26991, #22982** to none",
    "created_at": "2019-04-08T19:43:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419028",
    "user": "https://github.com/BrentBaccala"
}
```

Changed dependencies from **#26991, #22982** to none



---

archive/issue_events_352783.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-08T19:43:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352783"
}
```



---

archive/issue_comments_419029.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618\">8621500</a></td><td><code>Trac #26993: differential class shouldn't be hardwired; instead</code></td></tr></table>\n",
    "created_at": "2019-04-11T02:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419029",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:8'>Comment 8:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618">8621500</a></td><td><code>Trac #26993: differential class shouldn't be hardwired; instead</code></td></tr></table>




---

archive/issue_comments_419030.json:
```json
{
    "body": "Changed commit from **[96ee4b1](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)** to **[8621500](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)**",
    "created_at": "2019-04-11T02:43:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419030",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[96ee4b1](https://github.com/sagemath/sagetrac-mirror/commit/96ee4b1a5c85e0d9b7a1691aa05865e60ab0461e)** to **[8621500](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)**



---

archive/issue_comments_419031.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nWhat is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for?",
    "created_at": "2019-04-16T05:33:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419031",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:10'>Comment 10:</a>
What is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for?



---

archive/issue_comments_419032.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@kwankyu](#comment%3A10):\n> What is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for? \n\nf dx maps to f dx.\n\n```\nsage: K.<x> = FunctionField(QQ); R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x*y + 4*x^3)\n\nsage: x*x.differential()\n(x) d(x)\nsage: (x*x.differential()).parent()\nSpace of differentials of Rational function field in x over Rational Field\n\nsage: L.space_of_differentials()(x*x.differential())\n(x) d(x)\nsage: L.space_of_differentials()(x*x.differential()).parent()\nSpace of differentials of Function field in y defined by y^2 - x*y + 4*x^3\n```",
    "created_at": "2019-04-16T23:12:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419032",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@kwankyu](#comment%3A10):
> What is the map from the module of differentials of K into the module of differentials of L that you implement a coercion for? 

f dx maps to f dx.

```
sage: K.<x> = FunctionField(QQ); R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x*y + 4*x^3)

sage: x*x.differential()
(x) d(x)
sage: (x*x.differential()).parent()
Space of differentials of Rational function field in x over Rational Field

sage: L.space_of_differentials()(x*x.differential())
(x) d(x)
sage: L.space_of_differentials()(x*x.differential()).parent()
Space of differentials of Function field in y defined by y^2 - x*y + 4*x^3
```



---

archive/issue_comments_419033.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nDo you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?",
    "created_at": "2019-04-17T04:57:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419033",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:12'>Comment 12:</a>
Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?



---

archive/issue_comments_419034.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nReplying to [@kwankyu](#comment%3A12):\n> Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?\n> \n\nNo, nested fields don't work right.  For example,\n\n```\nsage: K.<x> = FunctionField(QQ)\nsage: R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x)\nsage: R.<z> = L[]\nsage: M.<z> = L.extension(z^2 - y)\n\nsage: M.space_of_differentials()(x.differential())\nd(y)\n```\n\n\nPart of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:\n\n```\nsage: K.space_of_differentials()(x)\nd(x)\nsage: L.space_of_differentials()(x)\nd(x)\nsage: M.space_of_differentials()(x)\nd(y)\n```\n\nWhat is the rationale for expressing differentials in extensions w.r.t. the generator of the field immediately underneath the extension?  Should there be some way to express differentials w.r.t the rational function field under all of the extensions?\n\nI'm thinking that the result of `M.space_of_differentials()(x)` should be `d(x)` and the differentials should all be expressed w.r.t the base rational function field.  Otherwise, if they're expressed w.r.t. the first underlying field, then the result of `M.space_of_differentials()(x)` should be `2 y d(y)`.\n\nShould the user be able to select which variable is used to express differentials?\n\nFor my application, I either want to express differentials w.r.t the base rational function field, or w.r.t. a local uniformizing variable at a specific place.\n\nI'd like to hear some feedback on what klee (and others) think.",
    "created_at": "2019-04-17T22:22:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419034",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:13'>Comment 13:</a>
Replying to [@kwankyu](#comment%3A12):
> Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?
> 

No, nested fields don't work right.  For example,

```
sage: K.<x> = FunctionField(QQ)
sage: R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x)
sage: R.<z> = L[]
sage: M.<z> = L.extension(z^2 - y)

sage: M.space_of_differentials()(x.differential())
d(y)
```


Part of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:

```
sage: K.space_of_differentials()(x)
d(x)
sage: L.space_of_differentials()(x)
d(x)
sage: M.space_of_differentials()(x)
d(y)
```

What is the rationale for expressing differentials in extensions w.r.t. the generator of the field immediately underneath the extension?  Should there be some way to express differentials w.r.t the rational function field under all of the extensions?

I'm thinking that the result of `M.space_of_differentials()(x)` should be `d(x)` and the differentials should all be expressed w.r.t the base rational function field.  Otherwise, if they're expressed w.r.t. the first underlying field, then the result of `M.space_of_differentials()(x)` should be `2 y d(y)`.

Should the user be able to select which variable is used to express differentials?

For my application, I either want to express differentials w.r.t the base rational function field, or w.r.t. a local uniformizing variable at a specific place.

I'd like to hear some feedback on what klee (and others) think.



---

archive/issue_comments_419035.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@BrentBaccala](#comment%3A13):\n> Replying to [@kwankyu](#comment%3A12):\n> > Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?\n> > \n\n> \n> No, nested fields don't work right. \n\nSo it seems.\n\n> Part of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:\n> \n> ```\n> sage: K.space_of_differentials()(x)\n> d(x)\n> sage: L.space_of_differentials()(x)\n> d(x)\n> sage: M.space_of_differentials()(x)\n> d(y)\n> ```\n\nCurrently Sage only supports differentials of global function fields (and rational function fields). \n\nSo you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.",
    "created_at": "2019-04-18T04:35:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419035",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@BrentBaccala](#comment%3A13):
> Replying to [@kwankyu](#comment%3A12):
> > Do you also handle the case when  K=k(x), L=K(y), M=L(z) is a tower of function fields, z an element of M, and you take z*dx? What should be the result?
> > 

> 
> No, nested fields don't work right. 

So it seems.

> Part of the reason for this is that the element constructor (without applying this ticket) doesn't work the way I'd expect:
> 
> ```
> sage: K.space_of_differentials()(x)
> d(x)
> sage: L.space_of_differentials()(x)
> d(x)
> sage: M.space_of_differentials()(x)
> d(y)
> ```

Currently Sage only supports differentials of global function fields (and rational function fields). 

So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.



---

archive/issue_comments_419036.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nReplying to [@kwankyu](#comment%3A14):\n> Currently Sage only supports differentials of global function fields (and rational function fields). \n> \n> So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.\n\nOK, so let me change the example.  How about this:\n\n```\nsage: K.<x> = FunctionField(GF(31))\nsage: R.<y> = K[]\nsage: L.<y> = K.extension(y^2 - x)\nsage: R.<z> = L[]\nsage: M.<z> = L.extension(z^2 - y)\n\nsage: K.space_of_differentials()(x)\nd(x)\nsage: L.space_of_differentials()(x)\nd(x)\nsage: M.space_of_differentials()(x)\nd(y)\n```\n\nNow `M` is a global function field, right?  Yet we still see the same behavior.  Furthermore...\n\n```\nsage: z.differential()\n(8/x*z) d(y)\n```\n\nYet dz = 1/(2*z) dy, which doesn't seem to be (8/x*z):\n\n```\nsage: 1/(2*z) == (8/x*z)\nFalse\n```\n\nWhat's going on here?\n\n```\nsage: M.derivation()\nDerivation map:\n  From: Function field in z defined by z^2 + 30*y\n  To:   Function field in z defined by z^2 + 30*y\n  Defn: z |--> 8/x*z\n        y |--> 16/x*y\n        x |--> 1\n```\n\n`M`'s derivation map is w.r.t. x, but `FunctionFieldDifferential_global`'s constructor assumes that it's w.r.t. y, right?",
    "created_at": "2019-04-18T20:43:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419036",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:15'>Comment 15:</a>
Replying to [@kwankyu](#comment%3A14):
> Currently Sage only supports differentials of global function fields (and rational function fields). 
> 
> So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.

OK, so let me change the example.  How about this:

```
sage: K.<x> = FunctionField(GF(31))
sage: R.<y> = K[]
sage: L.<y> = K.extension(y^2 - x)
sage: R.<z> = L[]
sage: M.<z> = L.extension(z^2 - y)

sage: K.space_of_differentials()(x)
d(x)
sage: L.space_of_differentials()(x)
d(x)
sage: M.space_of_differentials()(x)
d(y)
```

Now `M` is a global function field, right?  Yet we still see the same behavior.  Furthermore...

```
sage: z.differential()
(8/x*z) d(y)
```

Yet dz = 1/(2*z) dy, which doesn't seem to be (8/x*z):

```
sage: 1/(2*z) == (8/x*z)
False
```

What's going on here?

```
sage: M.derivation()
Derivation map:
  From: Function field in z defined by z^2 + 30*y
  To:   Function field in z defined by z^2 + 30*y
  Defn: z |--> 8/x*z
        y |--> 16/x*y
        x |--> 1
```

`M`'s derivation map is w.r.t. x, but `FunctionFieldDifferential_global`'s constructor assumes that it's w.r.t. y, right?



---

archive/issue_events_352784.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-18T23:24:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352784"
}
```



---

archive/issue_events_352785.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-18T23:24:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352785"
}
```



---

archive/issue_comments_419037.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nReplying to [@BrentBaccala](#comment%3A15):\n> Replying to [@kwankyu](#comment%3A14):\n> > Currently Sage only supports differentials of global function fields (and rational function fields). \n> > \n> > So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.\n\n> \n> OK, so let me change the example.  How about this:\n> \n> ```\n> sage: K.<x> = FunctionField(GF(31))\n> sage: R.<y> = K[]\n> sage: L.<y> = K.extension(y^2 - x)\n> sage: R.<z> = L[]\n> sage: M.<z> = L.extension(z^2 - y)\n> \n> sage: K.space_of_differentials()(x)\n> d(x)\n> sage: L.space_of_differentials()(x)\n> d(x)\n> sage: M.space_of_differentials()(x)\n> d(y)\n> ```\n> \n> Now `M` is a global function field, right?  \n\nI meant global function fields in sage. They are separable extensions of rational function fields over finite fields. M is not a global function field in sage in this sense.\n\nThe erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. \n\nI guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.\n\nOn the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \\otimes_K \\Omega_K$ into $\\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.",
    "created_at": "2019-04-19T01:08:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419037",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:17'>Comment 17:</a>
Replying to [@BrentBaccala](#comment%3A15):
> Replying to [@kwankyu](#comment%3A14):
> > Currently Sage only supports differentials of global function fields (and rational function fields). 
> > 
> > So you may need to enlarge the class of function fields that differentials are supported before you work on this ticket. Or you may clarify the cases for which the coercion works.

> 
> OK, so let me change the example.  How about this:
> 
> ```
> sage: K.<x> = FunctionField(GF(31))
> sage: R.<y> = K[]
> sage: L.<y> = K.extension(y^2 - x)
> sage: R.<z> = L[]
> sage: M.<z> = L.extension(z^2 - y)
> 
> sage: K.space_of_differentials()(x)
> d(x)
> sage: L.space_of_differentials()(x)
> d(x)
> sage: M.space_of_differentials()(x)
> d(y)
> ```
> 
> Now `M` is a global function field, right?  

I meant global function fields in sage. They are separable extensions of rational function fields over finite fields. M is not a global function field in sage in this sense.

The erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. 

I guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.

On the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \otimes_K \Omega_K$ into $\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.



---

archive/issue_comments_419038.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nReplying to [@kwankyu](#comment%3A17):\n> The erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. \n\nOK.  I think that's another ticket.\n\n> I guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.\n\nNo, my coercion is not intended just for global function fields.  I'd like it to work for all of the function fields that can formed using the present code.\n\n> On the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \\otimes_K \\Omega_K$ into $\\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.\n> \n\nI'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.\n\nI haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?",
    "created_at": "2019-04-19T03:43:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419038",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:18'>Comment 18:</a>
Replying to [@kwankyu](#comment%3A17):
> The erroneous behavior of your example just indicates that to support differentials of extensions of non-rational function fields, some part of the infrastructure needs to be fixed. 

OK.  I think that's another ticket.

> I guess your coercion is not intended just for global functions fields.  But as we saw, based on the current sage, your coercion doesn't work right for tower of function fields.  Then perhaps the scope of your coercion is extensions of rational function fields. I asked you to clarify this.

No, my coercion is not intended just for global function fields.  I'd like it to work for all of the function fields that can formed using the present code.

> On the other hand, I think what you are implementing is the natural inclusion of the tensor product $L \otimes_K \Omega_K$ into $\Omega_L$ defined by f*(gdx) -> fg dx for f in L and g, x in K. Then the coercion would work right for towers of function fields once you enlarge the scope of differentials in sage properly. I am curious if you want to do this in this ticket or another ticket.
> 

I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.

I haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?



---

archive/issue_comments_419039.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nReplying to [@BrentBaccala](#comment%3A18):\n> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.\n\nNice.\n \n> I haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?\n\nOk. No one asks for that these days :-)",
    "created_at": "2019-04-19T04:45:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419039",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:19'>Comment 19:</a>
Replying to [@BrentBaccala](#comment%3A18):
> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.

Nice.
 
> I haven't created that new ticket yet.  Do you want me to add you to the cc line when I do?

Ok. No one asks for that these days :-)



---

archive/issue_comments_419040.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nReplying to [@BrentBaccala](#comment%3A18):\n> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.\n\nThat ticket is now #27712",
    "created_at": "2019-04-22T18:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419040",
    "user": "https://github.com/BrentBaccala"
}
```

<a id='comment:20'>Comment 20:</a>
Replying to [@BrentBaccala](#comment%3A18):
> I'm thinking that I'll open another ticket to revise the differential code so that it supports all of the existing function fields, then come back to this ticket to see if any changes are needed here.

That ticket is now #27712



---

archive/issue_comments_419041.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a1ae198af39ba4e3ce02932d8b0bb9af783125da\">a1ae198</a></td><td><code>Trac #27712: print the correct differential name</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95e0e12c63fc852f5d9f0f3c93926671d9096950\">95e0e12</a></td><td><code>Trac #27712: fix a mistake in documentation of _intermediate_fields()</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/19a6cc324e5965a7965e0c4e5023a00a6f82ad32\">19a6cc3</a></td><td><code>Trac #27712: explicitly specify base differential of DifferentialsSpace</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b\">08d2858</a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>\n",
    "created_at": "2019-04-24T00:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419041",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:21'>Comment 21:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a1ae198af39ba4e3ce02932d8b0bb9af783125da">a1ae198</a></td><td><code>Trac #27712: print the correct differential name</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95e0e12c63fc852f5d9f0f3c93926671d9096950">95e0e12</a></td><td><code>Trac #27712: fix a mistake in documentation of _intermediate_fields()</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/19a6cc324e5965a7965e0c4e5023a00a6f82ad32">19a6cc3</a></td><td><code>Trac #27712: explicitly specify base differential of DifferentialsSpace</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b">08d2858</a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>




---

archive/issue_comments_419042.json:
```json
{
    "body": "Changed commit from **[8621500](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)** to **[08d2858](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)**",
    "created_at": "2019-04-24T00:27:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419042",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[8621500](https://github.com/sagemath/sagetrac-mirror/commit/86215005eee229b3772b8e0c96ab4d610bd7e618)** to **[08d2858](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)**



---

archive/issue_comments_419043.json:
```json
{
    "body": "Dependencies: **#27712**",
    "created_at": "2019-04-24T00:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419043",
    "user": "https://github.com/BrentBaccala"
}
```

Dependencies: **#27712**



---

archive/issue_events_352786.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-24T00:37:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352786"
}
```



---

archive/issue_events_352787.json:
```json
{
    "actor": "https://github.com/BrentBaccala",
    "created_at": "2019-04-24T00:37:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352787"
}
```



---

archive/issue_comments_419044.json:
```json
{
    "body": "Changed commit from **[08d2858](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)** to **[cd61702](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)**",
    "created_at": "2019-04-26T00:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419044",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[08d2858](https://github.com/sagemath/sagetrac-mirror/commit/08d28581296ddbe507985dc0293aa8b6a386f95b)** to **[cd61702](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)**



---

archive/issue_comments_419045.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1cf74b2db0cfc3465596050e954c220c5db7957e\">1cf74b2</a></td><td><code>Trac #27712: silence pyflakes warning</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d\">cd61702</a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>\n",
    "created_at": "2019-04-26T00:50:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419045",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:24'>Comment 24:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1cf74b2db0cfc3465596050e954c220c5db7957e">1cf74b2</a></td><td><code>Trac #27712: silence pyflakes warning</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d">cd61702</a></td><td><code>Merge branch 'public/27712' into public/26993</code></td></tr></table>




---

archive/issue_comments_419046.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e177040e8af23bb12888a26ad40f2ee8aa3b8c60\">e177040</a></td><td><code>Merge tag '8.8.beta7' into public/26993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818\">1df496c</a></td><td><code>Trac #26993: resolve import dependency loop</code></td></tr></table>\n",
    "created_at": "2019-06-04T03:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419046",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e177040e8af23bb12888a26ad40f2ee8aa3b8c60">e177040</a></td><td><code>Merge tag '8.8.beta7' into public/26993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818">1df496c</a></td><td><code>Trac #26993: resolve import dependency loop</code></td></tr></table>




---

archive/issue_comments_419047.json:
```json
{
    "body": "Changed commit from **[cd61702](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)** to **[1df496c](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)**",
    "created_at": "2019-06-04T03:08:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419047",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[cd61702](https://github.com/sagemath/sagetrac-mirror/commit/cd6170287dc846746cae2c3f040036004674143d)** to **[1df496c](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)**



---

archive/issue_comments_419048.json:
```json
{
    "body": "Changed commit from **[1df496c](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)** to **[bffacfc](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**",
    "created_at": "2019-06-14T01:36:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419048",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[1df496c](https://github.com/sagemath/sagetrac-mirror/commit/1df496c00a3586a253de07e5d88794d0d93e8818)** to **[bffacfc](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**



---

archive/issue_comments_419049.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8b9a9c9fc0b1a8c43f2bde989db5a98ae89e5f31\">8b9a9c9</a></td><td><code>Merge branch 'develop' into differential-trac26993</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a\">bffacfc</a></td><td><code>Simplify the coercion and add hash to differentials</code></td></tr></table>\n",
    "created_at": "2019-06-14T01:36:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419049",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:26'>Comment 26:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8b9a9c9fc0b1a8c43f2bde989db5a98ae89e5f31">8b9a9c9</a></td><td><code>Merge branch 'develop' into differential-trac26993</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a">bffacfc</a></td><td><code>Simplify the coercion and add hash to differentials</code></td></tr></table>




---

archive/issue_comments_419050.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nI worked on your code and could simplify a lot the code. \n\nPositive review on your part of the code.",
    "created_at": "2019-06-14T01:38:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419050",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:27'>Comment 27:</a>
I worked on your code and could simplify a lot the code. 

Positive review on your part of the code.



---

archive/issue_comments_419051.json:
```json
{
    "body": "Reviewer: **Kwankyu Lee**",
    "created_at": "2019-06-14T01:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419051",
    "user": "https://github.com/kwankyu"
}
```

Reviewer: **Kwankyu Lee**



---

archive/issue_comments_419052.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nNeeds review on reviewer's part of the code.",
    "created_at": "2019-06-25T07:27:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419052",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:29'>Comment 29:</a>
Needs review on reviewer's part of the code.



---

archive/issue_comments_419053.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nI thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.",
    "created_at": "2019-06-26T10:05:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419053",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:30'>Comment 30:</a>
I thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.



---

archive/issue_comments_419054.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nReplying to [@tscrim](#comment%3A30):\n> I thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.\n\nThere is no action to be discovered by the coercion frame even though the coercion map is there. \n\nFor y*dx, where x is in a function field F and y is in its extension E, which is the case that this ticket deals with, the action on the differential dx is **not** constructed from `_rmul_` automatically because y is not in F.\n\n\nSo I implemented one.",
    "created_at": "2019-06-26T11:06:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419054",
    "user": "https://github.com/kwankyu"
}
```

<a id='comment:31'>Comment 31:</a>
Replying to [@tscrim](#comment%3A30):
> I thought the coercion frame took care of coercions of actions. In particular, I would think you do not need to implement that `_acted_upon_` given that you (now) have the coercion map.

There is no action to be discovered by the coercion frame even though the coercion map is there. 

For y*dx, where x is in a function field F and y is in its extension E, which is the case that this ticket deals with, the action on the differential dx is **not** constructed from `_rmul_` automatically because y is not in F.


So I implemented one.



---

archive/issue_comments_419055.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nHmm...that sounds like a pushout construction is missing. Well, that could be done on a followup as this works.",
    "created_at": "2019-06-26T14:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419055",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:32'>Comment 32:</a>
Hmm...that sounds like a pushout construction is missing. Well, that could be done on a followup as this works.



---

archive/issue_comments_419056.json:
```json
{
    "body": "Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Travis Scrimshaw**",
    "created_at": "2019-06-26T14:27:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419056",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Kwankyu Lee** to **Kwankyu Lee, Travis Scrimshaw**



---

archive/issue_events_352788.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352788"
}
```



---

archive/issue_events_352789.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "milestone_number": null,
    "milestone_title": "sage-8.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352789"
}
```



---

archive/issue_events_352790.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352790"
}
```



---

archive/issue_events_352791.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-06-26T14:27:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352791"
}
```



---

archive/issue_comments_419057.json:
```json
{
    "body": "Changed branch from **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)** to **[bffacfc](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**",
    "created_at": "2019-06-27T20:13:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26993#issuecomment-419057",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/26993](https://github.com/sagemath/sagetrac-mirror/tree/public/26993)** to **[bffacfc](https://github.com/sagemath/sagetrac-mirror/commit/bffacfcfbcd2b88c8b298f037d31228464e2763a)**



---

archive/issue_events_352792.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-27T20:13:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352792"
}
```



---

archive/issue_events_352793.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "17f5643097c9fa6af9f7ca58394e0e94f16f41c6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-06-27T20:13:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26993",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26993#event-352793"
}
```
