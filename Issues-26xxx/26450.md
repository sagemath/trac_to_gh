# Issue 26450: cython fails to build with SAGE_CHECK=yes

archive/issues_026213.json:
```json
{
    "body": "Setting `SAGE_CHECK=yes` and doing `make distclean && make -j1 cython` gives two errors.\n\nI think the relevant part of the log is as follows (full log attached).\n\n```\nDoctest: fused_def.__test__.test_opt_func (line 123) ... ok\nrunTest (__main__.CythonRunTestCase)\ncompiling (c) and running fused_types ... \n### C/C++ compiler error output:\nfused_types.c: In function '__pyx_pw_11fused_types_7test_fused_pointer_except_null':\nfused_types.c:36280:16: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         return decode_func(cstring, length, errors);\n                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4395:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:41066:20: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             return PyInt_FromLong((long) value);\n                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4395:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4493:17: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)\n                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.c:4395:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n==============================\nERROR\nrunTest (__main__.CythonRunTestCase)\ncompiling (cpp) and running fused_types ... \n### C/C++ compiler error output:\nfused_types.cpp: In function 'PyObject* __pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject*, PyObject*)':\nfused_types.cpp:36294:27: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n         return decode_func(cstring, length, errors);\n                ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.cpp:4409:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.cpp:41080:34: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n             return PyInt_FromLong((long) value);\n                    ~~~~~~~~~~~~~~^~~~~~~~~~~~~~\nfused_types.cpp:4409:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nfused_types.cpp:4507:35: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]\n     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)\n                 ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~\nfused_types.cpp:4409:18: note: '__pyx_v_x' was declared here\n static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n==============================\nERROR\n```\n\nThis is on an i5 machine running Debian Sid amd64, with system gcc and ccache.\n\n**Keywords:** cython\n\nIssue created by migration from https://trac.sagemath.org/ticket/26450\n\n",
    "closed_at": "2018-10-23T08:37:38Z",
    "created_at": "2018-10-09T22:53:30Z",
    "labels": [
        "component: cython",
        "bug",
        "duplicate"
    ],
    "title": "cython fails to build with SAGE_CHECK=yes",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26450",
    "user": "https://github.com/Konrad127123"
}
```
Setting `SAGE_CHECK=yes` and doing `make distclean && make -j1 cython` gives two errors.

I think the relevant part of the log is as follows (full log attached).

```
Doctest: fused_def.__test__.test_opt_func (line 123) ... ok
runTest (__main__.CythonRunTestCase)
compiling (c) and running fused_types ... 
### C/C++ compiler error output:
fused_types.c: In function '__pyx_pw_11fused_types_7test_fused_pointer_except_null':
fused_types.c:36280:16: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
         return decode_func(cstring, length, errors);
                ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:41066:20: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
             return PyInt_FromLong((long) value);
                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4493:17: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)
                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.c:4395:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
==============================
ERROR
runTest (__main__.CythonRunTestCase)
compiling (cpp) and running fused_types ... 
### C/C++ compiler error output:
fused_types.cpp: In function 'PyObject* __pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject*, PyObject*)':
fused_types.cpp:36294:27: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
         return decode_func(cstring, length, errors);
                ~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:41080:34: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
             return PyInt_FromLong((long) value);
                    ~~~~~~~~~~~~~~^~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
fused_types.cpp:4507:35: warning: '__pyx_v_x' may be used uninitialized in this function [-Wmaybe-uninitialized]
     __pyx_t_5 = PyFloat_FromDouble((__pyx_t_7[0])); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 150, __pyx_L1_error)
                 ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~
fused_types.cpp:4409:18: note: '__pyx_v_x' was declared here
 static PyObject *__pyx_pw_11fused_types_7test_fused_pointer_except_null(PyObject *__pyx_self, PyObject *__pyx_v_value) {
                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
==============================
ERROR
```

This is on an i5 machine running Debian Sid amd64, with system gcc and ccache.

**Keywords:** cython

Issue created by migration from https://trac.sagemath.org/ticket/26450





---

archive/attachments_021138.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "cython-0.28.4.log",
    "asset_url": "tarball://root/attachments/some-uuid/ticket26450/cython-0.28.4.log",
    "created_at": "2018-10-09T22:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26450",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.log",
    "user": "https://github.com/Konrad127123"
}
```



---

archive/issue_comments_410390.json:
```json
{
    "body": "",
    "created_at": "2018-10-09T22:55:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26450#issuecomment-410390",
    "user": "https://github.com/Konrad127123"
}
```





---

archive/issue_events_234002.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-23T08:37:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/26450",
    "label": "duplicate",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26450#event-234002"
}
```



---

archive/issue_events_234003.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-23T08:37:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26450",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26450#event-234003"
}
```



---

archive/issue_comments_410391.json:
```json
{
    "body": "<a id='comment:1'></a>\nFixed by Cython 0.29 (#25292)",
    "created_at": "2018-10-23T08:37:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26450",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26450#issuecomment-410391",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
Fixed by Cython 0.29 (#25292)



---

archive/issue_events_234004.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-23T08:37:38Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26450",
    "milestone": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26450#event-234004"
}
```
