# Issue 26368: Setting up a Polyhedron from both Vrep and Hrep - for backend='polymake'

archive/issues_026131.json:
```json
{
    "assignees": [],
    "body": "Follow-up from #22701, where this was implemented for 'field'.\n\nBefore (with #31864):\n\n```\nsage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \nCPU times: user 1.87 s, sys: 51.3 ms, total: 1.93 s\nWall time: 1.92 s\nsage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \nCPU times: user 463 ms, sys: 0 ns, total: 463 ms\nWall time: 462 ms\nsage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             \nCPU times: user 1min 33s, sys: 79.8 ms, total: 1min 33s\nWall time: 1min 33s\nsage: P = polytopes.hypercube(5, backend='polymake')                                                                                                                                                                                                                                                                                                                       \nsage: Q = polytopes.cross_polytope(5, backend='polymake')                                                                                                                                                                                                                                                                                                                   \nsage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        \nCPU times: user 21.8 s, sys: 15.1 ms, total: 21.8 s\nWall time: 21.8 s\n```\n\nAfter:\n\n```\nsage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \nCPU times: user 1.56 s, sys: 48.1 ms, total: 1.61 s\nWall time: 1.61 s\nsage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \nCPU times: user 120 ms, sys: 3.8 ms, total: 124 ms\nWall time: 123 ms\nsage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             \nCPU times: user 986 ms, sys: 27.8 ms, total: 1.01 s\nWall time: 1.01 s\nsage: P = polytopes.hypercube(6, backend='polymake')                                                                                                                                                                                                                                                                                                                       \nsage: Q = polytopes.cross_polytope(6, backend='polymake')                                                                                                                                                                                                                                                                                                                  \nsage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        \nCPU times: user 29.1 ms, sys: 0 ns, total: 29.1 ms\nWall time: 28.7 ms\n```\n\nAlso you can now change backends to polymake quickly:\n\n```\nsage: %time P = polytopes.associahedron(['A', 8], backend='polymake')                                                                                                                                                                                                                                                                                                      \nCPU times: user 920 ms, sys: 4.01 ms, total: 924 ms\nWall time: 923 ms\nsage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  \nCPU times: user 2.77 s, sys: 78 \u00b5s, total: 2.77 s\nWall time: 2.77 s\n4862 19448 32032 28028 14014 4004 616 44\nsage: %time P = polytopes.associahedron(['A', 8], backend='normaliz')                                                                                                                                                                                                                                                                                                      \nCPU times: user 324 ms, sys: 0 ns, total: 324 ms\nWall time: 86.4 ms\nsage: %time Q = P.base_extend(P.base_ring(), backend='polymake')                                                                                                                                                                                                                                                                                                           \nCPU times: user 159 ms, sys: 3.97 ms, total: 162 ms\nWall time: 162 ms\nsage: %time Q._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  \nCPU times: user 3.09 s, sys: 99 \u00b5s, total: 3.09 s\nWall time: 3.08 s\n4862 19448 32032 28028 14014 4004 616 44\n```\n\nDepends on #27745\nDepends on #31864\n\nCC:  @jplab @simon-king-jena @kliem @videlec\n\nBranch/Commit: **[`82020ef`](https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17)**\n\nReviewer: **Matthias Koeppe**\n\nAuthor: **Jonathan Kliem**\n\nComponent: **geometry**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26368_\n\n",
    "closed_at": "2021-07-24T15:28:37Z",
    "created_at": "2018-09-30T17:22:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20geometry",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Setting up a Polyhedron from both Vrep and Hrep - for backend='polymake'",
    "type": "issue",
    "updated_at": "2021-07-24T15:28:37Z",
    "url": "https://github.com/sagemath/sage/issues/26368",
    "user": "https://github.com/mkoeppe"
}
```
Follow-up from #22701, where this was implemented for 'field'.

Before (with #31864):

```
sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
CPU times: user 1.87 s, sys: 51.3 ms, total: 1.93 s
Wall time: 1.92 s
sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
CPU times: user 463 ms, sys: 0 ns, total: 463 ms
Wall time: 462 ms
sage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             
CPU times: user 1min 33s, sys: 79.8 ms, total: 1min 33s
Wall time: 1min 33s
sage: P = polytopes.hypercube(5, backend='polymake')                                                                                                                                                                                                                                                                                                                       
sage: Q = polytopes.cross_polytope(5, backend='polymake')                                                                                                                                                                                                                                                                                                                   
sage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        
CPU times: user 21.8 s, sys: 15.1 ms, total: 21.8 s
Wall time: 21.8 s
```

After:

```
sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
CPU times: user 1.56 s, sys: 48.1 ms, total: 1.61 s
Wall time: 1.61 s
sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
CPU times: user 120 ms, sys: 3.8 ms, total: 124 ms
Wall time: 123 ms
sage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             
CPU times: user 986 ms, sys: 27.8 ms, total: 1.01 s
Wall time: 1.01 s
sage: P = polytopes.hypercube(6, backend='polymake')                                                                                                                                                                                                                                                                                                                       
sage: Q = polytopes.cross_polytope(6, backend='polymake')                                                                                                                                                                                                                                                                                                                  
sage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        
CPU times: user 29.1 ms, sys: 0 ns, total: 29.1 ms
Wall time: 28.7 ms
```

Also you can now change backends to polymake quickly:

```
sage: %time P = polytopes.associahedron(['A', 8], backend='polymake')                                                                                                                                                                                                                                                                                                      
CPU times: user 920 ms, sys: 4.01 ms, total: 924 ms
Wall time: 923 ms
sage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  
CPU times: user 2.77 s, sys: 78 µs, total: 2.77 s
Wall time: 2.77 s
4862 19448 32032 28028 14014 4004 616 44
sage: %time P = polytopes.associahedron(['A', 8], backend='normaliz')                                                                                                                                                                                                                                                                                                      
CPU times: user 324 ms, sys: 0 ns, total: 324 ms
Wall time: 86.4 ms
sage: %time Q = P.base_extend(P.base_ring(), backend='polymake')                                                                                                                                                                                                                                                                                                           
CPU times: user 159 ms, sys: 3.97 ms, total: 162 ms
Wall time: 162 ms
sage: %time Q._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  
CPU times: user 3.09 s, sys: 99 µs, total: 3.09 s
Wall time: 3.08 s
4862 19448 32032 28028 14014 4004 616 44
```

Depends on #27745
Depends on #31864

CC:  @jplab @simon-king-jena @kliem @videlec

Branch/Commit: **[`82020ef`](https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17)**

Reviewer: **Matthias Koeppe**

Author: **Jonathan Kliem**

Component: **geometry**

_Issue created by migration from https://trac.sagemath.org/ticket/26368_





---

archive/issue_events_365043.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-30T17:22:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365043"
}
```



---

archive/issue_events_365044.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-30T17:22:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20geometry",
    "label_color": "0000ff",
    "label_name": "c: geometry",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365044"
}
```



---

archive/issue_events_365045.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-30T17:22:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365045"
}
```



---

archive/issue_events_365046.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2018-09-30T17:22:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365046"
}
```



---

archive/issue_comments_406515.json:
```json
{
    "body": "Dependencies: **#28880**",
    "created_at": "2019-12-13T15:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406515",
    "user": "https://github.com/kliem"
}
```

Dependencies: **#28880**



---

archive/issue_comments_406516.json:
```json
{
    "body": "Changed dependencies from **#28880** to **#27745**",
    "created_at": "2021-05-25T23:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406516",
    "user": "https://github.com/mkoeppe"
}
```

Changed dependencies from **#28880** to **#27745**



---

archive/issue_events_365047.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-25T23:24:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365047"
}
```



---

archive/issue_comments_406517.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\n#27745 has implemented this.",
    "created_at": "2021-05-25T23:24:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406517",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:2" align="right">comment:2</div>

#27745 has implemented this.



---

archive/issue_events_365048.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-25T23:24:09Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365048"
}
```



---

archive/issue_events_365049.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-25T23:24:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365049"
}
```



---

archive/issue_events_365050.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-25T23:24:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "c6c6c6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365050"
}
```



---

archive/issue_comments_406518.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWhile #27745 has illustrated how to implement this, it does not implement a method `_init_from_Vrepresentation_and_Hrepresentation`.\n\nThis method is utilized when changing backends or when doing fully characterized constructions.",
    "created_at": "2021-05-26T05:49:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406518",
    "user": "https://github.com/kliem"
}
```

<div id="comment:3" align="right">comment:3</div>

While #27745 has illustrated how to implement this, it does not implement a method `_init_from_Vrepresentation_and_Hrepresentation`.

This method is utilized when changing backends or when doing fully characterized constructions.



---

archive/issue_events_365051.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-26T05:49:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365051"
}
```



---

archive/issue_events_365052.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-26T05:49:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365052"
}
```



---

archive/issue_events_365053.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T05:57:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "milestone_number": null,
    "milestone_title": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365053"
}
```



---

archive/issue_comments_406519.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nGood point.",
    "created_at": "2021-05-26T05:57:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406519",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:4" align="right">comment:4</div>

Good point.



---

archive/issue_events_365054.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T05:57:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365054"
}
```



---

archive/issue_events_365055.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-26T05:57:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365055"
}
```



---

archive/issue_comments_406520.json:
```json
{
    "body": "Branch: **[public/26368](https://github.com/sagemath/sagetrac-mirror/tree/public/26368)**",
    "created_at": "2021-05-26T10:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406520",
    "user": "https://github.com/kliem"
}
```

Branch: **[public/26368](https://github.com/sagemath/sagetrac-mirror/tree/public/26368)**



---

archive/issue_comments_406521.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nLast 10 new commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14\"><code>b4366f1</code></a></td><td><code>PolymakeElement._sage_, Polyhedron_polymake._from_polymake_polytope: Determine the base ring</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3cb688857f390f5739b6ef14bdb3b97b4c597a7f\"><code>3cb6888</code></a></td><td><code>PolymakeElement: Adjust doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee\"><code>89614bb</code></a></td><td><code>build/pkgs/polymake/SPKG.rst: Recommend installing jupymake</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c\"><code>9b3e7bd</code></a></td><td><code>src/sage/interfaces/polymake.py: Deprecate PolymakeExpect</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5\"><code>1f79230</code></a></td><td><code>src/sage/geometry/polyhedron/backend_polymake.py: Skip the failing TestSuite test _test_lawrence</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d\"><code>609e08d</code></a></td><td><code>more meaningful error message when pexpect-base interface fails to start</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e664be475bd24a0ab5a4bd80bd62de2ee2397c89\"><code>e664be4</code></a></td><td><code>recreate the polymake polytope unconditionally</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89\"><code>310b700</code></a></td><td><code>more tests for pickling and some fixes</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7\"><code>f58a267</code></a></td><td><code>fix the far facet issue</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1d5da2cd562396661ca43b066d68a4d94973befb\"><code>1d5da2c</code></a></td><td><code>initialize polymake from both Vrep and Hrep</code></td></tr></table>\n",
    "created_at": "2021-05-26T10:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406521",
    "user": "https://github.com/kliem"
}
```

<div id="comment:5" align="right">comment:5</div>

Last 10 new commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b4366f131faa5f88ea943f0c5d1aa3d37e9d9f14"><code>b4366f1</code></a></td><td><code>PolymakeElement._sage_, Polyhedron_polymake._from_polymake_polytope: Determine the base ring</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3cb688857f390f5739b6ef14bdb3b97b4c597a7f"><code>3cb6888</code></a></td><td><code>PolymakeElement: Adjust doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/89614bbfdb4d8aa7ccd9dd11f091ceed97ca34ee"><code>89614bb</code></a></td><td><code>build/pkgs/polymake/SPKG.rst: Recommend installing jupymake</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9b3e7bd259d30308b6fee23c54c4ffe0a895f88c"><code>9b3e7bd</code></a></td><td><code>src/sage/interfaces/polymake.py: Deprecate PolymakeExpect</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1f79230d95a09b0ad9c0407d25b4837230b8bab5"><code>1f79230</code></a></td><td><code>src/sage/geometry/polyhedron/backend_polymake.py: Skip the failing TestSuite test _test_lawrence</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/609e08d347c9f7b73abc82705c1ce6179ce50c5d"><code>609e08d</code></a></td><td><code>more meaningful error message when pexpect-base interface fails to start</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e664be475bd24a0ab5a4bd80bd62de2ee2397c89"><code>e664be4</code></a></td><td><code>recreate the polymake polytope unconditionally</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/310b7004df445f9ef41cda58091bbd7fd0274d89"><code>310b700</code></a></td><td><code>more tests for pickling and some fixes</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f58a2672fb9d5197e9aabc1d2eb5a231754d3bf7"><code>f58a267</code></a></td><td><code>fix the far facet issue</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1d5da2cd562396661ca43b066d68a4d94973befb"><code>1d5da2c</code></a></td><td><code>initialize polymake from both Vrep and Hrep</code></td></tr></table>




---

archive/issue_comments_406522.json:
```json
{
    "body": "Commit: **[`1d5da2c`](https://github.com/sagemath/sagetrac-mirror/commit/1d5da2cd562396661ca43b066d68a4d94973befb)**",
    "created_at": "2021-05-26T10:41:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406522",
    "user": "https://github.com/kliem"
}
```

Commit: **[`1d5da2c`](https://github.com/sagemath/sagetrac-mirror/commit/1d5da2cd562396661ca43b066d68a4d94973befb)**



---

archive/issue_comments_406523.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nBefore doing this, we should really optimize sage to polymake input/output, this is really awful:\n\n```\nsage: P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                       \nsage: %time a = P._polymake_polytope.VERTICES                                                                                                                                                                                                                                                                                                                              \nCPU times: user 457 \u00b5s, sys: 30 \u00b5s, total: 487 \u00b5s\nWall time: 489 \u00b5s\nsage: %time b = [vector(QQ(x) for x in c._repr_().split(' ')) for c in a]                                                                                                                                                                                                                                                                                                  \nCPU times: user 218 ms, sys: 15.9 ms, total: 234 ms\nWall time: 233 ms\nsage: %time b = [c.sage() for c in a]                                                                                                                                                                                                                                                                                                                                      \nCPU times: user 2.78 s, sys: 172 ms, total: 2.95 s\nWall time: 2.95 s\n```\n\nPolymake vector to sage vector should be much much better.",
    "created_at": "2021-05-26T10:56:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406523",
    "user": "https://github.com/kliem"
}
```

<div id="comment:6" align="right">comment:6</div>

Before doing this, we should really optimize sage to polymake input/output, this is really awful:

```
sage: P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                       
sage: %time a = P._polymake_polytope.VERTICES                                                                                                                                                                                                                                                                                                                              
CPU times: user 457 µs, sys: 30 µs, total: 487 µs
Wall time: 489 µs
sage: %time b = [vector(QQ(x) for x in c._repr_().split(' ')) for c in a]                                                                                                                                                                                                                                                                                                  
CPU times: user 218 ms, sys: 15.9 ms, total: 234 ms
Wall time: 233 ms
sage: %time b = [c.sage() for c in a]                                                                                                                                                                                                                                                                                                                                      
CPU times: user 2.78 s, sys: 172 ms, total: 2.95 s
Wall time: 2.95 s
```

Polymake vector to sage vector should be much much better.



---

archive/issue_comments_406524.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIs it possible to see with a profiler where the time is spent?",
    "created_at": "2021-05-26T14:49:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406524",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:7" align="right">comment:7</div>

Is it possible to see with a profiler where the time is spent?



---

archive/issue_comments_406525.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nDid this. Not much can be done about input. However output can really be accelerated. Everything is slow: Iterating, item fetching etc. However, just taking the representation and string operations seems to work well.\n\nI have a branch I can push in an hour or so.",
    "created_at": "2021-05-26T15:15:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406525",
    "user": "https://github.com/kliem"
}
```

<div id="comment:8" align="right">comment:8</div>

Did this. Not much can be done about input. However output can really be accelerated. Everything is slow: Iterating, item fetching etc. However, just taking the representation and string operations seems to work well.

I have a branch I can push in an hour or so.



---

archive/issue_comments_406526.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nIs it easy to see how much time is spent on the polymake side (in Perl and compiled polymake code) vs. on the Python side?",
    "created_at": "2021-05-26T15:29:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406526",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:9" align="right">comment:9</div>

Is it easy to see how much time is spent on the polymake side (in Perl and compiled polymake code) vs. on the Python side?



---

archive/issue_comments_406527.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\n\n```\nsage: import pstats, cProfile                                                                                                                                                                                                                                                                                                                                              \nsage: cProfile.runctx(\"polytopes.hypercube(8, backend='polymake')\", globals(), locals(), \"/tmp/Profile.prof\")                                                                                                                                                                                                                                                              \nsage: s = pstats.Stats(\"/tmp/Profile.prof\")                                                                                                                                                                                                                                                                                                                                \nsage: s.strip_dirs().sort_stats(\"time\").print_stats()                                                                                                                                                                                                                                                                                                                      \nWed May 26 18:02:00 2021    /tmp/Profile.prof\n\n         230319 function calls (214830 primitive calls) in 2.368 seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n        1    1.433    1.433    1.433    1.433 {built-in method JuPyMake.InitializePolymake}\n     5463    0.733    0.000    0.733    0.000 {built-in method JuPyMake.ExecuteCommand}\n     2451    0.028    0.000    2.173    0.001 {method '_polymake_' of 'sage.structure.sage_object.SageObject' objects}\n5463/5458    0.018    0.000    2.195    0.000 polymake.py:2523(eval)\n   7903/8    0.015    0.000    2.303    0.288 interface.py:250(__call__)\n   2725/5    0.013    0.000    0.854    0.171 interface.py:334(_coerce_impl)\n     5176    0.012    0.000    2.186    0.000 interface.py:317(_coerce_from_special_method)\n      316    0.009    0.000    0.009    0.000 {built-in method builtins.compile}\n     2727    0.008    0.000    2.219    0.001 polymake.py:471(_create)\n8784/8779    0.006    0.000    0.007    0.000 {method 'format' of 'str' objects}\n       94    0.006    0.000    0.006    0.000 {built-in method marshal.loads}\n    10259    0.006    0.000    0.006    0.000 {built-in method builtins.hasattr}\n     2727    0.005    0.000    1.842    0.001 polymake.py:518(set)\n    35060    0.005    0.000    0.005    0.000 {built-in method builtins.isinstance}\n     2727    0.004    0.000    2.224    0.001 interface.py:705(__init__)\n   2725/5    0.004    0.000    0.854    0.171 polymake.py:303(_coerce_impl)\n     2727    0.004    0.000    0.006    0.000 polymake.py:431(_next_var_name)\n       17    0.003    0.000    0.003    0.000 {built-in method _imp.create_dynamic}\n     2725    0.002    0.000    0.006    0.000 interface.py:982(__del__)\n6266/5639    0.002    0.000    0.051    0.000 <frozen importlib._bootstrap>:1009(_handle_fromlist)\n  162/161    0.002    0.000    0.003    0.000 {built-in method builtins.__build_class__}\n     5465    0.002    0.000    0.002    0.000 polymake.py:2481(is_running)\n     7626    0.002    0.000    0.002    0.000 interface.py:95(name)\n     5463    0.001    0.000    0.001    0.000 verbose.py:251(get_verbose)\n      375    0.001    0.000    0.001    0.000 {built-in method posix.stat}\n     8477    0.001    0.000    0.001    0.000 {method 'strip' of 'str' objects}\n...\nsage: P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                       \nsage: import pstats, cProfile                                                                                                                                                                                                                                                                                                                                              \nsage: cProfile.runctx(\"Polyhedron(ieqs=P.inequalities(), backend='polymake')\", globals(), locals(), \"/tmp/Profile.prof\")                                                                                                                                                                                                                                                   \nsage: s = pstats.Stats(\"/tmp/Profile.prof\")                                                                                                                                                                                                                                                                                                                                \nsage: s.strip_dirs().sort_stats(\"time\").print_stats()                                                                                                                                                                                                                                                                                                                      \nWed May 26 18:05:43 2021    /tmp/Profile.prof\n\n         566981 function calls (561525 primitive calls) in 3.534 seconds\n\n   Ordered by: internal time\n\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n    22084    3.020    0.000    3.020    0.000 {built-in method JuPyMake.ExecuteCommand}\n    22084    0.078    0.000    3.140    0.000 polymake.py:2523(eval)\n 2720/272    0.037    0.000    3.259    0.012 polymake.py:1460(_sage_)\n     2448    0.033    0.000    0.036    0.000 {built-in method builtins.eval}\n    27987    0.026    0.000    0.026    0.000 {built-in method builtins.hasattr}\n     2448    0.021    0.000    0.028    0.000 preparse.py:1143(preparse_numeric_literals)\n27098/27095    0.018    0.000    0.019    0.000 {method 'format' of 'str' objects}\n     2448    0.016    0.000    0.102    0.000 preparse.py:1693(preparse)\n     4896    0.015    0.000    0.019    0.000 {method 'sub' of 're.Pattern' objects}\n     2449    0.013    0.000    1.052    0.000 polymake.py:873(_repr_)\n    29664    0.012    0.000    0.014    0.000 interface.py:967(_check_valid)\n     2450    0.010    0.000    0.014    0.000 {built-in method builtins.getattr}\n     3089    0.009    0.000    0.954    0.000 polymake.py:471(_create)\n     2448    0.009    0.000    1.087    0.000 interface.py:992(_sage_repr)\n     2448    0.009    0.000    0.149    0.000 sage_eval.py:16(sage_eval)\n    24654    0.009    0.000    0.034    0.000 <frozen importlib._bootstrap>:1009(_handle_fromlist)\n7904/7902    0.009    0.000    0.045    0.000 polymake.py:1205(__getattr__)\n2864/2736    0.008    0.000    0.884    0.000 polymake.py:1346(__getitem__)\n     2724    0.008    0.000    0.771    0.000 polymake.py:1426(typeof)\n     5168    0.008    0.000    0.734    0.000 polymake.py:1121(typename)\n     2448    0.008    0.000    0.013    0.000 preparse.py:549(strip_string_literals)\n    36357    0.007    0.000    0.007    0.000 {built-in method builtins.isinstance}\n3325/2931    0.007    0.000    0.972    0.000 interface.py:250(__call__)\n     3089    0.006    0.000    0.514    0.000 polymake.py:518(set)\n     9792    0.006    0.000    0.008    0.000 re.py:271(_compile)\n    22089    0.006    0.000    0.006    0.000 polymake.py:2481(is_running)\n     3089    0.006    0.000    0.959    0.000 interface.py:705(__init__)\n     4900    0.005    0.000    0.688    0.000 polymake.py:600(get)\n    22084    0.005    0.000    0.005    0.000 verbose.py:251(get_verbose)\n     2449    0.004    0.000    1.073    0.000 interface.py:1094(__repr__)\n     4896    0.004    0.000    0.004    0.000 re.py:307(_subx)\n     7344    0.004    0.000    0.004    0.000 {method 'finditer' of 're.Pattern' objects}\n    26928    0.004    0.000    0.004    0.000 {method 'replace' of 'str' objects}\n     2448    0.004    0.000    0.008    0.000 preparse.py:1524(preparse_generators)\n    45197    0.004    0.000    0.004    0.000 {method 'parent' of 'sage.structure.element.Element' objects}\n      272    0.004    0.000    0.017    0.000 {sage.modules.free_module_element.vector}\n     2448    0.004    0.000    1.240    0.001 interface.py:1047(_sage_)\n      272    0.003    0.000    3.124    0.011 polymake.py:1537(<listcomp>)\n      832    0.003    0.000    0.006    0.000 free_module.py:1062(_element_constructor_)\n     2448    0.003    0.000    0.006    0.000 preparse.py:1407(preparse_calculus)\n...\n```\n\nThat is the ticket as is.\n\nI'm not exactly sure, why the method `_sage_` is as slow as it is. However, I already have a branch where I'm doing better by a factor of 100 or so. Just by parsing `_repr_` instead.\n\nThe input is slow as well, which does not suprise me, when forcing verbose things look like this:\n\n```\n\n## eval: print $SAGE0[0]->description;\n## eval: print $SAGE0[0];\n## eval: @SAGE23=(3);\n## eval: print scalar @SAGE23;\n## eval: @SAGE22=(1);\n## eval: print scalar @SAGE22;\n## eval: @SAGE21=(-1);\n## eval: print scalar @SAGE21;\n## eval: @SAGE20=(-1);\n## eval: print scalar @SAGE20;\n## eval: @SAGE19=([$SAGE22[0],$SAGE21[0],$SAGE20[0]]);\n## eval: print scalar @SAGE19;\n## eval: @SAGE18=(1);\n## eval: print scalar @SAGE18;\n## eval: @SAGE17=(-1);\n## eval: print scalar @SAGE17;\n## eval: @SAGE16=(1);\n## eval: print scalar @SAGE16;\n## eval: @SAGE15=([$SAGE18[0],$SAGE17[0],$SAGE16[0]]);\n## eval: print scalar @SAGE15;\n## eval: @SAGE14=(1);\n## eval: print scalar @SAGE14;\n## eval: @SAGE13=(1);\n## eval: print scalar @SAGE13;\n## eval: @SAGE12=(-1);\n## eval: print scalar @SAGE12;\n## eval: @SAGE11=([$SAGE14[0],$SAGE13[0],$SAGE12[0]]);\n## eval: print scalar @SAGE11;\n## eval: @SAGE10=(1);\n## eval: print scalar @SAGE10;\n## eval: @SAGE9=(1);\n## eval: print scalar @SAGE9;\n## eval: @SAGE8=(1);\n## eval: print scalar @SAGE8;\n## eval: @SAGE7=([$SAGE10[0],$SAGE9[0],$SAGE8[0]]);\n## eval: print scalar @SAGE7;\n## eval: @SAGE6=([$SAGE19[0],$SAGE15[0],$SAGE11[0],$SAGE7[0]]);\n## eval: print scalar @SAGE6;\n## eval: @SAGE5=([]);\n## eval: print scalar @SAGE5;\n## eval: @SAGE4=([]);\n## eval: print scalar @SAGE4;\n## eval: @SAGE3=(1);\n## eval: print scalar @SAGE3;\n## eval: @SAGE2=(-1);\n## eval: print scalar @SAGE2;\n## eval: @SAGE99=(0);\n## eval: print scalar @SAGE99;\n## eval: @SAGE100=([$SAGE3[0],$SAGE2[0],$SAGE99[0]]);\n## eval: print scalar @SAGE100;\n## eval: @SAGE149=(1);\n## eval: print scalar @SAGE149;\n## eval: @SAGE148=(0);\n## eval: print scalar @SAGE148;\n## eval: @SAGE147=(-1);\n## eval: print scalar @SAGE147;\n## eval: @SAGE146=([$SAGE149[0],$SAGE148[0],$SAGE147[0]]);\n## eval: print scalar @SAGE146;\n## eval: @SAGE145=(1);\n## eval: print scalar @SAGE145;\n## eval: @SAGE144=(1);\n## eval: print scalar @SAGE144;\n## eval: @SAGE143=(0);\n## eval: print scalar @SAGE143;\n## eval: @SAGE142=([$SAGE145[0],$SAGE144[0],$SAGE143[0]]);\n## eval: print scalar @SAGE142;\n## eval: @SAGE141=(1);\n## eval: print scalar @SAGE141;\n## eval: @SAGE140=(0);\n## eval: print scalar @SAGE140;\n## eval: @SAGE139=(1);\n## eval: print scalar @SAGE139;\n## eval: @SAGE138=([$SAGE141[0],$SAGE140[0],$SAGE139[0]]);\n## eval: print scalar @SAGE138;\n## eval: @SAGE137=([$SAGE100[0],$SAGE146[0],$SAGE142[0],$SAGE138[0]]);\n## eval: print scalar @SAGE137;\n## eval: @SAGE136=(new Polytope<Rational>(CONE_AMBIENT_DIM=>$SAGE23[0],VERTICES=>$SAGE6[0],LINEALITY_SPACE=>$SAGE5[0],AFFINE_HULL=>$SAGE4[0],FACETS=>$SAGE137[0]));\n## eval: print scalar @SAGE136;\nA 2-dimensional polyhedron in QQ^2 defined as the convex hull of 4 vertices\n```\n\nPolymake also accepts input files etc. in interactive mode. So maybe we could utilize this.",
    "created_at": "2021-05-26T16:14:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406527",
    "user": "https://github.com/kliem"
}
```

<div id="comment:10" align="right">comment:10</div>


```
sage: import pstats, cProfile                                                                                                                                                                                                                                                                                                                                              
sage: cProfile.runctx("polytopes.hypercube(8, backend='polymake')", globals(), locals(), "/tmp/Profile.prof")                                                                                                                                                                                                                                                              
sage: s = pstats.Stats("/tmp/Profile.prof")                                                                                                                                                                                                                                                                                                                                
sage: s.strip_dirs().sort_stats("time").print_stats()                                                                                                                                                                                                                                                                                                                      
Wed May 26 18:02:00 2021    /tmp/Profile.prof

         230319 function calls (214830 primitive calls) in 2.368 seconds

   Ordered by: internal time

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    1.433    1.433    1.433    1.433 {built-in method JuPyMake.InitializePolymake}
     5463    0.733    0.000    0.733    0.000 {built-in method JuPyMake.ExecuteCommand}
     2451    0.028    0.000    2.173    0.001 {method '_polymake_' of 'sage.structure.sage_object.SageObject' objects}
5463/5458    0.018    0.000    2.195    0.000 polymake.py:2523(eval)
   7903/8    0.015    0.000    2.303    0.288 interface.py:250(__call__)
   2725/5    0.013    0.000    0.854    0.171 interface.py:334(_coerce_impl)
     5176    0.012    0.000    2.186    0.000 interface.py:317(_coerce_from_special_method)
      316    0.009    0.000    0.009    0.000 {built-in method builtins.compile}
     2727    0.008    0.000    2.219    0.001 polymake.py:471(_create)
8784/8779    0.006    0.000    0.007    0.000 {method 'format' of 'str' objects}
       94    0.006    0.000    0.006    0.000 {built-in method marshal.loads}
    10259    0.006    0.000    0.006    0.000 {built-in method builtins.hasattr}
     2727    0.005    0.000    1.842    0.001 polymake.py:518(set)
    35060    0.005    0.000    0.005    0.000 {built-in method builtins.isinstance}
     2727    0.004    0.000    2.224    0.001 interface.py:705(__init__)
   2725/5    0.004    0.000    0.854    0.171 polymake.py:303(_coerce_impl)
     2727    0.004    0.000    0.006    0.000 polymake.py:431(_next_var_name)
       17    0.003    0.000    0.003    0.000 {built-in method _imp.create_dynamic}
     2725    0.002    0.000    0.006    0.000 interface.py:982(__del__)
6266/5639    0.002    0.000    0.051    0.000 <frozen importlib._bootstrap>:1009(_handle_fromlist)
  162/161    0.002    0.000    0.003    0.000 {built-in method builtins.__build_class__}
     5465    0.002    0.000    0.002    0.000 polymake.py:2481(is_running)
     7626    0.002    0.000    0.002    0.000 interface.py:95(name)
     5463    0.001    0.000    0.001    0.000 verbose.py:251(get_verbose)
      375    0.001    0.000    0.001    0.000 {built-in method posix.stat}
     8477    0.001    0.000    0.001    0.000 {method 'strip' of 'str' objects}
...
sage: P = polytopes.hypercube(8, backend='polymake')                                                                                                                                                                                                                                                                                                                       
sage: import pstats, cProfile                                                                                                                                                                                                                                                                                                                                              
sage: cProfile.runctx("Polyhedron(ieqs=P.inequalities(), backend='polymake')", globals(), locals(), "/tmp/Profile.prof")                                                                                                                                                                                                                                                   
sage: s = pstats.Stats("/tmp/Profile.prof")                                                                                                                                                                                                                                                                                                                                
sage: s.strip_dirs().sort_stats("time").print_stats()                                                                                                                                                                                                                                                                                                                      
Wed May 26 18:05:43 2021    /tmp/Profile.prof

         566981 function calls (561525 primitive calls) in 3.534 seconds

   Ordered by: internal time

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    22084    3.020    0.000    3.020    0.000 {built-in method JuPyMake.ExecuteCommand}
    22084    0.078    0.000    3.140    0.000 polymake.py:2523(eval)
 2720/272    0.037    0.000    3.259    0.012 polymake.py:1460(_sage_)
     2448    0.033    0.000    0.036    0.000 {built-in method builtins.eval}
    27987    0.026    0.000    0.026    0.000 {built-in method builtins.hasattr}
     2448    0.021    0.000    0.028    0.000 preparse.py:1143(preparse_numeric_literals)
27098/27095    0.018    0.000    0.019    0.000 {method 'format' of 'str' objects}
     2448    0.016    0.000    0.102    0.000 preparse.py:1693(preparse)
     4896    0.015    0.000    0.019    0.000 {method 'sub' of 're.Pattern' objects}
     2449    0.013    0.000    1.052    0.000 polymake.py:873(_repr_)
    29664    0.012    0.000    0.014    0.000 interface.py:967(_check_valid)
     2450    0.010    0.000    0.014    0.000 {built-in method builtins.getattr}
     3089    0.009    0.000    0.954    0.000 polymake.py:471(_create)
     2448    0.009    0.000    1.087    0.000 interface.py:992(_sage_repr)
     2448    0.009    0.000    0.149    0.000 sage_eval.py:16(sage_eval)
    24654    0.009    0.000    0.034    0.000 <frozen importlib._bootstrap>:1009(_handle_fromlist)
7904/7902    0.009    0.000    0.045    0.000 polymake.py:1205(__getattr__)
2864/2736    0.008    0.000    0.884    0.000 polymake.py:1346(__getitem__)
     2724    0.008    0.000    0.771    0.000 polymake.py:1426(typeof)
     5168    0.008    0.000    0.734    0.000 polymake.py:1121(typename)
     2448    0.008    0.000    0.013    0.000 preparse.py:549(strip_string_literals)
    36357    0.007    0.000    0.007    0.000 {built-in method builtins.isinstance}
3325/2931    0.007    0.000    0.972    0.000 interface.py:250(__call__)
     3089    0.006    0.000    0.514    0.000 polymake.py:518(set)
     9792    0.006    0.000    0.008    0.000 re.py:271(_compile)
    22089    0.006    0.000    0.006    0.000 polymake.py:2481(is_running)
     3089    0.006    0.000    0.959    0.000 interface.py:705(__init__)
     4900    0.005    0.000    0.688    0.000 polymake.py:600(get)
    22084    0.005    0.000    0.005    0.000 verbose.py:251(get_verbose)
     2449    0.004    0.000    1.073    0.000 interface.py:1094(__repr__)
     4896    0.004    0.000    0.004    0.000 re.py:307(_subx)
     7344    0.004    0.000    0.004    0.000 {method 'finditer' of 're.Pattern' objects}
    26928    0.004    0.000    0.004    0.000 {method 'replace' of 'str' objects}
     2448    0.004    0.000    0.008    0.000 preparse.py:1524(preparse_generators)
    45197    0.004    0.000    0.004    0.000 {method 'parent' of 'sage.structure.element.Element' objects}
      272    0.004    0.000    0.017    0.000 {sage.modules.free_module_element.vector}
     2448    0.004    0.000    1.240    0.001 interface.py:1047(_sage_)
      272    0.003    0.000    3.124    0.011 polymake.py:1537(<listcomp>)
      832    0.003    0.000    0.006    0.000 free_module.py:1062(_element_constructor_)
     2448    0.003    0.000    0.006    0.000 preparse.py:1407(preparse_calculus)
...
```

That is the ticket as is.

I'm not exactly sure, why the method `_sage_` is as slow as it is. However, I already have a branch where I'm doing better by a factor of 100 or so. Just by parsing `_repr_` instead.

The input is slow as well, which does not suprise me, when forcing verbose things look like this:

```

## eval: print $SAGE0[0]->description;
## eval: print $SAGE0[0];
## eval: @SAGE23=(3);
## eval: print scalar @SAGE23;
## eval: @SAGE22=(1);
## eval: print scalar @SAGE22;
## eval: @SAGE21=(-1);
## eval: print scalar @SAGE21;
## eval: @SAGE20=(-1);
## eval: print scalar @SAGE20;
## eval: @SAGE19=([$SAGE22[0],$SAGE21[0],$SAGE20[0]]);
## eval: print scalar @SAGE19;
## eval: @SAGE18=(1);
## eval: print scalar @SAGE18;
## eval: @SAGE17=(-1);
## eval: print scalar @SAGE17;
## eval: @SAGE16=(1);
## eval: print scalar @SAGE16;
## eval: @SAGE15=([$SAGE18[0],$SAGE17[0],$SAGE16[0]]);
## eval: print scalar @SAGE15;
## eval: @SAGE14=(1);
## eval: print scalar @SAGE14;
## eval: @SAGE13=(1);
## eval: print scalar @SAGE13;
## eval: @SAGE12=(-1);
## eval: print scalar @SAGE12;
## eval: @SAGE11=([$SAGE14[0],$SAGE13[0],$SAGE12[0]]);
## eval: print scalar @SAGE11;
## eval: @SAGE10=(1);
## eval: print scalar @SAGE10;
## eval: @SAGE9=(1);
## eval: print scalar @SAGE9;
## eval: @SAGE8=(1);
## eval: print scalar @SAGE8;
## eval: @SAGE7=([$SAGE10[0],$SAGE9[0],$SAGE8[0]]);
## eval: print scalar @SAGE7;
## eval: @SAGE6=([$SAGE19[0],$SAGE15[0],$SAGE11[0],$SAGE7[0]]);
## eval: print scalar @SAGE6;
## eval: @SAGE5=([]);
## eval: print scalar @SAGE5;
## eval: @SAGE4=([]);
## eval: print scalar @SAGE4;
## eval: @SAGE3=(1);
## eval: print scalar @SAGE3;
## eval: @SAGE2=(-1);
## eval: print scalar @SAGE2;
## eval: @SAGE99=(0);
## eval: print scalar @SAGE99;
## eval: @SAGE100=([$SAGE3[0],$SAGE2[0],$SAGE99[0]]);
## eval: print scalar @SAGE100;
## eval: @SAGE149=(1);
## eval: print scalar @SAGE149;
## eval: @SAGE148=(0);
## eval: print scalar @SAGE148;
## eval: @SAGE147=(-1);
## eval: print scalar @SAGE147;
## eval: @SAGE146=([$SAGE149[0],$SAGE148[0],$SAGE147[0]]);
## eval: print scalar @SAGE146;
## eval: @SAGE145=(1);
## eval: print scalar @SAGE145;
## eval: @SAGE144=(1);
## eval: print scalar @SAGE144;
## eval: @SAGE143=(0);
## eval: print scalar @SAGE143;
## eval: @SAGE142=([$SAGE145[0],$SAGE144[0],$SAGE143[0]]);
## eval: print scalar @SAGE142;
## eval: @SAGE141=(1);
## eval: print scalar @SAGE141;
## eval: @SAGE140=(0);
## eval: print scalar @SAGE140;
## eval: @SAGE139=(1);
## eval: print scalar @SAGE139;
## eval: @SAGE138=([$SAGE141[0],$SAGE140[0],$SAGE139[0]]);
## eval: print scalar @SAGE138;
## eval: @SAGE137=([$SAGE100[0],$SAGE146[0],$SAGE142[0],$SAGE138[0]]);
## eval: print scalar @SAGE137;
## eval: @SAGE136=(new Polytope<Rational>(CONE_AMBIENT_DIM=>$SAGE23[0],VERTICES=>$SAGE6[0],LINEALITY_SPACE=>$SAGE5[0],AFFINE_HULL=>$SAGE4[0],FACETS=>$SAGE137[0]));
## eval: print scalar @SAGE136;
A 2-dimensional polyhedron in QQ^2 defined as the convex hull of 4 vertices
```

Polymake also accepts input files etc. in interactive mode. So maybe we could utilize this.



---

archive/issue_comments_406528.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI'm puzzled about this line:\n\n```\n 1.052    0.000 polymake.py:873(_repr_)\n```",
    "created_at": "2021-05-26T16:28:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406528",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:11" align="right">comment:11</div>

I'm puzzled about this line:

```
 1.052    0.000 polymake.py:873(_repr_)
```



---

archive/issue_comments_406529.json:
```json
{
    "body": "Changed commit from **[`1d5da2c`](https://github.com/sagemath/sagetrac-mirror/commit/1d5da2cd562396661ca43b066d68a4d94973befb)** to **[`ed0105a`](https://github.com/sagemath/sagetrac-mirror/commit/ed0105ae02866ea84c76a87b03f6bfc8e84962b3)**",
    "created_at": "2021-05-27T07:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406529",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1d5da2c`](https://github.com/sagemath/sagetrac-mirror/commit/1d5da2cd562396661ca43b066d68a4d94973befb)** to **[`ed0105a`](https://github.com/sagemath/sagetrac-mirror/commit/ed0105ae02866ea84c76a87b03f6bfc8e84962b3)**



---

archive/issue_comments_406530.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2\"><code>ba0a479</code></a></td><td><code>src/sage/interfaces/polymake.py: Mark doctests specific to the deprecated pexpect-based interface as optional - polymake_expect</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007\"><code>ba83771</code></a></td><td><code>Merge branch 'u/mkoeppe/lrslib071a_polymake44_upgrade-27745' of git://trac.sagemath.org/sage into u/gh-kliem/lrslib071a_polymake44_upgrade-27745</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/02a6ef9f81f0973f603fede9fae369647f49e56f\"><code>02a6ef9</code></a></td><td><code>faster sage eval of polymake</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2ca121eb5c7d1127cc52007d365c21573c5e9286\"><code>2ca121e</code></a></td><td><code>try faster method directly in _sage_</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4a663578407c7e00ea6cad4e65a6c9ca7dbf4600\"><code>4a66357</code></a></td><td><code>improved polymake input</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ed0105ae02866ea84c76a87b03f6bfc8e84962b3\"><code>ed0105a</code></a></td><td><code>Merge branch 'u/gh-kliem/polymake_input_output' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>\n",
    "created_at": "2021-05-27T07:39:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406530",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba0a4795da6ebee8cf9db55116df6afe737466e2"><code>ba0a479</code></a></td><td><code>src/sage/interfaces/polymake.py: Mark doctests specific to the deprecated pexpect-based interface as optional - polymake_expect</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ba83771cc2f7bd58b252cdb9dff9453587022007"><code>ba83771</code></a></td><td><code>Merge branch 'u/mkoeppe/lrslib071a_polymake44_upgrade-27745' of git://trac.sagemath.org/sage into u/gh-kliem/lrslib071a_polymake44_upgrade-27745</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/02a6ef9f81f0973f603fede9fae369647f49e56f"><code>02a6ef9</code></a></td><td><code>faster sage eval of polymake</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2ca121eb5c7d1127cc52007d365c21573c5e9286"><code>2ca121e</code></a></td><td><code>try faster method directly in _sage_</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4a663578407c7e00ea6cad4e65a6c9ca7dbf4600"><code>4a66357</code></a></td><td><code>improved polymake input</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ed0105ae02866ea84c76a87b03f6bfc8e84962b3"><code>ed0105a</code></a></td><td><code>Merge branch 'u/gh-kliem/polymake_input_output' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>




---

archive/issue_comments_406531.json:
```json
{
    "body": "Changed dependencies from **#27745** to **#27745, #31864**",
    "created_at": "2021-05-27T07:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406531",
    "user": "https://github.com/kliem"
}
```

Changed dependencies from **#27745** to **#27745, #31864**



---

archive/issue_comments_406532.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,39 @@\n Follow-up from #22701, where this was implemented for 'field'.\n \n+Before (with #31864):\n+\n+```\n+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \n+CPU times: user 1.87 s, sys: 51.3 ms, total: 1.93 s\n+Wall time: 1.92 s\n+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \n+CPU times: user 463 ms, sys: 0 ns, total: 463 ms\n+Wall time: 462 ms\n+sage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             \n+CPU times: user 1min 33s, sys: 79.8 ms, total: 1min 33s\n+Wall time: 1min 33s\n+sage: P = polytopes.hypercube(5, backend='polymake')                                                                                                                                                                                                                                                                                                                       \n+sage: Q = polytopes.cross_polytope(5, backend='polymake')                                                                                                                                                                                                                                                                                                                   \n+sage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        \n+CPU times: user 21.8 s, sys: 15.1 ms, total: 21.8 s\n+Wall time: 21.8 s\n+```\n+\n+After:\n+\n+```\n+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \n+CPU times: user 1.56 s, sys: 48.1 ms, total: 1.61 s\n+Wall time: 1.61 s\n+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                \n+CPU times: user 120 ms, sys: 3.8 ms, total: 124 ms\n+Wall time: 123 ms\n+sage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             \n+CPU times: user 986 ms, sys: 27.8 ms, total: 1.01 s\n+Wall time: 1.01 s\n+sage: P = polytopes.hypercube(6, backend='polymake')                                                                                                                                                                                                                                                                                                                       \n+sage: Q = polytopes.cross_polytope(6, backend='polymake')                                                                                                                                                                                                                                                                                                                  \n+sage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        \n+CPU times: user 29.1 ms, sys: 0 ns, total: 29.1 ms\n+Wall time: 28.7 ms\n+```\n``````\n",
    "created_at": "2021-05-27T07:50:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406532",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,39 @@
 Follow-up from #22701, where this was implemented for 'field'.
 
+Before (with #31864):
+
+```
+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
+CPU times: user 1.87 s, sys: 51.3 ms, total: 1.93 s
+Wall time: 1.92 s
+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
+CPU times: user 463 ms, sys: 0 ns, total: 463 ms
+Wall time: 462 ms
+sage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             
+CPU times: user 1min 33s, sys: 79.8 ms, total: 1min 33s
+Wall time: 1min 33s
+sage: P = polytopes.hypercube(5, backend='polymake')                                                                                                                                                                                                                                                                                                                       
+sage: Q = polytopes.cross_polytope(5, backend='polymake')                                                                                                                                                                                                                                                                                                                   
+sage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        
+CPU times: user 21.8 s, sys: 15.1 ms, total: 21.8 s
+Wall time: 21.8 s
+```
+
+After:
+
+```
+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
+CPU times: user 1.56 s, sys: 48.1 ms, total: 1.61 s
+Wall time: 1.61 s
+sage: %time P = polytopes.hypercube(12, backend='polymake')                                                                                                                                                                                                                                                                                                                
+CPU times: user 120 ms, sys: 3.8 ms, total: 124 ms
+Wall time: 123 ms
+sage: %time P = polytopes.permutahedron(8, backend='polymake')                                                                                                                                                                                                                                                                                                             
+CPU times: user 986 ms, sys: 27.8 ms, total: 1.01 s
+Wall time: 1.01 s
+sage: P = polytopes.hypercube(6, backend='polymake')                                                                                                                                                                                                                                                                                                                       
+sage: Q = polytopes.cross_polytope(6, backend='polymake')                                                                                                                                                                                                                                                                                                                  
+sage: %time _ = P*Q                                                                                                                                                                                                                                                                                                                                                        
+CPU times: user 29.1 ms, sys: 0 ns, total: 29.1 ms
+Wall time: 28.7 ms
+```
``````




---

archive/issue_events_365056.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-27T07:50:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365056"
}
```



---

archive/issue_events_365057.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-05-27T07:50:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365057"
}
```



---

archive/issue_comments_406533.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,3 +37,25 @@\n CPU times: user 29.1 ms, sys: 0 ns, total: 29.1 ms\n Wall time: 28.7 ms\n ```\n+\n+Also you can now change backends to polymake quickly:\n+\n+```\n+sage: %time P = polytopes.associahedron(['A', 8], backend='polymake')                                                                                                                                                                                                                                                                                                      \n+CPU times: user 920 ms, sys: 4.01 ms, total: 924 ms\n+Wall time: 923 ms\n+sage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  \n+CPU times: user 2.77 s, sys: 78 \u00b5s, total: 2.77 s\n+Wall time: 2.77 s\n+4862 19448 32032 28028 14014 4004 616 44\n+sage: %time P = polytopes.associahedron(['A', 8], backend='normaliz')                                                                                                                                                                                                                                                                                                      \n+CPU times: user 324 ms, sys: 0 ns, total: 324 ms\n+Wall time: 86.4 ms\n+sage: %time Q = P.base_extend(P.base_ring(), backend='polymake')                                                                                                                                                                                                                                                                                                           \n+CPU times: user 159 ms, sys: 3.97 ms, total: 162 ms\n+Wall time: 162 ms\n+sage: %time Q._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  \n+CPU times: user 3.09 s, sys: 99 \u00b5s, total: 3.09 s\n+Wall time: 3.08 s\n+4862 19448 32032 28028 14014 4004 616 44\n+```\n``````\n",
    "created_at": "2021-05-27T08:01:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406533",
    "user": "https://github.com/kliem"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,3 +37,25 @@
 CPU times: user 29.1 ms, sys: 0 ns, total: 29.1 ms
 Wall time: 28.7 ms
 ```
+
+Also you can now change backends to polymake quickly:
+
+```
+sage: %time P = polytopes.associahedron(['A', 8], backend='polymake')                                                                                                                                                                                                                                                                                                      
+CPU times: user 920 ms, sys: 4.01 ms, total: 924 ms
+Wall time: 923 ms
+sage: %time P._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  
+CPU times: user 2.77 s, sys: 78 µs, total: 2.77 s
+Wall time: 2.77 s
+4862 19448 32032 28028 14014 4004 616 44
+sage: %time P = polytopes.associahedron(['A', 8], backend='normaliz')                                                                                                                                                                                                                                                                                                      
+CPU times: user 324 ms, sys: 0 ns, total: 324 ms
+Wall time: 86.4 ms
+sage: %time Q = P.base_extend(P.base_ring(), backend='polymake')                                                                                                                                                                                                                                                                                                           
+CPU times: user 159 ms, sys: 3.97 ms, total: 162 ms
+Wall time: 162 ms
+sage: %time Q._polymake_polytope.F_VECTOR                                                                                                                                                                                                                                                                                                                                  
+CPU times: user 3.09 s, sys: 99 µs, total: 3.09 s
+Wall time: 3.08 s
+4862 19448 32032 28028 14014 4004 616 44
+```
``````




---

archive/issue_comments_406534.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/543d2115d88cd57dc6939567982840999f20cd0d\"><code>543d211</code></a></td><td><code>fix number field input</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5162d39cd6ad38667060a5888e361e1b2c0c2450\"><code>5162d39</code></a></td><td><code>Merge branch 'u/gh-kliem/polymake_input_output' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>\n",
    "created_at": "2021-05-27T12:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406534",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/543d2115d88cd57dc6939567982840999f20cd0d"><code>543d211</code></a></td><td><code>fix number field input</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5162d39cd6ad38667060a5888e361e1b2c0c2450"><code>5162d39</code></a></td><td><code>Merge branch 'u/gh-kliem/polymake_input_output' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>




---

archive/issue_comments_406535.json:
```json
{
    "body": "Changed commit from **[`ed0105a`](https://github.com/sagemath/sagetrac-mirror/commit/ed0105ae02866ea84c76a87b03f6bfc8e84962b3)** to **[`5162d39`](https://github.com/sagemath/sagetrac-mirror/commit/5162d39cd6ad38667060a5888e361e1b2c0c2450)**",
    "created_at": "2021-05-27T12:03:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406535",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ed0105a`](https://github.com/sagemath/sagetrac-mirror/commit/ed0105ae02866ea84c76a87b03f6bfc8e84962b3)** to **[`5162d39`](https://github.com/sagemath/sagetrac-mirror/commit/5162d39cd6ad38667060a5888e361e1b2c0c2450)**



---

archive/issue_comments_406536.json:
```json
{
    "body": "Changed commit from **[`5162d39`](https://github.com/sagemath/sagetrac-mirror/commit/5162d39cd6ad38667060a5888e361e1b2c0c2450)** to **[`95070b2`](https://github.com/sagemath/sagetrac-mirror/commit/95070b250713280eed27f765067072c7c9bf3928)**",
    "created_at": "2021-05-27T18:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406536",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5162d39`](https://github.com/sagemath/sagetrac-mirror/commit/5162d39cd6ad38667060a5888e361e1b2c0c2450)** to **[`95070b2`](https://github.com/sagemath/sagetrac-mirror/commit/95070b250713280eed27f765067072c7c9bf3928)**



---

archive/issue_comments_406537.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c0eb507ad3f5f277e23173d67ed240ab455d02bb\"><code>c0eb507</code></a></td><td><code>use `_polymake_init_` for quadratic fields</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e6fef555f7dfcf2418eb4398c66292ade2c494ce\"><code>e6fef55</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into u/gh-kliem/polymake_input_output2</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95070b250713280eed27f765067072c7c9bf3928\"><code>95070b2</code></a></td><td><code>Merge branch 'u/gh-kliem/polymake_input_output2' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>\n",
    "created_at": "2021-05-27T18:42:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406537",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c0eb507ad3f5f277e23173d67ed240ab455d02bb"><code>c0eb507</code></a></td><td><code>use `_polymake_init_` for quadratic fields</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e6fef555f7dfcf2418eb4398c66292ade2c494ce"><code>e6fef55</code></a></td><td><code>Merge branch 'develop' of git://trac.sagemath.org/sage into u/gh-kliem/polymake_input_output2</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95070b250713280eed27f765067072c7c9bf3928"><code>95070b2</code></a></td><td><code>Merge branch 'u/gh-kliem/polymake_input_output2' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>




---

archive/issue_comments_406538.json:
```json
{
    "body": "Author: **Jonathan Kliem**",
    "created_at": "2021-05-27T18:58:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406538",
    "user": "https://github.com/mkoeppe"
}
```

Author: **Jonathan Kliem**



---

archive/issue_events_365058.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-27T19:01:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365058"
}
```



---

archive/issue_events_365059.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-05-27T19:01:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365059"
}
```



---

archive/issue_comments_406539.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThis seems to work well, thanks!",
    "created_at": "2021-05-27T19:01:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406539",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:18" align="right">comment:18</div>

This seems to work well, thanks!



---

archive/issue_comments_406540.json:
```json
{
    "body": "Reviewer: **Matthias Koeppe**",
    "created_at": "2021-05-27T19:01:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406540",
    "user": "https://github.com/mkoeppe"
}
```

Reviewer: **Matthias Koeppe**



---

archive/issue_comments_406541.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThank you.\n\nThere is a problem with `JuPyMake` yet. It really doesn't play nicely with keyboard interrupts. Well polymake doesn't handle interrupts at all to start with, but killing sage the hard way at keyboard interrupt isn't really what you would expect.",
    "created_at": "2021-05-27T19:30:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406541",
    "user": "https://github.com/kliem"
}
```

<div id="comment:19" align="right">comment:19</div>

Thank you.

There is a problem with `JuPyMake` yet. It really doesn't play nicely with keyboard interrupts. Well polymake doesn't handle interrupts at all to start with, but killing sage the hard way at keyboard interrupt isn't really what you would expect.



---

archive/issue_comments_406542.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nCould you open a new ticket for this please?",
    "created_at": "2021-05-27T19:42:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406542",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

Could you open a new ticket for this please?



---

archive/issue_comments_406543.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\n\n```\nsage -t --long --warn-long 44.3 --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py\n**********************************************************************\nFile \"src/sage/geometry/polyhedron/backend_polymake.py\", line 420, in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake._init_from_Vrepresentation_and_Hrep\nresentation\nFailed example:\n    p = Polyhedron_polymake(parent, Vrep, Hrep,\n                            Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake\nException raised:\n    Traceback (most recent call last):\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 516, in _start\n        self._expect.expect(self._prompt)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py\", line 343, in expect\n        return self.expect_list(compiled_pattern_list,\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py\", line 372, in expect_list\n        return exp.expect_loop(timeout)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py\", line 179, in expect_loop\n        return self.eof(e)\n      File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py\", line 122, in eof\n        raise exc\n    pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.\n    Polymake finished running /usr/bin/env TERM=dumb polymake\n    command: /usr/bin/env\n    args: ['/usr/bin/env', 'TERM=dumb', 'polymake']\n    buffer (last 100 chars): b''\n    before (last 100 chars): b'/usr/bin/env: \\xe2\\x80\\x98polymake\\xe2\\x80\\x99: No such file or directory\\r\\n'\n    after: <class 'pexpect.exceptions.EOF'>\n    match: None\n    match_index: None\n    exitstatus: 127\n    flag_eof: True\n[...]\n```",
    "created_at": "2021-07-21T20:12:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406543",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:21" align="right">comment:21</div>


```
sage -t --long --warn-long 44.3 --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py
**********************************************************************
File "src/sage/geometry/polyhedron/backend_polymake.py", line 420, in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake._init_from_Vrepresentation_and_Hrep
resentation
Failed example:
    p = Polyhedron_polymake(parent, Vrep, Hrep,
                            Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake
Exception raised:
    Traceback (most recent call last):
      File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 516, in _start
        self._expect.expect(self._prompt)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py", line 343, in expect
        return self.expect_list(compiled_pattern_list,
      File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py", line 372, in expect_list
        return exp.expect_loop(timeout)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py", line 179, in expect_loop
        return self.eof(e)
      File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py", line 122, in eof
        raise exc
    pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.
    Polymake finished running /usr/bin/env TERM=dumb polymake
    command: /usr/bin/env
    args: ['/usr/bin/env', 'TERM=dumb', 'polymake']
    buffer (last 100 chars): b''
    before (last 100 chars): b'/usr/bin/env: \xe2\x80\x98polymake\xe2\x80\x99: No such file or directory\r\n'
    after: <class 'pexpect.exceptions.EOF'>
    match: None
    match_index: None
    exitstatus: 127
    flag_eof: True
[...]
```



---

archive/issue_events_365060.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-21T20:12:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365060"
}
```



---

archive/issue_events_365061.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-21T20:12:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365061"
}
```



---

archive/issue_comments_406544.json:
```json
{
    "body": "<div id=\"comment:22\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758\"><code>a01dcd2</code></a></td><td><code>PolymakeExpect: If startup fails, only mention deprecation once. Update polymake install info, fix doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74\"><code>aa028b7</code></a></td><td><code>src/sage/game_theory/parser.py: Relax lrslib output doctests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f6b4d504b274a5fa3083790f14511950f8947838\"><code>f6b4d50</code></a></td><td><code>Merge tag '9.4.beta4' into t/27745/lrslib071a_polymake44_upgrade-27745</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c\"><code>d77acee</code></a></td><td><code>sage.game_theory: Switch to new lrsnash input format</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490\"><code>794cf6a</code></a></td><td><code>build/pkgs/lrslib/spkg-configure.m4: Check for recent lrsnash</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc\"><code>5f32d2e</code></a></td><td><code>build/pkgs/lrslib/: Update to 071b+autotools-2021-07-13</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/53c7b65f42044639b59015c87ba00b3645422bf4\"><code>53c7b65</code></a></td><td><code>Rewriting doctests to test the new format.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/95ce6df5f4c2c064039de61df8fda2c352ff2815\"><code>95ce6df</code></a></td><td><code>Adding the game theory parser to the documentation.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328\"><code>ff69f28</code></a></td><td><code>Some last little fixes.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cf3a7fac6622f2abf3d6d723b55b97b10a68a85c\"><code>cf3a7fa</code></a></td><td><code>Merge branch 'u/tscrim/upgrade_lrslib_polymake-27745' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>\n",
    "created_at": "2021-07-22T06:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406544",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:22"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a01dcd2d235a7b20406ba959d776616076574758"><code>a01dcd2</code></a></td><td><code>PolymakeExpect: If startup fails, only mention deprecation once. Update polymake install info, fix doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa028b7cfb07ca219ba6d28d9f17ce53f1d7dd74"><code>aa028b7</code></a></td><td><code>src/sage/game_theory/parser.py: Relax lrslib output doctests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f6b4d504b274a5fa3083790f14511950f8947838"><code>f6b4d50</code></a></td><td><code>Merge tag '9.4.beta4' into t/27745/lrslib071a_polymake44_upgrade-27745</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d77acee79a86c1b9544b0b1d38a45cde3190087c"><code>d77acee</code></a></td><td><code>sage.game_theory: Switch to new lrsnash input format</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/794cf6a863d9cd5aa4cad876286cddd503411490"><code>794cf6a</code></a></td><td><code>build/pkgs/lrslib/spkg-configure.m4: Check for recent lrsnash</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5f32d2e4654bebedc7f70717aeede35e7c95f7bc"><code>5f32d2e</code></a></td><td><code>build/pkgs/lrslib/: Update to 071b+autotools-2021-07-13</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/53c7b65f42044639b59015c87ba00b3645422bf4"><code>53c7b65</code></a></td><td><code>Rewriting doctests to test the new format.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/95ce6df5f4c2c064039de61df8fda2c352ff2815"><code>95ce6df</code></a></td><td><code>Adding the game theory parser to the documentation.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff69f289872cc47f28ddc980344d3c34913e1328"><code>ff69f28</code></a></td><td><code>Some last little fixes.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cf3a7fac6622f2abf3d6d723b55b97b10a68a85c"><code>cf3a7fa</code></a></td><td><code>Merge branch 'u/tscrim/upgrade_lrslib_polymake-27745' of git://trac.sagemath.org/sage into public/26368</code></td></tr></table>




---

archive/issue_comments_406545.json:
```json
{
    "body": "Changed commit from **[`95070b2`](https://github.com/sagemath/sagetrac-mirror/commit/95070b250713280eed27f765067072c7c9bf3928)** to **[`cf3a7fa`](https://github.com/sagemath/sagetrac-mirror/commit/cf3a7fac6622f2abf3d6d723b55b97b10a68a85c)**",
    "created_at": "2021-07-22T06:38:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406545",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`95070b2`](https://github.com/sagemath/sagetrac-mirror/commit/95070b250713280eed27f765067072c7c9bf3928)** to **[`cf3a7fa`](https://github.com/sagemath/sagetrac-mirror/commit/cf3a7fac6622f2abf3d6d723b55b97b10a68a85c)**



---

archive/issue_comments_406546.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@vbraun](#comment:21):\n> \n> ```\n> sage -t --long --warn-long 44.3 --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py\n> **********************************************************************\n> File \"src/sage/geometry/polyhedron/backend_polymake.py\", line 420, in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake._init_from_Vrepresentation_and_Hrep\n> resentation\n> Failed example:\n>     p = Polyhedron_polymake(parent, Vrep, Hrep,\n>                             Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake\n> Exception raised:\n>     Traceback (most recent call last):\n>       File \"/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py\", line 516, in _start\n>         self._expect.expect(self._prompt)\n>       File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py\", line 343, in expect\n>         return self.expect_list(compiled_pattern_list,\n>       File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py\", line 372, in expect_list\n>         return exp.expect_loop(timeout)\n>       File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py\", line 179, in expect_loop\n>         return self.eof(e)\n>       File \"/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py\", line 122, in eof\n>         raise exc\n>     pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.\n>     Polymake finished running /usr/bin/env TERM=dumb polymake\n>     command: /usr/bin/env\n>     args: ['/usr/bin/env', 'TERM=dumb', 'polymake']\n>     buffer (last 100 chars): b''\n>     before (last 100 chars): b'/usr/bin/env: \\xe2\\x80\\x98polymake\\xe2\\x80\\x99: No such file or directory\\r\\n'\n>     after: <class 'pexpect.exceptions.EOF'>\n>     match: None\n>     match_index: None\n>     exitstatus: 127\n>     flag_eof: True\n> [...]\n> ```\n\nMerging in the updates from #27745 should resolve this (or raise a proper deprecation warning or something).\n\nIn any case. `pexpect` is deprecated. I can't get it to work either. On some machines it still works, on some it doesn't. `jupymake` should work just fine.",
    "created_at": "2021-07-22T06:42:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406546",
    "user": "https://github.com/kliem"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@vbraun](#comment:21):
> 
> ```
> sage -t --long --warn-long 44.3 --random-seed=0 src/sage/geometry/polyhedron/backend_polymake.py
> **********************************************************************
> File "src/sage/geometry/polyhedron/backend_polymake.py", line 420, in sage.geometry.polyhedron.backend_polymake.Polyhedron_polymake._init_from_Vrepresentation_and_Hrep
> resentation
> Failed example:
>     p = Polyhedron_polymake(parent, Vrep, Hrep,
>                             Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake
> Exception raised:
>     Traceback (most recent call last):
>       File "/home/release/Sage/local/lib64/python3.9/site-packages/sage/interfaces/expect.py", line 516, in _start
>         self._expect.expect(self._prompt)
>       File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py", line 343, in expect
>         return self.expect_list(compiled_pattern_list,
>       File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/spawnbase.py", line 372, in expect_list
>         return exp.expect_loop(timeout)
>       File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py", line 179, in expect_loop
>         return self.eof(e)
>       File "/home/release/Sage/local/lib64/python3.9/site-packages/pexpect/expect.py", line 122, in eof
>         raise exc
>     pexpect.exceptions.EOF: End Of File (EOF). Exception style platform.
>     Polymake finished running /usr/bin/env TERM=dumb polymake
>     command: /usr/bin/env
>     args: ['/usr/bin/env', 'TERM=dumb', 'polymake']
>     buffer (last 100 chars): b''
>     before (last 100 chars): b'/usr/bin/env: \xe2\x80\x98polymake\xe2\x80\x99: No such file or directory\r\n'
>     after: <class 'pexpect.exceptions.EOF'>
>     match: None
>     match_index: None
>     exitstatus: 127
>     flag_eof: True
> [...]
> ```

Merging in the updates from #27745 should resolve this (or raise a proper deprecation warning or something).

In any case. `pexpect` is deprecated. I can't get it to work either. On some machines it still works, on some it doesn't. `jupymake` should work just fine.



---

archive/issue_events_365062.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-07-22T06:42:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365062"
}
```



---

archive/issue_events_365063.json:
```json
{
    "actor": "https://github.com/kliem",
    "created_at": "2021-07-22T06:42:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365063"
}
```



---

archive/issue_comments_406547.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nI think it's just that here\n\n```\n+            sage: p = Polyhedron_polymake(parent, Vrep, Hrep,\n+            ....:                         Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake\n+            sage: p  # optional - polymake\n```\nthe `# optional - polymake` should appear on the first line",
    "created_at": "2021-07-22T14:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406547",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:25" align="right">comment:25</div>

I think it's just that here

```
+            sage: p = Polyhedron_polymake(parent, Vrep, Hrep,
+            ....:                         Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake
+            sage: p  # optional - polymake
```
the `# optional - polymake` should appear on the first line



---

archive/issue_comments_406548.json:
```json
{
    "body": "Changed commit from **[`cf3a7fa`](https://github.com/sagemath/sagetrac-mirror/commit/cf3a7fac6622f2abf3d6d723b55b97b10a68a85c)** to **[`82020ef`](https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17)**",
    "created_at": "2021-07-22T15:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406548",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`cf3a7fa`](https://github.com/sagemath/sagetrac-mirror/commit/cf3a7fac6622f2abf3d6d723b55b97b10a68a85c)** to **[`82020ef`](https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17)**



---

archive/issue_comments_406549.json:
```json
{
    "body": "<div id=\"comment:26\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17\"><code>82020ef</code></a></td><td><code>doctest tag in the first line</code></td></tr></table>\n",
    "created_at": "2021-07-22T15:58:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406549",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:26"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17"><code>82020ef</code></a></td><td><code>doctest tag in the first line</code></td></tr></table>




---

archive/issue_comments_406550.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@mkoeppe](#comment:25):\n> I think it's just that here\n> \n> ```\n> +            sage: p = Polyhedron_polymake(parent, Vrep, Hrep,\n> +            ....:                         Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake\n> +            sage: p  # optional - polymake\n> ```\n> the `# optional - polymake` should appear on the first line\n\nRight. I wonder, when I will stop making this mistake ...",
    "created_at": "2021-07-22T15:59:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406550",
    "user": "https://github.com/kliem"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@mkoeppe](#comment:25):
> I think it's just that here
> 
> ```
> +            sage: p = Polyhedron_polymake(parent, Vrep, Hrep,
> +            ....:                         Vrep_minimal=True, Hrep_minimal=True)  # indirect doctest  # optional - polymake
> +            sage: p  # optional - polymake
> ```
> the `# optional - polymake` should appear on the first line

Right. I wonder, when I will stop making this mistake ...



---

archive/issue_events_365064.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-22T16:13:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365064"
}
```



---

archive/issue_events_365065.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-22T16:13:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365065"
}
```



---

archive/issue_comments_406551.json:
```json
{
    "body": "Changed branch from **[public/26368](https://github.com/sagemath/sagetrac-mirror/tree/public/26368)** to **[`82020ef`](https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17)**",
    "created_at": "2021-07-24T15:28:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26368#issuecomment-406551",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/26368](https://github.com/sagemath/sagetrac-mirror/tree/public/26368)** to **[`82020ef`](https://github.com/sagemath/sagetrac-mirror/commit/82020efc61c10fbd585d09a75e0febb6c9be5b17)**



---

archive/issue_events_365066.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-07-24T15:28:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365066"
}
```



---

archive/issue_events_365067.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "a530bbe4fa70771c92609b9d358e9f4a89f670e2",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-07-24T15:28:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26368",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26368#event-365067"
}
```
