# Issue 26357: Add thematic tutorial to the polymake interface, based on polymake tutorials

archive/issues_026120.json:
```json
{
    "body": "polymake has a number of tutorials in two formats\n- polymake website html: https://polymake.org/doku.php/tutorial/start - apparently released under CC BY-NC-SA\n- ipynb at https://github.com/polymake/polymake/tree/Releases/demo - apparently released under GPL\n\nIn this ticket, we add a translation of the Perl-based tutorials to Python (via the polymake pexpect interface) as a thematic tutorial. \n(Upstream has been contacted regarding precise license status / possible relicensing under CC-BY-SA or similar to make it suitable for the Sage documentation.)\n\n(This will also serve as an extended testsuite for the polymake pexpect interface.)\n\nPreview of one translated tutorial: https://www.math.ucdavis.edu/~mkoeppe/art/icerm-2018/index.html#polymake-tutorial-on-polytopes-translated-to-python\n\n\n\nCC:  simonking @jplab @videlec @tscrim tmonteil @dimpase lorenz@math.tu-berlin.de\n\nAuthor: Matthias Koeppe\n\nBranch: u/mkoeppe/add_polymake_tutorial\n\nDependencies: #28265\n\nCommit: 59a2cc14b218bc02a5b2311aa802a8b0ceb4add5\n\nIssue created by migration from https://trac.sagemath.org/ticket/26357\n\n",
    "created_at": "2018-09-28T00:55:09Z",
    "labels": [
        "component: documentation"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Add thematic tutorial to the polymake interface, based on polymake tutorials",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26357",
    "user": "https://github.com/mkoeppe"
}
```
polymake has a number of tutorials in two formats
- polymake website html: https://polymake.org/doku.php/tutorial/start - apparently released under CC BY-NC-SA
- ipynb at https://github.com/polymake/polymake/tree/Releases/demo - apparently released under GPL

In this ticket, we add a translation of the Perl-based tutorials to Python (via the polymake pexpect interface) as a thematic tutorial. 
(Upstream has been contacted regarding precise license status / possible relicensing under CC-BY-SA or similar to make it suitable for the Sage documentation.)

(This will also serve as an extended testsuite for the polymake pexpect interface.)

Preview of one translated tutorial: https://www.math.ucdavis.edu/~mkoeppe/art/icerm-2018/index.html#polymake-tutorial-on-polytopes-translated-to-python



CC:  simonking @jplab @videlec @tscrim tmonteil @dimpase lorenz@math.tu-berlin.de

Author: Matthias Koeppe

Branch: u/mkoeppe/add_polymake_tutorial

Dependencies: #28265

Commit: 59a2cc14b218bc02a5b2311aa802a8b0ceb4add5

Issue created by migration from https://trac.sagemath.org/ticket/26357





---

archive/issue_comments_367869.json:
```json
{
    "body": "<a id='comment:3'></a>First attempt at automatic conversion. \n\n---\nNew commits:",
    "created_at": "2018-09-28T17:26:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367869",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:3'></a>First attempt at automatic conversion. 

---
New commits:



---

archive/issue_comments_367870.json:
```json
{
    "body": "<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2019-05-08T16:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367870",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_367871.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-09T16:24:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367871",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367872.json:
```json
{
    "body": "<a id='comment:7'></a>New commits:",
    "created_at": "2019-05-09T16:25:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367872",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>New commits:



---

archive/issue_comments_367873.json:
```json
{
    "body": "<a id='comment:8'></a>Wouldn't it make more sense to put `polymake` documentation in `local/share/doc/polymake`? I don't see any reference to Sage at all in the tutorials, so it really doesn't belong in Sage's `thematic_tutorials` directory. This is especially the case since this is an experimental package.",
    "created_at": "2019-05-09T17:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367873",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:8'></a>Wouldn't it make more sense to put `polymake` documentation in `local/share/doc/polymake`? I don't see any reference to Sage at all in the tutorials, so it really doesn't belong in Sage's `thematic_tutorials` directory. This is especially the case since this is an experimental package.



---

archive/issue_comments_367874.json:
```json
{
    "body": "<a id='comment:9'></a>it doesn't build:\n\n```\n[dochtml] OSError: /home/dimpase/Sage/sagetrac-mirror/src/doc/en/thematic_tutorials/polymake/apps_graph.rst:206: WARNING: Inline interpreted text or phrase reference start-string without end-string.\nMakefile:2032: recipe for target 'doc-html' failed\n```\n\nI agree with John that the proper place for this needs to be found.",
    "created_at": "2019-05-09T19:37:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367874",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:9'></a>it doesn't build:

```
[dochtml] OSError: /home/dimpase/Sage/sagetrac-mirror/src/doc/en/thematic_tutorials/polymake/apps_graph.rst:206: WARNING: Inline interpreted text or phrase reference start-string without end-string.
Makefile:2032: recipe for target 'doc-html' failed
```

I agree with John that the proper place for this needs to be found.



---

archive/issue_comments_367875.json:
```json
{
    "body": "<a id='comment:10'></a>Replying to [comment:8 jhpalmieri]:\n> Wouldn't it make more sense to put `polymake` documentation in `local/share/doc/polymake`? I don't see any reference to Sage at all in the tutorials, so it really doesn't belong in Sage's `thematic_tutorials` directory. This is especially the case since this is an experimental package.\n\nThis ticket is not ready for review. So far this is just an automatic conversion of the polymake tutorials (interactions in Perl). When done, the Perl interactions will be replaced by Sage doctests.",
    "created_at": "2019-05-10T08:07:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367875",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>Replying to [comment:8 jhpalmieri]:
> Wouldn't it make more sense to put `polymake` documentation in `local/share/doc/polymake`? I don't see any reference to Sage at all in the tutorials, so it really doesn't belong in Sage's `thematic_tutorials` directory. This is especially the case since this is an experimental package.

This ticket is not ready for review. So far this is just an automatic conversion of the polymake tutorials (interactions in Perl). When done, the Perl interactions will be replaced by Sage doctests.



---

archive/issue_comments_367876.json:
```json
{
    "body": "<a id='comment:11'></a>Still, does it make sense to have a long multi-page document as part of the standard Sage documentation, based on an experimental package? Is there a way to include this as part of the polymake package, so it is only included when the package is installed?",
    "created_at": "2019-05-10T16:21:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367876",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>Still, does it make sense to have a long multi-page document as part of the standard Sage documentation, based on an experimental package? Is there a way to include this as part of the polymake package, so it is only included when the package is installed?



---

archive/issue_comments_367877.json:
```json
{
    "body": "<a id='comment:12'></a>perhaps one can wrap it as an experimental package.",
    "created_at": "2019-05-10T16:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367877",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:12'></a>perhaps one can wrap it as an experimental package.



---

archive/issue_comments_367878.json:
```json
{
    "body": "<a id='comment:13'></a>I think it is a good idea to include this because it helps advertise things that Sage can do (with an add-on installed). Also, if it was included when the experimental package was installed, then essentially nobody would read it (at least, I don't think many non-developers even know where to find the built documentation). Now perhaps including everything is not what we should do, but instead distill it down to a more fundamental set of examples and capabilities with the full examples currently here as an extra file as part of the spkg's test suite.\n\nActually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?",
    "created_at": "2019-05-10T23:26:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367878",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:13'></a>I think it is a good idea to include this because it helps advertise things that Sage can do (with an add-on installed). Also, if it was included when the experimental package was installed, then essentially nobody would read it (at least, I don't think many non-developers even know where to find the built documentation). Now perhaps including everything is not what we should do, but instead distill it down to a more fundamental set of examples and capabilities with the full examples currently here as an extra file as part of the spkg's test suite.

Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?



---

archive/issue_comments_367879.json:
```json
{
    "body": "<a id='comment:14'></a>polymake is far from being available on all platforms we support, see last comments on #24905",
    "created_at": "2019-05-11T00:09:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367879",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:14'></a>polymake is far from being available on all platforms we support, see last comments on #24905



---

archive/issue_comments_367880.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 tscrim]:\n> I think it is a good idea to include this because it helps advertise things that Sage can do (with an add-on installed).\n\n\nThe impression came across that the suggestion is to merely have the upstream (perl based!) documentation available. This would clearly not qualify as a Sage tutorial.\n\nBut even if the intention was to create a tutorial that is a **SageMath** tutorial (i.e., a document that exposes how to compute with polytopes *in Sage* using Polymake as a backend and leaving perl out of the picture): We are talking about an optional or experimental package, and so far the documentation of such packages is, by default, in SAGE_LOCAL/share/doc/<package name>.\n\n> Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?\n\n\nIf I understand correctly, a substantial part of the recent polymake tickets and also some threads on Sage-devel and sage-support included discussion on how to make it build. That would be reason enough \ndemote an optional package to an experimental one.",
    "created_at": "2019-05-11T05:07:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367880",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:15'></a>Replying to [comment:13 tscrim]:
> I think it is a good idea to include this because it helps advertise things that Sage can do (with an add-on installed).


The impression came across that the suggestion is to merely have the upstream (perl based!) documentation available. This would clearly not qualify as a Sage tutorial.

But even if the intention was to create a tutorial that is a **SageMath** tutorial (i.e., a document that exposes how to compute with polytopes *in Sage* using Polymake as a backend and leaving perl out of the picture): We are talking about an optional or experimental package, and so far the documentation of such packages is, by default, in SAGE_LOCAL/share/doc/<package name>.

> Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?


If I understand correctly, a substantial part of the recent polymake tickets and also some threads on Sage-devel and sage-support included discussion on how to make it build. That would be reason enough 
demote an optional package to an experimental one.



---

archive/issue_comments_367881.json:
```json
{
    "body": "<a id='comment:16'></a>Replying to [comment:13 tscrim]:\n> \n> Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?\n\n\n 1) As Dima said, at the moment there are still some (minor) portability problems: \n  a) On Centos because of the layout of the Perl installation. Upstream (Benjamin Lorenz) is aware of it and is working on a fix.\n\n  b) Also (per Dima) apparently gcc 6.3 as on Debian stable is too old to build polymake.\n\n 2) Because of Perl package dependencies, the installation not yet as fully automatic as other sage packages. See #27763 - any help and ideas there are welcome. \n\nPolymake historically had a reputation of being hard to install, but the polymake team has made great improvements there. The remaining portability issues can be addressed in the same way as it is done for other packages.",
    "created_at": "2019-05-11T10:32:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367881",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:16'></a>Replying to [comment:13 tscrim]:
> 
> Actually, why is the polymake an experimental package and not an optional one? Is it not considered reliable enough to build on all supported platforms?


 1) As Dima said, at the moment there are still some (minor) portability problems: 
  a) On Centos because of the layout of the Perl installation. Upstream (Benjamin Lorenz) is aware of it and is working on a fix.

  b) Also (per Dima) apparently gcc 6.3 as on Debian stable is too old to build polymake.

 2) Because of Perl package dependencies, the installation not yet as fully automatic as other sage packages. See #27763 - any help and ideas there are welcome. 

Polymake historically had a reputation of being hard to install, but the polymake team has made great improvements there. The remaining portability issues can be addressed in the same way as it is done for other packages.



---

archive/issue_comments_367882.json:
```json
{
    "body": "<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-16T13:17:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367882",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:17'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367883.json:
```json
{
    "body": "<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-17T11:12:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367883",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367884.json:
```json
{
    "body": "<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-22T23:00:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367884",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:19'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367885.json:
```json
{
    "body": "<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:",
    "created_at": "2019-07-26T17:30:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367885",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:21'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. Last 10 new commits:



---

archive/issue_comments_367886.json:
```json
{
    "body": "<a id='comment:22'></a>Rebased on top of #28265, 8.9.beta3",
    "created_at": "2019-07-26T17:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367886",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>Rebased on top of #28265, 8.9.beta3



---

archive/issue_comments_367887.json:
```json
{
    "body": "<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-26T19:55:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367887",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:23'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_367888.json:
```json
{
    "body": "<a id='comment:24'></a>The tutorials are currently listed in alphabetical order by file name; they should probably be structured in the same way as here: https://polymake.org/doku.php/user_guide/start",
    "created_at": "2019-07-27T20:49:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367888",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:24'></a>The tutorials are currently listed in alphabetical order by file name; they should probably be structured in the same way as here: https://polymake.org/doku.php/user_guide/start



---

archive/issue_comments_367889.json:
```json
{
    "body": "<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-07-30T03:56:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26357",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26357#issuecomment-367889",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>Branch pushed to git repo; I updated commit sha1. New commits:
