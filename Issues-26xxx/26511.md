# Issue 26511: Meta-ticket: Use Python optimization interfaces: CVXPY, SCIP, or-tools, PuLP, Pyomo, cylp...

archive/issues_026274.json:
```json
{
    "body": "The purpose of this ticket is to \n- connect SageMath to interfaces to optimization solvers that are maintained outside of the Sage project,\n- integrate the related developer and user communities,\n- provide an entry point for [GSoC 2022 projects](https://wiki.sagemath.org/GSoC/2022)\n\n## [SageMath](SageMath) status quo: Front end\n- Frontend class [MixedIntegerLinearProgram](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html#sage.numerical.mip.MixedIntegerLinearProgram)\n    - mutable (can call `add_constraint`, `set_integer`, `new_variable` etc. and then re-solve)\n    - solver-independent and solver-specific parameters (`solver_parameter`)\n    - widely used in Sage library code for `sage.graphs`, `sage.coding`, `sage.combinat`, ...\n    - [MIPVariable](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html#sage.numerical.mip.MIPVariable) - indexed by arbitrary objects\n    - some connections to [Polyhedron](https://doc.sagemath.org/html/en/reference/discrete_geometry/index.html#polyhedral-computations) class and to [InteractiveLPProblem](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/interactive_simplex_method.html) (didactical code)\n\n## [SageMath](SageMath) status quo: Back ends\n\n- [In-tree backends](https://github.com/sagemath/sage/tree/develop/src/sage/numerical/backends), using Cython, with varying degrees of implementation quality\n    - GLPK backend - complete, includes support for tableau data and GLPK's exact rational mode\n    - InteractiveLP backend - basic, provide LP only for algebraic LPs\n    - CVXOPT backend\n    - PPL backend - exact solver\n- Separate distribution packages for optional packages (proprietary solvers, open-source solvers with incompatible licenses)\n    - https://github.com/sagemath/sage-numerical-backends-coin: COIN backend (CBC) - very basic, no support for setting solver parameters such as time limit\n    - https://github.com/sagemath/sage-numerical-backends-cplex: CPLEX backend\n    - https://github.com/sagemath/sage-numerical-backends-gurobi: Gurobi backend\n- Optimization interface is maintained by a very small part of the Sage developer community\n\n## [SageMath](SageMath) tickets and tasks\n\n- #28175 Move sage optimization backends to separate Cython packages to remove `OptionalExtension` problems\n- Template for minimal Python-based backends (`interactivelp_backend.pyx` is implemented in Cython just because a Cython template was available)\n- Replace basic Cython-based COIN backend by full-featured PuLP backend (gives access to many solvers)\n- #19219 MILP: Add CyLP backend -- Replace basic Cython-based COIN backend by full-featured cylp backend (gives detailed access to CLP, including tableau data)\n- PuLP backend implementation using Sage backends... to make exact backends such as InteractiveLP, PPL backend available to PuLP frontend users \n   - can PuLP handle non-floating point data (for example for exact computation over rationals or number fields if the backend allows it?\n   - this could be added to PuLP, rather than to Sage.\n- Pyomo backend implementation using Sage backends... to make exact backends available to Pyomo frontend users \n  - see above\n- Check feasibility of replacing front end `MixedIntegerLinearProgram` by PuLP frontend or Pyomo frontend\n   - can PuLP handle Sage's number types such as RDF and ZZ?\n   - can Pyomo handle Sage's number types such as RDF and ZZ?\n\nRelated:\n- #20302 Meta-ticket: Improvements to `MixedIntegerLinearProgram`, its backends, and `InteractiveLinearProgram`\n\n\n## Key Python software (solver-independent)\n\nSelection criteria for solver-independent interfaces:\n- Does it use a compatible, permissive, open source license?\n- Does it provide detailed access to the solver that allows for updating problems and warmstarting?\n- Is it under active development?\n\n\n**cvxpy** - Meta-ticket #33920\n- permissive open source license: Apache 2.0\n- use CBC via **cylp**\n- experimental CBC interface via **python-mip** - https://github.com/cvxpy/cvxpy/issues/1265, https://pypi.org/project/mip-cvxpy/\n- https://github.com/cvxpy/cvxpy/issues/1649#issuecomment-1067148937: Link to OR-tools solver abstraction\n- https://github.com/cvxpy/cvxpy/issues/1704: Link to `MathOptInterface.jl`\n- as of 2022 under active development; maintainers appear to respond quickly to issues/PRs: [cvxpy/cvxpy#1705](https://github.com/cvxpy/cvxpy/pull/1705), [cvxpy/cvxpy#1707](https://github.com/cvxpy/cvxpy/pull/1707), [cvxpy/cvxpy#1719](https://github.com/cvxpy/cvxpy/pull/1719)\n\n**or-tools** - #33493\n- Upcoming (\"soon\" as of 2022-08) new MathOpt DSL (Python)\n\n\n**conv_opt** - https://github.com/KarrLab/conv_opt\n- MIT license\n- Cbc, CVXOPT, FICO XPRESS, GLPK, Gurobi, IBM CPLEX, MINOS, Mosek, quadprog, SciPy, and SoPlex.\n\n**PuLP** - https://github.com/coin-or/pulp\n- permissive open source license (BSD?)\n- Installation with `sage -pip install pulp` works\n- Frontend: a basic modeling system \n   - example: https://github.com/coin-or/pulp/blob/master/examples/WhiskasModel1.py\n   - need to compare its capabilities with the sage frontend\n  - Backends: some API-based and some file-based interfaces to various solvers, including:\n   - COIN_CMD (COIN CBC via command line), \n   - COINMP_DLL (CBC via COINMP C library API), \n   - YAPOSIB (Python interface to COIN OSI, see below), \n   - see [solvers.py](https://github.com/coin-or/pulp/blob/master/src/pulp/solvers.py)\n  - **PuLP is currently looking for a co-maintainer** (https://github.com/coin-or/pulp/issues/183)\n\n**Pyomo**\n- permissive open source license: BSD\n- http://www.pyomo.org/ \n- installation with `sage -pip install pyomo` works\n- some file-based, some API-based interfaces (direct/persistent) - see [solvers directory](https://github.com/Pyomo/pyomo/tree/master/pyomo/solvers/plugins/solvers)\n- big system, under active development\n\n**YAPOSIB** - Python interface to COIN OSI, using Boost::Python\n- https://github.com/coin-or/yaposib\n- Installation with `sage -i boost && sage -pip install yaposib` works\n- **incompatible open source license** - EPL 1.0\n- therefore we cannot use it as the basis for our solver-independent code\n- could still be useful to be used via PuLP for solvers that don't have a direct PuLP backend\n\n**Python MIP (Mixed-Integer Linear Programming) Tools** (new 2018)\n- https://pypi.org/project/mip/\n- https://github.com/coin-or/python-mip\n- Eclipse Public License 2.0 (considered **GPL-incompatible** https://www.gnu.org/licenses/license-list.en.html#GPLCompatibleLicenses)\n\n**PICOS** - a user friendly Python API to several conic and integer programming solvers, very much like YALMIP or\nCVX under MATLAB.\n- runs under both Python 2 and Python 3\n- GNU GPL v3\n- https://gitlab.com/picos-api/picos\n- https://pypi.org/project/PICOS/\n\n\n## C, C++ solver abstractions\n\n**or-tools** (#33493) `\u200blinear_solver` wrapper\n- supporting CLP, CBC, GLPK, Gurobi, SCIP, XPRESS\n- permissive open source license: Apache 2.0\n- quick with \"wontfix\" - [google/or-tools#3205](https://github.com/google/or-tools/issues/3205)\n\n**COIN-OR OSI**\n- **incompatible copyleft license**: Eclipse Public License 2.0\n\n\n## Key Python software (solver-dependent)\n\nThe Python interfaces that target only one solver are usually careful in not having more restrictive licenses than the targeted solver.\n\n**scipy.optimize** (vendors HiGHS)\n- Permissive open source licenses: SciPy: BSD 3-clause; HiGHS: MIT license\n- #32282 Add LP solver backends for HiGHS via scipy.optimize.linprog\n\n**highspy** (pybind11-based interface to HiGHS)\n- #33919 Add MILP solver backends for HiGHS via highspy\n\nInterfaces to **GLPK**\n- it looks like \u200bhttps://github.com/biosustain/swiglpk/releases is the best maintained. Excluding sage and cvxopt.\n- see https://en.wikibooks.org/wiki/GLPK/Python for a list of other glpk bindings\n\n**cylp**\n- #33487: CyLP is a Python interface to COIN-OR\u2019s Linear and mixed-integer program solvers (CLP, CBC, and CGL). CyLP\u2019s unique feature is that you can use it to alter the solution process of the solvers from within Python. For example, you may define cut generators, branch-and-bound strategies, and primal/dual Simplex pivot rules completely in Python.\n- same license as CBC/CLP/CGL\n- as of Mar 2022: [many open issues](https://github.com/coin-or/CyLP/issues), minimal maintenance mode by 1 maintainer who is cooperative on receiving PRs: [coin-or/CyLP#153](https://github.com/coin-or/CyLP/pull/153), [coin-or/CyLP#155](https://github.com/coin-or/CyLP/pull/155), [coin-or/CyLP#156](https://github.com/coin-or/CyLP/pull/156), [coin-or/CyLP#157](https://github.com/coin-or/CyLP/pull/157)\n\n**cbcpy** (LGPL; new August 2019 according to \u200bhttps://pypi.org/project/cbcpy/; no activity since then) \n- upstream devs for cbc have published their own python interface \u200bhttps://gitlab.com/ikus-soft/cbcpy\n- the fact that it uses swig may be an obstacle for immediate inclusion\n\n\n**Gurobi**, **CPLEX**\n- they come with their own standard Python APIs, which we could use instead of building our own cython interface \n- related: #28175 - where we remove these cython modules from sagelib and ship them in separate packages instead\n\n**python-qsoptex**\n- https://github.com/jonls/python-qsoptex (see #18766)\n\n**SCIP, PySCIPOpt** (now open source)\n- #34726 Optional package `papilo`: Parallel Presolve for Integer and Linear Optimization (https://github.com/scipopt/papilo/) - LGPL license\n- #34742 Optional package `soplex` (dependency of scip)\n- #31329 Update `scipoptsuite` to 8.0.2 (now open source!)\n- #21003 Add package `pyscipopt` (MIT license), add MIP backend\n- #34749 Package `scipsdp`\n- #34750 Packages `gcg`, `PyGCGOpt`\n\n\n## Possible integration routes via Julia\n\n- `MathOptInterface` - https://arxiv.org/pdf/2002.03447.pdf\n\n\nCC:  a.mason@auckland.ac.nz @jiawei-wang-ucd @yuan-zhou @dimpase @dcoudert tmonteil @kiwifb\n\nStatus: new\n\nIssue created by migration from https://trac.sagemath.org/ticket/26511\n\n",
    "created_at": "2018-10-19T16:46:11Z",
    "labels": [
        "component: numerical"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Meta-ticket: Use Python optimization interfaces: CVXPY, SCIP, or-tools, PuLP, Pyomo, cylp...",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26511",
    "user": "https://github.com/mkoeppe"
}
```
The purpose of this ticket is to 
- connect SageMath to interfaces to optimization solvers that are maintained outside of the Sage project,
- integrate the related developer and user communities,
- provide an entry point for [GSoC 2022 projects](https://wiki.sagemath.org/GSoC/2022)

## [SageMath](SageMath) status quo: Front end
- Frontend class [MixedIntegerLinearProgram](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html#sage.numerical.mip.MixedIntegerLinearProgram)
    - mutable (can call `add_constraint`, `set_integer`, `new_variable` etc. and then re-solve)
    - solver-independent and solver-specific parameters (`solver_parameter`)
    - widely used in Sage library code for `sage.graphs`, `sage.coding`, `sage.combinat`, ...
    - [MIPVariable](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html#sage.numerical.mip.MIPVariable) - indexed by arbitrary objects
    - some connections to [Polyhedron](https://doc.sagemath.org/html/en/reference/discrete_geometry/index.html#polyhedral-computations) class and to [InteractiveLPProblem](https://doc.sagemath.org/html/en/reference/numerical/sage/numerical/interactive_simplex_method.html) (didactical code)

## [SageMath](SageMath) status quo: Back ends

- [In-tree backends](https://github.com/sagemath/sage/tree/develop/src/sage/numerical/backends), using Cython, with varying degrees of implementation quality
    - GLPK backend - complete, includes support for tableau data and GLPK's exact rational mode
    - InteractiveLP backend - basic, provide LP only for algebraic LPs
    - CVXOPT backend
    - PPL backend - exact solver
- Separate distribution packages for optional packages (proprietary solvers, open-source solvers with incompatible licenses)
    - https://github.com/sagemath/sage-numerical-backends-coin: COIN backend (CBC) - very basic, no support for setting solver parameters such as time limit
    - https://github.com/sagemath/sage-numerical-backends-cplex: CPLEX backend
    - https://github.com/sagemath/sage-numerical-backends-gurobi: Gurobi backend
- Optimization interface is maintained by a very small part of the Sage developer community

## [SageMath](SageMath) tickets and tasks

- #28175 Move sage optimization backends to separate Cython packages to remove `OptionalExtension` problems
- Template for minimal Python-based backends (`interactivelp_backend.pyx` is implemented in Cython just because a Cython template was available)
- Replace basic Cython-based COIN backend by full-featured PuLP backend (gives access to many solvers)
- #19219 MILP: Add CyLP backend -- Replace basic Cython-based COIN backend by full-featured cylp backend (gives detailed access to CLP, including tableau data)
- PuLP backend implementation using Sage backends... to make exact backends such as InteractiveLP, PPL backend available to PuLP frontend users 
   - can PuLP handle non-floating point data (for example for exact computation over rationals or number fields if the backend allows it?
   - this could be added to PuLP, rather than to Sage.
- Pyomo backend implementation using Sage backends... to make exact backends available to Pyomo frontend users 
  - see above
- Check feasibility of replacing front end `MixedIntegerLinearProgram` by PuLP frontend or Pyomo frontend
   - can PuLP handle Sage's number types such as RDF and ZZ?
   - can Pyomo handle Sage's number types such as RDF and ZZ?

Related:
- #20302 Meta-ticket: Improvements to `MixedIntegerLinearProgram`, its backends, and `InteractiveLinearProgram`


## Key Python software (solver-independent)

Selection criteria for solver-independent interfaces:
- Does it use a compatible, permissive, open source license?
- Does it provide detailed access to the solver that allows for updating problems and warmstarting?
- Is it under active development?


**cvxpy** - Meta-ticket #33920
- permissive open source license: Apache 2.0
- use CBC via **cylp**
- experimental CBC interface via **python-mip** - https://github.com/cvxpy/cvxpy/issues/1265, https://pypi.org/project/mip-cvxpy/
- https://github.com/cvxpy/cvxpy/issues/1649#issuecomment-1067148937: Link to OR-tools solver abstraction
- https://github.com/cvxpy/cvxpy/issues/1704: Link to `MathOptInterface.jl`
- as of 2022 under active development; maintainers appear to respond quickly to issues/PRs: [cvxpy/cvxpy#1705](https://github.com/cvxpy/cvxpy/pull/1705), [cvxpy/cvxpy#1707](https://github.com/cvxpy/cvxpy/pull/1707), [cvxpy/cvxpy#1719](https://github.com/cvxpy/cvxpy/pull/1719)

**or-tools** - #33493
- Upcoming ("soon" as of 2022-08) new MathOpt DSL (Python)


**conv_opt** - https://github.com/KarrLab/conv_opt
- MIT license
- Cbc, CVXOPT, FICO XPRESS, GLPK, Gurobi, IBM CPLEX, MINOS, Mosek, quadprog, SciPy, and SoPlex.

**PuLP** - https://github.com/coin-or/pulp
- permissive open source license (BSD?)
- Installation with `sage -pip install pulp` works
- Frontend: a basic modeling system 
   - example: https://github.com/coin-or/pulp/blob/master/examples/WhiskasModel1.py
   - need to compare its capabilities with the sage frontend
  - Backends: some API-based and some file-based interfaces to various solvers, including:
   - COIN_CMD (COIN CBC via command line), 
   - COINMP_DLL (CBC via COINMP C library API), 
   - YAPOSIB (Python interface to COIN OSI, see below), 
   - see [solvers.py](https://github.com/coin-or/pulp/blob/master/src/pulp/solvers.py)
  - **PuLP is currently looking for a co-maintainer** (https://github.com/coin-or/pulp/issues/183)

**Pyomo**
- permissive open source license: BSD
- http://www.pyomo.org/ 
- installation with `sage -pip install pyomo` works
- some file-based, some API-based interfaces (direct/persistent) - see [solvers directory](https://github.com/Pyomo/pyomo/tree/master/pyomo/solvers/plugins/solvers)
- big system, under active development

**YAPOSIB** - Python interface to COIN OSI, using Boost::Python
- https://github.com/coin-or/yaposib
- Installation with `sage -i boost && sage -pip install yaposib` works
- **incompatible open source license** - EPL 1.0
- therefore we cannot use it as the basis for our solver-independent code
- could still be useful to be used via PuLP for solvers that don't have a direct PuLP backend

**Python MIP (Mixed-Integer Linear Programming) Tools** (new 2018)
- https://pypi.org/project/mip/
- https://github.com/coin-or/python-mip
- Eclipse Public License 2.0 (considered **GPL-incompatible** https://www.gnu.org/licenses/license-list.en.html#GPLCompatibleLicenses)

**PICOS** - a user friendly Python API to several conic and integer programming solvers, very much like YALMIP or
CVX under MATLAB.
- runs under both Python 2 and Python 3
- GNU GPL v3
- https://gitlab.com/picos-api/picos
- https://pypi.org/project/PICOS/


## C, C++ solver abstractions

**or-tools** (#33493) `​linear_solver` wrapper
- supporting CLP, CBC, GLPK, Gurobi, SCIP, XPRESS
- permissive open source license: Apache 2.0
- quick with "wontfix" - [google/or-tools#3205](https://github.com/google/or-tools/issues/3205)

**COIN-OR OSI**
- **incompatible copyleft license**: Eclipse Public License 2.0


## Key Python software (solver-dependent)

The Python interfaces that target only one solver are usually careful in not having more restrictive licenses than the targeted solver.

**scipy.optimize** (vendors HiGHS)
- Permissive open source licenses: SciPy: BSD 3-clause; HiGHS: MIT license
- #32282 Add LP solver backends for HiGHS via scipy.optimize.linprog

**highspy** (pybind11-based interface to HiGHS)
- #33919 Add MILP solver backends for HiGHS via highspy

Interfaces to **GLPK**
- it looks like ​https://github.com/biosustain/swiglpk/releases is the best maintained. Excluding sage and cvxopt.
- see https://en.wikibooks.org/wiki/GLPK/Python for a list of other glpk bindings

**cylp**
- #33487: CyLP is a Python interface to COIN-OR’s Linear and mixed-integer program solvers (CLP, CBC, and CGL). CyLP’s unique feature is that you can use it to alter the solution process of the solvers from within Python. For example, you may define cut generators, branch-and-bound strategies, and primal/dual Simplex pivot rules completely in Python.
- same license as CBC/CLP/CGL
- as of Mar 2022: [many open issues](https://github.com/coin-or/CyLP/issues), minimal maintenance mode by 1 maintainer who is cooperative on receiving PRs: [coin-or/CyLP#153](https://github.com/coin-or/CyLP/pull/153), [coin-or/CyLP#155](https://github.com/coin-or/CyLP/pull/155), [coin-or/CyLP#156](https://github.com/coin-or/CyLP/pull/156), [coin-or/CyLP#157](https://github.com/coin-or/CyLP/pull/157)

**cbcpy** (LGPL; new August 2019 according to ​https://pypi.org/project/cbcpy/; no activity since then) 
- upstream devs for cbc have published their own python interface ​https://gitlab.com/ikus-soft/cbcpy
- the fact that it uses swig may be an obstacle for immediate inclusion


**Gurobi**, **CPLEX**
- they come with their own standard Python APIs, which we could use instead of building our own cython interface 
- related: #28175 - where we remove these cython modules from sagelib and ship them in separate packages instead

**python-qsoptex**
- https://github.com/jonls/python-qsoptex (see #18766)

**SCIP, PySCIPOpt** (now open source)
- #34726 Optional package `papilo`: Parallel Presolve for Integer and Linear Optimization (https://github.com/scipopt/papilo/) - LGPL license
- #34742 Optional package `soplex` (dependency of scip)
- #31329 Update `scipoptsuite` to 8.0.2 (now open source!)
- #21003 Add package `pyscipopt` (MIT license), add MIP backend
- #34749 Package `scipsdp`
- #34750 Packages `gcg`, `PyGCGOpt`


## Possible integration routes via Julia

- `MathOptInterface` - https://arxiv.org/pdf/2002.03447.pdf


CC:  a.mason@auckland.ac.nz @jiawei-wang-ucd @yuan-zhou @dimpase @dcoudert tmonteil @kiwifb

Status: new

Issue created by migration from https://trac.sagemath.org/ticket/26511





---

archive/issue_comments_369829.json:
```json
{
    "body": "<a id='comment:2'></a>This was in my plans for [sage days84](https://wiki.sagemath.org/days84) at Olot, but i did not go further since then. Also, there is [Numberjack](https://github.com/eomahony/Numberjack), which seems pretty general. Looking quickly at the repositories, it seems that neither Numberjack nor PuLP were modified recently (though we could contact the authors to see if they have plans for the future).",
    "created_at": "2018-10-31T10:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369829",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:2'></a>This was in my plans for [sage days84](https://wiki.sagemath.org/days84) at Olot, but i did not go further since then. Also, there is [Numberjack](https://github.com/eomahony/Numberjack), which seems pretty general. Looking quickly at the repositories, it seems that neither Numberjack nor PuLP were modified recently (though we could contact the authors to see if they have plans for the future).



---

archive/issue_comments_369830.json:
```json
{
    "body": "<a id='comment:3'></a>I have the same feeling that PuLP has only minimal maintenance these days. Also, there is a significant effort in the OR community with Julia http://www.juliaopt.org/.",
    "created_at": "2018-10-31T10:57:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369830",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:3'></a>I have the same feeling that PuLP has only minimal maintenance these days. Also, there is a significant effort in the OR community with Julia http://www.juliaopt.org/.



---

archive/issue_comments_369831.json:
```json
{
    "body": "<a id='comment:4'></a>Andrew Mason commented by email:\n  PuLP is actively developed. It had a release last week. \n  https://github.com/coin-or/pulp\n  I know the developer Stuart Mitchell if you have any questions.",
    "created_at": "2018-11-04T21:14:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369831",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:4'></a>Andrew Mason commented by email:
  PuLP is actively developed. It had a release last week. 
  https://github.com/coin-or/pulp
  I know the developer Stuart Mitchell if you have any questions.



---

archive/issue_comments_369832.json:
```json
{
    "body": "<a id='comment:7'></a>Added Python-MIP",
    "created_at": "2019-11-30T15:36:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369832",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:7'></a>Added Python-MIP



---

archive/issue_comments_369833.json:
```json
{
    "body": "<a id='comment:10'></a>https://pypi.org/project/mip/ looks good. Too bad we can't use it because its license, Eclipse Public License 2.0, is used without a Secondary Licenses Notice that would make it instantly GPL-compatible.",
    "created_at": "2019-11-30T15:57:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369833",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:10'></a>https://pypi.org/project/mip/ looks good. Too bad we can't use it because its license, Eclipse Public License 2.0, is used without a Secondary Licenses Notice that would make it instantly GPL-compatible.



---

archive/issue_comments_369834.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:10 mkoeppe]:\n> https://pypi.org/project/mip/ looks good. Too bad we can't use it because its license, Eclipse Public License 2.0, is used without a Secondary Licenses Notice that would make it instantly GPL-compatible.\n\n\nit's py3 only, by the way.\n\nW.r.t. licenses, maybe we can ask the authors for a fix?",
    "created_at": "2019-12-28T09:39:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369834",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:11'></a>Replying to [comment:10 mkoeppe]:
> https://pypi.org/project/mip/ looks good. Too bad we can't use it because its license, Eclipse Public License 2.0, is used without a Secondary Licenses Notice that would make it instantly GPL-compatible.


it's py3 only, by the way.

W.r.t. licenses, maybe we can ask the authors for a fix?



---

archive/issue_comments_369835.json:
```json
{
    "body": "<a id='comment:12'></a>Added info on cbcpy and glpk from fbissey in #28175.",
    "created_at": "2019-12-28T15:31:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369835",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:12'></a>Added info on cbcpy and glpk from fbissey in #28175.



---

archive/issue_comments_369836.json:
```json
{
    "body": "<a id='comment:13'></a>Replying to [comment:11 dimpase]:\n> Replying to [comment:10 mkoeppe]:\n> > https://pypi.org/project/mip/ looks good. Too bad we can't use it because its license, Eclipse Public License 2.0, is used without a Secondary Licenses Notice that would make it instantly GPL-compatible.\n\n> \n> it's py3 only, by the way.\n> \n> W.r.t. licenses, maybe we can ask the authors for a fix?\n\n\nGood idea... please go ahead.",
    "created_at": "2019-12-28T15:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369836",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:13'></a>Replying to [comment:11 dimpase]:
> Replying to [comment:10 mkoeppe]:
> > https://pypi.org/project/mip/ looks good. Too bad we can't use it because its license, Eclipse Public License 2.0, is used without a Secondary Licenses Notice that would make it instantly GPL-compatible.

> 
> it's py3 only, by the way.
> 
> W.r.t. licenses, maybe we can ask the authors for a fix?


Good idea... please go ahead.



---

archive/issue_events_065881.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-05-01T18:16:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65881"
}
```



---

archive/issue_comments_369837.json:
```json
{
    "body": "<a id='comment:17'></a>Moving some tickets to 9.2. This is not a promise that I will be working on them.",
    "created_at": "2020-05-01T18:16:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369837",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:17'></a>Moving some tickets to 9.2. This is not a promise that I will be working on them.



---

archive/issue_events_065882.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65882"
}
```



---

archive/issue_events_065883.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T16:37:33Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65883"
}
```



---

archive/issue_events_065884.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65884"
}
```



---

archive/issue_events_065885.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-03-24T02:04:25Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65885"
}
```



---

archive/issue_comments_369838.json:
```json
{
    "body": "<a id='comment:22'></a>Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-24T02:04:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369838",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:22'></a>Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_events_065886.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65886"
}
```



---

archive/issue_events_065887.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-07-19T01:16:42Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65887"
}
```



---

archive/issue_comments_369839.json:
```json
{
    "body": "<a id='comment:27'></a>Pyomo can use SHOT sover https://github.com/coin-or/SHOT\n\nWhen  SHOT is configured to use all cores of cpu, solving traveling salesman problem is pretty fast.",
    "created_at": "2021-08-03T10:24:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369839",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:27'></a>Pyomo can use SHOT sover https://github.com/coin-or/SHOT

When  SHOT is configured to use all cores of cpu, solving traveling salesman problem is pretty fast.



---

archive/issue_comments_369840.json:
```json
{
    "body": "<a id='comment:28'></a>In Python3.10 they [removed use_tracing](https://github.com/python/cpython/commit/55576893b31452ba739e01189424cd62cf11ed20) and I can not build https://github.com/coin-or/CyLP anymore :(",
    "created_at": "2021-11-11T17:53:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369840",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:28'></a>In Python3.10 they [removed use_tracing](https://github.com/python/cpython/commit/55576893b31452ba739e01189424cd62cf11ed20) and I can not build https://github.com/coin-or/CyLP anymore :(



---

archive/issue_comments_369841.json:
```json
{
    "body": "<a id='comment:29'></a>Reported upstream?",
    "created_at": "2021-11-11T17:55:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369841",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:29'></a>Reported upstream?



---

archive/issue_comments_369842.json:
```json
{
    "body": "<a id='comment:30'></a>https://github.com/coin-or/CyLP/issues/132",
    "created_at": "2021-11-11T18:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369842",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:30'></a>https://github.com/coin-or/CyLP/issues/132



---

archive/issue_events_065888.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65888"
}
```



---

archive/issue_events_065889.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2021-12-14T02:04:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65889"
}
```



---

archive/issue_events_065890.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65890"
}
```



---

archive/issue_events_065891.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-03-05T00:06:20Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65891"
}
```



---

archive/issue_comments_369843.json:
```json
{
    "body": "<a id='comment:33'></a>if installing **CyLP** for **CBC** is cumbersome, one can use https://github.com/coin-or/python-mip for **CBC** (https://docs.python-mip.com/en/latest/examples.html)",
    "created_at": "2022-03-08T18:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369843",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:33'></a>if installing **CyLP** for **CBC** is cumbersome, one can use https://github.com/coin-or/python-mip for **CBC** (https://docs.python-mip.com/en/latest/examples.html)



---

archive/issue_comments_369844.json:
```json
{
    "body": "<a id='comment:34'></a>Unfortunately python-mip is encumbered with the same incompatible license as CBC itself. \nMy plan is to target `cvxpy` as our main solver interface. It's well-maintained and supports lots of solver backends.",
    "created_at": "2022-03-08T18:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369844",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:34'></a>Unfortunately python-mip is encumbered with the same incompatible license as CBC itself. 
My plan is to target `cvxpy` as our main solver interface. It's well-maintained and supports lots of solver backends.



---

archive/issue_comments_369845.json:
```json
{
    "body": "<a id='comment:35'></a>Hi all, I had lost track of this discussion after the IMA workshop and am now re-engaging. `@`mkoeppe, I looked back at some e-mail correspondence on this topic, but didn't really find a substantive answer there as to why license compatibility is an issue here. I understand that this is something probably prescribed by the Sage organization itself and this may not be the forum for this discussion. If not, I'd be happy to engage somewhere else. \n\nIt looks to me like this is a pretty conservative interpretation. It is certainly true that you cannot distribute a single binary that mixes GPL'd and EPL'd code, or a binary that calls a shared library where the two have different licenses (although one might claim it's OK if the main binary is GPL and it's the library that is EPL). But something like python-mip is a self-contained program in the Python programming language and it's not being distributed in binary form, but source form. Yes, when it uses Cbc, it calls a shared library that is under the EPL, but since python-mip itself is also under the EPL, this doesn't create any issue. I can't really see how re-distributing python-mip is a problem, regardless of what it is being re-distributed with. It is well-known that \"EPL and GPL are incomatible,\" but I think this incompatibility is referring to a completely different context than we have here. Can someone say exactly which license is being violated and exactly how the violation is occurring? \n\nPuLP is even more clear cut, since it is in pure Python and only needs a self-contained Cbc binary to work. It is certainly no problem to re-distribute a statically linked Cbc binary in combination with anything. It doesn't link to anything and is itself a completely self-contained program, which can be freely re-distributed. We wouldn't claim PuLP cannot be distributed because it has the capability to use CPLEX. Further, PuLP is itself under a compatible license (MIT?).\n\nCvxpy may have a compatible license, but it's not useful on its own for solving LPs/MILPs without installing some solver and the open-source solver it uses for solving MILPs is Cbc through CyLP. Effectively, this just puts the onus on the user, then, to install CyLP. This doesn't really seem to be a solution. \n\nIn any case, wouldn't the legal liability derive from an owner of a GPL'd code complaining that said code was mixed illegally with non-GPL'd code? I guess that Sage itself is the entity with the GPL'd code and I would think that this could simply be allowed. There is no issue from the EPL side and in any case, the risk of legal action stemming from the re-distribution of COIN-OR code is extremely small. \n\nWhy is Sage different than, e.g., anaconda or even SciPy? Anaconda seems to mix all kinds of licenses and as far as I can tell, the onus is on the user to makes sure that the combination of packages installed on their own machine is OK. Anaconda can really be interpreted as an installer of other people's packages. But I didn't research this extensively or dig into whether anaconda actually re-distributes or just installs packages pulled from Pypi and other sources. Another data point would be Linux distros, which obviously do redistribute combinations of self-contained software packages under many different licenses, including both GPL and EPL. \n\nIt would be a shame if this license stuff gets in the way here when I think it is clear that all the players involved would approve of what is being done.",
    "created_at": "2022-03-08T20:34:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369845",
    "user": "https://github.com/tkralphs"
}
```

<a id='comment:35'></a>Hi all, I had lost track of this discussion after the IMA workshop and am now re-engaging. `@`mkoeppe, I looked back at some e-mail correspondence on this topic, but didn't really find a substantive answer there as to why license compatibility is an issue here. I understand that this is something probably prescribed by the Sage organization itself and this may not be the forum for this discussion. If not, I'd be happy to engage somewhere else. 

It looks to me like this is a pretty conservative interpretation. It is certainly true that you cannot distribute a single binary that mixes GPL'd and EPL'd code, or a binary that calls a shared library where the two have different licenses (although one might claim it's OK if the main binary is GPL and it's the library that is EPL). But something like python-mip is a self-contained program in the Python programming language and it's not being distributed in binary form, but source form. Yes, when it uses Cbc, it calls a shared library that is under the EPL, but since python-mip itself is also under the EPL, this doesn't create any issue. I can't really see how re-distributing python-mip is a problem, regardless of what it is being re-distributed with. It is well-known that "EPL and GPL are incomatible," but I think this incompatibility is referring to a completely different context than we have here. Can someone say exactly which license is being violated and exactly how the violation is occurring? 

PuLP is even more clear cut, since it is in pure Python and only needs a self-contained Cbc binary to work. It is certainly no problem to re-distribute a statically linked Cbc binary in combination with anything. It doesn't link to anything and is itself a completely self-contained program, which can be freely re-distributed. We wouldn't claim PuLP cannot be distributed because it has the capability to use CPLEX. Further, PuLP is itself under a compatible license (MIT?).

Cvxpy may have a compatible license, but it's not useful on its own for solving LPs/MILPs without installing some solver and the open-source solver it uses for solving MILPs is Cbc through CyLP. Effectively, this just puts the onus on the user, then, to install CyLP. This doesn't really seem to be a solution. 

In any case, wouldn't the legal liability derive from an owner of a GPL'd code complaining that said code was mixed illegally with non-GPL'd code? I guess that Sage itself is the entity with the GPL'd code and I would think that this could simply be allowed. There is no issue from the EPL side and in any case, the risk of legal action stemming from the re-distribution of COIN-OR code is extremely small. 

Why is Sage different than, e.g., anaconda or even SciPy? Anaconda seems to mix all kinds of licenses and as far as I can tell, the onus is on the user to makes sure that the combination of packages installed on their own machine is OK. Anaconda can really be interpreted as an installer of other people's packages. But I didn't research this extensively or dig into whether anaconda actually re-distributes or just installs packages pulled from Pypi and other sources. Another data point would be Linux distros, which obviously do redistribute combinations of self-contained software packages under many different licenses, including both GPL and EPL. 

It would be a shame if this license stuff gets in the way here when I think it is clear that all the players involved would approve of what is being done.



---

archive/issue_comments_369846.json:
```json
{
    "body": "<a id='comment:36'></a>Hi Ted, thanks for joining the discussion here!\n\nReplying to [comment:35 gh-tkralphs]:\n> Why is Sage different than, e.g., anaconda [.... or ....] Linux distros, which obviously do redistribute combinations of self-contained software packages under many different licenses, including both GPL and EPL. \n\n\nYes, this would be \"mere aggregation\" https://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.en.html#MereAggregation",
    "created_at": "2022-03-08T20:50:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369846",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:36'></a>Hi Ted, thanks for joining the discussion here!

Replying to [comment:35 gh-tkralphs]:
> Why is Sage different than, e.g., anaconda [.... or ....] Linux distros, which obviously do redistribute combinations of self-contained software packages under many different licenses, including both GPL and EPL. 


Yes, this would be "mere aggregation" https://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.en.html#MereAggregation



---

archive/issue_comments_369847.json:
```json
{
    "body": "<a id='comment:37'></a>Replying to [comment:35 gh-tkralphs]:\n> Why is Sage different than, e.g., anaconda or even SciPy? \n\n\nNo difference to SciPy really. SciPy vendors a lot of packages, but all of them use a permissive license that is compatible with SciPy's own license, BSD 3-clause (https://github.com/scipy/scipy/blob/main/LICENSE.txt). It certainly does not vendor libraries with copyleft licenses such as GPL or EPL.",
    "created_at": "2022-03-08T20:54:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369847",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:37'></a>Replying to [comment:35 gh-tkralphs]:
> Why is Sage different than, e.g., anaconda or even SciPy? 


No difference to SciPy really. SciPy vendors a lot of packages, but all of them use a permissive license that is compatible with SciPy's own license, BSD 3-clause (https://github.com/scipy/scipy/blob/main/LICENSE.txt). It certainly does not vendor libraries with copyleft licenses such as GPL or EPL.



---

archive/issue_comments_369848.json:
```json
{
    "body": "<a id='comment:38'></a>Replying to [comment:35 gh-tkralphs]:\n> something like python-mip is a self-contained program in the Python programming language and it's not being distributed in binary form, but source form. Yes, when it uses Cbc, it calls a shared library that is under the EPL, but since python-mip itself is also under the EPL, this doesn't create any issue.\n\n\nIt would not be a problem for Sage if we just included python-mip as a package in the Sage distribution, for users to install and use. \n\nBut if we were to make substantial use of it in the Sage library, replacing our home-grown (wasn't me!) MIP interface (https://github.com/sagemath/sage/blob/develop/src/sage/numerical/mip.pyx), then this use would definitely rise above \"mere aggregation\" of software, making the result non-distributable in binary form.",
    "created_at": "2022-03-08T20:59:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369848",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:38'></a>Replying to [comment:35 gh-tkralphs]:
> something like python-mip is a self-contained program in the Python programming language and it's not being distributed in binary form, but source form. Yes, when it uses Cbc, it calls a shared library that is under the EPL, but since python-mip itself is also under the EPL, this doesn't create any issue.


It would not be a problem for Sage if we just included python-mip as a package in the Sage distribution, for users to install and use. 

But if we were to make substantial use of it in the Sage library, replacing our home-grown (wasn't me!) MIP interface (https://github.com/sagemath/sage/blob/develop/src/sage/numerical/mip.pyx), then this use would definitely rise above "mere aggregation" of software, making the result non-distributable in binary form.



---

archive/issue_comments_369849.json:
```json
{
    "body": "<a id='comment:39'></a>Replying to [comment:35 gh-tkralphs]:\n> Yes, when it uses Cbc, it calls a shared library that is under the EPL, but since python-mip itself is also under the EPL, this doesn't create any issue. \n\n\nYes, there is no new problem of using `python-mip` as an interface to Cbc when one is already using Cbc. \n\nHowever, as I wrote in our earlier discussion (with Haroldo and T\u00falio) in July 2021:\n\n  For Sage, I am shopping for an API offering pivot-level control over solvers that can support several backends, with the goal of replacing our home-grown (wasn't me) design. Given that Python-MIP already supports CBC and Gurobi, it is a viable candidate for this; if it weren't for the license situation [...]",
    "created_at": "2022-03-08T21:09:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369849",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:39'></a>Replying to [comment:35 gh-tkralphs]:
> Yes, when it uses Cbc, it calls a shared library that is under the EPL, but since python-mip itself is also under the EPL, this doesn't create any issue. 


Yes, there is no new problem of using `python-mip` as an interface to Cbc when one is already using Cbc. 

However, as I wrote in our earlier discussion (with Haroldo and Túlio) in July 2021:

  For Sage, I am shopping for an API offering pivot-level control over solvers that can support several backends, with the goal of replacing our home-grown (wasn't me) design. Given that Python-MIP already supports CBC and Gurobi, it is a viable candidate for this; if it weren't for the license situation [...]



---

archive/issue_comments_369850.json:
```json
{
    "body": "<a id='comment:40'></a>Replying to [comment:35 gh-tkralphs]:\n> PuLP is even more clear cut, since it is in pure Python and only needs a self-contained Cbc binary to work. It is certainly no problem to re-distribute a statically linked Cbc binary in combination with anything. It doesn't link to anything and is itself a completely self-contained program, which can be freely re-distributed. We wouldn't claim PuLP cannot be distributed because it has the capability to use CPLEX. Further, PuLP is itself under a compatible license (MIT?).\n\n\nYes, permissive licenses such as the one that PuLP uses (and the one that python-mip used to use...) do not create such compatibility problems. It is unproblematic to distribute PuLP with Cbc in binary form. (Obviously, you can't redistribute the combination of PuLP with CPLEX.)\n\nIt is specifically the switch of python-mip from a permissive license to the incompatible copyleft license (EPL without \"secondary license notice\") that created the incompatibility with GPL software.",
    "created_at": "2022-03-08T21:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369850",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:40'></a>Replying to [comment:35 gh-tkralphs]:
> PuLP is even more clear cut, since it is in pure Python and only needs a self-contained Cbc binary to work. It is certainly no problem to re-distribute a statically linked Cbc binary in combination with anything. It doesn't link to anything and is itself a completely self-contained program, which can be freely re-distributed. We wouldn't claim PuLP cannot be distributed because it has the capability to use CPLEX. Further, PuLP is itself under a compatible license (MIT?).


Yes, permissive licenses such as the one that PuLP uses (and the one that python-mip used to use...) do not create such compatibility problems. It is unproblematic to distribute PuLP with Cbc in binary form. (Obviously, you can't redistribute the combination of PuLP with CPLEX.)

It is specifically the switch of python-mip from a permissive license to the incompatible copyleft license (EPL without "secondary license notice") that created the incompatibility with GPL software.



---

archive/issue_comments_369851.json:
```json
{
    "body": "<a id='comment:41'></a>Replying to [comment:35 gh-tkralphs]:\n> Cvxpy may have a compatible license, but it's not useful on its own for solving LPs/MILPs without installing some solver and the open-source solver it uses for solving MILPs is Cbc through CyLP. Effectively, this just puts the onus on the user, then, to install CyLP. This doesn't really seem to be a solution. \n\n\nThat's not a problem for the Sage distribution, we have a working packaging infrastructure that already vendors hundreds of packages - https://repology.org/projects/?inrepo=sagemath_develop",
    "created_at": "2022-03-08T21:28:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369851",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:41'></a>Replying to [comment:35 gh-tkralphs]:
> Cvxpy may have a compatible license, but it's not useful on its own for solving LPs/MILPs without installing some solver and the open-source solver it uses for solving MILPs is Cbc through CyLP. Effectively, this just puts the onus on the user, then, to install CyLP. This doesn't really seem to be a solution. 


That's not a problem for the Sage distribution, we have a working packaging infrastructure that already vendors hundreds of packages - https://repology.org/projects/?inrepo=sagemath_develop



---

archive/issue_comments_369852.json:
```json
{
    "body": "<a id='comment:42'></a>OK, thanks for clarifying, but it still looks to me like the GPL actually doesn't restrict things in the way you (and many others) are interpreting. Every argument I find that claims Python modules under incompatible licenses cannot be combined in this way takes as given that \"importing a module\" in Python is equivalent to \"linking to a library\" in a compiled language and this just isn't true in any sense. \"Importing\" in Python is functionally the same as \"including\" a source file in C/C++. You are allowed to combine GPL'd source code with other source code, no matter what the license and re-distribute the combination in source form, just not in binary form.\n\nIf you think about the philosophical underpinnings, what the GPL tries to prevent is that I modify the source code of a GPL'd code (or something linked to a GPL'd code) and then re-distribute it only in binary form, thereby profiting from a work that is derived from a GPL'd work, but not sharing the source of that derived work. The viral nature is just meant to try to ensure that everyone plays by these rules to the extent possible by preventing anyone from linking to GPL'd code in binary form without playing by the rules. But unless you distribute only a .pyc file and not a .py, this simply can't happen in Python. Although it would be possible to distribute a Python package in byte-compiled form without source (or even in some obfuscated form of source), this is not what you would be planning to do and it just doesn't run afoul of the GPL, either by the letter of the law or in spirit.\n\nOf course, I am not a lawyer, but in my opinion, you can take python-mip, modify it as you wish, and re-distribute the modified version as an integrated part of Sage without any license issues. Here is an answer on Open Source Stack Exchange that I think is correct and supports this point of view, although everyone else seems to miss the point and disagree. \n\nhttps://opensource.stackexchange.com/a/8472",
    "created_at": "2022-03-09T02:52:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369852",
    "user": "https://github.com/tkralphs"
}
```

<a id='comment:42'></a>OK, thanks for clarifying, but it still looks to me like the GPL actually doesn't restrict things in the way you (and many others) are interpreting. Every argument I find that claims Python modules under incompatible licenses cannot be combined in this way takes as given that "importing a module" in Python is equivalent to "linking to a library" in a compiled language and this just isn't true in any sense. "Importing" in Python is functionally the same as "including" a source file in C/C++. You are allowed to combine GPL'd source code with other source code, no matter what the license and re-distribute the combination in source form, just not in binary form.

If you think about the philosophical underpinnings, what the GPL tries to prevent is that I modify the source code of a GPL'd code (or something linked to a GPL'd code) and then re-distribute it only in binary form, thereby profiting from a work that is derived from a GPL'd work, but not sharing the source of that derived work. The viral nature is just meant to try to ensure that everyone plays by these rules to the extent possible by preventing anyone from linking to GPL'd code in binary form without playing by the rules. But unless you distribute only a .pyc file and not a .py, this simply can't happen in Python. Although it would be possible to distribute a Python package in byte-compiled form without source (or even in some obfuscated form of source), this is not what you would be planning to do and it just doesn't run afoul of the GPL, either by the letter of the law or in spirit.

Of course, I am not a lawyer, but in my opinion, you can take python-mip, modify it as you wish, and re-distribute the modified version as an integrated part of Sage without any license issues. Here is an answer on Open Source Stack Exchange that I think is correct and supports this point of view, although everyone else seems to miss the point and disagree. 

https://opensource.stackexchange.com/a/8472



---

archive/issue_comments_369853.json:
```json
{
    "body": "<a id='comment:43'></a>I'd say this narrow view on what \"linking\" is amounts to wishful thinking. It's pretty clear from https://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.en.html#TOCMereAggregation that the intention of the license is broader.",
    "created_at": "2022-03-09T03:12:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369853",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:43'></a>I'd say this narrow view on what "linking" is amounts to wishful thinking. It's pretty clear from https://www.gnu.org/licenses/old-licenses/gpl-2.0-faq.en.html#TOCMereAggregation that the intention of the license is broader.



---

archive/issue_comments_369854.json:
```json
{
    "body": "<a id='comment:44'></a>More importantly, as an author of GPL-protected Python software myself, I would certainly not want this interpretation to be used when a vendor of proprietary software wanted to build their product on top of my software.",
    "created_at": "2022-03-09T04:06:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369854",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:44'></a>More importantly, as an author of GPL-protected Python software myself, I would certainly not want this interpretation to be used when a vendor of proprietary software wanted to build their product on top of my software.



---

archive/issue_comments_369855.json:
```json
{
    "body": "<a id='comment:45'></a>Thanks to both of you for detailed explanation. I was trying to use `cvxpy` with CBC without CyLP and ended up injecting code from https://github.com/jurasofish/mip_cvxpy/blob/develop/mip_cvxpy/__init__.py inside https://github.com/cvxpy/cvxpy/blob/master/cvxpy/reductions/solvers/conic_solvers/cbc_conif.py",
    "created_at": "2022-03-09T12:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369855",
    "user": "https://github.com/sheerluck"
}
```

<a id='comment:45'></a>Thanks to both of you for detailed explanation. I was trying to use `cvxpy` with CBC without CyLP and ended up injecting code from https://github.com/jurasofish/mip_cvxpy/blob/develop/mip_cvxpy/__init__.py inside https://github.com/cvxpy/cvxpy/blob/master/cvxpy/reductions/solvers/conic_solvers/cbc_conif.py



---

archive/issue_comments_369856.json:
```json
{
    "body": "<a id='comment:46'></a>I've opened #33487 for adding a package `cylp`",
    "created_at": "2022-03-09T17:03:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369856",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:46'></a>I've opened #33487 for adding a package `cylp`



---

archive/issue_comments_369857.json:
```json
{
    "body": "<a id='comment:47'></a>A last, minor point on this:\n\nReplying to [comment:42 gh-tkralphs]:\n> unless you distribute only a .pyc file and not a .py, this simply can't happen in Python. Although it would be possible to distribute a Python package in byte-compiled form without source (or even in some obfuscated form of source)\n\n\nEven for pure Python packages and even without intentional obfuscation, the Python files installed in `site-packages` would not be \"source code\" in the sense of the license, which is the \"preferred form of the work for making modifications to it\": The build infrastructure (`setup.py`, `pyproject.toml`) is not installed.",
    "created_at": "2022-03-09T19:15:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369857",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:47'></a>A last, minor point on this:

Replying to [comment:42 gh-tkralphs]:
> unless you distribute only a .pyc file and not a .py, this simply can't happen in Python. Although it would be possible to distribute a Python package in byte-compiled form without source (or even in some obfuscated form of source)


Even for pure Python packages and even without intentional obfuscation, the Python files installed in `site-packages` would not be "source code" in the sense of the license, which is the "preferred form of the work for making modifications to it": The build infrastructure (`setup.py`, `pyproject.toml`) is not installed.



---

archive/issue_comments_369858.json:
```json
{
    "body": "<a id='comment:49'></a>Sorry, but I can't help ranting a bit more about the GPL :-). \n\n> the intention of the license is broader\n\n\nSure, maybe, but that's not how it works. You can't take a vague and (what looks to me to be) unenforceable license and paper over it with FAQs that fill in the gaps ex post facto. The FSF consistently and loudly promotes interpretations of the GPL that seem to me to also be \"wishful thinking.\" Intentions are not really relevant, what matters is how a court would ultimately interpret the license from a legal standpoint and what provisions of it the court would determine are actually enforceable. There are certainly plenty of people who find the FSF's claims about enforceability of certain provisions of the GPL to be pretty questionable. The license text itself is vague and its interpretation by the FSF is pretty over-reaching. It's very difficult to say one way or the other on a wide range of subtle questions around scenarios the license doesn't seem to have been designed to take into account, such as interpreted languages.\n\nA lot of what is explained in various places about how the GPL \"should\" be interpreted isn't actually in the license and requires a pretty imaginative reading of the actual verbiage. But it is all a matter of opinion and the only opinion that really matters is judge and jury. \n\n> Even for pure Python packages and even without intentional obfuscation, the Python files installed in site-packages would not be \"source code\" in the sense of the license, which is the \"preferred form of the work for making modifications to it\": The build infrastructure (setup.py, pyproject.toml) is not installed.\n\n\nThis is a *very* subtle distinction that is one I really doubt would stand up to legal scrutiny. There are many subtleties around this interpretation. For one, does this mean that you can't actually grab part of a package and utilize it in another package in source form, since the partial package would not be in the \"preferred form for modification\"? This seems to be done quite commonly. If not, what actually defines what constitutes the \"full package\"? What about a case like COIN-OR, where you can't work with the build system of any of the main source package without what is clearly another completely separate package that aids in the production of the build harness (in this case, the BuildTools)? What if the original authors don't actually provide a build harness, but just distribute the source itself? What if the project does have a `setup.py`, but can be run without it, by just directly importing it, not installing it in site-packages? Wouldn't this then be the most convenient way of working with the code? In the C/C++ world, what if the source is provided, but without a Makefile or a CMake setup? Or what if both setups are maintained for a given project, but only one is distributed and it's not the one I would personally prefer? Who's to say what the \"preferred\" way of working with source is, given that this is subjective. This is a crazy mess. To me, it seems clear that the only distinction one can make very clearly is that \"source\" is human-readable and \"object code\" is not.\n\nPutting all that aside, a Python wheel certainly can include things like `setup.py` if desired and those things would then be installed. Doing that would certainly seem to satisfy license requirements. There's nothing stopping you from including the entire contents of a given project's repo in its wheel, it's just not usually done that way.\n\nThere are many other aspects of the GPL that are up to interpretation and with respect to which it is anyone's guess what is really allowed. If you look at the parts of the license itself (and not the FAQ) that discuss linking, it only references linking to libraries that are \"required.\" The word \"required\" seems to be intentionally chosen there. It looks as though if you distribute an optional component along with the whole work, that optional component doesn't itself need to be under the GPL. This makes sense---an optional plug-in cannot really be interpreted as part of a whole that is a derived work of the original. The argument about the enforceability of \"linking\" rests on the idea that the combination of the two things linked together creates something new that would be considered a derived work. Since python-mip is itself a free-standing program that works without Sage and Sage is a free-standing program that works without python-mip, this really doesn't look like \"linking\" in that sense. The only place that \"linking\" is really defined in the license itself, it is specifically mentioned that the linking is to \"shared libraries and dynamically linked subprograms,\" which is clearly referring to code in assembly code form, not a human-readable source form. \n\nOf course, this is all opinion, but it seems clear there is enough grey to cast doubt on almost any one fixed interpretation. Even if you take the conservative view that importing a module in Python *is* \"linking,\" it would seem easy to get around this by invoking the module as a free-standing program, writing out the data to a file and then reading it back in using a separate interpreter with its own memory. Since we agree that passing data through a file rather than through memory is a legitimate way to keep the programs as separate (ala how PuLP communicates with Cbc), this is a fine workaround. \n\nBut then this opens up a whole new subtle distinction between the RAM and the disk. Is the disk not part of the computer's \"memory\"? It seems like it is, since when a program pages, it is using the disk as virtual memory. What then is considered communicating through \"memory\"? What about RAM on another processor or attached to another core? Is that \"memory\"? Where do we draw the line? It's almost impossible to clearly define exactly what the GPL requires in today's complex computing environments. The FSF is splitting hairs in its interpretation. It's hard to believe that they are truly trying to respect a user's \"freedom\" with all this. It looks to me like they are trying to forcibly impose an extreme world view on everyone else, thereby taking away freedom, to the detriment of the open source movement. \n\nWith all that said, the most important point at the end of the day is that using python-mip in the way you were hoping to use it *does not violate the EPL*. It only (possibly) violates the *GPL*. I guess the Sage foundation is the copyright holder on the GPL'd code and so could carve out an exception to the linking requirement for specific purposes. This is effectively what the secondary clause of the EPL also does. Since it is the GPL, not the EPL, that is creating the problem, why not just address it on the GPL side. Why not use the LGPL?\n\n> More importantly, as an author of GPL-protected Python software myself, I would certainly not want this interpretation to be used when a vendor of proprietary software wanted to build their product on top of my software.\n\n\nHow does the linking provision provide protection? It just means that no one can build on top of your software with non-GPL'd code, not that they can't do it at all. Lots of commercial products are built on GPL'd code. The protection the GPL affords you is that if someone modifies your code, they have to make the modifications open source and they can't hide from users the fact that their project is built on yours. But they can still build a commercial product around it and charge money for it.",
    "created_at": "2022-03-10T05:33:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369858",
    "user": "https://github.com/tkralphs"
}
```

<a id='comment:49'></a>Sorry, but I can't help ranting a bit more about the GPL :-). 

> the intention of the license is broader


Sure, maybe, but that's not how it works. You can't take a vague and (what looks to me to be) unenforceable license and paper over it with FAQs that fill in the gaps ex post facto. The FSF consistently and loudly promotes interpretations of the GPL that seem to me to also be "wishful thinking." Intentions are not really relevant, what matters is how a court would ultimately interpret the license from a legal standpoint and what provisions of it the court would determine are actually enforceable. There are certainly plenty of people who find the FSF's claims about enforceability of certain provisions of the GPL to be pretty questionable. The license text itself is vague and its interpretation by the FSF is pretty over-reaching. It's very difficult to say one way or the other on a wide range of subtle questions around scenarios the license doesn't seem to have been designed to take into account, such as interpreted languages.

A lot of what is explained in various places about how the GPL "should" be interpreted isn't actually in the license and requires a pretty imaginative reading of the actual verbiage. But it is all a matter of opinion and the only opinion that really matters is judge and jury. 

> Even for pure Python packages and even without intentional obfuscation, the Python files installed in site-packages would not be "source code" in the sense of the license, which is the "preferred form of the work for making modifications to it": The build infrastructure (setup.py, pyproject.toml) is not installed.


This is a *very* subtle distinction that is one I really doubt would stand up to legal scrutiny. There are many subtleties around this interpretation. For one, does this mean that you can't actually grab part of a package and utilize it in another package in source form, since the partial package would not be in the "preferred form for modification"? This seems to be done quite commonly. If not, what actually defines what constitutes the "full package"? What about a case like COIN-OR, where you can't work with the build system of any of the main source package without what is clearly another completely separate package that aids in the production of the build harness (in this case, the BuildTools)? What if the original authors don't actually provide a build harness, but just distribute the source itself? What if the project does have a `setup.py`, but can be run without it, by just directly importing it, not installing it in site-packages? Wouldn't this then be the most convenient way of working with the code? In the C/C++ world, what if the source is provided, but without a Makefile or a CMake setup? Or what if both setups are maintained for a given project, but only one is distributed and it's not the one I would personally prefer? Who's to say what the "preferred" way of working with source is, given that this is subjective. This is a crazy mess. To me, it seems clear that the only distinction one can make very clearly is that "source" is human-readable and "object code" is not.

Putting all that aside, a Python wheel certainly can include things like `setup.py` if desired and those things would then be installed. Doing that would certainly seem to satisfy license requirements. There's nothing stopping you from including the entire contents of a given project's repo in its wheel, it's just not usually done that way.

There are many other aspects of the GPL that are up to interpretation and with respect to which it is anyone's guess what is really allowed. If you look at the parts of the license itself (and not the FAQ) that discuss linking, it only references linking to libraries that are "required." The word "required" seems to be intentionally chosen there. It looks as though if you distribute an optional component along with the whole work, that optional component doesn't itself need to be under the GPL. This makes sense---an optional plug-in cannot really be interpreted as part of a whole that is a derived work of the original. The argument about the enforceability of "linking" rests on the idea that the combination of the two things linked together creates something new that would be considered a derived work. Since python-mip is itself a free-standing program that works without Sage and Sage is a free-standing program that works without python-mip, this really doesn't look like "linking" in that sense. The only place that "linking" is really defined in the license itself, it is specifically mentioned that the linking is to "shared libraries and dynamically linked subprograms," which is clearly referring to code in assembly code form, not a human-readable source form. 

Of course, this is all opinion, but it seems clear there is enough grey to cast doubt on almost any one fixed interpretation. Even if you take the conservative view that importing a module in Python *is* "linking," it would seem easy to get around this by invoking the module as a free-standing program, writing out the data to a file and then reading it back in using a separate interpreter with its own memory. Since we agree that passing data through a file rather than through memory is a legitimate way to keep the programs as separate (ala how PuLP communicates with Cbc), this is a fine workaround. 

But then this opens up a whole new subtle distinction between the RAM and the disk. Is the disk not part of the computer's "memory"? It seems like it is, since when a program pages, it is using the disk as virtual memory. What then is considered communicating through "memory"? What about RAM on another processor or attached to another core? Is that "memory"? Where do we draw the line? It's almost impossible to clearly define exactly what the GPL requires in today's complex computing environments. The FSF is splitting hairs in its interpretation. It's hard to believe that they are truly trying to respect a user's "freedom" with all this. It looks to me like they are trying to forcibly impose an extreme world view on everyone else, thereby taking away freedom, to the detriment of the open source movement. 

With all that said, the most important point at the end of the day is that using python-mip in the way you were hoping to use it *does not violate the EPL*. It only (possibly) violates the *GPL*. I guess the Sage foundation is the copyright holder on the GPL'd code and so could carve out an exception to the linking requirement for specific purposes. This is effectively what the secondary clause of the EPL also does. Since it is the GPL, not the EPL, that is creating the problem, why not just address it on the GPL side. Why not use the LGPL?

> More importantly, as an author of GPL-protected Python software myself, I would certainly not want this interpretation to be used when a vendor of proprietary software wanted to build their product on top of my software.


How does the linking provision provide protection? It just means that no one can build on top of your software with non-GPL'd code, not that they can't do it at all. Lots of commercial products are built on GPL'd code. The protection the GPL affords you is that if someone modifies your code, they have to make the modifications open source and they can't hide from users the fact that their project is built on yours. But they can still build a commercial product around it and charge money for it.



---

archive/issue_comments_369859.json:
```json
{
    "body": "<a id='comment:50'></a>Replying to [comment:49 gh-tkralphs]:\n> Since we agree that passing data through a file rather than through memory is a legitimate way to keep the programs as separate (ala how PuLP communicates with Cbc)\n\n\nNo, we don't agree on that.",
    "created_at": "2022-03-10T05:46:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369859",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:50'></a>Replying to [comment:49 gh-tkralphs]:
> Since we agree that passing data through a file rather than through memory is a legitimate way to keep the programs as separate (ala how PuLP communicates with Cbc)


No, we don't agree on that.



---

archive/issue_comments_369860.json:
```json
{
    "body": "<a id='comment:51'></a>Replying to [comment:49 gh-tkralphs]:\n> there is enough grey to cast doubt on almost any one fixed interpretation. \n\n\nI agree with you on that --- which is why I will avoid building software on top of brittle interpretations such as the one that you are trying to give in order to arrive at the desired result.",
    "created_at": "2022-03-10T05:50:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369860",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:51'></a>Replying to [comment:49 gh-tkralphs]:
> there is enough grey to cast doubt on almost any one fixed interpretation. 


I agree with you on that --- which is why I will avoid building software on top of brittle interpretations such as the one that you are trying to give in order to arrive at the desired result.



---

archive/issue_comments_369861.json:
```json
{
    "body": "<a id='comment:52'></a>Replying to [comment:49 gh-tkralphs]:\n> thereby taking away freedom\n\n\nThat's what COIN-OR did to users of `python-mip` by imposing the copyleft EPL license on it, replacing the previous permissive license -- which is the actual problem that I pointed out in comment:34 (and our email exchange in 2021).",
    "created_at": "2022-03-10T06:06:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369861",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:52'></a>Replying to [comment:49 gh-tkralphs]:
> thereby taking away freedom


That's what COIN-OR did to users of `python-mip` by imposing the copyleft EPL license on it, replacing the previous permissive license -- which is the actual problem that I pointed out in comment:34 (and our email exchange in 2021).



---

archive/issue_comments_369862.json:
```json
{
    "body": "<a id='comment:53'></a>Replying to [comment:49 gh-tkralphs]:\n> Why not use the LGPL?\n\n\nIn the case of Sage, obviously because of Wolfram, MapleSoft, and MathWorks.",
    "created_at": "2022-03-10T06:10:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369862",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:53'></a>Replying to [comment:49 gh-tkralphs]:
> Why not use the LGPL?


In the case of Sage, obviously because of Wolfram, MapleSoft, and MathWorks.



---

archive/issue_comments_369863.json:
```json
{
    "body": "<a id='comment:54'></a>Replying to [comment:49 gh-tkralphs]:\n> > the intention of the license is broader\n\n> \n> Sure, maybe, but that's not how it works. [...] But it is all a matter of opinion and the only opinion that really matters is judge and jury. \n\n\nSorry, Ted, this is all just wildly misguided. \n\nThe authors of software choose GPL as the license because they agree with the widely understood intended interpretation, in particular the strong protections that the GPL intends to provide. \n\nWhether the implementation by the license text holds up legally, is a secondary matter; the license is, so to say, merely an implementation detail. \n\nWhat matters for the open source / free software community is to respect the intent of the authors, as expressed by their choice of license. Saying that their choices are somehow not legitimate because the license is not legally enforceable, or to discuss circumvention techniques based on narrow interpretations of what linking is, all seems pretty out of place.",
    "created_at": "2022-03-10T08:13:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369863",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:54'></a>Replying to [comment:49 gh-tkralphs]:
> > the intention of the license is broader

> 
> Sure, maybe, but that's not how it works. [...] But it is all a matter of opinion and the only opinion that really matters is judge and jury. 


Sorry, Ted, this is all just wildly misguided. 

The authors of software choose GPL as the license because they agree with the widely understood intended interpretation, in particular the strong protections that the GPL intends to provide. 

Whether the implementation by the license text holds up legally, is a secondary matter; the license is, so to say, merely an implementation detail. 

What matters for the open source / free software community is to respect the intent of the authors, as expressed by their choice of license. Saying that their choices are somehow not legitimate because the license is not legally enforceable, or to discuss circumvention techniques based on narrow interpretations of what linking is, all seems pretty out of place.



---

archive/issue_comments_369864.json:
```json
{
    "body": "<a id='comment:55'></a>Replying to [comment:49 gh-tkralphs]:\n> Sorry, but I can't help ranting a bit more about the GPL :-). \n> \n> > the intention of the license is broader\n\n> \n> Sure, maybe, but that's not how it works. You can't take a vague and (what looks to me to be) unenforceable license\n\n\nIt's sad to see how well shameless anti-GPL propaganda works. GPL violations have been successfully\nenforced by US courts - as copyright violations (cf. Jacobsen v. Katzer), and even as contract violations (Artifex v. Hancom).",
    "created_at": "2022-03-11T11:38:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369864",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:55'></a>Replying to [comment:49 gh-tkralphs]:
> Sorry, but I can't help ranting a bit more about the GPL :-). 
> 
> > the intention of the license is broader

> 
> Sure, maybe, but that's not how it works. You can't take a vague and (what looks to me to be) unenforceable license


It's sad to see how well shameless anti-GPL propaganda works. GPL violations have been successfully
enforced by US courts - as copyright violations (cf. Jacobsen v. Katzer), and even as contract violations (Artifex v. Hancom).



---

archive/issue_comments_369865.json:
```json
{
    "body": "<a id='comment:56'></a>I am sorry, I didn't intend to offend anyone or spout what sounded like propaganda in a public forum. Since I have known Matthias IRL for many years and have deep respect for him and his work, I let my guard down a bit and probably wasn't careful enough in what I said. I can see how some of what I said could be interpreted as misguided and I apologize for that. However, there is a discussion worth having here if cooler heads can prevail and I think some of what I said was misconstrued. I am open to listening and moderating my point of view and would appreciate the chance to further engage, so consider this an open invitation to have a more in-depth discussion in another appropriate forum. I believe we are all reasonable people who all have valid points of view and can have a rational discourse on this complicated, nuanced topic.\n\nI certainly didn't mean to promote undermining or circumventing the intents of individual rights-holders, which should be respected, and I also didn't mean to denigrate anyone's individual choices or characterize them as illegitimate. I'm a passionate open source developer myself and have tried to do my own independent thinking about these issues over years of working with open source licenses. Yes, my views are biased by the frustration of seeing potential projects that seem to be an obvious \"good thing\" for the world and that I can't see as objectionable to any of the individual rights-holder stopped in their tracks by this license madness. I am frustrated by the divisiveness and the political agendas. I don't assume the FSF speaks for all those who adopt the GPL and would prefer to directly engage with the rights-holders of any code I intend to work with to understand their point of view and intents.\n\nAs a devoted open source developer over more than two decades, my only agenda is enabling  people to benefit from the free software I'm contributing to and to grow the community of engaged developers. It would be a win for COIN-OR to be able to partner with Sage. So naturally, I'm looking for a way through this license maze that will allow us to do good work together, of course without undermining the intents of any fellow open source developers. This particular scenario in which the goal is to use an EPL'd code to provide additional functionality within an overall GPL'd code seems harmless to me. The prohibition of this by the linking restriction seems like collateral damage more than something that is by design.\n\n> That's what COIN-OR did to users of python-mip by imposing the copyleft EPL license on it, replacing the previous permissive license -- which is the actual problem that I pointed out in comment:34 (and our email exchange in 2021).\n\n\nI did want to clarify that COIN-OR projects can use any OSI-approved license, including the GPL. Nothing has been imposed. Most have chosen the EPL, following IBM's original lead. Of course, this is partly because it is just easier in terms of license compatibility, but forcing the EPL on people is not the goal, it is just unfortunate side effect that looks to me like it derives from the GPL's prohibition against mixing licenses. The GPL and the EPL actually seem pretty similar in broad philosophy, the big difference being that the EPL is less restrictive on mixing packages under different licenses (yes, I know there are other differences that people view as important).  \n\n> I will avoid building software on top of brittle interpretations such as the one that you are trying to give in order to arrive at the desired result.\n\n\nThis encapsulates my frustration. Because of the threat of legal action by the FSF, developers with good intentions choose to avoid doing things that actually seem to make sense and that (I don't think) violate anyone else's intent. The FSF seems to want to strong-arm everyone into switching to the GPL. This just makes me bristle. I understand that it is exactly the threat of legal action that gives the GPL its strong protection, but  I think there are better ways of going about this that would not be so divisive or result in so much collateral damage. \n\nThere's a lot more to be said, but this is obviously not the right place to do it. The invitation to further discussion is open. I hope someone takes me up on it.",
    "created_at": "2022-03-12T20:43:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369865",
    "user": "https://github.com/tkralphs"
}
```

<a id='comment:56'></a>I am sorry, I didn't intend to offend anyone or spout what sounded like propaganda in a public forum. Since I have known Matthias IRL for many years and have deep respect for him and his work, I let my guard down a bit and probably wasn't careful enough in what I said. I can see how some of what I said could be interpreted as misguided and I apologize for that. However, there is a discussion worth having here if cooler heads can prevail and I think some of what I said was misconstrued. I am open to listening and moderating my point of view and would appreciate the chance to further engage, so consider this an open invitation to have a more in-depth discussion in another appropriate forum. I believe we are all reasonable people who all have valid points of view and can have a rational discourse on this complicated, nuanced topic.

I certainly didn't mean to promote undermining or circumventing the intents of individual rights-holders, which should be respected, and I also didn't mean to denigrate anyone's individual choices or characterize them as illegitimate. I'm a passionate open source developer myself and have tried to do my own independent thinking about these issues over years of working with open source licenses. Yes, my views are biased by the frustration of seeing potential projects that seem to be an obvious "good thing" for the world and that I can't see as objectionable to any of the individual rights-holder stopped in their tracks by this license madness. I am frustrated by the divisiveness and the political agendas. I don't assume the FSF speaks for all those who adopt the GPL and would prefer to directly engage with the rights-holders of any code I intend to work with to understand their point of view and intents.

As a devoted open source developer over more than two decades, my only agenda is enabling  people to benefit from the free software I'm contributing to and to grow the community of engaged developers. It would be a win for COIN-OR to be able to partner with Sage. So naturally, I'm looking for a way through this license maze that will allow us to do good work together, of course without undermining the intents of any fellow open source developers. This particular scenario in which the goal is to use an EPL'd code to provide additional functionality within an overall GPL'd code seems harmless to me. The prohibition of this by the linking restriction seems like collateral damage more than something that is by design.

> That's what COIN-OR did to users of python-mip by imposing the copyleft EPL license on it, replacing the previous permissive license -- which is the actual problem that I pointed out in comment:34 (and our email exchange in 2021).


I did want to clarify that COIN-OR projects can use any OSI-approved license, including the GPL. Nothing has been imposed. Most have chosen the EPL, following IBM's original lead. Of course, this is partly because it is just easier in terms of license compatibility, but forcing the EPL on people is not the goal, it is just unfortunate side effect that looks to me like it derives from the GPL's prohibition against mixing licenses. The GPL and the EPL actually seem pretty similar in broad philosophy, the big difference being that the EPL is less restrictive on mixing packages under different licenses (yes, I know there are other differences that people view as important).  

> I will avoid building software on top of brittle interpretations such as the one that you are trying to give in order to arrive at the desired result.


This encapsulates my frustration. Because of the threat of legal action by the FSF, developers with good intentions choose to avoid doing things that actually seem to make sense and that (I don't think) violate anyone else's intent. The FSF seems to want to strong-arm everyone into switching to the GPL. This just makes me bristle. I understand that it is exactly the threat of legal action that gives the GPL its strong protection, but  I think there are better ways of going about this that would not be so divisive or result in so much collateral damage. 

There's a lot more to be said, but this is obviously not the right place to do it. The invitation to further discussion is open. I hope someone takes me up on it.



---

archive/issue_comments_369866.json:
```json
{
    "body": "<a id='comment:57'></a>Replying to [comment:56 gh-tkralphs]:\n> I did want to clarify that COIN-OR projects can use any OSI-approved license, including the GPL. Nothing has been imposed. \n\n\nBut COIN-OR's embrace of `python-mip` **has** prompted the license change. \n\nThe old license was a standard permissive license that was compatible with everything: with EPL, with GPL, anything.\n\n> Most have chosen the EPL, following IBM's original lead. Of course, this is partly because it is just easier in terms of license compatibility\n\n\nYeah, no. This is the core of the damaging misinformation that is coming from the direction of COIN-OR.\n\n> unfortunate side effect that looks to me like it derives from the GPL's prohibition against mixing licenses.\n\n\nNo such thing, it is just specifically incompatible with EPL (without secondary license notice), for a specific technical reason. \n\nGPL is compatible with a wide range of licenses, in particular all the standard permissive licenses (MIT, BSD, Apache, ...).",
    "created_at": "2022-03-12T20:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369866",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:57'></a>Replying to [comment:56 gh-tkralphs]:
> I did want to clarify that COIN-OR projects can use any OSI-approved license, including the GPL. Nothing has been imposed. 


But COIN-OR's embrace of `python-mip` **has** prompted the license change. 

The old license was a standard permissive license that was compatible with everything: with EPL, with GPL, anything.

> Most have chosen the EPL, following IBM's original lead. Of course, this is partly because it is just easier in terms of license compatibility


Yeah, no. This is the core of the damaging misinformation that is coming from the direction of COIN-OR.

> unfortunate side effect that looks to me like it derives from the GPL's prohibition against mixing licenses.


No such thing, it is just specifically incompatible with EPL (without secondary license notice), for a specific technical reason. 

GPL is compatible with a wide range of licenses, in particular all the standard permissive licenses (MIT, BSD, Apache, ...).



---

archive/issue_comments_369867.json:
```json
{
    "body": "<a id='comment:58'></a>Replying to [comment:56 gh-tkralphs]:\n> I don't assume the FSF speaks for all those who adopt the GPL and would prefer to directly engage with the rights-holders of any code I intend to work with \n\n\nYes, it makes no sense to bring up the FSF at all. They published the license; they are not the copyright holder in any software that we are talking about.",
    "created_at": "2022-03-12T21:26:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369867",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:58'></a>Replying to [comment:56 gh-tkralphs]:
> I don't assume the FSF speaks for all those who adopt the GPL and would prefer to directly engage with the rights-holders of any code I intend to work with 


Yes, it makes no sense to bring up the FSF at all. They published the license; they are not the copyright holder in any software that we are talking about.



---

archive/issue_comments_369868.json:
```json
{
    "body": "<a id='comment:59'></a>Replying to [comment:56 gh-tkralphs]:\n> This particular scenario in which the goal is to use an EPL'd code to provide additional functionality within an overall GPL'd code seems harmless to me.\n\n\nYes, which is why we've had no problem in packaging CBC as an optional package that replaces the default solver backend with a better one. And there's also no problem in doing the same with CyLP (#33487).\n\nThe situation with `python-mip` is different, as I explained in comment:38: I was looking into adopting its API as the basis for our interface development, with the goal of using it for several backends. This intended closer integration is no-go with the incompatible license, so it is not going to happen.",
    "created_at": "2022-03-12T21:31:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369868",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:59'></a>Replying to [comment:56 gh-tkralphs]:
> This particular scenario in which the goal is to use an EPL'd code to provide additional functionality within an overall GPL'd code seems harmless to me.


Yes, which is why we've had no problem in packaging CBC as an optional package that replaces the default solver backend with a better one. And there's also no problem in doing the same with CyLP (#33487).

The situation with `python-mip` is different, as I explained in comment:38: I was looking into adopting its API as the basis for our interface development, with the goal of using it for several backends. This intended closer integration is no-go with the incompatible license, so it is not going to happen.



---

archive/issue_comments_369869.json:
```json
{
    "body": "<a id='comment:60'></a>Ted, I of course appreciate all the hard work and dedication that you have put in maintaining COIN-OR, which among other things preserves CBC, an important open source jewel. CBC/CLP/...'s license incompatibility with the wide range of GPL software is a sad fact regarding this legacy code, for which there is unfortunately no solution. \n\nBut COIN-OR would be well-advised to stop spreading this problem to new code.",
    "created_at": "2022-03-12T21:38:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369869",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:60'></a>Ted, I of course appreciate all the hard work and dedication that you have put in maintaining COIN-OR, which among other things preserves CBC, an important open source jewel. CBC/CLP/...'s license incompatibility with the wide range of GPL software is a sad fact regarding this legacy code, for which there is unfortunately no solution. 

But COIN-OR would be well-advised to stop spreading this problem to new code.



---

archive/issue_comments_369870.json:
```json
{
    "body": "<a id='comment:73'></a>Replying to [comment:56 gh-tkralphs]:\n> I am sorry, I didn't intend to offend anyone\n\n\nNo worries, you did mark it as `<rant>`, but the end tag is missing",
    "created_at": "2022-03-15T19:44:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26511#issuecomment-369870",
    "user": "https://github.com/mkoeppe"
}
```

<a id='comment:73'></a>Replying to [comment:56 gh-tkralphs]:
> I am sorry, I didn't intend to offend anyone


No worries, you did mark it as `<rant>`, but the end tag is missing



---

archive/issue_events_065892.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-28T01:23:49Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65892"
}
```



---

archive/issue_events_065893.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2022-05-28T01:23:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26511",
    "milestone": "sage-9.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26511#event-65893"
}
```
