# Issue 26552: interface glucose-syrup

archive/issues_026315.json:
```json
{
    "body": "As a follow-up of #26361 this ticket adds an interface to glucose-syrup (the parallel version of glucose):\n\nExample:\n\n```\nsage: solver = SAT('glucose-syrup')\nsage: solver.add_clause( (1,2,-3) )\nsage: solver()\n(None, True, False, False)\n```\n\nKeywords: thursdaysbdx\n\nBranch/Commit: cca5a2f02aa95ebdb6a7344b648977d271cc1742\n\nReviewer: S\u00e9bastien Labb\u00e9\n\nAuthor: Thierry Monteil\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26552\n\n",
    "closed_at": "2019-06-02T22:04:37Z",
    "created_at": "2018-10-25T14:05:12Z",
    "labels": [
        "component: packages: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "interface glucose-syrup",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26552",
    "user": "https://github.com/seblabbe"
}
```
As a follow-up of #26361 this ticket adds an interface to glucose-syrup (the parallel version of glucose):

Example:

```
sage: solver = SAT('glucose-syrup')
sage: solver.add_clause( (1,2,-3) )
sage: solver()
(None, True, False, False)
```

Keywords: thursdaysbdx

Branch/Commit: cca5a2f02aa95ebdb6a7344b648977d271cc1742

Reviewer: Sébastien Labbé

Author: Thierry Monteil

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26552





---

archive/issue_comments_510419.json:
```json
{
    "body": "<a id='comment:1'></a>I guess this is a duplicate of #26361.",
    "created_at": "2018-10-25T18:07:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510419",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:1'></a>I guess this is a duplicate of #26361.



---

archive/issue_comments_510420.json:
```json
{
    "body": "<a id='comment:2'></a>Merde, je l'avais pas vu passer. If you agree I will move my changes to your ticket on top of your commits.",
    "created_at": "2018-10-25T18:22:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510420",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:2'></a>Merde, je l'avais pas vu passer. If you agree I will move my changes to your ticket on top of your commits.



---

archive/issue_comments_510421.json:
```json
{
    "body": "<a id='comment:3'></a>Replying to [slabbe](#comment%3A2):\n> Merde, je l'avais pas vu passer. If you agree I will move my changes to your ticket on top of your commits.\n\n\nHonestly, i wanted to touch the rest of the code minimally (of course the existing interface has to be fixed), because i first want to write a better interface, so that we can call tons of solvers without having to write a dedicated class for each (i would like to have a kind of database of available solvers in a json file, and you can solve the same problem with various solvers without having to rewrite the clauses as it is the case currently, i mean the problem will be defined independently of the solver when possible). In particular, i did not add a class for glucose-syrup to avoid useless back-work.\n\nBy the way, note that your code will not work for problems with lots of variables, since in such cases glucose-syrup will split the solution into many lines, hence the glucose parser has to be adapted. If you really want that feature for the short term, i can add my parser for it (it is written already, so there is no work on my side).\n\nPlease tell me what are your global plans about so that we can synchronize our whishes (for example, i plan to add an `__iter__` method to loop over every solutions, etc).",
    "created_at": "2018-10-25T18:43:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510421",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:3'></a>Replying to [slabbe](#comment%3A2):
> Merde, je l'avais pas vu passer. If you agree I will move my changes to your ticket on top of your commits.


Honestly, i wanted to touch the rest of the code minimally (of course the existing interface has to be fixed), because i first want to write a better interface, so that we can call tons of solvers without having to write a dedicated class for each (i would like to have a kind of database of available solvers in a json file, and you can solve the same problem with various solvers without having to rewrite the clauses as it is the case currently, i mean the problem will be defined independently of the solver when possible). In particular, i did not add a class for glucose-syrup to avoid useless back-work.

By the way, note that your code will not work for problems with lots of variables, since in such cases glucose-syrup will split the solution into many lines, hence the glucose parser has to be adapted. If you really want that feature for the short term, i can add my parser for it (it is written already, so there is no work on my side).

Please tell me what are your global plans about so that we can synchronize our whishes (for example, i plan to add an `__iter__` method to loop over every solutions, etc).



---

archive/issue_comments_510422.json:
```json
{
    "body": "Changing commit from \"3477fd38ec69f24d6df7e521a297b0d4275aad8a\" to \"\"",
    "created_at": "2018-10-25T19:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510422",
    "user": "https://github.com/seblabbe"
}
```

Changing commit from "3477fd38ec69f24d6df7e521a297b0d4275aad8a" to ""



---

archive/issue_comments_510423.json:
```json
{
    "body": "Changing branch from \"u/slabbe/glucose\" to \"\"",
    "created_at": "2018-10-25T19:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510423",
    "user": "https://github.com/seblabbe"
}
```

Changing branch from "u/slabbe/glucose" to ""



---

archive/issue_comments_510424.json:
```json
{
    "body": "<a id='comment:4'></a>Updating the goal of this ticket because its original goal was already done in #26361",
    "created_at": "2018-10-25T19:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510424",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:4'></a>Updating the goal of this ticket because its original goal was already done in #26361



---

archive/issue_comments_510425.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,14 +1,8 @@\n-Glucose SAT solver webpage: https://www.labri.fr/perso/lsimon/glucose/\n-\n-Tarball: https://www.labri.fr/perso/lsimon/downloads/softwares/glucose-syrup-4.1.tgz\n-\n Example:\n \n ```\n-sage: solver = SAT('glucose')\n+sage: solver = SAT('glucose-syrup')\n sage: solver.add_clause( (1,2,-3) )\n sage: solver()\n (None, True, False, False)\n ```\n-\n-I need to change the `sage-spkg` script since the package name contains a `-`.\n``````\n",
    "created_at": "2018-10-25T19:37:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510425",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,14 +1,8 @@
-Glucose SAT solver webpage: https://www.labri.fr/perso/lsimon/glucose/
-
-Tarball: https://www.labri.fr/perso/lsimon/downloads/softwares/glucose-syrup-4.1.tgz
-
 Example:
 
 ```
-sage: solver = SAT('glucose')
+sage: solver = SAT('glucose-syrup')
 sage: solver.add_clause( (1,2,-3) )
 sage: solver()
 (None, True, False, False)
 ```
-
-I need to change the `sage-spkg` script since the package name contains a `-`.
``````




---

archive/issue_comments_510426.json:
```json
{
    "body": "<a id='comment:5'></a>Readding the interface to glucose-syrup (not working) because it writes an empty file to the output. I asked the question to Laurent Simon and I am waiting for an answer.\n\n---\nNew commits:",
    "created_at": "2018-10-25T19:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510426",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:5'></a>Readding the interface to glucose-syrup (not working) because it writes an empty file to the output. I asked the question to Laurent Simon and I am waiting for an answer.

---
New commits:



---

archive/issue_comments_510427.json:
```json
{
    "body": "Changing author from \"\" to \"S\u00e9bastien Labb\u00e9\"",
    "created_at": "2018-10-25T19:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510427",
    "user": "https://github.com/seblabbe"
}
```

Changing author from "" to "Sébastien Labbé"



---

archive/issue_comments_510428.json:
```json
{
    "body": "Changing branch from \"\" to \"u/slabbe/26552\"",
    "created_at": "2018-10-25T19:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510428",
    "user": "https://github.com/seblabbe"
}
```

Changing branch from "" to "u/slabbe/26552"



---

archive/issue_comments_510429.json:
```json
{
    "body": "Changing commit from \"\" to \"45645d1a7415511508df07f3ab2d88d2df5f6bcd\"",
    "created_at": "2018-10-25T19:39:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510429",
    "user": "https://github.com/seblabbe"
}
```

Changing commit from "" to "45645d1a7415511508df07f3ab2d88d2df5f6bcd"



---

archive/issue_comments_510430.json:
```json
{
    "body": "<a id='comment:6'></a>Replying to [tmonteil](#comment%3A3):\n> Please tell me what are your global plans about so that we can synchronize our whishes (for example, i plan to add an `__iter__` method to loop over every solutions, etc).\n\n\nAll my code is online now either here or on #26361. I also want a global interface to exist. This is why I added the possibility to `SAT('glucose')` in #26361 (if you agree, and if this does not interfere with your global plan). Also, this is why I am adding the possibility to `SAT('glucose-syrup')` here in this ticket.\n\nIs the commit `45645d1` a problem for the goal your are aiming?",
    "created_at": "2018-10-25T19:43:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510430",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:6'></a>Replying to [tmonteil](#comment%3A3):
> Please tell me what are your global plans about so that we can synchronize our whishes (for example, i plan to add an `__iter__` method to loop over every solutions, etc).


All my code is online now either here or on #26361. I also want a global interface to exist. This is why I added the possibility to `SAT('glucose')` in #26361 (if you agree, and if this does not interfere with your global plan). Also, this is why I am adding the possibility to `SAT('glucose-syrup')` here in this ticket.

Is the commit `45645d1` a problem for the goal your are aiming?



---

archive/issue_comments_510431.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n+As a follow-up of #26361 this ticket adds an interface to glucose-syrup (the parallel version of glucose):\n+\n Example:\n \n ```\n``````\n",
    "created_at": "2018-10-25T20:06:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510431",
    "user": "https://github.com/seblabbe"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
+As a follow-up of #26361 this ticket adds an interface to glucose-syrup (the parallel version of glucose):
+
 Example:
 
 ```
``````




---

archive/issue_comments_510432.json:
```json
{
    "body": "Changing commit from \"45645d1a7415511508df07f3ab2d88d2df5f6bcd\" to \"4408ea56b837288a801380210192c2b274bb8b86\"",
    "created_at": "2018-10-25T20:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510432",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "45645d1a7415511508df07f3ab2d88d2df5f6bcd" to "4408ea56b837288a801380210192c2b274bb8b86"



---

archive/issue_comments_510433.json:
```json
{
    "body": "<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-10-25T20:07:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510433",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_510434.json:
```json
{
    "body": "<a id='comment:9'></a>updated commit message (26361->26552)",
    "created_at": "2018-10-25T20:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510434",
    "user": "https://github.com/seblabbe"
}
```

<a id='comment:9'></a>updated commit message (26361->26552)



---

archive/issue_comments_510435.json:
```json
{
    "body": "Changing keywords from \"\" to \"thursdaysbdx\".",
    "created_at": "2018-11-08T09:12:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510435",
    "user": "https://github.com/seblabbe"
}
```

Changing keywords from "" to "thursdaysbdx".



---

archive/issue_comments_510436.json:
```json
{
    "body": "Changing branch from \"u/slabbe/26552\" to \"u/tmonteil/26552\"",
    "created_at": "2019-05-25T21:58:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510436",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing branch from "u/slabbe/26552" to "u/tmonteil/26552"



---

archive/issue_comments_510437.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-05-26T15:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510437",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_510438.json:
```json
{
    "body": "Changing author from \"S\u00e9bastien Labb\u00e9\" to \"S\u00e9bastien Labb\u00e9, Thierry Monteil\"",
    "created_at": "2019-05-26T15:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510438",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing author from "Sébastien Labbé" to "Sébastien Labbé, Thierry Monteil"



---

archive/issue_comments_510439.json:
```json
{
    "body": "<a id='comment:12'></a>New commits:",
    "created_at": "2019-05-26T15:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510439",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:12'></a>New commits:



---

archive/issue_comments_510440.json:
```json
{
    "body": "Changing commit from \"4408ea56b837288a801380210192c2b274bb8b86\" to \"dc5742a5b14c151cc72c0c4226f419974563c718\"",
    "created_at": "2019-05-26T15:16:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510440",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

Changing commit from "4408ea56b837288a801380210192c2b274bb8b86" to "dc5742a5b14c151cc72c0c4226f419974563c718"



---

archive/issue_comments_510441.json:
```json
{
    "body": "<a id='comment:13'></a>please fix the python3-incompatible code, see patchbot plugin reports",
    "created_at": "2019-05-26T16:22:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510441",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:13'></a>please fix the python3-incompatible code, see patchbot plugin reports



---

archive/issue_comments_510442.json:
```json
{
    "body": "Changing commit from \"dc5742a5b14c151cc72c0c4226f419974563c718\" to \"cca5a2f02aa95ebdb6a7344b648977d271cc1742\"",
    "created_at": "2019-05-26T19:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510442",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "dc5742a5b14c151cc72c0c4226f419974563c718" to "cca5a2f02aa95ebdb6a7344b648977d271cc1742"



---

archive/issue_comments_510443.json:
```json
{
    "body": "<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-05-26T19:32:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510443",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:14'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_510444.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [chapoton](#comment%3A13):\n> please fix the python3-incompatible code, see patchbot plugin reports\n\n\nDone. Actually, there was no real reason to catch (and hide) an error that should not appear.",
    "created_at": "2019-05-26T19:34:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510444",
    "user": "https://trac.sagemath.org/admin/accounts/users/tmonteil"
}
```

<a id='comment:15'></a>Replying to [chapoton](#comment%3A13):
> please fix the python3-incompatible code, see patchbot plugin reports


Done. Actually, there was no real reason to catch (and hide) an error that should not appear.



---

archive/issue_comments_510445.json:
```json
{
    "body": "Changing reviewer from \"\" to \"S\u00e9bastien Labb\u00e9\"",
    "created_at": "2019-05-28T18:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510445",
    "user": "https://github.com/seblabbe"
}
```

Changing reviewer from "" to "Sébastien Labbé"



---

archive/issue_comments_510446.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-05-28T18:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510446",
    "user": "https://github.com/seblabbe"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_510447.json:
```json
{
    "body": "Changing author from \"S\u00e9bastien Labb\u00e9, Thierry Monteil\" to \"Thierry Monteil\"",
    "created_at": "2019-05-28T18:50:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510447",
    "user": "https://github.com/seblabbe"
}
```

Changing author from "Sébastien Labbé, Thierry Monteil" to "Thierry Monteil"



---

archive/issue_events_065952.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-05-28T19:33:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26552#event-65952"
}
```



---

archive/issue_comments_510448.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-06-02T22:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510448",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_510449.json:
```json
{
    "body": "Changing branch from \"u/tmonteil/26552\" to \"cca5a2f02aa95ebdb6a7344b648977d271cc1742\"",
    "created_at": "2019-06-02T22:04:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26552#issuecomment-510449",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/tmonteil/26552" to "cca5a2f02aa95ebdb6a7344b648977d271cc1742"



---

archive/issue_events_065953.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-06-02T22:04:37Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26552",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26552#event-65953"
}
```
