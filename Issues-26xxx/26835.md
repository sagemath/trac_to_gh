# Issue 26835: Failing introspection with wildcards on matrices / remove M.I

archive/issues_026598.json:
```json
{
    "assignees": [],
    "body": "Example:\n\n```\n    sage: M = random_matrix(QQ, 3,4)\n    sage: M.*row*?\n    ArithmeticError\n    ...\n    sage.matrix.matrix_rational_dense.Matrix_rational_dense.inverse (build/cythonized/sage/matrix/matrix_rational_dense.c:8519)()\n    717         \"\"\"\n    718         if self._nrows != self._ncols:\n--> 719             raise ArithmeticError(\"self must be a square matrix\")\n    720 \n    721         if self._nrows == 0:\n\n    ArithmeticError: self must be a square matrix\n```\n\nAnalysis: M has an attribute I which is supposed to evaluate to the inverse of M. When ipython does its introspection to recover the list of attributes of M with `M.*row*?`, that attribute is evaluated. Which triggers an error since M is not square.\n\nProposed solution: remove `M.I` that was deprecated two years ago in #20904 .\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26835_\n\n",
    "closed_at": "2018-12-05T13:18:20Z",
    "created_at": "2018-12-05T08:50:37Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Failing introspection with wildcards on matrices / remove M.I",
    "type": "issue",
    "updated_at": "2018-12-05T13:18:20Z",
    "url": "https://github.com/sagemath/sage/issues/26835",
    "user": "https://github.com/nthiery"
}
```
Example:

```
    sage: M = random_matrix(QQ, 3,4)
    sage: M.*row*?
    ArithmeticError
    ...
    sage.matrix.matrix_rational_dense.Matrix_rational_dense.inverse (build/cythonized/sage/matrix/matrix_rational_dense.c:8519)()
    717         """
    718         if self._nrows != self._ncols:
--> 719             raise ArithmeticError("self must be a square matrix")
    720 
    721         if self._nrows == 0:

    ArithmeticError: self must be a square matrix
```

Analysis: M has an attribute I which is supposed to evaluate to the inverse of M. When ipython does its introspection to recover the list of attributes of M with `M.*row*?`, that attribute is evaluated. Which triggers an error since M is not square.

Proposed solution: remove `M.I` that was deprecated two years ago in #20904 .

_Issue created by migration from https://trac.sagemath.org/ticket/26835_





---

archive/issue_events_350610.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2018-12-05T08:50:37Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26835#event-350610"
}
```



---

archive/issue_events_350611.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2018-12-05T08:50:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20linear%20algebra",
    "label_color": "0000ff",
    "label_name": "component: linear algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26835#event-350611"
}
```



---

archive/issue_events_350612.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2018-12-05T08:50:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26835#event-350612"
}
```



---

archive/issue_events_350613.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2018-12-05T08:50:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26835#event-350613"
}
```



---

archive/issue_comments_415997.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nM.I was actually removed in  #26647. Testing now whether introspection works. If yes, I'll close the ticket as resolved.",
    "created_at": "2018-12-05T08:55:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26835#issuecomment-415997",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:1'>Comment 1:</a>
M.I was actually removed in  #26647. Testing now whether introspection works. If yes, I'll close the ticket as resolved.



---

archive/issue_comments_415998.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\n\n```\nsage: M = random_matrix(QQ, 3,4)\nsage: M.*row*?\nM.add_multiple_of_row\nM.automorphisms_of_rows_and_columns\nM.delete_rows\nM.dense_rows\nM.linear_combination_of_rows\nM.matrix_from_rows\n```\n\nSo this works now. Cool!",
    "created_at": "2018-12-05T13:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26835#issuecomment-415998",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:2'>Comment 2:</a>

```
sage: M = random_matrix(QQ, 3,4)
sage: M.*row*?
M.add_multiple_of_row
M.automorphisms_of_rows_and_columns
M.delete_rows
M.dense_rows
M.linear_combination_of_rows
M.matrix_from_rows
```

So this works now. Cool!



---

archive/issue_events_350614.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2018-12-05T13:18:20Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26835",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26835#event-350614"
}
```
