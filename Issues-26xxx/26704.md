# Issue 26704: Py3 : database.oeis  implement __getitem__ to replace __getslice__

archive/issues_026467.json:
```json
{
    "body": "Fix database.oeis module for python3 : \n- Remove a useless test\n- Define `__getitem__` method with for `FancyTuple` object. It replace `__getslice__` method in python3.\nAs `__getslice__` is still defined in tuple in python 2.7 we still need a `__getslice__` method in `FancyTuple` to override it.\n\n`__getslice__` is deprecated since python 2.6 and removed in python 3.x\n\nKeywords: thursdaysbdx\n\nBranch/Commit: 7d03e293f5dc32578d9ec35ac9b24135ea3a162b\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton\n\nAuthor: Vincent Klein\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26704\n\n",
    "closed_at": "2018-11-23T21:41:54Z",
    "created_at": "2018-11-14T15:29:57Z",
    "labels": [
        "component: python3"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "Py3 : database.oeis  implement __getitem__ to replace __getslice__",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26704",
    "user": "https://github.com/vinklein"
}
```
Fix database.oeis module for python3 : 
- Remove a useless test
- Define `__getitem__` method with for `FancyTuple` object. It replace `__getslice__` method in python3.
As `__getslice__` is still defined in tuple in python 2.7 we still need a `__getslice__` method in `FancyTuple` to override it.

`__getslice__` is deprecated since python 2.6 and removed in python 3.x

Keywords: thursdaysbdx

Branch/Commit: 7d03e293f5dc32578d9ec35ac9b24135ea3a162b

Reviewer: Frédéric Chapoton

Author: Vincent Klein

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26704





---

archive/issue_comments_396515.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Fix database.oeis module for python3 : \n - Remove an useless test\n-- Replace __getslice__ method with __getitem__.\n-__getslice__ is deprecated since python 2.6 and removed in python 3.x\n+- Replace \\`__getslice__\\` method with \\`__getitem__\\` for \\`FancyTuple\\` object.\n+\\`__getslice__\\` is deprecated since python 2.6 and removed in python 3.x\n \n Author: Vincent Klein\n \n```\n",
    "created_at": "2018-11-14T15:30:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396515",
    "user": "https://github.com/vinklein"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Fix database.oeis module for python3 : 
 - Remove an useless test
-- Replace __getslice__ method with __getitem__.
-__getslice__ is deprecated since python 2.6 and removed in python 3.x
+- Replace \`__getslice__\` method with \`__getitem__\` for \`FancyTuple\` object.
+\`__getslice__\` is deprecated since python 2.6 and removed in python 3.x
 
 Author: Vincent Klein
 
```




---

archive/issue_comments_396516.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-14T15:57:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396516",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396517.json:
```json
{
    "body": "Description changed:\n```diff\n--- \n+++ \n@@ -1,4 +1,9 @@\n+Fix database.oeis module for python3 : \n+- Remove a useless test\n+- Define \\`__getitem__\\` method with for \\`FancyTuple\\` object. It replace \\`__getslice__\\` method in python3.\n+As \\`__getslice__\\` is still defined in tuple in python 2.7 we still need a \\`__getslice__\\` method in \\`FancyTuple\\` to override it.\n \n+\\`__getslice__\\` is deprecated since python 2.6 and removed in python 3.x\n \n Author: Vincent Klein\n \n```\n",
    "created_at": "2018-11-14T16:02:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396517",
    "user": "https://github.com/vinklein"
}
```

Description changed:
```diff
--- 
+++ 
@@ -1,4 +1,9 @@
+Fix database.oeis module for python3 : 
+- Remove a useless test
+- Define \`__getitem__\` method with for \`FancyTuple\` object. It replace \`__getslice__\` method in python3.
+As \`__getslice__\` is still defined in tuple in python 2.7 we still need a \`__getslice__\` method in \`FancyTuple\` to override it.
 
+\`__getslice__\` is deprecated since python 2.6 and removed in python 3.x
 
 Author: Vincent Klein
 
```




---

archive/issue_comments_396518.json:
```json
{
    "body": "<a id='comment:6'></a>New commits:",
    "created_at": "2018-11-14T16:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396518",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:6'></a>New commits:



---

archive/issue_comments_396519.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-14T16:06:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396519",
    "user": "https://github.com/vinklein"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_396520.json:
```json
{
    "body": "<a id='comment:7'></a>Please add documentation and doctests to the new `__getitem__` method.",
    "created_at": "2018-11-21T20:48:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396520",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:7'></a>Please add documentation and doctests to the new `__getitem__` method.



---

archive/issue_comments_396521.json:
```json
{
    "body": "<a id='comment:8'></a>It would be the same doctests as those of `__getslice__`. \\\\\nWhat do you think is the most appropriate ? :\n1. Leave as it is.\n2. Add documentation.\n3. Add documentation and doctests and then have the sames tests two times.",
    "created_at": "2018-11-22T07:30:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396521",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:8'></a>It would be the same doctests as those of `__getslice__`. \\
What do you think is the most appropriate ? :
1. Leave as it is.
2. Add documentation.
3. Add documentation and doctests and then have the sames tests two times.



---

archive/issue_comments_396522.json:
```json
{
    "body": "<a id='comment:9'></a>either duplicate the doc or add a doctest for when the argument is not a slice but just one element",
    "created_at": "2018-11-22T08:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396522",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'></a>either duplicate the doc or add a doctest for when the argument is not a slice but just one element



---

archive/issue_comments_396523.json:
```json
{
    "body": "<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2018-11-22T09:45:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396523",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_396524.json:
```json
{
    "body": "<a id='comment:11'></a>Replying to [comment:9 chapoton]:\n> either duplicate the doc or add a doctest for when the argument is not a slice but just one element\n\n\nI ve done the second one.",
    "created_at": "2018-11-22T09:48:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396524",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:11'></a>Replying to [comment:9 chapoton]:
> either duplicate the doc or add a doctest for when the argument is not a slice but just one element


I ve done the second one.



---

archive/issue_comments_396525.json:
```json
{
    "body": "<a id='comment:12'></a>manque une ligne vide en dessous de TESTS::",
    "created_at": "2018-11-22T09:55:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396525",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:12'></a>manque une ligne vide en dessous de TESTS::



---

archive/issue_comments_396526.json:
```json
{
    "body": "<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-22T09:58:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396526",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396527.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:12 chapoton]:\n> manque une ligne vide en dessous de TESTS::\n\nMy bad.\\\\\n\nAnd my newest tests won't work in py2 as `sage: ft[0]` return `'\\xc3\\xa9'`.",
    "created_at": "2018-11-22T10:02:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396527",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:14'></a>Replying to [comment:12 chapoton]:
> manque une ligne vide en dessous de TESTS::

My bad.\\

And my newest tests won't work in py2 as `sage: ft[0]` return `'\xc3\xa9'`.



---

archive/issue_comments_396528.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-11-22T10:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396528",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_396529.json:
```json
{
    "body": "<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-22T10:26:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396529",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:16'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_396530.json:
```json
{
    "body": "Changing keywords from \"\" to \"thursdaysbdx\".",
    "created_at": "2018-11-22T10:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396530",
    "user": "https://github.com/vinklein"
}
```

Changing keywords from "" to "thursdaysbdx".



---

archive/issue_comments_396531.json:
```json
{
    "body": "<a id='comment:17'></a>Fixed",
    "created_at": "2018-11-22T10:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396531",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:17'></a>Fixed



---

archive/issue_comments_396532.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-11-22T10:28:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396532",
    "user": "https://github.com/vinklein"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_396533.json:
```json
{
    "body": "Changing status from positive_review to needs_review.",
    "created_at": "2018-11-22T10:48:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396533",
    "user": "https://github.com/vinklein"
}
```

Changing status from positive_review to needs_review.



---

archive/issue_comments_396534.json:
```json
{
    "body": "<a id='comment:19'></a>ok, thanks",
    "created_at": "2018-11-22T10:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396534",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:19'></a>ok, thanks



---

archive/issue_comments_396535.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-22T10:53:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396535",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_066159.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-23T21:41:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26704#event-66159"
}
```



---

archive/issue_comments_396536.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-23T21:41:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26704",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26704#issuecomment-396536",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
