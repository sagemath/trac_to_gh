# Issue 26225: py3: change the repr of Finite families

archive/issues_025988.json:
```json
{
    "assignees": [],
    "body": "by pprinting their dict (sort by key)\n\nBranch/Commit: **[`239f345`](https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26225_\n\n",
    "closed_at": "2018-09-13T19:25:22Z",
    "created_at": "2018-09-08T12:27:11Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: change the repr of Finite families",
    "type": "issue",
    "updated_at": "2018-09-13T19:25:22Z",
    "url": "https://github.com/sagemath/sage/issues/26225",
    "user": "https://github.com/fchapoton"
}
```
by pprinting their dict (sort by key)

Branch/Commit: **[`239f345`](https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/26225_





---

archive/issue_events_358638.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-09-08T12:27:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358638"
}
```



---

archive/issue_events_358639.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-09-08T12:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358639"
}
```



---

archive/issue_events_358640.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-09-08T12:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358640"
}
```



---

archive/issue_events_358641.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-09-08T12:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358641"
}
```



---

archive/issue_comments_404165.json:
```json
{
    "body": "Commit: **[`ab5fe56`](https://github.com/sagemath/sagetrac-mirror/commit/ab5fe56d11e3123459320fba657b52a5a1e4f984)**",
    "created_at": "2018-09-08T12:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404165",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`ab5fe56`](https://github.com/sagemath/sagetrac-mirror/commit/ab5fe56d11e3123459320fba657b52a5a1e4f984)**



---

archive/issue_events_358642.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-09-08T12:27:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358642"
}
```



---

archive/issue_comments_404166.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ab5fe56d11e3123459320fba657b52a5a1e4f984\"><code>ab5fe56</code></a></td><td><code>py3: change the repr of Finite family (pprint their dict)</code></td></tr></table>\n",
    "created_at": "2018-09-08T12:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404166",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ab5fe56d11e3123459320fba657b52a5a1e4f984"><code>ab5fe56</code></a></td><td><code>py3: change the repr of Finite family (pprint their dict)</code></td></tr></table>




---

archive/issue_comments_404167.json:
```json
{
    "body": "Branch: **[u/chapoton/26225](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26225)**",
    "created_at": "2018-09-08T12:27:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404167",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/26225](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26225)**



---

archive/issue_comments_404168.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d6f75609daa0f637674dd99035344dd76f20a3e3\"><code>d6f7560</code></a></td><td><code>fixing some doctests</code></td></tr></table>\n",
    "created_at": "2018-09-08T17:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404168",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d6f75609daa0f637674dd99035344dd76f20a3e3"><code>d6f7560</code></a></td><td><code>fixing some doctests</code></td></tr></table>




---

archive/issue_comments_404169.json:
```json
{
    "body": "Changed commit from **[`ab5fe56`](https://github.com/sagemath/sagetrac-mirror/commit/ab5fe56d11e3123459320fba657b52a5a1e4f984)** to **[`d6f7560`](https://github.com/sagemath/sagetrac-mirror/commit/d6f75609daa0f637674dd99035344dd76f20a3e3)**",
    "created_at": "2018-09-08T17:06:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404169",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`ab5fe56`](https://github.com/sagemath/sagetrac-mirror/commit/ab5fe56d11e3123459320fba657b52a5a1e4f984)** to **[`d6f7560`](https://github.com/sagemath/sagetrac-mirror/commit/d6f75609daa0f637674dd99035344dd76f20a3e3)**



---

archive/issue_comments_404170.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nGeneral +1 to this change, but see comment 4 of #24438. In particular, having a `_keys` means the iteration order for `FiniteFamily` is fixed, and I think the repr should reflect that.",
    "created_at": "2018-09-08T21:30:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404170",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:3" align="right">comment:3</div>

General +1 to this change, but see comment 4 of #24438. In particular, having a `_keys` means the iteration order for `FiniteFamily` is fixed, and I think the repr should reflect that.



---

archive/issue_comments_404171.json:
```json
{
    "body": "Changed commit from **[`d6f7560`](https://github.com/sagemath/sagetrac-mirror/commit/d6f75609daa0f637674dd99035344dd76f20a3e3)** to **[`5fd1450`](https://github.com/sagemath/sagetrac-mirror/commit/5fd14505b4c8a23ef1edaa936cb1c096ec08fe00)**",
    "created_at": "2018-09-11T08:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404171",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`d6f7560`](https://github.com/sagemath/sagetrac-mirror/commit/d6f75609daa0f637674dd99035344dd76f20a3e3)** to **[`5fd1450`](https://github.com/sagemath/sagetrac-mirror/commit/5fd14505b4c8a23ef1edaa936cb1c096ec08fe00)**



---

archive/issue_comments_404172.json:
```json
{
    "body": "<div id=\"comment:4\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fd14505b4c8a23ef1edaa936cb1c096ec08fe00\"><code>5fd1450</code></a></td><td><code>trac 26225 better `_repr_` for families, using _keys if not None</code></td></tr></table>\n",
    "created_at": "2018-09-11T08:42:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404172",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:4"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fd14505b4c8a23ef1edaa936cb1c096ec08fe00"><code>5fd1450</code></a></td><td><code>trac 26225 better `_repr_` for families, using _keys if not None</code></td></tr></table>




---

archive/issue_comments_404173.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8fd4354935dfba4de03ceefdbd3176d24636991f\"><code>8fd4354</code></a></td><td><code>trac 26225 fixing doctests</code></td></tr></table>\n",
    "created_at": "2018-09-11T11:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404173",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8fd4354935dfba4de03ceefdbd3176d24636991f"><code>8fd4354</code></a></td><td><code>trac 26225 fixing doctests</code></td></tr></table>




---

archive/issue_comments_404174.json:
```json
{
    "body": "Changed commit from **[`5fd1450`](https://github.com/sagemath/sagetrac-mirror/commit/5fd14505b4c8a23ef1edaa936cb1c096ec08fe00)** to **[`8fd4354`](https://github.com/sagemath/sagetrac-mirror/commit/8fd4354935dfba4de03ceefdbd3176d24636991f)**",
    "created_at": "2018-09-11T11:35:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404174",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5fd1450`](https://github.com/sagemath/sagetrac-mirror/commit/5fd14505b4c8a23ef1edaa936cb1c096ec08fe00)** to **[`8fd4354`](https://github.com/sagemath/sagetrac-mirror/commit/8fd4354935dfba4de03ceefdbd3176d24636991f)**



---

archive/issue_comments_404175.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n\n```diff\ndiff --git a/src/sage/sets/family.py b/src/sage/sets/family.py\nindex db94e7e..a780518 100644\n--- a/src/sage/sets/family.py\n+++ b/src/sage/sets/family.py\n@@ -35,6 +35,7 @@ Check :trac:`12482` (shall be run in a fresh session)::\n #*****************************************************************************\n import types\n from copy import copy\n+from pprint import pformat, saferepr\n \n from six import itervalues\n from six.moves import range\n@@ -659,8 +660,21 @@ class FiniteFamily(AbstractFamily):\n             sage: from sage.sets.family import FiniteFamily\n             sage: FiniteFamily({3: 'a'}) # indirect doctest\n             Finite family {3: 'a'}\n+\n+            sage: FiniteFamily({3: 'a', 4: 'b'}) # indirect doctest\n+            Finite family {3: 'a', 4: 'b'}\n+\n+            sage: FiniteFamily({3: 'a', 4: 'b'}, keys=[4,3]) # indirect doctest\n+            Finite family {4: 'b', 3: 'a'}\n         \"\"\"\n-        return \"Finite family %s\"%self._dictionary\n+        if self._keys is None:\n+            d = ' '.join(pformat(self._dictionary).splitlines())\n+            return \"Finite family %s\" % d\n+\n+        d = ', '.join('{}: {}'.format(saferepr(key),\n+                                      saferepr(self._dictionary[key]))\n+                      for key in self._keys)\n+        return 'Finite family {{{}}}'.format(d)\n```\n\nYou could avoid some duplication (and inconsistency in string formatting methods) by writing this like:\n\n```python\nif self._keys:\n    d = ', '.join('{}: {}'.format(saferepr(key),\n                                  saferepr(self._dictionary[key]))\n                  for key in self._keys)\nelse:\n    d = ' '.join(pformat(self._dictionary)[1:-1].splitlines())\n\nreturn 'Finite family {{{}}}'.format(d)\n```\n\nor similar.\n\n\nTravis, does this address the problems with #24438?  I haven't checked carefully.  Doesn't this version mean that elements not in the `keys` argument won't be displayed at all?  Is that desirable?",
    "created_at": "2018-09-11T13:18:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404175",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>


```diff
diff --git a/src/sage/sets/family.py b/src/sage/sets/family.py
index db94e7e..a780518 100644
--- a/src/sage/sets/family.py
+++ b/src/sage/sets/family.py
@@ -35,6 +35,7 @@ Check :trac:`12482` (shall be run in a fresh session)::
 #*****************************************************************************
 import types
 from copy import copy
+from pprint import pformat, saferepr
 
 from six import itervalues
 from six.moves import range
@@ -659,8 +660,21 @@ class FiniteFamily(AbstractFamily):
             sage: from sage.sets.family import FiniteFamily
             sage: FiniteFamily({3: 'a'}) # indirect doctest
             Finite family {3: 'a'}
+
+            sage: FiniteFamily({3: 'a', 4: 'b'}) # indirect doctest
+            Finite family {3: 'a', 4: 'b'}
+
+            sage: FiniteFamily({3: 'a', 4: 'b'}, keys=[4,3]) # indirect doctest
+            Finite family {4: 'b', 3: 'a'}
         """
-        return "Finite family %s"%self._dictionary
+        if self._keys is None:
+            d = ' '.join(pformat(self._dictionary).splitlines())
+            return "Finite family %s" % d
+
+        d = ', '.join('{}: {}'.format(saferepr(key),
+                                      saferepr(self._dictionary[key]))
+                      for key in self._keys)
+        return 'Finite family {{{}}}'.format(d)
```

You could avoid some duplication (and inconsistency in string formatting methods) by writing this like:

```python
if self._keys:
    d = ', '.join('{}: {}'.format(saferepr(key),
                                  saferepr(self._dictionary[key]))
                  for key in self._keys)
else:
    d = ' '.join(pformat(self._dictionary)[1:-1].splitlines())

return 'Finite family {{{}}}'.format(d)
```

or similar.


Travis, does this address the problems with #24438?  I haven't checked carefully.  Doesn't this version mean that elements not in the `keys` argument won't be displayed at all?  Is that desirable?



---

archive/issue_comments_404176.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nMy understanding is this ticket would be another way to fix #24438, but a nuance may be lost on me. It should be that `keys` should match the keys of the dict object used in the construction (well, more generally, `keys` is treated as the input to a function -- equivalently, a sequence indexed by `keys` -- so things not in `keys` should not be displayed).",
    "created_at": "2018-09-11T13:28:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404176",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

My understanding is this ticket would be another way to fix #24438, but a nuance may be lost on me. It should be that `keys` should match the keys of the dict object used in the construction (well, more generally, `keys` is treated as the input to a function -- equivalently, a sequence indexed by `keys` -- so things not in `keys` should not be displayed).



---

archive/issue_comments_404177.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nOk.  Other than my above code style suggestion this is better then.",
    "created_at": "2018-09-11T13:44:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404177",
    "user": "https://github.com/embray"
}
```

<div id="comment:8" align="right">comment:8</div>

Ok.  Other than my above code style suggestion this is better then.



---

archive/issue_comments_404178.json:
```json
{
    "body": "Changed commit from **[`8fd4354`](https://github.com/sagemath/sagetrac-mirror/commit/8fd4354935dfba4de03ceefdbd3176d24636991f)** to **[`10a2126`](https://github.com/sagemath/sagetrac-mirror/commit/10a2126b4661c7f0adf1da6c0b1aae5a31a2a7df)**",
    "created_at": "2018-09-11T13:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404178",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`8fd4354`](https://github.com/sagemath/sagetrac-mirror/commit/8fd4354935dfba4de03ceefdbd3176d24636991f)** to **[`10a2126`](https://github.com/sagemath/sagetrac-mirror/commit/10a2126b4661c7f0adf1da6c0b1aae5a31a2a7df)**



---

archive/issue_comments_404179.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/10a2126b4661c7f0adf1da6c0b1aae5a31a2a7df\"><code>10a2126</code></a></td><td><code>coding style</code></td></tr></table>\n",
    "created_at": "2018-09-11T13:55:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404179",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/10a2126b4661c7f0adf1da6c0b1aae5a31a2a7df"><code>10a2126</code></a></td><td><code>coding style</code></td></tr></table>




---

archive/issue_comments_404180.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThere is an annoying doctest failure in \n\n```\nsrc/sage/algebras/lie_algebras/classical_lie_algebra.py\n```\nwhich is not clear to me. The order seems to change from one machine to another..",
    "created_at": "2018-09-11T13:58:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404180",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:10" align="right">comment:10</div>

There is an annoying doctest failure in 

```
src/sage/algebras/lie_algebras/classical_lie_algebra.py
```
which is not clear to me. The order seems to change from one machine to another..



---

archive/issue_comments_404181.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nSo it has to do with the fact that roots and coroots are incomparable, hence `sorted` is random but the underlying dict is small enough that it doesn't visibly suffer from this. What we should do is just add a fixed set of keys. So for `str_keys`, it would be\n\n```\nkeys = (['e{}'.format(i) for i in index_set] + ['f{}'.format(i) for i in index_set]\n        + ['h{}'.format(i) for i in index_set])\n```\nand the other case would be\n\n```\nkeys = ([alpha[i] for i in index_set] + [-alpha[i] for i in index_set]\n        + [alphacheck[i] for i in index_set])\n```\nand then\n\n```\nFamily(keys, ret.__getitem__)\n```",
    "created_at": "2018-09-11T14:06:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404181",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

So it has to do with the fact that roots and coroots are incomparable, hence `sorted` is random but the underlying dict is small enough that it doesn't visibly suffer from this. What we should do is just add a fixed set of keys. So for `str_keys`, it would be

```
keys = (['e{}'.format(i) for i in index_set] + ['f{}'.format(i) for i in index_set]
        + ['h{}'.format(i) for i in index_set])
```
and the other case would be

```
keys = ([alpha[i] for i in index_set] + [-alpha[i] for i in index_set]
        + [alphacheck[i] for i in index_set])
```
and then

```
Family(keys, ret.__getitem__)
```



---

archive/issue_comments_404182.json:
```json
{
    "body": "<div id=\"comment:12\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502\"><code>239f345</code></a></td><td><code>py3: change the repr of Finite family (pprint their dict)</code></td></tr></table>\n",
    "created_at": "2018-09-11T14:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404182",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:12"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502"><code>239f345</code></a></td><td><code>py3: change the repr of Finite family (pprint their dict)</code></td></tr></table>




---

archive/issue_comments_404183.json:
```json
{
    "body": "Changed commit from **[`10a2126`](https://github.com/sagemath/sagetrac-mirror/commit/10a2126b4661c7f0adf1da6c0b1aae5a31a2a7df)** to **[`239f345`](https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502)**",
    "created_at": "2018-09-11T14:19:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404183",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`10a2126`](https://github.com/sagemath/sagetrac-mirror/commit/10a2126b4661c7f0adf1da6c0b1aae5a31a2a7df)** to **[`239f345`](https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502)**



---

archive/issue_comments_404184.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nthanks, done. I am now launching my patchbots.",
    "created_at": "2018-09-11T14:20:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404184",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">comment:13</div>

thanks, done. I am now launching my patchbots.



---

archive/issue_comments_404185.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nok, both bots are morally green",
    "created_at": "2018-09-11T17:57:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404185",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:14" align="right">comment:14</div>

ok, both bots are morally green



---

archive/issue_comments_404186.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-09-11T23:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404186",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_404187.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nCan you check that this change does not affect #26078? If it does, could you make #26078 a dependency?\n\nOtherwise LGTM (I don't know of any other tickets that would otherwise have a conflict with this change).",
    "created_at": "2018-09-11T23:49:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404187",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:15" align="right">comment:15</div>

Can you check that this change does not affect #26078? If it does, could you make #26078 a dependency?

Otherwise LGTM (I don't know of any other tickets that would otherwise have a conflict with this change).



---

archive/issue_comments_404188.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nIt should not interfere, as here we only change the output of \"Finite family\", not the output of \"Family\". And there is no \"Finite Family\" in #26078.",
    "created_at": "2018-09-12T06:42:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404188",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:16" align="right">comment:16</div>

It should not interfere, as here we only change the output of "Finite family", not the output of "Family". And there is no "Finite Family" in #26078.



---

archive/issue_comments_404189.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nAh, right, they are all instances of `TrivialFamily`. Thanks.",
    "created_at": "2018-09-12T06:44:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404189",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:17" align="right">comment:17</div>

Ah, right, they are all instances of `TrivialFamily`. Thanks.



---

archive/issue_events_358643.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-09-12T06:44:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358643"
}
```



---

archive/issue_events_358644.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-09-12T06:44:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358644"
}
```



---

archive/issue_events_358645.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-09-13T19:25:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358645"
}
```



---

archive/issue_events_358646.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "9ea49ac498029e5a3bcd40b5a433b4cc4b1d411e",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-09-13T19:25:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26225#event-358646"
}
```



---

archive/issue_comments_404190.json:
```json
{
    "body": "Changed branch from **[u/chapoton/26225](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26225)** to **[`239f345`](https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502)**",
    "created_at": "2018-09-13T19:25:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26225",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26225#issuecomment-404190",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/26225](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26225)** to **[`239f345`](https://github.com/sagemath/sagetrac-mirror/commit/239f345c775496b4f09bb991c630322a51073502)**
