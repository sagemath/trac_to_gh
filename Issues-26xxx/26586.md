# Issue 26586: Failing doctest in poset_examples

archive/issues_026349.json:
```json
{
    "assignees": [],
    "body": "With `--gc=never`, this doctest fails consistently:\n\n```\n./sage -t --gc=never src/sage/combinat/posets/poset_examples.py\ntoo many failed tests, not using stored timings\nRunning doctests with ID 2018-10-28-23-55-00-fb2259d6.\nGit branch: t/24593/upgrade_from_thebe_to_thebelab_for_live_documentation_support\nUsing --optional=dochtml,meataxe,memlimit,mpir,python2,sage\nDoctesting 1 file.\nsage -t src/sage/combinat/posets/poset_examples.py\n**********************************************************************\nFile \"src/sage/combinat/posets/poset_examples.py\", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset\nFailed example:\n    P.cover_relations()\nExpected:\n    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0),\n    (1, 1)]]\nGot:\n    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset\n    [159 tests, 1 failure, 11.36 s]\n----------------------------------------------------------------------\nsage -t src/sage/combinat/posets/poset_examples.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nBranch/Commit: **[dc77918](https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970)**\n\nReviewer: **Volker Braun, Fr\u00e9d\u00e9ric Chapoton**\n\nAuthor: **Jeroen Demeyer**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26586_\n\n",
    "closed_at": "2018-12-15T19:25:38Z",
    "created_at": "2018-10-28T22:57:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Failing doctest in poset_examples",
    "type": "issue",
    "updated_at": "2018-12-15T19:25:38Z",
    "url": "https://github.com/sagemath/sage/issues/26586",
    "user": "https://github.com/jdemeyer"
}
```
With `--gc=never`, this doctest fails consistently:

```
./sage -t --gc=never src/sage/combinat/posets/poset_examples.py
too many failed tests, not using stored timings
Running doctests with ID 2018-10-28-23-55-00-fb2259d6.
Git branch: t/24593/upgrade_from_thebe_to_thebelab_for_live_documentation_support
Using --optional=dochtml,meataxe,memlimit,mpir,python2,sage
Doctesting 1 file.
sage -t src/sage/combinat/posets/poset_examples.py
**********************************************************************
File "src/sage/combinat/posets/poset_examples.py", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset
Failed example:
    P.cover_relations()
Expected:
    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0),
    (1, 1)]]
Got:
    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]
**********************************************************************
1 item had failures:
   1 of   3 in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset
    [159 tests, 1 failure, 11.36 s]
----------------------------------------------------------------------
sage -t src/sage/combinat/posets/poset_examples.py  # 1 doctest failed
----------------------------------------------------------------------
```

Branch/Commit: **[dc77918](https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970)**

Reviewer: **Volker Braun, Frédéric Chapoton**

Author: **Jeroen Demeyer**

_Issue created by migration from https://trac.sagemath.org/ticket/26586_





---

archive/issue_events_347832.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-28T22:57:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347832"
}
```



---

archive/issue_events_347833.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-28T22:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "component: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347833"
}
```



---

archive/issue_events_347834.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-28T22:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/p1%20%E2%80%93%20blocker",
    "label_color": "ff0000",
    "label_name": "p1 \u2013 blocker",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347834"
}
```



---

archive/issue_events_347835.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-10-28T22:57:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347835"
}
```



---

archive/issue_comments_412522.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nIt seems that adding sorted() to the doctest does not sort, hence does not fix the issue\n\n```\nchapoton@pc-chapoton:~/sage$ ./sage -t --gc=never src/sage/combinat/posets/poset_examples.py\ntoo few successful tests, not using stored timings\nRunning doctests with ID 2018-10-29-10-25-27-f966edb9.\nGit branch: poset\nUsing --optional=4ti2,ccache,dochtml,dot2tex,fricas,gfortran,latte_int,lidia,lrslib,memlimit,mpir,python2,sage\nDoctesting 1 file.\nsage -t src/sage/combinat/posets/poset_examples.py\n**********************************************************************\nFile \"src/sage/combinat/posets/poset_examples.py\", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset\nFailed example:\n    sorted(P.cover_relations())\nExpected:\n    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0),\n    (1, 1)]]\nGot:\n    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]\n**********************************************************************\n1 item had failures:\n   1 of   3 in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset\n    [159 tests, 1 failure, 1.79 s]\n----------------------------------------------------------------------\nsage -t src/sage/combinat/posets/poset_examples.py  # 1 doctest failed\n```",
    "created_at": "2018-10-29T09:26:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412522",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
It seems that adding sorted() to the doctest does not sort, hence does not fix the issue

```
chapoton@pc-chapoton:~/sage$ ./sage -t --gc=never src/sage/combinat/posets/poset_examples.py
too few successful tests, not using stored timings
Running doctests with ID 2018-10-29-10-25-27-f966edb9.
Git branch: poset
Using --optional=4ti2,ccache,dochtml,dot2tex,fricas,gfortran,latte_int,lidia,lrslib,memlimit,mpir,python2,sage
Doctesting 1 file.
sage -t src/sage/combinat/posets/poset_examples.py
**********************************************************************
File "src/sage/combinat/posets/poset_examples.py", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset
Failed example:
    sorted(P.cover_relations())
Expected:
    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0),
    (1, 1)]]
Got:
    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]
**********************************************************************
1 item had failures:
   1 of   3 in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset
    [159 tests, 1 failure, 1.79 s]
----------------------------------------------------------------------
sage -t src/sage/combinat/posets/poset_examples.py  # 1 doctest failed
```



---

archive/issue_comments_412523.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nA difference also happens with respect to `--long` on the same file (on linux-ubuntu):\n\n```\nmartin@convex63:~/sage-develop$ ./sage -t --long --optional=sage src/sage/combinat/posets/poset_examples.py                                          \ntoo many failed tests, not using stored timings                                                                                                       \nRunning doctests with ID 2018-11-21-07-24-59-6ea730c0.                                                                                                \nGit branch: develop                                                                                                                                   \nUsing --optional=memlimit,sage                                                                                                                        \nDoctesting 1 file.                                                                                                                                    \nsage -t --long src/sage/combinat/posets/poset_examples.py                                                                                             \n    [160 tests, 2.88 s]                                                                                                                               \n----------------------------------------------------------------------                                                                                \nAll tests passed!                                                                                                                                     \n----------------------------------------------------------------------                                                                                \nTotal time for all tests: 3.0 seconds                                                                                                                 \n    cpu time: 2.8 seconds                                                                                                                             \n    cumulative wall time: 2.9 seconds\n                                                                                                                 \nmartin@convex63:~/sage-develop$ ./sage -t --optional=sage src/sage/combinat/posets/poset_examples.py \ntoo many failed tests, not using stored timings                                                                                                       \nRunning doctests with ID 2018-11-21-07-25-08-142907c8.                                                                                                \nGit branch: develop                                                                                                                                   \nUsing --optional=memlimit,sage                                                                                                                        \nDoctesting 1 file.                                                                                                                                    \nsage -t src/sage/combinat/posets/poset_examples.py                                                                                                    \n**********************************************************************                                                                                \nFile \"src/sage/combinat/posets/poset_examples.py\", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset                         \nFailed example:                                                                                                                                       \n    P.cover_relations()                                                                                                                               \nExpected:                                                                                                                                             \n    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0),                                                                                   \n    (1, 1)]]                                                                                                                                          \nGot:                                                                                                                                                  \n    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]                                                                          \n**********************************************************************                                                                                \n1 item had failures:                                                                                                                                  \n   1 of   3 in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset                                                                           \n    [159 tests, 1 failure, 2.09 s]                                                                                                                    \n----------------------------------------------------------------------                                                                                \nsage -t src/sage/combinat/posets/poset_examples.py  # 1 doctest failed \n----------------------------------------------------------------------                                                                                \nTotal time for all tests: 2.2 seconds                                                                                                                 \n    cpu time: 2.0 seconds                                                                                                                             \n    cumulative wall time: 2.1 seconds  \n```\n\nMoreover, removing the only `# long` marker from this file (in line 963), the problem is not visible anymore!\n\n```\nmartin@convex63:~/sage-develop$ ./sage -t --long --optional=sage src/sage/combinat/posets/poset_examples.py                                          \ntoo many failed tests, not using stored timings                                                                                                       \nRunning doctests with ID 2018-11-21-07-25-28-653967b1.                                                                                                \nGit branch: develop                                                                                                                                   \nUsing --optional=memlimit,sage                                                                                                                        \nDoctesting 1 file.                                                                                                                                    \nsage -t --long src/sage/combinat/posets/poset_examples.py                                                                                             \n    [160 tests, 2.88 s]                                                                                                                               \n----------------------------------------------------------------------                                                                                \nAll tests passed!                                                                                                                                     \n----------------------------------------------------------------------                                                                                \nTotal time for all tests: 2.9 seconds                                                                                                                 \n    cpu time: 2.8 seconds                                                                                                                             \n    cumulative wall time: 2.9 seconds                                                                                                                 \n\nmartin@convex63:~/sage-develop$ ./sage -t --optional=sage src/sage/combinat/posets/poset_examples.py                                          \ntoo many failed tests, not using stored timings                                                                                                       \nRunning doctests with ID 2018-11-21-07-25-36-4df51548.                                                                                                \nGit branch: develop                                                                                                                                   \nUsing --optional=memlimit,sage                                                                                                                        \nDoctesting 1 file.                                                                                                                                    \nsage -t src/sage/combinat/posets/poset_examples.py                                                                                                    \n    [160 tests, 2.88 s]                                                                                                                               \n----------------------------------------------------------------------                                                                                \nAll tests passed!                                                                                                                                     \n----------------------------------------------------------------------                                                                                \nTotal time for all tests: 2.9 seconds                                                                                                                 \n    cpu time: 2.8 seconds                                                                                                                             \n    cumulative wall time: 2.9 seconds   \n```",
    "created_at": "2018-11-21T06:29:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412523",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:2'>Comment 2:</a>
A difference also happens with respect to `--long` on the same file (on linux-ubuntu):

```
martin@convex63:~/sage-develop$ ./sage -t --long --optional=sage src/sage/combinat/posets/poset_examples.py                                          
too many failed tests, not using stored timings                                                                                                       
Running doctests with ID 2018-11-21-07-24-59-6ea730c0.                                                                                                
Git branch: develop                                                                                                                                   
Using --optional=memlimit,sage                                                                                                                        
Doctesting 1 file.                                                                                                                                    
sage -t --long src/sage/combinat/posets/poset_examples.py                                                                                             
    [160 tests, 2.88 s]                                                                                                                               
----------------------------------------------------------------------                                                                                
All tests passed!                                                                                                                                     
----------------------------------------------------------------------                                                                                
Total time for all tests: 3.0 seconds                                                                                                                 
    cpu time: 2.8 seconds                                                                                                                             
    cumulative wall time: 2.9 seconds
                                                                                                                 
martin@convex63:~/sage-develop$ ./sage -t --optional=sage src/sage/combinat/posets/poset_examples.py 
too many failed tests, not using stored timings                                                                                                       
Running doctests with ID 2018-11-21-07-25-08-142907c8.                                                                                                
Git branch: develop                                                                                                                                   
Using --optional=memlimit,sage                                                                                                                        
Doctesting 1 file.                                                                                                                                    
sage -t src/sage/combinat/posets/poset_examples.py                                                                                                    
**********************************************************************                                                                                
File "src/sage/combinat/posets/poset_examples.py", line 1400, in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset                         
Failed example:                                                                                                                                       
    P.cover_relations()                                                                                                                               
Expected:                                                                                                                                             
    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0),                                                                                   
    (1, 1)]]                                                                                                                                          
Got:                                                                                                                                                  
    [[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]                                                                          
**********************************************************************                                                                                
1 item had failures:                                                                                                                                  
   1 of   3 in sage.combinat.posets.poset_examples.Posets.YoungDiagramPoset                                                                           
    [159 tests, 1 failure, 2.09 s]                                                                                                                    
----------------------------------------------------------------------                                                                                
sage -t src/sage/combinat/posets/poset_examples.py  # 1 doctest failed 
----------------------------------------------------------------------                                                                                
Total time for all tests: 2.2 seconds                                                                                                                 
    cpu time: 2.0 seconds                                                                                                                             
    cumulative wall time: 2.1 seconds  
```

Moreover, removing the only `# long` marker from this file (in line 963), the problem is not visible anymore!

```
martin@convex63:~/sage-develop$ ./sage -t --long --optional=sage src/sage/combinat/posets/poset_examples.py                                          
too many failed tests, not using stored timings                                                                                                       
Running doctests with ID 2018-11-21-07-25-28-653967b1.                                                                                                
Git branch: develop                                                                                                                                   
Using --optional=memlimit,sage                                                                                                                        
Doctesting 1 file.                                                                                                                                    
sage -t --long src/sage/combinat/posets/poset_examples.py                                                                                             
    [160 tests, 2.88 s]                                                                                                                               
----------------------------------------------------------------------                                                                                
All tests passed!                                                                                                                                     
----------------------------------------------------------------------                                                                                
Total time for all tests: 2.9 seconds                                                                                                                 
    cpu time: 2.8 seconds                                                                                                                             
    cumulative wall time: 2.9 seconds                                                                                                                 

martin@convex63:~/sage-develop$ ./sage -t --optional=sage src/sage/combinat/posets/poset_examples.py                                          
too many failed tests, not using stored timings                                                                                                       
Running doctests with ID 2018-11-21-07-25-36-4df51548.                                                                                                
Git branch: develop                                                                                                                                   
Using --optional=memlimit,sage                                                                                                                        
Doctesting 1 file.                                                                                                                                    
sage -t src/sage/combinat/posets/poset_examples.py                                                                                                    
    [160 tests, 2.88 s]                                                                                                                               
----------------------------------------------------------------------                                                                                
All tests passed!                                                                                                                                     
----------------------------------------------------------------------                                                                                
Total time for all tests: 2.9 seconds                                                                                                                 
    cpu time: 2.8 seconds                                                                                                                             
    cumulative wall time: 2.9 seconds   
```



---

archive/issue_comments_412524.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nFinally, when running the offending test on its own in a session, there is no mismatch:\n\n```\nmartin@convex63:~/sage-develop$ ./sage                                                                                                                \n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                                                \n\u2502 SageMath version 8.5.beta4, Release Date: 2018-11-18               \u2502                                                                                \n\u2502 Using Python 2.7.15. Type \"help()\" for help.                       \u2502                                                                                \n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                                                \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513                                                                                \n\u2503 Warning: this is a prerelease version, and it may be unstable.     \u2503                                                                                \n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b                                                                                \nsage: P = posets.YoungDiagramPoset(Partition([2,2])); P                                                                                               \nFinite meet-semilattice containing 4 elements                                                                                                         \nsage: P.cover_relations()                                                                                                                             \n[[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]\n```\nAdding\n\n```\n            sage: import gc                                                                                                                           \n            sage: gc.collect() # random                                                                                                               \n \n```\njust before the test in line 1400 \"fixes\" it.",
    "created_at": "2018-11-21T06:43:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412524",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'>Comment 3:</a>
Finally, when running the offending test on its own in a session, there is no mismatch:

```
martin@convex63:~/sage-develop$ ./sage                                                                                                                
┌────────────────────────────────────────────────────────────────────┐                                                                                
│ SageMath version 8.5.beta4, Release Date: 2018-11-18               │                                                                                
│ Using Python 2.7.15. Type "help()" for help.                       │                                                                                
└────────────────────────────────────────────────────────────────────┘                                                                                
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓                                                                                
┃ Warning: this is a prerelease version, and it may be unstable.     ┃                                                                                
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛                                                                                
sage: P = posets.YoungDiagramPoset(Partition([2,2])); P                                                                                               
Finite meet-semilattice containing 4 elements                                                                                                         
sage: P.cover_relations()                                                                                                                             
[[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]
```
Adding

```
            sage: import gc                                                                                                                           
            sage: gc.collect() # random                                                                                                               
 
```
just before the test in line 1400 "fixes" it.



---

archive/issue_comments_412525.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nHere is a minimal example for my computer.  Could you please check whether this yields a failure when run without `--long` and no failure when run with `--long`?\n\n```\ndef A():\n    \"\"\"\n    sage: posets.ProductOfChains([2, 2]).linear_extension()\n    [(0, 0), (1, 0), (0, 1), (1, 1)]\n    \n    sage: posets.SSTPoset([3,2]).bottom()  # long time\n    [[1, 1, 1], [2, 2]]\n    \"\"\"\n\ndef B():\n    \"\"\"\n    sage: posets.YoungDiagramPoset(Partition([2,2])).cover_relations()\n    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]\n    \"\"\"\n```",
    "created_at": "2018-11-21T13:42:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412525",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:4'>Comment 4:</a>
Here is a minimal example for my computer.  Could you please check whether this yields a failure when run without `--long` and no failure when run with `--long`?

```
def A():
    """
    sage: posets.ProductOfChains([2, 2]).linear_extension()
    [(0, 0), (1, 0), (0, 1), (1, 1)]
    
    sage: posets.SSTPoset([3,2]).bottom()  # long time
    [[1, 1, 1], [2, 2]]
    """

def B():
    """
    sage: posets.YoungDiagramPoset(Partition([2,2])).cover_relations()
    [[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]
    """
```



---

archive/issue_comments_412526.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nApparently it has nothing to do with the doctest framework, i.e., your example can be easily reproduced in an interactive session:\n\n```\nsage: posets.ProductOfChains([2, 2]).linear_extension()\n[(0, 0), (1, 0), (0, 1), (1, 1)]\nsage: posets.SSTPoset([3,2]).bottom()\n[[1, 1, 1], [2, 2]]\nsage: posets.YoungDiagramPoset(Partition([2,2])).cover_relations()\n[[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]\n```\nthen restart Sage, then\n\n```\nsage: posets.ProductOfChains([2, 2]).linear_extension()\n[(0, 0), (1, 0), (0, 1), (1, 1)]\nsage: posets.YoungDiagramPoset(Partition([2,2])).cover_relations()\n[[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]\n```\nVery likely some kind of caching is causing the inconsistency, but I am not familiar with the code and therefore have no clue where that cache can be found.\n\nWhat I find odd: Even when sorting the output, the two results are different. Is sorting not properly implemented for `sage.sets.cartesian_product.CartesianProduct_with_category.element_class`?",
    "created_at": "2018-11-21T19:52:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412526",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:5'>Comment 5:</a>
Apparently it has nothing to do with the doctest framework, i.e., your example can be easily reproduced in an interactive session:

```
sage: posets.ProductOfChains([2, 2]).linear_extension()
[(0, 0), (1, 0), (0, 1), (1, 1)]
sage: posets.SSTPoset([3,2]).bottom()
[[1, 1, 1], [2, 2]]
sage: posets.YoungDiagramPoset(Partition([2,2])).cover_relations()
[[(0, 0), (0, 1)], [(0, 0), (1, 0)], [(0, 1), (1, 1)], [(1, 0), (1, 1)]]
```
then restart Sage, then

```
sage: posets.ProductOfChains([2, 2]).linear_extension()
[(0, 0), (1, 0), (0, 1), (1, 1)]
sage: posets.YoungDiagramPoset(Partition([2,2])).cover_relations()
[[(0, 0), (1, 0)], [(0, 0), (0, 1)], [(1, 0), (1, 1)], [(0, 1), (1, 1)]]
```
Very likely some kind of caching is causing the inconsistency, but I am not familiar with the code and therefore have no clue where that cache can be found.

What I find odd: Even when sorting the output, the two results are different. Is sorting not properly implemented for `sage.sets.cartesian_product.CartesianProduct_with_category.element_class`?



---

archive/issue_comments_412527.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nBut shouldn't doctests in each function start with a fresh environment?",
    "created_at": "2018-11-21T20:22:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412527",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:6'>Comment 6:</a>
But shouldn't doctests in each function start with a fresh environment?



---

archive/issue_comments_412528.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [@mantepse](#comment%3A6):\n> But shouldn't doctests in each function start with a fresh environment?\n> \n\nNo.\n\nI could be mistaken, but when I write doctests, I always assume:\n- The tests of individual functions within a single file are ALL executed in the same environment.\n- The tests of the individual functions within a single file are executed in random order.",
    "created_at": "2018-11-21T20:28:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412528",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [@mantepse](#comment%3A6):
> But shouldn't doctests in each function start with a fresh environment?
> 

No.

I could be mistaken, but when I write doctests, I always assume:
- The tests of individual functions within a single file are ALL executed in the same environment.
- The tests of the individual functions within a single file are executed in random order.



---

archive/issue_comments_412529.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nIts in the nature of posets that there is usually no canonical total order, so trying to make the output canonical is probably not going to happen in all cases. \n\nWithout looking at the code I'm guessing that you are somewhere iterating over an associative container, which ends up being random because the elements can't be ordered. \n\nYou probably want to rewrite the test as X == Y instead of looking at the output",
    "created_at": "2018-11-21T20:32:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412529",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:8'>Comment 8:</a>
Its in the nature of posets that there is usually no canonical total order, so trying to make the output canonical is probably not going to happen in all cases. 

Without looking at the code I'm guessing that you are somewhere iterating over an associative container, which ends up being random because the elements can't be ordered. 

You probably want to rewrite the test as X == Y instead of looking at the output



---

archive/issue_comments_412530.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThe output is a python list of python lists of elements. So, testing equality won't work. But perhaps one can turn the lists into sets and compare them?",
    "created_at": "2018-11-21T20:36:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412530",
    "user": "https://github.com/simon-king-jena"
}
```

<a id='comment:9'>Comment 9:</a>
The output is a python list of python lists of elements. So, testing equality won't work. But perhaps one can turn the lists into sets and compare them?



---

archive/issue_comments_412531.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nWe could do\n\n```\nsage: sorted(map(tuple, P.cover_relations()), key=lambda c: map(tuple, c))\n[((0, 0), (0, 1)), ((0, 0), (1, 0)), ((0, 1), (1, 1)), ((1, 0), (1, 1))]\n```\nif we do not want to have sorting for cartesian products.",
    "created_at": "2018-11-22T05:55:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412531",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:10'>Comment 10:</a>
We could do

```
sage: sorted(map(tuple, P.cover_relations()), key=lambda c: map(tuple, c))
[((0, 0), (0, 1)), ((0, 0), (1, 0)), ((0, 1), (1, 1)), ((1, 0), (1, 1))]
```
if we do not want to have sorting for cartesian products.



---

archive/issue_comments_412532.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nIs it easier to just say `sorted(sorted(x) for x in posets.YoungDiagramPoset(Partition([2,2])).cover_relations())`? I think I have seen that structure in some other parts of Sage.",
    "created_at": "2018-11-22T07:23:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412532",
    "user": "https://github.com/jm58660"
}
```

<a id='comment:11'>Comment 11:</a>
Is it easier to just say `sorted(sorted(x) for x in posets.YoungDiagramPoset(Partition([2,2])).cover_relations())`? I think I have seen that structure in some other parts of Sage.



---

archive/issue_comments_412533.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nWouldn't it be better to have cartesian product export sorting?  (lexicographic)",
    "created_at": "2018-11-22T13:02:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412533",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:12'>Comment 12:</a>
Wouldn't it be better to have cartesian product export sorting?  (lexicographic)



---

archive/issue_comments_412534.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nBesides, shouldn't upper and lower covers be tuples, not lists?",
    "created_at": "2018-11-22T13:03:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412534",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:13'>Comment 13:</a>
Besides, shouldn't upper and lower covers be tuples, not lists?



---

archive/issue_comments_412535.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nUnless something happens real soon this will not be fixed in Sage 8.5",
    "created_at": "2018-12-13T14:47:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412535",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:14'>Comment 14:</a>
Unless something happens real soon this will not be fixed in Sage 8.5



---

archive/issue_events_347836.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T15:53:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347836"
}
```



---

archive/issue_comments_412536.json:
```json
{
    "body": "Branch: **[u/chapoton/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26586)**",
    "created_at": "2018-12-13T15:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412536",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26586)**



---

archive/issue_comments_412537.json:
```json
{
    "body": "Commit: **[3e8ef3b](https://github.com/sagemath/sagetrac-mirror/commit/3e8ef3b0f2d5f3c0161fb726b92e846212aaf472)**",
    "created_at": "2018-12-13T15:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412537",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[3e8ef3b](https://github.com/sagemath/sagetrac-mirror/commit/3e8ef3b0f2d5f3c0161fb726b92e846212aaf472)**



---

archive/issue_comments_412538.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-12-13T15:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412538",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_412539.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nok, here it is\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3e8ef3b0f2d5f3c0161fb726b92e846212aaf472\">3e8ef3b</a></td><td><code>trac 26586 fix the doctest in poset for -gc=never by sorting</code></td></tr></table>\n",
    "created_at": "2018-12-13T15:53:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412539",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'>Comment 15:</a>
ok, here it is

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3e8ef3b0f2d5f3c0161fb726b92e846212aaf472">3e8ef3b</a></td><td><code>trac 26586 fix the doctest in poset for -gc=never by sorting</code></td></tr></table>




---

archive/issue_comments_412540.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nWhy not use a plain `sorted()`?",
    "created_at": "2018-12-13T16:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412540",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
Why not use a plain `sorted()`?



---

archive/issue_comments_412541.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nBecause this does not work. See [comment:1](#comment%3A1)",
    "created_at": "2018-12-13T16:23:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412541",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'>Comment 17:</a>
Because this does not work. See [comment:1](#comment%3A1)



---

archive/issue_comments_412542.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2018-12-13T17:22:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412542",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_events_347837.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-13T17:22:12Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347837"
}
```



---

archive/issue_events_347838.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-13T17:22:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347838"
}
```



---

archive/issue_events_347839.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-13T18:21:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347839"
}
```



---

archive/issue_events_347840.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-13T18:21:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347840"
}
```



---

archive/issue_comments_412543.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\nI understand that you want to get rid of this blocker, but this is not a right fix.",
    "created_at": "2018-12-13T18:21:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412543",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:19'>Comment 19:</a>
I understand that you want to get rid of this blocker, but this is not a right fix.



---

archive/issue_comments_412544.json:
```json
{
    "body": "Changed branch from **[u/chapoton/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26586)** to **[u/jdemeyer/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26586)**",
    "created_at": "2018-12-13T18:23:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412544",
    "user": "https://github.com/jdemeyer"
}
```

Changed branch from **[u/chapoton/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26586)** to **[u/jdemeyer/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26586)**



---

archive/issue_events_347841.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-13T18:24:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347841"
}
```



---

archive/issue_events_347842.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2018-12-13T18:24:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347842"
}
```



---

archive/issue_comments_412545.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Jeroen Demeyer**",
    "created_at": "2018-12-13T18:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412545",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Jeroen Demeyer**



---

archive/issue_comments_412546.json:
```json
{
    "body": "Changed commit from **[3e8ef3b](https://github.com/sagemath/sagetrac-mirror/commit/3e8ef3b0f2d5f3c0161fb726b92e846212aaf472)** to **[dc77918](https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970)**",
    "created_at": "2018-12-13T18:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412546",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[3e8ef3b](https://github.com/sagemath/sagetrac-mirror/commit/3e8ef3b0f2d5f3c0161fb726b92e846212aaf472)** to **[dc77918](https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970)**



---

archive/issue_comments_412547.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nDon't hide bugs, at least mark it as `# known bug`\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970\">dc77918</a></td><td><code>Mark doctest as known bug</code></td></tr></table>\n",
    "created_at": "2018-12-13T18:24:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412547",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'>Comment 21:</a>
Don't hide bugs, at least mark it as `# known bug`

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970">dc77918</a></td><td><code>Mark doctest as known bug</code></td></tr></table>




---

archive/issue_comments_412548.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [@mantepse](#comment%3A12):\n> Wouldn't it be better to have cartesian product export sorting?  (lexicographic)\n\nYes obviously. I opened #26890 for that.",
    "created_at": "2018-12-13T18:24:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412548",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [@mantepse](#comment%3A12):
> Wouldn't it be better to have cartesian product export sorting?  (lexicographic)

Yes obviously. I opened #26890 for that.



---

archive/issue_events_347843.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T18:51:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347843"
}
```



---

archive/issue_events_347844.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-13T18:51:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347844"
}
```



---

archive/issue_comments_412549.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton, Jeroen Demeyer** to **Jeroen Demeyer**",
    "created_at": "2018-12-13T18:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412549",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Frédéric Chapoton, Jeroen Demeyer** to **Jeroen Demeyer**



---

archive/issue_comments_412550.json:
```json
{
    "body": "Changed reviewer from **Volker Braun** to **Volker Braun, Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-12-13T18:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412550",
    "user": "https://github.com/fchapoton"
}
```

Changed reviewer from **Volker Braun** to **Volker Braun, Frédéric Chapoton**



---

archive/issue_comments_412551.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nright. ok for me",
    "created_at": "2018-12-13T18:51:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412551",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:23'>Comment 23:</a>
right. ok for me



---

archive/issue_events_347845.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-15T19:25:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347845"
}
```



---

archive/issue_events_347846.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "0f3e55e88f24f942d0ea90b1e7ddc427f8144fa9",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-12-15T19:25:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26586#event-347846"
}
```



---

archive/issue_comments_412552.json:
```json
{
    "body": "Changed branch from **[u/jdemeyer/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26586)** to **[dc77918](https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970)**",
    "created_at": "2018-12-15T19:25:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26586",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26586#issuecomment-412552",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/jdemeyer/26586](https://github.com/sagemath/sagetrac-mirror/tree/u/jdemeyer/26586)** to **[dc77918](https://github.com/sagemath/sagetrac-mirror/commit/dc77918a2fe3de5709d9c4a088b89775083b4970)**
