# Issue 26613: sagenb fails to build due to missing dependencies

archive/issues_026376.json:
```json
{
    "body": "`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue, as can be checked with `make distclean && make sagenb`.\n\nError message:\n\n```\n[sagenb-1.1.0] Traceback (most recent call last):\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/bin/sphinx-build\", line 6, in <mod\nule>\n[sagenb-1.1.0]     from pkg_resources import load_entry_point\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_re\nsources/__init__.py\", line 3098, in <module>\n[sagenb-1.1.0]     @_call_aside\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3082, in _call_aside\n[sagenb-1.1.0]     f(*args, **kwargs)\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3111, in _initialize_master_working_set\n[sagenb-1.1.0]     working_set = WorkingSet._build_master()\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 573, in _build_master\n[sagenb-1.1.0]     ws.require(__requires__)\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 891, in require\n[sagenb-1.1.0]     needed = self.resolve(parse_requirements(requirements))\n[sagenb-1.1.0]   File \"/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 777, in resolve\n[sagenb-1.1.0]     raise DistributionNotFound(req, requirers)\n[sagenb-1.1.0] pkg_resources.DistributionNotFound: The 'pyparsing>=2.0.2' distribution was not found and is required by packaging\n[sagenb-1.1.0] make[2]: *** [Makefile:20: html] Error 1\n[sagenb-1.1.0] make[2]: Leaving directory '/home/sage/sage-8.4/local/var/tmp/sage/build/sagenb-1.1.0/src/doc'\n[sagenb-1.1.0] \n```\n\nCC:  @jdemeyer @kiwifb @kcrisman\n\nKeywords: sagenb, packaging, pyparsing, dependencies\n\nBranch/Commit: [aa8b3fbbbcbd2c69e357d7807cb33aed481d453f](https://github.com/sagemath/sagetrac-mirror/commit/aa8b3fbbbcbd2c69e357d7807cb33aed481d453f)\n\nReviewer: Jeroen Demeyer, Fran\u00e7ois Bissey\n\nAuthor: Konrad K. Dabrowski\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26613\n\n",
    "closed_at": "2018-11-07T11:28:00Z",
    "created_at": "2018-11-01T00:39:53Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "sagenb fails to build due to missing dependencies",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26613",
    "user": "https://github.com/Konrad127123"
}
```
`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue, as can be checked with `make distclean && make sagenb`.

Error message:

```
[sagenb-1.1.0] Traceback (most recent call last):
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/bin/sphinx-build", line 6, in <mod
ule>
[sagenb-1.1.0]     from pkg_resources import load_entry_point
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_re
sources/__init__.py", line 3098, in <module>
[sagenb-1.1.0]     @_call_aside
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3082, in _call_aside
[sagenb-1.1.0]     f(*args, **kwargs)
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 3111, in _initialize_master_working_set
[sagenb-1.1.0]     working_set = WorkingSet._build_master()
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 573, in _build_master
[sagenb-1.1.0]     ws.require(__requires__)
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 891, in require
[sagenb-1.1.0]     needed = self.resolve(parse_requirements(requirements))
[sagenb-1.1.0]   File "/home/sage/sage-8.4/local/lib/python2.7/site-packages/pkg_resources/__init__.py", line 777, in resolve
[sagenb-1.1.0]     raise DistributionNotFound(req, requirers)
[sagenb-1.1.0] pkg_resources.DistributionNotFound: The 'pyparsing>=2.0.2' distribution was not found and is required by packaging
[sagenb-1.1.0] make[2]: *** [Makefile:20: html] Error 1
[sagenb-1.1.0] make[2]: Leaving directory '/home/sage/sage-8.4/local/var/tmp/sage/build/sagenb-1.1.0/src/doc'
[sagenb-1.1.0] 
```

CC:  @jdemeyer @kiwifb @kcrisman

Keywords: sagenb, packaging, pyparsing, dependencies

Branch/Commit: [aa8b3fbbbcbd2c69e357d7807cb33aed481d453f](https://github.com/sagemath/sagetrac-mirror/commit/aa8b3fbbbcbd2c69e357d7807cb33aed481d453f)

Reviewer: Jeroen Demeyer, François Bissey

Author: Konrad K. Dabrowski

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26613





---

archive/issue_comments_513244.json:
```json
{
    "body": "Changing branch from \"\" to \"u/Konrad127123/sagenb_fails_to_build_due_to_missing_dependencies\"",
    "created_at": "2018-11-01T00:41:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513244",
    "user": "https://github.com/Konrad127123"
}
```

Changing branch from "" to "u/Konrad127123/sagenb_fails_to_build_due_to_missing_dependencies"



---

archive/issue_comments_513245.json:
```json
{
    "body": "Changing keywords from \"\" to \"sagenb, packaging, pyparsing, dependencies\".",
    "created_at": "2018-11-01T00:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513245",
    "user": "https://github.com/Konrad127123"
}
```

Changing keywords from "" to "sagenb, packaging, pyparsing, dependencies".



---

archive/issue_comments_513246.json:
```json
{
    "body": "Changing author from \"\" to \"Konrad K. Dabrowski\"",
    "created_at": "2018-11-01T00:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513246",
    "user": "https://github.com/Konrad127123"
}
```

Changing author from "" to "Konrad K. Dabrowski"



---

archive/issue_comments_513247.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue.\n+`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue, as can be checked with `make distclean && make sagenb`.\n \n Error message:\n \n``````\n",
    "created_at": "2018-11-01T00:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513247",
    "user": "https://github.com/Konrad127123"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue.
+`sagenb` currently fails to build in a clean build environment because `pyparsing` is missing. The error message comes from `packaging`, which should depend on `pyparsing`. Adding this dependency solves the issue, as can be checked with `make distclean && make sagenb`.
 
 Error message:
 
``````




---

archive/issue_comments_513248.json:
```json
{
    "body": "<a id='comment:2'></a>\nNew commits:\n|                                                                                                                                          |                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n|[c389a43](https://github.com/sagemath/sagetrac-mirror/commit/c389a43f96e093888bd894ad69bf316f0ea72424)|`packaging should depend on pyparsing`|",
    "created_at": "2018-11-01T00:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513248",
    "user": "https://github.com/Konrad127123"
}
```

<a id='comment:2'></a>
New commits:
|                                                                                                                                          |                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|
|[c389a43](https://github.com/sagemath/sagetrac-mirror/commit/c389a43f96e093888bd894ad69bf316f0ea72424)|`packaging should depend on pyparsing`|



---

archive/issue_comments_513249.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-01T00:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513249",
    "user": "https://github.com/Konrad127123"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_513250.json:
```json
{
    "body": "Changing commit from \"\" to \"c389a43f96e093888bd894ad69bf316f0ea72424\"",
    "created_at": "2018-11-01T00:45:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513250",
    "user": "https://github.com/Konrad127123"
}
```

Changing commit from "" to "c389a43f96e093888bd894ad69bf316f0ea72424"



---

archive/issue_comments_513251.json:
```json
{
    "body": "<a id='comment:4'></a>\nLegit. Gentoo ebuild for packaging has runtime dependency (but not build time) for pyparsing but also six. As a precaution I think this ticket should also add six to the dependency list of packaging.",
    "created_at": "2018-11-02T18:39:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513251",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
Legit. Gentoo ebuild for packaging has runtime dependency (but not build time) for pyparsing but also six. As a precaution I think this ticket should also add six to the dependency list of packaging.



---

archive/issue_comments_513252.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[328415b](https://github.com/sagemath/sagetrac-mirror/commit/328415b4eb68fb8a59a46b424d8ab090d67b0314)|`pyparsing should depend on six`|",
    "created_at": "2018-11-05T13:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513252",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[328415b](https://github.com/sagemath/sagetrac-mirror/commit/328415b4eb68fb8a59a46b424d8ab090d67b0314)|`pyparsing should depend on six`|



---

archive/issue_comments_513253.json:
```json
{
    "body": "Changing commit from \"c389a43f96e093888bd894ad69bf316f0ea72424\" to \"328415b4eb68fb8a59a46b424d8ab090d67b0314\"",
    "created_at": "2018-11-05T13:36:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513253",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c389a43f96e093888bd894ad69bf316f0ea72424" to "328415b4eb68fb8a59a46b424d8ab090d67b0314"



---

archive/issue_comments_513254.json:
```json
{
    "body": "<a id='comment:6'></a>\n`pyparsing` does not depend on `six`. Fran\u00e7ois meant that `packaging` should depend on `six`.",
    "created_at": "2018-11-05T13:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513254",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:6'></a>
`pyparsing` does not depend on `six`. François meant that `packaging` should depend on `six`.



---

archive/issue_comments_513255.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-11-05T13:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513255",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_513256.json:
```json
{
    "body": "Changing commit from \"328415b4eb68fb8a59a46b424d8ab090d67b0314\" to \"aa8b3fbbbcbd2c69e357d7807cb33aed481d453f\"",
    "created_at": "2018-11-05T13:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513256",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "328415b4eb68fb8a59a46b424d8ab090d67b0314" to "aa8b3fbbbcbd2c69e357d7807cb33aed481d453f"



---

archive/issue_comments_513257.json:
```json
{
    "body": "<a id='comment:7'></a>\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n|                                                                                                                                           |                                |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|\n|[aa8b3fb](https://github.com/sagemath/sagetrac-mirror/commit/aa8b3fbbbcbd2c69e357d7807cb33aed481d453f)|`packaging should depend on six`|",
    "created_at": "2018-11-05T13:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513257",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
|                                                                                                                                           |                                |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
|[aa8b3fb](https://github.com/sagemath/sagetrac-mirror/commit/aa8b3fbbbcbd2c69e357d7807cb33aed481d453f)|`packaging should depend on six`|



---

archive/issue_comments_513258.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Jeroen Demeyer\"",
    "created_at": "2018-11-05T13:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513258",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "" to "Jeroen Demeyer"



---

archive/issue_comments_513259.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2018-11-05T13:51:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513259",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_513260.json:
```json
{
    "body": "Changing reviewer from \"Jeroen Demeyer\" to \"Jeroen Demeyer, Fran\u00e7ois Bissey\"",
    "created_at": "2018-11-05T13:51:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513260",
    "user": "https://github.com/jdemeyer"
}
```

Changing reviewer from "Jeroen Demeyer" to "Jeroen Demeyer, François Bissey"



---

archive/issue_events_075001.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-07T11:28:00Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26613#event-75001"
}
```



---

archive/issue_comments_513261.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-07T11:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513261",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_513262.json:
```json
{
    "body": "Changing branch from \"u/Konrad127123/sagenb_fails_to_build_due_to_missing_dependencies\" to \"aa8b3fbbbcbd2c69e357d7807cb33aed481d453f\"",
    "created_at": "2018-11-07T11:28:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26613",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26613#issuecomment-513262",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/Konrad127123/sagenb_fails_to_build_due_to_missing_dependencies" to "aa8b3fbbbcbd2c69e357d7807cb33aed481d453f"
