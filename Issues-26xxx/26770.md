# Issue 26770: Patch pynac with PR: 336

archive/issues_026533.json:
```json
{
    "assignees": [],
    "body": "Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).\n\nThis fix bugs in python3 like this one :\n\n```\nsage: log(int(88705158), 4)\n1\n```\n\nCC:  @fchapoton @embray @rwst\n\nKeywords: **pynac**\n\nBranch/Commit: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366) @ [`3907c0b`](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**\n\nAuthor: **Vincent Klein**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26770_\n\n",
    "closed_at": "2018-12-11T11:11:28Z",
    "created_at": "2018-11-26T15:44:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Patch pynac with PR: 336",
    "type": "issue",
    "updated_at": "2018-12-11T11:11:28Z",
    "url": "https://github.com/sagemath/sage/issues/26770",
    "user": "https://github.com/vinklein"
}
```
Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).

This fix bugs in python3 like this one :

```
sage: log(int(88705158), 4)
1
```

CC:  @fchapoton @embray @rwst

Keywords: **pynac**

Branch/Commit: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366) @ [`3907c0b`](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**

Author: **Vincent Klein**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/26770_





---

archive/issue_events_364976.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364976"
}
```



---

archive/issue_events_364977.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364977"
}
```



---

archive/issue_events_364978.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364978"
}
```



---

archive/issue_events_364979.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364979"
}
```



---

archive/issue_comments_412138.json:
```json
{
    "body": "Branch: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366)**",
    "created_at": "2018-11-26T15:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412138",
    "user": "https://github.com/vinklein"
}
```

Branch: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366)**



---

archive/issue_comments_412139.json:
```json
{
    "body": "Author: **Vincent Klein**",
    "created_at": "2018-11-26T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412139",
    "user": "https://github.com/vinklein"
}
```

Author: **Vincent Klein**



---

archive/issue_comments_412140.json:
```json
{
    "body": "Commit: **[`3907c0b`](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**",
    "created_at": "2018-11-26T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412140",
    "user": "https://github.com/vinklein"
}
```

Commit: **[`3907c0b`](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**



---

archive/issue_events_364980.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:51:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364980"
}
```



---

archive/issue_comments_412141.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4\"><code>3907c0b</code></a></td><td><code>Trac #26770: Patch pynac to fix bug with long base ...</code></td></tr></table>\n",
    "created_at": "2018-11-26T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412141",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4"><code>3907c0b</code></a></td><td><code>Trac #26770: Patch pynac to fix bug with long base ...</code></td></tr></table>




---

archive/issue_comments_412142.json:
```json
{
    "body": "Changed keywords from none to **pynac**",
    "created_at": "2018-11-26T16:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412142",
    "user": "https://github.com/vinklein"
}
```

Changed keywords from none to **pynac**



---

archive/issue_events_364981.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T16:02:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "0000b0",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364981"
}
```



---

archive/issue_comments_412143.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nWouldn't it be better to just cut a new pynac bugfix release? Since it advertises itself as a \"Sage Math support library\" it  doesn't make much sense that sage would have to patch it.",
    "created_at": "2018-11-26T19:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412143",
    "user": "https://github.com/timokau"
}
```

<div id="comment:4" align="right">comment:4</div>

Wouldn't it be better to just cut a new pynac bugfix release? Since it advertises itself as a "Sage Math support library" it  doesn't make much sense that sage would have to patch it.



---

archive/issue_comments_412144.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFor some reason I thought this was already fixed--indeed the solution here would be to release a new pynac.",
    "created_at": "2018-11-27T10:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412144",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>

For some reason I thought this was already fixed--indeed the solution here would be to release a new pynac.



---

archive/issue_comments_412145.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nThis is the best solution of course. My only question is when can we expect a new release?",
    "created_at": "2018-11-27T10:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412145",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:7" align="right">comment:7</div>

This is the best solution of course. My only question is when can we expect a new release?



---

archive/issue_comments_412146.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Following #25979, this patch apply the modification from E.Bray's [PR:366](https://github.com/pynac/pynac/pull/336).\n+Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).\n \n This fix bugs in python3 like this one :\n \n``````\n",
    "created_at": "2018-12-08T19:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412146",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Following #25979, this patch apply the modification from E.Bray's [PR:366](https://github.com/pynac/pynac/pull/336).
+Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).
 
 This fix bugs in python3 like this one :
 
``````




---

archive/issue_events_364982.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-08T19:18:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "title_is": "Patch pynac with PR: 336",
    "title_was": "Patch pynac with PR: 366",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364982"
}
```



---

archive/issue_comments_412147.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nPatching packages from within Sage is not a bad thing. I just hope my upcoming Pynac upgrade ticket gets more review than this one.",
    "created_at": "2018-12-10T14:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412147",
    "user": "https://github.com/rwst"
}
```

<div id="comment:9" align="right">comment:9</div>

Patching packages from within Sage is not a bad thing. I just hope my upcoming Pynac upgrade ticket gets more review than this one.



---

archive/issue_comments_412148.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI disagree, patching packages from within sage *is* a bad thing. It greatly increases the workload for packagers, breaks assumptions of users and may result in confusing upstream bug reports. So at least from my point of view this did get reviewed, with the verdict being \"lets just do a proper update instead\".",
    "created_at": "2018-12-10T18:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412148",
    "user": "https://github.com/timokau"
}
```

<div id="comment:10" align="right">comment:10</div>

I disagree, patching packages from within sage *is* a bad thing. It greatly increases the workload for packagers, breaks assumptions of users and may result in confusing upstream bug reports. So at least from my point of view this did get reviewed, with the verdict being "lets just do a proper update instead".



---

archive/issue_comments_412149.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@timokau](#comment%3A10):\n> I disagree, patching packages from within sage *is* a bad thing.\n\n+1 we're trying to reduce the dependence on \"sage-the-distribution\" which has created an inordinate maintenance burden for the entire community.",
    "created_at": "2018-12-11T10:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412149",
    "user": "https://github.com/embray"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@timokau](#comment%3A10):
> I disagree, patching packages from within sage *is* a bad thing.

+1 we're trying to reduce the dependence on "sage-the-distribution" which has created an inordinate maintenance burden for the entire community.



---

archive/issue_events_364983.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-12-11T10:27:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364983"
}
```



---

archive/issue_comments_412150.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nOk then. Wontfix seems to be the majority view for this ticket",
    "created_at": "2018-12-11T10:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-412150",
    "user": "https://github.com/vinklein"
}
```

<div id="comment:12" align="right">comment:12</div>

Ok then. Wontfix seems to be the majority view for this ticket



---

archive/issue_events_364984.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-12-11T10:27:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364984"
}
```



---

archive/issue_events_364985.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-12-11T10:27:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364985"
}
```



---

archive/issue_events_364986.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364986"
}
```



---

archive/issue_events_364987.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364987"
}
```



---

archive/issue_events_364988.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364988"
}
```



---

archive/issue_events_364989.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "c6c6c6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-364989"
}
```
