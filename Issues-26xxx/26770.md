# Issue 26770: Patch pynac with PR: 336

archive/issues_026533.json:
```json
{
    "assignees": [],
    "body": "Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).\n\nThis fix bugs in python3 like this one :\n\n```\nsage: log(int(88705158), 4)\n1\n```\n\nCC:  @fchapoton @embray @rwst\n\nKeywords: **pynac, python3**\n\nBranch/Commit: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366) @ [3907c0b](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**\n\nAuthor: **Vincent Klein**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26770_\n\n",
    "closed_at": "2018-12-11T11:11:28Z",
    "created_at": "2018-11-26T15:44:45Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/wontfix"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Patch pynac with PR: 336",
    "type": "issue",
    "updated_at": "2018-12-11T11:11:28Z",
    "url": "https://github.com/sagemath/sage/issues/26770",
    "user": "https://github.com/vinklein"
}
```
Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).

This fix bugs in python3 like this one :

```
sage: log(int(88705158), 4)
1
```

CC:  @fchapoton @embray @rwst

Keywords: **pynac, python3**

Branch/Commit: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366) @ [3907c0b](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**

Author: **Vincent Klein**

_Issue created by migration from https://trac.sagemath.org/ticket/26770_





---

archive/issue_events_337390.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337390"
}
```



---

archive/issue_events_337391.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "component: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337391"
}
```



---

archive/issue_events_337392.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:44:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337392"
}
```



---

archive/issue_comments_415030.json:
```json
{
    "body": "Branch: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366)**",
    "created_at": "2018-11-26T15:49:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415030",
    "user": "https://github.com/vinklein"
}
```

Branch: **[u/vklein/patch_pynac_with_pr__366](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/patch_pynac_with_pr__366)**



---

archive/issue_comments_415031.json:
```json
{
    "body": "Author: **Vincent Klein**",
    "created_at": "2018-11-26T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415031",
    "user": "https://github.com/vinklein"
}
```

Author: **Vincent Klein**



---

archive/issue_comments_415032.json:
```json
{
    "body": "Commit: **[3907c0b](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**",
    "created_at": "2018-11-26T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415032",
    "user": "https://github.com/vinklein"
}
```

Commit: **[3907c0b](https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4)**



---

archive/issue_events_337393.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-11-26T15:51:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337393"
}
```



---

archive/issue_comments_415033.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4\">3907c0b</a></td><td><code>Trac #26770: Patch pynac to fix bug with long base ...</code></td></tr></table>\n",
    "created_at": "2018-11-26T15:51:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415033",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:2'>Comment 2:</a>
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3907c0bb31edbea6ebb2f03397d731d0f00c80c4">3907c0b</a></td><td><code>Trac #26770: Patch pynac to fix bug with long base ...</code></td></tr></table>




---

archive/issue_comments_415034.json:
```json
{
    "body": "Changed keywords from **** to **pynac, python3**",
    "created_at": "2018-11-26T16:02:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415034",
    "user": "https://github.com/vinklein"
}
```

Changed keywords from **** to **pynac, python3**



---

archive/issue_comments_415035.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nWouldn't it be better to just cut a new pynac bugfix release? Since it advertises itself as a \"Sage Math support library\" it  doesn't make much sense that sage would have to patch it.",
    "created_at": "2018-11-26T19:23:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415035",
    "user": "https://github.com/timokau"
}
```

<a id='comment:4'>Comment 4:</a>
Wouldn't it be better to just cut a new pynac bugfix release? Since it advertises itself as a "Sage Math support library" it  doesn't make much sense that sage would have to patch it.



---

archive/issue_comments_415036.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nFor some reason I thought this was already fixed--indeed the solution here would be to release a new pynac.",
    "created_at": "2018-11-27T10:02:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415036",
    "user": "https://github.com/embray"
}
```

<a id='comment:6'>Comment 6:</a>
For some reason I thought this was already fixed--indeed the solution here would be to release a new pynac.



---

archive/issue_comments_415037.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nThis is the best solution of course. My only question is when can we expect a new release?",
    "created_at": "2018-11-27T10:52:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415037",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:7'>Comment 7:</a>
This is the best solution of course. My only question is when can we expect a new release?



---

archive/issue_comments_415038.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n-Following #25979, this patch apply the modification from E.Bray's [PR:366](https://github.com/pynac/pynac/pull/336).\n+Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).\n \n This fix bugs in python3 like this one :\n \n``````\n",
    "created_at": "2018-12-08T19:18:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415038",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
-Following #25979, this patch apply the modification from E.Bray's [PR:366](https://github.com/pynac/pynac/pull/336).
+Following #25979, this patch apply the modification from E.Bray's [PR:336](https://github.com/pynac/pynac/pull/336).
 
 This fix bugs in python3 like this one :
 
``````




---

archive/issue_events_337394.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-08T19:18:04Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "title_is": "Patch pynac with PR: 336",
    "title_was": "Patch pynac with PR: 366",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337394"
}
```



---

archive/issue_comments_415039.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nPatching packages from within Sage is not a bad thing. I just hope my upcoming Pynac upgrade ticket gets more review than this one.",
    "created_at": "2018-12-10T14:15:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415039",
    "user": "https://github.com/rwst"
}
```

<a id='comment:9'>Comment 9:</a>
Patching packages from within Sage is not a bad thing. I just hope my upcoming Pynac upgrade ticket gets more review than this one.



---

archive/issue_comments_415040.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nI disagree, patching packages from within sage *is* a bad thing. It greatly increases the workload for packagers, breaks assumptions of users and may result in confusing upstream bug reports. So at least from my point of view this did get reviewed, with the verdict being \"lets just do a proper update instead\".",
    "created_at": "2018-12-10T18:45:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415040",
    "user": "https://github.com/timokau"
}
```

<a id='comment:10'>Comment 10:</a>
I disagree, patching packages from within sage *is* a bad thing. It greatly increases the workload for packagers, breaks assumptions of users and may result in confusing upstream bug reports. So at least from my point of view this did get reviewed, with the verdict being "lets just do a proper update instead".



---

archive/issue_comments_415041.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nReplying to [@timokau](#comment%3A10):\n> I disagree, patching packages from within sage *is* a bad thing.\n\n+1 we're trying to reduce the dependence on \"sage-the-distribution\" which has created an inordinate maintenance burden for the entire community.",
    "created_at": "2018-12-11T10:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415041",
    "user": "https://github.com/embray"
}
```

<a id='comment:11'>Comment 11:</a>
Replying to [@timokau](#comment%3A10):
> I disagree, patching packages from within sage *is* a bad thing.

+1 we're trying to reduce the dependence on "sage-the-distribution" which has created an inordinate maintenance burden for the entire community.



---

archive/issue_events_337395.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-12-11T10:27:25Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337395"
}
```



---

archive/issue_comments_415042.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nOk then. Wontfix seems to be the majority view for this ticket",
    "created_at": "2018-12-11T10:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26770#issuecomment-415042",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:12'>Comment 12:</a>
Ok then. Wontfix seems to be the majority view for this ticket



---

archive/issue_events_337396.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-12-11T10:27:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337396"
}
```



---

archive/issue_events_337397.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2018-12-11T10:27:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337397"
}
```



---

archive/issue_events_337398.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337398"
}
```



---

archive/issue_events_337399.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337399"
}
```



---

archive/issue_events_337400.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2018-12-11T11:11:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26770",
    "label": "https://github.com/sagemath/sage/labels/wontfix",
    "label_color": "a6a6a6",
    "label_name": "wontfix",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26770#event-337400"
}
```
