# Issue 26917: py3: some fix in set_partition

archive/issues_026680.json:
```json
{
    "assignees": [],
    "body": "\n\nCC:  @tscrim\n\nBranch/Commit: **[`171f988`](https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea)**\n\nReviewer: **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton, Martin Rubey**\n\nComponent: **python3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26917_\n\n",
    "closed_at": "2019-01-23T14:17:46Z",
    "created_at": "2018-12-19T19:24:57Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20python3",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "py3: some fix in set_partition",
    "type": "issue",
    "updated_at": "2019-01-23T14:17:46Z",
    "url": "https://github.com/sagemath/sage/issues/26917",
    "user": "https://github.com/fchapoton"
}
```


CC:  @tscrim

Branch/Commit: **[`171f988`](https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea)**

Reviewer: **Frédéric Chapoton, Travis Scrimshaw**

Author: **Frédéric Chapoton, Martin Rubey**

Component: **python3**

_Issue created by migration from https://trac.sagemath.org/ticket/26917_





---

archive/issue_events_369778.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-19T19:24:57Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369778"
}
```



---

archive/issue_events_369779.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-19T19:24:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20python3",
    "label_color": "000080",
    "label_name": "c: python3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369779"
}
```



---

archive/issue_events_369780.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-19T19:24:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369780"
}
```



---

archive/issue_events_369781.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-19T19:24:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369781"
}
```



---

archive/issue_comments_414751.json:
```json
{
    "body": "Commit: **[`1485eb0`](https://github.com/sagemath/sagetrac-mirror/commit/1485eb091fe76fb6968431a2c715e48a701ab7b8)**",
    "created_at": "2018-12-19T19:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414751",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[`1485eb0`](https://github.com/sagemath/sagetrac-mirror/commit/1485eb091fe76fb6968431a2c715e48a701ab7b8)**



---

archive/issue_comments_414752.json:
```json
{
    "body": "<div id=\"comment:1\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/1485eb091fe76fb6968431a2c715e48a701ab7b8\">1485eb0</a></td><td><code>py3: some fix in set_partition (sortable elements only)</code></td></tr></table>\n",
    "created_at": "2018-12-19T19:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414752",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:1"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/1485eb091fe76fb6968431a2c715e48a701ab7b8">1485eb0</a></td><td><code>py3: some fix in set_partition (sortable elements only)</code></td></tr></table>




---

archive/issue_events_369782.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-19T19:26:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369782"
}
```



---

archive/issue_comments_414753.json:
```json
{
    "body": "Branch: **[u/chapoton/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26917)**",
    "created_at": "2018-12-19T19:26:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414753",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26917)**



---

archive/issue_comments_414754.json:
```json
{
    "body": "Changed commit from **[`1485eb0`](https://github.com/sagemath/sagetrac-mirror/commit/1485eb091fe76fb6968431a2c715e48a701ab7b8)** to **[`a0f038f`](https://github.com/sagemath/sagetrac-mirror/commit/a0f038f7de5c4d6d7fad779b94735501713b49ba)**",
    "created_at": "2018-12-19T19:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414754",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`1485eb0`](https://github.com/sagemath/sagetrac-mirror/commit/1485eb091fe76fb6968431a2c715e48a701ab7b8)** to **[`a0f038f`](https://github.com/sagemath/sagetrac-mirror/commit/a0f038f7de5c4d6d7fad779b94735501713b49ba)**



---

archive/issue_comments_414755.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nBranch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0f038f7de5c4d6d7fad779b94735501713b49ba\">a0f038f</a></td><td><code>py3: some fix in set_partition (sortable elements only)</code></td></tr></table>\n",
    "created_at": "2018-12-19T19:32:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414755",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:2"></div>

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0f038f7de5c4d6d7fad779b94735501713b49ba">a0f038f</a></td><td><code>py3: some fix in set_partition (sortable elements only)</code></td></tr></table>




---

archive/issue_comments_414756.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\ngreen bot, please review",
    "created_at": "2018-12-20T07:42:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414756",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:3" align="right">comment:3</div>

green bot, please review



---

archive/issue_comments_414757.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nFrom the code, this should not be necessary. If this test is failing (on Py3), then is it failing because of a different order or generating an actual failure? If it is the latter, then it is definitely a bug in the code that should be fixed. If the former, then I don't understand why it is failing.",
    "created_at": "2018-12-20T07:48:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414757",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:4" align="right">comment:4</div>

From the code, this should not be necessary. If this test is failing (on Py3), then is it failing because of a different order or generating an actual failure? If it is the latter, then it is definitely a bug in the code that should be fixed. If the former, then I don't understand why it is failing.



---

archive/issue_comments_414758.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nRight. Indeed, it is not failing on python3. It starts to fail (in python2) when we turn the switch in #22029.\n\nSo, it is more like that: do not mix things that cannot be sorted inside the set underlying a set partition.",
    "created_at": "2018-12-20T08:34:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414758",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:5" align="right">comment:5</div>

Right. Indeed, it is not failing on python3. It starts to fail (in python2) when we turn the switch in #22029.

So, it is more like that: do not mix things that cannot be sorted inside the set underlying a set partition.



---

archive/issue_comments_414759.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI think there should be a decision on the assumption underlying set partitions.  There are several possibilities.  Currently several methods essentially assume that the ground set is totally ordered.\n\nIf we stick with this assumption, we can essentially assume that the ground set is 1,...,n.  In particular, notions such as crossings and nestings make sense.\n\nThere was an effort to remove this assumption, introducing `AbstractSetPartition`.  I am not sure whether this is worth it, however.",
    "created_at": "2018-12-20T08:49:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414759",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:6" align="right">comment:6</div>

I think there should be a decision on the assumption underlying set partitions.  There are several possibilities.  Currently several methods essentially assume that the ground set is totally ordered.

If we stick with this assumption, we can essentially assume that the ground set is 1,...,n.  In particular, notions such as crossings and nestings make sense.

There was an effort to remove this assumption, introducing `AbstractSetPartition`.  I am not sure whether this is worth it, however.



---

archive/issue_comments_414760.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\ntraceback on top of #22029:\n\n```\nsage -t --long --warn-long 54.8 src/sage/combinat/set_partition.py\n**********************************************************************\nFile \"src/sage/combinat/set_partition.py\", line 701, in sage.combinat.set_partition.SetPartition._latex_\nFailed example:\n    p = SetPartition([['a','c'],['b',1],[20]])\nException raised:\n    Traceback (most recent call last):\n      File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 671, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1086, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.combinat.set_partition.SetPartition._latex_[4]>\", line 1, in <module>\n        p = SetPartition([['a','c'],['b',Integer(1)],[Integer(20)]])\n      File \"sage/misc/classcall_metaclass.pyx\", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1701)\n        return cls.classcall(cls, *args, **kwds)\n      File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage/combinat/set_partition.py\", line 537, in __classcall_private__\n        return P.element_class(P, parts, check=check)\n      File \"sage/misc/classcall_metaclass.pyx\", line 333, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1726)\n        return (<PyTypeObject*>type).tp_call(cls, args, kwds)\n      File \"/home/chapoton/sage/local/lib/python2.7/site-packages/sage/combinat/set_partition.py\", line 556, in __init__\n        ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)\n      File \"sage/rings/integer.pyx\", line 952, in sage.rings.integer.Integer.__richcmp__ (build/cythonized/sage/rings/integer.c:7787)\n        return coercion_model.richcmp(left, right, op)\n      File \"sage/structure/coerce.pyx\", line 1992, in sage.structure.coerce.CoercionModel_cache_maps.richcmp (build/cythonized/sage/structure/coerce.c:20111)\n        raise bin_op_exception('>', x, y)\n    TypeError: unsupported operand parent(s) for >: 'Integer Ring' and '<type 'str'>'\n```",
    "created_at": "2018-12-20T17:51:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414760",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:7" align="right">comment:7</div>

traceback on top of #22029:

```
sage -t --long --warn-long 54.8 src/sage/combinat/set_partition.py
**********************************************************************
File "src/sage/combinat/set_partition.py", line 701, in sage.combinat.set_partition.SetPartition._latex_
Failed example:
    p = SetPartition([['a','c'],['b',1],[20]])
Exception raised:
    Traceback (most recent call last):
      File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 671, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 1086, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.set_partition.SetPartition._latex_[4]>", line 1, in <module>
        p = SetPartition([['a','c'],['b',Integer(1)],[Integer(20)]])
      File "sage/misc/classcall_metaclass.pyx", line 330, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1701)
        return cls.classcall(cls, *args, **kwds)
      File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/combinat/set_partition.py", line 537, in __classcall_private__
        return P.element_class(P, parts, check=check)
      File "sage/misc/classcall_metaclass.pyx", line 333, in sage.misc.classcall_metaclass.ClasscallMetaclass.__call__ (build/cythonized/sage/misc/classcall_metaclass.c:1726)
        return (<PyTypeObject*>type).tp_call(cls, args, kwds)
      File "/home/chapoton/sage/local/lib/python2.7/site-packages/sage/combinat/set_partition.py", line 556, in __init__
        ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)
      File "sage/rings/integer.pyx", line 952, in sage.rings.integer.Integer.__richcmp__ (build/cythonized/sage/rings/integer.c:7787)
        return coercion_model.richcmp(left, right, op)
      File "sage/structure/coerce.pyx", line 1992, in sage.structure.coerce.CoercionModel_cache_maps.richcmp (build/cythonized/sage/structure/coerce.c:20111)
        raise bin_op_exception('>', x, y)
    TypeError: unsupported operand parent(s) for >: 'Integer Ring' and '<type 'str'>'
```



---

archive/issue_comments_414761.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nReplying to [@mantepse](#comment:6):\n> I think there should be a decision on the assumption underlying set partitions.  There are several possibilities.  Currently several methods essentially assume that the ground set is totally ordered.\n> \n> If we stick with this assumption, we can essentially assume that the ground set is 1,...,n.  In particular, notions such as crossings and nestings make sense.\n> \n> There was an effort to remove this assumption, introducing `AbstractSetPartition`.  I am not sure whether this is worth it, however.\n\nI think we should keep the current implementation: Let the methods error out when the `SetPartition` is not on `[n]`. For permutations, this makes more sense to have a special class for \"standard\" permutations (speed and the essentially ubiquity of `{1,...,n}`). However, this creates a fair bit of extra maintenance burden.\n\nTL;DR I think we should avoid forcing the ground set to be `[n]`.",
    "created_at": "2018-12-21T00:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414761",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:8" align="right">comment:8</div>

Replying to [@mantepse](#comment:6):
> I think there should be a decision on the assumption underlying set partitions.  There are several possibilities.  Currently several methods essentially assume that the ground set is totally ordered.
> 
> If we stick with this assumption, we can essentially assume that the ground set is 1,...,n.  In particular, notions such as crossings and nestings make sense.
> 
> There was an effort to remove this assumption, introducing `AbstractSetPartition`.  I am not sure whether this is worth it, however.

I think we should keep the current implementation: Let the methods error out when the `SetPartition` is not on `[n]`. For permutations, this makes more sense to have a special class for "standard" permutations (speed and the essentially ubiquity of `{1,...,n}`). However, this creates a fair bit of extra maintenance burden.

TL;DR I think we should avoid forcing the ground set to be `[n]`.



---

archive/issue_comments_414762.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\ncomment:7 is a hard error that prevents a set partition from being constructed from any incomparable objects.\n\nMy opinion would be to instead do this change:\n\n```diff\n-ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)\n+try:\n+    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)\n+except TypeError:\n+    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=lambda x: str(min(x))),\n+                           check=check)\n```",
    "created_at": "2018-12-21T00:55:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414762",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:9" align="right">comment:9</div>

comment:7 is a hard error that prevents a set partition from being constructed from any incomparable objects.

My opinion would be to instead do this change:

```diff
-ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)
+try:
+    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)
+except TypeError:
+    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=lambda x: str(min(x))),
+                           check=check)
```



---

archive/issue_comments_414763.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nHi Travis!\n\nSo, would you (just as I would) vote for removing `AbstractSetPartition` again?\n\nI admit I am confused about would you would prefer:\n\n1) a single implementation of set partitions, with arbitrary, possibly non-sortable ground set.  Some methods may return nonsense, some methods may yield an error.\n\n2) a single implementation of set partitions, with arbitrary, possibly non-sortable ground set.  Methods may yield an error, but will not return nonsense.  I believe that this is hard to achieve, when we want to keep speed.\n\n3) it seems that you (and me also) do not like the current state, which is an incomplete split between sortable and non-sortable ground set.\n\nI am certainly not saying that we should have only set partitions on `[n]`.",
    "created_at": "2018-12-21T07:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414763",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:10" align="right">comment:10</div>

Hi Travis!

So, would you (just as I would) vote for removing `AbstractSetPartition` again?

I admit I am confused about would you would prefer:

1) a single implementation of set partitions, with arbitrary, possibly non-sortable ground set.  Some methods may return nonsense, some methods may yield an error.

2) a single implementation of set partitions, with arbitrary, possibly non-sortable ground set.  Methods may yield an error, but will not return nonsense.  I believe that this is hard to achieve, when we want to keep speed.

3) it seems that you (and me also) do not like the current state, which is an incomplete split between sortable and non-sortable ground set.

I am certainly not saying that we should have only set partitions on `[n]`.



---

archive/issue_comments_414764.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI don't like it, but there are reasons for having it for comb. Hopf algebras IIRC. At least with a partial split, we can be fluid about what goes where, which lowers the maintenance burden.\n\nI am for option 1 as people doing things on more generic set partitions will almost certainly not be doing any other special methods (mainly, they are probably looking to enumerate the set partitions).",
    "created_at": "2018-12-21T18:11:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414764",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:11" align="right">comment:11</div>

I don't like it, but there are reasons for having it for comb. Hopf algebras IIRC. At least with a partial split, we can be fluid about what goes where, which lowers the maintenance burden.

I am for option 1 as people doing things on more generic set partitions will almost certainly not be doing any other special methods (mainly, they are probably looking to enumerate the set partitions).



---

archive/issue_comments_414765.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA related ticket is #25451. However, I think it would indeed be better to get rid of `AbstractSetPartition` again.  It is only used in `diagram_algebras.py`.\n\nApart from that I would like to go with Travis' proposal.  Any objections?",
    "created_at": "2018-12-25T10:02:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414765",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:12" align="right">comment:12</div>

A related ticket is #25451. However, I think it would indeed be better to get rid of `AbstractSetPartition` again.  It is only used in `diagram_algebras.py`.

Apart from that I would like to go with Travis' proposal.  Any objections?



---

archive/issue_events_369783.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-25T11:03:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369783"
}
```



---

archive/issue_events_369784.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-25T11:03:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369784"
}
```



---

archive/issue_comments_414766.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@tscrim](#comment:9):\n> comment:7 is a hard error that prevents a set partition from being constructed from any incomparable objects.\n> \n> My opinion would be to instead do this change:\n> \n> ```diff\n> -ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)\n> +try:\n> +    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)\n> +except TypeError:\n> +    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=lambda x: str(min(x))),\n> +                           check=check)\n> ```\n\nIs the sorting relevant in the first place? Couldn't we just keep things in the order that the user gives them?",
    "created_at": "2018-12-25T13:10:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414766",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@tscrim](#comment:9):
> comment:7 is a hard error that prevents a set partition from being constructed from any incomparable objects.
> 
> My opinion would be to instead do this change:
> 
> ```diff
> -ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)
> +try:
> +    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=min), check=check)
> +except TypeError:
> +    ClonableArray.__init__(self, parent, sorted(map(frozenset, s), key=lambda x: str(min(x))),
> +                           check=check)
> ```

Is the sorting relevant in the first place? Couldn't we just keep things in the order that the user gives them?



---

archive/issue_comments_414767.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\n> Couldn't we just keep things in the order that the user gives them?\n\nNo, because we want to be able to compare two set partitions quickly.\n\n(the real thing would be to use restricted growth words, but there was a vote against it, and so far nobody asked for *really* fast set partitions)",
    "created_at": "2018-12-25T14:50:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414767",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:15" align="right">comment:15</div>

> Couldn't we just keep things in the order that the user gives them?

No, because we want to be able to compare two set partitions quickly.

(the real thing would be to use restricted growth words, but there was a vote against it, and so far nobody asked for *really* fast set partitions)



---

archive/issue_comments_414768.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nReplying to [@mantepse](#comment:12):\n> A related ticket is #25451. However, I think it would indeed be better to get rid of `AbstractSetPartition` again.  It is only used in `diagram_algebras.py`.\n> \n> Apart from that I would like to go with Travis' proposal.  Any objections?\n\nYes, I do. This abstraction is useful for the diagram algebras. The number of uses (as long as it is more than one) is not a good reason for removal. It also is not really a big maintenance burden. So -1, still.",
    "created_at": "2018-12-25T15:41:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414768",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:16" align="right">comment:16</div>

Replying to [@mantepse](#comment:12):
> A related ticket is #25451. However, I think it would indeed be better to get rid of `AbstractSetPartition` again.  It is only used in `diagram_algebras.py`.
> 
> Apart from that I would like to go with Travis' proposal.  Any objections?

Yes, I do. This abstraction is useful for the diagram algebras. The number of uses (as long as it is more than one) is not a good reason for removal. It also is not really a big maintenance burden. So -1, still.



---

archive/issue_comments_414769.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n> Yes, I do. This abstraction is useful for the diagram algebras. The number of uses (as long as it is more than one) is not a good reason for removal. It also is not really a big maintenance burden. So -1, still.\n\nI don't mind.  What's the second use of `AbstractSetPartition`?\n\nCan we go ahead with your proposal in this ticket?",
    "created_at": "2018-12-25T18:24:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414769",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:17" align="right">comment:17</div>

> Yes, I do. This abstraction is useful for the diagram algebras. The number of uses (as long as it is more than one) is not a good reason for removal. It also is not really a big maintenance burden. So -1, still.

I don't mind.  What's the second use of `AbstractSetPartition`?

Can we go ahead with your proposal in this ticket?



---

archive/issue_comments_414770.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI just realised that I already said that equality of set partitions cannot work \n\n```\nsage: n=4; s = [frozenset([2*i, 2*i+1]) for i in range(n)]\nsage: p1 = SetPartition([[s[0]], [s[1]]])\nsage: p2 = SetPartition([[s[1]], [s[0]]])\nsage: p1 == p2\nFalse\n```\n\nTherefore I think that having an error raised when the base set is not totally ordered is actually much better.  (I do realise that the example above won't give an error in python3, but at least we shouldn't make matters worse.)\n\nIf really desired, generalising set partitions to non-totally ordered sets should go into another ticket, so I'd like to set this to positive review.",
    "created_at": "2018-12-26T08:44:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414770",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:18" align="right">comment:18</div>

I just realised that I already said that equality of set partitions cannot work 

```
sage: n=4; s = [frozenset([2*i, 2*i+1]) for i in range(n)]
sage: p1 = SetPartition([[s[0]], [s[1]]])
sage: p2 = SetPartition([[s[1]], [s[0]]])
sage: p1 == p2
False
```

Therefore I think that having an error raised when the base set is not totally ordered is actually much better.  (I do realise that the example above won't give an error in python3, but at least we shouldn't make matters worse.)

If really desired, generalising set partitions to non-totally ordered sets should go into another ticket, so I'd like to set this to positive review.



---

archive/issue_events_369785.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-26T08:44:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369785"
}
```



---

archive/issue_events_369786.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-26T08:44:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369786"
}
```



---

archive/issue_comments_414771.json:
```json
{
    "body": "Reviewer: **Martin Rubey**",
    "created_at": "2018-12-26T08:44:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414771",
    "user": "https://github.com/mantepse"
}
```

Reviewer: **Martin Rubey**



---

archive/issue_comments_414772.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nTravis, just to be clear: feel free to set this to `needs work` again if you disagree with my reasoning.",
    "created_at": "2018-12-26T08:45:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414772",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:20" align="right">comment:20</div>

Travis, just to be clear: feel free to set this to `needs work` again if you disagree with my reasoning.



---

archive/issue_comments_414773.json:
```json
{
    "body": "Changed branch from **[u/chapoton/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26917)** to **[u/mantepse/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/26917)**",
    "created_at": "2018-12-26T09:23:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414773",
    "user": "https://github.com/mantepse"
}
```

Changed branch from **[u/chapoton/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/26917)** to **[u/mantepse/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/26917)**



---

archive/issue_comments_414774.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nI took the liberty of adding an example indicating the limitation.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94bc96a01ab26655f1ffeb96da90e07a69da59c3\">94bc96a</a></td><td><code>make clear that equality needs a totally ordered set</code></td></tr></table>\n",
    "created_at": "2018-12-26T09:24:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414774",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:22" align="right">comment:22</div>

I took the liberty of adding an example indicating the limitation.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94bc96a01ab26655f1ffeb96da90e07a69da59c3">94bc96a</a></td><td><code>make clear that equality needs a totally ordered set</code></td></tr></table>




---

archive/issue_comments_414775.json:
```json
{
    "body": "Changed commit from **[`a0f038f`](https://github.com/sagemath/sagetrac-mirror/commit/a0f038f7de5c4d6d7fad779b94735501713b49ba)** to **[`94bc96a`](https://github.com/sagemath/sagetrac-mirror/commit/94bc96a01ab26655f1ffeb96da90e07a69da59c3)**",
    "created_at": "2018-12-26T09:24:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414775",
    "user": "https://github.com/mantepse"
}
```

Changed commit from **[`a0f038f`](https://github.com/sagemath/sagetrac-mirror/commit/a0f038f7de5c4d6d7fad779b94735501713b49ba)** to **[`94bc96a`](https://github.com/sagemath/sagetrac-mirror/commit/94bc96a01ab26655f1ffeb96da90e07a69da59c3)**



---

archive/issue_events_369787.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-12-26T17:02:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369787"
}
```



---

archive/issue_events_369788.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-12-26T17:02:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369788"
}
```



---

archive/issue_comments_414776.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nThis should have been reset to needs review with the extra commit.\n\nYou should change \"is not well defined\" to \"may give incorrect answers\".",
    "created_at": "2018-12-26T17:02:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414776",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:23" align="right">comment:23</div>

This should have been reset to needs review with the extra commit.

You should change "is not well defined" to "may give incorrect answers".



---

archive/issue_comments_414777.json:
```json
{
    "body": "Changed commit from **[`94bc96a`](https://github.com/sagemath/sagetrac-mirror/commit/94bc96a01ab26655f1ffeb96da90e07a69da59c3)** to **[`171f988`](https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea)**",
    "created_at": "2018-12-26T17:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414777",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`94bc96a`](https://github.com/sagemath/sagetrac-mirror/commit/94bc96a01ab26655f1ffeb96da90e07a69da59c3)** to **[`171f988`](https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea)**



---

archive/issue_comments_414778.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c0cd90df5c839bb9edace8f2899166531bfac5b\">4c0cd90</a></td><td><code>reword as requested</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea\">171f988</a></td><td><code>same for inequality</code></td></tr></table>\n",
    "created_at": "2018-12-26T17:53:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414778",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c0cd90df5c839bb9edace8f2899166531bfac5b">4c0cd90</a></td><td><code>reword as requested</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea">171f988</a></td><td><code>same for inequality</code></td></tr></table>




---

archive/issue_events_369789.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-26T17:55:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369789"
}
```



---

archive/issue_events_369790.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-26T17:55:24Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369790"
}
```



---

archive/issue_comments_414779.json:
```json
{
    "body": "Changed reviewer from **Martin Rubey** to none",
    "created_at": "2018-12-26T17:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414779",
    "user": "https://github.com/mantepse"
}
```

Changed reviewer from **Martin Rubey** to none



---

archive/issue_comments_414780.json:
```json
{
    "body": "Changed author from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Martin Rubey**",
    "created_at": "2018-12-26T17:55:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414780",
    "user": "https://github.com/mantepse"
}
```

Changed author from **Frédéric Chapoton** to **Frédéric Chapoton, Martin Rubey**



---

archive/issue_comments_414781.json:
```json
{
    "body": "Reviewer: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-12-31T19:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414781",
    "user": "https://github.com/fchapoton"
}
```

Reviewer: **Frédéric Chapoton**



---

archive/issue_comments_414782.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\ngood enough for me. Travis, do you agree ?",
    "created_at": "2018-12-31T19:50:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414782",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">comment:26</div>

good enough for me. Travis, do you agree ?



---

archive/issue_comments_414783.json:
```json
{
    "body": "Changed reviewer from **Fr\u00e9d\u00e9ric Chapoton** to **Fr\u00e9d\u00e9ric Chapoton, Travis Scrimshaw**",
    "created_at": "2019-01-01T17:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414783",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Frédéric Chapoton** to **Frédéric Chapoton, Travis Scrimshaw**



---

archive/issue_events_369791.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-01T17:29:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369791"
}
```



---

archive/issue_events_369792.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-01T17:29:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369792"
}
```



---

archive/issue_comments_414784.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThis is okay with me.",
    "created_at": "2019-01-01T17:29:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414784",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:27" align="right">comment:27</div>

This is okay with me.



---

archive/issue_events_369793.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369793"
}
```



---

archive/issue_events_369794.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369794"
}
```



---

archive/issue_comments_414785.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414785",
    "user": "https://github.com/embray"
}
```

<div id="comment:28" align="right">comment:28</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_369795.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-23T14:17:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369795"
}
```



---

archive/issue_events_369796.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "6a818ec5e1fcc1ad85c375778aa5e21722372479",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-23T14:17:46Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26917#event-369796"
}
```



---

archive/issue_comments_414786.json:
```json
{
    "body": "Changed branch from **[u/mantepse/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/26917)** to **[`171f988`](https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea)**",
    "created_at": "2019-01-23T14:17:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26917",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26917#issuecomment-414786",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mantepse/26917](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/26917)** to **[`171f988`](https://github.com/sagemath/sagetrac-mirror/commit/171f9885ff150378e69de4cdfeea2fb1d6b107ea)**
