# Issue 26792: py3: Stop to use sort on KeyConvertingDict object

archive/issues_026555.json:
```json
{
    "body": "With python3 we currently have 40 failures of type \n\n```\nTypeError: '<' not supported between instances of 'KeyConvertingDict' and 'KeyConvertingDict'\n```\nThese errors comes from the call of `V.sort()` in multi_polynomial_ideal.py\", line 2381, `variety` function.\n\nThe root reason for calling `sort` is for doctest displaying : \n>commit 17f42824d8941b23825fea1a6d82278bd5ef6c74\n>Author: Carl Witty <cwitty@newtonlabs.com>\n>Date:   Wed Oct 24 18:36:37 2007 -0700\n>\n>    Sort results of variety(), for better cross-architecture doctest compatibility.\n>    This compensates for the fact that the results of Singular's triangular\n>    decomposition algorithm triangLfak appear in a different order on\n>    different architectures.  (It would be better to fix this in\n>    triangular_decomposition(), but the obvious approach of sorting its\n>    result failed due to TRAC #991.)\n\nAs it will not make a lot of sense to implement comparison operators for KeyConvertingDict this ticket aim at solving the sorting problems at doctests level rather than at python source code level.\n\n**Branch/Commit:** [c9c10475a2dae3691bcfb330c99522df82e387b2](https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2)\n\n**Reviewer:** Fr\u00e9d\u00e9ric Chapoton\n\n**Author:** Vincent Klein\n\nIssue created by migration from https://trac.sagemath.org/ticket/26792\n\n",
    "closed_at": "2019-02-22T22:01:10Z",
    "created_at": "2018-11-30T10:37:50Z",
    "labels": [
        "component: python3",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "title": "py3: Stop to use sort on KeyConvertingDict object",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/26792",
    "user": "https://github.com/vinklein"
}
```
With python3 we currently have 40 failures of type 

```
TypeError: '<' not supported between instances of 'KeyConvertingDict' and 'KeyConvertingDict'
```
These errors comes from the call of `V.sort()` in multi_polynomial_ideal.py", line 2381, `variety` function.

The root reason for calling `sort` is for doctest displaying : 
>commit 17f42824d8941b23825fea1a6d82278bd5ef6c74
>Author: Carl Witty <cwitty@newtonlabs.com>
>Date:   Wed Oct 24 18:36:37 2007 -0700
>
>    Sort results of variety(), for better cross-architecture doctest compatibility.
>    This compensates for the fact that the results of Singular's triangular
>    decomposition algorithm triangLfak appear in a different order on
>    different architectures.  (It would be better to fix this in
>    triangular_decomposition(), but the obvious approach of sorting its
>    result failed due to TRAC #991.)

As it will not make a lot of sense to implement comparison operators for KeyConvertingDict this ticket aim at solving the sorting problems at doctests level rather than at python source code level.

**Branch/Commit:** [c9c10475a2dae3691bcfb330c99522df82e387b2](https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2)

**Reviewer:** Frédéric Chapoton

**Author:** Vincent Klein

Issue created by migration from https://trac.sagemath.org/ticket/26792





---

archive/issue_comments_415272.json:
```json
{
    "body": "**Reviewer:** Vincent Klein",
    "created_at": "2018-11-30T10:38:35Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415272",
    "user": "https://github.com/vinklein"
}
```

**Reviewer:** Vincent Klein



---

archive/issue_comments_415273.json:
```json
{
    "body": "**Changing reviewer** from \"Vincent Klein\" to \"\".",
    "created_at": "2018-11-30T10:38:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415273",
    "user": "https://github.com/vinklein"
}
```

**Changing reviewer** from "Vincent Klein" to "".



---

archive/issue_comments_415274.json:
```json
{
    "body": "**Author:** Vincent Klein",
    "created_at": "2018-11-30T10:38:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415274",
    "user": "https://github.com/vinklein"
}
```

**Author:** Vincent Klein



---

archive/issue_comments_415275.json:
```json
{
    "body": "**Branch:** [u/vklein/26792](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/26792)",
    "created_at": "2018-11-30T16:40:09Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415275",
    "user": "https://github.com/vinklein"
}
```

**Branch:** [u/vklein/26792](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/26792)



---

archive/issue_comments_415276.json:
```json
{
    "body": "**Commit:** [4b8a3e59a962bb6c003162ff0ab8fe986c111d06](https://github.com/sagemath/sagetrac-mirror/commit/4b8a3e59a962bb6c003162ff0ab8fe986c111d06)",
    "created_at": "2018-11-30T17:03:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415276",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Commit:** [4b8a3e59a962bb6c003162ff0ab8fe986c111d06](https://github.com/sagemath/sagetrac-mirror/commit/4b8a3e59a962bb6c003162ff0ab8fe986c111d06)



---

archive/issue_comments_415277.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4b8a3e59a962bb6c003162ff0ab8fe986c111d06\">4b8a3e5</a></td><td><code>Trac #26781: replace dict.iteritems calls by dict.items</code></td></tr></table>\n",
    "created_at": "2018-11-30T17:03:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415277",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:4'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4b8a3e59a962bb6c003162ff0ab8fe986c111d06">4b8a3e5</a></td><td><code>Trac #26781: replace dict.iteritems calls by dict.items</code></td></tr></table>




---

archive/issue_comments_415278.json:
```json
{
    "body": "<a id='comment:5'></a>\nAdd #23572 as dependency for mpoly renaming.",
    "created_at": "2018-12-03T08:54:02Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415278",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:5'></a>
Add #23572 as dependency for mpoly renaming.



---

archive/issue_comments_415279.json:
```json
{
    "body": "**Dependencies:** #23572",
    "created_at": "2018-12-03T08:54:02Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415279",
    "user": "https://github.com/vinklein"
}
```

**Dependencies:** #23572



---

archive/issue_events_236399.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:37:39Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236399"
}
```



---

archive/issue_events_236400.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-12-29T14:37:39Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236400"
}
```



---

archive/issue_comments_415280.json:
```json
{
    "body": "**Changing commit** from \"[4b8a3e59a962bb6c003162ff0ab8fe986c111d06](https://github.com/sagemath/sagetrac-mirror/commit/4b8a3e59a962bb6c003162ff0ab8fe986c111d06)\" to \"[b78d1c42b3d3dbab29075404285d965ded990ee6](https://github.com/sagemath/sagetrac-mirror/commit/b78d1c42b3d3dbab29075404285d965ded990ee6)\".",
    "created_at": "2019-01-23T10:20:44Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415280",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4b8a3e59a962bb6c003162ff0ab8fe986c111d06](https://github.com/sagemath/sagetrac-mirror/commit/4b8a3e59a962bb6c003162ff0ab8fe986c111d06)" to "[b78d1c42b3d3dbab29075404285d965ded990ee6](https://github.com/sagemath/sagetrac-mirror/commit/b78d1c42b3d3dbab29075404285d965ded990ee6)".



---

archive/issue_comments_415281.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b32170fe754f9293b8c7324414511c61f12ce64b\">b32170f</a></td><td><code>reviewer suggestion about independent set test</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/324b483928015c6aa59b00eb7ba4ca9e3cfa3841\">324b483</a></td><td><code>Merge branch 'public/french_book_python3' in 8.6.b0</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a00c64c5d6f0599b988469895f69837dba8d9e71\">a00c64c</a></td><td><code>livre sage doctests: fix floating errors</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c6139a8390accbad55e913cba4dd06f2f74787a\">3c6139a</a></td><td><code>Merge branch 'public/french_book_python3' in 8.6.b1</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6d6fb708c43e73cf173845cab7a188f61729d96b\">6d6fb70</a></td><td><code>partial fix for numerical noise on osX</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/17d97d8a974bcc684668385b4072803d69cfa815\">17d97d8</a></td><td><code>Merge branch 'public/french_book_python3' in 8.6</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6da362973acff90517448e8e8fb3eef6282b313f\">6da3629</a></td><td><code>book doctests : adding some tolerance again</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5fd786727db15f32d5a7781e1899d4a5ec54ff9b\">5fd7867</a></td><td><code>Trac #26792: py3: Stop to use sort on KeyConvertingDict object</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/140623f825caef3fc1df86808a530422c2b4a709\">140623f</a></td><td><code>Trac #26792: py3: fix test.french_book_mpoly module</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b78d1c42b3d3dbab29075404285d965ded990ee6\">b78d1c4</a></td><td><code>Trac #26792: replace dict.iteritems calls by dict.items</code></td></tr></table>\n",
    "created_at": "2019-01-23T10:20:44Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415281",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:7'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **Last 10 new commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b32170fe754f9293b8c7324414511c61f12ce64b">b32170f</a></td><td><code>reviewer suggestion about independent set test</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/324b483928015c6aa59b00eb7ba4ca9e3cfa3841">324b483</a></td><td><code>Merge branch 'public/french_book_python3' in 8.6.b0</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a00c64c5d6f0599b988469895f69837dba8d9e71">a00c64c</a></td><td><code>livre sage doctests: fix floating errors</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c6139a8390accbad55e913cba4dd06f2f74787a">3c6139a</a></td><td><code>Merge branch 'public/french_book_python3' in 8.6.b1</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6d6fb708c43e73cf173845cab7a188f61729d96b">6d6fb70</a></td><td><code>partial fix for numerical noise on osX</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/17d97d8a974bcc684668385b4072803d69cfa815">17d97d8</a></td><td><code>Merge branch 'public/french_book_python3' in 8.6</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6da362973acff90517448e8e8fb3eef6282b313f">6da3629</a></td><td><code>book doctests : adding some tolerance again</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5fd786727db15f32d5a7781e1899d4a5ec54ff9b">5fd7867</a></td><td><code>Trac #26792: py3: Stop to use sort on KeyConvertingDict object</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/140623f825caef3fc1df86808a530422c2b4a709">140623f</a></td><td><code>Trac #26792: py3: fix test.french_book_mpoly module</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b78d1c42b3d3dbab29075404285d965ded990ee6">b78d1c4</a></td><td><code>Trac #26792: replace dict.iteritems calls by dict.items</code></td></tr></table>




---

archive/issue_comments_415282.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/822e4dea5cd65ec8061c9c73676762a1228fe61b\">822e4de</a></td><td><code>Trac #26792: py3: Stop to use sort on KeyConvertingDict object</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ceee97f1c993abec0f194e23631ab799f86e71db\">ceee97f</a></td><td><code>Trac #26792: replace dict.iteritems calls by dict.items</code></td></tr></table>\n",
    "created_at": "2019-01-31T14:30:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415282",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/822e4dea5cd65ec8061c9c73676762a1228fe61b">822e4de</a></td><td><code>Trac #26792: py3: Stop to use sort on KeyConvertingDict object</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ceee97f1c993abec0f194e23631ab799f86e71db">ceee97f</a></td><td><code>Trac #26792: replace dict.iteritems calls by dict.items</code></td></tr></table>




---

archive/issue_comments_415283.json:
```json
{
    "body": "**Changing commit** from \"[b78d1c42b3d3dbab29075404285d965ded990ee6](https://github.com/sagemath/sagetrac-mirror/commit/b78d1c42b3d3dbab29075404285d965ded990ee6)\" to \"[ceee97f1c993abec0f194e23631ab799f86e71db](https://github.com/sagemath/sagetrac-mirror/commit/ceee97f1c993abec0f194e23631ab799f86e71db)\".",
    "created_at": "2019-01-31T14:30:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415283",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[b78d1c42b3d3dbab29075404285d965ded990ee6](https://github.com/sagemath/sagetrac-mirror/commit/b78d1c42b3d3dbab29075404285d965ded990ee6)" to "[ceee97f1c993abec0f194e23631ab799f86e71db](https://github.com/sagemath/sagetrac-mirror/commit/ceee97f1c993abec0f194e23631ab799f86e71db)".



---

archive/issue_comments_415284.json:
```json
{
    "body": "<a id='comment:9'></a>\nTicket rebased on 8.7.beta1.",
    "created_at": "2019-01-31T14:32:52Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415284",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:9'></a>
Ticket rebased on 8.7.beta1.



---

archive/issue_comments_415285.json:
```json
{
    "body": "**Changing dependencies** from \"#23572\" to \"\".",
    "created_at": "2019-01-31T14:32:52Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415285",
    "user": "https://github.com/vinklein"
}
```

**Changing dependencies** from "#23572" to "".



---

archive/issue_comments_415286.json:
```json
{
    "body": "<a id='comment:10'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac\">3c0660c</a></td><td><code>Trac #26792: fix mpoly.py doctests</code></td></tr></table>\n",
    "created_at": "2019-01-31T15:35:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415286",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:10'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac">3c0660c</a></td><td><code>Trac #26792: fix mpoly.py doctests</code></td></tr></table>




---

archive/issue_comments_415287.json:
```json
{
    "body": "**Changing commit** from \"[ceee97f1c993abec0f194e23631ab799f86e71db](https://github.com/sagemath/sagetrac-mirror/commit/ceee97f1c993abec0f194e23631ab799f86e71db)\" to \"[3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac](https://github.com/sagemath/sagetrac-mirror/commit/3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac)\".",
    "created_at": "2019-01-31T15:35:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415287",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[ceee97f1c993abec0f194e23631ab799f86e71db](https://github.com/sagemath/sagetrac-mirror/commit/ceee97f1c993abec0f194e23631ab799f86e71db)" to "[3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac](https://github.com/sagemath/sagetrac-mirror/commit/3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac)".



---

archive/issue_comments_415288.json:
```json
{
    "body": "<a id='comment:11'></a>\nFix mpoly.py doctests and remove #23572 dependency.",
    "created_at": "2019-01-31T15:35:43Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415288",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:11'></a>
Fix mpoly.py doctests and remove #23572 dependency.



---

archive/issue_comments_415289.json:
```json
{
    "body": "**Changing commit** from \"[3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac](https://github.com/sagemath/sagetrac-mirror/commit/3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac)\" to \"[9f3984b12fba4c0ffec6ff761a5faf76637fad3b](https://github.com/sagemath/sagetrac-mirror/commit/9f3984b12fba4c0ffec6ff761a5faf76637fad3b)\".",
    "created_at": "2019-01-31T15:51:33Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415289",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac](https://github.com/sagemath/sagetrac-mirror/commit/3c0660cb0219f4d4f9a5f111050ddf652dc2d6ac)" to "[9f3984b12fba4c0ffec6ff761a5faf76637fad3b](https://github.com/sagemath/sagetrac-mirror/commit/9f3984b12fba4c0ffec6ff761a5faf76637fad3b)".



---

archive/issue_comments_415290.json:
```json
{
    "body": "<a id='comment:12'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9f3984b12fba4c0ffec6ff761a5faf76637fad3b\">9f3984b</a></td><td><code>Trac #26792: fix mpoly.py doctests</code></td></tr></table>\n",
    "created_at": "2019-01-31T15:51:33Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415290",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:12'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9f3984b12fba4c0ffec6ff761a5faf76637fad3b">9f3984b</a></td><td><code>Trac #26792: fix mpoly.py doctests</code></td></tr></table>




---

archive/issue_comments_415291.json:
```json
{
    "body": "**Changing commit** from \"[9f3984b12fba4c0ffec6ff761a5faf76637fad3b](https://github.com/sagemath/sagetrac-mirror/commit/9f3984b12fba4c0ffec6ff761a5faf76637fad3b)\" to \"[f5ce2fa06f5f4c7da222461a8a3477d0302dbe75](https://github.com/sagemath/sagetrac-mirror/commit/f5ce2fa06f5f4c7da222461a8a3477d0302dbe75)\".",
    "created_at": "2019-01-31T16:13:07Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415291",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9f3984b12fba4c0ffec6ff761a5faf76637fad3b](https://github.com/sagemath/sagetrac-mirror/commit/9f3984b12fba4c0ffec6ff761a5faf76637fad3b)" to "[f5ce2fa06f5f4c7da222461a8a3477d0302dbe75](https://github.com/sagemath/sagetrac-mirror/commit/f5ce2fa06f5f4c7da222461a8a3477d0302dbe75)".



---

archive/issue_comments_415292.json:
```json
{
    "body": "<a id='comment:13'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f5ce2fa06f5f4c7da222461a8a3477d0302dbe75\">f5ce2fa</a></td><td><code>Trac #26792: fix mpoly.py doctests</code></td></tr></table>\n",
    "created_at": "2019-01-31T16:13:07Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415292",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:13'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f5ce2fa06f5f4c7da222461a8a3477d0302dbe75">f5ce2fa</a></td><td><code>Trac #26792: fix mpoly.py doctests</code></td></tr></table>




---

archive/issue_comments_415293.json:
```json
{
    "body": "<a id='comment:14'></a>\nticket on hold in order to let priority for #23572",
    "created_at": "2019-01-31T16:15:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415293",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:14'></a>
ticket on hold in order to let priority for #23572



---

archive/issue_comments_415294.json:
```json
{
    "body": "**Dependencies:** #23572",
    "created_at": "2019-01-31T16:15:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415294",
    "user": "https://github.com/vinklein"
}
```

**Dependencies:** #23572



---

archive/issue_comments_415295.json:
```json
{
    "body": "<a id='comment:15'></a>\ntime to start again with this ticket ; this should be a great step forward when done",
    "created_at": "2019-02-15T20:24:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415295",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:15'></a>
time to start again with this ticket ; this should be a great step forward when done



---

archive/issue_comments_415296.json:
```json
{
    "body": "**Changing branch** from \"[u/vklein/26792](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/26792)\" to \"[public/ticket/26792](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26792)\".",
    "created_at": "2019-02-16T19:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415296",
    "user": "https://github.com/fchapoton"
}
```

**Changing branch** from "[u/vklein/26792](https://github.com/sagemath/sagetrac-mirror/tree/u/vklein/26792)" to "[public/ticket/26792](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26792)".



---

archive/issue_comments_415297.json:
```json
{
    "body": "<a id='comment:16'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2f908f0961293e36c42bd1e2fe81153fafd44b0b\">2f908f0</a></td><td><code>Merge branch 'u/vklein/26792' in 8.7.b4</code></td></tr></table>\n",
    "created_at": "2019-02-16T19:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415297",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:16'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2f908f0961293e36c42bd1e2fe81153fafd44b0b">2f908f0</a></td><td><code>Merge branch 'u/vklein/26792' in 8.7.b4</code></td></tr></table>




---

archive/issue_events_236401.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-16T19:31:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236401"
}
```



---

archive/issue_comments_415298.json:
```json
{
    "body": "**Changing commit** from \"[f5ce2fa06f5f4c7da222461a8a3477d0302dbe75](https://github.com/sagemath/sagetrac-mirror/commit/f5ce2fa06f5f4c7da222461a8a3477d0302dbe75)\" to \"[2f908f0961293e36c42bd1e2fe81153fafd44b0b](https://github.com/sagemath/sagetrac-mirror/commit/2f908f0961293e36c42bd1e2fe81153fafd44b0b)\".",
    "created_at": "2019-02-16T19:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415298",
    "user": "https://github.com/fchapoton"
}
```

**Changing commit** from "[f5ce2fa06f5f4c7da222461a8a3477d0302dbe75](https://github.com/sagemath/sagetrac-mirror/commit/f5ce2fa06f5f4c7da222461a8a3477d0302dbe75)" to "[2f908f0961293e36c42bd1e2fe81153fafd44b0b](https://github.com/sagemath/sagetrac-mirror/commit/2f908f0961293e36c42bd1e2fe81153fafd44b0b)".



---

archive/issue_comments_415299.json:
```json
{
    "body": "**Changing dependencies** from \"#23572\" to \"\".",
    "created_at": "2019-02-16T19:31:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415299",
    "user": "https://github.com/fchapoton"
}
```

**Changing dependencies** from "#23572" to "".



---

archive/issue_comments_415300.json:
```json
{
    "body": "<a id='comment:17'></a>\nremains one failing doctest",
    "created_at": "2019-02-17T07:32:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415300",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:17'></a>
remains one failing doctest



---

archive/issue_events_236402.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-17T07:32:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236402"
}
```



---

archive/issue_events_236403.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-17T07:32:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236403"
}
```



---

archive/issue_comments_415301.json:
```json
{
    "body": "**Changing commit** from \"[2f908f0961293e36c42bd1e2fe81153fafd44b0b](https://github.com/sagemath/sagetrac-mirror/commit/2f908f0961293e36c42bd1e2fe81153fafd44b0b)\" to \"[f4a2bfa9f1490a4795ddf3d5232262d991325ae8](https://github.com/sagemath/sagetrac-mirror/commit/f4a2bfa9f1490a4795ddf3d5232262d991325ae8)\".",
    "created_at": "2019-02-18T19:15:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415301",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2f908f0961293e36c42bd1e2fe81153fafd44b0b](https://github.com/sagemath/sagetrac-mirror/commit/2f908f0961293e36c42bd1e2fe81153fafd44b0b)" to "[f4a2bfa9f1490a4795ddf3d5232262d991325ae8](https://github.com/sagemath/sagetrac-mirror/commit/f4a2bfa9f1490a4795ddf3d5232262d991325ae8)".



---

archive/issue_comments_415302.json:
```json
{
    "body": "<a id='comment:18'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f4a2bfa9f1490a4795ddf3d5232262d991325ae8\">f4a2bfa</a></td><td><code>trac 26792 fixing  one doctest</code></td></tr></table>\n",
    "created_at": "2019-02-18T19:15:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415302",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:18'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f4a2bfa9f1490a4795ddf3d5232262d991325ae8">f4a2bfa</a></td><td><code>trac 26792 fixing  one doctest</code></td></tr></table>




---

archive/issue_events_236404.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-18T19:16:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236404"
}
```



---

archive/issue_events_236405.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-18T19:16:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236405"
}
```



---

archive/issue_comments_415303.json:
```json
{
    "body": "<a id='comment:20'></a>\nI get a merge conflict with 8.7.beta4: src/sage/tests/books/computational-mathematics-with-sagemath/mpoly_doctest.py",
    "created_at": "2019-02-18T19:41:59Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415303",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:20'></a>
I get a merge conflict with 8.7.beta4: src/sage/tests/books/computational-mathematics-with-sagemath/mpoly_doctest.py



---

archive/issue_comments_415304.json:
```json
{
    "body": "<a id='comment:21'></a>\nThere is a related doctest failure in `misc/converting_dict.py`. Four Python 3 failures in the develop branch are replaced by 1 with this branch.",
    "created_at": "2019-02-18T19:51:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415304",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:21'></a>
There is a related doctest failure in `misc/converting_dict.py`. Four Python 3 failures in the develop branch are replaced by 1 with this branch.



---

archive/issue_comments_415305.json:
```json
{
    "body": "**Changing commit** from \"[f4a2bfa9f1490a4795ddf3d5232262d991325ae8](https://github.com/sagemath/sagetrac-mirror/commit/f4a2bfa9f1490a4795ddf3d5232262d991325ae8)\" to \"[945857ffe6b2f66ecbdeb84369ad0d402e51c5be](https://github.com/sagemath/sagetrac-mirror/commit/945857ffe6b2f66ecbdeb84369ad0d402e51c5be)\".",
    "created_at": "2019-02-18T20:51:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415305",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[f4a2bfa9f1490a4795ddf3d5232262d991325ae8](https://github.com/sagemath/sagetrac-mirror/commit/f4a2bfa9f1490a4795ddf3d5232262d991325ae8)" to "[945857ffe6b2f66ecbdeb84369ad0d402e51c5be](https://github.com/sagemath/sagetrac-mirror/commit/945857ffe6b2f66ecbdeb84369ad0d402e51c5be)".



---

archive/issue_comments_415306.json:
```json
{
    "body": "<a id='comment:22'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/945857ffe6b2f66ecbdeb84369ad0d402e51c5be\">945857f</a></td><td><code>trac 26792 trying to fix a doctest</code></td></tr></table>\n",
    "created_at": "2019-02-18T20:51:40Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415306",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:22'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/945857ffe6b2f66ecbdeb84369ad0d402e51c5be">945857f</a></td><td><code>trac 26792 trying to fix a doctest</code></td></tr></table>




---

archive/issue_comments_415307.json:
```json
{
    "body": "<a id='comment:23'></a>\nThe new test passes with py3 but not py2.",
    "created_at": "2019-02-18T23:33:46Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415307",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:23'></a>
The new test passes with py3 but not py2.



---

archive/issue_comments_415308.json:
```json
{
    "body": "<a id='comment:24'></a>\nand before my last commit it was the contrary. Probably one should make sure that the repr of these \"dicts\" is conveniently sorted in the same way for both py2 and py3.",
    "created_at": "2019-02-19T08:10:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415308",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:24'></a>
and before my last commit it was the contrary. Probably one should make sure that the repr of these "dicts" is conveniently sorted in the same way for both py2 and py3.



---

archive/issue_events_236406.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-19T08:10:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236406"
}
```



---

archive/issue_events_236407.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-19T08:10:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236407"
}
```



---

archive/issue_comments_415309.json:
```json
{
    "body": "<a id='comment:25'></a>\nI will fix that.",
    "created_at": "2019-02-19T08:20:42Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415309",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:25'></a>
I will fix that.



---

archive/issue_comments_415310.json:
```json
{
    "body": "**Changing commit** from \"[945857ffe6b2f66ecbdeb84369ad0d402e51c5be](https://github.com/sagemath/sagetrac-mirror/commit/945857ffe6b2f66ecbdeb84369ad0d402e51c5be)\" to \"[59c980e59a8492da4e8088809dcbb2f102d38e23](https://github.com/sagemath/sagetrac-mirror/commit/59c980e59a8492da4e8088809dcbb2f102d38e23)\".",
    "created_at": "2019-02-19T10:01:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415310",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[945857ffe6b2f66ecbdeb84369ad0d402e51c5be](https://github.com/sagemath/sagetrac-mirror/commit/945857ffe6b2f66ecbdeb84369ad0d402e51c5be)" to "[59c980e59a8492da4e8088809dcbb2f102d38e23](https://github.com/sagemath/sagetrac-mirror/commit/59c980e59a8492da4e8088809dcbb2f102d38e23)".



---

archive/issue_comments_415311.json:
```json
{
    "body": "<a id='comment:26'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/59c980e59a8492da4e8088809dcbb2f102d38e23\">59c980e</a></td><td><code>Trac #26792: Fix doctest in converting_dict.py</code></td></tr></table>\n",
    "created_at": "2019-02-19T10:01:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415311",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:26'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/59c980e59a8492da4e8088809dcbb2f102d38e23">59c980e</a></td><td><code>Trac #26792: Fix doctest in converting_dict.py</code></td></tr></table>




---

archive/issue_comments_415312.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [chapoton](#comment%3A24):\n> and before my last commit it was the contrary. Probably one should make sure that the repr of these \"dicts\" is conveniently sorted in the same way for both py2 and py3.\n\nThe `__repr__` called by `KeyConvertingDict` is the one inherited from python's `dict` i don't think we should override it just for doctests compatibility. I prefer to modify the doctests.",
    "created_at": "2019-02-19T10:48:13Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415312",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:27'></a>
Replying to [chapoton](#comment%3A24):
> and before my last commit it was the contrary. Probably one should make sure that the repr of these "dicts" is conveniently sorted in the same way for both py2 and py3.

The `__repr__` called by `KeyConvertingDict` is the one inherited from python's `dict` i don't think we should override it just for doctests compatibility. I prefer to modify the doctests.



---

archive/issue_comments_415313.json:
```json
{
    "body": "<a id='comment:28'></a>\nI was talking about the ipython representation. This is different (already for dict) from using str or repr. Using that in the repr would be better.",
    "created_at": "2019-02-19T10:49:34Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415313",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:28'></a>
I was talking about the ipython representation. This is different (already for dict) from using str or repr. Using that in the repr would be better.



---

archive/issue_comments_415314.json:
```json
{
    "body": "**Changing commit** from \"[59c980e59a8492da4e8088809dcbb2f102d38e23](https://github.com/sagemath/sagetrac-mirror/commit/59c980e59a8492da4e8088809dcbb2f102d38e23)\" to \"[4dc152ad3be45d97b17669eccc9f943854c25368](https://github.com/sagemath/sagetrac-mirror/commit/4dc152ad3be45d97b17669eccc9f943854c25368)\".",
    "created_at": "2019-02-19T12:29:05Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415314",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[59c980e59a8492da4e8088809dcbb2f102d38e23](https://github.com/sagemath/sagetrac-mirror/commit/59c980e59a8492da4e8088809dcbb2f102d38e23)" to "[4dc152ad3be45d97b17669eccc9f943854c25368](https://github.com/sagemath/sagetrac-mirror/commit/4dc152ad3be45d97b17669eccc9f943854c25368)".



---

archive/issue_comments_415315.json:
```json
{
    "body": "<a id='comment:29'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4dc152ad3be45d97b17669eccc9f943854c25368\">4dc152a</a></td><td><code>Trac #26792: Fix a doctest in multi_polynomial_ideal.py</code></td></tr></table>\n",
    "created_at": "2019-02-19T12:29:05Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415315",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:29'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4dc152ad3be45d97b17669eccc9f943854c25368">4dc152a</a></td><td><code>Trac #26792: Fix a doctest in multi_polynomial_ideal.py</code></td></tr></table>




---

archive/issue_comments_415316.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [chapoton](#comment%3A28):\n> I was talking about the ipython representation. This is different (already for dict) from using str or repr. Using that in the repr would be better.\n\nI think you mean using Ipython pretty print. I don't know why it is like it's not called by default for `KeyConvertingDict` as it is for `dict`: \n\nAdding some traces :\n\n```\ndiff --git a/src/sage/misc/converting_dict.py b/src/sage/misc/converting_dict.py\nindex f9bdb17..f08e13f 100644\n--- a/src/sage/misc/converting_dict.py\n+++ b/src/sage/misc/converting_dict.py\n@@ -140,6 +140,13 @@ class KeyConvertingDict(dict):\n         key = self.key_conversion_function(key)\n         return super(KeyConvertingDict, self).__setitem__(key, value)\n \n+    def __repr__(self):\n+        print(\"call __repr__\")\n+        return super(KeyConvertingDict, self).__repr__()\n+\n+    def _repr_pretty_(self, p, cycle):\n+        print(\"pretty\")\n+\n     def __delitem__(self, key):\n         r\"\"\"\n         Remove a mapping from the dictionary.\n```\n\nYou get this:\n\n```\nsage: K.<x,y> = QQ[]\nsage: I = ideal([x^2+2*y-5,x+y+3])\nsage: v = I.variety(AA)[0]; v\ncall __repr__\n{x: 4.464101615137755?, y: -7.464101615137755?}\nsage: from IPython.lib.pretty import pprint\nsage: pprint(v)\npretty\n```",
    "created_at": "2019-02-19T13:23:13Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415316",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:30'></a>
Replying to [chapoton](#comment%3A28):
> I was talking about the ipython representation. This is different (already for dict) from using str or repr. Using that in the repr would be better.

I think you mean using Ipython pretty print. I don't know why it is like it's not called by default for `KeyConvertingDict` as it is for `dict`: 

Adding some traces :

```
diff --git a/src/sage/misc/converting_dict.py b/src/sage/misc/converting_dict.py
index f9bdb17..f08e13f 100644
--- a/src/sage/misc/converting_dict.py
+++ b/src/sage/misc/converting_dict.py
@@ -140,6 +140,13 @@ class KeyConvertingDict(dict):
         key = self.key_conversion_function(key)
         return super(KeyConvertingDict, self).__setitem__(key, value)
 
+    def __repr__(self):
+        print("call __repr__")
+        return super(KeyConvertingDict, self).__repr__()
+
+    def _repr_pretty_(self, p, cycle):
+        print("pretty")
+
     def __delitem__(self, key):
         r"""
         Remove a mapping from the dictionary.
```

You get this:

```
sage: K.<x,y> = QQ[]
sage: I = ideal([x^2+2*y-5,x+y+3])
sage: v = I.variety(AA)[0]; v
call __repr__
{x: 4.464101615137755?, y: -7.464101615137755?}
sage: from IPython.lib.pretty import pprint
sage: pprint(v)
pretty
```



---

archive/issue_comments_415317.json:
```json
{
    "body": "<a id='comment:31'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2\">c9c1047</a></td><td><code>Trac #26792: py3 fix doctests failing because ...</code></td></tr></table>\n",
    "created_at": "2019-02-20T08:55:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415317",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:31'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2">c9c1047</a></td><td><code>Trac #26792: py3 fix doctests failing because ...</code></td></tr></table>




---

archive/issue_comments_415318.json:
```json
{
    "body": "**Changing commit** from \"[4dc152ad3be45d97b17669eccc9f943854c25368](https://github.com/sagemath/sagetrac-mirror/commit/4dc152ad3be45d97b17669eccc9f943854c25368)\" to \"[c9c10475a2dae3691bcfb330c99522df82e387b2](https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2)\".",
    "created_at": "2019-02-20T08:55:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415318",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[4dc152ad3be45d97b17669eccc9f943854c25368](https://github.com/sagemath/sagetrac-mirror/commit/4dc152ad3be45d97b17669eccc9f943854c25368)" to "[c9c10475a2dae3691bcfb330c99522df82e387b2](https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2)".



---

archive/issue_events_236408.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-20T09:08:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236408"
}
```



---

archive/issue_events_236409.json:
```json
{
    "actor": "https://github.com/vinklein",
    "created_at": "2019-02-20T09:08:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236409"
}
```



---

archive/issue_comments_415319.json:
```json
{
    "body": "<a id='comment:32'></a>\nI fixed the remaining cases using `#py2` `#py3` flags as it seems to be the most readable solution right now. \n\nThere is still one failling test sort related to `KeyConvertingDict`: \n\n```\nFile \"src/sage/tests/books/computational-mathematics-with-sagemath/mpoly_doctest.py\", line 409, in sage.tests.books.computational-mathematics-with-sagemath.mpoly_doctest\nFailed example:\n    J.variety(RealField(51))\nExpected:\n    [{y: 396340.890166545, x: -14.1660266425312}]\nGot:\n    [{y: 396340.890166545, x: -35.0231212211684}]\n```\n\nThe difference being the value of x i think this is out the scope of this ticket.",
    "created_at": "2019-02-20T09:08:42Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415319",
    "user": "https://github.com/vinklein"
}
```

<a id='comment:32'></a>
I fixed the remaining cases using `#py2` `#py3` flags as it seems to be the most readable solution right now. 

There is still one failling test sort related to `KeyConvertingDict`: 

```
File "src/sage/tests/books/computational-mathematics-with-sagemath/mpoly_doctest.py", line 409, in sage.tests.books.computational-mathematics-with-sagemath.mpoly_doctest
Failed example:
    J.variety(RealField(51))
Expected:
    [{y: 396340.890166545, x: -14.1660266425312}]
Got:
    [{y: 396340.890166545, x: -35.0231212211684}]
```

The difference being the value of x i think this is out the scope of this ticket.



---

archive/issue_comments_415320.json:
```json
{
    "body": "<a id='comment:33'></a>\nok, let us move on here.",
    "created_at": "2019-02-20T12:59:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415320",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:33'></a>
ok, let us move on here.



---

archive/issue_comments_415321.json:
```json
{
    "body": "**Reviewer:** Fr\u00e9d\u00e9ric Chapoton",
    "created_at": "2019-02-20T12:59:28Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415321",
    "user": "https://github.com/fchapoton"
}
```

**Reviewer:** Frédéric Chapoton



---

archive/issue_events_236410.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-20T12:59:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236410"
}
```



---

archive/issue_events_236411.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-02-20T12:59:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236411"
}
```



---

archive/issue_comments_415322.json:
```json
{
    "body": "**Changing branch** from \"[public/ticket/26792](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26792)\" to \"[c9c10475a2dae3691bcfb330c99522df82e387b2](https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2)\".",
    "created_at": "2019-02-22T22:01:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26792#issuecomment-415322",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[public/ticket/26792](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26792)" to "[c9c10475a2dae3691bcfb330c99522df82e387b2](https://github.com/sagemath/sagetrac-mirror/commit/c9c10475a2dae3691bcfb330c99522df82e387b2)".



---

archive/issue_events_236412.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-22T22:01:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236412"
}
```



---

archive/issue_events_236413.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "78cdb4cd201594c0c1c903fbff18c6c6adaaef85",
    "created_at": "2019-02-22T22:01:10Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26792",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26792#event-236413"
}
```
