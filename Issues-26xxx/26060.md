# Issue 26060: Wrong limit(x / (x + 2^x + cos(x)), x=-oo)

archive/issues_025823.json:
```json
{
    "assignees": [],
    "body": "Up to Sage 8.7 this limit returns \"und\" for \"undefined\":\n\n```python\nsage: limit(x / (x + 2^x + cos(x)), x=-infinity)\nund\n```\nwhile it should clearly be 1.\n\nSymPy returns the correct result:\n\n```python\nsage: limit(x / (x+2^x + cos(x)), x=-infinity, algorithm='sympy')\n1\n```\n\nReported to Maxima on 2018-08-15\nas [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),\nfixed there\nby [Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)\non 2018-08-30, fix included\nin [Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)\nto which we upgrade in #26625, merged in Sage 8.8.beta7.\n\nIn Sage >= 8.8 we get the correct value for this limit:\n\n```python\nsage: limit(x / (x + 2^x + cos(x)), x=-infinity)\n1\n```\n\nThis ticket adds a doctest for that limit computation.\n\nDepends on #26625\n\nCC:  @slel\n\nKeywords: **limit, maxima**\n\nBranch/Commit: **[7f96496](https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b)**\n\nUpstream: **Fixed upstream, in a later stable release.**\n\nReviewer: **Karl-Dieter Crisman**\n\nAuthor: **Samuel Leli\u00e8vre**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26060_\n\n",
    "closed_at": "2020-09-23T21:27:55Z",
    "created_at": "2018-08-14T06:02:05Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20calculus",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Wrong limit(x / (x + 2^x + cos(x)), x=-oo)",
    "type": "issue",
    "updated_at": "2020-09-23T21:27:55Z",
    "url": "https://github.com/sagemath/sage/issues/26060",
    "user": "https://github.com/pelegm"
}
```
Up to Sage 8.7 this limit returns "und" for "undefined":

```python
sage: limit(x / (x + 2^x + cos(x)), x=-infinity)
und
```
while it should clearly be 1.

SymPy returns the correct result:

```python
sage: limit(x / (x+2^x + cos(x)), x=-infinity, algorithm='sympy')
1
```

Reported to Maxima on 2018-08-15
as [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),
fixed there
by [Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)
on 2018-08-30, fix included
in [Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)
to which we upgrade in #26625, merged in Sage 8.8.beta7.

In Sage >= 8.8 we get the correct value for this limit:

```python
sage: limit(x / (x + 2^x + cos(x)), x=-infinity)
1
```

This ticket adds a doctest for that limit computation.

Depends on #26625

CC:  @slel

Keywords: **limit, maxima**

Branch/Commit: **[7f96496](https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b)**

Upstream: **Fixed upstream, in a later stable release.**

Reviewer: **Karl-Dieter Crisman**

Author: **Samuel Lelièvre**

_Issue created by migration from https://trac.sagemath.org/ticket/26060_





---

archive/issue_events_341822.json:
```json
{
    "actor": "https://github.com/pelegm",
    "created_at": "2018-08-14T06:02:05Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341822"
}
```



---

archive/issue_events_341823.json:
```json
{
    "actor": "https://github.com/pelegm",
    "created_at": "2018-08-14T06:02:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20calculus",
    "label_color": "0000ff",
    "label_name": "component: calculus",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341823"
}
```



---

archive/issue_events_341824.json:
```json
{
    "actor": "https://github.com/pelegm",
    "created_at": "2018-08-14T06:02:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341824"
}
```



---

archive/issue_events_341825.json:
```json
{
    "actor": "https://github.com/pelegm",
    "created_at": "2018-08-14T06:02:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341825"
}
```



---

archive/issue_comments_404164.json:
```json
{
    "body": "Upstream: **Reported upstream. No feedback yet.**",
    "created_at": "2018-08-15T13:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404164",
    "user": "https://github.com/kcrisman"
}
```

Upstream: **Reported upstream. No feedback yet.**



---

archive/issue_comments_404165.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">Comment 1</div>\n\nApparently yes.\n\n```\n$ sage --maxima\n<snip>\nMaxima 5.41.0 http://maxima.sourceforge.net\nusing Lisp ECL 16.1.2\nDistributed under the GNU Public License. See the file COPYING.\nDedicated to the memory of William Schelter.\nThe function bug_report() provides bug reporting information.\n(%i1) limit(x / (x+2^x+cos(x)),x,-inf)       ;\n(%o1)                                 und\n```\n\nI've reported this at [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/).",
    "created_at": "2018-08-15T13:01:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404165",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:1" align="right">Comment 1</div>

Apparently yes.

```
$ sage --maxima
<snip>
Maxima 5.41.0 http://maxima.sourceforge.net
using Lisp ECL 16.1.2
Distributed under the GNU Public License. See the file COPYING.
Dedicated to the memory of William Schelter.
The function bug_report() provides bug reporting information.
(%i1) limit(x / (x+2^x+cos(x)),x,-inf)       ;
(%o1)                                 und
```

I've reported this at [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/).



---

archive/issue_comments_404166.json:
```json
{
    "body": "Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**",
    "created_at": "2018-08-18T20:49:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404166",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Reported upstream. No feedback yet.** to **Reported upstream. Developers acknowledge bug.**



---

archive/issue_comments_404167.json:
```json
{
    "body": "Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**",
    "created_at": "2018-08-31T00:48:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404167",
    "user": "https://github.com/kcrisman"
}
```

Changed upstream from **Reported upstream. Developers acknowledge bug.** to **Fixed upstream, but not in a stable release.**



---

archive/issue_comments_404168.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\n(That was pretty fast work!)",
    "created_at": "2018-08-31T00:49:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404168",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">Comment 4</div>

(That was pretty fast work!)



---

archive/issue_comments_404169.json:
```json
{
    "body": "Changed upstream from **Fixed upstream, but not in a stable release.** to **Fixed upstream, in a later stable release.**",
    "created_at": "2019-02-19T21:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404169",
    "user": "https://github.com/slel"
}
```

Changed upstream from **Fixed upstream, but not in a stable release.** to **Fixed upstream, in a later stable release.**



---

archive/issue_comments_404170.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,10 @@\n 1\n ```\n \n-So is it a bug in Maxima?\n+This was reported to Maxima on 2018-08-15 as\n+[Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),\n+which was fixed by\n+[Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)\n+on 2018-08-30, and the fix is included in\n+[Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)\n+to which we will upgrade in #26625.\n``````\n",
    "created_at": "2019-02-19T21:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404170",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,10 @@
 1
 ```
 
-So is it a bug in Maxima?
+This was reported to Maxima on 2018-08-15 as
+[Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),
+which was fixed by
+[Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)
+on 2018-08-30, and the fix is included in
+[Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)
+to which we will upgrade in #26625.
``````




---

archive/issue_comments_404171.json:
```json
{
    "body": "Dependencies: **#26625**",
    "created_at": "2019-02-19T21:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404171",
    "user": "https://github.com/slel"
}
```

Dependencies: **#26625**



---

archive/issue_comments_404172.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nAfter the upgrade to Maxima 5.42.2 in #26625, we should add a doctest here.",
    "created_at": "2019-02-19T21:46:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404172",
    "user": "https://github.com/slel"
}
```

<div id="comment:5" align="right">Comment 5</div>

After the upgrade to Maxima 5.42.2 in #26625, we should add a doctest here.



---

archive/issue_events_341826.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-02-19T21:46:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341826"
}
```



---

archive/issue_events_341827.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2019-02-19T21:46:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341827"
}
```



---

archive/issue_comments_404173.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nTicket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)",
    "created_at": "2019-03-25T10:56:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404173",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">Comment 6</div>

Ticket retargeted after milestone closed (if you don't believe this ticket is appropriate for the Sage 8.8 release please retarget manually)



---

archive/issue_events_341828.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341828"
}
```



---

archive/issue_events_341829.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-03-25T10:56:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341829"
}
```



---

archive/issue_events_341830.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-06-14T14:54:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341830"
}
```



---

archive/issue_comments_404174.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">Comment 7</div>\n\nAs the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).",
    "created_at": "2019-06-14T14:54:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404174",
    "user": "https://github.com/embray"
}
```

<div id="comment:7" align="right">Comment 7</div>

As the Sage-8.8 release milestone is pending, we should delete the sage-8.8 milestone for tickets that are not actively being worked on or that still require significant work to move forward.  If you feel that this ticket should be included in the next Sage release at the soonest please set its milestone to the next release milestone (sage-8.9).



---

archive/issue_events_341831.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T18:49:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341831"
}
```



---

archive/issue_events_341832.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T18:49:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341832"
}
```



---

archive/issue_events_341833.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-08-29T18:49:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341833"
}
```



---

archive/issue_comments_404175.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nWorks in 9.2.beta10",
    "created_at": "2020-08-29T18:49:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404175",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:8" align="right">Comment 8</div>

Works in 9.2.beta10



---

archive/issue_events_341834.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2020-08-29T20:38:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341834"
}
```



---

archive/issue_events_341835.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2020-08-29T20:38:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341835"
}
```



---

archive/issue_comments_404176.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nDoctest",
    "created_at": "2020-08-29T20:38:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404176",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">Comment 9</div>

Doctest



---

archive/issue_comments_404177.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,9 +1,10 @@\n+Up to Sage 8.7 this limit returns \"und\" for \"undefined\":\n \n ```python\n-sage: (x / (x+2^x+cos(x))).limit(x=-infinity)\n+sage: limit(x / (x+2^x+cos(x)), x=-infinity)\n und\n ```\n-Should clearly be 1.\n+while it should clearly be 1.\n \n SymPy returns the correct result:\n \n@@ -12,10 +13,19 @@\n 1\n ```\n \n-This was reported to Maxima on 2018-08-15 as\n-[Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),\n-which was fixed by\n-[Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)\n-on 2018-08-30, and the fix is included in\n-[Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)\n-to which we will upgrade in #26625.\n+Reported to Maxima on 2018-08-15\n+as [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),\n+fixed there\n+by [Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)\n+on 2018-08-30, and the fix is included\n+in [Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)\n+to which we upgraded in #26625, merged in Sage 8.8.beta7.\n+\n+In Sage >= 8.8 we get the correct value for this limit:\n+\n+```python\n+sage: limit(x / (x+2^x+cos(x)), x=-infinity)\n+1\n+```\n+\n+This ticket adds a doctest for that limit computation.\n``````\n",
    "created_at": "2020-09-16T01:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404177",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,9 +1,10 @@
+Up to Sage 8.7 this limit returns "und" for "undefined":
 
 ```python
-sage: (x / (x+2^x+cos(x))).limit(x=-infinity)
+sage: limit(x / (x+2^x+cos(x)), x=-infinity)
 und
 ```
-Should clearly be 1.
+while it should clearly be 1.
 
 SymPy returns the correct result:
 
@@ -12,10 +13,19 @@
 1
 ```
 
-This was reported to Maxima on 2018-08-15 as
-[Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),
-which was fixed by
-[Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)
-on 2018-08-30, and the fix is included in
-[Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)
-to which we will upgrade in #26625.
+Reported to Maxima on 2018-08-15
+as [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),
+fixed there
+by [Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)
+on 2018-08-30, and the fix is included
+in [Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)
+to which we upgraded in #26625, merged in Sage 8.8.beta7.
+
+In Sage >= 8.8 we get the correct value for this limit:
+
+```python
+sage: limit(x / (x+2^x+cos(x)), x=-infinity)
+1
+```
+
+This ticket adds a doctest for that limit computation.
``````




---

archive/issue_events_341836.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-16T01:41:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341836"
}
```



---

archive/issue_events_341837.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-16T01:41:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341837"
}
```



---

archive/issue_comments_404178.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nDoctest added. Please review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b\">7f96496</a></td><td><code>26060: doctest for limit after Maxima upgrade</code></td></tr></table>\n",
    "created_at": "2020-09-16T01:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404178",
    "user": "https://github.com/slel"
}
```

<div id="comment:10" align="right">Comment 10</div>

Doctest added. Please review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b">7f96496</a></td><td><code>26060: doctest for limit after Maxima upgrade</code></td></tr></table>




---

archive/issue_comments_404179.json:
```json
{
    "body": "Branch: **[public/ticket/26060](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26060)**",
    "created_at": "2020-09-16T01:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404179",
    "user": "https://github.com/slel"
}
```

Branch: **[public/ticket/26060](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26060)**



---

archive/issue_comments_404180.json:
```json
{
    "body": "Commit: **[7f96496](https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b)**",
    "created_at": "2020-09-16T01:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404180",
    "user": "https://github.com/slel"
}
```

Commit: **[7f96496](https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b)**



---

archive/issue_events_341838.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-16T01:42:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "milestone_number": null,
    "milestone_title": "sage-9.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341838"
}
```



---

archive/issue_comments_404181.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,7 @@\n Up to Sage 8.7 this limit returns \"und\" for \"undefined\":\n \n ```python\n-sage: limit(x / (x+2^x+cos(x)), x=-infinity)\n+sage: limit(x / (x + 2^x + cos(x)), x=-infinity)\n und\n ```\n while it should clearly be 1.\n@@ -9,7 +9,7 @@\n SymPy returns the correct result:\n \n ```python\n-sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='sympy')\n+sage: limit(x / (x+2^x + cos(x)), x=-infinity, algorithm='sympy')\n 1\n ```\n \n@@ -17,14 +17,14 @@\n as [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),\n fixed there\n by [Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)\n-on 2018-08-30, and the fix is included\n+on 2018-08-30, fix included\n in [Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)\n-to which we upgraded in #26625, merged in Sage 8.8.beta7.\n+to which we upgrade in #26625, merged in Sage 8.8.beta7.\n \n In Sage >= 8.8 we get the correct value for this limit:\n \n ```python\n-sage: limit(x / (x+2^x+cos(x)), x=-infinity)\n+sage: limit(x / (x + 2^x + cos(x)), x=-infinity)\n 1\n ```\n \n``````\n",
    "created_at": "2020-09-16T01:47:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404181",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,7 @@
 Up to Sage 8.7 this limit returns "und" for "undefined":
 
 ```python
-sage: limit(x / (x+2^x+cos(x)), x=-infinity)
+sage: limit(x / (x + 2^x + cos(x)), x=-infinity)
 und
 ```
 while it should clearly be 1.
@@ -9,7 +9,7 @@
 SymPy returns the correct result:
 
 ```python
-sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='sympy')
+sage: limit(x / (x+2^x + cos(x)), x=-infinity, algorithm='sympy')
 1
 ```
 
@@ -17,14 +17,14 @@
 as [Maxima bug 3459](https://sourceforge.net/p/maxima/bugs/3459/),
 fixed there
 by [Maxima commit 0c5c018](https://sourceforge.net/p/maxima/code/ci/0c5c0187338060761746fbd0821ce5f28b3245cd/)
-on 2018-08-30, and the fix is included
+on 2018-08-30, fix included
 in [Maxima 5.42.2](https://sourceforge.net/p/maxima/code/ci/master/tree/ChangeLog-5.42.md)
-to which we upgraded in #26625, merged in Sage 8.8.beta7.
+to which we upgrade in #26625, merged in Sage 8.8.beta7.
 
 In Sage >= 8.8 we get the correct value for this limit:
 
 ```python
-sage: limit(x / (x+2^x+cos(x)), x=-infinity)
+sage: limit(x / (x + 2^x + cos(x)), x=-infinity)
 1
 ```
 
``````




---

archive/issue_events_341839.json:
```json
{
    "actor": "https://github.com/slel",
    "created_at": "2020-09-16T01:51:25Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "title_is": "Wrong limit(x / (x + 2^x + cos(x)), x=-oo)",
    "title_was": "Wrong limit calculation",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341839"
}
```



---

archive/issue_comments_404182.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nLooks fine to me (assuming patchbot says it's fine), though all the other changes in typesetting could have occurred on another ticket.  Thanks for doctesting!",
    "created_at": "2020-09-16T01:56:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404182",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">Comment 14</div>

Looks fine to me (assuming patchbot says it's fine), though all the other changes in typesetting could have occurred on another ticket.  Thanks for doctesting!



---

archive/issue_events_341840.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2020-09-16T01:57:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341840"
}
```



---

archive/issue_events_341841.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2020-09-16T01:57:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341841"
}
```



---

archive/issue_comments_404183.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2020-09-16T01:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404183",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_comments_404184.json:
```json
{
    "body": "Author: **Samuel Lelievre**",
    "created_at": "2020-09-16T01:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404184",
    "user": "https://github.com/kcrisman"
}
```

Author: **Samuel Lelievre**



---

archive/issue_comments_404185.json:
```json
{
    "body": "Changed author from **Samuel Lelievre** to **Samuel Leli\u00e8vre**",
    "created_at": "2020-09-16T03:47:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404185",
    "user": "https://github.com/slel"
}
```

Changed author from **Samuel Lelievre** to **Samuel Lelièvre**



---

archive/issue_comments_404186.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nSorry!  Haven't been keeping \"Trac\" as much lately.",
    "created_at": "2020-09-16T10:56:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404186",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:18" align="right">Comment 18</div>

Sorry!  Haven't been keeping "Trac" as much lately.



---

archive/issue_comments_404187.json:
```json
{
    "body": "Changed branch from **[public/ticket/26060](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26060)** to **[7f96496](https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b)**",
    "created_at": "2020-09-23T21:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26060#issuecomment-404187",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/ticket/26060](https://github.com/sagemath/sagetrac-mirror/tree/public/ticket/26060)** to **[7f96496](https://github.com/sagemath/sagetrac-mirror/commit/7f964965cc53474166342bcf9a1146233d9fc42b)**



---

archive/issue_events_341842.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2020-09-23T21:27:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341842"
}
```



---

archive/issue_events_341843.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e1a7af22520ecdd1e47d6ccbdc2c62d78a1ac9e6",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2020-09-23T21:27:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26060",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26060#event-341843"
}
```
