# Issue 26810: Permutations(avoiding=[[1,3,2]]) returns all permutations

archive/issues_026573.json:
```json
{
    "assignees": [],
    "body": "\n```\nsage: Permutations(avoiding=[[1,3,2]])\nStandard permutations\n```\nWe simply implement an appropriate class.  Now\n\n```\n[1,3,2] in Permutations(avoiding=[1,3,2])\n```\nworks as expected.\n\nDepends on #26809\n\nBranch/Commit: **[`c9f3018`](https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc)**\n\nReviewer: **Daniel Krenn, Travis Scrimshaw**\n\nAuthor: **Martin Rubey**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26810_\n\n",
    "closed_at": "2019-01-23T14:17:55Z",
    "created_at": "2018-12-03T21:11:08Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Permutations(avoiding=[[1,3,2]]) returns all permutations",
    "type": "issue",
    "updated_at": "2019-01-23T14:17:55Z",
    "url": "https://github.com/sagemath/sage/issues/26810",
    "user": "https://github.com/mantepse"
}
```

```
sage: Permutations(avoiding=[[1,3,2]])
Standard permutations
```
We simply implement an appropriate class.  Now

```
[1,3,2] in Permutations(avoiding=[1,3,2])
```
works as expected.

Depends on #26809

Branch/Commit: **[`c9f3018`](https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc)**

Reviewer: **Daniel Krenn, Travis Scrimshaw**

Author: **Martin Rubey**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/26810_





---

archive/issue_events_370219.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-03T21:11:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370219"
}
```



---

archive/issue_events_370220.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-03T21:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370220"
}
```



---

archive/issue_events_370221.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-03T21:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370221"
}
```



---

archive/issue_events_370222.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-03T21:11:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370222"
}
```



---

archive/issue_comments_412811.json:
```json
{
    "body": "Branch: **[u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations)**",
    "created_at": "2018-12-04T10:01:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412811",
    "user": "https://github.com/mantepse"
}
```

Branch: **[u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations)**



---

archive/issue_comments_412812.json:
```json
{
    "body": "<div id=\"comment:2\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5cb5b7533079426060d5a2261b6593e05c1639ab\"><code>5cb5b75</code></a></td><td><code>provide class for all permutations avoiding patterns</code></td></tr></table>\n",
    "created_at": "2018-12-04T11:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412812",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:2"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5cb5b7533079426060d5a2261b6593e05c1639ab"><code>5cb5b75</code></a></td><td><code>provide class for all permutations avoiding patterns</code></td></tr></table>




---

archive/issue_comments_412813.json:
```json
{
    "body": "Commit: **[`5cb5b75`](https://github.com/sagemath/sagetrac-mirror/commit/5cb5b7533079426060d5a2261b6593e05c1639ab)**",
    "created_at": "2018-12-04T11:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412813",
    "user": "https://github.com/mantepse"
}
```

Commit: **[`5cb5b75`](https://github.com/sagemath/sagetrac-mirror/commit/5cb5b7533079426060d5a2261b6593e05c1639ab)**



---

archive/issue_comments_412814.json:
```json
{
    "body": "Dependencies: **#26809**",
    "created_at": "2018-12-04T11:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412814",
    "user": "https://github.com/mantepse"
}
```

Dependencies: **#26809**



---

archive/issue_comments_412815.json:
```json
{
    "body": "Author: **Martin Rubey**",
    "created_at": "2018-12-04T11:27:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412815",
    "user": "https://github.com/mantepse"
}
```

Author: **Martin Rubey**



---

archive/issue_comments_412816.json:
```json
{
    "body": "Changed commit from **[`5cb5b75`](https://github.com/sagemath/sagetrac-mirror/commit/5cb5b7533079426060d5a2261b6593e05c1639ab)** to **[`f13a645`](https://github.com/sagemath/sagetrac-mirror/commit/f13a645e9708d5565d9a4fd4bf96187435cd27d2)**",
    "created_at": "2018-12-04T11:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412816",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`5cb5b75`](https://github.com/sagemath/sagetrac-mirror/commit/5cb5b7533079426060d5a2261b6593e05c1639ab)** to **[`f13a645`](https://github.com/sagemath/sagetrac-mirror/commit/f13a645e9708d5565d9a4fd4bf96187435cd27d2)**



---

archive/issue_comments_412817.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/01e213d1ad9becc504ebe3e4364d002fab92c175\"><code>01e213d</code></a></td><td><code>fix contains for avoiders, detect singleton avoiders and fix avoiding nothing</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dc0c75e3e9c8b0285beba5473b4e81972c0b1747\"><code>dc0c75e</code></a></td><td><code>adapt a doctest</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54451e2276bf37575cae538f87d6974797519d29\"><code>54451e2</code></a></td><td><code>Merge branch 'u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations' of git://trac.sagemath.org/sage into t/26810/permutations_avoiding___1_3_2____returns_all_permutations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f13a645e9708d5565d9a4fd4bf96187435cd27d2\"><code>f13a645</code></a></td><td><code>add dedicated method to return the set of patterns, make doctests run fast enough, cleanup</code></td></tr></table>\n",
    "created_at": "2018-12-04T11:28:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412817",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/01e213d1ad9becc504ebe3e4364d002fab92c175"><code>01e213d</code></a></td><td><code>fix contains for avoiders, detect singleton avoiders and fix avoiding nothing</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dc0c75e3e9c8b0285beba5473b4e81972c0b1747"><code>dc0c75e</code></a></td><td><code>adapt a doctest</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54451e2276bf37575cae538f87d6974797519d29"><code>54451e2</code></a></td><td><code>Merge branch 'u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations' of git://trac.sagemath.org/sage into t/26810/permutations_avoiding___1_3_2____returns_all_permutations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f13a645e9708d5565d9a4fd4bf96187435cd27d2"><code>f13a645</code></a></td><td><code>add dedicated method to return the set of patterns, make doctests run fast enough, cleanup</code></td></tr></table>




---

archive/issue_events_370223.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2018-12-04T11:31:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370223"
}
```



---

archive/issue_comments_412818.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,4 +3,9 @@\n sage: Permutations(avoiding=[[1,3,2]])\n Standard permutations\n ```\n-We should at least raise an error - or implement an appropriate class, but this may be overkill.\n+We simply implement an appropriate class.  Now\n+\n+```\n+[1,3,2] in Permutations(avoiding=[1,3,2])\n+```\n+works as expected.\n``````\n",
    "created_at": "2018-12-04T11:31:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412818",
    "user": "https://github.com/mantepse"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,4 +3,9 @@
 sage: Permutations(avoiding=[[1,3,2]])
 Standard permutations
 ```
-We should at least raise an error - or implement an appropriate class, but this may be overkill.
+We simply implement an appropriate class.  Now
+
+```
+[1,3,2] in Permutations(avoiding=[1,3,2])
+```
+works as expected.
``````




---

archive/issue_comments_412819.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nLGTM modulo the comments in #26809.",
    "created_at": "2019-01-06T17:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412819",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:5" align="right">comment:5</div>

LGTM modulo the comments in #26809.



---

archive/issue_comments_412820.json:
```json
{
    "body": "Reviewer: **Daniel Krenn**",
    "created_at": "2019-01-06T17:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412820",
    "user": "https://github.com/dkrenn"
}
```

Reviewer: **Daniel Krenn**



---

archive/issue_comments_412821.json:
```json
{
    "body": "Changed commit from **[`f13a645`](https://github.com/sagemath/sagetrac-mirror/commit/f13a645e9708d5565d9a4fd4bf96187435cd27d2)** to **[`a0ddaeb`](https://github.com/sagemath/sagetrac-mirror/commit/a0ddaeb441676b3a5e6dbe1dcfa58b1a301fa32c)**",
    "created_at": "2019-01-06T20:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412821",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`f13a645`](https://github.com/sagemath/sagetrac-mirror/commit/f13a645e9708d5565d9a4fd4bf96187435cd27d2)** to **[`a0ddaeb`](https://github.com/sagemath/sagetrac-mirror/commit/a0ddaeb441676b3a5e6dbe1dcfa58b1a301fa32c)**



---

archive/issue_comments_412822.json:
```json
{
    "body": "<div id=\"comment:7\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/72f034ab10b86167e0e7a68b17895e44e7c3ba0f\"><code>72f034a</code></a></td><td><code>Merge branch 'u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5a97f1ffa5b5d0134d8c083c0d82809437b58d4f\"><code>5a97f1f</code></a></td><td><code>Merge branch 'u/mantepse/wrong_contains_in_permutations_avoiding_a_pattern' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9229dc3a5b0d6c8d17dd8ab8b1e34b7d5849c14a\"><code>9229dc3</code></a></td><td><code>use super and x = self(x) instead of self.element_class(self, x)</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0cdacf08965ab652ea8820d8d37915625c29e15c\"><code>0cdacf0</code></a></td><td><code>Merge branch 'u/mantepse/wrong_contains_in_permutations_avoiding_a_pattern' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a0ddaeb441676b3a5e6dbe1dcfa58b1a301fa32c\"><code>a0ddaeb</code></a></td><td><code>use super</code></td></tr></table>\n",
    "created_at": "2019-01-06T20:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412822",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:7"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/72f034ab10b86167e0e7a68b17895e44e7c3ba0f"><code>72f034a</code></a></td><td><code>Merge branch 'u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5a97f1ffa5b5d0134d8c083c0d82809437b58d4f"><code>5a97f1f</code></a></td><td><code>Merge branch 'u/mantepse/wrong_contains_in_permutations_avoiding_a_pattern' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9229dc3a5b0d6c8d17dd8ab8b1e34b7d5849c14a"><code>9229dc3</code></a></td><td><code>use super and x = self(x) instead of self.element_class(self, x)</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0cdacf08965ab652ea8820d8d37915625c29e15c"><code>0cdacf0</code></a></td><td><code>Merge branch 'u/mantepse/wrong_contains_in_permutations_avoiding_a_pattern' of git://trac.sagemath.org/sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a0ddaeb441676b3a5e6dbe1dcfa58b1a301fa32c"><code>a0ddaeb</code></a></td><td><code>use super</code></td></tr></table>




---

archive/issue_comments_412823.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\ndone!",
    "created_at": "2019-01-06T20:28:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412823",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:8" align="right">comment:8</div>

done!



---

archive/issue_events_370224.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-01-07T13:20:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370224"
}
```



---

archive/issue_events_370225.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2019-01-07T13:20:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370225"
}
```



---

archive/issue_comments_412824.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nLGTM, thanks.",
    "created_at": "2019-01-07T13:20:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412824",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:9" align="right">comment:9</div>

LGTM, thanks.



---

archive/issue_events_370226.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T17:43:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370226"
}
```



---

archive/issue_events_370227.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T17:43:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370227"
}
```



---

archive/issue_comments_412825.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThis is an ugly `__contains__` check:\n\n```\nreturn x in StandardPermutations_avoiding_generic(len(x), self._a)\n```\nI would just copy the code since it is 2 lines.\n\nYou also need to deprecate `self.a`.",
    "created_at": "2019-01-07T17:43:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412825",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

This is an ugly `__contains__` check:

```
return x in StandardPermutations_avoiding_generic(len(x), self._a)
```
I would just copy the code since it is 2 lines.

You also need to deprecate `self.a`.



---

archive/issue_comments_412826.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nReplying to [@tscrim](#comment:10):\n> This is an ugly `__contains__` check:\n> \n> ```\n> return x in StandardPermutations_avoiding_generic(len(x), self._a)\n> ```\n> I would just copy the code since it is 2 lines.\n\nThere is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.\n\nDo you insist?\n\n> You also need to deprecate `self.a`.\n\n`self.a` was not documented.  Do you insist?",
    "created_at": "2019-01-07T18:01:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412826",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:11" align="right">comment:11</div>

Replying to [@tscrim](#comment:10):
> This is an ugly `__contains__` check:
> 
> ```
> return x in StandardPermutations_avoiding_generic(len(x), self._a)
> ```
> I would just copy the code since it is 2 lines.

There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.

Do you insist?

> You also need to deprecate `self.a`.

`self.a` was not documented.  Do you insist?



---

archive/issue_comments_412827.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@mantepse](#comment:11):\n> Replying to [@tscrim](#comment:10):\n> > This is an ugly `__contains__` check:\n> > \n> > ```\n> > return x in StandardPermutations_avoiding_generic(len(x), self._a)\n> > ```\n> > I would just copy the code since it is 2 lines.\n\n> \n> There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.\n> \n> Do you insist?\n\nYes. If that code improves, then you should migrate to a common base class.\n\n> > You also need to deprecate `self.a`.\n\n> \n> `self.a` was not documented.  Do you insist?\n\nVery much. It was public, so it *must* be deprecated.",
    "created_at": "2019-01-07T18:17:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412827",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@mantepse](#comment:11):
> Replying to [@tscrim](#comment:10):
> > This is an ugly `__contains__` check:
> > 
> > ```
> > return x in StandardPermutations_avoiding_generic(len(x), self._a)
> > ```
> > I would just copy the code since it is 2 lines.

> 
> There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.
> 
> Do you insist?

Yes. If that code improves, then you should migrate to a common base class.

> > You also need to deprecate `self.a`.

> 
> `self.a` was not documented.  Do you insist?

Very much. It was public, so it *must* be deprecated.



---

archive/issue_comments_412828.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\n> > There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.\n> > \n> > Do you insist?\n\n> \n> Yes. If that code improves, then you should migrate to a common base class.\n\n??? `StandardPermutations_avoiding_generic` **is** the common base class ???",
    "created_at": "2019-01-07T18:20:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412828",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:13" align="right">comment:13</div>

> > There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.
> > 
> > Do you insist?

> 
> Yes. If that code improves, then you should migrate to a common base class.

??? `StandardPermutations_avoiding_generic` **is** the common base class ???



---

archive/issue_comments_412829.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@mantepse](#comment:13):\n> > > There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.\n> > > \n> > > Do you insist?\n\n> > \n> > Yes. If that code improves, then you should migrate to a common base class.\n\n> \n> ??? `StandardPermutations_avoiding_generic` **is** the common base class ???\n\nNo it is not. `StandardPermutations_all_avoiding` and `StandardPermutations_avoiding_generic` are only relatives in the class hierarchy and have no inheritance relationship.",
    "created_at": "2019-01-07T18:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412829",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@mantepse](#comment:13):
> > > There is a reason to this: The code in `StandardPermutations_avoiding_generic` is currently stupid, and it is quite possible that it could be improved (although I am by no means an expert in permutation patterns).  If I copy the stupid implementation, there will be two places to take care of.
> > > 
> > > Do you insist?

> > 
> > Yes. If that code improves, then you should migrate to a common base class.

> 
> ??? `StandardPermutations_avoiding_generic` **is** the common base class ???

No it is not. `StandardPermutations_all_avoiding` and `StandardPermutations_avoiding_generic` are only relatives in the class hierarchy and have no inheritance relationship.



---

archive/issue_comments_412830.json:
```json
{
    "body": "Changed commit from **[`a0ddaeb`](https://github.com/sagemath/sagetrac-mirror/commit/a0ddaeb441676b3a5e6dbe1dcfa58b1a301fa32c)** to **[`14c7da0`](https://github.com/sagemath/sagetrac-mirror/commit/14c7da0ffdf3cb79fddfaa4cfd802c638dd79143)**",
    "created_at": "2019-01-07T18:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412830",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`a0ddaeb`](https://github.com/sagemath/sagetrac-mirror/commit/a0ddaeb441676b3a5e6dbe1dcfa58b1a301fa32c)** to **[`14c7da0`](https://github.com/sagemath/sagetrac-mirror/commit/14c7da0ffdf3cb79fddfaa4cfd802c638dd79143)**



---

archive/issue_comments_412831.json:
```json
{
    "body": "<div id=\"comment:15\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6bf62d99022ae9132fa3699e095fce91b2bde430\"><code>6bf62d9</code></a></td><td><code>referee's requests</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/b2bb6bccb61bb207c098c97c4f323ab5672c7fdf\"><code>b2bb6bc</code></a></td><td><code>Merge branch 'u/mantepse/wrong_contains_in_permutations_avoiding_a_pattern' of git://trac.sagemath.org/sage into t/26810/permutations_avoiding___1_3_2____returns_all_permutations</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/14c7da0ffdf3cb79fddfaa4cfd802c638dd79143\"><code>14c7da0</code></a></td><td><code>add a deprecated property</code></td></tr></table>\n",
    "created_at": "2019-01-07T18:46:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412831",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:15"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6bf62d99022ae9132fa3699e095fce91b2bde430"><code>6bf62d9</code></a></td><td><code>referee's requests</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/b2bb6bccb61bb207c098c97c4f323ab5672c7fdf"><code>b2bb6bc</code></a></td><td><code>Merge branch 'u/mantepse/wrong_contains_in_permutations_avoiding_a_pattern' of git://trac.sagemath.org/sage into t/26810/permutations_avoiding___1_3_2____returns_all_permutations</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/14c7da0ffdf3cb79fddfaa4cfd802c638dd79143"><code>14c7da0</code></a></td><td><code>add a deprecated property</code></td></tr></table>




---

archive/issue_comments_412832.json:
```json
{
    "body": "Changed commit from **[`14c7da0`](https://github.com/sagemath/sagetrac-mirror/commit/14c7da0ffdf3cb79fddfaa4cfd802c638dd79143)** to **[`c9f3018`](https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc)**",
    "created_at": "2019-01-07T18:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412832",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`14c7da0`](https://github.com/sagemath/sagetrac-mirror/commit/14c7da0ffdf3cb79fddfaa4cfd802c638dd79143)** to **[`c9f3018`](https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc)**



---

archive/issue_comments_412833.json:
```json
{
    "body": "<div id=\"comment:16\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc\"><code>c9f3018</code></a></td><td><code>replace `__contains__` as per referee's request</code></td></tr></table>\n",
    "created_at": "2019-01-07T18:49:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412833",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:16"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc"><code>c9f3018</code></a></td><td><code>replace `__contains__` as per referee's request</code></td></tr></table>




---

archive/issue_comments_412834.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\ndone, and yes, you were right about the inhertance.  Sorry about that.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc\"><code>c9f3018</code></a></td><td><code>replace `__contains__` as per referee's request</code></td></tr></table>\n",
    "created_at": "2019-01-07T18:50:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412834",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:17" align="right">comment:17</div>

done, and yes, you were right about the inhertance.  Sorry about that.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc"><code>c9f3018</code></a></td><td><code>replace `__contains__` as per referee's request</code></td></tr></table>




---

archive/issue_events_370228.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2019-01-07T18:50:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370228"
}
```



---

archive/issue_events_370229.json:
```json
{
    "actor": "https://github.com/mantepse",
    "created_at": "2019-01-07T18:50:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370229"
}
```



---

archive/issue_comments_412835.json:
```json
{
    "body": "Changed reviewer from **Daniel Krenn** to **Daniel Krenn, Travis Scrimshaw**",
    "created_at": "2019-01-07T18:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412835",
    "user": "https://github.com/tscrim"
}
```

Changed reviewer from **Daniel Krenn** to **Daniel Krenn, Travis Scrimshaw**



---

archive/issue_events_370230.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T18:53:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370230"
}
```



---

archive/issue_events_370231.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T18:53:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370231"
}
```



---

archive/issue_comments_412836.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nThank you.",
    "created_at": "2019-01-07T18:53:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412836",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:19" align="right">comment:19</div>

Thank you.



---

archive/issue_events_370232.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T18:53:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370232"
}
```



---

archive/issue_events_370233.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-01-07T18:53:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370233"
}
```



---

archive/issue_comments_412837.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412837",
    "user": "https://github.com/embray"
}
```

<div id="comment:20" align="right">comment:20</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_370234.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370234"
}
```



---

archive/issue_events_370235.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370235"
}
```



---

archive/issue_comments_412838.json:
```json
{
    "body": "Changed branch from **[u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations)** to **[`c9f3018`](https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc)**",
    "created_at": "2019-01-23T14:17:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26810#issuecomment-412838",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations](https://github.com/sagemath/sagetrac-mirror/tree/u/mantepse/permutations_avoiding___1_3_2____returns_all_permutations)** to **[`c9f3018`](https://github.com/sagemath/sagetrac-mirror/commit/c9f30186f555e902645dbd47a43a87d6fee9e3dc)**



---

archive/issue_events_370236.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-23T14:17:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370236"
}
```



---

archive/issue_events_370237.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "c6125397b30892677d01cb1e4d83a8f83aa1f0ac",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-23T14:17:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26810",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26810#event-370237"
}
```
