# Issue 26666: clean generic_graph.py (part 9) - edge and vertex handlers

archive/issues_026429.json:
```json
{
    "body": "In this ticket, we clean methods for adding/removing vertices/edges and enumerating neighbors. The main changes are:\n- add parameter `sort` to method `.vertices`. This gives an alternative to `list(G)`.\n- in method `delete_vertices`, we add as first instruction `vertices = list(vertices)`. This way we now allow to call this method with an iterator. Before, the method was not removing any vertex when called with an iterator. This will certainly help reducing further the number of calls to `.vertices()`.\n- in method `vertex_iterator`, we remove doctests related to former networkx backend\n- change in method `remove_multiple_edges` that should make it faster\n- PEP8 cleaning\n\nCC:  @tscrim @fchapoton\n\nKeywords: py3, graph\n\nBranch/Commit: 1c43e4ea526f3edb42304c3a170ea402da7b1695\n\nReviewer: Travis Scrimshaw\n\nAuthor: David Coudert\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26666\n\n",
    "closed_at": "2018-11-12T21:11:31Z",
    "created_at": "2018-11-09T10:46:00Z",
    "labels": [
        "component: graph theory"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.5",
    "title": "clean generic_graph.py (part 9) - edge and vertex handlers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26666",
    "user": "https://github.com/dcoudert"
}
```
In this ticket, we clean methods for adding/removing vertices/edges and enumerating neighbors. The main changes are:
- add parameter `sort` to method `.vertices`. This gives an alternative to `list(G)`.
- in method `delete_vertices`, we add as first instruction `vertices = list(vertices)`. This way we now allow to call this method with an iterator. Before, the method was not removing any vertex when called with an iterator. This will certainly help reducing further the number of calls to `.vertices()`.
- in method `vertex_iterator`, we remove doctests related to former networkx backend
- change in method `remove_multiple_edges` that should make it faster
- PEP8 cleaning

CC:  @tscrim @fchapoton

Keywords: py3, graph

Branch/Commit: 1c43e4ea526f3edb42304c3a170ea402da7b1695

Reviewer: Travis Scrimshaw

Author: David Coudert

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26666





---

archive/issue_comments_371585.json:
```json
{
    "body": "Changing keywords from \"\" to \"py3, graph\".",
    "created_at": "2018-11-09T10:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371585",
    "user": "https://github.com/dcoudert"
}
```

Changing keywords from "" to "py3, graph".



---

archive/issue_comments_371586.json:
```json
{
    "body": "<a id='comment:1'></a>New commits:",
    "created_at": "2018-11-09T10:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371586",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:1'></a>New commits:



---

archive/issue_comments_371587.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-11-09T10:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371587",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_371588.json:
```json
{
    "body": "<a id='comment:2'></a>2 trivial failing doctests in src/sage/graphs/bipartite_graph.py",
    "created_at": "2018-11-09T12:45:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371588",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:2'></a>2 trivial failing doctests in src/sage/graphs/bipartite_graph.py



---

archive/issue_comments_371589.json:
```json
{
    "body": "<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-09T13:22:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371589",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:3'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_371590.json:
```json
{
    "body": "<a id='comment:4'></a>oups, fixed.",
    "created_at": "2018-11-09T13:23:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371590",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:4'></a>oups, fixed.



---

archive/issue_comments_371591.json:
```json
{
    "body": "<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-10T09:23:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371591",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_371592.json:
```json
{
    "body": "<a id='comment:7'></a>We also avoid sorting vertices before removing them from the graph.",
    "created_at": "2018-11-10T09:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371592",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:7'></a>We also avoid sorting vertices before removing them from the graph.



---

archive/issue_comments_371593.json:
```json
{
    "body": "<a id='comment:8'></a>Just for clarity, I think it is better to add these parentheses: `if (not sort) and key:`\n\nSince `u` and `v` are code inputs for the one-line descriptions, I think it would be better to do\n\n```diff\n-Delete all edges from `u` to `v`.\n+Delete all edges from ``u`` to ``v``.\n```\n\nI think the `OUTPUT:` block for `has_vertex` is functionally useless and can be safely removed (it is essentially a copy of the one-line description).\n\nOther than that LGTM.",
    "created_at": "2018-11-10T13:20:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371593",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:8'></a>Just for clarity, I think it is better to add these parentheses: `if (not sort) and key:`

Since `u` and `v` are code inputs for the one-line descriptions, I think it would be better to do

```diff
-Delete all edges from `u` to `v`.
+Delete all edges from ``u`` to ``v``.
```

I think the `OUTPUT:` block for `has_vertex` is functionally useless and can be safely removed (it is essentially a copy of the one-line description).

Other than that LGTM.



---

archive/issue_comments_371594.json:
```json
{
    "body": "<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-11-10T16:52:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371594",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_371595.json:
```json
{
    "body": "<a id='comment:10'></a>i have implemented all you comments. Should be better now.",
    "created_at": "2018-11-10T16:53:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371595",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:10'></a>i have implemented all you comments. Should be better now.



---

archive/issue_comments_371596.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2018-11-10T18:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371596",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_371597.json:
```json
{
    "body": "<a id='comment:11'></a>Thanks. LGTM.",
    "created_at": "2018-11-10T18:33:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371597",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>Thanks. LGTM.



---

archive/issue_events_066111.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-12T21:11:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26666#event-66111"
}
```



---

archive/issue_comments_371598.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2018-11-12T21:11:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26666",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26666#issuecomment-371598",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
