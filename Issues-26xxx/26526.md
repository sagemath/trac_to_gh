# Issue 26526: mutable poset: remove default for breaking ties in topological sort

archive/issues_026289.json:
```json
{
    "assignees": [],
    "body": "At the moment `shells_topological` of a mutable poset breaks ties by means of `repr` by default. However, mutable poset is a data structure and should not do this expensive operation by default, therefore this default should be removed which is the aim of this ticket.\n\nNote that this default was in mainly due to convenience reasons to have the results in the doctests always in the same order.\n\n(Motivation: For my code/application, this improves the computation time by more than a factor 2.)\n\nCC:  @behackl\n\nBranch/Commit: **[fd98fc1](https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f)**\n\nReviewer: **Benjamin Hackl**\n\nAuthor: **Daniel Krenn**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26526_\n\n",
    "closed_at": "2019-05-21T12:15:58Z",
    "created_at": "2018-10-22T14:57:59Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20asymptotic%20expansions",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.8",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "mutable poset: remove default for breaking ties in topological sort",
    "type": "issue",
    "updated_at": "2019-05-21T12:15:58Z",
    "url": "https://github.com/sagemath/sage/issues/26526",
    "user": "https://github.com/dkrenn"
}
```
At the moment `shells_topological` of a mutable poset breaks ties by means of `repr` by default. However, mutable poset is a data structure and should not do this expensive operation by default, therefore this default should be removed which is the aim of this ticket.

Note that this default was in mainly due to convenience reasons to have the results in the doctests always in the same order.

(Motivation: For my code/application, this improves the computation time by more than a factor 2.)

CC:  @behackl

Branch/Commit: **[fd98fc1](https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f)**

Reviewer: **Benjamin Hackl**

Author: **Daniel Krenn**

_Issue created by migration from https://trac.sagemath.org/ticket/26526_





---

archive/issue_events_347242.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2018-10-22T14:57:59Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347242"
}
```



---

archive/issue_events_347243.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2018-10-22T14:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20asymptotic%20expansions",
    "label_color": "0000ff",
    "label_name": "component: asymptotic expansions",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347243"
}
```



---

archive/issue_events_347244.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2018-10-22T14:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347244"
}
```



---

archive/issue_events_347245.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2018-10-22T14:57:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347245"
}
```



---

archive/issue_comments_411846.json:
```json
{
    "body": "Branch: **[u/dkrenn/repr-default-topological](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/repr-default-topological)**",
    "created_at": "2018-10-22T14:59:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411846",
    "user": "https://github.com/dkrenn"
}
```

Branch: **[u/dkrenn/repr-default-topological](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/repr-default-topological)**



---

archive/issue_comments_411847.json:
```json
{
    "body": "Commit: **[fd98fc1](https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f)**",
    "created_at": "2018-10-22T15:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411847",
    "user": "https://github.com/dkrenn"
}
```

Commit: **[fd98fc1](https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f)**



---

archive/issue_events_347246.json:
```json
{
    "actor": "https://github.com/dkrenn",
    "created_at": "2018-10-22T15:00:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347246"
}
```



---

archive/issue_comments_411848.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f\">fd98fc1</a></td><td><code>Trac #26526: remove default \"repr\" for topological sorting</code></td></tr></table>\n",
    "created_at": "2018-10-22T15:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411848",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:2" align="right">Comment 2</div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f">fd98fc1</a></td><td><code>Trac #26526: remove default "repr" for topological sorting</code></td></tr></table>




---

archive/issue_comments_411849.json:
```json
{
    "body": "Author: **Daniel Krenn**",
    "created_at": "2018-10-22T15:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411849",
    "user": "https://github.com/dkrenn"
}
```

Author: **Daniel Krenn**



---

archive/issue_events_347247.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-17T14:08:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347247"
}
```



---

archive/issue_events_347248.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-17T14:08:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347248"
}
```



---

archive/issue_comments_411850.json:
```json
{
    "body": "Reviewer: **Benjamin Hackl**",
    "created_at": "2019-04-17T14:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411850",
    "user": "https://github.com/behackl"
}
```

Reviewer: **Benjamin Hackl**



---

archive/issue_events_347249.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-17T14:08:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347249"
}
```



---

archive/issue_events_347250.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-17T14:08:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "milestone_number": null,
    "milestone_title": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347250"
}
```



---

archive/issue_comments_411851.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nI looked through the changes and they look good to me overall.\n\nWould it make sense to add another doctest (possibly with output marked as random) where no key is passed and thus no sorting happens?",
    "created_at": "2019-04-17T14:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411851",
    "user": "https://github.com/behackl"
}
```

<div id="comment:3" align="right">Comment 3</div>

I looked through the changes and they look good to me overall.

Would it make sense to add another doctest (possibly with output marked as random) where no key is passed and thus no sorting happens?



---

archive/issue_comments_411852.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nReplying to [@behackl](#comment%3A3):\n> Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?\n\nI do not see much of a point adding such a test.",
    "created_at": "2019-05-14T14:24:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411852",
    "user": "https://github.com/dkrenn"
}
```

<div id="comment:4" align="right">Comment 4</div>

Replying to [@behackl](#comment%3A3):
> Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?

I do not see much of a point adding such a test.



---

archive/issue_comments_411853.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nReplying to [@dkrenn](#comment%3A4):\n> Replying to [@behackl](#comment%3A3):\n> > Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?\n\n> \n> I do not see much of a point adding such a test.\n\nI was thinking about testing whether calling the method without a key still works -- but you are right, I also cannot think of a usecase for that.\n\nGood to go.",
    "created_at": "2019-05-16T10:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411853",
    "user": "https://github.com/behackl"
}
```

<div id="comment:5" align="right">Comment 5</div>

Replying to [@dkrenn](#comment%3A4):
> Replying to [@behackl](#comment%3A3):
> > Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?

> 
> I do not see much of a point adding such a test.

I was thinking about testing whether calling the method without a key still works -- but you are right, I also cannot think of a usecase for that.

Good to go.



---

archive/issue_events_347251.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-05-16T10:02:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347251"
}
```



---

archive/issue_events_347252.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-05-16T10:02:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347252"
}
```



---

archive/issue_events_347253.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-21T12:15:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347253"
}
```



---

archive/issue_events_347254.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "1361286f04a587b25b28ebfb8b7f51a7fd28db35",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-05-21T12:15:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26526#event-347254"
}
```



---

archive/issue_comments_411854.json:
```json
{
    "body": "Changed branch from **[u/dkrenn/repr-default-topological](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/repr-default-topological)** to **[fd98fc1](https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f)**",
    "created_at": "2019-05-21T12:15:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26526#issuecomment-411854",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dkrenn/repr-default-topological](https://github.com/sagemath/sagetrac-mirror/tree/u/dkrenn/repr-default-topological)** to **[fd98fc1](https://github.com/sagemath/sagetrac-mirror/commit/fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f)**
