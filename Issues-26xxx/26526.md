# Issue 26526: mutable poset: remove default for breaking ties in topological sort

archive/issues_026289.json:
```json
{
    "body": "At the moment `shells_topological` of a mutable poset breaks ties by means of `repr` by default. However, mutable poset is a data structure and should not do this expensive operation by default, therefore this default should be removed which is the aim of this ticket.\n\nNote that this default was in mainly due to convenience reasons to have the results in the doctests always in the same order.\n\n(Motivation: For my code/application, this improves the computation time by more than a factor 2.)\n\nCC:  @behackl\n\nBranch/Commit: fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f\n\nReviewer: Benjamin Hackl\n\nAuthor: Daniel Krenn\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26526\n\n",
    "closed_at": "2019-05-21T12:15:58Z",
    "created_at": "2018-10-22T14:57:59Z",
    "labels": [
        "component: asymptotic expansions",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "mutable poset: remove default for breaking ties in topological sort",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26526",
    "user": "https://github.com/dkrenn"
}
```
At the moment `shells_topological` of a mutable poset breaks ties by means of `repr` by default. However, mutable poset is a data structure and should not do this expensive operation by default, therefore this default should be removed which is the aim of this ticket.

Note that this default was in mainly due to convenience reasons to have the results in the doctests always in the same order.

(Motivation: For my code/application, this improves the computation time by more than a factor 2.)

CC:  @behackl

Branch/Commit: fd98fc1fe5929efe1f9d84bd2c310d1d4a0cd63f

Reviewer: Benjamin Hackl

Author: Daniel Krenn

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26526





---

archive/issue_comments_394537.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-22T15:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394537",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_394538.json:
```json
{
    "body": "<a id='comment:2'></a>New commits:",
    "created_at": "2018-10-22T15:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394538",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:2'></a>New commits:



---

archive/issue_comments_394539.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2019-04-17T14:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394539",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_events_065917.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-17T14:08:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26526#event-65917"
}
```



---

archive/issue_comments_394540.json:
```json
{
    "body": "<a id='comment:3'></a>I looked through the changes and they look good to me overall.\n\nWould it make sense to add another doctest (possibly with output marked as random) where no key is passed and thus no sorting happens?",
    "created_at": "2019-04-17T14:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394540",
    "user": "https://github.com/behackl"
}
```

<a id='comment:3'></a>I looked through the changes and they look good to me overall.

Would it make sense to add another doctest (possibly with output marked as random) where no key is passed and thus no sorting happens?



---

archive/issue_comments_394541.json:
```json
{
    "body": "<a id='comment:4'></a>Replying to [comment:3 behackl]:\n> Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?\n\n\nI do not see much of a point adding such a test.",
    "created_at": "2019-05-14T14:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394541",
    "user": "https://github.com/dkrenn"
}
```

<a id='comment:4'></a>Replying to [comment:3 behackl]:
> Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?


I do not see much of a point adding such a test.



---

archive/issue_comments_394542.json:
```json
{
    "body": "<a id='comment:5'></a>Replying to [comment:4 dkrenn]:\n> Replying to [comment:3 behackl]:\n> > Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?\n\n> \n> I do not see much of a point adding such a test.\n\n\nI was thinking about testing whether calling the method without a key still works -- but you are right, I also cannot think of a usecase for that.\n\nGood to go.",
    "created_at": "2019-05-16T10:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394542",
    "user": "https://github.com/behackl"
}
```

<a id='comment:5'></a>Replying to [comment:4 dkrenn]:
> Replying to [comment:3 behackl]:
> > Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?

> 
> I do not see much of a point adding such a test.


I was thinking about testing whether calling the method without a key still works -- but you are right, I also cannot think of a usecase for that.

Good to go.



---

archive/issue_comments_394543.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2019-05-16T10:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394543",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_065918.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-21T12:15:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26526#event-65918"
}
```



---

archive/issue_comments_394544.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-21T12:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26526",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26526#issuecomment-394544",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
