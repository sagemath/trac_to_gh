# Issue 26426: GCC build fails with XCode 10 and OS X 10.14

archive/issues_026189.json:
```json
{
    "assignees": [],
    "body": "The relevant error part seems to be \n\n```\n[gcc-7.2.0]                  from /Users/buildslave-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidma/local/var/tmp/sage/build/gcc-7.2.0/src/libstdc++-v3/include/precompiled/stdc++.h:52:\n[gcc-7.2.0] /Users/buildslave-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidma/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/x86_64-apple-darwin17.7.0/libstdc++-v3/include/bits/stl_algobase.h:67:10: fatal error: bits/stl_iterator.h: No such file or directory\n[gcc-7.2.0]  #include <bits/stl_iterator.h>\n[gcc-7.2.0]           ^~~~~~~~~~~~~~~~~~~~~\n[gcc-7.2.0] compilation terminated.\n[gcc-7.2.0] make[10]: *** [x86_64-apple-darwin17.7.0/bits/stdc++.h.gch/O2g.gch] Error 1\n[gcc-7.2.0] make[10]: Target `all' not remade because of errors.\n```\n\nReviewer: **John Palmieri**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26426_\n\n",
    "closed_at": "2020-05-19T15:43:02Z",
    "created_at": "2018-10-07T11:05:32Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/invalid"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "GCC build fails with XCode 10 and OS X 10.14",
    "type": "issue",
    "updated_at": "2020-05-19T15:43:02Z",
    "url": "https://github.com/sagemath/sage/issues/26426",
    "user": "https://github.com/vbraun"
}
```
The relevant error part seems to be 

```
[gcc-7.2.0]                  from /Users/buildslave-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidma/local/var/tmp/sage/build/gcc-7.2.0/src/libstdc++-v3/include/precompiled/stdc++.h:52:
[gcc-7.2.0] /Users/buildslave-sage/slave/binary_pkg/build/source/SageMath/jc4b6yulaujayb9sr94ia88eourzeqip0oidma/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/x86_64-apple-darwin17.7.0/libstdc++-v3/include/bits/stl_algobase.h:67:10: fatal error: bits/stl_iterator.h: No such file or directory
[gcc-7.2.0]  #include <bits/stl_iterator.h>
[gcc-7.2.0]           ^~~~~~~~~~~~~~~~~~~~~
[gcc-7.2.0] compilation terminated.
[gcc-7.2.0] make[10]: *** [x86_64-apple-darwin17.7.0/bits/stdc++.h.gch/O2g.gch] Error 1
[gcc-7.2.0] make[10]: Target `all' not remade because of errors.
```

Reviewer: **John Palmieri**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/26426_





---

archive/issue_events_360987.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-07T11:05:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360987"
}
```



---

archive/issue_events_360988.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-07T11:05:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "0000b0",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360988"
}
```



---

archive/issue_events_360989.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-07T11:05:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360989"
}
```



---

archive/issue_events_360990.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-10-07T11:05:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360990"
}
```



---

archive/issue_comments_407214.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWithout gcc the mac app binary build fails with \n\n```\n\nAnalyzeShallow /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppDelegate.m normal x86_64 (\nin target: Sage)\n    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app\n    export LANG=en_US.US-ASCII\n    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu99 -gmodules -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DOBJC_OLD_DISPATCH_PROTOTYPES=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.4 -g -fvisibility=hidden -Wno-sign-conversion -Wno-infinite-recursion -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-semicolon-before-method-body -D__clang_analyzer__ -Xclang -analyzer-output=plist-multi-file -Xclang -analyzer-config -Xclang path-diagnostics-alternate=true -Xclang -analyzer-config -Xclang report-in-main-source-file=true -Xclang -analyzer-config -Xclang mode=shallow -Xclang -analyzer-config -Xclang nullability:NoDiagnoseCallsToSystemHeaders=true -Xclang -analyzer-checker -Xclang security.insecureAPI.UncheckedReturn -Xclang -analyzer-checker -Xclang security.insecureAPI.getpw -Xclang -analyzer-checker -Xclang security.insecureAPI.gets -Xclang -analyzer-checker -Xclang security.insecureAPI.mkstemp -Xclang -analyzer-checker -Xclang security.insecureAPI.mktemp -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.rand -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.strcpy -Xclang -analyzer-checker -Xclang security.insecureAPI.vfork -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-generated-files.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-own-target-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-all-target-headers.hmap -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-project-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/include -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources/x86_64 -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -include /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/SharedPrecompiledHeaders/SharedPrecompiledHeaders/1304468418096953350/Sage_Prefix.pch -MMD -MT dependencies -MF /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppDelegate.d --analyze /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppDelegate.m -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Stat\nicAnalyzer/Sage/Sage/normal/x86_64/AppDelegate.plist\n** BUILD FAILED **\nThe following build commands failed:\n\tLd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage normal x86_64\n(1 failure)\nmake[2]: *** [sage-8.4.rc0-OSX_10.13.6_x86_64/SageMath-8.4.rc0.app] Error 65\nAnalyzeShallow /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppController.m normal x86_64 (in target: Sage)\n    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app\n    export LANG=en_US.US-ASCII\n    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu99 -gmodules -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DOBJC_OLD_DISPATCH_PROTOTYPES=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.4 -g -fvisibility=hidden -Wno-sign-conversion -Wno-infinite-recursion -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-semicolon-before-method-body -D__clang_analyzer__ -Xclang -analyzer-output=plist-multi-file -Xclang -analyzer-config -Xclang path-diagnostics-alternate=true -Xclang -analyzer-config -Xclang report-in-main-source-file=true -Xclang -analyzer-config -Xclang mode=shallow -Xclang -analyzer-config -Xclang nullability:NoDiagnoseCallsToSystemHeaders=true -Xclang -analyzer-checker -Xclang security.insecureAPI.UncheckedReturn -Xclang -analyzer-checker -Xclang security.insecureAPI.getpw -Xclang -analyzer-checker -Xclang security.insecureAPI.gets -Xclang -analyzer-checker -Xclang security.insecureAPI.mkstemp -Xclang -analyzer-checker -Xclang security.insecureAPI.mktemp -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.rand -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.strcpy -Xclang -analyzer-checker -Xclang security.insecureAPI.vfork -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-generated-files.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-own-target-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-all-target-headers.hmap -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-project-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/include -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources/x86_64 -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -include /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/SharedPrecompiledHeaders/SharedPrecompiledHeaders/1304468418096953350/Sage_Prefix.pch -MMD -MT dependencies -MF /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppController.d --analyze /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppCon\ntroller.m -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppController.plist\nLd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage normal x86_64 (in target: Sage)\n    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app\n    export MACOSX_DEPLOYMENT_TARGET=10.4\n    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -L/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -filelist /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage.LinkFileList -mmacosx-version-min=10.4 -Xlinker -object_path_lto -Xlinker /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage_lto.o -Xlinker -no_deduplicate -fobjc-link-runtime -framework Cocoa -framework WebKit -framework Carbon -Xlinker -dependency_info -Xlinker /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage_dependency_info.dat -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage\nld: library not found for -lgcc_s.10.4\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n```",
    "created_at": "2018-10-08T06:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407214",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:1" align="right">comment:1</div>

Without gcc the mac app binary build fails with 

```

AnalyzeShallow /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppDelegate.m normal x86_64 (
in target: Sage)
    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app
    export LANG=en_US.US-ASCII
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu99 -gmodules -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DOBJC_OLD_DISPATCH_PROTOTYPES=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.4 -g -fvisibility=hidden -Wno-sign-conversion -Wno-infinite-recursion -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-semicolon-before-method-body -D__clang_analyzer__ -Xclang -analyzer-output=plist-multi-file -Xclang -analyzer-config -Xclang path-diagnostics-alternate=true -Xclang -analyzer-config -Xclang report-in-main-source-file=true -Xclang -analyzer-config -Xclang mode=shallow -Xclang -analyzer-config -Xclang nullability:NoDiagnoseCallsToSystemHeaders=true -Xclang -analyzer-checker -Xclang security.insecureAPI.UncheckedReturn -Xclang -analyzer-checker -Xclang security.insecureAPI.getpw -Xclang -analyzer-checker -Xclang security.insecureAPI.gets -Xclang -analyzer-checker -Xclang security.insecureAPI.mkstemp -Xclang -analyzer-checker -Xclang security.insecureAPI.mktemp -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.rand -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.strcpy -Xclang -analyzer-checker -Xclang security.insecureAPI.vfork -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-generated-files.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-own-target-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-all-target-headers.hmap -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-project-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/include -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources/x86_64 -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -include /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/SharedPrecompiledHeaders/SharedPrecompiledHeaders/1304468418096953350/Sage_Prefix.pch -MMD -MT dependencies -MF /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppDelegate.d --analyze /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppDelegate.m -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Stat
icAnalyzer/Sage/Sage/normal/x86_64/AppDelegate.plist
** BUILD FAILED **
The following build commands failed:
	Ld /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage normal x86_64
(1 failure)
make[2]: *** [sage-8.4.rc0-OSX_10.13.6_x86_64/SageMath-8.4.rc0.app] Error 65
AnalyzeShallow /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppController.m normal x86_64 (in target: Sage)
    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app
    export LANG=en_US.US-ASCII
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c -arch x86_64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu99 -gmodules -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wno-shorten-64-to-32 -Wpointer-sign -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -DOBJC_OLD_DISPATCH_PROTOTYPES=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -mmacosx-version-min=10.4 -g -fvisibility=hidden -Wno-sign-conversion -Wno-infinite-recursion -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-semicolon-before-method-body -D__clang_analyzer__ -Xclang -analyzer-output=plist-multi-file -Xclang -analyzer-config -Xclang path-diagnostics-alternate=true -Xclang -analyzer-config -Xclang report-in-main-source-file=true -Xclang -analyzer-config -Xclang mode=shallow -Xclang -analyzer-config -Xclang nullability:NoDiagnoseCallsToSystemHeaders=true -Xclang -analyzer-checker -Xclang security.insecureAPI.UncheckedReturn -Xclang -analyzer-checker -Xclang security.insecureAPI.getpw -Xclang -analyzer-checker -Xclang security.insecureAPI.gets -Xclang -analyzer-checker -Xclang security.insecureAPI.mkstemp -Xclang -analyzer-checker -Xclang security.insecureAPI.mktemp -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.rand -Xclang -analyzer-disable-checker -Xclang security.insecureAPI.strcpy -Xclang -analyzer-checker -Xclang security.insecureAPI.vfork -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-generated-files.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-own-target-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-all-target-headers.hmap -iquote /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Sage-project-headers.hmap -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/include -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources/x86_64 -I/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/DerivedSources -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -include /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/SharedPrecompiledHeaders/SharedPrecompiledHeaders/1304468418096953350/Sage_Prefix.pch -MMD -MT dependencies -MF /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppController.d --analyze /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/AppCon
troller.m -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/StaticAnalyzer/Sage/Sage/normal/x86_64/AppController.plist
Ld /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage normal x86_64 (in target: Sage)
    cd /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app
    export MACOSX_DEPLOYMENT_TARGET=10.4
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk -L/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -F/Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug -filelist /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage.LinkFileList -mmacosx-version-min=10.4 -Xlinker -object_path_lto -Xlinker /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage_lto.o -Xlinker -no_deduplicate -fobjc-link-runtime -framework Cocoa -framework WebKit -framework Carbon -Xlinker -dependency_info -Xlinker /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Sage.build/Debug/Sage.build/Objects-normal/x86_64/Sage_dependency_info.dat -o /Users/buildslave-sage/slave/binary_pkg/build/staging/OSX_mac_app/SageMath/src/mac-app/build/Debug/Sage.app/Contents/MacOS/Sage
ld: library not found for -lgcc_s.10.4
clang: error: linker command failed with exit code 1 (use -v to see invocation)
```



---

archive/issue_comments_407215.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThe linker message is nasty. But in the first place you shouldn't include anything from `bits` those are implementation dependent.",
    "created_at": "2018-10-08T22:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407215",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

The linker message is nasty. But in the first place you shouldn't include anything from `bits` those are implementation dependent.



---

archive/issue_comments_407216.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nWell its gcc's own bits, gcc needs to know about the implementation details when it being built.\n\nXCode 10 comes with a new proprietary build system, thats probably the reason for the mac app breakage.",
    "created_at": "2018-10-09T07:01:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407216",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:3" align="right">comment:3</div>

Well its gcc's own bits, gcc needs to know about the implementation details when it being built.

XCode 10 comes with a new proprietary build system, thats probably the reason for the mac app breakage.



---

archive/issue_comments_407217.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt's using gcc private internal implementation of a feature rather then the language itself. Even if you stay with gcc you are at the mercy of it breaking. There should be a switch to prevent you from including those directly, the question is not even about proprietary it is about using something that is not only not portable but it is not guaranteed stable.",
    "created_at": "2018-10-09T08:31:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407217",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

It's using gcc private internal implementation of a feature rather then the language itself. Even if you stay with gcc you are at the mercy of it breaking. There should be a switch to prevent you from including those directly, the question is not even about proprietary it is about using something that is not only not portable but it is not guaranteed stable.



---

archive/issue_comments_407218.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nI've made #26472 for the failure of the mac app to build, since that is a separate issue.",
    "created_at": "2018-10-11T20:35:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407218",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:5" align="right">comment:5</div>

I've made #26472 for the failure of the mac app to build, since that is a separate issue.



---

archive/issue_comments_407219.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nFrom [sage-devel](https://groups.google.com/d/msg/sage-devel/Bl2CWkOVKc4/wmG3vV8lBgAJ): on OS X Mojave, there is no folder `/usr/include` unless you install `/Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg`. I tried building a vanilla GCC 7.2.0, and I couldn't do it until I installed this extra package.",
    "created_at": "2018-10-12T20:42:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407219",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:6" align="right">comment:6</div>

From [sage-devel](https://groups.google.com/d/msg/sage-devel/Bl2CWkOVKc4/wmG3vV8lBgAJ): on OS X Mojave, there is no folder `/usr/include` unless you install `/Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg`. I tried building a vanilla GCC 7.2.0, and I couldn't do it until I installed this extra package.



---

archive/issue_comments_407220.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI'm still on OSX 10.13 and /usr/include does exist. Still can't compile GCC",
    "created_at": "2018-10-15T17:56:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407220",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:7" align="right">comment:7</div>

I'm still on OSX 10.13 and /usr/include does exist. Still can't compile GCC



---

archive/issue_comments_407221.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI have a machine with OS X 10.13 and Xcode 10, and Sage builds, including the `gfortran` package. Are you trying to build Sage's GCC and use it in the Sage build?",
    "created_at": "2018-10-16T01:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407221",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:8" align="right">comment:8</div>

I have a machine with OS X 10.13 and Xcode 10, and Sage builds, including the `gfortran` package. Are you trying to build Sage's GCC and use it in the Sage build?



---

archive/issue_comments_407222.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nYes, I'm talking about building `SAGE_INSTALL_GCC=yes make`",
    "created_at": "2018-10-16T07:02:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407222",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:9" align="right">comment:9</div>

Yes, I'm talking about building `SAGE_INSTALL_GCC=yes make`



---

archive/issue_comments_407223.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nYeah, that works for me, too, or at least it has now gotten past the GCC build.",
    "created_at": "2018-10-16T15:41:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407223",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:10" align="right">comment:10</div>

Yeah, that works for me, too, or at least it has now gotten past the GCC build.



---

archive/issue_comments_407224.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nOn a different machine running OS X 10.14 and Xcode 10.0, I see the problem in the ticket description.",
    "created_at": "2018-10-16T19:20:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407224",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:11" align="right">comment:11</div>

On a different machine running OS X 10.14 and Xcode 10.0, I see the problem in the ticket description.



---

archive/issue_comments_407225.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSuprisingly, installing gcc now once succeeded on OSX 10.14 and XCode 10. So it seems to be a build race condition? Gcc does install its own `$SAGE_LOCAL/include/c++/7.2.0/bits/stl_iterator.h`",
    "created_at": "2018-11-18T14:31:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407225",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:12" align="right">comment:12</div>

Suprisingly, installing gcc now once succeeded on OSX 10.14 and XCode 10. So it seems to be a build race condition? Gcc does install its own `$SAGE_LOCAL/include/c++/7.2.0/bits/stl_iterator.h`



---

archive/issue_events_360991.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-12T14:23:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20blocker%20/%201",
    "label_color": "ff0000",
    "label_name": "p: blocker / 1",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360991"
}
```



---

archive/issue_events_360992.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-12T14:23:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360992"
}
```



---

archive/issue_comments_407226.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nDowngrading since we don't build GCC any more for the OSX binary",
    "created_at": "2018-12-12T14:23:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407226",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:13" align="right">comment:13</div>

Downgrading since we don't build GCC any more for the OSX binary



---

archive/issue_comments_407227.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nI'm getting a different error on OS X 10.14.4 with XCode 10.2.1:\n\n```\n/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./prev-gcc/xg++ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./prev-gcc/ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/x86_64-apple-darwin18.5.0/bin/ -nostdinc++ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/src/.libs -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/libsupc++/.libs  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include/x86_64-apple-darwin18.5.0  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/src/libstdc++-v3/libsupc++ -L/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/src/.libs -L/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/libsupc++/.libs -c   -g -O2   -gtoggle -DIN_GCC     -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H -DGENERATOR_FILE -fno-PIE -I. -Ibuild -I../../src/gcc -I../../src/gcc/build -I../../src/gcc/../include  -I../../src/gcc/../libcpp/include  \\\n\t\t-o build/genmddeps.o ../../src/gcc/genmddeps.c\nIn file included from ./bconfig.h:3:0,\n                 from ../../src/gcc/genmddeps.c:18:\n./auto-host.h:2357:16: error: declaration does not declare anything [-fpermissive]\n #define rlim_t long\n                ^\nIn file included from ../../src/gcc/genmddeps.c:19:0:\n../../src/gcc/system.h:540:20: error: conflicting declaration of C function 'const char* strsignal(int)'\n extern const char *strsignal (int);\n                    ^~~~~~~~~\nIn file included from /Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include/cstring:42:0,\n                 from ../../src/gcc/system.h:235,\n                 from ../../src/gcc/genmddeps.c:19:\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h:134:7: note: previous declaration 'char* strsignal(int)'\n char *strsignal(int __sig);\n       ^~~~~~~~~\nmake[3]: *** [build/genmddeps.o] Error 1\nmake[2]: *** [all-stage2-gcc] Error 2\nmake[1]: *** [stage2-bubble] Error 2\nmake: *** [all] Error 2\n********************************************************************************\nError building gcc-7.2.0\n```",
    "created_at": "2019-06-02T03:08:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407227",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:14" align="right">comment:14</div>

I'm getting a different error on OS X 10.14.4 with XCode 10.2.1:

```
/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./prev-gcc/xg++ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/./prev-gcc/ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/x86_64-apple-darwin18.5.0/bin/ -nostdinc++ -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/src/.libs -B/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/libsupc++/.libs  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include/x86_64-apple-darwin18.5.0  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include  -I/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/src/libstdc++-v3/libsupc++ -L/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/src/.libs -L/Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/libsupc++/.libs -c   -g -O2   -gtoggle -DIN_GCC     -fno-exceptions -fno-rtti -fasynchronous-unwind-tables -W -Wall -Wno-narrowing -Wwrite-strings -Wcast-qual -Wmissing-format-attribute -Woverloaded-virtual -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H -DGENERATOR_FILE -fno-PIE -I. -Ibuild -I../../src/gcc -I../../src/gcc/build -I../../src/gcc/../include  -I../../src/gcc/../libcpp/include  \
		-o build/genmddeps.o ../../src/gcc/genmddeps.c
In file included from ./bconfig.h:3:0,
                 from ../../src/gcc/genmddeps.c:18:
./auto-host.h:2357:16: error: declaration does not declare anything [-fpermissive]
 #define rlim_t long
                ^
In file included from ../../src/gcc/genmddeps.c:19:0:
../../src/gcc/system.h:540:20: error: conflicting declaration of C function 'const char* strsignal(int)'
 extern const char *strsignal (int);
                    ^~~~~~~~~
In file included from /Users/mkoeppe/s/sage/sage-rebasing/worktree_spkg_configure/local/var/tmp/sage/build/gcc-7.2.0/gcc-build/prev-x86_64-apple-darwin18.5.0/libstdc++-v3/include/cstring:42:0,
                 from ../../src/gcc/system.h:235,
                 from ../../src/gcc/genmddeps.c:19:
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/string.h:134:7: note: previous declaration 'char* strsignal(int)'
 char *strsignal(int __sig);
       ^~~~~~~~~
make[3]: *** [build/genmddeps.o] Error 1
make[2]: *** [all-stage2-gcc] Error 2
make[1]: *** [stage2-bubble] Error 2
make: *** [all] Error 2
********************************************************************************
Error building gcc-7.2.0
```



---

archive/issue_events_360993.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2019-06-02T19:41:45Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "title_is": "GCC build fails with XCode 10 and OS X 10.14",
    "title_was": "GCC build fails with XCode 10",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360993"
}
```



---

archive/issue_comments_407228.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nWith Xcode 10.1 and OS X 10.13.6, everything works fine for me. With Xcode 10.2.1 and OS X 10.14.5, I see\n\n```\nIn file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/sysctl.h:83:0,\n                 from ../../src/gcc/config/darwin-driver.c:30:\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/ucred.h:94:2: error: '_Atomic' does not name a type\n  _Atomic u_long          cr_ref;  /* reference count */\n  ^~~~~~~\nmake[6]: *** [darwin-driver.o] Error 1\nmake[6]: *** Waiting for unfinished jobs....\nrm gcc.pod gfortran.pod\nmake[5]: *** [all-stage2-gcc] Error 2\nmake[4]: *** [stage2-bubble] Error 2\nmake[3]: *** [all] Error 2\n```",
    "created_at": "2019-06-02T19:41:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407228",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:15" align="right">comment:15</div>

With Xcode 10.1 and OS X 10.13.6, everything works fine for me. With Xcode 10.2.1 and OS X 10.14.5, I see

```
In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/sysctl.h:83:0,
                 from ../../src/gcc/config/darwin-driver.c:30:
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include/sys/ucred.h:94:2: error: '_Atomic' does not name a type
  _Atomic u_long          cr_ref;  /* reference count */
  ^~~~~~~
make[6]: *** [darwin-driver.o] Error 1
make[6]: *** Waiting for unfinished jobs....
rm gcc.pod gfortran.pod
make[5]: *** [all-stage2-gcc] Error 2
make[4]: *** [stage2-bubble] Error 2
make[3]: *** [all] Error 2
```



---

archive/issue_comments_407229.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nTesting whether this package is still relevant, using `tox -e local-homebrew-macos-standard-gcc_spkg`.",
    "created_at": "2020-04-18T07:02:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407229",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:16" align="right">comment:16</div>

Testing whether this package is still relevant, using `tox -e local-homebrew-macos-standard-gcc_spkg`.



---

archive/issue_comments_407230.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI'm getting a different error.\n\n```\n  [gcc-9.2.0]   \t  cc1-checksum.o libbackend.a main.o libcommon-target.a libcommon.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a libcommon.a ../libcpp/libcpp.a  -liconv ../libbacktrace/.libs/libbacktrace.a ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a   -lmpc -lmpfr -lgmp   -lz\n  [gcc-9.2.0]   ld: library not found for -lmpc\n  [gcc-9.2.0]   collect2: error: ld returned 1 exit status\n  [gcc-9.2.0]   ld: library not found for -lmpc\n  [gcc-9.2.0]   collect2: error: ld returned 1 exit status\n  [gcc-9.2.0]   make[6]: *** [cc1plus] Error 1\n  [gcc-9.2.0]   make[6]: *** [cc1] Error 1\n  [gcc-9.2.0]   make[6]: Target `all' not remade because of errors.\n  [gcc-9.2.0]   rm gfortran.pod gcc.pod\n  [gcc-9.2.0]   make[5]: *** [all-stage2-gcc] Error 2\n  [gcc-9.2.0]   make[5]: Target `all-stage2' not remade because of errors.\n  [gcc-9.2.0]   make[4]: *** [stage2-bubble] Error 2\n  [gcc-9.2.0]   make[4]: Target `stage3-bubble' not remade because of errors.\n  [gcc-9.2.0]   make[3]: *** [all] Error 2\n  [gcc-9.2.0]   ********************************************************************************\n  [gcc-9.2.0]   Error building gcc-9.2.0\n  [gcc-9.2.0]   ********************************************************************************\n  [gcc-9.2.0]   \n  [gcc-9.2.0]   real\t29m43.664s\n  [gcc-9.2.0]   user\t215m9.194s\n  [gcc-9.2.0]   sys\t11m33.054s\n  [gcc-9.2.0]   ************************************************************************\n  [gcc-9.2.0]   Error building package gcc-9.2.0\n  [gcc-9.2.0]   ************************************************************************\n  [gcc-9.2.0] Full log file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/logs/pkgs/gcc-9.2.0.log\n```\n\nThat's using homebrew's mpc...\n\n```\nChecking whether SageMath should install SPKG mpc...\nchecking installing mpfr? ... no\nchecking mpc.h usability... yes\nchecking mpc.h presence... yes\nchecking for mpc.h... yes\nchecking for library containing mpc_cmp_abs... -lmpc\nconfigure: will use system package and not install SPKG mpc\nusing mpc library from the system\n```",
    "created_at": "2020-04-22T06:30:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407230",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:17" align="right">comment:17</div>

I'm getting a different error.

```
  [gcc-9.2.0]   	  cc1-checksum.o libbackend.a main.o libcommon-target.a libcommon.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a libcommon.a ../libcpp/libcpp.a  -liconv ../libbacktrace/.libs/libbacktrace.a ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a   -lmpc -lmpfr -lgmp   -lz
  [gcc-9.2.0]   ld: library not found for -lmpc
  [gcc-9.2.0]   collect2: error: ld returned 1 exit status
  [gcc-9.2.0]   ld: library not found for -lmpc
  [gcc-9.2.0]   collect2: error: ld returned 1 exit status
  [gcc-9.2.0]   make[6]: *** [cc1plus] Error 1
  [gcc-9.2.0]   make[6]: *** [cc1] Error 1
  [gcc-9.2.0]   make[6]: Target `all' not remade because of errors.
  [gcc-9.2.0]   rm gfortran.pod gcc.pod
  [gcc-9.2.0]   make[5]: *** [all-stage2-gcc] Error 2
  [gcc-9.2.0]   make[5]: Target `all-stage2' not remade because of errors.
  [gcc-9.2.0]   make[4]: *** [stage2-bubble] Error 2
  [gcc-9.2.0]   make[4]: Target `stage3-bubble' not remade because of errors.
  [gcc-9.2.0]   make[3]: *** [all] Error 2
  [gcc-9.2.0]   ********************************************************************************
  [gcc-9.2.0]   Error building gcc-9.2.0
  [gcc-9.2.0]   ********************************************************************************
  [gcc-9.2.0]   
  [gcc-9.2.0]   real	29m43.664s
  [gcc-9.2.0]   user	215m9.194s
  [gcc-9.2.0]   sys	11m33.054s
  [gcc-9.2.0]   ************************************************************************
  [gcc-9.2.0]   Error building package gcc-9.2.0
  [gcc-9.2.0]   ************************************************************************
  [gcc-9.2.0] Full log file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/logs/pkgs/gcc-9.2.0.log
```

That's using homebrew's mpc...

```
Checking whether SageMath should install SPKG mpc...
checking installing mpfr? ... no
checking mpc.h usability... yes
checking mpc.h presence... yes
checking for mpc.h... yes
checking for library containing mpc_cmp_abs... -lmpc
configure: will use system package and not install SPKG mpc
using mpc library from the system
```



---

archive/issue_events_360994.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-22T06:30:32Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360994"
}
```



---

archive/issue_events_360995.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-22T06:30:32Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360995"
}
```



---

archive/issue_comments_407231.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI see a similar error about `mpc`. This is with a bunch of homebrew packages installed and with `./configure --with-system-gcc=no`.",
    "created_at": "2020-04-22T17:18:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407231",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:19" align="right">comment:19</div>

I see a similar error about `mpc`. This is with a bunch of homebrew packages installed and with `./configure --with-system-gcc=no`.



---

archive/issue_comments_407232.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nThis ticket seems outdated, as we have made a major gcc spkg upgrade since. I have opened #29580 for the new, unrelated error.",
    "created_at": "2020-04-25T18:14:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407232",
    "user": "https://github.com/mkoeppe"
}
```

<div id="comment:20" align="right">comment:20</div>

This ticket seems outdated, as we have made a major gcc spkg upgrade since. I have opened #29580 for the new, unrelated error.



---

archive/issue_events_360996.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T18:14:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360996"
}
```



---

archive/issue_events_360997.json:
```json
{
    "actor": "https://github.com/mkoeppe",
    "created_at": "2020-04-25T18:14:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "milestone_number": null,
    "milestone_title": "sage-9.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360997"
}
```



---

archive/issue_events_360998.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-25T18:42:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360998"
}
```



---

archive/issue_events_360999.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-25T18:42:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-360999"
}
```



---

archive/issue_comments_407233.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nOkay.",
    "created_at": "2020-04-25T18:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407233",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:21" align="right">comment:21</div>

Okay.



---

archive/issue_comments_407234.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2020-04-25T18:42:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26426#issuecomment-407234",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_events_361000.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-05-19T15:43:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-361000"
}
```



---

archive/issue_events_361001.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-05-19T15:43:02Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26426",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26426#event-361001"
}
```
