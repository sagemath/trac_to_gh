# Issue 26640: Meta-ticket: make graphs compatible with Python 3

archive/issues_026403.json:
```json
{
    "assignees": [],
    "body": "This ticket is used to keep track of the progress towards python3 in graphs.\n\n\n**Major issues**\n- #22349 Deprecate sorting of methods `.vertices()` and `.edges()`\n- direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices (and edges) that will be used to order rows and columns. Currently, we use `.vertices()` and `.edges()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n\n\n**Needs work**:\n- #22349 \tDeprecate sorting of Graph vertices and edges by default\n\n**Needs review**:\n- #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n- #27513 \tAllow custom order for edges as well as vertices for incidence matrix\n\n\n**Done**\n- #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n- #26282 \tavoid comparison of vertex labels in MIP - graph.py\n- #26284 \tavoid comparison of vertex labels in MIP - connectivity.pyx\n- #26285 \tavoid comparison of vertex labels in MIP - generic_graph.py\n- #26469 \tavoid sorting vertex labels in `graph_plot.py`\n- #26478 \tclean `graph_plot_js.py`, `graph_list.py` and `graph_input.py`\n- #26480 \tclean graph_latex.py\n- #26484 \tclean `graph_coloring.py` and avoid comparison of vertex labels\n- #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n- #26528 \tavoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs\n- #26531 \tavoid using `.vertices()` in asteroidal_triples\n- #26534 \tavoid using `.vertices()` in weakly_chordal.pyx\n- #26554 \timprove the boost graph interface to avoid using `.vertices()` \n- #26618 \tavoid using `.vertices()` in `centrality.pyx`\n- #26621 \tavoid using `.vertices()` and `.edges()` in `bliss.pyx`\n- #26622 \tavoid using `.vertices()` in convexity_properties.pyx\n- #26624 \tclean generic_graph.py (part 1)\n- #26627 \tclean generic_graph.py (part 2)\n- #26630 \tclean generic_graph.py (part 3)\n- #26633\tclean generic_graph.py (part 4)\n- #26634\tclean generic_graph.py (part 5)\n- #26637 \tclean generic_graph.py (part 6)\n- #26658 \tclean generic_graph.py (part 7) - planarity\n- #26663\tclean generic_graph.py (part 8) - connectivity\t\n- #26666 \tclean generic_graph.py (part 9) - edge and vertex handlers\n- #26672 \tclean generic_graph.py (part 10) - degree\n- #26675\tclean generic_graph.py (part 11) - substructures\n- #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n- #26679\tclean generic_graph.py (part 13) - searches and constructors\n- #26680\tclean generic_graph.py (part 14) - visualization\n- #26711 \tavoid `.vertices()` in graph_coloring.py\n- #26712 \tavoid `.vertices()` in independent_sets.pyx\n- #26757 \tpy3: fixing round in graph_latex.py\n- #26761 \tpy3: fix `BlanusaSecondSnarkGraph`\n- #26762 \tpy3: fix `HortonGraph` generator\n- #26763 \tpy3: fix `SzekeresSnarkGraph` generator\n- #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n- #26800 \tpy3: bug with `canonical_label` fixed by #27695 \n- #26801 \tpy3: change sorting of neighbors labels in `static_sparse_graph.pyx`\n- #26812 \tpy3: fix doctest in `graph_generators.py`\n- #26846        for graph isomorphism\n- #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n- #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n- #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n- #26871 \tpy3: fix doctests in `digraph_generators.py`\n- #26940 \tstop sorting returned list of edges in spanning tree methods \n- #26971 \tpy3: some minor fix for traveling salesman\n- #26973 \tpy3: avoid `.vertices()` in `graph_plot.py`\n- #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n- #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`\n- #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n- #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n- #27029 \tAvoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`\n- #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n- #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n- #27125 \tpy3: fix some doctests in `graph.py`\n- #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n- #27129 \tpy3: fix other doctests in `graph.py`\n- #27137 \tpep8 in `digraph_generators.py` (part 4)\n- #27138 \tpep8 in `digraph_generators.py` (part 5)\n- #27144 \tpy3: fix doctests in `connectivity.pyx`\n- #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n- #27148 \tpy3: fix doctests in `centrality.pyx`\n- #27149 \tpy3: fix doctests in `comparability.pyx`\n- #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n- #27158 \tpy3: fix doctests in `boost_graph.pyx`\n- #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n- #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n- #27165 \tpy3: fix doctests in `c_graph.pyx`\n- #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n- #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n- #27170 \tpy3: fix 14 doctests in `digraph.py`\n- #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n- #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n- #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n- #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n- #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n- #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n- #27202 \tpy3: fix doctests in random graphs generators\n- #27203 \tpy3: fix 8 doctests in `generators/families.py`\n- #27232 \tis_isomorphic broken with keyword edge_labels=True\n- #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n- #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n- #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n- #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n- #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n- #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n- #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n- #27628\tpy3: fix doctest with igraph\n- #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n- #27811 \tfix doctest with igraph\n- #27948 \tpy3: fix doctests with optional package plantri \n- #28108 \tpy3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)\n- #28371 \tpy3: errors with optional package CSDP\n\n\n**Optional packages:**\n\nWith  #27628, #27811, #27948, #28108  and #28371 all failing doctests of the optional packages used in the graph module are fixed: benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib\n\n\n\nCC:  @tscrim @fchapoton @jhpalmieri @jfraymond\n\nKeywords: **py3, graph**\n\nReviewer: **John Palmieri**\n\nAuthor: **David Coudert**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26640_\n\n",
    "closed_at": "2020-06-20T06:35:55Z",
    "created_at": "2018-11-05T10:01:16Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/invalid",
        "https://github.com/sagemath/sage/labels/worksforme"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Meta-ticket: make graphs compatible with Python 3",
    "type": "issue",
    "updated_at": "2020-06-20T06:35:55Z",
    "url": "https://github.com/sagemath/sage/issues/26640",
    "user": "https://github.com/dcoudert"
}
```
This ticket is used to keep track of the progress towards python3 in graphs.


**Major issues**
- #22349 Deprecate sorting of methods `.vertices()` and `.edges()`
- direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices (and edges) that will be used to order rows and columns. Currently, we use `.vertices()` and `.edges()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.


**Needs work**:
- #22349 	Deprecate sorting of Graph vertices and edges by default

**Needs review**:
- #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
- #27513 	Allow custom order for edges as well as vertices for incidence matrix


**Done**
- #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
- #26282 	avoid comparison of vertex labels in MIP - graph.py
- #26284 	avoid comparison of vertex labels in MIP - connectivity.pyx
- #26285 	avoid comparison of vertex labels in MIP - generic_graph.py
- #26469 	avoid sorting vertex labels in `graph_plot.py`
- #26478 	clean `graph_plot_js.py`, `graph_list.py` and `graph_input.py`
- #26480 	clean graph_latex.py
- #26484 	clean `graph_coloring.py` and avoid comparison of vertex labels
- #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
- #26528 	avoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs
- #26531 	avoid using `.vertices()` in asteroidal_triples
- #26534 	avoid using `.vertices()` in weakly_chordal.pyx
- #26554 	improve the boost graph interface to avoid using `.vertices()` 
- #26618 	avoid using `.vertices()` in `centrality.pyx`
- #26621 	avoid using `.vertices()` and `.edges()` in `bliss.pyx`
- #26622 	avoid using `.vertices()` in convexity_properties.pyx
- #26624 	clean generic_graph.py (part 1)
- #26627 	clean generic_graph.py (part 2)
- #26630 	clean generic_graph.py (part 3)
- #26633	clean generic_graph.py (part 4)
- #26634	clean generic_graph.py (part 5)
- #26637 	clean generic_graph.py (part 6)
- #26658 	clean generic_graph.py (part 7) - planarity
- #26663	clean generic_graph.py (part 8) - connectivity	
- #26666 	clean generic_graph.py (part 9) - edge and vertex handlers
- #26672 	clean generic_graph.py (part 10) - degree
- #26675	clean generic_graph.py (part 11) - substructures
- #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
- #26679	clean generic_graph.py (part 13) - searches and constructors
- #26680	clean generic_graph.py (part 14) - visualization
- #26711 	avoid `.vertices()` in graph_coloring.py
- #26712 	avoid `.vertices()` in independent_sets.pyx
- #26757 	py3: fixing round in graph_latex.py
- #26761 	py3: fix `BlanusaSecondSnarkGraph`
- #26762 	py3: fix `HortonGraph` generator
- #26763 	py3: fix `SzekeresSnarkGraph` generator
- #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
- #26800 	py3: bug with `canonical_label` fixed by #27695 
- #26801 	py3: change sorting of neighbors labels in `static_sparse_graph.pyx`
- #26812 	py3: fix doctest in `graph_generators.py`
- #26846        for graph isomorphism
- #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
- #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
- #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
- #26871 	py3: fix doctests in `digraph_generators.py`
- #26940 	stop sorting returned list of edges in spanning tree methods 
- #26971 	py3: some minor fix for traveling salesman
- #26973 	py3: avoid `.vertices()` in `graph_plot.py`
- #27007 	py3: avoid `.vertices()` in `planarity.pyx`
- #27008 	py3: avoid `.vertices()` in method `apex_vertices`
- #27009 	py3: avoid sorting vertices and edges in method treewidth
- #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
- #27029 	Avoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`
- #27059 	py3: improve doctests in `spanning_tree.pyx`
- #27123 	bliss `automorphism_group()` shouldn't sort vertices
- #27125 	py3: fix some doctests in `graph.py`
- #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
- #27129 	py3: fix other doctests in `graph.py`
- #27137 	pep8 in `digraph_generators.py` (part 4)
- #27138 	pep8 in `digraph_generators.py` (part 5)
- #27144 	py3: fix doctests in `connectivity.pyx`
- #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
- #27148 	py3: fix doctests in `centrality.pyx`
- #27149 	py3: fix doctests in `comparability.pyx`
- #27151 	py3: fix doctests in `vertex_separation.pyx`
- #27158 	py3: fix doctests in `boost_graph.pyx`
- #27159 	py3: fix doctests in `strongly_regular_db.pyx`
- #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
- #27165 	py3: fix doctests in `c_graph.pyx`
- #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
- #27167 	py3: fix doctest in `distances_all_pairs.pyx`
- #27170 	py3: fix 14 doctests in `digraph.py`
- #27176 	py3: fix doctest in `generic_graph` (part 1)
- #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
- #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
- #27181 	py3: fix doctest in `generic_graph` (part 4)
- #27183 	py3: fix doctest in `generic_graph` (part 5)
- #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
- #27202 	py3: fix doctests in random graphs generators
- #27203 	py3: fix 8 doctests in `generators/families.py`
- #27232 	is_isomorphic broken with keyword edge_labels=True
- #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
- #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
- #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
- #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
- #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
- #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
- #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
- #27628	py3: fix doctest with igraph
- #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
- #27811 	fix doctest with igraph
- #27948 	py3: fix doctests with optional package plantri 
- #28108 	py3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)
- #28371 	py3: errors with optional package CSDP


**Optional packages:**

With  #27628, #27811, #27948, #28108  and #28371 all failing doctests of the optional packages used in the graph module are fixed: benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib



CC:  @tscrim @fchapoton @jhpalmieri @jfraymond

Keywords: **py3, graph**

Reviewer: **John Palmieri**

Author: **David Coudert**

_Issue created by migration from https://trac.sagemath.org/ticket/26640_





---

archive/issue_events_348476.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-11-05T10:01:16Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348476"
}
```



---

archive/issue_events_348477.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-11-05T10:01:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "component: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348477"
}
```



---

archive/issue_events_348478.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-11-05T10:01:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348478"
}
```



---

archive/issue_comments_413420.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -7,6 +7,7 @@\n \n \n **Done**\n+- #26618 avoid using `.vertices()` in `centrality.pyx`\n - #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`\n \n \n``````\n",
    "created_at": "2018-11-05T10:09:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413420",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -7,6 +7,7 @@
 
 
 **Done**
+- #26618 avoid using `.vertices()` in `centrality.pyx`
 - #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`
 
 
``````




---

archive/issue_comments_413421.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,9 +4,11 @@\n **Major issues**\n - methods `.vertices()` and `.edges()` use sort by default\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n-\n+- all `min_spanning_tree` methods sort edges before returning the result\n \n **Done**\n+- #26469 avoid sorting vertex labels in `graph_plot.py` \n+- #26531 avoid using `.vertices()` in asteroidal_triples\n - #26618 avoid using `.vertices()` in `centrality.pyx`\n - #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`\n \n``````\n",
    "created_at": "2018-11-05T11:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413421",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,9 +4,11 @@
 **Major issues**
 - methods `.vertices()` and `.edges()` use sort by default
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
-
+- all `min_spanning_tree` methods sort edges before returning the result
 
 **Done**
+- #26469 avoid sorting vertex labels in `graph_plot.py` 
+- #26531 avoid using `.vertices()` in asteroidal_triples
 - #26618 avoid using `.vertices()` in `centrality.pyx`
 - #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`
 
``````




---

archive/issue_events_348479.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-05T12:48:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "component: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348479"
}
```



---

archive/issue_events_348480.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-11-05T12:48:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348480"
}
```



---

archive/issue_comments_413422.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nI'm answering here the question of [#26567#comment:9](https://github.com/sagemath/sage/issues/26567#comment:9) about how to make `iterator_edges` of `sparse_graph.pyx` py3 compatible, and if something similar to #26567 for `dense_graph.pyx` can be done for `sparse_graph.pyx`.\n\nSo far, I don't know what's the best option.\n- just stop ordering end vertices of edges as well as vertices in general, but it shall break many algorithms\n- change the way we use graphs to ensure that internally vertices are all integers, and then use method `get_vertex_label` (that we already have but rarely use) only when the user wants to display lists of vertices/edges. I think networkx is now doing something like that.\n- try to mimic the py2 sorting using try... except statements, but this might induce some slowdown.\n- maintain an ordering of the vertices and a mapping  from vertices to integers used when sorting list of vertices and the end vertices of edges. This ordering could be updated at vertex insertion/deletion time.\n\nAll these options have pros and cons, and each of them will require a significant amount of work to fix doctests and algorithms. \n\nIn the last months, we did significant progresses on reducing the dependency on ordering, but this is not enough and this central issue is very complex to fix. Which is the best option in the short/long term ?",
    "created_at": "2018-11-29T08:31:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413422",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:4" align="right">Comment 4</div>

I'm answering here the question of [#26567#comment:9](https://github.com/sagemath/sage/issues/26567#comment:9) about how to make `iterator_edges` of `sparse_graph.pyx` py3 compatible, and if something similar to #26567 for `dense_graph.pyx` can be done for `sparse_graph.pyx`.

So far, I don't know what's the best option.
- just stop ordering end vertices of edges as well as vertices in general, but it shall break many algorithms
- change the way we use graphs to ensure that internally vertices are all integers, and then use method `get_vertex_label` (that we already have but rarely use) only when the user wants to display lists of vertices/edges. I think networkx is now doing something like that.
- try to mimic the py2 sorting using try... except statements, but this might induce some slowdown.
- maintain an ordering of the vertices and a mapping  from vertices to integers used when sorting list of vertices and the end vertices of edges. This ordering could be updated at vertex insertion/deletion time.

All these options have pros and cons, and each of them will require a significant amount of work to fix doctests and algorithms. 

In the last months, we did significant progresses on reducing the dependency on ordering, but this is not enough and this central issue is very complex to fix. Which is the best option in the short/long term ?



---

archive/issue_comments_413423.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,4 +12,13 @@\n - #26618 avoid using `.vertices()` in `centrality.pyx`\n - #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`\n \n+**Needs review**:\n \n+- #26520\tclean graph decompositions\n+- #26633\tclean generic_graph.py (part 4)\t\n+- #26634\tclean generic_graph.py (part 5)\n+- #26663\tclean generic_graph.py (part 8) - connectivity\t\n+- #26675\tclean generic_graph.py (part 11) - substructures\n+- #26678\tclean generic_graph.py (part 12) - centrality and distances\n+- #26679\tclean generic_graph.py (part 13) - searches and constructors\n+- #26680\tclean generic_graph.py (part 14) - visualization\n``````\n",
    "created_at": "2018-11-30T15:42:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413423",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,4 +12,13 @@
 - #26618 avoid using `.vertices()` in `centrality.pyx`
 - #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`
 
+**Needs review**:
 
+- #26520	clean graph decompositions
+- #26633	clean generic_graph.py (part 4)	
+- #26634	clean generic_graph.py (part 5)
+- #26663	clean generic_graph.py (part 8) - connectivity	
+- #26675	clean generic_graph.py (part 11) - substructures
+- #26678	clean generic_graph.py (part 12) - centrality and distances
+- #26679	clean generic_graph.py (part 13) - searches and constructors
+- #26680	clean generic_graph.py (part 14) - visualization
``````




---

archive/issue_comments_413424.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -6,19 +6,44 @@\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n - all `min_spanning_tree` methods sort edges before returning the result\n \n-**Done**\n-- #26469 avoid sorting vertex labels in `graph_plot.py` \n-- #26531 avoid using `.vertices()` in asteroidal_triples\n-- #26618 avoid using `.vertices()` in `centrality.pyx`\n-- #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`\n+\n+**Needs work**:\n+- #26800 \tpy3: bug with canonical_label\n+\n \n **Needs review**:\n-\n - #26520\tclean graph decompositions\n-- #26633\tclean generic_graph.py (part 4)\t\n - #26634\tclean generic_graph.py (part 5)\n - #26663\tclean generic_graph.py (part 8) - connectivity\t\n - #26675\tclean generic_graph.py (part 11) - substructures\n - #26678\tclean generic_graph.py (part 12) - centrality and distances\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n+- #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n+- #26812 \tpy3: fix doctest in `graph_generators.py`\n+\n+\n+**Done**\n+- #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n+- #26282 \tavoid comparison of vertex labels in MIP - graph.py\n+- #26284 \tavoid comparison of vertex labels in MIP - connectivity.pyx\n+- #26285 \tavoid comparison of vertex labels in MIP - generic_graph.py\n+- #26469 \tavoid sorting vertex labels in `graph_plot.py`\n+- #26484 \tclean graph_coloring.py and avoid comparison of vertex labels\n+- #26528 \tavoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs\n+- #26531 \tavoid using `.vertices()` in asteroidal_triples\n+- #26534 \tavoid using `.vertices()` in weakly_chordal.pyx\n+- #26554 \timprove the boost graph interface to avoid using `.vertices()` \n+- #26618 \tavoid using `.vertices()` in `centrality.pyx`\n+- #26621 \tavoid using `.vertices()` and `.edges()` in `bliss.pyx`\n+- #26622 \tavoid using `.vertices()` in convexity_properties.pyx\n+- #26633\tclean generic_graph.py (part 4)\t\n - #26680\tclean generic_graph.py (part 14) - visualization\n+- #26711 \tavoid `.vertices()` in graph_coloring.py\n+- #26712 \tavoid `.vertices()` in independent_sets.pyx\n+- #26757 \tpy3: fixing round in graph_latex.py\n+- #26761 \tpy3: fix `BlanusaSecondSnarkGraph`\n+- #26762 \tpy3: fix `HortonGraph` generator\n+- #26763 \tpy3: fix `SzekeresSnarkGraph` generator\n+- #26801 \tpy3: change sorting of neighbors labels in `static_sparse_graph.pyx`\n+\n+\n``````\n",
    "created_at": "2018-12-04T13:43:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413424",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -6,19 +6,44 @@
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
 - all `min_spanning_tree` methods sort edges before returning the result
 
-**Done**
-- #26469 avoid sorting vertex labels in `graph_plot.py` 
-- #26531 avoid using `.vertices()` in asteroidal_triples
-- #26618 avoid using `.vertices()` in `centrality.pyx`
-- #26621 avoid using `.vertices()` and `.edges()` in `bliss.pyx`
+
+**Needs work**:
+- #26800 	py3: bug with canonical_label
+
 
 **Needs review**:
-
 - #26520	clean graph decompositions
-- #26633	clean generic_graph.py (part 4)	
 - #26634	clean generic_graph.py (part 5)
 - #26663	clean generic_graph.py (part 8) - connectivity	
 - #26675	clean generic_graph.py (part 11) - substructures
 - #26678	clean generic_graph.py (part 12) - centrality and distances
 - #26679	clean generic_graph.py (part 13) - searches and constructors
+- #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
+- #26812 	py3: fix doctest in `graph_generators.py`
+
+
+**Done**
+- #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
+- #26282 	avoid comparison of vertex labels in MIP - graph.py
+- #26284 	avoid comparison of vertex labels in MIP - connectivity.pyx
+- #26285 	avoid comparison of vertex labels in MIP - generic_graph.py
+- #26469 	avoid sorting vertex labels in `graph_plot.py`
+- #26484 	clean graph_coloring.py and avoid comparison of vertex labels
+- #26528 	avoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs
+- #26531 	avoid using `.vertices()` in asteroidal_triples
+- #26534 	avoid using `.vertices()` in weakly_chordal.pyx
+- #26554 	improve the boost graph interface to avoid using `.vertices()` 
+- #26618 	avoid using `.vertices()` in `centrality.pyx`
+- #26621 	avoid using `.vertices()` and `.edges()` in `bliss.pyx`
+- #26622 	avoid using `.vertices()` in convexity_properties.pyx
+- #26633	clean generic_graph.py (part 4)	
 - #26680	clean generic_graph.py (part 14) - visualization
+- #26711 	avoid `.vertices()` in graph_coloring.py
+- #26712 	avoid `.vertices()` in independent_sets.pyx
+- #26757 	py3: fixing round in graph_latex.py
+- #26761 	py3: fix `BlanusaSecondSnarkGraph`
+- #26762 	py3: fix `HortonGraph` generator
+- #26763 	py3: fix `SzekeresSnarkGraph` generator
+- #26801 	py3: change sorting of neighbors labels in `static_sparse_graph.pyx`
+
+
``````




---

archive/issue_comments_413425.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,7 @@\n - #26634\tclean generic_graph.py (part 5)\n - #26663\tclean generic_graph.py (part 8) - connectivity\t\n - #26675\tclean generic_graph.py (part 11) - substructures\n-- #26678\tclean generic_graph.py (part 12) - centrality and distances\n+- #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n - #26812 \tpy3: fix doctest in `graph_generators.py`\n``````\n",
    "created_at": "2018-12-04T20:21:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413425",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,7 @@
 - #26634	clean generic_graph.py (part 5)
 - #26663	clean generic_graph.py (part 8) - connectivity	
 - #26675	clean generic_graph.py (part 11) - substructures
-- #26678	clean generic_graph.py (part 12) - centrality and distances
+- #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
 - #26812 	py3: fix doctest in `graph_generators.py`
``````




---

archive/issue_comments_413426.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,7 +12,7 @@\n \n \n **Needs review**:\n-- #26520\tclean graph decompositions\n+- #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26634\tclean generic_graph.py (part 5)\n - #26663\tclean generic_graph.py (part 8) - connectivity\t\n - #26675\tclean generic_graph.py (part 11) - substructures\n``````\n",
    "created_at": "2018-12-05T04:31:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413426",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,7 +12,7 @@
 
 
 **Needs review**:
-- #26520	clean graph decompositions
+- #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26634	clean generic_graph.py (part 5)
 - #26663	clean generic_graph.py (part 8) - connectivity	
 - #26675	clean generic_graph.py (part 11) - substructures
``````




---

archive/issue_comments_413427.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nMay I ask in which ticket, if any, you do touch the \"is_isomorphic\" method ?\n\nI would really like this to work with python 3:\n\n```python\nsage: G = Graph()\nsage: G.add_edge((1,'a'))\nsage: G\nGraph on 2 vertices\nsage: G.is_isomorphic(G)\n```",
    "created_at": "2018-12-06T13:26:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413427",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:9" align="right">Comment 9</div>

May I ask in which ticket, if any, you do touch the "is_isomorphic" method ?

I would really like this to work with python 3:

```python
sage: G = Graph()
sage: G.add_edge((1,'a'))
sage: G
Graph on 2 vertices
sage: G.is_isomorphic(G)
```



---

archive/issue_comments_413428.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nI have not touched any method related to isomorphism. I have only opened a ticket to show a bug with `canonical_label` #26800.",
    "created_at": "2018-12-06T13:51:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413428",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">Comment 10</div>

I have not touched any method related to isomorphism. I have only opened a ticket to show a bug with `canonical_label` #26800.



---

archive/issue_comments_413429.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nok.. Then either we wait for all these tickets to be closed (and this may take a lot of time) or we can try to fix this isomorphism problem now..",
    "created_at": "2018-12-06T13:53:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413429",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:11" align="right">Comment 11</div>

ok.. Then either we wait for all these tickets to be closed (and this may take a lot of time) or we can try to fix this isomorphism problem now..



---

archive/issue_comments_413430.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nWe can start working on it. In the worst case, I will have to fix some merge conflicts.",
    "created_at": "2018-12-06T14:03:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413430",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">Comment 12</div>

We can start working on it. In the worst case, I will have to fix some merge conflicts.



---

archive/issue_comments_413431.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nI have made a first tentative at `u/chapoton/graphe_iso`",
    "created_at": "2018-12-06T16:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413431",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:13" align="right">Comment 13</div>

I have made a first tentative at `u/chapoton/graphe_iso`



---

archive/issue_comments_413432.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nI'm not good enough with git to know what you have changed, except the first 2 calls to `.vertices()`. It seems ok. Note that the function has 2 more calls to `.vertices()` that are clearly useless. I think the proposed change fix some doctests, so you should open a ticket.",
    "created_at": "2018-12-06T17:28:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413432",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">Comment 14</div>

I'm not good enough with git to know what you have changed, except the first 2 calls to `.vertices()`. It seems ok. Note that the function has 2 more calls to `.vertices()` that are clearly useless. I think the proposed change fix some doctests, so you should open a ticket.



---

archive/issue_comments_413433.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nI made #26846 for graph isomorphism",
    "created_at": "2018-12-06T19:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413433",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:15" align="right">Comment 15</div>

I made #26846 for graph isomorphism



---

archive/issue_comments_413434.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,7 +20,7 @@\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n - #26812 \tpy3: fix doctest in `graph_generators.py`\n-\n+- #26846        for graph isomorphism\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2018-12-06T19:36:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413434",
    "user": "https://github.com/fchapoton"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,7 +20,7 @@
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
 - #26812 	py3: fix doctest in `graph_generators.py`
-
+- #26846        for graph isomorphism
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413435.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,6 +21,8 @@\n - #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n - #26812 \tpy3: fix doctest in `graph_generators.py`\n - #26846        for graph isomorphism\n+- #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n+\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2018-12-06T23:46:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413435",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,6 +21,8 @@
 - #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
 - #26812 	py3: fix doctest in `graph_generators.py`
 - #26846        for graph isomorphism
+- #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
+
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413436.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,12 +14,10 @@\n **Needs review**:\n - #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26634\tclean generic_graph.py (part 5)\n-- #26663\tclean generic_graph.py (part 8) - connectivity\t\n - #26675\tclean generic_graph.py (part 11) - substructures\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n-- #26812 \tpy3: fix doctest in `graph_generators.py`\n - #26846        for graph isomorphism\n - #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n \n@@ -38,7 +36,15 @@\n - #26618 \tavoid using `.vertices()` in `centrality.pyx`\n - #26621 \tavoid using `.vertices()` and `.edges()` in `bliss.pyx`\n - #26622 \tavoid using `.vertices()` in convexity_properties.pyx\n-- #26633\tclean generic_graph.py (part 4)\t\n+- #26624 \tclean generic_graph.py (part 1)\n+- #26627 \tclean generic_graph.py (part 2)\n+- #26630 \tclean generic_graph.py (part 3)\n+- #26633\tclean generic_graph.py (part 4)\n+- #26637 \tclean generic_graph.py (part 6)\n+- #26658 \tclean generic_graph.py (part 7) - planarity\n+- #26663\tclean generic_graph.py (part 8) - connectivity\t\n+- #26666 \tclean generic_graph.py (part 9) - edge and vertex handlers\n+- #26672 \tclean generic_graph.py (part 10) - degree\n - #26680\tclean generic_graph.py (part 14) - visualization\n - #26711 \tavoid `.vertices()` in graph_coloring.py\n - #26712 \tavoid `.vertices()` in independent_sets.pyx\n@@ -47,5 +53,6 @@\n - #26762 \tpy3: fix `HortonGraph` generator\n - #26763 \tpy3: fix `SzekeresSnarkGraph` generator\n - #26801 \tpy3: change sorting of neighbors labels in `static_sparse_graph.pyx`\n+- #26812 \tpy3: fix doctest in `graph_generators.py`\n \n \n``````\n",
    "created_at": "2018-12-07T13:14:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413436",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,12 +14,10 @@
 **Needs review**:
 - #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26634	clean generic_graph.py (part 5)
-- #26663	clean generic_graph.py (part 8) - connectivity	
 - #26675	clean generic_graph.py (part 11) - substructures
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
-- #26812 	py3: fix doctest in `graph_generators.py`
 - #26846        for graph isomorphism
 - #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
 
@@ -38,7 +36,15 @@
 - #26618 	avoid using `.vertices()` in `centrality.pyx`
 - #26621 	avoid using `.vertices()` and `.edges()` in `bliss.pyx`
 - #26622 	avoid using `.vertices()` in convexity_properties.pyx
-- #26633	clean generic_graph.py (part 4)	
+- #26624 	clean generic_graph.py (part 1)
+- #26627 	clean generic_graph.py (part 2)
+- #26630 	clean generic_graph.py (part 3)
+- #26633	clean generic_graph.py (part 4)
+- #26637 	clean generic_graph.py (part 6)
+- #26658 	clean generic_graph.py (part 7) - planarity
+- #26663	clean generic_graph.py (part 8) - connectivity	
+- #26666 	clean generic_graph.py (part 9) - edge and vertex handlers
+- #26672 	clean generic_graph.py (part 10) - degree
 - #26680	clean generic_graph.py (part 14) - visualization
 - #26711 	avoid `.vertices()` in graph_coloring.py
 - #26712 	avoid `.vertices()` in independent_sets.pyx
@@ -47,5 +53,6 @@
 - #26762 	py3: fix `HortonGraph` generator
 - #26763 	py3: fix `SzekeresSnarkGraph` generator
 - #26801 	py3: change sorting of neighbors labels in `static_sparse_graph.pyx`
+- #26812 	py3: fix doctest in `graph_generators.py`
 
 
``````




---

archive/issue_comments_413437.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,11 +13,8 @@\n \n **Needs review**:\n - #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n-- #26634\tclean generic_graph.py (part 5)\n-- #26675\tclean generic_graph.py (part 11) - substructures\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-- #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n - #26846        for graph isomorphism\n - #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n \n@@ -40,11 +37,13 @@\n - #26627 \tclean generic_graph.py (part 2)\n - #26630 \tclean generic_graph.py (part 3)\n - #26633\tclean generic_graph.py (part 4)\n+- #26634\tclean generic_graph.py (part 5)\n - #26637 \tclean generic_graph.py (part 6)\n - #26658 \tclean generic_graph.py (part 7) - planarity\n - #26663\tclean generic_graph.py (part 8) - connectivity\t\n - #26666 \tclean generic_graph.py (part 9) - edge and vertex handlers\n - #26672 \tclean generic_graph.py (part 10) - degree\n+- #26675\tclean generic_graph.py (part 11) - substructures\n - #26680\tclean generic_graph.py (part 14) - visualization\n - #26711 \tavoid `.vertices()` in graph_coloring.py\n - #26712 \tavoid `.vertices()` in independent_sets.pyx\n@@ -52,6 +51,7 @@\n - #26761 \tpy3: fix `BlanusaSecondSnarkGraph`\n - #26762 \tpy3: fix `HortonGraph` generator\n - #26763 \tpy3: fix `SzekeresSnarkGraph` generator\n+- #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n - #26801 \tpy3: change sorting of neighbors labels in `static_sparse_graph.pyx`\n - #26812 \tpy3: fix doctest in `graph_generators.py`\n \n``````\n",
    "created_at": "2018-12-08T05:34:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413437",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,11 +13,8 @@
 
 **Needs review**:
 - #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
-- #26634	clean generic_graph.py (part 5)
-- #26675	clean generic_graph.py (part 11) - substructures
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-- #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
 - #26846        for graph isomorphism
 - #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
 
@@ -40,11 +37,13 @@
 - #26627 	clean generic_graph.py (part 2)
 - #26630 	clean generic_graph.py (part 3)
 - #26633	clean generic_graph.py (part 4)
+- #26634	clean generic_graph.py (part 5)
 - #26637 	clean generic_graph.py (part 6)
 - #26658 	clean generic_graph.py (part 7) - planarity
 - #26663	clean generic_graph.py (part 8) - connectivity	
 - #26666 	clean generic_graph.py (part 9) - edge and vertex handlers
 - #26672 	clean generic_graph.py (part 10) - degree
+- #26675	clean generic_graph.py (part 11) - substructures
 - #26680	clean generic_graph.py (part 14) - visualization
 - #26711 	avoid `.vertices()` in graph_coloring.py
 - #26712 	avoid `.vertices()` in independent_sets.pyx
@@ -52,6 +51,7 @@
 - #26761 	py3: fix `BlanusaSecondSnarkGraph`
 - #26762 	py3: fix `HortonGraph` generator
 - #26763 	py3: fix `SzekeresSnarkGraph` generator
+- #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
 - #26801 	py3: change sorting of neighbors labels in `static_sparse_graph.pyx`
 - #26812 	py3: fix doctest in `graph_generators.py`
 
``````




---

archive/issue_comments_413438.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,7 @@\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26846        for graph isomorphism\n - #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n+- #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n \n \n **Done**\n``````\n",
    "created_at": "2018-12-11T01:39:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413438",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,7 @@
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26846        for graph isomorphism
 - #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
+- #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
 
 
 **Done**
``````




---

archive/issue_comments_413439.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,6 +18,7 @@\n - #26846        for graph isomorphism\n - #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n - #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n+- #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n \n \n **Done**\n``````\n",
    "created_at": "2018-12-11T02:47:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413439",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,6 +18,7 @@
 - #26846        for graph isomorphism
 - #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
 - #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
+- #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
 
 
 **Done**
``````




---

archive/issue_comments_413440.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,7 @@\n - #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n - #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n - #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n+- #26871 \tpy3: fix doctests in `digraph_generators.py`\n \n \n **Done**\n``````\n",
    "created_at": "2018-12-11T03:18:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413440",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,7 @@
 - #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
 - #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
 - #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
+- #26871 	py3: fix doctests in `digraph_generators.py`
 
 
 **Done**
``````




---

archive/issue_comments_413441.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n **Major issues**\n - methods `.vertices()` and `.edges()` use sort by default\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n-- all `min_spanning_tree` methods sort edges before returning the result\n+- all `min_spanning_tree` methods sort edges before returning the result - #26940 is attempt to stop sorting returned list of edges\n \n \n **Needs work**:\n@@ -20,7 +20,7 @@\n - #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n - #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n - #26871 \tpy3: fix doctests in `digraph_generators.py`\n-\n+- #26940 \tstop sorting returned list of edges in spanning tree methods \n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2018-12-22T11:09:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413441",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 **Major issues**
 - methods `.vertices()` and `.edges()` use sort by default
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
-- all `min_spanning_tree` methods sort edges before returning the result
+- all `min_spanning_tree` methods sort edges before returning the result - #26940 is attempt to stop sorting returned list of edges
 
 
 **Needs work**:
@@ -20,7 +20,7 @@
 - #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
 - #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
 - #26871 	py3: fix doctests in `digraph_generators.py`
-
+- #26940 	stop sorting returned list of edges in spanning tree methods 
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413442.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,11 +15,6 @@\n - #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-- #26846        for graph isomorphism\n-- #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n-- #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n-- #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n-- #26871 \tpy3: fix doctests in `digraph_generators.py`\n - #26940 \tstop sorting returned list of edges in spanning tree methods \n \n **Done**\n@@ -57,5 +52,10 @@\n - #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n - #26801 \tpy3: change sorting of neighbors labels in `static_sparse_graph.pyx`\n - #26812 \tpy3: fix doctest in `graph_generators.py`\n+- #26846        for graph isomorphism\n+- #26851 \tpy3: avoid `.vertices()` and `.edges()` in `union` of graphs \n+- #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n+- #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n+- #26871 \tpy3: fix doctests in `digraph_generators.py`\n \n \n``````\n",
    "created_at": "2018-12-30T10:31:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413442",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,11 +15,6 @@
 - #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-- #26846        for graph isomorphism
-- #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
-- #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
-- #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
-- #26871 	py3: fix doctests in `digraph_generators.py`
 - #26940 	stop sorting returned list of edges in spanning tree methods 
 
 **Done**
@@ -57,5 +52,10 @@
 - #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
 - #26801 	py3: change sorting of neighbors labels in `static_sparse_graph.pyx`
 - #26812 	py3: fix doctest in `graph_generators.py`
+- #26846        for graph isomorphism
+- #26851 	py3: avoid `.vertices()` and `.edges()` in `union` of graphs 
+- #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
+- #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
+- #26871 	py3: fix doctests in `digraph_generators.py`
 
 
``````




---

archive/issue_comments_413443.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nSalut !\n\n* we should probably add #26971 somewhere\n\n* where are the plot methods handled ?",
    "created_at": "2018-12-30T10:35:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413443",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:24" align="right">Comment 24</div>

Salut !

* we should probably add #26971 somewhere

* where are the plot methods handled ?



---

archive/issue_comments_413444.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nSee #26469, #26478, #26480, #26484.\n\nI will check #26971 soon.",
    "created_at": "2018-12-30T10:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413444",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:25" align="right">Comment 25</div>

See #26469, #26478, #26480, #26484.

I will check #26971 soon.



---

archive/issue_comments_413445.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,8 @@\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26940 \tstop sorting returned list of edges in spanning tree methods \n+- #26971 \tpy3: some minor fix for traveling salesman\n+\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n@@ -23,7 +25,9 @@\n - #26284 \tavoid comparison of vertex labels in MIP - connectivity.pyx\n - #26285 \tavoid comparison of vertex labels in MIP - generic_graph.py\n - #26469 \tavoid sorting vertex labels in `graph_plot.py`\n-- #26484 \tclean graph_coloring.py and avoid comparison of vertex labels\n+- #26478 \tclean `graph_plot_js.py`, `graph_list.py` and `graph_input.py`\n+- #26480 \tclean graph_latex.py\n+- #26484 \tclean `graph_coloring.py` and avoid comparison of vertex labels\n - #26528 \tavoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs\n - #26531 \tavoid using `.vertices()` in asteroidal_triples\n - #26534 \tavoid using `.vertices()` in weakly_chordal.pyx\n``````\n",
    "created_at": "2018-12-30T10:40:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413445",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,8 @@
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26940 	stop sorting returned list of edges in spanning tree methods 
+- #26971 	py3: some minor fix for traveling salesman
+
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
@@ -23,7 +25,9 @@
 - #26284 	avoid comparison of vertex labels in MIP - connectivity.pyx
 - #26285 	avoid comparison of vertex labels in MIP - generic_graph.py
 - #26469 	avoid sorting vertex labels in `graph_plot.py`
-- #26484 	clean graph_coloring.py and avoid comparison of vertex labels
+- #26478 	clean `graph_plot_js.py`, `graph_list.py` and `graph_input.py`
+- #26480 	clean graph_latex.py
+- #26484 	clean `graph_coloring.py` and avoid comparison of vertex labels
 - #26528 	avoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs
 - #26531 	avoid using `.vertices()` in asteroidal_triples
 - #26534 	avoid using `.vertices()` in weakly_chordal.pyx
``````




---

archive/issue_comments_413446.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nConcerning plot, there are still problems in py3 when plotting posets. This point to the remaining\n\n```\nFile \"/home/u1/chapoton/sage3/local/lib/python3.6/site-packages/sage/graphs/graph_plot.py\", line 255, in __init__\n        self._nodelist = graph.vertices()\n```",
    "created_at": "2018-12-30T10:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413446",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:26" align="right">Comment 26</div>

Concerning plot, there are still problems in py3 when plotting posets. This point to the remaining

```
File "/home/u1/chapoton/sage3/local/lib/python3.6/site-packages/sage/graphs/graph_plot.py", line 255, in __init__
        self._nodelist = graph.vertices()
```



---

archive/issue_comments_413447.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,7 @@\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26940 \tstop sorting returned list of edges in spanning tree methods \n - #26971 \tpy3: some minor fix for traveling salesman\n+- #26973 \tpy3: avoid `.vertices()` in `graph_plot.py`\n \n \n **Done**\n``````\n",
    "created_at": "2018-12-30T11:27:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413447",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,7 @@
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26940 	stop sorting returned list of edges in spanning tree methods 
 - #26971 	py3: some minor fix for traveling salesman
+- #26973 	py3: avoid `.vertices()` in `graph_plot.py`
 
 
 **Done**
``````




---

archive/issue_events_348481.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-30T11:27:30Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348481"
}
```



---

archive/issue_events_348482.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2018-12-30T11:27:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348482"
}
```



---

archive/issue_comments_413448.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,9 +15,6 @@\n - #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-- #26940 \tstop sorting returned list of edges in spanning tree methods \n-- #26971 \tpy3: some minor fix for traveling salesman\n-- #26973 \tpy3: avoid `.vertices()` in `graph_plot.py`\n \n \n **Done**\n@@ -62,5 +59,8 @@\n - #26869 \tpy3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)\n - #26870 \tpy3: fix error with `map` in `strongly_regular_db.pyx`\n - #26871 \tpy3: fix doctests in `digraph_generators.py`\n+- #26940 \tstop sorting returned list of edges in spanning tree methods \n+- #26971 \tpy3: some minor fix for traveling salesman\n+- #26973 \tpy3: avoid `.vertices()` in `graph_plot.py`\n \n \n``````\n",
    "created_at": "2019-01-02T18:09:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413448",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,9 +15,6 @@
 - #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-- #26940 	stop sorting returned list of edges in spanning tree methods 
-- #26971 	py3: some minor fix for traveling salesman
-- #26973 	py3: avoid `.vertices()` in `graph_plot.py`
 
 
 **Done**
@@ -62,5 +59,8 @@
 - #26869 	py3: improve `is_aperiodic` to fix doctests (due to deprecation warning in networkx)
 - #26870 	py3: fix error with `map` in `strongly_regular_db.pyx`
 - #26871 	py3: fix doctests in `digraph_generators.py`
+- #26940 	stop sorting returned list of edges in spanning tree methods 
+- #26971 	py3: some minor fix for traveling salesman
+- #26973 	py3: avoid `.vertices()` in `graph_plot.py`
 
 
``````




---

archive/issue_comments_413449.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,7 +15,7 @@\n - #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-\n+- #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-03T13:36:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413449",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,7 +15,7 @@
 - #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-
+- #27007 	py3: avoid `.vertices()` in `planarity.pyx`
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413450.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,8 @@\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n+- #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`$\n+\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-03T13:51:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413450",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,8 @@
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #27007 	py3: avoid `.vertices()` in `planarity.pyx`
+- #27008 	py3: avoid `.vertices()` in method `apex_vertices`$
+
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413451.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,7 @@\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n - #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`$\n+- #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n \n \n **Done**\n``````\n",
    "created_at": "2019-01-03T14:22:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413451",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,7 @@
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #27007 	py3: avoid `.vertices()` in `planarity.pyx`
 - #27008 	py3: avoid `.vertices()` in method `apex_vertices`$
+- #27009 	py3: avoid sorting vertices and edges in method treewidth
 
 
 **Done**
``````




---

archive/issue_comments_413452.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nWith #27008, #27009 and #27010, all remaining doctest errors in `graph.py` concern the order in which solutions are displayed (not always the same in py2 and py3).",
    "created_at": "2019-01-03T15:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413452",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:32" align="right">Comment 32</div>

With #27008, #27009 and #27010, all remaining doctest errors in `graph.py` concern the order in which solutions are displayed (not always the same in py2 and py3).



---

archive/issue_comments_413453.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,7 +18,7 @@\n - #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n - #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`$\n - #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n-\n+- #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-03T15:14:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413453",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,7 +18,7 @@
 - #27007 	py3: avoid `.vertices()` in `planarity.pyx`
 - #27008 	py3: avoid `.vertices()` in method `apex_vertices`$
 - #27009 	py3: avoid sorting vertices and edges in method treewidth
-
+- #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413454.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,7 @@\n - #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`$\n - #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n - #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n+- #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-15T12:23:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413454",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,7 @@
 - #27008 	py3: avoid `.vertices()` in method `apex_vertices`$
 - #27009 	py3: avoid sorting vertices and edges in method treewidth
 - #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
+- #27059 	py3: improve doctests in `spanning_tree.pyx`
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_events_348483.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348483"
}
```



---

archive/issue_events_348484.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348484"
}
```



---

archive/issue_comments_413455.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413455",
    "user": "https://github.com/embray"
}
```

<div id="comment:34" align="right">Comment 34</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_413456.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nI would like to ask some questions about how to deal with simplicial complexes.\n\n- The `is_isomorphic` method for simplicial complexes translates each complex to a graph and then asks whether they are isomorphic, preserving edge labels. Some edges are labeled and some are not: the edge labels look like\n\n```\nsage: g.edge_labels()\n[None,\n None,\n 'special_edge',\n 'special_edge']\n```\n This fails in Python 3 because it tries to sort edges, and it can't sort `str` and `NoneType`. It is easy enough to provide labels in this case, but should the graph `is_isomorphic` method deal well with graphs where some edges have labels and some don't? (I don't have an opinion and I will fix the simplicial complex code separately.)\n\n- Again with the `is_isomorphic` method for simplicial complexes: it defines a graph with vertices labeled by the vertices of the complex and its facets, and it adds an edge between a vertex `v` and a facet `f` if `v` is in `f`. The graph code tries to sort the vertices, and since the vertices in a simplicial complex can be integers, strings, whatever, the sorting goes badly. Again, I think I can handle this for simplicial complexes by translating everything to something sortable, then sorting, and then translating back at the end, but should the graph `is_isomorphic` method handle these sorts of cases better?\n\n- Consider this:\n\n```\nsage: S1 = simplicial_complexes.Sphere(1)\nsage: g = S1.wedge(S1).graph()\nsage: g\nGraph on 5 vertices\nsage: g.vertices()\n[0, 'L1', 'L2', 'R1', 'R2']\n```\n In Python 3, the last line instead raises an error:\n\n```\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-4-b2087dfc7b91> in <module>()\n----> 1 g.vertices()\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/generic_graph.py in vertices(self, sort, key)\n  10053             raise ValueError('sort keyword is False, yet a key function is given')\n  10054         if sort:\n> 10055             return sorted(list(self.vertex_iterator()), key=key)\n  10056         return list(self.vertex_iterator())\n  10057 \n\nTypeError: '<' not supported between instances of 'int' and 'str'\nsage: g.min_spanning_tree()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-8a025bbcbd58> in <module>()\n----> 1 g.min_spanning_tree()\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/generic_graph.py in min_spanning_tree(self, weight_function, algorithm, starting_vertex, check)\n   4231                 return min_spanning_tree(g,\n   4232                                          weight_function=wfunction_float,\n-> 4233                                          algorithm=algorithm.split(\"_\")[0])\n   4234 \n   4235         if algorithm == \"Prim_fringe\":\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9345)()\n    604 \n    605 \n--> 606 cpdef min_spanning_tree(g,\n    607                         weight_function=None,\n    608                         algorithm='Kruskal'):\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9100)()\n    719     else:\n    720         edges = [(int_to_vertex[<int> result[2*i]], int_to_vertex[<int> result[2*i+1]]) for i in range(n-1)]\n--> 721         return [(min(e[0],e[1]), max(e[0],e[1]), g.edge_label(e[0], e[1])) for e in edges]\n    722 \n    723 \n\nTypeError: '<' not supported between instances of 'int' and 'str'\n```\n In Python 2, `g.min_spanning_tree()` works, while in Python 3, it raises a similar `TypeError`:\n\n```\nsage: g.min_spanning_tree()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n<ipython-input-5-8a025bbcbd58> in <module>()\n----> 1 g.min_spanning_tree()\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/generic_graph.py in min_spanning_tree(self, weight_function, algorithm, starting_vertex, check)\n   4231                 return min_spanning_tree(g,\n   4232                                          weight_function=wfunction_float,\n-> 4233                                          algorithm=algorithm.split(\"_\")[0])\n   4234 \n   4235         if algorithm == \"Prim_fringe\":\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9345)()\n    604 \n    605 \n--> 606 cpdef min_spanning_tree(g,\n    607                         weight_function=None,\n    608                         algorithm='Kruskal'):\n\n/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9100)()\n    719     else:\n    720         edges = [(int_to_vertex[<int> result[2*i]], int_to_vertex[<int> result[2*i+1]]) for i in range(n-1)]\n--> 721         return [(min(e[0],e[1]), max(e[0],e[1]), g.edge_label(e[0], e[1])) for e in edges]\n    722 \n    723 \n\nTypeError: '<' not supported between instances of 'int' and 'str'\n```\n Once again, I could probably get around this by translating all of the vertices to something sortable and then translating back, but I do think that the graph theory code should be able to handle graphs whose vertices are a combination of `int` and `str` and anything else. I would like to put in a request for fixing this particular problem.",
    "created_at": "2019-01-15T21:52:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413456",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:35" align="right">Comment 35</div>

I would like to ask some questions about how to deal with simplicial complexes.

- The `is_isomorphic` method for simplicial complexes translates each complex to a graph and then asks whether they are isomorphic, preserving edge labels. Some edges are labeled and some are not: the edge labels look like

```
sage: g.edge_labels()
[None,
 None,
 'special_edge',
 'special_edge']
```
 This fails in Python 3 because it tries to sort edges, and it can't sort `str` and `NoneType`. It is easy enough to provide labels in this case, but should the graph `is_isomorphic` method deal well with graphs where some edges have labels and some don't? (I don't have an opinion and I will fix the simplicial complex code separately.)

- Again with the `is_isomorphic` method for simplicial complexes: it defines a graph with vertices labeled by the vertices of the complex and its facets, and it adds an edge between a vertex `v` and a facet `f` if `v` is in `f`. The graph code tries to sort the vertices, and since the vertices in a simplicial complex can be integers, strings, whatever, the sorting goes badly. Again, I think I can handle this for simplicial complexes by translating everything to something sortable, then sorting, and then translating back at the end, but should the graph `is_isomorphic` method handle these sorts of cases better?

- Consider this:

```
sage: S1 = simplicial_complexes.Sphere(1)
sage: g = S1.wedge(S1).graph()
sage: g
Graph on 5 vertices
sage: g.vertices()
[0, 'L1', 'L2', 'R1', 'R2']
```
 In Python 3, the last line instead raises an error:

```
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-4-b2087dfc7b91> in <module>()
----> 1 g.vertices()

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/generic_graph.py in vertices(self, sort, key)
  10053             raise ValueError('sort keyword is False, yet a key function is given')
  10054         if sort:
> 10055             return sorted(list(self.vertex_iterator()), key=key)
  10056         return list(self.vertex_iterator())
  10057 

TypeError: '<' not supported between instances of 'int' and 'str'
sage: g.min_spanning_tree()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-5-8a025bbcbd58> in <module>()
----> 1 g.min_spanning_tree()

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/generic_graph.py in min_spanning_tree(self, weight_function, algorithm, starting_vertex, check)
   4231                 return min_spanning_tree(g,
   4232                                          weight_function=wfunction_float,
-> 4233                                          algorithm=algorithm.split("_")[0])
   4234 
   4235         if algorithm == "Prim_fringe":

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9345)()
    604 
    605 
--> 606 cpdef min_spanning_tree(g,
    607                         weight_function=None,
    608                         algorithm='Kruskal'):

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9100)()
    719     else:
    720         edges = [(int_to_vertex[<int> result[2*i]], int_to_vertex[<int> result[2*i+1]]) for i in range(n-1)]
--> 721         return [(min(e[0],e[1]), max(e[0],e[1]), g.edge_label(e[0], e[1])) for e in edges]
    722 
    723 

TypeError: '<' not supported between instances of 'int' and 'str'
```
 In Python 2, `g.min_spanning_tree()` works, while in Python 3, it raises a similar `TypeError`:

```
sage: g.min_spanning_tree()
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-5-8a025bbcbd58> in <module>()
----> 1 g.min_spanning_tree()

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/generic_graph.py in min_spanning_tree(self, weight_function, algorithm, starting_vertex, check)
   4231                 return min_spanning_tree(g,
   4232                                          weight_function=wfunction_float,
-> 4233                                          algorithm=algorithm.split("_")[0])
   4234 
   4235         if algorithm == "Prim_fringe":

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9345)()
    604 
    605 
--> 606 cpdef min_spanning_tree(g,
    607                         weight_function=None,
    608                         algorithm='Kruskal'):

/Users/jpalmier/Desktop/Sage/sage_builds/PYTHON3/sage-8.6.rc1/local/lib/python3.6/site-packages/sage/graphs/base/boost_graph.pyx in sage.graphs.base.boost_graph.min_spanning_tree (build/cythonized/sage/graphs/base/boost_graph.cpp:9100)()
    719     else:
    720         edges = [(int_to_vertex[<int> result[2*i]], int_to_vertex[<int> result[2*i+1]]) for i in range(n-1)]
--> 721         return [(min(e[0],e[1]), max(e[0],e[1]), g.edge_label(e[0], e[1])) for e in edges]
    722 
    723 

TypeError: '<' not supported between instances of 'int' and 'str'
```
 Once again, I could probably get around this by translating all of the vertices to something sortable and then translating back, but I do think that the graph theory code should be able to handle graphs whose vertices are a combination of `int` and `str` and anything else. I would like to put in a request for fixing this particular problem.



---

archive/issue_comments_413457.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nMaybe one of these (the second one, I think) was taken care of by #27027.",
    "created_at": "2019-01-15T22:15:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413457",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:36" align="right">Comment 36</div>

Maybe one of these (the second one, I think) was taken care of by #27027.



---

archive/issue_comments_413458.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nSee #27067 for simplicial complexes fixes for the first two items.",
    "created_at": "2019-01-15T23:01:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413458",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:37" align="right">Comment 37</div>

See #27067 for simplicial complexes fixes for the first two items.



---

archive/issue_comments_413459.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nI fully agree that the graph theory code should be able to handle vertices of different types. We have done significant progresses recently, and many methods are no longer sorting vertices. But a lot remains to be done since a huge part of the code uses vertex ids instead of internal int labels. We have to find solutions for instance for listing edges as end points are currently sorted...\n\nNote that I'm not able to try your example with py3 as this `S1.wedge(S1).graph()` already raises an error.",
    "created_at": "2019-01-17T13:58:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413459",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:38" align="right">Comment 38</div>

I fully agree that the graph theory code should be able to handle vertices of different types. We have done significant progresses recently, and many methods are no longer sorting vertices. But a lot remains to be done since a huge part of the code uses vertex ids instead of internal int labels. We have to find solutions for instance for listing edges as end points are currently sorted...

Note that I'm not able to try your example with py3 as this `S1.wedge(S1).graph()` already raises an error.



---

archive/issue_events_348485.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-01-17T13:58:26Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348485"
}
```



---

archive/issue_events_348486.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2019-01-17T13:58:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348486"
}
```



---

archive/issue_comments_413460.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nFirst, you have all done great work with graphs, and you've made a tremendous amount of progress. Partly my questions were because I don't know whether some of these things have been done in tickets which have not yet been merged, but I think that's not the case.\n\nSpeaking of things which have not yet been merged, you need #26966 to be able to do `S1.wedge(S1).graph()`. Sorry, I hadn't realized that when I posted my example.",
    "created_at": "2019-01-17T18:08:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413460",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:39" align="right">Comment 39</div>

First, you have all done great work with graphs, and you've made a tremendous amount of progress. Partly my questions were because I don't know whether some of these things have been done in tickets which have not yet been merged, but I think that's not the case.

Speaking of things which have not yet been merged, you need #26966 to be able to do `S1.wedge(S1).graph()`. Sorry, I hadn't realized that when I posted my example.



---

archive/issue_comments_413461.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nAlso, as I hope was clear in my questions, the first two are not critiques but honest questions: I don't know how Sage should handle those situations. The fact that things happen to work in Python 2 does not mean that they should automatically work in Python 3. For example, if you explicitly ask for isomorphisms preserving edge labels, an argument could be made that you should actually label all of the edges. The last item on my list was an explicit request, which it sounds like you agree with but also sounds like it take some work.",
    "created_at": "2019-01-17T18:17:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413461",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:40" align="right">Comment 40</div>

Also, as I hope was clear in my questions, the first two are not critiques but honest questions: I don't know how Sage should handle those situations. The fact that things happen to work in Python 2 does not mean that they should automatically work in Python 3. For example, if you explicitly ask for isomorphisms preserving edge labels, an argument could be made that you should actually label all of the edges. The last item on my list was an explicit request, which it sounds like you agree with but also sounds like it take some work.



---

archive/issue_comments_413462.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,10 +15,6 @@\n - #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-- #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n-- #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`$\n-- #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n-- #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n - #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n \n **Done**\n@@ -66,5 +62,9 @@\n - #26940 \tstop sorting returned list of edges in spanning tree methods \n - #26971 \tpy3: some minor fix for traveling salesman\n - #26973 \tpy3: avoid `.vertices()` in `graph_plot.py`\n+- #27007 \tpy3: avoid `.vertices()` in `planarity.pyx`\n+- #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`\n+- #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n+- #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n \n \n``````\n",
    "created_at": "2019-01-24T15:16:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413462",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,10 +15,6 @@
 - #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-- #27007 	py3: avoid `.vertices()` in `planarity.pyx`
-- #27008 	py3: avoid `.vertices()` in method `apex_vertices`$
-- #27009 	py3: avoid sorting vertices and edges in method treewidth
-- #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
 - #27059 	py3: improve doctests in `spanning_tree.pyx`
 
 **Done**
@@ -66,5 +62,9 @@
 - #26940 	stop sorting returned list of edges in spanning tree methods 
 - #26971 	py3: some minor fix for traveling salesman
 - #26973 	py3: avoid `.vertices()` in `graph_plot.py`
+- #27007 	py3: avoid `.vertices()` in `planarity.pyx`
+- #27008 	py3: avoid `.vertices()` in method `apex_vertices`
+- #27009 	py3: avoid sorting vertices and edges in method treewidth
+- #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
 
 
``````




---

archive/issue_comments_413463.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,6 +16,10 @@\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n+- #27123 \tbliss `automorphism_group()` shouldn't sort vertices \n+- #27125 \tpy3: fix some doctests in `graph.py`\n+- #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n+\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-25T14:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413463",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,6 +16,10 @@
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #27059 	py3: improve doctests in `spanning_tree.pyx`
+- #27123 	bliss `automorphism_group()` shouldn't sort vertices 
+- #27125 	py3: fix some doctests in `graph.py`
+- #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
+
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413464.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,7 @@\n - #27123 \tbliss `automorphism_group()` shouldn't sort vertices \n - #27125 \tpy3: fix some doctests in `graph.py`\n - #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n+- #27129 \tpy3: fix other doctests in `graph.py`\n \n \n **Done**\n``````\n",
    "created_at": "2019-01-25T15:49:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413464",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,7 @@
 - #27123 	bliss `automorphism_group()` shouldn't sort vertices 
 - #27125 	py3: fix some doctests in `graph.py`
 - #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
+- #27129 	py3: fix other doctests in `graph.py`
 
 
 **Done**
``````




---

archive/issue_comments_413465.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,13 +12,10 @@\n \n \n **Needs review**:\n-- #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-- #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n-- #27123 \tbliss `automorphism_group()` shouldn't sort vertices \n-- #27125 \tpy3: fix some doctests in `graph.py`\n-- #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n+- #27029 \tAvoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`\n+- #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n - #27129 \tpy3: fix other doctests in `graph.py`\n \n \n@@ -31,6 +28,7 @@\n - #26478 \tclean `graph_plot_js.py`, `graph_list.py` and `graph_input.py`\n - #26480 \tclean graph_latex.py\n - #26484 \tclean `graph_coloring.py` and avoid comparison of vertex labels\n+- #26520\tMeta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834\n - #26528 \tavoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs\n - #26531 \tavoid using `.vertices()` in asteroidal_triples\n - #26534 \tavoid using `.vertices()` in weakly_chordal.pyx\n@@ -71,5 +69,8 @@\n - #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`\n - #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n - #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n+- #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n+- #27125 \tpy3: fix some doctests in `graph.py`\n+- #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n \n \n``````\n",
    "created_at": "2019-01-27T11:15:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413465",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,13 +12,10 @@
 
 
 **Needs review**:
-- #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-- #27059 	py3: improve doctests in `spanning_tree.pyx`
-- #27123 	bliss `automorphism_group()` shouldn't sort vertices 
-- #27125 	py3: fix some doctests in `graph.py`
-- #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
+- #27029 	Avoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`
+- #27123 	bliss `automorphism_group()` shouldn't sort vertices
 - #27129 	py3: fix other doctests in `graph.py`
 
 
@@ -31,6 +28,7 @@
 - #26478 	clean `graph_plot_js.py`, `graph_list.py` and `graph_input.py`
 - #26480 	clean graph_latex.py
 - #26484 	clean `graph_coloring.py` and avoid comparison of vertex labels
+- #26520	Meta-ticket for methods in `src/sage/graphs/graph_decomposition/` - #26827, #26828, #26829, #26830, #26831, #26832, #26833, #26834
 - #26528 	avoid using `.vertices()` in comparability, hyperbolicity and distances_all_pairs
 - #26531 	avoid using `.vertices()` in asteroidal_triples
 - #26534 	avoid using `.vertices()` in weakly_chordal.pyx
@@ -71,5 +69,8 @@
 - #27008 	py3: avoid `.vertices()` in method `apex_vertices`
 - #27009 	py3: avoid sorting vertices and edges in method treewidth
 - #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
+- #27059 	py3: improve doctests in `spanning_tree.pyx`
+- #27125 	py3: fix some doctests in `graph.py`
+- #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
 
 
``````




---

archive/issue_comments_413466.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -17,6 +17,7 @@\n - #27029 \tAvoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`\n - #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n - #27129 \tpy3: fix other doctests in `graph.py`\n+- #27144 \tpy3: fix doctests in `connectivity.pyx`\n \n \n **Done**\n``````\n",
    "created_at": "2019-01-27T12:22:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413466",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -17,6 +17,7 @@
 - #27029 	Avoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`
 - #27123 	bliss `automorphism_group()` shouldn't sort vertices
 - #27129 	py3: fix other doctests in `graph.py`
+- #27144 	py3: fix doctests in `connectivity.pyx`
 
 
 **Done**
``````




---

archive/issue_comments_413467.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -18,6 +18,10 @@\n - #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n - #27129 \tpy3: fix other doctests in `graph.py`\n - #27144 \tpy3: fix doctests in `connectivity.pyx`\n+- #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n+- #27148 \tpy3: fix doctests in `centrality.pyx`\n+- #27149 \tpy3: fix doctests in `comparability.pyx`\n+- #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n \n \n **Done**\n``````\n",
    "created_at": "2019-01-27T18:39:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413467",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -18,6 +18,10 @@
 - #27123 	bliss `automorphism_group()` shouldn't sort vertices
 - #27129 	py3: fix other doctests in `graph.py`
 - #27144 	py3: fix doctests in `connectivity.pyx`
+- #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
+- #27148 	py3: fix doctests in `centrality.pyx`
+- #27149 	py3: fix doctests in `comparability.pyx`
+- #27151 	py3: fix doctests in `vertex_separation.pyx`
 
 
 **Done**
``````




---

archive/issue_comments_413468.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -22,6 +22,9 @@\n - #27148 \tpy3: fix doctests in `centrality.pyx`\n - #27149 \tpy3: fix doctests in `comparability.pyx`\n - #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n+- #27158 \tpy3: fix doctests in `boost_graph.pyx`\n+- #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n+- #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n \n \n **Done**\n``````\n",
    "created_at": "2019-01-28T13:58:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413468",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -22,6 +22,9 @@
 - #27148 	py3: fix doctests in `centrality.pyx`
 - #27149 	py3: fix doctests in `comparability.pyx`
 - #27151 	py3: fix doctests in `vertex_separation.pyx`
+- #27158 	py3: fix doctests in `boost_graph.pyx`
+- #27159 	py3: fix doctests in `strongly_regular_db.pyx`
+- #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 
 
 **Done**
``````




---

archive/issue_comments_413469.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,7 +15,6 @@\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #27029 \tAvoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`\n-- #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n - #27129 \tpy3: fix other doctests in `graph.py`\n - #27144 \tpy3: fix doctests in `connectivity.pyx`\n - #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n@@ -25,6 +24,7 @@\n - #27158 \tpy3: fix doctests in `boost_graph.pyx`\n - #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n+- #27165 \tpy3: fix doctests in `c_graph.pyx`\n \n \n **Done**\n@@ -78,6 +78,7 @@\n - #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n - #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n - #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n+- #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n - #27125 \tpy3: fix some doctests in `graph.py`\n - #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n \n``````\n",
    "created_at": "2019-01-29T12:19:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413469",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,7 +15,6 @@
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #27029 	Avoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`
-- #27123 	bliss `automorphism_group()` shouldn't sort vertices
 - #27129 	py3: fix other doctests in `graph.py`
 - #27144 	py3: fix doctests in `connectivity.pyx`
 - #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
@@ -25,6 +24,7 @@
 - #27158 	py3: fix doctests in `boost_graph.pyx`
 - #27159 	py3: fix doctests in `strongly_regular_db.pyx`
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
+- #27165 	py3: fix doctests in `c_graph.pyx`
 
 
 **Done**
@@ -78,6 +78,7 @@
 - #27009 	py3: avoid sorting vertices and edges in method treewidth
 - #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
 - #27059 	py3: improve doctests in `spanning_tree.pyx`
+- #27123 	bliss `automorphism_group()` shouldn't sort vertices
 - #27125 	py3: fix some doctests in `graph.py`
 - #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
 
``````




---

archive/issue_comments_413470.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -25,7 +25,7 @@\n - #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27165 \tpy3: fix doctests in `c_graph.pyx`\n-\n+- #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-29T16:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413470",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -25,7 +25,7 @@
 - #27159 	py3: fix doctests in `strongly_regular_db.pyx`
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27165 	py3: fix doctests in `c_graph.pyx`
-
+- #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413471.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -26,6 +26,9 @@\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27165 \tpy3: fix doctests in `c_graph.pyx`\n - #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n+- #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n+- #27170 \tpy3: fix 14 doctests in `digraph.py`\n+\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-01-29T17:15:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413471",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -26,6 +26,9 @@
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27165 	py3: fix doctests in `c_graph.pyx`
 - #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
+- #27167 	py3: fix doctest in `distances_all_pairs.pyx`
+- #27170 	py3: fix 14 doctests in `digraph.py`
+
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413472.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -28,6 +28,12 @@\n - #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n - #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n - #27170 \tpy3: fix 14 doctests in `digraph.py`\n+- #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n+- #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n+- #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n+- #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n+- #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n+- #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n \n \n **Done**\n``````\n",
    "created_at": "2019-01-31T14:09:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413472",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -28,6 +28,12 @@
 - #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
 - #27167 	py3: fix doctest in `distances_all_pairs.pyx`
 - #27170 	py3: fix 14 doctests in `digraph.py`
+- #27176 	py3: fix doctest in `generic_graph` (part 1)
+- #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
+- #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
+- #27181 	py3: fix doctest in `generic_graph` (part 4)
+- #27183 	py3: fix doctest in `generic_graph` (part 5)
+- #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
 
 
 **Done**
``````




---

archive/issue_comments_413473.json:
```json
{
    "body": "<div id=\"comment:51\" align=\"right\">Comment 51</div>\n\nWith #26819, #27176, #27179, #27180, #27181, #27183 py3 and #27184, we fix 42 doctests in `generic_graph.py` !!!\n\nThe remainging issues are in `relabel`, `is_isomorphic` and `graph_isom_equivalent_non_edge_labeled_graph`.",
    "created_at": "2019-01-31T14:09:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413473",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:51" align="right">Comment 51</div>

With #26819, #27176, #27179, #27180, #27181, #27183 py3 and #27184, we fix 42 doctests in `generic_graph.py` !!!

The remainging issues are in `relabel`, `is_isomorphic` and `graph_isom_equivalent_non_edge_labeled_graph`.



---

archive/issue_comments_413474.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -34,6 +34,8 @@\n - #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n - #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n - #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n+- #27202 \tpy3: fix doctests in random graphs generators\n+- #27203 \tpy3: fix 8 doctests in `generators/families.py`\n \n \n **Done**\n``````\n",
    "created_at": "2019-02-02T11:59:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413474",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -34,6 +34,8 @@
 - #27181 	py3: fix doctest in `generic_graph` (part 4)
 - #27183 	py3: fix doctest in `generic_graph` (part 5)
 - #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
+- #27202 	py3: fix doctests in random graphs generators
+- #27203 	py3: fix 8 doctests in `generators/families.py`
 
 
 **Done**
``````




---

archive/issue_comments_413475.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,28 +14,13 @@\n **Needs review**:\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n-- #27029 \tAvoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`\n-- #27129 \tpy3: fix other doctests in `graph.py`\n-- #27144 \tpy3: fix doctests in `connectivity.pyx`\n-- #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n-- #27148 \tpy3: fix doctests in `centrality.pyx`\n-- #27149 \tpy3: fix doctests in `comparability.pyx`\n-- #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n-- #27158 \tpy3: fix doctests in `boost_graph.pyx`\n-- #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27165 \tpy3: fix doctests in `c_graph.pyx`\n-- #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n-- #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n - #27170 \tpy3: fix 14 doctests in `digraph.py`\n - #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n-- #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n-- #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n - #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n-- #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n - #27202 \tpy3: fix doctests in random graphs generators\n-- #27203 \tpy3: fix 8 doctests in `generators/families.py`\n \n \n **Done**\n@@ -88,9 +73,24 @@\n - #27008 \tpy3: avoid `.vertices()` in method `apex_vertices`\n - #27009 \tpy3: avoid sorting vertices and edges in method treewidth\n - #27010 \tpy3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`\n+- #27029 \tAvoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`\n - #27059 \tpy3: improve doctests in `spanning_tree.pyx`\n - #27123 \tbliss `automorphism_group()` shouldn't sort vertices\n - #27125 \tpy3: fix some doctests in `graph.py`\n - #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n+- #27129 \tpy3: fix other doctests in `graph.py`\n+- #27144 \tpy3: fix doctests in `connectivity.pyx`\n+- #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n+- #27148 \tpy3: fix doctests in `centrality.pyx`\n+- #27149 \tpy3: fix doctests in `comparability.pyx`\n+- #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n+- #27158 \tpy3: fix doctests in `boost_graph.pyx`\n+- #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n+- #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n+- #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n+- #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n+- #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n+- #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n+- #27203 \tpy3: fix 8 doctests in `generators/families.py`\n \n \n``````\n",
    "created_at": "2019-02-05T08:17:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413475",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,28 +14,13 @@
 **Needs review**:
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
-- #27029 	Avoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`
-- #27129 	py3: fix other doctests in `graph.py`
-- #27144 	py3: fix doctests in `connectivity.pyx`
-- #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
-- #27148 	py3: fix doctests in `centrality.pyx`
-- #27149 	py3: fix doctests in `comparability.pyx`
-- #27151 	py3: fix doctests in `vertex_separation.pyx`
-- #27158 	py3: fix doctests in `boost_graph.pyx`
-- #27159 	py3: fix doctests in `strongly_regular_db.pyx`
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27165 	py3: fix doctests in `c_graph.pyx`
-- #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
-- #27167 	py3: fix doctest in `distances_all_pairs.pyx`
 - #27170 	py3: fix 14 doctests in `digraph.py`
 - #27176 	py3: fix doctest in `generic_graph` (part 1)
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
-- #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
-- #27181 	py3: fix doctest in `generic_graph` (part 4)
 - #27183 	py3: fix doctest in `generic_graph` (part 5)
-- #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
 - #27202 	py3: fix doctests in random graphs generators
-- #27203 	py3: fix 8 doctests in `generators/families.py`
 
 
 **Done**
@@ -88,9 +73,24 @@
 - #27008 	py3: avoid `.vertices()` in method `apex_vertices`
 - #27009 	py3: avoid sorting vertices and edges in method treewidth
 - #27010 	py3: avoid `.vertices()` in methods `_ford_fulkerson`, `edge_cut`, `bounded_outdegree_orientation` and `gomory_hu_tree`
+- #27029 	Avoid calling `.vertices()` in `graph_isom_equivalent_non_edge_labeled_graph()`
 - #27059 	py3: improve doctests in `spanning_tree.pyx`
 - #27123 	bliss `automorphism_group()` shouldn't sort vertices
 - #27125 	py3: fix some doctests in `graph.py`
 - #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
+- #27129 	py3: fix other doctests in `graph.py`
+- #27144 	py3: fix doctests in `connectivity.pyx`
+- #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
+- #27148 	py3: fix doctests in `centrality.pyx`
+- #27149 	py3: fix doctests in `comparability.pyx`
+- #27151 	py3: fix doctests in `vertex_separation.pyx`
+- #27158 	py3: fix doctests in `boost_graph.pyx`
+- #27159 	py3: fix doctests in `strongly_regular_db.pyx`
+- #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
+- #27167 	py3: fix doctest in `distances_all_pairs.pyx`
+- #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
+- #27181 	py3: fix doctest in `generic_graph` (part 4)
+- #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
+- #27203 	py3: fix 8 doctests in `generators/families.py`
 
 
``````




---

archive/issue_comments_413476.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -20,7 +20,7 @@\n - #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n - #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n-- #27202 \tpy3: fix doctests in random graphs generators\n+- #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n \n \n **Done**\n@@ -91,6 +91,7 @@\n - #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n - #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n - #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n+- #27202 \tpy3: fix doctests in random graphs generators\n - #27203 \tpy3: fix 8 doctests in `generators/families.py`\n \n \n``````\n",
    "created_at": "2019-02-09T10:14:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413476",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -20,7 +20,7 @@
 - #27176 	py3: fix doctest in `generic_graph` (part 1)
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
 - #27183 	py3: fix doctest in `generic_graph` (part 5)
-- #27202 	py3: fix doctests in random graphs generators
+- #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
 
 
 **Done**
@@ -91,6 +91,7 @@
 - #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
 - #27181 	py3: fix doctest in `generic_graph` (part 4)
 - #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
+- #27202 	py3: fix doctests in random graphs generators
 - #27203 	py3: fix 8 doctests in `generators/families.py`
 
 
``````




---

archive/issue_comments_413477.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -21,6 +21,10 @@\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n - #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n - #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n+- #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n+- #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n+- #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n+- #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n \n \n **Done**\n``````\n",
    "created_at": "2019-02-09T17:08:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413477",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -21,6 +21,10 @@
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
 - #27183 	py3: fix doctest in `generic_graph` (part 5)
 - #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
+- #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
+- #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
+- #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
+- #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 
 
 **Done**
``````




---

archive/issue_comments_413478.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -9,6 +9,7 @@\n \n **Needs work**:\n - #26800 \tpy3: bug with canonical_label\n+- #27232 \t`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.\n \n \n **Needs review**:\n``````\n",
    "created_at": "2019-02-09T17:39:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413478",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -9,6 +9,7 @@
 
 **Needs work**:
 - #26800 	py3: bug with canonical_label
+- #27232 	`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.
 
 
 **Needs review**:
``````




---

archive/issue_comments_413479.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,6 @@\n \n \n **Needs review**:\n-- #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27165 \tpy3: fix doctests in `c_graph.pyx`\n@@ -21,11 +20,8 @@\n - #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n - #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n-- #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n - #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n-- #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n-- #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n \n \n **Done**\n@@ -56,6 +52,7 @@\n - #26666 \tclean generic_graph.py (part 9) - edge and vertex handlers\n - #26672 \tclean generic_graph.py (part 10) - degree\n - #26675\tclean generic_graph.py (part 11) - substructures\n+- #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n - #26680\tclean generic_graph.py (part 14) - visualization\n - #26711 \tavoid `.vertices()` in graph_coloring.py\n - #26712 \tavoid `.vertices()` in independent_sets.pyx\n@@ -98,5 +95,8 @@\n - #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n - #27202 \tpy3: fix doctests in random graphs generators\n - #27203 \tpy3: fix 8 doctests in `generators/families.py`\n+- #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n+- #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n+- #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n \n \n``````\n",
    "created_at": "2019-02-12T14:18:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413479",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,6 @@
 
 
 **Needs review**:
-- #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26679	clean generic_graph.py (part 13) - searches and constructors
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27165 	py3: fix doctests in `c_graph.pyx`
@@ -21,11 +20,8 @@
 - #27176 	py3: fix doctest in `generic_graph` (part 1)
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
 - #27183 	py3: fix doctest in `generic_graph` (part 5)
-- #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
 - #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
-- #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
-- #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 
 
 **Done**
@@ -56,6 +52,7 @@
 - #26666 	clean generic_graph.py (part 9) - edge and vertex handlers
 - #26672 	clean generic_graph.py (part 10) - degree
 - #26675	clean generic_graph.py (part 11) - substructures
+- #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
 - #26680	clean generic_graph.py (part 14) - visualization
 - #26711 	avoid `.vertices()` in graph_coloring.py
 - #26712 	avoid `.vertices()` in independent_sets.pyx
@@ -98,5 +95,8 @@
 - #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
 - #27202 	py3: fix doctests in random graphs generators
 - #27203 	py3: fix 8 doctests in `generators/families.py`
+- #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
+- #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
+- #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 
 
``````




---

archive/issue_comments_413480.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,14 +13,9 @@\n \n \n **Needs review**:\n-- #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n-- #27165 \tpy3: fix doctests in `c_graph.pyx`\n - #27170 \tpy3: fix 14 doctests in `digraph.py`\n-- #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n-- #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n-- #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n \n \n@@ -53,6 +48,7 @@\n - #26672 \tclean generic_graph.py (part 10) - degree\n - #26675\tclean generic_graph.py (part 11) - substructures\n - #26678\tclean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826\n+- #26679\tclean generic_graph.py (part 13) - searches and constructors\n - #26680\tclean generic_graph.py (part 14) - visualization\n - #26711 \tavoid `.vertices()` in graph_coloring.py\n - #26712 \tavoid `.vertices()` in independent_sets.pyx\n@@ -88,14 +84,18 @@\n - #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n - #27158 \tpy3: fix doctests in `boost_graph.pyx`\n - #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n+- #27165 \tpy3: fix doctests in `c_graph.pyx`\n - #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n - #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n+- #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n - #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n - #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n+- #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n - #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n - #27202 \tpy3: fix doctests in random graphs generators\n - #27203 \tpy3: fix 8 doctests in `generators/families.py`\n - #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n+- #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n - #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n \n``````\n",
    "created_at": "2019-02-16T09:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413480",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,14 +13,9 @@
 
 
 **Needs review**:
-- #26679	clean generic_graph.py (part 13) - searches and constructors
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
-- #27165 	py3: fix doctests in `c_graph.pyx`
 - #27170 	py3: fix 14 doctests in `digraph.py`
-- #27176 	py3: fix doctest in `generic_graph` (part 1)
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
-- #27183 	py3: fix doctest in `generic_graph` (part 5)
-- #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 
 
@@ -53,6 +48,7 @@
 - #26672 	clean generic_graph.py (part 10) - degree
 - #26675	clean generic_graph.py (part 11) - substructures
 - #26678	clean generic_graph.py (part 12) - meta-ticket for methods related to clustering, centrality and distances. Tickets are #26803, #26813, #26814, #26815, #26819, #26820, #26821, #26822, #26823, #26824, #26825, #26826
+- #26679	clean generic_graph.py (part 13) - searches and constructors
 - #26680	clean generic_graph.py (part 14) - visualization
 - #26711 	avoid `.vertices()` in graph_coloring.py
 - #26712 	avoid `.vertices()` in independent_sets.pyx
@@ -88,14 +84,18 @@
 - #27151 	py3: fix doctests in `vertex_separation.pyx`
 - #27158 	py3: fix doctests in `boost_graph.pyx`
 - #27159 	py3: fix doctests in `strongly_regular_db.pyx`
+- #27165 	py3: fix doctests in `c_graph.pyx`
 - #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
 - #27167 	py3: fix doctest in `distances_all_pairs.pyx`
+- #27176 	py3: fix doctest in `generic_graph` (part 1)
 - #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
 - #27181 	py3: fix doctest in `generic_graph` (part 4)
+- #27183 	py3: fix doctest in `generic_graph` (part 5)
 - #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
 - #27202 	py3: fix doctests in random graphs generators
 - #27203 	py3: fix 8 doctests in `generators/families.py`
 - #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
+- #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
 - #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 
``````




---

archive/issue_comments_413481.json:
```json
{
    "body": "<div id=\"comment:59\" align=\"right\">Comment 59</div>\n\nWe have now drastically reduced the dependency to `.vertices()` and `.edges()` in the graph module (except in doctests, but we can specify `sort=True/False`). \n\nWe must now identify the tasks to do and schedule the work.\n\nSome issues to take care of in the graph module:\n- #22349 Deprecate sorting of methods `.vertices()` and `.edges()`.\n  - methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n  - methods using `.relabel()`. We must check that changing the default ordering of vertices/edges is safe. Should be ok, but we never know...\n  - methods for isomorphisms were we also have issues with labels (see e.g. #27232 although the case is certainly beyond what we should reasonably do).\n- Deprecate sorting of vertex labels in method `iterator_edges` of `base/sparse_graph.pyx` (so of the vertices of an edge). Deprecating this behavior is certainly a hard task. A first step could be to order the vertices according internal integer value, thus ensuring that `(u, v)` will always be ordered the same way.\n\nAnd of course, changes done here will certainly break many methods in other modules...",
    "created_at": "2019-02-23T10:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413481",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:59" align="right">Comment 59</div>

We have now drastically reduced the dependency to `.vertices()` and `.edges()` in the graph module (except in doctests, but we can specify `sort=True/False`). 

We must now identify the tasks to do and schedule the work.

Some issues to take care of in the graph module:
- #22349 Deprecate sorting of methods `.vertices()` and `.edges()`.
  - methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.
  - methods using `.relabel()`. We must check that changing the default ordering of vertices/edges is safe. Should be ok, but we never know...
  - methods for isomorphisms were we also have issues with labels (see e.g. #27232 although the case is certainly beyond what we should reasonably do).
- Deprecate sorting of vertex labels in method `iterator_edges` of `base/sparse_graph.pyx` (so of the vertices of an edge). Deprecating this behavior is certainly a hard task. A first step could be to order the vertices according internal integer value, thus ensuring that `(u, v)` will always be ordered the same way.

And of course, changes done here will certainly break many methods in other modules...



---

archive/issue_comments_413482.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,17 +2,22 @@\n \n \n **Major issues**\n-- methods `.vertices()` and `.edges()` use sort by default\n+- #22349 Deprecate sorting of methods `.vertices()` and `.edges()`\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n-- all `min_spanning_tree` methods sort edges before returning the result - #26940 is attempt to stop sorting returned list of edges\n+- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n+- sort used in methods for checking isomorphisms w/wo edge labels\n \n \n **Needs work**:\n-- #26800 \tpy3: bug with canonical_label\n+- #22349 \tDeprecate sorting of Graph vertices and edges by default\n+- #26800 \tpy3: bug with `canonical_label`\n - #27232 \t`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.\n \n \n **Needs review**:\n+- #27135 \tpep8 in `digraph_generators.py` (part 2)\n+- #27137 \tpep8 in `digraph_generators.py` (part 4)\n+- #27138 \tpep8 in `digraph_generators.py` (part 5)\n - #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27170 \tpy3: fix 14 doctests in `digraph.py`\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n``````\n",
    "created_at": "2019-02-23T10:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413482",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,17 +2,22 @@
 
 
 **Major issues**
-- methods `.vertices()` and `.edges()` use sort by default
+- #22349 Deprecate sorting of methods `.vertices()` and `.edges()`
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
-- all `min_spanning_tree` methods sort edges before returning the result - #26940 is attempt to stop sorting returned list of edges
+- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.
+- sort used in methods for checking isomorphisms w/wo edge labels
 
 
 **Needs work**:
-- #26800 	py3: bug with canonical_label
+- #22349 	Deprecate sorting of Graph vertices and edges by default
+- #26800 	py3: bug with `canonical_label`
 - #27232 	`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.
 
 
 **Needs review**:
+- #27135 	pep8 in `digraph_generators.py` (part 2)
+- #27137 	pep8 in `digraph_generators.py` (part 4)
+- #27138 	pep8 in `digraph_generators.py` (part 5)
 - #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27170 	py3: fix 14 doctests in `digraph.py`
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
``````




---

archive/issue_comments_413483.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,15 +12,14 @@\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n - #26800 \tpy3: bug with `canonical_label`\n - #27232 \t`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.\n+- `sage.graphs.graph_database`: there is a failing doctest in py3 with `interactive_query`...\n \n \n **Needs review**:\n - #27135 \tpep8 in `digraph_generators.py` (part 2)\n - #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27138 \tpep8 in `digraph_generators.py` (part 5)\n-- #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27170 \tpy3: fix 14 doctests in `digraph.py`\n-- #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n \n \n@@ -89,10 +88,12 @@\n - #27151 \tpy3: fix doctests in `vertex_separation.pyx`\n - #27158 \tpy3: fix doctests in `boost_graph.pyx`\n - #27159 \tpy3: fix doctests in `strongly_regular_db.pyx`\n+- #27160 \tpy3: fix doctests in `hyperbolicity` and `graph_coloring`\n - #27165 \tpy3: fix doctests in `c_graph.pyx`\n - #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n - #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n - #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n+- #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n - #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n - #27181 \tpy3: fix doctest in `generic_graph` (part 4)\n - #27183 \tpy3: fix doctest in `generic_graph` (part 5)\n``````\n",
    "created_at": "2019-02-25T17:11:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413483",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,15 +12,14 @@
 - #22349 	Deprecate sorting of Graph vertices and edges by default
 - #26800 	py3: bug with `canonical_label`
 - #27232 	`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.
+- `sage.graphs.graph_database`: there is a failing doctest in py3 with `interactive_query`...
 
 
 **Needs review**:
 - #27135 	pep8 in `digraph_generators.py` (part 2)
 - #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27138 	pep8 in `digraph_generators.py` (part 5)
-- #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27170 	py3: fix 14 doctests in `digraph.py`
-- #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 
 
@@ -89,10 +88,12 @@
 - #27151 	py3: fix doctests in `vertex_separation.pyx`
 - #27158 	py3: fix doctests in `boost_graph.pyx`
 - #27159 	py3: fix doctests in `strongly_regular_db.pyx`
+- #27160 	py3: fix doctests in `hyperbolicity` and `graph_coloring`
 - #27165 	py3: fix doctests in `c_graph.pyx`
 - #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
 - #27167 	py3: fix doctest in `distances_all_pairs.pyx`
 - #27176 	py3: fix doctest in `generic_graph` (part 1)
+- #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
 - #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
 - #27181 	py3: fix doctest in `generic_graph` (part 4)
 - #27183 	py3: fix doctest in `generic_graph` (part 5)
``````




---

archive/issue_comments_413484.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,8 +19,7 @@\n - #27135 \tpep8 in `digraph_generators.py` (part 2)\n - #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27138 \tpep8 in `digraph_generators.py` (part 5)\n-- #27170 \tpy3: fix 14 doctests in `digraph.py`\n-- #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n+- #27408 \tEdge view for graphs\n \n \n **Done**\n@@ -92,6 +91,7 @@\n - #27165 \tpy3: fix doctests in `c_graph.pyx`\n - #27166 \tremove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`\n - #27167 \tpy3: fix doctest in `distances_all_pairs.pyx`\n+- #27170 \tpy3: fix 14 doctests in `digraph.py`\n - #27176 \tpy3: fix doctest in `generic_graph` (part 1)\n - #27179 \tpy3: fix doctest in `generic_graph` (part 2) -- cycle_basis\n - #27180 \tpy3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph\n@@ -103,6 +103,7 @@\n - #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n - #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n - #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n+- #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n \n \n``````\n",
    "created_at": "2019-03-03T21:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413484",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,8 +19,7 @@
 - #27135 	pep8 in `digraph_generators.py` (part 2)
 - #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27138 	pep8 in `digraph_generators.py` (part 5)
-- #27170 	py3: fix 14 doctests in `digraph.py`
-- #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
+- #27408 	Edge view for graphs
 
 
 **Done**
@@ -92,6 +91,7 @@
 - #27165 	py3: fix doctests in `c_graph.pyx`
 - #27166 	remove deprecated classes `NetworkXGraphDeprecated` and `NetworkXDiGraphDeprecated`
 - #27167 	py3: fix doctest in `distances_all_pairs.pyx`
+- #27170 	py3: fix 14 doctests in `digraph.py`
 - #27176 	py3: fix doctest in `generic_graph` (part 1)
 - #27179 	py3: fix doctest in `generic_graph` (part 2) -- cycle_basis
 - #27180 	py3: fix doctest in `generic_graph` (part 3) -- _build_flow_graph
@@ -103,6 +103,7 @@
 - #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
 - #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
 - #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
+- #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 
 
``````




---

archive/issue_comments_413485.json:
```json
{
    "body": "<div id=\"comment:62\" align=\"right\">Comment 62</div>\n\nProposal for an `EdgeView` for graphs in #27408.",
    "created_at": "2019-03-03T21:27:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413485",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:62" align="right">Comment 62</div>

Proposal for an `EdgeView` for graphs in #27408.



---

archive/issue_comments_413486.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,21 +5,20 @@\n - #22349 Deprecate sorting of methods `.vertices()` and `.edges()`\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n - methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n-- sort used in methods for checking isomorphisms w/wo edge labels\n+- sort used in methods for checking isomorphisms w/wo edge labels (see also #27232 and #26800). Sorting of lists of possibly unhashable objects is needed here, or may be  a method for checking that there is a permutation from one list to the other could be enough ?\n \n \n **Needs work**:\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n - #26800 \tpy3: bug with `canonical_label`\n - #27232 \t`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.\n-- `sage.graphs.graph_database`: there is a failing doctest in py3 with `interactive_query`...\n-\n+- #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n \n **Needs review**:\n - #27135 \tpep8 in `digraph_generators.py` (part 2)\n - #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27138 \tpep8 in `digraph_generators.py` (part 5)\n-- #27408 \tEdge view for graphs\n+- #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n \n \n **Done**\n``````\n",
    "created_at": "2019-03-07T12:11:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413486",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,21 +5,20 @@
 - #22349 Deprecate sorting of methods `.vertices()` and `.edges()`
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
 - methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.
-- sort used in methods for checking isomorphisms w/wo edge labels
+- sort used in methods for checking isomorphisms w/wo edge labels (see also #27232 and #26800). Sorting of lists of possibly unhashable objects is needed here, or may be  a method for checking that there is a permutation from one list to the other could be enough ?
 
 
 **Needs work**:
 - #22349 	Deprecate sorting of Graph vertices and edges by default
 - #26800 	py3: bug with `canonical_label`
 - #27232 	`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.
-- `sage.graphs.graph_database`: there is a failing doctest in py3 with `interactive_query`...
-
+- #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 
 **Needs review**:
 - #27135 	pep8 in `digraph_generators.py` (part 2)
 - #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27138 	pep8 in `digraph_generators.py` (part 5)
-- #27408 	Edge view for graphs
+- #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
 
 
 **Done**
``````




---

archive/issue_comments_413487.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,13 +11,13 @@\n **Needs work**:\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n - #26800 \tpy3: bug with `canonical_label`\n-- #27232 \t`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.\n - #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n \n **Needs review**:\n - #27135 \tpep8 in `digraph_generators.py` (part 2)\n - #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27138 \tpep8 in `digraph_generators.py` (part 5)\n+- #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n \n \n``````\n",
    "created_at": "2019-03-09T17:35:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413487",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,13 +11,13 @@
 **Needs work**:
 - #22349 	Deprecate sorting of Graph vertices and edges by default
 - #26800 	py3: bug with `canonical_label`
-- #27232 	`is_permutation_of` broken for matrices over cyclotomic fields -- this is due to `is_isomorphic` in graphs.
 - #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 
 **Needs review**:
 - #27135 	pep8 in `digraph_generators.py` (part 2)
 - #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27138 	pep8 in `digraph_generators.py` (part 5)
+- #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
 
 
``````




---

archive/issue_comments_413488.json:
```json
{
    "body": "<div id=\"comment:65\" align=\"right\">Comment 65</div>\n\nI don't know if this is a good idea or not, but see #27452 for a branch which fixes the last doctest failures in src/homology. This bypasses an issue with graphs, as mentioned above:\n\n```\nsage: S1 = simplicial_complexes.Sphere(1)\nsage: g = S1.wedge(S1).graph()\nsage: g\nGraph on 5 vertices\nsage: g.vertices()\n...\nTypeError: '<' not supported between instances of 'int' and 'str'\n```\nThe branch at #27452 relabels the graph of a simplicial complex so that the vertices are sortable, before trying to compute its minimal spanning tree. Is this just sweeping things under the rug, or is it okay?",
    "created_at": "2019-03-10T00:20:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413488",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:65" align="right">Comment 65</div>

I don't know if this is a good idea or not, but see #27452 for a branch which fixes the last doctest failures in src/homology. This bypasses an issue with graphs, as mentioned above:

```
sage: S1 = simplicial_complexes.Sphere(1)
sage: g = S1.wedge(S1).graph()
sage: g
Graph on 5 vertices
sage: g.vertices()
...
TypeError: '<' not supported between instances of 'int' and 'str'
```
The branch at #27452 relabels the graph of a simplicial complex so that the vertices are sortable, before trying to compute its minimal spanning tree. Is this just sweeping things under the rug, or is it okay?



---

archive/issue_comments_413489.json:
```json
{
    "body": "<div id=\"comment:66\" align=\"right\">Comment 66</div>\n\nI think it is one way forward. It does suffer in large cases because you have to make a full copy of the simplicial complex's graph, but I don't think it is simply sweeping it under the rug. Perhaps for that a user should know better than to have complicated labels for such tests?",
    "created_at": "2019-03-10T00:47:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413489",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:66" align="right">Comment 66</div>

I think it is one way forward. It does suffer in large cases because you have to make a full copy of the simplicial complex's graph, but I don't think it is simply sweeping it under the rug. Perhaps for that a user should know better than to have complicated labels for such tests?



---

archive/issue_comments_413490.json:
```json
{
    "body": "<div id=\"comment:67\" align=\"right\">Comment 67</div>\n\nAn alternative is to (optionally) make spanning tree methods return a `Graph`, in which case there is no need to sort end vertices.",
    "created_at": "2019-03-10T10:54:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413490",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:67" align="right">Comment 67</div>

An alternative is to (optionally) make spanning tree methods return a `Graph`, in which case there is no need to sort end vertices.



---

archive/issue_comments_413491.json:
```json
{
    "body": "<div id=\"comment:68\" align=\"right\">Comment 68</div>\n\nReplying to [@dcoudert](#comment%3A67):\n> An alternative is to (optionally) make spanning tree methods return a `Graph`, in which case there is no need to sort end vertices.\n\nMy gut reaction was that seems heavy handed. It would make sense, but I suspect the reason we don't is because it would be too expensive (relatively) to return a `(Di)Graph`. I haven't looked into this (it is too late for me to do so tonight), but just a thought.",
    "created_at": "2019-03-10T12:31:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413491",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:68" align="right">Comment 68</div>

Replying to [@dcoudert](#comment%3A67):
> An alternative is to (optionally) make spanning tree methods return a `Graph`, in which case there is no need to sort end vertices.

My gut reaction was that seems heavy handed. It would make sense, but I suspect the reason we don't is because it would be too expensive (relatively) to return a `(Di)Graph`. I haven't looked into this (it is too late for me to do so tonight), but just a thought.



---

archive/issue_comments_413492.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -14,12 +14,11 @@\n - #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n \n **Needs review**:\n-- #27135 \tpep8 in `digraph_generators.py` (part 2)\n - #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27138 \tpep8 in `digraph_generators.py` (part 5)\n - #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n-\n+- #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-03-30T13:57:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413492",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -14,12 +14,11 @@
 - #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 
 **Needs review**:
-- #27135 	pep8 in `digraph_generators.py` (part 2)
 - #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27138 	pep8 in `digraph_generators.py` (part 5)
 - #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
-
+- #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413493.json:
```json
{
    "body": "<div id=\"comment:70\" align=\"right\">Comment 70</div>\n\nSome doctests are failing with `bliss` (not related to #27571) \n\n```\nsage -t src/sage/graphs/generators/families.py\n**********************************************************************\nFile \"src/sage/graphs/generators/families.py\", line 3191, in sage.graphs.generators.families.MathonPseudocyclicStronglyRegularGraph\nFailed example:\n    G3x3.automorphism_group(algorithm=\"bliss\").order() # optional - bliss\nExpected:\n    27\nGot:\n    3\n**********************************************************************\nFile \"src/sage/graphs/generators/families.py\", line 3196, in sage.graphs.generators.families.MathonPseudocyclicStronglyRegularGraph\nFailed example:\n    G9.automorphism_group(algorithm=\"bliss\").order() # optional - bliss\nExpected:\n    9\nGot:\n    3\n```",
    "created_at": "2019-03-30T14:03:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413493",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:70" align="right">Comment 70</div>

Some doctests are failing with `bliss` (not related to #27571) 

```
sage -t src/sage/graphs/generators/families.py
**********************************************************************
File "src/sage/graphs/generators/families.py", line 3191, in sage.graphs.generators.families.MathonPseudocyclicStronglyRegularGraph
Failed example:
    G3x3.automorphism_group(algorithm="bliss").order() # optional - bliss
Expected:
    27
Got:
    3
**********************************************************************
File "src/sage/graphs/generators/families.py", line 3196, in sage.graphs.generators.families.MathonPseudocyclicStronglyRegularGraph
Failed example:
    G9.automorphism_group(algorithm="bliss").order() # optional - bliss
Expected:
    9
Got:
    3
```



---

archive/issue_comments_413494.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -19,6 +19,7 @@\n - #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n - #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n+- #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n``````\n",
    "created_at": "2019-04-21T09:06:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413494",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -19,6 +19,7 @@
 - #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
 - #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
+- #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
``````




---

archive/issue_comments_413495.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,11 +10,9 @@\n \n **Needs work**:\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n-- #26800 \tpy3: bug with `canonical_label`\n - #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n \n **Needs review**:\n-- #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27138 \tpep8 in `digraph_generators.py` (part 5)\n - #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n@@ -59,6 +57,7 @@\n - #26762 \tpy3: fix `HortonGraph` generator\n - #26763 \tpy3: fix `SzekeresSnarkGraph` generator\n - #26779 \tpy3: fix `graph_input.py` and `hypergraph_generators.py`\n+- #26800 \tpy3: bug with `canonical_label` fixed by #27695 \n - #26801 \tpy3: change sorting of neighbors labels in `static_sparse_graph.pyx`\n - #26812 \tpy3: fix doctest in `graph_generators.py`\n - #26846        for graph isomorphism\n@@ -79,6 +78,7 @@\n - #27125 \tpy3: fix some doctests in `graph.py`\n - #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n - #27129 \tpy3: fix other doctests in `graph.py`\n+- #27137 \tpep8 in `digraph_generators.py` (part 4)\n - #27144 \tpy3: fix doctests in `connectivity.pyx`\n - #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n - #27148 \tpy3: fix doctests in `centrality.pyx`\n``````\n",
    "created_at": "2019-04-23T08:44:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413495",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,11 +10,9 @@
 
 **Needs work**:
 - #22349 	Deprecate sorting of Graph vertices and edges by default
-- #26800 	py3: bug with `canonical_label`
 - #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 
 **Needs review**:
-- #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27138 	pep8 in `digraph_generators.py` (part 5)
 - #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
@@ -59,6 +57,7 @@
 - #26762 	py3: fix `HortonGraph` generator
 - #26763 	py3: fix `SzekeresSnarkGraph` generator
 - #26779 	py3: fix `graph_input.py` and `hypergraph_generators.py`
+- #26800 	py3: bug with `canonical_label` fixed by #27695 
 - #26801 	py3: change sorting of neighbors labels in `static_sparse_graph.pyx`
 - #26812 	py3: fix doctest in `graph_generators.py`
 - #26846        for graph isomorphism
@@ -79,6 +78,7 @@
 - #27125 	py3: fix some doctests in `graph.py`
 - #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
 - #27129 	py3: fix other doctests in `graph.py`
+- #27137 	pep8 in `digraph_generators.py` (part 4)
 - #27144 	py3: fix doctests in `connectivity.pyx`
 - #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
 - #27148 	py3: fix doctests in `centrality.pyx`
``````




---

archive/issue_comments_413496.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -12,12 +12,12 @@\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n - #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n \n+\n **Needs review**:\n-- #27138 \tpep8 in `digraph_generators.py` (part 5)\n - #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n - #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n-- #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n+\n \n **Done**\n - #26274 \tavoid comparison of vertex labels in MIP - graph_coloring.py\n@@ -79,6 +79,7 @@\n - #27127 \tpy3: avoid `.vertices()` in method `ear_decomposition`\n - #27129 \tpy3: fix other doctests in `graph.py`\n - #27137 \tpep8 in `digraph_generators.py` (part 4)\n+- #27138 \tpep8 in `digraph_generators.py` (part 5)\n - #27144 \tpy3: fix doctests in `connectivity.pyx`\n - #27147 \tpy3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`\n - #27148 \tpy3: fix doctests in `centrality.pyx`\n@@ -104,5 +105,6 @@\n - #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n+- #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n \n \n``````\n",
    "created_at": "2019-05-06T11:10:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413496",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -12,12 +12,12 @@
 - #22349 	Deprecate sorting of Graph vertices and edges by default
 - #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 
+
 **Needs review**:
-- #27138 	pep8 in `digraph_generators.py` (part 5)
 - #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
 - #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
-- #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
+
 
 **Done**
 - #26274 	avoid comparison of vertex labels in MIP - graph_coloring.py
@@ -79,6 +79,7 @@
 - #27127 	py3: avoid `.vertices()` in method `ear_decomposition`
 - #27129 	py3: fix other doctests in `graph.py`
 - #27137 	pep8 in `digraph_generators.py` (part 4)
+- #27138 	pep8 in `digraph_generators.py` (part 5)
 - #27144 	py3: fix doctests in `connectivity.pyx`
 - #27147 	py3: fix doctests in `dense_graph.pyx`, `sparse_graph.pyx`, `static_sparse_graph.pyx`
 - #27148 	py3: fix doctests in `centrality.pyx`
@@ -104,5 +105,6 @@
 - #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
+- #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
 
 
``````




---

archive/issue_comments_413497.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -11,12 +11,12 @@\n **Needs work**:\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n - #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n-\n+- #28108 \tpy3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)\n \n **Needs review**:\n - #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n-- #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n+- #27948 \tpy3: fix doctests with optional package plantri \n \n \n **Done**\n@@ -106,5 +106,6 @@\n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n - #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n+- #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n \n \n``````\n",
    "created_at": "2019-07-03T17:45:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413497",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -11,12 +11,12 @@
 **Needs work**:
 - #22349 	Deprecate sorting of Graph vertices and edges by default
 - #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
-
+- #28108 	py3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)
 
 **Needs review**:
 - #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
-- #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
+- #27948 	py3: fix doctests with optional package plantri 
 
 
 **Done**
@@ -106,5 +106,6 @@
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 - #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
+- #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
 
 
``````




---

archive/issue_comments_413498.json:
```json
{
    "body": "<div id=\"comment:75\" align=\"right\">Comment 75</div>\n\nWe are almost done. We have currently 3 open tickets for the remaining failing doctests.\n\nNeeds work (contributors are more than welcome):\n- #27435: failing doctest in `graph_database.py` with `interactive_query`.\n- #28108: 2 `ValueError?` in `graph_generators.py` doctests with `plantri` optional package (follow up of #27948) \n\nNeeds review / help / comment:\n- #27232: fix failing doctests in `is_isomorphic`, which are the last 8 remaining failing doctests in `generic_graph.py`",
    "created_at": "2019-07-10T11:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413498",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:75" align="right">Comment 75</div>

We are almost done. We have currently 3 open tickets for the remaining failing doctests.

Needs work (contributors are more than welcome):
- #27435: failing doctest in `graph_database.py` with `interactive_query`.
- #28108: 2 `ValueError?` in `graph_generators.py` doctests with `plantri` optional package (follow up of #27948) 

Needs review / help / comment:
- #27232: fix failing doctests in `is_isomorphic`, which are the last 8 remaining failing doctests in `generic_graph.py`



---

archive/issue_comments_413499.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -16,7 +16,6 @@\n **Needs review**:\n - #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n-- #27948 \tpy3: fix doctests with optional package plantri \n \n \n **Done**\n@@ -105,7 +104,8 @@\n - #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n+- #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n - #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n-- #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n+- #27948 \tpy3: fix doctests with optional package plantri \n \n \n``````\n",
    "created_at": "2019-07-10T11:10:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413499",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -16,7 +16,6 @@
 **Needs review**:
 - #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
-- #27948 	py3: fix doctests with optional package plantri 
 
 
 **Done**
@@ -105,7 +104,8 @@
 - #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
+- #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
 - #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
-- #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
+- #27948 	py3: fix doctests with optional package plantri 
 
 
``````




---

archive/issue_comments_413500.json:
```json
{
    "body": "<div id=\"comment:76\" align=\"right\">Comment 76</div>\n\nReplying to [@dcoudert](#comment%3A75):\n> We are almost done. We have currently 3 open tickets for the remaining failing doctests.\n> \n> Needs work (contributors are more than welcome):\n> - #27435: failing doctest in `graph_database.py` with `interactive_query`.\n\nFor this one, I would be tempted to label it `# py2` since it seems to rely on the legacy Sage notebook. I can open a ticket if that sounds like a valid approach.",
    "created_at": "2019-07-10T17:20:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413500",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:76" align="right">Comment 76</div>

Replying to [@dcoudert](#comment%3A75):
> We are almost done. We have currently 3 open tickets for the remaining failing doctests.
> 
> Needs work (contributors are more than welcome):
> - #27435: failing doctest in `graph_database.py` with `interactive_query`.

For this one, I would be tempted to label it `# py2` since it seems to rely on the legacy Sage notebook. I can open a ticket if that sounds like a valid approach.



---

archive/issue_comments_413501.json:
```json
{
    "body": "<div id=\"comment:77\" align=\"right\">Comment 77</div>\n\n> > - #27435: failing doctest in `graph_database.py` with `interactive_query`.\n\n> \n> For this one, I would be tempted to label it `# py2` since it seems to rely on the legacy Sage notebook. I can open a ticket if that sounds like a valid approach.\n\nIt is related to sage notebook, but doctests are failing only with py3... So I don't know which is the best approach. Should we try to make a little change to sagenb to make #27435 fixing the issue, although sagenb will be removed in the future (but when?) ?",
    "created_at": "2019-07-10T18:35:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413501",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:77" align="right">Comment 77</div>

> > - #27435: failing doctest in `graph_database.py` with `interactive_query`.

> 
> For this one, I would be tempted to label it `# py2` since it seems to rely on the legacy Sage notebook. I can open a ticket if that sounds like a valid approach.

It is related to sage notebook, but doctests are failing only with py3... So I don't know which is the best approach. Should we try to make a little change to sagenb to make #27435 fixing the issue, although sagenb will be removed in the future (but when?) ?



---

archive/issue_comments_413502.json:
```json
{
    "body": "<div id=\"comment:78\" align=\"right\">Comment 78</div>\n\nI apologize, my comments really belong on #27435. I'll continue the discussion there.",
    "created_at": "2019-07-10T18:50:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413502",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:78" align="right">Comment 78</div>

I apologize, my comments really belong on #27435. I'll continue the discussion there.



---

archive/issue_comments_413503.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,11 +10,9 @@\n \n **Needs work**:\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n-- #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n - #28108 \tpy3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)\n \n **Needs review**:\n-- #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n \n \n@@ -99,11 +97,13 @@\n - #27184 \tpy3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`\n - #27202 \tpy3: fix doctests in random graphs generators\n - #27203 \tpy3: fix 8 doctests in `generators/families.py`\n+- #27232 \tis_isomorphic broken with keyword edge_labels=True\n - #27242 \tpy3: strengthen a doctest in `vertex_separation.pyx`\n - #27243 \tpy3: fix doctests in `generic_graph` (part 7) -- relabel \n - #27244 \tpy3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`\n - #27245 \tpy3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n+- #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n - #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n - #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n - #27948 \tpy3: fix doctests with optional package plantri \n``````\n",
    "created_at": "2019-07-29T11:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413503",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,11 +10,9 @@
 
 **Needs work**:
 - #22349 	Deprecate sorting of Graph vertices and edges by default
-- #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 - #28108 	py3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)
 
 **Needs review**:
-- #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
 
 
@@ -99,11 +97,13 @@
 - #27184 	py3: fix doctests in `generic_graph` (part 6) -- `graphviz_string`
 - #27202 	py3: fix doctests in random graphs generators
 - #27203 	py3: fix 8 doctests in `generators/families.py`
+- #27232 	is_isomorphic broken with keyword edge_labels=True
 - #27242 	py3: strengthen a doctest in `vertex_separation.pyx`
 - #27243 	py3: fix doctests in `generic_graph` (part 7) -- relabel 
 - #27244 	py3: fix doctests in `generic_graph` (part 8) -- `coarsest_equitable_refinement`
 - #27245 	py3: fix doctests in `generic_graph` (part 9) -- `automorphism_group`
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
+- #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 - #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
 - #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
 - #27948 	py3: fix doctests with optional package plantri 
``````




---

archive/issue_comments_413504.json:
```json
{
    "body": "<div id=\"comment:79\" align=\"right\">Comment 79</div>\n\nAll doctests in the standard graphs module are now fixed ! Thanks to all of you for your great help.\n\nWe can now check all optional packages. For instance, `plantri` has 2 failing doctests (#28108).",
    "created_at": "2019-07-29T11:06:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413504",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:79" align="right">Comment 79</div>

All doctests in the standard graphs module are now fixed ! Thanks to all of you for your great help.

We can now check all optional packages. For instance, `plantri` has 2 failing doctests (#28108).



---

archive/issue_comments_413505.json:
```json
{
    "body": "<div id=\"comment:80\" align=\"right\">Comment 80</div>\n\nThe last failing doctests of the optional packages (benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib) are fixed with #27948, #28108  and #28371.",
    "created_at": "2019-08-20T14:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413505",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:80" align="right">Comment 80</div>

The last failing doctests of the optional packages (benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib) are fixed with #27948, #28108  and #28371.



---

archive/issue_comments_413506.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,15 +5,14 @@\n - #22349 Deprecate sorting of methods `.vertices()` and `.edges()`\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n - methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n-- sort used in methods for checking isomorphisms w/wo edge labels (see also #27232 and #26800). Sorting of lists of possibly unhashable objects is needed here, or may be  a method for checking that there is a permutation from one list to the other could be enough ?\n \n \n **Needs work**:\n - #22349 \tDeprecate sorting of Graph vertices and edges by default\n-- #28108 \tpy3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)\n \n **Needs review**:\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n+- #28371 \tpy3: errors with optional package CSDP\n \n \n **Done**\n@@ -105,7 +104,16 @@\n - #27246 \tpy3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`\n - #27435 \tpy3: failing doctest in `graph_database.py` with `interactive_query`\n - #27571 \tsome changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`\n+- #27628\tpy3: fix doctest with igraph\n - #27695 \ttry to sort vertices to produce consistent graph6 and dig6 strings in Python3\n+- #27811 \tfix doctest with igraph\n - #27948 \tpy3: fix doctests with optional package plantri \n+- #28108 \tpy3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)\n \n \n+**Optional packages:**\n+\n+With  #27628, #27811, #27948, #28108  and #28371 all failing doctests of the optional packages used in the graph module are fixed: benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib\n+\n+\n+\n``````\n",
    "created_at": "2019-08-20T14:11:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413506",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,15 +5,14 @@
 - #22349 Deprecate sorting of methods `.vertices()` and `.edges()`
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
 - methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.
-- sort used in methods for checking isomorphisms w/wo edge labels (see also #27232 and #26800). Sorting of lists of possibly unhashable objects is needed here, or may be  a method for checking that there is a permutation from one list to the other could be enough ?
 
 
 **Needs work**:
 - #22349 	Deprecate sorting of Graph vertices and edges by default
-- #28108 	py3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)
 
 **Needs review**:
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
+- #28371 	py3: errors with optional package CSDP
 
 
 **Done**
@@ -105,7 +104,16 @@
 - #27246 	py3: fix doctests in `generic_graph` (part 10) -- `is_isomorphic`
 - #27435 	py3: failing doctest in `graph_database.py` with `interactive_query`
 - #27571 	some changes in `automorphism_group` and fix one doctest in `MathonPseudocyclicStronglyRegularGraph`
+- #27628	py3: fix doctest with igraph
 - #27695 	try to sort vertices to produce consistent graph6 and dig6 strings in Python3
+- #27811 	fix doctest with igraph
 - #27948 	py3: fix doctests with optional package plantri 
+- #28108 	py3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)
 
 
+**Optional packages:**
+
+With  #27628, #27811, #27948, #28108  and #28371 all failing doctests of the optional packages used in the graph module are fixed: benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib
+
+
+
``````




---

archive/issue_comments_413507.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -4,7 +4,7 @@\n **Major issues**\n - #22349 Deprecate sorting of methods `.vertices()` and `.edges()`\n - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)\n-- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n+- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices (and edges) that will be used to order rows and columns. Currently, we use `.vertices()` and `.edges()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.\n \n \n **Needs work**:\n@@ -12,7 +12,7 @@\n \n **Needs review**:\n - #27408 \tEdge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.\n-- #28371 \tpy3: errors with optional package CSDP\n+- #27513 \tAllow custom order for edges as well as vertices for incidence matrix\n \n \n **Done**\n@@ -109,6 +109,7 @@\n - #27811 \tfix doctest with igraph\n - #27948 \tpy3: fix doctests with optional package plantri \n - #28108 \tpy3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)\n+- #28371 \tpy3: errors with optional package CSDP\n \n \n **Optional packages:**\n@@ -116,4 +117,3 @@\n With  #27628, #27811, #27948, #28108  and #28371 all failing doctests of the optional packages used in the graph module are fixed: benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib\n \n \n-\n``````\n",
    "created_at": "2019-09-11T16:04:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413507",
    "user": "https://github.com/dcoudert"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -4,7 +4,7 @@
 **Major issues**
 - #22349 Deprecate sorting of methods `.vertices()` and `.edges()`
 - direct comparison of vertex labels (e.g., in method `iterator_edges` of `base/sparse_graph.pyx`)
-- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices that will be used to order rows and columns. Currently, we use `.vertices()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.
+- methods using matrices: `adjacency_matrix`, `distance_matrix`, etc. For all these methods, we can now give as input an ordering of the vertices (and edges) that will be used to order rows and columns. Currently, we use `.vertices()` and `.edges()` by default. If we switch to `list(G)` by default, we have to check that it's not breaking algorithms using these matrices.
 
 
 **Needs work**:
@@ -12,7 +12,7 @@
 
 **Needs review**:
 - #27408 	Edge view for graphs -- introduce deprecation warning for `sort=None` as the plan is to set `sort=False` by default.
-- #28371 	py3: errors with optional package CSDP
+- #27513 	Allow custom order for edges as well as vertices for incidence matrix
 
 
 **Done**
@@ -109,6 +109,7 @@
 - #27811 	fix doctest with igraph
 - #27948 	py3: fix doctests with optional package plantri 
 - #28108 	py3: ValueError in graph_generators doctests with plantri optional package (follow up of #27948)
+- #28371 	py3: errors with optional package CSDP
 
 
 **Optional packages:**
@@ -116,4 +117,3 @@
 With  #27628, #27811, #27948, #28108  and #28371 all failing doctests of the optional packages used in the graph module are fixed: benzene, bliss, buckygen, csdp, dot2tex and graphviz, gap_packages, igraph and python_igraph, mcqd, plantri, tdlib
 
 
-
``````




---

archive/issue_comments_413508.json:
```json
{
    "body": "<div id=\"comment:82\" align=\"right\">Comment 82</div>\n\nit's time to close this ticket.",
    "created_at": "2020-04-18T10:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413508",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:82" align="right">Comment 82</div>

it's time to close this ticket.



---

archive/issue_events_348487.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2020-04-18T10:18:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348487"
}
```



---

archive/issue_comments_413509.json:
```json
{
    "body": "Author: **David Coudert**",
    "created_at": "2020-04-18T10:18:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413509",
    "user": "https://github.com/dcoudert"
}
```

Author: **David Coudert**



---

archive/issue_events_348488.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-18T17:43:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348488"
}
```



---

archive/issue_events_348489.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2020-04-18T17:43:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348489"
}
```



---

archive/issue_comments_413510.json:
```json
{
    "body": "<div id=\"comment:83\" align=\"right\">Comment 83</div>\n\nYes, I agree.",
    "created_at": "2020-04-18T17:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413510",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:83" align="right">Comment 83</div>

Yes, I agree.



---

archive/issue_comments_413511.json:
```json
{
    "body": "Reviewer: **John Palmieri**",
    "created_at": "2020-04-18T17:43:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26640#issuecomment-413511",
    "user": "https://github.com/jhpalmieri"
}
```

Reviewer: **John Palmieri**



---

archive/issue_events_348490.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-20T16:41:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348490"
}
```



---

archive/issue_events_348491.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-20T16:41:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348491"
}
```



---

archive/issue_events_348492.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-04-20T16:41:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348492"
}
```



---

archive/issue_events_348493.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-20T06:35:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348493"
}
```



---

archive/issue_events_348494.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-20T06:35:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348494"
}
```



---

archive/issue_events_348495.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2020-06-20T06:35:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26640",
    "label": "https://github.com/sagemath/sage/labels/worksforme",
    "label_color": "a6a6a6",
    "label_name": "worksforme",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26640#event-348495"
}
```
