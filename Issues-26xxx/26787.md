# Issue 26787: Force C++11  as the C++ standard

archive/issues_026550.json:
```json
{
    "body": "We should raise the standard of C++ used to compile Sage to C++11 minimum,\nacross all standard (and, in time, optional) packages.\n\nThis ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n\n**CC:**  @embray\n\n**Keywords:** C++11\n\n**Branch:** [71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)\n\n**Reviewer:** Dima Pasechnik\n\n**Author:** Fran\u00e7ois Bissey\n\nIssue created by migration from https://trac.sagemath.org/ticket/26787\n\n",
    "closed_at": "2019-02-05T16:57:53Z",
    "created_at": "2018-11-29T01:51:13Z",
    "labels": [
        "component: build",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "title": "Force C++11  as the C++ standard",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/26787",
    "user": "https://github.com/kiwifb"
}
```
We should raise the standard of C++ used to compile Sage to C++11 minimum,
across all standard (and, in time, optional) packages.

This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.

**CC:**  @embray

**Keywords:** C++11

**Branch:** [71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)

**Reviewer:** Dima Pasechnik

**Author:** François Bissey

Issue created by migration from https://trac.sagemath.org/ticket/26787





---

archive/issue_comments_415124.json:
```json
{
    "body": "<a id='comment:1'></a>\nWhat do you mean? We already require a C++11 compiler.",
    "created_at": "2018-11-29T08:31:02Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415124",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'></a>
What do you mean? We already require a C++11 compiler.



---

archive/issue_comments_415125.json:
```json
{
    "body": "<a id='comment:2'></a>\nReplying to [@jdemeyer](#comment%3A1):\n> What do you mean? We already require a C++11 compiler.\n\nYeah but we don't enforce compilation with at least that standard - at least not everywhere. See #25532.",
    "created_at": "2018-11-29T08:32:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415125",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'></a>
Replying to [@jdemeyer](#comment%3A1):
> What do you mean? We already require a C++11 compiler.

Yeah but we don't enforce compilation with at least that standard - at least not everywhere. See #25532.



---

archive/issue_comments_415126.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [@kiwifb](#comment%3A2):\n> we don't enforce compilation with at least that standard\n\nWhy should Sage enforce C++11 for every package? I would leave that decision to each package individually.",
    "created_at": "2018-11-29T09:17:18Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415126",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'></a>
Replying to [@kiwifb](#comment%3A2):
> we don't enforce compilation with at least that standard

Why should Sage enforce C++11 for every package? I would leave that decision to each package individually.



---

archive/issue_comments_415127.json:
```json
{
    "body": "<a id='comment:4'></a>\nIndividual packages can over-ride if needed, but as a base we should have a standard that allows ABI compatibility between dependencies. I am talking to have sensible default out of the box for packages, and gnu++98 is not that anymore.\n\nWe shouldn't have to play whack-a-mole on a packages dependency just because it uses and enforce c++11 and your compiler doesn't default to at least that. Alternatively you raise the bar on the compiler to get to that default. Hint: default C++ ABI for most recent distro release is c++14. All the problems in #25532 is because some older distro have a compiler that is recent enough to compile sage but doesn't default to at least c++11.",
    "created_at": "2018-11-29T09:28:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415127",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
Individual packages can over-ride if needed, but as a base we should have a standard that allows ABI compatibility between dependencies. I am talking to have sensible default out of the box for packages, and gnu++98 is not that anymore.

We shouldn't have to play whack-a-mole on a packages dependency just because it uses and enforce c++11 and your compiler doesn't default to at least that. Alternatively you raise the bar on the compiler to get to that default. Hint: default C++ ABI for most recent distro release is c++14. All the problems in #25532 is because some older distro have a compiler that is recent enough to compile sage but doesn't default to at least c++11.



---

archive/issue_comments_415128.json:
```json
{
    "body": "<a id='comment:5'></a>\nOK, I see your point now...",
    "created_at": "2018-11-29T11:20:16Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415128",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'></a>
OK, I see your point now...



---

archive/issue_comments_415129.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"C++11\".",
    "created_at": "2018-11-29T12:47:18Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415129",
    "user": "https://github.com/slel"
}
```

**Changing keywords** from "" to "C++11".



---

archive/issue_comments_415130.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-We should raise the default standard of C++ used to compile sage to C++11 minimum across all standard (and in time) optional packages.\n+We should raise the default standard of C++ used to compile Sage to C++11 minimum,\n+across all standard (and, in time, optional) packages.\n``````\n",
    "created_at": "2018-11-29T12:47:18Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415130",
    "user": "https://github.com/slel"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-We should raise the default standard of C++ used to compile sage to C++11 minimum across all standard (and in time) optional packages.
+We should raise the default standard of C++ used to compile Sage to C++11 minimum,
+across all standard (and, in time, optional) packages.
``````




---

archive/issue_comments_415131.json:
```json
{
    "body": "<a id='comment:7'></a>\nI have started by updating some macros and I have come to hate one particular commit\nhttp://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8\n\nIn short, even if you compiler doesn't need a flag to compile c++11 code by default, it will be added nonetheless. Potentially lowering the standard applied (which may or may not be a bad thing).",
    "created_at": "2018-12-05T20:08:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415131",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'></a>
I have started by updating some macros and I have come to hate one particular commit
http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8

In short, even if you compiler doesn't need a flag to compile c++11 code by default, it will be added nonetheless. Potentially lowering the standard applied (which may or may not be a bad thing).



---

archive/issue_events_236337.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236337"
}
```



---

archive/issue_events_236338.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236338"
}
```



---

archive/issue_comments_415132.json:
```json
{
    "body": "**Commit:** [370c03505f290f068def45177e7b753561a42030](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)",
    "created_at": "2018-12-05T20:38:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415132",
    "user": "https://github.com/kiwifb"
}
```

**Commit:** [370c03505f290f068def45177e7b753561a42030](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)



---

archive/issue_comments_415133.json:
```json
{
    "body": "**Branch:** [u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)",
    "created_at": "2018-12-05T20:38:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415133",
    "user": "https://github.com/kiwifb"
}
```

**Branch:** [u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)



---

archive/issue_comments_415134.json:
```json
{
    "body": "**Author:** Fran\u00e7ois Bissey",
    "created_at": "2018-12-05T20:38:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415134",
    "user": "https://github.com/kiwifb"
}
```

**Author:** François Bissey



---

archive/issue_comments_415135.json:
```json
{
    "body": "<a id='comment:8'></a>\nThis should be enough.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030\">370c035</a></td><td><code>Update CXX macros and enforce c++11</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:38:47Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415135",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'></a>
This should be enough.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030">370c035</a></td><td><code>Update CXX macros and enforce c++11</code></td></tr></table>




---

archive/issue_comments_415136.json:
```json
{
    "body": "**Changing commit** from \"[370c03505f290f068def45177e7b753561a42030](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)\" to \"[d34ff33ba2fafb7765417011b4c4a89ef629db23](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)\".",
    "created_at": "2018-12-05T20:40:35Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415136",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[370c03505f290f068def45177e7b753561a42030](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)" to "[d34ff33ba2fafb7765417011b4c4a89ef629db23](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)".



---

archive/issue_comments_415137.json:
```json
{
    "body": "<a id='comment:9'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23\">d34ff33</a></td><td><code>Forgot to commit one change</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:40:35Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415137",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23">d34ff33</a></td><td><code>Forgot to commit one change</code></td></tr></table>




---

archive/issue_comments_415138.json:
```json
{
    "body": "<a id='comment:10'></a>\nThere is an associated clean up that should be done.",
    "created_at": "2018-12-05T20:47:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415138",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'></a>
There is an associated clean up that should be done.



---

archive/issue_events_236339.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:47:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236339"
}
```



---

archive/issue_events_236340.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:47:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236340"
}
```



---

archive/issue_comments_415139.json:
```json
{
    "body": "<a id='comment:11'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b\">70f51d2</a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:57:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415139",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:11'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b">70f51d2</a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr></table>




---

archive/issue_comments_415140.json:
```json
{
    "body": "**Changing commit** from \"[d34ff33ba2fafb7765417011b4c4a89ef629db23](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)\" to \"[70f51d29a67f6db87b79ccec966a829f5365cf9b](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)\".",
    "created_at": "2018-12-05T20:57:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415140",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[d34ff33ba2fafb7765417011b4c4a89ef629db23](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)" to "[70f51d29a67f6db87b79ccec966a829f5365cf9b](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)".



---

archive/issue_events_236341.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:05:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236341"
}
```



---

archive/issue_events_236342.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:05:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236342"
}
```



---

archive/issue_comments_415141.json:
```json
{
    "body": "<a id='comment:12'></a>\nA number of spkg added `-std=c++11` or `-std=gnu++11` in spkg-*. I removed most of these since by default gnu++11 will be selected. The only exception being `fplll` which enforce c++11 in configure but needs gnu++11 on cygwin. The addition was already redundant in brial since I made the latest version default to at least gnu++11 upstream.\n\nThere is also a makefile patch in frobby which I decided not to touch. I'd rather someone interested in the optional frobby package to update the patch next time it needs touching.\n\nIt will need testing on cygwin in particular.",
    "created_at": "2018-12-05T21:05:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415141",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
A number of spkg added `-std=c++11` or `-std=gnu++11` in spkg-*. I removed most of these since by default gnu++11 will be selected. The only exception being `fplll` which enforce c++11 in configure but needs gnu++11 on cygwin. The addition was already redundant in brial since I made the latest version default to at least gnu++11 upstream.

There is also a makefile patch in frobby which I decided not to touch. I'd rather someone interested in the optional frobby package to update the patch next time it needs touching.

It will need testing on cygwin in particular.



---

archive/issue_comments_415142.json:
```json
{
    "body": "<a id='comment:13'></a>\nI'm a bit lost what this ticket does. I know that I already asked, but I still don't quite understand.",
    "created_at": "2019-01-06T17:26:43Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415142",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'></a>
I'm a bit lost what this ticket does. I know that I already asked, but I still don't quite understand.



---

archive/issue_events_236343.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-06T17:26:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236343"
}
```



---

archive/issue_events_236344.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-06T17:26:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236344"
}
```



---

archive/issue_events_236345.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-10T13:55:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236345"
}
```



---

archive/issue_events_236346.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-10T13:55:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236346"
}
```



---

archive/issue_comments_415143.json:
```json
{
    "body": "<a id='comment:15'></a>\nI think you knew, but forgot - it's needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.",
    "created_at": "2019-01-11T14:14:22Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415143",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'></a>
I think you knew, but forgot - it's needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.



---

archive/issue_comments_415144.json:
```json
{
    "body": "<a id='comment:16'></a>\nSo does the word \"default\" in the ticket title and description have any meaning? Maybe that's part what is confusing me.",
    "created_at": "2019-01-11T14:42:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415144",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>
So does the word "default" in the ticket title and description have any meaning? Maybe that's part what is confusing me.



---

archive/issue_comments_415145.json:
```json
{
    "body": "<a id='comment:17'></a>\nNote that different versions of C++ compilers have differently set default values of the `std` parameter. And so it must be enforced in global `CXXFLAGS`. Does the changed title make more sense to you?",
    "created_at": "2019-01-11T14:47:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415145",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'></a>
Note that different versions of C++ compilers have differently set default values of the `std` parameter. And so it must be enforced in global `CXXFLAGS`. Does the changed title make more sense to you?



---

archive/issue_events_236347.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "rename": {
        "from": "Use C++11 at least as default C++ standard",
        "to": "Force C++11  as the C++ standard"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236347"
}
```



---

archive/issue_events_236348.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236348"
}
```



---

archive/issue_events_236349.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "pending",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236349"
}
```



---

archive/issue_events_236350.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236350"
}
```



---

archive/issue_events_236351.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:48:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236351"
}
```



---

archive/issue_comments_415146.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n-We should raise the default standard of C++ used to compile Sage to C++11 minimum,\n+We should raise the standard of C++ used to compile Sage to C++11 minimum,\n across all standard (and, in time, optional) packages.\n+\n+This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n``````\n",
    "created_at": "2019-01-11T15:31:35Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415146",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
-We should raise the default standard of C++ used to compile Sage to C++11 minimum,
+We should raise the standard of C++ used to compile Sage to C++11 minimum,
 across all standard (and, in time, optional) packages.
+
+This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
``````




---

archive/issue_events_236352.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T15:33:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236352"
}
```



---

archive/issue_events_236353.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T15:33:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236353"
}
```



---

archive/issue_comments_415147.json:
```json
{
    "body": "<a id='comment:20'></a>\nI still don't see how the ticket title and Dima's explanation corresponds to the actual branch. The branch is *removing* C++11 stuff.",
    "created_at": "2019-01-11T15:33:02Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415147",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>
I still don't see how the ticket title and Dima's explanation corresponds to the actual branch. The branch is *removing* C++11 stuff.



---

archive/issue_comments_415148.json:
```json
{
    "body": "<a id='comment:21'></a>\nNo, it's removing per-package C++ flags and replacing them with the globally set stuff.",
    "created_at": "2019-01-11T15:35:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415148",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'></a>
No, it's removing per-package C++ flags and replacing them with the globally set stuff.



---

archive/issue_comments_415149.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n We should raise the standard of C++ used to compile Sage to C++11 minimum,\n across all standard (and, in time, optional) packages.\n \n-This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n+This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n``````\n",
    "created_at": "2019-01-12T22:12:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415149",
    "user": "https://github.com/jdemeyer"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 We should raise the standard of C++ used to compile Sage to C++11 minimum,
 across all standard (and, in time, optional) packages.
 
-This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
+This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
``````




---

archive/issue_comments_415150.json:
```json
{
    "body": "<a id='comment:23'></a>\nI am sorry I am not more responsive across the board. I am on summer holydays after all :)\n\nI'll rebase and check things over once 8.6 is released - no way we'll get that in now.",
    "created_at": "2019-01-12T22:31:25Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415150",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:23'></a>
I am sorry I am not more responsive across the board. I am on summer holydays after all :)

I'll rebase and check things over once 8.6 is released - no way we'll get that in now.



---

archive/issue_comments_415151.json:
```json
{
    "body": "<a id='comment:24'></a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415151",
    "user": "https://github.com/embray"
}
```

<a id='comment:24'></a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_236354.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236354"
}
```



---

archive/issue_events_236355.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236355"
}
```



---

archive/issue_comments_415152.json:
```json
{
    "body": "**Changing commit** from \"[70f51d29a67f6db87b79ccec966a829f5365cf9b](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)\" to \"[71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)\".",
    "created_at": "2019-01-27T02:39:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415152",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[70f51d29a67f6db87b79ccec966a829f5365cf9b](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)" to "[71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)".



---

archive/issue_comments_415153.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307\">71f526e</a></td><td><code>Merge branch 'develop' into cpp11</code></td></tr></table>\n",
    "created_at": "2019-01-27T02:39:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415153",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307">71f526e</a></td><td><code>Merge branch 'develop' into cpp11</code></td></tr></table>




---

archive/issue_comments_415154.json:
```json
{
    "body": "<a id='comment:26'></a>\nRebased.",
    "created_at": "2019-01-27T02:40:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415154",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:26'></a>
Rebased.



---

archive/issue_events_236356.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-01-27T02:40:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs info",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236356"
}
```



---

archive/issue_events_236357.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-01-27T02:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236357"
}
```



---

archive/issue_comments_415155.json:
```json
{
    "body": "<a id='comment:27'></a>\nIn the context of this ticket, I'd like to recall the difference between \n`BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?",
    "created_at": "2019-01-27T06:53:35Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415155",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'></a>
In the context of this ticket, I'd like to recall the difference between 
`BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?



---

archive/issue_comments_415156.json:
```json
{
    "body": "<a id='comment:28'></a>\nReplying to [@dimpase](#comment%3A27):\n> In the context of this ticket, I'd like to recall the difference between \n> `BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?\n\nI must say I cannot think of a functional difference on top of my head, but that doesn't mean there isn't any. I usually prefer `./configure BLAH=foo ...` because then `BLAH=foo ...` is recorded in `config.log`. While in the other form it isn't. That can make debugging unpleasant when all you are given is `config.log`.",
    "created_at": "2019-01-27T09:51:06Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415156",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:28'></a>
Replying to [@dimpase](#comment%3A27):
> In the context of this ticket, I'd like to recall the difference between 
> `BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?

I must say I cannot think of a functional difference on top of my head, but that doesn't mean there isn't any. I usually prefer `./configure BLAH=foo ...` because then `BLAH=foo ...` is recorded in `config.log`. While in the other form it isn't. That can make debugging unpleasant when all you are given is `config.log`.



---

archive/issue_comments_415157.json:
```json
{
    "body": "<a id='comment:29'></a>\nNow I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.\n\n* in `BLAH=foo ./configure ` you set an environment to run configure.\n* in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.\n\nIn the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.",
    "created_at": "2019-01-27T10:07:54Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415157",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'></a>
Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.

* in `BLAH=foo ./configure ` you set an environment to run configure.
* in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.

In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.



---

archive/issue_comments_415158.json:
```json
{
    "body": "<a id='comment:30'></a>\nReplying to [@kiwifb](#comment%3A29):\n> Now I remember why you ask the question. You had a problem with a non autoconf configure script.\n\nYes, that was exactly the thing. (The case in hand was probably flint or mpir, I don't quite recall now).",
    "created_at": "2019-01-27T10:17:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415158",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'></a>
Replying to [@kiwifb](#comment%3A29):
> Now I remember why you ask the question. You had a problem with a non autoconf configure script.

Yes, that was exactly the thing. (The case in hand was probably flint or mpir, I don't quite recall now).



---

archive/issue_comments_415159.json:
```json
{
    "body": "<a id='comment:31'></a>\nReplying to [@kiwifb](#comment%3A29):\n> Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.\n> \n> * in `BLAH=foo ./configure ` you set an environment to run configure.\n> * in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.\n> \n> In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.\n\nThere is also a question what actually happens to `BLAH=foo`  after the `./configure` run.\nFor some of variables such as `BLAH` the values provided \nare getting stored somewhere, e.g. for `FC` and `CC`.\nIs there a list of such stored variables anywhere? E.g. would `FFLAGS` value be stored somewhere?",
    "created_at": "2019-01-28T11:35:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415159",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'></a>
Replying to [@kiwifb](#comment%3A29):
> Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.
> 
> * in `BLAH=foo ./configure ` you set an environment to run configure.
> * in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.
> 
> In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.

There is also a question what actually happens to `BLAH=foo`  after the `./configure` run.
For some of variables such as `BLAH` the values provided 
are getting stored somewhere, e.g. for `FC` and `CC`.
Is there a list of such stored variables anywhere? E.g. would `FFLAGS` value be stored somewhere?



---

archive/issue_comments_415160.json:
```json
{
    "body": "<a id='comment:32'></a>\nSome of the values from configuration, like compilers are saved in `sage-env-config`. The rest are not preserved in any way. For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example. There is another ticket somewhere about preserving most of `SAGE_*` and other variable set at configure time in `sage-env-config` but this is not this ticket.",
    "created_at": "2019-01-28T19:05:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415160",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:32'></a>
Some of the values from configuration, like compilers are saved in `sage-env-config`. The rest are not preserved in any way. For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example. There is another ticket somewhere about preserving most of `SAGE_*` and other variable set at configure time in `sage-env-config` but this is not this ticket.



---

archive/issue_comments_415161.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@kiwifb](#comment%3A32):\n> For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\nI think that this is finally the explanation that I asked for.\n\nBut that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?",
    "created_at": "2019-01-29T13:44:33Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415161",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'></a>
Replying to [@kiwifb](#comment%3A32):
> For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

I think that this is finally the explanation that I asked for.

But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?



---

archive/issue_comments_415162.json:
```json
{
    "body": "<a id='comment:34'></a>\nReplying to [@jdemeyer](#comment%3A33):\n> Replying to [@kiwifb](#comment%3A32):\n> > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\n> \n> I think that this is finally the explanation that I asked for.\n> \n> But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?\n\nI think that this branch puts stuff in CXXFLAGS, not in CXX.",
    "created_at": "2019-01-29T13:55:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415162",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'></a>
Replying to [@jdemeyer](#comment%3A33):
> Replying to [@kiwifb](#comment%3A32):
> > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

> 
> I think that this is finally the explanation that I asked for.
> 
> But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?

I think that this branch puts stuff in CXXFLAGS, not in CXX.



---

archive/issue_comments_415163.json:
```json
{
    "body": "<a id='comment:35'></a>\nReplying to [@dimpase](#comment%3A34):\n> Replying to [@jdemeyer](#comment%3A33):\n> > Replying to [@kiwifb](#comment%3A32):\n> > > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\n> > \n> > I think that this is finally the explanation that I asked for.\n> > \n> > But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?\n\nBy putting it in `CXX` you make your compiler c++11 compliant whether it is called with `CXXFLAGS` (as you should) or not.\n\n> \n> I think that this branch puts stuff in CXXFLAGS, not in CXX.\n\nThen the documentation at https://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx.html would be wrong. And I don't believe that's the case.",
    "created_at": "2019-01-29T18:47:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415163",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'></a>
Replying to [@dimpase](#comment%3A34):
> Replying to [@jdemeyer](#comment%3A33):
> > Replying to [@kiwifb](#comment%3A32):
> > > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

> > 
> > I think that this is finally the explanation that I asked for.
> > 
> > But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?

By putting it in `CXX` you make your compiler c++11 compliant whether it is called with `CXXFLAGS` (as you should) or not.

> 
> I think that this branch puts stuff in CXXFLAGS, not in CXX.

Then the documentation at https://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx.html would be wrong. And I don't believe that's the case.



---

archive/issue_comments_415164.json:
```json
{
    "body": "<a id='comment:36'></a>\nYou are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...",
    "created_at": "2019-01-30T16:51:15Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415164",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'></a>
You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...



---

archive/issue_comments_415165.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [@dimpase](#comment%3A36):\n> You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...\n\nHum, I can't do it right now (location and timing). Can you try install `boost` (and not `boost_cropped`) with it?",
    "created_at": "2019-01-30T18:48:05Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415165",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'></a>
Replying to [@dimpase](#comment%3A36):
> You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...

Hum, I can't do it right now (location and timing). Can you try install `boost` (and not `boost_cropped`) with it?



---

archive/issue_comments_415166.json:
```json
{
    "body": "<a id='comment:38'></a>\nWell building boost was no problem. I do some parsing in there. The patch bot seems relatively happy. Any more questions?",
    "created_at": "2019-02-04T00:31:17Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415166",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'></a>
Well building boost was no problem. I do some parsing in there. The patch bot seems relatively happy. Any more questions?



---

archive/issue_comments_415167.json:
```json
{
    "body": "<a id='comment:39'></a>\nDo I get it right that one might not see an explicit `-std=` in the logs, it depends upon the compiler being old enough for these to show up?",
    "created_at": "2019-02-04T01:03:30Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415167",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'></a>
Do I get it right that one might not see an explicit `-std=` in the logs, it depends upon the compiler being old enough for these to show up?



---

archive/issue_comments_415168.json:
```json
{
    "body": "<a id='comment:40'></a>\nIt used to be the case, but I believe that with the macro I put in this ticket it should always be there. Which is annoying because my intent was ensuring a minimum standard but with the macro at hand it become the standard used not a minimum one. See http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8",
    "created_at": "2019-02-04T01:06:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415168",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'></a>
It used to be the case, but I believe that with the macro I put in this ticket it should always be there. Which is annoying because my intent was ensuring a minimum standard but with the macro at hand it become the standard used not a minimum one. See http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8



---

archive/issue_comments_415169.json:
```json
{
    "body": "<a id='comment:41'></a>\nFor info `sage-env-config` with gcc-8.2.0\n\n```\n# -*- shell-script -*-\n\n###########################################################################\n#\n#  Set some environment variables for Sage.\n#  This file is generated from sage-env-config.in by configure.\n#\n#  NOTES:\n#  - You must *source* this script instead of executing.\n#  - Use \"return\" instead of \"exit\" to signal a failure.  Since this\n#    file is sourced, an \"exit\" here will actually exit src/bin/sage,\n#    which is probably not intended.\n#  - All environment variables set here should be *exported*, otherwise\n#    they won't be available in child programs.\n#\n##########################################################################\n\n# SAGE_LOCAL is the installation prefix and can be customized by using\n# ./configure --prefix\nexport SAGE_LOCAL=\"/home/fbissey/sandbox/git-fork/sage/local\"\n\n#######################################\n# Compilers set at configuration time\n#######################################\nexport CONFIGURED_CC=\"gcc\"\nexport CONFIGURED_CXX=\"g++ -std=gnu++11\"\nexport CONFIGURED_FC=\"gfortran\"\nexport CONFIGURED_OBJC=\"gcc\"\nexport CONFIGURED_OBJCXX=\"g++\"\n\n#######################################\n# Other configuration\n#######################################\nexport SAGE_PYTHON_VERSION=2\nif [ \"$SAGE_PYTHON_VERSION\" = 3 ]; then\n    export SAGE_PYTHON3=yes\nfi\n```\nAs you can see even though my compiler default to gnu++14, `-std=gnu++11` is added.",
    "created_at": "2019-02-04T01:21:58Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415169",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:41'></a>
For info `sage-env-config` with gcc-8.2.0

```
# -*- shell-script -*-

###########################################################################
#
#  Set some environment variables for Sage.
#  This file is generated from sage-env-config.in by configure.
#
#  NOTES:
#  - You must *source* this script instead of executing.
#  - Use "return" instead of "exit" to signal a failure.  Since this
#    file is sourced, an "exit" here will actually exit src/bin/sage,
#    which is probably not intended.
#  - All environment variables set here should be *exported*, otherwise
#    they won't be available in child programs.
#
##########################################################################

# SAGE_LOCAL is the installation prefix and can be customized by using
# ./configure --prefix
export SAGE_LOCAL="/home/fbissey/sandbox/git-fork/sage/local"

#######################################
# Compilers set at configuration time
#######################################
export CONFIGURED_CC="gcc"
export CONFIGURED_CXX="g++ -std=gnu++11"
export CONFIGURED_FC="gfortran"
export CONFIGURED_OBJC="gcc"
export CONFIGURED_OBJCXX="g++"

#######################################
# Other configuration
#######################################
export SAGE_PYTHON_VERSION=2
if [ "$SAGE_PYTHON_VERSION" = 3 ]; then
    export SAGE_PYTHON3=yes
fi
```
As you can see even though my compiler default to gnu++14, `-std=gnu++11` is added.



---

archive/issue_comments_415170.json:
```json
{
    "body": "<a id='comment:42'></a>\nlooks good to me, also checked with clang 6.0.1 on FreeBSD.",
    "created_at": "2019-02-04T02:50:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415170",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'></a>
looks good to me, also checked with clang 6.0.1 on FreeBSD.



---

archive/issue_comments_415171.json:
```json
{
    "body": "**Reviewer:** Dima Pasechnik",
    "created_at": "2019-02-04T02:50:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415171",
    "user": "https://github.com/dimpase"
}
```

**Reviewer:** Dima Pasechnik



---

archive/issue_events_236358.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-04T02:50:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236358"
}
```



---

archive/issue_events_236359.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-04T02:50:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236359"
}
```



---

archive/issue_events_236360.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-05T16:57:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236360"
}
```



---

archive/issue_events_236361.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3f39df0203441798674c15e6e66305ab4384a990",
    "created_at": "2019-02-05T16:57:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-236361"
}
```



---

archive/issue_comments_415172.json:
```json
{
    "body": "**Changing branch** from \"[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)\" to \"[71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)\".",
    "created_at": "2019-02-05T16:57:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415172",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)" to "[71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)".



---

archive/issue_comments_415173.json:
```json
{
    "body": "**Changing commit** from \"[71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)\" to \"\".",
    "created_at": "2019-02-10T17:28:39Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415173",
    "user": "https://github.com/vbraun"
}
```

**Changing commit** from "[71f526e75261237541dbb3287ca66e60555e9307](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)" to "".



---

archive/issue_comments_415174.json:
```json
{
    "body": "<a id='comment:44'></a>\nThis broke giac on some platforms: #27252",
    "created_at": "2019-02-10T17:28:39Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415174",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
This broke giac on some platforms: #27252



---

archive/issue_comments_415175.json:
```json
{
    "body": "<a id='comment:45'></a>\nI guess the question is, how would I *undo* this for  single package?  How can I revert `-std=gnu++11` at least when building giac?",
    "created_at": "2019-02-12T17:04:24Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415175",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'></a>
I guess the question is, how would I *undo* this for  single package?  How can I revert `-std=gnu++11` at least when building giac?



---

archive/issue_comments_415176.json:
```json
{
    "body": "<a id='comment:46'></a>\nThis broke building of gfan and lcalc on systems with gcc 4.9.3: #27422",
    "created_at": "2019-03-04T16:38:53Z",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415176",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:46'></a>
This broke building of gfan and lcalc on systems with gcc 4.9.3: #27422
