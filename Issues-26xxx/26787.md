# Issue 26787: Force C++11  as the C++ standard

archive/issues_026550.json:
```json
{
    "assignees": [],
    "body": "We should raise the standard of C++ used to compile Sage to C++11 minimum,\nacross all standard (and, in time, optional) packages.\n\nThis ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n\nCC:  @embray\n\nKeywords: **C++11**\n\nBranch: **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Fran\u00e7ois Bissey**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26787_\n\n",
    "closed_at": "2019-02-05T16:57:53Z",
    "created_at": "2018-11-29T01:51:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Force C++11  as the C++ standard",
    "type": "issue",
    "updated_at": "2019-03-04T16:38:53Z",
    "url": "https://github.com/sagemath/sage/issues/26787",
    "user": "https://github.com/kiwifb"
}
```
We should raise the standard of C++ used to compile Sage to C++11 minimum,
across all standard (and, in time, optional) packages.

This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.

CC:  @embray

Keywords: **C++11**

Branch: **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**

Reviewer: **Dima Pasechnik**

Author: **François Bissey**

_Issue created by migration from https://trac.sagemath.org/ticket/26787_





---

archive/issue_events_350033.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350033"
}
```



---

archive/issue_events_350034.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350034"
}
```



---

archive/issue_events_350035.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350035"
}
```



---

archive/issue_events_350036.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350036"
}
```



---

archive/issue_comments_415295.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nWhat do you mean? We already require a C++11 compiler.",
    "created_at": "2018-11-29T08:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415295",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:1'>Comment 1:</a>
What do you mean? We already require a C++11 compiler.



---

archive/issue_comments_415296.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nReplying to [@jdemeyer](#comment%3A1):\n> What do you mean? We already require a C++11 compiler.\n\nYeah but we don't enforce compilation with at least that standard - at least not everywhere. See #25532.",
    "created_at": "2018-11-29T08:32:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415296",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:2'>Comment 2:</a>
Replying to [@jdemeyer](#comment%3A1):
> What do you mean? We already require a C++11 compiler.

Yeah but we don't enforce compilation with at least that standard - at least not everywhere. See #25532.



---

archive/issue_comments_415297.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nReplying to [@kiwifb](#comment%3A2):\n> we don't enforce compilation with at least that standard\n\nWhy should Sage enforce C++11 for every package? I would leave that decision to each package individually.",
    "created_at": "2018-11-29T09:17:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415297",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:3'>Comment 3:</a>
Replying to [@kiwifb](#comment%3A2):
> we don't enforce compilation with at least that standard

Why should Sage enforce C++11 for every package? I would leave that decision to each package individually.



---

archive/issue_comments_415298.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nIndividual packages can over-ride if needed, but as a base we should have a standard that allows ABI compatibility between dependencies. I am talking to have sensible default out of the box for packages, and gnu++98 is not that anymore.\n\nWe shouldn't have to play whack-a-mole on a packages dependency just because it uses and enforce c++11 and your compiler doesn't default to at least that. Alternatively you raise the bar on the compiler to get to that default. Hint: default C++ ABI for most recent distro release is c++14. All the problems in #25532 is because some older distro have a compiler that is recent enough to compile sage but doesn't default to at least c++11.",
    "created_at": "2018-11-29T09:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415298",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'>Comment 4:</a>
Individual packages can over-ride if needed, but as a base we should have a standard that allows ABI compatibility between dependencies. I am talking to have sensible default out of the box for packages, and gnu++98 is not that anymore.

We shouldn't have to play whack-a-mole on a packages dependency just because it uses and enforce c++11 and your compiler doesn't default to at least that. Alternatively you raise the bar on the compiler to get to that default. Hint: default C++ ABI for most recent distro release is c++14. All the problems in #25532 is because some older distro have a compiler that is recent enough to compile sage but doesn't default to at least c++11.



---

archive/issue_comments_415299.json:
```json
{
    "body": "<a id='comment:5'>Comment 5:</a>\nOK, I see your point now...",
    "created_at": "2018-11-29T11:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415299",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:5'>Comment 5:</a>
OK, I see your point now...



---

archive/issue_comments_415300.json:
```json
{
    "body": "Changed keywords from **** to **C++11**",
    "created_at": "2018-11-29T12:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415300",
    "user": "https://github.com/slel"
}
```

Changed keywords from **** to **C++11**



---

archive/issue_comments_415301.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-We should raise the default standard of C++ used to compile sage to C++11 minimum across all standard (and in time) optional packages.\n+We should raise the default standard of C++ used to compile Sage to C++11 minimum,\n+across all standard (and, in time, optional) packages.\n``````\n",
    "created_at": "2018-11-29T12:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415301",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-We should raise the default standard of C++ used to compile sage to C++11 minimum across all standard (and in time) optional packages.
+We should raise the default standard of C++ used to compile Sage to C++11 minimum,
+across all standard (and, in time, optional) packages.
``````




---

archive/issue_comments_415302.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nI have started by updating some macros and I have come to hate one particular commit\nhttp://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8\n\nIn short, even if you compiler doesn't need a flag to compile c++11 code by default, it will be added nonetheless. Potentially lowering the standard applied (which may or may not be a bad thing).",
    "created_at": "2018-12-05T20:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415302",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:7'>Comment 7:</a>
I have started by updating some macros and I have come to hate one particular commit
http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8

In short, even if you compiler doesn't need a flag to compile c++11 code by default, it will be added nonetheless. Potentially lowering the standard applied (which may or may not be a bad thing).



---

archive/issue_events_350037.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350037"
}
```



---

archive/issue_events_350038.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350038"
}
```



---

archive/issue_events_350039.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350039"
}
```



---

archive/issue_comments_415303.json:
```json
{
    "body": "Commit: **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)**",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415303",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)**



---

archive/issue_comments_415304.json:
```json
{
    "body": "Branch: **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)**",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415304",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)**



---

archive/issue_comments_415305.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415305",
    "user": "https://github.com/kiwifb"
}
```

Author: **François Bissey**



---

archive/issue_comments_415306.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nThis should be enough.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030\">370c035</a></td><td><code>Update CXX macros and enforce c++11</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415306",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:8'>Comment 8:</a>
This should be enough.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030">370c035</a></td><td><code>Update CXX macros and enforce c++11</code></td></tr></table>




---

archive/issue_comments_415307.json:
```json
{
    "body": "Changed commit from **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)** to **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)**",
    "created_at": "2018-12-05T20:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415307",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)** to **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)**



---

archive/issue_comments_415308.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23\">d34ff33</a></td><td><code>Forgot to commit one change</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415308",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:9'>Comment 9:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23">d34ff33</a></td><td><code>Forgot to commit one change</code></td></tr></table>




---

archive/issue_comments_415309.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nThere is an associated clean up that should be done.",
    "created_at": "2018-12-05T20:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415309",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:10'>Comment 10:</a>
There is an associated clean up that should be done.



---

archive/issue_events_350040.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:47:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350040"
}
```



---

archive/issue_events_350041.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:47:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350041"
}
```



---

archive/issue_comments_415310.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b\">70f51d2</a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415310",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:11'>Comment 11:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b">70f51d2</a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr></table>




---

archive/issue_comments_415311.json:
```json
{
    "body": "Changed commit from **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)** to **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)**",
    "created_at": "2018-12-05T20:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415311",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)** to **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)**



---

archive/issue_events_350042.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:05:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350042"
}
```



---

archive/issue_events_350043.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:05:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350043"
}
```



---

archive/issue_comments_415312.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nA number of spkg added `-std=c++11` or `-std=gnu++11` in spkg-*. I removed most of these since by default gnu++11 will be selected. The only exception being `fplll` which enforce c++11 in configure but needs gnu++11 on cygwin. The addition was already redundant in brial since I made the latest version default to at least gnu++11 upstream.\n\nThere is also a makefile patch in frobby which I decided not to touch. I'd rather someone interested in the optional frobby package to update the patch next time it needs touching.\n\nIt will need testing on cygwin in particular.",
    "created_at": "2018-12-05T21:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415312",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'>Comment 12:</a>
A number of spkg added `-std=c++11` or `-std=gnu++11` in spkg-*. I removed most of these since by default gnu++11 will be selected. The only exception being `fplll` which enforce c++11 in configure but needs gnu++11 on cygwin. The addition was already redundant in brial since I made the latest version default to at least gnu++11 upstream.

There is also a makefile patch in frobby which I decided not to touch. I'd rather someone interested in the optional frobby package to update the patch next time it needs touching.

It will need testing on cygwin in particular.



---

archive/issue_comments_415313.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nI'm a bit lost what this ticket does. I know that I already asked, but I still don't quite understand.",
    "created_at": "2019-01-06T17:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415313",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:13'>Comment 13:</a>
I'm a bit lost what this ticket does. I know that I already asked, but I still don't quite understand.



---

archive/issue_events_350044.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-06T17:26:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350044"
}
```



---

archive/issue_events_350045.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-06T17:26:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350045"
}
```



---

archive/issue_events_350046.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-10T13:55:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350046"
}
```



---

archive/issue_events_350047.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-10T13:55:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350047"
}
```



---

archive/issue_comments_415314.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\nI think you knew, but forgot - it's needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.",
    "created_at": "2019-01-11T14:14:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415314",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:15'>Comment 15:</a>
I think you knew, but forgot - it's needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.



---

archive/issue_comments_415315.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nSo does the word \"default\" in the ticket title and description have any meaning? Maybe that's part what is confusing me.",
    "created_at": "2019-01-11T14:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415315",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'>Comment 16:</a>
So does the word "default" in the ticket title and description have any meaning? Maybe that's part what is confusing me.



---

archive/issue_comments_415316.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nNote that different versions of C++ compilers have differently set default values of the `std` parameter. And so it must be enforced in global `CXXFLAGS`. Does the changed title make more sense to you?",
    "created_at": "2019-01-11T14:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415316",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:17'>Comment 17:</a>
Note that different versions of C++ compilers have differently set default values of the `std` parameter. And so it must be enforced in global `CXXFLAGS`. Does the changed title make more sense to you?



---

archive/issue_events_350048.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "title_is": "Force C++11  as the C++ standard",
    "title_was": "Use C++11 at least as default C++ standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350048"
}
```



---

archive/issue_events_350049.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350049"
}
```



---

archive/issue_events_350050.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350050"
}
```



---

archive/issue_events_350051.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350051"
}
```



---

archive/issue_events_350052.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:48:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350052"
}
```



---

archive/issue_comments_415317.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n-We should raise the default standard of C++ used to compile Sage to C++11 minimum,\n+We should raise the standard of C++ used to compile Sage to C++11 minimum,\n across all standard (and, in time, optional) packages.\n+\n+This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n``````\n",
    "created_at": "2019-01-11T15:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415317",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
-We should raise the default standard of C++ used to compile Sage to C++11 minimum,
+We should raise the standard of C++ used to compile Sage to C++11 minimum,
 across all standard (and, in time, optional) packages.
+
+This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
``````




---

archive/issue_events_350053.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T15:33:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350053"
}
```



---

archive/issue_events_350054.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T15:33:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350054"
}
```



---

archive/issue_comments_415318.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nI still don't see how the ticket title and Dima's explanation corresponds to the actual branch. The branch is *removing* C++11 stuff.",
    "created_at": "2019-01-11T15:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415318",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'>Comment 20:</a>
I still don't see how the ticket title and Dima's explanation corresponds to the actual branch. The branch is *removing* C++11 stuff.



---

archive/issue_comments_415319.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\nNo, it's removing per-package C++ flags and replacing them with the globally set stuff.",
    "created_at": "2019-01-11T15:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415319",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:21'>Comment 21:</a>
No, it's removing per-package C++ flags and replacing them with the globally set stuff.



---

archive/issue_comments_415320.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n We should raise the standard of C++ used to compile Sage to C++11 minimum,\n across all standard (and, in time, optional) packages.\n \n-This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n+This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n``````\n",
    "created_at": "2019-01-12T22:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415320",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 We should raise the standard of C++ used to compile Sage to C++11 minimum,
 across all standard (and, in time, optional) packages.
 
-This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
+This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
``````




---

archive/issue_comments_415321.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nI am sorry I am not more responsive across the board. I am on summer holydays after all :)\n\nI'll rebase and check things over once 8.6 is released - no way we'll get that in now.",
    "created_at": "2019-01-12T22:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415321",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:23'>Comment 23:</a>
I am sorry I am not more responsive across the board. I am on summer holydays after all :)

I'll rebase and check things over once 8.6 is released - no way we'll get that in now.



---

archive/issue_comments_415322.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415322",
    "user": "https://github.com/embray"
}
```

<a id='comment:24'>Comment 24:</a>
Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_350055.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350055"
}
```



---

archive/issue_events_350056.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350056"
}
```



---

archive/issue_comments_415323.json:
```json
{
    "body": "Changed commit from **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**",
    "created_at": "2019-01-27T02:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415323",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**



---

archive/issue_comments_415324.json:
```json
{
    "body": "<a id='comment:25'>Comment 25:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307\">71f526e</a></td><td><code>Merge branch 'develop' into cpp11</code></td></tr></table>\n",
    "created_at": "2019-01-27T02:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415324",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:25'>Comment 25:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307">71f526e</a></td><td><code>Merge branch 'develop' into cpp11</code></td></tr></table>




---

archive/issue_comments_415325.json:
```json
{
    "body": "<a id='comment:26'>Comment 26:</a>\nRebased.",
    "created_at": "2019-01-27T02:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415325",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:26'>Comment 26:</a>
Rebased.



---

archive/issue_events_350057.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-01-27T02:40:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350057"
}
```



---

archive/issue_events_350058.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-01-27T02:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350058"
}
```



---

archive/issue_comments_415326.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nIn the context of this ticket, I'd like to recall the difference between \n`BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?",
    "created_at": "2019-01-27T06:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415326",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:27'>Comment 27:</a>
In the context of this ticket, I'd like to recall the difference between 
`BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?



---

archive/issue_comments_415327.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nReplying to [@dimpase](#comment%3A27):\n> In the context of this ticket, I'd like to recall the difference between \n> `BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?\n\nI must say I cannot think of a functional difference on top of my head, but that doesn't mean there isn't any. I usually prefer `./configure BLAH=foo ...` because then `BLAH=foo ...` is recorded in `config.log`. While in the other form it isn't. That can make debugging unpleasant when all you are given is `config.log`.",
    "created_at": "2019-01-27T09:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415327",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:28'>Comment 28:</a>
Replying to [@dimpase](#comment%3A27):
> In the context of this ticket, I'd like to recall the difference between 
> `BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?

I must say I cannot think of a functional difference on top of my head, but that doesn't mean there isn't any. I usually prefer `./configure BLAH=foo ...` because then `BLAH=foo ...` is recorded in `config.log`. While in the other form it isn't. That can make debugging unpleasant when all you are given is `config.log`.



---

archive/issue_comments_415328.json:
```json
{
    "body": "<a id='comment:29'>Comment 29:</a>\nNow I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.\n\n* in `BLAH=foo ./configure ` you set an environment to run configure.\n* in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.\n\nIn the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.",
    "created_at": "2019-01-27T10:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415328",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:29'>Comment 29:</a>
Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.

* in `BLAH=foo ./configure ` you set an environment to run configure.
* in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.

In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.



---

archive/issue_comments_415329.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nReplying to [@kiwifb](#comment%3A29):\n> Now I remember why you ask the question. You had a problem with a non autoconf configure script.\n\nYes, that was exactly the thing. (The case in hand was probably flint or mpir, I don't quite recall now).",
    "created_at": "2019-01-27T10:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415329",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:30'>Comment 30:</a>
Replying to [@kiwifb](#comment%3A29):
> Now I remember why you ask the question. You had a problem with a non autoconf configure script.

Yes, that was exactly the thing. (The case in hand was probably flint or mpir, I don't quite recall now).



---

archive/issue_comments_415330.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nReplying to [@kiwifb](#comment%3A29):\n> Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.\n> \n> * in `BLAH=foo ./configure ` you set an environment to run configure.\n> * in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.\n> \n> In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.\n\nThere is also a question what actually happens to `BLAH=foo`  after the `./configure` run.\nFor some of variables such as `BLAH` the values provided \nare getting stored somewhere, e.g. for `FC` and `CC`.\nIs there a list of such stored variables anywhere? E.g. would `FFLAGS` value be stored somewhere?",
    "created_at": "2019-01-28T11:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415330",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:31'>Comment 31:</a>
Replying to [@kiwifb](#comment%3A29):
> Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.
> 
> * in `BLAH=foo ./configure ` you set an environment to run configure.
> * in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.
> 
> In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.

There is also a question what actually happens to `BLAH=foo`  after the `./configure` run.
For some of variables such as `BLAH` the values provided 
are getting stored somewhere, e.g. for `FC` and `CC`.
Is there a list of such stored variables anywhere? E.g. would `FFLAGS` value be stored somewhere?



---

archive/issue_comments_415331.json:
```json
{
    "body": "<a id='comment:32'>Comment 32:</a>\nSome of the values from configuration, like compilers are saved in `sage-env-config`. The rest are not preserved in any way. For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example. There is another ticket somewhere about preserving most of `SAGE_*` and other variable set at configure time in `sage-env-config` but this is not this ticket.",
    "created_at": "2019-01-28T19:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415331",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:32'>Comment 32:</a>
Some of the values from configuration, like compilers are saved in `sage-env-config`. The rest are not preserved in any way. For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example. There is another ticket somewhere about preserving most of `SAGE_*` and other variable set at configure time in `sage-env-config` but this is not this ticket.



---

archive/issue_comments_415332.json:
```json
{
    "body": "<a id='comment:33'>Comment 33:</a>\nReplying to [@kiwifb](#comment%3A32):\n> For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\nI think that this is finally the explanation that I asked for.\n\nBut that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?",
    "created_at": "2019-01-29T13:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415332",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:33'>Comment 33:</a>
Replying to [@kiwifb](#comment%3A32):
> For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

I think that this is finally the explanation that I asked for.

But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?



---

archive/issue_comments_415333.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nReplying to [@jdemeyer](#comment%3A33):\n> Replying to [@kiwifb](#comment%3A32):\n> > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\n> \n> I think that this is finally the explanation that I asked for.\n> \n> But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?\n\nI think that this branch puts stuff in CXXFLAGS, not in CXX.",
    "created_at": "2019-01-29T13:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415333",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:34'>Comment 34:</a>
Replying to [@jdemeyer](#comment%3A33):
> Replying to [@kiwifb](#comment%3A32):
> > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

> 
> I think that this is finally the explanation that I asked for.
> 
> But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?

I think that this branch puts stuff in CXXFLAGS, not in CXX.



---

archive/issue_comments_415334.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nReplying to [@dimpase](#comment%3A34):\n> Replying to [@jdemeyer](#comment%3A33):\n> > Replying to [@kiwifb](#comment%3A32):\n> > > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\n> > \n> > I think that this is finally the explanation that I asked for.\n> > \n> > But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?\n\nBy putting it in `CXX` you make your compiler c++11 compliant whether it is called with `CXXFLAGS` (as you should) or not.\n\n> \n> I think that this branch puts stuff in CXXFLAGS, not in CXX.\n\nThen the documentation at https://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx.html would be wrong. And I don't believe that's the case.",
    "created_at": "2019-01-29T18:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415334",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:35'>Comment 35:</a>
Replying to [@dimpase](#comment%3A34):
> Replying to [@jdemeyer](#comment%3A33):
> > Replying to [@kiwifb](#comment%3A32):
> > > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

> > 
> > I think that this is finally the explanation that I asked for.
> > 
> > But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?

By putting it in `CXX` you make your compiler c++11 compliant whether it is called with `CXXFLAGS` (as you should) or not.

> 
> I think that this branch puts stuff in CXXFLAGS, not in CXX.

Then the documentation at https://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx.html would be wrong. And I don't believe that's the case.



---

archive/issue_comments_415335.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nYou are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...",
    "created_at": "2019-01-30T16:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415335",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:36'>Comment 36:</a>
You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...



---

archive/issue_comments_415336.json:
```json
{
    "body": "<a id='comment:37'>Comment 37:</a>\nReplying to [@dimpase](#comment%3A36):\n> You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...\n\nHum, I can't do it right now (location and timing). Can you try install `boost` (and not `boost_cropped`) with it?",
    "created_at": "2019-01-30T18:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415336",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:37'>Comment 37:</a>
Replying to [@dimpase](#comment%3A36):
> You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...

Hum, I can't do it right now (location and timing). Can you try install `boost` (and not `boost_cropped`) with it?



---

archive/issue_comments_415337.json:
```json
{
    "body": "<a id='comment:38'>Comment 38:</a>\nWell building boost was no problem. I do some parsing in there. The patch bot seems relatively happy. Any more questions?",
    "created_at": "2019-02-04T00:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415337",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:38'>Comment 38:</a>
Well building boost was no problem. I do some parsing in there. The patch bot seems relatively happy. Any more questions?



---

archive/issue_comments_415338.json:
```json
{
    "body": "<a id='comment:39'>Comment 39:</a>\nDo I get it right that one might not see an explicit `-std=` in the logs, it depends upon the compiler being old enough for these to show up?",
    "created_at": "2019-02-04T01:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415338",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:39'>Comment 39:</a>
Do I get it right that one might not see an explicit `-std=` in the logs, it depends upon the compiler being old enough for these to show up?



---

archive/issue_comments_415339.json:
```json
{
    "body": "<a id='comment:40'>Comment 40:</a>\nIt used to be the case, but I believe that with the macro I put in this ticket it should always be there. Which is annoying because my intent was ensuring a minimum standard but with the macro at hand it become the standard used not a minimum one. See http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8",
    "created_at": "2019-02-04T01:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415339",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:40'>Comment 40:</a>
It used to be the case, but I believe that with the macro I put in this ticket it should always be there. Which is annoying because my intent was ensuring a minimum standard but with the macro at hand it become the standard used not a minimum one. See http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8



---

archive/issue_comments_415340.json:
```json
{
    "body": "<a id='comment:41'>Comment 41:</a>\nFor info `sage-env-config` with gcc-8.2.0\n\n```\n# -*- shell-script -*-\n\n###########################################################################\n#\n#  Set some environment variables for Sage.\n#  This file is generated from sage-env-config.in by configure.\n#\n#  NOTES:\n#  - You must *source* this script instead of executing.\n#  - Use \"return\" instead of \"exit\" to signal a failure.  Since this\n#    file is sourced, an \"exit\" here will actually exit src/bin/sage,\n#    which is probably not intended.\n#  - All environment variables set here should be *exported*, otherwise\n#    they won't be available in child programs.\n#\n##########################################################################\n\n# SAGE_LOCAL is the installation prefix and can be customized by using\n# ./configure --prefix\nexport SAGE_LOCAL=\"/home/fbissey/sandbox/git-fork/sage/local\"\n\n#######################################\n# Compilers set at configuration time\n#######################################\nexport CONFIGURED_CC=\"gcc\"\nexport CONFIGURED_CXX=\"g++ -std=gnu++11\"\nexport CONFIGURED_FC=\"gfortran\"\nexport CONFIGURED_OBJC=\"gcc\"\nexport CONFIGURED_OBJCXX=\"g++\"\n\n#######################################\n# Other configuration\n#######################################\nexport SAGE_PYTHON_VERSION=2\nif [ \"$SAGE_PYTHON_VERSION\" = 3 ]; then\n    export SAGE_PYTHON3=yes\nfi\n```\nAs you can see even though my compiler default to gnu++14, `-std=gnu++11` is added.",
    "created_at": "2019-02-04T01:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415340",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:41'>Comment 41:</a>
For info `sage-env-config` with gcc-8.2.0

```
# -*- shell-script -*-

###########################################################################
#
#  Set some environment variables for Sage.
#  This file is generated from sage-env-config.in by configure.
#
#  NOTES:
#  - You must *source* this script instead of executing.
#  - Use "return" instead of "exit" to signal a failure.  Since this
#    file is sourced, an "exit" here will actually exit src/bin/sage,
#    which is probably not intended.
#  - All environment variables set here should be *exported*, otherwise
#    they won't be available in child programs.
#
##########################################################################

# SAGE_LOCAL is the installation prefix and can be customized by using
# ./configure --prefix
export SAGE_LOCAL="/home/fbissey/sandbox/git-fork/sage/local"

#######################################
# Compilers set at configuration time
#######################################
export CONFIGURED_CC="gcc"
export CONFIGURED_CXX="g++ -std=gnu++11"
export CONFIGURED_FC="gfortran"
export CONFIGURED_OBJC="gcc"
export CONFIGURED_OBJCXX="g++"

#######################################
# Other configuration
#######################################
export SAGE_PYTHON_VERSION=2
if [ "$SAGE_PYTHON_VERSION" = 3 ]; then
    export SAGE_PYTHON3=yes
fi
```
As you can see even though my compiler default to gnu++14, `-std=gnu++11` is added.



---

archive/issue_comments_415341.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nlooks good to me, also checked with clang 6.0.1 on FreeBSD.",
    "created_at": "2019-02-04T02:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415341",
    "user": "https://github.com/dimpase"
}
```

<a id='comment:42'>Comment 42:</a>
looks good to me, also checked with clang 6.0.1 on FreeBSD.



---

archive/issue_comments_415342.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2019-02-04T02:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415342",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_350059.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-04T02:50:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350059"
}
```



---

archive/issue_events_350060.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-04T02:50:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350060"
}
```



---

archive/issue_events_350061.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-05T16:57:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350061"
}
```



---

archive/issue_events_350062.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3f39df0203441798674c15e6e66305ab4384a990",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-02-05T16:57:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-350062"
}
```



---

archive/issue_comments_415343.json:
```json
{
    "body": "Changed branch from **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**",
    "created_at": "2019-02-05T16:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415343",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**



---

archive/issue_comments_415344.json:
```json
{
    "body": "Changed commit from **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)** to none",
    "created_at": "2019-02-10T17:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415344",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)** to none



---

archive/issue_comments_415345.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nThis broke giac on some platforms: #27252",
    "created_at": "2019-02-10T17:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415345",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'>Comment 44:</a>
This broke giac on some platforms: #27252



---

archive/issue_comments_415346.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nI guess the question is, how would I *undo* this for  single package?  How can I revert `-std=gnu++11` at least when building giac?",
    "created_at": "2019-02-12T17:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415346",
    "user": "https://github.com/embray"
}
```

<a id='comment:45'>Comment 45:</a>
I guess the question is, how would I *undo* this for  single package?  How can I revert `-std=gnu++11` at least when building giac?



---

archive/issue_comments_415347.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nThis broke building of gfan and lcalc on systems with gcc 4.9.3: #27422",
    "created_at": "2019-03-04T16:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-415347",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:46'>Comment 46:</a>
This broke building of gfan and lcalc on systems with gcc 4.9.3: #27422
