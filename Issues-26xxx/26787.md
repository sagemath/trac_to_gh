# Issue 26787: Force C++11  as the C++ standard

archive/issues_026550.json:
```json
{
    "assignees": [],
    "body": "We should raise the standard of C++ used to compile Sage to C++11 minimum,\nacross all standard (and, in time, optional) packages.\n\nThis ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n\nCC:  @embray\n\nKeywords: **C++11**\n\nBranch: **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**\n\nReviewer: **Dima Pasechnik**\n\nAuthor: **Fran\u00e7ois Bissey**\n\nComponent: **build**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26787_\n\n",
    "closed_at": "2019-02-05T16:57:53Z",
    "created_at": "2018-11-29T01:51:13Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20build",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.7",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Force C++11  as the C++ standard",
    "type": "issue",
    "updated_at": "2019-03-04T16:38:53Z",
    "url": "https://github.com/sagemath/sage/issues/26787",
    "user": "https://github.com/kiwifb"
}
```
We should raise the standard of C++ used to compile Sage to C++11 minimum,
across all standard (and, in time, optional) packages.

This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.

CC:  @embray

Keywords: **C++11**

Branch: **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**

Reviewer: **Dima Pasechnik**

Author: **Fran√ßois Bissey**

Component: **build**

_Issue created by migration from https://trac.sagemath.org/ticket/26787_





---

archive/issue_events_368167.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20build",
    "label_color": "000080",
    "label_name": "c: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368167"
}
```



---

archive/issue_events_368168.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368168"
}
```



---

archive/issue_events_368169.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368169"
}
```



---

archive/issue_events_368170.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-11-29T01:51:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368170"
}
```



---

archive/issue_comments_412522.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nWhat do you mean? We already require a C++11 compiler.",
    "created_at": "2018-11-29T08:31:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412522",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:1" align="right">comment:1</div>

What do you mean? We already require a C++11 compiler.



---

archive/issue_comments_412523.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nReplying to [@jdemeyer](#comment:1):\n> What do you mean? We already require a C++11 compiler.\n\nYeah but we don't enforce compilation with at least that standard - at least not everywhere. See #25532.",
    "created_at": "2018-11-29T08:32:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412523",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:2" align="right">comment:2</div>

Replying to [@jdemeyer](#comment:1):
> What do you mean? We already require a C++11 compiler.

Yeah but we don't enforce compilation with at least that standard - at least not everywhere. See #25532.



---

archive/issue_comments_412524.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@kiwifb](#comment:2):\n> we don't enforce compilation with at least that standard\n\nWhy should Sage enforce C++11 for every package? I would leave that decision to each package individually.",
    "created_at": "2018-11-29T09:17:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412524",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@kiwifb](#comment:2):
> we don't enforce compilation with at least that standard

Why should Sage enforce C++11 for every package? I would leave that decision to each package individually.



---

archive/issue_comments_412525.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIndividual packages can over-ride if needed, but as a base we should have a standard that allows ABI compatibility between dependencies. I am talking to have sensible default out of the box for packages, and gnu++98 is not that anymore.\n\nWe shouldn't have to play whack-a-mole on a packages dependency just because it uses and enforce c++11 and your compiler doesn't default to at least that. Alternatively you raise the bar on the compiler to get to that default. Hint: default C++ ABI for most recent distro release is c++14. All the problems in #25532 is because some older distro have a compiler that is recent enough to compile sage but doesn't default to at least c++11.",
    "created_at": "2018-11-29T09:28:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412525",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:4" align="right">comment:4</div>

Individual packages can over-ride if needed, but as a base we should have a standard that allows ABI compatibility between dependencies. I am talking to have sensible default out of the box for packages, and gnu++98 is not that anymore.

We shouldn't have to play whack-a-mole on a packages dependency just because it uses and enforce c++11 and your compiler doesn't default to at least that. Alternatively you raise the bar on the compiler to get to that default. Hint: default C++ ABI for most recent distro release is c++14. All the problems in #25532 is because some older distro have a compiler that is recent enough to compile sage but doesn't default to at least c++11.



---

archive/issue_comments_412526.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nOK, I see your point now...",
    "created_at": "2018-11-29T11:20:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412526",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:5" align="right">comment:5</div>

OK, I see your point now...



---

archive/issue_comments_412527.json:
```json
{
    "body": "Changed keywords from none to **C++11**",
    "created_at": "2018-11-29T12:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412527",
    "user": "https://github.com/slel"
}
```

Changed keywords from none to **C++11**



---

archive/issue_comments_412528.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,2 @@\n-We should raise the default standard of C++ used to compile sage to C++11 minimum across all standard (and in time) optional packages.\n+We should raise the default standard of C++ used to compile Sage to C++11 minimum,\n+across all standard (and, in time, optional) packages.\n``````\n",
    "created_at": "2018-11-29T12:47:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412528",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,2 @@
-We should raise the default standard of C++ used to compile sage to C++11 minimum across all standard (and in time) optional packages.
+We should raise the default standard of C++ used to compile Sage to C++11 minimum,
+across all standard (and, in time, optional) packages.
``````




---

archive/issue_comments_412529.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI have started by updating some macros and I have come to hate one particular commit\nhttp://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8\n\nIn short, even if you compiler doesn't need a flag to compile c++11 code by default, it will be added nonetheless. Potentially lowering the standard applied (which may or may not be a bad thing).",
    "created_at": "2018-12-05T20:08:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412529",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:7" align="right">comment:7</div>

I have started by updating some macros and I have come to hate one particular commit
http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8

In short, even if you compiler doesn't need a flag to compile c++11 code by default, it will be added nonetheless. Potentially lowering the standard applied (which may or may not be a bad thing).



---

archive/issue_events_368171.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368171"
}
```



---

archive/issue_events_368172.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368172"
}
```



---

archive/issue_events_368173.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:38:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368173"
}
```



---

archive/issue_comments_412530.json:
```json
{
    "body": "Commit: **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)**",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412530",
    "user": "https://github.com/kiwifb"
}
```

Commit: **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)**



---

archive/issue_comments_412531.json:
```json
{
    "body": "Branch: **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)**",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412531",
    "user": "https://github.com/kiwifb"
}
```

Branch: **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)**



---

archive/issue_comments_412532.json:
```json
{
    "body": "Author: **Fran\u00e7ois Bissey**",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412532",
    "user": "https://github.com/kiwifb"
}
```

Author: **Fran√ßois Bissey**



---

archive/issue_comments_412533.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThis should be enough.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030\">370c035</a></td><td><code>Update CXX macros and enforce c++11</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412533",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:8" align="right">comment:8</div>

This should be enough.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030">370c035</a></td><td><code>Update CXX macros and enforce c++11</code></td></tr></table>




---

archive/issue_comments_412534.json:
```json
{
    "body": "Changed commit from **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)** to **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)**",
    "created_at": "2018-12-05T20:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412534",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[370c035](https://github.com/sagemath/sagetrac-mirror/commit/370c03505f290f068def45177e7b753561a42030)** to **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)**



---

archive/issue_comments_412535.json:
```json
{
    "body": "<div id=\"comment:9\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23\">d34ff33</a></td><td><code>Forgot to commit one change</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:40:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412535",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:9"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23">d34ff33</a></td><td><code>Forgot to commit one change</code></td></tr></table>




---

archive/issue_comments_412536.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThere is an associated clean up that should be done.",
    "created_at": "2018-12-05T20:47:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412536",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:10" align="right">comment:10</div>

There is an associated clean up that should be done.



---

archive/issue_events_368174.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:47:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368174"
}
```



---

archive/issue_events_368175.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T20:47:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368175"
}
```



---

archive/issue_comments_412537.json:
```json
{
    "body": "<div id=\"comment:11\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b\">70f51d2</a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr></table>\n",
    "created_at": "2018-12-05T20:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412537",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:11"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b">70f51d2</a></td><td><code>remove c++11 enforcement in spkg in most cases</code></td></tr></table>




---

archive/issue_comments_412538.json:
```json
{
    "body": "Changed commit from **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)** to **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)**",
    "created_at": "2018-12-05T20:57:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412538",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[d34ff33](https://github.com/sagemath/sagetrac-mirror/commit/d34ff33ba2fafb7765417011b4c4a89ef629db23)** to **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)**



---

archive/issue_events_368176.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:05:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368176"
}
```



---

archive/issue_events_368177.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2018-12-05T21:05:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368177"
}
```



---

archive/issue_comments_412539.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nA number of spkg added `-std=c++11` or `-std=gnu++11` in spkg-*. I removed most of these since by default gnu++11 will be selected. The only exception being `fplll` which enforce c++11 in configure but needs gnu++11 on cygwin. The addition was already redundant in brial since I made the latest version default to at least gnu++11 upstream.\n\nThere is also a makefile patch in frobby which I decided not to touch. I'd rather someone interested in the optional frobby package to update the patch next time it needs touching.\n\nIt will need testing on cygwin in particular.",
    "created_at": "2018-12-05T21:05:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412539",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:12" align="right">comment:12</div>

A number of spkg added `-std=c++11` or `-std=gnu++11` in spkg-*. I removed most of these since by default gnu++11 will be selected. The only exception being `fplll` which enforce c++11 in configure but needs gnu++11 on cygwin. The addition was already redundant in brial since I made the latest version default to at least gnu++11 upstream.

There is also a makefile patch in frobby which I decided not to touch. I'd rather someone interested in the optional frobby package to update the patch next time it needs touching.

It will need testing on cygwin in particular.



---

archive/issue_comments_412540.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI'm a bit lost what this ticket does. I know that I already asked, but I still don't quite understand.",
    "created_at": "2019-01-06T17:26:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412540",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:13" align="right">comment:13</div>

I'm a bit lost what this ticket does. I know that I already asked, but I still don't quite understand.



---

archive/issue_events_368178.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-06T17:26:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368178"
}
```



---

archive/issue_events_368179.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-06T17:26:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368179"
}
```



---

archive/issue_events_368180.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-10T13:55:42Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368180"
}
```



---

archive/issue_events_368181.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-10T13:55:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368181"
}
```



---

archive/issue_comments_412541.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI think you knew, but forgot - it's needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.",
    "created_at": "2019-01-11T14:14:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412541",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:15" align="right">comment:15</div>

I think you knew, but forgot - it's needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.



---

archive/issue_comments_412542.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nSo does the word \"default\" in the ticket title and description have any meaning? Maybe that's part what is confusing me.",
    "created_at": "2019-01-11T14:42:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412542",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:16" align="right">comment:16</div>

So does the word "default" in the ticket title and description have any meaning? Maybe that's part what is confusing me.



---

archive/issue_comments_412543.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nNote that different versions of C++ compilers have differently set default values of the `std` parameter. And so it must be enforced in global `CXXFLAGS`. Does the changed title make more sense to you?",
    "created_at": "2019-01-11T14:47:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412543",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:17" align="right">comment:17</div>

Note that different versions of C++ compilers have differently set default values of the `std` parameter. And so it must be enforced in global `CXXFLAGS`. Does the changed title make more sense to you?



---

archive/issue_events_368182.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "title_is": "Force C++11  as the C++ standard",
    "title_was": "Use C++11 at least as default C++ standard",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368182"
}
```



---

archive/issue_events_368183.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368183"
}
```



---

archive/issue_events_368184.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:47:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/pending",
    "label_color": "008080",
    "label_name": "pending",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368184"
}
```



---

archive/issue_events_368185.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368185"
}
```



---

archive/issue_events_368186.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-11T14:48:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368186"
}
```



---

archive/issue_comments_412544.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,2 +1,4 @@\n-We should raise the default standard of C++ used to compile Sage to C++11 minimum,\n+We should raise the standard of C++ used to compile Sage to C++11 minimum,\n across all standard (and, in time, optional) packages.\n+\n+This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n``````\n",
    "created_at": "2019-01-11T15:31:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412544",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,2 +1,4 @@
-We should raise the default standard of C++ used to compile Sage to C++11 minimum,
+We should raise the standard of C++ used to compile Sage to C++11 minimum,
 across all standard (and, in time, optional) packages.
+
+This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
``````




---

archive/issue_events_368187.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T15:33:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368187"
}
```



---

archive/issue_events_368188.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2019-01-11T15:33:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368188"
}
```



---

archive/issue_comments_412545.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI still don't see how the ticket title and Dima's explanation corresponds to the actual branch. The branch is *removing* C++11 stuff.",
    "created_at": "2019-01-11T15:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412545",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:20" align="right">comment:20</div>

I still don't see how the ticket title and Dima's explanation corresponds to the actual branch. The branch is *removing* C++11 stuff.



---

archive/issue_comments_412546.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nNo, it's removing per-package C++ flags and replacing them with the globally set stuff.",
    "created_at": "2019-01-11T15:35:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412546",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:21" align="right">comment:21</div>

No, it's removing per-package C++ flags and replacing them with the globally set stuff.



---

archive/issue_comments_412547.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,4 +1,4 @@\n We should raise the standard of C++ used to compile Sage to C++11 minimum,\n across all standard (and, in time, optional) packages.\n \n-This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n+This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.\n``````\n",
    "created_at": "2019-01-12T22:12:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412547",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,4 +1,4 @@
 We should raise the standard of C++ used to compile Sage to C++11 minimum,
 across all standard (and, in time, optional) packages.
 
-This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
+This ticket is removing per-package C++ flags and replacing them with the globally set stuff. This is needed to stop package-wise bikeshedding on C++ versions, to make sure not accidentally incompatible C++ ABIs are created.
``````




---

archive/issue_comments_412548.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nI am sorry I am not more responsive across the board. I am on summer holydays after all :)\n\nI'll rebase and check things over once 8.6 is released - no way we'll get that in now.",
    "created_at": "2019-01-12T22:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412548",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:23" align="right">comment:23</div>

I am sorry I am not more responsive across the board. I am on summer holydays after all :)

I'll rebase and check things over once 8.6 is released - no way we'll get that in now.



---

archive/issue_comments_412549.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nRetarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:15:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412549",
    "user": "https://github.com/embray"
}
```

<div id="comment:24" align="right">comment:24</div>

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_events_368189.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368189"
}
```



---

archive/issue_events_368190.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:15:21Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "milestone_number": null,
    "milestone_title": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368190"
}
```



---

archive/issue_comments_412550.json:
```json
{
    "body": "Changed commit from **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**",
    "created_at": "2019-01-27T02:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412550",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[70f51d2](https://github.com/sagemath/sagetrac-mirror/commit/70f51d29a67f6db87b79ccec966a829f5365cf9b)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**



---

archive/issue_comments_412551.json:
```json
{
    "body": "<div id=\"comment:25\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307\">71f526e</a></td><td><code>Merge branch 'develop' into cpp11</code></td></tr></table>\n",
    "created_at": "2019-01-27T02:39:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412551",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:25"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307">71f526e</a></td><td><code>Merge branch 'develop' into cpp11</code></td></tr></table>




---

archive/issue_comments_412552.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nRebased.",
    "created_at": "2019-01-27T02:40:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412552",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:26" align="right">comment:26</div>

Rebased.



---

archive/issue_events_368191.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-01-27T02:40:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368191"
}
```



---

archive/issue_events_368192.json:
```json
{
    "actor": "https://github.com/kiwifb",
    "created_at": "2019-01-27T02:40:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368192"
}
```



---

archive/issue_comments_412553.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nIn the context of this ticket, I'd like to recall the difference between \n`BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?",
    "created_at": "2019-01-27T06:53:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412553",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:27" align="right">comment:27</div>

In the context of this ticket, I'd like to recall the difference between 
`BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?



---

archive/issue_comments_412554.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@dimpase](#comment:27):\n> In the context of this ticket, I'd like to recall the difference between \n> `BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?\n\nI must say I cannot think of a functional difference on top of my head, but that doesn't mean there isn't any. I usually prefer `./configure BLAH=foo ...` because then `BLAH=foo ...` is recorded in `config.log`. While in the other form it isn't. That can make debugging unpleasant when all you are given is `config.log`.",
    "created_at": "2019-01-27T09:51:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412554",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@dimpase](#comment:27):
> In the context of this ticket, I'd like to recall the difference between 
> `BLAH=foo ./configure ...` and `./configure BLAH=foo ...`. Could you remind me please?

I must say I cannot think of a functional difference on top of my head, but that doesn't mean there isn't any. I usually prefer `./configure BLAH=foo ...` because then `BLAH=foo ...` is recorded in `config.log`. While in the other form it isn't. That can make debugging unpleasant when all you are given is `config.log`.



---

archive/issue_comments_412555.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nNow I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.\n\n* in `BLAH=foo ./configure ` you set an environment to run configure.\n* in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.\n\nIn the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.",
    "created_at": "2019-01-27T10:07:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412555",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:29" align="right">comment:29</div>

Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.

* in `BLAH=foo ./configure ` you set an environment to run configure.
* in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.

In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.



---

archive/issue_comments_412556.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nReplying to [@kiwifb](#comment:29):\n> Now I remember why you ask the question. You had a problem with a non autoconf configure script.\n\nYes, that was exactly the thing. (The case in hand was probably flint or mpir, I don't quite recall now).",
    "created_at": "2019-01-27T10:17:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412556",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:30" align="right">comment:30</div>

Replying to [@kiwifb](#comment:29):
> Now I remember why you ask the question. You had a problem with a non autoconf configure script.

Yes, that was exactly the thing. (The case in hand was probably flint or mpir, I don't quite recall now).



---

archive/issue_comments_412557.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nReplying to [@kiwifb](#comment:29):\n> Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.\n> \n> * in `BLAH=foo ./configure ` you set an environment to run configure.\n> * in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.\n> \n> In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.\n\nThere is also a question what actually happens to `BLAH=foo`  after the `./configure` run.\nFor some of variables such as `BLAH` the values provided \nare getting stored somewhere, e.g. for `FC` and `CC`.\nIs there a list of such stored variables anywhere? E.g. would `FFLAGS` value be stored somewhere?",
    "created_at": "2019-01-28T11:35:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412557",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:31" align="right">comment:31</div>

Replying to [@kiwifb](#comment:29):
> Now I remember why you ask the question. You had a problem with a non autoconf configure script. Anyway there is one important difference.
> 
> * in `BLAH=foo ./configure ` you set an environment to run configure.
> * in `./configure BLAH=foo ...` `BLAH=foo ...` becomes an argument to configure. Which is why is it is recorded.
> 
> In the case you had `BLAH=foo` was actually parsed as a configuration option by the script and because it was a configuration option, prepending it didn't work.

There is also a question what actually happens to `BLAH=foo`  after the `./configure` run.
For some of variables such as `BLAH` the values provided 
are getting stored somewhere, e.g. for `FC` and `CC`.
Is there a list of such stored variables anywhere? E.g. would `FFLAGS` value be stored somewhere?



---

archive/issue_comments_412558.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nSome of the values from configuration, like compilers are saved in `sage-env-config`. The rest are not preserved in any way. For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example. There is another ticket somewhere about preserving most of `SAGE_*` and other variable set at configure time in `sage-env-config` but this is not this ticket.",
    "created_at": "2019-01-28T19:05:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412558",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:32" align="right">comment:32</div>

Some of the values from configuration, like compilers are saved in `sage-env-config`. The rest are not preserved in any way. For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example. There is another ticket somewhere about preserving most of `SAGE_*` and other variable set at configure time in `sage-env-config` but this is not this ticket.



---

archive/issue_comments_412559.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nReplying to [@kiwifb](#comment:32):\n> For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\nI think that this is finally the explanation that I asked for.\n\nBut that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?",
    "created_at": "2019-01-29T13:44:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412559",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:33" align="right">comment:33</div>

Replying to [@kiwifb](#comment:32):
> For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

I think that this is finally the explanation that I asked for.

But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?



---

archive/issue_comments_412560.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@jdemeyer](#comment:33):\n> Replying to [@kiwifb](#comment:32):\n> > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\n> \n> I think that this is finally the explanation that I asked for.\n> \n> But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?\n\nI think that this branch puts stuff in CXXFLAGS, not in CXX.",
    "created_at": "2019-01-29T13:55:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412560",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@jdemeyer](#comment:33):
> Replying to [@kiwifb](#comment:32):
> > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

> 
> I think that this is finally the explanation that I asked for.
> 
> But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?

I think that this branch puts stuff in CXXFLAGS, not in CXX.



---

archive/issue_comments_412561.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nReplying to [@dimpase](#comment:34):\n> Replying to [@jdemeyer](#comment:33):\n> > Replying to [@kiwifb](#comment:32):\n> > > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.\n\n> > \n> > I think that this is finally the explanation that I asked for.\n> > \n> > But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?\n\nBy putting it in `CXX` you make your compiler c++11 compliant whether it is called with `CXXFLAGS` (as you should) or not.\n\n> \n> I think that this branch puts stuff in CXXFLAGS, not in CXX.\n\nThen the documentation at https://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx.html would be wrong. And I don't believe that's the case.",
    "created_at": "2019-01-29T18:47:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412561",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:35" align="right">comment:35</div>

Replying to [@dimpase](#comment:34):
> Replying to [@jdemeyer](#comment:33):
> > Replying to [@kiwifb](#comment:32):
> > > For the C++11 flags (and C99 when it applies) this is saved as part of the definition of the compiler. That is `CXX=g++ -std=gnu++11` for example.

> > 
> > I think that this is finally the explanation that I asked for.
> > 
> > But that raises the question: why should these flags become part of `CXX` and not `CXXFLAGS`?

By putting it in `CXX` you make your compiler c++11 compliant whether it is called with `CXXFLAGS` (as you should) or not.

> 
> I think that this branch puts stuff in CXXFLAGS, not in CXX.

Then the documentation at https://www.gnu.org/software/autoconf-archive/ax_cxx_compile_stdcxx.html would be wrong. And I don't believe that's the case.



---

archive/issue_comments_412562.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nYou are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...",
    "created_at": "2019-01-30T16:51:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412562",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...



---

archive/issue_comments_412563.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\nReplying to [@dimpase](#comment:36):\n> You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...\n\nHum, I can't do it right now (location and timing). Can you try install `boost` (and not `boost_cropped`) with it?",
    "created_at": "2019-01-30T18:48:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412563",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:37" align="right">comment:37</div>

Replying to [@dimpase](#comment:36):
> You are right. Hopefully there are no packages in Sage that try to parse `$CXX` (IIRC, GAP used to parse `$CC`)...

Hum, I can't do it right now (location and timing). Can you try install `boost` (and not `boost_cropped`) with it?



---

archive/issue_comments_412564.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nWell building boost was no problem. I do some parsing in there. The patch bot seems relatively happy. Any more questions?",
    "created_at": "2019-02-04T00:31:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412564",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:38" align="right">comment:38</div>

Well building boost was no problem. I do some parsing in there. The patch bot seems relatively happy. Any more questions?



---

archive/issue_comments_412565.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nDo I get it right that one might not see an explicit `-std=` in the logs, it depends upon the compiler being old enough for these to show up?",
    "created_at": "2019-02-04T01:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412565",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:39" align="right">comment:39</div>

Do I get it right that one might not see an explicit `-std=` in the logs, it depends upon the compiler being old enough for these to show up?



---

archive/issue_comments_412566.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">comment:40</div>\n\nIt used to be the case, but I believe that with the macro I put in this ticket it should always be there. Which is annoying because my intent was ensuring a minimum standard but with the macro at hand it become the standard used not a minimum one. See http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8",
    "created_at": "2019-02-04T01:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412566",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:40" align="right">comment:40</div>

It used to be the case, but I believe that with the macro I put in this ticket it should always be there. Which is annoying because my intent was ensuring a minimum standard but with the macro at hand it become the standard used not a minimum one. See http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=commitdiff;h=bbb60ca79952c20ee0b187208533d98206b156d1;hp=ad15d52fd1e552bc3d7fcfb3d7bc6a2681f364d8



---

archive/issue_comments_412567.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">comment:41</div>\n\nFor info `sage-env-config` with gcc-8.2.0\n\n```\n# -*- shell-script -*-\n\n###########################################################################\n#\n#  Set some environment variables for Sage.\n#  This file is generated from sage-env-config.in by configure.\n#\n#  NOTES:\n#  - You must *source* this script instead of executing.\n#  - Use \"return\" instead of \"exit\" to signal a failure.  Since this\n#    file is sourced, an \"exit\" here will actually exit src/bin/sage,\n#    which is probably not intended.\n#  - All environment variables set here should be *exported*, otherwise\n#    they won't be available in child programs.\n#\n##########################################################################\n\n# SAGE_LOCAL is the installation prefix and can be customized by using\n# ./configure --prefix\nexport SAGE_LOCAL=\"/home/fbissey/sandbox/git-fork/sage/local\"\n\n#######################################\n# Compilers set at configuration time\n#######################################\nexport CONFIGURED_CC=\"gcc\"\nexport CONFIGURED_CXX=\"g++ -std=gnu++11\"\nexport CONFIGURED_FC=\"gfortran\"\nexport CONFIGURED_OBJC=\"gcc\"\nexport CONFIGURED_OBJCXX=\"g++\"\n\n#######################################\n# Other configuration\n#######################################\nexport SAGE_PYTHON_VERSION=2\nif [ \"$SAGE_PYTHON_VERSION\" = 3 ]; then\n    export SAGE_PYTHON3=yes\nfi\n```\nAs you can see even though my compiler default to gnu++14, `-std=gnu++11` is added.",
    "created_at": "2019-02-04T01:21:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412567",
    "user": "https://github.com/kiwifb"
}
```

<div id="comment:41" align="right">comment:41</div>

For info `sage-env-config` with gcc-8.2.0

```
# -*- shell-script -*-

###########################################################################
#
#  Set some environment variables for Sage.
#  This file is generated from sage-env-config.in by configure.
#
#  NOTES:
#  - You must *source* this script instead of executing.
#  - Use "return" instead of "exit" to signal a failure.  Since this
#    file is sourced, an "exit" here will actually exit src/bin/sage,
#    which is probably not intended.
#  - All environment variables set here should be *exported*, otherwise
#    they won't be available in child programs.
#
##########################################################################

# SAGE_LOCAL is the installation prefix and can be customized by using
# ./configure --prefix
export SAGE_LOCAL="/home/fbissey/sandbox/git-fork/sage/local"

#######################################
# Compilers set at configuration time
#######################################
export CONFIGURED_CC="gcc"
export CONFIGURED_CXX="g++ -std=gnu++11"
export CONFIGURED_FC="gfortran"
export CONFIGURED_OBJC="gcc"
export CONFIGURED_OBJCXX="g++"

#######################################
# Other configuration
#######################################
export SAGE_PYTHON_VERSION=2
if [ "$SAGE_PYTHON_VERSION" = 3 ]; then
    export SAGE_PYTHON3=yes
fi
```
As you can see even though my compiler default to gnu++14, `-std=gnu++11` is added.



---

archive/issue_comments_412568.json:
```json
{
    "body": "<div id=\"comment:42\" align=\"right\">comment:42</div>\n\nlooks good to me, also checked with clang 6.0.1 on FreeBSD.",
    "created_at": "2019-02-04T02:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412568",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:42" align="right">comment:42</div>

looks good to me, also checked with clang 6.0.1 on FreeBSD.



---

archive/issue_comments_412569.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2019-02-04T02:50:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412569",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_events_368193.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-04T02:50:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368193"
}
```



---

archive/issue_events_368194.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-02-04T02:50:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368194"
}
```



---

archive/issue_events_368195.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-05T16:57:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368195"
}
```



---

archive/issue_events_368196.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3f39df0203441798674c15e6e66305ab4384a990",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-02-05T16:57:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26787#event-368196"
}
```



---

archive/issue_comments_412570.json:
```json
{
    "body": "Changed branch from **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**",
    "created_at": "2019-02-05T16:57:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412570",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/fbissey/cpp11](https://github.com/sagemath/sagetrac-mirror/tree/u/fbissey/cpp11)** to **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)**



---

archive/issue_comments_412571.json:
```json
{
    "body": "Changed commit from **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)** to none",
    "created_at": "2019-02-10T17:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412571",
    "user": "https://github.com/vbraun"
}
```

Changed commit from **[71f526e](https://github.com/sagemath/sagetrac-mirror/commit/71f526e75261237541dbb3287ca66e60555e9307)** to none



---

archive/issue_comments_412572.json:
```json
{
    "body": "<div id=\"comment:44\" align=\"right\">comment:44</div>\n\nThis broke giac on some platforms: #27252",
    "created_at": "2019-02-10T17:28:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412572",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:44" align="right">comment:44</div>

This broke giac on some platforms: #27252



---

archive/issue_comments_412573.json:
```json
{
    "body": "<div id=\"comment:45\" align=\"right\">comment:45</div>\n\nI guess the question is, how would I *undo* this for  single package?  How can I revert `-std=gnu++11` at least when building giac?",
    "created_at": "2019-02-12T17:04:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412573",
    "user": "https://github.com/embray"
}
```

<div id="comment:45" align="right">comment:45</div>

I guess the question is, how would I *undo* this for  single package?  How can I revert `-std=gnu++11` at least when building giac?



---

archive/issue_comments_412574.json:
```json
{
    "body": "<div id=\"comment:46\" align=\"right\">comment:46</div>\n\nThis broke building of gfan and lcalc on systems with gcc 4.9.3: #27422",
    "created_at": "2019-03-04T16:38:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26787",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26787#issuecomment-412574",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:46" align="right">comment:46</div>

This broke building of gfan and lcalc on systems with gcc 4.9.3: #27422
