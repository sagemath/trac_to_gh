# Issue 26289: mutable poset: remove default for breaking ties in topological sort

archive/issues_026289.json:
```json
{
    "body": "CC:  @behackl\n\nAt the moment `shells_topological` of a mutable poset breaks ties by means of `repr` by default. However, mutable poset is a data structure and should not do this expensive operation by default, therefore this default should be removed which is the aim of this ticket.\n\nNote that this default was in mainly due to convenience reasons to have the results in the doctests always in the same order.\n\n(Motivation: For my code/application, this improves the computation time by more than a factor 2.)\n\nIssue created by migration from https://trac.sagemath.org/ticket/26526\n\n",
    "closed_at": "2019-05-21T12:15:58Z",
    "created_at": "2018-10-22T14:57:59Z",
    "labels": [
        "component: asymptotic expansions",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.8",
    "title": "mutable poset: remove default for breaking ties in topological sort",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26289",
    "user": "https://github.com/dkrenn"
}
```
CC:  @behackl

At the moment `shells_topological` of a mutable poset breaks ties by means of `repr` by default. However, mutable poset is a data structure and should not do this expensive operation by default, therefore this default should be removed which is the aim of this ticket.

Note that this default was in mainly due to convenience reasons to have the results in the doctests always in the same order.

(Motivation: For my code/application, this improves the computation time by more than a factor 2.)

Issue created by migration from https://trac.sagemath.org/ticket/26526





---

archive/issue_comments_370041.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-10-22T15:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370041",
    "user": "https://github.com/dkrenn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_370042.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-10-22T15:00:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370042",
    "user": "https://github.com/dkrenn"
}
```

New commits:



---

archive/issue_comments_370043.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2019-04-17T14:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370043",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_events_065917.json:
```json
{
    "actor": "https://github.com/behackl",
    "created_at": "2019-04-17T14:08:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "milestone": "sage-8.8",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26289#event-65917"
}
```



---

archive/issue_comments_370044.json:
```json
{
    "body": "I looked through the changes and they look good to me overall.\n\nWould it make sense to add another doctest (possibly with output marked as random) where no key is passed and thus no sorting happens?",
    "created_at": "2019-04-17T14:08:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370044",
    "user": "https://github.com/behackl"
}
```

I looked through the changes and they look good to me overall.

Would it make sense to add another doctest (possibly with output marked as random) where no key is passed and thus no sorting happens?



---

archive/issue_comments_370045.json:
```json
{
    "body": "Replying to [comment:3 behackl]:\n> Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?\n\n\nI do not see much of a point adding such a test.",
    "created_at": "2019-05-14T14:24:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370045",
    "user": "https://github.com/dkrenn"
}
```

Replying to [comment:3 behackl]:
> Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?


I do not see much of a point adding such a test.



---

archive/issue_comments_370046.json:
```json
{
    "body": "Replying to [comment:4 dkrenn]:\n> Replying to [comment:3 behackl]:\n> > Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?\n\n> \n> I do not see much of a point adding such a test.\n\n\nI was thinking about testing whether calling the method without a key still works -- but you are right, I also cannot think of a usecase for that.\n\nGood to go.",
    "created_at": "2019-05-16T10:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370046",
    "user": "https://github.com/behackl"
}
```

Replying to [comment:4 dkrenn]:
> Replying to [comment:3 behackl]:
> > Would it make sense to add another doctest (possibly with output marked as random) where no key is  passed and thus no sorting happens?

> 
> I do not see much of a point adding such a test.


I was thinking about testing whether calling the method without a key still works -- but you are right, I also cannot think of a usecase for that.

Good to go.



---

archive/issue_comments_370047.json:
```json
{
    "body": "Changing status from needs_info to positive_review.",
    "created_at": "2019-05-16T10:02:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370047",
    "user": "https://github.com/behackl"
}
```

Changing status from needs_info to positive_review.



---

archive/issue_events_065918.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-05-21T12:15:58Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26289#event-65918"
}
```



---

archive/issue_comments_370048.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-05-21T12:15:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26289",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26289#issuecomment-370048",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
