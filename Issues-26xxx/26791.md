# Issue 26791: R help text differs on some systems

archive/issues_026554.json:
```json
{
    "body": "See https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ.\n\n~~It looks like rpy2 picks up the systems R.~~\n\nWhen a symbol has been overloaded, R's `help` doesn't pick the right symbol.\n\n**CC:**  @EmmanuelCharpentier @embray @kiwifb @jdemeyer\n\n**Keywords:** rpy2 R\n\n**Branch/Commit:** [bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef](https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef)\n\n**Reviewer:** Emmanuel Charpentier\n\n**Author:** Timo Kaufmann\n\nIssue created by migration from https://trac.sagemath.org/ticket/26791\n\n",
    "closed_at": "2019-01-02T19:05:31Z",
    "created_at": "2018-11-29T21:04:40Z",
    "labels": [
        "component: packages: standard",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.5",
    "title": "R help text differs on some systems",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/26791",
    "user": "https://github.com/timokau"
}
```
See https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ.

~~It looks like rpy2 picks up the systems R.~~

When a symbol has been overloaded, R's `help` doesn't pick the right symbol.

**CC:**  @EmmanuelCharpentier @embray @kiwifb @jdemeyer

**Keywords:** rpy2 R

**Branch/Commit:** [bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef](https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef)

**Reviewer:** Emmanuel Charpentier

**Author:** Timo Kaufmann

Issue created by migration from https://trac.sagemath.org/ticket/26791





---

archive/issue_comments_415218.json:
```json
{
    "body": "<a id='comment:1'></a>\nI've looked at rpy2s build script. It contains the line\n\n```\nexport RHOMES=\"$SAGE_LOCAL\"/lib/R\n```\n\nThat looks like a typo. rpy2 respects the environment variable `RHOME`, without the `s`. Probably didn't cause any issues before because `rpy2` wasn't used very heavily before #26596.",
    "created_at": "2018-11-29T21:06:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415218",
    "user": "https://github.com/timokau"
}
```

<a id='comment:1'></a>
I've looked at rpy2s build script. It contains the line

```
export RHOMES="$SAGE_LOCAL"/lib/R
```

That looks like a typo. rpy2 respects the environment variable `RHOME`, without the `s`. Probably didn't cause any issues before because `rpy2` wasn't used very heavily before #26596.



---

archive/issue_comments_415219.json:
```json
{
    "body": "<a id='comment:2'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c25df8dc460e3d810ea47f0c2340f6b3252ff746\">c25df8d</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>\n",
    "created_at": "2018-11-29T21:08:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415219",
    "user": "https://github.com/timokau"
}
```

<a id='comment:2'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c25df8dc460e3d810ea47f0c2340f6b3252ff746">c25df8d</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>




---

archive/issue_comments_415220.json:
```json
{
    "body": "**Commit:** [c25df8dc460e3d810ea47f0c2340f6b3252ff746](https://github.com/sagemath/sagetrac-mirror/commit/c25df8dc460e3d810ea47f0c2340f6b3252ff746)",
    "created_at": "2018-11-29T21:08:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415220",
    "user": "https://github.com/timokau"
}
```

**Commit:** [c25df8dc460e3d810ea47f0c2340f6b3252ff746](https://github.com/sagemath/sagetrac-mirror/commit/c25df8dc460e3d810ea47f0c2340f6b3252ff746)



---

archive/issue_events_236380.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-11-29T21:08:57Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236380"
}
```



---

archive/issue_comments_415221.json:
```json
{
    "body": "**Branch:** [u/gh-timokau/rpy2-build-typo](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/rpy2-build-typo)",
    "created_at": "2018-11-29T21:08:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415221",
    "user": "https://github.com/timokau"
}
```

**Branch:** [u/gh-timokau/rpy2-build-typo](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/rpy2-build-typo)



---

archive/issue_comments_415222.json:
```json
{
    "body": "**Author:** Timo Kaufmann",
    "created_at": "2018-11-29T21:08:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415222",
    "user": "https://github.com/timokau"
}
```

**Author:** Timo Kaufmann



---

archive/issue_comments_415223.json:
```json
{
    "body": "<a id='comment:3'></a>\n@EmmanuelCharpentier please test.",
    "created_at": "2018-11-29T21:10:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415223",
    "user": "https://github.com/timokau"
}
```

<a id='comment:3'></a>
@EmmanuelCharpentier please test.



---

archive/issue_comments_415224.json:
```json
{
    "body": "<a id='comment:4'></a>\nThat's a case where you want a revision bump in the package version. We want everyone to re-install this.",
    "created_at": "2018-11-29T21:35:56Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415224",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:4'></a>
That's a case where you want a revision bump in the package version. We want everyone to re-install this.



---

archive/issue_comments_415225.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [@timokau](#comment%3A3):\n> @EmmanuelCharpentier please test.\n\nShall do. But I have to upgrade my local installation first. Don't expect results \nbefore tomorrow morning...\n\nNote that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).",
    "created_at": "2018-11-29T22:07:20Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415225",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:5'></a>
Replying to [@timokau](#comment%3A3):
> @EmmanuelCharpentier please test.

Shall do. But I have to upgrade my local installation first. Don't expect results 
before tomorrow morning...

Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).



---

archive/issue_comments_415226.json:
```json
{
    "body": "**Changing commit** from \"[c25df8dc460e3d810ea47f0c2340f6b3252ff746](https://github.com/sagemath/sagetrac-mirror/commit/c25df8dc460e3d810ea47f0c2340f6b3252ff746)\" to \"[2af44d2cf377bf9509d9d5a4d9f044c99ba55759](https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759)\".",
    "created_at": "2018-11-29T22:58:41Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415226",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[c25df8dc460e3d810ea47f0c2340f6b3252ff746](https://github.com/sagemath/sagetrac-mirror/commit/c25df8dc460e3d810ea47f0c2340f6b3252ff746)" to "[2af44d2cf377bf9509d9d5a4d9f044c99ba55759](https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759)".



---

archive/issue_comments_415227.json:
```json
{
    "body": "<a id='comment:6'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759\">2af44d2</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>\n",
    "created_at": "2018-11-29T22:58:41Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415227",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:6'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759">2af44d2</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>




---

archive/issue_comments_415228.json:
```json
{
    "body": "<a id='comment:7'></a>\nRight, added the package bump.\n\nHow do you know which version rpy2 actually used?\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759\">2af44d2</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>\n",
    "created_at": "2018-11-29T22:59:57Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415228",
    "user": "https://github.com/timokau"
}
```

<a id='comment:7'></a>
Right, added the package bump.

How do you know which version rpy2 actually used?

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759">2af44d2</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>




---

archive/issue_comments_415229.json:
```json
{
    "body": "<a id='comment:8'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106\">aeb8d30</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>\n",
    "created_at": "2018-11-29T23:00:44Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415229",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:8'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106">aeb8d30</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>




---

archive/issue_comments_415230.json:
```json
{
    "body": "**Changing commit** from \"[2af44d2cf377bf9509d9d5a4d9f044c99ba55759](https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759)\" to \"[aeb8d30f215a426b32fe096a5f22a3a25755b106](https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106)\".",
    "created_at": "2018-11-29T23:00:44Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415230",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[2af44d2cf377bf9509d9d5a4d9f044c99ba55759](https://github.com/sagemath/sagetrac-mirror/commit/2af44d2cf377bf9509d9d5a4d9f044c99ba55759)" to "[aeb8d30f215a426b32fe096a5f22a3a25755b106](https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106)".



---

archive/issue_comments_415231.json:
```json
{
    "body": "<a id='comment:9'></a>\nReplying to [@timokau](#comment%3A7):\n> Right, added the package bump.\n> \n> How do you know which version rpy2 actually used?\n\nDo you mean which version of `R` was rpy2 using? Or which version of rpy2 was installed?",
    "created_at": "2018-11-29T23:03:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415231",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:9'></a>
Replying to [@timokau](#comment%3A7):
> Right, added the package bump.
> 
> How do you know which version rpy2 actually used?

Do you mean which version of `R` was rpy2 using? Or which version of rpy2 was installed?



---

archive/issue_comments_415232.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A5):\n> Replying to [@timokau](#comment%3A3):\n> > @EmmanuelCharpentier please test.\n\n> \n> Shall do. But I have to upgrade my local installation first. Don't expect results \n> before tomorrow morning...\n> \n> Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).\n\nIt turns out that I can't check out the branch related to this ticket (see [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/j34e9EOGz)).\n\nBut manually fixing the typo in a local branch doesn fix the problem :\n\n```\nsage -f rpy2\nsage -t --long --warn-long 47.5 src/sage/interfaces/r.py \n```\ngives the same result :\n\n```\n----------------------------------------------------------------------\nsage -t --long --warn-long 47.5 src/sage/interfaces/r.py  # 3 doctests failed\n----------------------------------------------------------------------\n```\n\nVisual inspection shows the same docstring differences as before.\n\nPS : I saw a new update of this ticket while I was writing this : I still can't `trac checkout` this ticket. Now we have two problems 8-(.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106\">aeb8d30</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>\n",
    "created_at": "2018-11-29T23:08:19Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415232",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:10'></a>
Replying to [@EmmanuelCharpentier](#comment%3A5):
> Replying to [@timokau](#comment%3A3):
> > @EmmanuelCharpentier please test.

> 
> Shall do. But I have to upgrade my local installation first. Don't expect results 
> before tomorrow morning...
> 
> Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).

It turns out that I can't check out the branch related to this ticket (see [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/j34e9EOGz)).

But manually fixing the typo in a local branch doesn fix the problem :

```
sage -f rpy2
sage -t --long --warn-long 47.5 src/sage/interfaces/r.py 
```
gives the same result :

```
----------------------------------------------------------------------
sage -t --long --warn-long 47.5 src/sage/interfaces/r.py  # 3 doctests failed
----------------------------------------------------------------------
```

Visual inspection shows the same docstring differences as before.

PS : I saw a new update of this ticket while I was writing this : I still can't `trac checkout` this ticket. Now we have two problems 8-(.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106">aeb8d30</a></td><td><code>Fix rpy2 build script typo</code></td></tr></table>




---

archive/issue_events_236381.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2018-11-29T23:09:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236381"
}
```



---

archive/issue_events_236382.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2018-11-29T23:09:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236382"
}
```



---

archive/issue_comments_415233.json:
```json
{
    "body": "<a id='comment:11'></a>\nNot solved (see above)...",
    "created_at": "2018-11-29T23:09:36Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415233",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:11'></a>
Not solved (see above)...



---

archive/issue_comments_415234.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A11):\n> Not solved (see above)...\n\nQuestion: Did you update some R packages or install new ones on top of the sage installation?",
    "created_at": "2018-11-29T23:15:00Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415234",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:12'></a>
Replying to [@EmmanuelCharpentier](#comment%3A11):
> Not solved (see above)...

Question: Did you update some R packages or install new ones on top of the sage installation?



---

archive/issue_comments_415235.json:
```json
{
    "body": "<a id='comment:13'></a>\nReplying to [@kiwifb](#comment%3A12):\n> Replying to [@EmmanuelCharpentier](#comment%3A11):\n> > Not solved (see above)...\n\n> \n> Question: Did you update some R packages or install new ones on top of the sage installation?\n\nNope.\n\nBTW : your patches do not seem to have an updated checksum. I *think* that this is normal if the package itself remains the same... But shouldn't `build/pkgs/rpy2/package-version.txt` get bumped ?",
    "created_at": "2018-11-29T23:23:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415235",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:13'></a>
Replying to [@kiwifb](#comment%3A12):
> Replying to [@EmmanuelCharpentier](#comment%3A11):
> > Not solved (see above)...

> 
> Question: Did you update some R packages or install new ones on top of the sage installation?

Nope.

BTW : your patches do not seem to have an updated checksum. I *think* that this is normal if the package itself remains the same... But shouldn't `build/pkgs/rpy2/package-version.txt` get bumped ?



---

archive/issue_comments_415236.json:
```json
{
    "body": "<a id='comment:14'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A13):\n> BTW : your patches do not seem to have an updated checksum. I *think* that this is normal if the package itself remains the same... But shouldn't `build/pkgs/rpy2/package-version.txt` get bumped ?\n\nI already advised Timo on that and the latest version of the branch has the bump.",
    "created_at": "2018-11-29T23:27:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415236",
    "user": "https://github.com/kiwifb"
}
```

<a id='comment:14'></a>
Replying to [@EmmanuelCharpentier](#comment%3A13):
> BTW : your patches do not seem to have an updated checksum. I *think* that this is normal if the package itself remains the same... But shouldn't `build/pkgs/rpy2/package-version.txt` get bumped ?

I already advised Timo on that and the latest version of the branch has the bump.



---

archive/issue_comments_415237.json:
```json
{
    "body": "<a id='comment:15'></a>\nReplying to [@kiwifb](#comment%3A9):\n> Replying to [@timokau](#comment%3A7):\n> > Right, added the package bump.\n> > \n> > How do you know which version rpy2 actually used?\n\n> \n> Do you mean which version of `R` was rpy2 using? Or which version of rpy2 was installed?\n\nThe first one.",
    "created_at": "2018-11-30T08:26:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415237",
    "user": "https://github.com/timokau"
}
```

<a id='comment:15'></a>
Replying to [@kiwifb](#comment%3A9):
> Replying to [@timokau](#comment%3A7):
> > Right, added the package bump.
> > 
> > How do you know which version rpy2 actually used?

> 
> Do you mean which version of `R` was rpy2 using? Or which version of rpy2 was installed?

The first one.



---

archive/issue_comments_415238.json:
```json
{
    "body": "<a id='comment:16'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A10):\n> Replying to [@EmmanuelCharpentier](#comment%3A5):\n> > Replying to [@timokau](#comment%3A3):\n> > > @EmmanuelCharpentier please test.\n\n> > \n> > Shall do. But I have to upgrade my local installation first. Don't expect results \n> > before tomorrow morning...\n> > \n> > Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).\n\n> \n> It turns out that I can't check out the branch related to this ticket (see [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/j34e9EOGz)).\n> \n> But manually fixing the typo in a local branch doesn fix the problem :\n> \n> ```\n> sage -f rpy2\n> sage -t --long --warn-long 47.5 src/sage/interfaces/r.py \n> ```\n\nDid you re-install `rpy2` between those commands? I think `-f` just removes the package and without reinstalling it before testing, god knows what happens.\n\nCould you also post the result of\n\n```\n./sage -R --version # version of sage's R\nR --version # system R\n./sage -c 'import rpy2; print(rpy2.__version__)' # sages rpy version\n./sage -c 'from rpy2.rinterface import R_VERSION_BUILD; print(R_VERSION_BUILD)' # the R sages rpy was build with\n```",
    "created_at": "2018-11-30T08:30:45Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415238",
    "user": "https://github.com/timokau"
}
```

<a id='comment:16'></a>
Replying to [@EmmanuelCharpentier](#comment%3A10):
> Replying to [@EmmanuelCharpentier](#comment%3A5):
> > Replying to [@timokau](#comment%3A3):
> > > @EmmanuelCharpentier please test.

> > 
> > Shall do. But I have to upgrade my local installation first. Don't expect results 
> > before tomorrow morning...
> > 
> > Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).

> 
> It turns out that I can't check out the branch related to this ticket (see [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/j34e9EOGz)).
> 
> But manually fixing the typo in a local branch doesn fix the problem :
> 
> ```
> sage -f rpy2
> sage -t --long --warn-long 47.5 src/sage/interfaces/r.py 
> ```

Did you re-install `rpy2` between those commands? I think `-f` just removes the package and without reinstalling it before testing, god knows what happens.

Could you also post the result of

```
./sage -R --version # version of sage's R
R --version # system R
./sage -c 'import rpy2; print(rpy2.__version__)' # sages rpy version
./sage -c 'from rpy2.rinterface import R_VERSION_BUILD; print(R_VERSION_BUILD)' # the R sages rpy was build with
```



---

archive/issue_comments_415239.json:
```json
{
    "body": "<a id='comment:17'></a>\nReplying to [@timokau](#comment%3A16):\n> Replying to [@EmmanuelCharpentier](#comment%3A10):\n> > Replying to [@EmmanuelCharpentier](#comment%3A5):\n> > > Replying to [@timokau](#comment%3A3):\n> > > > @EmmanuelCharpentier please test.\n\n> > > \n> > > Shall do. But I have to upgrade my local installation first. Don't expect results \n> > > before tomorrow morning...\n> > > \n> > > Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).\n\n> > \n> > It turns out that I can't check out the branch related to this ticket (see [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/j34e9EOGz)).\n> > \n> > But manually fixing the typo in a local branch doesn fix the problem :\n> > \n> > ```\n> > sage -f rpy2\n> > sage -t --long --warn-long 47.5 src/sage/interfaces/r.py \n> > ```\n\n> \n> Did you re-install `rpy2` between those commands?\n\nNope. No reason to (see below).\n\n> I think `-f` just removes the package and without reinstalling it before testing, god knows what happens.\n\nHuh ?\n\n```\nsage -advanced\n[ ... ]\n                           -f -- force build: install the packages even\n                                 if they are already installed\n```\n\nWhadadjasmoke ?\n\n\n> Could you also post the result of\n> \n> ```\n> ./sage -R --version # version of sage's R\n> ```\n\n\n```\ncharpent@zen-book-flip:/usr/local/sage-8$ ./sage -R\n\nR version 3.4.4 (2018-03-15) -- \"Someone to Lean On\"\nCopyright (C) 2018 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n\nR est un logiciel libre livr\u00e9 sans AUCUNE GARANTIE.\nVous pouvez le redistribuer sous certaines conditions.\nTapez 'license()' ou 'licence()' pour plus de d\u00e9tails.\n\nR est un projet collaboratif avec de nombreux contributeurs.\nTapez 'contributors()' pour plus d'information et\n'citation()' pour la fa\u00e7on de le citer dans les publications.\n\nTapez 'demo()' pour des d\u00e9monstrations, 'help()' pour l'aide\nen ligne ou 'help.start()' pour obtenir l'aide au format HTML.\nTapez 'q()' pour quitter R.\n```\nInformation already given, BTW...\n\n\n> R --version # system R\n\n\n```\ncharpent@zen-book-flip:/usr/local/sage-8$ R --version\nR version 3.5.1 (2018-07-02) -- \"Feather Spray\"\nCopyright (C) 2018 The R Foundation for Statistical Computing\nPlatform: x86_64-pc-linux-gnu (64-bit)\n\nR is free software and comes with ABSOLUTELY NO WARRANTY.\nYou are welcome to redistribute it under the terms of the\nGNU General Public License versions 2 or 3.\nFor more information about these matters see\nhttp://www.gnu.org/licenses/.\n```\nDitto...\n\n> ./sage -c 'import rpy2; print(rpy2.__version__)' # sages rpy version\n\n\n```\ncharpent@zen-book-flip:/usr/local/sage-8$ ./sage -c 'import rpy2; print(rpy2.__version__)' # sages rpy version\n2.8.2\n```\nNo surprise here...\n\n> ./sage -c 'from rpy2.rinterface import R_VERSION_BUILD; print(R_VERSION_BUILD)' # the R sages rpy was build with\n> }}}         \n\n\n```\ncharpent@zen-book-flip:/usr/local/sage-8$ ./sage -c 'from rpy2.rinterface import R_VERSION_BUILD; print(R_VERSION_BUILD)'\n('3', '4.4', '', 74408L)\n```\nDitto...",
    "created_at": "2018-11-30T09:36:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415239",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:17'></a>
Replying to [@timokau](#comment%3A16):
> Replying to [@EmmanuelCharpentier](#comment%3A10):
> > Replying to [@EmmanuelCharpentier](#comment%3A5):
> > > Replying to [@timokau](#comment%3A3):
> > > > @EmmanuelCharpentier please test.

> > > 
> > > Shall do. But I have to upgrade my local installation first. Don't expect results 
> > > before tomorrow morning...
> > > 
> > > Note that the version described in my  my [report](https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ) (done on another machine !) used Sage's R (3.4.4) rather than system's R (3.5.1, as packaged by Debian).

> > 
> > It turns out that I can't check out the branch related to this ticket (see [sage-devel](https://groups.google.com/forum/#!topic/sage-devel/j34e9EOGz)).
> > 
> > But manually fixing the typo in a local branch doesn fix the problem :
> > 
> > ```
> > sage -f rpy2
> > sage -t --long --warn-long 47.5 src/sage/interfaces/r.py 
> > ```

> 
> Did you re-install `rpy2` between those commands?

Nope. No reason to (see below).

> I think `-f` just removes the package and without reinstalling it before testing, god knows what happens.

Huh ?

```
sage -advanced
[ ... ]
                           -f -- force build: install the packages even
                                 if they are already installed
```

Whadadjasmoke ?


> Could you also post the result of
> 
> ```
> ./sage -R --version # version of sage's R
> ```


```
charpent@zen-book-flip:/usr/local/sage-8$ ./sage -R

R version 3.4.4 (2018-03-15) -- "Someone to Lean On"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R est un logiciel libre livré sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de détails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la façon de le citer dans les publications.

Tapez 'demo()' pour des démonstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.
```
Information already given, BTW...


> R --version # system R


```
charpent@zen-book-flip:/usr/local/sage-8$ R --version
R version 3.5.1 (2018-07-02) -- "Feather Spray"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under the terms of the
GNU General Public License versions 2 or 3.
For more information about these matters see
http://www.gnu.org/licenses/.
```
Ditto...

> ./sage -c 'import rpy2; print(rpy2.__version__)' # sages rpy version


```
charpent@zen-book-flip:/usr/local/sage-8$ ./sage -c 'import rpy2; print(rpy2.__version__)' # sages rpy version
2.8.2
```
No surprise here...

> ./sage -c 'from rpy2.rinterface import R_VERSION_BUILD; print(R_VERSION_BUILD)' # the R sages rpy was build with
> }}}         


```
charpent@zen-book-flip:/usr/local/sage-8$ ./sage -c 'from rpy2.rinterface import R_VERSION_BUILD; print(R_VERSION_BUILD)'
('3', '4.4', '', 74408L)
```
Ditto...



---

archive/issue_comments_415240.json:
```json
{
    "body": "<a id='comment:18'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A17):\n> > I think `-f` just removes the package and without reinstalling it before testing, god knows what happens.\n\n> \n> Huh ?\n> \n> ```\n> sage -advanced\n> [ ... ]\n>                            -f -- force build: install the packages even\n>                                  if they are already installed\n> ```\n> \n> Whadadjasmoke ?\n\nThat was just my assumption, I never checked to be honest.\n\n> > Could you also post the result of\n> > \n> > ```\n> > ./sage -R --version # version of sage's R\n> > ```\n\n> [...]\n> Information already given, BTW...\n> \n> [...]\n> Ditto...\n> \n> [...]\n> Ditto...\n\nWell some of that information wasn't entirely clear before and for others I didn't know where you got them. Now we're both on the same page.\n\nSeems like I jumped to conclusions and misclassified the problem. The correct R seems to be used. Although I see no mention of `RHOMES` anywhere in the rpy2 code while `RHOME` is supposed to be the \"R Installation Directory\", so I don't know how it actually picked the correct one before.\n\nWhat headline do you get when you execute `help('c')` within `sage -R`? \"Combine Values into a Vector or List\" or \"Combining Objects\"?",
    "created_at": "2018-11-30T13:51:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415240",
    "user": "https://github.com/timokau"
}
```

<a id='comment:18'></a>
Replying to [@EmmanuelCharpentier](#comment%3A17):
> > I think `-f` just removes the package and without reinstalling it before testing, god knows what happens.

> 
> Huh ?
> 
> ```
> sage -advanced
> [ ... ]
>                            -f -- force build: install the packages even
>                                  if they are already installed
> ```
> 
> Whadadjasmoke ?

That was just my assumption, I never checked to be honest.

> > Could you also post the result of
> > 
> > ```
> > ./sage -R --version # version of sage's R
> > ```

> [...]
> Information already given, BTW...
> 
> [...]
> Ditto...
> 
> [...]
> Ditto...

Well some of that information wasn't entirely clear before and for others I didn't know where you got them. Now we're both on the same page.

Seems like I jumped to conclusions and misclassified the problem. The correct R seems to be used. Although I see no mention of `RHOMES` anywhere in the rpy2 code while `RHOME` is supposed to be the "R Installation Directory", so I don't know how it actually picked the correct one before.

What headline do you get when you execute `help('c')` within `sage -R`? "Combine Values into a Vector or List" or "Combining Objects"?



---

archive/issue_events_236383.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-11-30T13:51:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "rename": {
        "from": "rpy2 uses system R instead of sages R",
        "to": "R help text differs on some systems"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236383"
}
```



---

archive/issue_comments_415241.json:
```json
{
    "body": "<a id='comment:20'></a>\nReplying to [@timokau](#comment%3A18):\n\n> What headline do you get when you execute `help('c')` within `sage -R`? \"Combine Values into a Vector or List\" or \"Combining Objects\"?\n\n`Combine Values into a Vector or List`",
    "created_at": "2018-11-30T20:27:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415241",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:20'></a>
Replying to [@timokau](#comment%3A18):

> What headline do you get when you execute `help('c')` within `sage -R`? "Combine Values into a Vector or List" or "Combining Objects"?

`Combine Values into a Vector or List`



---

archive/issue_comments_415242.json:
```json
{
    "body": "<a id='comment:21'></a>\nThats weird. The only reason I can think of is the one Fran\u00e7ois already hinted to. Somehow there may be multiple help pages for `c`.\n\nWhat does `from rpy2 import robjects; print([ o.title() for o in robjects.help.pages('c') ])` give when executed within sage?",
    "created_at": "2018-11-30T23:33:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415242",
    "user": "https://github.com/timokau"
}
```

<a id='comment:21'></a>
Thats weird. The only reason I can think of is the one François already hinted to. Somehow there may be multiple help pages for `c`.

What does `from rpy2 import robjects; print([ o.title() for o in robjects.help.pages('c') ])` give when executed within sage?



---

archive/issue_comments_415243.json:
```json
{
    "body": "<a id='comment:22'></a>\nReplying to [@timokau](#comment%3A21):\n> Thats weird. The only reason I can think of is the one Fran\u00e7ois already hinted to. Somehow there may be multiple help pages for `c`.\n> \n> What does `from rpy2 import robjects; print([ o.title() for o in robjects.help.pages('c') ])` give when executed within sage?\n\n```\nsage: from rpy2 import robjects; print([ o.title() for o in robjects.help.pages(\n....: 'c') ])\n['Combining Objects', 'Combine Values into a Vector or List', 'NIMBLE language functions for R-like vector construction', 'Transformation of coordinate systems', \"Concatenating 'timeDate' Objects\"]\n```",
    "created_at": "2018-12-01T07:16:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415243",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:22'></a>
Replying to [@timokau](#comment%3A21):
> Thats weird. The only reason I can think of is the one François already hinted to. Somehow there may be multiple help pages for `c`.
> 
> What does `from rpy2 import robjects; print([ o.title() for o in robjects.help.pages('c') ])` give when executed within sage?

```
sage: from rpy2 import robjects; print([ o.title() for o in robjects.help.pages(
....: 'c') ])
['Combining Objects', 'Combine Values into a Vector or List', 'NIMBLE language functions for R-like vector construction', 'Transformation of coordinate systems', "Concatenating 'timeDate' Objects"]
```



---

archive/issue_comments_415244.json:
```json
{
    "body": "<a id='comment:23'></a>\nOkay good, so we know what the problem is. There are multiple packages installed that provide a help page on the topic \"c\". My implementation in #26596 picks a different one by default than the R REPL does. The reason for that is that we cannot do plain `eval('help(\"c\")`), since for some reason rpy2 will then print the help page to stdout instead of returning it (as mentioned [in the rpy2 docs](https://rpy2.readthedocs.io/en/version_2.8.x/introduction.html#getting-help)). Instead we have to use rpy2s function `robjects.help.pages(\"c\")`, which returns a list of all help pages on the topic. I just picked the first one, assuming it would be the same one the R `help()` function would display. But apparently that is not the case.\n\nAre you really sure you haven't installed any additional R packages? For example one of the titles comes from the `nimble` package, which is not installed by default. This is a bug either way, but if you really didn't install that package that makes it even weirder.",
    "created_at": "2018-12-01T09:45:48Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415244",
    "user": "https://github.com/timokau"
}
```

<a id='comment:23'></a>
Okay good, so we know what the problem is. There are multiple packages installed that provide a help page on the topic "c". My implementation in #26596 picks a different one by default than the R REPL does. The reason for that is that we cannot do plain `eval('help("c")`), since for some reason rpy2 will then print the help page to stdout instead of returning it (as mentioned [in the rpy2 docs](https://rpy2.readthedocs.io/en/version_2.8.x/introduction.html#getting-help)). Instead we have to use rpy2s function `robjects.help.pages("c")`, which returns a list of all help pages on the topic. I just picked the first one, assuming it would be the same one the R `help()` function would display. But apparently that is not the case.

Are you really sure you haven't installed any additional R packages? For example one of the titles comes from the `nimble` package, which is not installed by default. This is a bug either way, but if you really didn't install that package that makes it even weirder.



---

archive/issue_comments_415245.json:
```json
{
    "body": "<a id='comment:24'></a>\nIt looks like R actually also prefers nimbles help page, *if the package is loaded*. If it is in batch mode (otherwise it'll show a list of matching help pages and let the user select one), `library(nimble); help(c)` will show nimble's help.\n\nSo I'll try to match the \"only loaded packages\" behaviour with rpy.",
    "created_at": "2018-12-01T10:21:06Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415245",
    "user": "https://github.com/timokau"
}
```

<a id='comment:24'></a>
It looks like R actually also prefers nimbles help page, *if the package is loaded*. If it is in batch mode (otherwise it'll show a list of matching help pages and let the user select one), `library(nimble); help(c)` will show nimble's help.

So I'll try to match the "only loaded packages" behaviour with rpy.



---

archive/issue_comments_415246.json:
```json
{
    "body": "<a id='comment:25'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/e035e77712786f2e07ad952acd5b0ee7147e3555\">e035e77</a></td><td><code>Merge remote-tracking branch 'origin/develop' into u/gh-timokau/rpy2-build-typo</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a3276592ac7d0d1cc0de7208135eff2b899be02\">9a32765</a></td><td><code>Only consider loaded packages for help pages in R</code></td></tr></table>\n",
    "created_at": "2018-12-01T11:44:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415246",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:25'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/e035e77712786f2e07ad952acd5b0ee7147e3555">e035e77</a></td><td><code>Merge remote-tracking branch 'origin/develop' into u/gh-timokau/rpy2-build-typo</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a3276592ac7d0d1cc0de7208135eff2b899be02">9a32765</a></td><td><code>Only consider loaded packages for help pages in R</code></td></tr></table>




---

archive/issue_comments_415247.json:
```json
{
    "body": "**Changing commit** from \"[aeb8d30f215a426b32fe096a5f22a3a25755b106](https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106)\" to \"[9a3276592ac7d0d1cc0de7208135eff2b899be02](https://github.com/sagemath/sagetrac-mirror/commit/9a3276592ac7d0d1cc0de7208135eff2b899be02)\".",
    "created_at": "2018-12-01T11:44:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415247",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[aeb8d30f215a426b32fe096a5f22a3a25755b106](https://github.com/sagemath/sagetrac-mirror/commit/aeb8d30f215a426b32fe096a5f22a3a25755b106)" to "[9a3276592ac7d0d1cc0de7208135eff2b899be02](https://github.com/sagemath/sagetrac-mirror/commit/9a3276592ac7d0d1cc0de7208135eff2b899be02)".



---

archive/issue_events_236384.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-12-01T11:44:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236384"
}
```



---

archive/issue_events_236385.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-12-01T11:44:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236385"
}
```



---

archive/issue_comments_415248.json:
```json
{
    "body": "<a id='comment:26'></a>\nPlease test.",
    "created_at": "2018-12-01T11:44:37Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415248",
    "user": "https://github.com/timokau"
}
```

<a id='comment:26'></a>
Please test.



---

archive/issue_comments_415249.json:
```json
{
    "body": "<a id='comment:27'></a>\nReplying to [@timokau](#comment%3A23):\n\n> Are you really sure you haven't installed any additional R packages?\n\nSorry : I have probably misunderstood you the first time you've asked the question : I didn't **add** any **new** package to my Sage R installation. However, some packages are present :\n\n```\n dim(installed.packages())\n[1] 494  16\n```",
    "created_at": "2018-12-01T12:00:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415249",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:27'></a>
Replying to [@timokau](#comment%3A23):

> Are you really sure you haven't installed any additional R packages?

Sorry : I have probably misunderstood you the first time you've asked the question : I didn't **add** any **new** package to my Sage R installation. However, some packages are present :

```
 dim(installed.packages())
[1] 494  16
```



---

archive/issue_comments_415250.json:
```json
{
    "body": "<a id='comment:28'></a>\nThats one less mystery. Good thing you did too, otherwise we wouldn't have found this bug :)\n\nDoes my latest commit fix it for you?",
    "created_at": "2018-12-01T12:18:14Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415250",
    "user": "https://github.com/timokau"
}
```

<a id='comment:28'></a>
Thats one less mystery. Good thing you did too, otherwise we wouldn't have found this bug :)

Does my latest commit fix it for you?



---

archive/issue_comments_415251.json:
```json
{
    "body": "<a id='comment:29'></a>\nSame result. Sorry...\n\nIn system's R, asking help on an overloaded system leads to a presentation of the alternatives and a question asking which symbol's help is needed. There is (rightly, IMHO) no ettempot to guess which one is the \"right\" one... :\n\n```\n> library(nimble)\nnimble version 0.6-12 is loaded.\nFor more information on NIMBLE and a User Manual,\nplease visit http://R-nimble.org.\n\nAttachement du package : \u2018nimble\u2019\n\nThe following object is masked from \u2018package:stats\u2019:\n\n    simulate\n\n> ?c\nHelp on topic \u2018c\u2019 was found in the following packages:\n\n  Package               Library\n  nimble                /usr/local/lib/R/site-library\n  base                  /usr/lib/R/library\n```",
    "created_at": "2018-12-01T12:23:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415251",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:29'></a>
Same result. Sorry...

In system's R, asking help on an overloaded system leads to a presentation of the alternatives and a question asking which symbol's help is needed. There is (rightly, IMHO) no ettempot to guess which one is the "right" one... :

```
> library(nimble)
nimble version 0.6-12 is loaded.
For more information on NIMBLE and a User Manual,
please visit http://R-nimble.org.

Attachement du package : ‘nimble’

The following object is masked from ‘package:stats’:

    simulate

> ?c
Help on topic ‘c’ was found in the following packages:

  Package               Library
  nimble                /usr/local/lib/R/site-library
  base                  /usr/lib/R/library
```



---

archive/issue_comments_415252.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n See https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ.\n \n-It looks like rpy2 picks up the systems R.\n+~~It looks like rpy2 picks up the systems R.~~\n+\n+When a symbol has been overloaded, R's `help` doesn't pick the right symbol.\n``````\n",
    "created_at": "2018-12-01T12:23:51Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415252",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 See https://groups.google.com/d/msg/sage-release/MX-SnQJh8EE/2vNChwf_CQAJ.
 
-It looks like rpy2 picks up the systems R.
+~~It looks like rpy2 picks up the systems R.~~
+
+When a symbol has been overloaded, R's `help` doesn't pick the right symbol.
``````




---

archive/issue_events_236386.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2018-12-01T12:23:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236386"
}
```



---

archive/issue_events_236387.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2018-12-01T12:23:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236387"
}
```



---

archive/issue_comments_415253.json:
```json
{
    "body": "<a id='comment:30'></a>\nThat is surprising, I could reproduce the issue when installing `nible` and the latest commit fixed it for me. What does `./sage -c \"from rpy2.robjects import r; print(r('loadedNamespaces()'))\"` print?\n\n\nR will usually let you select, but in \"batch mode\" it will just give you the first. I agree that that is not ideal behaviour, but I matched the behaviour of the old `r` interface (which parsed the batch output) to preserve backwards compatibility.",
    "created_at": "2018-12-01T12:33:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415253",
    "user": "https://github.com/timokau"
}
```

<a id='comment:30'></a>
That is surprising, I could reproduce the issue when installing `nible` and the latest commit fixed it for me. What does `./sage -c "from rpy2.robjects import r; print(r('loadedNamespaces()'))"` print?


R will usually let you select, but in "batch mode" it will just give you the first. I agree that that is not ideal behaviour, but I matched the behaviour of the old `r` interface (which parsed the batch output) to preserve backwards compatibility.



---

archive/issue_comments_415254.json:
```json
{
    "body": "<a id='comment:31'></a>\nI begin to think that #26596 was a mistake.",
    "created_at": "2018-12-02T07:20:17Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415254",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:31'></a>
I begin to think that #26596 was a mistake.



---

archive/issue_comments_415255.json:
```json
{
    "body": "<a id='comment:32'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A31):\n> I begin to think that #26596 was a mistake.\n\nTo qualify : R is a complex beast ; most notably, it offers some \"interactive\" abilities (e. g. finding a data point from a plot by clicking on it), which **I** don't use regularly, but *might* be used by *some* Sage users.\n\nSimilarly, I know that (some) packages among the 13473 packages available as of this morning do engage in interaction with the users through widgets (e. g. Tcl/Tk), menus, dialog boxes, etc... \n\nAs far as I can tell, using `rpy2` (which entails \"batch mode\") loses these abilities. Therefore, Sage's R can't replace system's R for these uses.\n\nI haven't the foggiest idea of the importance of these abilities for Sage's R users. Similarly, testing the 13474 available packages for usability with Sage's R seems undoable.\n\nThe only way out I can see *presently* is to\n* remove Sage's R,\n* depend on system's R,\n* disclaim usability of \"interactive\" R functions from Sage,\nwhich furthermore opens the nightmare of maintaining compatibility across versions.\n\nISTR that Erik Bray \"had ideas\" about how to do that.\n\nThoughts ?",
    "created_at": "2018-12-02T07:41:49Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415255",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:32'></a>
Replying to [@EmmanuelCharpentier](#comment%3A31):
> I begin to think that #26596 was a mistake.

To qualify : R is a complex beast ; most notably, it offers some "interactive" abilities (e. g. finding a data point from a plot by clicking on it), which **I** don't use regularly, but *might* be used by *some* Sage users.

Similarly, I know that (some) packages among the 13473 packages available as of this morning do engage in interaction with the users through widgets (e. g. Tcl/Tk), menus, dialog boxes, etc... 

As far as I can tell, using `rpy2` (which entails "batch mode") loses these abilities. Therefore, Sage's R can't replace system's R for these uses.

I haven't the foggiest idea of the importance of these abilities for Sage's R users. Similarly, testing the 13474 available packages for usability with Sage's R seems undoable.

The only way out I can see *presently* is to
* remove Sage's R,
* depend on system's R,
* disclaim usability of "interactive" R functions from Sage,
which furthermore opens the nightmare of maintaining compatibility across versions.

ISTR that Erik Bray "had ideas" about how to do that.

Thoughts ?



---

archive/issue_comments_415256.json:
```json
{
    "body": "<a id='comment:33'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A31):\n> I begin to think that #26596 was a mistake.\n\nI very much disagree.\n\nReplying to [@EmmanuelCharpentier](#comment%3A32):\n> Replying to [@EmmanuelCharpentier](#comment%3A31):\n> > I begin to think that #26596 was a mistake.\n\n> \n> To qualify : R is a complex beast ; most notably, it offers some \"interactive\" abilities (e. g. finding a data point from a plot by clicking on it), which **I** don't use regularly, but *might* be used by *some* Sage users.\n\nDo you have any concrete example of some feature that worked before but doesn't work now?\n\n> Similarly, I know that (some) packages among the 13473 packages available as of this morning do engage in interaction with the users through widgets (e. g. Tcl/Tk), menus, dialog boxes, etc... \n> \n> As far as I can tell, using `rpy2` (which entails \"batch mode\") loses these abilities. Therefore, Sage's R can't replace system's R for these uses.\n\nIt was already \"batch mode\" before. Now it uses the C interface that R provides instead of parsing the REPL output, which is much more robust.\n\n> I haven't the foggiest idea of the importance of these abilities for Sage's R users. Similarly, testing the 13474 available packages for usability with Sage's R seems undoable.\n> \n> The only way out I can see *presently* is to\n> * remove Sage's R,\n> * depend on system's R,\n\nI don't see how any of these options would improve anything.\n\n> * disclaim usability of \"interactive\" R functions from Sage,\n> which furthermore opens the nightmare of maintaining compatibility across versions.\n\nThat nightmare is *exactly* the point of #26596.\n\n> ISTR that Erik Bray \"had ideas\" about how to do that.\n> \n> Thoughts ?",
    "created_at": "2018-12-02T09:26:23Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415256",
    "user": "https://github.com/timokau"
}
```

<a id='comment:33'></a>
Replying to [@EmmanuelCharpentier](#comment%3A31):
> I begin to think that #26596 was a mistake.

I very much disagree.

Replying to [@EmmanuelCharpentier](#comment%3A32):
> Replying to [@EmmanuelCharpentier](#comment%3A31):
> > I begin to think that #26596 was a mistake.

> 
> To qualify : R is a complex beast ; most notably, it offers some "interactive" abilities (e. g. finding a data point from a plot by clicking on it), which **I** don't use regularly, but *might* be used by *some* Sage users.

Do you have any concrete example of some feature that worked before but doesn't work now?

> Similarly, I know that (some) packages among the 13473 packages available as of this morning do engage in interaction with the users through widgets (e. g. Tcl/Tk), menus, dialog boxes, etc... 
> 
> As far as I can tell, using `rpy2` (which entails "batch mode") loses these abilities. Therefore, Sage's R can't replace system's R for these uses.

It was already "batch mode" before. Now it uses the C interface that R provides instead of parsing the REPL output, which is much more robust.

> I haven't the foggiest idea of the importance of these abilities for Sage's R users. Similarly, testing the 13474 available packages for usability with Sage's R seems undoable.
> 
> The only way out I can see *presently* is to
> * remove Sage's R,
> * depend on system's R,

I don't see how any of these options would improve anything.

> * disclaim usability of "interactive" R functions from Sage,
> which furthermore opens the nightmare of maintaining compatibility across versions.

That nightmare is *exactly* the point of #26596.

> ISTR that Erik Bray "had ideas" about how to do that.
> 
> Thoughts ?



---

archive/issue_comments_415257.json:
```json
{
    "body": "<a id='comment:34'></a>\nNot a blocker..",
    "created_at": "2018-12-12T14:24:39Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415257",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:34'></a>
Not a blocker..



---

archive/issue_events_236388.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-12-12T14:24:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "blocker",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236388"
}
```



---

archive/issue_comments_415258.json:
```json
{
    "body": "<a id='comment:35'></a>\nIn my opinion any known issue that may cause test failures for some users should be a blocker. Test failures in a released sage version should always indicate that there is a real, not already reported issue.\n\nThis is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.",
    "created_at": "2018-12-12T15:45:21Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415258",
    "user": "https://github.com/timokau"
}
```

<a id='comment:35'></a>
In my opinion any known issue that may cause test failures for some users should be a blocker. Test failures in a released sage version should always indicate that there is a real, not already reported issue.

This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.



---

archive/issue_comments_415259.json:
```json
{
    "body": "<a id='comment:36'></a>\nReplying to [@timokau](#comment%3A35):\n> In my opinion any known issue that may cause test failures for some users should be a blocker. Test failures in a released sage version should always indicate that there is a real, not already reported issue.\n> \n> This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.\n\nI think, if nothing else, the tests could be marked as known failures on the relevant system using #26784, which still needs review (annoyingly, considering that when I first raised the suggestion as a solution to a different problem Volker gave me \"two days\" to implement it as though that problem were high priority; I did it in one day and yet two weeks later...)",
    "created_at": "2018-12-12T18:12:10Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415259",
    "user": "https://github.com/embray"
}
```

<a id='comment:36'></a>
Replying to [@timokau](#comment%3A35):
> In my opinion any known issue that may cause test failures for some users should be a blocker. Test failures in a released sage version should always indicate that there is a real, not already reported issue.
> 
> This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.

I think, if nothing else, the tests could be marked as known failures on the relevant system using #26784, which still needs review (annoyingly, considering that when I first raised the suggestion as a solution to a different problem Volker gave me "two days" to implement it as though that problem were high priority; I did it in one day and yet two weeks later...)



---

archive/issue_comments_415260.json:
```json
{
    "body": "<a id='comment:37'></a>\nReplying to [@timokau](#comment%3A35):\n\n[ Snip... ]\n\n> This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.\n\nSorry : this one slipped from my queue.\n\nWhat worries me is that we introduce two distinct behaviours (using the interpreter and using the interactive interface to the library) without documenting the difference (which used to be irrelevant).\n\nFor example, in the \"help\" failures, we have a problem because the old expect interface happened to select whatever was available in an \"empty\" interpreter (implicitly launched by the interface), whereas our library call picks (the first available answer in installed packages (installation dependent).\n\nWe should :\n* document this behaviour\n* specify how to select the package containing the function we wissh help about\n* use this mechanism to specify explicitly the relevant library argument (\"base\", in our case) and test agaist this specific  help text.\n\nFurthermore, we should be aware of the possibility of such surprises. I do not see a way to search systematically for them. But I still think we should document te possibility of such surprises.",
    "created_at": "2018-12-12T20:23:41Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415260",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:37'></a>
Replying to [@timokau](#comment%3A35):

[ Snip... ]

> This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.

Sorry : this one slipped from my queue.

What worries me is that we introduce two distinct behaviours (using the interpreter and using the interactive interface to the library) without documenting the difference (which used to be irrelevant).

For example, in the "help" failures, we have a problem because the old expect interface happened to select whatever was available in an "empty" interpreter (implicitly launched by the interface), whereas our library call picks (the first available answer in installed packages (installation dependent).

We should :
* document this behaviour
* specify how to select the package containing the function we wissh help about
* use this mechanism to specify explicitly the relevant library argument ("base", in our case) and test agaist this specific  help text.

Furthermore, we should be aware of the possibility of such surprises. I do not see a way to search systematically for them. But I still think we should document te possibility of such surprises.



---

archive/issue_comments_415261.json:
```json
{
    "body": "<a id='comment:38'></a>\nReplying to [@embray](#comment%3A36):\n> Replying to [@timokau](#comment%3A35):\n> > In my opinion any known issue that may cause test failures for some users should be a blocker. Test failures in a released sage version should always indicate that there is a real, not already reported issue.\n> > \n> > This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.\n\n> \n> I think, if nothing else, the tests could be marked as known failures on the relevant system using #26784, which still needs review (annoyingly, considering that when I first raised the suggestion as a solution to a different problem Volker gave me \"two days\" to implement it as though that problem were high priority; I did it in one day and yet two weeks later...)\n\nWhy not the regular `# known failure` marker? Marking the whole file seems overkill.",
    "created_at": "2018-12-12T22:46:11Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415261",
    "user": "https://github.com/timokau"
}
```

<a id='comment:38'></a>
Replying to [@embray](#comment%3A36):
> Replying to [@timokau](#comment%3A35):
> > In my opinion any known issue that may cause test failures for some users should be a blocker. Test failures in a released sage version should always indicate that there is a real, not already reported issue.
> > 
> > This is very low severity, but if we can't solve it before release (waiting on @EmmanuelCharpentier's reply to my last post) I suggest that we at least mark the test as a known failure.

> 
> I think, if nothing else, the tests could be marked as known failures on the relevant system using #26784, which still needs review (annoyingly, considering that when I first raised the suggestion as a solution to a different problem Volker gave me "two days" to implement it as though that problem were high priority; I did it in one day and yet two weeks later...)

Why not the regular `# known failure` marker? Marking the whole file seems overkill.



---

archive/issue_comments_415262.json:
```json
{
    "body": "<a id='comment:39'></a>\nReplying to [@EmmanuelCharpentier](#comment%3A37):\n> What worries me is that we introduce two distinct behaviours (using the interpreter and using the interactive interface to the library) without documenting the difference (which used to be irrelevant).\n\nThe new R interface also effectively runs the equivalent to an interpreter internally.\n\n> For example, in the \"help\" failures, we have a problem because the old expect interface happened to select whatever was available in an \"empty\" interpreter (implicitly launched by the interface), whereas our library call picks (the first available answer in installed packages (installation dependent).\n\nIn fact I just tested the behaviour under the old interface. `r.library('nimble'); r.help('c')` hangs indefinitely. The old R interface was seriously broken. Which is why I was asking for a concrete regression (besides this help pages issue).\n\nThis issue in particular is due to R being too helpful and automatically piping the `help` output into a pager, even when called through the library. Because of that, rpy2 had to implement its own custom help implementation.\n\nI put a lot of effort into compatibility with the old interface (where it was not broken). So if there is a difference, that is a bug.",
    "created_at": "2018-12-12T22:50:32Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415262",
    "user": "https://github.com/timokau"
}
```

<a id='comment:39'></a>
Replying to [@EmmanuelCharpentier](#comment%3A37):
> What worries me is that we introduce two distinct behaviours (using the interpreter and using the interactive interface to the library) without documenting the difference (which used to be irrelevant).

The new R interface also effectively runs the equivalent to an interpreter internally.

> For example, in the "help" failures, we have a problem because the old expect interface happened to select whatever was available in an "empty" interpreter (implicitly launched by the interface), whereas our library call picks (the first available answer in installed packages (installation dependent).

In fact I just tested the behaviour under the old interface. `r.library('nimble'); r.help('c')` hangs indefinitely. The old R interface was seriously broken. Which is why I was asking for a concrete regression (besides this help pages issue).

This issue in particular is due to R being too helpful and automatically piping the `help` output into a pager, even when called through the library. Because of that, rpy2 had to implement its own custom help implementation.

I put a lot of effort into compatibility with the old interface (where it was not broken). So if there is a difference, that is a bug.



---

archive/issue_comments_415263.json:
```json
{
    "body": "<a id='comment:40'></a>\n**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef\">bd0f8f2</a></td><td><code>Only consider loaded packages for help pages in R</code></td></tr></table>\n",
    "created_at": "2018-12-16T13:25:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415263",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>
**Branch pushed to git repo; I updated commit sha1. This was a forced push.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef">bd0f8f2</a></td><td><code>Only consider loaded packages for help pages in R</code></td></tr></table>




---

archive/issue_comments_415264.json:
```json
{
    "body": "**Changing commit** from \"[9a3276592ac7d0d1cc0de7208135eff2b899be02](https://github.com/sagemath/sagetrac-mirror/commit/9a3276592ac7d0d1cc0de7208135eff2b899be02)\" to \"[bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef](https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef)\".",
    "created_at": "2018-12-16T13:25:27Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415264",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[9a3276592ac7d0d1cc0de7208135eff2b899be02](https://github.com/sagemath/sagetrac-mirror/commit/9a3276592ac7d0d1cc0de7208135eff2b899be02)" to "[bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef](https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef)".



---

archive/issue_comments_415265.json:
```json
{
    "body": "<a id='comment:41'></a>\nOkay this should really be fixed now. I didn't actually use the new help function I wrote before, which is why it didn't work.\n\nThis time I made sure I reproduced the error before testing the fix. Sicne this fixes a regression, I think this should be included in the next rc.",
    "created_at": "2018-12-16T13:27:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415265",
    "user": "https://github.com/timokau"
}
```

<a id='comment:41'></a>
Okay this should really be fixed now. I didn't actually use the new help function I wrote before, which is why it didn't work.

This time I made sure I reproduced the error before testing the fix. Sicne this fixes a regression, I think this should be included in the next rc.



---

archive/issue_events_236389.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-12-16T13:27:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236389"
}
```



---

archive/issue_events_236390.json:
```json
{
    "actor": "https://github.com/timokau",
    "created_at": "2018-12-16T13:27:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236390"
}
```



---

archive/issue_comments_415266.json:
```json
{
    "body": "<a id='comment:42'></a>\nNot entirely sure if the original typo fix also belongs here. I have no idea why it worked before, but apparently it doesn't really matter weather its `RHOME` or `RHOMES`. Can't really hurt to fix it anyways though.",
    "created_at": "2018-12-16T13:28:14Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415266",
    "user": "https://github.com/timokau"
}
```

<a id='comment:42'></a>
Not entirely sure if the original typo fix also belongs here. I have no idea why it worked before, but apparently it doesn't really matter weather its `RHOME` or `RHOMES`. Can't really hurt to fix it anyways though.



---

archive/issue_comments_415267.json:
```json
{
    "body": "<a id='comment:43'></a>\nApplied on top of 8.6.beta1, builds and passes ptestlong without any problem ==> `positive_review`.",
    "created_at": "2019-01-01T20:06:26Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415267",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:43'></a>
Applied on top of 8.6.beta1, builds and passes ptestlong without any problem ==> `positive_review`.



---

archive/issue_events_236391.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2019-01-01T20:06:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236391"
}
```



---

archive/issue_events_236392.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2019-01-01T20:06:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236392"
}
```



---

archive/issue_comments_415268.json:
```json
{
    "body": "<a id='comment:44'></a>\nReviewer name...",
    "created_at": "2019-01-01T22:00:08Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415268",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:44'></a>
Reviewer name...



---

archive/issue_events_236393.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-01T22:00:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236393"
}
```



---

archive/issue_events_236394.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-01T22:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236394"
}
```



---

archive/issue_events_236395.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2019-01-02T04:55:50Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236395"
}
```



---

archive/issue_events_236396.json:
```json
{
    "actor": "https://github.com/EmmanuelCharpentier",
    "created_at": "2019-01-02T04:55:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236396"
}
```



---

archive/issue_comments_415269.json:
```json
{
    "body": "<a id='comment:45'></a>\nWups...",
    "created_at": "2019-01-02T04:55:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415269",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

<a id='comment:45'></a>
Wups...



---

archive/issue_comments_415270.json:
```json
{
    "body": "**Reviewer:** Emmanuel Charpentier",
    "created_at": "2019-01-02T04:55:50Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415270",
    "user": "https://github.com/EmmanuelCharpentier"
}
```

**Reviewer:** Emmanuel Charpentier



---

archive/issue_events_236397.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-02T19:05:31Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236397"
}
```



---

archive/issue_events_236398.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "d0d258acecd18f24e33d89dc64314c002810917f",
    "created_at": "2019-01-02T19:05:31Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26791#event-236398"
}
```



---

archive/issue_comments_415271.json:
```json
{
    "body": "**Changing branch** from \"[u/gh-timokau/rpy2-build-typo](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/rpy2-build-typo)\" to \"[bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef](https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef)\".",
    "created_at": "2019-01-02T19:05:31Z",
    "issue": "https://github.com/sagemath/sage/issues/26791",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26791#issuecomment-415271",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/gh-timokau/rpy2-build-typo](https://github.com/sagemath/sagetrac-mirror/tree/u/gh-timokau/rpy2-build-typo)" to "[bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef](https://github.com/sagemath/sagetrac-mirror/commit/bd0f8f2b77fd2853d63890f6d5b5aa6479c8caef)".
