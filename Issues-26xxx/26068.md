# Issue 26068: add fricas as algorithm to limit

archive/issues_025831.json:
```json
{
    "body": "Before this ticket:\n\n```\nsage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')\nTraceback (most recent call last)\n...\nUnboundLocalError: local variable 'l' referenced before assignment\n```\n\nAfter this ticket:\n\n```\nsage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')\n1\n```\n\nCC:  @kcrisman @rwst @slel\n\nKeywords: FriCAS, limit\n\nBranch/Commit: 65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e\n\nReviewer: Travis Scrimshaw\n\nAuthor: Martin Rubey\n\nDependencies: #25962, #25899\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26068\n\n",
    "closed_at": "2019-02-18T19:28:53Z",
    "created_at": "2018-08-15T17:48:50Z",
    "labels": [
        "component: interfaces: optional"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "add fricas as algorithm to limit",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26068",
    "user": "https://github.com/mantepse"
}
```
Before this ticket:

```
sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')
Traceback (most recent call last)
...
UnboundLocalError: local variable 'l' referenced before assignment
```

After this ticket:

```
sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')
1
```

CC:  @kcrisman @rwst @slel

Keywords: FriCAS, limit

Branch/Commit: 65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e

Reviewer: Travis Scrimshaw

Author: Martin Rubey

Dependencies: #25962, #25899

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/26068





---

archive/issue_comments_494552.json:
```json
{
    "body": "Changing author from \"\" to \"Martin Rubey\"",
    "created_at": "2018-08-15T17:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494552",
    "user": "https://github.com/mantepse"
}
```

Changing author from "" to "Martin Rubey"



---

archive/issue_comments_494553.json:
```json
{
    "body": "Changing keywords from \"\" to \"FriCAS\".",
    "created_at": "2018-08-15T17:50:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494553",
    "user": "https://github.com/mantepse"
}
```

Changing keywords from "" to "FriCAS".



---

archive/issue_comments_494554.json:
```json
{
    "body": "Changing branch from \"\" to \"u/mantepse/add_fricas_as_algorithm_to_limit\"",
    "created_at": "2018-08-15T18:45:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494554",
    "user": "https://github.com/mantepse"
}
```

Changing branch from "" to "u/mantepse/add_fricas_as_algorithm_to_limit"



---

archive/issue_comments_494555.json:
```json
{
    "body": "<a id='comment:3'></a>\nNew commits:\n|                                                                                                                                          |                                                                                                                                                      |\n|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|\n|[c28e489](https://github.com/sagemath/sagetrac-mirror/commit/c28e4897adfb25d8a91e7aa1d1996c4a5ea7b4cd)|`Merge branch 'u/mantepse/implement_translation_of_fricas_rootof' of git://trac.sagemath.org/sage into t/25899/conversion_of_fricas_sums_and_products`|\n|[2fdddde](https://github.com/sagemath/sagetrac-mirror/commit/2fdddde7efc3d75705174d0ec13cb2efeff1146e)|`add conversion of FriCAS sums and products, fix latex`|\n|[afc9fb4](https://github.com/sagemath/sagetrac-mirror/commit/afc9fb49838b078657180e89145100c757798df4)|`Merge commit '4539a940848397eb8113f0e889db231e0dac91dc' of git://trac.sagemath.org/sage into t/25899/conversion_of_fricas_sums_and_products`|\n|[c292231](https://github.com/sagemath/sagetrac-mirror/commit/c292231185f117b56180e50ee3d90e9d16706e12)|`for the Expression domain, switch to parsing the InputForm directly`|\n|[253d6ed](https://github.com/sagemath/sagetrac-mirror/commit/253d6ed822bb99639ab1612f0125827583a07350)|`Merge branch 'u/mantepse/conversion_of_fricas_sums_and_products' of git://trac.sagemath.org/sage into t/26068/add_fricas_as_algorithm_to_limit`|\n|[c42b3e2](https://github.com/sagemath/sagetrac-mirror/commit/c42b3e26d816c811bfcdf393866368cb5ce6b58e)|`add support for fricas limit`|",
    "created_at": "2018-08-15T18:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494555",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:3'></a>
New commits:
|                                                                                                                                          |                                                                                                                                                      |
|------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
|[c28e489](https://github.com/sagemath/sagetrac-mirror/commit/c28e4897adfb25d8a91e7aa1d1996c4a5ea7b4cd)|`Merge branch 'u/mantepse/implement_translation_of_fricas_rootof' of git://trac.sagemath.org/sage into t/25899/conversion_of_fricas_sums_and_products`|
|[2fdddde](https://github.com/sagemath/sagetrac-mirror/commit/2fdddde7efc3d75705174d0ec13cb2efeff1146e)|`add conversion of FriCAS sums and products, fix latex`|
|[afc9fb4](https://github.com/sagemath/sagetrac-mirror/commit/afc9fb49838b078657180e89145100c757798df4)|`Merge commit '4539a940848397eb8113f0e889db231e0dac91dc' of git://trac.sagemath.org/sage into t/25899/conversion_of_fricas_sums_and_products`|
|[c292231](https://github.com/sagemath/sagetrac-mirror/commit/c292231185f117b56180e50ee3d90e9d16706e12)|`for the Expression domain, switch to parsing the InputForm directly`|
|[253d6ed](https://github.com/sagemath/sagetrac-mirror/commit/253d6ed822bb99639ab1612f0125827583a07350)|`Merge branch 'u/mantepse/conversion_of_fricas_sums_and_products' of git://trac.sagemath.org/sage into t/26068/add_fricas_as_algorithm_to_limit`|
|[c42b3e2](https://github.com/sagemath/sagetrac-mirror/commit/c42b3e26d816c811bfcdf393866368cb5ce6b58e)|`add support for fricas limit`|



---

archive/issue_comments_494556.json:
```json
{
    "body": "Changing dependencies from \"\" to \"#25962\"",
    "created_at": "2018-08-15T18:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494556",
    "user": "https://github.com/mantepse"
}
```

Changing dependencies from "" to "#25962"



---

archive/issue_comments_494557.json:
```json
{
    "body": "Changing commit from \"\" to \"c42b3e26d816c811bfcdf393866368cb5ce6b58e\"",
    "created_at": "2018-08-15T18:45:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494557",
    "user": "https://github.com/mantepse"
}
```

Changing commit from "" to "c42b3e26d816c811bfcdf393866368cb5ce6b58e"



---

archive/issue_comments_494558.json:
```json
{
    "body": "Changing dependencies from \"#25962\" to \"#25962, #25899\"",
    "created_at": "2018-08-15T18:46:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494558",
    "user": "https://github.com/mantepse"
}
```

Changing dependencies from "#25962" to "#25962, #25899"



---

archive/issue_comments_494559.json:
```json
{
    "body": "Changing commit from \"c42b3e26d816c811bfcdf393866368cb5ce6b58e\" to \"a91cc0955cbfb09c9263a869e5e93e293af41898\"",
    "created_at": "2019-02-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494559",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "c42b3e26d816c811bfcdf393866368cb5ce6b58e" to "a91cc0955cbfb09c9263a869e5e93e293af41898"



---

archive/issue_comments_494560.json:
```json
{
    "body": "<a id='comment:5'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                                                                                                            |\n|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|\n|[0a863fd](https://github.com/sagemath/sagetrac-mirror/commit/0a863fdad0189ccbbda9e0d46a0e8dde31711e41)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/25899/conversion_of_fricas_sums_and_products`|\n|[51f48b4](https://github.com/sagemath/sagetrac-mirror/commit/51f48b458eea446b3e09cba340d60036050ff797)|`fix merge`|\n|[d06ce8e](https://github.com/sagemath/sagetrac-mirror/commit/d06ce8e038361b115730dbd680def413a15bfb48)|`Merge branch 'u/mantepse/conversion_of_fricas_sums_and_products' of git://trac.sagemath.org/sage into HEAD`|\n|[a0f07d9](https://github.com/sagemath/sagetrac-mirror/commit/a0f07d960c9c65ab5b0095b23af688008dd46ef3)|`pycodestyle cleanup`|\n|[c58e554](https://github.com/sagemath/sagetrac-mirror/commit/c58e554a369eb497f556301d63beaa3814d4c019)|`upgrade, fix latex and doctest`|\n|[1df464c](https://github.com/sagemath/sagetrac-mirror/commit/1df464ca01e2b6193398905b21319b5585d69711)|`Merge branch 'u/mantepse/upgrade_to_fricas_1_3_5' of git://trac.sagemath.org/sage into HEAD`|\n|[e4c4947](https://github.com/sagemath/sagetrac-mirror/commit/e4c494774d624a554eed3a25ebc51337ecdeb6eb)|`Merge branch 'u/mantepse/conversion_of_fricas_sums_and_products' of git://trac.sagemath.org/sage into t/26068/add_fricas_as_algorithm_to_limit`|\n|[a91cc09](https://github.com/sagemath/sagetrac-mirror/commit/a91cc0955cbfb09c9263a869e5e93e293af41898)|`fix merge`|",
    "created_at": "2019-02-03T22:34:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494560",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                                                                                                            |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
|[0a863fd](https://github.com/sagemath/sagetrac-mirror/commit/0a863fdad0189ccbbda9e0d46a0e8dde31711e41)|`Merge branch 'develop' of git://trac.sagemath.org/sage into t/25899/conversion_of_fricas_sums_and_products`|
|[51f48b4](https://github.com/sagemath/sagetrac-mirror/commit/51f48b458eea446b3e09cba340d60036050ff797)|`fix merge`|
|[d06ce8e](https://github.com/sagemath/sagetrac-mirror/commit/d06ce8e038361b115730dbd680def413a15bfb48)|`Merge branch 'u/mantepse/conversion_of_fricas_sums_and_products' of git://trac.sagemath.org/sage into HEAD`|
|[a0f07d9](https://github.com/sagemath/sagetrac-mirror/commit/a0f07d960c9c65ab5b0095b23af688008dd46ef3)|`pycodestyle cleanup`|
|[c58e554](https://github.com/sagemath/sagetrac-mirror/commit/c58e554a369eb497f556301d63beaa3814d4c019)|`upgrade, fix latex and doctest`|
|[1df464c](https://github.com/sagemath/sagetrac-mirror/commit/1df464ca01e2b6193398905b21319b5585d69711)|`Merge branch 'u/mantepse/upgrade_to_fricas_1_3_5' of git://trac.sagemath.org/sage into HEAD`|
|[e4c4947](https://github.com/sagemath/sagetrac-mirror/commit/e4c494774d624a554eed3a25ebc51337ecdeb6eb)|`Merge branch 'u/mantepse/conversion_of_fricas_sums_and_products' of git://trac.sagemath.org/sage into t/26068/add_fricas_as_algorithm_to_limit`|
|[a91cc09](https://github.com/sagemath/sagetrac-mirror/commit/a91cc0955cbfb09c9263a869e5e93e293af41898)|`fix merge`|



---

archive/issue_comments_494561.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2019-02-03T22:35:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494561",
    "user": "https://github.com/mantepse"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_494562.json:
```json
{
    "body": "<a id='comment:7'></a>\nI'm not sure about the following:  FriCAS computes a real limit and returns a pair if the right hand limit and the left hand limit do not coincide.  For example, from #14677:\n\n```\nsage: f = (x^x-sin(x)^sin(x))/(x^3*log(x))\nsage: fricas(f).limit(x=0)\n                                            1\n[leftHandLimit = \"failed\", rightHandLimit = -]\n                                            6\n```\n\nWhat should sage return in this case?  Should it be `und`, or can we do better?",
    "created_at": "2019-02-04T11:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494562",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:7'></a>
I'm not sure about the following:  FriCAS computes a real limit and returns a pair if the right hand limit and the left hand limit do not coincide.  For example, from #14677:

```
sage: f = (x^x-sin(x)^sin(x))/(x^3*log(x))
sage: fricas(f).limit(x=0)
                                            1
[leftHandLimit = "failed", rightHandLimit = -]
                                            6
```

What should sage return in this case?  Should it be `und`, or can we do better?



---

archive/issue_comments_494563.json:
```json
{
    "body": "Changing status from needs_review to needs_info.",
    "created_at": "2019-02-04T11:52:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494563",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_review to needs_info.



---

archive/issue_comments_494564.json:
```json
{
    "body": "<a id='comment:8'></a>\nOn the positive side, #26497 works out of the box.",
    "created_at": "2019-02-04T11:54:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494564",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>
On the positive side, #26497 works out of the box.



---

archive/issue_comments_494565.json:
```json
{
    "body": "<a id='comment:9'></a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n|                                                                                                                                           |                          |\n|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|\n|[65ea0fb](https://github.com/sagemath/sagetrac-mirror/commit/65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e)|`cleanup and add doctests`|",
    "created_at": "2019-02-04T14:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494565",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:9'></a>
Branch pushed to git repo; I updated commit sha1. New commits:
|                                                                                                                                           |                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
|[65ea0fb](https://github.com/sagemath/sagetrac-mirror/commit/65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e)|`cleanup and add doctests`|



---

archive/issue_comments_494566.json:
```json
{
    "body": "Changing commit from \"a91cc0955cbfb09c9263a869e5e93e293af41898\" to \"65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e\"",
    "created_at": "2019-02-04T14:05:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494566",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Changing commit from "a91cc0955cbfb09c9263a869e5e93e293af41898" to "65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e"



---

archive/issue_comments_494567.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2019-02-04T14:06:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494567",
    "user": "https://github.com/mantepse"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_events_081805.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2019-02-15T17:57:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26068#event-81805"
}
```



---

archive/issue_comments_494568.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-02-15T17:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494568",
    "user": "https://github.com/tscrim"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_494569.json:
```json
{
    "body": "<a id='comment:11'></a>\nLGTM.",
    "created_at": "2019-02-15T17:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494569",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:11'></a>
LGTM.



---

archive/issue_comments_494570.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Travis Scrimshaw\"",
    "created_at": "2019-02-15T17:57:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494570",
    "user": "https://github.com/tscrim"
}
```

Changing reviewer from "" to "Travis Scrimshaw"



---

archive/issue_comments_494571.json:
```json
{
    "body": "Changing keywords from \"FriCAS\" to \"FriCAS, limit\".",
    "created_at": "2019-02-18T01:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494571",
    "user": "https://github.com/slel"
}
```

Changing keywords from "FriCAS" to "FriCAS, limit".



---

archive/issue_comments_494572.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,15 @@\n+Before this ticket:\n \n+```\n+sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')\n+Traceback (most recent call last)\n+...\n+UnboundLocalError: local variable 'l' referenced before assignment\n+```\n+\n+After this ticket:\n+\n+```\n+sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')\n+1\n+```\n``````\n",
    "created_at": "2019-02-18T01:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494572",
    "user": "https://github.com/slel"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,15 @@
+Before this ticket:
 
+```
+sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')
+Traceback (most recent call last)
+...
+UnboundLocalError: local variable 'l' referenced before assignment
+```
+
+After this ticket:
+
+```
+sage: (x / (x+2^x+cos(x))).limit(x=-infinity, algorithm='fricas')
+1
+```
``````




---

archive/issue_comments_494573.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-02-18T19:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494573",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_494574.json:
```json
{
    "body": "Changing branch from \"u/mantepse/add_fricas_as_algorithm_to_limit\" to \"65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e\"",
    "created_at": "2019-02-18T19:28:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26068#issuecomment-494574",
    "user": "https://github.com/vbraun"
}
```

Changing branch from "u/mantepse/add_fricas_as_algorithm_to_limit" to "65ea0fb2ec8cfd6527e2281964eab2b8d3289d3e"



---

archive/issue_events_081806.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-02-18T19:28:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26068",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26068#event-81806"
}
```
