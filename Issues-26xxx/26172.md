# Issue 26172: Plot standard tableau with descents

archive/issues_025935.json:
```json
{
    "assignees": [],
    "body": "This is a utility to plot a standard tableau with the option of highlighting the descents.\n\nCC:  @tscrim @mantepse @anneschilling @deinst @kevindilks\n\nBranch/Commit: **[`c5af916`](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Bruce Westbury**\n\nComponent: **combinatorics**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26172_\n\n",
    "closed_at": "2018-11-12T21:11:21Z",
    "created_at": "2018-09-01T12:57:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
        "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Plot standard tableau with descents",
    "type": "issue",
    "updated_at": "2018-11-12T21:11:21Z",
    "url": "https://github.com/sagemath/sage/issues/26172",
    "user": "https://github.com/BruceWestbury"
}
```
This is a utility to plot a standard tableau with the option of highlighting the descents.

CC:  @tscrim @mantepse @anneschilling @deinst @kevindilks

Branch/Commit: **[`c5af916`](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)**

Reviewer: **Travis Scrimshaw**

Author: **Bruce Westbury**

Component: **combinatorics**

_Issue created by migration from https://trac.sagemath.org/ticket/26172_





---

archive/issue_events_358051.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T12:57:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358051"
}
```



---

archive/issue_events_358052.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T12:57:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20combinatorics",
    "label_color": "0000ff",
    "label_name": "c: combinatorics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358052"
}
```



---

archive/issue_events_358053.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T12:57:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358053"
}
```



---

archive/issue_events_358054.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T12:58:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358054"
}
```



---

archive/issue_events_358055.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T12:58:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20minor%20/%204",
    "label_color": "ffe799",
    "label_name": "p: minor / 4",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358055"
}
```



---

archive/issue_events_358056.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T12:58:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358056"
}
```



---

archive/issue_comments_403025.json:
```json
{
    "body": "Branch: **[u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)**",
    "created_at": "2018-09-01T13:05:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403025",
    "user": "https://github.com/BruceWestbury"
}
```

Branch: **[u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)**



---

archive/issue_comments_403026.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4\"><code>51b67b0</code></a></td><td><code>Plot method added</code></td></tr></table>\n",
    "created_at": "2018-09-01T13:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403026",
    "user": "https://github.com/BruceWestbury"
}
```

<div id="comment:3"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4"><code>51b67b0</code></a></td><td><code>Plot method added</code></td></tr></table>




---

archive/issue_events_358057.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T13:07:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358057"
}
```



---

archive/issue_comments_403027.json:
```json
{
    "body": "Commit: **[`51b67b0`](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)**",
    "created_at": "2018-09-01T13:07:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403027",
    "user": "https://github.com/BruceWestbury"
}
```

Commit: **[`51b67b0`](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)**



---

archive/issue_events_358058.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T14:10:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358058"
}
```



---

archive/issue_events_358059.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-09-01T14:10:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358059"
}
```



---

archive/issue_comments_403028.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThis fails the doctests but I don't know how to fix it.",
    "created_at": "2018-09-01T14:10:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403028",
    "user": "https://github.com/BruceWestbury"
}
```

<div id="comment:4" align="right">comment:4</div>

This fails the doctests but I don't know how to fix it.



---

archive/issue_comments_403029.json:
```json
{
    "body": "Changed commit from **[`51b67b0`](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)** to **[`cb14826`](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)**",
    "created_at": "2018-09-01T14:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403029",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`51b67b0`](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)** to **[`cb14826`](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)**



---

archive/issue_comments_403030.json:
```json
{
    "body": "<div id=\"comment:5\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2d163a483b2ec04539b85a9b277083f401c9d8f\"><code>f2d163a</code></a></td><td><code>Changed to method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447\"><code>cb14826</code></a></td><td><code>Corrections</code></td></tr></table>\n",
    "created_at": "2018-09-01T14:10:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403030",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:5"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2d163a483b2ec04539b85a9b277083f401c9d8f"><code>f2d163a</code></a></td><td><code>Changed to method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447"><code>cb14826</code></a></td><td><code>Corrections</code></td></tr></table>




---

archive/issue_comments_403031.json:
```json
{
    "body": "Changed branch from **[u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)** to **[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)**",
    "created_at": "2018-10-10T06:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403031",
    "user": "https://github.com/tscrim"
}
```

Changed branch from **[u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)** to **[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)**



---

archive/issue_comments_403032.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-10-10T06:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403032",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_comments_403033.json:
```json
{
    "body": "Changed author from **Bruce** to **Bruce Westbury**",
    "created_at": "2018-10-10T06:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403033",
    "user": "https://github.com/tscrim"
}
```

Changed author from **Bruce** to **Bruce Westbury**



---

archive/issue_comments_403034.json:
```json
{
    "body": "Changed commit from **[`cb14826`](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)** to **[`d9cd78a`](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)**",
    "created_at": "2018-10-10T06:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403034",
    "user": "https://github.com/tscrim"
}
```

Changed commit from **[`cb14826`](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)** to **[`d9cd78a`](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)**



---

archive/issue_events_358060.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-10-10T06:31:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358060"
}
```



---

archive/issue_events_358061.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-10-10T06:31:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358061"
}
```



---

archive/issue_comments_403035.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nHi Bruce, sorry it took so long for me to get to this ticket. I ran the tests locally, and I was unable to get any failures. I made some changes, in particular, I allow plotting when the tableau is not necessarily standard, but I left the standard enforcement when `descents=True`. If my changes are good, then positive review.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bd7394a2d01a9345026e78cccda8e2e0a828cb6\"><code>5bd7394</code></a></td><td><code>Merge branch 'u/Bruce/plot_standard_tableau_with_descents' of git://trac.sagemath.org/sage into u/tscrim/plot_standard_tableau_descents-26172</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee\"><code>d9cd78a</code></a></td><td><code>Some reviewer changes.</code></td></tr></table>\n",
    "created_at": "2018-10-10T06:31:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403035",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:7" align="right">comment:7</div>

Hi Bruce, sorry it took so long for me to get to this ticket. I ran the tests locally, and I was unable to get any failures. I made some changes, in particular, I allow plotting when the tableau is not necessarily standard, but I left the standard enforcement when `descents=True`. If my changes are good, then positive review.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bd7394a2d01a9345026e78cccda8e2e0a828cb6"><code>5bd7394</code></a></td><td><code>Merge branch 'u/Bruce/plot_standard_tableau_with_descents' of git://trac.sagemath.org/sage into u/tscrim/plot_standard_tableau_descents-26172</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee"><code>d9cd78a</code></a></td><td><code>Some reviewer changes.</code></td></tr></table>




---

archive/issue_comments_403036.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nI must say that I think this goes in the wrong direction, at least partially, for two reasons:\n\n* While it is quite natural to highlight descents, it would be just as natural to highlight cells specified by other properties.  Therefore, it would be much better to be able to pass a function taking a cell and returning a boolean, or even a colour, which specifies which cells to highlight and how.\n\n* moreover, I think this functionality really should also work on the console (when using ascii or unicode art) and for LaTeX (I think `view` also uses LaTeX, doesn't it?).\n\n(To make \"wrong direction\" more precise: if I understand correctly, `plot` adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)",
    "created_at": "2018-10-10T13:56:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403036",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:8" align="right">comment:8</div>

I must say that I think this goes in the wrong direction, at least partially, for two reasons:

* While it is quite natural to highlight descents, it would be just as natural to highlight cells specified by other properties.  Therefore, it would be much better to be able to pass a function taking a cell and returning a boolean, or even a colour, which specifies which cells to highlight and how.

* moreover, I think this functionality really should also work on the console (when using ascii or unicode art) and for LaTeX (I think `view` also uses LaTeX, doesn't it?).

(To make "wrong direction" more precise: if I understand correctly, `plot` adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)



---

archive/issue_comments_403037.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHere is a proof of concept.  With the patch below, the following prints the descents in red.  This does not deal with LaTeX yet:\n\n```\nsage: T = StandardTableau([[1,3,6,9],[2,4,10],[5,7],[8]])\nsage: P = T.parent()\nsage: from colorama import Fore\nsage: P.options.highlight = lambda (x,y): Fore.RED + \"%s\" + Fore.RESET if T(x,y) in T.standard_descents() else \"%s\"\nsage: P.options.convention = \"french\"\nsage: P.options.ascii_art = \"table\"\nsage: ascii_art(T)\nsage: unicode_art(T)\n```\n\nI am very unsure about how to best pass the colour or decoration yet.  Comments welcome.\n\n```diff\ndiff --git a/src/sage/combinat/tableau.py b/src/sage/combinat/tableau.py\nindex b805e4c144..b948942ef5 100644\n--- a/src/sage/combinat/tableau.py\n+++ b/src/sage/combinat/tableau.py\n@@ -414,13 +414,22 @@ class Tableau(ClonableList):\n             for i,e in enumerate(row):\n                 col_widths[i] = max(col_widths[i], len(e))\n \n-        if self.parent().options('convention') == \"French\":\n-            str_tab = reversed(str_tab)\n+        highlight = self.parent().options('highlight')\n+        if highlight:\n+            lines = [\" \"\n+                     + \" \".join(highlight((i,j))%(\"{:>{width}}\".format(e,width=col_widths[j]))\n+                                for j, e in enumerate(row))\n+                     for i, row in enumerate(str_tab)]\n+        else:\n+            lines = [\" \"\n+                     + \" \".join(\"{:>{width}}\".format(e,width=col_widths[i])\n+                                for i,e in enumerate(row))\n+                     for row in str_tab]\n \n-        return \"\\n\".join(\" \"\n-                         + \" \".join(\"{:>{width}}\".format(e,width=col_widths[i])\n-                                    for i,e in enumerate(row))\n-                         for row in str_tab)\n+        if self.parent().options('convention') == \"English\":\n+            return \"\\n\".join(lines)\n+        else:\n+            return \"\\n\".join(reversed(lines))\n \n     def _repr_compact(self):\n         \"\"\"\n@@ -435,6 +444,9 @@ class Tableau(ClonableList):\n         \"\"\"\n         if not self:\n             return '-'\n+        highlight = self.parent().options('highlight')\n+        if highlight:\n+            return '/'.join(','.join(highlight((i, j))%r for j, r in enumerate(row)) for i, row in enumerate(self))\n         return '/'.join(','.join('%s'%r for r in row) for row in self)\n \n     def _ascii_art_(self):\n@@ -618,6 +630,7 @@ class Tableau(ClonableList):\n         for w in col_widths[1:]:\n             l1 += dh + h + h + h*w\n         matr.append(l1 + dl)\n+        highlight = self.parent().options('highlight')\n         for nrow,row in enumerate(str_tab):\n             l1 = \"\"; l2 = \"\"\n             n = len(str_tab[nrow+1]) if nrow+1 < len(str_tab) else 0\n@@ -632,9 +645,9 @@ class Tableau(ClonableList):\n                 else:\n                     l1 += uh + h*(2+w)\n                 if use_unicode:\n-                    l2 += u\"{} {:^{width}} \".format(v, e, width=w)\n+                    l2 += v + highlight((nrow, i))%(u\" {:^{width}} \".format(e, width=w))\n                 else:\n-                    l2 += \"{} {:^{width}} \".format(v, e, width=w)\n+                    l2 += v + highlight((nrow, i))%(\" {:^{width}} \".format(e, width=w))\n             if i+1 <= n:\n                 l1 += vl\n             else:\n@@ -684,22 +697,29 @@ class Tableau(ClonableList):\n         if not self:\n             return \".\"\n \n-        if self.parent().options('convention') == \"English\":\n-            T = self\n-        else:\n-            T = reversed(self)\n-\n         # Get the widths of the columns\n-        str_tab = [[str(_) for _ in row] for row in T]\n+        str_tab = [[str(_) for _ in row] for row in self]\n         col_widths = [1]*len(self[0])\n         for row in str_tab:\n             for i,e in enumerate(row):\n                 col_widths[i] = max(col_widths[i], len(e))\n \n-        return \"\\n\".join(\"|\"\n-                         + \"|\".join(\"{:^{width}}\".format(e, width=col_widths[i])\n-                                    for i,e in enumerate(row))\n-                         + \"|\" for row in str_tab)\n+        highlight = self.parent().options('highlight')\n+        if highlight:\n+            lines = [\"|\"\n+                     + \"|\".join(highlight((i,j))%(\"{:^{width}}\".format(e, width=col_widths[j]))\n+                                for j, e in enumerate(row))\n+                     + \"|\" for i, row in enumerate(str_tab)]\n+        else:\n+            lines = [\"|\"\n+                     + \"|\".join(\"{:^{width}}\".format(e, width=col_widths[j])\n+                                for j, e in enumerate(row))\n+                     + \"|\" for row in str_tab]\n+\n+        if self.parent().options('convention') == \"English\":\n+            return \"\\n\".join(lines)\n+        else:\n+            return \"\\n\".join(reversed(lines))\n \n     def _latex_(self):\n         r\"\"\"\n@@ -5501,6 +5521,9 @@ class Tableaux(UniqueRepresentation, Parent):\n                         values=dict(English='use the English convention',French='use the French convention'),\n                         case_sensitive=False)\n         notation = dict(alt_name=\"convention\")\n+        highlight = dict(default=None,\n+                         checker=lambda v: True,\n+                         description='Sets a function specifying which cells should be highlighted')\n \n     def _element_constructor_(self, t):\n         r\"\"\"\n```",
    "created_at": "2018-10-10T18:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403037",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:9" align="right">comment:9</div>

Here is a proof of concept.  With the patch below, the following prints the descents in red.  This does not deal with LaTeX yet:

```
sage: T = StandardTableau([[1,3,6,9],[2,4,10],[5,7],[8]])
sage: P = T.parent()
sage: from colorama import Fore
sage: P.options.highlight = lambda (x,y): Fore.RED + "%s" + Fore.RESET if T(x,y) in T.standard_descents() else "%s"
sage: P.options.convention = "french"
sage: P.options.ascii_art = "table"
sage: ascii_art(T)
sage: unicode_art(T)
```

I am very unsure about how to best pass the colour or decoration yet.  Comments welcome.

```diff
diff --git a/src/sage/combinat/tableau.py b/src/sage/combinat/tableau.py
index b805e4c144..b948942ef5 100644
--- a/src/sage/combinat/tableau.py
+++ b/src/sage/combinat/tableau.py
@@ -414,13 +414,22 @@ class Tableau(ClonableList):
             for i,e in enumerate(row):
                 col_widths[i] = max(col_widths[i], len(e))
 
-        if self.parent().options('convention') == "French":
-            str_tab = reversed(str_tab)
+        highlight = self.parent().options('highlight')
+        if highlight:
+            lines = [" "
+                     + " ".join(highlight((i,j))%("{:>{width}}".format(e,width=col_widths[j]))
+                                for j, e in enumerate(row))
+                     for i, row in enumerate(str_tab)]
+        else:
+            lines = [" "
+                     + " ".join("{:>{width}}".format(e,width=col_widths[i])
+                                for i,e in enumerate(row))
+                     for row in str_tab]
 
-        return "\n".join(" "
-                         + " ".join("{:>{width}}".format(e,width=col_widths[i])
-                                    for i,e in enumerate(row))
-                         for row in str_tab)
+        if self.parent().options('convention') == "English":
+            return "\n".join(lines)
+        else:
+            return "\n".join(reversed(lines))
 
     def _repr_compact(self):
         """
@@ -435,6 +444,9 @@ class Tableau(ClonableList):
         """
         if not self:
             return '-'
+        highlight = self.parent().options('highlight')
+        if highlight:
+            return '/'.join(','.join(highlight((i, j))%r for j, r in enumerate(row)) for i, row in enumerate(self))
         return '/'.join(','.join('%s'%r for r in row) for row in self)
 
     def _ascii_art_(self):
@@ -618,6 +630,7 @@ class Tableau(ClonableList):
         for w in col_widths[1:]:
             l1 += dh + h + h + h*w
         matr.append(l1 + dl)
+        highlight = self.parent().options('highlight')
         for nrow,row in enumerate(str_tab):
             l1 = ""; l2 = ""
             n = len(str_tab[nrow+1]) if nrow+1 < len(str_tab) else 0
@@ -632,9 +645,9 @@ class Tableau(ClonableList):
                 else:
                     l1 += uh + h*(2+w)
                 if use_unicode:
-                    l2 += u"{} {:^{width}} ".format(v, e, width=w)
+                    l2 += v + highlight((nrow, i))%(u" {:^{width}} ".format(e, width=w))
                 else:
-                    l2 += "{} {:^{width}} ".format(v, e, width=w)
+                    l2 += v + highlight((nrow, i))%(" {:^{width}} ".format(e, width=w))
             if i+1 <= n:
                 l1 += vl
             else:
@@ -684,22 +697,29 @@ class Tableau(ClonableList):
         if not self:
             return "."
 
-        if self.parent().options('convention') == "English":
-            T = self
-        else:
-            T = reversed(self)
-
         # Get the widths of the columns
-        str_tab = [[str(_) for _ in row] for row in T]
+        str_tab = [[str(_) for _ in row] for row in self]
         col_widths = [1]*len(self[0])
         for row in str_tab:
             for i,e in enumerate(row):
                 col_widths[i] = max(col_widths[i], len(e))
 
-        return "\n".join("|"
-                         + "|".join("{:^{width}}".format(e, width=col_widths[i])
-                                    for i,e in enumerate(row))
-                         + "|" for row in str_tab)
+        highlight = self.parent().options('highlight')
+        if highlight:
+            lines = ["|"
+                     + "|".join(highlight((i,j))%("{:^{width}}".format(e, width=col_widths[j]))
+                                for j, e in enumerate(row))
+                     + "|" for i, row in enumerate(str_tab)]
+        else:
+            lines = ["|"
+                     + "|".join("{:^{width}}".format(e, width=col_widths[j])
+                                for j, e in enumerate(row))
+                     + "|" for row in str_tab]
+
+        if self.parent().options('convention') == "English":
+            return "\n".join(lines)
+        else:
+            return "\n".join(reversed(lines))
 
     def _latex_(self):
         r"""
@@ -5501,6 +5521,9 @@ class Tableaux(UniqueRepresentation, Parent):
                         values=dict(English='use the English convention',French='use the French convention'),
                         case_sensitive=False)
         notation = dict(alt_name="convention")
+        highlight = dict(default=None,
+                         checker=lambda v: True,
+                         description='Sets a function specifying which cells should be highlighted')
 
     def _element_constructor_(self, t):
         r"""
```



---

archive/issue_comments_403038.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nPlotting, latex, and unicode/ascii art are all different ways to doing this. This is a step forward as plotting is a common thing people would try and no reasonable user will be frustrated by having multiple options. Do your additions on a separate ticket. We can always add more highlighting options easily later too.",
    "created_at": "2018-10-10T21:42:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403038",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:10" align="right">comment:10</div>

Plotting, latex, and unicode/ascii art are all different ways to doing this. This is a step forward as plotting is a common thing people would try and no reasonable user will be frustrated by having multiple options. Do your additions on a separate ticket. We can always add more highlighting options easily later too.



---

archive/issue_comments_403039.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nTravis, you misread what I wrote:\n\n> (To make \"wrong direction\" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)\n\nBut even your statement\n\n> no reasonable user will be frustrated by having multiple options\n\nis debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.\n\nAnother minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.\n\nIf you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.\n\n(In case you like my idea, feel free to develop it further, I have no time and energy for another ticket currently, sorry about that.)",
    "created_at": "2018-10-11T05:02:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403039",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:11" align="right">comment:11</div>

Travis, you misread what I wrote:

> (To make "wrong direction" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)

But even your statement

> no reasonable user will be frustrated by having multiple options

is debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.

Another minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.

If you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.

(In case you like my idea, feel free to develop it further, I have no time and energy for another ticket currently, sorry about that.)



---

archive/issue_comments_403040.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@mantepse](#comment%3A11):\n> Travis, you misread what I wrote:\n> \n> > (To make \"wrong direction\" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)\n\nI did correctly read what you wrote. Another interface means another option.\n\n> But even your statement\n> \n> > no reasonable user will be frustrated by having multiple options\n\n> \n> is debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.\n\n#18302 is not a valid comparisons for a few different reasons in that `show` is doing the *exact* same as another option, it is not confusing with the other \"natural\" option (i.e., not have show) and it is a debate over having one name, and `show` also does provide some behavior that is not available in other ways.\n\n`view()` versus `plot()` for crystals has to do with implemented/developed functionality. I would be a +1 for adding better `plot()` for crystals. The problem with that is that most of the vertices don't have a `plot`, so it doesn't look as nice.\n\n> Another minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.\n\nIt is there for any `Tableau`. Read the code. We can always change the option later if we come to a clash, but IMO this abstract concept of a possible clash argument is a fallacy.\n\n> If you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.\n\n+1 for having `plot` respect `convention`; that is a good point.",
    "created_at": "2018-10-11T12:53:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403040",
    "user": "https://github.com/tscrim"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@mantepse](#comment%3A11):
> Travis, you misread what I wrote:
> 
> > (To make "wrong direction" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)

I did correctly read what you wrote. Another interface means another option.

> But even your statement
> 
> > no reasonable user will be frustrated by having multiple options

> 
> is debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.

#18302 is not a valid comparisons for a few different reasons in that `show` is doing the *exact* same as another option, it is not confusing with the other "natural" option (i.e., not have show) and it is a debate over having one name, and `show` also does provide some behavior that is not available in other ways.

`view()` versus `plot()` for crystals has to do with implemented/developed functionality. I would be a +1 for adding better `plot()` for crystals. The problem with that is that most of the vertices don't have a `plot`, so it doesn't look as nice.

> Another minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.

It is there for any `Tableau`. Read the code. We can always change the option later if we come to a clash, but IMO this abstract concept of a possible clash argument is a fallacy.

> If you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.

+1 for having `plot` respect `convention`; that is a good point.



---

archive/issue_comments_403041.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nOK.",
    "created_at": "2018-10-11T14:03:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403041",
    "user": "https://github.com/mantepse"
}
```

<div id="comment:13" align="right">comment:13</div>

OK.



---

archive/issue_comments_403042.json:
```json
{
    "body": "Changed branch from **[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)** to **[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)**",
    "created_at": "2018-11-11T22:39:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403042",
    "user": "https://github.com/BruceWestbury"
}
```

Changed branch from **[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)** to **[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)**



---

archive/issue_comments_403043.json:
```json
{
    "body": "Changed commit from **[`d9cd78a`](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)** to **[`c5af916`](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)**",
    "created_at": "2018-11-11T22:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403043",
    "user": "https://github.com/BruceWestbury"
}
```

Changed commit from **[`d9cd78a`](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)** to **[`c5af916`](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)**



---

archive/issue_events_358062.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-11-11T22:40:51Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358062"
}
```



---

archive/issue_events_358063.json:
```json
{
    "actor": "https://github.com/BruceWestbury",
    "created_at": "2018-11-11T22:40:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358063"
}
```



---

archive/issue_comments_403044.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nTravis checked my change over my shoulder.\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a81abce064c4e202436cdc0f43ad6cbf3ca4109d\"><code>a81abce</code></a></td><td><code>Merge branch 'u/tscrim/plot_standard_tableau_descents-26172' of git://trac.sagemath.org/sage into t/26172/plot_standard_tableau_with_descents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a\"><code>c5af916</code></a></td><td><code>Fixed documentation error</code></td></tr></table>\n",
    "created_at": "2018-11-11T22:40:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403044",
    "user": "https://github.com/BruceWestbury"
}
```

<div id="comment:15" align="right">comment:15</div>

Travis checked my change over my shoulder.

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a81abce064c4e202436cdc0f43ad6cbf3ca4109d"><code>a81abce</code></a></td><td><code>Merge branch 'u/tscrim/plot_standard_tableau_descents-26172' of git://trac.sagemath.org/sage into t/26172/plot_standard_tableau_with_descents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a"><code>c5af916</code></a></td><td><code>Fixed documentation error</code></td></tr></table>




---

archive/issue_events_358064.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-12T21:11:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358064"
}
```



---

archive/issue_events_358065.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "657362ee1e49185a77102ff98542bdea4de57624",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-11-12T21:11:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26172#event-358065"
}
```



---

archive/issue_comments_403045.json:
```json
{
    "body": "Changed branch from **[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)** to **[`c5af916`](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)**",
    "created_at": "2018-11-12T21:11:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26172#issuecomment-403045",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)** to **[`c5af916`](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)**
