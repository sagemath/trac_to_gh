# Issue 26172: Plot standard tableau with descents

archive/issues_025935.json:
```json
{
    "body": "This is a utility to plot a standard tableau with the option of highlighting the descents.\n\n**CC:**  @tscrim @mantepse @anneschilling @deinst @kevindilks\n\n**Branch/Commit:** [c5af91684c8730688f5cf03ccb52f25142efc60a](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)\n\n**Reviewer:** Travis Scrimshaw\n\n**Author:** Bruce Westbury\n\n**Resolution:** fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/26172\n\n",
    "closed_at": "2018-11-12T21:11:21Z",
    "created_at": "2018-09-01T12:57:38Z",
    "labels": [
        "component: combinatorics",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.4",
    "title": "Plot standard tableau with descents",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26172",
    "user": "https://github.com/BruceWestbury"
}
```
This is a utility to plot a standard tableau with the option of highlighting the descents.

**CC:**  @tscrim @mantepse @anneschilling @deinst @kevindilks

**Branch/Commit:** [c5af91684c8730688f5cf03ccb52f25142efc60a](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)

**Reviewer:** Travis Scrimshaw

**Author:** Bruce Westbury

**Resolution:** fixed

Issue created by migration from https://trac.sagemath.org/ticket/26172





---

archive/issue_comments_504643.json:
```json
{
    "body": "**Branch:** [u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)",
    "created_at": "2018-09-01T13:05:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504643",
    "user": "https://github.com/BruceWestbury"
}
```

**Branch:** [u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)



---

archive/issue_comments_504644.json:
```json
{
    "body": "<a id='comment:3'></a>\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4\">51b67b0</a></td><td><code>Plot method added</code></td></tr></table>\n",
    "created_at": "2018-09-01T13:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504644",
    "user": "https://github.com/BruceWestbury"
}
```

<a id='comment:3'></a>
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4">51b67b0</a></td><td><code>Plot method added</code></td></tr></table>




---

archive/issue_comments_504645.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2018-09-01T13:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504645",
    "user": "https://github.com/BruceWestbury"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_504646.json:
```json
{
    "body": "**Commit:** [51b67b0607c3f84edb22958fb42b795e7aa2e9e4](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)",
    "created_at": "2018-09-01T13:07:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504646",
    "user": "https://github.com/BruceWestbury"
}
```

**Commit:** [51b67b0607c3f84edb22958fb42b795e7aa2e9e4](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)



---

archive/issue_comments_504647.json:
```json
{
    "body": "**Changing status** from needs_review to needs_info.",
    "created_at": "2018-09-01T14:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504647",
    "user": "https://github.com/BruceWestbury"
}
```

**Changing status** from needs_review to needs_info.



---

archive/issue_comments_504648.json:
```json
{
    "body": "<a id='comment:4'></a>\nThis fails the doctests but I don't know how to fix it.",
    "created_at": "2018-09-01T14:10:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504648",
    "user": "https://github.com/BruceWestbury"
}
```

<a id='comment:4'></a>
This fails the doctests but I don't know how to fix it.



---

archive/issue_comments_504649.json:
```json
{
    "body": "**Changing commit** from \"[51b67b0607c3f84edb22958fb42b795e7aa2e9e4](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)\" to \"[cb148262240d386eeb9c3efbae473830184c6447](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)\".",
    "created_at": "2018-09-01T14:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504649",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

**Changing commit** from "[51b67b0607c3f84edb22958fb42b795e7aa2e9e4](https://github.com/sagemath/sagetrac-mirror/commit/51b67b0607c3f84edb22958fb42b795e7aa2e9e4)" to "[cb148262240d386eeb9c3efbae473830184c6447](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)".



---

archive/issue_comments_504650.json:
```json
{
    "body": "<a id='comment:5'></a>\n**Branch pushed to git repo; I updated commit sha1.** **New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f2d163a483b2ec04539b85a9b277083f401c9d8f\">f2d163a</a></td><td><code>Changed to method</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447\">cb14826</a></td><td><code>Corrections</code></td></tr></table>\n",
    "created_at": "2018-09-01T14:10:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504650",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:5'></a>
**Branch pushed to git repo; I updated commit sha1.** **New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f2d163a483b2ec04539b85a9b277083f401c9d8f">f2d163a</a></td><td><code>Changed to method</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447">cb14826</a></td><td><code>Corrections</code></td></tr></table>




---

archive/issue_comments_504651.json:
```json
{
    "body": "**Changing branch** from \"[u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)\" to \"[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)\".",
    "created_at": "2018-10-10T06:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504651",
    "user": "https://github.com/tscrim"
}
```

**Changing branch** from "[u/Bruce/plot_standard_tableau_with_descents](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_with_descents)" to "[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)".



---

archive/issue_comments_504652.json:
```json
{
    "body": "**Reviewer:** Travis Scrimshaw",
    "created_at": "2018-10-10T06:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504652",
    "user": "https://github.com/tscrim"
}
```

**Reviewer:** Travis Scrimshaw



---

archive/issue_comments_504653.json:
```json
{
    "body": "**Changing author** from \"Bruce\" to \"Bruce Westbury\".",
    "created_at": "2018-10-10T06:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504653",
    "user": "https://github.com/tscrim"
}
```

**Changing author** from "Bruce" to "Bruce Westbury".



---

archive/issue_comments_504654.json:
```json
{
    "body": "**Changing commit** from \"[cb148262240d386eeb9c3efbae473830184c6447](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)\" to \"[d9cd78a48b055f28797ca83892cf278485a9a4ee](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)\".",
    "created_at": "2018-10-10T06:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504654",
    "user": "https://github.com/tscrim"
}
```

**Changing commit** from "[cb148262240d386eeb9c3efbae473830184c6447](https://github.com/sagemath/sagetrac-mirror/commit/cb148262240d386eeb9c3efbae473830184c6447)" to "[d9cd78a48b055f28797ca83892cf278485a9a4ee](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)".



---

archive/issue_comments_504655.json:
```json
{
    "body": "**Changing status** from needs_info to needs_review.",
    "created_at": "2018-10-10T06:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504655",
    "user": "https://github.com/tscrim"
}
```

**Changing status** from needs_info to needs_review.



---

archive/issue_comments_504656.json:
```json
{
    "body": "<a id='comment:7'></a>\nHi Bruce, sorry it took so long for me to get to this ticket. I ran the tests locally, and I was unable to get any failures. I made some changes, in particular, I allow plotting when the tableau is not necessarily standard, but I left the standard enforcement when `descents=True`. If my changes are good, then positive review.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/5bd7394a2d01a9345026e78cccda8e2e0a828cb6\">5bd7394</a></td><td><code>Merge branch 'u/Bruce/plot_standard_tableau_with_descents' of git://trac.sagemath.org/sage into u/tscrim/plot_standard_tableau_descents-26172</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee\">d9cd78a</a></td><td><code>Some reviewer changes.</code></td></tr></table>\n",
    "created_at": "2018-10-10T06:31:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504656",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:7'></a>
Hi Bruce, sorry it took so long for me to get to this ticket. I ran the tests locally, and I was unable to get any failures. I made some changes, in particular, I allow plotting when the tableau is not necessarily standard, but I left the standard enforcement when `descents=True`. If my changes are good, then positive review.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/5bd7394a2d01a9345026e78cccda8e2e0a828cb6">5bd7394</a></td><td><code>Merge branch 'u/Bruce/plot_standard_tableau_with_descents' of git://trac.sagemath.org/sage into u/tscrim/plot_standard_tableau_descents-26172</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee">d9cd78a</a></td><td><code>Some reviewer changes.</code></td></tr></table>




---

archive/issue_comments_504657.json:
```json
{
    "body": "<a id='comment:8'></a>\nI must say that I think this goes in the wrong direction, at least partially, for two reasons:\n\n* While it is quite natural to highlight descents, it would be just as natural to highlight cells specified by other properties.  Therefore, it would be much better to be able to pass a function taking a cell and returning a boolean, or even a colour, which specifies which cells to highlight and how.\n\n* moreover, I think this functionality really should also work on the console (when using ascii or unicode art) and for LaTeX (I think `view` also uses LaTeX, doesn't it?).\n\n(To make \"wrong direction\" more precise: if I understand correctly, `plot` adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)",
    "created_at": "2018-10-10T13:56:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504657",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:8'></a>
I must say that I think this goes in the wrong direction, at least partially, for two reasons:

* While it is quite natural to highlight descents, it would be just as natural to highlight cells specified by other properties.  Therefore, it would be much better to be able to pass a function taking a cell and returning a boolean, or even a colour, which specifies which cells to highlight and how.

* moreover, I think this functionality really should also work on the console (when using ascii or unicode art) and for LaTeX (I think `view` also uses LaTeX, doesn't it?).

(To make "wrong direction" more precise: if I understand correctly, `plot` adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)



---

archive/issue_comments_504658.json:
```json
{
    "body": "<a id='comment:9'></a>\nHere is a proof of concept.  With the patch below, the following prints the descents in red.  This does not deal with LaTeX yet:\n\n```\nsage: T = StandardTableau([[1,3,6,9],[2,4,10],[5,7],[8]])\nsage: P = T.parent()\nsage: from colorama import Fore\nsage: P.options.highlight = lambda (x,y): Fore.RED + \"%s\" + Fore.RESET if T(x,y) in T.standard_descents() else \"%s\"\nsage: P.options.convention = \"french\"\nsage: P.options.ascii_art = \"table\"\nsage: ascii_art(T)\nsage: unicode_art(T)\n```\n\nI am very unsure about how to best pass the colour or decoration yet.  Comments welcome.\n\n```diff\ndiff --git a/src/sage/combinat/tableau.py b/src/sage/combinat/tableau.py\nindex b805e4c144..b948942ef5 100644\n--- a/src/sage/combinat/tableau.py\n+++ b/src/sage/combinat/tableau.py\n@@ -414,13 +414,22 @@ class Tableau(ClonableList):\n             for i,e in enumerate(row):\n                 col_widths[i] = max(col_widths[i], len(e))\n \n-        if self.parent().options('convention') == \"French\":\n-            str_tab = reversed(str_tab)\n+        highlight = self.parent().options('highlight')\n+        if highlight:\n+            lines = [\" \"\n+                     + \" \".join(highlight((i,j))%(\"{:>{width}}\".format(e,width=col_widths[j]))\n+                                for j, e in enumerate(row))\n+                     for i, row in enumerate(str_tab)]\n+        else:\n+            lines = [\" \"\n+                     + \" \".join(\"{:>{width}}\".format(e,width=col_widths[i])\n+                                for i,e in enumerate(row))\n+                     for row in str_tab]\n \n-        return \"\\n\".join(\" \"\n-                         + \" \".join(\"{:>{width}}\".format(e,width=col_widths[i])\n-                                    for i,e in enumerate(row))\n-                         for row in str_tab)\n+        if self.parent().options('convention') == \"English\":\n+            return \"\\n\".join(lines)\n+        else:\n+            return \"\\n\".join(reversed(lines))\n \n     def _repr_compact(self):\n         \"\"\"\n@@ -435,6 +444,9 @@ class Tableau(ClonableList):\n         \"\"\"\n         if not self:\n             return '-'\n+        highlight = self.parent().options('highlight')\n+        if highlight:\n+            return '/'.join(','.join(highlight((i, j))%r for j, r in enumerate(row)) for i, row in enumerate(self))\n         return '/'.join(','.join('%s'%r for r in row) for row in self)\n \n     def _ascii_art_(self):\n@@ -618,6 +630,7 @@ class Tableau(ClonableList):\n         for w in col_widths[1:]:\n             l1 += dh + h + h + h*w\n         matr.append(l1 + dl)\n+        highlight = self.parent().options('highlight')\n         for nrow,row in enumerate(str_tab):\n             l1 = \"\"; l2 = \"\"\n             n = len(str_tab[nrow+1]) if nrow+1 < len(str_tab) else 0\n@@ -632,9 +645,9 @@ class Tableau(ClonableList):\n                 else:\n                     l1 += uh + h*(2+w)\n                 if use_unicode:\n-                    l2 += u\"{} {:^{width}} \".format(v, e, width=w)\n+                    l2 += v + highlight((nrow, i))%(u\" {:^{width}} \".format(e, width=w))\n                 else:\n-                    l2 += \"{} {:^{width}} \".format(v, e, width=w)\n+                    l2 += v + highlight((nrow, i))%(\" {:^{width}} \".format(e, width=w))\n             if i+1 <= n:\n                 l1 += vl\n             else:\n@@ -684,22 +697,29 @@ class Tableau(ClonableList):\n         if not self:\n             return \".\"\n \n-        if self.parent().options('convention') == \"English\":\n-            T = self\n-        else:\n-            T = reversed(self)\n-\n         # Get the widths of the columns\n-        str_tab = [[str(_) for _ in row] for row in T]\n+        str_tab = [[str(_) for _ in row] for row in self]\n         col_widths = [1]*len(self[0])\n         for row in str_tab:\n             for i,e in enumerate(row):\n                 col_widths[i] = max(col_widths[i], len(e))\n \n-        return \"\\n\".join(\"|\"\n-                         + \"|\".join(\"{:^{width}}\".format(e, width=col_widths[i])\n-                                    for i,e in enumerate(row))\n-                         + \"|\" for row in str_tab)\n+        highlight = self.parent().options('highlight')\n+        if highlight:\n+            lines = [\"|\"\n+                     + \"|\".join(highlight((i,j))%(\"{:^{width}}\".format(e, width=col_widths[j]))\n+                                for j, e in enumerate(row))\n+                     + \"|\" for i, row in enumerate(str_tab)]\n+        else:\n+            lines = [\"|\"\n+                     + \"|\".join(\"{:^{width}}\".format(e, width=col_widths[j])\n+                                for j, e in enumerate(row))\n+                     + \"|\" for row in str_tab]\n+\n+        if self.parent().options('convention') == \"English\":\n+            return \"\\n\".join(lines)\n+        else:\n+            return \"\\n\".join(reversed(lines))\n \n     def _latex_(self):\n         r\"\"\"\n@@ -5501,6 +5521,9 @@ class Tableaux(UniqueRepresentation, Parent):\n                         values=dict(English='use the English convention',French='use the French convention'),\n                         case_sensitive=False)\n         notation = dict(alt_name=\"convention\")\n+        highlight = dict(default=None,\n+                         checker=lambda v: True,\n+                         description='Sets a function specifying which cells should be highlighted')\n \n     def _element_constructor_(self, t):\n         r\"\"\"\n```",
    "created_at": "2018-10-10T18:58:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504658",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:9'></a>
Here is a proof of concept.  With the patch below, the following prints the descents in red.  This does not deal with LaTeX yet:

```
sage: T = StandardTableau([[1,3,6,9],[2,4,10],[5,7],[8]])
sage: P = T.parent()
sage: from colorama import Fore
sage: P.options.highlight = lambda (x,y): Fore.RED + "%s" + Fore.RESET if T(x,y) in T.standard_descents() else "%s"
sage: P.options.convention = "french"
sage: P.options.ascii_art = "table"
sage: ascii_art(T)
sage: unicode_art(T)
```

I am very unsure about how to best pass the colour or decoration yet.  Comments welcome.

```diff
diff --git a/src/sage/combinat/tableau.py b/src/sage/combinat/tableau.py
index b805e4c144..b948942ef5 100644
--- a/src/sage/combinat/tableau.py
+++ b/src/sage/combinat/tableau.py
@@ -414,13 +414,22 @@ class Tableau(ClonableList):
             for i,e in enumerate(row):
                 col_widths[i] = max(col_widths[i], len(e))
 
-        if self.parent().options('convention') == "French":
-            str_tab = reversed(str_tab)
+        highlight = self.parent().options('highlight')
+        if highlight:
+            lines = [" "
+                     + " ".join(highlight((i,j))%("{:>{width}}".format(e,width=col_widths[j]))
+                                for j, e in enumerate(row))
+                     for i, row in enumerate(str_tab)]
+        else:
+            lines = [" "
+                     + " ".join("{:>{width}}".format(e,width=col_widths[i])
+                                for i,e in enumerate(row))
+                     for row in str_tab]
 
-        return "\n".join(" "
-                         + " ".join("{:>{width}}".format(e,width=col_widths[i])
-                                    for i,e in enumerate(row))
-                         for row in str_tab)
+        if self.parent().options('convention') == "English":
+            return "\n".join(lines)
+        else:
+            return "\n".join(reversed(lines))
 
     def _repr_compact(self):
         """
@@ -435,6 +444,9 @@ class Tableau(ClonableList):
         """
         if not self:
             return '-'
+        highlight = self.parent().options('highlight')
+        if highlight:
+            return '/'.join(','.join(highlight((i, j))%r for j, r in enumerate(row)) for i, row in enumerate(self))
         return '/'.join(','.join('%s'%r for r in row) for row in self)
 
     def _ascii_art_(self):
@@ -618,6 +630,7 @@ class Tableau(ClonableList):
         for w in col_widths[1:]:
             l1 += dh + h + h + h*w
         matr.append(l1 + dl)
+        highlight = self.parent().options('highlight')
         for nrow,row in enumerate(str_tab):
             l1 = ""; l2 = ""
             n = len(str_tab[nrow+1]) if nrow+1 < len(str_tab) else 0
@@ -632,9 +645,9 @@ class Tableau(ClonableList):
                 else:
                     l1 += uh + h*(2+w)
                 if use_unicode:
-                    l2 += u"{} {:^{width}} ".format(v, e, width=w)
+                    l2 += v + highlight((nrow, i))%(u" {:^{width}} ".format(e, width=w))
                 else:
-                    l2 += "{} {:^{width}} ".format(v, e, width=w)
+                    l2 += v + highlight((nrow, i))%(" {:^{width}} ".format(e, width=w))
             if i+1 <= n:
                 l1 += vl
             else:
@@ -684,22 +697,29 @@ class Tableau(ClonableList):
         if not self:
             return "."
 
-        if self.parent().options('convention') == "English":
-            T = self
-        else:
-            T = reversed(self)
-
         # Get the widths of the columns
-        str_tab = [[str(_) for _ in row] for row in T]
+        str_tab = [[str(_) for _ in row] for row in self]
         col_widths = [1]*len(self[0])
         for row in str_tab:
             for i,e in enumerate(row):
                 col_widths[i] = max(col_widths[i], len(e))
 
-        return "\n".join("|"
-                         + "|".join("{:^{width}}".format(e, width=col_widths[i])
-                                    for i,e in enumerate(row))
-                         + "|" for row in str_tab)
+        highlight = self.parent().options('highlight')
+        if highlight:
+            lines = ["|"
+                     + "|".join(highlight((i,j))%("{:^{width}}".format(e, width=col_widths[j]))
+                                for j, e in enumerate(row))
+                     + "|" for i, row in enumerate(str_tab)]
+        else:
+            lines = ["|"
+                     + "|".join("{:^{width}}".format(e, width=col_widths[j])
+                                for j, e in enumerate(row))
+                     + "|" for row in str_tab]
+
+        if self.parent().options('convention') == "English":
+            return "\n".join(lines)
+        else:
+            return "\n".join(reversed(lines))
 
     def _latex_(self):
         r"""
@@ -5501,6 +5521,9 @@ class Tableaux(UniqueRepresentation, Parent):
                         values=dict(English='use the English convention',French='use the French convention'),
                         case_sensitive=False)
         notation = dict(alt_name="convention")
+        highlight = dict(default=None,
+                         checker=lambda v: True,
+                         description='Sets a function specifying which cells should be highlighted')
 
     def _element_constructor_(self, t):
         r"""
```



---

archive/issue_comments_504659.json:
```json
{
    "body": "<a id='comment:10'></a>\nPlotting, latex, and unicode/ascii art are all different ways to doing this. This is a step forward as plotting is a common thing people would try and no reasonable user will be frustrated by having multiple options. Do your additions on a separate ticket. We can always add more highlighting options easily later too.",
    "created_at": "2018-10-10T21:42:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504659",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:10'></a>
Plotting, latex, and unicode/ascii art are all different ways to doing this. This is a step forward as plotting is a common thing people would try and no reasonable user will be frustrated by having multiple options. Do your additions on a separate ticket. We can always add more highlighting options easily later too.



---

archive/issue_comments_504660.json:
```json
{
    "body": "<a id='comment:11'></a>\nTravis, you misread what I wrote:\n\n> (To make \"wrong direction\" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)\n\n\nBut even your statement\n\n> no reasonable user will be frustrated by having multiple options\n\n\nis debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.\n\nAnother minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.\n\nIf you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.\n\n(In case you like my idea, feel free to develop it further, I have no time and energy for another ticket currently, sorry about that.)",
    "created_at": "2018-10-11T05:02:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504660",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:11'></a>
Travis, you misread what I wrote:

> (To make "wrong direction" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)


But even your statement

> no reasonable user will be frustrated by having multiple options


is debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.

Another minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.

If you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.

(In case you like my idea, feel free to develop it further, I have no time and energy for another ticket currently, sorry about that.)



---

archive/issue_comments_504661.json:
```json
{
    "body": "<a id='comment:12'></a>\nReplying to [mantepse](#comment%3A11):\n> Travis, you misread what I wrote:\n> \n> > (To make \"wrong direction\" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)\n\n\nI did correctly read what you wrote. Another interface means another option.\n\n> But even your statement\n> \n> > no reasonable user will be frustrated by having multiple options\n\n> \n> is debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.\n\n\n#18302 is not a valid comparisons for a few different reasons in that `show` is doing the *exact* same as another option, it is not confusing with the other \"natural\" option (i.e., not have show) and it is a debate over having one name, and `show` also does provide some behavior that is not available in other ways.\n\n`view()` versus `plot()` for crystals has to do with implemented/developed functionality. I would be a +1 for adding better `plot()` for crystals. The problem with that is that most of the vertices don't have a `plot`, so it doesn't look as nice.\n\n> Another minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.\n\n\nIt is there for any `Tableau`. Read the code. We can always change the option later if we come to a clash, but IMO this abstract concept of a possible clash argument is a fallacy.\n\n> If you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.\n\n\n+1 for having `plot` respect `convention`; that is a good point.",
    "created_at": "2018-10-11T12:53:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504661",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'></a>
Replying to [mantepse](#comment%3A11):
> Travis, you misread what I wrote:
> 
> > (To make "wrong direction" more precise: if I understand correctly, plot adds yet another interface for related functionality, which is frustrating for the user if she wants to combine functionality.)


I did correctly read what you wrote. Another interface means another option.

> But even your statement
> 
> > no reasonable user will be frustrated by having multiple options

> 
> is debatable, as, for example, #18302 exhibits some of the problems with having very many interfaces.  I also vaguely remember problems with viewing vs. plotting of crystals.


#18302 is not a valid comparisons for a few different reasons in that `show` is doing the *exact* same as another option, it is not confusing with the other "natural" option (i.e., not have show) and it is a debate over having one name, and `show` also does provide some behavior that is not available in other ways.

`view()` versus `plot()` for crystals has to do with implemented/developed functionality. I would be a +1 for adding better `plot()` for crystals. The problem with that is that most of the vertices don't have a `plot`, so it doesn't look as nice.

> Another minor point is that it will be slightly surprising that `plot` picks out `StandardTableau`, and there are no `plot` methods for the other tableaux classes.  For these I guess one might want to highlight other things (for example, the jeu de taquin path, or something we cannot think of today), which may clash with the option.


It is there for any `Tableau`. Read the code. We can always change the option later if we come to a clash, but IMO this abstract concept of a possible clash argument is a fallacy.

> If you insist on `plot` (joke: why is this method inconsistent with `m = matrix([This is the Trac macro *1,2* that was inherited from the migration](https://trac.sagemath.org/wiki/WikiMacros#1,2-macro)); m.plot()`?), please at least make it respect the `convention` option.


+1 for having `plot` respect `convention`; that is a good point.



---

archive/issue_comments_504662.json:
```json
{
    "body": "<a id='comment:13'></a>\nOK.",
    "created_at": "2018-10-11T14:03:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504662",
    "user": "https://github.com/mantepse"
}
```

<a id='comment:13'></a>
OK.



---

archive/issue_comments_504663.json:
```json
{
    "body": "**Changing branch** from \"[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)\" to \"[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)\".",
    "created_at": "2018-11-11T22:39:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504663",
    "user": "https://github.com/BruceWestbury"
}
```

**Changing branch** from "[u/tscrim/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/tscrim/plot_standard_tableau_descents-26172)" to "[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)".



---

archive/issue_comments_504664.json:
```json
{
    "body": "**Changing commit** from \"[d9cd78a48b055f28797ca83892cf278485a9a4ee](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)\" to \"[c5af91684c8730688f5cf03ccb52f25142efc60a](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)\".",
    "created_at": "2018-11-11T22:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504664",
    "user": "https://github.com/BruceWestbury"
}
```

**Changing commit** from "[d9cd78a48b055f28797ca83892cf278485a9a4ee](https://github.com/sagemath/sagetrac-mirror/commit/d9cd78a48b055f28797ca83892cf278485a9a4ee)" to "[c5af91684c8730688f5cf03ccb52f25142efc60a](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)".



---

archive/issue_comments_504665.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2018-11-11T22:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504665",
    "user": "https://github.com/BruceWestbury"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_504666.json:
```json
{
    "body": "<a id='comment:15'></a>\nTravis checked my change over my shoulder.\n\n---\n**New commits:**\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a81abce064c4e202436cdc0f43ad6cbf3ca4109d\">a81abce</a></td><td><code>Merge branch 'u/tscrim/plot_standard_tableau_descents-26172' of git://trac.sagemath.org/sage into t/26172/plot_standard_tableau_with_descents</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a\">c5af916</a></td><td><code>Fixed documentation error</code></td></tr></table>\n",
    "created_at": "2018-11-11T22:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504666",
    "user": "https://github.com/BruceWestbury"
}
```

<a id='comment:15'></a>
Travis checked my change over my shoulder.

---
**New commits:**
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a81abce064c4e202436cdc0f43ad6cbf3ca4109d">a81abce</a></td><td><code>Merge branch 'u/tscrim/plot_standard_tableau_descents-26172' of git://trac.sagemath.org/sage into t/26172/plot_standard_tableau_with_descents</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a">c5af916</a></td><td><code>Fixed documentation error</code></td></tr></table>




---

archive/issue_comments_504667.json:
```json
{
    "body": "**Resolution:** fixed",
    "created_at": "2018-11-12T21:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504667",
    "user": "https://github.com/vbraun"
}
```

**Resolution:** fixed



---

archive/issue_events_074100.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-11-12T21:11:21Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26172#event-74100"
}
```



---

archive/issue_comments_504668.json:
```json
{
    "body": "**Changing branch** from \"[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)\" to \"[c5af91684c8730688f5cf03ccb52f25142efc60a](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)\".",
    "created_at": "2018-11-12T21:11:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26172",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26172#issuecomment-504668",
    "user": "https://github.com/vbraun"
}
```

**Changing branch** from "[u/Bruce/plot_standard_tableau_descents-26172](https://github.com/sagemath/sagetrac-mirror/tree/u/Bruce/plot_standard_tableau_descents-26172)" to "[c5af91684c8730688f5cf03ccb52f25142efc60a](https://github.com/sagemath/sagetrac-mirror/commit/c5af91684c8730688f5cf03ccb52f25142efc60a)".
