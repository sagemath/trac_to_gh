# Issue 26969: Misc pip upgrades

archive/issues_026732.json:
```json
{
    "body": "CC:  @slel\n\nKeywords: upgrade, pip\n\nFollow upstream for pip packages that can be updated trivially...\n\nTarballs are already uploaded.\n\nUpdated packages:\n\n- alabaster 0.7.12 (from 0.7.10)\n- babel 2.6.0 (from 2.5.1)\n- backports_functools_lru_cache 1.5 (from 1.4)\n- bleach 3.0.2 (from 2.1.3)\n- certifi 2018.11.29 (from 2017.11.5)\n- cython 0.29.2 (from 0.29.1)\n- future 0.17.1 (from 0.16.0)\n- imagesize 1.1.0 (from 0.7.1.p0)\n- ipywidgets 7.4.2 (from 7.2.0)\n- itsdangerous 1.1.0 (from 0.24.p0)\n- jupyter_client 5.2.4 (from 5.2.3)\n- markupsafe 1.1.0 (from 1.0)\n- mistune 0.8.4 (from 0.8.3)\n- mpmath 1.1.0 (from 1.0.0)\n- nbconvert 5.4.0 (from 5.3.1)\n- notebook 5.7.4 (from 5.7.1)\n- packaging 18.0 (from 17.1)\n- pathlib2 2.3.3 (from 2.3.0)\n- pickleshare 0.7.5 (from 0.7.4)\n- pillow 5.3.0 (from 4.3.0.p0)\n- pip 18.1 (from 18.0)\n- pkgconfig 1.4.0 (from 1.2.2.p0)\n- prometheus_client 0.5.0 (from 0.3.1)\n- pygments 2.3.1 (from 2.2.0.p0)\n- pyparsing 2.3.0 (from 2.2.0)\n- pytz 2018.7 (from 2017.3)\n- pyzmq 17.1.2 (from 17.1.0)\n- scandir 1.9.0 (from 1.7)\n- scipy 1.2.0 (from 1.1.0)\n- setuptools 40.6.3 (from 40.0.0)\n- setuptools_scm 3.1.0 (from 1.15.6)\n- six 1.12.0 (from 1.11.0)\n- sphinxcontrib_websupport 1.1.0 (from 1.0.1)\n- subprocess32 3.5.3 (from 3.2.7.p0)\n- testpath 0.4.2 (from 0.3.1)\n- typing 3.6.6 (from 3.6.2)\n- werkzeug 0.14.1 (from 0.11.10.p0)\n- widgetsnbextension 3.4.2 (from 3.2.0)\n- zope_interface 4.6.0 (from 4.4.3)\n\nTwo package upgrades caused problems and are postponed:\n\n- ptyprocess\n- tornado\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/26969\n\n",
    "closed_at": "2019-01-22T12:39:56Z",
    "created_at": "2018-12-29T19:44:55Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.7",
    "title": "Misc pip upgrades",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/26969",
    "user": "https://github.com/vbraun"
}
```
CC:  @slel

Keywords: upgrade, pip

Follow upstream for pip packages that can be updated trivially...

Tarballs are already uploaded.

Updated packages:

- alabaster 0.7.12 (from 0.7.10)
- babel 2.6.0 (from 2.5.1)
- backports_functools_lru_cache 1.5 (from 1.4)
- bleach 3.0.2 (from 2.1.3)
- certifi 2018.11.29 (from 2017.11.5)
- cython 0.29.2 (from 0.29.1)
- future 0.17.1 (from 0.16.0)
- imagesize 1.1.0 (from 0.7.1.p0)
- ipywidgets 7.4.2 (from 7.2.0)
- itsdangerous 1.1.0 (from 0.24.p0)
- jupyter_client 5.2.4 (from 5.2.3)
- markupsafe 1.1.0 (from 1.0)
- mistune 0.8.4 (from 0.8.3)
- mpmath 1.1.0 (from 1.0.0)
- nbconvert 5.4.0 (from 5.3.1)
- notebook 5.7.4 (from 5.7.1)
- packaging 18.0 (from 17.1)
- pathlib2 2.3.3 (from 2.3.0)
- pickleshare 0.7.5 (from 0.7.4)
- pillow 5.3.0 (from 4.3.0.p0)
- pip 18.1 (from 18.0)
- pkgconfig 1.4.0 (from 1.2.2.p0)
- prometheus_client 0.5.0 (from 0.3.1)
- pygments 2.3.1 (from 2.2.0.p0)
- pyparsing 2.3.0 (from 2.2.0)
- pytz 2018.7 (from 2017.3)
- pyzmq 17.1.2 (from 17.1.0)
- scandir 1.9.0 (from 1.7)
- scipy 1.2.0 (from 1.1.0)
- setuptools 40.6.3 (from 40.0.0)
- setuptools_scm 3.1.0 (from 1.15.6)
- six 1.12.0 (from 1.11.0)
- sphinxcontrib_websupport 1.1.0 (from 1.0.1)
- subprocess32 3.5.3 (from 3.2.7.p0)
- testpath 0.4.2 (from 0.3.1)
- typing 3.6.6 (from 3.6.2)
- werkzeug 0.14.1 (from 0.11.10.p0)
- widgetsnbextension 3.4.2 (from 3.2.0)
- zope_interface 4.6.0 (from 4.4.3)

Two package upgrades caused problems and are postponed:

- ptyprocess
- tornado


Issue created by migration from https://trac.sagemath.org/ticket/26969





---

archive/issue_comments_375625.json:
```json
{
    "body": "Changing type from PLEASE CHANGE to enhancement.",
    "created_at": "2018-12-30T09:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375625",
    "user": "https://github.com/vbraun"
}
```

Changing type from PLEASE CHANGE to enhancement.



---

archive/issue_comments_375626.json:
```json
{
    "body": "Changing component from PLEASE CHANGE to packages: standard.",
    "created_at": "2018-12-30T09:21:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375626",
    "user": "https://github.com/vbraun"
}
```

Changing component from PLEASE CHANGE to packages: standard.



---

archive/issue_comments_375627.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2018-12-30T12:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375627",
    "user": "https://github.com/vbraun"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_375628.json:
```json
{
    "body": "New commits:",
    "created_at": "2018-12-30T12:09:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375628",
    "user": "https://github.com/vbraun"
}
```

New commits:



---

archive/issue_comments_375629.json:
```json
{
    "body": "I have an error with tornado on a machine lacking ssl (see also patchbot report):\n\n```\ntornado-5.1.1] ****************************************************\n[tornado-5.1.1] Uninstalling existing 'tornado'\n[tornado-5.1.1] Installing tornado-5.1.1\n[tornado-5.1.1] Traceback (most recent call last):\n[tornado-5.1.1]   File \"setup.py\", line 18, in <module>\n[tornado-5.1.1]     import ssl\n[tornado-5.1.1]   File \"/home/chapoton/sage/local/lib/python2.7/ssl.py\", line 98, in <module>\n[tornado-5.1.1]     import _ssl             # if we can't import it, let the error propagate\n[tornado-5.1.1] ImportError: No module named _ssl\n[tornado-5.1.1] Error: could not determine package name\n[tornado-5.1.1] ********************************************************************************\n[tornado-5.1.1] Error installing tornado-5.1.1\n[tornado-5.1.1] ********************************************************************************\n[tornado-5.1.1] \n[tornado-5.1.1] real\t0m0.061s\n[tornado-5.1.1] user\t0m0.036s\n[tornado-5.1.1] sys\t0m0.002s\n[tornado-5.1.1] ************************************************************************\n[tornado-5.1.1] Error installing package tornado-5.1.1\n[tornado-5.1.1] ************************************************************************\n```",
    "created_at": "2018-12-31T13:06:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375629",
    "user": "https://github.com/fchapoton"
}
```

I have an error with tornado on a machine lacking ssl (see also patchbot report):

```
tornado-5.1.1] ****************************************************
[tornado-5.1.1] Uninstalling existing 'tornado'
[tornado-5.1.1] Installing tornado-5.1.1
[tornado-5.1.1] Traceback (most recent call last):
[tornado-5.1.1]   File "setup.py", line 18, in <module>
[tornado-5.1.1]     import ssl
[tornado-5.1.1]   File "/home/chapoton/sage/local/lib/python2.7/ssl.py", line 98, in <module>
[tornado-5.1.1]     import _ssl             # if we can't import it, let the error propagate
[tornado-5.1.1] ImportError: No module named _ssl
[tornado-5.1.1] Error: could not determine package name
[tornado-5.1.1] ********************************************************************************
[tornado-5.1.1] Error installing tornado-5.1.1
[tornado-5.1.1] ********************************************************************************
[tornado-5.1.1] 
[tornado-5.1.1] real	0m0.061s
[tornado-5.1.1] user	0m0.036s
[tornado-5.1.1] sys	0m0.002s
[tornado-5.1.1] ************************************************************************
[tornado-5.1.1] Error installing package tornado-5.1.1
[tornado-5.1.1] ************************************************************************
```



---

archive/issue_comments_375630.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2018-12-31T14:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375630",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_375631.json:
```json
{
    "body": "on another machine, everything installs fine, but tornado is broken (maybe python3 only ?) and so breaks sagenb and jupyter notebook..\n\n```\n    from tornado.websocket import WebSocketHandler\n  File \"/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/websocket.py\", line 37, in <module>\n    from tornado.queues import Queue\n  File \"/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/queues.py\", line 35, in <module>\n    from tornado.locks import Event\n  File \"/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/locks.py\", line 18, in <module>\n    from concurrent.futures import CancelledError\nImportError: No module named concurrent.futures\n```",
    "created_at": "2018-12-31T14:10:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375631",
    "user": "https://github.com/fchapoton"
}
```

on another machine, everything installs fine, but tornado is broken (maybe python3 only ?) and so breaks sagenb and jupyter notebook..

```
    from tornado.websocket import WebSocketHandler
  File "/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/websocket.py", line 37, in <module>
    from tornado.queues import Queue
  File "/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/queues.py", line 35, in <module>
    from tornado.locks import Event
  File "/home/chapoton/sage/local/lib/python2.7/site-packages/tornado/locks.py", line 18, in <module>
    from concurrent.futures import CancelledError
ImportError: No module named concurrent.futures
```



---

archive/issue_comments_375632.json:
```json
{
    "body": "The [tornado page on PyPI](https://pypi.org/project/tornado/) still lists Python 2.7:\n\n- Requires: Python >= 2.7, !=3.0.*, !=3.1.*, !=3.2.*, != 3.3.*",
    "created_at": "2018-12-31T17:14:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375632",
    "user": "https://github.com/slel"
}
```

The [tornado page on PyPI](https://pypi.org/project/tornado/) still lists Python 2.7:

- Requires: Python >= 2.7, !=3.0.*, !=3.1.*, !=3.2.*, != 3.3.*



---

archive/issue_comments_375633.json:
```json
{
    "body": "concurrent.futures is part of python3 standard library only. There is a backport to python 2.7 called futures\n\nhttps://stackoverflow.com/questions/42377350/is-there-a-python-2-backport-for-the-concurrency-futures-package-from-python-3",
    "created_at": "2018-12-31T20:28:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375633",
    "user": "https://github.com/fchapoton"
}
```

concurrent.futures is part of python3 standard library only. There is a backport to python 2.7 called futures

https://stackoverflow.com/questions/42377350/is-there-a-python-2-backport-for-the-concurrency-futures-package-from-python-3



---

archive/issue_comments_375634.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2018-12-31T21:32:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375634",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375635.json:
```json
{
    "body": "OK lets not change tornado here\n\n---\nNew commits:",
    "created_at": "2018-12-31T21:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375635",
    "user": "https://github.com/vbraun"
}
```

OK lets not change tornado here

---
New commits:



---

archive/issue_comments_375636.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2018-12-31T21:32:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375636",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_375637.json:
```json
{
    "body": "Or we could upgrade to Tornado 4.5.3 here and leave Tornado 5.x for later\n(that's where the `futures` thing came in).",
    "created_at": "2019-01-01T17:01:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375637",
    "user": "https://github.com/slel"
}
```

Or we could upgrade to Tornado 4.5.3 here and leave Tornado 5.x for later
(that's where the `futures` thing came in).



---

archive/issue_comments_375638.json:
```json
{
    "body": "Or we could bikeshed forever and never merge the ticket...",
    "created_at": "2019-01-01T17:21:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375638",
    "user": "https://github.com/vbraun"
}
```

Or we could bikeshed forever and never merge the ticket...



---

archive/issue_comments_375639.json:
```json
{
    "body": "Let us keep the tornado update for another ticket, for sure.\n\nMy patchbot failed to install \"future\".",
    "created_at": "2019-01-01T17:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375639",
    "user": "https://github.com/fchapoton"
}
```

Let us keep the tornado update for another ticket, for sure.

My patchbot failed to install "future".



---

archive/issue_comments_375640.json:
```json
{
    "body": "Thats a race with copying files, it doesn't have anythnig to do with this ticket. I made #26990 for it.",
    "created_at": "2019-01-01T21:56:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375640",
    "user": "https://github.com/vbraun"
}
```

Thats a race with copying files, it doesn't have anythnig to do with this ticket. I made #26990 for it.



---

archive/issue_comments_375641.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2019-01-02T13:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375641",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_375642.json:
```json
{
    "body": "ok, then. Looks good to me.",
    "created_at": "2019-01-02T13:55:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375642",
    "user": "https://github.com/fchapoton"
}
```

ok, then. Looks good to me.



---

archive/issue_events_066901.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-15T18:16:10Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "milestone": "sage-8.7",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26969#event-66901"
}
```



---

archive/issue_comments_375643.json:
```json
{
    "body": "Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.",
    "created_at": "2019-01-15T18:16:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375643",
    "user": "https://github.com/embray"
}
```

Retarging tickets optimistically to the next milestone.  If you are responsible for this ticket (either its reporter or owner) and don't believe you are likely to complete this ticket before the next release (8.7) please retarget this ticket's milestone to sage-pending or sage-wishlist.



---

archive/issue_comments_375644.json:
```json
{
    "body": "Breaks pexpect on OSX",
    "created_at": "2019-01-21T19:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375644",
    "user": "https://github.com/vbraun"
}
```

Breaks pexpect on OSX



---

archive/issue_comments_375645.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2019-01-21T19:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375645",
    "user": "https://github.com/vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_375646.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2019-01-21T19:10:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375646",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_375647.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2019-01-21T19:11:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375647",
    "user": "https://github.com/vbraun"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_375648.json:
```json
{
    "body": "Thanks!",
    "created_at": "2019-01-22T08:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375648",
    "user": "https://github.com/slel"
}
```

Thanks!



---

archive/issue_comments_375649.json:
```json
{
    "body": "Changing keywords from \"\" to \"upgrade, pip\".",
    "created_at": "2019-01-22T08:49:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375649",
    "user": "https://github.com/slel"
}
```

Changing keywords from "" to "upgrade, pip".



---

archive/issue_comments_375650.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2019-01-22T12:39:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375650",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed



---

archive/issue_events_066902.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-22T12:39:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/26969#event-66902"
}
```



---

archive/issue_comments_375651.json:
```json
{
    "body": "Time for another such ticket maybe ? I would like an upgrade of cython..",
    "created_at": "2019-05-28T07:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375651",
    "user": "https://github.com/fchapoton"
}
```

Time for another such ticket maybe ? I would like an upgrade of cython..



---

archive/issue_comments_375652.json:
```json
{
    "body": "follow up at #27886",
    "created_at": "2019-05-28T18:42:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/26969",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/26969#issuecomment-375652",
    "user": "https://github.com/fchapoton"
}
```

follow up at #27886
