# Issue 26326: Upgrade networkx to 2.2, add self tests, and update random seed format

archive/issues_026089.json:
```json
{
    "assignees": [],
    "body": "Note that self tests require `nose` which is optional only.\n\nAlso, the random seeds are not passed as integers, but as `random.Random` instances, see https://networkx.github.io/documentation/stable/release/release_2.2.html#improvements\n\nZipball: https://files.pythonhosted.org/packages/f3/f4/7e20ef40b118478191cec0b58c3192f822cace858c19505c7670961b76b2/networkx-2.2.zip\n\nCC:  @embray @kiwifb @timokau\n\nBranch: **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)**\n\nReviewer: **Volker Braun, Dima Pasechnik**\n\nAuthor: **Thierry Monteil, Dima Pasechnik**\n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/26326_\n\n",
    "closed_at": "2019-01-10T17:26:57Z",
    "created_at": "2018-09-21T12:54:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.6",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade networkx to 2.2, add self tests, and update random seed format",
    "type": "issue",
    "updated_at": "2019-02-10T22:06:01Z",
    "url": "https://github.com/sagemath/sage/issues/26326",
    "user": "https://github.com/sagetrac-tmonteil"
}
```
Note that self tests require `nose` which is optional only.

Also, the random seeds are not passed as integers, but as `random.Random` instances, see https://networkx.github.io/documentation/stable/release/release_2.2.html#improvements

Zipball: https://files.pythonhosted.org/packages/f3/f4/7e20ef40b118478191cec0b58c3192f822cace858c19505c7670961b76b2/networkx-2.2.zip

CC:  @embray @kiwifb @timokau

Branch: **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)**

Reviewer: **Volker Braun, Dima Pasechnik**

Author: **Thierry Monteil, Dima Pasechnik**

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/26326_





---

archive/issue_events_359775.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T12:54:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359775"
}
```



---

archive/issue_events_359776.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T12:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "0000b0",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359776"
}
```



---

archive/issue_events_359777.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T12:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359777"
}
```



---

archive/issue_events_359778.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T12:54:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359778"
}
```



---

archive/issue_comments_405819.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n Note that self tests require `nose` which is optional only.\n \n-Tarball: \n+Zipball: https://files.pythonhosted.org/packages/f3/f4/7e20ef40b118478191cec0b58c3192f822cace858c19505c7670961b76b2/networkx-2.2.zip\n``````\n",
    "created_at": "2018-09-21T12:55:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405819",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 Note that self tests require `nose` which is optional only.
 
-Tarball: 
+Zipball: https://files.pythonhosted.org/packages/f3/f4/7e20ef40b118478191cec0b58c3192f822cace858c19505c7670961b76b2/networkx-2.2.zip
``````




---

archive/issue_comments_405820.json:
```json
{
    "body": "Branch: **[u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests)**",
    "created_at": "2018-09-21T13:00:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405820",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Branch: **[u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests)**



---

archive/issue_comments_405821.json:
```json
{
    "body": "Commit: **[`9a7dff8`](https://github.com/sagemath/sagetrac-mirror/commit/9a7dff84fbc348fc37bd76cf454c0d7b8275580c)**",
    "created_at": "2018-09-21T13:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405821",
    "user": "https://github.com/sagetrac-git"
}
```

Commit: **[`9a7dff8`](https://github.com/sagemath/sagetrac-mirror/commit/9a7dff84fbc348fc37bd76cf454c0d7b8275580c)**



---

archive/issue_comments_405822.json:
```json
{
    "body": "<div id=\"comment:3\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9a7dff84fbc348fc37bd76cf454c0d7b8275580c\"><code>9a7dff8</code></a></td><td><code>#26326 : add self tests to networkx</code></td></tr></table>\n",
    "created_at": "2018-09-21T13:25:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405822",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:3"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9a7dff84fbc348fc37bd76cf454c0d7b8275580c"><code>9a7dff8</code></a></td><td><code>#26326 : add self tests to networkx</code></td></tr></table>




---

archive/issue_events_359779.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T13:27:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359779"
}
```



---

archive/issue_comments_405823.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThere are issues with random graphs provided by networkx:\n\n```\nsage: graphs.RandomBarabasiAlbert(50,2)\nValueError: 71598026902468055907350337076908659440L cannot be used to generate a random.Random instance\n```",
    "created_at": "2018-09-21T13:41:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405823",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:5" align="right">comment:5</div>

There are issues with random graphs provided by networkx:

```
sage: graphs.RandomBarabasiAlbert(50,2)
ValueError: 71598026902468055907350337076908659440L cannot be used to generate a random.Random instance
```



---

archive/issue_events_359780.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T13:41:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359780"
}
```



---

archive/issue_events_359781.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T13:41:44Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359781"
}
```



---

archive/issue_comments_405824.json:
```json
{
    "body": "Changed commit from **[`9a7dff8`](https://github.com/sagemath/sagetrac-mirror/commit/9a7dff84fbc348fc37bd76cf454c0d7b8275580c)** to **[`68f5ad0`](https://github.com/sagemath/sagetrac-mirror/commit/68f5ad068184745b38ba6716bf967c8c956c52c5)**",
    "created_at": "2018-09-21T14:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405824",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`9a7dff8`](https://github.com/sagemath/sagetrac-mirror/commit/9a7dff84fbc348fc37bd76cf454c0d7b8275580c)** to **[`68f5ad0`](https://github.com/sagemath/sagetrac-mirror/commit/68f5ad068184745b38ba6716bf967c8c956c52c5)**



---

archive/issue_comments_405825.json:
```json
{
    "body": "<div id=\"comment:6\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/68f5ad068184745b38ba6716bf967c8c956c52c5\"><code>68f5ad0</code></a></td><td><code>#26326 : networkx 2.2 requires random.Random seeds, not integers</code></td></tr></table>\n",
    "created_at": "2018-09-21T14:36:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405825",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:6"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/68f5ad068184745b38ba6716bf967c8c956c52c5"><code>68f5ad0</code></a></td><td><code>#26326 : networkx 2.2 requires random.Random seeds, not integers</code></td></tr></table>




---

archive/issue_comments_405826.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n Note that self tests require `nose` which is optional only.\n \n+Also, the random seeds are not passed as integers, but as `random.Random` instances, see https://networkx.github.io/documentation/stable/release/release_2.2.html#improvements\n+\n Zipball: https://files.pythonhosted.org/packages/f3/f4/7e20ef40b118478191cec0b58c3192f822cace858c19505c7670961b76b2/networkx-2.2.zip\n``````\n",
    "created_at": "2018-09-21T14:38:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405826",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
 Note that self tests require `nose` which is optional only.
 
+Also, the random seeds are not passed as integers, but as `random.Random` instances, see https://networkx.github.io/documentation/stable/release/release_2.2.html#improvements
+
 Zipball: https://files.pythonhosted.org/packages/f3/f4/7e20ef40b118478191cec0b58c3192f822cace858c19505c7670961b76b2/networkx-2.2.zip
``````




---

archive/issue_events_359782.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-09-21T14:38:47Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "title_is": "Upgrade networkx to 2.2, add self tests, and update random seed format",
    "title_was": "Upgrade networkx to 2.2 and add self tests",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359782"
}
```



---

archive/issue_comments_405827.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nErik, there is an issue about the nature of random seeds provided by `current_randstate` during doctests that is not of the same type that the ones provided during a normal session. It might come from #24508, any idea on how to fix that ?",
    "created_at": "2018-09-21T14:42:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405827",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:8" align="right">comment:8</div>

Erik, there is an issue about the nature of random seeds provided by `current_randstate` during doctests that is not of the same type that the ones provided during a normal session. It might come from #24508, any idea on how to fix that ?



---

archive/issue_comments_405828.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI see; the relevant code in networkx is here: https://github.com/networkx/networkx/blob/3466b800ef241cdfe76bae875fac50ac1ab54e02/networkx/utils/misc.py#L373\n\nWhat I don't quite understand is why you changed this to `current_python` everywhere.  It should still accept a plain `int` as the RNG seed (I don't quite like how networkx uses \"seed\" to mean something else, but that's another question...)\n\nI could offer a workaround, but first I want to make sure it's really necessary to make this change in Sage, because it doesn't seem like it should be necessary.  The release notes you linked to are unclear about what they thing the best practice should be.",
    "created_at": "2018-09-21T15:28:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405828",
    "user": "https://github.com/embray"
}
```

<div id="comment:9" align="right">comment:9</div>

I see; the relevant code in networkx is here: https://github.com/networkx/networkx/blob/3466b800ef241cdfe76bae875fac50ac1ab54e02/networkx/utils/misc.py#L373

What I don't quite understand is why you changed this to `current_python` everywhere.  It should still accept a plain `int` as the RNG seed (I don't quite like how networkx uses "seed" to mean something else, but that's another question...)

I could offer a workaround, but first I want to make sure it's really necessary to make this change in Sage, because it doesn't seem like it should be necessary.  The release notes you linked to are unclear about what they thing the best practice should be.



---

archive/issue_comments_405829.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@embray](#comment%3A9):\n> I see; the relevant code in networkx is here: https://github.com/networkx/networkx/blob/3466b800ef241cdfe76bae875fac50ac1ab54e02/networkx/utils/misc.py#L373\n> \n> What I don't quite understand is why you changed this to `current_python` everywhere.  It should still accept a plain `int` as the RNG seed (I don't quite like how networkx uses \"seed\" to mean something else, but that's another question...)\n\n\nThe problem is that `current_randstate().seed()` provides longs, and apparently networkx does not like it:\n\n```\nsage: graphs.RandomBarabasiAlbert(50,2)\nValueError: 337906337582125808005456054818180223663L cannot be used to generate a random.Random instance\n```\n\nHowever it likes instances of `random.Random` objects which are provided by `current_randstate().python_random()`.\n\nMaybe should i use `current_randstate().c_random()` which is a 31bit-only integer, or `current_randstate().python_random() % sys.maxint`.\n\nI guess that they do not support long because they are going to support Python 3 only.\n\n> I could offer a workaround, but first I want to make sure it's really necessary to make this change in Sage, because it doesn't seem like it should be necessary.  The release notes you linked to are unclear about what they thing the best practice should be.",
    "created_at": "2018-09-21T15:56:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405829",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@embray](#comment%3A9):
> I see; the relevant code in networkx is here: https://github.com/networkx/networkx/blob/3466b800ef241cdfe76bae875fac50ac1ab54e02/networkx/utils/misc.py#L373
> 
> What I don't quite understand is why you changed this to `current_python` everywhere.  It should still accept a plain `int` as the RNG seed (I don't quite like how networkx uses "seed" to mean something else, but that's another question...)


The problem is that `current_randstate().seed()` provides longs, and apparently networkx does not like it:

```
sage: graphs.RandomBarabasiAlbert(50,2)
ValueError: 337906337582125808005456054818180223663L cannot be used to generate a random.Random instance
```

However it likes instances of `random.Random` objects which are provided by `current_randstate().python_random()`.

Maybe should i use `current_randstate().c_random()` which is a 31bit-only integer, or `current_randstate().python_random() % sys.maxint`.

I guess that they do not support long because they are going to support Python 3 only.

> I could offer a workaround, but first I want to make sure it's really necessary to make this change in Sage, because it doesn't seem like it should be necessary.  The release notes you linked to are unclear about what they thing the best practice should be.



---

archive/issue_comments_405830.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSo what's the status of this ticket now? Does this need review again or do you still want to change something here embray?",
    "created_at": "2018-10-10T07:40:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405830",
    "user": "https://github.com/saraedum"
}
```

<div id="comment:13" align="right">comment:13</div>

So what's the status of this ticket now? Does this need review again or do you still want to change something here embray?



---

archive/issue_comments_405831.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWith this patch I'm getting lots of test suite errors on Arch:\n\nValueError: <sage.cpython._py2_random.Random object at 0x561e012e8f50> cannot be used to generate a random.Random instance\n\nRunning the test code directly in Sage works fine. Using c_random() instead of python_random() makes the tests pass.",
    "created_at": "2018-10-14T13:57:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405831",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:14" align="right">comment:14</div>

With this patch I'm getting lots of test suite errors on Arch:

ValueError: <sage.cpython._py2_random.Random object at 0x561e012e8f50> cannot be used to generate a random.Random instance

Running the test code directly in Sage works fine. Using c_random() instead of python_random() makes the tests pass.



---

archive/issue_comments_405832.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nReplying to [@antonio-rojas](#comment%3A14):\n> With this patch I'm getting lots of test suite errors on Arch:\n> \n> ValueError: <sage.cpython._py2_random.Random object at 0x561e012e8f50> cannot be used to generate a random.Random instance\n> \n> Running the test code directly in Sage works fine. Using c_random() instead of python_random() makes the tests pass.\n\nActually no, there are still some (fewer) failures\n\n```\nFile \"/usr/lib/python2.7/site-packages/sage/graphs/graph_plot.py\", line 1286, in sage.graphs.graph_plot.GraphPlot.layout_tree\nFailed example:\n    T.show(layout='tree',tree_orientation='up') # indirect doctest\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 659, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/usr/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1070, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.graph_plot.GraphPlot.layout_tree[1]>\", line 1, in <module>\n        T.show(layout='tree',tree_orientation='up') # indirect doctest\n      File \"/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 19265, in show\n        return self.graphplot(**plot_kwds).show(**kwds)\n      File \"/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 18867, in graphplot\n        return GraphPlot(graph=self, options=options)\n      File \"/usr/lib/python2.7/site-packages/sage/graphs/graph_plot.py\", line 256, in __init__\n        self.set_pos()\n      File \"/usr/lib/python2.7/site-packages/sage/graphs/graph_plot.py\", line 340, in set_pos\n        self._pos = self._graph.layout(**self._options)\n      File \"/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 18187, in layout\n        pos = getattr(self, \"layout_%s\"%layout)(dim = dim, **options)\n      File \"/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py\", line 18443, in layout_tree\n        raise RuntimeError(\"Cannot use tree layout on this graph: \"\n    RuntimeError: Cannot use tree layout on this graph: self.is_tree() returns False.\n```\n\nAgain, running the code inside a Sage session works fine",
    "created_at": "2018-10-14T17:01:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405832",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:15" align="right">comment:15</div>

Replying to [@antonio-rojas](#comment%3A14):
> With this patch I'm getting lots of test suite errors on Arch:
> 
> ValueError: <sage.cpython._py2_random.Random object at 0x561e012e8f50> cannot be used to generate a random.Random instance
> 
> Running the test code directly in Sage works fine. Using c_random() instead of python_random() makes the tests pass.

Actually no, there are still some (fewer) failures

```
File "/usr/lib/python2.7/site-packages/sage/graphs/graph_plot.py", line 1286, in sage.graphs.graph_plot.GraphPlot.layout_tree
Failed example:
    T.show(layout='tree',tree_orientation='up') # indirect doctest
Exception raised:
    Traceback (most recent call last):
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 659, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/lib/python2.7/site-packages/sage/doctest/forker.py", line 1070, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.graph_plot.GraphPlot.layout_tree[1]>", line 1, in <module>
        T.show(layout='tree',tree_orientation='up') # indirect doctest
      File "/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 19265, in show
        return self.graphplot(**plot_kwds).show(**kwds)
      File "/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 18867, in graphplot
        return GraphPlot(graph=self, options=options)
      File "/usr/lib/python2.7/site-packages/sage/graphs/graph_plot.py", line 256, in __init__
        self.set_pos()
      File "/usr/lib/python2.7/site-packages/sage/graphs/graph_plot.py", line 340, in set_pos
        self._pos = self._graph.layout(**self._options)
      File "/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 18187, in layout
        pos = getattr(self, "layout_%s"%layout)(dim = dim, **options)
      File "/usr/lib/python2.7/site-packages/sage/graphs/generic_graph.py", line 18443, in layout_tree
        raise RuntimeError("Cannot use tree layout on this graph: "
    RuntimeError: Cannot use tree layout on this graph: self.is_tree() returns False.
```

Again, running the code inside a Sage session works fine



---

archive/issue_comments_405833.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI'm getting the same errors as Antonio on nix.",
    "created_at": "2018-10-24T15:13:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405833",
    "user": "https://github.com/timokau"
}
```

<div id="comment:16" align="right">comment:16</div>

I'm getting the same errors as Antonio on nix.



---

archive/issue_comments_405834.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\n> I guess that they do not support long because they are going to support Python 3 only.\n\nThat doesn't really make sense given that the Python 3 int type is the Python 2 long type.  Probably more likely it needs to be modulo `sys.max_size`.",
    "created_at": "2018-10-26T13:27:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405834",
    "user": "https://github.com/embray"
}
```

<div id="comment:17" align="right">comment:17</div>

> I guess that they do not support long because they are going to support Python 3 only.

That doesn't really make sense given that the Python 3 int type is the Python 2 long type.  Probably more likely it needs to be modulo `sys.max_size`.



---

archive/issue_comments_405835.json:
```json
{
    "body": "Changed commit from **[`68f5ad0`](https://github.com/sagemath/sagetrac-mirror/commit/68f5ad068184745b38ba6716bf967c8c956c52c5)** to **[`626485b`](https://github.com/sagemath/sagetrac-mirror/commit/626485bbe5f33bf143d6dfba4de9c242f757f59b)**",
    "created_at": "2018-10-26T15:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405835",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`68f5ad0`](https://github.com/sagemath/sagetrac-mirror/commit/68f5ad068184745b38ba6716bf967c8c956c52c5)** to **[`626485b`](https://github.com/sagemath/sagetrac-mirror/commit/626485bbe5f33bf143d6dfba4de9c242f757f59b)**



---

archive/issue_comments_405836.json:
```json
{
    "body": "<div id=\"comment:18\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/54ba2a32c64a1e01851960387d2899035d2b2383\"><code>54ba2a3</code></a></td><td><code>Merge branch 'u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/626485bbe5f33bf143d6dfba4de9c242f757f59b\"><code>626485b</code></a></td><td><code>#26326 : doctesting framework does not provide random.Random seeds, we use Python ints instead.</code></td></tr></table>\n",
    "created_at": "2018-10-26T15:59:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405836",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:18"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/54ba2a32c64a1e01851960387d2899035d2b2383"><code>54ba2a3</code></a></td><td><code>Merge branch 'u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests' of trac.sagemath.org:sage into HEAD</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/626485bbe5f33bf143d6dfba4de9c242f757f59b"><code>626485b</code></a></td><td><code>#26326 : doctesting framework does not provide random.Random seeds, we use Python ints instead.</code></td></tr></table>




---

archive/issue_comments_405837.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nI would have preferred to rely on `random.Random` seeds, but let us move forward with that.",
    "created_at": "2018-10-26T16:03:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405837",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:19" align="right">comment:19</div>

I would have preferred to rely on `random.Random` seeds, but let us move forward with that.



---

archive/issue_events_359783.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-10-26T16:03:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359783"
}
```



---

archive/issue_events_359784.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2018-10-26T16:03:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359784"
}
```



---

archive/issue_comments_405838.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nI'm still getting:\n\n```\nFile \"/nix/store/9h32ccgbsdjbbiw5y9lvc338w5fbskkh-sage-src-8.4/src/sage/graphs/generators/degree_sequence.py\", line 153, in sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel\nFailed example:\n    G = graphs.DegreeSequenceConfigurationModel([1,1])\nException raised:\n    Traceback (most recent call last):\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 659, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1070, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel[0]>\", line 1, in <module>\n        G = graphs.DegreeSequenceConfigurationModel([Integer(1),Integer(1)])\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/graphs/generators/degree_sequence.py\", line 177, in DegreeSequenceConfigurationModel\n        return Graph(networkx.configuration_model([int(i) for i in deg_sequence], seed=seed), loops=True, multiedges=True, sparse=True)\n      File \"<decorator-gen-154>\", line 2, in configuration_model\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/decorators.py\", line 459, in _random_state\n        random_state = create_py_random_state(random_state_arg)\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/misc.py\", line 409, in create_py_random_state\n        raise ValueError(msg % random_state)\n    ValueError: 138300676084728942938177272249092044107L cannot be used to generate a random.Random instance\n**********************************************************************\nFile \"/nix/store/9h32ccgbsdjbbiw5y9lvc338w5fbskkh-sage-src-8.4/src/sage/graphs/generators/degree_sequence.py\", line 164, in sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel\nFailed example:\n    G = graphs.DegreeSequenceConfigurationModel([3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3])\nException raised:\n    Traceback (most recent call last):\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 659, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1070, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel[2]>\", line 1, in <module>\n        G = graphs.DegreeSequenceConfigurationModel([Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3)])\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/graphs/generators/degree_sequence.py\", line 177, in DegreeSequenceConfigurationModel\n        return Graph(networkx.configuration_model([int(i) for i in deg_sequence], seed=seed), loops=True, multiedges=True, sparse=True)\n      File \"<decorator-gen-154>\", line 2, in configuration_model\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/decorators.py\", line 459, in _random_state\n        random_state = create_py_random_state(random_state_arg)\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/misc.py\", line 409, in create_py_random_state\n        raise ValueError(msg % random_state)\n    ValueError: 41203442069597040437188274198544025403L cannot be used to generate a random.Random instance\n**********************************************************************\nFile \"/nix/store/9h32ccgbsdjbbiw5y9lvc338w5fbskkh-sage-src-8.4/src/sage/graphs/generators/degree_sequence.py\", line 221, in sage.graphs.generators.degree_sequence.DegreeSequenceExpected\nFailed example:\n    G = graphs.DegreeSequenceExpected([1,2,3,2,3])\nException raised:\n    Traceback (most recent call last):\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 659, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py\", line 1070, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.graphs.generators.degree_sequence.DegreeSequenceExpected[0]>\", line 1, in <module>\n        G = graphs.DegreeSequenceExpected([Integer(1),Integer(2),Integer(3),Integer(2),Integer(3)])\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/graphs/generators/degree_sequence.py\", line 235, in DegreeSequenceExpected\n        return Graph(networkx.expected_degree_graph([int(i) for i in deg_sequence], seed=seed), loops=True)\n      File \"<decorator-gen-158>\", line 2, in expected_degree_graph\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/decorators.py\", line 459, in _random_state\n        random_state = create_py_random_state(random_state_arg)\n      File \"/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/misc.py\", line 409, in create_py_random_state\n        raise ValueError(msg % random_state)\n    ValueError: 138300676084728942938177272249092044107L cannot be used to generate a random.Random instance\n```",
    "created_at": "2018-10-27T10:53:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405838",
    "user": "https://github.com/timokau"
}
```

<div id="comment:20" align="right">comment:20</div>

I'm still getting:

```
File "/nix/store/9h32ccgbsdjbbiw5y9lvc338w5fbskkh-sage-src-8.4/src/sage/graphs/generators/degree_sequence.py", line 153, in sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel
Failed example:
    G = graphs.DegreeSequenceConfigurationModel([1,1])
Exception raised:
    Traceback (most recent call last):
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 659, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 1070, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel[0]>", line 1, in <module>
        G = graphs.DegreeSequenceConfigurationModel([Integer(1),Integer(1)])
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/graphs/generators/degree_sequence.py", line 177, in DegreeSequenceConfigurationModel
        return Graph(networkx.configuration_model([int(i) for i in deg_sequence], seed=seed), loops=True, multiedges=True, sparse=True)
      File "<decorator-gen-154>", line 2, in configuration_model
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/decorators.py", line 459, in _random_state
        random_state = create_py_random_state(random_state_arg)
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/misc.py", line 409, in create_py_random_state
        raise ValueError(msg % random_state)
    ValueError: 138300676084728942938177272249092044107L cannot be used to generate a random.Random instance
**********************************************************************
File "/nix/store/9h32ccgbsdjbbiw5y9lvc338w5fbskkh-sage-src-8.4/src/sage/graphs/generators/degree_sequence.py", line 164, in sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel
Failed example:
    G = graphs.DegreeSequenceConfigurationModel([3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3])
Exception raised:
    Traceback (most recent call last):
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 659, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 1070, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generators.degree_sequence.DegreeSequenceConfigurationModel[2]>", line 1, in <module>
        G = graphs.DegreeSequenceConfigurationModel([Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3),Integer(3)])
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/graphs/generators/degree_sequence.py", line 177, in DegreeSequenceConfigurationModel
        return Graph(networkx.configuration_model([int(i) for i in deg_sequence], seed=seed), loops=True, multiedges=True, sparse=True)
      File "<decorator-gen-154>", line 2, in configuration_model
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/decorators.py", line 459, in _random_state
        random_state = create_py_random_state(random_state_arg)
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/misc.py", line 409, in create_py_random_state
        raise ValueError(msg % random_state)
    ValueError: 41203442069597040437188274198544025403L cannot be used to generate a random.Random instance
**********************************************************************
File "/nix/store/9h32ccgbsdjbbiw5y9lvc338w5fbskkh-sage-src-8.4/src/sage/graphs/generators/degree_sequence.py", line 221, in sage.graphs.generators.degree_sequence.DegreeSequenceExpected
Failed example:
    G = graphs.DegreeSequenceExpected([1,2,3,2,3])
Exception raised:
    Traceback (most recent call last):
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 659, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/doctest/forker.py", line 1070, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generators.degree_sequence.DegreeSequenceExpected[0]>", line 1, in <module>
        G = graphs.DegreeSequenceExpected([Integer(1),Integer(2),Integer(3),Integer(2),Integer(3)])
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/sage/graphs/generators/degree_sequence.py", line 235, in DegreeSequenceExpected
        return Graph(networkx.expected_degree_graph([int(i) for i in deg_sequence], seed=seed), loops=True)
      File "<decorator-gen-158>", line 2, in expected_degree_graph
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/decorators.py", line 459, in _random_state
        random_state = create_py_random_state(random_state_arg)
      File "/nix/store/44zw4cgfi89wcyqg4p24yrs29hys03dj-python-2.7.15-env/lib/python2.7/site-packages/networkx/utils/misc.py", line 409, in create_py_random_state
        raise ValueError(msg % random_state)
    ValueError: 138300676084728942938177272249092044107L cannot be used to generate a random.Random instance
```



---

archive/issue_comments_405839.json:
```json
{
    "body": "<div id=\"comment:21\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/db10d327ade93711da735a599a67580524e6f7b4\"><code>db10d32</code></a></td><td><code>#26326 : forgot generators/degree_sequence.py (comment 20).</code></td></tr></table>\n",
    "created_at": "2018-10-27T13:36:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405839",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:21"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/db10d327ade93711da735a599a67580524e6f7b4"><code>db10d32</code></a></td><td><code>#26326 : forgot generators/degree_sequence.py (comment 20).</code></td></tr></table>




---

archive/issue_comments_405840.json:
```json
{
    "body": "Changed commit from **[`626485b`](https://github.com/sagemath/sagetrac-mirror/commit/626485bbe5f33bf143d6dfba4de9c242f757f59b)** to **[`db10d32`](https://github.com/sagemath/sagetrac-mirror/commit/db10d327ade93711da735a599a67580524e6f7b4)**",
    "created_at": "2018-10-27T13:36:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405840",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`626485b`](https://github.com/sagemath/sagetrac-mirror/commit/626485bbe5f33bf143d6dfba4de9c242f757f59b)** to **[`db10d32`](https://github.com/sagemath/sagetrac-mirror/commit/db10d327ade93711da735a599a67580524e6f7b4)**



---

archive/issue_comments_405841.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nOops, my bad, i forgot that file (i remembered about two files only). Should be OK now.",
    "created_at": "2018-10-27T13:39:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405841",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:22" align="right">comment:22</div>

Oops, my bad, i forgot that file (i remembered about two files only). Should be OK now.



---

archive/issue_events_359785.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2018-12-27T22:15:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359785"
}
```



---

archive/issue_events_359786.json:
```json
{
    "actor": "https://github.com/antonio-rojas",
    "created_at": "2018-12-27T22:15:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359786"
}
```



---

archive/issue_comments_405842.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nNeeds rebasing for 8.6.beta0",
    "created_at": "2018-12-27T22:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405842",
    "user": "https://github.com/antonio-rojas"
}
```

<div id="comment:23" align="right">comment:23</div>

Needs rebasing for 8.6.beta0



---

archive/issue_comments_405843.json:
```json
{
    "body": "Changed commit from **[`db10d32`](https://github.com/sagemath/sagetrac-mirror/commit/db10d327ade93711da735a599a67580524e6f7b4)** to **[`c584662`](https://github.com/sagemath/sagetrac-mirror/commit/c5846622cff736fa8728ef9ed5f50774fe80ddee)**",
    "created_at": "2019-01-05T11:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405843",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`db10d32`](https://github.com/sagemath/sagetrac-mirror/commit/db10d327ade93711da735a599a67580524e6f7b4)** to **[`c584662`](https://github.com/sagemath/sagetrac-mirror/commit/c5846622cff736fa8728ef9ed5f50774fe80ddee)**



---

archive/issue_comments_405844.json:
```json
{
    "body": "<div id=\"comment:24\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/c5846622cff736fa8728ef9ed5f50774fe80ddee\"><code>c584662</code></a></td><td><code>Merge and fix conflict with #26871.</code></td></tr></table>\n",
    "created_at": "2019-01-05T11:55:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405844",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:24"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/c5846622cff736fa8728ef9ed5f50774fe80ddee"><code>c584662</code></a></td><td><code>Merge and fix conflict with #26871.</code></td></tr></table>




---

archive/issue_events_359787.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-01-05T11:58:43Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359787"
}
```



---

archive/issue_events_359788.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-01-05T11:58:43Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359788"
}
```



---

archive/issue_comments_405845.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nThanks for noticing.",
    "created_at": "2019-01-05T11:58:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405845",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:25" align="right">comment:25</div>

Thanks for noticing.



---

archive/issue_events_359789.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-01-05T11:58:43Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "milestone_number": null,
    "milestone_title": "sage-8.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359789"
}
```



---

archive/issue_events_359790.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-01-05T11:58:43Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "milestone_number": null,
    "milestone_title": "sage-8.6",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359790"
}
```



---

archive/issue_comments_405846.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nNote that Debian `buster` uses networkx 2.2, so i guess this should enter Sage 8.6, see https://packages.debian.org/buster/python-networkx",
    "created_at": "2019-01-05T12:01:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405846",
    "user": "https://github.com/sagetrac-tmonteil"
}
```

<div id="comment:26" align="right">comment:26</div>

Note that Debian `buster` uses networkx 2.2, so i guess this should enter Sage 8.6, see https://packages.debian.org/buster/python-networkx



---

archive/issue_events_359791.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-05T13:48:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359791"
}
```



---

archive/issue_events_359792.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-05T13:48:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359792"
}
```



---

archive/issue_comments_405847.json:
```json
{
    "body": "Reviewer: **Volker Braun**",
    "created_at": "2019-01-05T13:48:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405847",
    "user": "https://github.com/vbraun"
}
```

Reviewer: **Volker Braun**



---

archive/issue_comments_405848.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nReplying to [@embray](#comment%3A17):\n> > I guess that they do not support long because they are going to support Python 3 only.\n\n> \n> That doesn't really make sense given that the Python 3 int type is the Python 2 long type.  Probably more likely it needs to be modulo `sys.max_size`.\n\nPerhaps it's the same issue as I've noticed with networkx before, and even fixed some of it. Basically, they don't quite respect the Python's numerical tower, if it's extended, say by numpy, or Sage.\nSee https://github.com/networkx/networkx/issues/2799\n\nBasically they did dispatch on types not quite right, e.g. `isinstance(foo,int)` instead of `isinstance(foo,numbers.Integral)`",
    "created_at": "2019-01-06T02:26:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405848",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:28" align="right">comment:28</div>

Replying to [@embray](#comment%3A17):
> > I guess that they do not support long because they are going to support Python 3 only.

> 
> That doesn't really make sense given that the Python 3 int type is the Python 2 long type.  Probably more likely it needs to be modulo `sys.max_size`.

Perhaps it's the same issue as I've noticed with networkx before, and even fixed some of it. Basically, they don't quite respect the Python's numerical tower, if it's extended, say by numpy, or Sage.
See https://github.com/networkx/networkx/issues/2799

Basically they did dispatch on types not quite right, e.g. `isinstance(foo,int)` instead of `isinstance(foo,numbers.Integral)`



---

archive/issue_events_359793.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-06T09:39:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359793"
}
```



---

archive/issue_events_359794.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-06T09:39:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359794"
}
```



---

archive/issue_comments_405849.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nDoctests fail on 32 bit: http://build.sagemath.org/#/builders/15/builds/10/steps/9/logs/stdio",
    "created_at": "2019-01-06T09:39:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405849",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:29" align="right">comment:29</div>

Doctests fail on 32 bit: http://build.sagemath.org/#/builders/15/builds/10/steps/9/logs/stdio



---

archive/issue_comments_405850.json:
```json
{
    "body": "<div id=\"comment:30\"></div>\n\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/38ac59fd57ab96215557f760948fd1c36e41ab25\"><code>38ac59f</code></a></td><td><code>#26326 : reorder creation of random graphs to avoid creating an empty one by bad luck on 32-bit systems.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/011a4648f4677a150a8da31499123a07e1ad0700\"><code>011a464</code></a></td><td><code>#26326 : 32-bit vs 64-bit doctests</code></td></tr></table>\n",
    "created_at": "2019-01-06T22:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405850",
    "user": "https://github.com/sagetrac-git"
}
```

<div id="comment:30"></div>

Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/38ac59fd57ab96215557f760948fd1c36e41ab25"><code>38ac59f</code></a></td><td><code>#26326 : reorder creation of random graphs to avoid creating an empty one by bad luck on 32-bit systems.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/011a4648f4677a150a8da31499123a07e1ad0700"><code>011a464</code></a></td><td><code>#26326 : 32-bit vs 64-bit doctests</code></td></tr></table>




---

archive/issue_comments_405851.json:
```json
{
    "body": "Changed commit from **[`c584662`](https://github.com/sagemath/sagetrac-mirror/commit/c5846622cff736fa8728ef9ed5f50774fe80ddee)** to **[`011a464`](https://github.com/sagemath/sagetrac-mirror/commit/011a4648f4677a150a8da31499123a07e1ad0700)**",
    "created_at": "2019-01-06T22:26:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405851",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[`c584662`](https://github.com/sagemath/sagetrac-mirror/commit/c5846622cff736fa8728ef9ed5f50774fe80ddee)** to **[`011a464`](https://github.com/sagemath/sagetrac-mirror/commit/011a4648f4677a150a8da31499123a07e1ad0700)**



---

archive/issue_events_359795.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-01-06T22:45:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359795"
}
```



---

archive/issue_events_359796.json:
```json
{
    "actor": "https://github.com/sagetrac-tmonteil",
    "created_at": "2019-01-06T22:45:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359796"
}
```



---

archive/issue_comments_405852.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\nlets give it a try",
    "created_at": "2019-01-06T23:06:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405852",
    "user": "https://github.com/vbraun"
}
```

<div id="comment:32" align="right">comment:32</div>

lets give it a try



---

archive/issue_events_359797.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-06T23:06:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359797"
}
```



---

archive/issue_events_359798.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-06T23:06:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359798"
}
```



---

archive/issue_events_359799.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-10T10:32:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359799"
}
```



---

archive/issue_events_359800.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2019-01-10T10:32:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359800"
}
```



---

archive/issue_comments_405853.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\non python3:\n\n```\n----> 1 sys.maxint\n\nAttributeError: module 'sys' has no attribute 'maxint'\n```\n\n**EDIT**:\n\nsys.maxsize is the correct replacement, I think\n\nhttps://stackoverflow.com/questions/13795758/what-is-sys-maxint-in-python-3",
    "created_at": "2019-01-10T10:32:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405853",
    "user": "https://github.com/fchapoton"
}
```

<div id="comment:33" align="right">comment:33</div>

on python3:

```
----> 1 sys.maxint

AttributeError: module 'sys' has no attribute 'maxint'
```

**EDIT**:

sys.maxsize is the correct replacement, I think

https://stackoverflow.com/questions/13795758/what-is-sys-maxint-in-python-3



---

archive/issue_comments_405854.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nthat's right, sys.maxsize works for py3 and py2. Who's going to update this?",
    "created_at": "2019-01-10T10:44:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405854",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:34" align="right">comment:34</div>

that's right, sys.maxsize works for py3 and py2. Who's going to update this?



---

archive/issue_comments_405855.json:
```json
{
    "body": "<div id=\"comment:35\"></div>\n\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c\"><code>8d125d0</code></a></td><td><code>maxint -> maxsize, for py2/3 compatibility</code></td></tr></table>\n",
    "created_at": "2019-01-10T11:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405855",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:35"></div>

New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c"><code>8d125d0</code></a></td><td><code>maxint -> maxsize, for py2/3 compatibility</code></td></tr></table>




---

archive/issue_comments_405856.json:
```json
{
    "body": "Changed commit from **[`011a464`](https://github.com/sagemath/sagetrac-mirror/commit/011a4648f4677a150a8da31499123a07e1ad0700)** to **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)**",
    "created_at": "2019-01-10T11:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405856",
    "user": "https://github.com/dimpase"
}
```

Changed commit from **[`011a464`](https://github.com/sagemath/sagetrac-mirror/commit/011a4648f4677a150a8da31499123a07e1ad0700)** to **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)**



---

archive/issue_comments_405857.json:
```json
{
    "body": "Changed author from **Thierry Monteil** to **Thierry Monteil, Dima Pasechnik**",
    "created_at": "2019-01-10T11:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405857",
    "user": "https://github.com/dimpase"
}
```

Changed author from **Thierry Monteil** to **Thierry Monteil, Dima Pasechnik**



---

archive/issue_events_359801.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-10T11:33:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359801"
}
```



---

archive/issue_events_359802.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-10T11:33:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359802"
}
```



---

archive/issue_comments_405858.json:
```json
{
    "body": "Changed branch from **[u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests)** to **[u/dimpase/packages/networkx22](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx22)**",
    "created_at": "2019-01-10T11:33:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405858",
    "user": "https://github.com/dimpase"
}
```

Changed branch from **[u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests](https://github.com/sagemath/sagetrac-mirror/tree/u/tmonteil/upgrade_networkx_to_2_2_and_add_self_tests)** to **[u/dimpase/packages/networkx22](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx22)**



---

archive/issue_comments_405859.json:
```json
{
    "body": "Changed reviewer from **Volker Braun** to **Volker Braun, Dima Pasechnik**",
    "created_at": "2019-01-10T12:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405859",
    "user": "https://github.com/dimpase"
}
```

Changed reviewer from **Volker Braun** to **Volker Braun, Dima Pasechnik**



---

archive/issue_comments_405860.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\ntests pass on py2. \n\nOn py3 there are 6 different formatting/ordering-induced test failures in ` src/sage/graphs/generators/random.py`. I suppose this is for another ticket.",
    "created_at": "2019-01-10T12:01:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405860",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:36" align="right">comment:36</div>

tests pass on py2. 

On py3 there are 6 different formatting/ordering-induced test failures in ` src/sage/graphs/generators/random.py`. I suppose this is for another ticket.



---

archive/issue_events_359803.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-10T12:01:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359803"
}
```



---

archive/issue_events_359804.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2019-01-10T12:01:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359804"
}
```



---

archive/issue_events_359805.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2019-01-10T17:26:57Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359805"
}
```



---

archive/issue_events_359806.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "e9df9ef053b87d42bdc3e348c29f3f6a16e5cdea",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2019-01-10T17:26:57Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/26326#event-359806"
}
```



---

archive/issue_comments_405861.json:
```json
{
    "body": "Changed branch from **[u/dimpase/packages/networkx22](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx22)** to **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)**",
    "created_at": "2019-01-10T17:26:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405861",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/dimpase/packages/networkx22](https://github.com/sagemath/sagetrac-mirror/tree/u/dimpase/packages/networkx22)** to **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)**



---

archive/issue_comments_405862.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nThis breaks building with `SAGE_CHECK=\"yes\"`, see #27253.",
    "created_at": "2019-02-10T22:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405862",
    "user": "https://github.com/Konrad127123"
}
```

<div id="comment:38" align="right">comment:38</div>

This breaks building with `SAGE_CHECK="yes"`, see #27253.



---

archive/issue_comments_405863.json:
```json
{
    "body": "Changed commit from **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)** to none",
    "created_at": "2019-02-10T22:06:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/26326",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/26326#issuecomment-405863",
    "user": "https://github.com/Konrad127123"
}
```

Changed commit from **[`8d125d0`](https://github.com/sagemath/sagetrac-mirror/commit/8d125d0f7bb7ce5ac347dc4fc979a134feccd11c)** to none
