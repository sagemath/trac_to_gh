# Issue 30320: Add spkg-configure.m4 for openssl

Issue created by migration from https://trac.sagemath.org/ticket/30557

Original creator: mkoeppe

Original creation time: 2020-09-11 18:20:05

CC:  @mwageringel dimpase mjo slelievre

So that `./configure` can suggest the necessary system packages for Sage's python3 SPKG to build with ssl.


---

Comment by mkoeppe created at 2020-09-11 21:25:47

Our check should be compatible with 
- https://github.com/python/cpython/blob/master/m4/ax_check_openssl.m4
- https://github.com/python/cpython/blob/master/configure.ac#L5698 
- https://github.com/python/cpython/blob/master/setup.py#L2334


---

Comment by git created at 2020-09-11 21:42:07

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-09-11 21:42:58

Changing status from new to needs_review.


---

Comment by mkoeppe created at 2020-09-12 16:51:20

Ready for review


---

Comment by @mwageringel created at 2020-09-12 17:10:54

I do not know autotools well enough to review this, but on my Ubuntu machine lacking libssl-dev, this now seems to work:

```
configure: notice: the following SPKGs did not find equivalent system packages: ... openssl ...
checking for the package system in use... debian
configure: hint: installing the following system packages is recommended and may avoid building some of the above SPKGs from source:
configure:   $ sudo apt-get update
  $ sudo apt-get install ... openssl libssl-dev ...
```



---

Comment by dimpase created at 2020-09-13 07:00:51

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-09-13 07:00:51

ok, it just calls a semi-standard macro for recognising openssl.


---

Comment by mkoeppe created at 2020-09-13 15:48:12

Thanks


---

Comment by vbraun created at 2020-09-18 20:23:10

Resolution: fixed
