# Issue 31417: copy_from for scalar fields

Issue created by migration from https://trac.sagemath.org/ticket/31654

Original creator: @mjungmath

Original creation time: 2021-04-11 16:40:16

CC:  egourgoulhon tscrim

Keywords: scalarfields

In this ticket we equip scalar fields with a method `copy_from` as we did for tensor fields in #28628.


---

Comment by @mjungmath created at 2021-04-11 16:41:18

New commits:


---

Comment by @mjungmath created at 2021-04-11 16:41:18

Changing status from new to needs_review.


---

Comment by @mjungmath created at 2021-04-11 16:41:18

Changing type from PLEASE CHANGE to enhancement.


---

Comment by git created at 2021-04-11 16:48:11

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @mjungmath created at 2021-04-11 16:53:21

Copying the restrictions seems unnecessary. All information should be contained in the expressions.


---

Comment by git created at 2021-04-11 17:00:33

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DaveWitteMorris created at 2021-04-11 18:41:56

Sorry!!! I pushed my branch to the wrong ticket (typo).
----
New commits:


---

Comment by @DaveWitteMorris created at 2021-04-11 18:44:30

New commits:


---

Comment by @mjungmath created at 2021-04-11 18:56:37

No worries. I am just happy so see that I am not the only one doing these kind of mistakes. :D


---

Comment by @DaveWitteMorris created at 2021-04-11 19:07:48

Thanks very much for your understanding.  Please be sure your ticket is set back to the correct branch.  I tried to fix it, but I don't really understand trac, so I'm confused and I think may have made things worse: I set the branch to `u/gh-mjungmath/copy_from_scalarfields` but it looks like maybe it should be `public/ticket/21991`. (PS my branch was intended for #31645, and is now there.)


---

Comment by @mjungmath created at 2021-04-11 19:12:06

Branch looks fine.


---

Comment by @mjungmath created at 2021-04-11 20:26:45

Patchbot is green.


---

Comment by tscrim created at 2021-04-11 22:51:13

LGTM.


---

Comment by tscrim created at 2021-04-11 22:51:13

Changing status from needs_review to positive_review.


---

Comment by @mjungmath created at 2021-04-11 23:11:47

Thanks for the review!


---

Comment by git created at 2021-04-12 00:17:24

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by git created at 2021-04-12 00:17:24

Changing status from positive_review to needs_review.


---

Comment by @mjungmath created at 2021-04-12 00:17:51

Sorry, I was a little sloppy here and simply copied the code. This name thingy is actually not needed.


---

Comment by @mjungmath created at 2021-04-12 00:18:25

Thus, needs a new review (waiting for patchbot).


---

Comment by tscrim created at 2021-04-12 00:55:35

green bot => positive review


---

Comment by slelievre created at 2021-04-12 08:53:35

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-04-12 09:04:13

Changing status from positive_review to needs_work.


---

Comment by slelievre created at 2021-04-12 09:04:13

In both `tensorfield.py` and `scalarfield.py`, maybe change

```diff
-        Make ``self`` to a copy of ``other``.
+        Make ``self`` a copy of ``other``.
```


Maybe rephrase this:

```diff
-        - ``other`` -- other scalar field in the very same module from which
-          ``self`` should be a copy of
+        - ``other`` -- other scalar field, in the same module as ``self``
```


Maybe remove the + sign here?

```diff
             raise TypeError("the original must be an element "
-                            + "of {}".format(self.parent()))
+                            "of {}".format(self.parent()))
```


Or feel free to ignore these suggestions and move back to positive review.


---

Comment by git created at 2021-04-12 10:09:31

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @mjungmath created at 2021-04-12 10:10:40

Changing status from needs_work to needs_review.


---

Comment by @mjungmath created at 2021-04-12 10:10:40

Done. Thank you. :)


---

Comment by slelievre created at 2021-04-12 13:47:53

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-06-06 13:18:08

Resolution: fixed
