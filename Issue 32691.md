# Issue 32691: Remove "jobserver unavailable: using -j1.  Add '+' to parent make rule" warning when building the pdf documentation

Issue created by migration from https://trac.sagemath.org/ticket/32928

Original creator: strogdon

Original creation time: 2021-11-24 19:32:02

When building the pdf documentation every time the sage docbuilder runs a Makefile to convert .tex source to .pdf files there appears a `jobserver` warning. The first occurrence is:

```
[reference] processing references.tex... index
[reference] resolving references...
[reference] done
[reference] writing... done
[reference] copying TeX support files... copying TeX support files...
[reference] done
[reference] The LaTeX files are in local/share/doc/sage/latex/en/reference/references.
[reference] Run 'make' in that directory to run these through (pdf)latex
[reference] (use `make latexpdf' here to do that automatically).
LaTeX file written to /local/sage-git/sage/local/share/doc/sage/latex/en/reference/references
make[5]: warning: jobserver unavailable: using -j1.  Add '+' to parent make rule.
latexmk -pdf -dvi- -ps-  'references.tex'
```



---

Comment by strogdon created at 2021-11-24 19:40:45

New commits:


---

Comment by strogdon created at 2021-11-24 19:43:21

After installing the above branch the building of `references.pdf` now appears as

```
[reference] processing references.tex... index
[reference] resolving references...
[reference] done
[reference] writing... done
[reference] copying TeX support files... copying TeX support files...
[reference] done
[reference] The LaTeX files are in local/share/doc/sage/latex/en/reference/references.
[reference] Run 'make' in that directory to run these through (pdf)latex
[reference] (use `make latexpdf' here to do that automatically).
LaTeX file written to /local/sage-git/sage/local/share/doc/sage/latex/en/reference/references
latexmk -pdf -dvi- -ps-  'references.tex'
```



---

Comment by strogdon created at 2021-11-24 19:46:20

Changing status from new to needs_review.


---

Comment by strogdon created at 2021-11-24 19:46:20

Apparently `close_fds=True` is the default. I believe `close_fds=False` was the default at one time.


---

Comment by dimpase created at 2021-11-24 21:42:58

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2021-11-24 21:42:58

Looks good, thanks.


---

Comment by fbissey created at 2021-11-25 07:14:32

Thanks for reviewing Dima.


---

Comment by vbraun created at 2021-12-12 11:27:40

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2021-12-12 11:27:40

Merge conflict


---

Comment by fbissey created at 2021-12-13 00:44:46

Changing status from needs_work to needs_review.


---

Comment by fbissey created at 2021-12-13 00:44:46

Rebasing on 9.5.beta8. Some spaces where introduced in the touched lines by another ticket.
----
New commits:


---

Comment by fbissey created at 2021-12-13 00:46:30

Should go back to positive review. Only trivial changes were made.


---

Comment by fbissey created at 2021-12-13 00:46:30

Changing status from needs_review to positive_review.


---

Comment by strogdon created at 2021-12-13 01:24:11

Yes, I tried earlier in the day to push these rebased changes but was unable to push a new branch? Thanks for fixing this.


---

Comment by fbissey created at 2021-12-13 01:25:53

There was a git/trac outage in the last 24 hours I believe. That may have been the reason.


---

Comment by vbraun created at 2021-12-23 20:25:56

Resolution: fixed
