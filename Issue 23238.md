# Issue 23238: py3: better handling of unicode repr in sage object

Issue created by migration from Trac.

Original creator: chapoton

Original creation time: 2017-07-19 20:26:30

CC:  tscrim jdemeyer jhpalmieri

do not encode if unicode when running python3


---

Comment by chapoton created at 2017-07-19 20:27:12

New commits:


---

Comment by chapoton created at 2017-07-19 20:27:12

Changing status from new to needs_review.


---

Comment by chapoton created at 2017-07-20 11:40:13

bot seems to be morally green..


---

Comment by tscrim created at 2017-07-20 13:30:06

Wouldn't it be easier just to check the major version number of Python?

```
            import sys
            if sys.version_info[0] < 3 and isinstance(result, unicode):
                # Py3 compatibility: allow _repr_ to return unicode
                return result.encode('utf-8')
            else:
                return result
```



---

Comment by git created at 2017-07-21 07:27:01

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2017-07-21 08:50:08

done


---

Comment by chapoton created at 2017-07-21 16:46:25

ping


---

Comment by tscrim created at 2017-07-21 22:15:56

pong


---

Comment by tscrim created at 2017-07-21 22:15:56

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-07-31 20:19:34

Resolution: fixed
