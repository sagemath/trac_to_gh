# Issue 17323: Implement (quantum) Mobius algebras

Issue created by migration from https://trac.sagemath.org/ticket/17560

Original creator: tscrim

Original creation time: 2014-12-28 04:49:24

Assignee: sage-combinat

CC:  sage-combinat

Keywords: posets, mobius algebra

Based on _The Kazhdan-Lusztig polynomial of a matroid_ by Ben Elias, Nicholas Proudfoot, and Max Wakefield by recently posted to the arXiv (1412.7408), this implements their results for general graded lattices. In particular, this implements the Mobius algebra, and it's q-deformation (which I've coined as the quantum Mobius algebra). This also implements KL polynomials for general graded posets.

In particular, you can use #14786 and recover the KL polynomials. However the code in its current state is quite slow (most of the time is spent constructing the digraphs for the posets), but faster implementations can be done on followup tickets.



---

Comment by tscrim created at 2014-12-28 04:50:07

Changing status from new to needs_review.


---

Comment by tscrim created at 2014-12-28 04:50:07

New commits:


---

Comment by git created at 2015-05-01 03:01:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2015-08-09 12:23:45

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2015-08-09 12:23:45

needs rebase, does not apply


---

Comment by git created at 2015-09-02 14:35:02

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-09-02 14:35:27

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-09-25 03:49:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kdilks created at 2015-10-13 21:51:44

Still need to play around with the code, once I wrap my head around everything, but a few preliminary comments:

* E and C bases for quantum mobius algebras just say that they're bases for mobius algebras in the docstring (KL does specify quantum mobius algebra).
* Throw in the word 'principal' when referring to `I_x` and `F^x` being the order ideal and filter associated to x, just to make it clear.
* I think the assumptions related to `kazhdan_lusztig_polynomial()` need to be cleaned up some. The docstring says it's defined for a graded, bounded poset. The paper makes me think it should only be defined for geometric lattices (ie, corresponding to a matroid). And the code only checks to see if the poset is ranked.


---

Comment by git created at 2015-10-15 03:47:46

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-10-15 03:57:51

Replying to [comment:8 kdilks]:
> * E and C bases for quantum mobius algebras just say that they're bases for mobius algebras in the docstring (KL does specify quantum mobius algebra).

Fixed.

> * Throw in the word 'principal' when referring to `I_x` and `F^x` being the order ideal and filter associated to x, just to make it clear.

Fixed.

> * I think the assumptions related to `kazhdan_lusztig_polynomial()` need to be cleaned up some. The docstring says it's defined for a graded, bounded poset. The paper makes me think it should only be defined for geometric lattices (ie, corresponding to a matroid). And the code only checks to see if the poset is ranked.

If you go through their definitions, you find you just need these conditions (I confirmed this from the authors). I only need to check the ranked (graded) conditions because the finiteness guarantees bounded.


---

Comment by chapoton created at 2015-10-16 15:10:28

Changing status from needs_review to needs_work.


---

Comment by chapoton created at 2015-10-16 15:10:28

does not apply


---

Comment by git created at 2015-10-16 19:23:23

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2015-10-16 19:23:41

Changing status from needs_work to needs_review.


---

Comment by git created at 2015-10-17 07:00:13

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-10-17 10:11:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kdilks created at 2015-10-17 20:33:57

I would consider having `R=ZZ` as a default for `mobius_algebra`. Otherwise, looks good, feel free to make that change if you want and set a positive review on my behalf.

Also, if the convention is going to be to use `moebius` instead of `mobius` in function names, then the existing mobius function will need to be changed.


---

Comment by tscrim created at 2015-10-17 21:36:36

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2015-10-17 21:36:36

Replying to [comment:16 kdilks]:
> I would consider having `R=ZZ` as a default for `mobius_algebra`. Otherwise, looks good, feel free to make that change if you want and set a positive review on my behalf.

I would rather not set a default as we don't have any default rings for any algebra (at least as far as I remember). Thanks for doing the review.

> Also, if the convention is going to be to use `moebius` instead of `mobius` in function names, then the existing mobius function will need to be changed.

Yea, we probably should do that on a followup ticket. (FYI, the reason I switched the name is because Moebius appears in more files and more often than Mobius.)


---

Comment by vbraun created at 2015-10-18 19:11:28

Resolution: fixed
