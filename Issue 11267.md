# Issue 11267: optional package mpi4py-1.1.0.spkg does not build on sage-4.7.1.alpha1

Issue created by migration from Trac.

Original creator: mariah

Original creation time: 2011-06-07 14:45:44

Assignee: tbd

The optional package mpi4py-1.1.0.spkg does not build on skynet/eno (x86_64-Linux-core2-fc) on sage-4.7.1.alpha1:


```
...
/usr/local/gcc-4.6.0/x86_64-Linux-core2-fc/bin/gcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -fPIC -I/home/mariah/sage/sage-4.7.1.alpha1-x86_64-Linux-core2-fc/local/include/python2.6 -c src/MPI.c -o build/temp.linux-x86_64-2.6/src/MPI.o
In file included from src/MPI.c:3:0:
src/mpi4py.MPI.c:135:17: fatal error: mpi.h: No such file or directory
compilation terminated.
error: command '/usr/local/gcc-4.6.0/x86_64-Linux-core2-fc/bin/gcc' failed with exit status 1

real    0m0.392s
user    0m0.141s
sys     0m0.097s
sage: An error occurred while installing mpi4py-1.1.0
```




---

Comment by was created at 2011-08-24 23:42:35

Changing keywords from "" to "sd32".


---

Comment by swenson created at 2012-01-22 21:08:05

Does eno have an MPI package installed, like mpich?


---

Comment by vbraun created at 2012-05-25 05:50:48

Changing keywords from "sd32" to "sd32, sd40.5".


---

Comment by vbraun created at 2012-05-25 05:50:48

The mpi4py spkg relies on 
  * either the optional openmpi spkg, or
  * a standard mpi compiler wrapper (like `mpic++`) in the path
If neither is installed, the installation of mpi4py fails. The error message should be amended to point the user to the openmpi spkg, or explain how to use the `MPICXX` etc. environment variables.


---

Comment by jdemeyer created at 2015-09-13 08:36:30

Not a bug since the dependency was missing.


---

Comment by jdemeyer created at 2015-09-13 08:36:40

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2015-09-13 08:36:45

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2015-09-25 08:28:20

Resolution: worksforme
