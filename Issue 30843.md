# Issue 30843: Replace startup exception by warning

Issue created by migration from https://trac.sagemath.org/ticket/31080

Original creator: @tobiasdiez

Original creation time: 2020-12-19 09:05:19

CC:  mkoeppe chapoton tscrim jhpalmieri slabbe

In #22752 it was introduced that when a lazy import is used during startup, then an RuntimeException is thrown. This leads to problems if you want to use code with lazy imports in a library mode (e.g. in standalone tests or python scripts). To support these use cases, I've degraded the exception to a print statement.


---

Comment by @tobiasdiez created at 2020-12-19 09:05:26

Changing status from new to needs_review.


---

Comment by git created at 2020-12-19 09:09:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-12-19 17:26:04

#22752 was not merged


---

Comment by mkoeppe created at 2020-12-19 17:27:01

Should this not use `warning.warn`?


---

Comment by @tobiasdiez created at 2020-12-19 18:39:02

Replying to [comment:3 mkoeppe]:
> #22752 was not merged

Ok, it was in https://github.com/sagemath/sage/commit/8aac18a6b165bc397ccaeaba0b596797e900b0f1. No idea which ticket this corresponds to.


---

Comment by @tobiasdiez created at 2020-12-19 18:39:50

Replying to [comment:4 mkoeppe]:
> Should this not use `warning.warn`?

Not sure, the other code in that file also used simple print statements.


---

Comment by mkoeppe created at 2020-12-19 18:41:57

Replying to [comment:5 gh-tobiasdiez]:
> Replying to [comment:3 mkoeppe]:
> > #22752 was not merged
> 
> Ok, it was in https://github.com/sagemath/sage/commit/8aac18a6b165bc397ccaeaba0b596797e900b0f1. No idea which ticket this corresponds to.

`git trac find` thinks it's #22755


---

Comment by mkoeppe created at 2020-12-20 22:41:06

Changing status from needs_review to positive_review.


---

Comment by git created at 2020-12-20 22:56:33

Changing status from positive_review to needs_review.


---

Comment by git created at 2020-12-20 22:56:33

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. New commits:


---

Comment by @tobiasdiez created at 2020-12-20 22:57:22

Changing status from needs_review to positive_review.


---

Comment by @tobiasdiez created at 2020-12-20 22:57:22

Thanks!

I just fixed the failing doctest as well.


---

Comment by vbraun created at 2020-12-27 00:22:44

Resolution: fixed
