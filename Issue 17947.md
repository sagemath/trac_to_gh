# Issue 17947: CombinatorialObject constructor should copy input

Issue created by migration from https://trac.sagemath.org/ticket/18184

Original creator: jdemeyer

Original creation time: 2015-04-14 09:21:22

Constructing a `Partition` (or more generally, a `CombinatorialObject`) from a list does not copy this list, leading to:

```
sage: L = IntegerListsLex(max_slope=-1, element_class=Partition)
sage: x = [3,2,1]
sage: P = L(x)
sage: x[0] = 5
sage: list(P)
[5, 2, 1]
```


In the `IntegerListsLex` implementation in #17979, a work-around was added for this. Instead, fix this by copying the input.


---

Comment by vdelecroix created at 2015-04-14 09:45:16

What about a keyword `copy` in the constructor (which would be `True` by default)? You can save a lot of time by not copying the list. This is what we did in `sage.combinat.designs.incidence_structures.IncidenceStructure`.

Vincent


---

Comment by jdemeyer created at 2015-04-14 11:07:07

New commits:


---

Comment by jdemeyer created at 2015-04-14 11:07:07

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2015-04-14 11:11:41

Changing status from needs_review to positive_review.


---

Comment by vdelecroix created at 2015-04-14 11:11:41

Looks good (and all tests pass).

Vincent


---

Comment by ncohen created at 2015-04-14 13:05:20

Maybe someday we should do something about the name, by the way. 

```
CombinatorialObject provides a thin wrapper around a list
```


Next to everything I work with is a combinatorial object, and very few of them are lists.

Nathann


---

Comment by vbraun created at 2015-04-15 06:07:25

Resolution: fixed
