# Issue 17435: Doctest failure in orthogonal_arrays.py

Issue created by migration from https://trac.sagemath.org/ticket/17672

Original creator: jdemeyer

Original creation time: 2015-01-25 21:58:37

CC:  ncohen


```
sage -t src/sage/combinat/designs/orthogonal_arrays.py
**********************************************************************
File "src/sage/combinat/designs/orthogonal_arrays.py", line 1191, in sage.combinat.designs.orthogonal_arrays.incomplete_orthogonal_array
Failed example:
    for i in range(10):
        iOA.extend([[153-9*(i+1)+x for x in B] for B in OA9])
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.designs.orthogonal_arrays.incomplete_orthogonal_array[27]>", line 2, in <module>
        iOA.extend([[Integer(153)-Integer(9)*(i+Integer(1))+x for x in B] for B in OA9])
    NameError: name 'iOA' is not defined
**********************************************************************
File "src/sage/combinat/designs/orthogonal_arrays.py", line 1193, in sage.combinat.designs.orthogonal_arrays.incomplete_orthogonal_array
Failed example:
    is_orthogonal_array(iOA,10,153)
Exception raised:
    Traceback (most recent call last):
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 488, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/usr/local/src/sage-config/local/lib/python2.7/site-packages/sage/doctest/forker.py", line 850, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.combinat.designs.orthogonal_arrays.incomplete_orthogonal_array[28]>", line 1, in <module>
        is_orthogonal_array(iOA,Integer(10),Integer(153))
    NameError: name 'iOA' is not defined
**********************************************************************
```



---

Comment by vbraun created at 2015-01-26 00:09:28

Nathan! ;-)


---

Comment by ncohen created at 2015-01-26 07:43:23

Changing status from new to needs_review.


---

Comment by ncohen created at 2015-01-26 07:43:23

> Nathan! ;-)

Gladly. But with two final 'n' `:-P`

Nathann


---

Comment by git created at 2015-01-26 07:44:05

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by vdelecroix created at 2015-01-26 08:45:22

Changing status from needs_review to positive_review.


---

Comment by ncohen created at 2015-01-26 09:06:54

Thanks.

We have been found guilty of never running tests without the `-l` flag.

Nathann


---

Comment by dimpase created at 2015-01-26 09:43:27

Replying to [comment:2 ncohen]:
> > Nathan! ;-)
> 
> Gladly. But with two final 'n' `:-P`
> 
> Nathann

undefined `iOA` looked like someone has hit an extra `i` in vi, and so I guess Volker was trying to make this clear :-)


---

Comment by vbraun created at 2015-01-29 13:26:18

Resolution: fixed
