# Issue 33826: pycodestyle cleanup in src/sage/graphs/base/

Issue created by migration from https://trac.sagemath.org/ticket/34063

Original creator: dcoudert

Original creation time: 2022-06-24 15:24:51

We fix some issues in `src/sage/graphs/base/`, except for file `static_sparse_graph.pyx` done in #34053.


---

Comment by dcoudert created at 2022-06-24 16:41:26

New commits:


---

Comment by dcoudert created at 2022-06-24 16:41:26

Changing status from new to needs_review.


---

Comment by klee created at 2022-06-30 02:00:39

This is a commented-out code, not a comment. The extra space you put destroys the indentation.


```diff
diff --git a/src/sage/graphs/base/c_graph.pyx b/src/sage/graphs/base/c_graph.pyx
index b99fc36241..99682e5231 100644
--- a/src/sage/graphs/base/c_graph.pyx
+++ b/src/sage/graphs/base/c_graph.pyx
@@ -4207,7 +4207,7 @@ cdef class CGraphBackend(GenericGraphBackend):
         # If the graph is not connected, vertices which have not been
         # seen should be associated to the empty path
 
-        # for 0 <= v_int < (<CGraph>self._cg).active_vertices.size:
+        #for 0 <= v_int < (<CGraph>self._cg).active_vertices.size:
         #    if bitset_in((<CGraph>self._cg).active_vertices, v_int) and not bitset_in(seen, v_int):
         #        distances[vertex_label(v_int, self.vertex_ints, self.vertex_labels, self._cg)] = []
```


You replace the ambiguous name `l` with `label`. But this name `l` seems also used in other names like `l_int` and `l_int_other`. I think using the same name `l` consistently makes the code more readable. And `l` is as short as `v`, which remains.
 

```diff
diff --git a/src/sage/graphs/base/static_sparse_backend.pyx b/src/sage/graphs/base/static_sparse_backend.pyx
index 1392dae2fb..8e615fe24e 100644
--- a/src/sage/graphs/base/static_sparse_backend.pyx
+++ b/src/sage/graphs/base/static_sparse_backend.pyx
@@ -1077,7 +1077,7 @@ cdef class StaticSparseBackend(CGraphBackend):
           - ``1`` -- test whether subgraph of ``self`` induced by the vertices is a subgraph of ``other``
           - ``2`` -- as ``1`` but ignore the labels
         """
-        cdef object v, label
+        cdef object v, l
         cdef int u_int, prev_u_int, v_int, l_int, l_int_other, tmp
         cdef StaticSparseCGraph cg = self._cg
         cdef CGraph cg_other = other.cg()
```



---

Comment by git created at 2022-06-30 11:17:19

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-06-30 11:18:08

I changed according your comments.


---

Comment by klee created at 2022-06-30 12:29:06

For the first block, I meant to remove the space you put, to make it a commented-out code block as originally it was. Now you made it look like a comment...

Or if you understand the code and you are sure that it is not necessary any more, perhaps you may remove the commented-out code block.

The real comment before it has a typo, by the way.


---

Comment by git created at 2022-06-30 12:47:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2022-06-30 12:53:08

The commented-out block is useless. The method returns a dictionary with a path (or distance) from the source to each vertex that is reachable from the source. The block was used in the past to associate empty path to vertices that cannot be reached from the source.
Furthermore, the block was not taking into account the `distance_flag` (i.e., return a path or the distance). So I removed the block.

PS: I'm not a native English speaker, so it ease my life when you clearly indicate typos :P


---

Comment by klee created at 2022-06-30 14:44:15

Replying to [comment:8 dcoudert]:
> The commented-out block is useless. The method returns a dictionary with a path (or distance) from the source to each vertex that is reachable from the source. The block was used in the past to associate empty path to vertices that cannot be reached from the source.
> Furthermore, the block was not taking into account the `distance_flag` (i.e., return a path or the distance). So I removed the block.

I agree. Thanks.
 
> PS: I'm not a native English speaker, so it ease my life when you clearly indicate typos :P

I was wrong. There was no typo. Anyway you removed the comment together with the code. I am not a native speaker either :)  

Now all looks good to me.


---

Comment by klee created at 2022-06-30 14:44:15

Changing status from needs_review to positive_review.


---

Comment by dcoudert created at 2022-06-30 14:51:59

Thanks for the review !


---

Comment by vbraun created at 2022-07-11 21:55:55

Resolution: fixed
