# Issue 33826: pycodestyle cleanup in src/sage/graphs/base/

archive/issues_033826.json:
```json
{
    "body": "We fix some issues in `src/sage/graphs/base/`, except for file `static_sparse_graph.pyx` done in #34053.\n\nIssue created by migration from https://trac.sagemath.org/ticket/34063\n\n",
    "created_at": "2022-06-24T15:24:51Z",
    "labels": [
        "component: graph theory",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.7",
    "title": "pycodestyle cleanup in src/sage/graphs/base/",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/33826",
    "user": "https://github.com/dcoudert"
}
```
We fix some issues in `src/sage/graphs/base/`, except for file `static_sparse_graph.pyx` done in #34053.

Issue created by migration from https://trac.sagemath.org/ticket/34063





---

archive/issue_comments_480007.json:
```json
{
    "body": "New commits:",
    "created_at": "2022-06-24T16:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480007",
    "user": "https://github.com/dcoudert"
}
```

New commits:



---

archive/issue_comments_480008.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2022-06-24T16:41:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480008",
    "user": "https://github.com/dcoudert"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_480009.json:
```json
{
    "body": "This is a commented-out code, not a comment. The extra space you put destroys the indentation.\n\n\n```diff\ndiff --git a/src/sage/graphs/base/c_graph.pyx b/src/sage/graphs/base/c_graph.pyx\nindex b99fc36241..99682e5231 100644\n--- a/src/sage/graphs/base/c_graph.pyx\n+++ b/src/sage/graphs/base/c_graph.pyx\n@@ -4207,7 +4207,7 @@ cdef class CGraphBackend(GenericGraphBackend):\n         # If the graph is not connected, vertices which have not been\n         # seen should be associated to the empty path\n \n-        # for 0 <= v_int < (<CGraph>self._cg).active_vertices.size:\n+        #for 0 <= v_int < (<CGraph>self._cg).active_vertices.size:\n         #    if bitset_in((<CGraph>self._cg).active_vertices, v_int) and not bitset_in(seen, v_int):\n         #        distances[vertex_label(v_int, self.vertex_ints, self.vertex_labels, self._cg)] = []\n```\n\n\nYou replace the ambiguous name `l` with `label`. But this name `l` seems also used in other names like `l_int` and `l_int_other`. I think using the same name `l` consistently makes the code more readable. And `l` is as short as `v`, which remains.\n \n\n```diff\ndiff --git a/src/sage/graphs/base/static_sparse_backend.pyx b/src/sage/graphs/base/static_sparse_backend.pyx\nindex 1392dae2fb..8e615fe24e 100644\n--- a/src/sage/graphs/base/static_sparse_backend.pyx\n+++ b/src/sage/graphs/base/static_sparse_backend.pyx\n@@ -1077,7 +1077,7 @@ cdef class StaticSparseBackend(CGraphBackend):\n           - ``1`` -- test whether subgraph of ``self`` induced by the vertices is a subgraph of ``other``\n           - ``2`` -- as ``1`` but ignore the labels\n         \"\"\"\n-        cdef object v, label\n+        cdef object v, l\n         cdef int u_int, prev_u_int, v_int, l_int, l_int_other, tmp\n         cdef StaticSparseCGraph cg = self._cg\n         cdef CGraph cg_other = other.cg()\n```\n",
    "created_at": "2022-06-30T02:00:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480009",
    "user": "https://github.com/kwankyu"
}
```

This is a commented-out code, not a comment. The extra space you put destroys the indentation.


```diff
diff --git a/src/sage/graphs/base/c_graph.pyx b/src/sage/graphs/base/c_graph.pyx
index b99fc36241..99682e5231 100644
--- a/src/sage/graphs/base/c_graph.pyx
+++ b/src/sage/graphs/base/c_graph.pyx
@@ -4207,7 +4207,7 @@ cdef class CGraphBackend(GenericGraphBackend):
         # If the graph is not connected, vertices which have not been
         # seen should be associated to the empty path
 
-        # for 0 <= v_int < (<CGraph>self._cg).active_vertices.size:
+        #for 0 <= v_int < (<CGraph>self._cg).active_vertices.size:
         #    if bitset_in((<CGraph>self._cg).active_vertices, v_int) and not bitset_in(seen, v_int):
         #        distances[vertex_label(v_int, self.vertex_ints, self.vertex_labels, self._cg)] = []
```


You replace the ambiguous name `l` with `label`. But this name `l` seems also used in other names like `l_int` and `l_int_other`. I think using the same name `l` consistently makes the code more readable. And `l` is as short as `v`, which remains.
 

```diff
diff --git a/src/sage/graphs/base/static_sparse_backend.pyx b/src/sage/graphs/base/static_sparse_backend.pyx
index 1392dae2fb..8e615fe24e 100644
--- a/src/sage/graphs/base/static_sparse_backend.pyx
+++ b/src/sage/graphs/base/static_sparse_backend.pyx
@@ -1077,7 +1077,7 @@ cdef class StaticSparseBackend(CGraphBackend):
           - ``1`` -- test whether subgraph of ``self`` induced by the vertices is a subgraph of ``other``
           - ``2`` -- as ``1`` but ignore the labels
         """
-        cdef object v, label
+        cdef object v, l
         cdef int u_int, prev_u_int, v_int, l_int, l_int_other, tmp
         cdef StaticSparseCGraph cg = self._cg
         cdef CGraph cg_other = other.cg()
```




---

archive/issue_comments_480010.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-30T11:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480010",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480011.json:
```json
{
    "body": "I changed according your comments.",
    "created_at": "2022-06-30T11:18:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480011",
    "user": "https://github.com/dcoudert"
}
```

I changed according your comments.



---

archive/issue_comments_480012.json:
```json
{
    "body": "For the first block, I meant to remove the space you put, to make it a commented-out code block as originally it was. Now you made it look like a comment...\n\nOr if you understand the code and you are sure that it is not necessary any more, perhaps you may remove the commented-out code block.\n\nThe real comment before it has a typo, by the way.",
    "created_at": "2022-06-30T12:29:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480012",
    "user": "https://github.com/kwankyu"
}
```

For the first block, I meant to remove the space you put, to make it a commented-out code block as originally it was. Now you made it look like a comment...

Or if you understand the code and you are sure that it is not necessary any more, perhaps you may remove the commented-out code block.

The real comment before it has a typo, by the way.



---

archive/issue_comments_480013.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-06-30T12:47:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480013",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_480014.json:
```json
{
    "body": "The commented-out block is useless. The method returns a dictionary with a path (or distance) from the source to each vertex that is reachable from the source. The block was used in the past to associate empty path to vertices that cannot be reached from the source.\nFurthermore, the block was not taking into account the `distance_flag` (i.e., return a path or the distance). So I removed the block.\n\nPS: I'm not a native English speaker, so it ease my life when you clearly indicate typos :P",
    "created_at": "2022-06-30T12:53:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480014",
    "user": "https://github.com/dcoudert"
}
```

The commented-out block is useless. The method returns a dictionary with a path (or distance) from the source to each vertex that is reachable from the source. The block was used in the past to associate empty path to vertices that cannot be reached from the source.
Furthermore, the block was not taking into account the `distance_flag` (i.e., return a path or the distance). So I removed the block.

PS: I'm not a native English speaker, so it ease my life when you clearly indicate typos :P



---

archive/issue_comments_480015.json:
```json
{
    "body": "Replying to [comment:8 dcoudert]:\n> The commented-out block is useless. The method returns a dictionary with a path (or distance) from the source to each vertex that is reachable from the source. The block was used in the past to associate empty path to vertices that cannot be reached from the source.\n> Furthermore, the block was not taking into account the `distance_flag` (i.e., return a path or the distance). So I removed the block.\n\nI agree. Thanks.\n \n> PS: I'm not a native English speaker, so it ease my life when you clearly indicate typos :P\n\nI was wrong. There was no typo. Anyway you removed the comment together with the code. I am not a native speaker either :)  \n\nNow all looks good to me.",
    "created_at": "2022-06-30T14:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480015",
    "user": "https://github.com/kwankyu"
}
```

Replying to [comment:8 dcoudert]:
> The commented-out block is useless. The method returns a dictionary with a path (or distance) from the source to each vertex that is reachable from the source. The block was used in the past to associate empty path to vertices that cannot be reached from the source.
> Furthermore, the block was not taking into account the `distance_flag` (i.e., return a path or the distance). So I removed the block.

I agree. Thanks.
 
> PS: I'm not a native English speaker, so it ease my life when you clearly indicate typos :P

I was wrong. There was no typo. Anyway you removed the comment together with the code. I am not a native speaker either :)  

Now all looks good to me.



---

archive/issue_comments_480016.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2022-06-30T14:44:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480016",
    "user": "https://github.com/kwankyu"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_480017.json:
```json
{
    "body": "Thanks for the review !",
    "created_at": "2022-06-30T14:51:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480017",
    "user": "https://github.com/dcoudert"
}
```

Thanks for the review !



---

archive/issue_events_030490.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2022-07-11T21:55:55Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/33826#event-30490"
}
```



---

archive/issue_comments_480018.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-07-11T21:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/33826",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/33826#issuecomment-480018",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
