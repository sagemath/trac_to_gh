# Issue 12247: factorization of 0 in GF(p)[x,y] fails

Issue created by migration from https://trac.sagemath.org/ticket/12419

Original creator: zimmerma

Original creation time: 2012-02-03 08:16:37

Assignee: tbd

This was reported by Charles Bouillaguet.

```

sage: R.<x,y> = GF(2)[] 
sage: R(1).factor()    
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
...

AttributeError: 'sage.rings.finite_rings.integer_mod.IntegerMod_int' object has no attribute 'factor'
```

Paul Zimmermann


---

Comment by chapoton created at 2021-09-06 11:57:13

works now (sage 9.5.b0):

```
sage: R.<x,y> = GF(2)[]  
sage: R(1).factor()                                                       
1
```



---

Comment by zimmerma created at 2021-09-07 13:55:40

it works already in Sage 9.1. I propose to resolve as "fixed".


---

Comment by zimmerma created at 2021-09-07 13:55:40

Changing status from new to needs_review.


---

Comment by chapoton created at 2021-09-07 14:43:45

somebody(?) should add a doctest, no ?


---

Comment by zimmerma created at 2021-09-07 14:47:31

I can do it, but it's a long time I didn't contribute to Sage. Is there a howto somewhere?


---

Comment by chapoton created at 2021-09-07 15:04:05

humm, if you know git, this is simple. Otherwise, c'est moins simple.

there is the big developer manual, and in particular

https://doc.sagemath.org/html/en/developer/index.html#git-tricks-tips

in very short :

(1) clone the git repo and go to the develop branch

(2) set the remote to trac

(3) make a local branch on top of the develop branch

(4) push the branch to trac under u/your_trac_name/branch_name

(5) write that branch name in the ticket branch field


---

Comment by zimmerma created at 2021-09-08 08:20:49

thanks, I've added a doctest, now running sage -t -all


---

Comment by chapoton created at 2021-09-08 11:26:53

si la branche est prete, le patchbot peut se charger de lancer les tests.


---

Comment by zimmerma created at 2021-09-08 11:37:38

I get the following error while running the tests:

```
zimmerma@tomate:/tmp/sage$ ./sage -t -p 4 -all
...
Killing test src/sage/rings/valuation/augmented_valuation.py
Killing test src/sage/combinat/rigged_configurations/rc_infinity.py
Killing test src/sage/symbolic/integration/external.py
Killing test src/sage/coding/databases.py
----------------------------------------------------------------------
sage -t --long --warn-long 56.2 --random-seed=0 src/sage/functions/piecewise.py  # UnicodeEncodeError in doctesting framework
Doctests interrupted: 666/4346 files tested
----------------------------------------------------------------------
Total time for all tests: 2466.7 seconds
    cpu time: 6988.6 seconds
    cumulative wall time: 9651.5 seconds
Traceback (most recent call last):
  File "/tmp/sage/src/bin/sage-runtests", line 144, in <module>
    err = DC.run()
  File "/tmp/sage/local/lib/python3.9/site-packages/sage/doctest/control.py", line 1207, in run
    self.run_doctests()
  File "/tmp/sage/local/lib/python3.9/site-packages/sage/doctest/control.py", line 909, in run_doctests
    self.dispatcher.dispatch()
  File "/tmp/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 2044, in dispatch
    self.parallel_dispatch()
  File "/tmp/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 1965, in parallel_dispatch
    w.read_messages()
  File "/tmp/sage/local/lib/python3.9/site-packages/sage/doctest/forker.py", line 2255, in read_messages
    self.messages += bytes_to_str(s)
  File "sage/cpython/string.pxd", line 28, in sage.cpython.string.bytes_to_str (build/cythonized/sage/cpython/string.c:1588)
  File "sage/cpython/string.pxd", line 51, in sage.cpython.string.bytes_to_str (build/cythonized/sage/cpython/string.c:1466)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0x80 in position 1627: invalid start byte
```



---

Comment by chapoton created at 2021-09-08 11:40:02

merci de pousser la branche sur trac, et d'Ã©crire son nom dans le champ "branch" ci-dessus. On fera faire les tests par un patchbot.


---

Comment by zimmerma created at 2021-09-08 11:44:16

it seems I don't have the right to push to trac (or I did the wrong command):

```
zimmerma@tomate:/tmp/sage$ git remote -v
origin  https://github.com/sagemath/sage.git (fetch)
origin  https://github.com/sagemath/sage.git (push)
trac    git@trac.sagemath.org:sage.git (fetch)
trac    git@trac.sagemath.org:sage.git (push)

zimmerma@tomate:/tmp/sage$ git push --set-upstream trac trac-12419
X11 forwarding request failed on channel 0
Enumerating objects: 13, done.
Counting objects: 100% (13/13), done.
Delta compression using up to 4 threads
Compressing objects: 100% (7/7), done.
Writing objects: 100% (7/7), 629 bytes | 629.00 KiB/s, done.
Total 7 (delta 6), reused 0 (delta 0), pack-reused 0
remote: FATAL: W refs/heads/trac-12419 sage zimmerma DENIED by fallthru
remote: error: hook declined to update refs/heads/trac-12419
To trac.sagemath.org:sage.git
 ! [remote rejected]       trac-12419 -> trac-12419 (hook declined)
error: failed to push some refs to 'trac.sagemath.org:sage.git'
```



---

Comment by chapoton created at 2021-09-08 11:46:19

my remote says

```
~/sage$ git remote -v
trac	ssh://git@trac.sagemath.org:22/sage.git (fetch)
trac	ssh://git@trac.sagemath.org:22/sage.git (push)
```



Tro to use simply

```
git push trac HEAD:u/zimmerma/12419
```


EDIT: should use zimmerma, your user name here


---

Comment by zimmerma created at 2021-09-08 12:10:24

thanks, it works! The branch is called `u/zimmerma/12419`.

For the record, what I did:

```
git clone ssh://git@trac.sagemath.org:22/sage.git
cd sage
git remote add trac ssh://git@trac.sagemath.org:22/sage.git -t master
git remote set-url --push trac ssh://git@trac.sagemath.org:22/sage.git
<edit files>
git commit -a
git push trac HEAD:u/zimmerma/12419
```



---

Comment by chapoton created at 2021-09-08 12:17:36

I have put the branch name in place
----
New commits:


---

Comment by chapoton created at 2021-09-08 12:18:50

branch looks good. A patchbot should come, if not I will launch mine when it becomes available.


---

Comment by chapoton created at 2021-09-08 17:16:14

ok, green bot


---

Comment by chapoton created at 2021-09-08 17:16:14

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2021-09-15 22:14:29

Merge conflict


---

Comment by vbraun created at 2021-09-15 22:14:29

Changing status from positive_review to needs_work.


---

Comment by chapoton created at 2022-02-14 12:56:58

Changing status from needs_work to needs_review.


---

Comment by chapoton created at 2022-02-14 12:56:58

rebased
----
New commits:


---

Comment by chapoton created at 2022-02-14 12:57:35

Changing status from needs_review to positive_review.


---

Comment by chapoton created at 2022-02-14 12:57:35

back to positive


---

Comment by zimmerma created at 2022-02-14 13:26:29

I don't have time to test, but the original failure was for 0 not 1 if I remember correctly. Does it work for 0 too?


---

Comment by zimmerma created at 2022-02-14 13:28:32

sorry, the factorization of 0 is not defined. For 1 it works already in 9.4.


---

Comment by vbraun created at 2022-03-01 21:31:12

Resolution: fixed
