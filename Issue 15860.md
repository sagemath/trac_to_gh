# Issue 15860: Python 3 preparation: Replace Py2 file() builtin by open() builtin

Issue created by migration from Trac.

Original creator: wluebbe

Original creation time: 2014-04-08 13:05:29

Keywords: python3

The Py2 builtin function `file()` is gone. It should be replaced with the `open()` builtin function. 

 
The type `file` is also gone. Checking for it may be replaced by `isinstance(f, io.IOBase)`

There are about 20 effected modules. 

This ticket is tracked as a dependency of meta-ticket ticket:16052.


---

Comment by aapitzsch created at 2014-10-06 21:37:57

Changing status from new to needs_review.


---

Comment by jdemeyer created at 2014-10-07 10:31:02

In Python 2, `isinstance(f, file)` is not equivalent to `isinstance(f, io.IOBase)`.

I do give positive_review to the change from `file()` to `open()`.


---

Comment by jdemeyer created at 2014-10-07 10:31:02

Changing status from needs_review to needs_work.


---

Comment by jdemeyer created at 2014-10-07 15:35:48

In the few cases where `isinstance(data, file)` is used, I actually think such behaviour should be deprecated: force the user to call `foo(open(f).read())` instead of `foo(open(f))`.


---

Comment by jdemeyer created at 2014-10-07 15:46:09

The code in `lattice_polytope.py` is already deprecated anyway by #15240...


---

Comment by git created at 2014-10-09 19:25:54

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by aapitzsch created at 2014-10-09 19:34:06

Replying to [comment:7 jdemeyer]:
> The code in `lattice_polytope.py` is already deprecated anyway by #15240...

Only the `desc` parameter is deprecated there, not `data` being an instance of `file`.

Deprecation of `isinstance(data, file)` will be done in another ticket.


---

Comment by aapitzsch created at 2014-10-09 19:34:06

Changing status from needs_work to needs_review.


---

Comment by jdemeyer created at 2014-10-10 03:19:25

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2014-10-12 20:37:32

Resolution: fixed
