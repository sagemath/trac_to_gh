# Issue 15766: update Jmol spkg  to support pure javascript 3-D in notebook...

archive/issues_015766.json:
```json
{
    "body": "CC:  @kcrisman @novoselt @strogdon @kiwifb\n\nKeywords: Jmol 3D 3-D\n\nUpdate Jmol to Jmol-14.0.11 which supplies the JSmol pure javascript version of Jmol.  Utilizing this requires significant changes to how the notebook utilizes Jmol/JSmol.  The notebook changes are in ticket  XXXX (haven't made yet).\n\nIn addition to the updates to the new-style SPKG, the tar.gz from Jmol needs to be renamed before it matches the Sage standards.  The Jmol project distributes a large number of different archives.  The appropriate one for this SPKG is the Jmol-14.0.11-binary.tar.gz, which needs to be renamed to Jmol-14.0.11.tar.gz.\n\nThis will break the current Jmol in the notebook as a serious reorganization of supporting files was required to support both java and javascript live 3-D.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16003\n\n",
    "created_at": "2014-03-24T00:42:12Z",
    "labels": [
        "component: packages: standard"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "update Jmol spkg  to support pure javascript 3-D in notebook...",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15766",
    "user": "https://github.com/gutow"
}
```
CC:  @kcrisman @novoselt @strogdon @kiwifb

Keywords: Jmol 3D 3-D

Update Jmol to Jmol-14.0.11 which supplies the JSmol pure javascript version of Jmol.  Utilizing this requires significant changes to how the notebook utilizes Jmol/JSmol.  The notebook changes are in ticket  XXXX (haven't made yet).

In addition to the updates to the new-style SPKG, the tar.gz from Jmol needs to be renamed before it matches the Sage standards.  The Jmol project distributes a large number of different archives.  The appropriate one for this SPKG is the Jmol-14.0.11-binary.tar.gz, which needs to be renamed to Jmol-14.0.11.tar.gz.

This will break the current Jmol in the notebook as a serious reorganization of supporting files was required to support both java and javascript live 3-D.

Issue created by migration from https://trac.sagemath.org/ticket/16003





---

archive/issue_comments_203918.json:
```json
{
    "body": "Set assignee to @gutow.",
    "created_at": "2014-03-24T01:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203918",
    "user": "https://github.com/gutow"
}
```

Set assignee to @gutow.



---

archive/issue_comments_203919.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-03-24T01:30:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203919",
    "user": "https://github.com/gutow"
}
```

New commits:



---

archive/issue_comments_203920.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-03-24T01:31:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203920",
    "user": "https://github.com/gutow"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_203921.json:
```json
{
    "body": "some typos : \"privides\" and \"supposted\"",
    "created_at": "2014-03-28T20:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203921",
    "user": "https://github.com/fchapoton"
}
```

some typos : "privides" and "supposted"



---

archive/issue_comments_203922.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2014-03-28T20:10:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203922",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_203923.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-05T05:07:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203923",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_203924.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2014-04-05T05:08:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203924",
    "user": "https://github.com/gutow"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_203925.json:
```json
{
    "body": "Of course, on Macs\n\n```\nThe appropriate one for this SPKG is the Jmol-14.0.11-binary.tar.gz, which needs to be renamed to jmol-14.0.11.tar.gz (note the lower case \"j\").\n```\n\ndoesn't really do that much, since it is only fictively case-sensitive :-)\n\nOkay, trying to look into this between much grading and other stuff.",
    "created_at": "2014-04-08T01:32:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203925",
    "user": "https://github.com/kcrisman"
}
```

Of course, on Macs

```
The appropriate one for this SPKG is the Jmol-14.0.11-binary.tar.gz, which needs to be renamed to jmol-14.0.11.tar.gz (note the lower case "j").
```

doesn't really do that much, since it is only fictively case-sensitive :-)

Okay, trying to look into this between much grading and other stuff.



---

archive/issue_comments_203926.json:
```json
{
    "body": "I should point out that the command-line Jmols work just fine with this; it's the notebook piece that requires more review (as well as testing on some other platforms).",
    "created_at": "2014-04-10T02:59:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203926",
    "user": "https://github.com/kcrisman"
}
```

I should point out that the command-line Jmols work just fine with this; it's the notebook piece that requires more review (as well as testing on some other platforms).



---

archive/issue_comments_203927.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-04-21T01:18:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203927",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_203928.json:
```json
{
    "body": "Minor item. It appears jmol version and release date are hardcoded somewhere, probably in `SageMenu.mnu` and I guess should be changed to 14.0.13 and whatever the appropriate release date is. I see this when right-clicking on a live jmol and mousing to About -> Jmol",
    "created_at": "2014-04-23T18:17:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203928",
    "user": "https://github.com/strogdon"
}
```

Minor item. It appears jmol version and release date are hardcoded somewhere, probably in `SageMenu.mnu` and I guess should be changed to 14.0.13 and whatever the appropriate release date is. I see this when right-clicking on a live jmol and mousing to About -> Jmol



---

archive/issue_events_047078.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15766#event-47078"
}
```



---

archive/issue_comments_203929.json:
```json
{
    "body": "Hello,\n\nI have rebased on 6.3.rc1.\n\nBy the way, in #12212, I have asked the jmol team for a change to handle colored surfaces. Maybe it would be worth waiting for that, if this does not takes too long.\n----\nNew commits:",
    "created_at": "2014-08-10T11:30:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203929",
    "user": "https://github.com/fchapoton"
}
```

Hello,

I have rebased on 6.3.rc1.

By the way, in #12212, I have asked the jmol team for a change to handle colored surfaces. Maybe it would be worth waiting for that, if this does not takes too long.
----
New commits:



---

archive/issue_events_047079.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15766#event-47079"
}
```



---

archive/issue_events_047080.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15766#event-47080"
}
```



---

archive/issue_comments_203930.json:
```json
{
    "body": "> By the way, in #12212, I have asked the jmol team for a change to handle colored surfaces. Maybe it would be worth waiting for that, if this does not takes too long.\n\nReferring to [comment:48:ticket:12212 this comment].",
    "created_at": "2014-08-11T03:05:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203930",
    "user": "https://github.com/kcrisman"
}
```

> By the way, in #12212, I have asked the jmol team for a change to handle colored surfaces. Maybe it would be worth waiting for that, if this does not takes too long.

Referring to [comment:48:ticket:12212 this comment].



---

archive/issue_comments_203931.json:
```json
{
    "body": "See comment:54:ticket:12212 where\n> Later this week it will appear in Jmol 14.2.5.\nSo probably this one could be even further updated in time for Sage 6.4, which has started its cycle.",
    "created_at": "2014-08-11T08:54:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203931",
    "user": "https://github.com/kcrisman"
}
```

See comment:54:ticket:12212 where
> Later this week it will appear in Jmol 14.2.5.
So probably this one could be even further updated in time for Sage 6.4, which has started its cycle.



---

archive/issue_comments_203932.json:
```json
{
    "body": "According to Robert Hanson, the 18th of August 2014, \n\nthe change useful for #12212 is now in Jmol 14.3.6 here :\n\nhttps://sourceforge.net/projects/jmol/files/Jmol-beta/Jmol%2014.3/Jmol%2014.3.6/\n\n(which seems to be a beta version).",
    "created_at": "2014-08-20T07:53:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203932",
    "user": "https://github.com/fchapoton"
}
```

According to Robert Hanson, the 18th of August 2014, 

the change useful for #12212 is now in Jmol 14.3.6 here :

https://sourceforge.net/projects/jmol/files/Jmol-beta/Jmol%2014.3/Jmol%2014.3.6/

(which seems to be a beta version).



---

archive/issue_comments_203933.json:
```json
{
    "body": "> According to Robert Hanson, the 18th of August 2014, \n> \n> the change useful for #12212 is now in Jmol 14.3.6 here :\n> \n> https://sourceforge.net/projects/jmol/files/Jmol-beta/Jmol%2014.3/Jmol%2014.3.6/\n> \n> (which seems to be a beta version).\n\nGiven that #12212 maybe still needs a tiny bit of care and that probably the jmol support should be a separate ticket, maybe it's easier to just review this \"as is\".",
    "created_at": "2014-08-20T19:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203933",
    "user": "https://github.com/kcrisman"
}
```

> According to Robert Hanson, the 18th of August 2014, 
> 
> the change useful for #12212 is now in Jmol 14.3.6 here :
> 
> https://sourceforge.net/projects/jmol/files/Jmol-beta/Jmol%2014.3/Jmol%2014.3.6/
> 
> (which seems to be a beta version).

Given that #12212 maybe still needs a tiny bit of care and that probably the jmol support should be a separate ticket, maybe it's easier to just review this "as is".



---

archive/issue_comments_203934.json:
```json
{
    "body": "> Minor item. It appears jmol version and release date are hardcoded somewhere, probably in `SageMenu.mnu` and I guess should be changed to 14.0.13 and whatever the appropriate release date is. I see this when right-clicking on a live jmol and mousing to About -> Jmol\nYou are correct, that will have to be hand-edited whenever we decide the final version here.\n\nAlso, this needs to be updated for #14364 now, it seems.  I made the change to my local one but I'm not sure if I made a mistake in merging this one - I'm surprised it showed up again for some reason.",
    "created_at": "2014-08-20T20:06:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203934",
    "user": "https://github.com/kcrisman"
}
```

> Minor item. It appears jmol version and release date are hardcoded somewhere, probably in `SageMenu.mnu` and I guess should be changed to 14.0.13 and whatever the appropriate release date is. I see this when right-clicking on a live jmol and mousing to About -> Jmol
You are correct, that will have to be hand-edited whenever we decide the final version here.

Also, this needs to be updated for #14364 now, it seems.  I made the change to my local one but I'm not sure if I made a mistake in merging this one - I'm surprised it showed up again for some reason.



---

archive/issue_comments_203935.json:
```json
{
    "body": "I see what happened - chapoton rebased with keeping the testjava.sh stuff in spkg-install but we don't need that any more.",
    "created_at": "2014-08-21T17:34:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203935",
    "user": "https://github.com/kcrisman"
}
```

I see what happened - chapoton rebased with keeping the testjava.sh stuff in spkg-install but we don't need that any more.



---

archive/issue_comments_203936.json:
```json
{
    "body": "I hope I didn't screw this up.\n----\nNew commits:",
    "created_at": "2014-08-21T18:33:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203936",
    "user": "https://github.com/kcrisman"
}
```

I hope I didn't screw this up.
----
New commits:



---

archive/issue_comments_203937.json:
```json
{
    "body": "Hi strogdon,\n> > Minor item. It appears jmol version and release date are hardcoded somewhere, probably in `SageMenu.mnu` and I guess should be changed to 14.0.13 and whatever the appropriate release date is. I see this when right-clicking on a live jmol and mousing to About -> Jmol\n> You are correct, that will have to be hand-edited whenever we decide the final version here.\nWeirdly, I do not see this problem when using a Jmol (from command line, of course) - it seems to acquire the correct info from system itself.  So in principle we don't even have to change this.\n\nI think this is ready for positive review as long as it actually applies properly, and of course pending #16004 or some variant thereof.",
    "created_at": "2014-08-21T18:47:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203937",
    "user": "https://github.com/kcrisman"
}
```

Hi strogdon,
> > Minor item. It appears jmol version and release date are hardcoded somewhere, probably in `SageMenu.mnu` and I guess should be changed to 14.0.13 and whatever the appropriate release date is. I see this when right-clicking on a live jmol and mousing to About -> Jmol
> You are correct, that will have to be hand-edited whenever we decide the final version here.
Weirdly, I do not see this problem when using a Jmol (from command line, of course) - it seems to acquire the correct info from system itself.  So in principle we don't even have to change this.

I think this is ready for positive review as long as it actually applies properly, and of course pending #16004 or some variant thereof.



---

archive/issue_comments_203938.json:
```json
{
    "body": "Latest available version is now Jmol-14.2.4_2014.08.03-binary.tar.gz\n\nat http://sourceforge.net/projects/jmol/files/Jmol/Version%2014.2/Version%2014.2.4/",
    "created_at": "2014-08-25T20:01:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203938",
    "user": "https://github.com/fchapoton"
}
```

Latest available version is now Jmol-14.2.4_2014.08.03-binary.tar.gz

at http://sourceforge.net/projects/jmol/files/Jmol/Version%2014.2/Version%2014.2.4/



---

archive/issue_comments_203939.json:
```json
{
    "body": "> Latest available version is now Jmol-14.2.4_2014.08.03-binary.tar.gz\nDo you see any substantive differences between this and that?  (I assume it doesn't have the #12212 change in any case.)\n> Weirdly, I do not see this problem when using a Jmol (from command line, of course) - it seems to acquire the correct info from system itself. So in principle we don't even have to change this.\nThis is about `SageMenu.mnu` - in the notebook Jmols it also finds this info fine until we switch to the custom one, very weird.  I'm trying to figure out where that `.mnu` file is defined but the one at the Jmol website is clearly several (major) versions out of date.\n\nAh, found it - `local/share/jsmol/j2s/core/coremenu.z.js`.  Naughty!  But even the untranslated `local/share/jsmol/js/coremenu.js` seems to be getting this info dynamically in some way I'm not going to figure out immediately.  So I'm going to do the easy fix to that for now.",
    "created_at": "2014-08-25T20:42:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203939",
    "user": "https://github.com/kcrisman"
}
```

> Latest available version is now Jmol-14.2.4_2014.08.03-binary.tar.gz
Do you see any substantive differences between this and that?  (I assume it doesn't have the #12212 change in any case.)
> Weirdly, I do not see this problem when using a Jmol (from command line, of course) - it seems to acquire the correct info from system itself. So in principle we don't even have to change this.
This is about `SageMenu.mnu` - in the notebook Jmols it also finds this info fine until we switch to the custom one, very weird.  I'm trying to figure out where that `.mnu` file is defined but the one at the Jmol website is clearly several (major) versions out of date.

Ah, found it - `local/share/jsmol/j2s/core/coremenu.z.js`.  Naughty!  But even the untranslated `local/share/jsmol/js/coremenu.js` seems to be getting this info dynamically in some way I'm not going to figure out immediately.  So I'm going to do the easy fix to that for now.



---

archive/issue_comments_203940.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2014-08-25T20:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203940",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_203941.json:
```json
{
    "body": "\"unzip\" is not one of our build-time dependencies so far: http://www.sagemath.org/doc/installation/source.html#general-requirements I'm not terribly concerned about that one, but this is why I went a different route in #17020. But if you want to require unzip then it should be documented.\n\nWhy does this ticket depend on #16004? We should merge the jmol update asap, no need to wait as long as it doesn't break something that is currently working. Anything related to jsmol can then be dealt with in #16004 if necessary.",
    "created_at": "2014-09-21T20:44:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203941",
    "user": "https://github.com/vbraun"
}
```

"unzip" is not one of our build-time dependencies so far: http://www.sagemath.org/doc/installation/source.html#general-requirements I'm not terribly concerned about that one, but this is why I went a different route in #17020. But if you want to require unzip then it should be documented.

Why does this ticket depend on #16004? We should merge the jmol update asap, no need to wait as long as it doesn't break something that is currently working. Anything related to jsmol can then be dealt with in #16004 if necessary.



---

archive/issue_comments_203942.json:
```json
{
    "body": "As the description points out:\n> This will break the current Jmol in the notebook as a serious reorganization of supporting files was required to support both java and javascript live 3-D.\nTo say this more clearly, I believe the new jmol interface uses js even for Java applets when used on the web (not command line), so one would have to reorganize in any case.  Also, I don't know that there are enough other goodies to make the Jmol update worthwhile, per se.",
    "created_at": "2014-09-22T13:29:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203942",
    "user": "https://github.com/kcrisman"
}
```

As the description points out:
> This will break the current Jmol in the notebook as a serious reorganization of supporting files was required to support both java and javascript live 3-D.
To say this more clearly, I believe the new jmol interface uses js even for Java applets when used on the web (not command line), so one would have to reorganize in any case.  Also, I don't know that there are enough other goodies to make the Jmol update worthwhile, per se.



---

archive/issue_comments_203943.json:
```json
{
    "body": "Well, new features in Jmol would be needed for #12212, but it requires Jmol 14.2.5.",
    "created_at": "2014-09-22T18:30:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203943",
    "user": "https://github.com/fchapoton"
}
```

Well, new features in Jmol would be needed for #12212, but it requires Jmol 14.2.5.



---

archive/issue_comments_203944.json:
```json
{
    "body": "The notebook jmol viewer is working with #17020, and I suspect it is also working with this ticket. Of course not in chrome, which has by now permanently kicked the old java applet to the curb. Works in firefox with the icedtea plugin, though.\n\nUnless somebody objects I would propose that we make a modified tarball that does not require unzip, that is, by re-packing the upstream tarball.\n\nFrederic, it seems that 14.2.5 is not out yet? Since you seem to know upstream, maybe you can suggest that they put jsmol uncompressed inside their archive, and not a zip-with-tar file.",
    "created_at": "2014-09-22T19:41:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203944",
    "user": "https://github.com/vbraun"
}
```

The notebook jmol viewer is working with #17020, and I suspect it is also working with this ticket. Of course not in chrome, which has by now permanently kicked the old java applet to the curb. Works in firefox with the icedtea plugin, though.

Unless somebody objects I would propose that we make a modified tarball that does not require unzip, that is, by re-packing the upstream tarball.

Frederic, it seems that 14.2.5 is not out yet? Since you seem to know upstream, maybe you can suggest that they put jsmol uncompressed inside their archive, and not a zip-with-tar file.



---

archive/issue_comments_203945.json:
```json
{
    "body": "Yes, the changes for #12212 are not yet in a release, they are in fact in there:\n\nhttp://sourceforge.net/projects/jmol/files/Jmol-beta/Jmol%2014.3/Jmol%2014.3.6/\n\nI am not sure to know \"upstream\". I have had a private mail exchange about #12212 with somebody who was very reactive and efficient, and had the power to include changes in the latest jmol beta. I can give you his name and mail if you send me a private mail.",
    "created_at": "2014-09-22T19:59:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203945",
    "user": "https://github.com/fchapoton"
}
```

Yes, the changes for #12212 are not yet in a release, they are in fact in there:

http://sourceforge.net/projects/jmol/files/Jmol-beta/Jmol%2014.3/Jmol%2014.3.6/

I am not sure to know "upstream". I have had a private mail exchange about #12212 with somebody who was very reactive and efficient, and had the power to include changes in the latest jmol beta. I can give you his name and mail if you send me a private mail.



---

archive/issue_comments_203946.json:
```json
{
    "body": "> The notebook jmol viewer is working with #17020, and I suspect it is also working with this ticket. Of course not in chrome, which has by now permanently kicked the old java applet to the curb. Works in firefox with the icedtea plugin, though.\n\nHuh, that's surprising, Jonathan made it sound like the interface had changed enough that it wouldn't.  We're even having trouble with icedtea here at AIMS in any case :-(\n\n> Unless somebody objects I would propose that we make a modified tarball that does not require unzip, that is, by re-packing the upstream tarball.\n\nThat seems reasonable; Jonathan, did you have a reason for including that?  Maybe it's just because that's how upstream packages it...",
    "created_at": "2014-09-22T20:42:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203946",
    "user": "https://github.com/kcrisman"
}
```

> The notebook jmol viewer is working with #17020, and I suspect it is also working with this ticket. Of course not in chrome, which has by now permanently kicked the old java applet to the curb. Works in firefox with the icedtea plugin, though.

Huh, that's surprising, Jonathan made it sound like the interface had changed enough that it wouldn't.  We're even having trouble with icedtea here at AIMS in any case :-(

> Unless somebody objects I would propose that we make a modified tarball that does not require unzip, that is, by re-packing the upstream tarball.

That seems reasonable; Jonathan, did you have a reason for including that?  Maybe it's just because that's how upstream packages it...



---

archive/issue_comments_203947.json:
```json
{
    "body": "Replying to [comment:36 vbraun]:\n> The notebook jmol viewer is working with #17020, and I suspect it is also working with this ticket. Of course not in chrome, which has by now permanently kicked the old java applet to the curb. Works in firefox with the icedtea plugin, though.\n> \nMaybe I misunderstand but just upgrading jmol as in #17020 without doing anything else break jmol in the notebook here. This is with firefox and either icedtea or oracle plugin.",
    "created_at": "2014-09-22T21:01:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203947",
    "user": "https://github.com/strogdon"
}
```

Replying to [comment:36 vbraun]:
> The notebook jmol viewer is working with #17020, and I suspect it is also working with this ticket. Of course not in chrome, which has by now permanently kicked the old java applet to the curb. Works in firefox with the icedtea plugin, though.
> 
Maybe I misunderstand but just upgrading jmol as in #17020 without doing anything else break jmol in the notebook here. This is with firefox and either icedtea or oracle plugin.



---

archive/issue_comments_203948.json:
```json
{
    "body": "As far as I understand, the 14.3.x series is the current beta and 14.2.x is the stable branch. E.g. look at the SF download page http://sourceforge.net/projects/jmol/files/",
    "created_at": "2014-09-23T08:22:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203948",
    "user": "https://github.com/vbraun"
}
```

As far as I understand, the 14.3.x series is the current beta and 14.2.x is the stable branch. E.g. look at the SF download page http://sourceforge.net/projects/jmol/files/



---

archive/issue_comments_203949.json:
```json
{
    "body": "Also, why is \n\n```\n+ * JVM (java virtual machine) on the server.\n```\n\nadded to the dependencies?",
    "created_at": "2014-09-23T08:24:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203949",
    "user": "https://github.com/vbraun"
}
```

Also, why is 

```
+ * JVM (java virtual machine) on the server.
```

added to the dependencies?



---

archive/issue_comments_203950.json:
```json
{
    "body": "Ok, I can confirm that the jmol upgrade does not work with the current notebook. I must have had the wrong version installed.",
    "created_at": "2014-09-23T09:24:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203950",
    "user": "https://github.com/vbraun"
}
```

Ok, I can confirm that the jmol upgrade does not work with the current notebook. I must have had the wrong version installed.



---

archive/issue_comments_203951.json:
```json
{
    "body": "Replying to [comment:41 vbraun]:\n> Also, why is \n> {{{\n> + * JVM (java virtual machine) on the server.\n> }}}\n> added to the dependencies?\nTried to answer this a few days ago, but it didn't go through.  The JVM allows the server to run a headless version of Jmol to generate high quality static images.  If the JVM is not available things default to the lower quality Tachyon images (with some work those cold be made better).  The other reason to keep this is that if I ever finish sorting out the issues caused by the attempts to kill Java applets in browsers, I can begin to utilize this server-side engine to make much more efficient and adaptable packages of data to send to the browser for viewing.",
    "created_at": "2014-09-26T00:53:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203951",
    "user": "https://github.com/gutow"
}
```

Replying to [comment:41 vbraun]:
> Also, why is 
> {{{
> + * JVM (java virtual machine) on the server.
> }}}
> added to the dependencies?
Tried to answer this a few days ago, but it didn't go through.  The JVM allows the server to run a headless version of Jmol to generate high quality static images.  If the JVM is not available things default to the lower quality Tachyon images (with some work those cold be made better).  The other reason to keep this is that if I ever finish sorting out the issues caused by the attempts to kill Java applets in browsers, I can begin to utilize this server-side engine to make much more efficient and adaptable packages of data to send to the browser for viewing.



---

archive/issue_comments_203952.json:
```json
{
    "body": "But its still not a build requirement for jmol, right? Only a (optional) runtime dependency of sagenb.",
    "created_at": "2014-09-26T17:40:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203952",
    "user": "https://github.com/vbraun"
}
```

But its still not a build requirement for jmol, right? Only a (optional) runtime dependency of sagenb.



---

archive/issue_comments_203953.json:
```json
{
    "body": "I propose to close this ticket as duplicate of #17020. I imported all commits there, but switched to the different packaging that does not require `unzip`.",
    "created_at": "2014-10-05T15:03:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203953",
    "user": "https://github.com/vbraun"
}
```

I propose to close this ticket as duplicate of #17020. I imported all commits there, but switched to the different packaging that does not require `unzip`.



---

archive/issue_events_047081.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-05T15:03:56Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15766#event-47081"
}
```



---

archive/issue_events_047082.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-05T15:03:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15766#event-47082"
}
```



---

archive/issue_comments_203954.json:
```json
{
    "body": "Sure, no problem, that makes perfect sense, as long as #17020 works out fine :-)",
    "created_at": "2014-10-07T14:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203954",
    "user": "https://github.com/kcrisman"
}
```

Sure, no problem, that makes perfect sense, as long as #17020 works out fine :-)



---

archive/issue_comments_203955.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2014-10-07T14:09:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203955",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_events_047083.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2014-10-13T15:49:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15766#event-47083"
}
```



---

archive/issue_comments_203956.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2014-10-13T15:49:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15766#issuecomment-203956",
    "user": "https://github.com/vbraun"
}
```

Resolution: duplicate
