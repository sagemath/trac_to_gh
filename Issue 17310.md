# Issue 17310: BuiltinFunction overriding GiNaC function is allowed

Issue created by migration from Trac.

Original creator: rws

Original creation time: 2014-12-24 16:31:07


```
sage: from sage.symbolic.function import BuiltinFunction
sage: class AFunction(BuiltinFunction):
....:       def __init__(self, name, exp=1):
....:           self.exponent=exp
....:           BuiltinFunction.__init__(self, name, nargs=1)
....:       def _eval_(self, arg):
....:               return arg**self.exponent
sage: p2 = AFunction('exp', 2)
sage: p2(x)
e^x
sage: _.function()
() |--> e^x
```

The attempt at creation should give an error (plus respective documentation warnings).

Alternatively, search first for user-defined function names, then GiNaC core, to allow overriding.


---

Comment by rws created at 2014-12-24 16:44:29

I came to this from #17489 when I tried to create a symbolic `factorial` function without usage of `GinacFunction`, which wreaks havoc when expression conversion to/from e.g. Maxima is involved.


---

Comment by jdemeyer created at 2014-12-25 09:53:31

Replying to [ticket:17547 rws]:
> The attempt at creation should give an error
I don't understand the problem, what's wrong?


---

Comment by rws created at 2014-12-25 10:28:00

If the name is e.g. `p2` `AFunction.eval` gets called, but not with name equal to a function provided with GiNaC. Compare the above with

```
...
sage: p2 = AFunction('p2', 2)
sage: p2(x)
x^2
```

