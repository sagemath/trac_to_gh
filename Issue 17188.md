# Issue 17188: Rational isometry test for quadratic forms over number fields

archive/issues_017188.json:
```json
{
    "body": "This introduces a new function is_rationally_isometric which tests for isometry between two regular rational forms over some number field.  \n\nIssue created by migration from https://trac.sagemath.org/ticket/17425\n\n",
    "closed_at": "2015-08-13T18:35:22Z",
    "created_at": "2014-12-01T13:51:11Z",
    "labels": [
        "component: quadratic forms"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.9",
    "title": "Rational isometry test for quadratic forms over number fields",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/17188",
    "user": "https://github.com/annahaensch"
}
```
This introduces a new function is_rationally_isometric which tests for isometry between two regular rational forms over some number field.  

Issue created by migration from https://trac.sagemath.org/ticket/17425





---

archive/issue_comments_228153.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2014-12-01T14:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228153",
    "user": "https://github.com/annahaensch"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_228154.json:
```json
{
    "body": "New commits:",
    "created_at": "2014-12-01T14:45:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228154",
    "user": "https://github.com/annahaensch"
}
```

New commits:



---

archive/issue_comments_228155.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-09T19:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228155",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_228156.json:
```json
{
    "body": "Hello,\n\nI am sorry that this ticket waited that long before a review.\n\n1. There are some (minor) problems with typography:\n   - indentation is not correct. It should be\n\n```\ndef my_function(a, b):\n     \"\"\"\n     The text here\n     ...\n     \"\"\"\n```\n    and not\n\n```\ndef my_function(a, b):\n    \"\"\"\n        The text here\n    ...\n    \"\"\"\n```\n- try to keep a space around the `==` and `!=` signs. In other words `a == b` instead of `a==b`. Similarly, add space after a comma as `function(a, b)` and not `function(a,b)`. This is just to clarify the reading. It is not mandatory.\n\n2. There is a method `.diagonal()` to extract the diagonal of a matrix\n\n```\nsage: K.<a> = NumberField(x^2-3)\nsage: V = QuadraticForm(K,4,[1,0,0,0,2*a,0,0,a,0,2])\nsage: m = V.Gram_matrix_rational()\nsage: m.diagonal()\n[1, 2*a, a, 2]\n```\n  would be better than using the `map(lambda x: M.Gram_matrix_rational()[x][x], ...)`\n\n3. Instead of\n\n```\n    if self.base_ring()==QQ:\n        return self.signature() == other.signature():\n            Rat_Isom_flag = False\n```\n  you can do\n\n```\n    if self.base_ring() == QQ:\n        return self.signature() == other.signature()\n```\n  And more generally you do not need to carry over this variable `Rat_Isom_flag`, just write some `return` in the conditional statements.\n\n4. You can simplify the following\n\n```\nfor i in range(len(K.real_embeddings())): \n    Mentries_emb = map(lambda(x):K.real_embeddings()[i](x),Mentries)\n    Nentries_emb = map(lambda(x):K.real_embeddings()[i](x),Nentries)\n\n    Mpos=0\n    for i in range(self.dim()):\n        if Mentries_emb[i]>=0:\n            Mpos += 1\n    ...\n```\n  into\n\n```\nfor emb in K.real_embeddings():\n    Mpos = 0\n    for x in Mentries:\n        Mpos += emb(x) >= 0\n\n    ...\n```\n  I used two simplifications here\n- you can iterate over a list elements\n- adding a boolean to an integer is equivalent to adding `0` or `1` depending on the truth value\n\nVincent",
    "created_at": "2015-08-09T19:52:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228156",
    "user": "https://github.com/videlec"
}
```

Hello,

I am sorry that this ticket waited that long before a review.

1. There are some (minor) problems with typography:
   - indentation is not correct. It should be

```
def my_function(a, b):
     """
     The text here
     ...
     """
```
    and not

```
def my_function(a, b):
    """
        The text here
    ...
    """
```
- try to keep a space around the `==` and `!=` signs. In other words `a == b` instead of `a==b`. Similarly, add space after a comma as `function(a, b)` and not `function(a,b)`. This is just to clarify the reading. It is not mandatory.

2. There is a method `.diagonal()` to extract the diagonal of a matrix

```
sage: K.<a> = NumberField(x^2-3)
sage: V = QuadraticForm(K,4,[1,0,0,0,2*a,0,0,a,0,2])
sage: m = V.Gram_matrix_rational()
sage: m.diagonal()
[1, 2*a, a, 2]
```
  would be better than using the `map(lambda x: M.Gram_matrix_rational()[x][x], ...)`

3. Instead of

```
    if self.base_ring()==QQ:
        return self.signature() == other.signature():
            Rat_Isom_flag = False
```
  you can do

```
    if self.base_ring() == QQ:
        return self.signature() == other.signature()
```
  And more generally you do not need to carry over this variable `Rat_Isom_flag`, just write some `return` in the conditional statements.

4. You can simplify the following

```
for i in range(len(K.real_embeddings())): 
    Mentries_emb = map(lambda(x):K.real_embeddings()[i](x),Mentries)
    Nentries_emb = map(lambda(x):K.real_embeddings()[i](x),Nentries)

    Mpos=0
    for i in range(self.dim()):
        if Mentries_emb[i]>=0:
            Mpos += 1
    ...
```
  into

```
for emb in K.real_embeddings():
    Mpos = 0
    for x in Mentries:
        Mpos += emb(x) >= 0

    ...
```
  I used two simplifications here
- you can iterate over a list elements
- adding a boolean to an integer is equivalent to adding `0` or `1` depending on the truth value

Vincent



---

archive/issue_events_050160.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2015-08-09T19:52:56Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "milestone": "sage-6.9",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17188#event-50160"
}
```



---

archive/issue_comments_228157.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-10T19:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228157",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228158.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-10T19:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228158",
    "user": "https://github.com/annahaensch"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_228159.json:
```json
{
    "body": "Thank you kindly for the review, Vincent.  I implemented all of your changes with the exception of item 3 (that one ended up causing more difficulty than simplicity).  Things should still run as desired.\n\n-Anna",
    "created_at": "2015-08-10T19:40:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228159",
    "user": "https://github.com/annahaensch"
}
```

Thank you kindly for the review, Vincent.  I implemented all of your changes with the exception of item 3 (that one ended up causing more difficulty than simplicity).  Things should still run as desired.

-Anna



---

archive/issue_comments_228160.json:
```json
{
    "body": "Hi Anna,\n\nYou made a small typo\n\n```\nif self.base_ring() == QQ:\n    return self.signature() == other.signature():\n        Rat_Isom_flag = False\n```\nYou need to replace the `return` with `if`!",
    "created_at": "2015-08-10T20:55:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228160",
    "user": "https://github.com/videlec"
}
```

Hi Anna,

You made a small typo

```
if self.base_ring() == QQ:
    return self.signature() == other.signature():
        Rat_Isom_flag = False
```
You need to replace the `return` with `if`!



---

archive/issue_comments_228161.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-10T21:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228161",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228162.json:
```json
{
    "body": "Thanks, Vincent.  I fixed that, and added some blank space around another instance of '!='",
    "created_at": "2015-08-10T21:10:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228162",
    "user": "https://github.com/annahaensch"
}
```

Thanks, Vincent.  I fixed that, and added some blank space around another instance of '!='



---

archive/issue_comments_228163.json:
```json
{
    "body": "With the current code there is something wrong going on. If the dimensions are different then `Rat_Isom_flag` is set to `False`. This is fine. But then it will try to multiply the Gram determinant (for nothing since we already knew that they were not equivalent).\n\nSimilarly, in this loop\n\n```\n    for p in L:\n        if self.hasse_invariant(p) != other.hasse_invariant(p):\n            Rat_Isom_flag = False\n```\nif you found out that something is wrong during the first pass you will have to wait!\n\nThis is why I suggested to modify the code to\n\n```\nif bad behavior 1:\n    return False\nif bad behavior 2:\n    return False\nfor i in some test case:\n    if bad behavior 3:\n        return False\nreturn True\n```",
    "created_at": "2015-08-10T21:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228163",
    "user": "https://github.com/videlec"
}
```

With the current code there is something wrong going on. If the dimensions are different then `Rat_Isom_flag` is set to `False`. This is fine. But then it will try to multiply the Gram determinant (for nothing since we already knew that they were not equivalent).

Similarly, in this loop

```
    for p in L:
        if self.hasse_invariant(p) != other.hasse_invariant(p):
            Rat_Isom_flag = False
```
if you found out that something is wrong during the first pass you will have to wait!

This is why I suggested to modify the code to

```
if bad behavior 1:
    return False
if bad behavior 2:
    return False
for i in some test case:
    if bad behavior 3:
        return False
return True
```



---

archive/issue_comments_228164.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-10T21:56:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228164",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_228165.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-10T23:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228165",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228166.json:
```json
{
    "body": "Ah, I understand.  I changed that throughout, and also caught one error with the signature test over QQ.",
    "created_at": "2015-08-10T23:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228166",
    "user": "https://github.com/annahaensch"
}
```

Ah, I understand.  I changed that throughout, and also caught one error with the signature test over QQ.



---

archive/issue_comments_228167.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-08-10T23:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228167",
    "user": "https://github.com/annahaensch"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_228168.json:
```json
{
    "body": "Instead of doing `L=L1+L2` you can do `L=set().union(L1,L2)`. That way you will remove duplicates as in\n\n```\nsage: V = DiagonalQuadraticForm(K,[-1,a,-2*a])\nsage: W = DiagonalQuadraticForm(K,[-1,-a,2*a])\nsage: L1 = V.Gram_det().support()\nsage: L1\n[Fractional ideal (a + 1), Fractional ideal (a)]\nsage: L 2 =W.Gram_det().support()\nsage: L2\n[Fractional ideal (a + 1), Fractional ideal (a)]\nsage: L1+L2\n[Fractional ideal (a + 1),\n Fractional ideal (a),\n Fractional ideal (a + 1),\n Fractional ideal (a)]\nsage: set().union(L1,L2)\n{Fractional ideal (a + 1), Fractional ideal (a)}\n```\nAnd there is no need to declare `L` (but you might find it simpler) by doing\n\n```\nfor p in set().union(L1,L2):\n    ...\n```\n\n`M` and `N` are computed early but not used early. It would make sense to move there declarations since if the dimension differ (the first test) then there is no need to compute them. You can move them after the `else` in the case that the base ring is not `QQ`. You can also move the declaration of `L1` and `L2`.\n\nCould you add some tests for all the cases (starting from the Gram determinant being 0)?\n\nMore interesting: is there a way to return the transformation in case they are equivalent?",
    "created_at": "2015-08-11T16:57:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228168",
    "user": "https://github.com/videlec"
}
```

Instead of doing `L=L1+L2` you can do `L=set().union(L1,L2)`. That way you will remove duplicates as in

```
sage: V = DiagonalQuadraticForm(K,[-1,a,-2*a])
sage: W = DiagonalQuadraticForm(K,[-1,-a,2*a])
sage: L1 = V.Gram_det().support()
sage: L1
[Fractional ideal (a + 1), Fractional ideal (a)]
sage: L 2 =W.Gram_det().support()
sage: L2
[Fractional ideal (a + 1), Fractional ideal (a)]
sage: L1+L2
[Fractional ideal (a + 1),
 Fractional ideal (a),
 Fractional ideal (a + 1),
 Fractional ideal (a)]
sage: set().union(L1,L2)
{Fractional ideal (a + 1), Fractional ideal (a)}
```
And there is no need to declare `L` (but you might find it simpler) by doing

```
for p in set().union(L1,L2):
    ...
```

`M` and `N` are computed early but not used early. It would make sense to move there declarations since if the dimension differ (the first test) then there is no need to compute them. You can move them after the `else` in the case that the base ring is not `QQ`. You can also move the declaration of `L1` and `L2`.

Could you add some tests for all the cases (starting from the Gram determinant being 0)?

More interesting: is there a way to return the transformation in case they are equivalent?



---

archive/issue_comments_228169.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-11T17:09:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228169",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228170.json:
```json
{
    "body": "There is a way to return the transformation, in fact I have a student writing that as a separate function right now. I think it's best to keep it separate from this function, since in principle, his functions work for integral lattices as well, whereas this one is only applicable to fields.  Nevertheless, I suppose I should open a trac ticket for that...",
    "created_at": "2015-08-11T17:12:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228170",
    "user": "https://github.com/annahaensch"
}
```

There is a way to return the transformation, in fact I have a student writing that as a separate function right now. I think it's best to keep it separate from this function, since in principle, his functions work for integral lattices as well, whereas this one is only applicable to fields.  Nevertheless, I suppose I should open a trac ticket for that...



---

archive/issue_comments_228171.json:
```json
{
    "body": "Replying to [comment:12 vdelecroix]:\n> Could you add some tests for all the cases (starting from the Gram determinant being 0)?\n\n\nYou forgot this one. I would be happy with more specifications and degenerate tests. For example, you can copy paste the following\n\n```\nTESTS:\n\nThe diagonal form must have the same base ring otherwise a\n`TypeError` is raised::\n\n    sage: K1.<a> = QuadraticField(5)\n    sage: K2.<b> = QuadraticField(7)\n    sage: V = DiagonalQuadraticForm(K1,[1,a])\n    sage: W = DiagonalQuadraticForm(K2,[1,b])\n    sage: V.is_rationally_isometric(W)\n    Traceback (most recent call last):\n    ...\n    TypeError: forms must have the same base ring.\n```\nBeyond that the code looks good to me. I am compiling the documentation right now to see how it looks.\n\nReplying to [comment:14 annahaensch]:\n> There is a way to return the transformation, in fact I have a student writing that as a separate function right now. I think it's best to keep it separate from this function, since in principle, his functions work for integral lattices as well, whereas this one is only applicable to fields.  Nevertheless, I suppose I should open a trac ticket for that...\n\n\nNice! He or she might open the ticket. That is part of the learning curve ;-)",
    "created_at": "2015-08-11T18:26:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228171",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:12 vdelecroix]:
> Could you add some tests for all the cases (starting from the Gram determinant being 0)?


You forgot this one. I would be happy with more specifications and degenerate tests. For example, you can copy paste the following

```
TESTS:

The diagonal form must have the same base ring otherwise a
`TypeError` is raised::

    sage: K1.<a> = QuadraticField(5)
    sage: K2.<b> = QuadraticField(7)
    sage: V = DiagonalQuadraticForm(K1,[1,a])
    sage: W = DiagonalQuadraticForm(K2,[1,b])
    sage: V.is_rationally_isometric(W)
    Traceback (most recent call last):
    ...
    TypeError: forms must have the same base ring.
```
Beyond that the code looks good to me. I am compiling the documentation right now to see how it looks.

Replying to [comment:14 annahaensch]:
> There is a way to return the transformation, in fact I have a student writing that as a separate function right now. I think it's best to keep it separate from this function, since in principle, his functions work for integral lattices as well, whereas this one is only applicable to fields.  Nevertheless, I suppose I should open a trac ticket for that...


Nice! He or she might open the ticket. That is part of the learning curve ;-)



---

archive/issue_comments_228172.json:
```json
{
    "body": "Too true, I'll have him start a ticket.  I'm actually having difficult getting my local copy of sage to recognize the function is_rationally_isometric.  I am on the branch 17425 and ran ./sage -b but it still says \" 'Quadratic Form' has no attribute 'is_rationally_isometric', what step am I missing?",
    "created_at": "2015-08-11T20:17:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228172",
    "user": "https://github.com/annahaensch"
}
```

Too true, I'll have him start a ticket.  I'm actually having difficult getting my local copy of sage to recognize the function is_rationally_isometric.  I am on the branch 17425 and ran ./sage -b but it still says " 'Quadratic Form' has no attribute 'is_rationally_isometric', what step am I missing?



---

archive/issue_comments_228173.json:
```json
{
    "body": "Replying to [comment:16 annahaensch]:\n> Too true, I'll have him start a ticket.  I'm actually having difficult getting my local copy of sage to recognize the function is_rationally_isometric.  I am on the branch 17425 and ran ./sage -b but it still says \" 'Quadratic Form' has no attribute 'is_rationally_isometric', what step am I missing? \n\n\nWhat do you see if you do on the command line inside the sage repository\n\n```\n$ git status -sb\n$ git log --oneline -10\n```\n(it is to get the name of the branch your on and the last 10 commits)",
    "created_at": "2015-08-11T20:19:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228173",
    "user": "https://github.com/videlec"
}
```

Replying to [comment:16 annahaensch]:
> Too true, I'll have him start a ticket.  I'm actually having difficult getting my local copy of sage to recognize the function is_rationally_isometric.  I am on the branch 17425 and ran ./sage -b but it still says " 'Quadratic Form' has no attribute 'is_rationally_isometric', what step am I missing? 


What do you see if you do on the command line inside the sage repository

```
$ git status -sb
$ git log --oneline -10
```
(it is to get the name of the branch your on and the last 10 commits)



---

archive/issue_comments_228174.json:
```json
{
    "body": "This: \n\n```\nhaenscha-ch:sage annahaensch$ git status -sb\n## ticket/17425...trac/u/annahaensch/ticket/17425\n M src/sage/quadratic_forms/quadratic_form__equivalence_testing.py\n?? build/make/\n?? src/sage/libs/pari/auto_gen.pxi\n?? src/sage/libs/pari/auto_instance.pxi\n```\nAnd this: \n\n```\nhaenscha-ch:sage annahaensch$ git log --oneline -10\n8b2f1aa Minor changes in syntax\n91c4704 Removed isom_flag from code\n8972c80 fixed two small typos\nf7d2f4f Incorporated changes 1,2, and 4 from reviewer comments.\n613901a Removed trailing whitespace\nfa4812b Updated imports in quadratic_form.py\n6e5a563 Adjusted preamble in quadratic_forms__equivalence_testing.py\n57f6b6a Added is_rationally_isometric to library\n76b4ac4 Updated Sage version to 6.4.1\nf045b63 Trac #15316: Make gf2x respect SAGE_FAT_BINARY and use --libdir\n```",
    "created_at": "2015-08-11T20:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228174",
    "user": "https://github.com/annahaensch"
}
```

This: 

```
haenscha-ch:sage annahaensch$ git status -sb
## ticket/17425...trac/u/annahaensch/ticket/17425
 M src/sage/quadratic_forms/quadratic_form__equivalence_testing.py
?? build/make/
?? src/sage/libs/pari/auto_gen.pxi
?? src/sage/libs/pari/auto_instance.pxi
```
And this: 

```
haenscha-ch:sage annahaensch$ git log --oneline -10
8b2f1aa Minor changes in syntax
91c4704 Removed isom_flag from code
8972c80 fixed two small typos
f7d2f4f Incorporated changes 1,2, and 4 from reviewer comments.
613901a Removed trailing whitespace
fa4812b Updated imports in quadratic_form.py
6e5a563 Adjusted preamble in quadratic_forms__equivalence_testing.py
57f6b6a Added is_rationally_isometric to library
76b4ac4 Updated Sage version to 6.4.1
f045b63 Trac #15316: Make gf2x respect SAGE_FAT_BINARY and use --libdir
```



---

archive/issue_comments_228175.json:
```json
{
    "body": "It looks strange that you do not have access to the method! Note that you have pending modifications on the file `quadratic_form__equivalence_testing.py` as shown by `git status` (the `M` on the left). There might be something wrong with them. You can temporarily disable these with `$ git stash`. And then retry `sage -b`. You will be able to recover them later on by doing `$ git stash pop`.\n\nsided note: your sage version is very old (but this is of no importance for this ticket since your modifications apply cleanly on the last version).",
    "created_at": "2015-08-11T20:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228175",
    "user": "https://github.com/videlec"
}
```

It looks strange that you do not have access to the method! Note that you have pending modifications on the file `quadratic_form__equivalence_testing.py` as shown by `git status` (the `M` on the left). There might be something wrong with them. You can temporarily disable these with `$ git stash`. And then retry `sage -b`. You will be able to recover them later on by doing `$ git stash pop`.

sided note: your sage version is very old (but this is of no importance for this ticket since your modifications apply cleanly on the last version).



---

archive/issue_comments_228176.json:
```json
{
    "body": "The pending modification is the TEST that I pasted from your message above. I'm definitely running Sage 6.8, and that sage path that I reference above is actually the clone that I build from git, so it should be very new.  \n\nIt's not technically the correct way to do things, but if you just give me the text from the test that you want (like you did above), I can just paste them into my patch and then commit and push that.  Otherwise, well, I'm not really sure how to do it.",
    "created_at": "2015-08-11T21:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228176",
    "user": "https://github.com/annahaensch"
}
```

The pending modification is the TEST that I pasted from your message above. I'm definitely running Sage 6.8, and that sage path that I reference above is actually the clone that I build from git, so it should be very new.  

It's not technically the correct way to do things, but if you just give me the text from the test that you want (like you did above), I can just paste them into my patch and then commit and push that.  Otherwise, well, I'm not really sure how to do it.



---

archive/issue_comments_228177.json:
```json
{
    "body": "Your ticket is based over sage-6.4.1! What tells you `sage -version`? You have only one version of sage installed?",
    "created_at": "2015-08-11T21:04:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228177",
    "user": "https://github.com/videlec"
}
```

Your ticket is based over sage-6.4.1! What tells you `sage -version`? You have only one version of sage installed?



---

archive/issue_comments_228178.json:
```json
{
    "body": "I guess that what is wrong is that the source code that you currently seeing and editing has nothing to do with your binary that you are executing. `sage -b` is not enough to rebuild sage from different version (here 6.8 agains 6.4.1).\n\nThe safest way to proceed would be to merge your changes with the last version of sage. First discard your changes with `$ git stash`. Then, do you know the name of the branch with the last version? Otherwise you should be able to guess it from `$ git branch` (should be either `develop` or `master` and you can check with `git log MAIN_BRANCH` that the last commit says something like `update to version 6.8`). Then just do\n\n```\n$ git merge MAIN_BRANCH\n```\nThat will fusion your modifications with sage-6.8. Then you should be able to run `sage -b` and get it work.",
    "created_at": "2015-08-11T21:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228178",
    "user": "https://github.com/videlec"
}
```

I guess that what is wrong is that the source code that you currently seeing and editing has nothing to do with your binary that you are executing. `sage -b` is not enough to rebuild sage from different version (here 6.8 agains 6.4.1).

The safest way to proceed would be to merge your changes with the last version of sage. First discard your changes with `$ git stash`. Then, do you know the name of the branch with the last version? Otherwise you should be able to guess it from `$ git branch` (should be either `develop` or `master` and you can check with `git log MAIN_BRANCH` that the last commit says something like `update to version 6.8`). Then just do

```
$ git merge MAIN_BRANCH
```
That will fusion your modifications with sage-6.8. Then you should be able to run `sage -b` and get it work.



---

archive/issue_comments_228179.json:
```json
{
    "body": "Replying to [comment:21 vdelecroix]:\n> Your ticket is based over sage-6.4.1! What tells you `sage -version`? You have only one version of sage installed?\n\n\nI have 6.8 and 6.4 installed, but I am doing everything through the clone that I building off of git (that is sage 6.8).  I am working on a different computer now than I was 8 months ago when I first wrote the patch, so I wasn't even working with my original code. \n\nI currently have two branches here: master and ticket/17425",
    "created_at": "2015-08-11T21:15:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228179",
    "user": "https://github.com/annahaensch"
}
```

Replying to [comment:21 vdelecroix]:
> Your ticket is based over sage-6.4.1! What tells you `sage -version`? You have only one version of sage installed?


I have 6.8 and 6.4 installed, but I am doing everything through the clone that I building off of git (that is sage 6.8).  I am working on a different computer now than I was 8 months ago when I first wrote the patch, so I wasn't even working with my original code. 

I currently have two branches here: master and ticket/17425



---

archive/issue_comments_228180.json:
```json
{
    "body": "You should be on `ticket/17425` (as was said before by `$ git status -sb`). Check the version in master with `$ git log master -1` (the `-1` is to get the last commit only) and do\n\n```\ngit merge master\n```",
    "created_at": "2015-08-11T21:19:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228180",
    "user": "https://github.com/videlec"
}
```

You should be on `ticket/17425` (as was said before by `$ git status -sb`). Check the version in master with `$ git log master -1` (the `-1` is to get the last commit only) and do

```
git merge master
```



---

archive/issue_comments_228181.json:
```json
{
    "body": "I am on ticket/17425.  When I run `git log master -1` it returns (as expected) \"Updated Sage version 6.8\"  \n\nNow I tried to run `git merge master` and it says \n\n```\nfatal: You have no concluded your merge (MERGE_HEAD exists).\nPlease commit your changes before you can merge. \n```\n\nI think this is because I tried to merge earlier and got stuck in a vi window and couldn't get out...oops.  What do I do?\n\nThanks for your help!",
    "created_at": "2015-08-11T21:24:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228181",
    "user": "https://github.com/annahaensch"
}
```

I am on ticket/17425.  When I run `git log master -1` it returns (as expected) "Updated Sage version 6.8"  

Now I tried to run `git merge master` and it says 

```
fatal: You have no concluded your merge (MERGE_HEAD exists).
Please commit your changes before you can merge. 
```

I think this is because I tried to merge earlier and got stuck in a vi window and couldn't get out...oops.  What do I do?

Thanks for your help!



---

archive/issue_comments_228182.json:
```json
{
    "body": "Do\n\n```\ngit merge --continue\n```\nIn the vim window there should be an automatic message already written. Then just enter `:wq` (`w` for write and `q` for quit). For later on you can configure the editor you wish, see [this page](https://git-scm.com/book/tr/v2/Customizing-Git-Git-Configuration).",
    "created_at": "2015-08-11T21:29:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228182",
    "user": "https://github.com/videlec"
}
```

Do

```
git merge --continue
```
In the vim window there should be an automatic message already written. Then just enter `:wq` (`w` for write and `q` for quit). For later on you can configure the editor you wish, see [this page](https://git-scm.com/book/tr/v2/Customizing-Git-Git-Configuration).



---

archive/issue_comments_228183.json:
```json
{
    "body": "You might need to commit your changes (sorry). Do `$ git stash` to discard them. That would be simpler. And then do `$ git merge --continue`.",
    "created_at": "2015-08-11T21:34:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228183",
    "user": "https://github.com/videlec"
}
```

You might need to commit your changes (sorry). Do `$ git stash` to discard them. That would be simpler. And then do `$ git merge --continue`.



---

archive/issue_comments_228184.json:
```json
{
    "body": "The other option is to cancel the merge that you interrupted with `$ git merge --abort`. And then you can start again a fresh merge.",
    "created_at": "2015-08-11T21:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228184",
    "user": "https://github.com/videlec"
}
```

The other option is to cancel the merge that you interrupted with `$ git merge --abort`. And then you can start again a fresh merge.



---

archive/issue_comments_228185.json:
```json
{
    "body": "Ok, now I've added the tests, merged with the main, staged the commits.  But I'm getting an error when I try to push to trac.  I've uploaded by ssh key (did it again just now, to be sure), but I'm getting an error \n\n```\nPush to remote branch? [Yes/no] Yes\nGitError: git exited with a non-zero exit code (128).\nThis happened while executing \"git push\nssh://git@trac.sagemath.org:2222/sage.git\nticket/17425:u/annahaensch/ticket/17425\".\ngit printed nothing to STDOUT.\ngit printed the following to STDERR:\nssh: connect to host trac.sagemath.org port 2222: Connection refused\nfatal: Could not read from remote repository.\nPlease make sure you have the correct access rights\nand the repository exists.\n```\n\nAny ideas?",
    "created_at": "2015-08-12T15:37:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228185",
    "user": "https://github.com/annahaensch"
}
```

Ok, now I've added the tests, merged with the main, staged the commits.  But I'm getting an error when I try to push to trac.  I've uploaded by ssh key (did it again just now, to be sure), but I'm getting an error 

```
Push to remote branch? [Yes/no] Yes
GitError: git exited with a non-zero exit code (128).
This happened while executing "git push
ssh://git@trac.sagemath.org:2222/sage.git
ticket/17425:u/annahaensch/ticket/17425".
git printed nothing to STDOUT.
git printed the following to STDERR:
ssh: connect to host trac.sagemath.org port 2222: Connection refused
fatal: Could not read from remote repository.
Please make sure you have the correct access rights
and the repository exists.
```

Any ideas?



---

archive/issue_comments_228186.json:
```json
{
    "body": "Hi,\n\nReplying to [comment:29 annahaensch]:\n> Ok, now I've added the tests, merged with the main, staged the commits.  \n\n\nCool.\n\n> But I'm getting an error when I try to push to trac.  I've uploaded by ssh key (did it again just now, to be sure), but I'm getting an error \n> ...\n\n\nWhy did you upload again the ssh key? Did you have some trouble before that?\n\nIn order to test your access to the git server you can run `$ ssh git`@`trac.sagemath.org info`. If it tells you who you are this is fine. Otherwise, there is an identification problem.",
    "created_at": "2015-08-12T15:56:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228186",
    "user": "https://github.com/videlec"
}
```

Hi,

Replying to [comment:29 annahaensch]:
> Ok, now I've added the tests, merged with the main, staged the commits.  


Cool.

> But I'm getting an error when I try to push to trac.  I've uploaded by ssh key (did it again just now, to be sure), but I'm getting an error 
> ...


Why did you upload again the ssh key? Did you have some trouble before that?

In order to test your access to the git server you can run `$ ssh git`@`trac.sagemath.org info`. If it tells you who you are this is fine. Otherwise, there is an identification problem.



---

archive/issue_comments_228187.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T15:57:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228187",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228188.json:
```json
{
    "body": "Nevermind, I sorted it out, I guess I just needed to reinstall the git trac command.  But the most recent commits should have everything.  I added several tests, but let me know if this is what you had in mind!  -Anna",
    "created_at": "2015-08-12T15:59:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228188",
    "user": "https://github.com/annahaensch"
}
```

Nevermind, I sorted it out, I guess I just needed to reinstall the git trac command.  But the most recent commits should have everything.  I added several tests, but let me know if this is what you had in mind!  -Anna



---

archive/issue_comments_228189.json:
```json
{
    "body": "Argh! You reintroduced a lot of trailing whitespaces.\n\nPerhaps in the `TESTS` section, you can add\n\n```\nsage: K.<a> = NumberField(x^5 - x + 2, 'a')\nsage: Q = QuadraticForm(K,3,[a,1,0,-a**2,-a**3,-1])\nsage: m = Q.matrix()\nsage: for _ in range(5):\n....:     t = random_matrix(ZZ,3,algorithm='unimodular')\n....:     m2 = t*m*t.transpose()\n....:     Q2 = QuadraticForm(K, 3, [m2[i,j] / (2 if i==j else 1)\n....:                               for i in range(3) for j in range(i,3)])\n....:     print Q.is_rationally_isometric(Q2)\nTrue\nTrue\nTrue\nTrue\nTrue\n```\nI had some trouble going from the matrix to the quadratic form. There might be a simpler way.\n\nEDIT: there was a type `m[i,j]` had to be replaced with `m2[i,j]`... otherwise the equivalence tested would have been between a quadratic form and itself!",
    "created_at": "2015-08-12T16:07:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228189",
    "user": "https://github.com/videlec"
}
```

Argh! You reintroduced a lot of trailing whitespaces.

Perhaps in the `TESTS` section, you can add

```
sage: K.<a> = NumberField(x^5 - x + 2, 'a')
sage: Q = QuadraticForm(K,3,[a,1,0,-a**2,-a**3,-1])
sage: m = Q.matrix()
sage: for _ in range(5):
....:     t = random_matrix(ZZ,3,algorithm='unimodular')
....:     m2 = t*m*t.transpose()
....:     Q2 = QuadraticForm(K, 3, [m2[i,j] / (2 if i==j else 1)
....:                               for i in range(3) for j in range(i,3)])
....:     print Q.is_rationally_isometric(Q2)
True
True
True
True
True
```
I had some trouble going from the matrix to the quadratic form. There might be a simpler way.

EDIT: there was a type `m[i,j]` had to be replaced with `m2[i,j]`... otherwise the equivalence tested would have been between a quadratic form and itself!



---

archive/issue_comments_228190.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T16:14:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228190",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228191.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T16:21:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228191",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228192.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T16:23:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228192",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228193.json:
```json
{
    "body": "Ack!  That trailing white space, I always forget.  I should be gone.  I added your test and then fixed the typo in a second commit.",
    "created_at": "2015-08-12T16:24:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228193",
    "user": "https://github.com/annahaensch"
}
```

Ack!  That trailing white space, I always forget.  I should be gone.  I added your test and then fixed the typo in a second commit.



---

archive/issue_comments_228194.json:
```json
{
    "body": "There should be no need to import `hasse_invariant`. Could you remove the line\n\n```\nfrom quadratic_form__local_field_invariants import hasse_invariant\n```\nthat you added?",
    "created_at": "2015-08-12T16:48:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228194",
    "user": "https://github.com/videlec"
}
```

There should be no need to import `hasse_invariant`. Could you remove the line

```
from quadratic_form__local_field_invariants import hasse_invariant
```
that you added?



---

archive/issue_comments_228195.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T16:54:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228195",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228196.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-08-12T17:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228196",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_228197.json:
```json
{
    "body": "I got a doctest failure\n\n```\nsage: K.<a>=QuadraticField(3)\nsage: V=DiagonalQuadraticForm(K,[1,2])\nsage: W=DiagonalQuadraticForm(K,[1,0])\nsage: V.is_rationally_isometric(W)\n...\nNotImplementedError: This only tests regular forms\n```\nThe output should be\n\n```\nTraceback (most recent call last):\n...\nNotImplementedError: This only tests regular forms\n```\n\nYou can check that the tests pass with `sage -t NAME_OF_THE_FILE`.",
    "created_at": "2015-08-12T17:22:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228197",
    "user": "https://github.com/videlec"
}
```

I got a doctest failure

```
sage: K.<a>=QuadraticField(3)
sage: V=DiagonalQuadraticForm(K,[1,2])
sage: W=DiagonalQuadraticForm(K,[1,0])
sage: V.is_rationally_isometric(W)
...
NotImplementedError: This only tests regular forms
```
The output should be

```
Traceback (most recent call last):
...
NotImplementedError: This only tests regular forms
```

You can check that the tests pass with `sage -t NAME_OF_THE_FILE`.



---

archive/issue_comments_228198.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T17:36:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228198",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228199.json:
```json
{
    "body": "Did you run the test on the file with `sage -t`? I am pretty sure that the colon is needed at the end of the first line.",
    "created_at": "2015-08-12T17:50:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228199",
    "user": "https://github.com/videlec"
}
```

Did you run the test on the file with `sage -t`? I am pretty sure that the colon is needed at the end of the first line.



---

archive/issue_comments_228200.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-12T17:55:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228200",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_228201.json:
```json
{
    "body": "So right, that should do it.",
    "created_at": "2015-08-12T17:56:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228201",
    "user": "https://github.com/annahaensch"
}
```

So right, that should do it.



---

archive/issue_comments_228202.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-08-12T20:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228202",
    "user": "https://github.com/videlec"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_228203.json:
```json
{
    "body": "All right. The test pass for me! Let this ticket go.",
    "created_at": "2015-08-12T20:22:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228203",
    "user": "https://github.com/videlec"
}
```

All right. The test pass for me! Let this ticket go.



---

archive/issue_comments_228204.json:
```json
{
    "body": "Replying to [comment:12 vdelecroix]:\n> More interesting: is there a way to return the transformation in case they are equivalent?\n\n\nI'm also (weakly) interested in that. It's certainly something which is on my Sage TODO list (even though I don't yet have a ticket for it). I currently have several quadratic_form tickets in \"needs_review\" right now, and the conflicts would be annoying.",
    "created_at": "2015-08-12T20:23:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228204",
    "user": "https://github.com/jdemeyer"
}
```

Replying to [comment:12 vdelecroix]:
> More interesting: is there a way to return the transformation in case they are equivalent?


I'm also (weakly) interested in that. It's certainly something which is on my Sage TODO list (even though I don't yet have a ticket for it). I currently have several quadratic_form tickets in "needs_review" right now, and the conflicts would be annoying.



---

archive/issue_comments_228205.json:
```json
{
    "body": "Replying to [comment:45 vdelecroix]:\n> All right. The test pass for me! Let this ticket go.\n\n\n\nVincent, thanks so much for your review and assistance with this! -Anna",
    "created_at": "2015-08-12T21:40:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228205",
    "user": "https://github.com/annahaensch"
}
```

Replying to [comment:45 vdelecroix]:
> All right. The test pass for me! Let this ticket go.



Vincent, thanks so much for your review and assistance with this! -Anna



---

archive/issue_comments_228206.json:
```json
{
    "body": "Replying to [comment:46 jdemeyer]:\n> Replying to [comment:12 vdelecroix]:\n> > More interesting: is there a way to return the transformation in case they are equivalent?\n\n> \n> I'm also (weakly) interested in that. It's certainly something which is on my Sage TODO list (even though I don't yet have a ticket for it). I currently have several quadratic_form tickets in \"needs_review\" right now, and the conflicts would be annoying.\n\n\nGood news, you can take it off your TODO list, because I actually have a student working on exactly that right now.  His ticket should be up soon.",
    "created_at": "2015-08-12T21:46:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228206",
    "user": "https://github.com/annahaensch"
}
```

Replying to [comment:46 jdemeyer]:
> Replying to [comment:12 vdelecroix]:
> > More interesting: is there a way to return the transformation in case they are equivalent?

> 
> I'm also (weakly) interested in that. It's certainly something which is on my Sage TODO list (even though I don't yet have a ticket for it). I currently have several quadratic_form tickets in "needs_review" right now, and the conflicts would be annoying.


Good news, you can take it off your TODO list, because I actually have a student working on exactly that right now.  His ticket should be up soon.



---

archive/issue_events_050161.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-08-13T18:35:22Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/17188#event-50161"
}
```



---

archive/issue_comments_228207.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-08-13T18:35:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/17188",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/17188#issuecomment-228207",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
