# Issue 15329: The -sync-build option is broken

Issue created by migration from Trac.

Original creator: vbraun

Original creation time: 2013-12-22 11:49:45

CC:  ohanar




---

Comment by vbraun created at 2013-12-22 11:50:22

Changing component from PLEASE CHANGE to build.


---

Comment by vbraun created at 2013-12-22 11:50:22


```
$ sage -sync-build
Traceback (most recent call last):
  File "/home/vbraun/Code/sage.git/src/bin/sage-sync-build.py", line 110, in <module>
    clean_tree(prune_directories=prune_directories, dry_run=dry_run)
  File "/home/vbraun/Code/sage.git/src/bin/sage-sync-build.py", line 86, in clean_tree
    os.rmdir(dir_path)
OSError: [Errno 39] Directory not empty: '/home/vbraun/Code/sage.git/local/lib/python2.7/site-packages/sage/server/trac'
```



---

Comment by vbraun created at 2013-12-22 11:50:22

Changing type from PLEASE CHANGE to defect.


---

Comment by vbraun created at 2013-12-22 12:11:29

New commits:


---

Comment by vbraun created at 2013-12-22 12:11:29

Changing status from new to needs_review.


---

Comment by ncohen created at 2013-12-22 15:40:52

Hmmmmmmm `O_o`

Not to mention that the meaning of the `dir_path` variable at this location in the code isn't exactly clear `O_O`

Nathann


---

Comment by ncohen created at 2013-12-22 15:43:59

Okay, what this commit does makes sense, and once this is done `sage -sync-build` raises no exception, but the `sage.schemes.toric.library.ToricVarietyFactory.torus` object from #15564 still seems to exist !?...

Nathann


---

Comment by ncohen created at 2013-12-22 15:51:36

Oh, by the way, I did not just checkout your branch but merged it with 6.0.rc1.

Nathann


---

Comment by vbraun created at 2013-12-22 15:52:30

Ok, the `torus()` was merged in f00af8f6 and is a normal method in src/sage/schemes/toric/library.py


---

Comment by ncohen created at 2013-12-22 15:54:42

Ahahahah. You wrote that yourself `:-P`

Okay, so this patch can go and I can try to fix #15564. With other things from the doc. I now use this --warn-links option that Florent exposed, and I would like it to become Sage's default for the doc. But in the meantime we have plenty of links to fix `:-P`

Nathann


---

Comment by ncohen created at 2013-12-22 16:17:48

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-12-24 20:24:16

Resolution: fixed
