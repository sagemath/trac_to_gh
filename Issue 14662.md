# Issue 14662: Lazy imports, NilCoxeterAlgebra, Hall-Littlewood Polynomials

Issue created by migration from https://trac.sagemath.org/ticket/14866

Original creator: SimonKing

Original creation time: 2013-07-07 21:41:22

Assignee: sage-combinat

Currently, at startup, algebras.all does `from nil_coxeter_algebra import NilCoxeterAlgebra`,
which results in `import kfpoly` in combinat.sf.hall_littlewood in
line 32, which creates PolynomialRing(ZZ,'t').

This should be made more lazy; there is no reason to import HL polynomials nor the NilCoxeterAlgebra at startup, *and* it would be nicer to not create a polynomial ring upon importing HL polynomials.


---

Comment by chapoton created at 2013-07-08 19:19:38

Changing status from new to needs_review.


---

Comment by chapoton created at 2013-07-08 19:19:38

here is a patch, that hopefully does the job.


---

Comment by chapoton created at 2013-07-12 15:46:10

ok, bot is happy, is there anybody for a review ?


---

Comment by tscrim created at 2013-07-13 12:54:20

By doing it this way, there is not a significant improvement to startup time, even though all 3 modules are not imported at startup. Also what is your criterion for lazily importing these three modules and not others (such as the Jack symmetric functions)? It feels kind of arbitrary to me.

I think we should do the following:

- Move the import of `kfpoly.py` into the appropriate method (as per the current patch)
- Remove the `global_t` in `kfpoly.py` which will remove the creation (from `kfpoly.py` at least) of the poylnomial ring.
- Have a well-defined set of criterion for when we should lazily import modules.

Best,

Travis


---

Attachment

ok, I have (maybe) taken care of the global_t in kf_poly

concerning the policy for "lazy_import", I would vote for lazy_importing everybody, but I do not understand if it is good or not for the starting time.


---

Comment by vbraun created at 2013-07-17 20:09:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2013-07-17 20:09:20

Looks good to me.


---

Comment by jdemeyer created at 2013-08-16 21:14:12

Resolution: fixed
