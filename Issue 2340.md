# Issue 2340: Docstrings and doctests for rings/ring.pyx

archive/issues_002340.json:
```json
{
    "body": "Assignee: cswiercz\n\nKeywords: doctest\n\nProvide missing doctests for the file rings/ring.pyx on all non-underscore functions. These include\n\nrandom_element\nkrull_dimension\nideal_monoid\nquotient_ring\nis_integral_domain\nis_integrally_closed\nis_field\nis_noetherian\n\nkrull_dimension\nis_integrally_closed\nintegral_closure\nis_noetherian\ngcd\nparameter\ncategory\nfraction_field\nmodulus\ncharacteristic\nis_commutative\n\nIssue created by migration from https://trac.sagemath.org/ticket/2340\n\n",
    "created_at": "2008-02-28T04:43:31Z",
    "labels": [
        "doctest coverage",
        "minor",
        "bug"
    ],
    "title": "Docstrings and doctests for rings/ring.pyx",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/2340",
    "user": "cswiercz"
}
```
Assignee: cswiercz

Keywords: doctest

Provide missing doctests for the file rings/ring.pyx on all non-underscore functions. These include

random_element
krull_dimension
ideal_monoid
quotient_ring
is_integral_domain
is_integrally_closed
is_field
is_noetherian

krull_dimension
is_integrally_closed
integral_closure
is_noetherian
gcd
parameter
category
fraction_field
modulus
characteristic
is_commutative

Issue created by migration from https://trac.sagemath.org/ticket/2340





---

archive/issue_comments_015661.json:
```json
{
    "body": "Attachment [rings.ring.patch](tarball://root/attachments/some-uuid/ticket2340/rings.ring.patch) by cswiercz created at 2008-03-04 01:25:56\n\nMissing doctests for most of the non underscore functions in rings/ring.pyx (Need to finish.)",
    "created_at": "2008-03-04T01:25:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15661",
    "user": "cswiercz"
}
```

Attachment [rings.ring.patch](tarball://root/attachments/some-uuid/ticket2340/rings.ring.patch) by cswiercz created at 2008-03-04 01:25:56

Missing doctests for most of the non underscore functions in rings/ring.pyx (Need to finish.)



---

archive/issue_comments_015662.json:
```json
{
    "body": "Attachment [rings.ring.additional.patch](tarball://root/attachments/some-uuid/ticket2340/rings.ring.additional.patch) by cswiercz created at 2008-03-06 01:00:51\n\nAdditional doctest for rings/ring.pyx. There are still some doctests leftover for some non-underscore functions. I don't know enough about them to make a decent doctest.",
    "created_at": "2008-03-06T01:00:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15662",
    "user": "cswiercz"
}
```

Attachment [rings.ring.additional.patch](tarball://root/attachments/some-uuid/ticket2340/rings.ring.additional.patch) by cswiercz created at 2008-03-06 01:00:51

Additional doctest for rings/ring.pyx. There are still some doctests leftover for some non-underscore functions. I don't know enough about them to make a decent doctest.



---

archive/issue_comments_015663.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2008-03-06T01:03:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15663",
    "user": "cswiercz"
}
```

Changing status from new to assigned.



---

archive/issue_comments_015664.json:
```json
{
    "body": "Review:\n\n1. I like all the tests and docs you have added, with one possible exception.  Your comment concerning the gcd functions talks about gcds in QQ, saying that they exist since QQ is trivially a PID.  There is some confusion here.  If you treat QQ as a ring, then gcd(a,b) should be 1 for all a,b in QQ (except a=b=0) since the ideal they generate is the unit ideal.  But this is not what gcd(a,b) actually does for a,b in QQ:  it returns a generator for the Z-module generated by a and b (rather than the Q-module).\n\nI suspect that this needs better documentation.  As it stands, it is certainly confusing.\n\n2. I'll have a go at doctesting the remaining functions.",
    "created_at": "2008-03-06T18:19:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15664",
    "user": "cremona"
}
```

Review:

1. I like all the tests and docs you have added, with one possible exception.  Your comment concerning the gcd functions talks about gcds in QQ, saying that they exist since QQ is trivially a PID.  There is some confusion here.  If you treat QQ as a ring, then gcd(a,b) should be 1 for all a,b in QQ (except a=b=0) since the ideal they generate is the unit ideal.  But this is not what gcd(a,b) actually does for a,b in QQ:  it returns a generator for the Z-module generated by a and b (rather than the Q-module).

I suspect that this needs better documentation.  As it stands, it is certainly confusing.

2. I'll have a go at doctesting the remaining functions.



---

archive/issue_comments_015665.json:
```json
{
    "body": "Attachment [rings.ring_integer_ring.patch](tarball://root/attachments/some-uuid/ticket2340/rings.ring_integer_ring.patch) by cswiercz created at 2008-03-07 22:39:19\n\nClarification of QQ.gcd in rings/ring.pyx. Also includes doctests for several basic functions in rings/integer_ring.pyx.",
    "created_at": "2008-03-07T22:39:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15665",
    "user": "cswiercz"
}
```

Attachment [rings.ring_integer_ring.patch](tarball://root/attachments/some-uuid/ticket2340/rings.ring_integer_ring.patch) by cswiercz created at 2008-03-07 22:39:19

Clarification of QQ.gcd in rings/ring.pyx. Also includes doctests for several basic functions in rings/integer_ring.pyx.



---

archive/issue_comments_015666.json:
```json
{
    "body": "The extra patches and clarifications look good, with one very small exception:  ZZ.gens() returns a tuple of length 1, not 2!\n\n\n```\nsage: ZZ.gens()\n(1,)\nsage: len(ZZ.gens())\n1\n```\n\n\nIt's just that Python displays 1-tuples with a trailing comma.",
    "created_at": "2008-03-08T09:09:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15666",
    "user": "cremona"
}
```

The extra patches and clarifications look good, with one very small exception:  ZZ.gens() returns a tuple of length 1, not 2!


```
sage: ZZ.gens()
(1,)
sage: len(ZZ.gens())
1
```


It's just that Python displays 1-tuples with a trailing comma.



---

archive/issue_comments_015667.json:
```json
{
    "body": "Attachment [8812.patch](tarball://root/attachments/some-uuid/ticket2340/8812.patch) by cremona created at 2008-03-08 22:25:26\n\nto be applied after thre previous 3 patches",
    "created_at": "2008-03-08T22:25:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15667",
    "user": "cremona"
}
```

Attachment [8812.patch](tarball://root/attachments/some-uuid/ticket2340/8812.patch) by cremona created at 2008-03-08 22:25:26

to be applied after thre previous 3 patches



---

archive/issue_comments_015668.json:
```json
{
    "body": "The attached patch 8812.patch (which need to be applied after the other 3) completes the job of doctesting rings/arith.py, rings/ring.pyx and rings/integer_ring.pyx, as well as correcting the minor glitch in the previous patches,\n\nThese passed --testall on 2.10.3.rc2",
    "created_at": "2008-03-08T22:26:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15668",
    "user": "cremona"
}
```

The attached patch 8812.patch (which need to be applied after the other 3) completes the job of doctesting rings/arith.py, rings/ring.pyx and rings/integer_ring.pyx, as well as correcting the minor glitch in the previous patches,

These passed --testall on 2.10.3.rc2



---

archive/issue_comments_015669.json:
```json
{
    "body": "Reviewed the attached patch 8812.patch with positive review. The patches are to be applied in the following order: ring.patch, ring.additional.patch, ring_integer_ring.patch, 8812.patch.",
    "created_at": "2008-03-09T17:18:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15669",
    "user": "cswiercz"
}
```

Reviewed the attached patch 8812.patch with positive review. The patches are to be applied in the following order: ring.patch, ring.additional.patch, ring_integer_ring.patch, 8812.patch.



---

archive/issue_comments_015670.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2008-03-09T17:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15670",
    "user": "mabshoff"
}
```

Resolution: fixed



---

archive/issue_comments_015671.json:
```json
{
    "body": "Merged all four patches in Sage 2.10.3.rc4",
    "created_at": "2008-03-09T17:27:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/2340",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/2340#issuecomment-15671",
    "user": "mabshoff"
}
```

Merged all four patches in Sage 2.10.3.rc4
