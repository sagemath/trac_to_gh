# Issue 13634: Implementation of virtual Klebers algorithm

Issue created by migration from Trac.

Original creator: tscrim

Original creation time: 2012-12-17 07:55:25

Assignee: tscrim

CC:  sage-combinat aschilling

The current implementation of `KleberTree` is only valid for the simply laced types. This ticket will implement the virtual Kleber algorithm and thus expand `KleberTree` to generate rigged configurations for all affine types.


---

Comment by tscrim created at 2013-02-13 21:32:58

Changing status from new to needs_review.


---

Attachment

Since I attached the wrong patch...

For patchbot:

Apply only: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by tscrim created at 2013-07-09 10:32:38

New version based over the changes in #13871.

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by tscrim created at 2013-07-09 11:00:56

Removed workaround of #14870 because it is now part of #13871.

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by tscrim created at 2013-07-13 11:54:44

New version with (trivial) rebase over #14469.

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by tscrim created at 2013-08-30 22:44:15

New version over changes in #13871.

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by chapoton created at 2013-09-08 07:52:55

Hello,

* there is a small typo "Kleber tree clases"
* maybe you can use the `:arxiv:` role in the references ?


---

Comment by tscrim created at 2013-09-10 23:21:21

With added arXiv role, fixed the typo, and bringing the doc up to new specs. Thanks for having a look at this Frederic.

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by aschilling created at 2013-09-12 20:44:59

Hi Travis,

It would be good if you could implement the tensor product multiplicity (and please call it tensor_product_multiplicity) which is formula (3.2) of http://arxiv.org/pdf/math/9809087.pdf in order to check that the code is giving the correct output. For nonsimply-laced types it would be the virtual analogue of this formula. The Kleber tree gives the admissible partitions, but to get the multiplicity one needs to sum over the product of binomial coefficients.

Also, I think it would be better to access the VirtualKleberTree through its own class (rather than through KleberTree). It is fine to inherit from KleberTree, but the construction is mathematically inherently different. For example for type `C_n^{(1)}` the construction is via the `A_{2n-1}^{(1)}` Kleber tree and type A weights, rather than type C weights. Since this is mostly just used in later code on rigged configuration, I think it won't be necessary to export VirtualKleberTree into the namespace.

Thanks for your work on this!

Anne


---

Comment by tscrim created at 2013-09-18 15:42:32

Hey Anne,

Here's the new version with the changes we've discussed (via e-mail/in person) along with a method `latex_options()` for controlling the latex output. I also think it's okay for the virtual Kleber tree to accept simply-laced types as input and for them to not compare as equal (since they are different mathematical constructions because we consider it as a folded type). I've documented this behavior.

Thank you for doing the review,

Travis

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by aschilling created at 2013-09-18 16:37:07

Hi Travis,

If you want to allow for simply-laced input in the VirtualKleberTree, don't you want to select all nodes and bracket them in the output? Otherwise the behavior is different from the simply-laced and non-simply-laced types. If it is really just the same as the usual KleberTree, then why not make them equal in this case?

Best,

Anne


---

Comment by tscrim created at 2013-09-18 21:49:57

New version


---

Attachment

Hey Anne,

I made it raise an error on simply-laced types.

Best,

Travis

For patchbot:

Apply: trac_13838-virtual_kleber_alg-ts.patch


---

Comment by aschilling created at 2013-09-18 23:11:00

Hi Travis,

Looks good now (you want to add a test for the simply-laced types in the VirtualKleberTree for completeness). 

Anne


---

Comment by aschilling created at 2013-09-18 23:11:33

Changing status from needs_review to positive_review.


---

Comment by aschilling created at 2013-09-18 23:11:33

Changing keywords from "" to "rigged configurations".


---

Comment by jdemeyer created at 2013-10-02 06:35:07

Resolution: fixed
