# Issue 18299: Solvers for constant sum games

Issue created by migration from Trac.

Original creator: ptigwe

Original creation time: 2015-05-28 13:03:03

CC:  vinceknight dimpase kcrisman ncohen

Keywords: Game Theory, Gambit, Zero-sum game Constant Sum Game, Normal Form Games

Constant-sum games are known to be solvable in polynomial time by using a linear program. This patch includes a solver which constructs and solves the LPs using the LP solvers within Sage (see http://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html). It also makes use of the solver within gambit for such games.

Finally, an additional function was included which helps to convert games from the representation in sage to gambits representation ('_as_gambit')


---

Comment by ptigwe created at 2015-05-29 07:00:32

Changing status from new to needs_review.


---

Comment by kcrisman created at 2015-06-01 14:36:46

Various comments:
* We have other LP solvers, might as well test that they actually work (with optional doctests of course).  Surely Nathann will have interest in yet another use of them :)

* E.g. although of course you test the gambit LP solver it would be nice to test the _syntax_ here

```
+        INPUT:
+
+        - ``solver`` - the solver to be used to solve the LP.
+
+          * ``'gambit'`` - This uses the solver included within the gambit library to
+            create and solve the LP.
```

  same with other solvers.

* In `_solve_gambit_LP` do you need

```
+        if not self.is_constant_sum():
+            raise ValueError("Input game needs to be a two player constant sum game")
```

  since presumably this is already tested for end users in `_solve_LP`, or do you think this sort of double-checking is needed?  (In which case you might want to test both of those branches.)

* What sort of error is raised if gambit isn't available for these LP things?  Does it tell you to use gambit or does it say `None` has no such attribute or something?

* The option `as_integer` is neither documented nor doctested.

```
+    def _as_gambit_game(self, as_integer=False):
+        r"""
+        Creates a Gambit game from a ``NormalFormGame`` object
```


* `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?

* I don't mind in principle using the gambit conversion, obviously that is better when factored out, but then what happens to `maximization` in that case?  Like 

```
            sage: c._solve_LCP(maximization=True) # optional - gambit
            [This is the Trac macro ** that was inherited from the migration called with arguments (0.0, 1.0), )](https://trac.sagemath.org/wiki/WikiMacros#-macro)
```

  presumably still passes but what if one changed that to `False`?

* Is this going to be more efficient in the constant-sum case even if `lrs` is installed?  I just don't know the answer to relative efficiency here; presumably LP isn't always faster, even if often, but I don't know anything about lrs (point-counting?) either.

```
+            if self.is_constant_sum():
+                algorithm = "lp-glpk"
```


* At this point there are so many options maybe one should also check for an invalid (read: mistyped) algorithm.

```

        if algorithm.startswith('lp-'):
            return self._solve_LP(solver=algorithm[3:])

        if algorithm == "enumeration":
            return self._solve_enumeration(maximization)
```

  and then `else: blow up with a useful message`

Finally, I haven't yet actually pulled anything nor verified that the MILP in question will solve constant-sum games, so that would remain as well to review this.  Should be fun to get in, though, great to see stuff coming to Trac so early from the GSOC!!!


---

Comment by kcrisman created at 2015-06-01 15:11:52

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-01 18:01:48

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-01 18:11:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-06-01 19:09:23

Thanks for your comments. I've implemented most of your comments, and noted a few extra things below which would be done upon feedback. If I've missed anything please let me know.

Replying to [comment:3 kcrisman]:
> Various comments:
> * We have other LP solvers, might as well test that they actually work (with optional doctests of course).  Surely Nathann will have interest in yet another use of them :)

Done some doctests for `PPL` and `Coin-OR` solvers. Tests would be included for `CVXOPT` once #18572 is done.
 ||[29d4a7d](http://git.sagemath.org/sage.git/commit/?id=29d4a7d427d825b77a48e2a3871f29e320de2d52)||`Added tests for PPL and Coin-OR solvers`||

> * In `_solve_gambit_LP` do you need
> {{{
> +        if not self.is_constant_sum():
> +            raise ValueError("Input game needs to be a two player constant sum game")
> }}}
>   since presumably this is already tested for end users in `_solve_LP`, or do you think this sort of double-checking is needed?  (In which case you might want to test both of those branches.)

I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.

> * What sort of error is raised if gambit isn't available for these LP things?  Does it tell you to use gambit or does it say `None` has no such attribute or something?

Just added a `ValueError` to be raised which is quite similar to what you get by trying to solve the game with `algorithm='LCP'` option.
 ||[6138791](http://git.sagemath.org/sage.git/commit/?id=6138791449507d6527d98c78cd53b73748bb522a)||`Raise error if gambit isn't installed`||

> * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?
Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.
 ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||

> 
> * I don't mind in principle using the gambit conversion, obviously that is better when factored out, but then what happens to `maximization` in that case?  Like 
> {{{
>             sage: c._solve_LCP(maximization=True) # optional - gambit
>             [This is the Trac macro ** that was inherited from the migration called with arguments (0.0, 1.0), )](https://trac.sagemath.org/wiki/WikiMacros#-macro)
> }}}
>   presumably still passes but what if one changed that to `False`?
Currently, we are considering moving the `maximization` option into the constructor of the class.
> * Is this going to be more efficient in the constant-sum case even if `lrs` is installed?  I just don't know the answer to relative efficiency here; presumably LP isn't always faster, even if often, but I don't know anything about lrs (point-counting?) either.
> {{{
> +            if self.is_constant_sum():
> +                algorithm = "lp-glpk"
> }}}
The LP solvers would probably be faster primarily because `lrs` enumerates all possible extreme Nash equilibria in a game, whereas the LP method simply finds one Nash equilibrium in the constant-sum game.
> * At this point there are so many options maybe one should also check for an invalid (read: mistyped) algorithm.
> {{{
> 
>         if algorithm.startswith('lp-'):
>             return self._solve_LP(solver=algorithm[3:])
> 
>         if algorithm == "enumeration":
>             return self._solve_enumeration(maximization)
> }}}
>   and then `else: blow up with a useful message`
  ||[6138791](http://git.sagemath.org/sage.git/commit/?id=6138791449507d6527d98c78cd53b73748bb522a)||`Raise error if gambit isn't installed`||

There are two possible `ValueError`'s that could be raised. The first comes from `NormalFormGame` upon entering a solver of the wrong format, and the second is from `MixedIntegerLinearProgram` if the LP solver is invalid.


---

Comment by kcrisman created at 2015-06-01 19:25:05

> Thanks for your comments. I've implemented most of your comments, and noted a few extra things below which would be done upon feedback. If I've missed anything please let me know.
Great, very quick work.
> I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.
Well, usually such underscore methods aren't "publicly" available.  Vince, what do you think?
> > * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?
> Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.
>  ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||
But which one is in principle faster or better?  I don't mind using numpy as long as importing it doesn't cause problems in speed, if it's better (which perhaps it is).
> Currently, we are considering moving the `maximization` option into the constructor of the class.
Fine, but this is currently breaking functionality.  So either you have to do that here, or make that change a prereq to this ticket, or something else.  My recommendation is to just leave it here for now and then deal with the class constructor bit in a separate ticket (to make things as orthogonal as possible).
> The LP solvers would probably be faster primarily because `lrs` enumerates all possible extreme Nash equilibria in a game, whereas the LP method simply finds one Nash equilibrium in the constant-sum game.
Ah.


---

Comment by git created at 2015-06-01 20:24:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-06-01 20:38:54

> > I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.
> Well, usually such underscore methods aren't "publicly" available.  Vince, what do you think?
Actually, gambit performs it's own check as well, which makes three checks in total. So I've removed the one within `_solve_gambit_LP`, and added a doctest for the gambit error.
> > > * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?
> > Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.
> >  ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||
> But which one is in principle faster or better?  I don't mind using numpy as long as importing it doesn't cause problems in speed, if it's better (which perhaps it is).
The current implementation is faster than the numpy implementation. I ran some bench marks using `timeit` and got `177 µs per loop` for the current implementation vs `992 ms per loop` for the numpy implementation using a matrix of size `1000x1000`.
> > Currently, we are considering moving the `maximization` option into the constructor of the class.
> Fine, but this is currently breaking functionality.  So either you have to do that here, or make that change a prereq to this ticket, or something else.  My recommendation is to just leave it here for now and then deal with the class constructor bit in a separate ticket (to make things as orthogonal as possible).
Integrated the `maximization` parameter into `_as_gambit_game`.


---

Comment by ptigwe created at 2015-06-02 16:35:53

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2015-06-03 18:41:01

Great.  Here is what I think still needs to happen.
* You should add an example testing the `maximization=False`
* This error looks messed up because of the extra spaces - check for others like this:

```
ValueError: The Gambit implementation of LCP only
                                     allows for integer valued payoffs.
                                     Please scale your payoff matrices.
```

* You should fix the following formatting

```
+        INPUT:
+        - ``as_integer`` - Boolean value which states whether the gambit representation should have
+                           the payoffs represented as integers or decimals.
```

  (there should be a blank line between `INPUT:` and the rest, I think) even though it is an underscore method and won't appear in documentation.
* You should decide whether you want `# optional - Coin` or `# optional - cbc`
* Is `PPL` or `CVXOPT` really an optional thing?  I think they are standard Sage packages...
* It would be really nice to have at least one example in the doc of a _solved_ (not just _constructed_, as in the documentation of `is_constant_sum`) constant-sum non-zero-sum game.
* I (or another reviewer) need to check that the MILP is the right one
* I (or another reviewer) need to check that documentation builds right and looks good
* I (or another reviewer) need to check that the tests work right - guess I had better start installing some packages :)
* I (or another reviewer) need to do some spot checks of everything

Which is all not too hard, we're almost there.

What is the next project on the GSOC timeline?


---

Comment by kcrisman created at 2015-06-03 20:05:20

I cannot figure out how to get the changes in the doc built, it's maddening.  I'll have to assume it's okay and I didn't miss anything.

The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)

```
class NormalFormGame(SageObject, MutableMapping):
    r"""
    An object representing a Normal Form Game. Primarily used to compute the
    Nash Equilibria.

    INPUT:

    - ``generator`` - Can be a list of 2 matrices, a single matrix or left
                      blank.

    """
```

It should at least tell how to get to more documentation from there.

The following

```
+        p = MixedIntegerLinearProgram(maximization=False, solver=solver)
+        y = p.new_variable(nonnegative=True)
+        v = p.new_variable(nonnegative=False)
+        p.add_constraint(self.payoff_matrices()[0] * y - v[0] <= 0)
+        p.add_constraint(matrix([[1] * strategy_sizes[0]]) * y == 1)
+        p.set_objective(v[0])
```

looks good though I would prefer to use maximization and swap that first constraint or whatever is appropriate, but presumably this is the industry standard to minimize.

So... is the reason for doing this only for constant-sum games because it's only known to be in P for them?  Is it potentially still faster even for non-constant-sum games?

Doctests pass.

I think it's worth pointing out somewhere in the documentation that the LP approach will give _one_ NE but not _all_ of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)


---

Comment by kcrisman created at 2015-06-03 20:05:38

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-03 20:11:08

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-06-03 20:27:21

> * You should add an example testing the `maximization=False`
There's currently one at the start of `obtain_nash`, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?
> * This error looks messed up because of the extra spaces - check for others like this:
> {{{
> ValueError: The Gambit implementation of LCP only
>                                      allows for integer valued payoffs.
>                                      Please scale your payoff matrices.
> }}}
Actually, I was supposed to remove this error earlier on as it doesn't hold. I removed the documentation but forgot to remove the actual error.
> * You should decide whether you want `# optional - Coin` or `# optional - cbc`
> * Is `PPL` or `CVXOPT` really an optional thing?  I think they are standard Sage packages...
I've removed `#optional - PPL`.
> * I (or another reviewer) need to check that the MILP is the right one
> * I (or another reviewer) need to check that documentation builds right and looks good
> * I (or another reviewer) need to check that the tests work right - guess I had better start installing some packages :)
> * I (or another reviewer) need to do some spot checks of everything
> 
> Which is all not too hard, we're almost there.
> 
> What is the next project on the GSOC timeline?
Coming up next would be the Lemke-Howson algorithm for solving 2-player games.


---

Comment by ptigwe created at 2015-06-03 20:58:28

> The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)
> {{{
> class NormalFormGame(SageObject, MutableMapping):
>     r"""
>     An object representing a Normal Form Game. Primarily used to compute the
>     Nash Equilibria.
> 
>     INPUT:
> 
>     - ``generator`` - Can be a list of 2 matrices, a single matrix or left
>                       blank.
> 
>     """
> }}}
> It should at least tell how to get to more documentation from there.
OK. I was planning on opening a ticket, towards the end of GSOC, which would address the documentation as a whole. In the mean time, changes to the documentation would be based on changes made to the code.
> The following
> {{{
> +        p = MixedIntegerLinearProgram(maximization=False, solver=solver)
> +        y = p.new_variable(nonnegative=True)
> +        v = p.new_variable(nonnegative=False)
> +        p.add_constraint(self.payoff_matrices()[0] * y - v[0] <= 0)
> +        p.add_constraint(matrix([[1] * strategy_sizes[0]]) * y == 1)
> +        p.set_objective(v[0])
> }}}
> looks good though I would prefer to use maximization and swap that first constraint or whatever is appropriate, but presumably this is the industry standard to minimize.
> 
> So... is the reason for doing this only for constant-sum games because it's only known to be in P for them?
Yeah. 
> Is it potentially still faster even for non-constant-sum games?
Not sure if you are asking about using the LP for non-constant-sum games or the general classification of finding a Nash in a general game. In case if it was a bit of both:
 * LP's aren't guaranteed to find a Nash equilibrium in a two player non-constant-sum game.
 * Finding a Nash is PPAD-complete. Even the problem of approximation is hard.
> Doctests pass.
That's Good.
> I think it's worth pointing out somewhere in the documentation that the LP approach will give _one_ NE but not _all_ of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)
OK.


---

Comment by kcrisman created at 2015-06-03 21:07:49

> OK. I was planning on opening a ticket, towards the end of GSOC, which would address the documentation as a whole. 
Sounds fair.
> Not sure if you are asking about using the LP for non-constant-sum games or the general classification of finding a Nash in a general game. In case if it was a bit of both:
>  * LP's aren't guaranteed to find a Nash equilibrium in a two player non-constant-sum game.
Very interesting!


---

Comment by vinceknight created at 2015-06-03 22:08:49

Hi both,

Apologies for my silence (on organisation committee of a conference that has been running this week so have been pretty busy). Apologies also if as a result my comments below don't make full sense (in case I missed something).

Replying to [comment:13 kcrisman]:
> I cannot figure out how to get the changes in the doc built, it's maddening.  I'll have to assume it's okay and I didn't miss anything.
> 
> The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)
> {{{
> class NormalFormGame(SageObject, MutableMapping):
>     r"""
>     An object representing a Normal Form Game. Primarily used to compute the
>     Nash Equilibria.
> 
>     INPUT:
> 
>     - ``generator`` - Can be a list of 2 matrices, a single matrix or left
>                       blank.
> 
>     """
> }}}
> It should at least tell how to get to more documentation from there.
> 

This is certainly due to me, it happened as a result of moving the documentation that was there to the front matter, I think I perhaps did not fully understand :) Perhaps a ticket could be opened about the documentation (as Tobenna suggested towards the end of gsoc) that fully describes what we want the docs to look like :) 

Replying to [comment:17 ptigwe]:

> > I think it's worth pointing out somewhere in the documentation that the LP approach will give _one_ NE but not _all_ of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)
> OK.

I think it could be worth doctesting also? (So showing that all equilibria are find by some algorithms and not by LP etc...)

Great work on this Tobenna, really looking solid and thanks to Karl for reviewing (as always this is greatly appreciated).


---

Comment by kcrisman created at 2015-06-04 12:55:09

> This is certainly due to me, it happened as a result of moving the documentation that was there to the front matter, I think I perhaps did not fully understand :) Perhaps a ticket could be opened about the documentation (as Tobenna suggested towards the end of gsoc) that fully describes what we want the docs to look like :) 

Actually, I'll open it now and set it to sage-pending so we don't forget.  #18609.

> > > I think it's worth pointing out somewhere in the documentation that the LP approach will give _one_ NE but not _all_ of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)
> > OK.
> 
> I think it could be worth doctesting also? (So showing that all equilibria are find by some algorithms and not by LP etc...)
Okay, so we're agreed on this.

Another small point - no maximization here.

```
        if algorithm.startswith('lp-'):
            return self._solve_LP(solver=algorithm[3:])
```

Of course, at some point this is pedantic if you are planning on removing it - but actually, given that it pre-existed this ticket, I guess you'll have to deprecate that keyword.

> > You should add an example testing the maximization=False
> There's currently one at the start of obtain_nash, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?
What I meant was one for the new LP solver functionality.


---

Comment by git created at 2015-06-09 12:40:40

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-06-09 12:45:07

Replying to [comment:20 kcrisman]:
> Another small point - no maximization here.
> {{{
>         if algorithm.startswith('lp-'):
>             return self._solve_LP(solver=algorithm[3:])
> }}}
> Of course, at some point this is pedantic if you are planning on removing it - but actually, given that it pre-existed this ticket, I guess you'll have to deprecate that keyword.
> 
> > > You should add an example testing the maximization=False
> > There's currently one at the start of obtain_nash, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?
> What I meant was one for the new LP solver functionality.
Dima, Vince and I have thought and discussed about this issue for a while, and have decided to remove ``maximization`` completely. So the next few patches should be addressing this.


---

Comment by kcrisman created at 2015-06-09 23:56:27

Okay.   Probably best is to have that be a dependency of this ticket...  And if you end up not deprecating this and just remove it (which could conceivably be reasonable in the particular context) be sure to have plenty of good arguments backing up that decision "for posterity's sake".


---

Comment by git created at 2015-06-11 16:41:20

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-06-11 16:44:33

Changing status from needs_work to needs_review.


---

Comment by ptigwe created at 2015-06-11 16:44:33

Besides the deprecation (which would be done in a separate ticket), I believe that's everything for this one. If I've missed anything please let me know.


---

Comment by ptigwe created at 2015-06-16 19:06:04

Changing status from needs_review to needs_work.


---

Comment by git created at 2015-06-18 11:06:04

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-06-18 11:21:16

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-06-18 12:06:51

Changing status from needs_work to needs_review.


---

Comment by tscrim created at 2015-06-18 18:03:23

Instead of calling the method `_as_gambit_game`, to be consistent with other parts of Sage, I would call it `_gambit_` (like how the `_gap_` method returns a representation of the object in GAP). Also the doc for `INPUT:` for that method is misaligned.


---

Comment by git created at 2015-06-18 20:57:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-07-24 16:20:52

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-08-18 11:18:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2015-08-21 09:32:41

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kdilks created at 2015-10-17 02:26:07

Changing status from needs_review to needs_work.


---

Comment by kdilks created at 2015-10-17 02:26:07

More doctests need to be marked as optional.


---

Comment by git created at 2015-12-02 19:43:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by ptigwe created at 2015-12-02 19:45:27

Changing status from needs_work to needs_review.


---

Comment by mderickx created at 2017-08-30 18:32:16

Needs to be rebased on sage8.1.beta3


---

Comment by mderickx created at 2017-08-30 18:32:16

Changing status from needs_review to needs_work.


---

Comment by tscrim created at 2017-10-26 22:58:47

Rebased version.
----
New commits:


---

Comment by tscrim created at 2017-10-26 22:58:47

Changing status from needs_work to needs_review.


---

Comment by git created at 2017-10-27 02:39:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-10-27 02:41:07

I believe this is essentially reviewed, so perhaps the only thing left to check are my little round of tweaks.


---

Comment by dimpase created at 2017-10-29 07:28:51

This still needs the following for doc building and to pass the tests

```
--- a/src/sage/game_theory/normal_form_game.py
+++ b/src/sage/game_theory/normal_form_game.py
`@``@` -216,7 +216,7 `@``@` currently available:
 
 * ``'lp-*'``: A solver for constant sum 2 player games using linear
   programming. This contructs a
- `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the
+  `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the
   solver which was passed in as part of the algorithm string to solve
   the linear programming representation of the game, for instance,
   ``'lp-glpk'`` would make use of the ``GLPK`` solver, while
`@``@` -568,6 +568,7 `@``@` Here is an example with the trivial game where all payoffs are 0::
     (
     [0 0 0]  [0 0 0]
     [0 0 0]  [0 0 0]
+    [0 0 0], [0 0 0]
     )
     sage: g.obtain_nash(algorithm='enumeration')
     [[(0, 0, 1), (0, 0, 1)], [(0, 0, 1), (0, 1, 0)], [(0, 0, 1), (1, 0, 0)],
```



---

Comment by git created at 2017-10-29 07:35:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2017-10-29 07:36:43

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-10-29 08:29:11

Thank you.


---

Comment by dcoudert created at 2017-10-29 10:16:20

The last commit has introduced a small mistake. One should do:

```
- `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the
+ :mod:`MixedIntegerLinearProgram <sage.numerical.MILP>` using the
```



I think that using `algorithm = "lp-glpk"` or `algorithm = "lp-gambit"` is not the best choice. It forces to specify the LP solver, while we usually let Sage use the default LP solver (`GLPK`, `Cplex`, ...). Why not using 2 parameters: `algorithm="lp"` and `solver=None` (or `"gambit"` or `"gplk"`or ...) ?

Typically, we usually do:

```
- def _solve_LP(self, solver='glpk', maximization=True):
+ def _solve_LP(self, solver=None, maximization=True):
```



---

Comment by dcoudert created at 2017-10-29 10:16:20

Changing status from positive_review to needs_work.


---

Comment by git created at 2017-10-29 22:30:36

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by dimpase created at 2017-10-29 22:36:34

Replying to [comment:47 git]:
> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
> ||[f5b73ea](https://git.sagemath.org/sage.git/commit/?id=f5b73ea3d982260e2cdfd8c12aea8596a65b9c13)||`fixed doc building and a test`||

this fixes the wrongly placed backtick for `:mod:...`


---

Comment by dimpase created at 2017-10-29 22:47:29

Changing status from needs_work to needs_review.


---

Comment by dimpase created at 2017-10-29 22:47:29

Replying to [comment:46 dcoudert]:

> I think that using `algorithm = "lp-glpk"` or `algorithm = "lp-gambit"` is not the best choice. It forces to specify the LP solver, while we usually let Sage use the default LP solver (`GLPK`, `Cplex`, ...). Why not using 2 parameters: `algorithm="lp"` and `solver=None` (or `"gambit"` or `"gplk"`or ...) ?

This is more subtle, as `gambit` is not one of LP-solvers supported by the Sage's LP
backend, and thus the change you propose would introduce a bit of dissonance, 
too.
 
I would prefer to have such an improvement worked on on a followup ticket.


---

Comment by tscrim created at 2017-10-29 22:54:16

Since this is being introduced on this ticket, I think we should try and decide now rather than later, especially since that would likely mean deprecations.

`gambit` does apparently come with a solver, so I feel it is only very mildly dissonant. I am working on David's suggestion.


---

Comment by git created at 2017-10-29 23:11:36

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tscrim created at 2017-10-29 23:13:03

Done. Now that it is done, I think this is a better approach.


---

Comment by git created at 2017-10-29 23:25:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by git created at 2017-10-30 00:21:30

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dcoudert created at 2017-10-30 10:12:20

I think it's better now.
I let you conclude on the status of this ticket since I have not evaluated the other parts.


---

Comment by dimpase created at 2017-10-31 09:16:09

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2017-11-02 11:05:42

Resolution: fixed
