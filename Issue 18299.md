# Issue 18299: Solvers for constant sum games

archive/issues_018299.json:
```json
{
    "body": "CC:  @drvinceknight @dimpase @kcrisman @nathanncohen\n\nKeywords: Game Theory, Gambit, Zero-sum game Constant Sum Game, Normal Form Games\n\nConstant-sum games are known to be solvable in polynomial time by using a linear program. This patch includes a solver which constructs and solves the LPs using the LP solvers within Sage (see http://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html). It also makes use of the solver within gambit for such games.\n\nFinally, an additional function was included which helps to convert games from the representation in sage to gambits representation ('_as_gambit')\n\nIssue created by migration from https://trac.sagemath.org/ticket/18536\n\n",
    "created_at": "2015-05-28T13:03:03Z",
    "labels": [
        "game theory",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-8.1",
    "title": "Solvers for constant sum games",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/18299",
    "user": "@ptigwe"
}
```
CC:  @drvinceknight @dimpase @kcrisman @nathanncohen

Keywords: Game Theory, Gambit, Zero-sum game Constant Sum Game, Normal Form Games

Constant-sum games are known to be solvable in polynomial time by using a linear program. This patch includes a solver which constructs and solves the LPs using the LP solvers within Sage (see http://doc.sagemath.org/html/en/reference/numerical/sage/numerical/mip.html). It also makes use of the solver within gambit for such games.

Finally, an additional function was included which helps to convert games from the representation in sage to gambits representation ('_as_gambit')

Issue created by migration from https://trac.sagemath.org/ticket/18536





---

archive/issue_comments_247938.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-05-29T07:00:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247938",
    "user": "@ptigwe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_247939.json:
```json
{
    "body": "Various comments:\n* We have other LP solvers, might as well test that they actually work (with optional doctests of course).  Surely Nathann will have interest in yet another use of them :)\n\n* E.g. although of course you test the gambit LP solver it would be nice to test the *syntax* here\n\n```\n+        INPUT:\n+\n+        - ``solver`` - the solver to be used to solve the LP.\n+\n+          * ``'gambit'`` - This uses the solver included within the gambit library to\n+            create and solve the LP.\n```\n\n  same with other solvers.\n\n* In `_solve_gambit_LP` do you need\n\n```\n+        if not self.is_constant_sum():\n+            raise ValueError(\"Input game needs to be a two player constant sum game\")\n```\n\n  since presumably this is already tested for end users in `_solve_LP`, or do you think this sort of double-checking is needed?  (In which case you might want to test both of those branches.)\n\n* What sort of error is raised if gambit isn't available for these LP things?  Does it tell you to use gambit or does it say `None` has no such attribute or something?\n\n* The option `as_integer` is neither documented nor doctested.\n\n```\n+    def _as_gambit_game(self, as_integer=False):\n+        r\"\"\"\n+        Creates a Gambit game from a ``NormalFormGame`` object\n```\n\n\n* `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?\n\n* I don't mind in principle using the gambit conversion, obviously that is better when factored out, but then what happens to `maximization` in that case?  Like \n\n```\n            sage: c._solve_LCP(maximization=True) # optional - gambit\n            [[(0.0, 1.0), (0.0, 1.0)]]\n```\n\n  presumably still passes but what if one changed that to `False`?\n\n* Is this going to be more efficient in the constant-sum case even if `lrs` is installed?  I just don't know the answer to relative efficiency here; presumably LP isn't always faster, even if often, but I don't know anything about lrs (point-counting?) either.\n\n```\n+            if self.is_constant_sum():\n+                algorithm = \"lp-glpk\"\n```\n\n\n* At this point there are so many options maybe one should also check for an invalid (read: mistyped) algorithm.\n\n```\n\n        if algorithm.startswith('lp-'):\n            return self._solve_LP(solver=algorithm[3:])\n\n        if algorithm == \"enumeration\":\n            return self._solve_enumeration(maximization)\n```\n\n  and then `else: blow up with a useful message`\n\nFinally, I haven't yet actually pulled anything nor verified that the MILP in question will solve constant-sum games, so that would remain as well to review this.  Should be fun to get in, though, great to see stuff coming to Trac so early from the GSOC!!!",
    "created_at": "2015-06-01T14:36:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247939",
    "user": "@kcrisman"
}
```

Various comments:
* We have other LP solvers, might as well test that they actually work (with optional doctests of course).  Surely Nathann will have interest in yet another use of them :)

* E.g. although of course you test the gambit LP solver it would be nice to test the *syntax* here

```
+        INPUT:
+
+        - ``solver`` - the solver to be used to solve the LP.
+
+          * ``'gambit'`` - This uses the solver included within the gambit library to
+            create and solve the LP.
```

  same with other solvers.

* In `_solve_gambit_LP` do you need

```
+        if not self.is_constant_sum():
+            raise ValueError("Input game needs to be a two player constant sum game")
```

  since presumably this is already tested for end users in `_solve_LP`, or do you think this sort of double-checking is needed?  (In which case you might want to test both of those branches.)

* What sort of error is raised if gambit isn't available for these LP things?  Does it tell you to use gambit or does it say `None` has no such attribute or something?

* The option `as_integer` is neither documented nor doctested.

```
+    def _as_gambit_game(self, as_integer=False):
+        r"""
+        Creates a Gambit game from a ``NormalFormGame`` object
```


* `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?

* I don't mind in principle using the gambit conversion, obviously that is better when factored out, but then what happens to `maximization` in that case?  Like 

```
            sage: c._solve_LCP(maximization=True) # optional - gambit
            [[(0.0, 1.0), (0.0, 1.0)]]
```

  presumably still passes but what if one changed that to `False`?

* Is this going to be more efficient in the constant-sum case even if `lrs` is installed?  I just don't know the answer to relative efficiency here; presumably LP isn't always faster, even if often, but I don't know anything about lrs (point-counting?) either.

```
+            if self.is_constant_sum():
+                algorithm = "lp-glpk"
```


* At this point there are so many options maybe one should also check for an invalid (read: mistyped) algorithm.

```

        if algorithm.startswith('lp-'):
            return self._solve_LP(solver=algorithm[3:])

        if algorithm == "enumeration":
            return self._solve_enumeration(maximization)
```

  and then `else: blow up with a useful message`

Finally, I haven't yet actually pulled anything nor verified that the MILP in question will solve constant-sum games, so that would remain as well to review this.  Should be fun to get in, though, great to see stuff coming to Trac so early from the GSOC!!!



---

archive/issue_comments_247940.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-01T15:11:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247940",
    "user": "@kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_247941.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T18:01:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247941",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247942.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T18:11:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247942",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247943.json:
```json
{
    "body": "Thanks for your comments. I've implemented most of your comments, and noted a few extra things below which would be done upon feedback. If I've missed anything please let me know.\n\nReplying to [comment:3 kcrisman]:\n> Various comments:\n> * We have other LP solvers, might as well test that they actually work (with optional doctests of course).  Surely Nathann will have interest in yet another use of them :)\n\nDone some doctests for `PPL` and `Coin-OR` solvers. Tests would be included for `CVXOPT` once #18572 is done.\n ||[29d4a7d](http://git.sagemath.org/sage.git/commit/?id=29d4a7d427d825b77a48e2a3871f29e320de2d52)||`Added tests for PPL and Coin-OR solvers`||\n\n> * In `_solve_gambit_LP` do you need\n> {{{\n> +        if not self.is_constant_sum():\n> +            raise ValueError(\"Input game needs to be a two player constant sum game\")\n> }}}\n>   since presumably this is already tested for end users in `_solve_LP`, or do you think this sort of double-checking is needed?  (In which case you might want to test both of those branches.)\n\nI included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.\n\n> * What sort of error is raised if gambit isn't available for these LP things?  Does it tell you to use gambit or does it say `None` has no such attribute or something?\n\nJust added a `ValueError` to be raised which is quite similar to what you get by trying to solve the game with `algorithm='LCP'` option.\n ||[6138791](http://git.sagemath.org/sage.git/commit/?id=6138791449507d6527d98c78cd53b73748bb522a)||`Raise error if gambit isn't installed`||\n\n> * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?\nCurrently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.\n ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||\n\n> \n> * I don't mind in principle using the gambit conversion, obviously that is better when factored out, but then what happens to `maximization` in that case?  Like \n> {{{\n>             sage: c._solve_LCP(maximization=True) # optional - gambit\n>             [This is the Trac macro ** that was inherited from the migration called with arguments (0.0, 1.0), )](https://trac.sagemath.org/wiki/WikiMacros#-macro)\n> }}}\n>   presumably still passes but what if one changed that to `False`?\nCurrently, we are considering moving the `maximization` option into the constructor of the class.\n> * Is this going to be more efficient in the constant-sum case even if `lrs` is installed?  I just don't know the answer to relative efficiency here; presumably LP isn't always faster, even if often, but I don't know anything about lrs (point-counting?) either.\n> {{{\n> +            if self.is_constant_sum():\n> +                algorithm = \"lp-glpk\"\n> }}}\nThe LP solvers would probably be faster primarily because `lrs` enumerates all possible extreme Nash equilibria in a game, whereas the LP method simply finds one Nash equilibrium in the constant-sum game.\n> * At this point there are so many options maybe one should also check for an invalid (read: mistyped) algorithm.\n> {{{\n> \n>         if algorithm.startswith('lp-'):\n>             return self._solve_LP(solver=algorithm[3:])\n> \n>         if algorithm == \"enumeration\":\n>             return self._solve_enumeration(maximization)\n> }}}\n>   and then `else: blow up with a useful message`\n  ||[6138791](http://git.sagemath.org/sage.git/commit/?id=6138791449507d6527d98c78cd53b73748bb522a)||`Raise error if gambit isn't installed`||\n\nThere are two possible `ValueError`'s that could be raised. The first comes from `NormalFormGame` upon entering a solver of the wrong format, and the second is from `MixedIntegerLinearProgram` if the LP solver is invalid.",
    "created_at": "2015-06-01T19:09:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247943",
    "user": "@ptigwe"
}
```

Thanks for your comments. I've implemented most of your comments, and noted a few extra things below which would be done upon feedback. If I've missed anything please let me know.

Replying to [comment:3 kcrisman]:
> Various comments:
> * We have other LP solvers, might as well test that they actually work (with optional doctests of course).  Surely Nathann will have interest in yet another use of them :)

Done some doctests for `PPL` and `Coin-OR` solvers. Tests would be included for `CVXOPT` once #18572 is done.
 ||[29d4a7d](http://git.sagemath.org/sage.git/commit/?id=29d4a7d427d825b77a48e2a3871f29e320de2d52)||`Added tests for PPL and Coin-OR solvers`||

> * In `_solve_gambit_LP` do you need
> {{{
> +        if not self.is_constant_sum():
> +            raise ValueError("Input game needs to be a two player constant sum game")
> }}}
>   since presumably this is already tested for end users in `_solve_LP`, or do you think this sort of double-checking is needed?  (In which case you might want to test both of those branches.)

I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.

> * What sort of error is raised if gambit isn't available for these LP things?  Does it tell you to use gambit or does it say `None` has no such attribute or something?

Just added a `ValueError` to be raised which is quite similar to what you get by trying to solve the game with `algorithm='LCP'` option.
 ||[6138791](http://git.sagemath.org/sage.git/commit/?id=6138791449507d6527d98c78cd53b73748bb522a)||`Raise error if gambit isn't installed`||

> * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?
Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.
 ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||

> 
> * I don't mind in principle using the gambit conversion, obviously that is better when factored out, but then what happens to `maximization` in that case?  Like 
> {{{
>             sage: c._solve_LCP(maximization=True) # optional - gambit
>             [This is the Trac macro ** that was inherited from the migration called with arguments (0.0, 1.0), )](https://trac.sagemath.org/wiki/WikiMacros#-macro)
> }}}
>   presumably still passes but what if one changed that to `False`?
Currently, we are considering moving the `maximization` option into the constructor of the class.
> * Is this going to be more efficient in the constant-sum case even if `lrs` is installed?  I just don't know the answer to relative efficiency here; presumably LP isn't always faster, even if often, but I don't know anything about lrs (point-counting?) either.
> {{{
> +            if self.is_constant_sum():
> +                algorithm = "lp-glpk"
> }}}
The LP solvers would probably be faster primarily because `lrs` enumerates all possible extreme Nash equilibria in a game, whereas the LP method simply finds one Nash equilibrium in the constant-sum game.
> * At this point there are so many options maybe one should also check for an invalid (read: mistyped) algorithm.
> {{{
> 
>         if algorithm.startswith('lp-'):
>             return self._solve_LP(solver=algorithm[3:])
> 
>         if algorithm == "enumeration":
>             return self._solve_enumeration(maximization)
> }}}
>   and then `else: blow up with a useful message`
  ||[6138791](http://git.sagemath.org/sage.git/commit/?id=6138791449507d6527d98c78cd53b73748bb522a)||`Raise error if gambit isn't installed`||

There are two possible `ValueError`'s that could be raised. The first comes from `NormalFormGame` upon entering a solver of the wrong format, and the second is from `MixedIntegerLinearProgram` if the LP solver is invalid.



---

archive/issue_comments_247944.json:
```json
{
    "body": "> Thanks for your comments. I've implemented most of your comments, and noted a few extra things below which would be done upon feedback. If I've missed anything please let me know.\nGreat, very quick work.\n> I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.\nWell, usually such underscore methods aren't \"publicly\" available.  Vince, what do you think?\n> > * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?\n> Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.\n>  ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||\nBut which one is in principle faster or better?  I don't mind using numpy as long as importing it doesn't cause problems in speed, if it's better (which perhaps it is).\n> Currently, we are considering moving the `maximization` option into the constructor of the class.\nFine, but this is currently breaking functionality.  So either you have to do that here, or make that change a prereq to this ticket, or something else.  My recommendation is to just leave it here for now and then deal with the class constructor bit in a separate ticket (to make things as orthogonal as possible).\n> The LP solvers would probably be faster primarily because `lrs` enumerates all possible extreme Nash equilibria in a game, whereas the LP method simply finds one Nash equilibrium in the constant-sum game.\nAh.",
    "created_at": "2015-06-01T19:25:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247944",
    "user": "@kcrisman"
}
```

> Thanks for your comments. I've implemented most of your comments, and noted a few extra things below which would be done upon feedback. If I've missed anything please let me know.
Great, very quick work.
> I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.
Well, usually such underscore methods aren't "publicly" available.  Vince, what do you think?
> > * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?
> Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.
>  ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||
But which one is in principle faster or better?  I don't mind using numpy as long as importing it doesn't cause problems in speed, if it's better (which perhaps it is).
> Currently, we are considering moving the `maximization` option into the constructor of the class.
Fine, but this is currently breaking functionality.  So either you have to do that here, or make that change a prereq to this ticket, or something else.  My recommendation is to just leave it here for now and then deal with the class constructor bit in a separate ticket (to make things as orthogonal as possible).
> The LP solvers would probably be faster primarily because `lrs` enumerates all possible extreme Nash equilibria in a game, whereas the LP method simply finds one Nash equilibrium in the constant-sum game.
Ah.



---

archive/issue_comments_247945.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-01T20:24:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247945",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247946.json:
```json
{
    "body": "> > I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.\n> Well, usually such underscore methods aren't \"publicly\" available.  Vince, what do you think?\nActually, gambit performs it's own check as well, which makes three checks in total. So I've removed the one within `_solve_gambit_LP`, and added a doctest for the gambit error.\n> > > * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?\n> > Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.\n> >  ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||\n> But which one is in principle faster or better?  I don't mind using numpy as long as importing it doesn't cause problems in speed, if it's better (which perhaps it is).\nThe current implementation is faster than the numpy implementation. I ran some bench marks using `timeit` and got `177 \u00b5s per loop` for the current implementation vs `992 ms per loop` for the numpy implementation using a matrix of size `1000x1000`.\n> > Currently, we are considering moving the `maximization` option into the constructor of the class.\n> Fine, but this is currently breaking functionality.  So either you have to do that here, or make that change a prereq to this ticket, or something else.  My recommendation is to just leave it here for now and then deal with the class constructor bit in a separate ticket (to make things as orthogonal as possible).\nIntegrated the `maximization` parameter into `_as_gambit_game`.",
    "created_at": "2015-06-01T20:38:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247946",
    "user": "@ptigwe"
}
```

> > I included it again just in case if the `_solve_gambit_LP` function was called externally without going through `_solve_LP`. If there is no need to retest just for this reason, then I'm happy to take it out.
> Well, usually such underscore methods aren't "publicly" available.  Vince, what do you think?
Actually, gambit performs it's own check as well, which makes three checks in total. So I've removed the one within `_solve_gambit_LP`, and added a doctest for the gambit error.
> > > * `return c.numpy().max() == c.numpy().min()` - is there no way to do this without using/importing `numpy`?  It would be nice to not have to use it - or is it slower to use Sage proper?
> > Currently, this compares all entries of the matrix and makes sure it is within `sys.float_info.epsilon` of the first element.
> >  ||[d957179](http://git.sagemath.org/sage.git/commit/?id=d9571793d208ed772fb8e7a7a335f9934dda1fe8)||`Update check for constant sum 'is_constant_sum'`||
> But which one is in principle faster or better?  I don't mind using numpy as long as importing it doesn't cause problems in speed, if it's better (which perhaps it is).
The current implementation is faster than the numpy implementation. I ran some bench marks using `timeit` and got `177 µs per loop` for the current implementation vs `992 ms per loop` for the numpy implementation using a matrix of size `1000x1000`.
> > Currently, we are considering moving the `maximization` option into the constructor of the class.
> Fine, but this is currently breaking functionality.  So either you have to do that here, or make that change a prereq to this ticket, or something else.  My recommendation is to just leave it here for now and then deal with the class constructor bit in a separate ticket (to make things as orthogonal as possible).
Integrated the `maximization` parameter into `_as_gambit_game`.



---

archive/issue_comments_247947.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-02T16:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247947",
    "user": "@ptigwe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_247948.json:
```json
{
    "body": "Great.  Here is what I think still needs to happen.\n* You should add an example testing the `maximization=False`\n* This error looks messed up because of the extra spaces - check for others like this:\n\n```\nValueError: The Gambit implementation of LCP only\n                                     allows for integer valued payoffs.\n                                     Please scale your payoff matrices.\n```\n\n* You should fix the following formatting\n\n```\n+        INPUT:\n+        - ``as_integer`` - Boolean value which states whether the gambit representation should have\n+                           the payoffs represented as integers or decimals.\n```\n\n  (there should be a blank line between `INPUT:` and the rest, I think) even though it is an underscore method and won't appear in documentation.\n* You should decide whether you want `# optional - Coin` or `# optional - cbc`\n* Is `PPL` or `CVXOPT` really an optional thing?  I think they are standard Sage packages...\n* It would be really nice to have at least one example in the doc of a *solved* (not just *constructed*, as in the documentation of `is_constant_sum`) constant-sum non-zero-sum game.\n* I (or another reviewer) need to check that the MILP is the right one\n* I (or another reviewer) need to check that documentation builds right and looks good\n* I (or another reviewer) need to check that the tests work right - guess I had better start installing some packages :)\n* I (or another reviewer) need to do some spot checks of everything\n\nWhich is all not too hard, we're almost there.\n\nWhat is the next project on the GSOC timeline?",
    "created_at": "2015-06-03T18:41:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247948",
    "user": "@kcrisman"
}
```

Great.  Here is what I think still needs to happen.
* You should add an example testing the `maximization=False`
* This error looks messed up because of the extra spaces - check for others like this:

```
ValueError: The Gambit implementation of LCP only
                                     allows for integer valued payoffs.
                                     Please scale your payoff matrices.
```

* You should fix the following formatting

```
+        INPUT:
+        - ``as_integer`` - Boolean value which states whether the gambit representation should have
+                           the payoffs represented as integers or decimals.
```

  (there should be a blank line between `INPUT:` and the rest, I think) even though it is an underscore method and won't appear in documentation.
* You should decide whether you want `# optional - Coin` or `# optional - cbc`
* Is `PPL` or `CVXOPT` really an optional thing?  I think they are standard Sage packages...
* It would be really nice to have at least one example in the doc of a *solved* (not just *constructed*, as in the documentation of `is_constant_sum`) constant-sum non-zero-sum game.
* I (or another reviewer) need to check that the MILP is the right one
* I (or another reviewer) need to check that documentation builds right and looks good
* I (or another reviewer) need to check that the tests work right - guess I had better start installing some packages :)
* I (or another reviewer) need to do some spot checks of everything

Which is all not too hard, we're almost there.

What is the next project on the GSOC timeline?



---

archive/issue_comments_247949.json:
```json
{
    "body": "I cannot figure out how to get the changes in the doc built, it's maddening.  I'll have to assume it's okay and I didn't miss anything.\n\nThe following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)\n\n```\nclass NormalFormGame(SageObject, MutableMapping):\n    r\"\"\"\n    An object representing a Normal Form Game. Primarily used to compute the\n    Nash Equilibria.\n\n    INPUT:\n\n    - ``generator`` - Can be a list of 2 matrices, a single matrix or left\n                      blank.\n\n    \"\"\"\n```\n\nIt should at least tell how to get to more documentation from there.\n\nThe following\n\n```\n+        p = MixedIntegerLinearProgram(maximization=False, solver=solver)\n+        y = p.new_variable(nonnegative=True)\n+        v = p.new_variable(nonnegative=False)\n+        p.add_constraint(self.payoff_matrices()[0] * y - v[0] <= 0)\n+        p.add_constraint(matrix([[1] * strategy_sizes[0]]) * y == 1)\n+        p.set_objective(v[0])\n```\n\nlooks good though I would prefer to use maximization and swap that first constraint or whatever is appropriate, but presumably this is the industry standard to minimize.\n\nSo... is the reason for doing this only for constant-sum games because it's only known to be in P for them?  Is it potentially still faster even for non-constant-sum games?\n\nDoctests pass.\n\nI think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)",
    "created_at": "2015-06-03T20:05:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247949",
    "user": "@kcrisman"
}
```

I cannot figure out how to get the changes in the doc built, it's maddening.  I'll have to assume it's okay and I didn't miss anything.

The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)

```
class NormalFormGame(SageObject, MutableMapping):
    r"""
    An object representing a Normal Form Game. Primarily used to compute the
    Nash Equilibria.

    INPUT:

    - ``generator`` - Can be a list of 2 matrices, a single matrix or left
                      blank.

    """
```

It should at least tell how to get to more documentation from there.

The following

```
+        p = MixedIntegerLinearProgram(maximization=False, solver=solver)
+        y = p.new_variable(nonnegative=True)
+        v = p.new_variable(nonnegative=False)
+        p.add_constraint(self.payoff_matrices()[0] * y - v[0] <= 0)
+        p.add_constraint(matrix([[1] * strategy_sizes[0]]) * y == 1)
+        p.set_objective(v[0])
```

looks good though I would prefer to use maximization and swap that first constraint or whatever is appropriate, but presumably this is the industry standard to minimize.

So... is the reason for doing this only for constant-sum games because it's only known to be in P for them?  Is it potentially still faster even for non-constant-sum games?

Doctests pass.

I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)



---

archive/issue_comments_247950.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-03T20:05:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247950",
    "user": "@kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_247951.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-03T20:11:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247951",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247952.json:
```json
{
    "body": "> * You should add an example testing the `maximization=False`\nThere's currently one at the start of `obtain_nash`, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?\n> * This error looks messed up because of the extra spaces - check for others like this:\n> {{{\n> ValueError: The Gambit implementation of LCP only\n>                                      allows for integer valued payoffs.\n>                                      Please scale your payoff matrices.\n> }}}\nActually, I was supposed to remove this error earlier on as it doesn't hold. I removed the documentation but forgot to remove the actual error.\n> * You should decide whether you want `# optional - Coin` or `# optional - cbc`\n> * Is `PPL` or `CVXOPT` really an optional thing?  I think they are standard Sage packages...\nI've removed `#optional - PPL`.\n> * I (or another reviewer) need to check that the MILP is the right one\n> * I (or another reviewer) need to check that documentation builds right and looks good\n> * I (or another reviewer) need to check that the tests work right - guess I had better start installing some packages :)\n> * I (or another reviewer) need to do some spot checks of everything\n> \n> Which is all not too hard, we're almost there.\n> \n> What is the next project on the GSOC timeline?\nComing up next would be the Lemke-Howson algorithm for solving 2-player games.",
    "created_at": "2015-06-03T20:27:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247952",
    "user": "@ptigwe"
}
```

> * You should add an example testing the `maximization=False`
There's currently one at the start of `obtain_nash`, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?
> * This error looks messed up because of the extra spaces - check for others like this:
> {{{
> ValueError: The Gambit implementation of LCP only
>                                      allows for integer valued payoffs.
>                                      Please scale your payoff matrices.
> }}}
Actually, I was supposed to remove this error earlier on as it doesn't hold. I removed the documentation but forgot to remove the actual error.
> * You should decide whether you want `# optional - Coin` or `# optional - cbc`
> * Is `PPL` or `CVXOPT` really an optional thing?  I think they are standard Sage packages...
I've removed `#optional - PPL`.
> * I (or another reviewer) need to check that the MILP is the right one
> * I (or another reviewer) need to check that documentation builds right and looks good
> * I (or another reviewer) need to check that the tests work right - guess I had better start installing some packages :)
> * I (or another reviewer) need to do some spot checks of everything
> 
> Which is all not too hard, we're almost there.
> 
> What is the next project on the GSOC timeline?
Coming up next would be the Lemke-Howson algorithm for solving 2-player games.



---

archive/issue_comments_247953.json:
```json
{
    "body": "> The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)\n> {{{\n> class NormalFormGame(SageObject, MutableMapping):\n>     r\"\"\"\n>     An object representing a Normal Form Game. Primarily used to compute the\n>     Nash Equilibria.\n> \n>     INPUT:\n> \n>     - ``generator`` - Can be a list of 2 matrices, a single matrix or left\n>                       blank.\n> \n>     \"\"\"\n> }}}\n> It should at least tell how to get to more documentation from there.\nOK. I was planning on opening a ticket, towards the end of GSOC, which would address the documentation as a whole. In the mean time, changes to the documentation would be based on changes made to the code.\n> The following\n> {{{\n> +        p = MixedIntegerLinearProgram(maximization=False, solver=solver)\n> +        y = p.new_variable(nonnegative=True)\n> +        v = p.new_variable(nonnegative=False)\n> +        p.add_constraint(self.payoff_matrices()[0] * y - v[0] <= 0)\n> +        p.add_constraint(matrix([[1] * strategy_sizes[0]]) * y == 1)\n> +        p.set_objective(v[0])\n> }}}\n> looks good though I would prefer to use maximization and swap that first constraint or whatever is appropriate, but presumably this is the industry standard to minimize.\n> \n> So... is the reason for doing this only for constant-sum games because it's only known to be in P for them?\nYeah. \n> Is it potentially still faster even for non-constant-sum games?\nNot sure if you are asking about using the LP for non-constant-sum games or the general classification of finding a Nash in a general game. In case if it was a bit of both:\n* LP's aren't guaranteed to find a Nash equilibrium in a two player non-constant-sum game.\n* Finding a Nash is PPAD-complete. Even the problem of approximation is hard.\n> Doctests pass.\nThat's Good.\n> I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)\nOK.",
    "created_at": "2015-06-03T20:58:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247953",
    "user": "@ptigwe"
}
```

> The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)
> {{{
> class NormalFormGame(SageObject, MutableMapping):
>     r"""
>     An object representing a Normal Form Game. Primarily used to compute the
>     Nash Equilibria.
> 
>     INPUT:
> 
>     - ``generator`` - Can be a list of 2 matrices, a single matrix or left
>                       blank.
> 
>     """
> }}}
> It should at least tell how to get to more documentation from there.
OK. I was planning on opening a ticket, towards the end of GSOC, which would address the documentation as a whole. In the mean time, changes to the documentation would be based on changes made to the code.
> The following
> {{{
> +        p = MixedIntegerLinearProgram(maximization=False, solver=solver)
> +        y = p.new_variable(nonnegative=True)
> +        v = p.new_variable(nonnegative=False)
> +        p.add_constraint(self.payoff_matrices()[0] * y - v[0] <= 0)
> +        p.add_constraint(matrix([[1] * strategy_sizes[0]]) * y == 1)
> +        p.set_objective(v[0])
> }}}
> looks good though I would prefer to use maximization and swap that first constraint or whatever is appropriate, but presumably this is the industry standard to minimize.
> 
> So... is the reason for doing this only for constant-sum games because it's only known to be in P for them?
Yeah. 
> Is it potentially still faster even for non-constant-sum games?
Not sure if you are asking about using the LP for non-constant-sum games or the general classification of finding a Nash in a general game. In case if it was a bit of both:
* LP's aren't guaranteed to find a Nash equilibrium in a two player non-constant-sum game.
* Finding a Nash is PPAD-complete. Even the problem of approximation is hard.
> Doctests pass.
That's Good.
> I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)
OK.



---

archive/issue_comments_247954.json:
```json
{
    "body": "> OK. I was planning on opening a ticket, towards the end of GSOC, which would address the documentation as a whole. \nSounds fair.\n> Not sure if you are asking about using the LP for non-constant-sum games or the general classification of finding a Nash in a general game. In case if it was a bit of both:\n>  * LP's aren't guaranteed to find a Nash equilibrium in a two player non-constant-sum game.\nVery interesting!",
    "created_at": "2015-06-03T21:07:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247954",
    "user": "@kcrisman"
}
```

> OK. I was planning on opening a ticket, towards the end of GSOC, which would address the documentation as a whole. 
Sounds fair.
> Not sure if you are asking about using the LP for non-constant-sum games or the general classification of finding a Nash in a general game. In case if it was a bit of both:
>  * LP's aren't guaranteed to find a Nash equilibrium in a two player non-constant-sum game.
Very interesting!



---

archive/issue_comments_247955.json:
```json
{
    "body": "Hi both,\n\nApologies for my silence (on organisation committee of a conference that has been running this week so have been pretty busy). Apologies also if as a result my comments below don't make full sense (in case I missed something).\n\nReplying to [comment:13 kcrisman]:\n> I cannot figure out how to get the changes in the doc built, it's maddening.  I'll have to assume it's okay and I didn't miss anything.\n> \n> The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)\n> {{{\n> class NormalFormGame(SageObject, MutableMapping):\n>     r\"\"\"\n>     An object representing a Normal Form Game. Primarily used to compute the\n>     Nash Equilibria.\n> \n>     INPUT:\n> \n>     - ``generator`` - Can be a list of 2 matrices, a single matrix or left\n>                       blank.\n> \n>     \"\"\"\n> }}}\n> It should at least tell how to get to more documentation from there.\n> \n\nThis is certainly due to me, it happened as a result of moving the documentation that was there to the front matter, I think I perhaps did not fully understand :) Perhaps a ticket could be opened about the documentation (as Tobenna suggested towards the end of gsoc) that fully describes what we want the docs to look like :) \n\nReplying to [comment:17 ptigwe]:\n\n> > I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)\n> OK.\n\nI think it could be worth doctesting also? (So showing that all equilibria are find by some algorithms and not by LP etc...)\n\nGreat work on this Tobenna, really looking solid and thanks to Karl for reviewing (as always this is greatly appreciated).",
    "created_at": "2015-06-03T22:08:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247955",
    "user": "@drvinceknight"
}
```

Hi both,

Apologies for my silence (on organisation committee of a conference that has been running this week so have been pretty busy). Apologies also if as a result my comments below don't make full sense (in case I missed something).

Replying to [comment:13 kcrisman]:
> I cannot figure out how to get the changes in the doc built, it's maddening.  I'll have to assume it's okay and I didn't miss anything.
> 
> The following could be improved, it really looks pretty meager.  Not necessarily for this ticket, as definitely pre-existing - Vince, I'll blame you for this :)
> {{{
> class NormalFormGame(SageObject, MutableMapping):
>     r"""
>     An object representing a Normal Form Game. Primarily used to compute the
>     Nash Equilibria.
> 
>     INPUT:
> 
>     - ``generator`` - Can be a list of 2 matrices, a single matrix or left
>                       blank.
> 
>     """
> }}}
> It should at least tell how to get to more documentation from there.
> 

This is certainly due to me, it happened as a result of moving the documentation that was there to the front matter, I think I perhaps did not fully understand :) Perhaps a ticket could be opened about the documentation (as Tobenna suggested towards the end of gsoc) that fully describes what we want the docs to look like :) 

Replying to [comment:17 ptigwe]:

> > I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)
> OK.

I think it could be worth doctesting also? (So showing that all equilibria are find by some algorithms and not by LP etc...)

Great work on this Tobenna, really looking solid and thanks to Karl for reviewing (as always this is greatly appreciated).



---

archive/issue_comments_247956.json:
```json
{
    "body": "> This is certainly due to me, it happened as a result of moving the documentation that was there to the front matter, I think I perhaps did not fully understand :) Perhaps a ticket could be opened about the documentation (as Tobenna suggested towards the end of gsoc) that fully describes what we want the docs to look like :) \n\nActually, I'll open it now and set it to sage-pending so we don't forget.  #18609.\n\n> > > I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)\n> > OK.\n> \n> I think it could be worth doctesting also? (So showing that all equilibria are find by some algorithms and not by LP etc...)\nOkay, so we're agreed on this.\n\nAnother small point - no maximization here.\n\n```\n        if algorithm.startswith('lp-'):\n            return self._solve_LP(solver=algorithm[3:])\n```\n\nOf course, at some point this is pedantic if you are planning on removing it - but actually, given that it pre-existed this ticket, I guess you'll have to deprecate that keyword.\n\n> > You should add an example testing the maximization=False\n> There's currently one at the start of obtain_nash, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?\nWhat I meant was one for the new LP solver functionality.",
    "created_at": "2015-06-04T12:55:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247956",
    "user": "@kcrisman"
}
```

> This is certainly due to me, it happened as a result of moving the documentation that was there to the front matter, I think I perhaps did not fully understand :) Perhaps a ticket could be opened about the documentation (as Tobenna suggested towards the end of gsoc) that fully describes what we want the docs to look like :) 

Actually, I'll open it now and set it to sage-pending so we don't forget.  #18609.

> > > I think it's worth pointing out somewhere in the documentation that the LP approach will give *one* NE but not *all* of them, should there be more than one.  (Constant-sum games can have more than one NE, right?  I guess the trivial game is an example.)
> > OK.
> 
> I think it could be worth doctesting also? (So showing that all equilibria are find by some algorithms and not by LP etc...)
Okay, so we're agreed on this.

Another small point - no maximization here.

```
        if algorithm.startswith('lp-'):
            return self._solve_LP(solver=algorithm[3:])
```

Of course, at some point this is pedantic if you are planning on removing it - but actually, given that it pre-existed this ticket, I guess you'll have to deprecate that keyword.

> > You should add an example testing the maximization=False
> There's currently one at the start of obtain_nash, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?
What I meant was one for the new LP solver functionality.



---

archive/issue_comments_247957.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-09T12:40:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247957",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247958.json:
```json
{
    "body": "Replying to [comment:20 kcrisman]:\n> Another small point - no maximization here.\n> {{{\n>         if algorithm.startswith('lp-'):\n>             return self._solve_LP(solver=algorithm[3:])\n> }}}\n> Of course, at some point this is pedantic if you are planning on removing it - but actually, given that it pre-existed this ticket, I guess you'll have to deprecate that keyword.\n> \n> > > You should add an example testing the maximization=False\n> > There's currently one at the start of obtain_nash, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?\n> What I meant was one for the new LP solver functionality.\nDima, Vince and I have thought and discussed about this issue for a while, and have decided to remove ``maximization`` completely. So the next few patches should be addressing this.",
    "created_at": "2015-06-09T12:45:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247958",
    "user": "@ptigwe"
}
```

Replying to [comment:20 kcrisman]:
> Another small point - no maximization here.
> {{{
>         if algorithm.startswith('lp-'):
>             return self._solve_LP(solver=algorithm[3:])
> }}}
> Of course, at some point this is pedantic if you are planning on removing it - but actually, given that it pre-existed this ticket, I guess you'll have to deprecate that keyword.
> 
> > > You should add an example testing the maximization=False
> > There's currently one at the start of obtain_nash, showing that it's possible for the equilibrium found could be different. Do you want me to do something similar for all the methods, or would the one be enough?
> What I meant was one for the new LP solver functionality.
Dima, Vince and I have thought and discussed about this issue for a while, and have decided to remove ``maximization`` completely. So the next few patches should be addressing this.



---

archive/issue_comments_247959.json:
```json
{
    "body": "Okay.   Probably best is to have that be a dependency of this ticket...  And if you end up not deprecating this and just remove it (which could conceivably be reasonable in the particular context) be sure to have plenty of good arguments backing up that decision \"for posterity's sake\".",
    "created_at": "2015-06-09T23:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247959",
    "user": "@kcrisman"
}
```

Okay.   Probably best is to have that be a dependency of this ticket...  And if you end up not deprecating this and just remove it (which could conceivably be reasonable in the particular context) be sure to have plenty of good arguments backing up that decision "for posterity's sake".



---

archive/issue_comments_247960.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-11T16:41:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247960",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247961.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-11T16:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247961",
    "user": "@ptigwe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_247962.json:
```json
{
    "body": "Besides the deprecation (which would be done in a separate ticket), I believe that's everything for this one. If I've missed anything please let me know.",
    "created_at": "2015-06-11T16:44:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247962",
    "user": "@ptigwe"
}
```

Besides the deprecation (which would be done in a separate ticket), I believe that's everything for this one. If I've missed anything please let me know.



---

archive/issue_comments_247963.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-06-16T19:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247963",
    "user": "@ptigwe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_247964.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T11:06:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247964",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247965.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T11:21:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247965",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247966.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-06-18T12:06:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247966",
    "user": "@ptigwe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_247967.json:
```json
{
    "body": "Instead of calling the method `_as_gambit_game`, to be consistent with other parts of Sage, I would call it `_gambit_` (like how the `_gap_` method returns a representation of the object in GAP). Also the doc for `INPUT:` for that method is misaligned.",
    "created_at": "2015-06-18T18:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247967",
    "user": "@tscrim"
}
```

Instead of calling the method `_as_gambit_game`, to be consistent with other parts of Sage, I would call it `_gambit_` (like how the `_gap_` method returns a representation of the object in GAP). Also the doc for `INPUT:` for that method is misaligned.



---

archive/issue_comments_247968.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-06-18T20:57:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247968",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247969.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-07-24T16:20:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247969",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247970.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-18T11:18:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247970",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247971.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-08-21T09:32:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247971",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247972.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-10-17T02:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247972",
    "user": "@kevindilks"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_247973.json:
```json
{
    "body": "More doctests need to be marked as optional.",
    "created_at": "2015-10-17T02:26:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247973",
    "user": "@kevindilks"
}
```

More doctests need to be marked as optional.



---

archive/issue_comments_247974.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-12-02T19:43:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247974",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247975.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2015-12-02T19:45:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247975",
    "user": "@ptigwe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_247976.json:
```json
{
    "body": "Needs to be rebased on sage8.1.beta3",
    "created_at": "2017-08-30T18:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247976",
    "user": "@koffie"
}
```

Needs to be rebased on sage8.1.beta3



---

archive/issue_comments_247977.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2017-08-30T18:32:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247977",
    "user": "@koffie"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_247978.json:
```json
{
    "body": "Rebased version.\n----\nNew commits:",
    "created_at": "2017-10-26T22:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247978",
    "user": "@tscrim"
}
```

Rebased version.
----
New commits:



---

archive/issue_comments_247979.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-26T22:58:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247979",
    "user": "@tscrim"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_247980.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-27T02:39:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247980",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247981.json:
```json
{
    "body": "I believe this is essentially reviewed, so perhaps the only thing left to check are my little round of tweaks.",
    "created_at": "2017-10-27T02:41:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247981",
    "user": "@tscrim"
}
```

I believe this is essentially reviewed, so perhaps the only thing left to check are my little round of tweaks.



---

archive/issue_comments_247982.json:
```json
{
    "body": "This still needs the following for doc building and to pass the tests\n\n```\n--- a/src/sage/game_theory/normal_form_game.py\n+++ b/src/sage/game_theory/normal_form_game.py\n@@ -216,7 +216,7 @@ currently available:\n \n * ``'lp-*'``: A solver for constant sum 2 player games using linear\n   programming. This contructs a\n- `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the\n+  `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the\n   solver which was passed in as part of the algorithm string to solve\n   the linear programming representation of the game, for instance,\n   ``'lp-glpk'`` would make use of the ``GLPK`` solver, while\n@@ -568,6 +568,7 @@ Here is an example with the trivial game where all payoffs are 0::\n     (\n     [0 0 0]  [0 0 0]\n     [0 0 0]  [0 0 0]\n+    [0 0 0], [0 0 0]\n     )\n     sage: g.obtain_nash(algorithm='enumeration')\n     [[(0, 0, 1), (0, 0, 1)], [(0, 0, 1), (0, 1, 0)], [(0, 0, 1), (1, 0, 0)],\n```\n",
    "created_at": "2017-10-29T07:28:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247982",
    "user": "@dimpase"
}
```

This still needs the following for doc building and to pass the tests

```
--- a/src/sage/game_theory/normal_form_game.py
+++ b/src/sage/game_theory/normal_form_game.py
@@ -216,7 +216,7 @@ currently available:
 
 * ``'lp-*'``: A solver for constant sum 2 player games using linear
   programming. This contructs a
- `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the
+  `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the
   solver which was passed in as part of the algorithm string to solve
   the linear programming representation of the game, for instance,
   ``'lp-glpk'`` would make use of the ``GLPK`` solver, while
@@ -568,6 +568,7 @@ Here is an example with the trivial game where all payoffs are 0::
     (
     [0 0 0]  [0 0 0]
     [0 0 0]  [0 0 0]
+    [0 0 0], [0 0 0]
     )
     sage: g.obtain_nash(algorithm='enumeration')
     [[(0, 0, 1), (0, 0, 1)], [(0, 0, 1), (0, 1, 0)], [(0, 0, 1), (1, 0, 0)],
```




---

archive/issue_comments_247983.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-29T07:35:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247983",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247984.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-29T07:36:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247984",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_247985.json:
```json
{
    "body": "Thank you.",
    "created_at": "2017-10-29T08:29:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247985",
    "user": "@tscrim"
}
```

Thank you.



---

archive/issue_comments_247986.json:
```json
{
    "body": "The last commit has introduced a small mistake. One should do:\n\n```\n- `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the\n+ :mod:`MixedIntegerLinearProgram <sage.numerical.MILP>` using the\n```\n\n\n\nI think that using `algorithm = \"lp-glpk\"` or `algorithm = \"lp-gambit\"` is not the best choice. It forces to specify the LP solver, while we usually let Sage use the default LP solver (`GLPK`, `Cplex`, ...). Why not using 2 parameters: `algorithm=\"lp\"` and `solver=None` (or `\"gambit\"` or `\"gplk\"`or ...) ?\n\nTypically, we usually do:\n\n```\n- def _solve_LP(self, solver='glpk', maximization=True):\n+ def _solve_LP(self, solver=None, maximization=True):\n```\n",
    "created_at": "2017-10-29T10:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247986",
    "user": "@dcoudert"
}
```

The last commit has introduced a small mistake. One should do:

```
- `:mod:MixedIntegerLinearProgram <sage.numerical.MILP>` using the
+ :mod:`MixedIntegerLinearProgram <sage.numerical.MILP>` using the
```



I think that using `algorithm = "lp-glpk"` or `algorithm = "lp-gambit"` is not the best choice. It forces to specify the LP solver, while we usually let Sage use the default LP solver (`GLPK`, `Cplex`, ...). Why not using 2 parameters: `algorithm="lp"` and `solver=None` (or `"gambit"` or `"gplk"`or ...) ?

Typically, we usually do:

```
- def _solve_LP(self, solver='glpk', maximization=True):
+ def _solve_LP(self, solver=None, maximization=True):
```




---

archive/issue_comments_247987.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2017-10-29T10:16:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247987",
    "user": "@dcoudert"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_247988.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2017-10-29T22:30:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247988",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_247989.json:
```json
{
    "body": "Replying to [comment:47 git]:\n> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:\n> ||[f5b73ea](https://git.sagemath.org/sage.git/commit/?id=f5b73ea3d982260e2cdfd8c12aea8596a65b9c13)||`fixed doc building and a test`||\n\nthis fixes the wrongly placed backtick for `:mod:...`",
    "created_at": "2017-10-29T22:36:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247989",
    "user": "@dimpase"
}
```

Replying to [comment:47 git]:
> Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:
> ||[f5b73ea](https://git.sagemath.org/sage.git/commit/?id=f5b73ea3d982260e2cdfd8c12aea8596a65b9c13)||`fixed doc building and a test`||

this fixes the wrongly placed backtick for `:mod:...`



---

archive/issue_comments_247990.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2017-10-29T22:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247990",
    "user": "@dimpase"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_247991.json:
```json
{
    "body": "Replying to [comment:46 dcoudert]:\n\n> I think that using `algorithm = \"lp-glpk\"` or `algorithm = \"lp-gambit\"` is not the best choice. It forces to specify the LP solver, while we usually let Sage use the default LP solver (`GLPK`, `Cplex`, ...). Why not using 2 parameters: `algorithm=\"lp\"` and `solver=None` (or `\"gambit\"` or `\"gplk\"`or ...) ?\n\nThis is more subtle, as `gambit` is not one of LP-solvers supported by the Sage's LP\nbackend, and thus the change you propose would introduce a bit of dissonance, \ntoo.\n \nI would prefer to have such an improvement worked on on a followup ticket.",
    "created_at": "2017-10-29T22:47:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247991",
    "user": "@dimpase"
}
```

Replying to [comment:46 dcoudert]:

> I think that using `algorithm = "lp-glpk"` or `algorithm = "lp-gambit"` is not the best choice. It forces to specify the LP solver, while we usually let Sage use the default LP solver (`GLPK`, `Cplex`, ...). Why not using 2 parameters: `algorithm="lp"` and `solver=None` (or `"gambit"` or `"gplk"`or ...) ?

This is more subtle, as `gambit` is not one of LP-solvers supported by the Sage's LP
backend, and thus the change you propose would introduce a bit of dissonance, 
too.
 
I would prefer to have such an improvement worked on on a followup ticket.



---

archive/issue_comments_247992.json:
```json
{
    "body": "Since this is being introduced on this ticket, I think we should try and decide now rather than later, especially since that would likely mean deprecations.\n\n`gambit` does apparently come with a solver, so I feel it is only very mildly dissonant. I am working on David's suggestion.",
    "created_at": "2017-10-29T22:54:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247992",
    "user": "@tscrim"
}
```

Since this is being introduced on this ticket, I think we should try and decide now rather than later, especially since that would likely mean deprecations.

`gambit` does apparently come with a solver, so I feel it is only very mildly dissonant. I am working on David's suggestion.



---

archive/issue_comments_247993.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-29T23:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247993",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247994.json:
```json
{
    "body": "Done. Now that it is done, I think this is a better approach.",
    "created_at": "2017-10-29T23:13:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247994",
    "user": "@tscrim"
}
```

Done. Now that it is done, I think this is a better approach.



---

archive/issue_comments_247995.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-29T23:25:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247995",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247996.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2017-10-30T00:21:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247996",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_247997.json:
```json
{
    "body": "I think it's better now.\nI let you conclude on the status of this ticket since I have not evaluated the other parts.",
    "created_at": "2017-10-30T10:12:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247997",
    "user": "@dcoudert"
}
```

I think it's better now.
I let you conclude on the status of this ticket since I have not evaluated the other parts.



---

archive/issue_comments_247998.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-10-31T09:16:09Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247998",
    "user": "@dimpase"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_247999.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-11-02T11:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/18299",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/18299#issuecomment-247999",
    "user": "@vbraun"
}
```

Resolution: fixed
