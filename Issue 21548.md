# Issue 21548: Installation of SAGE_SRC/ext/ in SAGE_LOCAL/share/sage/ext/ should be done by setup.py, not build/make/Makefile

archive/issues_021548.json:
```json
{
    "body": "CC:  jdemeyer embray fbissey slelievre saraedum isuruf dimpase jhpalmieri\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/21785\n\n",
    "created_at": "2016-10-30T06:54:37Z",
    "labels": [
        "build",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.1",
    "title": "Installation of SAGE_SRC/ext/ in SAGE_LOCAL/share/sage/ext/ should be done by setup.py, not build/make/Makefile",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/21548",
    "user": "mkoeppe"
}
```
CC:  jdemeyer embray fbissey slelievre saraedum isuruf dimpase jhpalmieri



Issue created by migration from https://trac.sagemath.org/ticket/21785





---

archive/issue_comments_299145.json:
```json
{
    "body": "That would actually help me. I see extra potential to this for my jupyter kernel install woes as well (even if I know Jeroen doesn't see it that way).",
    "created_at": "2016-10-30T07:14:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299145",
    "user": "fbissey"
}
```

That would actually help me. I see extra potential to this for my jupyter kernel install woes as well (even if I know Jeroen doesn't see it that way).



---

archive/issue_comments_299146.json:
```json
{
    "body": "There was a reference to this ticket in a \"sage-packaging\" discussion:\n\n- https://groups.google.com/d/msg/sage-packaging/McjYh9wYlmk/PgBK1yryCwAJ",
    "created_at": "2019-07-03T13:19:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299146",
    "user": "slelievre"
}
```

There was a reference to this ticket in a "sage-packaging" discussion:

- https://groups.google.com/d/msg/sage-packaging/McjYh9wYlmk/PgBK1yryCwAJ



---

archive/issue_comments_299147.json:
```json
{
    "body": "I would add, a lot of the stuff (not necessarily all) in `$SAGE_SRC/ext` might better belong directly in the `sage` Python package--in particular any files that are needed for the package itself to function properly.  For example you can see in #22626 that I put `sage.gaprc`, a file required for the libgap module to work, in `sage.libs.gap` as \"package data\".\n\nThere are several files in `$SAGE_SRC/ext` that there's no reason to ever allow to be out of sync with the Python package, and that could be given the same treatment.\n\nFor files in `$SAGE_SRC/ext` in general, that aren't explicitly required from the package (are there any such files) it might be better to move out of `src/` entirely?",
    "created_at": "2019-07-04T13:05:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299147",
    "user": "embray"
}
```

I would add, a lot of the stuff (not necessarily all) in `$SAGE_SRC/ext` might better belong directly in the `sage` Python package--in particular any files that are needed for the package itself to function properly.  For example you can see in #22626 that I put `sage.gaprc`, a file required for the libgap module to work, in `sage.libs.gap` as "package data".

There are several files in `$SAGE_SRC/ext` that there's no reason to ever allow to be out of sync with the Python package, and that could be given the same treatment.

For files in `$SAGE_SRC/ext` in general, that aren't explicitly required from the package (are there any such files) it might be better to move out of `src/` entirely?



---

archive/issue_comments_299148.json:
```json
{
    "body": "Ticket retargeted after milestone closed",
    "created_at": "2019-12-30T14:48:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299148",
    "user": "embray"
}
```

Ticket retargeted after milestone closed



---

archive/issue_comments_299149.json:
```json
{
    "body": "setuptools experts: To move this ticket forward, should it go through #22655 (Support package_data-like of non-Python resource files in Python packages)?",
    "created_at": "2020-01-13T16:37:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299149",
    "user": "mkoeppe"
}
```

setuptools experts: To move this ticket forward, should it go through #22655 (Support package_data-like of non-Python resource files in Python packages)?



---

archive/issue_comments_299150.json:
```json
{
    "body": "Something like it, yes, though I think maybe it can be simplified.",
    "created_at": "2020-01-14T11:08:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299150",
    "user": "embray"
}
```

Something like it, yes, though I think maybe it can be simplified.



---

archive/issue_comments_299151.json:
```json
{
    "body": "Erik, should discussion then take place on #22655 or here?",
    "created_at": "2020-01-16T18:38:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299151",
    "user": "mkoeppe"
}
```

Erik, should discussion then take place on #22655 or here?



---

archive/issue_comments_299152.json:
```json
{
    "body": "Description adapted from embray's comment 4.",
    "created_at": "2020-01-21T15:19:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299152",
    "user": "mkoeppe"
}
```

Description adapted from embray's comment 4.



---

archive/issue_comments_299153.json:
```json
{
    "body": "Branch is on top of #29062.\n\nInstallation of the package data does not work yet... what am I missing?\n----\nNew commits:",
    "created_at": "2020-01-21T20:23:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299153",
    "user": "mkoeppe"
}
```

Branch is on top of #29062.

Installation of the package data does not work yet... what am I missing?
----
New commits:



---

archive/issue_comments_299154.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-01-22T00:38:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299154",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299155.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-01-22T01:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299155",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_299156.json:
```json
{
    "body": "`@`embray Also this ticket would need review.",
    "created_at": "2020-01-31T14:55:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299156",
    "user": "mkoeppe"
}
```

`@`embray Also this ticket would need review.



---

archive/issue_comments_299157.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2020-02-01T13:56:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299157",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_299158.json:
```json
{
    "body": "Rebased on top of current #29062 (and 9.1.beta2)",
    "created_at": "2020-02-01T13:58:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299158",
    "user": "mkoeppe"
}
```

Rebased on top of current #29062 (and 9.1.beta2)



---

archive/issue_comments_299159.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-09T16:06:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299159",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299160.json:
```json
{
    "body": "Merged current beta, needs review",
    "created_at": "2020-02-09T16:06:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299160",
    "user": "mkoeppe"
}
```

Merged current beta, needs review



---

archive/issue_comments_299161.json:
```json
{
    "body": "I haven't looked at this in detail yet, but I'm basically happy with what I see; this is what I've been wanting to see done all along.",
    "created_at": "2020-02-12T17:33:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299161",
    "user": "embray"
}
```

I haven't looked at this in detail yet, but I'm basically happy with what I see; this is what I've been wanting to see done all along.



---

archive/issue_comments_299162.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-16T18:18:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299162",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299163.json:
```json
{
    "body": "Looks good but there are a few doctests errors on the patchbots and I think at least some of them are really related to this ticket\n\n```\nsage -t --long --warn-long 313.2 src/sage/ext_data/nbconvert/postprocess.py\n    FileNotFoundError in doctesting framework\n**********************************************************************\nTraceback (most recent call last):\n  File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2504, in __call__\n    doctests, extras = self._run(runner, options, results)\n  File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 2549, in _run\n    doctests, extras = self.source.create_doctests(sage_namespace)\n  File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/sources.py\", line 734, in create_doctests\n    load(filename, namespace) # errors raised here will be caught in DocTestTask\n  File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/repl/load.py\", line 252, in load\n    exec(code, globals)\n  File \"./postprocess.py\", line 19, in <module>\nFileNotFoundError: [Errno 2] No such file or directory: '-p'\n```\n\nLooking at this file, there is no tests in it, which suggests it may not have been tested before and may be nothing in `ext_data` should.\n\nThis one is actually the exact same error but on another file\n\n```\nsage -t --long --warn-long 313.2 src/sage/doctest/sources.py\n**********************************************************************\nFile \"src/sage/doctest/sources.py\", line 765, in sage.doctest.sources.FileDocTestSource._test_enough_doctests\nFailed example:\n    for path, dirs, files in itertools.chain(os.walk('sage'), os.walk('doc')): # long time\n        path = os.path.relpath(path)\n        dirs.sort(); files.sort()\n        for F in files:\n            _, ext = os.path.splitext(F)\n            if ext in ('.py', '.pyx', '.pxd', '.pxi', '.sage', '.spyx', '.rst'):\n                filename = os.path.join(path, F)\n                FDS = FileDocTestSource(filename, DocTestDefaults(long=True,optional=True))\n                FDS._test_enough_doctests(verbose=False)\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.doctest.sources.FileDocTestSource._test_enough_doctests[6]>\", line 9, in <module>\n        FDS._test_enough_doctests(verbose=False)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/sources.py\", line 809, in _test_enough_doctests\n        tests, _ = self.create_doctests({})\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/sources.py\", line 734, in create_doctests\n        load(filename, namespace) # errors raised here will be caught in DocTestTask\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/repl/load.py\", line 252, in load\n        exec(code, globals)\n      File \"./postprocess.py\", line 19, in <module>\n    FileNotFoundError: [Errno 2] No such file or directory: '-p'\n```\n\nSomething different\n\n```\nsage -t --long --warn-long 313.2 src/sage/homology/simplicial_set.py\n**********************************************************************\nFile \"src/sage/homology/simplicial_set.py\", line 1679, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph\nFailed example:\n    CP3 = simplicial_sets.ComplexProjectiveSpace(3)\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_set.SimplicialSet_arbitrary.graph[6]>\", line 1, in <module>\n        CP3 = simplicial_sets.ComplexProjectiveSpace(Integer(3))\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py\", line 612, in ComplexProjectiveSpace\n        data = simplicial_data_from_kenzo_output(file)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py\", line 649, in simplicial_data_from_kenzo_output\n        with open(filename, 'r') as f:\n    FileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/ext_data/kenzo/CP3.txt'\n**********************************************************************\nFile \"src/sage/homology/simplicial_set.py\", line 1680, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph\nFailed example:\n    G = CP3.graph()\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_set.SimplicialSet_arbitrary.graph[7]>\", line 1, in <module>\n        G = CP3.graph()\n    NameError: name 'CP3' is not defined\n**********************************************************************\nFile \"src/sage/homology/simplicial_set.py\", line 1681, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph\nFailed example:\n    len(G.vertices())\nExpected:\n    1\nGot:\n    4\n**********************************************************************\nFile \"src/sage/homology/simplicial_set.py\", line 1683, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph\nFailed example:\n    len(G.edges())\nExpected:\n    0\nGot:\n    6\n**********************************************************************\n```\n\nWas a file lost in the move? And again in the same folder\n\n```\nsage -t --long --warn-long 313.2 src/sage/homology/simplicial_set_examples.py\n**********************************************************************\nFile \"src/sage/homology/simplicial_set_examples.py\", line 535, in sage.homology.simplicial_set_examples.ComplexProjectiveSpace\nFailed example:\n    CP3 = simplicial_sets.ComplexProjectiveSpace(3)\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_set_examples.ComplexProjectiveSpace[1]>\", line 1, in <module>\n        CP3 = simplicial_sets.ComplexProjectiveSpace(Integer(3))\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py\", line 612, in ComplexProjectiveSpace\n        data = simplicial_data_from_kenzo_output(file)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py\", line 649, in simplicial_data_from_kenzo_output\n        with open(filename, 'r') as f:\n    FileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/ext_data/kenzo/CP3.txt'\n```\n\n\n```\nFile \"src/sage/homology/simplicial_set_examples.py\", line 551, in sage.homology.simplicial_set_examples.ComplexProjectiveSpace\nFailed example:\n    simplicial_sets.ComplexProjectiveSpace(4).f_vector()\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_set_examples.ComplexProjectiveSpace[10]>\", line 1, in <module>\n        simplicial_sets.ComplexProjectiveSpace(Integer(4)).f_vector()\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py\", line 619, in ComplexProjectiveSpace\n        data = simplicial_data_from_kenzo_output(file)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py\", line 649, in simplicial_data_from_kenzo_output\n        with open(filename, 'r') as f:\n    FileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/ext_data/kenzo/CP4.txt'\n```\n\n\n```\nFile \"src/sage/homology/simplicial_set_examples.py\", line 646, in sage.homology.simplicial_set_examples.simplicial_data_from_kenzo_output\nFailed example:\n    S4.homology(reduced=False)\nException raised:\n    Traceback (most recent call last):\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.homology.simplicial_set_examples.simplicial_data_from_kenzo_output[4]>\", line 1, in <module>\n        S4.homology(reduced=False)\n    NameError: name 'S4' is not defined\n```\n",
    "created_at": "2020-02-16T20:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299163",
    "user": "fbissey"
}
```

Looks good but there are a few doctests errors on the patchbots and I think at least some of them are really related to this ticket

```
sage -t --long --warn-long 313.2 src/sage/ext_data/nbconvert/postprocess.py
    FileNotFoundError in doctesting framework
**********************************************************************
Traceback (most recent call last):
  File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2504, in __call__
    doctests, extras = self._run(runner, options, results)
  File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 2549, in _run
    doctests, extras = self.source.create_doctests(sage_namespace)
  File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/sources.py", line 734, in create_doctests
    load(filename, namespace) # errors raised here will be caught in DocTestTask
  File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/repl/load.py", line 252, in load
    exec(code, globals)
  File "./postprocess.py", line 19, in <module>
FileNotFoundError: [Errno 2] No such file or directory: '-p'
```

Looking at this file, there is no tests in it, which suggests it may not have been tested before and may be nothing in `ext_data` should.

This one is actually the exact same error but on another file

```
sage -t --long --warn-long 313.2 src/sage/doctest/sources.py
**********************************************************************
File "src/sage/doctest/sources.py", line 765, in sage.doctest.sources.FileDocTestSource._test_enough_doctests
Failed example:
    for path, dirs, files in itertools.chain(os.walk('sage'), os.walk('doc')): # long time
        path = os.path.relpath(path)
        dirs.sort(); files.sort()
        for F in files:
            _, ext = os.path.splitext(F)
            if ext in ('.py', '.pyx', '.pxd', '.pxi', '.sage', '.spyx', '.rst'):
                filename = os.path.join(path, F)
                FDS = FileDocTestSource(filename, DocTestDefaults(long=True,optional=True))
                FDS._test_enough_doctests(verbose=False)
Exception raised:
    Traceback (most recent call last):
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.doctest.sources.FileDocTestSource._test_enough_doctests[6]>", line 9, in <module>
        FDS._test_enough_doctests(verbose=False)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/sources.py", line 809, in _test_enough_doctests
        tests, _ = self.create_doctests({})
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/sources.py", line 734, in create_doctests
        load(filename, namespace) # errors raised here will be caught in DocTestTask
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/repl/load.py", line 252, in load
        exec(code, globals)
      File "./postprocess.py", line 19, in <module>
    FileNotFoundError: [Errno 2] No such file or directory: '-p'
```

Something different

```
sage -t --long --warn-long 313.2 src/sage/homology/simplicial_set.py
**********************************************************************
File "src/sage/homology/simplicial_set.py", line 1679, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph
Failed example:
    CP3 = simplicial_sets.ComplexProjectiveSpace(3)
Exception raised:
    Traceback (most recent call last):
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_set.SimplicialSet_arbitrary.graph[6]>", line 1, in <module>
        CP3 = simplicial_sets.ComplexProjectiveSpace(Integer(3))
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py", line 612, in ComplexProjectiveSpace
        data = simplicial_data_from_kenzo_output(file)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py", line 649, in simplicial_data_from_kenzo_output
        with open(filename, 'r') as f:
    FileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/ext_data/kenzo/CP3.txt'
**********************************************************************
File "src/sage/homology/simplicial_set.py", line 1680, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph
Failed example:
    G = CP3.graph()
Exception raised:
    Traceback (most recent call last):
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_set.SimplicialSet_arbitrary.graph[7]>", line 1, in <module>
        G = CP3.graph()
    NameError: name 'CP3' is not defined
**********************************************************************
File "src/sage/homology/simplicial_set.py", line 1681, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph
Failed example:
    len(G.vertices())
Expected:
    1
Got:
    4
**********************************************************************
File "src/sage/homology/simplicial_set.py", line 1683, in sage.homology.simplicial_set.SimplicialSet_arbitrary.graph
Failed example:
    len(G.edges())
Expected:
    0
Got:
    6
**********************************************************************
```

Was a file lost in the move? And again in the same folder

```
sage -t --long --warn-long 313.2 src/sage/homology/simplicial_set_examples.py
**********************************************************************
File "src/sage/homology/simplicial_set_examples.py", line 535, in sage.homology.simplicial_set_examples.ComplexProjectiveSpace
Failed example:
    CP3 = simplicial_sets.ComplexProjectiveSpace(3)
Exception raised:
    Traceback (most recent call last):
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_set_examples.ComplexProjectiveSpace[1]>", line 1, in <module>
        CP3 = simplicial_sets.ComplexProjectiveSpace(Integer(3))
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py", line 612, in ComplexProjectiveSpace
        data = simplicial_data_from_kenzo_output(file)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py", line 649, in simplicial_data_from_kenzo_output
        with open(filename, 'r') as f:
    FileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/ext_data/kenzo/CP3.txt'
```


```
File "src/sage/homology/simplicial_set_examples.py", line 551, in sage.homology.simplicial_set_examples.ComplexProjectiveSpace
Failed example:
    simplicial_sets.ComplexProjectiveSpace(4).f_vector()
Exception raised:
    Traceback (most recent call last):
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_set_examples.ComplexProjectiveSpace[10]>", line 1, in <module>
        simplicial_sets.ComplexProjectiveSpace(Integer(4)).f_vector()
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py", line 619, in ComplexProjectiveSpace
        data = simplicial_data_from_kenzo_output(file)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/homology/simplicial_set_examples.py", line 649, in simplicial_data_from_kenzo_output
        with open(filename, 'r') as f:
    FileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/ext_data/kenzo/CP4.txt'
```


```
File "src/sage/homology/simplicial_set_examples.py", line 646, in sage.homology.simplicial_set_examples.simplicial_data_from_kenzo_output
Failed example:
    S4.homology(reduced=False)
Exception raised:
    Traceback (most recent call last):
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/tmp/tmpy2iq33kq-sage-git-temp-21785/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.homology.simplicial_set_examples.simplicial_data_from_kenzo_output[4]>", line 1, in <module>
        S4.homology(reduced=False)
    NameError: name 'S4' is not defined
```




---

archive/issue_comments_299164.json:
```json
{
    "body": "I have a felling the `.txt` in the `kenso` folder are not actually installed. At least they may not have been on the patchbot I have taken these logs from.",
    "created_at": "2020-02-16T21:19:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299164",
    "user": "fbissey"
}
```

I have a felling the `.txt` in the `kenso` folder are not actually installed. At least they may not have been on the patchbot I have taken these logs from.



---

archive/issue_comments_299165.json:
```json
{
    "body": "Yes, it looks like they are not getting installed. I'll investigate",
    "created_at": "2020-02-16T22:05:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299165",
    "user": "mkoeppe"
}
```

Yes, it looks like they are not getting installed. I'll investigate



---

archive/issue_comments_299166.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-16T23:18:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299166",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299167.json:
```json
{
    "body": "Ok, the problem with `kenzo` was a simple typo.",
    "created_at": "2020-02-16T23:20:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299167",
    "user": "mkoeppe"
}
```

Ok, the problem with `kenzo` was a simple typo.



---

archive/issue_comments_299168.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-16T23:43:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299168",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299169.json:
```json
{
    "body": "I am trying to find if there was a reason it was named `nodotest.py` (specifically the `.py` part), this is an annoyance at install time, at least on sage-on-gentoo, for no good reason when examined closely.",
    "created_at": "2020-02-17T00:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299169",
    "user": "fbissey"
}
```

I am trying to find if there was a reason it was named `nodotest.py` (specifically the `.py` part), this is an annoyance at install time, at least on sage-on-gentoo, for no good reason when examined closely.



---

archive/issue_comments_299170.json:
```json
{
    "body": "Sorry for the noise, I want to trigger the patchbot.",
    "created_at": "2020-02-17T00:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299170",
    "user": "fbissey"
}
```

Sorry for the noise, I want to trigger the patchbot.



---

archive/issue_comments_299171.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-17T00:07:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299171",
    "user": "fbissey"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_299172.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-17T00:07:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299172",
    "user": "fbissey"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_299173.json:
```json
{
    "body": "Somewhat incidental, and doing it in another ticket would be fine. `src/sage/doctest/tests` is currently not installed because there is no `__init__.py` - at least on distros. But it contains a `nodoctest.py` which is tested for. So it should really be added to `package_data` as well.",
    "created_at": "2020-02-17T01:23:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299173",
    "user": "fbissey"
}
```

Somewhat incidental, and doing it in another ticket would be fine. `src/sage/doctest/tests` is currently not installed because there is no `__init__.py` - at least on distros. But it contains a `nodoctest.py` which is tested for. So it should really be added to `package_data` as well.



---

archive/issue_comments_299174.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-17T01:32:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299174",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299175.json:
```json
{
    "body": "Next, to make it work, the cleaner of stale files needs to be tamed:\n\n```\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/__pycache__/nodoctest.cpython-37.pyc\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nodoctest.py\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/postprocess.py\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-37.pyc\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/doctest/tests/__pycache__/nodoctest.cpython-37.pyc\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/doctest/tests/nodoctest.py\n[sagelib-9.1.beta4] - cleaning build/lib.macosx-10.9-x86_64-3.7\n[sagelib-9.1.beta4] Cleaning up stale file: build/lib.macosx-10.9-x86_64-3.7/sage/ext_data/nodoctest.py\n[sagelib-9.1.beta4] Cleaning up stale file: build/lib.macosx-10.9-x86_64-3.7/sage/ext_data/nbconvert/postprocess.py\n[sagelib-9.1.beta4] Cleaning up stale file: build/lib.macosx-10.9-x86_64-3.7/sage/doctest/tests/nodoctest.py\n[sagelib-9.1.beta4] Finished cleaning, time: 0.25 seconds.\n```\n",
    "created_at": "2020-02-17T01:36:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299175",
    "user": "mkoeppe"
}
```

Next, to make it work, the cleaner of stale files needs to be tamed:

```
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/__pycache__/nodoctest.cpython-37.pyc
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nodoctest.py
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/postprocess.py
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-37.pyc
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/doctest/tests/__pycache__/nodoctest.cpython-37.pyc
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/doctest/tests/nodoctest.py
[sagelib-9.1.beta4] - cleaning build/lib.macosx-10.9-x86_64-3.7
[sagelib-9.1.beta4] Cleaning up stale file: build/lib.macosx-10.9-x86_64-3.7/sage/ext_data/nodoctest.py
[sagelib-9.1.beta4] Cleaning up stale file: build/lib.macosx-10.9-x86_64-3.7/sage/ext_data/nbconvert/postprocess.py
[sagelib-9.1.beta4] Cleaning up stale file: build/lib.macosx-10.9-x86_64-3.7/sage/doctest/tests/nodoctest.py
[sagelib-9.1.beta4] Finished cleaning, time: 0.25 seconds.
```




---

archive/issue_comments_299176.json:
```json
{
    "body": "OK I have somewhat asked on #14575 if there was any reason it was `nodoctest.py` - in particular the extension. I think we should have a separate ticket for this but the problem of `__pycache__` with `nodoctest` would be eliminated. Still leave us with `postprocess.py` but at least, that one is genuine.",
    "created_at": "2020-02-17T01:41:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299176",
    "user": "fbissey"
}
```

OK I have somewhat asked on #14575 if there was any reason it was `nodoctest.py` - in particular the extension. I think we should have a separate ticket for this but the problem of `__pycache__` with `nodoctest` would be eliminated. Still leave us with `postprocess.py` but at least, that one is genuine.



---

archive/issue_comments_299177.json:
```json
{
    "body": "I'm working on the cleaner.",
    "created_at": "2020-02-17T02:49:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299177",
    "user": "mkoeppe"
}
```

I'm working on the cleaner.



---

archive/issue_comments_299178.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-17T03:09:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299178",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299179.json:
```json
{
    "body": "Now it looks like this:\n\n```\n[sagelib-9.1.beta4] Cleaning up stale installed files....\n[sagelib-9.1.beta4] - cleaning /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/__pycache__/nodoctest.cpython-37.pyc\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-37.pyc\n[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/doctest/tests/__pycache__/nodoctest.cpython-37.pyc\n[sagelib-9.1.beta4] - cleaning build/lib.macosx-10.9-x86_64-3.7\n```\n",
    "created_at": "2020-02-17T03:14:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299179",
    "user": "mkoeppe"
}
```

Now it looks like this:

```
[sagelib-9.1.beta4] Cleaning up stale installed files....
[sagelib-9.1.beta4] - cleaning /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/__pycache__/nodoctest.cpython-37.pyc
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-37.pyc
[sagelib-9.1.beta4] Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/doctest/tests/__pycache__/nodoctest.cpython-37.pyc
[sagelib-9.1.beta4] - cleaning build/lib.macosx-10.9-x86_64-3.7
```




---

archive/issue_comments_299180.json:
```json
{
    "body": "New round of patchbot\n\n```\nsage -t --long --warn-long 286.7 src/sage/rings/function_field/function_field.py  # Timed out\nsage -t --long --warn-long 286.7 src/sage/doctest/sources.py  # 1 doctest failed\nsage -t --long --warn-long 286.7 src/sage_setup/clean.py  # 1 doctest failed\n```\n\nThe time out is strange but was already there in the previous round so there may be something about it (but what?). The testing in `doctest/sources.py` is still present even so we don't test `postprocess.py` anymore so there is something more to do somewhere in there.\nAnd lastly we have some stale files - not unexpectedly at this stage\n\n```\nsage -t --long --warn-long 286.7 src/sage_setup/clean.py\n**********************************************************************\nFile \"src/sage_setup/clean.py\", line 100, in sage_setup.clean._find_stale_files\nFailed example:\n    for f in stale_iter:\n        if f.endswith(skip_extensions): continue\n        print('Found stale file: ' + f)\nExpected nothing\nGot:\n    Found stale file: sage/doctest/tests/nodoctest.py\n    Found stale file: sage/ext_data/nodoctest.py\n    Found stale file: sage/ext_data/nbconvert/postprocess.py\n```\n",
    "created_at": "2020-02-17T23:00:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299180",
    "user": "fbissey"
}
```

New round of patchbot

```
sage -t --long --warn-long 286.7 src/sage/rings/function_field/function_field.py  # Timed out
sage -t --long --warn-long 286.7 src/sage/doctest/sources.py  # 1 doctest failed
sage -t --long --warn-long 286.7 src/sage_setup/clean.py  # 1 doctest failed
```

The time out is strange but was already there in the previous round so there may be something about it (but what?). The testing in `doctest/sources.py` is still present even so we don't test `postprocess.py` anymore so there is something more to do somewhere in there.
And lastly we have some stale files - not unexpectedly at this stage

```
sage -t --long --warn-long 286.7 src/sage_setup/clean.py
**********************************************************************
File "src/sage_setup/clean.py", line 100, in sage_setup.clean._find_stale_files
Failed example:
    for f in stale_iter:
        if f.endswith(skip_extensions): continue
        print('Found stale file: ' + f)
Expected nothing
Got:
    Found stale file: sage/doctest/tests/nodoctest.py
    Found stale file: sage/ext_data/nodoctest.py
    Found stale file: sage/ext_data/nbconvert/postprocess.py
```




---

archive/issue_comments_299181.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-19T17:01:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299181",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299182.json:
```json
{
    "body": "This doctest is now fixed.\n----\nNew commits:",
    "created_at": "2020-02-19T17:02:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299182",
    "user": "mkoeppe"
}
```

This doctest is now fixed.
----
New commits:



---

archive/issue_comments_299183.json:
```json
{
    "body": "This doctest works without problem on my machine:\n\n```\nsage -t --long src/sage/rings/function_field/function_field.py\n    [862 tests, 220.61 s]\n```\n",
    "created_at": "2020-02-19T17:08:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299183",
    "user": "mkoeppe"
}
```

This doctest works without problem on my machine:

```
sage -t --long src/sage/rings/function_field/function_field.py
    [862 tests, 220.61 s]
```




---

archive/issue_comments_299184.json:
```json
{
    "body": "There is one strange thing left:\n\n```\nrunning install\nrunning install_lib\nbyte-compiling /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/postprocess.py to postprocess.cpython-37.pyc\nrunning install_egg_info\nRemoving /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage-9.1.beta4-py3.7.egg-info\nWriting /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage-9.1.beta4-py3.7.egg-info\nCleaning up stale installed files....\n- cleaning build/lib.macosx-10.9-x86_64-3.7\n- cleaning /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages\nCleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-37.pyc\nFinished cleaning, time: 0.23 seconds.\n```\n",
    "created_at": "2020-02-19T17:09:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299184",
    "user": "mkoeppe"
}
```

There is one strange thing left:

```
running install
running install_lib
byte-compiling /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/postprocess.py to postprocess.cpython-37.pyc
running install_egg_info
Removing /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage-9.1.beta4-py3.7.egg-info
Writing /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage-9.1.beta4-py3.7.egg-info
Cleaning up stale installed files....
- cleaning build/lib.macosx-10.9-x86_64-3.7
- cleaning /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages
Cleaning up stale file: /Users/mkoeppe/s/sage/sage-rebasing/worktree-algebraic-2018-spring/local/lib/python3.7/site-packages/sage/ext_data/nbconvert/__pycache__/postprocess.cpython-37.pyc
Finished cleaning, time: 0.23 seconds.
```




---

archive/issue_comments_299185.json:
```json
{
    "body": "Real cool! Everything in the one ticket, the nodoctest stuff means that I can ditch packaging code I had to add because of QA complaints in Gentoo.\n\nWhich bit do you find strange? the stale file in `ext_data`? It looks like when you install stuff with distutils all python file are byte-compiled by default, including the ones in `package_data` (which I wasn't expecting but this is probably a blanket scan of what's installed).\n\nI think this is ready for positive review.",
    "created_at": "2020-02-19T20:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299185",
    "user": "fbissey"
}
```

Real cool! Everything in the one ticket, the nodoctest stuff means that I can ditch packaging code I had to add because of QA complaints in Gentoo.

Which bit do you find strange? the stale file in `ext_data`? It looks like when you install stuff with distutils all python file are byte-compiled by default, including the ones in `package_data` (which I wasn't expecting but this is probably a blanket scan of what's installed).

I think this is ready for positive review.



---

archive/issue_comments_299186.json:
```json
{
    "body": "Note that the byte-compiled file there is deleted by the cleaner 1 second later.\nThis could be fixed but it's not essential.",
    "created_at": "2020-02-19T20:54:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299186",
    "user": "mkoeppe"
}
```

Note that the byte-compiled file there is deleted by the cleaner 1 second later.
This could be fixed but it's not essential.



---

archive/issue_comments_299187.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-02-19T20:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299187",
    "user": "fbissey"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299188.json:
```json
{
    "body": "I'll send it to the bots as is.",
    "created_at": "2020-02-19T20:55:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299188",
    "user": "fbissey"
}
```

I'll send it to the bots as is.



---

archive/issue_comments_299189.json:
```json
{
    "body": "Thanks for reviewing!",
    "created_at": "2020-02-20T18:53:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299189",
    "user": "mkoeppe"
}
```

Thanks for reviewing!



---

archive/issue_comments_299190.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2020-02-22T12:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299190",
    "user": "vbraun"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_299191.json:
```json
{
    "body": "I'm still seeing this on the buildbot:\n\n```\n**********************************************************************\nFile \"src/sage/doctest/sources.py\", line 765, in sage.doctest.sources.FileDocTestSource._test_enough_doctests\nFailed example:\n    for path, dirs, files in itertools.chain(os.walk('sage'), os.walk('doc')): # long time\n        path = os.path.relpath(path)\n        dirs.sort(); files.sort()\n        for F in files:\n            _, ext = os.path.splitext(F)\n            if ext in ('.py', '.pyx', '.pxd', '.pxi', '.sage', '.spyx', '.rst'):\n                filename = os.path.join(path, F)\n                FDS = FileDocTestSource(filename, DocTestDefaults(long=True,optional=True))\n                FDS._test_enough_doctests(verbose=False)\nException raised:\n    Traceback (most recent call last):\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 681, in _run\n        self.compile_and_execute(example, compiler, test.globs)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py\", line 1123, in compile_and_execute\n        exec(compiled, globs)\n      File \"<doctest sage.doctest.sources.FileDocTestSource._test_enough_doctests[6]>\", line 9, in <module>\n        FDS._test_enough_doctests(verbose=False)\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/sources.py\", line 809, in _test_enough_doctests\n        tests, _ = self.create_doctests({})\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/sources.py\", line 734, in create_doctests\n        load(filename, namespace) # errors raised here will be caught in DocTestTask\n      File \"/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/repl/load.py\", line 252, in load\n        exec(code, globals)\n      File \"./postprocess.py\", line 19, in <module>\n    FileNotFoundError: [Errno 2] No such file or directory: '-p'\n**********************************************************************\n1 item had failures:\n   1 of   9 in sage.doctest.sources.FileDocTestSource._test_enough_doctests\n    [367 tests, 1 failure, 26.05 s]\n    1 memlimit not run\n----------------------------------------------------------------------\nsage -t --long src/sage/doctest/sources.py  # 1 doctest failed\n----------------------------------------------------------------------\n```\n\nAnd this one on my machine:\n\n```\n[dochtml] [installat] The HTML pages are in local/share/doc/sage/html/en/installation.\n[dochtml] Error building the documentation.\n[dochtml] Traceback (most recent call last):\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\n[dochtml]     \"__main__\", fname, loader, pkg_name)\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/runpy.py\", line 72, in _run_code\n[dochtml]     exec code in run_globals\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py\", line 2, in <module>\n[dochtml]     main()\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 1720, in main\n[dochtml]     builder()\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 336, in _wrapper\n[dochtml]     build_many(build_other_doc, L)\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py\", line 280, in build_many\n[dochtml]     _build_many(target, args, processes=NUM_THREADS)\n[dochtml]   File \"/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/utils.py\", line 283, in build_many\n[dochtml]     raise worker_exc.original_exception\n[dochtml] OSError: /home/release/Sage/src/doc/en/installation/source.rst:228: WARNING: Include file u'/home/release/Sage/src/doc/en/installation/debian.txt' not found or reading it failed\n```\n\nI'm guessing this ticket has issues with incremental builds, can you give this a try?",
    "created_at": "2020-02-22T12:59:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299191",
    "user": "vbraun"
}
```

I'm still seeing this on the buildbot:

```
**********************************************************************
File "src/sage/doctest/sources.py", line 765, in sage.doctest.sources.FileDocTestSource._test_enough_doctests
Failed example:
    for path, dirs, files in itertools.chain(os.walk('sage'), os.walk('doc')): # long time
        path = os.path.relpath(path)
        dirs.sort(); files.sort()
        for F in files:
            _, ext = os.path.splitext(F)
            if ext in ('.py', '.pyx', '.pxd', '.pxi', '.sage', '.spyx', '.rst'):
                filename = os.path.join(path, F)
                FDS = FileDocTestSource(filename, DocTestDefaults(long=True,optional=True))
                FDS._test_enough_doctests(verbose=False)
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 681, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/forker.py", line 1123, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.doctest.sources.FileDocTestSource._test_enough_doctests[6]>", line 9, in <module>
        FDS._test_enough_doctests(verbose=False)
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/sources.py", line 809, in _test_enough_doctests
        tests, _ = self.create_doctests({})
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/doctest/sources.py", line 734, in create_doctests
        load(filename, namespace) # errors raised here will be caught in DocTestTask
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.7/site-packages/sage/repl/load.py", line 252, in load
        exec(code, globals)
      File "./postprocess.py", line 19, in <module>
    FileNotFoundError: [Errno 2] No such file or directory: '-p'
**********************************************************************
1 item had failures:
   1 of   9 in sage.doctest.sources.FileDocTestSource._test_enough_doctests
    [367 tests, 1 failure, 26.05 s]
    1 memlimit not run
----------------------------------------------------------------------
sage -t --long src/sage/doctest/sources.py  # 1 doctest failed
----------------------------------------------------------------------
```

And this one on my machine:

```
[dochtml] [installat] The HTML pages are in local/share/doc/sage/html/en/installation.
[dochtml] Error building the documentation.
[dochtml] Traceback (most recent call last):
[dochtml]   File "/home/release/Sage/local/lib/python2.7/runpy.py", line 174, in _run_module_as_main
[dochtml]     "__main__", fname, loader, pkg_name)
[dochtml]   File "/home/release/Sage/local/lib/python2.7/runpy.py", line 72, in _run_code
[dochtml]     exec code in run_globals
[dochtml]   File "/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__main__.py", line 2, in <module>
[dochtml]     main()
[dochtml]   File "/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 1720, in main
[dochtml]     builder()
[dochtml]   File "/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 336, in _wrapper
[dochtml]     build_many(build_other_doc, L)
[dochtml]   File "/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/__init__.py", line 280, in build_many
[dochtml]     _build_many(target, args, processes=NUM_THREADS)
[dochtml]   File "/home/release/Sage/local/lib/python2.7/site-packages/sage_setup/docbuild/utils.py", line 283, in build_many
[dochtml]     raise worker_exc.original_exception
[dochtml] OSError: /home/release/Sage/src/doc/en/installation/source.rst:228: WARNING: Include file u'/home/release/Sage/src/doc/en/installation/debian.txt' not found or reading it failed
```

I'm guessing this ticket has issues with incremental builds, can you give this a try?



---

archive/issue_comments_299192.json:
```json
{
    "body": "I made #29233 for the documentation build issue",
    "created_at": "2020-02-22T16:05:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299192",
    "user": "vbraun"
}
```

I made #29233 for the documentation build issue



---

archive/issue_comments_299193.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-22T22:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299193",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299194.json:
```json
{
    "body": "I don't know how to reproduce this error: \n\n```\nFileNotFoundError: [Errno 2] No such file or directory: '-p'\n```\n",
    "created_at": "2020-02-22T22:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299194",
    "user": "mkoeppe"
}
```

I don't know how to reproduce this error: 

```
FileNotFoundError: [Errno 2] No such file or directory: '-p'
```




---

archive/issue_comments_299195.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-22T22:36:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299195",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_299196.json:
```json
{
    "body": "Ic ouldn't reproduce it either. I suspect this is an incremental build issue.",
    "created_at": "2020-02-22T23:52:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299196",
    "user": "fbissey"
}
```

Ic ouldn't reproduce it either. I suspect this is an incremental build issue.



---

archive/issue_comments_299197.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2020-02-24T17:14:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299197",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_299198.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2020-02-24T17:41:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299198",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_299199.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2020-02-24T17:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299199",
    "user": "mkoeppe"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_299200.json:
```json
{
    "body": "Found it, fixed. Needs review",
    "created_at": "2020-02-24T17:41:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299200",
    "user": "mkoeppe"
}
```

Found it, fixed. Needs review



---

archive/issue_comments_299201.json:
```json
{
    "body": "OK let's try it again.",
    "created_at": "2020-02-26T04:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299201",
    "user": "fbissey"
}
```

OK let's try it again.



---

archive/issue_comments_299202.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-02-26T04:31:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299202",
    "user": "fbissey"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_299203.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-02-27T23:12:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299203",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_299204.json:
```json
{
    "body": "Could you check that `.nodoctest` files are properly installed in vanilla sage? Because vanilla sage runs doctests on original sage sources (while in sage-on-gentoo it is run on the install because the sources are not available at runtime) it may have been missed.",
    "created_at": "2020-02-29T01:29:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299204",
    "user": "fbissey"
}
```

Could you check that `.nodoctest` files are properly installed in vanilla sage? Because vanilla sage runs doctests on original sage sources (while in sage-on-gentoo it is run on the install because the sources are not available at runtime) it may have been missed.



---

archive/issue_comments_299205.json:
```json
{
    "body": "This ticket messes up anyone with data in the old `src/ext` directory. Would have been nice to have some advance notice on sage-devel, you know?",
    "created_at": "2020-03-02T23:16:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299205",
    "user": "paulmasson"
}
```

This ticket messes up anyone with data in the old `src/ext` directory. Would have been nice to have some advance notice on sage-devel, you know?



---

archive/issue_comments_299206.json:
```json
{
    "body": "Let me know if you need help with resolving a merge conflict.",
    "created_at": "2020-03-02T23:53:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/21548",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/21548#issuecomment-299206",
    "user": "mkoeppe"
}
```

Let me know if you need help with resolving a merge conflict.
