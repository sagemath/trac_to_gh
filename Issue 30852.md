# Issue 30852: detect_poles puts a gap in function plots (even if there are no poles)

Issue created by migration from https://trac.sagemath.org/ticket/31089

Original creator: @DaveWitteMorris

Original creation time: 2020-12-20 20:19:43

Keywords: detect_poles, excluded point

The following plot has a (big) gap around x = 0.

```
sage: plot(x, -1, 1, detect_poles=True, plot_points=30)
Launched png viewer for Graphics object consisting of 2 graphics primitives
```

The problem is that `detect_poles` uses 0 for the default value of `exclusion_point`. To fix this, we need a default value that is not in the plotting interval. (For example, we can add 1 to the right endpoint of the interval.)


---

Comment by @DaveWitteMorris created at 2020-12-20 20:56:15

Changing status from new to needs_review.


---

Comment by @DaveWitteMorris created at 2020-12-20 20:56:15

New commits:


---

Comment by git created at 2020-12-21 00:53:57

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DaveWitteMorris created at 2020-12-21 00:57:44

Fixed 2 doctests. (These two graphs also demonstrated the bug, but it was necessary to look closely to see the gap.)


---

Comment by chapoton created at 2020-12-21 07:57:41

ok, thanks


---

Comment by chapoton created at 2020-12-21 07:57:41

Changing status from needs_review to positive_review.


---

Comment by @DaveWitteMorris created at 2020-12-21 08:03:40

Thanks!


---

Comment by vbraun created at 2020-12-27 00:22:16

Resolution: fixed
