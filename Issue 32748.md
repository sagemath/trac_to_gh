# Issue 32748: cython: Update to 0.29.25

archive/issues_032748.json:
```json
{
    "body": "CC:  mjo slelievre arojas\n\nhttps://cython.readthedocs.io/en/latest/src/changes.html#id24\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/32985\n\n",
    "created_at": "2021-12-06T19:51:33Z",
    "labels": [
        "packages: standard",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.6",
    "title": "cython: Update to 0.29.25",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32748",
    "user": "mkoeppe"
}
```
CC:  mjo slelievre arojas

https://cython.readthedocs.io/en/latest/src/changes.html#id24



Issue created by migration from https://trac.sagemath.org/ticket/32985





---

archive/issue_comments_467109.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-12-07T03:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467109",
    "user": "mkoeppe"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_467110.json:
```json
{
    "body": "New commits:",
    "created_at": "2021-12-07T03:15:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467110",
    "user": "mkoeppe"
}
```

New commits:



---

archive/issue_comments_467111.json:
```json
{
    "body": "Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?",
    "created_at": "2021-12-09T03:42:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467111",
    "user": "mkoeppe"
}
```

Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?



---

archive/issue_comments_467112.json:
```json
{
    "body": "Replying to [comment:4 mkoeppe]:\n> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?\n\nI doubt it. sage-on-gentoo works perfectly with this ticket and if it wasn't for troubles with the latest giac I would have a perfect doctest run now.",
    "created_at": "2021-12-09T09:13:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467112",
    "user": "fbissey"
}
```

Replying to [comment:4 mkoeppe]:
> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?

I doubt it. sage-on-gentoo works perfectly with this ticket and if it wasn't for troubles with the latest giac I would have a perfect doctest run now.



---

archive/issue_comments_467113.json:
```json
{
    "body": "Replying to [comment:4 mkoeppe]:\n> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?\n\nI still have no idea how to inspect the logs, unfortunately. The last few lines of the sagelib build summary don't include the actual error, and if I click \"View raw logs\" or \"Download log archive\" I only get the same summary again in plain text.",
    "created_at": "2021-12-09T10:15:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467113",
    "user": "arojas"
}
```

Replying to [comment:4 mkoeppe]:
> Is the failure on `archlinux` (https://github.com/mkoeppe/sage/runs/4439212188?check_suite_focus=true) coming from this ticket?

I still have no idea how to inspect the logs, unfortunately. The last few lines of the sagelib build summary don't include the actual error, and if I click "View raw logs" or "Download log archive" I only get the same summary again in plain text.



---

archive/issue_comments_467114.json:
```json
{
    "body": "Replying to [comment:6 arojas]:\n> I still have no idea how to inspect the logs\nsearch https://github.com/mkoeppe/sage/actions/runs/1547718702 for \"archlinux-latest-standard\", find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212), unzip downloaded file and search `logs/pkgs/sagelib-9.5.beta7.log` for \"multi_polynomial_ideal_libsingular\":\n\n```\nbuild/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp: In function \u2018PyObject* __pyx_pf_4sage_5rings_10polynomial_34multi_polynomial_ideal_libsingular_6interred_libsingular(PyObject*, PyObject*)\u2019:\nbuild/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:5142:30: error: cannot convert \u2018ip_sring*\u2019 to \u2018coeffs\u2019 {aka \u2018n_Procs_s*\u2019} 5142 |       n_Delete((&__pyx_v_n), __pyx_v_r);\n      |                              ^~~~~~~~~\n      |                              |\n      |                              ip_sring*\nIn file included from /usr/include/singular/polys/monomials/ring.h:12,\n                 from /usr/include/singular/kernel/polys.h:15,\n                 from /usr/include/singular/kernel/structs.h:25,\n                 from /usr/include/singular/Singular/libsingular.h:7,\n                 from build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:746:\n```\n",
    "created_at": "2021-12-09T11:51:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467114",
    "user": "@sheerluck"
}
```

Replying to [comment:6 arojas]:
> I still have no idea how to inspect the logs
search https://github.com/mkoeppe/sage/actions/runs/1547718702 for "archlinux-latest-standard", find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212), unzip downloaded file and search `logs/pkgs/sagelib-9.5.beta7.log` for "multi_polynomial_ideal_libsingular":

```
build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp: In function ‘PyObject* __pyx_pf_4sage_5rings_10polynomial_34multi_polynomial_ideal_libsingular_6interred_libsingular(PyObject*, PyObject*)’:
build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:5142:30: error: cannot convert ‘ip_sring*’ to ‘coeffs’ {aka ‘n_Procs_s*’} 5142 |       n_Delete((&__pyx_v_n), __pyx_v_r);
      |                              ^~~~~~~~~
      |                              |
      |                              ip_sring*
In file included from /usr/include/singular/polys/monomials/ring.h:12,
                 from /usr/include/singular/kernel/polys.h:15,
                 from /usr/include/singular/kernel/structs.h:25,
                 from /usr/include/singular/Singular/libsingular.h:7,
                 from build/cythonized/sage/rings/polynomial/multi_polynomial_ideal_libsingular.cpp:746:
```




---

archive/issue_comments_467115.json:
```json
{
    "body": "Thanks. So that would be sage picking up system singular 4.2.1.p2 while not including #32907 yet.",
    "created_at": "2021-12-09T11:53:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467115",
    "user": "arojas"
}
```

Thanks. So that would be sage picking up system singular 4.2.1.p2 while not including #32907 yet.



---

archive/issue_comments_467116.json:
```json
{
    "body": "Replying to [comment:7 gh-sheerluck]:\n> find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212)\n\nThis is what I can't figure out. Where/how do I find those artifacts?",
    "created_at": "2021-12-09T12:00:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467116",
    "user": "arojas"
}
```

Replying to [comment:7 gh-sheerluck]:
> find artifact [logs-commit-8aa40cca77cd5a44c3d370e1eebbbad46bc3546e-tox-docker-archlinux-latest-standard](https://github.com/mkoeppe/sage/suites/4574199957/artifacts/123820212)

This is what I can't figure out. Where/how do I find those artifacts?



---

archive/issue_comments_467117.json:
```json
{
    "body": "Replying to [comment:9 arojas]:\n> Where/how do I find those artifacts?\nThey are not on the page for archlinux (runs/4439212188) you get after you click column on the left, they are on \"main\" page (runs/1547718702) you get after you click **Run SAGE_ROOT/tox.ini** from https://github.com/mkoeppe/sage/actions\n\nThat is a strange Github Actions thing, I guess \u00af\\_(\u30c4)_/\u00af",
    "created_at": "2021-12-09T12:13:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467117",
    "user": "@sheerluck"
}
```

Replying to [comment:9 arojas]:
> Where/how do I find those artifacts?
They are not on the page for archlinux (runs/4439212188) you get after you click column on the left, they are on "main" page (runs/1547718702) you get after you click **Run SAGE_ROOT/tox.ini** from https://github.com/mkoeppe/sage/actions

That is a strange Github Actions thing, I guess ¯\_(ツ)_/¯



---

archive/issue_comments_467118.json:
```json
{
    "body": "Then let's get this ticket in please",
    "created_at": "2021-12-09T21:13:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467118",
    "user": "mkoeppe"
}
```

Then let's get this ticket in please



---

archive/issue_comments_467119.json:
```json
{
    "body": "Works for me :)",
    "created_at": "2021-12-09T21:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467119",
    "user": "fbissey"
}
```

Works for me :)



---

archive/issue_comments_467120.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2021-12-09T21:15:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467120",
    "user": "fbissey"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_467121.json:
```json
{
    "body": "Thanks!",
    "created_at": "2021-12-09T23:13:50Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467121",
    "user": "mkoeppe"
}
```

Thanks!



---

archive/issue_comments_467122.json:
```json
{
    "body": "Cython 0.29.26 was released.\n\n- [changes from Cython 0.29.25 to 0.29.26](https://github.com/cython/cython/compare/0.29.25...0.29.26)",
    "created_at": "2022-01-12T07:36:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467122",
    "user": "slelievre"
}
```

Cython 0.29.26 was released.

- [changes from Cython 0.29.25 to 0.29.26](https://github.com/cython/cython/compare/0.29.25...0.29.26)



---

archive/issue_comments_467123.json:
```json
{
    "body": "Maybe upgrade to Cython 0.29.27?\n\n- [Cython 0.29.27: changes since previous version](https://cython.readthedocs.io/en/latest/src/changes.html#id29)\n\nOr leave that for a follow-up ticket.",
    "created_at": "2022-01-30T18:20:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467123",
    "user": "slelievre"
}
```

Maybe upgrade to Cython 0.29.27?

- [Cython 0.29.27: changes since previous version](https://cython.readthedocs.io/en/latest/src/changes.html#id29)

Or leave that for a follow-up ticket.



---

archive/issue_comments_467124.json:
```json
{
    "body": "Follow-up ticket please",
    "created_at": "2022-01-30T19:59:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467124",
    "user": "mkoeppe"
}
```

Follow-up ticket please



---

archive/issue_comments_467125.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2022-01-31T23:30:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467125",
    "user": "vbraun"
}
```

Resolution: fixed



---

archive/issue_comments_467126.json:
```json
{
    "body": "Next update in #33305",
    "created_at": "2022-02-06T20:17:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32748",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32748#issuecomment-467126",
    "user": "mkoeppe"
}
```

Next update in #33305
