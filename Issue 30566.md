# Issue 30566: Upgrade pybind11

Issue created by migration from https://trac.sagemath.org/ticket/30803

Original creator: mkoeppe

Original creation time: 2020-10-20 17:49:41

CC:  dimpase slelievre vbraun

(from #30184)

From https://pybind11.readthedocs.io/en/latest/


```
Warning

Combining older versions of pybind11 (< 2.6.0) with the brand-new Python 3.9.0 will trigger undefined behavior that typically manifests as crashes during interpreter shutdown (but could also destroy your data. You have been warned.)

We recommend that you wait for Python 3.9.1 slated for release in December, which will include a fix that resolves this problem. In the meantime, please update to the latest version of pybind11 (2.6.0 or newer), which includes a temporary workaround specifically when Python 3.9.0 is detected at runtime.
```



---

Comment by mkoeppe created at 2020-10-20 17:52:02

2.6.0 is not released yet, but there is 2.6.0rc3, released 2020-10-16


---

Comment by mkoeppe created at 2020-10-20 17:55:05

New commits:


---

Comment by mkoeppe created at 2020-10-20 18:12:10

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-10-22 10:37:31

They have released 2.6.0: https://pypi.org/project/pybind11/2.6.0/


---

Comment by git created at 2020-10-22 15:23:47

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by mkoeppe created at 2020-10-24 15:29:59

Needs review


---

Comment by dimpase created at 2020-10-24 18:47:33

it's not related to this ticket but I see

```
2020-10-21T20:11:50.1507150Z Got:
2020-10-21T20:11:50.1507600Z     ld: warning: dylib (/usr/local/lib/libgmp.dylib) was built for newer macOS version (10.15) than being linked (10.9)
2020-10-21T20:11:50.1508320Z     ld: warning: dylib (/usr/local/lib/libmpfr.dylib) was built for newer macOS version (10.15) than being linked (10.9)
2020-10-21T20:11:50.1509050Z     ld: warning: dylib (/usr/local/lib/libgmpxx.dylib) was built for newer macOS version (10.15) than being linked (10.9)
```

in https://github.com/mkoeppe/sage/runs/1282662700?check_suite_focus=true


---

Comment by dimpase created at 2020-10-24 19:52:56

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-10-24 19:52:56

LGTM, also this: https://github.com/mkoeppe/sage/actions/runs/318265052


---

Comment by vbraun created at 2020-10-31 18:08:14

Resolution: fixed
