# Issue 34461: Fix conversion bug in modular forms rings

Issue created by migration from https://trac.sagemath.org/ticket/34698

Original creator: @DavidAyotte

Original creation time: 2022-10-28 01:26:41

CC:  vdelecroix

We currently have the following behavior:

```
sage: M = ModularFormsRing(Gamma0(2))
sage: E4 = ModularForms(1, 4).0
sage: F = M(E4)
sage: F[4].parent()
Modular Forms space of dimension 1 for Modular Group SL(2,Z) of weight 4 over Rational Field
```

The parent of `F[4]` is wrong as the group should be `Gamma0(2)`.



---

Comment by git created at 2022-10-31 03:11:35

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DavidAyotte created at 2022-10-31 03:14:43

Changing status from new to needs_review.


---

Comment by vdelecroix created at 2022-11-26 11:46:47

In your change

```diff
-                forms_dictionary = {forms_datum.weight():forms_datum}
+                forms_dictionary = {forms_datum.weight() : forms_datum}
```

the spacing is wrong. It should be "no space before and one space after".

```
forms_dictionary = {forms_datum.weight(): forms_datum}
```



---

Comment by vdelecroix created at 2022-11-26 11:48:30

See https://peps.python.org/pep-0008/


---

Comment by vdelecroix created at 2022-11-26 11:48:39

Changing status from needs_review to needs_work.


---

Comment by git created at 2022-11-26 14:11:42

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by @DavidAyotte created at 2022-11-26 14:14:45

Replying to [comment:4 Vincent Delecroix]:
> In your change
> {{{#!diff
> -                forms_dictionary = {forms_datum.weight():forms_datum}
> +                forms_dictionary = {forms_datum.weight() : forms_datum}
> }}}
> the spacing is wrong. It should be "no space before and one space after".
> {{{
> forms_dictionary = {forms_datum.weight(): forms_datum}
> }}}

My bad, thank you for pointing this out!


---

Comment by @DavidAyotte created at 2022-11-26 14:14:45

Changing status from needs_work to needs_review.


---

Comment by vdelecroix created at 2022-11-26 17:21:54

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2022-12-11 11:11:37

Resolution: fixed
