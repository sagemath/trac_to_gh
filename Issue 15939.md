# Issue 15939: Incorrect sum simplification leads to error

archive/issues_015939.json:
```json
{
    "body": "See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/qexNzA3iDzE).\n\n```\nn = var('n')\nsum(log(1-1/n^2),n,2,oo)\n```\n\nThe error is in Maxima's `simplify_sum`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16176\n\n",
    "created_at": "2014-04-17T00:48:36Z",
    "labels": [
        "component: calculus",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Incorrect sum simplification leads to error",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15939",
    "user": "https://github.com/kcrisman"
}
```
See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/qexNzA3iDzE).

```
n = var('n')
sum(log(1-1/n^2),n,2,oo)
```

The error is in Maxima's `simplify_sum`.

Issue created by migration from https://trac.sagemath.org/ticket/16176





---

archive/issue_comments_206657.json:
```json
{
    "body": "Upstream report at [Maxima bug 2722](https://sourceforge.net/p/maxima/bugs/2722/).",
    "created_at": "2014-04-17T00:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206657",
    "user": "https://github.com/kcrisman"
}
```

Upstream report at [Maxima bug 2722](https://sourceforge.net/p/maxima/bugs/2722/).



---

archive/issue_comments_206658.json:
```json
{
    "body": "Gotta love distributed work.  Already [committed in upstream](http://sourceforge.net/p/maxima/code/ci/727fe8276d410f04cc1f5503e2c873144b4d48df/tree/share/solve_rec/simplify_sum.mac?diff=3c32ce1f27c2990e2f77a3374b77f25df1390694).  (I haven't checked it works but anyway there is a commit in the right file.)\n\nSo this (eventually) needs a new Maxima package and a doctest.",
    "created_at": "2014-04-17T18:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206658",
    "user": "https://github.com/kcrisman"
}
```

Gotta love distributed work.  Already [committed in upstream](http://sourceforge.net/p/maxima/code/ci/727fe8276d410f04cc1f5503e2c873144b4d48df/tree/share/solve_rec/simplify_sum.mac?diff=3c32ce1f27c2990e2f77a3374b77f25df1390694).  (I haven't checked it works but anyway there is a commit in the right file.)

So this (eventually) needs a new Maxima package and a doctest.



---

archive/issue_events_047653.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15939#event-47653"
}
```



---

archive/issue_events_047654.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "milestone": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15939#event-47654"
}
```



---

archive/issue_events_047655.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/vbraun_spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15939#event-47655"
}
```



---

archive/issue_events_047656.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-02T14:33:18Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "milestone": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15939#event-47656"
}
```



---

archive/issue_events_047657.json:
```json
{
    "actor": "https://github.com/rwst",
    "created_at": "2015-02-02T14:33:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "milestone": "sage-6.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15939#event-47657"
}
```



---

archive/issue_comments_206659.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-02T14:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206659",
    "user": "https://github.com/rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_206660.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-02T14:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206660",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206661.json:
```json
{
    "body": "```\n+        Check that :trac:`16176` is fixed::\n+\n+            n = var('n')\n+            sum(log(1-1/n^2),n,2,oo)\n```\nI think you might have done this at a weird time of day :-) but this is correct, anyway, so I'll be sure to give this positive review once the branch looks right.  Thanks!",
    "created_at": "2015-02-03T02:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206661",
    "user": "https://github.com/kcrisman"
}
```

```
+        Check that :trac:`16176` is fixed::
+
+            n = var('n')
+            sum(log(1-1/n^2),n,2,oo)
```
I think you might have done this at a weird time of day :-) but this is correct, anyway, so I'll be sure to give this positive review once the branch looks right.  Thanks!



---

archive/issue_comments_206662.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-02-03T02:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206662",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_206663.json:
```json
{
    "body": "Also, might as well rebase to #9635 which presumably is all set but would conflict... (?)",
    "created_at": "2015-02-03T02:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206663",
    "user": "https://github.com/kcrisman"
}
```

Also, might as well rebase to #9635 which presumably is all set but would conflict... (?)



---

archive/issue_comments_206664.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-02-03T09:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206664",
    "user": "https://github.com/rwst"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_206665.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-02-03T09:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206665",
    "user": "https://github.com/rwst"
}
```

New commits:



---

archive/issue_comments_206666.json:
```json
{
    "body": "Thanks!",
    "created_at": "2015-02-03T14:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206666",
    "user": "https://github.com/kcrisman"
}
```

Thanks!



---

archive/issue_events_047658.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2015-02-08T17:35:53Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/15939#event-47658"
}
```



---

archive/issue_comments_206667.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-08T17:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206667",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
