# Issue 15939: Incorrect sum simplification leads to error

Issue created by migration from https://trac.sagemath.org/ticket/16176

Original creator: kcrisman

Original creation time: 2014-04-17 00:48:36

See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/qexNzA3iDzE).


```
n = var('n')
sum(log(1-1/n^2),n,2,oo)
```


The error is in Maxima's `simplify_sum`.


---

Comment by kcrisman created at 2014-04-17 00:49:31

Upstream report at [Maxima bug 2722](https://sourceforge.net/p/maxima/bugs/2722/).


---

Comment by kcrisman created at 2014-04-17 18:16:41

Gotta love distributed work.  Already [committed in upstream](http://sourceforge.net/p/maxima/code/ci/727fe8276d410f04cc1f5503e2c873144b4d48df/tree/share/solve_rec/simplify_sum.mac?diff=3c32ce1f27c2990e2f77a3374b77f25df1390694).  (I haven't checked it works but anyway there is a commit in the right file.)

So this (eventually) needs a new Maxima package and a doctest.


---

Comment by rws created at 2015-02-02 14:33:18

Changing status from new to needs_review.


---

Comment by git created at 2015-02-02 14:36:18

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by kcrisman created at 2015-02-03 02:06:20


```
+        Check that :trac:`16176` is fixed::
+
+            n = var('n')
+            sum(log(1-1/n^2),n,2,oo)
```

I think you might have done this at a weird time of day :-) but this is correct, anyway, so I'll be sure to give this positive review once the branch looks right.  Thanks!


---

Comment by kcrisman created at 2015-02-03 02:06:54

Changing status from needs_review to needs_work.


---

Comment by kcrisman created at 2015-02-03 02:35:35

Also, might as well rebase to #9635 which presumably is all set but would conflict... (?)


---

Comment by rws created at 2015-02-03 09:03:18

Changing status from needs_work to positive_review.


---

Comment by rws created at 2015-02-03 09:03:18

New commits:


---

Comment by kcrisman created at 2015-02-03 14:35:19

Thanks!


---

Comment by vbraun created at 2015-02-08 17:35:53

Resolution: fixed
