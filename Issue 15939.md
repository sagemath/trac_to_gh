# Issue 15939: Incorrect sum simplification leads to error

archive/issues_015939.json:
```json
{
    "body": "See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/qexNzA3iDzE).\n\n\n```\nn = var('n')\nsum(log(1-1/n^2),n,2,oo)\n```\n\n\nThe error is in Maxima's `simplify_sum`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/16176\n\n",
    "created_at": "2014-04-17T00:48:36Z",
    "labels": [
        "calculus",
        "major",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-6.5",
    "title": "Incorrect sum simplification leads to error",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/15939",
    "user": "@kcrisman"
}
```
See [this sage-support thread](https://groups.google.com/forum/#!topic/sage-support/qexNzA3iDzE).


```
n = var('n')
sum(log(1-1/n^2),n,2,oo)
```


The error is in Maxima's `simplify_sum`.

Issue created by migration from https://trac.sagemath.org/ticket/16176





---

archive/issue_comments_206931.json:
```json
{
    "body": "Upstream report at [Maxima bug 2722](https://sourceforge.net/p/maxima/bugs/2722/).",
    "created_at": "2014-04-17T00:49:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206931",
    "user": "@kcrisman"
}
```

Upstream report at [Maxima bug 2722](https://sourceforge.net/p/maxima/bugs/2722/).



---

archive/issue_comments_206932.json:
```json
{
    "body": "Gotta love distributed work.  Already [committed in upstream](http://sourceforge.net/p/maxima/code/ci/727fe8276d410f04cc1f5503e2c873144b4d48df/tree/share/solve_rec/simplify_sum.mac?diff=3c32ce1f27c2990e2f77a3374b77f25df1390694).  (I haven't checked it works but anyway there is a commit in the right file.)\n\nSo this (eventually) needs a new Maxima package and a doctest.",
    "created_at": "2014-04-17T18:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206932",
    "user": "@kcrisman"
}
```

Gotta love distributed work.  Already [committed in upstream](http://sourceforge.net/p/maxima/code/ci/727fe8276d410f04cc1f5503e2c873144b4d48df/tree/share/solve_rec/simplify_sum.mac?diff=3c32ce1f27c2990e2f77a3374b77f25df1390694).  (I haven't checked it works but anyway there is a commit in the right file.)

So this (eventually) needs a new Maxima package and a doctest.



---

archive/issue_comments_206933.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2015-02-02T14:33:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206933",
    "user": "@rwst"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_206934.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2015-02-02T14:36:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206934",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_206935.json:
```json
{
    "body": "\n```\n+        Check that :trac:`16176` is fixed::\n+\n+            n = var('n')\n+            sum(log(1-1/n^2),n,2,oo)\n```\n\nI think you might have done this at a weird time of day :-) but this is correct, anyway, so I'll be sure to give this positive review once the branch looks right.  Thanks!",
    "created_at": "2015-02-03T02:06:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206935",
    "user": "@kcrisman"
}
```


```
+        Check that :trac:`16176` is fixed::
+
+            n = var('n')
+            sum(log(1-1/n^2),n,2,oo)
```

I think you might have done this at a weird time of day :-) but this is correct, anyway, so I'll be sure to give this positive review once the branch looks right.  Thanks!



---

archive/issue_comments_206936.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2015-02-03T02:06:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206936",
    "user": "@kcrisman"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_206937.json:
```json
{
    "body": "Also, might as well rebase to #9635 which presumably is all set but would conflict... (?)",
    "created_at": "2015-02-03T02:35:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206937",
    "user": "@kcrisman"
}
```

Also, might as well rebase to #9635 which presumably is all set but would conflict... (?)



---

archive/issue_comments_206938.json:
```json
{
    "body": "Changing status from needs_work to positive_review.",
    "created_at": "2015-02-03T09:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206938",
    "user": "@rwst"
}
```

Changing status from needs_work to positive_review.



---

archive/issue_comments_206939.json:
```json
{
    "body": "New commits:",
    "created_at": "2015-02-03T09:03:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206939",
    "user": "@rwst"
}
```

New commits:



---

archive/issue_comments_206940.json:
```json
{
    "body": "Thanks!",
    "created_at": "2015-02-03T14:35:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206940",
    "user": "@kcrisman"
}
```

Thanks!



---

archive/issue_comments_206941.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2015-02-08T17:35:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/15939",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/15939#issuecomment-206941",
    "user": "@vbraun"
}
```

Resolution: fixed
