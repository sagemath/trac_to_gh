# Issue 29472: Frobenius on elliptic curves in Weierstrass form

archive/issues_029472.json:
```json
{
    "body": "CC:  @roed314 @edgarcosta\n\nThe code for computing Frobenius on a point on an elliptic curve over a p-adic field would like the elliptic curve to be in the form y<sup>2</sup> = f(x). So it should raise an error if one of a_1 or a_3 is not zero, but instead it checks if one of  a_1  or a_2 is not zero:\n\n\n```\nsage: E = EllipticCurve([0,1,0,1,1])\nsage: E\nElliptic Curve defined by y^2 = x^3 + x^2 + x + 1 over Rational Field\nsage: EK = E.change_ring(Qp(7,10))\nsage: EK.frobenius(EK(1,2))\n---------------------------------------------------------------------------\nNotImplementedError                       Traceback (most recent call last)\n<ipython-input-4-77549f6ac826> in <module>()\n----> 1 EK.frobenius(EK(Integer(1),Integer(2)))\n\n/ext/sage/sage-8.9_1804/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_padic_field.pyc in frobenius(self, P)\n     71             a1, a2, a3, a4, a6 = self.a_invariants()\n     72             if a1 != 0 or a2 != 0:\n---> 73                 raise NotImplementedError(\"Curve must be in weierstrass normal form.\")\n     74 \n     75             f = x*x*x + a2*x*x + a4*x + a6\n\nNotImplementedError: Curve must be in weierstrass normal form.\n```\n\n\nNote that one can work around this by pretending the elliptic curve is a hyperelliptic curve:\n\n\n```\nsage: R.<x> = QQ['x']\nsage: H = HyperellipticCurve(x^3 + x^2 + x + 1)\nsage: HK = H.change_ring(Qp(7,10))\nsage: HK.frobenius(HK(1,2))\n(1 + O(7^10) : 2 + O(7^10) : 1 + O(7^10))\n```\n\nso this isn't urgent, but it'd be nice to fix.\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/29709\n\n",
    "created_at": "2020-05-18T17:43:17Z",
    "labels": [
        "component: number theory",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.2",
    "title": "Frobenius on elliptic curves in Weierstrass form",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/29472",
    "user": "https://github.com/jbalakrishnan"
}
```
CC:  @roed314 @edgarcosta

The code for computing Frobenius on a point on an elliptic curve over a p-adic field would like the elliptic curve to be in the form y<sup>2</sup> = f(x). So it should raise an error if one of a_1 or a_3 is not zero, but instead it checks if one of  a_1  or a_2 is not zero:


```
sage: E = EllipticCurve([0,1,0,1,1])
sage: E
Elliptic Curve defined by y^2 = x^3 + x^2 + x + 1 over Rational Field
sage: EK = E.change_ring(Qp(7,10))
sage: EK.frobenius(EK(1,2))
---------------------------------------------------------------------------
NotImplementedError                       Traceback (most recent call last)
<ipython-input-4-77549f6ac826> in <module>()
----> 1 EK.frobenius(EK(Integer(1),Integer(2)))

/ext/sage/sage-8.9_1804/local/lib/python2.7/site-packages/sage/schemes/elliptic_curves/ell_padic_field.pyc in frobenius(self, P)
     71             a1, a2, a3, a4, a6 = self.a_invariants()
     72             if a1 != 0 or a2 != 0:
---> 73                 raise NotImplementedError("Curve must be in weierstrass normal form.")
     74 
     75             f = x*x*x + a2*x*x + a4*x + a6

NotImplementedError: Curve must be in weierstrass normal form.
```


Note that one can work around this by pretending the elliptic curve is a hyperelliptic curve:


```
sage: R.<x> = QQ['x']
sage: H = HyperellipticCurve(x^3 + x^2 + x + 1)
sage: HK = H.change_ring(Qp(7,10))
sage: HK.frobenius(HK(1,2))
(1 + O(7^10) : 2 + O(7^10) : 1 + O(7^10))
```

so this isn't urgent, but it'd be nice to fix.


Issue created by migration from https://trac.sagemath.org/ticket/29709





---

archive/issue_comments_417827.json:
```json
{
    "body": "New commits:",
    "created_at": "2020-08-11T04:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417827",
    "user": "https://github.com/alexjbest"
}
```

New commits:



---

archive/issue_comments_417828.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-08-11T04:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417828",
    "user": "https://github.com/alexjbest"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_417829.json:
```json
{
    "body": "Changing keywords from \"\" to \"padics, elliptic curves\".",
    "created_at": "2020-08-11T04:57:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417829",
    "user": "https://github.com/alexjbest"
}
```

Changing keywords from "" to "padics, elliptic curves".



---

archive/issue_comments_417830.json:
```json
{
    "body": "Looks fine to me. Once patchbot comes up green, you can set this to positive review.",
    "created_at": "2020-08-11T23:26:22Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417830",
    "user": "https://github.com/kedlaya"
}
```

Looks fine to me. Once patchbot comes up green, you can set this to positive review.



---

archive/issue_comments_417831.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-08-12T22:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417831",
    "user": "https://github.com/alexjbest"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_417832.json:
```json
{
    "body": "Thanks!",
    "created_at": "2020-08-12T22:04:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417832",
    "user": "https://github.com/alexjbest"
}
```

Thanks!



---

archive/issue_events_027214.json:
```json
{
    "actor": "@vbraun",
    "created_at": "2020-08-23T16:28:06Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/29472#event-27214"
}
```



---

archive/issue_comments_417833.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2020-08-23T16:28:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/29472",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/29472#issuecomment-417833",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
