# Issue 31311: Create matrix class for FLINT's nmod_mat module

archive/issues_031311.json:
```json
{
    "body": "CC:  edgarcosta\n\n\n\nIssue created by migration from https://trac.sagemath.org/ticket/31548\n\n",
    "created_at": "2021-03-24T15:54:33Z",
    "labels": [
        "linear algebra",
        "major",
        "enhancement"
    ],
    "title": "Create matrix class for FLINT's nmod_mat module",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/31311",
    "user": "roed"
}
```
CC:  edgarcosta



Issue created by migration from https://trac.sagemath.org/ticket/31548





---

archive/issue_comments_447599.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T16:08:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447599",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447600.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T18:28:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447600",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447601.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:03:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447601",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447602.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:45:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447602",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447603.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:47:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447603",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447604.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-24T19:49:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447604",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447605.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-25T16:41:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447605",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447606.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-26T17:17:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447606",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447607.json:
```json
{
    "body": "Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.",
    "created_at": "2021-03-27T02:13:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447607",
    "user": "mkoeppe"
}
```

Sage development has entered the release candidate phase for 9.3. Setting a new milestone for this ticket based on a cursory review of ticket status, priority, and last modification date.



---

archive/issue_comments_447608.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-03-29T21:17:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447608",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_447609.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-03-30T17:51:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447609",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447610.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-07T07:05:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447610",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447611.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-08T21:05:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447611",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447612.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-13T17:56:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447612",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447613.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-16T19:04:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447613",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447614.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-16T22:25:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447614",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447615.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-20T07:40:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447615",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447616.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-04-20T07:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447616",
    "user": "roed"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_447617.json:
```json
{
    "body": "Marking for patchbot to test....",
    "created_at": "2021-04-20T07:41:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447617",
    "user": "roed"
}
```

Marking for patchbot to test....



---

archive/issue_comments_447618.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-22T19:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447618",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447619.json:
```json
{
    "body": "If you aren't yet ready for comments, I apologize. However, I made a quick skim over things before I realized you set this as needs review for the patchbot.\n\nFor `def _change_implementation`, wouldn't it make more sense to be `cdef` or `cpdef` since it should be called entirely from internal stuff? Also, in that implementation, I don't think we should use `self.list()` for spare matrices. I also generally find using `sage.matrix.matrix_space.MatrixSpace` unstable and think it is better to have a direct import.\n\nI know you said this is for the patchbot, but it would be good to have doctests for `_solve_right_modn`. I would also add\n\n```\ncdef list X\ncdef Py_ssize_t n\n```\n\nchange\n\n```diff\n-            X = self.matrix_space(B.ncols(), self.ncols())(X)\n-            return X.T\n+            return self.matrix_space(B.ncols(), self.ncols())(X).T\n```\n\n(perhaps casting the result as a matrix too), and mark `B` as a `Matrix`.\n\nI am not sure about the name of the files being `matrix_nmod_dense` and the subsequently the name of the class. It conflicts with the `matrix_modn_*` files and I feel it is too generic given that it is for a specific implementation.\n\nWhy is `poly_crt` in the matrix file?\n\n`can't` -> `cannot` as we want to make the writing formal.\n\nIt would be good to implement a `get_is_zero_unsafe` method.",
    "created_at": "2021-04-23T01:40:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447619",
    "user": "tscrim"
}
```

If you aren't yet ready for comments, I apologize. However, I made a quick skim over things before I realized you set this as needs review for the patchbot.

For `def _change_implementation`, wouldn't it make more sense to be `cdef` or `cpdef` since it should be called entirely from internal stuff? Also, in that implementation, I don't think we should use `self.list()` for spare matrices. I also generally find using `sage.matrix.matrix_space.MatrixSpace` unstable and think it is better to have a direct import.

I know you said this is for the patchbot, but it would be good to have doctests for `_solve_right_modn`. I would also add

```
cdef list X
cdef Py_ssize_t n
```

change

```diff
-            X = self.matrix_space(B.ncols(), self.ncols())(X)
-            return X.T
+            return self.matrix_space(B.ncols(), self.ncols())(X).T
```

(perhaps casting the result as a matrix too), and mark `B` as a `Matrix`.

I am not sure about the name of the files being `matrix_nmod_dense` and the subsequently the name of the class. It conflicts with the `matrix_modn_*` files and I feel it is too generic given that it is for a specific implementation.

Why is `poly_crt` in the matrix file?

`can't` -> `cannot` as we want to make the writing formal.

It would be good to implement a `get_is_zero_unsafe` method.



---

archive/issue_comments_447620.json:
```json
{
    "body": "No problem!  I'm still working on stuff, so comments are easily incorporated.  I also realized that the patchbot won't test this since it relies on spkgs until #31069 is merged.\n\nDo you think `matrix_modn_flint` and `Matrix_modn_flint` would be better?\n\nThe `poly_crt` function is left over from an earlier implementation of `charpoly` or `minpoly` (I forget which).  I will take care of it.\n\nThanks!",
    "created_at": "2021-04-23T02:08:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447620",
    "user": "roed"
}
```

No problem!  I'm still working on stuff, so comments are easily incorporated.  I also realized that the patchbot won't test this since it relies on spkgs until #31069 is merged.

Do you think `matrix_modn_flint` and `Matrix_modn_flint` would be better?

The `poly_crt` function is left over from an earlier implementation of `charpoly` or `minpoly` (I forget which).  I will take care of it.

Thanks!



---

archive/issue_comments_447621.json:
```json
{
    "body": "Replying to [comment:23 roed]:\n> No problem!  I'm still working on stuff, so comments are easily incorporated.  I also realized that the patchbot won't test this since it relies on spkgs until #31069 is merged.\n\nYea, I didn't quite realize that either. ^^;;\n\n> Do you think `matrix_modn_flint` and `Matrix_modn_flint` would be better?\n\nThe former for the name of the file, the latter for the name of the class considering the other matrix classes in Sage.\n\nLet me know if there is anything I can do to help too.",
    "created_at": "2021-04-23T02:16:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447621",
    "user": "tscrim"
}
```

Replying to [comment:23 roed]:
> No problem!  I'm still working on stuff, so comments are easily incorporated.  I also realized that the patchbot won't test this since it relies on spkgs until #31069 is merged.

Yea, I didn't quite realize that either. ^^;;

> Do you think `matrix_modn_flint` and `Matrix_modn_flint` would be better?

The former for the name of the file, the latter for the name of the class considering the other matrix classes in Sage.

Let me know if there is anything I can do to help too.



---

archive/issue_comments_447622.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-26T18:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447622",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447623.json:
```json
{
    "body": "Replying to [comment:22 tscrim]:\n> For `def _change_implementation`, wouldn't it make more sense to be `cdef` or `cpdef` since it should be called entirely from internal stuff? Also, in that implementation, I don't think we should use `self.list()` for spare matrices. I also generally find using `sage.matrix.matrix_space.MatrixSpace` unstable and think it is better to have a direct import.\n\nEven for a 2 by 2 matrix where the calling overhead is most substantial, changing to `cpdef` makes a negligible difference:\n\n```\nsage: A = random_matrix(Zmod(120), 2)                                                                                                               \nsage: A                                                                                                                                             \n[ 32 108]\n[  2 112]\nsage: %time B = A._change_implementation(\"linbox\") # using def                                                                                                \nCPU times: user 339 \u00b5s, sys: 8 \u00b5s, total: 347 \u00b5s\nWall time: 350 \u00b5s\n```\n\n\n```\nsage: A = random_matrix(Zmod(120), 2) # using cpdef                                                                                                                                                                                                                       \nsage: %time B = A._change_implementation(\"linbox\")                                                                                                                                                                                                            \nCPU times: user 334 \u00b5s, sys: 5 \u00b5s, total: 339 \u00b5s\nWall time: 343 \u00b5s\n```\n\nI don't think it's worth the cost of recompiling everything depending on `matrix0.pxd`, and the risk of developers accidentally using `def` instead of `cpdef` on a matrix class in the future.\n\nI agree about sparse matrices, but currently in `sage.matrix.matrix_space.get_matrix_class` we don't allow the `implementation` keyword for sparse matrices, so the issue is moot.  I'd be happy to have more sparse matrices in Sage eventually, but for now there's no way to even test a version of `_change_implementation` in `Matrix_sparse`.\n\nI'm not sure what you mean by using `sage.matrix.matrix_space.MatrixSpace` unstable.  Do you mean switching to `from sage.matrix.matrix_space import MatrixSpace`?  I was just copying what's done a couple dozen lines above in `matrix2.pyx`, but I'm happy to make this change if desired.\n> \n> I know you said this is for the patchbot, but it would be good to have doctests for `_solve_right_modn`. \n\nAgreed.  I've added them.\n\n> I would also add\n> {{{\n> cdef list X\n> cdef Py_ssize_t n\n> }}}\n> change\n> {{{#!diff\n> -            X = self.matrix_space(B.ncols(), self.ncols())(X)\n> -            return X.T\n> +            return self.matrix_space(B.ncols(), self.ncols())(X).T\n> }}}\n> (perhaps casting the result as a matrix too), and mark `B` as a `Matrix`.\n\nI've added the `cdef Py_ssize_t n` since that can speed up the loop, and made the change you suggested in the diff.  I don't think it's necessary to mark `X` as a list or `B` as a matrix, since I'm not calling any functions that will benefit from knowing the types (and the runtime is surely dominated by the call to Pari's `matsolvemod`)\n\n> I am not sure about the name of the files being `matrix_nmod_dense` and the subsequently the name of the class. It conflicts with the `matrix_modn_*` files and I feel it is too generic given that it is for a specific implementation.\n\nAgreed.  I've changed it to `matrix_modn_dense_flint`.\n\n> Why is `poly_crt` in the matrix file?\n\nI've created #31731 and removed it from this ticket.\n\n> `can't` -> `cannot` as we want to make the writing formal.\n> \n> It would be good to implement a `get_is_zero_unsafe` method.\n\nBoth done.",
    "created_at": "2021-04-26T19:01:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447623",
    "user": "roed"
}
```

Replying to [comment:22 tscrim]:
> For `def _change_implementation`, wouldn't it make more sense to be `cdef` or `cpdef` since it should be called entirely from internal stuff? Also, in that implementation, I don't think we should use `self.list()` for spare matrices. I also generally find using `sage.matrix.matrix_space.MatrixSpace` unstable and think it is better to have a direct import.

Even for a 2 by 2 matrix where the calling overhead is most substantial, changing to `cpdef` makes a negligible difference:

```
sage: A = random_matrix(Zmod(120), 2)                                                                                                               
sage: A                                                                                                                                             
[ 32 108]
[  2 112]
sage: %time B = A._change_implementation("linbox") # using def                                                                                                
CPU times: user 339 µs, sys: 8 µs, total: 347 µs
Wall time: 350 µs
```


```
sage: A = random_matrix(Zmod(120), 2) # using cpdef                                                                                                                                                                                                                       
sage: %time B = A._change_implementation("linbox")                                                                                                                                                                                                            
CPU times: user 334 µs, sys: 5 µs, total: 339 µs
Wall time: 343 µs
```

I don't think it's worth the cost of recompiling everything depending on `matrix0.pxd`, and the risk of developers accidentally using `def` instead of `cpdef` on a matrix class in the future.

I agree about sparse matrices, but currently in `sage.matrix.matrix_space.get_matrix_class` we don't allow the `implementation` keyword for sparse matrices, so the issue is moot.  I'd be happy to have more sparse matrices in Sage eventually, but for now there's no way to even test a version of `_change_implementation` in `Matrix_sparse`.

I'm not sure what you mean by using `sage.matrix.matrix_space.MatrixSpace` unstable.  Do you mean switching to `from sage.matrix.matrix_space import MatrixSpace`?  I was just copying what's done a couple dozen lines above in `matrix2.pyx`, but I'm happy to make this change if desired.
> 
> I know you said this is for the patchbot, but it would be good to have doctests for `_solve_right_modn`. 

Agreed.  I've added them.

> I would also add
> {{{
> cdef list X
> cdef Py_ssize_t n
> }}}
> change
> {{{#!diff
> -            X = self.matrix_space(B.ncols(), self.ncols())(X)
> -            return X.T
> +            return self.matrix_space(B.ncols(), self.ncols())(X).T
> }}}
> (perhaps casting the result as a matrix too), and mark `B` as a `Matrix`.

I've added the `cdef Py_ssize_t n` since that can speed up the loop, and made the change you suggested in the diff.  I don't think it's necessary to mark `X` as a list or `B` as a matrix, since I'm not calling any functions that will benefit from knowing the types (and the runtime is surely dominated by the call to Pari's `matsolvemod`)

> I am not sure about the name of the files being `matrix_nmod_dense` and the subsequently the name of the class. It conflicts with the `matrix_modn_*` files and I feel it is too generic given that it is for a specific implementation.

Agreed.  I've changed it to `matrix_modn_dense_flint`.

> Why is `poly_crt` in the matrix file?

I've created #31731 and removed it from this ticket.

> `can't` -> `cannot` as we want to make the writing formal.
> 
> It would be good to implement a `get_is_zero_unsafe` method.

Both done.



---

archive/issue_comments_447624.json:
```json
{
    "body": "All tests pass in `matrix modules rings modular crypto`.  I'm happy to run tests on all of Sage if people are happy with the changes in principle.",
    "created_at": "2021-04-26T19:11:33Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447624",
    "user": "roed"
}
```

All tests pass in `matrix modules rings modular crypto`.  I'm happy to run tests on all of Sage if people are happy with the changes in principle.



---

archive/issue_comments_447625.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-04-26T19:40:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447625",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447626.json:
```json
{
    "body": "(I accidentally made a comment instead of editing the ticket description)\n----\nNew commits:",
    "created_at": "2021-04-26T19:42:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447626",
    "user": "roed"
}
```

(I accidentally made a comment instead of editing the ticket description)
----
New commits:



---

archive/issue_comments_447627.json:
```json
{
    "body": "This ticket is now actually ready for review, though the patchbot won't run currently (since it depends on #31069 which changes spkgs).",
    "created_at": "2021-04-26T19:43:01Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447627",
    "user": "roed"
}
```

This ticket is now actually ready for review, though the patchbot won't run currently (since it depends on #31069 which changes spkgs).



---

archive/issue_comments_447628.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2021-06-24T23:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447628",
    "user": "tscrim"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_447629.json:
```json
{
    "body": "Needs rebase.",
    "created_at": "2021-06-24T23:20:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447629",
    "user": "tscrim"
}
```

Needs rebase.



---

archive/issue_comments_447630.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-06-25T15:37:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447630",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_447631.json:
```json
{
    "body": "Setting a new milestone for this ticket based on a cursory review.",
    "created_at": "2021-07-19T00:44:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/31311",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/31311#issuecomment-447631",
    "user": "mkoeppe"
}
```

Setting a new milestone for this ticket based on a cursory review.
