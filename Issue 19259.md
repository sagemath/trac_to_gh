# Issue 19259: Improve FiniteStateMachine.number_of_words

Issue created by migration from https://trac.sagemath.org/ticket/19496

Original creator: cheuberg

Original creation time: 2015-10-29 08:13:53

CC:  skropf dkrenn

Improve `FiniteStateMachine.number_of_words`:
- provide a parameter `base_ring` (currently, `QQbar` is always used)
- remove `assert` statements (may produce `DivisionByZero` due to evaluation for small `n`)
- add doctest for eigenvalue zero
- compute in `base_ring` as long as possible and move to symbolic ring as late as possible
- do not compute inverses, but solve linear systems of equations


---

Comment by cheuberg created at 2015-10-31 06:09:16

Changing status from new to needs_review.


---

Comment by cheuberg created at 2015-10-31 06:09:16

New commits:


---

Comment by dkrenn created at 2015-10-31 14:46:43

LGTM, almost positive review. I've added two small commits; please cross-check. If satisfied feel free to set it to positive. 
----
New commits:


---

Comment by cheuberg created at 2015-10-31 16:44:02

Changing status from needs_review to positive_review.


---

Comment by cheuberg created at 2015-10-31 16:44:02

Replying to [comment:4 dkrenn]:
> I've added two small commits; please cross-check. If satisfied feel free to set it to positive. 

Thanks, done.


---

Comment by vbraun created at 2015-10-31 22:25:10

Resolution: fixed
