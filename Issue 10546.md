# Issue 10546: implicit_plot3d should be able to handle functions with AlgebraicNumber values

Issue created by migration from https://trac.sagemath.org/ticket/10599

Original creator: mhampton

Original creation time: 2011-01-12 06:06:03

Assignee: jason, was

Keywords: conversion, algbraicnumber, implicit_plot3d

This is an example from sage-support that should work as is, but doesn't since 1/v[1] is an AlgebraicNumber.  


```
sage: M = matrix(3,[1,-1,-1,-1,3,1,-1,1,3])
sage: v=M.eigenvalues()
sage: implicit_plot3d(x^2+y^2+z^2==1/v[1], [x,-3,3], [y,-3,3],[z,-3,3])
```


Its not clear to me where the appropriate change should be made.


---

Comment by chapoton created at 2019-02-19 12:50:01

works in 8.7.b4


---

Comment by kcrisman created at 2019-02-20 15:05:30

Changing status from new to needs_review.


---

Comment by kcrisman created at 2019-02-20 15:05:30

[Confirmed](https://sagecell.sagemath.org/?z=eJwrTkxPtVIoSyzSUK_QqdSpUtfk5SoGi_kq2CrkJpYUZVZoGOtEG-rowpCxDpgCMmLhistsffVSM9NT88oSc0pTizXgEpm5BTmZyZkl8QU5-SXGKRpl0QaxWhVxRtpl0YaxWpVghlGsVlWcka2toY5CdIWOrjHQYCCrEsqKroIwNAFy4jC4&lang=sage) with whatever version Sage cell is currently running.

worksforme resolution?  (My apologies if I forgot an accent aigu somewhere.)


---

Comment by kcrisman created at 2019-02-20 15:06:11

Changing status from needs_review to needs_info.


---

Comment by kcrisman created at 2019-02-20 15:06:11

Or do you think we should maybe put in a doctest somewhere?


---

Comment by chapoton created at 2019-02-20 15:08:07

Changing keywords from "conversion, algbraicnumber, implicit_plot3d" to "conversion, algebraicnumber, implicit_plot3d".


---

Comment by chapoton created at 2019-02-20 15:08:07

maybe a doctest would be good, yes


---

Comment by kcrisman created at 2019-02-20 16:02:28

Changing status from needs_info to needs_work.


---

Comment by kcrisman created at 2019-02-20 16:02:28

I will provide positive review if you add it somewhere in the `TESTS` section of implicit plotting.


---

Comment by chapoton created at 2019-02-20 16:43:11

done and tested
----
New commits:


---

Comment by chapoton created at 2019-02-20 16:43:11

Changing status from needs_work to needs_review.


---

Comment by kcrisman created at 2019-02-22 20:35:59

This is all just fine, thank you.

However, _if_ you have time, I noticed something weird that is pre-existing:

```diff
-    -  ``yrange`` - a 2-tuple (y_min, y_may) or a 3-tuple (y, y_min, y_may)
+    -  ``yrange`` -- a 2-tuple (y_min, y_may) or a 3-tuple (y, y_min, y_may)
 
-    -  ``zrange`` - a 2-tuple (z_min, z_maz) or a 3-tuple (z, z_min, z_maz)
+    -  ``zrange`` -- a 2-tuple (z_min, z_maz) or a 3-tuple (z, z_min, z_maz)
```

`y_may`, `z_maz`?  probably these should be `y_max`, `z_max` since it isn't `y_miy`,`z_miz`.  I guess we could open another ticket and fix it later, but that seems a bit excessive if you have this file and branch ready for edit/push.  Let me know what you think.


---

Comment by git created at 2019-02-22 20:39:44

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by chapoton created at 2019-02-22 20:40:09

ok, fixed


---

Comment by kcrisman created at 2019-02-23 02:30:49

Changing status from needs_review to positive_review.


---

Comment by kcrisman created at 2019-02-23 02:30:49

Thanks!


---

Comment by vbraun created at 2019-02-25 18:52:42

Resolution: fixed
