# Issue 27272: OpenBLAS 0.3.5 memory leak on Cygwin

Issue created by migration from https://trac.sagemath.org/ticket/27509

Original creator: embray

Original creation time: 2019-03-19 07:54:06

I discovered that part of the problem I've been having with OpenBLAS is that there is a pretty severe memory leak that gets worse any time an application with OpenBLAS loaded in it forks.

**Upstream issue:** https://github.com/xianyi/OpenBLAS/issues/2063

I already have a patch that I'll posting a PR for shortly, and would like to include in Sage.  I'm just testing the patch now with Sage.


---

Comment by embray created at 2019-03-19 15:37:47

Changing status from new to needs_review.


---

Comment by embray created at 2019-03-19 15:37:47

If we can still have this one last patch applied for 8.7 that would be ideal, as this is a fairly bad issue.  But it only especially becomes an issue when building and running the tests; probably less so in normal usage where running many subprocesses is slightly less common (except for some areas).  I can possibly apply the patch and build openblas manually if absolute need be.

----
New commits:


---

Comment by tscrim created at 2019-03-20 22:31:56

Accepted upstream, so good for Sage.


---

Comment by tscrim created at 2019-03-20 22:31:56

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-03-23 22:17:09

Changing priority from blocker to major.


---

Comment by embray created at 2019-03-25 10:05:58

Changing priority from major to blocker.


---

Comment by embray created at 2019-03-25 10:05:58

This is definitely a blocker.


---

Comment by embray created at 2019-03-25 10:07:08

If need be I can still do something manually, but as far as I'm concerned it's still a severe problem.


---

Comment by embray created at 2019-03-25 10:41:19

Moving all blocker/critical issues from 8.7 to 8.8.


---

Comment by vbraun created at 2019-03-25 19:43:31

Resolution: fixed
