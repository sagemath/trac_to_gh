# Issue 22722: series() yields wrong result depending on precision

archive/issues_022722.json:
```json
{
    "body": "CC:  rws\n\nIn the current `8.0.beta5` I get the following:\n\n\n```\nsage: f = x/(1-x^2)\nsage: f.series(x==0, 10)\n1*x^2 + 1*x^4 + 1*x^6 + 1*x^8 + Order(x^10)\nsage: f.series(x==0, 11)\n1*x + 1*x^3 + 1*x^5 + 1*x^7 + 1*x^9 + Order(x^11)\n```\n\n\nThis seems to be a regression from somewhere between `sage-7.5` (where the result is still correct) and `sage-7.6`.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22959\n\n",
    "created_at": "2017-05-08T13:20:25Z",
    "labels": [
        "calculus",
        "blocker",
        "bug"
    ],
    "title": "series() yields wrong result depending on precision",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22722",
    "user": "behackl"
}
```
CC:  rws

In the current `8.0.beta5` I get the following:


```
sage: f = x/(1-x^2)
sage: f.series(x==0, 10)
1*x^2 + 1*x^4 + 1*x^6 + 1*x^8 + Order(x^10)
sage: f.series(x==0, 11)
1*x + 1*x^3 + 1*x^5 + 1*x^7 + 1*x^9 + Order(x^11)
```


This seems to be a regression from somewhere between `sage-7.5` (where the result is still correct) and `sage-7.6`.

Issue created by migration from https://trac.sagemath.org/ticket/22959





---

archive/issue_comments_317246.json:
```json
{
    "body": "As this means that `series` delivers a mathematically wrong result, I've set the priority to `blocker` (and this should *really* be fixed before `8.0`).",
    "created_at": "2017-05-08T13:21:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317246",
    "user": "behackl"
}
```

As this means that `series` delivers a mathematically wrong result, I've set the priority to `blocker` (and this should *really* be fixed before `8.0`).



---

archive/issue_comments_317247.json:
```json
{
    "body": "https://github.com/pynac/pynac/issues/246",
    "created_at": "2017-05-09T05:35:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317247",
    "user": "rws"
}
```

https://github.com/pynac/pynac/issues/246



---

archive/issue_comments_317248.json:
```json
{
    "body": "Nice work!",
    "created_at": "2017-05-09T15:52:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317248",
    "user": "kcrisman"
}
```

Nice work!



---

archive/issue_comments_317249.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2017-05-25T07:06:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317249",
    "user": "rws"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_317250.json:
```json
{
    "body": "New commits:",
    "created_at": "2017-05-25T07:06:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317250",
    "user": "rws"
}
```

New commits:



---

archive/issue_comments_317251.json:
```json
{
    "body": "Thanks a lot for your work, Ralf! Patch LGTM, I'm happy to set this to `positive_review` as soon as the patchbot tested it.",
    "created_at": "2017-05-25T07:42:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317251",
    "user": "behackl"
}
```

Thanks a lot for your work, Ralf! Patch LGTM, I'm happy to set this to `positive_review` as soon as the patchbot tested it.



---

archive/issue_comments_317252.json:
```json
{
    "body": "For your information, the best way to have a patchbot run immediatly on your prefered ticket is to launch your own patchbot yourself on this ticket...",
    "created_at": "2017-05-25T09:07:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317252",
    "user": "chapoton"
}
```

For your information, the best way to have a patchbot run immediatly on your prefered ticket is to launch your own patchbot yourself on this ticket...



---

archive/issue_comments_317253.json:
```json
{
    "body": "Replying to [comment:8 chapoton]:\n> For your information, the best way to have a patchbot run immediatly on your prefered ticket is to launch your own patchbot yourself on this ticket...\n\nUsually I'd do that, thanks. :-)\n\nHowever, I'm at a conference and have a very unstable internet connection, so I don't want to build the latest beta on my laptop. And as of a rather unlucky coincidence, my VPN connection to our university servers does not work either, so I also can't start the patchbot we have there.",
    "created_at": "2017-05-25T09:23:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317253",
    "user": "behackl"
}
```

Replying to [comment:8 chapoton]:
> For your information, the best way to have a patchbot run immediatly on your prefered ticket is to launch your own patchbot yourself on this ticket...

Usually I'd do that, thanks. :-)

However, I'm at a conference and have a very unstable internet connection, so I don't want to build the latest beta on my laptop. And as of a rather unlucky coincidence, my VPN connection to our university servers does not work either, so I also can't start the patchbot we have there.



---

archive/issue_comments_317254.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2017-05-27T06:08:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317254",
    "user": "behackl"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_317255.json:
```json
{
    "body": "Running `make ptestlong` on my laptop lets the test run through, except for being stuck on the `has_mathematica()`-call in `src/sage/doctest/external.py`. I don't think that this problem is related to the changes on this ticket, so this is `positive_review` from me.",
    "created_at": "2017-05-27T06:08:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317255",
    "user": "behackl"
}
```

Running `make ptestlong` on my laptop lets the test run through, except for being stuck on the `has_mathematica()`-call in `src/sage/doctest/external.py`. I don't think that this problem is related to the changes on this ticket, so this is `positive_review` from me.



---

archive/issue_comments_317256.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2017-05-27T23:42:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22722",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22722#issuecomment-317256",
    "user": "vbraun"
}
```

Resolution: fixed
