# Issue 22722: series() yields wrong result depending on precision

Issue created by migration from https://trac.sagemath.org/ticket/22959

Original creator: behackl

Original creation time: 2017-05-08 13:20:25

CC:  rws

In the current `8.0.beta5` I get the following:


```
sage: f = x/(1-x^2)
sage: f.series(x==0, 10)
1*x^2 + 1*x^4 + 1*x^6 + 1*x^8 + Order(x^10)
sage: f.series(x==0, 11)
1*x + 1*x^3 + 1*x^5 + 1*x^7 + 1*x^9 + Order(x^11)
```


This seems to be a regression from somewhere between `sage-7.5` (where the result is still correct) and `sage-7.6`.


---

Comment by behackl created at 2017-05-08 13:21:53

As this means that `series` delivers a mathematically wrong result, I've set the priority to `blocker` (and this should *really* be fixed before `8.0`).


---

Comment by rws created at 2017-05-09 05:35:37

https://github.com/pynac/pynac/issues/246


---

Comment by kcrisman created at 2017-05-09 15:52:08

Nice work!


---

Comment by rws created at 2017-05-25 07:06:44

Changing status from new to needs_review.


---

Comment by rws created at 2017-05-25 07:06:44

New commits:


---

Comment by behackl created at 2017-05-25 07:42:08

Thanks a lot for your work, Ralf! Patch LGTM, I'm happy to set this to `positive_review` as soon as the patchbot tested it.


---

Comment by chapoton created at 2017-05-25 09:07:35

For your information, the best way to have a patchbot run immediatly on your prefered ticket is to launch your own patchbot yourself on this ticket...


---

Comment by behackl created at 2017-05-25 09:23:38

Replying to [comment:8 chapoton]:
> For your information, the best way to have a patchbot run immediatly on your prefered ticket is to launch your own patchbot yourself on this ticket...

Usually I'd do that, thanks. :-)

However, I'm at a conference and have a very unstable internet connection, so I don't want to build the latest beta on my laptop. And as of a rather unlucky coincidence, my VPN connection to our university servers does not work either, so I also can't start the patchbot we have there.


---

Comment by behackl created at 2017-05-27 06:08:12

Changing status from needs_review to positive_review.


---

Comment by behackl created at 2017-05-27 06:08:12

Running `make ptestlong` on my laptop lets the test run through, except for being stuck on the `has_mathematica()`-call in `src/sage/doctest/external.py`. I don't think that this problem is related to the changes on this ticket, so this is `positive_review` from me.


---

Comment by vbraun created at 2017-05-27 23:42:26

Resolution: fixed
