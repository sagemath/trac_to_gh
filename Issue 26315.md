# Issue 26315: glucose SAT solver as optional package

Issue created by migration from Trac.

Original creator: slabbe

Original creation time: 2018-10-25 14:05:12

Glucose SAT solver webpage: https://www.labri.fr/perso/lsimon/glucose/

Tarball: https://www.labri.fr/perso/lsimon/downloads/softwares/glucose-syrup-4.1.tgz

Example:


```
sage: solver = SAT('glucose')
sage: solver.add_clause( (1,2,-3) )
sage: solver()
(None, True, False, False)
```


I need to change the `sage-spkg` script since the package name contains a `-`.


---

Comment by tmonteil created at 2018-10-25 18:07:32

I guess this is a duplicate of #26361.


---

Comment by slabbe created at 2018-10-25 18:22:00

Merde, je l'avais pas vu passer. If you agree I will move my changes to your ticket on top of your commits.


---

Comment by tmonteil created at 2018-10-25 18:43:25

Replying to [comment:2 slabbe]:
> Merde, je l'avais pas vu passer. If you agree I will move my changes to your ticket on top of your commits.

Honestly, i wanted to touch the rest of the code minimally (of course the existing interface has to be fixed), because i first want to write a better interface, so that we can call tons of solvers without having to write a dedicated class for each (i would like to have a kind of database of available solvers in a json file, and you can solve the same problem with various solvers without having to rewrite the clauses as it is the case currently, i mean the problem will be defined independently of the solver when possible). In particular, i did not add a class for glucose-syrup to avoid useless back-work.

By the way, note that your code will not work for problems with lots of variables, since in such cases glucose-syrup will split the solution into many lines, hence the glucose parser has to be adapted. If you really want that feature for the short term, i can add my parser for it (it is written already, so there is no work on my side).

Please tell me what are your global plans about so that we can synchronize our whishes (for example, i plan to add an `__iter__` method to loop over every solutions, etc).


---

Comment by slabbe created at 2018-10-25 19:37:01

Updating the goal of this ticket because its original goal was already done in #26361


---

Comment by slabbe created at 2018-10-25 19:39:43

Readding the interface to glucose-syrup (not working) because it writes an empty file to the output. I asked the question to Laurent Simon and I am waiting for an answer.
----
New commits:


---

Comment by slabbe created at 2018-10-25 19:43:49

Replying to [comment:3 tmonteil]:
> Please tell me what are your global plans about so that we can synchronize our whishes (for example, i plan to add an `__iter__` method to loop over every solutions, etc).

All my code is online now either here or on #26361. I also want a global interface to exist. This is why I added the possibility to `SAT('glucose')` in #26361 (if you agree, and if this does not interfere with your global plan). Also, this is why I am adding the possibility to `SAT('glucose-syrup')` here in this ticket.

Is the commit `45645d1` a problem for the goal your are aiming?


---

Comment by git created at 2018-10-25 20:07:33

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by slabbe created at 2018-10-25 20:08:18

updated commit message (26361->26552)


---

Comment by slabbe created at 2018-11-08 09:12:29

Changing keywords from "" to "thursdaysbdx".


---

Comment by tmonteil created at 2019-05-26 15:16:37

Changing status from new to needs_review.


---

Comment by tmonteil created at 2019-05-26 15:16:37

New commits:


---

Comment by chapoton created at 2019-05-26 16:22:23

please fix the python3-incompatible code, see patchbot plugin reports


---

Comment by git created at 2019-05-26 19:32:59

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by tmonteil created at 2019-05-26 19:34:21

Replying to [comment:13 chapoton]:
> please fix the python3-incompatible code, see patchbot plugin reports

Done. Actually, there was no real reason to catch (and hide) an error that should not appear.


---

Comment by slabbe created at 2019-05-28 18:50:20

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-06-02 22:04:37

Resolution: fixed
