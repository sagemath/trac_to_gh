# Issue 21418: Return (d/dn)f with f(n,x).diff(n) instead of runtime error

Issue created by migration from https://trac.sagemath.org/ticket/21655

Original creator: rws

Original creation time: 2016-10-06 06:46:48

Expected behaviour:

```
sage: hermite(n,x).diff(n)
diff(hermite(n, x), n)
```

for all cases where we throw runtime or not implemented errors at the moment. This concerns mostly orthogonal poly functions. The aim is a better workflow for the user, with no interrupts.


---

Comment by mafra created at 2016-10-08 14:43:29

Do you have an idea about what needs to be done in case someone decides to work on this? Ie, some tips about how to start?


---

Comment by rws created at 2016-10-09 07:58:07

The runtime errors are partly thrown in Pynac, they should return `fderivative` instead like is done with anonymous functions:

```
sage: f=function('f')(x)
sage: diff(f,x)
diff(f(x), x)
sage: _._dbgprinttree()
fderivative f @0x3dc6b00, hash=0x1023d72de5409a, flags=0xb, nops=1, params=0
    x (symbol) @0x3049d20, serial=5, hash=0xf0a9622e, flags=0xf, domain=0, iflags=0000000000000000
    =====
```

The others are errors thrown in Python. I'm not sure which will be simple to change.


---

Comment by rws created at 2018-03-25 08:15:39

May depend on #24861.
