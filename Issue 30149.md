# Issue 30149: Graphs: added distance-regular classical parameters graphs

Issue created by migration from https://trac.sagemath.org/ticket/30386

Original creator: @Ivo-Maffei

Original creation time: 2020-08-18 12:15:47

CC:  dimpase

Grouped all known (or almost) distance-regular graphs with classical parameters into a function that is used by `graphs.distance_regular_graph`.


---

Comment by @Ivo-Maffei created at 2020-08-18 12:22:30

Changing status from new to needs_review.


---

Comment by dimpase created at 2020-09-16 18:56:53

please rebase


---

Comment by git created at 2020-09-17 09:05:22

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:


---

Comment by dimpase created at 2020-09-22 17:35:05

looks good to me.


---

Comment by dimpase created at 2020-09-22 17:35:05

Changing status from needs_review to positive_review.


---

Comment by dimpase created at 2020-12-15 14:30:33

needs a careful merge over #30356


---

Comment by dimpase created at 2020-12-15 14:30:33

Changing status from positive_review to needs_work.


---

Comment by dimpase created at 2020-12-15 15:52:37

Last 10 new commits:


---

Comment by dimpase created at 2020-12-15 15:52:37

Changing status from needs_work to positive_review.


---

Comment by vbraun created at 2020-12-26 17:46:32

I'm getting this on some but not all buildbots:

```
**********************************************************************
File "src/sage/graphs/generators/distance_regular.pyx", line 2098, in sage.graphs.generators.distance_regular.graph_with_classical_parameters
Failed example:
    graph_with_classical_parameters(3, -2, -2, 6, 6)
Exception raised:
    Traceback (most recent call last):
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 714, in _run
        self.compile_and_execute(example, compiler, test.globs)
      File "/Users/buildbot-sage/slave/sage_git/build/local/lib/python3.8/site-packages/sage/doctest/forker.py", line 1133, in compile_and_execute
        exec(compiled, globs)
      File "<doctest sage.graphs.generators.distance_regular.graph_with_classical_parameters[12]>", line 1, in <module>
        graph_with_classical_parameters(Integer(3), -Integer(2), -Integer(2), Integer(6), Integer(6))
      File "sage/graphs/generators/distance_regular.pyx", line 2133, in sage.graphs.generators.distance_regular.graph_with_classical_parameters (build/cythonized/sage/graphs/generators/distance_regular.c:33840)
        return GeneralisedHexagonGraph(q, q**3)
      File "sage/graphs/generators/distance_regular.pyx", line 1616, in sage.graphs.generators.distance_regular.GeneralisedHexagonGraph (build/cythonized/sage/graphs/generators/distance_regular.c:26900)
        G = Graph(libgap.Orbit(group, [1, 2], libgap.OnSets),
      File "sage/libs/gap/element.pyx", line 2525, in sage.libs.gap.element.GapElement_Function.__call__ (build/cythonized/sage/libs/gap/element.c:19780)
        sig_on()
    sage.libs.gap.util.GAPError: Error, no method found! Error, no 1st choice method found for `GeneratorsOfMagmaWithInverses' on 1 arguments
    The 1st argument is 'fail' which might point to an earlier problem
**********************************************************************
1 item had failures:
   1 of  14 in sage.graphs.generators.distance_regular.graph_with_classical_parameters
    [208 tests, 1 failure, 219.10 s]
```



---

Comment by vbraun created at 2020-12-26 17:46:32

Changing status from positive_review to needs_work.


---

Comment by git created at 2020-12-27 23:22:29

Branch pushed to git repo; I updated commit sha1. New commits:


---

Comment by dimpase created at 2020-12-27 23:33:57

Changing status from needs_work to positive_review.


---

Comment by dimpase created at 2020-12-27 23:33:57

the optional tag has to be there too.


---

Comment by vbraun created at 2020-12-28 23:34:27

Resolution: fixed
