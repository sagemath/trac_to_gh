# Issue 27834: global_height does not accept an AlgebraicRealField, UniversalCyclotomic

Issue created by migration from https://trac.sagemath.org/ticket/28071

Original creator: @Loops7

Original creation time: 2019-06-27 13:52:20

CC:  bhutz

Keywords: SI2019

Currently we cannot calculate the global height of an element that is not already an explicit element of QQ, QQbar, or NumberField. For example,


```
P.<x,y> = ProjectiveSpace(AlgebraicRealField(), 1)
Q = P(10)
Q.global_height()
```


currently fails, when we should be able to calculate the global heights for a point in any field that can be embedded into QQbar. We use coercion to QQbar in the global_heights function to solve this problem. There are also numerous instances in the projective_ds file where a check is made on the base field for the sole purpose of safely calling the global_height() function. We have removed these checks in favor of a single check in the global_height function.


---

Comment by @Loops7 created at 2019-06-27 13:57:58

New commits:


---

Comment by @Loops7 created at 2019-06-27 14:51:01

Changing status from new to needs_review.


---

Comment by @ksldr created at 2019-06-27 14:52:19

Changing status from needs_review to positive_review.


---

Comment by bhutz created at 2019-07-09 14:24:23

Two questions here:

1) Can the new ``except'' trap a specific error?

2) It would be better if the example had elements actually in the field you are defining instead of just over QQ.


---

Comment by bhutz created at 2019-07-09 14:24:23

Changing status from positive_review to needs_work.


---

Comment by vbraun created at 2019-07-10 01:31:09

Resolution: fixed


---

Comment by vbraun created at 2019-07-10 01:33:08

Resolution changed from fixed to 


---

Comment by vbraun created at 2019-07-10 01:33:08

Changing status from closed to new.


---

Comment by @Torrencem created at 2019-07-25 13:49:24

Changing status from new to needs_review.


---

Comment by @Torrencem created at 2019-07-25 13:49:24

The latest commit should fix these issues Ben
----
New commits:


---

Comment by bhutz created at 2019-07-25 18:17:49

Changing status from needs_review to positive_review.


---

Comment by vbraun created at 2019-07-29 21:54:28

Resolution: fixed
