# Issue 22422: Set LC_ALL=C to build PDF docs on OS X

archive/issues_022422.json:
```json
{
    "body": "CC:  slelievre\n\nRunning `make doc-pdf` fails to build the Russian tutorial on OS X because of some `sed` issue:\n\n```\n[docpdf] Underfull \\hbox (badness 10000) in paragraph at lines 300--300\n[docpdf]\n[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/cyrillic/t2acmss.fd)<<ot1.cmap>><\n[docpdf] <oml.cmap>><<oms.cmap>><<omx.cmap>>\n[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/amsfonts/umsa.fd)\n[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/amsfonts/umsb.fd)\n[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/jknapltx/ursfs.fd) [1{/usr/local/\n[docpdf] texlive/2016/texmf-var/fonts/map/pdftex/updmap/pdftex.map}] [2]\n[docpdf] (./SageTutorial_ru.toc [1]) [2]\n[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/base/t1cmss.fd)pdfTeX warning (ex\n[docpdf] t4): destination with the same identifier (name{page.1}) has been already used,\n[docpdf]  duplicate ignored\n[docpdf] <to be read again>\n[docpdf]                    \\relax\n[docpdf] l.317 \\chapter\n[docpdf]               {\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435} [1]pdfTeX warning (ext4): destination with the\n[docpdf]  same identifier (name{page.2}) has been already used, duplicate ignored\n[docpdf] <to be read again>\n[docpdf]                    \\relax\n[docpdf] l.317 \\chapter\n[docpdf]               {\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435} [2]\n[docpdf] {\\cyrillictext \\CYRG \\cyrl \\cyra \\cyrv \\cyra } 1.\n[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/cyrillic/t2acmtt.fd)\n[docpdf] Overfull \\vbox (2.56999pt too high) detected at line 370\n[docpdf] [3]\n[docpdf] Overfull \\hbox (50.76181pt too wide) in paragraph at lines 407--411\n[docpdf] []\\T2A/cmr/m/n/10 ???????????? ?? ??-????-??-??-??? SageTeX ??-??-???-?? ? \\T2A\n[docpdf] /cmtt/m/n/10 $SAGE_ROOT/local/share/texmf/tex/latex/sagetex/\n[docpdf]\n[docpdf] Underfull \\hbox (badness 5878) in paragraph at lines 407--411\n[docpdf] \\T2A/cmr/m/n/10 , ??? ``\\T2A/cmtt/m/n/10 $SAGE_ROOT \\T2A/cmr/m/n/10 '' ??-??-??\nsed: RE error: illegal byte sequence\nmake[1]: *** [doc-pdf] Error 1\n```\n\nThis can be fixed by running `LC_ALL make doc-pdf` instead of `make doc-pdf`. We should set this variable automatically somewhere.\n\nIssue created by migration from https://trac.sagemath.org/ticket/22659\n\n",
    "created_at": "2017-03-21T00:01:47Z",
    "labels": [
        "documentation",
        "minor",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Set LC_ALL=C to build PDF docs on OS X",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/22422",
    "user": "jhpalmieri"
}
```
CC:  slelievre

Running `make doc-pdf` fails to build the Russian tutorial on OS X because of some `sed` issue:

```
[docpdf] Underfull \hbox (badness 10000) in paragraph at lines 300--300
[docpdf]
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/cyrillic/t2acmss.fd)<<ot1.cmap>><
[docpdf] <oml.cmap>><<oms.cmap>><<omx.cmap>>
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/amsfonts/umsa.fd)
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/amsfonts/umsb.fd)
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/jknapltx/ursfs.fd) [1{/usr/local/
[docpdf] texlive/2016/texmf-var/fonts/map/pdftex/updmap/pdftex.map}] [2]
[docpdf] (./SageTutorial_ru.toc [1]) [2]
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/base/t1cmss.fd)pdfTeX warning (ex
[docpdf] t4): destination with the same identifier (name{page.1}) has been already used,
[docpdf]  duplicate ignored
[docpdf] <to be read again>
[docpdf]                    \relax
[docpdf] l.317 \chapter
[docpdf]               {Введение} [1]pdfTeX warning (ext4): destination with the
[docpdf]  same identifier (name{page.2}) has been already used, duplicate ignored
[docpdf] <to be read again>
[docpdf]                    \relax
[docpdf] l.317 \chapter
[docpdf]               {Введение} [2]
[docpdf] {\cyrillictext \CYRG \cyrl \cyra \cyrv \cyra } 1.
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/cyrillic/t2acmtt.fd)
[docpdf] Overfull \vbox (2.56999pt too high) detected at line 370
[docpdf] [3]
[docpdf] Overfull \hbox (50.76181pt too wide) in paragraph at lines 407--411
[docpdf] []\T2A/cmr/m/n/10 ???????????? ?? ??-????-??-??-??? SageTeX ??-??-???-?? ? \T2A
[docpdf] /cmtt/m/n/10 $SAGE_ROOT/local/share/texmf/tex/latex/sagetex/
[docpdf]
[docpdf] Underfull \hbox (badness 5878) in paragraph at lines 407--411
[docpdf] \T2A/cmr/m/n/10 , ??? ``\T2A/cmtt/m/n/10 $SAGE_ROOT \T2A/cmr/m/n/10 '' ??-??-??
sed: RE error: illegal byte sequence
make[1]: *** [doc-pdf] Error 1
```

This can be fixed by running `LC_ALL make doc-pdf` instead of `make doc-pdf`. We should set this variable automatically somewhere.

Issue created by migration from https://trac.sagemath.org/ticket/22659





---

archive/issue_comments_312371.json:
```json
{
    "body": "is this still relevant?",
    "created_at": "2020-09-15T12:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22422#issuecomment-312371",
    "user": "dimpase"
}
```

is this still relevant?



---

archive/issue_comments_312372.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2020-09-15T12:04:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22422#issuecomment-312372",
    "user": "dimpase"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_312373.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2020-09-15T20:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22422#issuecomment-312373",
    "user": "jhpalmieri"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_312374.json:
```json
{
    "body": "I don't think so.",
    "created_at": "2020-09-15T20:31:11Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22422#issuecomment-312374",
    "user": "jhpalmieri"
}
```

I don't think so.



---

archive/issue_comments_312375.json:
```json
{
    "body": "Resolution: worksforme",
    "created_at": "2020-10-11T22:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22422#issuecomment-312375",
    "user": "slelievre"
}
```

Resolution: worksforme



---

archive/issue_comments_312376.json:
```json
{
    "body": "Changing keywords from \"\" to \"docpdf\".",
    "created_at": "2020-10-11T22:36:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/22422",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/22422#issuecomment-312376",
    "user": "slelievre"
}
```

Changing keywords from "" to "docpdf".
