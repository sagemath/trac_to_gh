# Issue 22422: Set LC_ALL=C to build PDF docs on OS X

Issue created by migration from https://trac.sagemath.org/ticket/22659

Original creator: jhpalmieri

Original creation time: 2017-03-21 00:01:47

CC:  slelievre

Running `make doc-pdf` fails to build the Russian tutorial on OS X because of some `sed` issue:

```
[docpdf] Underfull \hbox (badness 10000) in paragraph at lines 300--300
[docpdf]
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/cyrillic/t2acmss.fd)<<ot1.cmap>><
[docpdf] <oml.cmap>><<oms.cmap>><<omx.cmap>>
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/amsfonts/umsa.fd)
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/amsfonts/umsb.fd)
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/jknapltx/ursfs.fd) [1{/usr/local/
[docpdf] texlive/2016/texmf-var/fonts/map/pdftex/updmap/pdftex.map}] [2]
[docpdf] (./SageTutorial_ru.toc [1]) [2]
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/base/t1cmss.fd)pdfTeX warning (ex
[docpdf] t4): destination with the same identifier (name{page.1}) has been already used,
[docpdf]  duplicate ignored
[docpdf] <to be read again>
[docpdf]                    \relax
[docpdf] l.317 \chapter
[docpdf]               {Введение} [1]pdfTeX warning (ext4): destination with the
[docpdf]  same identifier (name{page.2}) has been already used, duplicate ignored
[docpdf] <to be read again>
[docpdf]                    \relax
[docpdf] l.317 \chapter
[docpdf]               {Введение} [2]
[docpdf] {\cyrillictext \CYRG \cyrl \cyra \cyrv \cyra } 1.
[docpdf] (/usr/local/texlive/2016/texmf-dist/tex/latex/cyrillic/t2acmtt.fd)
[docpdf] Overfull \vbox (2.56999pt too high) detected at line 370
[docpdf] [3]
[docpdf] Overfull \hbox (50.76181pt too wide) in paragraph at lines 407--411
[docpdf] []\T2A/cmr/m/n/10 ???????????? ?? ??-????-??-??-??? SageTeX ??-??-???-?? ? \T2A
[docpdf] /cmtt/m/n/10 $SAGE_ROOT/local/share/texmf/tex/latex/sagetex/
[docpdf]
[docpdf] Underfull \hbox (badness 5878) in paragraph at lines 407--411
[docpdf] \T2A/cmr/m/n/10 , ??? ``\T2A/cmtt/m/n/10 $SAGE_ROOT \T2A/cmr/m/n/10 '' ??-??-??
sed: RE error: illegal byte sequence
make[1]: *** [doc-pdf] Error 1
```

This can be fixed by running `LC_ALL make doc-pdf` instead of `make doc-pdf`. We should set this variable automatically somewhere.


---

Comment by dimpase created at 2020-09-15 12:04:32

is this still relevant?


---

Comment by dimpase created at 2020-09-15 12:04:32

Changing status from new to needs_review.


---

Comment by jhpalmieri created at 2020-09-15 20:31:11

Changing status from needs_review to positive_review.


---

Comment by jhpalmieri created at 2020-09-15 20:31:11

I don't think so.


---

Comment by slelievre created at 2020-10-11 22:36:12

Resolution: worksforme


---

Comment by slelievre created at 2020-10-11 22:36:12

Changing keywords from "" to "docpdf".
