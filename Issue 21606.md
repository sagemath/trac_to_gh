# Issue 21606: Update the .cython_version format to include all cythonize options

Issue created by migration from https://trac.sagemath.org/ticket/21843

Original creator: embray

Original creation time: 2016-11-08 15:57:43

As discussed beginning [comment:20:ticket:21682 here], the current `.cython_version` stamp does not always accurately reflect all Cython build options which, if changed, should trigger a rebuild of Cython sources.

It would be good to have a more detailed `.cython_version` that includes all arguments to `cythonize()` and perhaps all `Cython.Compiler.Options`.

Although the values of these options are generally simple types, the `compiler_directives` dict alone makes this data structure complicated enough that an ad hoc format like the one currently used is not justified--instead a json-formatted file should work.


---

Comment by embray created at 2016-12-21 15:51:44

Set assignee to embray.


---

Comment by jdemeyer created at 2017-04-19 14:35:56

New commits:


---

Comment by jdemeyer created at 2017-04-19 14:35:56

Changing status from new to needs_review.


---

Comment by embray created at 2017-04-20 12:21:05

Thanks--straightforward enough.


---

Comment by embray created at 2017-04-20 12:21:05

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2017-04-20 13:04:44

*cough cough*


---

Comment by vbraun created at 2017-04-25 17:40:10

Resolution: fixed
