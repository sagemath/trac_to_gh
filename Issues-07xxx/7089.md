# Issue 7089: refactor SAGE_ROOT/makefile

archive/issues_007089.json:
```json
{
    "body": "I've been editing the root makefile while working on a couple tickets, and I have a deep urge to refactor repetitive, boilerplate code. In SAGE_ROOT/makefile, there are many sequences of commands that are repeated in multiple targets.\n\nThe attached patch puts the repetitive bits into variables that can easily be customized later by editing only one thing in the makefile, instead of multiple things.\n\nI'd also like to consider removing the \"install\" and \"gmp\" targets in the makefile. I suspect no one ever uses them.\n\n**Assignee:** @dandrake\n\n**Keywords:** makefile\n\n**Author:** Dan Drake\n\n**Reviewer:** Tim Dumol\n\n**Merged:** sage-4.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/7089\n\n",
    "closed_at": "2009-10-16T09:02:23Z",
    "created_at": "2009-10-01T03:39:26Z",
    "labels": [
        "component: build",
        "minor",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.2",
    "title": "refactor SAGE_ROOT/makefile",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7089",
    "user": "https://github.com/dandrake"
}
```
I've been editing the root makefile while working on a couple tickets, and I have a deep urge to refactor repetitive, boilerplate code. In SAGE_ROOT/makefile, there are many sequences of commands that are repeated in multiple targets.

The attached patch puts the repetitive bits into variables that can easily be customized later by editing only one thing in the makefile, instead of multiple things.

I'd also like to consider removing the "install" and "gmp" targets in the makefile. I suspect no one ever uses them.

**Assignee:** @dandrake

**Keywords:** makefile

**Author:** Dan Drake

**Reviewer:** Tim Dumol

**Merged:** sage-4.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/7089





---

archive/issue_comments_067309.json:
```json
{
    "body": "unified diff for SAGE_ROOT/makefile",
    "created_at": "2009-10-01T03:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67309",
    "user": "https://github.com/dandrake"
}
```

unified diff for SAGE_ROOT/makefile



---

archive/issue_comments_067310.json:
```json
{
    "body": "**Changing status** from new to assigned.",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67310",
    "user": "https://github.com/dandrake"
}
```

**Changing status** from new to assigned.



---

archive/issue_comments_067311.json:
```json
{
    "body": "**Changing keywords** from \"\" to \"makefile\".",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67311",
    "user": "https://github.com/dandrake"
}
```

**Changing keywords** from "" to "makefile".



---

archive/issue_comments_067312.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67312",
    "user": "https://github.com/dandrake"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_008466.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "makefile.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7089/makefile.patch",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/dandrake"
}
```



---

archive/issue_comments_067313.json:
```json
{
    "body": "<a id='comment:1'></a>\n",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67313",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:1'></a>




---

archive/issue_comments_067314.json:
```json
{
    "body": "**Author:** Dan Drake",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67314",
    "user": "https://github.com/dandrake"
}
```

**Author:** Dan Drake



---

archive/issue_comments_067315.json:
```json
{
    "body": "**Assignee:** @dandrake",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67315",
    "user": "https://github.com/dandrake"
}
```

**Assignee:** @dandrake



---

archive/issue_comments_067316.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-10-01T04:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67316",
    "user": "https://github.com/TimDumol"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_067317.json:
```json
{
    "body": "<a id='comment:2'></a>\nPatch applies, and the tests run properly. Positive review.",
    "created_at": "2009-10-01T04:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67317",
    "user": "https://github.com/TimDumol"
}
```

<a id='comment:2'></a>
Patch applies, and the tests run properly. Positive review.



---

archive/issue_comments_067318.json:
```json
{
    "body": "**Reviewer:** Tim Dumol",
    "created_at": "2009-10-01T04:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67318",
    "user": "https://github.com/TimDumol"
}
```

**Reviewer:** Tim Dumol



---

archive/issue_events_020873.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-16T09:02:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7089#event-20873"
}
```



---

archive/issue_comments_067319.json:
```json
{
    "body": "**Merged:** sage-4.2.alpha0",
    "created_at": "2009-10-16T09:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-67319",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.2.alpha0
