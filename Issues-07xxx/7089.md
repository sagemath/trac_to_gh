# Issue 7089: [with patch, positive review] refactor SAGE_ROOT/makefile

archive/issues_007089.json:
```json
{
    "body": "I've been editing the root makefile while working on a couple tickets, and I have a deep urge to refactor repetitive, boilerplate code. In SAGE_ROOT/makefile, there are many sequences of commands that are repeated in multiple targets.\n\nThe attached patch puts the repetitive bits into variables that can easily be customized later by editing only one thing in the makefile, instead of multiple things.\n\nI'd also like to consider removing the \"install\" and \"gmp\" targets in the makefile. I suspect no one ever uses them.\n\nAssignee: @dandrake\n\nKeywords: makefile\n\nResolution: fixed\n\nAuthor: Dan Drake\n\nReviewer: Tim Dumol\n\nMerged: sage-4.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/7089\n\n",
    "closed_at": "2009-10-16T09:02:23Z",
    "created_at": "2009-10-01T03:39:26Z",
    "labels": [
        "component: build",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.2",
    "title": "[with patch, positive review] refactor SAGE_ROOT/makefile",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7089",
    "user": "https://github.com/dandrake"
}
```
I've been editing the root makefile while working on a couple tickets, and I have a deep urge to refactor repetitive, boilerplate code. In SAGE_ROOT/makefile, there are many sequences of commands that are repeated in multiple targets.

The attached patch puts the repetitive bits into variables that can easily be customized later by editing only one thing in the makefile, instead of multiple things.

I'd also like to consider removing the "install" and "gmp" targets in the makefile. I suspect no one ever uses them.

Assignee: @dandrake

Keywords: makefile

Resolution: fixed

Author: Dan Drake

Reviewer: Tim Dumol

Merged: sage-4.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/7089





---

archive/issue_comments_065914.json:
```json
{
    "body": "unified diff for SAGE_ROOT/makefile",
    "created_at": "2009-10-01T03:39:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65914",
    "user": "https://github.com/dandrake"
}
```

unified diff for SAGE_ROOT/makefile



---

archive/issue_comments_065915.json:
```json
{
    "body": "Changing status from new to assigned.",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65915",
    "user": "https://github.com/dandrake"
}
```

Changing status from new to assigned.



---

archive/issue_comments_065916.json:
```json
{
    "body": "Changing keywords from \"\" to \"makefile\".",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65916",
    "user": "https://github.com/dandrake"
}
```

Changing keywords from "" to "makefile".



---

archive/issue_events_028758.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "rename": {
        "from": "refactor SAGE_ROOT/makefile",
        "to": "[with patch, needs review] refactor SAGE_ROOT/makefile"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7089#event-28758"
}
```



---

archive/issue_comments_065917.json:
```json
{
    "body": "<a id='comment:1'></a>\nAttachment [makefile.patch](tarball://root/attachments/some-uuid/ticket7089/makefile.patch) by @dandrake created at 2009-10-01 03:41:52",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65917",
    "user": "https://github.com/dandrake"
}
```

<a id='comment:1'></a>
Attachment [makefile.patch](tarball://root/attachments/some-uuid/ticket7089/makefile.patch) by @dandrake created at 2009-10-01 03:41:52



---

archive/issue_comments_065918.json:
```json
{
    "body": "Changing author from \"\" to \"Dan Drake\"",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65918",
    "user": "https://github.com/dandrake"
}
```

Changing author from "" to "Dan Drake"



---

archive/issue_comments_065919.json:
```json
{
    "body": "Changing assignee from tbd to @dandrake.",
    "created_at": "2009-10-01T03:41:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65919",
    "user": "https://github.com/dandrake"
}
```

Changing assignee from tbd to @dandrake.



---

archive/issue_events_028759.json:
```json
{
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "rename": {
        "from": "[with patch, needs review] refactor SAGE_ROOT/makefile",
        "to": "[with patch, positive review] refactor SAGE_ROOT/makefile"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7089#event-28759"
}
```



---

archive/issue_comments_065920.json:
```json
{
    "body": "<a id='comment:2'></a>\nPatch applies, and the tests run properly. Positive review.",
    "created_at": "2009-10-01T04:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65920",
    "user": "https://github.com/TimDumol"
}
```

<a id='comment:2'></a>
Patch applies, and the tests run properly. Positive review.



---

archive/issue_comments_065921.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Tim Dumol\"",
    "created_at": "2009-10-01T04:48:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65921",
    "user": "https://github.com/TimDumol"
}
```

Changing reviewer from "" to "Tim Dumol"



---

archive/issue_events_028760.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-16T09:02:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7089#event-28760"
}
```



---

archive/issue_comments_065922.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.2.alpha0\"",
    "created_at": "2009-10-16T09:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65922",
    "user": "https://github.com/mwhansen"
}
```

Changing merged from "" to "sage-4.2.alpha0"



---

archive/issue_comments_065923.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-10-16T09:02:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7089",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7089#issuecomment-65923",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed
