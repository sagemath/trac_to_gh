# Issue 7110: SageNB -- Port #4046, #5447, #6459, #6694, #6865, #6939

archive/issues_007110.json:
```json
{
    "assignees": [
        "https://github.com/boothby"
    ],
    "body": "Primary authors and reviewers are at listed at\n\n* #4046\n* #5447 - See the comment below for this one.\n* #6459\n* #6694\n* #6865\n* #6939\n\nSee #6983 for instructions on getting sagenb.\n\nCC:  @TimDumol @williamstein @jasongrout @sagetrac-mhampton @kcrisman @sagetrac-mvngu\n\nComponent: **notebook**\n\nKeywords: **sagenb notebook**\n\nAuthor: **Mitesh Patel**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7110_\n\n",
    "closed_at": "2009-10-11T19:27:44Z",
    "created_at": "2009-10-04T13:52:04Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "SageNB -- Port #4046, #5447, #6459, #6694, #6865, #6939",
    "type": "issue",
    "updated_at": "2009-10-11T19:27:44Z",
    "url": "https://github.com/sagemath/sage/issues/7110",
    "user": "https://github.com/qed777"
}
```
Primary authors and reviewers are at listed at

* #4046
* #5447 - See the comment below for this one.
* #6459
* #6694
* #6865
* #6939

See #6983 for instructions on getting sagenb.

CC:  @TimDumol @williamstein @jasongrout @sagetrac-mhampton @kcrisman @sagetrac-mvngu

Component: **notebook**

Keywords: **sagenb notebook**

Author: **Mitesh Patel**

_Issue created by migration from https://trac.sagemath.org/ticket/7110_





---

archive/issue_events_085941.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-10-04T13:52:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "milestone_number": null,
    "milestone_title": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85941"
}
```



---

archive/issue_events_085942.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-10-04T13:52:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20user%20interface",
    "label_color": "0000b0",
    "label_name": "c: user interface",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85942"
}
```



---

archive/issue_events_085943.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-10-04T13:52:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85943"
}
```



---

archive/issue_events_085944.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-10-04T13:52:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85944"
}
```



---

archive/issue_events_085945.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-10-04T13:52:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85945"
}
```



---

archive/issue_events_085946.json:
```json
{
    "actor": "https://github.com/boothby",
    "created_at": "2009-10-04T13:52:04Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "subject": "https://github.com/qed777",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85946"
}
```



---

archive/issue_comments_051119.json:
```json
{
    "body": "Attachment: **[trac_7110-sagenb_ports.patch.gz](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports.patch.gz)**\n\nPort/merge/base #4046, #6459, #6694, #6865, #6939 for sagenb.",
    "created_at": "2009-10-04T14:52:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51119",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_7110-sagenb_ports.patch.gz](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports.patch.gz)**

Port/merge/base #4046, #6459, #6694, #6865, #6939 for sagenb.



---

archive/issue_comments_051120.json:
```json
{
    "body": "<div id=\"comment:1\" align=\"right\">comment:1</div>\n\nApart from rebasing existing patches, I've rearranged some files:\n\n* Moved `sagenb/data/templates/*_lib.js` to `sagenb/data/javascript/sage/*.js`.\n* Moved TinyMCE initialization code to `sagenb/data/javascript/sage/tinymce.js`.\n* Updated affected HTML templates.\n* On `notebook_lib.js`'s template macros:\n  * `SAGE_URL`: \"Replaced\" with [this URL](http://www.math.union.edu/~dpvc/jsMath/users/welcome.html) for now.  The [existing link](http://sage.math.washington.edu/sage/jsmath) is broken.\n  * `KEY_CODES`: \"Moved,\" in `twist.py`, to `javascript/sage/keys.js`.  They're still generated dynamically.\n\nHowever:\n\n* `notebook.js` and friends are now static, so they're not sent through `compress.JavaScriptCompressor`.  It may be much better to use the [YUI compressor](http://developer.yahoo.com/yui/compressor/).\n* There are two versions of `sage3d.js`.  Can we move one or both (after renaming) to `javascript/sage3d` or `javascript/sage/`?\n* jsMath initialization is not yet in `javascript/sage/jsmath.js`.  I'll do this at #4714.\n* A rebased jQuery / UI upgrade (cf. #5447) will move `farbtastic` to `jquery/plugins`.\n* Do we use `zorn`?\n* Perhaps we should organize `data/` differently.  By package?  Examples: `highlight` and `sage`, templates and images included.",
    "created_at": "2009-10-04T15:40:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51120",
    "user": "https://github.com/qed777"
}
```

<div id="comment:1" align="right">comment:1</div>

Apart from rebasing existing patches, I've rearranged some files:

* Moved `sagenb/data/templates/*_lib.js` to `sagenb/data/javascript/sage/*.js`.
* Moved TinyMCE initialization code to `sagenb/data/javascript/sage/tinymce.js`.
* Updated affected HTML templates.
* On `notebook_lib.js`'s template macros:
  * `SAGE_URL`: "Replaced" with [this URL](http://www.math.union.edu/~dpvc/jsMath/users/welcome.html) for now.  The [existing link](http://sage.math.washington.edu/sage/jsmath) is broken.
  * `KEY_CODES`: "Moved," in `twist.py`, to `javascript/sage/keys.js`.  They're still generated dynamically.

However:

* `notebook.js` and friends are now static, so they're not sent through `compress.JavaScriptCompressor`.  It may be much better to use the [YUI compressor](http://developer.yahoo.com/yui/compressor/).
* There are two versions of `sage3d.js`.  Can we move one or both (after renaming) to `javascript/sage3d` or `javascript/sage/`?
* jsMath initialization is not yet in `javascript/sage/jsmath.js`.  I'll do this at #4714.
* A rebased jQuery / UI upgrade (cf. #5447) will move `farbtastic` to `jquery/plugins`.
* Do we use `zorn`?
* Perhaps we should organize `data/` differently.  By package?  Examples: `highlight` and `sage`, templates and images included.



---

archive/issue_comments_051121.json:
```json
{
    "body": "Attachment: **[trac_7110-sagenb_ports_v2.patch.gz](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports_v2.patch.gz)**\n\nv2: converted missed \"main.js\" in notebook.py.  Apply only this patch.",
    "created_at": "2009-10-04T17:28:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51121",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_7110-sagenb_ports_v2.patch.gz](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports_v2.patch.gz)**

v2: converted missed "main.js" in notebook.py.  Apply only this patch.



---

archive/issue_comments_051122.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nPatch v2 takes care of `\"main.js\"` in `notebook.list_javascript_window()`, although this function is currently unused, it seems.",
    "created_at": "2009-10-04T17:30:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51122",
    "user": "https://github.com/qed777"
}
```

<div id="comment:2" align="right">comment:2</div>

Patch v2 takes care of `"main.js"` in `notebook.list_javascript_window()`, although this function is currently unused, it seems.



---

archive/issue_events_085947.json:
```json
{
    "actor": "https://github.com/qed777",
    "created_at": "2009-10-04T19:47:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "title_is": "SageNB -- Port #4046, #5447, #6459, #6694, #6865, #6939",
    "title_was": "SageNB -- Port #4046, #6459, #6694, #6865, #6939",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85947"
}
```



---

archive/issue_comments_051123.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n Primary authors and reviewers are at listed at\n \n * #4046\n+* #5447 - See the comment below for this one.\n * #6459\n * #6694\n * #6865\n``````\n",
    "created_at": "2009-10-04T19:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51123",
    "user": "https://github.com/qed777"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
 Primary authors and reviewers are at listed at
 
 * #4046
+* #5447 - See the comment below for this one.
 * #6459
 * #6694
 * #6865
``````




---

archive/issue_comments_051124.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nFor #5447, here are the SageNB patches:\n\n* http://sage.math.washington.edu/home/mpatel/trac/7110/trac_5447-sagenb_jquery_upgrade_part_A.patch\n* http://sage.math.washington.edu/home/mpatel/trac/7110/trac_5447-sagenb_jquery_upgrade_part_B.patch\n* http://sage.math.washington.edu/home/mpatel/trac/7110/trac_5447-sagenb_jquery_upgrade_part_C.patch\n\nPlease apply all three patches in lexicographical order ***after*** the [patch above](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports_v2.patch.gz).",
    "created_at": "2009-10-04T19:47:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51124",
    "user": "https://github.com/qed777"
}
```

<div id="comment:3" align="right">comment:3</div>

For #5447, here are the SageNB patches:

* http://sage.math.washington.edu/home/mpatel/trac/7110/trac_5447-sagenb_jquery_upgrade_part_A.patch
* http://sage.math.washington.edu/home/mpatel/trac/7110/trac_5447-sagenb_jquery_upgrade_part_B.patch
* http://sage.math.washington.edu/home/mpatel/trac/7110/trac_5447-sagenb_jquery_upgrade_part_C.patch

Please apply all three patches in lexicographical order ***after*** the [patch above](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports_v2.patch.gz).



---

archive/issue_comments_051125.json:
```json
{
    "body": "Attachment: **[trac_7110-sagenb_ports_minimal.patch.gz](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports_minimal.patch.gz)**\n\nMinimal rebase of #4046, #6694, #6865, #6939 for SageNB.  Apply only this patch.",
    "created_at": "2009-10-11T13:38:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51125",
    "user": "https://github.com/qed777"
}
```

Attachment: **[trac_7110-sagenb_ports_minimal.patch.gz](https://github.com/sagemath/sage/files/ticket7110/trac_7110-sagenb_ports_minimal.patch.gz)**

Minimal rebase of #4046, #6694, #6865, #6939 for SageNB.  Apply only this patch.



---

archive/issue_comments_051126.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nThe latest patch is just a minimal rebase of #4046, #6694, #6865, and #6939 for SageNB.",
    "created_at": "2009-10-11T13:43:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51126",
    "user": "https://github.com/qed777"
}
```

<div id="comment:4" align="right">comment:4</div>

The latest patch is just a minimal rebase of #4046, #6694, #6865, and #6939 for SageNB.



---

archive/issue_events_085948.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-11T19:27:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85948"
}
```



---

archive/issue_events_085949.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-11T19:27:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85949"
}
```



---

archive/issue_comments_051127.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI merged this into the official sagenb repo and pushed it.  And it works very nicely!",
    "created_at": "2009-10-11T19:27:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7110#issuecomment-51127",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:6" align="right">comment:6</div>

I merged this into the official sagenb repo and pushed it.  And it works very nicely!



---

archive/issue_events_085950.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-11T19:27:44Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85950"
}
```



---

archive/issue_events_085951.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-11T19:27:44Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7110",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7110#event-85951"
}
```
