# Issue 7766: Upgrade optional spkg valgrind to valgrind-3.7.0

archive/issues_007766.json:
```json
{
    "assignees": [],
    "body": "New issue: Valgrind versions prior to 3.7.0 do not build on any Linux 3.x kernels, so we really need to upgrade it ASAP.\n\n---\nThe optional valgrind-3.1.1 did not build in Fedora 12 x86_64\n\nreason: glibc-11 is not supported. Even in the last released stable valgrind-3.5.0\n\nSo I downloaded from SVN and made an spkg.\n\nSee: [http://sage.math.washington.edu/home/jsp/valgrind-3.6.0.svn.spkg](http://sage.math.washington.edu/home/jsp/valgrind-3.6.0.svn.spkg)\n\nUrgent: we need a maintainer other than me and Michael!\n\nJaap\n\n---\n\nNew spkg (which works on OS X) at\u00a0[http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg)\n\n-Ivan\n\nCC:  @TimDumol @rlmill @gvol @jpflori @kini\n\nKeywords: **memory testing**\n\nComponent: **packages: optional**\n\nAuthor: **Jaap Spies, Ivan Andrus**\n\nReviewer: **Jean-Pierre Flori**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7766_\n\n",
    "closed_at": "2012-03-03T14:01:52Z",
    "created_at": "2009-12-25T20:36:30Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Upgrade optional spkg valgrind to valgrind-3.7.0",
    "type": "issue",
    "updated_at": "2012-03-03T14:01:52Z",
    "url": "https://github.com/sagemath/sage/issues/7766",
    "user": "https://github.com/jaapspies"
}
```
New issue: Valgrind versions prior to 3.7.0 do not build on any Linux 3.x kernels, so we really need to upgrade it ASAP.

---
The optional valgrind-3.1.1 did not build in Fedora 12 x86_64

reason: glibc-11 is not supported. Even in the last released stable valgrind-3.5.0

So I downloaded from SVN and made an spkg.

See: [http://sage.math.washington.edu/home/jsp/valgrind-3.6.0.svn.spkg](http://sage.math.washington.edu/home/jsp/valgrind-3.6.0.svn.spkg)

Urgent: we need a maintainer other than me and Michael!

Jaap

---

New spkg (which works on OS X) at [http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg)

-Ivan

CC:  @TimDumol @rlmill @gvol @jpflori @kini

Keywords: **memory testing**

Component: **packages: optional**

Author: **Jaap Spies, Ivan Andrus**

Reviewer: **Jean-Pierre Flori**

_Issue created by migration from https://trac.sagemath.org/ticket/7766_





---

archive/issue_events_095218.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-12-25T20:36:30Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "milestone_number": null,
    "milestone_title": "sage-5.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95218"
}
```



---

archive/issue_events_095219.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-12-25T20:36:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20optional",
    "label_color": "0000b0",
    "label_name": "c: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95219"
}
```



---

archive/issue_events_095220.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-12-25T20:36:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95220"
}
```



---

archive/issue_events_095221.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-12-25T20:36:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95221"
}
```



---

archive/issue_events_095222.json:
```json
{
    "actor": "https://github.com/jaapspies",
    "created_at": "2009-12-27T13:56:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95222"
}
```



---

archive/issue_comments_058495.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nTicket #7440 has upgraded the optional Valgrind spkg to version 3.5.0. Tim Dumol has agreed to maintain that spkg.",
    "created_at": "2010-01-23T09:02:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58495",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:2" align="right">comment:2</div>

Ticket #7440 has upgraded the optional Valgrind spkg to version 3.5.0. Tim Dumol has agreed to maintain that spkg.



---

archive/issue_comments_058496.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@sagetrac-mvngu](#comment:2):\n> Ticket #7440 has upgraded the optional Valgrind spkg to version 3.5.0. Tim Dumol has agreed to maintain that spkg.\n\n\nvalgrind-3.5.0 didn't compile with Fedora 12 64 bit.\n\nJaap",
    "created_at": "2010-01-23T10:38:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58496",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@sagetrac-mvngu](#comment:2):
> Ticket #7440 has upgraded the optional Valgrind spkg to version 3.5.0. Tim Dumol has agreed to maintain that spkg.


valgrind-3.5.0 didn't compile with Fedora 12 64 bit.

Jaap



---

archive/issue_comments_058497.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nIt may be worth rebasing this on #7440. `spkg-install` was updated on #7440 to detect Darwin 9.0 as well, on which Valgrind 3.5.0 works on. Also, mabshoff's name should be removed from the package, as per #7738. Feel free to add your own name to the maintainers list as well. Those issues aside, the package seems to work perfectly here. Nice work.",
    "created_at": "2010-01-23T21:44:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58497",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:4" align="right">comment:4</div>

It may be worth rebasing this on #7440. `spkg-install` was updated on #7440 to detect Darwin 9.0 as well, on which Valgrind 3.5.0 works on. Also, mabshoff's name should be removed from the package, as per #7738. Feel free to add your own name to the maintainers list as well. Those issues aside, the package seems to work perfectly here. Nice work.



---

archive/issue_events_095223.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2010-01-23T21:44:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95223"
}
```



---

archive/issue_events_095224.json:
```json
{
    "actor": "https://github.com/TimDumol",
    "created_at": "2010-01-23T21:44:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95224"
}
```



---

archive/issue_comments_058498.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@TimDumol](#comment:4):\n> It may be worth rebasing this on #7440. `spkg-install` was updated on #7440 to detect Darwin 9.0 as well, on which Valgrind 3.5.0 works on. Also, mabshoff's name should be removed from the package, as per #7738. Feel free to add your own name to the maintainers list as well. Those issues aside, the package seems to work perfectly here. Nice work.\n\nHi Tim,\n\nWould you mind taking over? I'm not a valgrind expert as Michael was.\n\nI have some problems with sage -t on Fedora 12 64 bit on my computer with i7 860 processor. So I tried valgrind. It came up with some issues. See:\n[https://github.com/sagemath/sage/issues/7773](https://github.com/sagemath/sage/issues/7773) \n\nJaap",
    "created_at": "2010-01-23T22:00:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58498",
    "user": "https://github.com/jaapspies"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@TimDumol](#comment:4):
> It may be worth rebasing this on #7440. `spkg-install` was updated on #7440 to detect Darwin 9.0 as well, on which Valgrind 3.5.0 works on. Also, mabshoff's name should be removed from the package, as per #7738. Feel free to add your own name to the maintainers list as well. Those issues aside, the package seems to work perfectly here. Nice work.

Hi Tim,

Would you mind taking over? I'm not a valgrind expert as Michael was.

I have some problems with sage -t on Fedora 12 64 bit on my computer with i7 860 processor. So I tried valgrind. It came up with some issues. See:
[https://github.com/sagemath/sage/issues/7773](https://github.com/sagemath/sage/issues/7773) 

Jaap



---

archive/issue_comments_058499.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIs there an option to install the package via SVN or is the spkg-file in the download link really broken?\n\nThere are some empty shell script in the package, I repaired it for my self with copying some of the files from valgrind.3,5.0 package, and it worked fine.",
    "created_at": "2010-08-28T14:00:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58499",
    "user": "https://github.com/sagetrac-maldun"
}
```

<div id="comment:6" align="right">comment:6</div>

Is there an option to install the package via SVN or is the spkg-file in the download link really broken?

There are some empty shell script in the package, I repaired it for my self with copying some of the files from valgrind.3,5.0 package, and it worked fine.



---

archive/issue_comments_058500.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -10,4 +10,7 @@\n \n Jaap\n \n+New spkg (which works on OS X) at \n+http://boxen.math.washington.edu/home/iandrus/valgrind-3.6.1.spkg\n \n+-Ivan\n``````\n",
    "created_at": "2011-03-23T22:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58500",
    "user": "https://github.com/gvol"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -10,4 +10,7 @@
 
 Jaap
 
+New spkg (which works on OS X) at 
+http://boxen.math.washington.edu/home/iandrus/valgrind-3.6.1.spkg
 
+-Ivan
``````




---

archive/issue_comments_058501.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI created a new spkg from 3.6.1.  Since 3.6.1 works on OS X 10.6, I added support for that as well.  You can find the spkg at http://boxen.math.washington.edu/home/iandrus/valgrind-3.6.1.p0.spkg\nI based it off of the spkg at #7440.\n\nOne other (perhaps controversial) thing that I did is add suppressions so that starting sage under valgrind and immediately exiting shows no leaks.  I was also using the suppression file provided by python which should probably be installed as part of the python spkg-install.  Some (or many) of these may be actual leaks, but I don't have the expertise to check them all.  Because I don't know if all the suppressions are valid I'm hesitant to mark this as needs_review.",
    "created_at": "2011-03-23T22:48:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58501",
    "user": "https://github.com/gvol"
}
```

<div id="comment:7" align="right">comment:7</div>

I created a new spkg from 3.6.1.  Since 3.6.1 works on OS X 10.6, I added support for that as well.  You can find the spkg at http://boxen.math.washington.edu/home/iandrus/valgrind-3.6.1.p0.spkg
I based it off of the spkg at #7440.

One other (perhaps controversial) thing that I did is add suppressions so that starting sage under valgrind and immediately exiting shows no leaks.  I was also using the suppression file provided by python which should probably be installed as part of the python spkg-install.  Some (or many) of these may be actual leaks, but I don't have the expertise to check them all.  Because I don't know if all the suppressions are valid I'm hesitant to mark this as needs_review.



---

archive/issue_comments_058502.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI have added `spkg-test` to run valgrind's test suite (which fails for me on OS X 10.6.7).\n\nI created 2 suppression files sage.supp which is the same file as before and sage-liberal.supp which is enough to suppress all the errors caused by sage startup.  When testing you can set `MEMCHECK_FLAGS` to change the suppression file you use.  In #11035 I plan to patch sage-valgrind to be able to switch between the two easily.\n\nThe default for the moment is to use the same suppression file as before, so it should be 'safer'.",
    "created_at": "2011-03-26T01:10:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58502",
    "user": "https://github.com/gvol"
}
```

<div id="comment:9" align="right">comment:9</div>

I have added `spkg-test` to run valgrind's test suite (which fails for me on OS X 10.6.7).

I created 2 suppression files sage.supp which is the same file as before and sage-liberal.supp which is enough to suppress all the errors caused by sage startup.  When testing you can set `MEMCHECK_FLAGS` to change the suppression file you use.  In #11035 I plan to patch sage-valgrind to be able to switch between the two easily.

The default for the moment is to use the same suppression file as before, so it should be 'safer'.



---

archive/issue_events_095225.json:
```json
{
    "actor": "https://github.com/gvol",
    "created_at": "2011-03-26T01:10:19Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95225"
}
```



---

archive/issue_events_095226.json:
```json
{
    "actor": "https://github.com/gvol",
    "created_at": "2011-03-26T01:10:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95226"
}
```



---

archive/issue_comments_058503.json:
```json
{
    "body": "Changed author from **Jaap Spies** to **Jaap Spies, Ivan Andrus**",
    "created_at": "2011-04-13T16:22:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58503",
    "user": "https://github.com/gvol"
}
```

Changed author from **Jaap Spies** to **Jaap Spies, Ivan Andrus**



---

archive/issue_events_095227.json:
```json
{
    "actor": "https://github.com/sagetrac-drkirkby",
    "created_at": "2011-04-27T21:07:56Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "title_is": "Upgrade optional spkg valgrind to valgrind-3.6.1",
    "title_was": "Upgrade optional spkg valgrind to valgrind-3.6.0.svn",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95227"
}
```



---

archive/issue_comments_058504.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI changed the title to indicate the ticket now upgrades to 3.6.1 rather than 3.6.0.svn. Personally I think upgrading to svn snapshots is generally a bad idea, as those are less tested than official releases. But I know sometimes its not possible to use a stable release. \n\nDave",
    "created_at": "2011-04-27T21:07:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58504",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<div id="comment:11" align="right">comment:11</div>

I changed the title to indicate the ticket now upgrades to 3.6.1 rather than 3.6.0.svn. Personally I think upgrading to svn snapshots is generally a bad idea, as those are less tested than official releases. But I know sometimes its not possible to use a stable release. 

Dave



---

archive/issue_events_095228.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-12-25T21:21:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95228"
}
```



---

archive/issue_events_095229.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2011-12-25T21:21:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95229"
}
```



---

archive/issue_comments_058505.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nThe package does not work for me (on `openSUSE 12.1 \"Asparagus\"`). It fails with\n\n```\nchecking for a supported OS... ok (linux-gnu)\nchecking for the kernel version... unsupported (3.1.0-1.2-desktop)\nconfigure: error: Valgrind works on kernels 2.4, 2.6\nerror configuring valgrind 3.6.1\n\nreal    0m2.260s\nuser    0m0.347s\nsys     0m0.382s\n************************************************************************\nError installing package valgrind-3.6.1\n************************************************************************\nPlease email sage-devel (http://groups.google.com/group/sage-devel)\nexplaining the problem and including the relevant part of the log file\n  /home/simon/SAGE/sage-4.8.alpha3/spkg/logs/valgrind-3.6.1.log\n```",
    "created_at": "2011-12-25T21:21:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58505",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:14" align="right">comment:14</div>

The package does not work for me (on `openSUSE 12.1 "Asparagus"`). It fails with

```
checking for a supported OS... ok (linux-gnu)
checking for the kernel version... unsupported (3.1.0-1.2-desktop)
configure: error: Valgrind works on kernels 2.4, 2.6
error configuring valgrind 3.6.1

real    0m2.260s
user    0m0.347s
sys     0m0.382s
************************************************************************
Error installing package valgrind-3.6.1
************************************************************************
Please email sage-devel (http://groups.google.com/group/sage-devel)
explaining the problem and including the relevant part of the log file
  /home/simon/SAGE/sage-4.8.alpha3/spkg/logs/valgrind-3.6.1.log
```



---

archive/issue_comments_058506.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nYes, this was fixed in 4.7.0. (\"275278  valgrind does not build on Linux kernel 3.0.* due to silly\" in the changelog). So we apparently need a newer spkg now.",
    "created_at": "2011-12-25T21:43:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58506",
    "user": "https://github.com/kini"
}
```

<div id="comment:15" align="right">comment:15</div>

Yes, this was fixed in 4.7.0. ("275278  valgrind does not build on Linux kernel 3.0.* due to silly" in the changelog). So we apparently need a newer spkg now.



---

archive/issue_comments_058507.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nEr, sorry, I meant 3.7.0.",
    "created_at": "2011-12-25T21:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58507",
    "user": "https://github.com/kini"
}
```

<div id="comment:16" align="right">comment:16</div>

Er, sorry, I meant 3.7.0.



---

archive/issue_comments_058508.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,7 @@\n+New issue: Valgrind versions prior to 3.7.0 do not build on any Linux 3.x kernels, so we really need to upgrade it ASAP.\n+\n+---\n+\n The optional valgrind-3.1.1 did not build in Fedora 12 x86_64\n \n reason: glibc-11 is not supported. Even in the last released stable valgrind-3.5.0\n``````\n",
    "created_at": "2011-12-25T21:45:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58508",
    "user": "https://github.com/kini"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,7 @@
+New issue: Valgrind versions prior to 3.7.0 do not build on any Linux 3.x kernels, so we really need to upgrade it ASAP.
+
+---
+
 The optional valgrind-3.1.1 did not build in Fedora 12 x86_64
 
 reason: glibc-11 is not supported. Even in the last released stable valgrind-3.5.0
``````




---

archive/issue_events_095230.json:
```json
{
    "actor": "https://github.com/kini",
    "created_at": "2011-12-25T21:45:07Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "title_is": "Upgrade optional spkg valgrind to valgrind-3.7.0",
    "title_was": "Upgrade optional spkg valgrind to valgrind-3.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95230"
}
```



---

archive/issue_comments_058509.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI created a new spkg from 3.7.0 which can be found at http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg\n\nI would like to get this reviewed since the current valgrind package is at 3.3.1 and doesn't support OS X or 3.x linux kernels.  I ran some doctests under valgrind on my machine and things worked (well there were lots of leaks, but...).",
    "created_at": "2012-02-10T17:31:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58509",
    "user": "https://github.com/gvol"
}
```

<div id="comment:17" align="right">comment:17</div>

I created a new spkg from 3.7.0 which can be found at http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg

I would like to get this reviewed since the current valgrind package is at 3.3.1 and doesn't support OS X or 3.x linux kernels.  I ran some doctests under valgrind on my machine and things worked (well there were lots of leaks, but...).



---

archive/issue_events_095231.json:
```json
{
    "actor": "https://github.com/gvol",
    "created_at": "2012-02-10T17:31:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95231"
}
```



---

archive/issue_events_095232.json:
```json
{
    "actor": "https://github.com/gvol",
    "created_at": "2012-02-10T17:31:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95232"
}
```



---

archive/issue_comments_058510.json:
```json
{
    "body": "Reviewer: **Jean-Pierre Flori**",
    "created_at": "2012-02-16T15:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58510",
    "user": "https://github.com/jpflori"
}
```

Reviewer: **Jean-Pierre Flori**



---

archive/issue_comments_058511.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nI guess that make should be replaced by $MAKE in both spkg-check and spkg-install.\n\nThe SAGE_LOCAL logic should also be added to spkg-check.\n\nSome message should be printed if tests fail.\n\nThe updated changelog in SPKG.txt is wrong (3.6.1 instead of 3.7.0).\n\nI guess the hg log could contain this ticket number at the beginning (#7766: ...)\n\nMoreover the spkg should be named .... .p0.spkg.\n\nOtherwise it looks fine.\n\nI'll test the package now.",
    "created_at": "2012-02-16T15:15:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58511",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:18" align="right">comment:18</div>

I guess that make should be replaced by $MAKE in both spkg-check and spkg-install.

The SAGE_LOCAL logic should also be added to spkg-check.

Some message should be printed if tests fail.

The updated changelog in SPKG.txt is wrong (3.6.1 instead of 3.7.0).

I guess the hg log could contain this ticket number at the beginning (#7766: ...)

Moreover the spkg should be named .... .p0.spkg.

Otherwise it looks fine.

I'll test the package now.



---

archive/issue_events_095233.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-16T15:15:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95233"
}
```



---

archive/issue_events_095234.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-16T15:15:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95234"
}
```



---

archive/issue_comments_058512.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nIt runs fine on my quite common amd64 debian system.",
    "created_at": "2012-02-16T15:43:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58512",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:19" align="right">comment:19</div>

It runs fine on my quite common amd64 debian system.



---

archive/issue_events_095235.json:
```json
{
    "actor": "https://github.com/gvol",
    "created_at": "2012-02-16T21:25:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95235"
}
```



---

archive/issue_events_095236.json:
```json
{
    "actor": "https://github.com/gvol",
    "created_at": "2012-02-16T21:25:14Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95236"
}
```



---

archive/issue_comments_058513.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\nReplying to [@jpflori](#comment:18):\n> I guess that make should be replaced by $MAKE in both spkg-check and spkg-install.\n\nDone.\n\n> The SAGE_LOCAL logic should also be added to spkg-check.\n\nIt probably doesn't need it since it will run after spkg-install succeeded, but I added it anyway since it's safer than way.  Is there a way to run the tests of an already installed package?\n\n> Some message should be printed if tests fail.\n\nDone.\n\n> The updated changelog in SPKG.txt is wrong (3.6.1 instead of 3.7.0).\n\nOops.\n\n> I guess the hg log could contain this ticket number at the beginning (#7766: ...)\n\nGood point.\n\n> Moreover the spkg should be named .... .p0.spkg.\n\nI thought I read that if there were no patches to upstream then we weren't supposed to put the `.p0` on it, but I changed it since I don't really know.\n\nThanks for taking the time to review this.",
    "created_at": "2012-02-16T21:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58513",
    "user": "https://github.com/gvol"
}
```

<div id="comment:20" align="right">comment:20</div>

Replying to [@jpflori](#comment:18):
> I guess that make should be replaced by $MAKE in both spkg-check and spkg-install.

Done.

> The SAGE_LOCAL logic should also be added to spkg-check.

It probably doesn't need it since it will run after spkg-install succeeded, but I added it anyway since it's safer than way.  Is there a way to run the tests of an already installed package?

> Some message should be printed if tests fail.

Done.

> The updated changelog in SPKG.txt is wrong (3.6.1 instead of 3.7.0).

Oops.

> I guess the hg log could contain this ticket number at the beginning (#7766: ...)

Good point.

> Moreover the spkg should be named .... .p0.spkg.

I thought I read that if there were no patches to upstream then we weren't supposed to put the `.p0` on it, but I changed it since I don't really know.

Thanks for taking the time to review this.



---

archive/issue_comments_058514.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,6 @@\n Jaap\n \n New spkg (which works on OS X) at \n-http://boxen.math.washington.edu/home/iandrus/valgrind-3.6.1.spkg\n+http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.p0.spkg\n \n -Ivan\n``````\n",
    "created_at": "2012-02-16T21:25:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58514",
    "user": "https://github.com/gvol"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,6 @@
 Jaap
 
 New spkg (which works on OS X) at 
-http://boxen.math.washington.edu/home/iandrus/valgrind-3.6.1.spkg
+http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.p0.spkg
 
 -Ivan
``````




---

archive/issue_comments_058515.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nI forgot to say the updated spkg is at http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.p0.spkg .",
    "created_at": "2012-02-16T21:26:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58515",
    "user": "https://github.com/gvol"
}
```

<div id="comment:21" align="right">comment:21</div>

I forgot to say the updated spkg is at http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.p0.spkg .



---

archive/issue_comments_058516.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nAbout the p0, the problem was that the directory inside the archive was named with a p0 but not the spkg itself so sage would not find it after decompression.\n\nSo removing the p0 from both might be a better choice :)\n\nFor the check I'm not aware of any way to do that without rebuilding the package but I might have missed something. But if the build dir is deleted after installation that might be impossible anyway.",
    "created_at": "2012-02-16T22:28:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58516",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:22" align="right">comment:22</div>

About the p0, the problem was that the directory inside the archive was named with a p0 but not the spkg itself so sage would not find it after decompression.

So removing the p0 from both might be a better choice :)

For the check I'm not aware of any way to do that without rebuilding the package but I might have missed something. But if the build dir is deleted after installation that might be impossible anyway.



---

archive/issue_comments_058517.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nReplying to [@jpflori](#comment:22):\n> About the p0, the problem was that the directory inside the archive was named with a p0 but not the spkg itself so sage would not find it after decompression.\n> \n> So removing the p0 from both might be a better choice :)\n\nOh I see now.  Let me know if you want me to change it.  I don't know how big of a deal having a `.p0` or not is.",
    "created_at": "2012-02-17T07:33:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58517",
    "user": "https://github.com/gvol"
}
```

<div id="comment:23" align="right">comment:23</div>

Replying to [@jpflori](#comment:22):
> About the p0, the problem was that the directory inside the archive was named with a p0 but not the spkg itself so sage would not find it after decompression.
> 
> So removing the p0 from both might be a better choice :)

Oh I see now.  Let me know if you want me to change it.  I don't know how big of a deal having a `.p0` or not is.



---

archive/issue_comments_058518.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nCould you just post the diff with the previous patch here, \"just for review\"?\n\nAfter that, I'll be completely happy with the ticket.",
    "created_at": "2012-02-24T11:26:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58518",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:24" align="right">comment:24</div>

Could you just post the diff with the previous patch here, "just for review"?

After that, I'll be completely happy with the ticket.



---

archive/issue_comments_058519.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nLet's also remove the p0, while we are at it.",
    "created_at": "2012-02-24T11:27:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58519",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:25" align="right">comment:25</div>

Let's also remove the p0, while we are at it.



---

archive/issue_comments_058520.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nI've made the mentioned changes and some minor other changes. I've also updated the descr/license in the SPKG file.\n\nThe updated spkg is at [http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg) \n\nIvan: If you don't mind, it may be a good idea to add yourself as a maintainer?\n\nIf you do agree, or if you don\"t as wel, I'll put this as positive review.",
    "created_at": "2012-02-24T12:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58520",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:26" align="right">comment:26</div>

I've made the mentioned changes and some minor other changes. I've also updated the descr/license in the SPKG file.

The updated spkg is at [http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg) 

Ivan: If you don't mind, it may be a good idea to add yourself as a maintainer?

If you do agree, or if you don"t as wel, I'll put this as positive review.



---

archive/issue_comments_058521.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,7 +1,6 @@\n New issue: Valgrind versions prior to 3.7.0 do not build on any Linux 3.x kernels, so we really need to upgrade it ASAP.\n \n ---\n-\n The optional valgrind-3.1.1 did not build in Fedora 12 x86_64\n \n reason: glibc-11 is not supported. Even in the last released stable valgrind-3.5.0\n@@ -14,7 +13,6 @@\n \n Jaap\n \n-New spkg (which works on OS X) at \n-http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.p0.spkg\n+New spkg (which works on OS X) at\u00a0[http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg)\n \n -Ivan\n``````\n",
    "created_at": "2012-02-24T12:02:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58521",
    "user": "https://github.com/jpflori"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,7 +1,6 @@
 New issue: Valgrind versions prior to 3.7.0 do not build on any Linux 3.x kernels, so we really need to upgrade it ASAP.
 
 ---
-
 The optional valgrind-3.1.1 did not build in Fedora 12 x86_64
 
 reason: glibc-11 is not supported. Even in the last released stable valgrind-3.5.0
@@ -14,7 +13,6 @@
 
 Jaap
 
-New spkg (which works on OS X) at 
-http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.p0.spkg
+New spkg (which works on OS X) at [http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg)
 
 -Ivan
``````




---

archive/issue_comments_058522.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,6 +13,7 @@\n \n Jaap\n \n-New spkg (which works on OS X) at\u00a0[http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg)\n+New spkg (which works on OS X) at\u00a0[http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg\n+http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg]\n \n -Ivan\n``````\n",
    "created_at": "2012-02-24T15:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58522",
    "user": "https://github.com/gvol"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,6 +13,7 @@
 
 Jaap
 
-New spkg (which works on OS X) at [http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg)
+New spkg (which works on OS X) at [http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg
+http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg]
 
 -Ivan
``````




---

archive/issue_comments_058523.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nReplying to [@jpflori](#comment:26):\n> I've made the mentioned changes and some minor other changes. I've also updated the descr/license in the SPKG file.\n> \n> The updated spkg is at [http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg) \n\nFWIW I had to add `.fr` to the server to get the spkg.\n\n> Ivan: If you don't mind, it may be a good idea to add yourself as a maintainer?\n\nYeah, I can be a maintainer.  I took your spkg and added myself as maintainer in SPKG.txt.  New version is at \n\nhttp://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg\n\nYour patches look good BTW.\n\n> If you do agree, or if you don\"t as wel, I'll put this as positive review.\n\nExcellent.  Thanks again.",
    "created_at": "2012-02-24T15:22:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58523",
    "user": "https://github.com/gvol"
}
```

<div id="comment:27" align="right">comment:27</div>

Replying to [@jpflori](#comment:26):
> I've made the mentioned changes and some minor other changes. I've also updated the descr/license in the SPKG file.
> 
> The updated spkg is at [http://perso.telecom-paristech/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech/%7Eflori/sage/valgrind-3.7.0.spkg) 

FWIW I had to add `.fr` to the server to get the spkg.

> Ivan: If you don't mind, it may be a good idea to add yourself as a maintainer?

Yeah, I can be a maintainer.  I took your spkg and added myself as maintainer in SPKG.txt.  New version is at 

http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg

Your patches look good BTW.

> If you do agree, or if you don"t as wel, I'll put this as positive review.

Excellent.  Thanks again.



---

archive/issue_events_095237.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-24T16:23:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95237"
}
```



---

archive/issue_events_095238.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-24T16:23:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95238"
}
```



---

archive/issue_comments_058524.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -13,7 +13,8 @@\n \n Jaap\n \n-New spkg (which works on OS X) at\u00a0[http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg\n-http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg]\n+---\n+\n+New spkg (which works on OS X) at\u00a0[http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg](http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg)\n \n -Ivan\n``````\n",
    "created_at": "2012-02-25T14:28:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58524",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -13,7 +13,8 @@
 
 Jaap
 
-New spkg (which works on OS X) at [http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg
-http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg]
+---
+
+New spkg (which works on OS X) at [http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg](http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg)
 
 -Ivan
``````




---

archive/issue_events_095239.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-25T16:57:10Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95239"
}
```



---

archive/issue_events_095240.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-25T16:57:10Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95240"
}
```



---

archive/issue_comments_058525.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">comment:30</div>\n\nIn `SPKG.txt`, `valgrind_3.7.0` should be `valgrind-3.7.0`",
    "created_at": "2012-02-25T16:57:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58525",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:30" align="right">comment:30</div>

In `SPKG.txt`, `valgrind_3.7.0` should be `valgrind-3.7.0`



---

archive/issue_events_095241.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-25T18:31:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95241"
}
```



---

archive/issue_events_095242.json:
```json
{
    "actor": "https://github.com/jpflori",
    "created_at": "2012-02-25T18:31:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95242"
}
```



---

archive/issue_comments_058526.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">comment:31</div>\n\nI corrected the last version name as well as all the old ones.\n\nPackage available at http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg",
    "created_at": "2012-02-25T18:31:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58526",
    "user": "https://github.com/jpflori"
}
```

<div id="comment:31" align="right">comment:31</div>

I corrected the last version name as well as all the old ones.

Package available at http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg



---

archive/issue_comments_058527.json:
```json
{
    "body": "Attachment: **[trac_7666_spkg.patch.gz](https://github.com/sagemath/sage/files/ticket7766/trac_7666_spkg.patch.gz)**\n\nspkg diff, for review only",
    "created_at": "2012-02-25T18:31:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58527",
    "user": "https://github.com/jpflori"
}
```

Attachment: **[trac_7666_spkg.patch.gz](https://github.com/sagemath/sage/files/ticket7766/trac_7666_spkg.patch.gz)**

spkg diff, for review only



---

archive/issue_comments_058528.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">comment:32</div>\n\n**Update the ticket description if you post a new package**",
    "created_at": "2012-02-28T12:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58528",
    "user": "https://github.com/jdemeyer"
}
```

<div id="comment:32" align="right">comment:32</div>

**Update the ticket description if you post a new package**



---

archive/issue_events_095243.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-28T12:40:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95243"
}
```



---

archive/issue_events_095244.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-02-28T12:40:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95244"
}
```



---

archive/issue_comments_058529.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -15,6 +15,6 @@\n \n ---\n \n-New spkg (which works on OS X) at\u00a0[http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg](http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg)\n+New spkg (which works on OS X) at\u00a0[http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg)\n \n -Ivan\n``````\n",
    "created_at": "2012-02-28T12:40:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7766#issuecomment-58529",
    "user": "https://github.com/jdemeyer"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -15,6 +15,6 @@
 
 ---
 
-New spkg (which works on OS X) at [http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg](http://boxen.math.washington.edu/home/iandrus/valgrind-3.7.0.spkg)
+New spkg (which works on OS X) at [http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg](http://perso.telecom-paristech.fr/~flori/sage/valgrind-3.7.0.spkg)
 
 -Ivan
``````




---

archive/issue_events_095245.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-03T14:01:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95245"
}
```



---

archive/issue_events_095246.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-03T14:01:52Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7766",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7766#event-95246"
}
```
