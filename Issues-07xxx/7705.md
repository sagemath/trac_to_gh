# Issue 7705: graphs: replace the worldmap sobj by some code (or something else that is transparent)

archive/issues_007705.json:
```json
{
    "body": "This command in sage-4.3 returns a loaded sobj:\n\n```\nsage: graphs.WorldMap()\nGraph on 251 vertices\n```\n\nThe Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  \n* the pickle jar,\n* the database of lattice polytopes\n* the above world map graph.\n\nPlease replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  \n\nAssignee: @rlmill\n\nCC:  @nathanncohen\n\nResolution: fixed\n\nAuthor: Nathann Cohen\n\nReviewer: Robert Miller, William Stein\n\nMerged: sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7705\n\n",
    "closed_at": "2009-12-19T20:21:24Z",
    "created_at": "2009-12-16T08:45:55Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "graphs: replace the worldmap sobj by some code (or something else that is transparent)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7705",
    "user": "https://github.com/williamstein"
}
```
This command in sage-4.3 returns a loaded sobj:

```
sage: graphs.WorldMap()
Graph on 251 vertices
```

The Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  
* the pickle jar,
* the database of lattice polytopes
* the above world map graph.

Please replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  

Assignee: @rlmill

CC:  @nathanncohen

Resolution: fixed

Author: Nathann Cohen

Reviewer: Robert Miller, William Stein

Merged: sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/7705





---

archive/issue_comments_068306.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -5,6 +5,13 @@\n Graph on 251 vertices\n ```\n \n+The Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  \n+* the pickle jar,\n+* the database of lattice polytopes\n+* the above world map graph.\n+\n+Please replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  \n+\n Comment: 1\n \n Issue created by migration from https://trac.sagemath.org/ticket/7705\n``````\n",
    "created_at": "2009-12-16T08:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68306",
    "user": "https://github.com/williamstein"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -5,6 +5,13 @@
 Graph on 251 vertices
 ```
 
+The Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  
+* the pickle jar,
+* the database of lattice polytopes
+* the above world map graph.
+
+Please replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  
+
 Comment: 1
 
 Issue created by migration from https://trac.sagemath.org/ticket/7705
``````




---

archive/issue_comments_068307.json:
```json
{
    "body": "<a id='comment:2'></a>See also #7706.",
    "created_at": "2009-12-16T08:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68307",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'></a>See also #7706.



---

archive/issue_comments_068308.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2009-12-16T18:22:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68308",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_068309.json:
```json
{
    "body": "<a id='comment:5'></a>With this patch applied, the file SAGE_DATA+\"graphs/graph_world.sobj\" could be removed !\n\nNathann",
    "created_at": "2009-12-16T18:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68309",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>With this patch applied, the file SAGE_DATA+"graphs/graph_world.sobj" could be removed !

Nathann



---

archive/issue_comments_068310.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-12-16T18:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68310",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_068311.json:
```json
{
    "body": "<a id='comment:7'></a>Thanks.  However, you forgot to include the gps_coordinates attribute that was in graph_world.sobj.",
    "created_at": "2009-12-17T01:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68311",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:7'></a>Thanks.  However, you forgot to include the gps_coordinates attribute that was in graph_world.sobj.



---

archive/issue_comments_068312.json:
```json
{
    "body": "Changing status from positive_review to needs_work.",
    "created_at": "2009-12-17T01:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68312",
    "user": "https://github.com/williamstein"
}
```

Changing status from positive_review to needs_work.



---

archive/issue_comments_068313.json:
```json
{
    "body": "<a id='comment:8'></a>You're absolutely right !! With some luck, someone will take the time to translate these GPS coordinates using the Mercator projection to obtain good plottings of the world :-)\n\nNathann",
    "created_at": "2009-12-17T09:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68313",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>You're absolutely right !! With some luck, someone will take the time to translate these GPS coordinates using the Mercator projection to obtain good plottings of the world :-)

Nathann



---

archive/issue_comments_068314.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-12-17T09:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68314",
    "user": "https://github.com/nathanncohen"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_068315.json:
```json
{
    "body": "Attachment [trac_7705.patch](tarball://root/attachments/some-uuid/ticket7705/trac_7705.patch) by @rlmill created at 2009-12-17 21:39:38",
    "created_at": "2009-12-17T21:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68315",
    "user": "https://github.com/rlmill"
}
```

Attachment [trac_7705.patch](tarball://root/attachments/some-uuid/ticket7705/trac_7705.patch) by @rlmill created at 2009-12-17 21:39:38



---

archive/issue_comments_068316.json:
```json
{
    "body": "<a id='comment:9'></a>Attachment [trac_7705-docs.patch](tarball://root/attachments/some-uuid/ticket7705/trac_7705-docs.patch) by @rlmill created at 2009-12-17 21:40:03",
    "created_at": "2009-12-17T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68316",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:9'></a>Attachment [trac_7705-docs.patch](tarball://root/attachments/some-uuid/ticket7705/trac_7705-docs.patch) by @rlmill created at 2009-12-17 21:40:03



---

archive/issue_comments_068317.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-12-17T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68317",
    "user": "https://github.com/rlmill"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_068318.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-12-19T20:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-68318",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed



---

archive/issue_events_018403.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T20:21:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-18403"
}
```



---

archive/issue_events_018404.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:43:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-18404"
}
```
