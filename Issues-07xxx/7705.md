# Issue 7705: graphs: replace the worldmap sobj by some code (or something else that is transparent)

archive/issues_007705.json:
```json
{
    "body": "This command in sage-4.3 returns a loaded sobj:\n\n```\nsage: graphs.WorldMap()\nGraph on 251 vertices\n```\n\nThe Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  \n* the pickle jar,\n* the database of lattice polytopes\n* the above world map graph.\n\nPlease replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  \n\n**Assignee:** @rlmill\n\n**CC:**  @nathanncohen\n\n**Author:** Nathann Cohen\n\n**Reviewer:** Robert Miller, William Stein\n\n**Merged:** sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7705\n\n",
    "closed_at": "2009-12-19T20:21:24Z",
    "created_at": "2009-12-16T08:45:55Z",
    "labels": [
        "component: graph theory",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "graphs: replace the worldmap sobj by some code (or something else that is transparent)",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7705",
    "user": "https://github.com/williamstein"
}
```
This command in sage-4.3 returns a loaded sobj:

```
sage: graphs.WorldMap()
Graph on 251 vertices
```

The Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  
* the pickle jar,
* the database of lattice polytopes
* the above world map graph.

Please replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  

**Assignee:** @rlmill

**CC:**  @nathanncohen

**Author:** Nathann Cohen

**Reviewer:** Robert Miller, William Stein

**Merged:** sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/7705





---

archive/issue_comments_060999.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -4,3 +4,10 @@\n sage: graphs.WorldMap()\n Graph on 251 vertices\n ```\n+\n+The Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  \n+* the pickle jar,\n+* the database of lattice polytopes\n+* the above world map graph.\n+\n+Please replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  \n``````\n",
    "created_at": "2009-12-16T08:49:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-60999",
    "user": "https://github.com/williamstein"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -4,3 +4,10 @@
 sage: graphs.WorldMap()
 Graph on 251 vertices
 ```
+
+The Sage source distribution must ship with a bare minimum of opaque potentially dangerous binary files.   Pickles (i.e. sobjs) are fairly opaque binary files that can invoke arbitrary code when being unpickled.  Also, sobj's have the drawback that they can someday break, and can be very hard to update later (the map of the world will change periodically).   There are currently three places in the Sage source code that includes pickles:  
+* the pickle jar,
+* the database of lattice polytopes
+* the above world map graph.
+
+Please replace the world map sobj by something else, e.g., some code that creates the world map when the user first asks for it.  
``````




---

archive/issue_comments_061000.json:
```json
{
    "body": "<a id='comment:2'></a>\nSee also #7706.",
    "created_at": "2009-12-16T08:53:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61000",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:2'></a>
See also #7706.



---

archive/issue_events_054129.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-16T18:22:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54129"
}
```



---

archive/issue_comments_061001.json:
```json
{
    "body": "<a id='comment:5'></a>\nWith this patch applied, the file SAGE_DATA+\"graphs/graph_world.sobj\" could be removed !\n\nNathann",
    "created_at": "2009-12-16T18:23:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61001",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:5'></a>
With this patch applied, the file SAGE_DATA+"graphs/graph_world.sobj" could be removed !

Nathann



---

archive/issue_comments_061002.json:
```json
{
    "body": "**Author:** Nathann Cohen",
    "created_at": "2009-12-16T18:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61002",
    "user": "https://github.com/rlmill"
}
```

**Author:** Nathann Cohen



---

archive/issue_comments_061003.json:
```json
{
    "body": "**Reviewer:** Robert Miller",
    "created_at": "2009-12-16T18:49:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61003",
    "user": "https://github.com/rlmill"
}
```

**Reviewer:** Robert Miller



---

archive/issue_events_054130.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-16T18:49:37Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54130"
}
```



---

archive/issue_events_054131.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-16T18:49:37Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54131"
}
```



---

archive/issue_comments_061004.json:
```json
{
    "body": "<a id='comment:7'></a>\nThanks.  However, you forgot to include the gps_coordinates attribute that was in graph_world.sobj.",
    "created_at": "2009-12-17T01:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61004",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:7'></a>
Thanks.  However, you forgot to include the gps_coordinates attribute that was in graph_world.sobj.



---

archive/issue_events_054132.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-12-17T01:08:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54132"
}
```



---

archive/issue_events_054133.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-12-17T01:08:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54133"
}
```



---

archive/issue_comments_061005.json:
```json
{
    "body": "<a id='comment:8'></a>\nYou're absolutely right !! With some luck, someone will take the time to translate these GPS coordinates using the Mercator projection to obtain good plottings of the world :-)\n\nNathann",
    "created_at": "2009-12-17T09:48:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61005",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'></a>
You're absolutely right !! With some luck, someone will take the time to translate these GPS coordinates using the Mercator projection to obtain good plottings of the world :-)

Nathann



---

archive/issue_events_054134.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-17T09:48:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54134"
}
```



---

archive/issue_events_054135.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-17T09:48:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54135"
}
```



---

archive/attachments_009367.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7705.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7705/trac_7705.patch",
    "created_at": "2009-12-17T21:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/rlmill"
}
```



---

archive/issue_comments_061006.json:
```json
{
    "body": "",
    "created_at": "2009-12-17T21:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61006",
    "user": "https://github.com/rlmill"
}
```





---

archive/issue_comments_061007.json:
```json
{
    "body": "**Changing reviewer** from \"Robert Miller\" to \"Robert Miller, William Stein\".",
    "created_at": "2009-12-17T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61007",
    "user": "https://github.com/rlmill"
}
```

**Changing reviewer** from "Robert Miller" to "Robert Miller, William Stein".



---

archive/attachments_009368.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7705-docs.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7705/trac_7705-docs.patch",
    "created_at": "2009-12-17T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/rlmill"
}
```



---

archive/issue_comments_061008.json:
```json
{
    "body": "<a id='comment:9'></a>\n",
    "created_at": "2009-12-17T21:40:03Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61008",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:9'></a>




---

archive/issue_events_054136.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-17T21:40:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54136"
}
```



---

archive/issue_events_054137.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-17T21:40:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54137"
}
```



---

archive/issue_events_054138.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T20:21:24Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54138"
}
```



---

archive/issue_events_054139.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T20:21:24Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54139"
}
```



---

archive/issue_comments_061009.json:
```json
{
    "body": "**Merged:** sage-4.3.rc1",
    "created_at": "2009-12-19T20:21:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7705#issuecomment-61009",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.3.rc1



---

archive/issue_events_054140.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:43:08Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "milestone": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54140"
}
```



---

archive/issue_events_054141.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:43:08Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7705",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7705#event-54141"
}
```
