# Issue 7595: Chinese Remainder Theorem for univariate polynomials over a field

archive/issues_007595.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "This wasn't hard to implement, since all the hard work was already done.\n\nComponent: **algebra**\n\nAuthor: **Robert Miller**\n\nReviewer: **Robert Bradshaw, John Cremona**\n\nMerged: **sage-4.3.1.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7595_\n\n",
    "closed_at": "2010-01-13T05:03:26Z",
    "created_at": "2009-12-03T17:27:53Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20algebra",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Chinese Remainder Theorem for univariate polynomials over a field",
    "type": "issue",
    "updated_at": "2010-01-13T19:51:12Z",
    "url": "https://github.com/sagemath/sage/issues/7595",
    "user": "https://github.com/rlmill"
}
```
This wasn't hard to implement, since all the hard work was already done.

Component: **algebra**

Author: **Robert Miller**

Reviewer: **Robert Bradshaw, John Cremona**

Merged: **sage-4.3.1.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/7595_





---

archive/issue_events_092658.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-03T17:27:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "milestone_number": null,
    "milestone_title": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92658"
}
```



---

archive/issue_events_092659.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-03T17:27:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92659"
}
```



---

archive/issue_events_092660.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-03T17:27:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92660"
}
```



---

archive/issue_events_092661.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-03T17:27:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92661"
}
```



---

archive/issue_events_092662.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-12-03T17:27:53Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "subject": "https://github.com/rlmill",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92662"
}
```



---

archive/issue_events_092663.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-03T19:03:11Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "title_is": "Chinese Remainder Theorem for univariate polynomials over a field",
    "title_was": "Chinese Remainder Theorem for polynomials over a field",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92663"
}
```



---

archive/issue_events_092664.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-03T19:03:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92664"
}
```



---

archive/issue_events_092665.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-04T06:03:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92665"
}
```



---

archive/issue_events_092666.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-04T06:03:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92666"
}
```



---

archive/issue_comments_056455.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nHello !! This is clearly not my field but I dare intrude : I see you are using functions \"crt\" and \"CRT_list\", and I wondered if you would find it sensible to rename them to chinese_remainer_theorem and chinese_remainder_theorem_list ? If this is too long, it may be possible to drop the \"theorem\" from the name, but the fact remains that if I had to use this function sometime ( which is not excluded, as it is a very famous result ), there is no way on earth I would have thought of trying the \"crt\" function if I had not seen it related to this ticket :-)\n\nI am under the impression the english speakers would end this message with :\n\n\"Well, just my two cents\" :-)\n\nNathann",
    "created_at": "2009-12-04T06:03:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56455",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:2" align="right">comment:2</div>

Hello !! This is clearly not my field but I dare intrude : I see you are using functions "crt" and "CRT_list", and I wondered if you would find it sensible to rename them to chinese_remainer_theorem and chinese_remainder_theorem_list ? If this is too long, it may be possible to drop the "theorem" from the name, but the fact remains that if I had to use this function sometime ( which is not excluded, as it is a very famous result ), there is no way on earth I would have thought of trying the "crt" function if I had not seen it related to this ticket :-)

I am under the impression the english speakers would end this message with :

"Well, just my two cents" :-)

Nathann



---

archive/issue_events_092667.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-04T17:06:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92667"
}
```



---

archive/issue_events_092668.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-04T17:06:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92668"
}
```



---

archive/issue_comments_056456.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@nathanncohen](#comment:2):\n> ... I wondered if you would find it sensible to rename them to chinese_remainer_theorem ...\n\nThis is irrelevant to this ticket. You should bring it up on sage-devel instead.",
    "created_at": "2009-12-04T17:06:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56456",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@nathanncohen](#comment:2):
> ... I wondered if you would find it sensible to rename them to chinese_remainer_theorem ...

This is irrelevant to this ticket. You should bring it up on sage-devel instead.



---

archive/issue_events_092669.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-12-08T07:42:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92669"
}
```



---

archive/issue_events_092670.json:
```json
{
    "actor": "https://github.com/robertwb",
    "created_at": "2009-12-08T07:42:01Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92670"
}
```



---

archive/issue_comments_056457.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nNice.",
    "created_at": "2009-12-08T07:42:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56457",
    "user": "https://github.com/robertwb"
}
```

<div id="comment:4" align="right">comment:4</div>

Nice.



---

archive/issue_comments_056458.json:
```json
{
    "body": "Reviewer: **Robert Bradshaw**",
    "created_at": "2009-12-15T22:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56458",
    "user": "https://github.com/rlmill"
}
```

Reviewer: **Robert Bradshaw**



---

archive/issue_comments_056459.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nThis patch wasn't applying, so I've rebased it. No real changes though.",
    "created_at": "2009-12-15T22:30:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56459",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:5" align="right">comment:5</div>

This patch wasn't applying, so I've rebased it. No real changes though.



---

archive/issue_comments_056460.json:
```json
{
    "body": "rebased on 4.3.rc0",
    "created_at": "2009-12-15T23:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56460",
    "user": "https://github.com/rlmill"
}
```

rebased on 4.3.rc0



---

archive/issue_comments_056461.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAttachment: **[trac_7595.patch.gz](https://github.com/sagemath/sage/files/ticket7595/trac_7595.patch.gz)**\n\nJust caught a doctest failure in sage/rings/arith.py. Oops!",
    "created_at": "2009-12-15T23:16:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56461",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:6" align="right">comment:6</div>

Attachment: **[trac_7595.patch.gz](https://github.com/sagemath/sage/files/ticket7595/trac_7595.patch.gz)**

Just caught a doctest failure in sage/rings/arith.py. Oops!



---

archive/issue_events_092671.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-16T02:31:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92671"
}
```



---

archive/issue_events_092672.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-16T02:31:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92672"
}
```



---

archive/issue_comments_056462.json:
```json
{
    "body": "Work Issues: **needs rebase**",
    "created_at": "2009-12-16T02:31:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56462",
    "user": "https://github.com/mwhansen"
}
```

Work Issues: **needs rebase**



---

archive/issue_comments_056463.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nWhich ticket is the patch conflicting with?",
    "created_at": "2009-12-16T02:32:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56463",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:8" align="right">comment:8</div>

Which ticket is the patch conflicting with?



---

archive/issue_comments_056464.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI've checked, and this merges with the current rc1.",
    "created_at": "2009-12-18T22:38:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56464",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:9" align="right">comment:9</div>

I've checked, and this merges with the current rc1.



---

archive/issue_events_092673.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-18T22:38:03Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92673"
}
```



---

archive/issue_events_092674.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-18T22:38:03Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92674"
}
```



---

archive/issue_comments_056465.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nThe patch is fine, applies to 4.3.rc0 and all tests pass in sage/rings.\n\nI have some problems with the CRT* functions though.\n\n1. CRT_list does not check that the two lists have the same length;  if the moduli list is shorter you get an IndexError, but it would be better to catch that and raise a more informative error.\n\n2. CRT_basis is rather silly.   It calls CRT_list n times with the same moduli, which must be wasteful.  It would be better to call plain CRT n times with suitable moduli (exercise for the reader).\n\nOf course, I don't think that these issues should delay the current patch, but deserve a ticket of their own to make sure they are tided up.",
    "created_at": "2009-12-22T15:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56465",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:10" align="right">comment:10</div>

The patch is fine, applies to 4.3.rc0 and all tests pass in sage/rings.

I have some problems with the CRT* functions though.

1. CRT_list does not check that the two lists have the same length;  if the moduli list is shorter you get an IndexError, but it would be better to catch that and raise a more informative error.

2. CRT_basis is rather silly.   It calls CRT_list n times with the same moduli, which must be wasteful.  It would be better to call plain CRT n times with suitable moduli (exercise for the reader).

Of course, I don't think that these issues should delay the current patch, but deserve a ticket of their own to make sure they are tided up.



---

archive/issue_comments_056466.json:
```json
{
    "body": "Changed reviewer from **Robert Bradshaw** to **Robert Bradshaw, John Cremona**",
    "created_at": "2009-12-22T15:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56466",
    "user": "https://github.com/JohnCremona"
}
```

Changed reviewer from **Robert Bradshaw** to **Robert Bradshaw, John Cremona**



---

archive/issue_events_092675.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-12-22T15:58:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92675"
}
```



---

archive/issue_events_092676.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2009-12-22T15:58:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92676"
}
```



---

archive/issue_comments_056467.json:
```json
{
    "body": "Changed work issues from **needs rebase** to none",
    "created_at": "2009-12-22T15:58:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56467",
    "user": "https://github.com/JohnCremona"
}
```

Changed work issues from **needs rebase** to none



---

archive/issue_comments_056468.json:
```json
{
    "body": "Merged: **sage-4.3.1.alpha0**",
    "created_at": "2010-01-03T21:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56468",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.3.1.alpha0**



---

archive/issue_comments_056469.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI've made #7836 for this.",
    "created_at": "2010-01-03T21:38:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56469",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:11" align="right">comment:11</div>

I've made #7836 for this.



---

archive/issue_events_092677.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-01-03T21:38:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92677"
}
```



---

archive/issue_events_092678.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-01-03T21:38:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92678"
}
```



---

archive/issue_events_092679.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-01-04T01:17:30Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92679"
}
```



---

archive/issue_events_092680.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2010-01-04T01:17:30Z",
    "event": "reopened",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92680"
}
```



---

archive/issue_comments_056470.json:
```json
{
    "body": "Changed merged from **sage-4.3.1.alpha0** to none",
    "created_at": "2010-01-04T01:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56470",
    "user": "https://github.com/mwhansen"
}
```

Changed merged from **sage-4.3.1.alpha0** to none



---

archive/issue_comments_056471.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nThis causes failures in the following file `sage/quadratic_forms/quadratic_form__ternary_Tornaria.py`:\n\n```\n**********************************************************************\nFile \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/devel/sage-main/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 476:\n    sage: map(Q1.xi_rec, [-1,2,3,5])\nException raised:\n    Traceback (most recent call last):\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_18[8]>\", line 1, in <module>\n        map(Q1.xi_rec, [-Integer(1),Integer(2),Integer(3),Integer(5)])###line 476:\n    sage: map(Q1.xi_rec, [-1,2,3,5])\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 481, in xi_rec\n        return self.reciprocal().xi(p)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 456, in xi\n        return kronecker_symbol(p, self.basiclemma(2))\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 385, in basiclemma\n        a=self(self.basiclemmavec(M))\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 416, in basiclemmavec\n        return CRT_list(vec,mod)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/rings/arith.py\", line 2522, in CRT_list\n        return moduli[0].parent()(v[0])\n      File \"parent.pyx\", line 538, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:4956)\n      File \"coerce_maps.pyx\", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3142)\n      File \"coerce_maps.pyx\", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3040)\n      File \"integer.pyx\", line 653, in sage.rings.integer.Integer.__init__ (sage/rings/integer.c:6803)\n    TypeError: unable to coerce <type 'sage.modules.vector_integer_dense.Vector_integer_dense'> to an integer\n**********************************************************************\nFile \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/devel/sage-main/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 478:\n    sage: map(Q2.xi_rec, [-1,2,3,5])\nException raised:\n    Traceback (most recent call last):\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py\", line 1231, in run_one_test\n        self.run_one_example(test, example, filename, compileflags)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/sagedoctest.py\", line 38, in run_one_example\n        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py\", line 1172, in run_one_example\n        compileflags, 1) in test.globs\n      File \"<doctest __main__.example_18[9]>\", line 1, in <module>\n        map(Q2.xi_rec, [-Integer(1),Integer(2),Integer(3),Integer(5)])###line 478:\n    sage: map(Q2.xi_rec, [-1,2,3,5])\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 481, in xi_rec\n        return self.reciprocal().xi(p)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 456, in xi\n        return kronecker_symbol(p, self.basiclemma(2))\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 385, in basiclemma\n        a=self(self.basiclemmavec(M))\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py\", line 416, in basiclemmavec\n        return CRT_list(vec,mod)\n      File \"/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/rings/arith.py\", line 2522, in CRT_list\n        return moduli[0].parent()(v[0])\n      File \"parent.pyx\", line 538, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:4956)\n      File \"coerce_maps.pyx\", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3142)\n      File \"coerce_maps.pyx\", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3040)\n      File \"integer.pyx\", line 653, in sage.rings.integer.Integer.__init__ (sage/rings/integer.c:6803)\n    TypeError: unable to coerce <type 'sage.modules.vector_integer_dense.Vector_integer_dense'> to an integer\n```",
    "created_at": "2010-01-04T01:17:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56471",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:12" align="right">comment:12</div>

This causes failures in the following file `sage/quadratic_forms/quadratic_form__ternary_Tornaria.py`:

```
**********************************************************************
File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/devel/sage-main/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 476:
    sage: map(Q1.xi_rec, [-1,2,3,5])
Exception raised:
    Traceback (most recent call last):
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_18[8]>", line 1, in <module>
        map(Q1.xi_rec, [-Integer(1),Integer(2),Integer(3),Integer(5)])###line 476:
    sage: map(Q1.xi_rec, [-1,2,3,5])
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 481, in xi_rec
        return self.reciprocal().xi(p)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 456, in xi
        return kronecker_symbol(p, self.basiclemma(2))
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 385, in basiclemma
        a=self(self.basiclemmavec(M))
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 416, in basiclemmavec
        return CRT_list(vec,mod)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/rings/arith.py", line 2522, in CRT_list
        return moduli[0].parent()(v[0])
      File "parent.pyx", line 538, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:4956)
      File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3142)
      File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3040)
      File "integer.pyx", line 653, in sage.rings.integer.Integer.__init__ (sage/rings/integer.c:6803)
    TypeError: unable to coerce <type 'sage.modules.vector_integer_dense.Vector_integer_dense'> to an integer
**********************************************************************
File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/devel/sage-main/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 478:
    sage: map(Q2.xi_rec, [-1,2,3,5])
Exception raised:
    Traceback (most recent call last):
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py", line 1231, in run_one_test
        self.run_one_example(test, example, filename, compileflags)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/sagedoctest.py", line 38, in run_one_example
        OrigDocTestRunner.run_one_example(self, test, example, filename, compileflags)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/bin/ncadoctest.py", line 1172, in run_one_example
        compileflags, 1) in test.globs
      File "<doctest __main__.example_18[9]>", line 1, in <module>
        map(Q2.xi_rec, [-Integer(1),Integer(2),Integer(3),Integer(5)])###line 478:
    sage: map(Q2.xi_rec, [-1,2,3,5])
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 481, in xi_rec
        return self.reciprocal().xi(p)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 456, in xi
        return kronecker_symbol(p, self.basiclemma(2))
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 385, in basiclemma
        a=self(self.basiclemmavec(M))
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/quadratic_forms/quadratic_form__ternary_Tornaria.py", line 416, in basiclemmavec
        return CRT_list(vec,mod)
      File "/virtual/scratch/mhansen/release/4.3.1/alpha0/sage-4.3.1.alpha0/local/lib/python/site-packages/sage/rings/arith.py", line 2522, in CRT_list
        return moduli[0].parent()(v[0])
      File "parent.pyx", line 538, in sage.structure.parent.Parent.__call__ (sage/structure/parent.c:4956)
      File "coerce_maps.pyx", line 82, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3142)
      File "coerce_maps.pyx", line 77, in sage.structure.coerce_maps.DefaultConvertMap_unique._call_ (sage/structure/coerce_maps.c:3040)
      File "integer.pyx", line 653, in sage.rings.integer.Integer.__init__ (sage/rings/integer.c:6803)
    TypeError: unable to coerce <type 'sage.modules.vector_integer_dense.Vector_integer_dense'> to an integer
```



---

archive/issue_comments_056472.json:
```json
{
    "body": "Attachment: **[trac_7595-failures.patch.gz](https://github.com/sagemath/sage/files/ticket7595/trac_7595-failures.patch.gz)**\n\nShould fix the issues in quadratic_form__ternary_Tornaria.py",
    "created_at": "2010-01-04T15:37:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56472",
    "user": "https://github.com/rlmill"
}
```

Attachment: **[trac_7595-failures.patch.gz](https://github.com/sagemath/sage/files/ticket7595/trac_7595-failures.patch.gz)**

Should fix the issues in quadratic_form__ternary_Tornaria.py



---

archive/issue_comments_056473.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThis patch should fix the issues mentioned above. I wasn't sure whether to make a new ticket, or just post it here (never seen a \"needs_work\" closed ticket...)",
    "created_at": "2010-01-04T15:38:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56473",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:13" align="right">comment:13</div>

This patch should fix the issues mentioned above. I wasn't sure whether to make a new ticket, or just post it here (never seen a "needs_work" closed ticket...)



---

archive/issue_events_092681.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-01-04T16:21:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92681"
}
```



---

archive/issue_events_092682.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-01-04T16:21:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92682"
}
```



---

archive/issue_events_092683.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-01-04T16:22:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92683"
}
```



---

archive/issue_events_092684.json:
```json
{
    "actor": "https://github.com/JohnCremona",
    "created_at": "2010-01-04T16:22:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92684"
}
```



---

archive/issue_comments_056474.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nI changed the ticket to \"needs review\" and then gave it a positive review -- it works for me.",
    "created_at": "2010-01-04T16:22:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56474",
    "user": "https://github.com/JohnCremona"
}
```

<div id="comment:15" align="right">comment:15</div>

I changed the ticket to "needs review" and then gave it a positive review -- it works for me.



---

archive/issue_comments_056475.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nThis ticket is rather messy. The patch `trac_7595.patch` is merged in Sage 4.3.1.alpha0 and it was then closed as being fixed in that version. Later on, the value in the field \"Merged in:\" was deleted. Now there is another patch `trac_7595-failures.patch` which hasn't been merged yet as of Sage 4.3.1.alpha1. And yet the ticket is declared as \"fixed\", but without a value for the field \"Merged in:\". I think the ticket's status should now be \"open\" not \"fixed\", until `trac_7595-failures.patch` is merged.",
    "created_at": "2010-01-07T00:22:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56475",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:16" align="right">comment:16</div>

This ticket is rather messy. The patch `trac_7595.patch` is merged in Sage 4.3.1.alpha0 and it was then closed as being fixed in that version. Later on, the value in the field "Merged in:" was deleted. Now there is another patch `trac_7595-failures.patch` which hasn't been merged yet as of Sage 4.3.1.alpha1. And yet the ticket is declared as "fixed", but without a value for the field "Merged in:". I think the ticket's status should now be "open" not "fixed", until `trac_7595-failures.patch` is merged.



---

archive/issue_comments_056476.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nReplying to [@sagetrac-mvngu](#comment:16):\n> The patch `trac_7595.patch` is merged in Sage 4.3.1.alpha0 ... Now there is another patch `trac_7595-failures.patch` which hasn't been merged yet as of Sage 4.3.1.alpha1.\n\nThe patch was rolled back-- neither is in Sage-4.3.1.alpha1\n\n> And yet the ticket is declared as \"fixed\"...\n\nApparently when the ticket was reopened, this did not revert. I don't know how to fix this, but the ticket is definitely open.\n\n> ... until `trac_7595-failures.patch` is merged.\n\nRepeat: as of sage-4.3.1.alpha1, *both* patches need to be merged.",
    "created_at": "2010-01-07T04:30:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56476",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:17" align="right">comment:17</div>

Replying to [@sagetrac-mvngu](#comment:16):
> The patch `trac_7595.patch` is merged in Sage 4.3.1.alpha0 ... Now there is another patch `trac_7595-failures.patch` which hasn't been merged yet as of Sage 4.3.1.alpha1.

The patch was rolled back-- neither is in Sage-4.3.1.alpha1

> And yet the ticket is declared as "fixed"...

Apparently when the ticket was reopened, this did not revert. I don't know how to fix this, but the ticket is definitely open.

> ... until `trac_7595-failures.patch` is merged.

Repeat: as of sage-4.3.1.alpha1, *both* patches need to be merged.



---

archive/issue_events_092685.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-01-13T05:03:26Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92685"
}
```



---

archive/issue_events_092686.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-01-13T05:03:26Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7595#event-92686"
}
```



---

archive/issue_comments_056477.json:
```json
{
    "body": "Merged: **4.3.1.alpha2**",
    "created_at": "2010-01-13T05:03:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56477",
    "user": "https://github.com/rlmill"
}
```

Merged: **4.3.1.alpha2**



---

archive/issue_comments_056478.json:
```json
{
    "body": "Changed merged from **4.3.1.alpha2** to **sage-4.3.1.alpha2**",
    "created_at": "2010-01-13T19:51:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7595",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7595#issuecomment-56478",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Changed merged from **4.3.1.alpha2** to **sage-4.3.1.alpha2**
