# Issue 7914: Implementation of triangular morphisms for modules with basis

archive/issues_007914.json:
```json
{
    "body": "Title says it all\n\n**Assignee:** @jbandlow\n\n**CC:**  sage-combinat adrien.boussicault@univ-mlv.fr\n\n**Author:** Jason Bandlow\n\n**Reviewer:** Nicolas M. Thi\u00e9ry\n\n**Merged:** sage-4.4.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/7914\n\n",
    "closed_at": "2010-04-15T06:00:16Z",
    "created_at": "2010-01-12T20:46:47Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.4",
    "title": "Implementation of triangular morphisms for modules with basis",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7914",
    "user": "https://github.com/jbandlow"
}
```
Title says it all

**Assignee:** @jbandlow

**CC:**  sage-combinat adrien.boussicault@univ-mlv.fr

**Author:** Jason Bandlow

**Reviewer:** Nicolas M. Thiéry

**Merged:** sage-4.4.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/7914





---

archive/issue_comments_079584.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79584",
    "user": "https://github.com/jbandlow"
}
```

**Changing status** from new to needs_review.



---

archive/attachments_009683.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular-morphisms-jb.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7914/trac_7914_triangular-morphisms-jb.patch",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_079585.json:
```json
{
    "body": "<a id='comment:1'></a>\nDepends on #7729.",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79585",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:1'></a>
Depends on #7729.



---

archive/issue_comments_079586.json:
```json
{
    "body": "**Author:** jbandlow",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79586",
    "user": "https://github.com/jbandlow"
}
```

**Author:** jbandlow



---

archive/issue_comments_079587.json:
```json
{
    "body": "<a id='comment:2'></a>\nApply only the second patch (sorry about the first one).  This was tested on top of sage-4.3.1 +\n#7976, #7921, #7938, #8028, #8001, #5524.",
    "created_at": "2010-01-28T23:45:43Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79587",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:2'></a>
Apply only the second patch (sorry about the first one).  This was tested on top of sage-4.3.1 +
#7976, #7921, #7938, #8028, #8001, #5524.



---

archive/issue_comments_079588.json:
```json
{
    "body": "<a id='comment:3'></a>\n> Title says it all\n\n\nActually, it doesn't: what's a triangular morphism?  A definition (or at the very least a reference) should be in the documentation somewhere.",
    "created_at": "2010-01-31T00:08:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79588",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
> Title says it all


Actually, it doesn't: what's a triangular morphism?  A definition (or at the very least a reference) should be in the documentation somewhere.



---

archive/attachments_009684.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular_morphisms-jb.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7914/trac_7914_triangular_morphisms-jb.patch",
    "created_at": "2010-02-19T19:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_079589.json:
```json
{
    "body": "",
    "created_at": "2010-02-19T19:49:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79589",
    "user": "https://github.com/jbandlow"
}
```





---

archive/attachments_009685.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular_morphisms-doc-jb.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7914/trac_7914_triangular_morphisms-doc-jb.patch",
    "created_at": "2010-02-19T19:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_079590.json:
```json
{
    "body": "",
    "created_at": "2010-02-19T19:51:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79590",
    "user": "https://github.com/jbandlow"
}
```





---

archive/attachments_009686.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_folded.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7914/trac_7914_folded.patch",
    "created_at": "2010-02-19T20:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_079591.json:
```json
{
    "body": "<a id='comment:4'></a>\nNicolas,  I added the patch trac_7914_triangular_morphisms-doc-jb.patch on top of your reviewer patch to fix some documentation issues (replacing 'maximal' with 'minimal' and that sort of thing).  Since the patches got out of order on the ticket, I created trac_7914_folded.patch.  This is all that needs to be applied.  It applies cleanly to sage 4.3.2. and passes tests.  I approve of Nicolas' reviewer changes (which are part of the folded patch), and believe this is ready for merging.  Note: John Palmieri's comments were useful, and have been addressed in the documentation.",
    "created_at": "2010-02-19T20:11:30Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79591",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:4'></a>
Nicolas,  I added the patch trac_7914_triangular_morphisms-doc-jb.patch on top of your reviewer patch to fix some documentation issues (replacing 'maximal' with 'minimal' and that sort of thing).  Since the patches got out of order on the ticket, I created trac_7914_folded.patch.  This is all that needs to be applied.  It applies cleanly to sage 4.3.2. and passes tests.  I approve of Nicolas' reviewer changes (which are part of the folded patch), and believe this is ready for merging.  Note: John Palmieri's comments were useful, and have been addressed in the documentation.



---

archive/issue_comments_079592.json:
```json
{
    "body": "<a id='comment:5'></a>\nI've rebased the patch on the sage-combinat queue. since there was a conflict with #8492. Please check are re-upload.",
    "created_at": "2010-03-20T11:20:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79592",
    "user": "https://github.com/hivert"
}
```

<a id='comment:5'></a>
I've rebased the patch on the sage-combinat queue. since there was a conflict with #8492. Please check are re-upload.



---

archive/issue_comments_079593.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2010-03-22T20:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79593",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_079594.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi!\n\nSorry it took me so long to get on this one. Your changes are good. All test pass on sag.math.\nPositive review!\n\nAnd thanks so much for your work on this feature.",
    "created_at": "2010-03-22T20:39:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79594",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
Hi!

Sorry it took me so long to get on this one. Your changes are good. All test pass on sag.math.
Positive review!

And thanks so much for your work on this feature.



---

archive/issue_comments_079595.json:
```json
{
    "body": "Apply only this one (includes the rebasing by Florent)",
    "created_at": "2010-03-24T09:11:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79595",
    "user": "https://github.com/nthiery"
}
```

Apply only this one (includes the rebasing by Florent)



---

archive/attachments_009687.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_folded_rebased.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7914/trac_7914_folded_rebased.patch",
    "created_at": "2010-04-03T00:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_079596.json:
```json
{
    "body": "<a id='comment:7'></a>\nI found a small but critical bug when actually trying to use this.  The `__invert__` method incorrectly defines 'domain' and 'codomain'.  Fix coming shortly.",
    "created_at": "2010-04-03T00:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79596",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:7'></a>
I found a small but critical bug when actually trying to use this.  The `__invert__` method incorrectly defines 'domain' and 'codomain'.  Fix coming shortly.



---

archive/issue_comments_079597.json:
```json
{
    "body": "**Changing status** from positive_review to needs_work.",
    "created_at": "2010-04-03T00:01:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79597",
    "user": "https://github.com/jbandlow"
}
```

**Changing status** from positive_review to needs_work.



---

archive/attachments_009688.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_rebased_fixed.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7914/trac_7914_rebased_fixed.patch",
    "created_at": "2010-04-03T00:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_079598.json:
```json
{
    "body": "Apply only this patch.",
    "created_at": "2010-04-03T00:04:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79598",
    "user": "https://github.com/jbandlow"
}
```

Apply only this patch.



---

archive/issue_comments_079599.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2010-04-03T00:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79599",
    "user": "https://github.com/jbandlow"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_079600.json:
```json
{
    "body": "<a id='comment:8'></a>\nFixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:\n\n```\n-                 domain = self.domain(),               codomain = self.codomain(), \n+                 domain = self.codomain(),             codomain = self.domain(), \n```",
    "created_at": "2010-04-03T00:08:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79600",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:8'></a>
Fixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:

```
-                 domain = self.domain(),               codomain = self.codomain(), 
+                 domain = self.codomain(),             codomain = self.domain(), 
```



---

archive/issue_comments_079601.json:
```json
{
    "body": "**Reviewer:** nthiery",
    "created_at": "2010-04-03T00:08:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79601",
    "user": "https://github.com/jbandlow"
}
```

**Reviewer:** nthiery



---

archive/issue_comments_079602.json:
```json
{
    "body": "**Changing author** from \"jbandlow\" to \"Jason Bandlow\".",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79602",
    "user": "https://github.com/nthiery"
}
```

**Changing author** from "jbandlow" to "Jason Bandlow".



---

archive/issue_comments_079603.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79603",
    "user": "https://github.com/nthiery"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_079604.json:
```json
{
    "body": "**Changing reviewer** from \"nthiery\" to \"Nicolas M. Thi\u00e9ry\".",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79604",
    "user": "https://github.com/nthiery"
}
```

**Changing reviewer** from "nthiery" to "Nicolas M. Thiéry".



---

archive/issue_comments_079605.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jbandlow](#comment%3A8):\n> Fixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:\n> \n> ```\n> -                 domain = self.domain(),               codomain = self.codomain(), \n> +                 domain = self.codomain(),             codomain = self.domain(), \n> ```\n\n\nYes, Adrien had noticed this, and was about to fix it in the Sage-Combinat\nqueue. Since this patch is not yet in Sage, I agree that it's best to\ninclude the fix right away in it. Positive review!",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79605",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:10'></a>
Replying to [jbandlow](#comment%3A8):
> Fixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:
> 
> ```
> -                 domain = self.domain(),               codomain = self.codomain(), 
> +                 domain = self.codomain(),             codomain = self.domain(), 
> ```


Yes, Adrien had noticed this, and was about to fix it in the Sage-Combinat
queue. Since this patch is not yet in Sage, I agree that it's best to
include the fix right away in it. Positive review!



---

archive/issue_events_023259.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T06:00:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7914#event-23259"
}
```



---

archive/issue_comments_079606.json:
```json
{
    "body": "<a id='comment:11'></a>\nMerged in 4.4.alpha0:\n\n- trac_7914_rebased_fixed.patch",
    "created_at": "2010-04-15T06:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79606",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
Merged in 4.4.alpha0:

- trac_7914_rebased_fixed.patch



---

archive/issue_comments_079607.json:
```json
{
    "body": "**Merged:** sage-4.4.alpha0",
    "created_at": "2010-04-15T06:00:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7914#issuecomment-79607",
    "user": "https://github.com/jhpalmieri"
}
```

**Merged:** sage-4.4.alpha0
