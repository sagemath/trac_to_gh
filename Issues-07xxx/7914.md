# Issue 7914: Implementation of triangular morphisms for modules with basis

archive/issues_007914.json:
```json
{
    "body": "Title says it all\n\n**Assignee:** @jbandlow\n\n**CC:**  sage-combinat adrien.boussicault@univ-mlv.fr\n\n**Author:** Jason Bandlow\n\n**Reviewer:** Nicolas M. Thi\u00e9ry\n\n**Merged:** sage-4.4.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/7914\n\n",
    "closed_at": "2010-04-15T06:00:16Z",
    "created_at": "2010-01-12T20:46:47Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4",
    "title": "Implementation of triangular morphisms for modules with basis",
    "type": "issue",
    "url": "https://github.com/sagemath/sage/issues/7914",
    "user": "https://github.com/jbandlow"
}
```
Title says it all

**Assignee:** @jbandlow

**CC:**  sage-combinat adrien.boussicault@univ-mlv.fr

**Author:** Jason Bandlow

**Reviewer:** Nicolas M. Thiéry

**Merged:** sage-4.4.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/7914





---

archive/issue_events_054903.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-12T20:53:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54903"
}
```



---

archive/attachments_010053.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular-morphisms-jb.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_triangular-morphisms-jb.patch",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular-morphisms-jb.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_061971.json:
```json
{
    "body": "<a id='comment:1'></a>\n**Attachment:** [trac_7914_triangular-morphisms-jb.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular-morphisms-jb.patch)\n\nDepends on #7729.",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61971",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:1'></a>
**Attachment:** [trac_7914_triangular-morphisms-jb.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular-morphisms-jb.patch)

Depends on #7729.



---

archive/issue_comments_061972.json:
```json
{
    "body": "**Author:** jbandlow",
    "created_at": "2010-01-12T20:53:54Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61972",
    "user": "https://github.com/jbandlow"
}
```

**Author:** jbandlow



---

archive/issue_comments_061973.json:
```json
{
    "body": "<a id='comment:2'></a>\nApply only the second patch (sorry about the first one).  This was tested on top of sage-4.3.1 +\n#7976, #7921, #7938, #8028, #8001, #5524.",
    "created_at": "2010-01-28T23:45:43Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61973",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:2'></a>
Apply only the second patch (sorry about the first one).  This was tested on top of sage-4.3.1 +
#7976, #7921, #7938, #8028, #8001, #5524.



---

archive/issue_comments_061974.json:
```json
{
    "body": "<a id='comment:3'></a>\n> Title says it all\n\n\nActually, it doesn't: what's a triangular morphism?  A definition (or at the very least a reference) should be in the documentation somewhere.",
    "created_at": "2010-01-31T00:08:10Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61974",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:3'></a>
> Title says it all


Actually, it doesn't: what's a triangular morphism?  A definition (or at the very least a reference) should be in the documentation somewhere.



---

archive/attachments_010054.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular_morphisms-review-nt.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_triangular_morphisms-review-nt.patch",
    "created_at": "2010-02-19T19:49:25Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-review-nt.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/attachments_010055.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular_morphisms-jb.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_triangular_morphisms-jb.patch",
    "created_at": "2010-02-19T19:49:25Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-jb.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_061975.json:
```json
{
    "body": "**Attachment:** [trac_7914_triangular_morphisms-review-nt.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-review-nt.patch)\n\n**Attachment:** [trac_7914_triangular_morphisms-jb.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-jb.patch)",
    "created_at": "2010-02-19T19:49:25Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61975",
    "user": "https://github.com/jbandlow"
}
```

**Attachment:** [trac_7914_triangular_morphisms-review-nt.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-review-nt.patch)

**Attachment:** [trac_7914_triangular_morphisms-jb.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-jb.patch)



---

archive/attachments_010056.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_triangular_morphisms-doc-jb.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_triangular_morphisms-doc-jb.patch",
    "created_at": "2010-02-19T19:51:04Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-doc-jb.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_061976.json:
```json
{
    "body": "**Attachment:** [trac_7914_triangular_morphisms-doc-jb.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-doc-jb.patch)",
    "created_at": "2010-02-19T19:51:04Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61976",
    "user": "https://github.com/jbandlow"
}
```

**Attachment:** [trac_7914_triangular_morphisms-doc-jb.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_triangular_morphisms-doc-jb.patch)



---

archive/attachments_010057.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_folded.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_folded.patch",
    "created_at": "2010-02-19T20:11:30Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_folded.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_061977.json:
```json
{
    "body": "<a id='comment:4'></a>\n**Attachment:** [trac_7914_folded.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_folded.patch)\n\nNicolas,  I added the patch trac_7914_triangular_morphisms-doc-jb.patch on top of your reviewer patch to fix some documentation issues (replacing 'maximal' with 'minimal' and that sort of thing).  Since the patches got out of order on the ticket, I created trac_7914_folded.patch.  This is all that needs to be applied.  It applies cleanly to sage 4.3.2. and passes tests.  I approve of Nicolas' reviewer changes (which are part of the folded patch), and believe this is ready for merging.  Note: John Palmieri's comments were useful, and have been addressed in the documentation.",
    "created_at": "2010-02-19T20:11:30Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61977",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:4'></a>
**Attachment:** [trac_7914_folded.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_folded.patch)

Nicolas,  I added the patch trac_7914_triangular_morphisms-doc-jb.patch on top of your reviewer patch to fix some documentation issues (replacing 'maximal' with 'minimal' and that sort of thing).  Since the patches got out of order on the ticket, I created trac_7914_folded.patch.  This is all that needs to be applied.  It applies cleanly to sage 4.3.2. and passes tests.  I approve of Nicolas' reviewer changes (which are part of the folded patch), and believe this is ready for merging.  Note: John Palmieri's comments were useful, and have been addressed in the documentation.



---

archive/issue_comments_061978.json:
```json
{
    "body": "<a id='comment:5'></a>\nI've rebased the patch on the sage-combinat queue. since there was a conflict with #8492. Please check are re-upload.",
    "created_at": "2010-03-20T11:20:26Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61978",
    "user": "https://github.com/hivert"
}
```

<a id='comment:5'></a>
I've rebased the patch on the sage-combinat queue. since there was a conflict with #8492. Please check are re-upload.



---

archive/issue_events_054904.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T20:39:00Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54904"
}
```



---

archive/issue_events_054905.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-03-22T20:39:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54905"
}
```



---

archive/issue_comments_061979.json:
```json
{
    "body": "<a id='comment:6'></a>\nHi!\n\nSorry it took me so long to get on this one. Your changes are good. All test pass on sag.math.\nPositive review!\n\nAnd thanks so much for your work on this feature.",
    "created_at": "2010-03-22T20:39:00Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61979",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
Hi!

Sorry it took me so long to get on this one. Your changes are good. All test pass on sag.math.
Positive review!

And thanks so much for your work on this feature.



---

archive/issue_comments_061980.json:
```json
{
    "body": "Apply only this one (includes the rebasing by Florent)",
    "created_at": "2010-03-24T09:11:34Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61980",
    "user": "https://github.com/nthiery"
}
```

Apply only this one (includes the rebasing by Florent)



---

archive/attachments_010058.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_folded_rebased.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_folded_rebased.patch",
    "created_at": "2010-04-03T00:01:29Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_folded_rebased.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_061981.json:
```json
{
    "body": "<a id='comment:7'></a>\n**Attachment:** [trac_7914_folded_rebased.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_folded_rebased.patch)\n\nI found a small but critical bug when actually trying to use this.  The `__invert__` method incorrectly defines 'domain' and 'codomain'.  Fix coming shortly.",
    "created_at": "2010-04-03T00:01:29Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61981",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:7'></a>
**Attachment:** [trac_7914_folded_rebased.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_folded_rebased.patch)

I found a small but critical bug when actually trying to use this.  The `__invert__` method incorrectly defines 'domain' and 'codomain'.  Fix coming shortly.



---

archive/issue_events_054906.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-04-03T00:01:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54906"
}
```



---

archive/issue_events_054907.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-04-03T00:01:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54907"
}
```



---

archive/attachments_010059.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7914_rebased_fixed.patch",
    "asset_url": "tarball://root/attachments/ticket7914/trac_7914_rebased_fixed.patch",
    "created_at": "2010-04-03T00:04:46Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "attachment",
    "url": "https://github.com/sagemath/sage/files/ticket7914/trac_7914_rebased_fixed.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_061982.json:
```json
{
    "body": "**Attachment:** [trac_7914_rebased_fixed.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_rebased_fixed.patch)\n\nApply only this patch.",
    "created_at": "2010-04-03T00:04:46Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61982",
    "user": "https://github.com/jbandlow"
}
```

**Attachment:** [trac_7914_rebased_fixed.patch](https://github.com/sagemath/sage/files/ticket7914/trac_7914_rebased_fixed.patch)

Apply only this patch.



---

archive/issue_events_054908.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-04-03T00:08:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54908"
}
```



---

archive/issue_events_054909.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-04-03T00:08:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54909"
}
```



---

archive/issue_comments_061983.json:
```json
{
    "body": "<a id='comment:8'></a>\nFixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:\n\n```\n-                 domain = self.domain(),               codomain = self.codomain(), \n+                 domain = self.codomain(),             codomain = self.domain(), \n```",
    "created_at": "2010-04-03T00:08:18Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61983",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:8'></a>
Fixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:

```
-                 domain = self.domain(),               codomain = self.codomain(), 
+                 domain = self.codomain(),             codomain = self.domain(), 
```



---

archive/issue_comments_061984.json:
```json
{
    "body": "**Reviewer:** nthiery",
    "created_at": "2010-04-03T00:08:40Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61984",
    "user": "https://github.com/jbandlow"
}
```

**Reviewer:** nthiery



---

archive/issue_comments_061985.json:
```json
{
    "body": "**Changing author** from \"jbandlow\" to \"Jason Bandlow\".",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61985",
    "user": "https://github.com/nthiery"
}
```

**Changing author** from "jbandlow" to "Jason Bandlow".



---

archive/issue_events_054910.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-04-03T08:47:20Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54910"
}
```



---

archive/issue_events_054911.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-04-03T08:47:20Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54911"
}
```



---

archive/issue_comments_061986.json:
```json
{
    "body": "**Changing reviewer** from \"nthiery\" to \"Nicolas M. Thi\u00e9ry\".",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61986",
    "user": "https://github.com/nthiery"
}
```

**Changing reviewer** from "nthiery" to "Nicolas M. Thiéry".



---

archive/issue_comments_061987.json:
```json
{
    "body": "<a id='comment:10'></a>\nReplying to [jbandlow](#comment%3A8):\n> Fixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:\n> \n> ```\n> -                 domain = self.domain(),               codomain = self.codomain(), \n> +                 domain = self.codomain(),             codomain = self.domain(), \n> ```\n\n\nYes, Adrien had noticed this, and was about to fix it in the Sage-Combinat\nqueue. Since this patch is not yet in Sage, I agree that it's best to\ninclude the fix right away in it. Positive review!",
    "created_at": "2010-04-03T08:47:20Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61987",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:10'></a>
Replying to [jbandlow](#comment%3A8):
> Fixed.  The only change between the new patch and the previous one is line 1076 of modules_with_basis.py, in the `invert` method:
> 
> ```
> -                 domain = self.domain(),               codomain = self.codomain(), 
> +                 domain = self.codomain(),             codomain = self.domain(), 
> ```


Yes, Adrien had noticed this, and was about to fix it in the Sage-Combinat
queue. Since this patch is not yet in Sage, I agree that it's best to
include the fix right away in it. Positive review!



---

archive/issue_events_054912.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T06:00:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54912"
}
```



---

archive/issue_events_054913.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T06:00:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7914#event-54913"
}
```



---

archive/issue_comments_061988.json:
```json
{
    "body": "<a id='comment:11'></a>\nMerged in 4.4.alpha0:\n\n- trac_7914_rebased_fixed.patch",
    "created_at": "2010-04-15T06:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61988",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:11'></a>
Merged in 4.4.alpha0:

- trac_7914_rebased_fixed.patch



---

archive/issue_comments_061989.json:
```json
{
    "body": "**Merged:** sage-4.4.alpha0",
    "created_at": "2010-04-15T06:00:16Z",
    "issue": "https://github.com/sagemath/sage/issues/7914",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7914#issuecomment-61989",
    "user": "https://github.com/jhpalmieri"
}
```

**Merged:** sage-4.4.alpha0
