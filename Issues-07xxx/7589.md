# Issue 7589: bug in coercion and cyclotomic fields

archive/issues_007589.json:
```json
{
    "assignees": [],
    "body": "This should work automagically:\n\n```\n----------------------------------------------------------------------\n| Sage Version 4.2.1, Release Date: 2009-11-14                       |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: a = CyclotomicField(3).random_element()\nsage: b = CyclotomicField(4).random_element()\nsage: a + b\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/home/ghitza/.sage/temp/artin/9098/_home_ghitza__sage_init_sage_0.py in <module>()\n\n/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.ModuleElement.__add__ (sage/structure/element.c:6989)()\n\n/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7021)()\n\nTypeError: unsupported operand parent(s) for '+': 'Cyclotomic Field of order 3 and degree 2' and 'Cyclotomic Field of order 4 and degree 2'\nsage: a * b\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n/home/ghitza/.sage/temp/artin/9098/_home_ghitza__sage_init_sage_0.py in <module>()\n\n/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.RingElement.__mul__ (sage/structure/element.c:10248)()\n\n/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7021)()\n\nTypeError: unsupported operand parent(s) for '*': 'Cyclotomic Field of order 3 and degree 2' and 'Cyclotomic Field of order 4 and degree 2'\n```\n\nI think it's a coercion problem.  If someone knows better, please change the trac component accordingly.\n\n\nAssignee: **@robertwb**\n\nCC:  vripoll stumpc5 @tscrim\n\nKeywords: **coercion, cyclotomic, coxeter**\n\nBranch/Commit: **[0a00b44](https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f)**\n\nReviewer: **Travis Scrimshaw**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7589_\n\n",
    "closed_at": "2018-05-08T17:27:45Z",
    "created_at": "2009-12-03T09:45:31Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20coercion",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "bug in coercion and cyclotomic fields",
    "type": "issue",
    "updated_at": "2018-05-08T17:27:45Z",
    "url": "https://github.com/sagemath/sage/issues/7589",
    "user": "https://github.com/aghitza"
}
```
This should work automagically:

```
----------------------------------------------------------------------
| Sage Version 4.2.1, Release Date: 2009-11-14                       |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: a = CyclotomicField(3).random_element()
sage: b = CyclotomicField(4).random_element()
sage: a + b
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/ghitza/.sage/temp/artin/9098/_home_ghitza__sage_init_sage_0.py in <module>()

/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.ModuleElement.__add__ (sage/structure/element.c:6989)()

/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7021)()

TypeError: unsupported operand parent(s) for '+': 'Cyclotomic Field of order 3 and degree 2' and 'Cyclotomic Field of order 4 and degree 2'
sage: a * b
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)

/home/ghitza/.sage/temp/artin/9098/_home_ghitza__sage_init_sage_0.py in <module>()

/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/element.so in sage.structure.element.RingElement.__mul__ (sage/structure/element.c:10248)()

/home/ghitza/sage-devel/local/lib/python2.6/site-packages/sage/structure/coerce.so in sage.structure.coerce.CoercionModel_cache_maps.bin_op (sage/structure/coerce.c:7021)()

TypeError: unsupported operand parent(s) for '*': 'Cyclotomic Field of order 3 and degree 2' and 'Cyclotomic Field of order 4 and degree 2'
```

I think it's a coercion problem.  If someone knows better, please change the trac component accordingly.


Assignee: **@robertwb**

CC:  vripoll stumpc5 @tscrim

Keywords: **coercion, cyclotomic, coxeter**

Branch/Commit: **[0a00b44](https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f)**

Reviewer: **Travis Scrimshaw**

Author: **Frédéric Chapoton**

_Issue created by migration from https://trac.sagemath.org/ticket/7589_





---

archive/issue_events_082296.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-12-03T09:45:31Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82296"
}
```



---

archive/issue_events_082297.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-12-03T09:45:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20coercion",
    "label_color": "0000ff",
    "label_name": "component: coercion",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82297"
}
```



---

archive/issue_events_082298.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-12-03T09:45:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82298"
}
```



---

archive/issue_events_082299.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-12-03T09:45:31Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82299"
}
```



---

archive/issue_events_082300.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82300"
}
```



---

archive/issue_events_082301.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82301"
}
```



---

archive/issue_events_082302.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82302"
}
```



---

archive/issue_events_082303.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82303"
}
```



---

archive/issue_comments_058049.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nHas anyone looked at this ticket? I ran into this today and discover that the issue has been reported 4 years ago... This bug is particularly confusing for the user, especially when you read the doc that says \"Due to their default embedding into CC, cyclotomic number fields are all compatible\", and goes on to show the following example:\n\n```\n      sage: cf30 = CyclotomicField(30)\n      sage: cf5 = CyclotomicField(5)\n      sage: cf3 = CyclotomicField(3)\n      sage: cf30.gen() + cf5.gen() + cf3.gen()\n      zeta30^6 + zeta30^5 + zeta30 - 1\n```\nIt turns out Sage is able to compute that only because the first field contains the next two! Note the following test:\n\n```\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502 Sage Version 6.2.beta7, Release Date: 2014-04-08                   \u2502\n      \u2502 Type \"notebook()\" for the browser-based notebook interface.        \u2502\n      \u2502 Type \"help()\" for help.                                            \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      sage: cf15=CyclotomicField(15)\n      sage: cf5=CyclotomicField(5)\n      sage: cf3=CyclotomicField(3)\n      \n      sage: cf15.gen()+cf5.gen()+cf3.gen()\n      zeta15^5 + zeta15^3 + zeta15\n      \n      sage: cf5.gen()+cf3.gen()+cf15.gen()\n      Traceback (most recent call last)\n      ...\n      TypeError: unsupported operand parent(s) for '+': 'Cyclotomic Field of order 5 and degree 4'   and 'Cyclotomic Field of order 3 and degree 2'\n      \n      sage: cf5.gen()+cf3.gen()\n      Traceback (most recent call last)\n      ...\n      TypeError: unsupported operand parent(s) for '+': 'Cyclotomic Field of order 5 and degree 4' and 'Cyclotomic Field of order 3 and degree 2'\n      \n      sage: 0*cf15.gen()+cf5.gen()+cf3.gen()\n      zeta15^5 + zeta15^3\n```",
    "created_at": "2014-04-11T00:06:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58049",
    "user": "https://github.com/sagetrac-vripoll"
}
```

<a id='comment:3'>Comment 3:</a>
Has anyone looked at this ticket? I ran into this today and discover that the issue has been reported 4 years ago... This bug is particularly confusing for the user, especially when you read the doc that says "Due to their default embedding into CC, cyclotomic number fields are all compatible", and goes on to show the following example:

```
      sage: cf30 = CyclotomicField(30)
      sage: cf5 = CyclotomicField(5)
      sage: cf3 = CyclotomicField(3)
      sage: cf30.gen() + cf5.gen() + cf3.gen()
      zeta30^6 + zeta30^5 + zeta30 - 1
```
It turns out Sage is able to compute that only because the first field contains the next two! Note the following test:

```
      ┌────────────────────────────────────────────────────────────────────┐
      │ Sage Version 6.2.beta7, Release Date: 2014-04-08                   │
      │ Type "notebook()" for the browser-based notebook interface.        │
      │ Type "help()" for help.                                            │
      └────────────────────────────────────────────────────────────────────┘
      sage: cf15=CyclotomicField(15)
      sage: cf5=CyclotomicField(5)
      sage: cf3=CyclotomicField(3)
      
      sage: cf15.gen()+cf5.gen()+cf3.gen()
      zeta15^5 + zeta15^3 + zeta15
      
      sage: cf5.gen()+cf3.gen()+cf15.gen()
      Traceback (most recent call last)
      ...
      TypeError: unsupported operand parent(s) for '+': 'Cyclotomic Field of order 5 and degree 4'   and 'Cyclotomic Field of order 3 and degree 2'
      
      sage: cf5.gen()+cf3.gen()
      Traceback (most recent call last)
      ...
      TypeError: unsupported operand parent(s) for '+': 'Cyclotomic Field of order 5 and degree 4' and 'Cyclotomic Field of order 3 and degree 2'
      
      sage: 0*cf15.gen()+cf5.gen()+cf3.gen()
      zeta15^5 + zeta15^3
```



---

archive/issue_comments_058050.json:
```json
{
    "body": "Changed keywords from **** to **coercion, cyclotomic**",
    "created_at": "2014-04-11T00:07:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58050",
    "user": "https://github.com/sagetrac-vripoll"
}
```

Changed keywords from **** to **coercion, cyclotomic**



---

archive/issue_events_082304.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82304"
}
```



---

archive/issue_events_082305.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82305"
}
```



---

archive/issue_events_082306.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82306"
}
```



---

archive/issue_events_082307.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82307"
}
```



---

archive/issue_comments_058051.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nsee also the somehow related #20746",
    "created_at": "2016-08-31T15:41:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58051",
    "user": "https://github.com/videlec"
}
```

<a id='comment:8'>Comment 8:</a>
see also the somehow related #20746



---

archive/issue_events_082308.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-08-31T15:41:29Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82308"
}
```



---

archive/issue_events_082309.json:
```json
{
    "actor": "https://github.com/videlec",
    "created_at": "2016-08-31T15:41:29Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82309"
}
```



---

archive/issue_events_082310.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-30T16:55:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82310"
}
```



---

archive/issue_comments_058052.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nfirst tentative, let us see what patchbot says\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f\">0a00b44</a></td><td><code>pushout for cyclotomic fields</code></td></tr></table>\n",
    "created_at": "2018-04-30T16:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58052",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:9'>Comment 9:</a>
first tentative, let us see what patchbot says

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f">0a00b44</a></td><td><code>pushout for cyclotomic fields</code></td></tr></table>




---

archive/issue_comments_058053.json:
```json
{
    "body": "Commit: **[0a00b44](https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f)**",
    "created_at": "2018-04-30T16:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58053",
    "user": "https://github.com/fchapoton"
}
```

Commit: **[0a00b44](https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f)**



---

archive/issue_comments_058054.json:
```json
{
    "body": "Author: **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2018-04-30T16:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58054",
    "user": "https://github.com/fchapoton"
}
```

Author: **Frédéric Chapoton**



---

archive/issue_comments_058055.json:
```json
{
    "body": "Branch: **[u/chapoton/7589](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/7589)**",
    "created_at": "2018-04-30T16:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58055",
    "user": "https://github.com/fchapoton"
}
```

Branch: **[u/chapoton/7589](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/7589)**



---

archive/issue_comments_058056.json:
```json
{
    "body": "Changed keywords from **coercion, cyclotomic** to **coercion, cyclotomic, coxeter**",
    "created_at": "2018-04-30T16:55:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58056",
    "user": "https://github.com/fchapoton"
}
```

Changed keywords from **coercion, cyclotomic** to **coercion, cyclotomic, coxeter**



---

archive/issue_events_082311.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-30T16:55:19Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-7.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82311"
}
```



---

archive/issue_events_082312.json:
```json
{
    "actor": "https://github.com/fchapoton",
    "created_at": "2018-04-30T16:55:19Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "milestone_number": null,
    "milestone_title": "sage-8.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82312"
}
```



---

archive/issue_comments_058057.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nYou should take care of embeddings. The map `add: CF(p) x CF(q) -> CF(lcm(p,q))` is not uniquely defined.",
    "created_at": "2018-04-30T16:58:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58057",
    "user": "https://github.com/videlec"
}
```

<a id='comment:10'>Comment 10:</a>
You should take care of embeddings. The map `add: CF(p) x CF(q) -> CF(lcm(p,q))` is not uniquely defined.



---

archive/issue_comments_058058.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nWell. What we just add here is the information that we need to go through CF(lcm). No responsability is taken on the existence of a canonical coercion from CF(p) to CF(lcm). I guess that this already an existing thing..",
    "created_at": "2018-04-30T19:36:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58058",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:11'>Comment 11:</a>
Well. What we just add here is the information that we need to go through CF(lcm). No responsability is taken on the existence of a canonical coercion from CF(p) to CF(lcm). I guess that this already an existing thing..



---

archive/issue_comments_058059.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nAs Frederic said, this does not change the (canonical) coercions between cyclotomic fields but allows the analogous computation to\n\n```\nsage: R.<x,y> = ZZ[]\nsage: S.<y> = QQ[]\nsage: R.an_element() + S.an_element()\nx + y\nsage: _.parent()\nMultivariate Polynomial Ring in x, y over Rational Field\n```",
    "created_at": "2018-04-30T23:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58059",
    "user": "https://github.com/tscrim"
}
```

<a id='comment:12'>Comment 12:</a>
As Frederic said, this does not change the (canonical) coercions between cyclotomic fields but allows the analogous computation to

```
sage: R.<x,y> = ZZ[]
sage: S.<y> = QQ[]
sage: R.an_element() + S.an_element()
x + y
sage: _.parent()
Multivariate Polynomial Ring in x, y over Rational Field
```



---

archive/issue_comments_058060.json:
```json
{
    "body": "Reviewer: **Travis Scrimshaw**",
    "created_at": "2018-04-30T23:01:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58060",
    "user": "https://github.com/tscrim"
}
```

Reviewer: **Travis Scrimshaw**



---

archive/issue_events_082313.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-04-30T23:01:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82313"
}
```



---

archive/issue_events_082314.json:
```json
{
    "actor": "https://github.com/tscrim",
    "created_at": "2018-04-30T23:01:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82314"
}
```



---

archive/issue_comments_058061.json:
```json
{
    "body": "Changed branch from **[u/chapoton/7589](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/7589)** to **[0a00b44](https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f)**",
    "created_at": "2018-05-08T17:27:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7589#issuecomment-58061",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/chapoton/7589](https://github.com/sagemath/sagetrac-mirror/tree/u/chapoton/7589)** to **[0a00b44](https://github.com/sagemath/sagetrac-mirror/commit/0a00b44d43002eaf650a418b516a838cb32f334f)**



---

archive/issue_events_082315.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2018-05-08T17:27:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82315"
}
```



---

archive/issue_events_082316.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "3c408bc16f869a6444d60ef7f046bf720cf4369a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2018-05-08T17:27:45Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7589",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7589#event-82316"
}
```
