# Issue 7979: pari-2.3.3 sometimes ignores --graphic=none build option

archive/issues_007979.json:
```json
{
    "body": "pdehaye reported a build error in pari on IRC.\n\nWe tracked this down to what seems to be a bug in pari's Configure script (or rather config/get_fltk): if X11 is not found, and fltk is found, it ignores the --graphic=none option. It then tries to build with fltk support, and fails spectacularly.\n\n(Aside: pari-2.4.2.alpha still has the same logic in config/get_fltk.) This [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/0c895b6b12eb1d41) thread also reports the same problem.\n\nAssignee: GeorgSWeber\n\nCC:  @jaapspies\n\nResolution: wontfix\n\nAuthor: Willem Jan Palenstijn, Minh Van Nguyen\n\nUpstream: None of the above - read trac for reasoning.\n\nIssue created by migration from https://trac.sagemath.org/ticket/7979\n\n",
    "closed_at": "2010-04-29T06:09:56Z",
    "created_at": "2010-01-18T17:48:44Z",
    "labels": [
        "component: build",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "pari-2.3.3 sometimes ignores --graphic=none build option",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7979",
    "user": "https://github.com/wjp"
}
```
pdehaye reported a build error in pari on IRC.

We tracked this down to what seems to be a bug in pari's Configure script (or rather config/get_fltk): if X11 is not found, and fltk is found, it ignores the --graphic=none option. It then tries to build with fltk support, and fails spectacularly.

(Aside: pari-2.4.2.alpha still has the same logic in config/get_fltk.) This [sage-support](http://groups.google.com/group/sage-support/browse_thread/thread/0c895b6b12eb1d41) thread also reports the same problem.

Assignee: GeorgSWeber

CC:  @jaapspies

Resolution: wontfix

Author: Willem Jan Palenstijn, Minh Van Nguyen

Upstream: None of the above - read trac for reasoning.

Issue created by migration from https://trac.sagemath.org/ticket/7979





---

archive/issue_comments_069493.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [pari_fltk.patch](tarball://root/attachments/some-uuid/ticket7979/pari_fltk.patch) by @wjp created at 2010-01-18 18:21:12\n\nI contacted Karim Belabas about this, suggesting the attached patch to pari's `config/get_fltk`.",
    "created_at": "2010-01-18T18:21:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7979#issuecomment-69493",
    "user": "https://github.com/wjp"
}
```

<a id='comment:1'></a>Attachment [pari_fltk.patch](tarball://root/attachments/some-uuid/ticket7979/pari_fltk.patch) by @wjp created at 2010-01-18 18:21:12

I contacted Karim Belabas about this, suggesting the attached patch to pari's `config/get_fltk`.



---

archive/issue_comments_069494.json:
```json
{
    "body": "<a id='comment:2'></a>Updated spkg is up at\n\nhttp://boxen.math.washington.edu/home/mvngu/spkg/standard/pari/pari-2.3.3.p8.spkg\n\nThis has Willem's patch for `src/config/get_fltk`. This spkg might need to be based on that at #8099.",
    "created_at": "2010-02-02T17:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7979#issuecomment-69494",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:2'></a>Updated spkg is up at

http://boxen.math.washington.edu/home/mvngu/spkg/standard/pari/pari-2.3.3.p8.spkg

This has Willem's patch for `src/config/get_fltk`. This spkg might need to be based on that at #8099.



---

archive/issue_comments_069495.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-02-02T17:58:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7979#issuecomment-69495",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Changing status from new to needs_review.



---

archive/issue_events_019088.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-04-29T06:09:56Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7979#event-19088"
}
```



---

archive/issue_comments_069496.json:
```json
{
    "body": "<a id='comment:5'></a>Ticket #8453 upgrades Pari to version 2.3.5, so this ticket is no longer relevant. So I'm closing this ticket as \"wontfix\". However, the file `config/get_fltk` in Pari 2.3.5 has the same logic as in Pari 2.3.3 so it's possible that Pari 2.3.5 also ignores the build option \"--graphic=none\". If that issue comes up, open another ticket to patch Pari 2.3.5 for Sage.",
    "created_at": "2010-04-29T06:09:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7979#issuecomment-69496",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:5'></a>Ticket #8453 upgrades Pari to version 2.3.5, so this ticket is no longer relevant. So I'm closing this ticket as "wontfix". However, the file `config/get_fltk` in Pari 2.3.5 has the same logic as in Pari 2.3.3 so it's possible that Pari 2.3.5 also ignores the build option "--graphic=none". If that issue comes up, open another ticket to patch Pari 2.3.5 for Sage.



---

archive/issue_comments_069497.json:
```json
{
    "body": "Resolution: wontfix",
    "created_at": "2010-04-29T06:09:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7979#issuecomment-69497",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

Resolution: wontfix



---

archive/issue_events_019089.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-04-29T06:10:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7979",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7979#event-19089"
}
```
