# Issue 7676: shortest_path_all pairs in Cython through Floyd Warshall

archive/issues_007676.json:
```json
{
    "assignees": [
        "https://github.com/rlmill"
    ],
    "body": "<div id=\"comment:0\"></div>\n\nEverything is explained there :\n\nhttp://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm\n\nComponent: **graph theory**\n\nAuthor: **David Coudert**\n\nBranch/Commit: **[`12d4018`](https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5)**\n\nReviewer: **Dima Pasechnik**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7676_\n\n",
    "closed_at": "2021-12-12T15:09:08Z",
    "created_at": "2009-12-13T16:33:51Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-9.5",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "shortest_path_all pairs in Cython through Floyd Warshall",
    "type": "issue",
    "updated_at": "2021-12-12T15:09:08Z",
    "url": "https://github.com/sagemath/sage/issues/7676",
    "user": "https://github.com/nathanncohen"
}
```
<div id="comment:0"></div>

Everything is explained there :

http://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm

Component: **graph theory**

Author: **David Coudert**

Branch/Commit: **[`12d4018`](https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5)**

Reviewer: **Dima Pasechnik**

_Issue created by migration from https://trac.sagemath.org/ticket/7676_





---

archive/issue_events_093906.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-13T16:33:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93906"
}
```



---

archive/issue_events_093907.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-13T16:33:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93907"
}
```



---

archive/issue_events_093908.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-13T16:33:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/p%3A%20major%20/%203",
    "label_color": "ffbb00",
    "label_name": "p: major / 3",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93908"
}
```



---

archive/issue_events_093909.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-13T16:33:51Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93909"
}
```



---

archive/issue_events_093910.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-13T16:33:51Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93910"
}
```



---

archive/issue_events_093911.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-06-06T11:00:50Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93911"
}
```



---

archive/issue_events_093912.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93912"
}
```



---

archive/issue_events_093913.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93913"
}
```



---

archive/issue_events_093914.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93914"
}
```



---

archive/issue_events_093915.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93915"
}
```



---

archive/issue_events_093916.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93916"
}
```



---

archive/issue_events_093917.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93917"
}
```



---

archive/issue_events_093918.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93918"
}
```



---

archive/issue_events_093919.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93919"
}
```



---

archive/issue_comments_057477.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nAccording to https://ask.sagemath.org/question/44823/sage-floyd-algorithm-in-cython/ SciPy already includes an implementation of this that is quite fast, and should probably be used over any implementation in Sage.",
    "created_at": "2019-01-07T13:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57477",
    "user": "https://github.com/embray"
}
```

<div id="comment:6" align="right">comment:6</div>

According to https://ask.sagemath.org/question/44823/sage-floyd-algorithm-in-cython/ SciPy already includes an implementation of this that is quite fast, and should probably be used over any implementation in Sage.



---

archive/issue_events_093920.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-07T13:11:35Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93920"
}
```



---

archive/issue_events_093921.json:
```json
{
    "actor": "https://github.com/embray",
    "created_at": "2019-01-07T13:11:35Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93921"
}
```



---

archive/issue_comments_057478.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nIf nobody else is currently working on this can I go ahead and implement shortest_path_all pair using Floyd warshall algorithm ?",
    "created_at": "2020-02-06T18:47:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57478",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:7" align="right">comment:7</div>

If nobody else is currently working on this can I go ahead and implement shortest_path_all pair using Floyd warshall algorithm ?



---

archive/issue_comments_057479.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nThe first step is to survey the many algorithms we already have with data structures and specific conditions (e.g., weighted, multi edges, loops, etc.).",
    "created_at": "2020-02-07T07:58:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57479",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:8" align="right">comment:8</div>

The first step is to survey the many algorithms we already have with data structures and specific conditions (e.g., weighted, multi edges, loops, etc.).



---

archive/issue_comments_057480.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI have surveyed all the algorithm and data structure sage has. All pair shortest path works only for an unweighted graph. Although we can use boost interface for this purpose. But I think sage should have its own implementation of Floyd Warshall algorithm[https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm](https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm) for a weighted graph with positive or negative edge weights(but with no negative cycles).",
    "created_at": "2020-02-08T08:30:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57480",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:9" align="right">comment:9</div>

I have surveyed all the algorithm and data structure sage has. All pair shortest path works only for an unweighted graph. Although we can use boost interface for this purpose. But I think sage should have its own implementation of Floyd Warshall algorithm[https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm](https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm) for a weighted graph with positive or negative edge weights(but with no negative cycles).



---

archive/issue_comments_057481.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nI don't think sage should have it's own implementation if the one of Boost is fast enough. \nYou can give it a try, but I'm not sure you can produce something faster than `'Floyd-Warshall_Boost'`.\n\nNote that we already have a (slow) Python implementation `'Floyd-Warshall-Python'` for weighted graphs, and a Cython implementation `'Floyd-Warshall-Cython'` but for unweighted graphs only.",
    "created_at": "2020-02-08T11:39:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57481",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:10" align="right">comment:10</div>

I don't think sage should have it's own implementation if the one of Boost is fast enough. 
You can give it a try, but I'm not sure you can produce something faster than `'Floyd-Warshall_Boost'`.

Note that we already have a (slow) Python implementation `'Floyd-Warshall-Python'` for weighted graphs, and a Cython implementation `'Floyd-Warshall-Cython'` but for unweighted graphs only.



---

archive/issue_comments_057482.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nThanks for your helpful suggestion. I will look into it.",
    "created_at": "2020-02-08T13:37:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57482",
    "user": "https://github.com/vipul79321"
}
```

<div id="comment:11" align="right">comment:11</div>

Thanks for your helpful suggestion. I will look into it.



---

archive/issue_comments_057483.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nI added the `Floyd-Warshall` implementation of `SciPy`. It's working well but it's not as fast as expected. In fact, most of the time is wasted in turning the graph to a Numpy array and then turning the results to required dict of dicts.\n\n```\nsage: D = digraphs.RandomDirectedGNP(30, .33)\nsage: for u, v in D.edges(labels=False):\n....:     D.set_edge_label(u, v, randrange(100))\nsage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_Boost')\nCPU times: user 6.44 ms, sys: 517 \u00b5s, total: 6.96 ms\nWall time: 6.56 ms\nsage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_SciPy')\nCPU times: user 30.2 ms, sys: 1.85 ms, total: 32 ms\nWall time: 30.6 ms\n```\n\n```\nsage: D = digraphs.RandomDirectedGNP(300, .33)\nsage: for u, v in D.edges(labels=False):\n....:     D.set_edge_label(u, v, randrange(100))\nsage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_Boost')\nCPU times: user 2.73 s, sys: 18.6 ms, total: 2.75 s\nWall time: 2.76 s\nsage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_SciPy')\nCPU times: user 1.95 s, sys: 61.6 ms, total: 2.01 s\nWall time: 2.13 s\n```\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5\"><code>12d4018</code></a></td><td><code>trac #7676: Floyd-Warshall with SciPy</code></td></tr></table>\n",
    "created_at": "2021-10-16T16:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57483",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:12" align="right">comment:12</div>

I added the `Floyd-Warshall` implementation of `SciPy`. It's working well but it's not as fast as expected. In fact, most of the time is wasted in turning the graph to a Numpy array and then turning the results to required dict of dicts.

```
sage: D = digraphs.RandomDirectedGNP(30, .33)
sage: for u, v in D.edges(labels=False):
....:     D.set_edge_label(u, v, randrange(100))
sage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_Boost')
CPU times: user 6.44 ms, sys: 517 Âµs, total: 6.96 ms
Wall time: 6.56 ms
sage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_SciPy')
CPU times: user 30.2 ms, sys: 1.85 ms, total: 32 ms
Wall time: 30.6 ms
```

```
sage: D = digraphs.RandomDirectedGNP(300, .33)
sage: for u, v in D.edges(labels=False):
....:     D.set_edge_label(u, v, randrange(100))
sage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_Boost')
CPU times: user 2.73 s, sys: 18.6 ms, total: 2.75 s
Wall time: 2.76 s
sage: %time _ = D.shortest_path_all_pairs(by_weight=True, algorithm='Floyd-Warshall_SciPy')
CPU times: user 1.95 s, sys: 61.6 ms, total: 2.01 s
Wall time: 2.13 s
```

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5"><code>12d4018</code></a></td><td><code>trac #7676: Floyd-Warshall with SciPy</code></td></tr></table>




---

archive/issue_comments_057484.json:
```json
{
    "body": "Branch: **[public/graphs/7676_floyd_scipy](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/7676_floyd_scipy)**",
    "created_at": "2021-10-16T16:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57484",
    "user": "https://github.com/dcoudert"
}
```

Branch: **[public/graphs/7676_floyd_scipy](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/7676_floyd_scipy)**



---

archive/issue_comments_057485.json:
```json
{
    "body": "Author: **David Coudert**",
    "created_at": "2021-10-16T16:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57485",
    "user": "https://github.com/dcoudert"
}
```

Author: **David Coudert**



---

archive/issue_events_093922.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-10-16T16:15:49Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "milestone_number": null,
    "milestone_title": "sage-9.5",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93922"
}
```



---

archive/issue_events_093923.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-10-16T16:15:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/wishlist%20item",
    "label_color": "e81ff9",
    "label_name": "wishlist item",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93923"
}
```



---

archive/issue_events_093924.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-10-16T16:15:49Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93924"
}
```



---

archive/issue_events_093925.json:
```json
{
    "actor": "https://github.com/dcoudert",
    "created_at": "2021-10-16T16:15:49Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93925"
}
```



---

archive/issue_comments_057486.json:
```json
{
    "body": "Commit: **[`12d4018`](https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5)**",
    "created_at": "2021-10-16T16:15:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57486",
    "user": "https://github.com/dcoudert"
}
```

Commit: **[`12d4018`](https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5)**



---

archive/issue_comments_057487.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nSo scipy thinks of graphs as matrices, there no special format/backend?",
    "created_at": "2021-12-04T12:32:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57487",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:13" align="right">comment:13</div>

So scipy thinks of graphs as matrices, there no special format/backend?



---

archive/issue_comments_057488.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nWhen you look at the code of scipy (for instance, https://github.com/scipy/scipy/blob/master/scipy/sparse/csgraph/_shortest_path.pyx), the input parameter is always\n\n```\n    csgraph : array, matrix, or sparse matrix, 2 dimensions\n        The N x N array of distances representing the input graph.\n```\nYou can also check method `validate_graph` in https://github.com/scipy/scipy/blob/master/scipy/sparse/csgraph/_validation.py. It may convert from one matrix format to another.",
    "created_at": "2021-12-04T12:53:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57488",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:14" align="right">comment:14</div>

When you look at the code of scipy (for instance, https://github.com/scipy/scipy/blob/master/scipy/sparse/csgraph/_shortest_path.pyx), the input parameter is always

```
    csgraph : array, matrix, or sparse matrix, 2 dimensions
        The N x N array of distances representing the input graph.
```
You can also check method `validate_graph` in https://github.com/scipy/scipy/blob/master/scipy/sparse/csgraph/_validation.py. It may convert from one matrix format to another.



---

archive/issue_comments_057489.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nSo now the question is whether we finalize this ticket or move it to wontfix. Both options are OK for me.",
    "created_at": "2021-12-04T14:25:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57489",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:15" align="right">comment:15</div>

So now the question is whether we finalize this ticket or move it to wontfix. Both options are OK for me.



---

archive/issue_comments_057490.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nlet us merge it",
    "created_at": "2021-12-04T14:59:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57490",
    "user": "https://github.com/dimpase"
}
```

<div id="comment:16" align="right">comment:16</div>

let us merge it



---

archive/issue_events_093926.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-04T15:00:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93926"
}
```



---

archive/issue_events_093927.json:
```json
{
    "actor": "https://github.com/dimpase",
    "created_at": "2021-12-04T15:00:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93927"
}
```



---

archive/issue_comments_057491.json:
```json
{
    "body": "Reviewer: **Dima Pasechnik**",
    "created_at": "2021-12-04T15:00:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57491",
    "user": "https://github.com/dimpase"
}
```

Reviewer: **Dima Pasechnik**



---

archive/issue_comments_057492.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nThanks.",
    "created_at": "2021-12-04T15:05:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57492",
    "user": "https://github.com/dcoudert"
}
```

<div id="comment:18" align="right">comment:18</div>

Thanks.



---

archive/issue_events_093928.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2021-12-12T15:09:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93928"
}
```



---

archive/issue_events_093929.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "f71b4e31bb735cba3a3d3bd5623b410fc88c4468",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2021-12-12T15:09:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7676#event-93929"
}
```



---

archive/issue_comments_057493.json:
```json
{
    "body": "Changed branch from **[public/graphs/7676_floyd_scipy](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/7676_floyd_scipy)** to **[`12d4018`](https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5)**",
    "created_at": "2021-12-12T15:09:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7676",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7676#issuecomment-57493",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[public/graphs/7676_floyd_scipy](https://github.com/sagemath/sagetrac-mirror/tree/public/graphs/7676_floyd_scipy)** to **[`12d4018`](https://github.com/sagemath/sagetrac-mirror/commit/12d4018639ea9df2cb2b0d44ea7707cc429be1d5)**
