# Issue 7304: Contract edge in graph

archive/issues_007304.json:
```json
{
    "assignees": [],
    "body": "This patch contract an edge (u,v) in a graph. In the resulting graph vertex u is merged into vertex v.\n\nThe variables u and v can be passed as variables, a tuple (u,v) or a 3-tuple (u,v,'label'). The last allows us to use an element from G.edges() for contraction.\n\nDepends on #23290\n\nAssignee: **@rlmill**\n\nCC:  brunellus lkeough @dcoudert @tscrim Stefan yomcat\n\nBranch: **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)**\n\nReviewer: **Tom Boothby, David Coudert**\n\nAuthor: **Zach Gershkoff**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7304_\n\n",
    "closed_at": "2017-08-16T18:46:08Z",
    "created_at": "2009-10-25T20:04:34Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-8.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Contract edge in graph",
    "type": "issue",
    "updated_at": "2017-10-24T15:10:08Z",
    "url": "https://github.com/sagemath/sage/issues/7304",
    "user": "https://github.com/haaninjo"
}
```
This patch contract an edge (u,v) in a graph. In the resulting graph vertex u is merged into vertex v.

The variables u and v can be passed as variables, a tuple (u,v) or a 3-tuple (u,v,'label'). The last allows us to use an element from G.edges() for contraction.

Depends on #23290

Assignee: **@rlmill**

CC:  brunellus lkeough @dcoudert @tscrim Stefan yomcat

Branch: **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)**

Reviewer: **Tom Boothby, David Coudert**

Author: **Zach Gershkoff**

_Issue created by migration from https://trac.sagemath.org/ticket/7304_





---

archive/issue_events_078547.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:04:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78547"
}
```



---

archive/issue_events_078548.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:04:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "component: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78548"
}
```



---

archive/issue_events_078549.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:04:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78549"
}
```



---

archive/issue_events_078550.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:04:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78550"
}
```



---

archive/issue_events_078551.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:04:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78551"
}
```



---

archive/issue_comments_054541.json:
```json
{
    "body": "Attachment: **[trac_7304.patch.gz](https://github.com/sagemath/sage/files/ticket7304/trac_7304.patch.gz)**\n\nInitial patch for review",
    "created_at": "2009-10-25T20:06:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54541",
    "user": "https://github.com/haaninjo"
}
```

Attachment: **[trac_7304.patch.gz](https://github.com/sagemath/sage/files/ticket7304/trac_7304.patch.gz)**

Initial patch for review



---

archive/issue_events_078552.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:12:56Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78552"
}
```



---

archive/issue_events_078553.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:12:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78553"
}
```



---

archive/issue_events_078554.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T20:12:56Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78554"
}
```



---

archive/issue_events_078555.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T21:05:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78555"
}
```



---

archive/issue_events_078556.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T21:05:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78556"
}
```



---

archive/issue_events_078557.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T21:05:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78557"
}
```



---

archive/issue_events_078558.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-25T21:05:23Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78558"
}
```



---

archive/issue_comments_054542.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nDuplicate of #7159 . That ticket is about vertex merging, but it is basically the same thing.",
    "created_at": "2009-10-25T21:05:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54542",
    "user": "https://github.com/haaninjo"
}
```

<a id='comment:2'>Comment 2:</a>
Duplicate of #7159 . That ticket is about vertex merging, but it is basically the same thing.



---

archive/issue_events_078559.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-26T03:04:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-4.2.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78559"
}
```



---

archive/issue_events_078560.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-27T18:19:01Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78560"
}
```



---

archive/issue_comments_054543.json:
```json
{
    "body": "<a id='comment:4'>Comment 4:</a>\nOn second thought, reopening.\n\nMerging vertices gives a slightly different result for certain cases that are important in deletion-contraction algorithms, so this function has a place to fill as well.\n\nExample of case that contract_edge() handles differently:\n\nIf we have two vertices A, B, with two parallel edges between them, a merging of A and B results in a single vertex with no edge or loops. If we instead choose to contract one of the two parallel edges (and allow loops), we will end up with a single vertex which has a loop.",
    "created_at": "2009-10-27T18:19:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54543",
    "user": "https://github.com/haaninjo"
}
```

<a id='comment:4'>Comment 4:</a>
On second thought, reopening.

Merging vertices gives a slightly different result for certain cases that are important in deletion-contraction algorithms, so this function has a place to fill as well.

Example of case that contract_edge() handles differently:

If we have two vertices A, B, with two parallel edges between them, a merging of A and B results in a single vertex with no edge or loops. If we instead choose to contract one of the two parallel edges (and allow loops), we will end up with a single vertex which has a loop.



---

archive/issue_events_078561.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-27T18:19:01Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-4.2.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78561"
}
```



---

archive/issue_events_078562.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-10-27T18:19:19Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78562"
}
```



---

archive/issue_comments_054544.json:
```json
{
    "body": "<a id='comment:6'>Comment 6:</a>\nReplying to [@haaninjo](#comment%3A2):\n> Duplicate of #7159 . That ticket is about vertex merging, but it is basically the same thing.\n\nAnders, please don't close tickets. That's the job of the release manager. See [this section](http://www.sagemath.org/doc/developer/trac.html#closing-tickets) of the Developer's Guide for conventions on closing tickets.",
    "created_at": "2009-10-28T12:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54544",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<a id='comment:6'>Comment 6:</a>
Replying to [@haaninjo](#comment%3A2):
> Duplicate of #7159 . That ticket is about vertex merging, but it is basically the same thing.

Anders, please don't close tickets. That's the job of the release manager. See [this section](http://www.sagemath.org/doc/developer/trac.html#closing-tickets) of the Developer's Guide for conventions on closing tickets.



---

archive/issue_comments_054545.json:
```json
{
    "body": "<a id='comment:7'>Comment 7:</a>\nReplying to [mvngu](#comment%3A6):\n> Anders, please don't close tickets. That's the job of the release manager. See [this section](http://www.sagemath.org/doc/developer/trac.html#closing-tickets) of the Developer's Guide for conventions on closing tickets.\n\nWhoops. Hadn't seen that section. Won't happen again.",
    "created_at": "2009-10-28T19:43:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54545",
    "user": "https://github.com/haaninjo"
}
```

<a id='comment:7'>Comment 7:</a>
Replying to [mvngu](#comment%3A6):
> Anders, please don't close tickets. That's the job of the release manager. See [this section](http://www.sagemath.org/doc/developer/trac.html#closing-tickets) of the Developer's Guide for conventions on closing tickets.

Whoops. Hadn't seen that section. Won't happen again.



---

archive/issue_comments_054546.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nI understand your point, but do you think it useful to have 2 different functions to merge vertices, instead of having just one with more options ? It could be a bit confusing...\n\nNathann",
    "created_at": "2009-10-31T20:39:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54546",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:8'>Comment 8:</a>
I understand your point, but do you think it useful to have 2 different functions to merge vertices, instead of having just one with more options ? It could be a bit confusing...

Nathann



---

archive/issue_events_078563.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-10-31T20:39:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78563"
}
```



---

archive/issue_events_078564.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-10-31T20:39:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78564"
}
```



---

archive/issue_comments_054547.json:
```json
{
    "body": "<a id='comment:10'>Comment 10:</a>\nReplying to [@nathanncohen](#comment%3A8):\n> I understand your point, but do you think it useful to have 2 different functions to merge vertices, instead of having just one with more options ? It could be a bit confusing...\n> \n> Nathann\n\nI don't feel too strongly about it. As long as full functionality exists, it matters little to me if it is in one or two functions.",
    "created_at": "2009-11-01T09:52:01Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54547",
    "user": "https://github.com/haaninjo"
}
```

<a id='comment:10'>Comment 10:</a>
Replying to [@nathanncohen](#comment%3A8):
> I understand your point, but do you think it useful to have 2 different functions to merge vertices, instead of having just one with more options ? It could be a bit confusing...
> 
> Nathann

I don't feel too strongly about it. As long as full functionality exists, it matters little to me if it is in one or two functions.



---

archive/issue_comments_054548.json:
```json
{
    "body": "<a id='comment:11'>Comment 11:</a>\nMy advice exactly ! \n\nCould you then write a patch to modify #7159 as soon as it will be merged ? You could also directly modify the trac ticket as it is not merged yet, but then we would be looking for someone else to review it, as for #7814...\n\nAs you said, I do not mind as long as the two behaviours exist.. If you think your version of merging should be the default one, it's up to you ! :-)",
    "created_at": "2009-11-01T09:57:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54548",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:11'>Comment 11:</a>
My advice exactly ! 

Could you then write a patch to modify #7159 as soon as it will be merged ? You could also directly modify the trac ticket as it is not merged yet, but then we would be looking for someone else to review it, as for #7814...

As you said, I do not mind as long as the two behaviours exist.. If you think your version of merging should be the default one, it's up to you ! :-)



---

archive/issue_comments_054549.json:
```json
{
    "body": "<a id='comment:12'>Comment 12:</a>\nOk, will look closer into a modification of #7159 to be added after that ticket has been merged to Sage.",
    "created_at": "2009-11-01T10:06:54Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54549",
    "user": "https://github.com/haaninjo"
}
```

<a id='comment:12'>Comment 12:</a>
Ok, will look closer into a modification of #7159 to be added after that ticket has been merged to Sage.



---

archive/issue_events_078565.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-11-01T10:06:54Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78565"
}
```



---

archive/issue_events_078566.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-11-01T10:06:54Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78566"
}
```



---

archive/issue_comments_054550.json:
```json
{
    "body": "<a id='comment:13'>Comment 13:</a>\nshould we keep this ticket open, or close it and open a new one with your modification of #7159 ?",
    "created_at": "2009-12-05T09:05:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54550",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:13'>Comment 13:</a>
should we keep this ticket open, or close it and open a new one with your modification of #7159 ?



---

archive/issue_comments_054551.json:
```json
{
    "body": "<a id='comment:14'>Comment 14:</a>\nReplying to [@nathanncohen](#comment%3A13):\n> should we keep this ticket open, or close it and open a new one with your modification of #7159 ?\n\nLet's keep it open, otherwise we would just open an almost identical ticket. I will see if I get the time to finish the function sometime next week.",
    "created_at": "2009-12-07T00:28:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54551",
    "user": "https://github.com/haaninjo"
}
```

<a id='comment:14'>Comment 14:</a>
Replying to [@nathanncohen](#comment%3A13):
> should we keep this ticket open, or close it and open a new one with your modification of #7159 ?

Let's keep it open, otherwise we would just open an almost identical ticket. I will see if I get the time to finish the function sometime next week.



---

archive/issue_events_078567.json:
```json
{
    "actor": "https://github.com/haaninjo",
    "created_at": "2009-12-07T00:28:06Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "title_is": "Contract edge in graph",
    "title_was": "[With patch] Contract edge in graph",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78567"
}
```



---

archive/issue_comments_054552.json:
```json
{
    "body": "<a id='comment:15'>Comment 15:</a>\n[\u043a\u0443\u043f\u043b\u044e \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d](http://forum.mobile-shop.kiev.ua/)",
    "created_at": "2010-04-30T14:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54552",
    "user": "https://github.com/sagetrac-bascorp"
}
```

<a id='comment:15'>Comment 15:</a>
[куплю мобильный телефон](http://forum.mobile-shop.kiev.ua/)



---

archive/issue_comments_054553.json:
```json
{
    "body": "<a id='comment:16'>Comment 16:</a>\nThere's a spam link above here that needs removing.\n\nAs a matroid theorist, I look at deletion and contraction a bit differently. It bothers me that I cannot write something along the lines of\n\nH = G.delete((1,2)).contract([(3,5),(6,7)])\n\nwithout modifying G.",
    "created_at": "2011-04-11T15:03:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54553",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<a id='comment:16'>Comment 16:</a>
There's a spam link above here that needs removing.

As a matroid theorist, I look at deletion and contraction a bit differently. It bothers me that I cannot write something along the lines of

H = G.delete((1,2)).contract([(3,5),(6,7)])

without modifying G.



---

archive/issue_comments_054554.json:
```json
{
    "body": "<a id='comment:17'>Comment 17:</a>\nWhat would your code do ? Are your pairs edges or vertices ? Right now your have a merge_vertices commands in Graph that lets you contract any set of vertices.\n\nNathann",
    "created_at": "2011-04-11T15:18:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54554",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:17'>Comment 17:</a>
What would your code do ? Are your pairs edges or vertices ? Right now your have a merge_vertices commands in Graph that lets you contract any set of vertices.

Nathann



---

archive/issue_comments_054555.json:
```json
{
    "body": "<a id='comment:18'>Comment 18:</a>\nMy pairs would be edges. In an even more ideal world, I would refer to them by their labels. For comparison, if M is a matroid with elements 'e', 'f', 'g', I currently have some experimental code allowing me to write\n\nN = M / ['e'] \\ ['f', 'g']\n\nresulting in the matroid with e contracted and f,g deleted. From a matroid-theoretic point of view, if you contract an edge, all edges parallel to it should turn into loops. The current merge_vertices doesn't do that, even if I call G.allow_loops(True) first. With this behavior, contracting a loop should probably equal deleting a loop.\n\nAnyway, my main point is that I feel there should be methods for deletion and contraction that return a new graph, rather than modifying the graph itself.\n\nReal use case: the other day I was wondering about maximal planar subgraphs of a small graph G. In that case you want to explore: first delete edge 'e', then delete edge 'f', then 'f' and 'g', then 'f' and 'h', and finally only edge 'h'. The current implementation makes such exploration of minors a bit cumbersome: you frequently make copies of G, which you then modify.",
    "created_at": "2011-04-11T19:19:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54555",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<a id='comment:18'>Comment 18:</a>
My pairs would be edges. In an even more ideal world, I would refer to them by their labels. For comparison, if M is a matroid with elements 'e', 'f', 'g', I currently have some experimental code allowing me to write

N = M / ['e'] \ ['f', 'g']

resulting in the matroid with e contracted and f,g deleted. From a matroid-theoretic point of view, if you contract an edge, all edges parallel to it should turn into loops. The current merge_vertices doesn't do that, even if I call G.allow_loops(True) first. With this behavior, contracting a loop should probably equal deleting a loop.

Anyway, my main point is that I feel there should be methods for deletion and contraction that return a new graph, rather than modifying the graph itself.

Real use case: the other day I was wondering about maximal planar subgraphs of a small graph G. In that case you want to explore: first delete edge 'e', then delete edge 'f', then 'f' and 'g', then 'f' and 'h', and finally only edge 'h'. The current implementation makes such exploration of minors a bit cumbersome: you frequently make copies of G, which you then modify.



---

archive/issue_comments_054556.json:
```json
{
    "body": "<a id='comment:19'>Comment 19:</a>\n> Anyway, my main point is that I feel there should be methods for deletion and contraction that return a new graph, rather than modifying the graph itself.\n\nWould you be interested in mixing the two ? Like sometimes calling a delete_edge function which returns a graph, and some other times a method which modifies the graph ?\n\nThe current behaviour is necessary for many functions, and replacing it would mean a huge loss in efficiency. It is possible to add a keyword to all those methods so that a graph will be returned instead of modifying the current graph. I don't quite like this, as it would mean some additional tests for each of all those very fundamental functions, but then again...\nOn the other hand, if you are not interested in mixing the two type of operations, perhaps the best is to work on an immutable graph class. Many people have asked this already, and when working on an immutable graph class having a default behaviour of \"returning an immutable copy of the graph modified as requested\" does not seem too unnatural. What about this then ? `:-)`\n\nNathann",
    "created_at": "2011-04-12T19:08:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54556",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:19'>Comment 19:</a>
> Anyway, my main point is that I feel there should be methods for deletion and contraction that return a new graph, rather than modifying the graph itself.

Would you be interested in mixing the two ? Like sometimes calling a delete_edge function which returns a graph, and some other times a method which modifies the graph ?

The current behaviour is necessary for many functions, and replacing it would mean a huge loss in efficiency. It is possible to add a keyword to all those methods so that a graph will be returned instead of modifying the current graph. I don't quite like this, as it would mean some additional tests for each of all those very fundamental functions, but then again...
On the other hand, if you are not interested in mixing the two type of operations, perhaps the best is to work on an immutable graph class. Many people have asked this already, and when working on an immutable graph class having a default behaviour of "returning an immutable copy of the graph modified as requested" does not seem too unnatural. What about this then ? `:-)`

Nathann



---

archive/issue_comments_054557.json:
```json
{
    "body": "<a id='comment:20'>Comment 20:</a>\nI'm not at all in favor of having two different behaviors encoded in one function. One option would be to implement the `__div__` and `_backslash_` operators to do, respectively, contraction and deletion without changing the object.",
    "created_at": "2011-04-19T15:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54557",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<a id='comment:20'>Comment 20:</a>
I'm not at all in favor of having two different behaviors encoded in one function. One option would be to implement the `__div__` and `_backslash_` operators to do, respectively, contraction and deletion without changing the object.



---

archive/issue_comments_054558.json:
```json
{
    "body": "<a id='comment:21'>Comment 21:</a>\n> I'm not at all in favor of having two different behaviors encoded in one function. One option would be to implement the `__div__` and `_backslash_` operators to do, respectively, contraction and deletion without changing the object.\n\nGot it !\n\nThis being said, I understand that's how matroid theory is written \"on the paper\", but do you think it would be possible to write useful code using only those symbols when any of them means copying the whole structure ? But perhaps I do not know how you intend to code it, and how much such operations could cost in memory and time ...\n\nNathann",
    "created_at": "2011-04-19T15:09:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54558",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:21'>Comment 21:</a>
> I'm not at all in favor of having two different behaviors encoded in one function. One option would be to implement the `__div__` and `_backslash_` operators to do, respectively, contraction and deletion without changing the object.

Got it !

This being said, I understand that's how matroid theory is written "on the paper", but do you think it would be possible to write useful code using only those symbols when any of them means copying the whole structure ? But perhaps I do not know how you intend to code it, and how much such operations could cost in memory and time ...

Nathann



---

archive/issue_comments_054559.json:
```json
{
    "body": "<a id='comment:22'>Comment 22:</a>\nReplying to [Stefan](#comment%3A20):\n> I'm not at all in favor of having two different behaviors encoded in one function.\n\nThis is often the case. For example many graph functions in Sage have an `inplace` option, which provides exactly this choice.",
    "created_at": "2011-04-19T18:18:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54559",
    "user": "https://github.com/rlmill"
}
```

<a id='comment:22'>Comment 22:</a>
Replying to [Stefan](#comment%3A20):
> I'm not at all in favor of having two different behaviors encoded in one function.

This is often the case. For example many graph functions in Sage have an `inplace` option, which provides exactly this choice.



---

archive/issue_comments_054560.json:
```json
{
    "body": "<a id='comment:23'>Comment 23:</a>\nReplying to [@rlmill](#comment%3A22):\n> Replying to [Stefan](#comment%3A20):\n> > I'm not at all in favor of having two different behaviors encoded in one function.\n\n> \n> This is often the case. For example many graph functions in Sage have an `inplace` option, which provides exactly this choice.\n\nIndeed it does! I'm not sure that this happens often, but so far I found subgraph() and relabel(). The former defaults to inplace=False; the latter defaults to inplace=True.\n\nIn that case it would be preferable not to have extra methods (the list is quite long enough as it stands). Defining the forward and backslashes might still be a neat addition.\n\nNathann, typical work with matroids is on relatively small ground sets. I don't expect intensive calculations on graphs with more than, say, a few dozen edges. We would wrap the graph in a GraphicMatroid object anyway, so it's easy to compensate for any functionality in the graph code that is not entirely fit for our purpose. So you need not worry about our needs for the time being.\n\nWhat remains is the question of contracting one edge from a parallel pair (see above).",
    "created_at": "2011-04-20T07:30:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54560",
    "user": "https://github.com/sagetrac-Stefan"
}
```

<a id='comment:23'>Comment 23:</a>
Replying to [@rlmill](#comment%3A22):
> Replying to [Stefan](#comment%3A20):
> > I'm not at all in favor of having two different behaviors encoded in one function.

> 
> This is often the case. For example many graph functions in Sage have an `inplace` option, which provides exactly this choice.

Indeed it does! I'm not sure that this happens often, but so far I found subgraph() and relabel(). The former defaults to inplace=False; the latter defaults to inplace=True.

In that case it would be preferable not to have extra methods (the list is quite long enough as it stands). Defining the forward and backslashes might still be a neat addition.

Nathann, typical work with matroids is on relatively small ground sets. I don't expect intensive calculations on graphs with more than, say, a few dozen edges. We would wrap the graph in a GraphicMatroid object anyway, so it's easy to compensate for any functionality in the graph code that is not entirely fit for our purpose. So you need not worry about our needs for the time being.

What remains is the question of contracting one edge from a parallel pair (see above).



---

archive/issue_comments_054561.json:
```json
{
    "body": "<a id='comment:24'>Comment 24:</a>\nSo, what do you say to my patch? It provides\n\n1. loops handling (see #9807)\n2. ``contract_edge`` option\n3. ``inplace`` option",
    "created_at": "2012-01-31T14:48:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54561",
    "user": "https://github.com/sagetrac-brunellus"
}
```

<a id='comment:24'>Comment 24:</a>
So, what do you say to my patch? It provides

1. loops handling (see #9807)
2. ``contract_edge`` option
3. ``inplace`` option



---

archive/issue_events_078568.json:
```json
{
    "actor": "https://github.com/sagetrac-brunellus",
    "created_at": "2012-01-31T14:48:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78568"
}
```



---

archive/issue_events_078569.json:
```json
{
    "actor": "https://github.com/sagetrac-brunellus",
    "created_at": "2012-01-31T14:48:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78569"
}
```



---

archive/issue_comments_054562.json:
```json
{
    "body": "Dependencies: **#7304**",
    "created_at": "2012-01-31T14:50:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54562",
    "user": "https://github.com/sagetrac-brunellus"
}
```

Dependencies: **#7304**



---

archive/issue_comments_054563.json:
```json
{
    "body": "Changed dependencies from **#7304** to **#9362**",
    "created_at": "2012-01-31T14:50:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54563",
    "user": "https://github.com/sagetrac-brunellus"
}
```

Changed dependencies from **#7304** to **#9362**



---

archive/issue_comments_054564.json:
```json
{
    "body": "<a id='comment:27'>Comment 27:</a>\nApply trac_7304_contract_edge.patch\n\n(for patchbot)",
    "created_at": "2012-03-10T13:00:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54564",
    "user": "https://github.com/loefflerd"
}
```

<a id='comment:27'>Comment 27:</a>
Apply trac_7304_contract_edge.patch

(for patchbot)



---

archive/issue_comments_054565.json:
```json
{
    "body": "<a id='comment:28'>Comment 28:</a>\nBrunellus,\n\nThis isn't quite there, and you haven't tested everything.\n\nGraphs have a copy method -- `g = g.copy()` is faster than `g=copy(g)`.  There are two problems with the block\n\n```\n        if vertices and vertices[0] is None: \n\t    vertices[0] = g.add_vertex()\n```\n\nfirst off, this assumes that `g.add_vertex()` returns the label of the added vertex.  It does not.  Second, it modifies `vertices` for no good reason (what if the users passes in a tuple, set, or generator?)",
    "created_at": "2012-03-21T20:48:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54565",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:28'>Comment 28:</a>
Brunellus,

This isn't quite there, and you haven't tested everything.

Graphs have a copy method -- `g = g.copy()` is faster than `g=copy(g)`.  There are two problems with the block

```
        if vertices and vertices[0] is None: 
	    vertices[0] = g.add_vertex()
```

first off, this assumes that `g.add_vertex()` returns the label of the added vertex.  It does not.  Second, it modifies `vertices` for no good reason (what if the users passes in a tuple, set, or generator?)



---

archive/issue_events_078570.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2012-03-21T21:07:52Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78570"
}
```



---

archive/issue_events_078571.json:
```json
{
    "actor": "https://github.com/sagetrac-boothby",
    "created_at": "2012-03-21T21:07:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78571"
}
```



---

archive/issue_comments_054566.json:
```json
{
    "body": "Reviewer: **Tom Boothby**",
    "created_at": "2012-03-21T21:07:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54566",
    "user": "https://github.com/sagetrac-boothby"
}
```

Reviewer: **Tom Boothby**



---

archive/issue_comments_054567.json:
```json
{
    "body": "<a id='comment:30'>Comment 30:</a>\nAh, I see that g.add_vertex() indeed returns the label for the current alpha of 5.0.  Please update this to not modify the users's input with\n\n```\n    vertices = list(vertices)\n```\n\nand use `g.copy()` instead of copy, and I'll give this a positive review.",
    "created_at": "2012-03-21T22:21:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54567",
    "user": "https://github.com/sagetrac-boothby"
}
```

<a id='comment:30'>Comment 30:</a>
Ah, I see that g.add_vertex() indeed returns the label for the current alpha of 5.0.  Please update this to not modify the users's input with

```
    vertices = list(vertices)
```

and use `g.copy()` instead of copy, and I'll give this a positive review.



---

archive/issue_comments_054568.json:
```json
{
    "body": "<a id='comment:31'>Comment 31:</a>\nThanks for the review! I will update the patch right now.",
    "created_at": "2012-05-16T09:00:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54568",
    "user": "https://github.com/sagetrac-brunellus"
}
```

<a id='comment:31'>Comment 31:</a>
Thanks for the review! I will update the patch right now.



---

archive/issue_comments_054569.json:
```json
{
    "body": "Attachment: **[trac_7304_contract_edge.patch.gz](https://github.com/sagemath/sage/files/ticket7304/trac_7304_contract_edge.patch.gz)**",
    "created_at": "2012-05-16T10:34:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54569",
    "user": "https://github.com/sagetrac-brunellus"
}
```

Attachment: **[trac_7304_contract_edge.patch.gz](https://github.com/sagemath/sage/files/ticket7304/trac_7304_contract_edge.patch.gz)**



---

archive/issue_events_078572.json:
```json
{
    "actor": "https://github.com/sagetrac-brunellus",
    "created_at": "2012-05-16T10:35:17Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78572"
}
```



---

archive/issue_events_078573.json:
```json
{
    "actor": "https://github.com/sagetrac-brunellus",
    "created_at": "2012-05-16T10:35:17Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78573"
}
```



---

archive/issue_comments_054570.json:
```json
{
    "body": "<a id='comment:34'>Comment 34:</a>\nI have been working on getting the Tutte polynomial into Sage (#1314).  The Tutte polynomial needs contraction with keeping any resulting multiedges and loops (but removing the edge you contracted).  It seems your code does this if you allow multiedges and loops and use the contract_edge feature.\n\nI think they may have had this discussion above, but I can't tell what was concluded:  Would adding an option like \"simplegraph = True\" be a reasonable thing to do?",
    "created_at": "2012-07-15T21:25:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54570",
    "user": "https://github.com/sagetrac-lkeough"
}
```

<a id='comment:34'>Comment 34:</a>
I have been working on getting the Tutte polynomial into Sage (#1314).  The Tutte polynomial needs contraction with keeping any resulting multiedges and loops (but removing the edge you contracted).  It seems your code does this if you allow multiedges and loops and use the contract_edge feature.

I think they may have had this discussion above, but I can't tell what was concluded:  Would adding an option like "simplegraph = True" be a reasonable thing to do?



---

archive/issue_comments_054571.json:
```json
{
    "body": "<a id='comment:35'>Comment 35:</a>\nPlease fill in your real name as Author.",
    "created_at": "2012-07-27T20:43:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54571",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:35'>Comment 35:</a>
Please fill in your real name as Author.



---

archive/issue_events_078574.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-11-26T10:32:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78574"
}
```



---

archive/issue_events_078575.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2012-11-26T10:32:39Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78575"
}
```



---

archive/issue_comments_054572.json:
```json
{
    "body": "<a id='comment:36'>Comment 36:</a>\nOk.... Which is the patch that needs to be reviewed ? Is it [attachment: trac_7304_contract_edge.patch.gz](https://github.com/sagemath/sage/files/ticket7304/trac_7304_contract_edge.patch.gz) ?\n\nNathann",
    "created_at": "2012-11-26T10:32:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54572",
    "user": "https://github.com/nathanncohen"
}
```

<a id='comment:36'>Comment 36:</a>
Ok.... Which is the patch that needs to be reviewed ? Is it [attachment: trac_7304_contract_edge.patch.gz](https://github.com/sagemath/sage/files/ticket7304/trac_7304_contract_edge.patch.gz) ?

Nathann



---

archive/issue_events_078576.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78576"
}
```



---

archive/issue_events_078577.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-13T15:35:53Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78577"
}
```



---

archive/issue_events_078578.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78578"
}
```



---

archive/issue_events_078579.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-01-30T21:20:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78579"
}
```



---

archive/issue_events_078580.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78580"
}
```



---

archive/issue_events_078581.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-05-06T15:20:58Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78581"
}
```



---

archive/issue_events_078582.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78582"
}
```



---

archive/issue_events_078583.json:
```json
{
    "actor": "https://github.com/sagetrac-vbraun-spam",
    "created_at": "2014-08-10T16:51:03Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78583"
}
```



---

archive/issue_comments_054573.json:
```json
{
    "body": "Branch: **[u/zgershkoff/contract_edge_in_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/contract_edge_in_graph)**",
    "created_at": "2017-06-22T00:43:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54573",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Branch: **[u/zgershkoff/contract_edge_in_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/contract_edge_in_graph)**



---

archive/issue_events_078584.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-22T00:58:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20info",
    "label_color": "ffff00",
    "label_name": "needs info",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78584"
}
```



---

archive/issue_events_078585.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-22T00:58:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78585"
}
```



---

archive/issue_comments_054574.json:
```json
{
    "body": "Commit: **[6df8bdc](https://github.com/sagemath/sagetrac-mirror/commit/6df8bdc98331cd415bc070dcb8800e56164cc1e6)**",
    "created_at": "2017-06-22T00:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54574",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Commit: **[6df8bdc](https://github.com/sagemath/sagetrac-mirror/commit/6df8bdc98331cd415bc070dcb8800e56164cc1e6)**



---

archive/issue_comments_054575.json:
```json
{
    "body": "<a id='comment:42'>Comment 42:</a>\nI ended up writing some new methods for edge contraction. I didn't use either patch here. The first one didn't seem to respect edge labels, and `allow_loops_multiedges` seems redundant since these are intrinsic to the graph, and the second one seemed too complicated to disentangle from `merge_vertices`. I also didn't include an `inplace` option for consistency with `delete_edge`.\n\nThe `contract_edges()` method was tough because if the user inputs a list of edges, the vertices need to be updated dynamically as the contractions occur and vertices are lost. I ended up using nested while loops to accomplish this. Maybe there's a faster way?\n\n---\nNew commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6df8bdc98331cd415bc070dcb8800e56164cc1e6\">6df8bdc</a></td><td><code>wrote new contract_edge() and contract_edges() methods</code></td></tr></table>\n",
    "created_at": "2017-06-22T00:58:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54575",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:42'>Comment 42:</a>
I ended up writing some new methods for edge contraction. I didn't use either patch here. The first one didn't seem to respect edge labels, and `allow_loops_multiedges` seems redundant since these are intrinsic to the graph, and the second one seemed too complicated to disentangle from `merge_vertices`. I also didn't include an `inplace` option for consistency with `delete_edge`.

The `contract_edges()` method was tough because if the user inputs a list of edges, the vertices need to be updated dynamically as the contractions occur and vertices are lost. I ended up using nested while loops to accomplish this. Maybe there's a faster way?

---
New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6df8bdc98331cd415bc070dcb8800e56164cc1e6">6df8bdc</a></td><td><code>wrote new contract_edge() and contract_edges() methods</code></td></tr></table>




---

archive/issue_comments_054576.json:
```json
{
    "body": "Changed commit from **[6df8bdc](https://github.com/sagemath/sagetrac-mirror/commit/6df8bdc98331cd415bc070dcb8800e56164cc1e6)** to **[aa26903](https://github.com/sagemath/sagetrac-mirror/commit/aa2690391fd4414420ad01d139001fc503376ada)**",
    "created_at": "2017-06-22T00:59:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54576",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[6df8bdc](https://github.com/sagemath/sagetrac-mirror/commit/6df8bdc98331cd415bc070dcb8800e56164cc1e6)** to **[aa26903](https://github.com/sagemath/sagetrac-mirror/commit/aa2690391fd4414420ad01d139001fc503376ada)**



---

archive/issue_comments_054577.json:
```json
{
    "body": "<a id='comment:43'>Comment 43:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/aa2690391fd4414420ad01d139001fc503376ada\">aa26903</a></td><td><code>typo in documentation</code></td></tr></table>\n",
    "created_at": "2017-06-22T00:59:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54577",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:43'>Comment 43:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/aa2690391fd4414420ad01d139001fc503376ada">aa26903</a></td><td><code>typo in documentation</code></td></tr></table>




---

archive/issue_comments_054578.json:
```json
{
    "body": "Changed commit from **[aa26903](https://github.com/sagemath/sagetrac-mirror/commit/aa2690391fd4414420ad01d139001fc503376ada)** to **[dbb7ff7](https://github.com/sagemath/sagetrac-mirror/commit/dbb7ff70ec56905ea7c24d1063c770d0b40b2173)**",
    "created_at": "2017-06-22T01:31:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54578",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[aa26903](https://github.com/sagemath/sagetrac-mirror/commit/aa2690391fd4414420ad01d139001fc503376ada)** to **[dbb7ff7](https://github.com/sagemath/sagetrac-mirror/commit/dbb7ff70ec56905ea7c24d1063c770d0b40b2173)**



---

archive/issue_comments_054579.json:
```json
{
    "body": "<a id='comment:44'>Comment 44:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/dbb7ff70ec56905ea7c24d1063c770d0b40b2173\">dbb7ff7</a></td><td><code>input sanitizing + added test</code></td></tr></table>\n",
    "created_at": "2017-06-22T01:31:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54579",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:44'>Comment 44:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/dbb7ff70ec56905ea7c24d1063c770d0b40b2173">dbb7ff7</a></td><td><code>input sanitizing + added test</code></td></tr></table>




---

archive/issue_comments_054580.json:
```json
{
    "body": "Changed commit from **[dbb7ff7](https://github.com/sagemath/sagetrac-mirror/commit/dbb7ff70ec56905ea7c24d1063c770d0b40b2173)** to **[0285056](https://github.com/sagemath/sagetrac-mirror/commit/028505636ecf15db5586d15d04e02d0e9c21adf8)**",
    "created_at": "2017-06-22T01:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54580",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[dbb7ff7](https://github.com/sagemath/sagetrac-mirror/commit/dbb7ff70ec56905ea7c24d1063c770d0b40b2173)** to **[0285056](https://github.com/sagemath/sagetrac-mirror/commit/028505636ecf15db5586d15d04e02d0e9c21adf8)**



---

archive/issue_comments_054581.json:
```json
{
    "body": "<a id='comment:45'>Comment 45:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/028505636ecf15db5586d15d04e02d0e9c21adf8\">0285056</a></td><td><code>test formatting</code></td></tr></table>\n",
    "created_at": "2017-06-22T01:33:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54581",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:45'>Comment 45:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/028505636ecf15db5586d15d04e02d0e9c21adf8">0285056</a></td><td><code>test formatting</code></td></tr></table>




---

archive/issue_comments_054582.json:
```json
{
    "body": "<a id='comment:46'>Comment 46:</a>\nLet's wait until I speed up `contract_edges()`.",
    "created_at": "2017-06-22T01:59:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54582",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:46'>Comment 46:</a>
Let's wait until I speed up `contract_edges()`.



---

archive/issue_events_078586.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-22T01:59:18Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78586"
}
```



---

archive/issue_events_078587.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-22T01:59:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78587"
}
```



---

archive/issue_comments_054583.json:
```json
{
    "body": "<a id='comment:47'>Comment 47:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/944899fe4af9415ba5690c2ba8aa15d31e026108\">944899f</a></td><td><code>contract_edges using union find</code></td></tr></table>\n",
    "created_at": "2017-06-22T05:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54583",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:47'>Comment 47:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/944899fe4af9415ba5690c2ba8aa15d31e026108">944899f</a></td><td><code>contract_edges using union find</code></td></tr></table>




---

archive/issue_comments_054584.json:
```json
{
    "body": "Changed commit from **[0285056](https://github.com/sagemath/sagetrac-mirror/commit/028505636ecf15db5586d15d04e02d0e9c21adf8)** to **[944899f](https://github.com/sagemath/sagetrac-mirror/commit/944899fe4af9415ba5690c2ba8aa15d31e026108)**",
    "created_at": "2017-06-22T05:22:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54584",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0285056](https://github.com/sagemath/sagetrac-mirror/commit/028505636ecf15db5586d15d04e02d0e9c21adf8)** to **[944899f](https://github.com/sagemath/sagetrac-mirror/commit/944899fe4af9415ba5690c2ba8aa15d31e026108)**



---

archive/issue_comments_054585.json:
```json
{
    "body": "<a id='comment:48'>Comment 48:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/676b63638cf7d4286f7df9611430db9491605149\">676b636</a></td><td><code>Made it shorter. Some doctests fail, pending #23290</code></td></tr></table>\n",
    "created_at": "2017-06-22T17:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54585",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:48'>Comment 48:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/676b63638cf7d4286f7df9611430db9491605149">676b636</a></td><td><code>Made it shorter. Some doctests fail, pending #23290</code></td></tr></table>




---

archive/issue_comments_054586.json:
```json
{
    "body": "Changed commit from **[944899f](https://github.com/sagemath/sagetrac-mirror/commit/944899fe4af9415ba5690c2ba8aa15d31e026108)** to **[676b636](https://github.com/sagemath/sagetrac-mirror/commit/676b63638cf7d4286f7df9611430db9491605149)**",
    "created_at": "2017-06-22T17:02:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54586",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[944899f](https://github.com/sagemath/sagetrac-mirror/commit/944899fe4af9415ba5690c2ba8aa15d31e026108)** to **[676b636](https://github.com/sagemath/sagetrac-mirror/commit/676b63638cf7d4286f7df9611430db9491605149)**



---

archive/issue_events_078588.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-22T17:06:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78588"
}
```



---

archive/issue_events_078589.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-22T17:06:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78589"
}
```



---

archive/issue_comments_054587.json:
```json
{
    "body": "Changed dependencies from **#9362** to **#9362, #23290**",
    "created_at": "2017-06-22T17:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54587",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Changed dependencies from **#9362** to **#9362, #23290**



---

archive/issue_comments_054588.json:
```json
{
    "body": "<a id='comment:49'>Comment 49:</a>\nFor the sake of not having two implementations for the same thing, I adapted brunellus's earlier patch and rewrote `contract_edge()` to use `merge_vertices()`. This depends on #23290 to resolve a defect in `merge_vertices()`.",
    "created_at": "2017-06-22T17:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54588",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:49'>Comment 49:</a>
For the sake of not having two implementations for the same thing, I adapted brunellus's earlier patch and rewrote `contract_edge()` to use `merge_vertices()`. This depends on #23290 to resolve a defect in `merge_vertices()`.



---

archive/issue_comments_054589.json:
```json
{
    "body": "<a id='comment:50'>Comment 50:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/9301125efecae5e4a78d5e02cc0332f501425b92\">9301125</a></td><td><code>Reduced number of calls to root() submethod</code></td></tr></table>\n",
    "created_at": "2017-06-23T07:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54589",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:50'>Comment 50:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/9301125efecae5e4a78d5e02cc0332f501425b92">9301125</a></td><td><code>Reduced number of calls to root() submethod</code></td></tr></table>




---

archive/issue_comments_054590.json:
```json
{
    "body": "Changed commit from **[676b636](https://github.com/sagemath/sagetrac-mirror/commit/676b63638cf7d4286f7df9611430db9491605149)** to **[9301125](https://github.com/sagemath/sagetrac-mirror/commit/9301125efecae5e4a78d5e02cc0332f501425b92)**",
    "created_at": "2017-06-23T07:02:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54590",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[676b636](https://github.com/sagemath/sagetrac-mirror/commit/676b63638cf7d4286f7df9611430db9491605149)** to **[9301125](https://github.com/sagemath/sagetrac-mirror/commit/9301125efecae5e4a78d5e02cc0332f501425b92)**



---

archive/issue_comments_054591.json:
```json
{
    "body": "Author: **Zachary Gershkoff**",
    "created_at": "2017-06-23T07:17:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54591",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

Author: **Zachary Gershkoff**



---

archive/issue_comments_054592.json:
```json
{
    "body": "<a id='comment:52'>Comment 52:</a>\nSome comments for `contract_edges`:\n* instead of dropping non-edges, it is better to not add such edge to the list\n* construct the list of vertices at the same time to add edges to the list\n* Instead of implementing your own disjoint set methods, you can use `DisjointSet`\n* If you use `DS = DisjointSet(...)`, you can use `DS.root_to_elements_dict()` instead of `vertices = [v for v in vertices if v!= destination[v]]`",
    "created_at": "2017-06-23T08:25:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54592",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:52'>Comment 52:</a>
Some comments for `contract_edges`:
* instead of dropping non-edges, it is better to not add such edge to the list
* construct the list of vertices at the same time to add edges to the list
* Instead of implementing your own disjoint set methods, you can use `DisjointSet`
* If you use `DS = DisjointSet(...)`, you can use `DS.root_to_elements_dict()` instead of `vertices = [v for v in vertices if v!= destination[v]]`



---

archive/issue_comments_054593.json:
```json
{
    "body": "<a id='comment:53'>Comment 53:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/665f1dc4df118914a4ddcc64d76eb845bc511062\">665f1dc</a></td><td><code>More efficient building of vertex and edge iterables</code></td></tr></table>\n",
    "created_at": "2017-06-25T18:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54593",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:53'>Comment 53:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/665f1dc4df118914a4ddcc64d76eb845bc511062">665f1dc</a></td><td><code>More efficient building of vertex and edge iterables</code></td></tr></table>




---

archive/issue_comments_054594.json:
```json
{
    "body": "Changed commit from **[9301125](https://github.com/sagemath/sagetrac-mirror/commit/9301125efecae5e4a78d5e02cc0332f501425b92)** to **[665f1dc](https://github.com/sagemath/sagetrac-mirror/commit/665f1dc4df118914a4ddcc64d76eb845bc511062)**",
    "created_at": "2017-06-25T18:52:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54594",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[9301125](https://github.com/sagemath/sagetrac-mirror/commit/9301125efecae5e4a78d5e02cc0332f501425b92)** to **[665f1dc](https://github.com/sagemath/sagetrac-mirror/commit/665f1dc4df118914a4ddcc64d76eb845bc511062)**



---

archive/issue_comments_054595.json:
```json
{
    "body": "<a id='comment:54'>Comment 54:</a>\nReplying to [@dcoudert](#comment%3A52):\n> Some comments for `contract_edges`:\n> * instead of dropping non-edges, it is better to not add such edge to the list\n> * construct the list of vertices at the same time to add edges to the list\n\nDone.\n> * Instead of implementing your own disjoint set methods, you can use `DisjointSet`\n> * If you use `DS = DisjointSet(...)`, you can use `DS.root_to_elements_dict()` instead of `vertices = [v for v in vertices if v!= destination[v]]`\n\nIt's nice that sage already has an implementation of this algorithm, but I find it lacking. If I want a list of non-roots, I can do `vertices = [v for v in vertices if (v not in DS.root_to_elements_dict() )]`, but there doesn't seem to be an analog to my `root()` method. So at the end, when I need to know what the root of a vertex is, I don't see any easy way to do that if I'm using `DisjointSet`.",
    "created_at": "2017-06-25T18:57:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54595",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:54'>Comment 54:</a>
Replying to [@dcoudert](#comment%3A52):
> Some comments for `contract_edges`:
> * instead of dropping non-edges, it is better to not add such edge to the list
> * construct the list of vertices at the same time to add edges to the list

Done.
> * Instead of implementing your own disjoint set methods, you can use `DisjointSet`
> * If you use `DS = DisjointSet(...)`, you can use `DS.root_to_elements_dict()` instead of `vertices = [v for v in vertices if v!= destination[v]]`

It's nice that sage already has an implementation of this algorithm, but I find it lacking. If I want a list of non-roots, I can do `vertices = [v for v in vertices if (v not in DS.root_to_elements_dict() )]`, but there doesn't seem to be an analog to my `root()` method. So at the end, when I need to know what the root of a vertex is, I don't see any easy way to do that if I'm using `DisjointSet`.



---

archive/issue_comments_054596.json:
```json
{
    "body": "<a id='comment:55'>Comment 55:</a>\nThere's another issue I've been considering: if a user has loops on but multiedges off, then iterated contraction with `contract_edge()` will never create loops, but giving the same input as a list to `contract_edges()` could create loops because it will bypass when the edges are in parallel. On one hand, it seems like it should be consistent, but on the other hand, if a user has loops on and multiedges off, I don't know what business they have contracting edges, so I don't know what their desired output would be.",
    "created_at": "2017-06-25T19:01:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54596",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:55'>Comment 55:</a>
There's another issue I've been considering: if a user has loops on but multiedges off, then iterated contraction with `contract_edge()` will never create loops, but giving the same input as a list to `contract_edges()` could create loops because it will bypass when the edges are in parallel. On one hand, it seems like it should be consistent, but on the other hand, if a user has loops on and multiedges off, I don't know what business they have contracting edges, so I don't know what their desired output would be.



---

archive/issue_comments_054597.json:
```json
{
    "body": "<a id='comment:56'>Comment 56:</a>\n> It's nice that sage already has an implementation of this algorithm, but I find it lacking. If I want a list of non-roots, I can do `vertices = [v for v in vertices if (v not in DS.root_to_elements_dict() )]`, but there doesn't seem to be an analog to my `root()` method. So at the end, when I need to know what the root of a vertex is, I don't see any easy way to do that if I'm using `DisjointSet`.\n\n`vertices = [v for v in vertices if v != DS.find(v)]` should give you non-roots, no?",
    "created_at": "2017-06-25T19:06:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54597",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:56'>Comment 56:</a>
> It's nice that sage already has an implementation of this algorithm, but I find it lacking. If I want a list of non-roots, I can do `vertices = [v for v in vertices if (v not in DS.root_to_elements_dict() )]`, but there doesn't seem to be an analog to my `root()` method. So at the end, when I need to know what the root of a vertex is, I don't see any easy way to do that if I'm using `DisjointSet`.

`vertices = [v for v in vertices if v != DS.find(v)]` should give you non-roots, no?



---

archive/issue_comments_054598.json:
```json
{
    "body": "Changed commit from **[665f1dc](https://github.com/sagemath/sagetrac-mirror/commit/665f1dc4df118914a4ddcc64d76eb845bc511062)** to **[94aa44f](https://github.com/sagemath/sagetrac-mirror/commit/94aa44f6ea86e2a25510ebec6e7290d26b52779b)**",
    "created_at": "2017-06-25T19:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54598",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[665f1dc](https://github.com/sagemath/sagetrac-mirror/commit/665f1dc4df118914a4ddcc64d76eb845bc511062)** to **[94aa44f](https://github.com/sagemath/sagetrac-mirror/commit/94aa44f6ea86e2a25510ebec6e7290d26b52779b)**



---

archive/issue_comments_054599.json:
```json
{
    "body": "<a id='comment:57'>Comment 57:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/94aa44f6ea86e2a25510ebec6e7290d26b52779b\">94aa44f</a></td><td><code>using DisjointSet</code></td></tr></table>\n",
    "created_at": "2017-06-25T19:22:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54599",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:57'>Comment 57:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/94aa44f6ea86e2a25510ebec6e7290d26b52779b">94aa44f</a></td><td><code>using DisjointSet</code></td></tr></table>




---

archive/issue_comments_054600.json:
```json
{
    "body": "<a id='comment:58'>Comment 58:</a>\nAh, right. I misread the description of that method.",
    "created_at": "2017-06-25T19:22:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54600",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:58'>Comment 58:</a>
Ah, right. I misread the description of that method.



---

archive/issue_comments_054601.json:
```json
{
    "body": "<a id='comment:59'>Comment 59:</a>\nReplying to [zgershkoff](#comment%3A55):\n> There's another issue I've been considering: if a user has loops on but multiedges off, then iterated contraction with `contract_edge()` will never create loops, but giving the same input as a list to `contract_edges()` could create loops because it will bypass when the edges are in parallel. On one hand, it seems like it should be consistent, but on the other hand, if a user has loops on and multiedges off, I don't know what business they have contracting edges, so I don't know what their desired output would be.\n\nThis is the main difficulty with such method: what's the good answer? what is the user expected ? It is really application dependent. For instance, in some cases you want to contract an edge unless it creates a loop.\\\\\nI would say that as long as the behavior is clearly documented, it's fine. If the user wants something else, he can code his own method.\n\n \n\nOne remark. You could use `edges_incident.extend( self.outgoing_edges(v) )` instead of `out_edges=self.edge_boundary([v])`. You can also use `self.incoming_edges(v)`.",
    "created_at": "2017-06-26T06:40:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54601",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:59'>Comment 59:</a>
Replying to [zgershkoff](#comment%3A55):
> There's another issue I've been considering: if a user has loops on but multiedges off, then iterated contraction with `contract_edge()` will never create loops, but giving the same input as a list to `contract_edges()` could create loops because it will bypass when the edges are in parallel. On one hand, it seems like it should be consistent, but on the other hand, if a user has loops on and multiedges off, I don't know what business they have contracting edges, so I don't know what their desired output would be.

This is the main difficulty with such method: what's the good answer? what is the user expected ? It is really application dependent. For instance, in some cases you want to contract an edge unless it creates a loop.\\
I would say that as long as the behavior is clearly documented, it's fine. If the user wants something else, he can code his own method.

 

One remark. You could use `edges_incident.extend( self.outgoing_edges(v) )` instead of `out_edges=self.edge_boundary([v])`. You can also use `self.incoming_edges(v)`.



---

archive/issue_comments_054602.json:
```json
{
    "body": "<a id='comment:60'>Comment 60:</a>\nThanks for the comments. I think if I use both `self.incoming_edges(v)` and `self.outgoing_edges(v)` then I will get loops on `v` twice, so I'm leaving `out_edges=self.edge_boundary([v])` as it is, but I will extend `edges_incident` by `self.incoming_edges(v)`.",
    "created_at": "2017-06-26T20:48:21Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54602",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:60'>Comment 60:</a>
Thanks for the comments. I think if I use both `self.incoming_edges(v)` and `self.outgoing_edges(v)` then I will get loops on `v` twice, so I'm leaving `out_edges=self.edge_boundary([v])` as it is, but I will extend `edges_incident` by `self.incoming_edges(v)`.



---

archive/issue_comments_054603.json:
```json
{
    "body": "<a id='comment:61'>Comment 61:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/bca2aad2ea72241adcbaa08e56a12d1e74210de3\">bca2aad</a></td><td><code>Improved documentation and directed case</code></td></tr></table>\n",
    "created_at": "2017-06-26T21:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54603",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:61'>Comment 61:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/bca2aad2ea72241adcbaa08e56a12d1e74210de3">bca2aad</a></td><td><code>Improved documentation and directed case</code></td></tr></table>




---

archive/issue_comments_054604.json:
```json
{
    "body": "Changed commit from **[94aa44f](https://github.com/sagemath/sagetrac-mirror/commit/94aa44f6ea86e2a25510ebec6e7290d26b52779b)** to **[bca2aad](https://github.com/sagemath/sagetrac-mirror/commit/bca2aad2ea72241adcbaa08e56a12d1e74210de3)**",
    "created_at": "2017-06-26T21:33:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54604",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[94aa44f](https://github.com/sagemath/sagetrac-mirror/commit/94aa44f6ea86e2a25510ebec6e7290d26b52779b)** to **[bca2aad](https://github.com/sagemath/sagetrac-mirror/commit/bca2aad2ea72241adcbaa08e56a12d1e74210de3)**



---

archive/issue_comments_054605.json:
```json
{
    "body": "<a id='comment:62'>Comment 62:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a686c55681e31ab7237c9e2c18577b3ba6e0974d\">a686c55</a></td><td><code>Typo in documentation</code></td></tr></table>\n",
    "created_at": "2017-06-26T21:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54605",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:62'>Comment 62:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a686c55681e31ab7237c9e2c18577b3ba6e0974d">a686c55</a></td><td><code>Typo in documentation</code></td></tr></table>




---

archive/issue_comments_054606.json:
```json
{
    "body": "Changed commit from **[bca2aad](https://github.com/sagemath/sagetrac-mirror/commit/bca2aad2ea72241adcbaa08e56a12d1e74210de3)** to **[a686c55](https://github.com/sagemath/sagetrac-mirror/commit/a686c55681e31ab7237c9e2c18577b3ba6e0974d)**",
    "created_at": "2017-06-26T21:34:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54606",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[bca2aad](https://github.com/sagemath/sagetrac-mirror/commit/bca2aad2ea72241adcbaa08e56a12d1e74210de3)** to **[a686c55](https://github.com/sagemath/sagetrac-mirror/commit/a686c55681e31ab7237c9e2c18577b3ba6e0974d)**



---

archive/issue_comments_054607.json:
```json
{
    "body": "<a id='comment:63'>Comment 63:</a>\nAnother round of comments. \n\nIn method `contract_edge`\n- in the `INPUT` block, some lines are for `contract_edges` and so should be removed from here.\n- remove the `OUTPUT` block. It is useless here\n- If I call `G.contract_edge( (u, v) )` and that the graph has edge `(u, v, 'label')`, then the method will do nothing. Is this the behavior you expect? If so, it should be documented.\n- you may replace `for e in self.edges_incident(v):` with `for x,y,l in self.edges_incident(v):`. I don't know which option is the best.\n\nIn method `contract_edges`:\n- The first line is too long. Usually, the first line is short, and followed with a longer description\n- Again the `OUTPUT` block is useless\n- in the `TESTS` block, you have an indentation problem\n- If we pass a list of 2-tuples but that all edges of the graph have non `None` labels, nothing will happen. If it's expected behavior, it should be documented\n- after the `for e in edges:` loop, you should add a termination test like `if not edge_list: return` or `if not edge_list or not vertices: return`\n- `out_edges=self.edge_boundary([v])` -> `out_edges = self.edge_boundary([v])`\n- `edges_incident = edges_incident + self.edges_incident(v)` -> `edges_incident.extend(self.edges_incident(v))`\n- `for (u, v, label) in edges_incident:` -> `for u, v, label in edges_incident:`.",
    "created_at": "2017-06-27T06:46:12Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54607",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:63'>Comment 63:</a>
Another round of comments. 

In method `contract_edge`
- in the `INPUT` block, some lines are for `contract_edges` and so should be removed from here.
- remove the `OUTPUT` block. It is useless here
- If I call `G.contract_edge( (u, v) )` and that the graph has edge `(u, v, 'label')`, then the method will do nothing. Is this the behavior you expect? If so, it should be documented.
- you may replace `for e in self.edges_incident(v):` with `for x,y,l in self.edges_incident(v):`. I don't know which option is the best.

In method `contract_edges`:
- The first line is too long. Usually, the first line is short, and followed with a longer description
- Again the `OUTPUT` block is useless
- in the `TESTS` block, you have an indentation problem
- If we pass a list of 2-tuples but that all edges of the graph have non `None` labels, nothing will happen. If it's expected behavior, it should be documented
- after the `for e in edges:` loop, you should add a termination test like `if not edge_list: return` or `if not edge_list or not vertices: return`
- `out_edges=self.edge_boundary([v])` -> `out_edges = self.edge_boundary([v])`
- `edges_incident = edges_incident + self.edges_incident(v)` -> `edges_incident.extend(self.edges_incident(v))`
- `for (u, v, label) in edges_incident:` -> `for u, v, label in edges_incident:`.



---

archive/issue_comments_054608.json:
```json
{
    "body": "<a id='comment:64'>Comment 64:</a>\nReplying to [@dcoudert](#comment%3A63):\n> Another round of comments. \n> \n> In method `contract_edge`\n> - in the `INPUT` block, some lines are for `contract_edges` and so should be removed from here.\n> - remove the `OUTPUT` block. It is useless here\n> - If I call `G.contract_edge( (u, v) )` and that the graph has edge `(u, v, 'label')`, then the method will do nothing. Is this the behavior you expect? If so, it should be documented.\n\nI can't reproduce this. `self.has_edge(u,v)` works the same as `self.has_edge(u,v,None)`. It seems though the last edge it has in memory between `u` and `v` gets contracted.\n\n```\nsage: edgelist = [(0,1,0), (0,1,9), (0,1,2), (0,2,2), (1,2,3)]\nsage: G = Graph(edgelist, loops=True, multiedges=True)\nsage: G.contract_edge(0,1); G.edges()\n[(0, 0, 0), (0, 0, 9), (0, 2, 2), (0, 2, 3)]\nsage: edgelist = [(0,1,0), (0,1,2), (0,1,9), (0,2,2), (1,2,3)]\nsage: G = Graph(edgelist, loops=True, multiedges=True)\nsage: G.contract_edge(0,1); G.edges()\n[(0, 0, 0), (0, 0, 2), (0, 2, 2), (0, 2, 3)]\n```\n\n> - you may replace `for e in self.edges_incident(v):` with `for x,y,l in self.edges_incident(v):`. I don't know which option is the best.\n\nI changed it to `x,y,l` for consistency.\n\nWhy is `x,y,l` preferred over `(x,y,l)`? I don't see anything about this in PEP8, but I've been using the parentheses around the tuple a lot because I think it's easier to read that way.",
    "created_at": "2017-06-27T20:11:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54608",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:64'>Comment 64:</a>
Replying to [@dcoudert](#comment%3A63):
> Another round of comments. 
> 
> In method `contract_edge`
> - in the `INPUT` block, some lines are for `contract_edges` and so should be removed from here.
> - remove the `OUTPUT` block. It is useless here
> - If I call `G.contract_edge( (u, v) )` and that the graph has edge `(u, v, 'label')`, then the method will do nothing. Is this the behavior you expect? If so, it should be documented.

I can't reproduce this. `self.has_edge(u,v)` works the same as `self.has_edge(u,v,None)`. It seems though the last edge it has in memory between `u` and `v` gets contracted.

```
sage: edgelist = [(0,1,0), (0,1,9), (0,1,2), (0,2,2), (1,2,3)]
sage: G = Graph(edgelist, loops=True, multiedges=True)
sage: G.contract_edge(0,1); G.edges()
[(0, 0, 0), (0, 0, 9), (0, 2, 2), (0, 2, 3)]
sage: edgelist = [(0,1,0), (0,1,2), (0,1,9), (0,2,2), (1,2,3)]
sage: G = Graph(edgelist, loops=True, multiedges=True)
sage: G.contract_edge(0,1); G.edges()
[(0, 0, 0), (0, 0, 2), (0, 2, 2), (0, 2, 3)]
```

> - you may replace `for e in self.edges_incident(v):` with `for x,y,l in self.edges_incident(v):`. I don't know which option is the best.

I changed it to `x,y,l` for consistency.

Why is `x,y,l` preferred over `(x,y,l)`? I don't see anything about this in PEP8, but I've been using the parentheses around the tuple a lot because I think it's easier to read that way.



---

archive/issue_comments_054609.json:
```json
{
    "body": "Changed commit from **[a686c55](https://github.com/sagemath/sagetrac-mirror/commit/a686c55681e31ab7237c9e2c18577b3ba6e0974d)** to **[4c97d71](https://github.com/sagemath/sagetrac-mirror/commit/4c97d713e8d18d71f6a7d1b6496939fb80817f7e)**",
    "created_at": "2017-06-27T20:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54609",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a686c55](https://github.com/sagemath/sagetrac-mirror/commit/a686c55681e31ab7237c9e2c18577b3ba6e0974d)** to **[4c97d71](https://github.com/sagemath/sagetrac-mirror/commit/4c97d713e8d18d71f6a7d1b6496939fb80817f7e)**



---

archive/issue_comments_054610.json:
```json
{
    "body": "<a id='comment:65'>Comment 65:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/2931fb4418fec1f7fb2a17dfd003b9814ed50083\">2931fb4</a></td><td><code>resolution when the label is unspecified</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/8590722d592dfdb75fc6fe2309045b78ae09ca1a\">8590722</a></td><td><code>adding methods to index`</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/f58b59b9352cec1358faa6368bf2b4135aac1b99\">f58b59b</a></td><td><code>Revert \"resolution when the label is unspecified\"</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/4c97d713e8d18d71f6a7d1b6496939fb80817f7e\">4c97d71</a></td><td><code>some innocuous changes</code></td></tr></table>\n",
    "created_at": "2017-06-27T20:31:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54610",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:65'>Comment 65:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/2931fb4418fec1f7fb2a17dfd003b9814ed50083">2931fb4</a></td><td><code>resolution when the label is unspecified</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/8590722d592dfdb75fc6fe2309045b78ae09ca1a">8590722</a></td><td><code>adding methods to index`</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/f58b59b9352cec1358faa6368bf2b4135aac1b99">f58b59b</a></td><td><code>Revert "resolution when the label is unspecified"</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/4c97d713e8d18d71f6a7d1b6496939fb80817f7e">4c97d71</a></td><td><code>some innocuous changes</code></td></tr></table>




---

archive/issue_comments_054611.json:
```json
{
    "body": "<a id='comment:66'>Comment 66:</a>\nI have a few more questions.\n\n- Is `return` preferred over `return None`? I've changed them to just `return`.\n- Where is the indentation error in `contract_edges()`? Is it the space in front of some of the edges in the output? That matches the output, and it makes the html display correctly.\n- I've noticed that there are problems for `contract_edges()` if the input is a mix of 2-tuples and 3-tuples as the example below shows, but this is kind of a GIGO situation and I don't know if I should bother addressing it.\n\n```\nsage: edgelist = [(0,1,0), (0,1,1), (0,1,2)]\nsage: G = Graph(edgelist, loops=True, multiedges=True)\nsage: G.contract_edges([(0,1,2), (0,1)]); G.edges()\n[(0, 0, 0)]\nsage: G = Graph(edgelist, loops=True, multiedges=True)\nsage: G.contract_edges([(0,1), (0,1,2)]); G.edges()\n[(0, 0, 0), (0, 0, 1)]\n```",
    "created_at": "2017-06-27T20:48:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54611",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:66'>Comment 66:</a>
I have a few more questions.

- Is `return` preferred over `return None`? I've changed them to just `return`.
- Where is the indentation error in `contract_edges()`? Is it the space in front of some of the edges in the output? That matches the output, and it makes the html display correctly.
- I've noticed that there are problems for `contract_edges()` if the input is a mix of 2-tuples and 3-tuples as the example below shows, but this is kind of a GIGO situation and I don't know if I should bother addressing it.

```
sage: edgelist = [(0,1,0), (0,1,1), (0,1,2)]
sage: G = Graph(edgelist, loops=True, multiedges=True)
sage: G.contract_edges([(0,1,2), (0,1)]); G.edges()
[(0, 0, 0)]
sage: G = Graph(edgelist, loops=True, multiedges=True)
sage: G.contract_edges([(0,1), (0,1,2)]); G.edges()
[(0, 0, 0), (0, 0, 1)]
```



---

archive/issue_comments_054612.json:
```json
{
    "body": "<a id='comment:67'>Comment 67:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/0bdd5272076311e182fa4ac9beb56e4558278ee8\">0bdd527</a></td><td><code>raise exception if tuple lengths are inconsistent</code></td></tr></table>\n",
    "created_at": "2017-06-27T21:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54612",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:67'>Comment 67:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/0bdd5272076311e182fa4ac9beb56e4558278ee8">0bdd527</a></td><td><code>raise exception if tuple lengths are inconsistent</code></td></tr></table>




---

archive/issue_comments_054613.json:
```json
{
    "body": "Changed commit from **[4c97d71](https://github.com/sagemath/sagetrac-mirror/commit/4c97d713e8d18d71f6a7d1b6496939fb80817f7e)** to **[0bdd527](https://github.com/sagemath/sagetrac-mirror/commit/0bdd5272076311e182fa4ac9beb56e4558278ee8)**",
    "created_at": "2017-06-27T21:01:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54613",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4c97d71](https://github.com/sagemath/sagetrac-mirror/commit/4c97d713e8d18d71f6a7d1b6496939fb80817f7e)** to **[0bdd527](https://github.com/sagemath/sagetrac-mirror/commit/0bdd5272076311e182fa4ac9beb56e4558278ee8)**



---

archive/issue_comments_054614.json:
```json
{
    "body": "<a id='comment:68'>Comment 68:</a>\nSomething has changed in the tests for method `contract_edge`. Now we are loosing loops. I don't know why\n\n```\nsage: edgelist = [(0,0,'a'), (0,1,'b'), (1,1,'c')]\nsage: G = Graph(edgelist, loops=True, multiedges=True)\nsage: G.contract_edge(0,1,'b'); G.edges()\n[(0, 0, 'a')]\nsage: D = DiGraph(edgelist, loops=True, multiedges=True)\nsage: D.contract_edge(0,1,'b'); D.edges()\n[(0, 0, 'a')]\n```\n\nIn `contract_edges`:\n*`if not edges:` -> `if not edge_list:`\n* indentation of tests `With loops in a digraph::`",
    "created_at": "2017-06-28T07:15:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54614",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:68'>Comment 68:</a>
Something has changed in the tests for method `contract_edge`. Now we are loosing loops. I don't know why

```
sage: edgelist = [(0,0,'a'), (0,1,'b'), (1,1,'c')]
sage: G = Graph(edgelist, loops=True, multiedges=True)
sage: G.contract_edge(0,1,'b'); G.edges()
[(0, 0, 'a')]
sage: D = DiGraph(edgelist, loops=True, multiedges=True)
sage: D.contract_edge(0,1,'b'); D.edges()
[(0, 0, 'a')]
```

In `contract_edges`:
*`if not edges:` -> `if not edge_list:`
* indentation of tests `With loops in a digraph::`



---

archive/issue_comments_054615.json:
```json
{
    "body": "<a id='comment:69'>Comment 69:</a>\nReplying to [@dcoudert](#comment%3A68):\n> Something has changed in the tests for method `contract_edge`. Now we are loosing loops. I don't know why\n\nI think I put those tests in before I rewrote `contract_edge` to use `merge_vertices`. Maybe it's irrelevant to have those tests there now. Now that uses `merge_vertices`, it's dependent on #23290 to keep the loops. I should have been clearer about that, sorry.\n\n> In `contract_edges`:\n> *`if not edges:` -> `if not edge_list:`\n> * indentation of tests `With loops in a digraph::`\n\nYes, I see it now. I'll fix those shortly.",
    "created_at": "2017-06-28T07:42:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54615",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:69'>Comment 69:</a>
Replying to [@dcoudert](#comment%3A68):
> Something has changed in the tests for method `contract_edge`. Now we are loosing loops. I don't know why

I think I put those tests in before I rewrote `contract_edge` to use `merge_vertices`. Maybe it's irrelevant to have those tests there now. Now that uses `merge_vertices`, it's dependent on #23290 to keep the loops. I should have been clearer about that, sorry.

> In `contract_edges`:
> *`if not edges:` -> `if not edge_list:`
> * indentation of tests `With loops in a digraph::`

Yes, I see it now. I'll fix those shortly.



---

archive/issue_comments_054616.json:
```json
{
    "body": "Changed commit from **[0bdd527](https://github.com/sagemath/sagetrac-mirror/commit/0bdd5272076311e182fa4ac9beb56e4558278ee8)** to **[a77404f](https://github.com/sagemath/sagetrac-mirror/commit/a77404f72f68416fa81af947dff29a5b95acb078)**",
    "created_at": "2017-06-28T17:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54616",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[0bdd527](https://github.com/sagemath/sagetrac-mirror/commit/0bdd5272076311e182fa4ac9beb56e4558278ee8)** to **[a77404f](https://github.com/sagemath/sagetrac-mirror/commit/a77404f72f68416fa81af947dff29a5b95acb078)**



---

archive/issue_comments_054617.json:
```json
{
    "body": "<a id='comment:70'>Comment 70:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/35a72018790600519a7ca9694dddb6a3051b5fa9\">35a7201</a></td><td><code>Tabs instead of spaces. I blame the editor.</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/412dc9082deb4ed0c7f14cdbee7a37950e0e51a7\">412dc90</a></td><td><code>moved loops from vertices before the vertices get deleted</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/ff571d6699ab233eedaf3b9d4a417ef6a1f6c56f\">ff571d6</a></td><td><code>efficiency improvements; bug fix when input is [None]</code></td></tr><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a77404f72f68416fa81af947dff29a5b95acb078\">a77404f</a></td><td><code>Merge branch 't/23290/ff571d6699ab233eedaf3b9d4a417ef6a1f6c56f' into t/7304/contract_edge_in_graph</code></td></tr></table>\n",
    "created_at": "2017-06-28T17:58:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54617",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:70'>Comment 70:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/35a72018790600519a7ca9694dddb6a3051b5fa9">35a7201</a></td><td><code>Tabs instead of spaces. I blame the editor.</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/412dc9082deb4ed0c7f14cdbee7a37950e0e51a7">412dc90</a></td><td><code>moved loops from vertices before the vertices get deleted</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/ff571d6699ab233eedaf3b9d4a417ef6a1f6c56f">ff571d6</a></td><td><code>efficiency improvements; bug fix when input is [None]</code></td></tr><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a77404f72f68416fa81af947dff29a5b95acb078">a77404f</a></td><td><code>Merge branch 't/23290/ff571d6699ab233eedaf3b9d4a417ef6a1f6c56f' into t/7304/contract_edge_in_graph</code></td></tr></table>




---

archive/issue_comments_054618.json:
```json
{
    "body": "<a id='comment:71'>Comment 71:</a>\nI took the liberty of moving #23290 into this since it's closed. All tests pass now.",
    "created_at": "2017-06-28T18:00:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54618",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:71'>Comment 71:</a>
I took the liberty of moving #23290 into this since it's closed. All tests pass now.



---

archive/issue_comments_054619.json:
```json
{
    "body": "<a id='comment:72'>Comment 72:</a>\nRight, better to rebase on top of #23290.\n\nIn method `contract_edge`, I suggest the following change. Do you agree ?\n\n```\n       if self.allows_loops() and (not self.has_edge(u, u) or self.allows_multiple_edges()):\n           # add loops\n           for (x, y, l) in self.edges_incident(v):\n               if set([x, y]) == set([u, v]):\n                   self.add_edge(u, u, l)\n```\n\nIn method `contract_edges`\n- the test `if len(set([len(e) for e in edges])) > 1:` is fun ;)\n- `if self.has_edge((u, v, label)):` -> `if self.has_edge(u, v, label):`. This is to avoid guessing the format in method `has_edge`.",
    "created_at": "2017-06-28T20:13:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54619",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:72'>Comment 72:</a>
Right, better to rebase on top of #23290.

In method `contract_edge`, I suggest the following change. Do you agree ?

```
       if self.allows_loops() and (not self.has_edge(u, u) or self.allows_multiple_edges()):
           # add loops
           for (x, y, l) in self.edges_incident(v):
               if set([x, y]) == set([u, v]):
                   self.add_edge(u, u, l)
```

In method `contract_edges`
- the test `if len(set([len(e) for e in edges])) > 1:` is fun ;)
- `if self.has_edge((u, v, label)):` -> `if self.has_edge(u, v, label):`. This is to avoid guessing the format in method `has_edge`.



---

archive/issue_comments_054620.json:
```json
{
    "body": "<a id='comment:73'>Comment 73:</a>\nReplying to [@dcoudert](#comment%3A72):\n> Right, better to rebase on top of #23290.\n> \n> In method `contract_edge`, I suggest the following change. Do you agree ?\n> \n> ```\n>        if self.allows_loops() and (not self.has_edge(u, u) or self.allows_multiple_edges()):\n>            # add loops\n>            for (x, y, l) in self.edges_incident(v):\n>                if set([x, y]) == set([u, v]):\n>                    self.add_edge(u, u, l)\n> ```\n\nI think sage will fail silently if multiedges are off, but it makes sense in principle to check first. I changed the order of the tests because I figured checking a boolean with `self.allows_multiple_edges()` is probably faster than looking for an edge.\n> In method `contract_edges`\n> - the test `if len(set([len(e) for e in edges])) > 1:` is fun ;)\n> - `if self.has_edge((u, v, label)):` -> `if self.has_edge(u, v, label):`. This is to avoid guessing the format in method `has_edge`.\n\nThat also makes sense.",
    "created_at": "2017-06-28T20:51:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54620",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:73'>Comment 73:</a>
Replying to [@dcoudert](#comment%3A72):
> Right, better to rebase on top of #23290.
> 
> In method `contract_edge`, I suggest the following change. Do you agree ?
> 
> ```
>        if self.allows_loops() and (not self.has_edge(u, u) or self.allows_multiple_edges()):
>            # add loops
>            for (x, y, l) in self.edges_incident(v):
>                if set([x, y]) == set([u, v]):
>                    self.add_edge(u, u, l)
> ```

I think sage will fail silently if multiedges are off, but it makes sense in principle to check first. I changed the order of the tests because I figured checking a boolean with `self.allows_multiple_edges()` is probably faster than looking for an edge.
> In method `contract_edges`
> - the test `if len(set([len(e) for e in edges])) > 1:` is fun ;)
> - `if self.has_edge((u, v, label)):` -> `if self.has_edge(u, v, label):`. This is to avoid guessing the format in method `has_edge`.

That also makes sense.



---

archive/issue_comments_054621.json:
```json
{
    "body": "Changed commit from **[a77404f](https://github.com/sagemath/sagetrac-mirror/commit/a77404f72f68416fa81af947dff29a5b95acb078)** to **[29dd861](https://github.com/sagemath/sagetrac-mirror/commit/29dd861eef950472241a9866cedd56d4b6b4474a)**",
    "created_at": "2017-06-28T20:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54621",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a77404f](https://github.com/sagemath/sagetrac-mirror/commit/a77404f72f68416fa81af947dff29a5b95acb078)** to **[29dd861](https://github.com/sagemath/sagetrac-mirror/commit/29dd861eef950472241a9866cedd56d4b6b4474a)**



---

archive/issue_comments_054622.json:
```json
{
    "body": "<a id='comment:74'>Comment 74:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/29dd861eef950472241a9866cedd56d4b6b4474a\">29dd861</a></td><td><code>efficiency improvements</code></td></tr></table>\n",
    "created_at": "2017-06-28T20:52:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54622",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:74'>Comment 74:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/29dd861eef950472241a9866cedd56d4b6b4474a">29dd861</a></td><td><code>efficiency improvements</code></td></tr></table>




---

archive/issue_comments_054623.json:
```json
{
    "body": "<a id='comment:75'>Comment 75:</a>\nIt occurs to me that in `contract_edge`, loops will never be created unless there are already multiedges. Thus we only need to check if multiedges are allowed once when adding loops.",
    "created_at": "2017-06-29T04:30:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54623",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:75'>Comment 75:</a>
It occurs to me that in `contract_edge`, loops will never be created unless there are already multiedges. Thus we only need to check if multiedges are allowed once when adding loops.



---

archive/issue_comments_054624.json:
```json
{
    "body": "<a id='comment:76'>Comment 76:</a>\nNevermind. A digraph can have two arcs in different directions between a pair of vertices and still have multiedges disabled, so contraction can create a loop. I suppose it's better like it is, since if there's already a loop at `u`, it will always be kept with its original label now.",
    "created_at": "2017-06-29T04:44:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54624",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:76'>Comment 76:</a>
Nevermind. A digraph can have two arcs in different directions between a pair of vertices and still have multiedges disabled, so contraction can create a loop. I suppose it's better like it is, since if there's already a loop at `u`, it will always be kept with its original label now.



---

archive/issue_comments_054625.json:
```json
{
    "body": "<a id='comment:77'>Comment 77:</a>\nThe patch looks good to me, but I'm wondering if we have taken all cases into account (functionality and/or tests)",
    "created_at": "2017-06-29T11:12:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54625",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:77'>Comment 77:</a>
The patch looks good to me, but I'm wondering if we have taken all cases into account (functionality and/or tests)



---

archive/issue_comments_054626.json:
```json
{
    "body": "Changed commit from **[29dd861](https://github.com/sagemath/sagetrac-mirror/commit/29dd861eef950472241a9866cedd56d4b6b4474a)** to **[a444488](https://github.com/sagemath/sagetrac-mirror/commit/a4444882aef97b611da18172b0d04ebe1bde1977)**",
    "created_at": "2017-06-29T23:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54626",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[29dd861](https://github.com/sagemath/sagetrac-mirror/commit/29dd861eef950472241a9866cedd56d4b6b4474a)** to **[a444488](https://github.com/sagemath/sagetrac-mirror/commit/a4444882aef97b611da18172b0d04ebe1bde1977)**



---

archive/issue_comments_054627.json:
```json
{
    "body": "<a id='comment:78'>Comment 78:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/a4444882aef97b611da18172b0d04ebe1bde1977\">a444488</a></td><td><code>additional tests</code></td></tr></table>\n",
    "created_at": "2017-06-29T23:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54627",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:78'>Comment 78:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/a4444882aef97b611da18172b0d04ebe1bde1977">a444488</a></td><td><code>additional tests</code></td></tr></table>




---

archive/issue_comments_054628.json:
```json
{
    "body": "<a id='comment:79'>Comment 79:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/438381446f2ab4ee75055e7282dbf75e94a5abae\">4383814</a></td><td><code>redundancy in tests</code></td></tr></table>\n",
    "created_at": "2017-06-29T23:34:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54628",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:79'>Comment 79:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/438381446f2ab4ee75055e7282dbf75e94a5abae">4383814</a></td><td><code>redundancy in tests</code></td></tr></table>




---

archive/issue_comments_054629.json:
```json
{
    "body": "Changed commit from **[a444488](https://github.com/sagemath/sagetrac-mirror/commit/a4444882aef97b611da18172b0d04ebe1bde1977)** to **[4383814](https://github.com/sagemath/sagetrac-mirror/commit/438381446f2ab4ee75055e7282dbf75e94a5abae)**",
    "created_at": "2017-06-29T23:34:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54629",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[a444488](https://github.com/sagemath/sagetrac-mirror/commit/a4444882aef97b611da18172b0d04ebe1bde1977)** to **[4383814](https://github.com/sagemath/sagetrac-mirror/commit/438381446f2ab4ee75055e7282dbf75e94a5abae)**



---

archive/issue_events_078590.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-29T23:36:15Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-6.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78590"
}
```



---

archive/issue_events_078591.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-06-29T23:36:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "milestone_number": null,
    "milestone_title": "sage-8.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78591"
}
```



---

archive/issue_comments_054630.json:
```json
{
    "body": "<a id='comment:80'>Comment 80:</a>\nI added tests for labeled edges, and for attempting to contract non-edges. I think that covers it.",
    "created_at": "2017-06-29T23:36:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54630",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:80'>Comment 80:</a>
I added tests for labeled edges, and for attempting to contract non-edges. I think that covers it.



---

archive/issue_comments_054631.json:
```json
{
    "body": "<a id='comment:81'>Comment 81:</a>\nFinal comments (sorry for that).\n\nFor method `contract_edge`:\n- at the top of the `generic_graph.py` file, could you ensure that the description of `contract_edge` is the same as in the method. I propose to put: <code>Contract an edge from \\`u\\` to \\`v\\`</code>. Note that I use `Contract` and not `Contracts`.\n- Then in the method, split the first line to <code>Contract an edge from \\`u\\` to \\`v\\`</code> and then have a next paragraph with `This method returns silently if the edge does not exist.`\n\nFor method `contract_edges`:\n- at the top of the `generic_graph.py` file, for `contract_edges`: use `Contract` instead of `Contracts`\n- improve the alignment of paragraph <code>If \\`e\\` is an edge that is...</code>\n- In the `INPUT` block, <code>- \\`\\`edges\\`\\` - a list...</code> -> <code>- \\`\\`edges\\`\\` -- a list...</code>. You will certainly have to put the last word (edges) on the next line to be in 80 columns format.\n- In the `TESTS:` block, just before `With loops in a digraph::`, remove the empty `::` block. I was not able to build the documentation and it took me a while to understand that it was caused by this `::` stuff.\n- I'm not sure the empty line `....:` is useful. You can remove it.\n\nI hope it's the last round of corrections ;)",
    "created_at": "2017-07-01T19:59:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54631",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:81'>Comment 81:</a>
Final comments (sorry for that).

For method `contract_edge`:
- at the top of the `generic_graph.py` file, could you ensure that the description of `contract_edge` is the same as in the method. I propose to put: <code>Contract an edge from \`u\` to \`v\`</code>. Note that I use `Contract` and not `Contracts`.
- Then in the method, split the first line to <code>Contract an edge from \`u\` to \`v\`</code> and then have a next paragraph with `This method returns silently if the edge does not exist.`

For method `contract_edges`:
- at the top of the `generic_graph.py` file, for `contract_edges`: use `Contract` instead of `Contracts`
- improve the alignment of paragraph <code>If \`e\` is an edge that is...</code>
- In the `INPUT` block, <code>- \`\`edges\`\` - a list...</code> -> <code>- \`\`edges\`\` -- a list...</code>. You will certainly have to put the last word (edges) on the next line to be in 80 columns format.
- In the `TESTS:` block, just before `With loops in a digraph::`, remove the empty `::` block. I was not able to build the documentation and it took me a while to understand that it was caused by this `::` stuff.
- I'm not sure the empty line `....:` is useful. You can remove it.

I hope it's the last round of corrections ;)



---

archive/issue_comments_054632.json:
```json
{
    "body": "Changed commit from **[4383814](https://github.com/sagemath/sagetrac-mirror/commit/438381446f2ab4ee75055e7282dbf75e94a5abae)** to **[645c3e7](https://github.com/sagemath/sagetrac-mirror/commit/645c3e7bf8d011846fc6fcadd753200382414940)**",
    "created_at": "2017-07-02T23:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54632",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[4383814](https://github.com/sagemath/sagetrac-mirror/commit/438381446f2ab4ee75055e7282dbf75e94a5abae)** to **[645c3e7](https://github.com/sagemath/sagetrac-mirror/commit/645c3e7bf8d011846fc6fcadd753200382414940)**



---

archive/issue_comments_054633.json:
```json
{
    "body": "<a id='comment:82'>Comment 82:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/645c3e7bf8d011846fc6fcadd753200382414940\">645c3e7</a></td><td><code>Documentation fixes</code></td></tr></table>\n",
    "created_at": "2017-07-02T23:14:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54633",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:82'>Comment 82:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/645c3e7bf8d011846fc6fcadd753200382414940">645c3e7</a></td><td><code>Documentation fixes</code></td></tr></table>




---

archive/issue_comments_054634.json:
```json
{
    "body": "Changed commit from **[645c3e7](https://github.com/sagemath/sagetrac-mirror/commit/645c3e7bf8d011846fc6fcadd753200382414940)** to **[50a884f](https://github.com/sagemath/sagetrac-mirror/commit/50a884f5a8aa1af7448f15ed292c1c936788f0bd)**",
    "created_at": "2017-07-02T23:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54634",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[645c3e7](https://github.com/sagemath/sagetrac-mirror/commit/645c3e7bf8d011846fc6fcadd753200382414940)** to **[50a884f](https://github.com/sagemath/sagetrac-mirror/commit/50a884f5a8aa1af7448f15ed292c1c936788f0bd)**



---

archive/issue_comments_054635.json:
```json
{
    "body": "<a id='comment:83'>Comment 83:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/50a884f5a8aa1af7448f15ed292c1c936788f0bd\">50a884f</a></td><td><code>a bit of extra whitespace...</code></td></tr></table>\n",
    "created_at": "2017-07-02T23:16:26Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54635",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:83'>Comment 83:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/50a884f5a8aa1af7448f15ed292c1c936788f0bd">50a884f</a></td><td><code>a bit of extra whitespace...</code></td></tr></table>




---

archive/issue_comments_054636.json:
```json
{
    "body": "<a id='comment:84'>Comment 84:</a>\nDone. Thanks for walking me through it.",
    "created_at": "2017-07-02T23:16:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54636",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:84'>Comment 84:</a>
Done. Thanks for walking me through it.



---

archive/issue_comments_054637.json:
```json
{
    "body": "Changed reviewer from **Tom Boothby** to **Tom Boothby, David Coudert**",
    "created_at": "2017-07-02T23:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54637",
    "user": "https://github.com/dcoudert"
}
```

Changed reviewer from **Tom Boothby** to **Tom Boothby, David Coudert**



---

archive/issue_comments_054638.json:
```json
{
    "body": "<a id='comment:85'>Comment 85:</a>\nYou have used `from 'u' to 'v'` with `'` instead of <code>\\`</code>. I think that <code>\\`</code> is more appropriate. It is nicer in the documentation and it avoids confusion with string.\n\nYou have to do the correction both at the top of the file and at the beginning of `contract_edge`.\n\nAfter that you can set the ticket to positive review (or I will do it later).\n\nBest,",
    "created_at": "2017-07-02T23:46:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54638",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:85'>Comment 85:</a>
You have used `from 'u' to 'v'` with `'` instead of <code>\`</code>. I think that <code>\`</code> is more appropriate. It is nicer in the documentation and it avoids confusion with string.

You have to do the correction both at the top of the file and at the beginning of `contract_edge`.

After that you can set the ticket to positive review (or I will do it later).

Best,



---

archive/issue_comments_054639.json:
```json
{
    "body": "Changed commit from **[50a884f](https://github.com/sagemath/sagetrac-mirror/commit/50a884f5a8aa1af7448f15ed292c1c936788f0bd)** to **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)**",
    "created_at": "2017-07-03T00:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54639",
    "user": "https://github.com/sagetrac-git"
}
```

Changed commit from **[50a884f](https://github.com/sagemath/sagetrac-mirror/commit/50a884f5a8aa1af7448f15ed292c1c936788f0bd)** to **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)**



---

archive/issue_comments_054640.json:
```json
{
    "body": "<a id='comment:86'>Comment 86:</a>\nBranch pushed to git repo; I updated commit sha1. New commits:\n<table><tr><td><a href=\"https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f\">6f2a583</a></td><td><code>proper demarcation of variables</code></td></tr></table>\n",
    "created_at": "2017-07-03T00:04:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54640",
    "user": "https://github.com/sagetrac-git"
}
```

<a id='comment:86'>Comment 86:</a>
Branch pushed to git repo; I updated commit sha1. New commits:
<table><tr><td><a href="https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f">6f2a583</a></td><td><code>proper demarcation of variables</code></td></tr></table>




---

archive/issue_events_078592.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-07-03T00:39:40Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78592"
}
```



---

archive/issue_events_078593.json:
```json
{
    "actor": "https://github.com/sagetrac-zgershkoff",
    "created_at": "2017-07-03T00:39:40Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78593"
}
```



---

archive/issue_comments_054641.json:
```json
{
    "body": "<a id='comment:87'>Comment 87:</a>\nI can't personally verify that the documentation builds correctly (perhaps an error with the beta I have installed), but doctests pass, so I'll take your word for it. Thanks for the review.",
    "created_at": "2017-07-03T00:39:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54641",
    "user": "https://github.com/sagetrac-zgershkoff"
}
```

<a id='comment:87'>Comment 87:</a>
I can't personally verify that the documentation builds correctly (perhaps an error with the beta I have installed), but doctests pass, so I'll take your word for it. Thanks for the review.



---

archive/issue_comments_054642.json:
```json
{
    "body": "<a id='comment:88'>Comment 88:</a>\nI checked and the documentation looks good. So we are done.",
    "created_at": "2017-07-03T03:17:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54642",
    "user": "https://github.com/dcoudert"
}
```

<a id='comment:88'>Comment 88:</a>
I checked and the documentation looks good. So we are done.



---

archive/issue_comments_054643.json:
```json
{
    "body": "Changed dependencies from **#9362, #23290** to **#23290**",
    "created_at": "2017-08-14T22:38:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54643",
    "user": "https://github.com/vbraun"
}
```

Changed dependencies from **#9362, #23290** to **#23290**



---

archive/issue_comments_054644.json:
```json
{
    "body": "<a id='comment:90'>Comment 90:</a>\nIf you depend on a pre-git ticket then the release script will never figure out that the dependencies are merged FYI",
    "created_at": "2017-08-14T22:39:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54644",
    "user": "https://github.com/vbraun"
}
```

<a id='comment:90'>Comment 90:</a>
If you depend on a pre-git ticket then the release script will never figure out that the dependencies are merged FYI



---

archive/issue_comments_054645.json:
```json
{
    "body": "Changed branch from **[u/zgershkoff/contract_edge_in_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/contract_edge_in_graph)** to **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)**",
    "created_at": "2017-08-16T18:46:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54645",
    "user": "https://github.com/vbraun"
}
```

Changed branch from **[u/zgershkoff/contract_edge_in_graph](https://github.com/sagemath/sagetrac-mirror/tree/u/zgershkoff/contract_edge_in_graph)** to **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)**



---

archive/issue_events_078594.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2017-08-16T18:46:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78594"
}
```



---

archive/issue_events_078595.json:
```json
{
    "actor": "https://github.com/vbraun",
    "commit_id": "ae0118fcc745887ce08c03b99b818f0080cd7c1a",
    "commit_repository": "https://github.com/sagemath/sage",
    "created_at": "2017-08-16T18:46:08Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7304#event-78595"
}
```



---

archive/issue_comments_054646.json:
```json
{
    "body": "Changed commit from **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)** to none",
    "created_at": "2017-10-24T15:10:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54646",
    "user": "https://github.com/jdemeyer"
}
```

Changed commit from **[6f2a583](https://github.com/sagemath/sagetrac-mirror/commit/6f2a583a1705c1addb076c84479a693664ad058f)** to none



---

archive/issue_comments_054647.json:
```json
{
    "body": "Changed author from **Zachary Gershkoff** to **Zach Gershkoff**",
    "created_at": "2017-10-24T15:10:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7304",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7304#issuecomment-54647",
    "user": "https://github.com/jdemeyer"
}
```

Changed author from **Zachary Gershkoff** to **Zach Gershkoff**
