# Issue 7507: can't forget some assumptions

archive/issues_007507.json:
```json
{
    "body": "Reported by Mike Witt on sage-support:\n\n```\n----------------------------------------------------------------------\n----------------------------------------------------------------------\nsage: n=var('n')\nsage: assumptions()\n[]\nsage: foo=sin((-1)*n*pi)\nsage: foo.simplify()\n-sin(pi*n)\nsage: assume(n, 'odd')\nsage: assumptions()\n[n is odd]\nsage: foo=sin((-1)*n*pi)\nsage: foo.simplify()\n0\nsage: forget(n, 'odd')\nsage: assumptions()\n[]\nsage: foo=sin((-1)*n*pi)\nsage: foo.simplify()\n0\n```\n| Sage Version 4.2, Release Date: 2009-10-24                         |\n| Type notebook() for the GUI, and license() for information.        |\nRobert Dodier's comments:\n\n```\nI'm guessing that Sage punts to Maxima for this stuff.\nFor better or worse (mostly worse) there are different ways\nto declare & undeclare stuff in Maxima.\nFor the \"odd\" declaration, it's declare(n, odd) and remove(n, odd).\nI guess assume(n, 'odd') was translated to declare(n, odd) but\nforget(n, 'odd') was not translated to remove(n, odd).\nI don't know much about Sage so I could be way off here.\n```\n\nHere is the thread:\n\nhttp://groups.google.com/group/sage-support/browse_thread/thread/9db67c2df781966b\n\nAssignee: @burcin\n\nCC:  @kcrisman @robert-marik\n\nKeywords: maxima, assume\n\nResolution: fixed\n\nAuthor: Burcin Erocal\n\nReviewer: Karl-Dieter Crisman\n\nMerged: sage-4.7.1.alpha1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7507\n\n",
    "closed_at": "2011-05-25T12:51:51Z",
    "created_at": "2009-11-21T12:21:56Z",
    "labels": [
        "component: symbolics",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.7.1",
    "title": "can't forget some assumptions",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7507",
    "user": "https://github.com/burcin"
}
```
Reported by Mike Witt on sage-support:

```
----------------------------------------------------------------------
----------------------------------------------------------------------
sage: n=var('n')
sage: assumptions()
[]
sage: foo=sin((-1)*n*pi)
sage: foo.simplify()
-sin(pi*n)
sage: assume(n, 'odd')
sage: assumptions()
[n is odd]
sage: foo=sin((-1)*n*pi)
sage: foo.simplify()
0
sage: forget(n, 'odd')
sage: assumptions()
[]
sage: foo=sin((-1)*n*pi)
sage: foo.simplify()
0
```
| Sage Version 4.2, Release Date: 2009-10-24                         |
| Type notebook() for the GUI, and license() for information.        |
Robert Dodier's comments:

```
I'm guessing that Sage punts to Maxima for this stuff.
For better or worse (mostly worse) there are different ways
to declare & undeclare stuff in Maxima.
For the "odd" declaration, it's declare(n, odd) and remove(n, odd).
I guess assume(n, 'odd') was translated to declare(n, odd) but
forget(n, 'odd') was not translated to remove(n, odd).
I don't know much about Sage so I could be way off here.
```

Here is the thread:

http://groups.google.com/group/sage-support/browse_thread/thread/9db67c2df781966b

Assignee: @burcin

CC:  @kcrisman @robert-marik

Keywords: maxima, assume

Resolution: fixed

Author: Burcin Erocal

Reviewer: Karl-Dieter Crisman

Merged: sage-4.7.1.alpha1

Issue created by migration from https://trac.sagemath.org/ticket/7507





---

archive/issue_comments_073676.json:
```json
{
    "body": "<a id='comment:1'></a>Okay, this is closed related to #1163 and #7315.  Should not be hard to fix, and might help in making GenericDeclarations better in any case.",
    "created_at": "2009-11-21T14:16:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73676",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:1'></a>Okay, this is closed related to #1163 and #7315.  Should not be hard to fix, and might help in making GenericDeclarations better in any case.



---

archive/issue_comments_073677.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2010-01-08T16:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73677",
    "user": "https://github.com/kcrisman"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_073678.json:
```json
{
    "body": "<a id='comment:2'></a>Replying to [comment:1 kcrisman]:\n> Okay, this is closed related to #1163 and #7315.  Should not be hard to fix, and might help in making GenericDeclarations better in any case.\n\n\nSorry, I meant *closely* related.",
    "created_at": "2010-01-08T16:36:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73678",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:2'></a>Replying to [comment:1 kcrisman]:
> Okay, this is closed related to #1163 and #7315.  Should not be hard to fix, and might help in making GenericDeclarations better in any case.


Sorry, I meant *closely* related.



---

archive/issue_comments_073679.json:
```json
{
    "body": "Changing author from \"\" to \"Burcin Erocal\"",
    "created_at": "2011-05-08T20:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73679",
    "user": "https://github.com/burcin"
}
```

Changing author from "" to "Burcin Erocal"



---

archive/issue_events_017794.json:
```json
{
    "actor": "https://github.com/burcin",
    "created_at": "2011-05-08T20:11:15Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "milestone": "sage-4.7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7507#event-17794"
}
```



---

archive/issue_comments_073680.json:
```json
{
    "body": "<a id='comment:3'></a>Attachment [trac_7507-forget_assumptions.patch](tarball://root/attachments/some-uuid/ticket7507/trac_7507-forget_assumptions.patch) by @burcin created at 2011-05-08 20:11:15\n\nThis seems to be fixed in the meanwhile. attachment:trac_7507-forget_assumptions.patch adds a doctest.",
    "created_at": "2011-05-08T20:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73680",
    "user": "https://github.com/burcin"
}
```

<a id='comment:3'></a>Attachment [trac_7507-forget_assumptions.patch](tarball://root/attachments/some-uuid/ticket7507/trac_7507-forget_assumptions.patch) by @burcin created at 2011-05-08 20:11:15

This seems to be fixed in the meanwhile. attachment:trac_7507-forget_assumptions.patch adds a doctest.



---

archive/issue_comments_073681.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2011-05-08T20:11:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73681",
    "user": "https://github.com/burcin"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_073682.json:
```json
{
    "body": "<a id='comment:4'></a>Yes, this was fixed as part of #1163, as it turns out.\n\n```\n\n    for x in preprocess_assumptions(args):\n        if isinstance(x, (tuple, list)):\n            forget(*x)\n```\nused to have\n\n```\n\n    for x in preprocess_assumptions(args):\n        if isinstance(x, (tuple, list)):\n            assume(*x)\n```\nbefore that patch.",
    "created_at": "2011-05-11T18:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73682",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:4'></a>Yes, this was fixed as part of #1163, as it turns out.

```

    for x in preprocess_assumptions(args):
        if isinstance(x, (tuple, list)):
            forget(*x)
```
used to have

```

    for x in preprocess_assumptions(args):
        if isinstance(x, (tuple, list)):
            assume(*x)
```
before that patch.



---

archive/issue_comments_073683.json:
```json
{
    "body": "Changing reviewer from \"\" to \"Karl-Dieter Crisman\"",
    "created_at": "2011-05-11T18:58:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73683",
    "user": "https://github.com/kcrisman"
}
```

Changing reviewer from "" to "Karl-Dieter Crisman"



---

archive/issue_comments_073684.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2011-05-11T19:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73684",
    "user": "https://github.com/kcrisman"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_073685.json:
```json
{
    "body": "<a id='comment:5'></a>Nice catch to close this; tests pass.",
    "created_at": "2011-05-11T19:04:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73685",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>Nice catch to close this; tests pass.



---

archive/issue_events_017795.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2011-05-25T12:51:51Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7507#event-17795"
}
```



---

archive/issue_comments_073686.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2011-05-25T12:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73686",
    "user": "https://github.com/jdemeyer"
}
```

Resolution: fixed



---

archive/issue_comments_073687.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.7.1.alpha1\"",
    "created_at": "2011-05-25T12:51:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7507",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7507#issuecomment-73687",
    "user": "https://github.com/jdemeyer"
}
```

Changing merged from "" to "sage-4.7.1.alpha1"
