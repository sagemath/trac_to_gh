# Issue 7284: create an optional gmp spkg

archive/issues_007284.json:
```json
{
    "assignees": [
        "https://github.com/sagetrac-mabshoff"
    ],
    "body": "David Harvey wants to use GMP instead of MPIR, or want to check that they get the same answers with both libraries.  Let's make that really easy for him. \n\n http://sage.math.washington.edu/home/wstein/patches/mpir-gmp-4.3.1.spkg\n\nI named the package mpir-gmp-4.3.1.spkg, so one can drop it into sage-x.y.z.tar and just build with no other changes needed. \n\nI have tested this and several doctests fail due to different xgcd behavior.  This is expected. \n\nComponent: **packages: standard**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7284_\n\n",
    "closed_at": "2009-11-14T03:48:04Z",
    "created_at": "2009-10-25T02:46:36Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "create an optional gmp spkg",
    "type": "issue",
    "updated_at": "2012-07-28T13:53:02Z",
    "url": "https://github.com/sagemath/sage/issues/7284",
    "user": "https://github.com/williamstein"
}
```
David Harvey wants to use GMP instead of MPIR, or want to check that they get the same answers with both libraries.  Let's make that really easy for him. 

 http://sage.math.washington.edu/home/wstein/patches/mpir-gmp-4.3.1.spkg

I named the package mpir-gmp-4.3.1.spkg, so one can drop it into sage-x.y.z.tar and just build with no other changes needed. 

I have tested this and several doctests fail due to different xgcd behavior.  This is expected. 

Component: **packages: standard**

_Issue created by migration from https://trac.sagemath.org/ticket/7284_





---

archive/issue_events_088888.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-25T02:46:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "milestone_number": null,
    "milestone_title": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88888"
}
```



---

archive/issue_events_088889.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-25T02:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20packages%3A%20standard",
    "label_color": "000080",
    "label_name": "c: packages: standard",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88889"
}
```



---

archive/issue_events_088890.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-25T02:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88890"
}
```



---

archive/issue_events_088891.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-25T02:46:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88891"
}
```



---

archive/issue_events_088892.json:
```json
{
    "actor": "https://github.com/sagetrac-mabshoff",
    "created_at": "2009-10-25T02:46:36Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "subject": "https://github.com/williamstein",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88892"
}
```



---

archive/issue_events_088893.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-10-25T02:46:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88893"
}
```



---

archive/issue_comments_052659.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nI tried to install this on sage-4.1.1 (maybe a bad idea) and got the following error:\n\n```\nImportError                               Traceback (most recent call last)\n\n/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/IPython/ipmaker.pyc in force_import(modname)\n     64         reload(sys.modules[modname])\n     65     else:\n---> 66         __import__(modname)\n     67 \n     68 \n\n/Users/mh/sagestuff/sage-4.1.1/local/bin/ipy_profile_sage.py in <module>()\n      5     preparser(True)\n      6 \n----> 7     import sage.all_cmdline\n      8     sage.all_cmdline._init_cmdline(globals())\n      9 \n\n/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/all_cmdline.py in <module>()\n     12 try:\n     13 \n---> 14     from sage.all import *\n     15     from sage.calculus.predefined import x\n     16     preparser(on=True)\n\n/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/all.py in <module>()\n     66 from sage.misc.sh import sh\n     67 \n---> 68 from sage.libs.all       import *\n     69 \n     70 get_sigs()\n\n/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/all.py in <module>()\n      1 from sage.rings.memory import pmem_malloc\n      2 \n----> 3 import sage.libs.ntl.all  as ntl\n      4 \n      5 #import sage.libs.cf.cf as cf\n\n\n/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/ntl/all.py in <module>()\n     24 #*****************************************************************************\n\n     25 \n---> 26 from sage.libs.ntl.ntl_ZZ import (\n     27                  ntl_setSeed, \\\n     28                  ntl_ZZ as ZZ,\n\nImportError: dlopen(/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/ntl/ntl_ZZ.so, 2): Library not loaded: /Users/mh/sagestuff/sage-4.1.1.rc2/local/lib/libgmpxx.3.dylib\n  Referenced from: /Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/ntl/ntl_ZZ.so\n  Reason: image not found\nError importing ipy_profile_sage - perhaps you should run %upgrade?\nWARNING: Loading of ipy_profile_sage failed.\n```",
    "created_at": "2009-10-25T03:21:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7284#issuecomment-52659",
    "user": "https://github.com/sagetrac-mhampton"
}
```

<div id="comment:2" align="right">comment:2</div>

I tried to install this on sage-4.1.1 (maybe a bad idea) and got the following error:

```
ImportError                               Traceback (most recent call last)

/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/IPython/ipmaker.pyc in force_import(modname)
     64         reload(sys.modules[modname])
     65     else:
---> 66         __import__(modname)
     67 
     68 

/Users/mh/sagestuff/sage-4.1.1/local/bin/ipy_profile_sage.py in <module>()
      5     preparser(True)
      6 
----> 7     import sage.all_cmdline
      8     sage.all_cmdline._init_cmdline(globals())
      9 

/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/all_cmdline.py in <module>()
     12 try:
     13 
---> 14     from sage.all import *
     15     from sage.calculus.predefined import x
     16     preparser(on=True)

/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/all.py in <module>()
     66 from sage.misc.sh import sh
     67 
---> 68 from sage.libs.all       import *
     69 
     70 get_sigs()

/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/all.py in <module>()
      1 from sage.rings.memory import pmem_malloc
      2 
----> 3 import sage.libs.ntl.all  as ntl
      4 
      5 #import sage.libs.cf.cf as cf


/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/ntl/all.py in <module>()
     24 #*****************************************************************************

     25 
---> 26 from sage.libs.ntl.ntl_ZZ import (
     27                  ntl_setSeed, \
     28                  ntl_ZZ as ZZ,

ImportError: dlopen(/Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/ntl/ntl_ZZ.so, 2): Library not loaded: /Users/mh/sagestuff/sage-4.1.1.rc2/local/lib/libgmpxx.3.dylib
  Referenced from: /Users/mh/sagestuff/sage-4.1.1/local/lib/python2.6/site-packages/sage/libs/ntl/ntl_ZZ.so
  Reason: image not found
Error importing ipy_profile_sage - perhaps you should run %upgrade?
WARNING: Loading of ipy_profile_sage failed.
```



---

archive/issue_comments_052660.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nIt installed fine for me. I'm running the doctests now.",
    "created_at": "2009-10-30T21:06:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7284#issuecomment-52660",
    "user": "https://github.com/sagetrac-myurko"
}
```

<div id="comment:3" align="right">comment:3</div>

It installed fine for me. I'm running the doctests now.



---

archive/issue_comments_052661.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nNEW VERSION with proper SAGE_FAT_BINARY support:\n\n   http://sage.math.washington.edu/home/wstein/patches/mpir-gmp-4.3.1.p1.spkg",
    "created_at": "2009-11-13T21:32:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7284#issuecomment-52661",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:4" align="right">comment:4</div>

NEW VERSION with proper SAGE_FAT_BINARY support:

   http://sage.math.washington.edu/home/wstein/patches/mpir-gmp-4.3.1.p1.spkg



---

archive/issue_comments_052662.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@williamstein](#comment:4):\n> NEW VERSION with proper SAGE_FAT_BINARY support:\n> \n>    http://sage.math.washington.edu/home/wstein/patches/mpir-gmp-4.3.1.p1.spkg\n\nI finished the doctests on sage.math and I got hte following failiures:\n\nsage -t  devel/sage-main/sage/tests/book_stein_modform.py                                                      \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py\", line 70:                          \n    sage: M.basis()                                                                                            \nExpected:                                                                                                      \n    ({Infinity, 0}, {-1/8, 0}, {-1/9, 0})                                                                      \nGot:                                                                                                           \n    ({Infinity, 0}, {7/8, 1}, {8/9, 1})                                                                        \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py\", line 73:                          \n    sage: S.integral_basis()     # basis over ZZ.                                                              \nExpected:                                                                                                      \n    ({-1/8, 0}, {-1/9, 0})                                                                                     \nGot:                                                                                                           \n    ({7/8, 1}, {8/9, 1})                                                                                       \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py\", line 94:                          \n    sage: [x.lift_to_sl2z(2) for x in M.manin_generators()]                                                    \nExpected:                                                                                                      \n    [[1, 0, 0, 1], [0, -1, 1, 0], [0, -1, 1, 1]]                                                               \nGot:                                                                                                           \n    [[1, 0, 0, 1], [0, -1, 1, 0], [1, 0, 1, 1]]                                                                \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py\", line 114:                         \n    sage: [x.modular_symbol_rep() for x in M.basis()]                                                          \nExpected:                                                                                                      \n    [{Infinity, 0}, {0, 1/3}, {-1/2, -1/3}]                                                                    \nGot:                                                                                                           \n    [{Infinity, 0}, {-1, -2/3}, {-1/2, -1/3}]                                                                  \n**********************************************************************                                         \n1 items had failures:                                                                                          \n   4 of 241 in __main__.example_1                                                                              \n***Test Failed*** 4 failures.\n\nsage -t  devel/sage-main/sage/tests/book_stein_ent.py                                                          \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_ent.py\", line 82:                              \n    sage: CRT(2,3, 3, 5)                                                                                       \nExpected:                                                                                                      \n    8                                                                                                          \nGot:                                                                                                           \n    -7                                                                                                         \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_ent.py\", line 86:                              \n    sage: xgcd(5,7)                                                                                            \nExpected:                                                                                                      \n    (1, 3, -2)                                                                                                 \nGot:                                                                                                           \n    (1, -4, 3)                                                                                                 \n**********************************************************************                                         \n1 items had failures:                                                                                          \n   2 of 263 in __main__.example_1                                                                              \n***Test Failed*** 2 failures.\n\nsage -t  devel/sage-main/sage/rings/integer.pyx                                                                \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx\", line 4429:                                  \n    sage: Integer(5)._xgcd(7)                                                                                  \nExpected:                                                                                                      \n    (1, 3, -2)                                                                                                 \nGot:                                                                                                           \n    (1, -4, 3)                                                                                                 \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx\", line 4441:                                  \n    sage: Integer(3)._xgcd(21)                                                                                 \nExpected:                                                                                                      \n    (3, 1, 0)                                                                                                  \nGot:                                                                                                           \n    (3, -20, 3)                                                                                                \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx\", line 4443:                                  \n    sage: Integer(3)._xgcd(24)                                                                                 \nExpected:                                                                                                      \n    (3, 1, 0)                                                                                                  \nGot:                                                                                                           \n    (3, -15, 2)                                                                                                \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx\", line 4445:                                  \n    sage: Integer(3)._xgcd(48)                                                                                 \nExpected:                                                                                                      \n    (3, 1, 0)                                                                                                  \nGot:                                                                                                           \n    (3, -15, 1)                                                                                                \n**********************************************************************                                         \n1 items had failures:                                                                                          \n   4 of  20 in __main__.example_110                                                                            \n***Test Failed*** 4 failures.\n\nsage -t  devel/sage-main/sage/rings/arith.py                                                                   \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/arith.py\", line 1450:                                     \n    sage: g, a, b = xgcd(5/1, 7/1); g, a, b                                                                    \nExpected:                                                                                                      \n    (1, 3, -2)                                                                                                 \nGot:                                                                                                           \n    (1, -4, 3)                                                                                                 \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/arith.py\", line 2423:                                     \n    sage: crt(2, 1, 3, 5)                                                                                      \nExpected:                                                                                                      \n    -4                                                                                                         \nGot:                                                                                                           \n    11                                                                                                         \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/arith.py\", line 2430:                                     \n    sage: c = CRT(2,3, 3, 5); c                                                                                \nExpected:                                                                                                      \n    8                                                                                                          \nGot:                                                                                                           \n    -7                                                                                                         \n**********************************************************************                                         \n2 items had failures:                                                                                          \n   1 of  13 in __main__.example_29                                                                             \n   2 of   7 in __main__.example_53                                                                             \n***Test Failed*** 3 failures.\n\nsage -t  devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py                                       \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py\", line 170:          \n    sage: I.groebner_basis()                                                                                   \nExpected:                                                                                                      \n    [-x - y - z, -y^2 - 3*y + z^2 + 3, -y*z + 14329*y + 6653454247350,                                         \n     2*y - 1199*z^3 + 74229*z^2 + 31017*z + 106019, -23*z^3 + 953554642851*z + 2034,                           \n     19*z^2 + 5357048579, 2*z - 1339262138, 164878]                                                            \nGot:                                                                                                           \n    [-x - y - z, -y^2 - 3*y + z^2 + 3, -y*z - 53843*y + 241331785122306, 2*y - 10951*z^3 + 8073353678595417*z - 1769770, 23*z^3 + 2623*z^2 + 1109*z + 3717, 19*z^2 - 51715800877, 2*z + 12928950226, 164878]                  \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2493:         \n    sage: I.groebner_basis()                                                                                   \nExpected:                                                                                                      \n    [-b^3 + 23*b*c^2 - 3*b^2 - 5*b*c,                                                                          \n     2*b*c^2 - 6*c^3 - b^2 - b*c + 2*c^2,                                                                      \n     42*c^3 + 5*b^2 + 4*b*c - 14*c^2,                                                                          \n     2*b^2 + 6*b*c + 6*c^2 - b - 2*c,                                                                          \n     -10*b*c - 12*c^2 + b + 4*c,                                                                               \n     a + 2*b + 2*c - 1]                                                                                        \nGot:                                                                                                           \n    [-b^3 + 251*b*c^2 + 282*c^3 - 21*b*c - 88*c^2 - b - 2*c, -2*b*c^2 - 36*c^3 - b*c + 12*c^2 - b, 42*c^3 + 5*b^2 + 4*b*c - 14*c^2, 2*b^2 + 6*b*c + 6*c^2 - b - 2*c, -10*b*c - 12*c^2 + b + 4*c, a + 2*b + 2*c - 1]           \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py\", line 2514:         \n    sage: I.groebner_basis()                                                                                   \nExpected:                                                                                                      \n    [b*c^2 + 992*b*c + 712*c^2 + 332*b + 96*c,                                                                 \n     2*c^3 + 589*b*c + 862*c^2 + 762*b + 268*c,                                                                \n     b^2 + 438*b*c + 281*b,                                                                                    \n     5*b*c + 156*c^2 + 112*b + 948*c,                                                                          \n     50*c^2 + 600*b + 650*c, a + 2*b + 2*c + 999, 125*b]                                                       \nGot:                                                                                                           \n    [b*c^2 + 492*b*c + 312*c^2 + 32*b + 896*c, 2*c^3 + 339*b*c + 762*c^2 + 312*b + 968*c, b^2 + 438*b*c + 281*b, 5*b*c + 306*c^2 + 912*b + 898*c, 50*c^2 + 600*b + 650*c, a + 2*b + 2*c + 999, 125*b]                         \n**********************************************************************                                         \n2 items had failures:                                                                                          \n   1 of  59 in __main__.example_0                                                                              \n   2 of  43 in __main__.example_48                                                                             \n***Test Failed*** 3 failures. \n\nsage -t  devel/sage-main/sage/rings/polynomial/toy_d_basis.py                                                  \n**********************************************************************                                         \nFile \"/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/toy_d_basis.py\", line 175:                     \n    sage: gpol(f,g)                                                                                            \nExpected:                                                                                                      \n    x^2*y - y                                                                                                  \nGot:                                                                                                           \n    x^2*y - x*z + y                                                                                            \n**********************************************************************                                         \n1 items had failures:                                                                                          \n   1 of   7 in __main__.example_2                                                                              \n***Test Failed*** 1 failures.",
    "created_at": "2009-11-14T01:23:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7284#issuecomment-52662",
    "user": "https://github.com/sagetrac-myurko"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@williamstein](#comment:4):
> NEW VERSION with proper SAGE_FAT_BINARY support:
> 
>    http://sage.math.washington.edu/home/wstein/patches/mpir-gmp-4.3.1.p1.spkg

I finished the doctests on sage.math and I got hte following failiures:

sage -t  devel/sage-main/sage/tests/book_stein_modform.py                                                      
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py", line 70:                          
    sage: M.basis()                                                                                            
Expected:                                                                                                      
    ({Infinity, 0}, {-1/8, 0}, {-1/9, 0})                                                                      
Got:                                                                                                           
    ({Infinity, 0}, {7/8, 1}, {8/9, 1})                                                                        
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py", line 73:                          
    sage: S.integral_basis()     # basis over ZZ.                                                              
Expected:                                                                                                      
    ({-1/8, 0}, {-1/9, 0})                                                                                     
Got:                                                                                                           
    ({7/8, 1}, {8/9, 1})                                                                                       
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py", line 94:                          
    sage: [x.lift_to_sl2z(2) for x in M.manin_generators()]                                                    
Expected:                                                                                                      
    [[1, 0, 0, 1], [0, -1, 1, 0], [0, -1, 1, 1]]                                                               
Got:                                                                                                           
    [[1, 0, 0, 1], [0, -1, 1, 0], [1, 0, 1, 1]]                                                                
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_modform.py", line 114:                         
    sage: [x.modular_symbol_rep() for x in M.basis()]                                                          
Expected:                                                                                                      
    [{Infinity, 0}, {0, 1/3}, {-1/2, -1/3}]                                                                    
Got:                                                                                                           
    [{Infinity, 0}, {-1, -2/3}, {-1/2, -1/3}]                                                                  
**********************************************************************                                         
1 items had failures:                                                                                          
   4 of 241 in __main__.example_1                                                                              
***Test Failed*** 4 failures.

sage -t  devel/sage-main/sage/tests/book_stein_ent.py                                                          
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_ent.py", line 82:                              
    sage: CRT(2,3, 3, 5)                                                                                       
Expected:                                                                                                      
    8                                                                                                          
Got:                                                                                                           
    -7                                                                                                         
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/tests/book_stein_ent.py", line 86:                              
    sage: xgcd(5,7)                                                                                            
Expected:                                                                                                      
    (1, 3, -2)                                                                                                 
Got:                                                                                                           
    (1, -4, 3)                                                                                                 
**********************************************************************                                         
1 items had failures:                                                                                          
   2 of 263 in __main__.example_1                                                                              
***Test Failed*** 2 failures.

sage -t  devel/sage-main/sage/rings/integer.pyx                                                                
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx", line 4429:                                  
    sage: Integer(5)._xgcd(7)                                                                                  
Expected:                                                                                                      
    (1, 3, -2)                                                                                                 
Got:                                                                                                           
    (1, -4, 3)                                                                                                 
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx", line 4441:                                  
    sage: Integer(3)._xgcd(21)                                                                                 
Expected:                                                                                                      
    (3, 1, 0)                                                                                                  
Got:                                                                                                           
    (3, -20, 3)                                                                                                
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx", line 4443:                                  
    sage: Integer(3)._xgcd(24)                                                                                 
Expected:                                                                                                      
    (3, 1, 0)                                                                                                  
Got:                                                                                                           
    (3, -15, 2)                                                                                                
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/integer.pyx", line 4445:                                  
    sage: Integer(3)._xgcd(48)                                                                                 
Expected:                                                                                                      
    (3, 1, 0)                                                                                                  
Got:                                                                                                           
    (3, -15, 1)                                                                                                
**********************************************************************                                         
1 items had failures:                                                                                          
   4 of  20 in __main__.example_110                                                                            
***Test Failed*** 4 failures.

sage -t  devel/sage-main/sage/rings/arith.py                                                                   
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/arith.py", line 1450:                                     
    sage: g, a, b = xgcd(5/1, 7/1); g, a, b                                                                    
Expected:                                                                                                      
    (1, 3, -2)                                                                                                 
Got:                                                                                                           
    (1, -4, 3)                                                                                                 
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/arith.py", line 2423:                                     
    sage: crt(2, 1, 3, 5)                                                                                      
Expected:                                                                                                      
    -4                                                                                                         
Got:                                                                                                           
    11                                                                                                         
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/arith.py", line 2430:                                     
    sage: c = CRT(2,3, 3, 5); c                                                                                
Expected:                                                                                                      
    8                                                                                                          
Got:                                                                                                           
    -7                                                                                                         
**********************************************************************                                         
2 items had failures:                                                                                          
   1 of  13 in __main__.example_29                                                                             
   2 of   7 in __main__.example_53                                                                             
***Test Failed*** 3 failures.

sage -t  devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py                                       
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py", line 170:          
    sage: I.groebner_basis()                                                                                   
Expected:                                                                                                      
    [-x - y - z, -y^2 - 3*y + z^2 + 3, -y*z + 14329*y + 6653454247350,                                         
     2*y - 1199*z^3 + 74229*z^2 + 31017*z + 106019, -23*z^3 + 953554642851*z + 2034,                           
     19*z^2 + 5357048579, 2*z - 1339262138, 164878]                                                            
Got:                                                                                                           
    [-x - y - z, -y^2 - 3*y + z^2 + 3, -y*z - 53843*y + 241331785122306, 2*y - 10951*z^3 + 8073353678595417*z - 1769770, 23*z^3 + 2623*z^2 + 1109*z + 3717, 19*z^2 - 51715800877, 2*z + 12928950226, 164878]                  
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py", line 2493:         
    sage: I.groebner_basis()                                                                                   
Expected:                                                                                                      
    [-b^3 + 23*b*c^2 - 3*b^2 - 5*b*c,                                                                          
     2*b*c^2 - 6*c^3 - b^2 - b*c + 2*c^2,                                                                      
     42*c^3 + 5*b^2 + 4*b*c - 14*c^2,                                                                          
     2*b^2 + 6*b*c + 6*c^2 - b - 2*c,                                                                          
     -10*b*c - 12*c^2 + b + 4*c,                                                                               
     a + 2*b + 2*c - 1]                                                                                        
Got:                                                                                                           
    [-b^3 + 251*b*c^2 + 282*c^3 - 21*b*c - 88*c^2 - b - 2*c, -2*b*c^2 - 36*c^3 - b*c + 12*c^2 - b, 42*c^3 + 5*b^2 + 4*b*c - 14*c^2, 2*b^2 + 6*b*c + 6*c^2 - b - 2*c, -10*b*c - 12*c^2 + b + 4*c, a + 2*b + 2*c - 1]           
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/multi_polynomial_ideal.py", line 2514:         
    sage: I.groebner_basis()                                                                                   
Expected:                                                                                                      
    [b*c^2 + 992*b*c + 712*c^2 + 332*b + 96*c,                                                                 
     2*c^3 + 589*b*c + 862*c^2 + 762*b + 268*c,                                                                
     b^2 + 438*b*c + 281*b,                                                                                    
     5*b*c + 156*c^2 + 112*b + 948*c,                                                                          
     50*c^2 + 600*b + 650*c, a + 2*b + 2*c + 999, 125*b]                                                       
Got:                                                                                                           
    [b*c^2 + 492*b*c + 312*c^2 + 32*b + 896*c, 2*c^3 + 339*b*c + 762*c^2 + 312*b + 968*c, b^2 + 438*b*c + 281*b, 5*b*c + 306*c^2 + 912*b + 898*c, 50*c^2 + 600*b + 650*c, a + 2*b + 2*c + 999, 125*b]                         
**********************************************************************                                         
2 items had failures:                                                                                          
   1 of  59 in __main__.example_0                                                                              
   2 of  43 in __main__.example_48                                                                             
***Test Failed*** 3 failures. 

sage -t  devel/sage-main/sage/rings/polynomial/toy_d_basis.py                                                  
**********************************************************************                                         
File "/home/myurko/sage-c/devel/sage-main/sage/rings/polynomial/toy_d_basis.py", line 175:                     
    sage: gpol(f,g)                                                                                            
Expected:                                                                                                      
    x^2*y - y                                                                                                  
Got:                                                                                                           
    x^2*y - x*z + y                                                                                            
**********************************************************************                                         
1 items had failures:                                                                                          
   1 of   7 in __main__.example_2                                                                              
***Test Failed*** 1 failures.



---

archive/issue_comments_052663.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\n\n```\nThe doctests finished on sage.math, and there appear to be a number of doctests that fail that aren't immediately related to xgcd. If you don't eant to try and fix those, then perhaps it whould be put in experimental until the errors can be fixed. I posted the specific failures on the trac ticket.\n\n-- \nMichael Yurko\n```\n\nBased on this, I'm going to put this spkg in experimental now and close this ticket.",
    "created_at": "2009-11-14T03:48:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7284#issuecomment-52663",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:6" align="right">comment:6</div>


```
The doctests finished on sage.math, and there appear to be a number of doctests that fail that aren't immediately related to xgcd. If you don't eant to try and fix those, then perhaps it whould be put in experimental until the errors can be fixed. I posted the specific failures on the trac ticket.

-- 
Michael Yurko
```

Based on this, I'm going to put this spkg in experimental now and close this ticket.



---

archive/issue_events_088894.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-14T03:48:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88894"
}
```



---

archive/issue_events_088895.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-14T03:48:04Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7284#event-88895"
}
```



---

archive/issue_comments_052664.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nSee #12661 for a more recent version (GMP 5.x).",
    "created_at": "2012-07-28T13:53:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7284",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7284#issuecomment-52664",
    "user": "https://github.com/nexttime"
}
```

<div id="comment:7" align="right">comment:7</div>

See #12661 for a more recent version (GMP 5.x).
