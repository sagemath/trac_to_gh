# Issue 7980: Implement generic support for parents with (multiple) realizations

archive/issues_007980.json:
```json
{
    "assignees": [
        "https://github.com/nthiery"
    ],
    "body": "This patch implement generic support for parents with (multiple) realizations\nSee:\n\n```\n    Sets().WithRealizations().example()\n```\n\n\nDepends on #12484\nDepends on #12464\n\nCC:  @sagetrac-sage-combinat\n\nKeywords: **Cernay2012**\n\nReviewer: **Simon King, Florent Hivert**\n\nAuthor: **Nicolas M. Thi\u00e9ry**\n\nMerged: **sage-5.0.beta11**\n\nComponent: **categories**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7980_\n\n",
    "closed_at": "2012-03-28T10:02:39Z",
    "created_at": "2010-01-18T18:04:02Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.0",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Implement generic support for parents with (multiple) realizations",
    "type": "issue",
    "updated_at": "2012-03-28T10:02:39Z",
    "url": "https://github.com/sagemath/sage/issues/7980",
    "user": "https://github.com/jbandlow"
}
```
This patch implement generic support for parents with (multiple) realizations
See:

```
    Sets().WithRealizations().example()
```


Depends on #12484
Depends on #12464

CC:  @sagetrac-sage-combinat

Keywords: **Cernay2012**

Reviewer: **Simon King, Florent Hivert**

Author: **Nicolas M. Thiéry**

Merged: **sage-5.0.beta11**

Component: **categories**

_Issue created by migration from https://trac.sagemath.org/ticket/7980_





---

archive/issue_events_099503.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-18T18:04:02Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99503"
}
```



---

archive/issue_events_099504.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-18T18:04:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99504"
}
```



---

archive/issue_events_099505.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-18T18:04:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99505"
}
```



---

archive/issue_events_099506.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-18T18:04:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99506"
}
```



---

archive/issue_events_099507.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-18T18:04:02Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "subject": "https://github.com/jbandlow",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99507"
}
```



---

archive/issue_comments_061009.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1,3 @@\n This code currently exists on the sage-combinat queue, in the ncsf patch.  It should be put in a more natural place in the category code.\n+\n+I'm recording here the decision made at sage days 20.5 to use the names `Representation` and `ParentWithRepresentations`.\n``````\n",
    "created_at": "2010-05-07T13:59:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61009",
    "user": "https://github.com/jbandlow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1,3 @@
 This code currently exists on the sage-combinat queue, in the ncsf patch.  It should be put in a more natural place in the category code.
+
+I'm recording here the decision made at sage days 20.5 to use the names `Representation` and `ParentWithRepresentations`.
``````




---

archive/issue_comments_061010.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nDidn't we want Realization rather than Representation?",
    "created_at": "2010-05-07T15:26:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61010",
    "user": "https://github.com/mwhansen"
}
```

<div id="comment:2" align="right">comment:2</div>

Didn't we want Realization rather than Representation?



---

archive/issue_comments_061011.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,3 @@\n This code currently exists on the sage-combinat queue, in the ncsf patch.  It should be put in a more natural place in the category code.\n \n-I'm recording here the decision made at sage days 20.5 to use the names `Representation` and `ParentWithRepresentations`.\n+I'm recording here the decision made at sage days 20.5 to use the names `Realization` and `ParentWithRealizations`.\n``````\n",
    "created_at": "2010-05-07T15:33:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61011",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,3 @@
 This code currently exists on the sage-combinat queue, in the ncsf patch.  It should be put in a more natural place in the category code.
 
-I'm recording here the decision made at sage days 20.5 to use the names `Representation` and `ParentWithRepresentations`.
+I'm recording here the decision made at sage days 20.5 to use the names `Realization` and `ParentWithRealizations`.
``````




---

archive/issue_events_099508.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-05-07T15:33:02Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "title_is": "Implement generic support for parents with (multiple) realizations",
    "title_was": "Move 'Category with concrete representation' code into Sage",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99508"
}
```



---

archive/issue_events_099509.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-01-13T09:20:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99509"
}
```



---

archive/issue_events_099510.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-01-13T09:20:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99510"
}
```



---

archive/issue_events_099511.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-01-13T09:20:55Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "milestone_number": null,
    "milestone_title": "sage-4.6.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99511"
}
```



---

archive/issue_events_099512.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-01-13T09:20:55Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "milestone_number": null,
    "milestone_title": "sage-4.6.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99512"
}
```



---

archive/issue_comments_061012.json:
```json
{
    "body": "Author: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2011-01-13T09:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61012",
    "user": "https://github.com/nthiery"
}
```

Author: **Nicolas M. Thiéry**



---

archive/issue_comments_061013.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,6 @@\n-This code currently exists on the sage-combinat queue, in the ncsf patch.  It should be put in a more natural place in the category code.\n+See patch under development on the Sage-Combinat queue:\n \n-I'm recording here the decision made at sage days 20.5 to use the names `Realization` and `ParentWithRealizations`.\n+http://combinat.sagemath.org/patches/file/tip/trac_7980-multiple-realizations-nt.patch\n+\n+Status: needs finalization\n+\n``````\n",
    "created_at": "2011-01-13T09:20:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61013",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,6 @@
-This code currently exists on the sage-combinat queue, in the ncsf patch.  It should be put in a more natural place in the category code.
+See patch under development on the Sage-Combinat queue:
 
-I'm recording here the decision made at sage days 20.5 to use the names `Realization` and `ParentWithRealizations`.
+http://combinat.sagemath.org/patches/file/tip/trac_7980-multiple-realizations-nt.patch
+
+Status: needs finalization
+
``````




---

archive/issue_events_099513.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2011-01-13T09:20:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99513"
}
```



---

archive/issue_comments_061014.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nSince the ticket description is rather sparse, I'm collecting here some statements that emerged from reading the patch and discussing with Nicolas, who is sitting beside me.\n\n* It disposes of abstract categories. Hooray!\n* On the one hand, one has (abstract) vectorspaces. A realization of such abstract vector space is given by specific data, for example by a basis, but it should be emphasized that not all realizations of a vector space are necessarily in terms of a basis. So, not any realization of a vectorspace is a \"vectorspace with basis\".\n* The realizations of a vector space are related by canonical morphisms (for example, change of basis).\n* Is any \"vectorspace with basis\" a realisation of a vector space? No! There is no gurantee that this specific vectorspace with basis is equiped with the above-mentioned canonical morphisms. \n\n**__TODO__**\n\n* The docstring of the class `Category_realization` has no examples. Its `__init__` method should define its arguments and provide a test. `_get_name` is not documented either.\n* Similarly, `Realizations` is undocumented.\n* `Realizations.super_categories()` returns `[Sets()]`. Idea of Nicolas: Add an optional argument `Realizations(parent, category=Bla)`, so that the default for Bla is `Sets()`. The given category will be returned as super category.\n\n* I tried some example, with comments/questions inserted:\n\n ```\n sage: C = Algebras(QQ)\n sage: C.WithRealizations()\n Join of Category of algebras over Rational Field and Category of sets with realizations\n ```\n Does it really have to be a join category?\n\n ```\n sage: from sage.categories.category_types import Category_realization\n sage: Category_realization(QQ)\n The category of category_realization of Rational Field\n ```\n So, do I understand correctly that the set of all realisations of `QQ` forms a category, each object being a realisation of `QQ`, the morphisms being canonical maps between the different realisations?\n\n ```\n sage: Category_realization(QQ).is_subcategory(Rings().WithRealizations())\n BOOM\n sage: hasattr(Category_realization(QQ), 'super_categories')\n False\n ```\n So, that's a bug. `Category_realization(QQ)` is a category and thus MUST have a `super_categories` method.\n\n\n**__Is the category of \"Bla with realisations\" a 2-category?__**\n\nSince Nicolas is now teaching, I can not ask him directly:\n\n* If I understand correctly, for any parent P there is a *category* `Category_realizations(P)`.\n* For any category C, there is a category `C.WithRealizations()`.\n* Shouldn't it be the case that for any `P in C`, the realisations of P (thus, the *category* `Category_realizations(P)`) is an object in `C.WithRealizations()`?\n* But if the objects of `C.WithRealizations()` are categories themselves, shouldn't we first implement the notion of higher categories in Sage, before we treat the category of realizations of objects of C?",
    "created_at": "2011-11-16T10:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61014",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:5" align="right">comment:5</div>

Since the ticket description is rather sparse, I'm collecting here some statements that emerged from reading the patch and discussing with Nicolas, who is sitting beside me.

* It disposes of abstract categories. Hooray!
* On the one hand, one has (abstract) vectorspaces. A realization of such abstract vector space is given by specific data, for example by a basis, but it should be emphasized that not all realizations of a vector space are necessarily in terms of a basis. So, not any realization of a vectorspace is a "vectorspace with basis".
* The realizations of a vector space are related by canonical morphisms (for example, change of basis).
* Is any "vectorspace with basis" a realisation of a vector space? No! There is no gurantee that this specific vectorspace with basis is equiped with the above-mentioned canonical morphisms. 

**__TODO__**

* The docstring of the class `Category_realization` has no examples. Its `__init__` method should define its arguments and provide a test. `_get_name` is not documented either.
* Similarly, `Realizations` is undocumented.
* `Realizations.super_categories()` returns `[Sets()]`. Idea of Nicolas: Add an optional argument `Realizations(parent, category=Bla)`, so that the default for Bla is `Sets()`. The given category will be returned as super category.

* I tried some example, with comments/questions inserted:

 ```
 sage: C = Algebras(QQ)
 sage: C.WithRealizations()
 Join of Category of algebras over Rational Field and Category of sets with realizations
 ```
 Does it really have to be a join category?

 ```
 sage: from sage.categories.category_types import Category_realization
 sage: Category_realization(QQ)
 The category of category_realization of Rational Field
 ```
 So, do I understand correctly that the set of all realisations of `QQ` forms a category, each object being a realisation of `QQ`, the morphisms being canonical maps between the different realisations?

 ```
 sage: Category_realization(QQ).is_subcategory(Rings().WithRealizations())
 BOOM
 sage: hasattr(Category_realization(QQ), 'super_categories')
 False
 ```
 So, that's a bug. `Category_realization(QQ)` is a category and thus MUST have a `super_categories` method.


**__Is the category of "Bla with realisations" a 2-category?__**

Since Nicolas is now teaching, I can not ask him directly:

* If I understand correctly, for any parent P there is a *category* `Category_realizations(P)`.
* For any category C, there is a category `C.WithRealizations()`.
* Shouldn't it be the case that for any `P in C`, the realisations of P (thus, the *category* `Category_realizations(P)`) is an object in `C.WithRealizations()`?
* But if the objects of `C.WithRealizations()` are categories themselves, shouldn't we first implement the notion of higher categories in Sage, before we treat the category of realizations of objects of C?



---

archive/issue_comments_061015.json:
```json
{
    "body": "Work Issues: **Implement super_categories for Category_realizations. Wait for 2-categories to be implemented?**",
    "created_at": "2011-11-16T10:27:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61015",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **Implement super_categories for Category_realizations. Wait for 2-categories to be implemented?**



---

archive/issue_comments_061016.json:
```json
{
    "body": "Changed work issues from **Implement super_categories for Category_realizations. Wait for 2-categories to be implemented?** to **Implement super_categories for Category_realizations.**",
    "created_at": "2011-11-16T14:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61016",
    "user": "https://github.com/simon-king-jena"
}
```

Changed work issues from **Implement super_categories for Category_realizations. Wait for 2-categories to be implemented?** to **Implement super_categories for Category_realizations.**



---

archive/issue_comments_061017.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nReplying to [@simon-king-jena](#comment:5):\n> **__Is the category of \"Bla with realisations\" a 2-category?__**\n\nNo, it isn't. I had a totally wrong notion of a higher category. Sorry.\n\nAnyway, the missing super_categories method must be provided (as for any category).",
    "created_at": "2011-11-16T14:32:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61017",
    "user": "https://github.com/simon-king-jena"
}
```

<div id="comment:6" align="right">comment:6</div>

Replying to [@simon-king-jena](#comment:5):
> **__Is the category of "Bla with realisations" a 2-category?__**

No, it isn't. I had a totally wrong notion of a higher category. Sorry.

Anyway, the missing super_categories method must be provided (as for any category).



---

archive/issue_comments_061018.json:
```json
{
    "body": "Dependencies: **#12484, #12464**",
    "created_at": "2012-02-09T18:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61018",
    "user": "https://github.com/nthiery"
}
```

Dependencies: **#12484, #12464**



---

archive/issue_comments_061019.json:
```json
{
    "body": "Changed keywords from none to **Cernay2012**",
    "created_at": "2012-02-09T18:07:40Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61019",
    "user": "https://github.com/nthiery"
}
```

Changed keywords from none to **Cernay2012**



---

archive/issue_events_099514.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-02-18T01:02:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99514"
}
```



---

archive/issue_events_099515.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-02-18T01:02:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99515"
}
```



---

archive/issue_comments_061020.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\n100% doctest coverage; all test pass\n\nCategory_realization (now Category_realization_of_parent) does not need a super_category method: it is an abstract class.",
    "created_at": "2012-02-18T01:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61020",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

100% doctest coverage; all test pass

Category_realization (now Category_realization_of_parent) does not need a super_category method: it is an abstract class.



---

archive/issue_comments_061021.json:
```json
{
    "body": "Reviewer: **Simon King, Florent Hivert**",
    "created_at": "2012-02-18T01:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61021",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Simon King, Florent Hivert**



---

archive/issue_comments_061022.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,7 @@\n-See patch under development on the Sage-Combinat queue:\n+This patch implement generic support for parents with (multiple) realizations\n+See:\n \n-http://combinat.sagemath.org/patches/file/tip/trac_7980-multiple-realizations-nt.patch\n+```\n+    Sets().WithRealizations().example()\n+```\n \n-Status: needs finalization\n-\n``````\n",
    "created_at": "2012-02-18T01:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61022",
    "user": "https://github.com/nthiery"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,7 @@
-See patch under development on the Sage-Combinat queue:
+This patch implement generic support for parents with (multiple) realizations
+See:
 
-http://combinat.sagemath.org/patches/file/tip/trac_7980-multiple-realizations-nt.patch
+```
+    Sets().WithRealizations().example()
+```
 
-Status: needs finalization
-
``````




---

archive/issue_comments_061023.json:
```json
{
    "body": "Changed work issues from **Implement super_categories for Category_realizations.** to none",
    "created_at": "2012-02-18T01:02:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61023",
    "user": "https://github.com/nthiery"
}
```

Changed work issues from **Implement super_categories for Category_realizations.** to none



---

archive/issue_comments_061024.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHi Nicolas,\n\nI just posted a\n[review patch](http://combinat.sagemath.org/patches/file/a9bb0e6af448/trac_7980-multiple-realizations-review-fh.patch)\non sage-combinat queue. Here are the main changes\n\n1. This is mostly documentation, except that I changed trivially the code in\nthe example, by renaming some parameter names:\n\n- in `SubsetAlgebra(S)` the parameter S is a set;\n\n- in `Fundamental(S)`, `In(S)` and `Out(S)` it is a\n  `SubsetAlgebra`;\n\nI was really confused about that reading the code so that I renamed `S`\nto `SAlg` in the second case and added an `INPUT:` field in the doc\n\n2. The correct markup for see also is the following:\n\n```\n.. seealso::\n   bla bla bla\n   bla bla \n```\nas variants, you can use uppercase as Sphinx markup is not case sensitive. You\ncan also put everything on one line if it fits:\n\n```\n.. SEEALSO:: bla bla bla\n```\nIf you put a space as in `..see also::` then this become a comment and is\nignored by Sphinx ! This remind me that I should finish #12078 Add an example\nof SEE ALSO\n\n3. There is a missing doctest in my review patch\n\n```\n    sage: A.F() in A.Realizations()\nExpected:\n    True\nGot:\n    False\n```\nI left it on purpose. I realize that the correct doctest is\n\n```\n    sage: A.F() in A.Bases()\nExpected:\n    True\nGot:\n    False\n```\nBut it took me quite a lot of thinking understanding that. I think we should\nexplain this somewhere, probably where the broken test is.\n\nPlease review my numerous doc change, fold the patch if you are Ok with it.\n\nFlorent",
    "created_at": "2012-02-20T21:34:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61024",
    "user": "https://github.com/hivert"
}
```

<div id="comment:9" align="right">comment:9</div>

Hi Nicolas,

I just posted a
[review patch](http://combinat.sagemath.org/patches/file/a9bb0e6af448/trac_7980-multiple-realizations-review-fh.patch)
on sage-combinat queue. Here are the main changes

1. This is mostly documentation, except that I changed trivially the code in
the example, by renaming some parameter names:

- in `SubsetAlgebra(S)` the parameter S is a set;

- in `Fundamental(S)`, `In(S)` and `Out(S)` it is a
  `SubsetAlgebra`;

I was really confused about that reading the code so that I renamed `S`
to `SAlg` in the second case and added an `INPUT:` field in the doc

2. The correct markup for see also is the following:

```
.. seealso::
   bla bla bla
   bla bla 
```
as variants, you can use uppercase as Sphinx markup is not case sensitive. You
can also put everything on one line if it fits:

```
.. SEEALSO:: bla bla bla
```
If you put a space as in `..see also::` then this become a comment and is
ignored by Sphinx ! This remind me that I should finish #12078 Add an example
of SEE ALSO

3. There is a missing doctest in my review patch

```
    sage: A.F() in A.Realizations()
Expected:
    True
Got:
    False
```
I left it on purpose. I realize that the correct doctest is

```
    sage: A.F() in A.Bases()
Expected:
    True
Got:
    False
```
But it took me quite a lot of thinking understanding that. I think we should
explain this somewhere, probably where the broken test is.

Please review my numerous doc change, fold the patch if you are Ok with it.

Florent



---

archive/issue_comments_061025.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nReplying to [@hivert](#comment:9):\n> I just posted a review patch on sage-combinat queue.\n\nThanks!\n\nI went through it, folded it in, and added a\n[http://combinat.sagemath.org/patches/file/tip/trac_7980-multiple-realizations-review-nt.patch\nreview review patch]\n\n> 1. This is mostly documentation, except that I changed trivially the code in\n> the example, by renaming some parameter names:\n> \n> - in `SubsetAlgebra(S)` the parameter S is a set;\n> \n> - in `Fundamental(S)`, `In(S)` and `Out(S)` it is a\n>   `SubsetAlgebra`;\n> \n> I was really confused about that reading the code so that I renamed `S`\n> to `SAlg` in the second case and added an `INPUT:` field in the doc\n\nGood point. I ended up renaming SAlg to A since this is what we use in\nall the examples.\n\n> 3. There is a missing doctest in my review patch\n> \n> ```\n>     sage: A.F() in A.Realizations()\n> Expected:\n>     True\n> Got:\n>     False\n> ```\n\nOuch! That's not good. I am not sure this is the best approach, but I\nadded A.Realizations() to the super categories Bases(A). Maybe\nA.Realizations() should be Bases(A) instead. In any cases, that will\nwork for now. I added A._test_realizations() which checks:\n\n```\n    R in A.Realizations() for R in A.realizations()\n```\n\nFeel free to fold in my review patch and repost after checking it out.\n\nCheers,\n                          Nicolas",
    "created_at": "2012-02-20T22:59:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61025",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:10" align="right">comment:10</div>

Replying to [@hivert](#comment:9):
> I just posted a review patch on sage-combinat queue.

Thanks!

I went through it, folded it in, and added a
[http://combinat.sagemath.org/patches/file/tip/trac_7980-multiple-realizations-review-nt.patch
review review patch]

> 1. This is mostly documentation, except that I changed trivially the code in
> the example, by renaming some parameter names:
> 
> - in `SubsetAlgebra(S)` the parameter S is a set;
> 
> - in `Fundamental(S)`, `In(S)` and `Out(S)` it is a
>   `SubsetAlgebra`;
> 
> I was really confused about that reading the code so that I renamed `S`
> to `SAlg` in the second case and added an `INPUT:` field in the doc

Good point. I ended up renaming SAlg to A since this is what we use in
all the examples.

> 3. There is a missing doctest in my review patch
> 
> ```
>     sage: A.F() in A.Realizations()
> Expected:
>     True
> Got:
>     False
> ```

Ouch! That's not good. I am not sure this is the best approach, but I
added A.Realizations() to the super categories Bases(A). Maybe
A.Realizations() should be Bases(A) instead. In any cases, that will
work for now. I added A._test_realizations() which checks:

```
    R in A.Realizations() for R in A.realizations()
```

Feel free to fold in my review patch and repost after checking it out.

Cheers,
                          Nicolas



---

archive/issue_comments_061026.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nPlease update the queue first, since I took off the fix to the CategoryObject link to put it in #9469",
    "created_at": "2012-02-21T07:45:50Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61026",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:11" align="right">comment:11</div>

Please update the queue first, since I took off the fix to the CategoryObject link to put it in #9469



---

archive/issue_comments_061027.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nReplying to [@nthiery](#comment:11):\n> Please update the queue first, since I took off the fix to the CategoryObject link to put it in #9469\n\nAgain: I fixed a couple trivially failing doctests.",
    "created_at": "2012-02-25T01:14:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61027",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:12" align="right">comment:12</div>

Replying to [@nthiery](#comment:11):
> Please update the queue first, since I took off the fix to the CategoryObject link to put it in #9469

Again: I fixed a couple trivially failing doctests.



---

archive/issue_comments_061028.json:
```json
{
    "body": "Work Issues: **Post the patches on trac**",
    "created_at": "2012-03-10T06:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61028",
    "user": "https://github.com/simon-king-jena"
}
```

Work Issues: **Post the patches on trac**



---

archive/issue_comments_061029.json:
```json
{
    "body": "Replying to [ticket:7980 jbandlow]:\n> This patch implement generic support for parents with (multiple) realizations\n\nWhat patch? This ticket does not provide any patch.",
    "created_at": "2012-03-10T06:24:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61029",
    "user": "https://github.com/simon-king-jena"
}
```

Replying to [ticket:7980 jbandlow]:
> This patch implement generic support for parents with (multiple) realizations

What patch? This ticket does not provide any patch.



---

archive/issue_events_099516.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-10T06:24:11Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99516"
}
```



---

archive/issue_events_099517.json:
```json
{
    "actor": "https://github.com/simon-king-jena",
    "created_at": "2012-03-10T06:24:11Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99517"
}
```



---

archive/issue_comments_061030.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nReplying to [@simon-king-jena](#comment:13):\n> Replying to [ticket:7980 jbandlow]:\n> > This patch implement generic support for parents with (multiple) realizations\n\n> \n> What patch? This ticket does not provide any patch.\n\nI should have mentioned that it is in on the Sage-Combinat queue, and the review by Florent is occuring here. In such situations it's a waste of time to update the patch on trac all the time; and leaving an outdated patch on trac is not so good either (someone might waste time reviewing old stuff).",
    "created_at": "2012-03-10T08:19:33Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61030",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:14" align="right">comment:14</div>

Replying to [@simon-king-jena](#comment:13):
> Replying to [ticket:7980 jbandlow]:
> > This patch implement generic support for parents with (multiple) realizations

> 
> What patch? This ticket does not provide any patch.

I should have mentioned that it is in on the Sage-Combinat queue, and the review by Florent is occuring here. In such situations it's a waste of time to update the patch on trac all the time; and leaving an outdated patch on trac is not so good either (someone might waste time reviewing old stuff).



---

archive/issue_comments_061031.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">comment:15</div>\n\nFor the record: as of version [a7993225ce8e/trac_7980-multiple-realizations-nt.patch](http://combinat.sagemath.org/patches/file/a7993225ce8e/trac_7980-multiple-realizations-nt.patch) I'm Ok with the patch upto a few documentation glitches. I pushed the following patch [a7993225ce8e/trac_7980-multiple-realizations-review-fh.patch](http://combinat.sagemath.org/patches/file/a7993225ce8e/trac_7980-multiple-realizations-review-fh.patch). If you are Ok with my review patch and the tests pass you can set positive review on my behalf. If so don't forget to fold and update.\n\nFlorent",
    "created_at": "2012-03-15T10:55:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61031",
    "user": "https://github.com/hivert"
}
```

<div id="comment:15" align="right">comment:15</div>

For the record: as of version [a7993225ce8e/trac_7980-multiple-realizations-nt.patch](http://combinat.sagemath.org/patches/file/a7993225ce8e/trac_7980-multiple-realizations-nt.patch) I'm Ok with the patch upto a few documentation glitches. I pushed the following patch [a7993225ce8e/trac_7980-multiple-realizations-review-fh.patch](http://combinat.sagemath.org/patches/file/a7993225ce8e/trac_7980-multiple-realizations-review-fh.patch). If you are Ok with my review patch and the tests pass you can set positive review on my behalf. If so don't forget to fold and update.

Florent



---

archive/issue_comments_061032.json:
```json
{
    "body": "Attachment: **[trac_7980-multiple-realizations-nt.patch.gz](https://github.com/sagemath/sage/files/ticket7980/trac_7980-multiple-realizations-nt.patch.gz)**",
    "created_at": "2012-03-16T16:44:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61032",
    "user": "https://github.com/nthiery"
}
```

Attachment: **[trac_7980-multiple-realizations-nt.patch.gz](https://github.com/sagemath/sage/files/ticket7980/trac_7980-multiple-realizations-nt.patch.gz)**



---

archive/issue_comments_061033.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">comment:16</div>\n\nI folded Florent's patch, and we fixed together a couple remaining glitches on the Sage-Combinat queue.\n\nFlorent: the sphinx errors were clearly due to a broken sphinx state on my test machine. After nuking the doctrees, this compiled smoothly. So I set a positive review on your behalf.",
    "created_at": "2012-03-16T16:46:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61033",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:16" align="right">comment:16</div>

I folded Florent's patch, and we fixed together a couple remaining glitches on the Sage-Combinat queue.

Florent: the sphinx errors were clearly due to a broken sphinx state on my test machine. After nuking the doctrees, this compiled smoothly. So I set a positive review on your behalf.



---

archive/issue_events_099518.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-16T16:46:34Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99518"
}
```



---

archive/issue_events_099519.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2012-03-16T16:46:34Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99519"
}
```



---

archive/issue_comments_061034.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nOne more ! Good !\n\nFlorent",
    "created_at": "2012-03-16T19:22:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61034",
    "user": "https://github.com/hivert"
}
```

<div id="comment:17" align="right">comment:17</div>

One more ! Good !

Florent



---

archive/issue_comments_061035.json:
```json
{
    "body": "Changed work issues from **Post the patches on trac** to none",
    "created_at": "2012-03-20T13:04:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61035",
    "user": "https://github.com/jdemeyer"
}
```

Changed work issues from **Post the patches on trac** to none



---

archive/issue_comments_061036.json:
```json
{
    "body": "Merged: **sage-5.0.beta11**",
    "created_at": "2012-03-28T10:02:39Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7980#issuecomment-61036",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.0.beta11**



---

archive/issue_events_099520.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T10:02:39Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99520"
}
```



---

archive/issue_events_099521.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-03-28T10:02:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7980",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7980#event-99521"
}
```
