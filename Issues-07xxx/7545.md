# Issue 7545: Gaussian and Eisenstein integers

archive/issues_007545.json:
```json
{
    "body": "Define `GaussianIntegers()` and `EisensteinIntegers()` as orders in the appropriate number field.\n\nAssignee: @loefflerd\n\nCC:  @kcrisman @videlec @katestange\n\nKeywords: gaussian integers, Z[i], quadratic number ring\n\nReviewer: Fr\u00e9d\u00e9ric Chapoton, Vincent Delecroix, Katherine Stange, Karl-Dieter Crisman\n\nAuthor: Jeroen Demeyer\n\nBranch: daee4f27848d4de6c4a3f49b3c11f7e0af0e95cd\n\nResolution: fixed\n\nIssue created by migration from https://trac.sagemath.org/ticket/7545\n\n",
    "closed_at": "2016-02-25T20:08:54Z",
    "created_at": "2009-11-27T17:03:48Z",
    "labels": [
        "component: number fields",
        "minor"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-7.1",
    "title": "Gaussian and Eisenstein integers",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7545",
    "user": "https://github.com/categorie"
}
```
Define `GaussianIntegers()` and `EisensteinIntegers()` as orders in the appropriate number field.

Assignee: @loefflerd

CC:  @kcrisman @videlec @katestange

Keywords: gaussian integers, Z[i], quadratic number ring

Reviewer: Frédéric Chapoton, Vincent Delecroix, Katherine Stange, Karl-Dieter Crisman

Author: Jeroen Demeyer

Branch: daee4f27848d4de6c4a3f49b3c11f7e0af0e95cd

Resolution: fixed

Issue created by migration from https://trac.sagemath.org/ticket/7545





---

archive/issue_comments_063921.json:
```json
{
    "body": "patch exported in 4.3.alpha0.",
    "created_at": "2009-11-27T17:05:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63921",
    "user": "https://github.com/categorie"
}
```

patch exported in 4.3.alpha0.



---

archive/issue_comments_063922.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [trac_7545_zi.patch](tarball://root/attachments/some-uuid/ticket7545/trac_7545_zi.patch) by @categorie created at 2009-11-27 17:21:52\n\nThe added patch will add a file 'gaussian_integer.py' which adds `GaussianIntegers` and `GaussianNumberField` to sage. The elements of the `GaussianIntegers` are elements in a quadratic Order, but they have a few more functions. Like `factor`, `gcd`, `is_prime`, `quo_rem`,... Also they are printed as `a + b*i` not as `b*i + a`. Also the coefficients of integers are in `ZZ`, not in `QQ` as for general quadratic orders.\n\nI am not sure if I should propose this ticket for review and inclusion in sage. It maybe against the more general framework in number fields and will create silly exceptions. Also I still have not learned to do this in cython, so it is nowhere as efficient as it should be.\n\nOne might also want to change further things, like the function `gcd`. Also `QuadarticField(-1)` should give back `GaussianNumberFields` etc. \n\nA futher issue is 'i'. By default i is a symbol expression. If someone types `GaussianInteger()` he will probably assume that 'i' is in it afterwards. But changing this would probably not be a good idea.\n\nAnyway, the patch is here to be looked at as it may inspire some further work in this direction.",
    "created_at": "2009-11-27T17:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63922",
    "user": "https://github.com/categorie"
}
```

<a id='comment:1'></a>Attachment [trac_7545_zi.patch](tarball://root/attachments/some-uuid/ticket7545/trac_7545_zi.patch) by @categorie created at 2009-11-27 17:21:52

The added patch will add a file 'gaussian_integer.py' which adds `GaussianIntegers` and `GaussianNumberField` to sage. The elements of the `GaussianIntegers` are elements in a quadratic Order, but they have a few more functions. Like `factor`, `gcd`, `is_prime`, `quo_rem`,... Also they are printed as `a + b*i` not as `b*i + a`. Also the coefficients of integers are in `ZZ`, not in `QQ` as for general quadratic orders.

I am not sure if I should propose this ticket for review and inclusion in sage. It maybe against the more general framework in number fields and will create silly exceptions. Also I still have not learned to do this in cython, so it is nowhere as efficient as it should be.

One might also want to change further things, like the function `gcd`. Also `QuadarticField(-1)` should give back `GaussianNumberFields` etc. 

A futher issue is 'i'. By default i is a symbol expression. If someone types `GaussianInteger()` he will probably assume that 'i' is in it afterwards. But changing this would probably not be a good idea.

Anyway, the patch is here to be looked at as it may inspire some further work in this direction.



---

archive/issue_comments_063923.json:
```json
{
    "body": "Changing status from new to needs_info.",
    "created_at": "2009-11-27T17:21:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63923",
    "user": "https://github.com/categorie"
}
```

Changing status from new to needs_info.



---

archive/issue_comments_063924.json:
```json
{
    "body": "<a id='comment:2'></a>I think this could be very useful to have. (In fact, it would be cool if the default i was in ZZ[i], and coerced down to the symbolics...) If an embedding into CC is specified then it would probably play better with symbolics.",
    "created_at": "2009-11-29T07:37:37Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63924",
    "user": "https://github.com/robertwb"
}
```

<a id='comment:2'></a>I think this could be very useful to have. (In fact, it would be cool if the default i was in ZZ[i], and coerced down to the symbolics...) If an embedding into CC is specified then it would probably play better with symbolics.



---

archive/issue_comments_063925.json:
```json
{
    "body": "<a id='comment:3'></a>The default `I` is currently just a wrapper around the QQ[I] one.",
    "created_at": "2009-11-29T14:56:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63925",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:3'></a>The default `I` is currently just a wrapper around the QQ[I] one.



---

archive/issue_comments_063926.json:
```json
{
    "body": "<a id='comment:5'></a>The Pynac/symbolic one is, yes.  In fact, it looks a lot like the one in this patch already:\n\n```\n    K = QuadraticField(-1, 'I', embedding=CC.gen(), latex_name='i')\n    pynac_I = K.gen()\n```\nwhich by the way appears to be a bug of sorts; `embedding` should be `True` or `False` in this case, which then passes things to `NumberField`, where `embedding` should be the image of the generator in an ambient field.  I don't know if should be considered a bug in `QuadraticField` or in the Pynac implementation, though.  What's actually passed to `NumberField` is `CLF(-1).sqrt()`.\n\n(Parenthetical: sage.rings.all says\n\n```\n# i = I = QuadraticField(-1, 'I').gen()\nI = CC.gen()\n```\nSo I wonder if there is any conflict between these that would need to get sorted out.  Apparently it just gets overwritten during the import process when Sage starts up.)\n\nAnyway, in sage.symbolic.pynac we have further that\n\n```\n    I = new_Expression_from_GEx(ring.SR, g_I)\n```\nSo is it possible to make `I` no longer be this Pynac-wrapped generator of the appropriate quadratic field, but instead stay an element of the number field 'coerced' as robertwb says when appropriate (such as with `2.*I`)?  \n\nI would be very happy to take Chris' excellent start and turn it into that, because I could definitely use it this spring in my own class.  But I'd need help because I don't know how the coercion stuff works at all.",
    "created_at": "2010-08-10T19:40:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63926",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:5'></a>The Pynac/symbolic one is, yes.  In fact, it looks a lot like the one in this patch already:

```
    K = QuadraticField(-1, 'I', embedding=CC.gen(), latex_name='i')
    pynac_I = K.gen()
```
which by the way appears to be a bug of sorts; `embedding` should be `True` or `False` in this case, which then passes things to `NumberField`, where `embedding` should be the image of the generator in an ambient field.  I don't know if should be considered a bug in `QuadraticField` or in the Pynac implementation, though.  What's actually passed to `NumberField` is `CLF(-1).sqrt()`.

(Parenthetical: sage.rings.all says

```
# i = I = QuadraticField(-1, 'I').gen()
I = CC.gen()
```
So I wonder if there is any conflict between these that would need to get sorted out.  Apparently it just gets overwritten during the import process when Sage starts up.)

Anyway, in sage.symbolic.pynac we have further that

```
    I = new_Expression_from_GEx(ring.SR, g_I)
```
So is it possible to make `I` no longer be this Pynac-wrapped generator of the appropriate quadratic field, but instead stay an element of the number field 'coerced' as robertwb says when appropriate (such as with `2.*I`)?  

I would be very happy to take Chris' excellent start and turn it into that, because I could definitely use it this spring in my own class.  But I'd need help because I don't know how the coercion stuff works at all.



---

archive/issue_comments_063927.json:
```json
{
    "body": "<a id='comment:6'></a>#13213 seems to be nearly ready, which I think might make dealing with these things more tractable - ?",
    "created_at": "2013-05-10T16:20:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63927",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:6'></a>#13213 seems to be nearly ready, which I think might make dealing with these things more tractable - ?



---

archive/issue_comments_063928.json:
```json
{
    "body": "<a id='comment:7'></a>Actually #13213 is not complete enough to start implementing this, we need #13256 as well !\n\n`GaussianIntegers` should definitely inherit from `sage.rings.number_field.order.Order` and its elements from `sage.rings.number_field.number_field_element_quadratic.OrderElement_quadratic`. By the way, the Gaussian integers is not the only integer ring which is a euclidean ring ! This is True for negative discriminants -1 (Gaussian integers), -2, -3, -7 and -11. Moreover, some of the quadratic fields with positive discriminant are also norm-euclidean (see the [related page](http://en.wikipedia.org/wiki/Euclidean_domain#Norm-Euclidean_fields) on wikipedia).",
    "created_at": "2013-05-10T17:05:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63928",
    "user": "https://github.com/videlec"
}
```

<a id='comment:7'></a>Actually #13213 is not complete enough to start implementing this, we need #13256 as well !

`GaussianIntegers` should definitely inherit from `sage.rings.number_field.order.Order` and its elements from `sage.rings.number_field.number_field_element_quadratic.OrderElement_quadratic`. By the way, the Gaussian integers is not the only integer ring which is a euclidean ring ! This is True for negative discriminants -1 (Gaussian integers), -2, -3, -7 and -11. Moreover, some of the quadratic fields with positive discriminant are also norm-euclidean (see the [related page](http://en.wikipedia.org/wiki/Euclidean_domain#Norm-Euclidean_fields) on wikipedia).



---

archive/issue_comments_063929.json:
```json
{
    "body": "<a id='comment:9'></a>> Actually #13213 is not complete enough to start implementing this, we need #13256 as well !\n\nThanks for pointing this out.\n> By the way, the Gaussian integers is not the only integer ring which is a euclidean ring ! This is True for negative discriminants -1 (Gaussian integers), -2, -3, -7 and -11. Moreover, some of the quadratic fields with positive discriminant are also norm-euclidean (see the [related page](http://en.wikipedia.org/wiki/Euclidean_domain#Norm-Euclidean_fields) on wikipedia).\n\nOf course!  I am thinking of these primarily for pedagogical purposes - my druthers would be to have these and the Eisenstein integers, that's as much as I'll ever use at the undergraduate level.\n\nIf you'd like to start this (as I believe you understand technical details of Sage coercion, which I do not really) by rebasing the current patch to those tickets in the way you indicate, I should have some time this summer and some motivation to help out.",
    "created_at": "2013-05-10T17:29:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63929",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:9'></a>> Actually #13213 is not complete enough to start implementing this, we need #13256 as well !

Thanks for pointing this out.
> By the way, the Gaussian integers is not the only integer ring which is a euclidean ring ! This is True for negative discriminants -1 (Gaussian integers), -2, -3, -7 and -11. Moreover, some of the quadratic fields with positive discriminant are also norm-euclidean (see the [related page](http://en.wikipedia.org/wiki/Euclidean_domain#Norm-Euclidean_fields) on wikipedia).

Of course!  I am thinking of these primarily for pedagogical purposes - my druthers would be to have these and the Eisenstein integers, that's as much as I'll ever use at the undergraduate level.

If you'd like to start this (as I believe you understand technical details of Sage coercion, which I do not really) by rebasing the current patch to those tickets in the way you indicate, I should have some time this summer and some motivation to help out.



---

archive/issue_comments_063930.json:
```json
{
    "body": "<a id='comment:11'></a>The patches discussed seem to be ready.",
    "created_at": "2013-10-05T16:25:40Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63930",
    "user": "https://github.com/katestange"
}
```

<a id='comment:11'></a>The patches discussed seem to be ready.



---

archive/issue_comments_063931.json:
```json
{
    "body": "<a id='comment:12'></a>Looking at this ticket, I fail to see the need for a whole new implementation of `Z[i]`. If `NumberField(x^2+1, 'I').ring_of_integers()` doesn't suit you, we should fix the latter such that it does.\n\nI do agree with just defining the name `GaussianIntegers` to be a synonym of `NumberField(x^2+1, 'I').ring_of_integers()`.",
    "created_at": "2014-12-22T09:16:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63931",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:12'></a>Looking at this ticket, I fail to see the need for a whole new implementation of `Z[i]`. If `NumberField(x^2+1, 'I').ring_of_integers()` doesn't suit you, we should fix the latter such that it does.

I do agree with just defining the name `GaussianIntegers` to be a synonym of `NumberField(x^2+1, 'I').ring_of_integers()`.



---

archive/issue_comments_063932.json:
```json
{
    "body": "<a id='comment:13'></a>> I do agree with just defining the name GaussianIntegers to be a synonym of NumberField(x^2+1, 'I').ring_of_integers().\n\n\nSome stuff already works with this.  However, it is definitely insufficient.\n* I can't figure out how to get something prime (I can get the factorization and whether it's a unit, but that's not the same thing).\n* What is this?\n\n```\nsage: GaussianIntegers([199,0]).quo_rem(GaussianIntegers([100,0]))\n(199/100, 0)\n```\n* There is no `gcd` implemented either.\n\nSo I don't think it could just be a synonym, but would it be possible to only slightly extend the class, maybe?  I would be, as mentioned before, very motivated to review something like this, not sure if just adapting the current patch (well, the stuff that is missing) to just extend the current thing is possible or the way to go.",
    "created_at": "2014-12-22T13:40:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63932",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:13'></a>> I do agree with just defining the name GaussianIntegers to be a synonym of NumberField(x^2+1, 'I').ring_of_integers().


Some stuff already works with this.  However, it is definitely insufficient.
* I can't figure out how to get something prime (I can get the factorization and whether it's a unit, but that's not the same thing).
* What is this?

```
sage: GaussianIntegers([199,0]).quo_rem(GaussianIntegers([100,0]))
(199/100, 0)
```
* There is no `gcd` implemented either.

So I don't think it could just be a synonym, but would it be possible to only slightly extend the class, maybe?  I would be, as mentioned before, very motivated to review something like this, not sure if just adapting the current patch (well, the stuff that is missing) to just extend the current thing is possible or the way to go.



---

archive/issue_comments_063933.json:
```json
{
    "body": "<a id='comment:14'></a>Replying to [comment:13 kcrisman]:\n> * There is no `gcd` implemented either.\n \nThere is if somebody reviews #17294.",
    "created_at": "2014-12-22T13:45:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63933",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:14'></a>Replying to [comment:13 kcrisman]:
> * There is no `gcd` implemented either.
 
There is if somebody reviews #17294.



---

archive/issue_comments_063934.json:
```json
{
    "body": "<a id='comment:15'></a>Replying to [comment:13 kcrisman]:\n> * I can't figure out how to get something prime\n \nDo you mean that you're missing an `is_prime()` method?",
    "created_at": "2014-12-22T13:47:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63934",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:15'></a>Replying to [comment:13 kcrisman]:
> * I can't figure out how to get something prime
 
Do you mean that you're missing an `is_prime()` method?



---

archive/issue_comments_063935.json:
```json
{
    "body": "<a id='comment:16'></a>I created #17538 for `is_prime()`.",
    "created_at": "2014-12-22T14:00:21Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63935",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:16'></a>I created #17538 for `is_prime()`.



---

archive/issue_comments_063936.json:
```json
{
    "body": "<a id='comment:17'></a>And does the Euclidean algorithm work as intended here?  I would definitely say that those two tickets would be very useful.",
    "created_at": "2014-12-22T14:18:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63936",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:17'></a>And does the Euclidean algorithm work as intended here?  I would definitely say that those two tickets would be very useful.



---

archive/issue_comments_063937.json:
```json
{
    "body": "<a id='comment:18'></a>> I do agree with just defining the name `GaussianIntegers` to be a synonym of `NumberField(x^2+1, 'I').ring_of_integers()`.\n\nFinally returning to this as I'm teaching it again... Would it be better to have it be a synonym of `NumberField(x^2+1, 'I', embedding=CC.gen()).ring_of_integers()` so that one can do numerical approximation?  (Or would that cause other problems?)",
    "created_at": "2015-03-18T02:54:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63937",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:18'></a>> I do agree with just defining the name `GaussianIntegers` to be a synonym of `NumberField(x^2+1, 'I').ring_of_integers()`.

Finally returning to this as I'm teaching it again... Would it be better to have it be a synonym of `NumberField(x^2+1, 'I', embedding=CC.gen()).ring_of_integers()` so that one can do numerical approximation?  (Or would that cause other problems?)



---

archive/issue_comments_063938.json:
```json
{
    "body": "<a id='comment:19'></a>Alternately, should we use `QuadraticField`?\n\nAlso, what about the questions in the original post - would these nowadays be fixed by just doing the 'obvious'?  I think that for pedagogical purposes at least, and hopefully general purposes, these would both be useful.\n> Also they are printed as a + b*i not as b*i + a. \n\n\n> Also the coefficients of integers are in ZZ, not in QQ as for general quadratic orders.",
    "created_at": "2015-03-18T02:57:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63938",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:19'></a>Alternately, should we use `QuadraticField`?

Also, what about the questions in the original post - would these nowadays be fixed by just doing the 'obvious'?  I think that for pedagogical purposes at least, and hopefully general purposes, these would both be useful.
> Also they are printed as a + b*i not as b*i + a. 


> Also the coefficients of integers are in ZZ, not in QQ as for general quadratic orders.



---

archive/issue_comments_063939.json:
```json
{
    "body": "<a id='comment:20'></a>Replying to [comment:19 kcrisman]:\n> Alternately, should we use `QuadraticField`?\n\nThe best choice would be\n\n```\nZI = QuadraticField(-1, 'I').ring_of_integers()\n```\n\n> Also they are printed as a + b*i not as b*i + a.\n\nThis is an indeed an \"issue\". However, it certainly does not justify adding a whole new class just to print things differently. One should add some kind of option to `NumberField` to `_repr_()` things in a different order.",
    "created_at": "2015-03-18T07:32:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63939",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:20'></a>Replying to [comment:19 kcrisman]:
> Alternately, should we use `QuadraticField`?

The best choice would be

```
ZI = QuadraticField(-1, 'I').ring_of_integers()
```

> Also they are printed as a + b*i not as b*i + a.

This is an indeed an "issue". However, it certainly does not justify adding a whole new class just to print things differently. One should add some kind of option to `NumberField` to `_repr_()` things in a different order.



---

archive/issue_comments_063940.json:
```json
{
    "body": "<a id='comment:21'></a>Replying to [comment:19 kcrisman]:\n> Also the coefficients of integers are in ZZ, not in QQ as for general quadratic orders.\n\nThe coefficients of the `ring_of_integers()` are in ZZ, so this is not a problem.",
    "created_at": "2015-03-18T07:33:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63940",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:21'></a>Replying to [comment:19 kcrisman]:
> Also the coefficients of integers are in ZZ, not in QQ as for general quadratic orders.

The coefficients of the `ring_of_integers()` are in ZZ, so this is not a problem.



---

archive/issue_comments_063941.json:
```json
{
    "body": "<a id='comment:22'></a>Maybe I should clarify the original aim of this ticket and the preliminary code: It was for educational purpose. The code there was in no way optimized, but it illustrated what I taught at the time. I don't think that code should go in. Some of the comments above relate to outdated things. After all this ticket is now 5 years old.\n\nRegardless of that. I believe we should have that the standard `I` in sage is an element in the ring of integers of the `QuadraticField`. It may be worth to have this particular field and its ring as a class for the following reason:\n* I would really want the printing to change and I am not sure I want to fight for a change for arbitrary number fields.\n* I think the global name `GaussianIntegers` could be worth having for educational purposes.\n* Maybe there are things from pari's `I` that one can use to increase the speed. Presumably pari's `I` is not just a wrap around `Mod(x,x^2+1)` but I don't know about this.\n* It is also one of two in the intersection of `CyclotomicFields` and `QuadraticField`. \n* It could interact with the symbolic `I` and other instances of it.\nIn any case, this should not be more than a wrapper around optimized code in other places.\n\nWhat I consider a bug is\n\n```\nsage: K = QuadraticField(-1)\nsage: I in K\nFalse\n```",
    "created_at": "2015-03-18T10:55:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63941",
    "user": "https://github.com/categorie"
}
```

<a id='comment:22'></a>Maybe I should clarify the original aim of this ticket and the preliminary code: It was for educational purpose. The code there was in no way optimized, but it illustrated what I taught at the time. I don't think that code should go in. Some of the comments above relate to outdated things. After all this ticket is now 5 years old.

Regardless of that. I believe we should have that the standard `I` in sage is an element in the ring of integers of the `QuadraticField`. It may be worth to have this particular field and its ring as a class for the following reason:
* I would really want the printing to change and I am not sure I want to fight for a change for arbitrary number fields.
* I think the global name `GaussianIntegers` could be worth having for educational purposes.
* Maybe there are things from pari's `I` that one can use to increase the speed. Presumably pari's `I` is not just a wrap around `Mod(x,x^2+1)` but I don't know about this.
* It is also one of two in the intersection of `CyclotomicFields` and `QuadraticField`. 
* It could interact with the symbolic `I` and other instances of it.
In any case, this should not be more than a wrapper around optimized code in other places.

What I consider a bug is

```
sage: K = QuadraticField(-1)
sage: I in K
False
```



---

archive/issue_comments_063942.json:
```json
{
    "body": "<a id='comment:23'></a>Replying to [comment:22 wuthrich]:\n> * I think the global name `GaussianIntegers` could be worth having for educational purposes.\n \nI agree. That change could be done *now* even without this ticket.\n\n> * Maybe there are things from pari's `I` that one can use to increase the speed.\n \nI don't think so. PARI's `I` is really meant for complex numbers, not for doing number theory. PARI's `I` is a very different thing than `Mod(x, x^2+1)`.",
    "created_at": "2015-03-18T11:38:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63942",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:23'></a>Replying to [comment:22 wuthrich]:
> * I think the global name `GaussianIntegers` could be worth having for educational purposes.
 
I agree. That change could be done *now* even without this ticket.

> * Maybe there are things from pari's `I` that one can use to increase the speed.
 
I don't think so. PARI's `I` is really meant for complex numbers, not for doing number theory. PARI's `I` is a very different thing than `Mod(x, x^2+1)`.



---

archive/issue_comments_063943.json:
```json
{
    "body": "<a id='comment:24'></a>I still think that `GaussianIntegers` should be exactly the same as `QuadraticField(-1).ring_of_integers()`.",
    "created_at": "2015-03-18T11:39:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63943",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:24'></a>I still think that `GaussianIntegers` should be exactly the same as `QuadraticField(-1).ring_of_integers()`.



---

archive/issue_comments_063944.json:
```json
{
    "body": "<a id='comment:25'></a>Replying to [comment:22 wuthrich]:\n> I am not sure I want to fight for a change for arbitrary number fields.\n\n\nDon't *fight*, just *ask*... I did just that on `sage-nt`. Note that changing the print order will probably break a huge amounts of doctests, so it won't be fun.",
    "created_at": "2015-03-18T11:45:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63944",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:25'></a>Replying to [comment:22 wuthrich]:
> I am not sure I want to fight for a change for arbitrary number fields.


Don't *fight*, just *ask*... I did just that on `sage-nt`. Note that changing the print order will probably break a huge amounts of doctests, so it won't be fun.



---

archive/issue_comments_063945.json:
```json
{
    "body": "<a id='comment:26'></a>> Don't *fight*, just *ask*... I did just that on `sage-nt`. Note that changing the print order will probably break a huge amounts of doctests, so it won't be fun.\n\n\nFor cyclotomic fields it would make sense to change too. I guess. Thanks for asking :)\n\nGood to know about pari's I. How do you feel about the interaction in sage with the symbolic I. As a student I would be very confused if I was not in GaussianIntegers.",
    "created_at": "2015-03-18T11:54:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63945",
    "user": "https://github.com/categorie"
}
```

<a id='comment:26'></a>> Don't *fight*, just *ask*... I did just that on `sage-nt`. Note that changing the print order will probably break a huge amounts of doctests, so it won't be fun.


For cyclotomic fields it would make sense to change too. I guess. Thanks for asking :)

Good to know about pari's I. How do you feel about the interaction in sage with the symbolic I. As a student I would be very confused if I was not in GaussianIntegers.



---

archive/issue_comments_063946.json:
```json
{
    "body": "<a id='comment:27'></a>Just noticed now that the pun were better had I written \n \"As a student I would be very confused if I were not in `GaussianIntegers`.\"",
    "created_at": "2015-03-18T12:03:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63946",
    "user": "https://github.com/categorie"
}
```

<a id='comment:27'></a>Just noticed now that the pun were better had I written 
 "As a student I would be very confused if I were not in `GaussianIntegers`."



---

archive/issue_comments_063947.json:
```json
{
    "body": "<a id='comment:28'></a>So I think that we have a few separate issues.\n* Add prime elements, not just ideals (done)\n* Add gcd (ticket #17294)\n* Add alias for `GaussianIntegers` (this ticket)\n* Worry about printing order\n* Figure out how to get `I in GaussianIntegers` to work, if at all possible, or document the heck out of it if not\n\nCan anyone think of anything else that would be needed for pedagogical purposes?  I can only think of\n* Plotting Gaussian integers, especially primes, like http://www.jasondavies.com/gaussian-primes/ (though I have some nice interacts of my own for this)\n\n> Just noticed now that the pun were better had I written \n>  \"As a student I would be very confused if I were not in `GaussianIntegers`.\"\n\nVery nice indeed.",
    "created_at": "2015-03-18T14:43:56Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63947",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:28'></a>So I think that we have a few separate issues.
* Add prime elements, not just ideals (done)
* Add gcd (ticket #17294)
* Add alias for `GaussianIntegers` (this ticket)
* Worry about printing order
* Figure out how to get `I in GaussianIntegers` to work, if at all possible, or document the heck out of it if not

Can anyone think of anything else that would be needed for pedagogical purposes?  I can only think of
* Plotting Gaussian integers, especially primes, like http://www.jasondavies.com/gaussian-primes/ (though I have some nice interacts of my own for this)

> Just noticed now that the pun were better had I written 
>  "As a student I would be very confused if I were not in `GaussianIntegers`."

Very nice indeed.



---

archive/issue_comments_063948.json:
```json
{
    "body": "<a id='comment:29'></a>(Also separate ticket: Eisenstein Integers!)",
    "created_at": "2015-03-18T14:44:10Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63948",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:29'></a>(Also separate ticket: Eisenstein Integers!)



---

archive/issue_comments_063949.json:
```json
{
    "body": "<a id='comment:30'></a>Alias or its own class is still a question, I believe. Do we want `CyclotomicField(4)` and `QuadraticField(-1)` to return the same thing ? We agree that in either case it should be minimal.\n\nWhy `I` is a symbolic expression in sage now is a mystery to me. Surely it should be in Z[i], just like 2 is in Z. That `I^2` is a symbolic expression and not an integer seems particularly inconvenient.\n\nEisenstein integer could be dealt with on this same ticket. We only have to decide if the generator is a 3rd or a 6th root of unity.",
    "created_at": "2015-03-18T15:11:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63949",
    "user": "https://github.com/categorie"
}
```

<a id='comment:30'></a>Alias or its own class is still a question, I believe. Do we want `CyclotomicField(4)` and `QuadraticField(-1)` to return the same thing ? We agree that in either case it should be minimal.

Why `I` is a symbolic expression in sage now is a mystery to me. Surely it should be in Z[i], just like 2 is in Z. That `I^2` is a symbolic expression and not an integer seems particularly inconvenient.

Eisenstein integer could be dealt with on this same ticket. We only have to decide if the generator is a 3rd or a 6th root of unity.



---

archive/issue_comments_063950.json:
```json
{
    "body": "<a id='comment:31'></a>Replying to [comment:30 wuthrich]:\n> Why `I` is a symbolic expression in sage now is a mystery to me. Surely it should be in Z[i], just like 2 is in Z. That `I^2` is a symbolic expression and not an integer seems particularly inconvenient.\n\n\nAgreed: this is **very** annoying. And actually, defining `I` as the generator of `ZZ[I]` might work out of the box\n\n```\nsage: good_I = QuadraticField(-1,'I').gen()\nsage: (good_I + 1.0).parent()\nComplex Field with 53 bits of precision\nsage: (good_I + 1/2).parent()\nNumber Field in I with defining polynomial x^2 + 1\nsage: good_I == I        # not perfect\nI == I\nsage: bool(good_I == I)  # but not that bad\nTrue\n```",
    "created_at": "2015-03-22T11:04:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63950",
    "user": "https://github.com/videlec"
}
```

<a id='comment:31'></a>Replying to [comment:30 wuthrich]:
> Why `I` is a symbolic expression in sage now is a mystery to me. Surely it should be in Z[i], just like 2 is in Z. That `I^2` is a symbolic expression and not an integer seems particularly inconvenient.


Agreed: this is **very** annoying. And actually, defining `I` as the generator of `ZZ[I]` might work out of the box

```
sage: good_I = QuadraticField(-1,'I').gen()
sage: (good_I + 1.0).parent()
Complex Field with 53 bits of precision
sage: (good_I + 1/2).parent()
Number Field in I with defining polynomial x^2 + 1
sage: good_I == I        # not perfect
I == I
sage: bool(good_I == I)  # but not that bad
True
```



---

archive/issue_comments_063951.json:
```json
{
    "body": "<a id='comment:32'></a>Please open a *different* ticket for the issue of `I`.",
    "created_at": "2015-03-22T11:05:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63951",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:32'></a>Please open a *different* ticket for the issue of `I`.



---

archive/issue_comments_063952.json:
```json
{
    "body": "<a id='comment:33'></a>Replying to [comment:32 jdemeyer]:\n> Please open a *different* ticket for the issue of `I`.\n\n\n#18036",
    "created_at": "2015-03-22T11:16:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63952",
    "user": "https://github.com/videlec"
}
```

<a id='comment:33'></a>Replying to [comment:32 jdemeyer]:
> Please open a *different* ticket for the issue of `I`.


#18036



---

archive/issue_events_017894.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-03T17:15:52Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7545#event-17894"
}
```



---

archive/issue_comments_063953.json:
```json
{
    "body": "Changing status from needs_info to needs_review.",
    "created_at": "2016-01-03T18:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63953",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_info to needs_review.



---

archive/issue_comments_063954.json:
```json
{
    "body": "<a id='comment:36'></a>New commits:",
    "created_at": "2016-01-03T18:22:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63954",
    "user": "https://github.com/jdemeyer"
}
```

<a id='comment:36'></a>New commits:



---

archive/issue_comments_063955.json:
```json
{
    "body": "<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2016-01-19T10:31:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63955",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:37'></a>Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_063956.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2016-01-25T21:11:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63956",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_events_017895.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-25T21:11:36Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "milestone": "sage-7.0",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7545#event-17895"
}
```



---

archive/issue_events_017896.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2016-01-25T21:11:36Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "milestone": "sage-7.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7545#event-17896"
}
```



---

archive/issue_comments_063957.json:
```json
{
    "body": "<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2016-01-26T07:07:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63957",
    "user": "https://trac.sagemath.org/admin/accounts/users/git"
}
```

<a id='comment:40'></a>Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_063958.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2016-01-26T07:08:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63958",
    "user": "https://github.com/jdemeyer"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_063959.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2016-02-24T19:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63959",
    "user": "https://github.com/fchapoton"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_063960.json:
```json
{
    "body": "<a id='comment:42'></a>ok, looks good to me.",
    "created_at": "2016-02-24T19:42:46Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63960",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:42'></a>ok, looks good to me.



---

archive/issue_comments_063961.json:
```json
{
    "body": "<a id='comment:43'></a>Thank you!!!",
    "created_at": "2016-02-24T20:43:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63961",
    "user": "https://github.com/kcrisman"
}
```

<a id='comment:43'></a>Thank you!!!



---

archive/issue_events_017897.json:
```json
{
    "actor": "https://github.com/vbraun",
    "created_at": "2016-02-25T20:08:54Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7545#event-17897"
}
```



---

archive/issue_comments_063962.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2016-02-25T20:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7545",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7545#issuecomment-63962",
    "user": "https://github.com/vbraun"
}
```

Resolution: fixed
