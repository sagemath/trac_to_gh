# Issue 7241: sage -upgrade will try to redownload spkg's that are already present

archive/issues_007241.json:
```json
{
    "assignees": [],
    "body": "This causes a problem with flaky internet connections since all of the spkgs have to be able to be downloaded all successfully one right after the other.  It shouldn't try to redownload files that are already present.\n\nKeywords: **upgrade**\n\nAuthor: **Mike Hansen**\n\nReviewer: **Florent Hivert**\n\nMerged: **sage-4.2.1.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7241_\n\n",
    "closed_at": "2009-11-07T11:58:16Z",
    "created_at": "2009-10-18T17:41:26Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20build",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.2.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "sage -upgrade will try to redownload spkg's that are already present",
    "type": "issue",
    "updated_at": "2009-11-07T11:58:16Z",
    "url": "https://github.com/sagemath/sage/issues/7241",
    "user": "https://github.com/mwhansen"
}
```
This causes a problem with flaky internet connections since all of the spkgs have to be able to be downloaded all successfully one right after the other.  It shouldn't try to redownload files that are already present.

Keywords: **upgrade**

Author: **Mike Hansen**

Reviewer: **Florent Hivert**

Merged: **sage-4.2.1.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/7241_





---

archive/issue_events_077769.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-18T17:41:26Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "milestone_number": null,
    "milestone_title": "sage-4.2.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77769"
}
```



---

archive/issue_events_077770.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-18T17:41:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20build",
    "label_color": "000080",
    "label_name": "component: build",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77770"
}
```



---

archive/issue_events_077771.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-18T17:41:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77771"
}
```



---

archive/issue_events_077772.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-18T17:41:26Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77772"
}
```



---

archive/issue_events_077773.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-18T17:44:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77773"
}
```



---

archive/issue_comments_053798.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[trac_7241.patch.gz](https://github.com/sagemath/sage/files/ticket7241/trac_7241.patch.gz)**\n\nIt would also be nice to have it use a more robust downloader such as cURL or wget if it is present.  The current one doesn't resume downloads.",
    "created_at": "2009-10-18T17:44:06Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7241#issuecomment-53798",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[trac_7241.patch.gz](https://github.com/sagemath/sage/files/ticket7241/trac_7241.patch.gz)**

It would also be nice to have it use a more robust downloader such as cURL or wget if it is present.  The current one doesn't resume downloads.



---

archive/issue_comments_053799.json:
```json
{
    "body": "Attachment: **[trac_7241-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket7241/trac_7241-rebase.patch.gz)**",
    "created_at": "2009-11-07T08:56:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7241#issuecomment-53799",
    "user": "https://github.com/hivert"
}
```

Attachment: **[trac_7241-rebase.patch.gz](https://github.com/sagemath/sage/files/ticket7241/trac_7241-rebase.patch.gz)**



---

archive/issue_events_077774.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-11-07T08:58:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77774"
}
```



---

archive/issue_events_077775.json:
```json
{
    "actor": "https://github.com/hivert",
    "created_at": "2009-11-07T08:58:36Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77775"
}
```



---

archive/issue_comments_053800.json:
```json
{
    "body": "Reviewer: **Florent Hivert**",
    "created_at": "2009-11-07T08:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7241#issuecomment-53800",
    "user": "https://github.com/hivert"
}
```

Reviewer: **Florent Hivert**



---

archive/issue_comments_053801.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nFor some reason the patch needed a little rebase. I just uploaded a rebased patch which is ready to go. => positive review. \n\nCheers,\n\nFlorent",
    "created_at": "2009-11-07T08:58:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7241#issuecomment-53801",
    "user": "https://github.com/hivert"
}
```

<a id='comment:2'>Comment 2:</a>
For some reason the patch needed a little rebase. I just uploaded a rebased patch which is ready to go. => positive review. 

Cheers,

Florent



---

archive/issue_events_077776.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-11-07T11:58:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77776"
}
```



---

archive/issue_events_077777.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-11-07T11:58:16Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7241#event-77777"
}
```



---

archive/issue_comments_053802.json:
```json
{
    "body": "Merged: **sage-4.2.1.alpha0**",
    "created_at": "2009-11-07T11:58:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7241",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7241#issuecomment-53802",
    "user": "https://github.com/mwhansen"
}
```

Merged: **sage-4.2.1.alpha0**
