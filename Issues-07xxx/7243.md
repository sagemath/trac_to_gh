# Issue 7243: bashisms in extcode-4.1.2/pari/dokchitser/testall

archive/issues_007243.json:
```json
{
    "body": "In the extcode spkg, pari/dokchitser/testall uses bashisms but has a /bin/sh #! line:\n\n#!/bin/sh\necho \"\\\\r ex-bsw\" | sage -gp\necho \"\\\\r ex-chgen\" | sage -gp\n\nWe should change the #! line to\n\n#!/bin/bash\n\n\nAssignee: tbd\n\nCC:  david.kirkby@onetel.net @mwhansen\n\nResolution: fixed\n\nAuthor: Tim Abbott, Mike Hansen\n\nReviewer: David Kirkby\n\nMerged: sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7243\n\n",
    "closed_at": "2009-12-19T23:45:35Z",
    "created_at": "2009-10-19T00:09:55Z",
    "labels": [
        "component: porting",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "bashisms in extcode-4.1.2/pari/dokchitser/testall",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7243",
    "user": "https://github.com/timabbott"
}
```
In the extcode spkg, pari/dokchitser/testall uses bashisms but has a /bin/sh #! line:

#!/bin/sh
echo "\\r ex-bsw" | sage -gp
echo "\\r ex-chgen" | sage -gp

We should change the #! line to

#!/bin/bash


Assignee: tbd

CC:  david.kirkby@onetel.net @mwhansen

Resolution: fixed

Author: Tim Abbott, Mike Hansen

Reviewer: David Kirkby

Merged: sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/7243





---

archive/issue_comments_075979.json:
```json
{
    "body": "Attachment [trac_7243.patch](tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch) by @mwhansen created at 2009-10-19 04:06:57",
    "created_at": "2009-10-19T04:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75979",
    "user": "https://github.com/mwhansen"
}
```

Attachment [trac_7243.patch](tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch) by @mwhansen created at 2009-10-19 04:06:57



---

archive/issue_comments_075980.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75980",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_075981.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75981",
    "user": "https://github.com/mwhansen"
}
```

Changing status from new to needs_review.



---

archive/issue_events_021824.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-19T04:08:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21824"
}
```



---

archive/issue_comments_075982.json:
```json
{
    "body": "Changing author from \"\" to \"Tim Abbott, Mike Hansen\"",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75982",
    "user": "https://github.com/mwhansen"
}
```

Changing author from "" to "Tim Abbott, Mike Hansen"



---

archive/issue_comments_075983.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75983",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_075984.json:
```json
{
    "body": "<a id='comment:2'></a>\nI think the\n\n```\n\n#!/usr/bin/env bash\n```\n\n(from memory, so might not be right)\n\nis better, as bash is not always installed in /bin\n\n```\nbash-2.04$ uname -a\nHP-UX hpbox B.11.11 U 9000/785 2016698240 unlimited-user license\nbash-2.04$ ls /bin/bash\n/bin/bash not found\nbash-2.04$ which bash\n/opt/OpenSource/bin/bash\nbash-2.04$ which env\n/usr/bin/env\nbash-2.04$\n```",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75984",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:2'></a>
I think the

```

#!/usr/bin/env bash
```

(from memory, so might not be right)

is better, as bash is not always installed in /bin

```
bash-2.04$ uname -a
HP-UX hpbox B.11.11 U 9000/785 2016698240 unlimited-user license
bash-2.04$ ls /bin/bash
/bin/bash not found
bash-2.04$ which bash
/opt/OpenSource/bin/bash
bash-2.04$ which env
/usr/bin/env
bash-2.04$
```



---

archive/issue_comments_075985.json:
```json
{
    "body": "Changing upstream from \"\" to \"N/A\"",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75985",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing upstream from "" to "N/A"



---

archive/issue_comments_075986.json:
```json
{
    "body": "<a id='comment:3'></a>\nYeah, using '#!/usr/bin/env bash' should be correct.",
    "created_at": "2009-12-16T21:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75986",
    "user": "https://github.com/timabbott"
}
```

<a id='comment:3'></a>
Yeah, using '#!/usr/bin/env bash' should be correct.



---

archive/issue_comments_075987.json:
```json
{
    "body": "Attachment [trac_7243.patch.v2](tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch.v2) by @timabbott created at 2009-12-17 19:34:25",
    "created_at": "2009-12-17T19:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75987",
    "user": "https://github.com/timabbott"
}
```

Attachment [trac_7243.patch.v2](tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch.v2) by @timabbott created at 2009-12-17 19:34:25



---

archive/issue_comments_075988.json:
```json
{
    "body": "<a id='comment:4'></a>\nI posted a new patch reflecting that change.",
    "created_at": "2009-12-18T02:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75988",
    "user": "https://github.com/timabbott"
}
```

<a id='comment:4'></a>
I posted a new patch reflecting that change.



---

archive/issue_comments_075989.json:
```json
{
    "body": "<a id='comment:5'></a>\nThat looks safe and reliable to me, so I'll set this to 'needs review' then set it to 'positive'. \n\nDave",
    "created_at": "2009-12-18T07:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75989",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:5'></a>
That looks safe and reliable to me, so I'll set this to 'needs review' then set it to 'positive'. 

Dave



---

archive/issue_comments_075990.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2009-12-18T07:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75990",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_075991.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-12-18T07:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75991",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_075992.json:
```json
{
    "body": "Changing status from needs_review to positive_review.",
    "created_at": "2009-12-18T07:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75992",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing status from needs_review to positive_review.



---

archive/issue_comments_075993.json:
```json
{
    "body": "Changing reviewer from \"\" to \"drkirkby\"",
    "created_at": "2009-12-18T07:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75993",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

Changing reviewer from "" to "drkirkby"



---

archive/issue_events_021825.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T23:45:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21825"
}
```



---

archive/issue_comments_075994.json:
```json
{
    "body": "Resolution: fixed",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75994",
    "user": "https://github.com/mwhansen"
}
```

Resolution: fixed



---

archive/issue_comments_075995.json:
```json
{
    "body": "Changing reviewer from \"drkirkby\" to \"David Kirkby\"",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75995",
    "user": "https://github.com/mwhansen"
}
```

Changing reviewer from "drkirkby" to "David Kirkby"



---

archive/issue_comments_075996.json:
```json
{
    "body": "Changing merged from \"\" to \"sage-4.3.rc1\"",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-75996",
    "user": "https://github.com/mwhansen"
}
```

Changing merged from "" to "sage-4.3.rc1"



---

archive/issue_events_021826.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:45:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21826"
}
```



---

archive/issue_events_021827.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:45:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21827"
}
```
