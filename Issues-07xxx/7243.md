# Issue 7243: bashisms in extcode-4.1.2/pari/dokchitser/testall

archive/issues_007243.json:
```json
{
    "body": "In the extcode spkg, pari/dokchitser/testall uses bashisms but has a /bin/sh #! line:\n\n#!/bin/sh\necho \"\\\\r ex-bsw\" | sage -gp\necho \"\\\\r ex-chgen\" | sage -gp\n\nWe should change the #! line to\n\n#!/bin/bash\n\n\n**CC:**  david.kirkby@onetel.net @mwhansen\n\n**Author:** Tim Abbott, Mike Hansen\n\n**Reviewer:** David Kirkby\n\n**Merged:** sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7243\n\n",
    "closed_at": "2009-12-19T23:45:35Z",
    "created_at": "2009-10-19T00:09:55Z",
    "labels": [
        "component: porting",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "bashisms in extcode-4.1.2/pari/dokchitser/testall",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7243",
    "user": "https://github.com/timabbott"
}
```
In the extcode spkg, pari/dokchitser/testall uses bashisms but has a /bin/sh #! line:

#!/bin/sh
echo "\\r ex-bsw" | sage -gp
echo "\\r ex-chgen" | sage -gp

We should change the #! line to

#!/bin/bash


**CC:**  david.kirkby@onetel.net @mwhansen

**Author:** Tim Abbott, Mike Hansen

**Reviewer:** David Kirkby

**Merged:** sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/7243





---

archive/attachments_008661.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7243.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch",
    "created_at": "2009-10-19T04:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_069186.json:
```json
{
    "body": "",
    "created_at": "2009-10-19T04:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69186",
    "user": "https://github.com/mwhansen"
}
```





---

archive/issue_comments_069187.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69187",
    "user": "https://github.com/mwhansen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_comments_069188.json:
```json
{
    "body": "**Changing status** from new to needs_review.",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69188",
    "user": "https://github.com/mwhansen"
}
```

**Changing status** from new to needs_review.



---

archive/issue_events_021309.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-19T04:08:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21309"
}
```



---

archive/issue_comments_069189.json:
```json
{
    "body": "**Author:** Tim Abbott, Mike Hansen",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69189",
    "user": "https://github.com/mwhansen"
}
```

**Author:** Tim Abbott, Mike Hansen



---

archive/issue_comments_069190.json:
```json
{
    "body": "**Changing status** from needs_review to needs_work.",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69190",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_review to needs_work.



---

archive/issue_comments_069191.json:
```json
{
    "body": "<a id='comment:2'></a>\nI think the\n\n```\n\n#!/usr/bin/env bash\n```\n\n(from memory, so might not be right)\n\nis better, as bash is not always installed in /bin\n\n```\nbash-2.04$ uname -a\nHP-UX hpbox B.11.11 U 9000/785 2016698240 unlimited-user license\nbash-2.04$ ls /bin/bash\n/bin/bash not found\nbash-2.04$ which bash\n/opt/OpenSource/bin/bash\nbash-2.04$ which env\n/usr/bin/env\nbash-2.04$\n```",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69191",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:2'></a>
I think the

```

#!/usr/bin/env bash
```

(from memory, so might not be right)

is better, as bash is not always installed in /bin

```
bash-2.04$ uname -a
HP-UX hpbox B.11.11 U 9000/785 2016698240 unlimited-user license
bash-2.04$ ls /bin/bash
/bin/bash not found
bash-2.04$ which bash
/opt/OpenSource/bin/bash
bash-2.04$ which env
/usr/bin/env
bash-2.04$
```



---

archive/issue_comments_069192.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69192",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Upstream:** N/A



---

archive/issue_comments_069193.json:
```json
{
    "body": "<a id='comment:3'></a>\nYeah, using '#!/usr/bin/env bash' should be correct.",
    "created_at": "2009-12-16T21:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69193",
    "user": "https://github.com/timabbott"
}
```

<a id='comment:3'></a>
Yeah, using '#!/usr/bin/env bash' should be correct.



---

archive/attachments_008662.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7243.patch.v2",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch.v2",
    "created_at": "2009-12-17T19:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.v2",
    "user": "https://github.com/timabbott"
}
```



---

archive/issue_comments_069194.json:
```json
{
    "body": "",
    "created_at": "2009-12-17T19:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69194",
    "user": "https://github.com/timabbott"
}
```





---

archive/issue_comments_069195.json:
```json
{
    "body": "<a id='comment:4'></a>\nI posted a new patch reflecting that change.",
    "created_at": "2009-12-18T02:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69195",
    "user": "https://github.com/timabbott"
}
```

<a id='comment:4'></a>
I posted a new patch reflecting that change.



---

archive/issue_comments_069196.json:
```json
{
    "body": "<a id='comment:5'></a>\nThat looks safe and reliable to me, so I'll set this to 'needs review' then set it to 'positive'. \n\nDave",
    "created_at": "2009-12-18T07:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69196",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:5'></a>
That looks safe and reliable to me, so I'll set this to 'needs review' then set it to 'positive'. 

Dave



---

archive/issue_comments_069197.json:
```json
{
    "body": "**Changing status** from needs_work to needs_review.",
    "created_at": "2009-12-18T07:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69197",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_work to needs_review.



---

archive/issue_comments_069198.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-12-18T07:09:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69198",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_069199.json:
```json
{
    "body": "**Changing status** from needs_review to positive_review.",
    "created_at": "2009-12-18T07:10:18Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69199",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Changing status** from needs_review to positive_review.



---

archive/issue_comments_069200.json:
```json
{
    "body": "**Reviewer:** drkirkby",
    "created_at": "2009-12-18T07:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69200",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Reviewer:** drkirkby



---

archive/issue_events_021310.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T23:45:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21310"
}
```



---

archive/issue_comments_069201.json:
```json
{
    "body": "**Changing reviewer** from \"drkirkby\" to \"David Kirkby\".",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69201",
    "user": "https://github.com/mwhansen"
}
```

**Changing reviewer** from "drkirkby" to "David Kirkby".



---

archive/issue_comments_069202.json:
```json
{
    "body": "**Merged:** sage-4.3.rc1",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-69202",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.3.rc1



---

archive/issue_events_021311.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:45:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21311"
}
```



---

archive/issue_events_021312.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:45:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-21312"
}
```
