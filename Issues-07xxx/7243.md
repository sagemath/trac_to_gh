# Issue 7243: bashisms in extcode-4.1.2/pari/dokchitser/testall

archive/issues_007243.json:
```json
{
    "body": "In the extcode spkg, pari/dokchitser/testall uses bashisms but has a /bin/sh #! line:\n\n#!/bin/sh\necho \"\\\\r ex-bsw\" | sage -gp\necho \"\\\\r ex-chgen\" | sage -gp\n\nWe should change the #! line to\n\n#!/bin/bash\n\n\n**CC:**  david.kirkby@onetel.net @mwhansen\n\n**Author:** Tim Abbott, Mike Hansen\n\n**Reviewer:** David Kirkby\n\n**Merged:** sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7243\n\n",
    "closed_at": "2009-12-19T23:45:35Z",
    "created_at": "2009-10-19T00:09:55Z",
    "labels": [
        "component: porting",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "bashisms in extcode-4.1.2/pari/dokchitser/testall",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7243",
    "user": "https://github.com/timabbott"
}
```
In the extcode spkg, pari/dokchitser/testall uses bashisms but has a /bin/sh #! line:

#!/bin/sh
echo "\\r ex-bsw" | sage -gp
echo "\\r ex-chgen" | sage -gp

We should change the #! line to

#!/bin/bash


**CC:**  david.kirkby@onetel.net @mwhansen

**Author:** Tim Abbott, Mike Hansen

**Reviewer:** David Kirkby

**Merged:** sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/7243





---

archive/attachments_008661.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7243.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch",
    "created_at": "2009-10-19T04:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_055208.json:
```json
{
    "body": "",
    "created_at": "2009-10-19T04:06:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55208",
    "user": "https://github.com/mwhansen"
}
```





---

archive/issue_events_049731.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-19T04:08:00Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49731"
}
```



---

archive/issue_events_049732.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-10-19T04:08:00Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49732"
}
```



---

archive/issue_comments_055209.json:
```json
{
    "body": "**Author:** Tim Abbott, Mike Hansen",
    "created_at": "2009-10-19T04:08:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55209",
    "user": "https://github.com/mwhansen"
}
```

**Author:** Tim Abbott, Mike Hansen



---

archive/issue_events_049733.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-12-03T05:12:23Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49733"
}
```



---

archive/issue_events_049734.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-12-03T05:12:23Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49734"
}
```



---

archive/issue_comments_055210.json:
```json
{
    "body": "<a id='comment:2'></a>\nI think the\n\n```\n\n#!/usr/bin/env bash\n```\n\n(from memory, so might not be right)\n\nis better, as bash is not always installed in /bin\n\n```\nbash-2.04$ uname -a\nHP-UX hpbox B.11.11 U 9000/785 2016698240 unlimited-user license\nbash-2.04$ ls /bin/bash\n/bin/bash not found\nbash-2.04$ which bash\n/opt/OpenSource/bin/bash\nbash-2.04$ which env\n/usr/bin/env\nbash-2.04$\n```",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55210",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:2'></a>
I think the

```

#!/usr/bin/env bash
```

(from memory, so might not be right)

is better, as bash is not always installed in /bin

```
bash-2.04$ uname -a
HP-UX hpbox B.11.11 U 9000/785 2016698240 unlimited-user license
bash-2.04$ ls /bin/bash
/bin/bash not found
bash-2.04$ which bash
/opt/OpenSource/bin/bash
bash-2.04$ which env
/usr/bin/env
bash-2.04$
```



---

archive/issue_comments_055211.json:
```json
{
    "body": "**Upstream:** N/A",
    "created_at": "2009-12-03T05:12:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55211",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Upstream:** N/A



---

archive/issue_comments_055212.json:
```json
{
    "body": "<a id='comment:3'></a>\nYeah, using '#!/usr/bin/env bash' should be correct.",
    "created_at": "2009-12-16T21:34:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55212",
    "user": "https://github.com/timabbott"
}
```

<a id='comment:3'></a>
Yeah, using '#!/usr/bin/env bash' should be correct.



---

archive/attachments_008662.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7243.patch.v2",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7243/trac_7243.patch.v2",
    "created_at": "2009-12-17T19:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.v2",
    "user": "https://github.com/timabbott"
}
```



---

archive/issue_comments_055213.json:
```json
{
    "body": "",
    "created_at": "2009-12-17T19:34:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55213",
    "user": "https://github.com/timabbott"
}
```





---

archive/issue_comments_055214.json:
```json
{
    "body": "<a id='comment:4'></a>\nI posted a new patch reflecting that change.",
    "created_at": "2009-12-18T02:31:15Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55214",
    "user": "https://github.com/timabbott"
}
```

<a id='comment:4'></a>
I posted a new patch reflecting that change.



---

archive/issue_comments_055215.json:
```json
{
    "body": "<a id='comment:5'></a>\nThat looks safe and reliable to me, so I'll set this to 'needs review' then set it to 'positive'. \n\nDave",
    "created_at": "2009-12-18T07:09:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55215",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

<a id='comment:5'></a>
That looks safe and reliable to me, so I'll set this to 'needs review' then set it to 'positive'. 

Dave



---

archive/issue_events_049735.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-12-18T07:09:45Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49735"
}
```



---

archive/issue_events_049736.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-12-18T07:09:45Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49736"
}
```



---

archive/issue_events_049737.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-12-18T07:09:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49737"
}
```



---

archive/issue_events_049738.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/drkirkby",
    "created_at": "2009-12-18T07:09:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49738"
}
```



---

archive/issue_comments_055216.json:
```json
{
    "body": "**Reviewer:** drkirkby",
    "created_at": "2009-12-18T07:12:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55216",
    "user": "https://trac.sagemath.org/admin/accounts/users/drkirkby"
}
```

**Reviewer:** drkirkby



---

archive/issue_events_049739.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T23:45:35Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49739"
}
```



---

archive/issue_events_049740.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-19T23:45:35Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49740"
}
```



---

archive/issue_comments_055217.json:
```json
{
    "body": "**Changing reviewer** from \"drkirkby\" to \"David Kirkby\".",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55217",
    "user": "https://github.com/mwhansen"
}
```

**Changing reviewer** from "drkirkby" to "David Kirkby".



---

archive/issue_comments_055218.json:
```json
{
    "body": "**Merged:** sage-4.3.rc1",
    "created_at": "2009-12-19T23:45:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7243#issuecomment-55218",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.3.rc1



---

archive/issue_events_049741.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:45:27Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49741"
}
```



---

archive/issue_events_049742.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-20T07:45:27Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7243",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7243#event-49742"
}
```
