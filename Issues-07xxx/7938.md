# Issue 7938: 'term' and 'monomial' are inconsistently used in some Category and combinat code

archive/issues_007938.json:
```json
{
    "body": "I'm including a patch, but will rebase it against 4.3.1 once it is released.\n\n**Assignee:** @aghitza\n\n**CC:**  sage-combinat\n\n**Author:** Jason Bandlow\n\n**Reviewer:** Nicolas M. Thi\u00e9ry\n\n**Merged:** sage-4.3.2.alpha0\n\nIssue created by migration from https://trac.sagemath.org/ticket/7938\n\n",
    "closed_at": "2010-01-23T10:50:36Z",
    "created_at": "2010-01-15T18:50:38Z",
    "labels": [
        "component: categories",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3.2",
    "title": "'term' and 'monomial' are inconsistently used in some Category and combinat code",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7938",
    "user": "https://github.com/jbandlow"
}
```
I'm including a patch, but will rebase it against 4.3.1 once it is released.

**Assignee:** @aghitza

**CC:**  sage-combinat

**Author:** Jason Bandlow

**Reviewer:** Nicolas M. Thiéry

**Merged:** sage-4.3.2.alpha0

Issue created by migration from https://trac.sagemath.org/ticket/7938





---

archive/attachments_009740.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "swap_term_and_monomial-jb.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7938/swap_term_and_monomial-jb.patch",
    "created_at": "2010-01-15T18:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_063909.json:
```json
{
    "body": "",
    "created_at": "2010-01-15T18:51:07Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63909",
    "user": "https://github.com/jbandlow"
}
```





---

archive/issue_events_056380.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56380"
}
```



---

archive/issue_comments_063910.json:
```json
{
    "body": "**Description changed:**\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I'm including a patch, but will rebase it against 3.4.1 once it is released.\n+I'm including a patch, but will rebase it against 4.3.1 once it is released.\n``````\n",
    "created_at": "2010-01-15T18:51:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63910",
    "user": "https://github.com/jbandlow"
}
```

**Description changed:**
``````diff
--- 
+++ 
@@ -1 +1 @@
-I'm including a patch, but will rebase it against 3.4.1 once it is released.
+I'm including a patch, but will rebase it against 4.3.1 once it is released.
``````




---

archive/issue_events_056381.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:51:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "component: algebra",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56381"
}
```



---

archive/issue_events_056382.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "component: categories",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56382"
}
```



---

archive/issue_comments_063911.json:
```json
{
    "body": "<a id='comment:2'></a>\nThis change has been discussed and approved on sage-devel and sage-combinat-devel. I went through the current patch and it looks good. This is a conditional positive review, pending a rebase on 4.3.1 (if at all needed), a recheck of all tests passing, and two little details:\n\n- Renaming the patch to trac_7938_swap_term_and_monomial-jb.patch\n- Adding a short description on top of it; say something like: \"#7938: swap term and monomial in category and combinat code for consistency with the rest of sage\"\n\nThanks Jason!",
    "created_at": "2010-01-17T21:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63911",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:2'></a>
This change has been discussed and approved on sage-devel and sage-combinat-devel. I went through the current patch and it looks good. This is a conditional positive review, pending a rebase on 4.3.1 (if at all needed), a recheck of all tests passing, and two little details:

- Renaming the patch to trac_7938_swap_term_and_monomial-jb.patch
- Adding a short description on top of it; say something like: "#7938: swap term and monomial in category and combinat code for consistency with the rest of sage"

Thanks Jason!



---

archive/issue_comments_063912.json:
```json
{
    "body": "**Reviewer:** Nicolas M. Thi\u00e9ry",
    "created_at": "2010-01-17T21:34:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63912",
    "user": "https://github.com/nthiery"
}
```

**Reviewer:** Nicolas M. Thiéry



---

archive/issue_events_056383.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-17T21:34:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "milestone": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56383"
}
```



---

archive/issue_events_056384.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-17T21:34:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "milestone": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56384"
}
```



---

archive/issue_comments_063913.json:
```json
{
    "body": "<a id='comment:3'></a>\nReplying to [nthiery](#comment%3A2):\nOops, I forgot the following:\n\n- Removing the spurious change to sage/combinat/crystals/affine.py\n- Adding a default value (the one of the coeff ring) for coeff in the new self.term, to make it backward compatible\n- Only if easy, make the new monomial accept a second optional coeff argument, to make it backward compatible. This could be a bit tricky, since self.monomial is a Map. It is also not as important as for term, since I expect the later to have been used far more more extensively than the former.",
    "created_at": "2010-01-17T21:44:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63913",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:3'></a>
Replying to [nthiery](#comment%3A2):
Oops, I forgot the following:

- Removing the spurious change to sage/combinat/crystals/affine.py
- Adding a default value (the one of the coeff ring) for coeff in the new self.term, to make it backward compatible
- Only if easy, make the new monomial accept a second optional coeff argument, to make it backward compatible. This could be a bit tricky, since self.monomial is a Map. It is also not as important as for term, since I expect the later to have been used far more more extensively than the former.



---

archive/attachments_009741.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7938_swap_term_and_monomial-jb.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7938/trac_7938_swap_term_and_monomial-jb.patch",
    "created_at": "2010-01-18T14:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/jbandlow"
}
```



---

archive/issue_comments_063914.json:
```json
{
    "body": "<a id='comment:4'></a>\nThe patch called 'trac_7938_...' is all that should be applied.  In response to Nicolas' comments:\n* Rename patch: done\n* Add description: done\n* Remove spurious change to affine.py: done, but see #7978\n* Add default value for coeff in self.term: done\n* Add optional coeff argument to monomial: Not done yet. I'll look more (but maybe not much more) at this later.",
    "created_at": "2010-01-18T14:57:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63914",
    "user": "https://github.com/jbandlow"
}
```

<a id='comment:4'></a>
The patch called 'trac_7938_...' is all that should be applied.  In response to Nicolas' comments:
* Rename patch: done
* Add description: done
* Remove spurious change to affine.py: done, but see #7978
* Add default value for coeff in self.term: done
* Add optional coeff argument to monomial: Not done yet. I'll look more (but maybe not much more) at this later.



---

archive/issue_comments_063915.json:
```json
{
    "body": "<a id='comment:5'></a>\nReplying to [jbandlow](#comment%3A4):\n> ...\n\n\nThanks much!\n\n>   * Add description: done\n\n\nSorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).\n\nCheers,",
    "created_at": "2010-01-18T21:18:23Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63915",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:5'></a>
Replying to [jbandlow](#comment%3A4):
> ...


Thanks much!

>   * Add description: done


Sorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).

Cheers,



---

archive/issue_comments_063916.json:
```json
{
    "body": "<a id='comment:6'></a>\nIt does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.\n\nPlease update the queue accordingly (including the #7729 patch).",
    "created_at": "2010-01-21T18:21:44Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63916",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:6'></a>
It does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.

Please update the queue accordingly (including the #7729 patch).



---

archive/issue_comments_063917.json:
```json
{
    "body": "<a id='comment:7'></a>\nReplying to [nthiery](#comment%3A6):\n> It does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.\n> \n> Please update the queue accordingly (including the #7729 patch).\n\n\nDone!",
    "created_at": "2010-01-22T22:13:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63917",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:7'></a>
Replying to [nthiery](#comment%3A6):
> It does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.
> 
> Please update the queue accordingly (including the #7729 patch).


Done!



---

archive/issue_comments_063918.json:
```json
{
    "body": "Rebased for 4.3.1",
    "created_at": "2010-01-23T10:06:14Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63918",
    "user": "https://github.com/nthiery"
}
```

Rebased for 4.3.1



---

archive/issue_events_056385.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "needs work",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56385"
}
```



---

archive/issue_events_056386.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56386"
}
```



---

archive/attachments_009742.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7938_swap_term_and_monomial-jb.2.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7938/trac_7938_swap_term_and_monomial-jb.2.patch",
    "created_at": "2010-01-23T10:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/nthiery"
}
```



---

archive/issue_comments_063919.json:
```json
{
    "body": "<a id='comment:8'></a>\n> Sorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).\n\n\nDone. Patch ready for merging into Sage.",
    "created_at": "2010-01-23T10:07:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63919",
    "user": "https://github.com/nthiery"
}
```

<a id='comment:8'></a>
> Sorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).


Done. Patch ready for merging into Sage.



---

archive/issue_events_056387.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56387"
}
```



---

archive/issue_events_056388.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56388"
}
```



---

archive/issue_comments_063920.json:
```json
{
    "body": "**Changing author** from \"jbandlow\" to \"Jason Bandlow\".",
    "created_at": "2010-01-23T10:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63920",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Changing author** from "jbandlow" to "Jason Bandlow".



---

archive/issue_events_056389.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-01-23T10:50:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56389"
}
```



---

archive/issue_events_056390.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-01-23T10:50:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7938#event-56390"
}
```



---

archive/issue_comments_063921.json:
```json
{
    "body": "**Merged:** sage-4.3.2.alpha0",
    "created_at": "2010-01-23T10:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63921",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

**Merged:** sage-4.3.2.alpha0



---

archive/issue_comments_063922.json:
```json
{
    "body": "<a id='comment:10'></a>\nMerged [trac_7938_swap_term_and_monomial-jb.2.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/7938/trac_7938_swap_term_and_monomial-jb.2.patch).",
    "created_at": "2010-01-23T10:50:36Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7938#issuecomment-63922",
    "user": "https://trac.sagemath.org/admin/accounts/users/mvngu"
}
```

<a id='comment:10'></a>
Merged [trac_7938_swap_term_and_monomial-jb.2.patch](http://trac.sagemath.org/sage_trac/attachment/ticket/7938/trac_7938_swap_term_and_monomial-jb.2.patch).
