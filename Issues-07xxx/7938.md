# Issue 7938: 'term' and 'monomial' are inconsistently used in some Category and combinat code

archive/issues_007938.json:
```json
{
    "assignees": [
        "https://github.com/aghitza"
    ],
    "body": "I'm including a patch, but will rebase it against 4.3.1 once it is released.\n\nCC:  @sagetrac-sage-combinat\n\nComponent: **categories**\n\nAuthor: **Jason Bandlow**\n\nReviewer: **Nicolas M. Thi\u00e9ry**\n\nMerged: **sage-4.3.2.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7938_\n\n",
    "closed_at": "2010-01-23T10:50:36Z",
    "created_at": "2010-01-15T18:50:38Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20categories",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3.2",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "'term' and 'monomial' are inconsistently used in some Category and combinat code",
    "type": "issue",
    "updated_at": "2010-01-23T10:50:36Z",
    "url": "https://github.com/sagemath/sage/issues/7938",
    "user": "https://github.com/jbandlow"
}
```
I'm including a patch, but will rebase it against 4.3.1 once it is released.

CC:  @sagetrac-sage-combinat

Component: **categories**

Author: **Jason Bandlow**

Reviewer: **Nicolas M. Thiéry**

Merged: **sage-4.3.2.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/7938_





---

archive/issue_events_098951.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:50:38Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "milestone_number": null,
    "milestone_title": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98951"
}
```



---

archive/issue_events_098952.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:50:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98952"
}
```



---

archive/issue_events_098953.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:50:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98953"
}
```



---

archive/issue_events_098954.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:50:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98954"
}
```



---

archive/issue_events_098955.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2010-01-15T18:50:38Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "subject": "https://github.com/jbandlow",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98955"
}
```



---

archive/issue_comments_060637.json:
```json
{
    "body": "Attachment: **[swap_term_and_monomial-jb.patch.gz](https://github.com/sagemath/sage/files/ticket7938/swap_term_and_monomial-jb.patch.gz)**",
    "created_at": "2010-01-15T18:51:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60637",
    "user": "https://github.com/jbandlow"
}
```

Attachment: **[swap_term_and_monomial-jb.patch.gz](https://github.com/sagemath/sage/files/ticket7938/swap_term_and_monomial-jb.patch.gz)**



---

archive/issue_events_098956.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98956"
}
```



---

archive/issue_comments_060638.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1 +1 @@\n-I'm including a patch, but will rebase it against 3.4.1 once it is released.\n+I'm including a patch, but will rebase it against 4.3.1 once it is released.\n``````\n",
    "created_at": "2010-01-15T18:51:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60638",
    "user": "https://github.com/jbandlow"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1 +1 @@
-I'm including a patch, but will rebase it against 3.4.1 once it is released.
+I'm including a patch, but will rebase it against 4.3.1 once it is released.
``````




---

archive/issue_events_098957.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:51:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20algebra",
    "label_color": "0000ff",
    "label_name": "c: algebra",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98957"
}
```



---

archive/issue_events_098958.json:
```json
{
    "actor": "https://github.com/jbandlow",
    "created_at": "2010-01-15T18:51:38Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20categories",
    "label_color": "0000ff",
    "label_name": "c: categories",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98958"
}
```



---

archive/issue_comments_060639.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">comment:2</div>\n\nThis change has been discussed and approved on sage-devel and sage-combinat-devel. I went through the current patch and it looks good. This is a conditional positive review, pending a rebase on 4.3.1 (if at all needed), a recheck of all tests passing, and two little details:\n\n- Renaming the patch to trac_7938_swap_term_and_monomial-jb.patch\n- Adding a short description on top of it; say something like: \"#7938: swap term and monomial in category and combinat code for consistency with the rest of sage\"\n\nThanks Jason!",
    "created_at": "2010-01-17T21:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60639",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:2" align="right">comment:2</div>

This change has been discussed and approved on sage-devel and sage-combinat-devel. I went through the current patch and it looks good. This is a conditional positive review, pending a rebase on 4.3.1 (if at all needed), a recheck of all tests passing, and two little details:

- Renaming the patch to trac_7938_swap_term_and_monomial-jb.patch
- Adding a short description on top of it; say something like: "#7938: swap term and monomial in category and combinat code for consistency with the rest of sage"

Thanks Jason!



---

archive/issue_comments_060640.json:
```json
{
    "body": "Reviewer: **Nicolas M. Thi\u00e9ry**",
    "created_at": "2010-01-17T21:34:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60640",
    "user": "https://github.com/nthiery"
}
```

Reviewer: **Nicolas M. Thiéry**



---

archive/issue_events_098959.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-17T21:34:51Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "milestone_number": null,
    "milestone_title": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98959"
}
```



---

archive/issue_events_098960.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-17T21:34:51Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "milestone_number": null,
    "milestone_title": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98960"
}
```



---

archive/issue_comments_060641.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">comment:3</div>\n\nReplying to [@nthiery](#comment:2):\nOops, I forgot the following:\n\n- Removing the spurious change to sage/combinat/crystals/affine.py\n- Adding a default value (the one of the coeff ring) for coeff in the new self.term, to make it backward compatible\n- Only if easy, make the new monomial accept a second optional coeff argument, to make it backward compatible. This could be a bit tricky, since self.monomial is a Map. It is also not as important as for term, since I expect the later to have been used far more more extensively than the former.",
    "created_at": "2010-01-17T21:44:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60641",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:3" align="right">comment:3</div>

Replying to [@nthiery](#comment:2):
Oops, I forgot the following:

- Removing the spurious change to sage/combinat/crystals/affine.py
- Adding a default value (the one of the coeff ring) for coeff in the new self.term, to make it backward compatible
- Only if easy, make the new monomial accept a second optional coeff argument, to make it backward compatible. This could be a bit tricky, since self.monomial is a Map. It is also not as important as for term, since I expect the later to have been used far more more extensively than the former.



---

archive/issue_comments_060642.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nAttachment: **[trac_7938_swap_term_and_monomial-jb.patch.gz](https://github.com/sagemath/sage/files/ticket7938/trac_7938_swap_term_and_monomial-jb.patch.gz)**\n\nThe patch called 'trac_7938_...' is all that should be applied.  In response to Nicolas' comments:\n* Rename patch: done\n* Add description: done\n* Remove spurious change to affine.py: done, but see #7978\n* Add default value for coeff in self.term: done\n* Add optional coeff argument to monomial: Not done yet. I'll look more (but maybe not much more) at this later.",
    "created_at": "2010-01-18T14:57:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60642",
    "user": "https://github.com/jbandlow"
}
```

<div id="comment:4" align="right">comment:4</div>

Attachment: **[trac_7938_swap_term_and_monomial-jb.patch.gz](https://github.com/sagemath/sage/files/ticket7938/trac_7938_swap_term_and_monomial-jb.patch.gz)**

The patch called 'trac_7938_...' is all that should be applied.  In response to Nicolas' comments:
* Rename patch: done
* Add description: done
* Remove spurious change to affine.py: done, but see #7978
* Add default value for coeff in self.term: done
* Add optional coeff argument to monomial: Not done yet. I'll look more (but maybe not much more) at this later.



---

archive/issue_comments_060643.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nReplying to [@jbandlow](#comment:4):\n> ...\n\nThanks much!\n\n> * Add description: done\n\nSorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).\n\nCheers,",
    "created_at": "2010-01-18T21:18:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60643",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:5" align="right">comment:5</div>

Replying to [@jbandlow](#comment:4):
> ...

Thanks much!

> * Add description: done

Sorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).

Cheers,



---

archive/issue_comments_060644.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nIt does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.\n\nPlease update the queue accordingly (including the #7729 patch).",
    "created_at": "2010-01-21T18:21:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60644",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:6" align="right">comment:6</div>

It does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.

Please update the queue accordingly (including the #7729 patch).



---

archive/issue_comments_060645.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@nthiery](#comment:6):\n> It does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.\n> \n> Please update the queue accordingly (including the #7729 patch).\n\nDone!",
    "created_at": "2010-01-22T22:13:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60645",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@nthiery](#comment:6):
> It does need a rebase w.r.t. #7729 (iwahori hecke algebra) whose file was renamed.
> 
> Please update the queue accordingly (including the #7729 patch).

Done!



---

archive/issue_comments_060646.json:
```json
{
    "body": "Rebased for 4.3.1",
    "created_at": "2010-01-23T10:06:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60646",
    "user": "https://github.com/nthiery"
}
```

Rebased for 4.3.1



---

archive/issue_events_098961.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:04Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98961"
}
```



---

archive/issue_events_098962.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98962"
}
```



---

archive/issue_comments_060647.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nAttachment: **[trac_7938_swap_term_and_monomial-jb.2.patch.gz](https://github.com/sagemath/sage/files/ticket7938/trac_7938_swap_term_and_monomial-jb.2.patch.gz)**\n\n> Sorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).\n\nDone. Patch ready for merging into Sage.",
    "created_at": "2010-01-23T10:07:04Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60647",
    "user": "https://github.com/nthiery"
}
```

<div id="comment:8" align="right">comment:8</div>

Attachment: **[trac_7938_swap_term_and_monomial-jb.2.patch.gz](https://github.com/sagemath/sage/files/ticket7938/trac_7938_swap_term_and_monomial-jb.2.patch.gz)**

> Sorry for bothering you again. Please also remove the [mq] line, and put the rest on one line (hg treats the first line specifically).

Done. Patch ready for merging into Sage.



---

archive/issue_events_098963.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:21Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98963"
}
```



---

archive/issue_events_098964.json:
```json
{
    "actor": "https://github.com/nthiery",
    "created_at": "2010-01-23T10:07:21Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98964"
}
```



---

archive/issue_comments_060648.json:
```json
{
    "body": "Changed author from **jbandlow** to **Jason Bandlow**",
    "created_at": "2010-01-23T10:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60648",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Changed author from **jbandlow** to **Jason Bandlow**



---

archive/issue_events_098965.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-01-23T10:50:36Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98965"
}
```



---

archive/issue_events_098966.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-01-23T10:50:36Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7938#event-98966"
}
```



---

archive/issue_comments_060649.json:
```json
{
    "body": "Merged: **sage-4.3.2.alpha0**",
    "created_at": "2010-01-23T10:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60649",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **sage-4.3.2.alpha0**



---

archive/issue_comments_060650.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">comment:10</div>\n\nMerged [trac_7938_swap_term_and_monomial-jb.2.patch](https://github.com/sagemath/sage/files/ticket7938/trac_7938_swap_term_and_monomial-jb.2.patch.gz).",
    "created_at": "2010-01-23T10:50:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7938",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7938#issuecomment-60650",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:10" align="right">comment:10</div>

Merged [trac_7938_swap_term_and_monomial-jb.2.patch](https://github.com/sagemath/sage/files/ticket7938/trac_7938_swap_term_and_monomial-jb.2.patch.gz).
