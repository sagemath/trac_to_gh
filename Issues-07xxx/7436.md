# Issue 7436: frobby optional spkg doesn't build on a lot of machines

archive/issues_007436.json:
```json
{
    "assignees": [],
    "body": "On many Linux boxes, building the frobby-0.7.6 spkg fails as follows:\n\n```\ngcc version 4.4.1 (Ubuntu 4.4.1-4ubuntu8) \n****************************************************\nmkdir -p bin/release/ \ng++ -Wall -ansi -pedantic -Wextra -Wno-uninitialized -Wno-unused-parameter -Werror -isystem /tmp/wstein/farm/sage-4.2.1.alpha0/loc\nal/include -O3 -c src/main.cpp -o bin/release/main.o\nsrc/main.cpp: In function \u2018int main(int, const char**)\u2019:\nsrc/main.cpp:30: error: \u2018srand\u2019 was not declared in this scope\nmake: *** [bin/release/main.o] Error 1\nError building Frobby.\n\nreal    0m2.271s\nuser    0m0.320s\nsys     0m0.410s\nsage: An error occurred while installing frobby-0.7.6\n```\n\nI ran the command \"sage -i frobby-0.7.6\" on the build farm and it fails on:\n\n* debian32/64\n* fedora32/64\n* mandriva32/64\n* opensuse32/64\n* ubuntu32/64\n\nIt works on centos (=REDHAT).    It works on sage.math.   Basically it works with gcc <= 4.2 and fails with newer GCC's. \n\nReviewer: **Benjamin Jones**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7436_\n\n",
    "closed_at": "2012-05-26T01:13:29Z",
    "created_at": "2009-11-12T04:35:18Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/bug",
        "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
        "https://github.com/sagemath/sage/labels/duplicate"
    ],
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "frobby optional spkg doesn't build on a lot of machines",
    "type": "issue",
    "updated_at": "2012-05-27T00:02:09Z",
    "url": "https://github.com/sagemath/sage/issues/7436",
    "user": "https://github.com/williamstein"
}
```
On many Linux boxes, building the frobby-0.7.6 spkg fails as follows:

```
gcc version 4.4.1 (Ubuntu 4.4.1-4ubuntu8) 
****************************************************
mkdir -p bin/release/ 
g++ -Wall -ansi -pedantic -Wextra -Wno-uninitialized -Wno-unused-parameter -Werror -isystem /tmp/wstein/farm/sage-4.2.1.alpha0/loc
al/include -O3 -c src/main.cpp -o bin/release/main.o
src/main.cpp: In function ‘int main(int, const char**)’:
src/main.cpp:30: error: ‘srand’ was not declared in this scope
make: *** [bin/release/main.o] Error 1
Error building Frobby.

real    0m2.271s
user    0m0.320s
sys     0m0.410s
sage: An error occurred while installing frobby-0.7.6
```

I ran the command "sage -i frobby-0.7.6" on the build farm and it fails on:

* debian32/64
* fedora32/64
* mandriva32/64
* opensuse32/64
* ubuntu32/64

It works on centos (=REDHAT).    It works on sage.math.   Basically it works with gcc <= 4.2 and fails with newer GCC's. 

Reviewer: **Benjamin Jones**

_Issue created by migration from https://trac.sagemath.org/ticket/7436_





---

archive/issue_events_082673.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-12T04:35:18Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82673"
}
```



---

archive/issue_events_082674.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-12T04:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20packages%3A%20optional",
    "label_color": "000080",
    "label_name": "component: packages: optional",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82674"
}
```



---

archive/issue_events_082675.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-12T04:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82675"
}
```



---

archive/issue_events_082676.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-11-12T04:35:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82676"
}
```



---

archive/issue_comments_056066.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nI get the same problem on Solaris, with gcc 4.4.2\n\ndave",
    "created_at": "2009-11-12T04:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7436#issuecomment-56066",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:1'>Comment 1:</a>
I get the same problem on Solaris, with gcc 4.4.2

dave



---

archive/issue_comments_056067.json:
```json
{
    "body": "<a id='comment:2'>Comment 2:</a>\nAlso fail on Solaris 10 (SPARC) with gcc 4.4.2",
    "created_at": "2009-11-12T21:57:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7436#issuecomment-56067",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:2'>Comment 2:</a>
Also fail on Solaris 10 (SPARC) with gcc 4.4.2



---

archive/issue_comments_056068.json:
```json
{
    "body": "<a id='comment:3'>Comment 3:</a>\nOops, I appear to have put the same comment twice!",
    "created_at": "2009-11-12T21:58:13Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7436#issuecomment-56068",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:3'>Comment 3:</a>
Oops, I appear to have put the same comment twice!



---

archive/issue_events_082677.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-05-25T20:26:22Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "milestone_number": null,
    "milestone_title": "sage-5.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82677"
}
```



---

archive/issue_events_082678.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-05-25T20:26:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82678"
}
```



---

archive/issue_events_082679.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-05-25T20:26:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/invalid",
    "label_color": "a6a6a6",
    "label_name": "invalid",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82679"
}
```



---

archive/issue_events_082680.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-05-26T01:10:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82680"
}
```



---

archive/issue_events_082681.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-05-26T01:10:55Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82681"
}
```



---

archive/issue_events_082682.json:
```json
{
    "actor": "https://github.com/benjaminfjones",
    "created_at": "2012-05-26T01:10:55Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82682"
}
```



---

archive/issue_comments_056069.json:
```json
{
    "body": "Reviewer: **Benjamin Jones**",
    "created_at": "2012-05-26T01:13:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7436#issuecomment-56069",
    "user": "https://github.com/jdemeyer"
}
```

Reviewer: **Benjamin Jones**



---

archive/issue_events_082683.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-26T01:13:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82683"
}
```



---

archive/issue_events_082684.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-26T01:13:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82684"
}
```



---

archive/issue_events_082685.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2012-05-26T01:13:29Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "label": "https://github.com/sagemath/sage/labels/duplicate",
    "label_color": "a6a6a6",
    "label_name": "duplicate",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7436#event-82685"
}
```



---

archive/issue_comments_056070.json:
```json
{
    "body": "<a id='comment:8'>Comment 8:</a>\nAs a matter of interest, what was the reason for not fixing it? I thought optional packages were supposed to build on all supported machines. So the only logical things to me were to either \n\n1) Fix it \n2) Make it experimental and not optional. \n\nIt this bug report a duplicate, as the resolution is set to? \n\nI appreciate the fact this has remained like this for 3 years probably means nobody cares too much, but the concept of closing a ticket without fixing an issue seems wrong to me. \n\nDave",
    "created_at": "2012-05-26T21:20:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7436#issuecomment-56070",
    "user": "https://github.com/sagetrac-drkirkby"
}
```

<a id='comment:8'>Comment 8:</a>
As a matter of interest, what was the reason for not fixing it? I thought optional packages were supposed to build on all supported machines. So the only logical things to me were to either 

1) Fix it 
2) Make it experimental and not optional. 

It this bug report a duplicate, as the resolution is set to? 

I appreciate the fact this has remained like this for 3 years probably means nobody cares too much, but the concept of closing a ticket without fixing an issue seems wrong to me. 

Dave



---

archive/issue_comments_056071.json:
```json
{
    "body": "<a id='comment:9'>Comment 9:</a>\nThis was closed because #13007 does fix the problem on the platforms in the ticket description. I did not test the new spkg there on solaris though.",
    "created_at": "2012-05-27T00:02:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7436",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7436#issuecomment-56071",
    "user": "https://github.com/benjaminfjones"
}
```

<a id='comment:9'>Comment 9:</a>
This was closed because #13007 does fix the problem on the platforms in the ticket description. I did not test the new spkg there on solaris though.
