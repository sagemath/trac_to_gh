# Issue 7683: sphinx reference manual documentation has a major issue: in some cases the input parameters to functions are completely omitted causing great confusion!

archive/issues_007683.json:
```json
{
    "body": "See\n\nhttp://sagemath.org/doc/reference/sage/rings/integer.html#sage.rings.integer.Integer.jacobi\n\nNotice that the input parameter b is simply totally omitted from the function signature. In sharp contrast, if you type\n\n```\nsage: a = 5\nsage: a.jacobi(<tab>\n```\nin the notebook, then you'll see the correct sphinx-rendered documentation *with* the other input argument.  This is very bad and confusing for some users who trust reference manuals, especially because evidently the use of INPUT/OUTPUT blocks to describe parameters of functions is not being used nearly as much as it should be (there will be another ticket about that).\n\n\n\n**Assignee:** mvngu\n\n**Author:** Mike Hansen\n\n**Reviewer:** John Palmieri\n\n**Merged:** sage-4.3.rc1\n\nIssue created by migration from https://trac.sagemath.org/ticket/7683\n\n",
    "closed_at": "2009-12-16T02:23:29Z",
    "created_at": "2009-12-15T02:01:17Z",
    "labels": [
        "component: documentation",
        "critical",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-4.3",
    "title": "sphinx reference manual documentation has a major issue: in some cases the input parameters to functions are completely omitted causing great confusion!",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7683",
    "user": "https://github.com/williamstein"
}
```
See

http://sagemath.org/doc/reference/sage/rings/integer.html#sage.rings.integer.Integer.jacobi

Notice that the input parameter b is simply totally omitted from the function signature. In sharp contrast, if you type

```
sage: a = 5
sage: a.jacobi(<tab>
```
in the notebook, then you'll see the correct sphinx-rendered documentation *with* the other input argument.  This is very bad and confusing for some users who trust reference manuals, especially because evidently the use of INPUT/OUTPUT blocks to describe parameters of functions is not being used nearly as much as it should be (there will be another ticket about that).



**Assignee:** mvngu

**Author:** Mike Hansen

**Reviewer:** John Palmieri

**Merged:** sage-4.3.rc1

Issue created by migration from https://trac.sagemath.org/ticket/7683





---

archive/issue_events_053957.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2009-12-15T02:01:36Z",
    "event": "renamed",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "rename": {
        "from": "sphinx reference manual documentation has a *major* issues: in some cases the input parameters to functions are completely omitted causing great confusion!",
        "to": "sphinx reference manual documentation has a major issue: in some cases the input parameters to functions are completely omitted causing great confusion!"
    },
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53957"
}
```



---

archive/issue_comments_060817.json:
```json
{
    "body": "<a id='comment:2'></a>\nIs this only with .pyx files, or are there problems with .py files, too?  A random search through a few files suggests that it's only .pyx files (and perhaps all .pyx files) which cause problems.  I don't know what this means, but maybe someone can figure it out.",
    "created_at": "2009-12-15T02:54:13Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60817",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:2'></a>
Is this only with .pyx files, or are there problems with .py files, too?  A random search through a few files suggests that it's only .pyx files (and perhaps all .pyx files) which cause problems.  I don't know what this means, but maybe someone can figure it out.



---

archive/issue_comments_060818.json:
```json
{
    "body": "<a id='comment:3'></a>\nThe problem is that Sphinx needs to use the functions in sage.misc.sageinspect to get the function signature as inspect.getargspec doesn't work with Cython modules.",
    "created_at": "2009-12-15T03:58:52Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60818",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:3'></a>
The problem is that Sphinx needs to use the functions in sage.misc.sageinspect to get the function signature as inspect.getargspec doesn't work with Cython modules.



---

archive/attachments_009351.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "trac_7683.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7683/trac_7683.patch",
    "created_at": "2009-12-15T10:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_060819.json:
```json
{
    "body": "",
    "created_at": "2009-12-15T10:06:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60819",
    "user": "https://github.com/mwhansen"
}
```





---

archive/attachments_009352.json:
```json
{
    "asset_content_type": "application/octet-stream",
    "asset_name": "sphinx-0.6.3.p3.patch",
    "asset_url": "tarball://root/attachments/some-uuid/ticket7683/sphinx-0.6.3.p3.patch",
    "created_at": "2009-12-15T10:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "attachment",
    "url": "https://github.com/assets/some-id/some-uuid.patch",
    "user": "https://github.com/mwhansen"
}
```



---

archive/issue_comments_060820.json:
```json
{
    "body": "",
    "created_at": "2009-12-15T10:06:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60820",
    "user": "https://github.com/mwhansen"
}
```





---

archive/issue_comments_060821.json:
```json
{
    "body": "<a id='comment:4'></a>\nI've attached a patch for the Sage library which uses the new spkg at http://sage.math.washington.edu/home/mhansen/sphinx-0.6.3.p3.spkg .  The changes in this spkg are at sphinx-0.6.3.p3.patch .",
    "created_at": "2009-12-15T10:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60821",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:4'></a>
I've attached a patch for the Sage library which uses the new spkg at http://sage.math.washington.edu/home/mhansen/sphinx-0.6.3.p3.spkg .  The changes in this spkg are at sphinx-0.6.3.p3.patch .



---

archive/issue_comments_060822.json:
```json
{
    "body": "**Author:** Mike Hansen",
    "created_at": "2009-12-15T10:09:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60822",
    "user": "https://github.com/mwhansen"
}
```

**Author:** Mike Hansen



---

archive/issue_events_053958.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-15T10:09:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53958"
}
```



---

archive/issue_comments_060823.json:
```json
{
    "body": "<a id='comment:5'></a>\nIt looks good to me, and I understand the general principle behind the patch, but not necessarily the details.  (For instance, and this has more to do with Sphinx than the patch, why is essentially the same code repeated four times?)\n\nThe output seems to fix the complaint, too.  Is this worth reporting to the Sphinx people as a suggested addition to their code?",
    "created_at": "2009-12-15T17:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60823",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:5'></a>
It looks good to me, and I understand the general principle behind the patch, but not necessarily the details.  (For instance, and this has more to do with Sphinx than the patch, why is essentially the same code repeated four times?)

The output seems to fix the complaint, too.  Is this worth reporting to the Sphinx people as a suggested addition to their code?



---

archive/issue_events_053959.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2009-12-15T17:46:47Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "label": "needs review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53959"
}
```



---

archive/issue_events_053960.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2009-12-15T17:46:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53960"
}
```



---

archive/issue_comments_060824.json:
```json
{
    "body": "**Reviewer:** John Palmieri",
    "created_at": "2009-12-15T17:46:47Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60824",
    "user": "https://github.com/jhpalmieri"
}
```

**Reviewer:** John Palmieri



---

archive/issue_comments_060825.json:
```json
{
    "body": "<a id='comment:6'></a>\nReplying to [jhpalmieri](#comment%3A5):\n> It looks good to me, and I understand the general principle behind the patch, but not necessarily the details.  (For instance, and this has more to do with Sphinx than the patch, why is essentially the same code repeated four times?)\n\n\n(Well, twice, not four times, but still.)",
    "created_at": "2009-12-15T17:49:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60825",
    "user": "https://github.com/jhpalmieri"
}
```

<a id='comment:6'></a>
Replying to [jhpalmieri](#comment%3A5):
> It looks good to me, and I understand the general principle behind the patch, but not necessarily the details.  (For instance, and this has more to do with Sphinx than the patch, why is essentially the same code repeated four times?)


(Well, twice, not four times, but still.)



---

archive/issue_comments_060826.json:
```json
{
    "body": "<a id='comment:7'></a>\nOne place is for methods and the other is for functions.  \n\nI sent Georg a message about it, but I haven't heard back from him.  I'll try to push this upstream",
    "created_at": "2009-12-15T17:54:34Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60826",
    "user": "https://github.com/mwhansen"
}
```

<a id='comment:7'></a>
One place is for methods and the other is for functions.  

I sent Georg a message about it, but I haven't heard back from him.  I'll try to push this upstream



---

archive/issue_events_053961.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-15T17:54:34Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "milestone": "sage-4.3.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53961"
}
```



---

archive/issue_events_053962.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-15T17:54:34Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "milestone": "sage-4.3",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53962"
}
```



---

archive/issue_comments_060827.json:
```json
{
    "body": "<a id='comment:8'></a>\nI also give this a positive review.  I tested the code and also read it, and it makes sense to me and works.",
    "created_at": "2009-12-15T18:44:00Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60827",
    "user": "https://github.com/williamstein"
}
```

<a id='comment:8'></a>
I also give this a positive review.  I tested the code and also read it, and it makes sense to me and works.



---

archive/issue_events_053963.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-16T02:23:29Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "label": "positive review",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53963"
}
```



---

archive/issue_events_053964.json:
```json
{
    "actor": "https://github.com/mwhansen",
    "created_at": "2009-12-16T02:23:29Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7683#event-53964"
}
```



---

archive/issue_comments_060828.json:
```json
{
    "body": "**Merged:** sage-4.3.rc1",
    "created_at": "2009-12-16T02:23:29Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7683",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7683#issuecomment-60828",
    "user": "https://github.com/mwhansen"
}
```

**Merged:** sage-4.3.rc1
