# Issue 7888: Do not pass comment lines to Macaulay2

archive/issues_007888.json:
```json
{
    "body": "Currently passing \"pure comments\" to Macaulay2 locks the interface since Macaulay2 does not print a new input prompts. Evaluating whitespace lines locks it as well and while there is some stripping code in Expect, it does not work if whitespace lines appear in the middle of a block.\n\nThe attached patch replaces all such lines with empty ones before passing to Macaulay2. This may break string constants occupying several lines, however, as far as I understand, they have no chance of working without substantial modification of Expect.eval, which currently executes code line by line. (In particular, they hang up now.)\n\nAssignee: @williamstein\n\nResolution: duplicate\n\nAuthor: Andrey Novoseltsev\n\nIssue created by migration from https://trac.sagemath.org/ticket/7888\n\n",
    "closed_at": "2010-01-11T20:59:39Z",
    "created_at": "2010-01-10T01:53:39Z",
    "labels": [
        "component: interfaces",
        "bug"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-duplicate/invalid/wontfix",
    "title": "Do not pass comment lines to Macaulay2",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/7888",
    "user": "https://github.com/novoselt"
}
```
Currently passing "pure comments" to Macaulay2 locks the interface since Macaulay2 does not print a new input prompts. Evaluating whitespace lines locks it as well and while there is some stripping code in Expect, it does not work if whitespace lines appear in the middle of a block.

The attached patch replaces all such lines with empty ones before passing to Macaulay2. This may break string constants occupying several lines, however, as far as I understand, they have no chance of working without substantial modification of Expect.eval, which currently executes code line by line. (In particular, they hang up now.)

Assignee: @williamstein

Resolution: duplicate

Author: Andrey Novoseltsev

Issue created by migration from https://trac.sagemath.org/ticket/7888





---

archive/issue_comments_080092.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2010-01-10T01:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7888#issuecomment-80092",
    "user": "https://github.com/novoselt"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_080093.json:
```json
{
    "body": "<a id='comment:1'></a>Attachment [do_not_pass_comment_lines_to_Macaulay2.patch](tarball://root/attachments/some-uuid/ticket7888/do_not_pass_comment_lines_to_Macaulay2.patch) by @novoselt created at 2010-01-10 01:54:38",
    "created_at": "2010-01-10T01:54:38Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7888#issuecomment-80093",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:1'></a>Attachment [do_not_pass_comment_lines_to_Macaulay2.patch](tarball://root/attachments/some-uuid/ticket7888/do_not_pass_comment_lines_to_Macaulay2.patch) by @novoselt created at 2010-01-10 01:54:38



---

archive/issue_comments_080094.json:
```json
{
    "body": "<a id='comment:2'></a>Ticket #7897 fixes this in a better way.",
    "created_at": "2010-01-11T20:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7888#issuecomment-80094",
    "user": "https://github.com/novoselt"
}
```

<a id='comment:2'></a>Ticket #7897 fixes this in a better way.



---

archive/issue_comments_080095.json:
```json
{
    "body": "Resolution: duplicate",
    "created_at": "2010-01-11T20:59:39Z",
    "issue": "https://github.com/sagemath/sagetest/issues/7888",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/7888#issuecomment-80095",
    "user": "https://github.com/novoselt"
}
```

Resolution: duplicate



---

archive/issue_events_018863.json:
```json
{
    "actor": "https://github.com/novoselt",
    "created_at": "2010-01-11T20:59:39Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sagetest/issues/7888",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7888#event-18863"
}
```



---

archive/issue_events_018864.json:
```json
{
    "actor": "https://trac.sagemath.org/admin/accounts/users/mvngu",
    "created_at": "2010-01-12T01:50:11Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sagetest/issues/7888",
    "milestone": "sage-duplicate/invalid/wontfix",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sagetest/issues/7888#event-18864"
}
```
