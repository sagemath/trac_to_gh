# Issue 7569: random_vertex and random_edge functions

archive/issues_007569.json:
```json
{
    "assignees": [
        "https://github.com/rlmill"
    ],
    "body": "In many algorithms we want to find a random vertex or a random edge in a graph. \n\nHere it is !\n\nNathann\n\nCC:  @sagetrac-abmasse\n\nComponent: **graph theory**\n\nAuthor: **Nathann Cohen**\n\nReviewer: **Alexandre Blondin Mass\u00e9**\n\nMerged: **sage-4.4.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7569_\n\n",
    "closed_at": "2010-04-15T05:59:42Z",
    "created_at": "2009-12-01T10:15:12Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "random_vertex and random_edge functions",
    "type": "issue",
    "updated_at": "2010-04-15T05:59:42Z",
    "url": "https://github.com/sagemath/sage/issues/7569",
    "user": "https://github.com/nathanncohen"
}
```
In many algorithms we want to find a random vertex or a random edge in a graph. 

Here it is !

Nathann

CC:  @sagetrac-abmasse

Component: **graph theory**

Author: **Nathann Cohen**

Reviewer: **Alexandre Blondin Massé**

Merged: **sage-4.4.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/7569_





---

archive/issue_events_093025.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-01T10:15:12Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "milestone_number": null,
    "milestone_title": "sage-4.4",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93025"
}
```



---

archive/issue_events_093026.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-01T10:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graph%20theory",
    "label_color": "0000ff",
    "label_name": "c: graph theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93026"
}
```



---

archive/issue_events_093027.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-01T10:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93027"
}
```



---

archive/issue_events_093028.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2009-12-01T10:15:12Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93028"
}
```



---

archive/issue_events_093029.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2009-12-01T10:15:12Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "subject": "https://github.com/nathanncohen",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93029"
}
```



---

archive/issue_comments_056164.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,3 +1,5 @@\n-In many algorithms we want to find a random vertex or a random edge in a graph. It is also very often required to find, given a vertex, one edge adjacent to it ( for example in depth first or breadth first search ).\n+In many algorithms we want to find a random vertex or a random edge in a graph. \n \n-This should be possible easily, and most importantly efficiently ( if possible, directly written in C ) as DFS and BFS are very slow when written in python ( same problem with Floyd Warshall for all_pairs_shortest_path and networkX's distance function )\n+Here it is !\n+\n+Nathann\n``````\n",
    "created_at": "2010-02-23T10:25:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56164",
    "user": "https://github.com/nathanncohen"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,3 +1,5 @@
-In many algorithms we want to find a random vertex or a random edge in a graph. It is also very often required to find, given a vertex, one edge adjacent to it ( for example in depth first or breadth first search ).
+In many algorithms we want to find a random vertex or a random edge in a graph. 
 
-This should be possible easily, and most importantly efficiently ( if possible, directly written in C ) as DFS and BFS are very slow when written in python ( same problem with Floyd Warshall for all_pairs_shortest_path and networkX's distance function )
+Here it is !
+
+Nathann
``````




---

archive/issue_events_093030.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:25:18Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93030"
}
```



---

archive/issue_events_093031.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:25:46Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93031"
}
```



---

archive/issue_events_093032.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:25:46Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93032"
}
```



---

archive/issue_events_093033.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:29:02Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93033"
}
```



---

archive/issue_events_093034.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:29:02Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93034"
}
```



---

archive/issue_events_093035.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:29:09Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93035"
}
```



---

archive/issue_events_093036.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-02-23T10:29:09Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93036"
}
```



---

archive/issue_comments_056165.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAll patches must include doctests, especially new functions.",
    "created_at": "2010-03-02T03:56:59Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56165",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:5" align="right">comment:5</div>

All patches must include doctests, especially new functions.



---

archive/issue_events_093037.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-03-02T03:56:59Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93037"
}
```



---

archive/issue_events_093038.json:
```json
{
    "actor": "https://github.com/rlmill",
    "created_at": "2010-03-02T03:56:59Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93038"
}
```



---

archive/issue_comments_056166.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nI agree, but I did not know how to comment a random generator.... How would you do that ? ;-)\n\nNathann",
    "created_at": "2010-03-02T08:55:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56166",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:6" align="right">comment:6</div>

I agree, but I did not know how to comment a random generator.... How would you do that ? ;-)

Nathann



---

archive/issue_comments_056167.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nReplying to [@nathanncohen](#comment:6):\n> I agree, but I did not know how to comment a random generator.... How would you do that ? ;-)\n> \n> Nathann\n\nThere are several ways, e.g.\n\n```\nsage: v = G.random_vertex()\nsage: v in G\nsage: G.has_vertex(v)\nTrue\n```\netc.\nYou can also do\n\n```\nsage: G.random_edge(labels=False)\n(...,...)\nsage: G.random_edge(labels=True)\n(...,...,...)\n```",
    "created_at": "2010-03-04T17:06:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56167",
    "user": "https://github.com/rlmill"
}
```

<div id="comment:7" align="right">comment:7</div>

Replying to [@nathanncohen](#comment:6):
> I agree, but I did not know how to comment a random generator.... How would you do that ? ;-)
> 
> Nathann

There are several ways, e.g.

```
sage: v = G.random_vertex()
sage: v in G
sage: G.has_vertex(v)
True
```
etc.
You can also do

```
sage: G.random_edge(labels=False)
(...,...)
sage: G.random_edge(labels=True)
(...,...,...)
```



---

archive/issue_events_093039.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-03-04T17:23:48Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93039"
}
```



---

archive/issue_events_093040.json:
```json
{
    "actor": "https://github.com/nathanncohen",
    "created_at": "2010-03-04T17:23:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93040"
}
```



---

archive/issue_comments_056168.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">comment:8</div>\n\nGot it !\n\nHere is the new version :-)\n\nNathann",
    "created_at": "2010-03-04T17:23:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56168",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:8" align="right">comment:8</div>

Got it !

Here is the new version :-)

Nathann



---

archive/issue_comments_056169.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nHello, Nathann !\nI guess this patch won't be hard to review. I have a question, though. Why do you have the `**kwds` parameter ? It seems to me that there shouldn't be any parameter at all. Or if you want to keep the same parameters as for the `vertex_iterator` and `edge_iterator` functions, wouldn't it be better to use the same names (`vertices` for `vertex_iterator` for instance) ?\nWhat do you think ? If you still prefer to keep the `**kwds` argument, then I think it would be better to indicate at least that these are passed to the `vertex_iterator` and `edge_iterator` functions.",
    "created_at": "2010-03-21T21:34:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56169",
    "user": "https://github.com/sagetrac-abmasse"
}
```

<div id="comment:9" align="right">comment:9</div>

Hello, Nathann !
I guess this patch won't be hard to review. I have a question, though. Why do you have the `**kwds` parameter ? It seems to me that there shouldn't be any parameter at all. Or if you want to keep the same parameters as for the `vertex_iterator` and `edge_iterator` functions, wouldn't it be better to use the same names (`vertices` for `vertex_iterator` for instance) ?
What do you think ? If you still prefer to keep the `**kwds` argument, then I think it would be better to indicate at least that these are passed to the `vertex_iterator` and `edge_iterator` functions.



---

archive/issue_comments_056170.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nHello !! \n\nI added this parameter because I can not stand the fact that Graph.edges() returns triples instead of pairs, so I constantly use the labels = False argument :-)\n\nPatch updated !\n\nNathann",
    "created_at": "2010-03-22T09:51:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56170",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:11" align="right">comment:11</div>

Hello !! 

I added this parameter because I can not stand the fact that Graph.edges() returns triples instead of pairs, so I constantly use the labels = False argument :-)

Patch updated !

Nathann



---

archive/issue_comments_056171.json:
```json
{
    "body": "Attachment: **[trac_7569.patch.gz](https://github.com/sagemath/sage/files/ticket7569/trac_7569.patch.gz)**",
    "created_at": "2010-03-22T09:51:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56171",
    "user": "https://github.com/nathanncohen"
}
```

Attachment: **[trac_7569.patch.gz](https://github.com/sagemath/sage/files/ticket7569/trac_7569.patch.gz)**



---

archive/issue_comments_056172.json:
```json
{
    "body": "Review patch with formatting of code and doc -- apply on top of Nathann's patch",
    "created_at": "2010-03-22T16:30:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56172",
    "user": "https://github.com/sagetrac-abmasse"
}
```

Review patch with formatting of code and doc -- apply on top of Nathann's patch



---

archive/issue_events_093041.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-03-22T16:34:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93041"
}
```



---

archive/issue_events_093042.json:
```json
{
    "actor": "https://github.com/sagetrac-abmasse",
    "created_at": "2010-03-22T16:34:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93042"
}
```



---

archive/issue_comments_056173.json:
```json
{
    "body": "Author: **Nathann Cohen**",
    "created_at": "2010-03-22T16:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56173",
    "user": "https://github.com/sagetrac-abmasse"
}
```

Author: **Nathann Cohen**



---

archive/issue_comments_056174.json:
```json
{
    "body": "Reviewer: **Alexandre Blondin Mass\u00e9**",
    "created_at": "2010-03-22T16:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56174",
    "user": "https://github.com/sagetrac-abmasse"
}
```

Reviewer: **Alexandre Blondin Massé**



---

archive/issue_comments_056175.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nAttachment: **[trac_7569_review-abm.patch.gz](https://github.com/sagemath/sage/files/ticket7569/trac_7569_review-abm.patch.gz)**\n\nI've tested this patch on sage 4.3.4. All tests passed, and the documentation generated with the `browse_sage_doc` function looks ok (we really need to include those graph files in the tree for the reference manual). I made a few changes, only consisting of formatting of code and documentation.\n\nPositive review.",
    "created_at": "2010-03-22T16:34:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56175",
    "user": "https://github.com/sagetrac-abmasse"
}
```

<div id="comment:12" align="right">comment:12</div>

Attachment: **[trac_7569_review-abm.patch.gz](https://github.com/sagemath/sage/files/ticket7569/trac_7569_review-abm.patch.gz)**

I've tested this patch on sage 4.3.4. All tests passed, and the documentation generated with the `browse_sage_doc` function looks ok (we really need to include those graph files in the tree for the reference manual). I made a few changes, only consisting of formatting of code and documentation.

Positive review.



---

archive/issue_comments_056176.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nThank you very much again :-)\n\nNathann",
    "created_at": "2010-03-22T16:38:10Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56176",
    "user": "https://github.com/nathanncohen"
}
```

<div id="comment:13" align="right">comment:13</div>

Thank you very much again :-)

Nathann



---

archive/issue_comments_056177.json:
```json
{
    "body": "Merged: **sage-4.4.alpha0**",
    "created_at": "2010-04-15T05:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56177",
    "user": "https://github.com/jhpalmieri"
}
```

Merged: **sage-4.4.alpha0**



---

archive/issue_comments_056178.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nMerged in 4.4.alpha0:\n\n- trac_7569.patch\n- trac_7569_review-abm.patch",
    "created_at": "2010-04-15T05:59:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7569#issuecomment-56178",
    "user": "https://github.com/jhpalmieri"
}
```

<div id="comment:14" align="right">comment:14</div>

Merged in 4.4.alpha0:

- trac_7569.patch
- trac_7569_review-abm.patch



---

archive/issue_events_093043.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T05:59:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93043"
}
```



---

archive/issue_events_093044.json:
```json
{
    "actor": "https://github.com/jhpalmieri",
    "created_at": "2010-04-15T05:59:42Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7569",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7569#event-93044"
}
```
