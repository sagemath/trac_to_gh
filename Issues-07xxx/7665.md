# Issue 7665: Make support for R graphics

archive/issues_007665.json:
```json
{
    "assignees": [],
    "body": "This would increase our potential user base, though, as well as make it possible for people to use Sage in virtually any college course very easily (with the exception of most geometry courses, but a Geogebra plugin would do that).\n\nExamples follow; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.\n\n```\nsage: r.library('MASS')\nsage: r.library('lattice')\nsage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')\n\nWarning message:\nIn grid.newpage() : No png support in this version of R\n\nsage: r.histogram('~ MPG.highway',data='Cars93')\n\n\n(process:46382): Pango-WARNING **: failed to create cairo scaled font, expect ugly output. the offending font is 'Helvetica 9'\n\n(process:46382): Pango-WARNING **: font_font status is: out of memory\n\n(process:46382): Pango-WARNING **: scaled_font status is: out of memory\n\n(process:46382): Pango-WARNING **: shaping failure, expect ugly output. shape-engine='BasicEngineFc', font='Helvetica 9', text='M'\n\n(process:46382): Pango-WARNING **: failed to create cairo scaled font, expect ugly output. the offending font is 'Helvetica 7.1982421875'\n\n(process:46382): Pango-WARNING **: font_font status is: out of memory\n\n(process:46382): Pango-WARNING **: scaled_font status is: out of memory\n\n(process:46382): Pango-WARNING **: shaping failure, expect ugly output. shape-engine='BasicEngineFc', font='Helvetica 7.1982421875', text='0'\n\nsage: r.plot('MPG.highway ~ Weight', data='Cars93')\nNULL\n```\n\nAssignee: **@williamstein**\n\nCC:  @jasongrout @haraldschilly @sagetrac-drkirkby jverzani@gmail.com\n\nKeywords: **plot, R, graphics, statistics**\n\nReviewer: **William Stein, John Verzani, Rob Beezer**\n\nAuthor: **Karl-Dieter Crisman, Tim Dumol**\n\nMerged: **sage-4.4.1.alpha2**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7665_\n\n",
    "closed_at": "2010-04-29T05:26:14Z",
    "created_at": "2009-12-11T20:23:06Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.4.1",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Make support for R graphics",
    "type": "issue",
    "updated_at": "2016-07-14T07:35:43Z",
    "url": "https://github.com/sagemath/sage/issues/7665",
    "user": "https://github.com/kcrisman"
}
```
This would increase our potential user base, though, as well as make it possible for people to use Sage in virtually any college course very easily (with the exception of most geometry courses, but a Geogebra plugin would do that).

Examples follow; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.

```
sage: r.library('MASS')
sage: r.library('lattice')
sage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')

Warning message:
In grid.newpage() : No png support in this version of R

sage: r.histogram('~ MPG.highway',data='Cars93')


(process:46382): Pango-WARNING **: failed to create cairo scaled font, expect ugly output. the offending font is 'Helvetica 9'

(process:46382): Pango-WARNING **: font_font status is: out of memory

(process:46382): Pango-WARNING **: scaled_font status is: out of memory

(process:46382): Pango-WARNING **: shaping failure, expect ugly output. shape-engine='BasicEngineFc', font='Helvetica 9', text='M'

(process:46382): Pango-WARNING **: failed to create cairo scaled font, expect ugly output. the offending font is 'Helvetica 7.1982421875'

(process:46382): Pango-WARNING **: font_font status is: out of memory

(process:46382): Pango-WARNING **: scaled_font status is: out of memory

(process:46382): Pango-WARNING **: shaping failure, expect ugly output. shape-engine='BasicEngineFc', font='Helvetica 7.1982421875', text='0'

sage: r.plot('MPG.highway ~ Weight', data='Cars93')
NULL
```

Assignee: **@williamstein**

CC:  @jasongrout @haraldschilly @sagetrac-drkirkby jverzani@gmail.com

Keywords: **plot, R, graphics, statistics**

Reviewer: **William Stein, John Verzani, Rob Beezer**

Author: **Karl-Dieter Crisman, Tim Dumol**

Merged: **sage-4.4.1.alpha2**

_Issue created by migration from https://trac.sagemath.org/ticket/7665_





---

archive/issue_events_085930.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-12-11T20:23:06Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "milestone_number": null,
    "milestone_title": "sage-4.4.1",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85930"
}
```



---

archive/issue_events_085931.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-12-11T20:23:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "component: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85931"
}
```



---

archive/issue_events_085932.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-12-11T20:23:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/p3%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85932"
}
```



---

archive/issue_events_085933.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2009-12-11T20:23:06Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85933"
}
```



---

archive/issue_comments_058931.json:
```json
{
    "body": "<div id=\"comment:2\" align=\"right\">Comment 2</div>\n\nOkay, I have dug into this, and here are some preliminary thoughts.\n\nWe have a function r.png, which only works if capabilities('png') returns TRUE.  In the default build on Mac, we get\n\n```\n> capabilities()\n    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets \n   FALSE    FALSE    FALSE     TRUE    FALSE    FALSE     TRUE     TRUE \n  libxml     fifo   cledit    iconv      NLS  profmem    cairo \n    TRUE     TRUE     TRUE     TRUE     TRUE    FALSE    FALSE \n```\nHowever, to build with X11 (which would enable png and friends) or with aqua on Mac (which would enable the quartz graphics device), we need to build with certain options.  See [http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html](http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html) and [http://cran.r-project.org/doc/manuals/R-admin.html#Configuration-options](http://cran.r-project.org/doc/manuals/R-admin.html#Configuration-options) for some info. \n\nOn sagenb.org, however, we do have png and Cairo TRUE, though X11 FALSE.  The commands that give various errors on my computer in the description instead give the actual data set (!) on sagenb, except the last one which still returns NULL.  However, the following DOES work (from the documentation in interfaces/r.py):\n\n```\nr.png('temp.png')\nx = r([1,2,3])\ny = r([4,5,6])\nr.plot(x,y)\nr.dev_off()\n```\nSo it seems that one can do this, but it's annoying.  Similarly:\n\n```\nr.png('temp2.png')\nr.plot('MPG.highway ~ Weight', data='Cars93')\nr.dev_off()\n```\nworks on sagenb.  It's very nice, in fact!\n\nSo presumably if we enabled X11 on Mac (perhaps on a case-by-case basis for each version of OSX as in the above websites) we would get this at least, and perhaps also enabling aqua would solve this on Mac.  To be continued...",
    "created_at": "2010-02-09T14:09:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58931",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:2" align="right">Comment 2</div>

Okay, I have dug into this, and here are some preliminary thoughts.

We have a function r.png, which only works if capabilities('png') returns TRUE.  In the default build on Mac, we get

```
> capabilities()
    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets 
   FALSE    FALSE    FALSE     TRUE    FALSE    FALSE     TRUE     TRUE 
  libxml     fifo   cledit    iconv      NLS  profmem    cairo 
    TRUE     TRUE     TRUE     TRUE     TRUE    FALSE    FALSE 
```
However, to build with X11 (which would enable png and friends) or with aqua on Mac (which would enable the quartz graphics device), we need to build with certain options.  See [http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html](http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html) and [http://cran.r-project.org/doc/manuals/R-admin.html#Configuration-options](http://cran.r-project.org/doc/manuals/R-admin.html#Configuration-options) for some info. 

On sagenb.org, however, we do have png and Cairo TRUE, though X11 FALSE.  The commands that give various errors on my computer in the description instead give the actual data set (!) on sagenb, except the last one which still returns NULL.  However, the following DOES work (from the documentation in interfaces/r.py):

```
r.png('temp.png')
x = r([1,2,3])
y = r([4,5,6])
r.plot(x,y)
r.dev_off()
```
So it seems that one can do this, but it's annoying.  Similarly:

```
r.png('temp2.png')
r.plot('MPG.highway ~ Weight', data='Cars93')
r.dev_off()
```
works on sagenb.  It's very nice, in fact!

So presumably if we enabled X11 on Mac (perhaps on a case-by-case basis for each version of OSX as in the above websites) we would get this at least, and perhaps also enabling aqua would solve this on Mac.  To be continued...



---

archive/issue_comments_058932.json:
```json
{
    "body": "<div id=\"comment:3\" align=\"right\">Comment 3</div>\n\nAnother idea would be to change r.plot (not r.png or the 'native' ones like r.bwplot or r.histogram) to automatically select a temporary filename and turn off the device.  It is absolutely ridiculous that we can't have at least one of the R plot commands \"just work\" as opposed to needing this three-step thing (which apparently is universal in R).\n\nAlso, if I load the lattice library, I now get\n\n```\nsage: r.histogram('~ MPG.highway',data='Cars93')\nError in device.call(...) : X11 is not available\nsage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')\nError in device.call(...) : X11 is not available\n```\nwhich is certainly a better error message than before.",
    "created_at": "2010-02-09T14:31:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58932",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:3" align="right">Comment 3</div>

Another idea would be to change r.plot (not r.png or the 'native' ones like r.bwplot or r.histogram) to automatically select a temporary filename and turn off the device.  It is absolutely ridiculous that we can't have at least one of the R plot commands "just work" as opposed to needing this three-step thing (which apparently is universal in R).

Also, if I load the lattice library, I now get

```
sage: r.histogram('~ MPG.highway',data='Cars93')
Error in device.call(...) : X11 is not available
sage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')
Error in device.call(...) : X11 is not available
```
which is certainly a better error message than before.



---

archive/issue_comments_058933.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">Comment 4</div>\n\nYet another interesting issue for the Mac: in configuring, we get \n\n```\nchecking for X... no\nconfigure: error: --with-x=yes (default) and X11 headers/libs are not available\nConfiguring R with fallback options\n```\nand indeed\n\n```\n$ if [ -f /usr/include/X11/Xwindows.h ]; then\n>     XSUPPORT=yes\n> else\n>     XSUPPORT=no\n> fi\n$ echo $XSUPPORT\nyes\n```\nbut as [http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html#X11-window-server-_0028optional_0029](http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html#X11-window-server-_0028optional_0029) points out, that is not enough on Snow Leopard, and the other versions have their own issues.  If Aqua ends up working for plotting, we will probably want to completely disable X11 support, since it doesn't work the same on each version anyway.",
    "created_at": "2010-02-09T14:43:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58933",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:4" align="right">Comment 4</div>

Yet another interesting issue for the Mac: in configuring, we get 

```
checking for X... no
configure: error: --with-x=yes (default) and X11 headers/libs are not available
Configuring R with fallback options
```
and indeed

```
$ if [ -f /usr/include/X11/Xwindows.h ]; then
>     XSUPPORT=yes
> else
>     XSUPPORT=no
> fi
$ echo $XSUPPORT
yes
```
but as [http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html#X11-window-server-_0028optional_0029](http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html#X11-window-server-_0028optional_0029) points out, that is not enough on Snow Leopard, and the other versions have their own issues.  If Aqua ends up working for plotting, we will probably want to completely disable X11 support, since it doesn't work the same on each version anyway.



---

archive/issue_comments_058934.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">Comment 5</div>\n\nOn Snow Leopard (OSX 10.6), re-enabling aqua allows the following:\n\n```\nsage: r.quartz(type='png')\nNULL # But nice quartz viewer pops up!\nsage: x = r([1,2,3])\nsage: y = r([4,5,6])\nsage: r.plot(x,y) # Nice plot of this pops up!\nNULL\nsage: r.dev_off() # Turns off the quartz viewer\nnull device \n          1 \n```",
    "created_at": "2010-02-09T15:36:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58934",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:5" align="right">Comment 5</div>

On Snow Leopard (OSX 10.6), re-enabling aqua allows the following:

```
sage: r.quartz(type='png')
NULL # But nice quartz viewer pops up!
sage: x = r([1,2,3])
sage: y = r([4,5,6])
sage: r.plot(x,y) # Nice plot of this pops up!
NULL
sage: r.dev_off() # Turns off the quartz viewer
null device 
          1 
```



---

archive/issue_comments_058935.json:
```json
{
    "body": "Author: **Karl-Dieter Crisman**",
    "created_at": "2010-02-10T03:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58935",
    "user": "https://github.com/kcrisman"
}
```

Author: **Karl-Dieter Crisman**



---

archive/issue_comments_058936.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">Comment 6</div>\n\nWith the attached patch and [this spkg](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p0.spkg), *basic* plotting should work on both OSX and Linux (if X11 is available).  This should be tested on OSX 10.4, 10.5, preferably also a 64-bit build on 10.5 and 10.6, and then on a few Linux variants and at least the most recent Solaris (to make sure I haven't broken something).  \n\nThe functioning of things like bwplot and histogram (which need the lattice package, which we now ship) is more iffy in the notebook, though it seems to work well enough (though apparently delayed by one, perhaps due to not calling dev.off()?) in the command line.  However, I think that dealing with this could legitimately be made a separate ticket; just getting r.plot to work across the board is pretty important.",
    "created_at": "2010-02-10T03:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58936",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:6" align="right">Comment 6</div>

With the attached patch and [this spkg](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p0.spkg), *basic* plotting should work on both OSX and Linux (if X11 is available).  This should be tested on OSX 10.4, 10.5, preferably also a 64-bit build on 10.5 and 10.6, and then on a few Linux variants and at least the most recent Solaris (to make sure I haven't broken something).  

The functioning of things like bwplot and histogram (which need the lattice package, which we now ship) is more iffy in the notebook, though it seems to work well enough (though apparently delayed by one, perhaps due to not calling dev.off()?) in the command line.  However, I think that dealing with this could legitimately be made a separate ticket; just getting r.plot to work across the board is pretty important.



---

archive/issue_events_085934.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-10T03:09:07Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85934"
}
```



---

archive/issue_comments_058937.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -3,6 +3,8 @@\n Examples from the recommended (not currently installed) MASS package; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.\n \n ```\n+sage: r.library('MASS')\n+sage: r.library('lattice')\n sage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')\n \n Warning message:\n``````\n",
    "created_at": "2010-02-10T03:09:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58937",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -3,6 +3,8 @@
 Examples from the recommended (not currently installed) MASS package; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.
 
 ```
+sage: r.library('MASS')
+sage: r.library('lattice')
 sage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')
 
 Warning message:
``````




---

archive/issue_comments_058938.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -1,6 +1,6 @@\n-This is probably hard.  It would increase our potential user base, though, as well as make it possible for people to use Sage in virtually any college course very easily (with the exception of most geometry courses, but a Geogebra plugin would do that).\n+This would increase our potential user base, though, as well as make it possible for people to use Sage in virtually any college course very easily (with the exception of most geometry courses, but a Geogebra plugin would do that).\n \n-Examples from the recommended (not currently installed) MASS package; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.\n+Examples follow; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.\n \n ```\n sage: r.library('MASS')\n``````\n",
    "created_at": "2010-02-10T03:12:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58938",
    "user": "https://github.com/kcrisman"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -1,6 +1,6 @@
-This is probably hard.  It would increase our potential user base, though, as well as make it possible for people to use Sage in virtually any college course very easily (with the exception of most geometry courses, but a Geogebra plugin would do that).
+This would increase our potential user base, though, as well as make it possible for people to use Sage in virtually any college course very easily (with the exception of most geometry courses, but a Geogebra plugin would do that).
 
-Examples from the recommended (not currently installed) MASS package; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.
+Examples follow; one can certainly come up with one's own examples, this just shows what isn't supported and the current error messages.
 
 ```
 sage: r.library('MASS')
``````




---

archive/issue_comments_058939.json:
```json
{
    "body": "<div id=\"comment:8\" align=\"right\">Comment 8</div>\n\nChanging to 'needs work' based on some discussion with an R developer that might solve the issue completely or provide more options for plotting (separate device, just popping up png as usual, etc.) and allow use of the other plot commands in the notebook.",
    "created_at": "2010-02-12T11:56:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58939",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:8" align="right">Comment 8</div>

Changing to 'needs work' based on some discussion with an R developer that might solve the issue completely or provide more options for plotting (separate device, just popping up png as usual, etc.) and allow use of the other plot commands in the notebook.



---

archive/issue_events_085935.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-12T11:56:27Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85935"
}
```



---

archive/issue_events_085936.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-12T11:56:27Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85936"
}
```



---

archive/issue_comments_058940.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">Comment 9</div>\n\nSince the R skpg has in the meantime moved to p0, the changes are even more minor.  [This](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg) spkg is the updated one, and it applies fine and passes R and stats tests on my Macintel and sage.math.  Since the only change is to add aqua support on uname='Darwin', that is not a surprise.\n\nThe patch still should apply, but still needs some work to deal with all the cases we want.  We may also have to add some code to deal with the situation where neither X11 nor aqua is available, to at least gracefully exit with an intelligible error message.",
    "created_at": "2010-04-13T17:16:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58940",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:9" align="right">Comment 9</div>

Since the R skpg has in the meantime moved to p0, the changes are even more minor.  [This](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg) spkg is the updated one, and it applies fine and passes R and stats tests on my Macintel and sage.math.  Since the only change is to add aqua support on uname='Darwin', that is not a surprise.

The patch still should apply, but still needs some work to deal with all the cases we want.  We may also have to add some code to deal with the situation where neither X11 nor aqua is available, to at least gracefully exit with an intelligible error message.



---

archive/issue_comments_058941.json:
```json
{
    "body": "Attachment: **[trac_7655-sagenb-R-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7655-sagenb-R-plotting.patch.gz)**\n\nRemoves the chdir in sagenb.notebook.worksheet_eval_cmd. Read comments for more info. Depends on #7997",
    "created_at": "2010-04-13T17:19:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58941",
    "user": "https://github.com/TimDumol"
}
```

Attachment: **[trac_7655-sagenb-R-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7655-sagenb-R-plotting.patch.gz)**

Removes the chdir in sagenb.notebook.worksheet_eval_cmd. Read comments for more info. Depends on #7997



---

archive/issue_comments_058942.json:
```json
{
    "body": "<div id=\"comment:10\" align=\"right\">Comment 10</div>\n\nUmm... what comments?  It looks like this removes a reference to a directory - will this break anything else or cause a security problem?  Unfortunately I don't have an easy way to test this on the sagenb repo, since we still don't have hg_sagenb.\n\nI'm also surprised I was able to make a change to the ticket after you had already made this change!",
    "created_at": "2010-04-13T17:20:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58942",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:10" align="right">Comment 10</div>

Umm... what comments?  It looks like this removes a reference to a directory - will this break anything else or cause a security problem?  Unfortunately I don't have an easy way to test this on the sagenb repo, since we still don't have hg_sagenb.

I'm also surprised I was able to make a change to the ticket after you had already made this change!



---

archive/issue_comments_058943.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">Comment 11</div>\n\nDepends on #7997. Before this patch, non-Sage systems are made to switch to the cell directory, which, aside from being a security vulnerability (I think?), doesn't seem to be possible with server pools. This removes the directory change, so that evaluation is done in the temporary directory.\n\nIf you want, I'll post a custom sagenb package with this patch, so you can try it out. (It will have a bunch of other (positively reviewed) patches in the queue, too, though.)",
    "created_at": "2010-04-13T17:22:57Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58943",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:11" align="right">Comment 11</div>

Depends on #7997. Before this patch, non-Sage systems are made to switch to the cell directory, which, aside from being a security vulnerability (I think?), doesn't seem to be possible with server pools. This removes the directory change, so that evaluation is done in the temporary directory.

If you want, I'll post a custom sagenb package with this patch, so you can try it out. (It will have a bunch of other (positively reviewed) patches in the queue, too, though.)



---

archive/issue_comments_058944.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">Comment 12</div>\n\nThanks, Tim, that would be fantastic to have the sagenb package to try this out.  I wish I had access to a GUI to test notebook behavior on sage.math... otherwise I don't have access to a Linux box.",
    "created_at": "2010-04-13T17:32:49Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58944",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:12" align="right">Comment 12</div>

Thanks, Tim, that would be fantastic to have the sagenb package to try this out.  I wish I had access to a GUI to test notebook behavior on sage.math... otherwise I don't have access to a Linux box.



---

archive/issue_comments_058945.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">Comment 13</div>\n\nThe new spkg is here: http://sage.math.washington.edu/home/timdumol/sagenb-0.7.5.3-devel-7665.spkg\n\nYou could launch a temporary Sage notebook server, and try that out.\n\n```\n\nsage: notebook(interface=\"\", secure=True, port=10000)\n\n```",
    "created_at": "2010-04-13T17:37:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58945",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:13" align="right">Comment 13</div>

The new spkg is here: http://sage.math.washington.edu/home/timdumol/sagenb-0.7.5.3-devel-7665.spkg

You could launch a temporary Sage notebook server, and try that out.

```

sage: notebook(interface="", secure=True, port=10000)

```



---

archive/issue_comments_058946.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">Comment 14</div>\n\nThe spkg is not downloading properly - Sage says it is empty, then corrupt.\n\nFor the other thing, so would I go to sage.math.../home/kcrisman:10000 or something?  Doing the command is taking a looong time due to generating a 2048 bit RSA private key, which I am not sure if it is supposed to do.  Thanks for entertaining my ignorance of how sagenb functions.",
    "created_at": "2010-04-13T18:17:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58946",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:14" align="right">Comment 14</div>

The spkg is not downloading properly - Sage says it is empty, then corrupt.

For the other thing, so would I go to sage.math.../home/kcrisman:10000 or something?  Doing the command is taking a looong time due to generating a 2048 bit RSA private key, which I am not sure if it is supposed to do.  Thanks for entertaining my ignorance of how sagenb functions.



---

archive/issue_comments_058947.json:
```json
{
    "body": "<div id=\"comment:15\" align=\"right\">Comment 15</div>\n\nReplying to [@kcrisman](#comment%3A14):\n> The spkg is not downloading properly - Sage says it is empty, then corrupt.\n> \n\nI think the problem is that the name of the spkg is not the same as the name of the folder once it's unzipped.",
    "created_at": "2010-04-13T18:44:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58947",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:15" align="right">Comment 15</div>

Replying to [@kcrisman](#comment%3A14):
> The spkg is not downloading properly - Sage says it is empty, then corrupt.
> 

I think the problem is that the name of the spkg is not the same as the name of the folder once it's unzipped.



---

archive/issue_comments_058948.json:
```json
{
    "body": "<div id=\"comment:16\" align=\"right\">Comment 16</div>\n\nI was able to use it, but got a problem:\n\n```\n    cmd = self._eval_cmd(system, input)\n\texceptions.TypeError: _eval_cmd() takes exactly 4 arguments (3 given)\n\n```\n\nSo for instance Shift+Enter just creates a new line in the cell.  In fact, even clicking the 'evaluate' button doesn't work!  Also, for some reason I can no longer evaluate several commands by doing a semicolon between them.  Am I doing something wrong?  Or are these legacies of the other patches?",
    "created_at": "2010-04-13T19:17:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58948",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:16" align="right">Comment 16</div>

I was able to use it, but got a problem:

```
    cmd = self._eval_cmd(system, input)
	exceptions.TypeError: _eval_cmd() takes exactly 4 arguments (3 given)

```

So for instance Shift+Enter just creates a new line in the cell.  In fact, even clicking the 'evaluate' button doesn't work!  Also, for some reason I can no longer evaluate several commands by doing a semicolon between them.  Am I doing something wrong?  Or are these legacies of the other patches?



---

archive/issue_comments_058949.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">Comment 17</div>\n\nSo maybe \n\n```\n-def _eval_cmd(self, system, cmd, dir): \n+def _eval_cmd(self, system, cmd): \n```\nwould suffice?  I'll try this out.",
    "created_at": "2010-04-13T19:37:19Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58949",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">Comment 17</div>

So maybe 

```
-def _eval_cmd(self, system, cmd, dir): 
+def _eval_cmd(self, system, cmd): 
```
would suffice?  I'll try this out.



---

archive/issue_comments_058950.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">Comment 18</div>\n\nUnfortunately, making the changes indicated in the patch along with this change in vanilla Sage-4.3.5 doesn't fix the problem either, though I can now use Shift+Enter again.  So somehow this isn't doing the job.",
    "created_at": "2010-04-13T20:03:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58950",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:18" align="right">Comment 18</div>

Unfortunately, making the changes indicated in the patch along with this change in vanilla Sage-4.3.5 doesn't fix the problem either, though I can now use Shift+Enter again.  So somehow this isn't doing the job.



---

archive/issue_comments_058951.json:
```json
{
    "body": "Makes systems change to the current tempdir instead. Depends on #7997.",
    "created_at": "2010-04-14T01:11:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58951",
    "user": "https://github.com/TimDumol"
}
```

Makes systems change to the current tempdir instead. Depends on #7997.



---

archive/issue_comments_058952.json:
```json
{
    "body": "Attachment: **[trac_7655-sagenb-R-plotting.2.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7655-sagenb-R-plotting.2.patch.gz)**\n\nAttachment: **[trac_7633-nb_settings_buttons-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7633-nb_settings_buttons-reviewer.patch.gz)**\n\nAdds a ``chdir`` function to the R interface.",
    "created_at": "2010-04-14T01:12:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58952",
    "user": "https://github.com/TimDumol"
}
```

Attachment: **[trac_7655-sagenb-R-plotting.2.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7655-sagenb-R-plotting.2.patch.gz)**

Attachment: **[trac_7633-nb_settings_buttons-reviewer.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7633-nb_settings_buttons-reviewer.patch.gz)**

Adds a ``chdir`` function to the R interface.



---

archive/issue_comments_058953.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">Comment 19</div>\n\nAh, sorrry. I managed to attach and package the incomplete version of the patch (which still didn't work properly). This should do the job. I'll be posting an updated spkg soon.",
    "created_at": "2010-04-14T01:14:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58953",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:19" align="right">Comment 19</div>

Ah, sorrry. I managed to attach and package the incomplete version of the patch (which still didn't work properly). This should do the job. I'll be posting an updated spkg soon.



---

archive/issue_comments_058954.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">Comment 20</div>\n\nAlright, new spkg up at the same link: http://sage.math.washington.edu/home/timdumol/sagenb-0.7.5.3-devel-7665.spkg",
    "created_at": "2010-04-14T01:22:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58954",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:20" align="right">Comment 20</div>

Alright, new spkg up at the same link: http://sage.math.washington.edu/home/timdumol/sagenb-0.7.5.3-devel-7665.spkg



---

archive/issue_comments_058955.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">Comment 21</div>\n\nThanks for all this.  Before I try it, can you just look at sage/interfaces/r.py and and functions png() and plot() - either the original or in the patch on this ticket?  At least one of them (before and after patch) has references to os.path.abspath, but perhaps that is what was causing the conflict with your original patch.  Because I haven't yet had time to try to understand the NB workings, I am not sure if that is part of the problem, but I had forgotten about that until this morning.  Maybe that path finding is no longer necessary.",
    "created_at": "2010-04-14T11:38:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58955",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:21" align="right">Comment 21</div>

Thanks for all this.  Before I try it, can you just look at sage/interfaces/r.py and and functions png() and plot() - either the original or in the patch on this ticket?  At least one of them (before and after patch) has references to os.path.abspath, but perhaps that is what was causing the conflict with your original patch.  Because I haven't yet had time to try to understand the NB workings, I am not sure if that is part of the problem, but I had forgotten about that until this morning.  Maybe that path finding is no longer necessary.



---

archive/issue_comments_058956.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">Comment 22</div>\n\nI don't think that's the problem. The problem, as far as I can tell, is that the interpreter is reused between sessions, and so its working directory has to be changed each time to the temp folder used for evaluation.",
    "created_at": "2010-04-14T12:29:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58956",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:22" align="right">Comment 22</div>

I don't think that's the problem. The problem, as far as I can tell, is that the interpreter is reused between sessions, and so its working directory has to be changed each time to the temp folder used for evaluation.



---

archive/issue_comments_058957.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">Comment 23</div>\n\nI'm a little confused about the trac_7633 patch... \n\nAnyway, very sadly it still doesn't work, and the behavior is still the same as before.  I also tried getting rid of the EMBEDDED_MODE things in interfaces/r.py and that didn't work either.  Any ideas?  The plots are being created, they are just living in those /tmp/ directories and not being accessed.",
    "created_at": "2010-04-14T16:49:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58957",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:23" align="right">Comment 23</div>

I'm a little confused about the trac_7633 patch... 

Anyway, very sadly it still doesn't work, and the behavior is still the same as before.  I also tried getting rid of the EMBEDDED_MODE things in interfaces/r.py and that didn't work either.  Any ideas?  The plots are being created, they are just living in those /tmp/ directories and not being accessed.



---

archive/issue_comments_058958.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">Comment 24</div>\n\nI posted the wrong patch. Let me get the right one.",
    "created_at": "2010-04-14T17:49:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58958",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:24" align="right">Comment 24</div>

I posted the wrong patch. Let me get the right one.



---

archive/issue_comments_058959.json:
```json
{
    "body": "Attachment: **[trac_7665-sage-library-R-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-sage-library-R-plotting.patch.gz)**\n\nAdds a ``chdir`` function to the R interface.",
    "created_at": "2010-04-14T17:54:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58959",
    "user": "https://github.com/TimDumol"
}
```

Attachment: **[trac_7665-sage-library-R-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-sage-library-R-plotting.patch.gz)**

Adds a ``chdir`` function to the R interface.



---

archive/issue_comments_058960.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">Comment 25</div>\n\nThis is the right one. trac_7665-sage-library-R-plotting.patch is to be applied to the main Sage library, trac_7655-sagenb-R-plotting.2.patch is to be applied to sagenb, or used via the spkg.",
    "created_at": "2010-04-14T17:55:27Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58960",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:25" align="right">Comment 25</div>

This is the right one. trac_7665-sage-library-R-plotting.patch is to be applied to the main Sage library, trac_7655-sagenb-R-plotting.2.patch is to be applied to sagenb, or used via the spkg.



---

archive/issue_comments_058961.json:
```json
{
    "body": "Changed author from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Tim Joseph Dumol**",
    "created_at": "2010-04-14T18:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58961",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Tim Joseph Dumol**



---

archive/issue_comments_058962.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">Comment 26</div>\n\nIt took me a while to figure out what this was about, but you need this so that syseval in server/support.py works correctly, right?  It works!  Wonderful, and thank you.\n\nOkay, that doesn't mean I'm done with this ticket, but at any rate hopefully within the next day or two I will have resolved this to my satisfaction and then it can be reviewed.  \n\nIncidentally, \"know it's ID\" should be \"know its ID\" :-)",
    "created_at": "2010-04-14T18:53:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58962",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:26" align="right">Comment 26</div>

It took me a while to figure out what this was about, but you need this so that syseval in server/support.py works correctly, right?  It works!  Wonderful, and thank you.

Okay, that doesn't mean I'm done with this ticket, but at any rate hopefully within the next day or two I will have resolved this to my satisfaction and then it can be reviewed.  

Incidentally, "know it's ID" should be "know its ID" :-)



---

archive/issue_comments_058963.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">Comment 27</div>\n\nSorry :P Was a bit sleepy when I wrote the documentation.",
    "created_at": "2010-04-15T00:07:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58963",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:27" align="right">Comment 27</div>

Sorry :P Was a bit sleepy when I wrote the documentation.



---

archive/issue_comments_058964.json:
```json
{
    "body": "Fixes a few doctests. Replaces trac_7655-sagenb-R-plotting.2.patch",
    "created_at": "2010-04-18T07:37:03Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58964",
    "user": "https://github.com/TimDumol"
}
```

Fixes a few doctests. Replaces trac_7655-sagenb-R-plotting.2.patch



---

archive/issue_comments_058965.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">Comment 28</div>\n\nAttachment: **[trac_7665-sagenb-R-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-sagenb-R-plotting.patch.gz)**\n\nThe substantive changes in the sagenb patch make it work on sage.math and my Macintel with OSX 10.6.  I don't know how to doctest sagenb stuff :(  And unfortunately the linked spkg is ... weird, to say the least.  It didn't unpack properly, for instance, and there was something inside I had to use instead - see [http://sage.math.washington.edu/home/kcrisman/sagenb-0.7.5.3.p0.spkg](http://sage.math.washington.edu/home/kcrisman/sagenb-0.7.5.3.p0.spkg) for something that does work, though of course the p0 and the 7.5.3 are not \"official\" by any means.\n\nI will test this tonight on PPC OSX, and then post an omnibus patch to the Sage library.  Do you know of any way to test %r type commands?  That would be helpful, also for documenting how to use it.",
    "created_at": "2010-04-19T16:33:18Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58965",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:28" align="right">Comment 28</div>

Attachment: **[trac_7665-sagenb-R-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-sagenb-R-plotting.patch.gz)**

The substantive changes in the sagenb patch make it work on sage.math and my Macintel with OSX 10.6.  I don't know how to doctest sagenb stuff :(  And unfortunately the linked spkg is ... weird, to say the least.  It didn't unpack properly, for instance, and there was something inside I had to use instead - see [http://sage.math.washington.edu/home/kcrisman/sagenb-0.7.5.3.p0.spkg](http://sage.math.washington.edu/home/kcrisman/sagenb-0.7.5.3.p0.spkg) for something that does work, though of course the p0 and the 7.5.3 are not "official" by any means.

I will test this tonight on PPC OSX, and then post an omnibus patch to the Sage library.  Do you know of any way to test %r type commands?  That would be helpful, also for documenting how to use it.



---

archive/issue_comments_058966.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">Comment 29</div>\n\nReplying to [@TimDumol](#comment%3A27):\n> Sorry :P Was a bit sleepy when I wrote the documentation.\n\nIt wasn't your fault, it's already in there from someone else... anyway, before all this is done, line 2893 should be fixed with respect to that.",
    "created_at": "2010-04-19T18:44:34Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58966",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:29" align="right">Comment 29</div>

Replying to [@TimDumol](#comment%3A27):
> Sorry :P Was a bit sleepy when I wrote the documentation.

It wasn't your fault, it's already in there from someone else... anyway, before all this is done, line 2893 should be fixed with respect to that.



---

archive/issue_comments_058967.json:
```json
{
    "body": "<div id=\"comment:30\" align=\"right\">Comment 30</div>\n\nOkay, here is something that should work and doesn't now - probably because of the new cell structure, though perhaps it already didn't work before, or maybe it's the fault of the r.png() setting its own path?  Try the following in the notebook (evaluated in Sage):\n\n```\nr.library('lattice')\nr.png()\nr(\"print(histogram(~wt | cyl, data=mtcars))\")\nr.dev_off()\n```\nNotice that below and to the right of the graphic there is a link for the graphic - but there is no actual graphic at that link, because it's a link to the /tmp directory (the actual evaluation directory), and the file doesn't actually exist there:\n\n```\nCrismans-Computer:~ crisman$ ls -al .sage/sage_notebook.sagenb/home/admin/0/cells/2/\ntotal 40\ndrwx------   4 crisman  crisman    136 Apr 19 20:20 .\ndrwxr-xr-x   5 crisman  crisman    170 Apr 19 20:14 ..\nlrwxr-xr-x   1 crisman  crisman     33 Apr 19 20:20 .Rplot001.png-wZKi -> /tmp/tmp_0wLLV/.Rplot001.png-wZKi\n-rwx------   1 crisman  crisman  12769 Apr 19 20:20 Rplot001.png\nCrismans-Computer:~ crisman$ ls -al /tmp/tmp_0wLLV/total 16\ndrwx------    4 crisman  wheel  136 Apr 19 20:20 .\ndrwxrwxrwt   23 root     wheel  782 Apr 19 20:20 ..\n-rw-r--r--    1 crisman  wheel   76 Apr 19 20:20 _tmp__SAGE__CoDe__.py\nlrwxr-xr-x    1 crisman  wheel   59 Apr 19 20:20 data -> /Users/crisman/.sage/sage_notebook.sagenb/home/admin/0/data\n```\nAny clue as to how to fix that?  I don't understand this at all.  I don't know that this should hold things up, though, particularly since one can either drag and drop the picture or just do it from the command line if one wants it.\n\nOtherwise this is all coming together nicely, also works on PPC, so I think sufficiently robust at this point.  Here is some resolution of the original examples in command line.\n\n```\nsage: r.library('MASS')\nsage: r.library('lattice')\nsage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')\nsage: r.dev_off() # Now it should be in the home directory name Rplot001.png or something\nsage: r.histogram('~ MPG.highway',data='Cars93')\nsage: r.dev_off() # Now it should be in the home directory name Rplot002.png or something\nsage: r.plot('MPG.highway ~ Weight', data='Cars93') # Calls dev.off(), so should be in home directory immediately\n```\nGreat!  Putting 'needs review', though presumably we'll have to do a few more things to tie up loose ends.",
    "created_at": "2010-04-20T01:10:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58967",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:30" align="right">Comment 30</div>

Okay, here is something that should work and doesn't now - probably because of the new cell structure, though perhaps it already didn't work before, or maybe it's the fault of the r.png() setting its own path?  Try the following in the notebook (evaluated in Sage):

```
r.library('lattice')
r.png()
r("print(histogram(~wt | cyl, data=mtcars))")
r.dev_off()
```
Notice that below and to the right of the graphic there is a link for the graphic - but there is no actual graphic at that link, because it's a link to the /tmp directory (the actual evaluation directory), and the file doesn't actually exist there:

```
Crismans-Computer:~ crisman$ ls -al .sage/sage_notebook.sagenb/home/admin/0/cells/2/
total 40
drwx------   4 crisman  crisman    136 Apr 19 20:20 .
drwxr-xr-x   5 crisman  crisman    170 Apr 19 20:14 ..
lrwxr-xr-x   1 crisman  crisman     33 Apr 19 20:20 .Rplot001.png-wZKi -> /tmp/tmp_0wLLV/.Rplot001.png-wZKi
-rwx------   1 crisman  crisman  12769 Apr 19 20:20 Rplot001.png
Crismans-Computer:~ crisman$ ls -al /tmp/tmp_0wLLV/total 16
drwx------    4 crisman  wheel  136 Apr 19 20:20 .
drwxrwxrwt   23 root     wheel  782 Apr 19 20:20 ..
-rw-r--r--    1 crisman  wheel   76 Apr 19 20:20 _tmp__SAGE__CoDe__.py
lrwxr-xr-x    1 crisman  wheel   59 Apr 19 20:20 data -> /Users/crisman/.sage/sage_notebook.sagenb/home/admin/0/data
```
Any clue as to how to fix that?  I don't understand this at all.  I don't know that this should hold things up, though, particularly since one can either drag and drop the picture or just do it from the command line if one wants it.

Otherwise this is all coming together nicely, also works on PPC, so I think sufficiently robust at this point.  Here is some resolution of the original examples in command line.

```
sage: r.library('MASS')
sage: r.library('lattice')
sage: r.bwplot('MPG.highway ~ Origin', data = 'Cars93')
sage: r.dev_off() # Now it should be in the home directory name Rplot001.png or something
sage: r.histogram('~ MPG.highway',data='Cars93')
sage: r.dev_off() # Now it should be in the home directory name Rplot002.png or something
sage: r.plot('MPG.highway ~ Weight', data='Cars93') # Calls dev.off(), so should be in home directory immediately
```
Great!  Putting 'needs review', though presumably we'll have to do a few more things to tie up loose ends.



---

archive/issue_events_085937.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-20T01:29:58Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85937"
}
```



---

archive/issue_events_085938.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-04-20T01:29:58Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85938"
}
```



---

archive/issue_comments_058968.json:
```json
{
    "body": "<div id=\"comment:31\" align=\"right\">Comment 31</div>\n\nI get test failures in sagenb/notebook/cell.py and sagenb/notebook/notebook.py which seem unrelated to this ticket on the spkg .p0 I post with above, as well as the sagenb/notebook/worksheet.py errors which are dealt with in timdumol's updated patch.  Having an \"official\" sagenb package to test would be really great.  Otherwise the following patch is the only one that has to be applied to the Sage library.",
    "created_at": "2010-04-20T01:29:58Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58968",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:31" align="right">Comment 31</div>

I get test failures in sagenb/notebook/cell.py and sagenb/notebook/notebook.py which seem unrelated to this ticket on the spkg .p0 I post with above, as well as the sagenb/notebook/worksheet.py errors which are dealt with in timdumol's updated patch.  Having an "official" sagenb package to test would be really great.  Otherwise the following patch is the only one that has to be applied to the Sage library.



---

archive/issue_comments_058969.json:
```json
{
    "body": "Attachment: **[trac_7665-r-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-r-plotting.patch.gz)**\n\nBased on 4.3.5 - this is the only patch to apply to main Sage library",
    "created_at": "2010-04-20T01:31:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58969",
    "user": "https://github.com/kcrisman"
}
```

Attachment: **[trac_7665-r-plotting.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-r-plotting.patch.gz)**

Based on 4.3.5 - this is the only patch to apply to main Sage library



---

archive/issue_comments_058970.json:
```json
{
    "body": "<div id=\"comment:32\" align=\"right\">Comment 32</div>\n\nNeed to apply new R spkg [http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg) and some new version of sagenb package to test this, as well as the Sage library patch.",
    "created_at": "2010-04-20T01:41:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58970",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:32" align="right">Comment 32</div>

Need to apply new R spkg [http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg) and some new version of sagenb package to test this, as well as the Sage library patch.



---

archive/issue_comments_058971.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">Comment 33</div>\n\nThe SageNB package version suitable for testing this is at #8727.",
    "created_at": "2010-04-20T16:14:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58971",
    "user": "https://github.com/TimDumol"
}
```

<div id="comment:33" align="right">Comment 33</div>

The SageNB package version suitable for testing this is at #8727.



---

archive/issue_comments_058972.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">Comment 34</div>\n\n1. You need `::` I think in from of several `sage:` blocks in the sage library patch. E.g., \n\n```\n \t976\t        lattices package), it is advisable to either use an interactive plotting device \n \t977\t        or to use the notebook.  The following examples are not tested, because they \n \t978\t        differ depending on operating system. \n                    .... sage:\n```\n\n2. In the sagenb patch, there is a spelling error:\n\n```\n        # know it's ID. __SAGE_TMP_DIR__ is used in executing in non-Sage systems.\n```\nBut that should be \"its\".  This is propagated by this patch, but not caused by it.  (This is probably originally my fault, from long ago.)\n\n3.  Tests pass in the SAge library fine on both Linux and OS X (bravo!). \n\nSo I think fixing a few typos, testing a little more in the notebook, and we're good to go.",
    "created_at": "2010-04-24T23:33:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58972",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:34" align="right">Comment 34</div>

1. You need `::` I think in from of several `sage:` blocks in the sage library patch. E.g., 

```
 	976	        lattices package), it is advisable to either use an interactive plotting device 
 	977	        or to use the notebook.  The following examples are not tested, because they 
 	978	        differ depending on operating system. 
                    .... sage:
```

2. In the sagenb patch, there is a spelling error:

```
        # know it's ID. __SAGE_TMP_DIR__ is used in executing in non-Sage systems.
```
But that should be "its".  This is propagated by this patch, but not caused by it.  (This is probably originally my fault, from long ago.)

3.  Tests pass in the SAge library fine on both Linux and OS X (bravo!). 

So I think fixing a few typos, testing a little more in the notebook, and we're good to go.



---

archive/issue_comments_058973.json:
```json
{
    "body": "Attachment: **[trac_7665_sagelibrary-part2.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665_sagelibrary-part2.patch.gz)**\n\nAttachment: **[trac_7665-sagenb-rebased-against-sagenb0.8.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-sagenb-rebased-against-sagenb0.8.patch.gz)**\n\nI rebased this against the new sagenb-0.8, and fixed the \"it's\" --> \"its\" issue.  and tested.",
    "created_at": "2010-04-24T23:43:47Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58973",
    "user": "https://github.com/williamstein"
}
```

Attachment: **[trac_7665_sagelibrary-part2.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665_sagelibrary-part2.patch.gz)**

Attachment: **[trac_7665-sagenb-rebased-against-sagenb0.8.patch.gz](https://github.com/sagemath/sage/files/ticket7665/trac_7665-sagenb-rebased-against-sagenb0.8.patch.gz)**

I rebased this against the new sagenb-0.8, and fixed the "it's" --> "its" issue.  and tested.



---

archive/issue_comments_058974.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">Comment 35</div>\n\nPositive review, subject to anybody at all signing off on my referee patch (which is pure documentation) and sagenb rebase.",
    "created_at": "2010-04-24T23:46:37Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58974",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:35" align="right">Comment 35</div>

Positive review, subject to anybody at all signing off on my referee patch (which is pure documentation) and sagenb rebase.



---

archive/issue_comments_058975.json:
```json
{
    "body": "Reviewer: **William Stein, John Verzani**",
    "created_at": "2010-04-25T00:04:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58975",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **William Stein, John Verzani**



---

archive/issue_comments_058976.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">Comment 36</div>\n\nThis is fine - the r.py file was not in fact converted to ReST, so I was very reluctant to start doing so since I didn't have the time to convert the whole file properly to it.  The patch to the sagenb looks fine; assuming the package installs correctly on 4.3.5 and this patch applies and performs as it should, positive review.  I am adding John Verzani to the reviewer list since he provided invaluable help in testing early version of these ideas, esp. in the notebook with %r.",
    "created_at": "2010-04-25T00:04:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58976",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:36" align="right">Comment 36</div>

This is fine - the r.py file was not in fact converted to ReST, so I was very reluctant to start doing so since I didn't have the time to convert the whole file properly to it.  The patch to the sagenb looks fine; assuming the package installs correctly on 4.3.5 and this patch applies and performs as it should, positive review.  I am adding John Verzani to the reviewer list since he provided invaluable help in testing early version of these ideas, esp. in the notebook with %r.



---

archive/issue_events_085939.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-04-25T00:13:41Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85939"
}
```



---

archive/issue_events_085940.json:
```json
{
    "actor": "https://github.com/rbeezer",
    "created_at": "2010-04-25T00:13:41Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85940"
}
```



---

archive/issue_comments_058977.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">Comment 37</div>\n\nRecent two patches both apply and build, library-part2 is just documentation changes.\n\nI got an r.plot() out just fine, though an r.bwplot() didn't do anything.\n\nSo the recent changes by was look just fine, ie this is a sign-off on those, so as mentioned I'm changing this to positive review.",
    "created_at": "2010-04-25T00:13:41Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58977",
    "user": "https://github.com/rbeezer"
}
```

<div id="comment:37" align="right">Comment 37</div>

Recent two patches both apply and build, library-part2 is just documentation changes.

I got an r.plot() out just fine, though an r.bwplot() didn't do anything.

So the recent changes by was look just fine, ie this is a sign-off on those, so as mentioned I'm changing this to positive review.



---

archive/issue_comments_058978.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">Comment 38</div>\n\nYou need to call r.dev_off() to get the r.bwplot() guy.  Great!",
    "created_at": "2010-04-25T00:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58978",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:38" align="right">Comment 38</div>

You need to call r.dev_off() to get the r.bwplot() guy.  Great!



---

archive/issue_comments_058979.json:
```json
{
    "body": "Changed reviewer from **William Stein, John Verzani** to **William Stein, John Verzani, Rob Beezer**",
    "created_at": "2010-04-25T00:16:46Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58979",
    "user": "https://github.com/kcrisman"
}
```

Changed reviewer from **William Stein, John Verzani** to **William Stein, John Verzani, Rob Beezer**



---

archive/issue_comments_058980.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">Comment 39</div>\n\nTo release manager: This depends on the sagenb 0.8 package, and requires the spkg [http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg), the Sage library patch trac_7665-r-plotting.patch, and the two reviewer patches from was (one for the Sage library, one for sagenb which will presumably have to be part of sagenb 0.8.1).  At least I think that's right.",
    "created_at": "2010-04-25T00:29:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58980",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:39" align="right">Comment 39</div>

To release manager: This depends on the sagenb 0.8 package, and requires the spkg [http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg](http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg), the Sage library patch trac_7665-r-plotting.patch, and the two reviewer patches from was (one for the Sage library, one for sagenb which will presumably have to be part of sagenb 0.8.1).  At least I think that's right.



---

archive/issue_comments_058981.json:
```json
{
    "body": "<div id=\"comment:40\" align=\"right\">Comment 40</div>\n\nMerged into sagneb-0.8.p0 in sage-4.4.1.alpha2",
    "created_at": "2010-04-29T05:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58981",
    "user": "https://github.com/williamstein"
}
```

<div id="comment:40" align="right">Comment 40</div>

Merged into sagneb-0.8.p0 in sage-4.4.1.alpha2



---

archive/issue_comments_058982.json:
```json
{
    "body": "Merged: **4.4.1.alpha2**",
    "created_at": "2010-04-29T05:26:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58982",
    "user": "https://github.com/williamstein"
}
```

Merged: **4.4.1.alpha2**



---

archive/issue_events_085941.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-29T05:26:14Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85941"
}
```



---

archive/issue_events_085942.json:
```json
{
    "actor": "https://github.com/williamstein",
    "created_at": "2010-04-29T05:26:14Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7665#event-85942"
}
```



---

archive/issue_comments_058983.json:
```json
{
    "body": "<div id=\"comment:41\" align=\"right\">Comment 41</div>\n\n[\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u0440\u043e \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0445](http://rapidshare.in.ua/)",
    "created_at": "2010-04-30T14:38:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58983",
    "user": "https://github.com/sagetrac-bascorp"
}
```

<div id="comment:41" align="right">Comment 41</div>

[картинки про животных](http://rapidshare.in.ua/)



---

archive/issue_comments_058984.json:
```json
{
    "body": "Changed merged from **4.4.1.alpha2** to **sage-4.4.1.alpha2**",
    "created_at": "2010-05-03T01:06:36Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58984",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Changed merged from **4.4.1.alpha2** to **sage-4.4.1.alpha2**



---

archive/issue_comments_058985.json:
```json
{
    "body": "<div id=\"comment:43\" align=\"right\">Comment 43</div>\n\nThe updated R spkg\n\nhttp://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg\n\nwas not merged in Sage 4.4.1 at all. I merged that spkg in Sage 4.4.2.rc0.",
    "created_at": "2010-05-14T23:46:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58985",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:43" align="right">Comment 43</div>

The updated R spkg

http://sage.math.washington.edu/home/kcrisman/r-2.10.1.p1.spkg

was not merged in Sage 4.4.1 at all. I merged that spkg in Sage 4.4.2.rc0.



---

archive/issue_comments_058986.json:
```json
{
    "body": "Changed author from **Karl-Dieter Crisman, Tim Joseph Dumol** to **Karl-Dieter Crisman, Tim Dumol**",
    "created_at": "2016-07-14T07:35:43Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7665",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7665#issuecomment-58986",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Karl-Dieter Crisman, Tim Joseph Dumol** to **Karl-Dieter Crisman, Tim Dumol**
