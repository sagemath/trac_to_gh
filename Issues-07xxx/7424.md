# Issue 7424: inconsistency between constructors SL and PSL

archive/issues_007424.json:
```json
{
    "assignees": [],
    "body": "Probably because these are implemented as different classes (matrix group versus permutation group), the constructors for `SL` and `PSL` have slightly different behaviour.  In particular, `PSL` does not take a field argument, and the error message it gives is misleading.  We should just make it behave exactly like `SL`:\n\n```\n[ghitza@artin ~]$ sage\n----------------------------------------------------------------------\n| Sage Version 4.2, Release Date: 2009-10-24                         |\n| Type notebook() for the GUI, and license() for information.        |\n----------------------------------------------------------------------\nsage: SL(2, 7)\nSpecial Linear Group of degree 2 over Finite Field of size 7\nsage: SL(2, GF(7))\nSpecial Linear Group of degree 2 over Finite Field of size 7\nsage: PSL(2, 7)\nPermutation Group with generators [(3,7,5)(4,8,6), (1,2,6)(3,4,8)]\nsage: PSL(2, GF(7))\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n\n/home/ghitza/.sage/temp/artin/31630/_home_ghitza__sage_init_sage_0.py in <module>()\n\n/home/ghitza/sage-stable/local/lib/python2.6/site-packages/sage/groups/perm_gps/permgroup_named.pyc in __init__(self, n, q, name)\n    645         else:\n    646             id = 'PSL(%s,%s)'%(n,q)\n--> 647         PermutationGroup_generic.__init__(self, gap_group=id)\n    648         self._q = q\n    649         self._base_ring = GF(q, name=name)\n\n/home/ghitza/sage-stable/local/lib/python2.6/site-packages/sage/groups/perm_gps/permgroup.pyc in __init__(self, gens, gap_group, canonicalize)\n    334         if gens is None:\n    335             self._gap_string = gap_group if isinstance(gap_group, str) else str(gap_group)\n--> 336             self._gens = self._gens_from_gap()\n    337             return\n    338 \n\n/home/ghitza/sage-stable/local/lib/python2.6/site-packages/sage/groups/perm_gps/permgroup.pyc in _gens_from_gap(self)\n    363             gens = self._gap_().GeneratorsOfGroup()\n    364         except TypeError, s:\n--> 365             raise RuntimeError, \"(It might be necessary to install the database_gap optional Sage package, if you haven't already.)\\n%s\"%s\n    366         gens = [self._element_class()(gens[n],self, check=False)\n    367                        for n in range(1, int(gens.Length())+1)]\n\nRuntimeError: (It might be necessary to install the database_gap optional Sage package, if you haven't already.)\nGap produced error output\nVariable: 'Finite' must have a value\n\nSyntax error: ) expected\n$sage3:=PSL(2,Finite Field of size 7);;\n                         ^\n\n   executing $sage3:=PSL(2,Finite Field of size 7);;\n```\n\n\nAssignee: **joyner**\n\nReviewer: **Alex Ghitza**\n\nAuthor: **Fr\u00e9d\u00e9ric Chapoton**\n\nMerged: **sage-5.12.beta3**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7424_\n\n",
    "closed_at": "2013-08-20T12:57:30Z",
    "created_at": "2009-11-10T22:51:48Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
        "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
        "https://github.com/sagemath/sage/labels/bug"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-5.12",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "inconsistency between constructors SL and PSL",
    "type": "issue",
    "updated_at": "2013-08-20T12:57:30Z",
    "url": "https://github.com/sagemath/sage/issues/7424",
    "user": "https://github.com/aghitza"
}
```
Probably because these are implemented as different classes (matrix group versus permutation group), the constructors for `SL` and `PSL` have slightly different behaviour.  In particular, `PSL` does not take a field argument, and the error message it gives is misleading.  We should just make it behave exactly like `SL`:

```
[ghitza@artin ~]$ sage
----------------------------------------------------------------------
| Sage Version 4.2, Release Date: 2009-10-24                         |
| Type notebook() for the GUI, and license() for information.        |
----------------------------------------------------------------------
sage: SL(2, 7)
Special Linear Group of degree 2 over Finite Field of size 7
sage: SL(2, GF(7))
Special Linear Group of degree 2 over Finite Field of size 7
sage: PSL(2, 7)
Permutation Group with generators [(3,7,5)(4,8,6), (1,2,6)(3,4,8)]
sage: PSL(2, GF(7))
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)

/home/ghitza/.sage/temp/artin/31630/_home_ghitza__sage_init_sage_0.py in <module>()

/home/ghitza/sage-stable/local/lib/python2.6/site-packages/sage/groups/perm_gps/permgroup_named.pyc in __init__(self, n, q, name)
    645         else:
    646             id = 'PSL(%s,%s)'%(n,q)
--> 647         PermutationGroup_generic.__init__(self, gap_group=id)
    648         self._q = q
    649         self._base_ring = GF(q, name=name)

/home/ghitza/sage-stable/local/lib/python2.6/site-packages/sage/groups/perm_gps/permgroup.pyc in __init__(self, gens, gap_group, canonicalize)
    334         if gens is None:
    335             self._gap_string = gap_group if isinstance(gap_group, str) else str(gap_group)
--> 336             self._gens = self._gens_from_gap()
    337             return
    338 

/home/ghitza/sage-stable/local/lib/python2.6/site-packages/sage/groups/perm_gps/permgroup.pyc in _gens_from_gap(self)
    363             gens = self._gap_().GeneratorsOfGroup()
    364         except TypeError, s:
--> 365             raise RuntimeError, "(It might be necessary to install the database_gap optional Sage package, if you haven't already.)\n%s"%s
    366         gens = [self._element_class()(gens[n],self, check=False)
    367                        for n in range(1, int(gens.Length())+1)]

RuntimeError: (It might be necessary to install the database_gap optional Sage package, if you haven't already.)
Gap produced error output
Variable: 'Finite' must have a value

Syntax error: ) expected
$sage3:=PSL(2,Finite Field of size 7);;
                         ^

   executing $sage3:=PSL(2,Finite Field of size 7);;
```


Assignee: **joyner**

Reviewer: **Alex Ghitza**

Author: **Frédéric Chapoton**

Merged: **sage-5.12.beta3**

_Issue created by migration from https://trac.sagemath.org/ticket/7424_





---

archive/issue_events_080086.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-11-10T22:51:48Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80086"
}
```



---

archive/issue_events_080087.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-11-10T22:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/component%3A%20group%20theory",
    "label_color": "0000ff",
    "label_name": "component: group theory",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80087"
}
```



---

archive/issue_events_080088.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-11-10T22:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/p4%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80088"
}
```



---

archive/issue_events_080089.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2009-11-10T22:51:48Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/bug",
    "label_color": "d73a4a",
    "label_name": "bug",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80089"
}
```



---

archive/issue_comments_055989.json:
```json
{
    "body": "<a id='comment:1'>Comment 1:</a>\nAttachment: **[trac_7424.patch.gz](https://github.com/sagemath/sage/files/ticket7424/trac_7424.patch.gz)**\n\nhere is a patch, that also cleans a bit the doc",
    "created_at": "2013-08-02T19:17:20Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7424#issuecomment-55989",
    "user": "https://github.com/fchapoton"
}
```

<a id='comment:1'>Comment 1:</a>
Attachment: **[trac_7424.patch.gz](https://github.com/sagemath/sage/files/ticket7424/trac_7424.patch.gz)**

here is a patch, that also cleans a bit the doc



---

archive/issue_events_080090.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2013-08-02T20:39:04Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80090"
}
```



---

archive/issue_events_080091.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2013-08-02T20:39:04Z",
    "event": "demilestoned",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "milestone_number": null,
    "milestone_title": "sage-5.11",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80091"
}
```



---

archive/issue_events_080092.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2013-08-02T20:39:04Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "milestone_number": null,
    "milestone_title": "sage-5.12",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80092"
}
```



---

archive/issue_comments_055990.json:
```json
{
    "body": "Author: **Frederic Chapoton**",
    "created_at": "2013-08-02T20:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7424#issuecomment-55990",
    "user": "https://github.com/aghitza"
}
```

Author: **Frederic Chapoton**



---

archive/issue_comments_055991.json:
```json
{
    "body": "Reviewer: **Alex Ghitza**",
    "created_at": "2013-08-02T20:41:08Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7424#issuecomment-55991",
    "user": "https://github.com/aghitza"
}
```

Reviewer: **Alex Ghitza**



---

archive/issue_events_080093.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2013-08-02T20:41:08Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80093"
}
```



---

archive/issue_events_080094.json:
```json
{
    "actor": "https://github.com/aghitza",
    "created_at": "2013-08-02T20:41:08Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80094"
}
```



---

archive/issue_comments_055992.json:
```json
{
    "body": "Changed author from **Frederic Chapoton** to **Fr\u00e9d\u00e9ric Chapoton**",
    "created_at": "2013-08-03T15:41:25Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7424#issuecomment-55992",
    "user": "https://github.com/fchapoton"
}
```

Changed author from **Frederic Chapoton** to **Frédéric Chapoton**



---

archive/issue_comments_055993.json:
```json
{
    "body": "Merged: **sage-5.12.beta3**",
    "created_at": "2013-08-20T12:57:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7424#issuecomment-55993",
    "user": "https://github.com/jdemeyer"
}
```

Merged: **sage-5.12.beta3**



---

archive/issue_events_080095.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-20T12:57:30Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80095"
}
```



---

archive/issue_events_080096.json:
```json
{
    "actor": "https://github.com/jdemeyer",
    "created_at": "2013-08-20T12:57:30Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7424",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7424#event-80096"
}
```
