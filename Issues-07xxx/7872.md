# Issue 7872: Adding coordinate transformations to plot3d

archive/issues_007872.json:
```json
{
    "assignees": [],
    "body": "While developing a command called transform_plot3d, that generalized ploting in diferent coordinate systems, Jason Grout suggested to me that such a command would be better implemented within plot3d.\n\nI agreed to that, so I propose an adition to plot3d's syntax: \"plot3d(function,var1range,var2range,transformation=None,**kwds)\" where transformation is a 4-tuple containing 3 functions of arity 3, and a variable which is to be interpreted as the function to be ploted. Like this (r*cos(fi),r*sin(fi),z,r), so the function will be ploted as r.\n\nExamples can be found in [http://www.sagenb.org/home/pub/1328/](http://www.sagenb.org/home/pub/1328/).\n\nI've just added a patch.\n\nCC:  @sagetrac-wcauchois @jasongrout @sagetrac-mhampton @sagetrac-olazo @kcrisman\n\nComponent: **graphics**\n\nAuthor: **Bill Cauchois, Oscar Gerardo Lazo Arjona, Jason Grout**\n\nReviewer: **Karl-Dieter Crisman, Jason Grout**\n\nMerged: **sage-4.3.4.alpha0**\n\n_Issue created by migration from https://trac.sagemath.org/ticket/7872_\n\n",
    "closed_at": "2010-03-03T14:09:38Z",
    "created_at": "2010-01-08T17:44:47Z",
    "labels": [
        "https://github.com/sagemath/sage/labels/c%3A%20graphics",
        "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
        "https://github.com/sagemath/sage/labels/enhancement"
    ],
    "milestone": "https://github.com/sagemath/sage/milestones/sage-4.3.4",
    "reactions": [],
    "repository": "https://github.com/sagemath/sage",
    "title": "Adding coordinate transformations to plot3d",
    "type": "issue",
    "updated_at": "2010-03-03T14:09:38Z",
    "url": "https://github.com/sagemath/sage/issues/7872",
    "user": "https://github.com/sagetrac-olazo"
}
```
While developing a command called transform_plot3d, that generalized ploting in diferent coordinate systems, Jason Grout suggested to me that such a command would be better implemented within plot3d.

I agreed to that, so I propose an adition to plot3d's syntax: "plot3d(function,var1range,var2range,transformation=None,**kwds)" where transformation is a 4-tuple containing 3 functions of arity 3, and a variable which is to be interpreted as the function to be ploted. Like this (r*cos(fi),r*sin(fi),z,r), so the function will be ploted as r.

Examples can be found in [http://www.sagenb.org/home/pub/1328/](http://www.sagenb.org/home/pub/1328/).

I've just added a patch.

CC:  @sagetrac-wcauchois @jasongrout @sagetrac-mhampton @sagetrac-olazo @kcrisman

Component: **graphics**

Author: **Bill Cauchois, Oscar Gerardo Lazo Arjona, Jason Grout**

Reviewer: **Karl-Dieter Crisman, Jason Grout**

Merged: **sage-4.3.4.alpha0**

_Issue created by migration from https://trac.sagemath.org/ticket/7872_





---

archive/issue_events_097620.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-08T17:44:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/c%3A%20graphics",
    "label_color": "0000ff",
    "label_name": "c: graphics",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97620"
}
```



---

archive/issue_events_097621.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-08T17:44:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97621"
}
```



---

archive/issue_events_097622.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-08T17:44:47Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/enhancement",
    "label_color": "696969",
    "label_name": "enhancement",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97622"
}
```



---

archive/issue_events_097623.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-08T17:44:47Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "subject": "https://github.com/sagetrac-olazo",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97623"
}
```



---

archive/issue_events_097624.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-08T17:53:52Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97624"
}
```



---

archive/issue_comments_059874.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -37,3 +37,5 @@\n Examples can be found in [http://www.sagenb.org/home/omologos/9/](http://www.sagenb.org/home/omologos/9/).\n \n Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets [https://github.com/sagemath/sage/issues/7850](https://github.com/sagemath/sage/issues/7850) and [https://github.com/sagemath/sage/issues/7869](https://github.com/sagemath/sage/issues/7869) should be updated\n+\n+For the sake of consistency, it would also be good if a similar option was added to plot: plot(f,xrange,transform=None), in order to support polar_plot from plot\n``````\n",
    "created_at": "2010-01-08T17:53:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59874",
    "user": "https://github.com/sagetrac-olazo"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -37,3 +37,5 @@
 Examples can be found in [http://www.sagenb.org/home/omologos/9/](http://www.sagenb.org/home/omologos/9/).
 
 Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets [https://github.com/sagemath/sage/issues/7850](https://github.com/sagemath/sage/issues/7850) and [https://github.com/sagemath/sage/issues/7869](https://github.com/sagemath/sage/issues/7869) should be updated
+
+For the sake of consistency, it would also be good if a similar option was added to plot: plot(f,xrange,transform=None), in order to support polar_plot from plot
``````




---

archive/issue_comments_059875.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -36,6 +36,6 @@\n \n Examples can be found in [http://www.sagenb.org/home/omologos/9/](http://www.sagenb.org/home/omologos/9/).\n \n-Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets [https://github.com/sagemath/sage/issues/7850](https://github.com/sagemath/sage/issues/7850) and [https://github.com/sagemath/sage/issues/7869](https://github.com/sagemath/sage/issues/7869) should be updated\n+Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets #7850 and #7869 should be updated.\n \n For the sake of consistency, it would also be good if a similar option was added to plot: plot(f,xrange,transform=None), in order to support polar_plot from plot\n``````\n",
    "created_at": "2010-01-08T18:03:52Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59875",
    "user": "https://github.com/sagetrac-olazo"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -36,6 +36,6 @@
 
 Examples can be found in [http://www.sagenb.org/home/omologos/9/](http://www.sagenb.org/home/omologos/9/).
 
-Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets [https://github.com/sagemath/sage/issues/7850](https://github.com/sagemath/sage/issues/7850) and [https://github.com/sagemath/sage/issues/7869](https://github.com/sagemath/sage/issues/7869) should be updated
+Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets #7850 and #7869 should be updated.
 
 For the sake of consistency, it would also be good if a similar option was added to plot: plot(f,xrange,transform=None), in order to support polar_plot from plot
``````




---

archive/issue_comments_059876.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -34,7 +34,7 @@\n         return parametric_plot(R,v1ran,v2ran,**kwds)\n ```\n \n-Examples can be found in [http://www.sagenb.org/home/omologos/9/](http://www.sagenb.org/home/omologos/9/).\n+Examples can be found in [http://www.sagenb.org/home/pub/1328/](http://www.sagenb.org/home/pub/1328/).\n \n Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets #7850 and #7869 should be updated.\n \n``````\n",
    "created_at": "2010-01-08T19:59:24Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59876",
    "user": "https://github.com/sagetrac-olazo"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -34,7 +34,7 @@
         return parametric_plot(R,v1ran,v2ran,**kwds)
 ```
 
-Examples can be found in [http://www.sagenb.org/home/omologos/9/](http://www.sagenb.org/home/omologos/9/).
+Examples can be found in [http://www.sagenb.org/home/pub/1328/](http://www.sagenb.org/home/pub/1328/).
 
 Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets #7850 and #7869 should be updated.
 
``````




---

archive/issue_comments_059877.json:
```json
{
    "body": "<div id=\"comment:4\" align=\"right\">comment:4</div>\n\nHi! William directed me to your thread on sage-devel. Since I have experience working on 3D plotting, I think I could help integrate this code into Sage.",
    "created_at": "2010-01-11T07:21:30Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59877",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:4" align="right">comment:4</div>

Hi! William directed me to your thread on sage-devel. Since I have experience working on 3D plotting, I think I could help integrate this code into Sage.



---

archive/issue_comments_059878.json:
```json
{
    "body": "based on sage 4.3.1.alpha1",
    "created_at": "2010-01-12T05:29:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59878",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

based on sage 4.3.1.alpha1



---

archive/issue_comments_059879.json:
```json
{
    "body": "<div id=\"comment:5\" align=\"right\">comment:5</div>\n\nAttachment: **[trac_7872.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872.patch.gz)**\n\nThe patch I just attached represents my initial work on this issue. I added Oscar's code to plot3d() to implement the transformation keyword parameter, and I added the two new plotting functions spherical_plot3d and cylindrical_plot3d.\n\nI made some minor changes to the original code. I moved the formulae for the transformations for spherical and cylindrical coordinates out of the body of plot3d, and into the bodies of spherical_plot3d and cylindrical_plot3d, since I thought that was a better place for them. I also added some error handling; the urange and vrange given to plot3d may be 2-tuples, in which case the variables are implicit -- but we expect urange[0] and vrange[0] to be the plot variables.\n\nWe need to add some documentation for the new features. I think I can draw upon the examples Oscar provided in his published worksheets to create doctests for the new functions. Oscar, could you help me come up with descriptions of cylindrical_plot3d and spherical_plot3d for use in their docstrings? And more examples are always helpful.",
    "created_at": "2010-01-12T05:46:29Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59879",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:5" align="right">comment:5</div>

Attachment: **[trac_7872.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872.patch.gz)**

The patch I just attached represents my initial work on this issue. I added Oscar's code to plot3d() to implement the transformation keyword parameter, and I added the two new plotting functions spherical_plot3d and cylindrical_plot3d.

I made some minor changes to the original code. I moved the formulae for the transformations for spherical and cylindrical coordinates out of the body of plot3d, and into the bodies of spherical_plot3d and cylindrical_plot3d, since I thought that was a better place for them. I also added some error handling; the urange and vrange given to plot3d may be 2-tuples, in which case the variables are implicit -- but we expect urange[0] and vrange[0] to be the plot variables.

We need to add some documentation for the new features. I think I can draw upon the examples Oscar provided in his published worksheets to create doctests for the new functions. Oscar, could you help me come up with descriptions of cylindrical_plot3d and spherical_plot3d for use in their docstrings? And more examples are always helpful.



---

archive/issue_comments_059880.json:
```json
{
    "body": "<div id=\"comment:6\" align=\"right\">comment:6</div>\n\nMore examples now available at the bottom of: [http://sagenb.org/home/pub/1328/](http://sagenb.org/home/pub/1328/). I'll do the descriptions later.",
    "created_at": "2010-01-12T16:16:00Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59880",
    "user": "https://github.com/sagetrac-olazo"
}
```

<div id="comment:6" align="right">comment:6</div>

More examples now available at the bottom of: [http://sagenb.org/home/pub/1328/](http://sagenb.org/home/pub/1328/). I'll do the descriptions later.



---

archive/issue_comments_059881.json:
```json
{
    "body": "<div id=\"comment:7\" align=\"right\">comment:7</div>\n\nI have attatced a proposal for a docstring in spherical_plot #7850 . Also, I checked your code. Do you think it is best to use \"spherical_plot3d\" instead of \"spherical_plot\"? I find the 3d redundant, and I like to type less. Also, I noticed that your implementation will not allow adaptative refinement to be used together with \"transformation\". I have never used that option and I don't know whether it is important. When my plots are not sufficiently rounded I use plot_points, and that usually does the trick.",
    "created_at": "2010-01-13T01:15:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59881",
    "user": "https://github.com/sagetrac-olazo"
}
```

<div id="comment:7" align="right">comment:7</div>

I have attatced a proposal for a docstring in spherical_plot #7850 . Also, I checked your code. Do you think it is best to use "spherical_plot3d" instead of "spherical_plot"? I find the 3d redundant, and I like to type less. Also, I noticed that your implementation will not allow adaptative refinement to be used together with "transformation". I have never used that option and I don't know whether it is important. When my plots are not sufficiently rounded I use plot_points, and that usually does the trick.



---

archive/issue_comments_059882.json:
```json
{
    "body": "Description changed:\n``````diff\n--- \n+++ \n@@ -2,40 +2,6 @@\n \n I agreed to that, so I propose an adition to plot3d's syntax: \"plot3d(function,var1range,var2range,transformation=None,**kwds)\" where transformation is a 4-tuple containing 3 functions of arity 3, and a variable which is to be interpreted as the function to be ploted. Like this (r*cos(fi),r*sin(fi),z,r), so the function will be ploted as r.\n \n-It's inclution within plot3d would be something on the likes of\n-\n-```\n-def plot3d_new(f,v1ran,v2ran,transformation=None,**kwds):\n-    if transformation==None:\n-        return plot3d(f,v1ran,v2ran,**kwds)\n-    else:\n-        v1=v1ran[0]\n-        v2=v2ran[0]\n-\n-        if transformation=='spherical':\n-            r=var('r')\n-            transformation=(r*cos(v1)*sin(v2),r*sin(v1)*sin(v2),r*cos(v2),r)\n-        elif transformation=='cylindrical':\n-            r=var('r')\n-            transformation=(r*cos(v1),r*sin(v1),v2,r)\n-        elif str(type(transformation))==\"<type 'str'>\":\n-            print 'Warning: the transformation given is not amongst the options, it will be ignored'\n-            return plot3d(f,v1ran,v2ran,**kwds)\n-\n-        fvar=transformation[3]\n-        transformation=(transformation[0],transformation[1],transformation[2])\n-\n-        try:\n-            R=[t.subs({fvar:f}) for t in transformation]\n-        except:\n-            def subs_func(t):\n-                return lambda x,y: t.subs({fvar:f(x,y), v1:x, v2:y})\n-            R=map(subs_func,transformation)\n-        return parametric_plot(R,v1ran,v2ran,**kwds)\n-```\n-\n Examples can be found in [http://www.sagenb.org/home/pub/1328/](http://www.sagenb.org/home/pub/1328/).\n \n-Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets #7850 and #7869 should be updated.\n-\n-For the sake of consistency, it would also be good if a similar option was added to plot: plot(f,xrange,transform=None), in order to support polar_plot from plot\n+I've just added a patch.\n``````\n",
    "created_at": "2010-01-24T19:38:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59882",
    "user": "https://github.com/sagetrac-olazo"
}
```

Description changed:
``````diff
--- 
+++ 
@@ -2,40 +2,6 @@
 
 I agreed to that, so I propose an adition to plot3d's syntax: "plot3d(function,var1range,var2range,transformation=None,**kwds)" where transformation is a 4-tuple containing 3 functions of arity 3, and a variable which is to be interpreted as the function to be ploted. Like this (r*cos(fi),r*sin(fi),z,r), so the function will be ploted as r.
 
-It's inclution within plot3d would be something on the likes of
-
-```
-def plot3d_new(f,v1ran,v2ran,transformation=None,**kwds):
-    if transformation==None:
-        return plot3d(f,v1ran,v2ran,**kwds)
-    else:
-        v1=v1ran[0]
-        v2=v2ran[0]
-
-        if transformation=='spherical':
-            r=var('r')
-            transformation=(r*cos(v1)*sin(v2),r*sin(v1)*sin(v2),r*cos(v2),r)
-        elif transformation=='cylindrical':
-            r=var('r')
-            transformation=(r*cos(v1),r*sin(v1),v2,r)
-        elif str(type(transformation))=="<type 'str'>":
-            print 'Warning: the transformation given is not amongst the options, it will be ignored'
-            return plot3d(f,v1ran,v2ran,**kwds)
-
-        fvar=transformation[3]
-        transformation=(transformation[0],transformation[1],transformation[2])
-
-        try:
-            R=[t.subs({fvar:f}) for t in transformation]
-        except:
-            def subs_func(t):
-                return lambda x,y: t.subs({fvar:f(x,y), v1:x, v2:y})
-            R=map(subs_func,transformation)
-        return parametric_plot(R,v1ran,v2ran,**kwds)
-```
-
 Examples can be found in [http://www.sagenb.org/home/pub/1328/](http://www.sagenb.org/home/pub/1328/).
 
-Spherical and cylindrical plots are now meant to be purely derived from plot3d. So tickets #7850 and #7869 should be updated.
-
-For the sake of consistency, it would also be good if a similar option was added to plot: plot(f,xrange,transform=None), in order to support polar_plot from plot
+I've just added a patch.
``````




---

archive/issue_comments_059883.json:
```json
{
    "body": "Attachment: **[13535.patch.gz](https://github.com/sagemath/sage/files/ticket7872/13535.patch.gz)**",
    "created_at": "2010-01-24T19:39:48Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59883",
    "user": "https://github.com/sagetrac-olazo"
}
```

Attachment: **[13535.patch.gz](https://github.com/sagemath/sage/files/ticket7872/13535.patch.gz)**



---

archive/issue_comments_059884.json:
```json
{
    "body": "<div id=\"comment:9\" align=\"right\">comment:9</div>\n\nI've just added a patch with some improvements as well as the docstrings. However, the docstrings of spherical_plot3d and cylindrical_plot3d are impropperly formated. I could not manage format them right. Please review!",
    "created_at": "2010-01-24T19:42:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59884",
    "user": "https://github.com/sagetrac-olazo"
}
```

<div id="comment:9" align="right">comment:9</div>

I've just added a patch with some improvements as well as the docstrings. However, the docstrings of spherical_plot3d and cylindrical_plot3d are impropperly formated. I could not manage format them right. Please review!



---

archive/issue_events_097625.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-24T19:42:15Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97625"
}
```



---

archive/issue_events_097626.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-01-24T19:42:15Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97626"
}
```



---

archive/issue_comments_059885.json:
```json
{
    "body": "Changed author from **olazo** to **olazo,wcauchois**",
    "created_at": "2010-01-24T20:58:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59885",
    "user": "https://github.com/sagetrac-olazo"
}
```

Changed author from **olazo** to **olazo,wcauchois**



---

archive/issue_events_097627.json:
```json
{
    "actor": "https://github.com/sagetrac-wcauchois",
    "created_at": "2010-01-25T02:03:28Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97627"
}
```



---

archive/issue_events_097628.json:
```json
{
    "actor": "https://github.com/sagetrac-wcauchois",
    "created_at": "2010-01-25T02:03:28Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97628"
}
```



---

archive/issue_comments_059886.json:
```json
{
    "body": "<div id=\"comment:11\" align=\"right\">comment:11</div>\n\nI will be uploading a patch very soon with some improvements to Oscar's code.",
    "created_at": "2010-01-25T02:03:28Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59886",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:11" align="right">comment:11</div>

I will be uploading a patch very soon with some improvements to Oscar's code.



---

archive/issue_comments_059887.json:
```json
{
    "body": "Attachment: **[trac_7872_new.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new.patch.gz)**\n\nbased on sage 4.3.1.rc0",
    "created_at": "2010-01-26T07:52:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59887",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

Attachment: **[trac_7872_new.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new.patch.gz)**

based on sage 4.3.1.rc0



---

archive/issue_comments_059888.json:
```json
{
    "body": "<div id=\"comment:12\" align=\"right\">comment:12</div>\n\nSo here is what I've been working on: a very unambiguous system for specifying predefined transformations, that will work with symbolic expressions and Python callables alike.\n\nIt has turned out to be a lot of work.\n\nJason, could you take a look and tell me what you think of the code and the documentation I've added?",
    "created_at": "2010-01-26T07:54:44Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59888",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:12" align="right">comment:12</div>

So here is what I've been working on: a very unambiguous system for specifying predefined transformations, that will work with symbolic expressions and Python callables alike.

It has turned out to be a lot of work.

Jason, could you take a look and tell me what you think of the code and the documentation I've added?



---

archive/issue_comments_059889.json:
```json
{
    "body": "<div id=\"comment:13\" align=\"right\">comment:13</div>\n\nI like how you incorporated olazo's work and your work.  Hooray for collaborative development.\n\nIn the first reading through, it looks great to me.  olazo: what do you think?",
    "created_at": "2010-01-26T08:06:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59889",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:13" align="right">comment:13</div>

I like how you incorporated olazo's work and your work.  Hooray for collaborative development.

In the first reading through, it looks great to me.  olazo: what do you think?



---

archive/issue_comments_059890.json:
```json
{
    "body": "<div id=\"comment:14\" align=\"right\">comment:14</div>\n\nIt seems fantastic to me! Many thanks to both of you!",
    "created_at": "2010-01-28T05:43:31Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59890",
    "user": "https://github.com/sagetrac-olazo"
}
```

<div id="comment:14" align="right">comment:14</div>

It seems fantastic to me! Many thanks to both of you!



---

archive/issue_events_097629.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-02-01T02:28:13Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97629"
}
```



---

archive/issue_events_097630.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-02-01T02:28:13Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97630"
}
```



---

archive/issue_events_097631.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-02-01T02:28:13Z",
    "event": "milestoned",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "milestone_number": null,
    "milestone_title": "sage-4.3.2",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97631"
}
```



---

archive/issue_comments_059891.json:
```json
{
    "body": "Changed author from **olazo,wcauchois** to **Bill Cauchois, Oscar Gerardo Lazo Arjona**",
    "created_at": "2010-02-04T03:10:07Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59891",
    "user": "https://github.com/kcrisman"
}
```

Changed author from **olazo,wcauchois** to **Bill Cauchois, Oscar Gerardo Lazo Arjona**



---

archive/issue_comments_059892.json:
```json
{
    "body": "Reviewer: **Karl-Dieter Crisman**",
    "created_at": "2010-02-05T19:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59892",
    "user": "https://github.com/kcrisman"
}
```

Reviewer: **Karl-Dieter Crisman**



---

archive/issue_events_097632.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-05T19:08:16Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97632"
}
```



---

archive/issue_events_097633.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-05T19:08:16Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97633"
}
```



---

archive/issue_comments_059893.json:
```json
{
    "body": "<div id=\"comment:17\" align=\"right\">comment:17</div>\n\nI haven't been able to do a thorough review yet, but in general I agree that this looks very nice!  Everything below should be interpreted as nitpicking; however, because of the last item (doctests) I must put this as 'needs work'.\n\nIn spherical_plot3d, it is a 'drop' of water, not a 'drom'.\n\nIn plot3d where the transformations are added, should it be\n\n```\nelif adaptive:\n```\nor \n\n```\nif adaptive:\n```\nThat is, does transformation exclude adaptive?  If so, this should be documented.  Also, shouldn't\n\n```\n+    from sage.symbolic.callable import is_CallableSymbolicExpression\n```\nbe done only if transformation is not None?\n\nThe `@`interact doctests don't really make sense in the command-line format.  I tried them nonetheless, and it popped up a bunch of jmol windows - looked nice!  But there must be a better way to doctest this; perhaps just A;B;C;D;E or something.\n\nAlso, why are Cylindrical and Spherical imported in plot3d/all.py?    It's not clear to me why someone would want that available but not just use e.g. spherical_plot3d or just import Spherical if they really needed it? \n\nAlso, doctests are needed for the abstract classes, and (for readability) a blank line between methods wouldn't hurt.",
    "created_at": "2010-02-05T19:08:16Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59893",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:17" align="right">comment:17</div>

I haven't been able to do a thorough review yet, but in general I agree that this looks very nice!  Everything below should be interpreted as nitpicking; however, because of the last item (doctests) I must put this as 'needs work'.

In spherical_plot3d, it is a 'drop' of water, not a 'drom'.

In plot3d where the transformations are added, should it be

```
elif adaptive:
```
or 

```
if adaptive:
```
That is, does transformation exclude adaptive?  If so, this should be documented.  Also, shouldn't

```
+    from sage.symbolic.callable import is_CallableSymbolicExpression
```
be done only if transformation is not None?

The `@`interact doctests don't really make sense in the command-line format.  I tried them nonetheless, and it popped up a bunch of jmol windows - looked nice!  But there must be a better way to doctest this; perhaps just A;B;C;D;E or something.

Also, why are Cylindrical and Spherical imported in plot3d/all.py?    It's not clear to me why someone would want that available but not just use e.g. spherical_plot3d or just import Spherical if they really needed it? 

Also, doctests are needed for the abstract classes, and (for readability) a blank line between methods wouldn't hurt.



---

archive/issue_comments_059894.json:
```json
{
    "body": "<div id=\"comment:18\" align=\"right\">comment:18</div>\n\nReplying to [@kcrisman](#comment:17):\n\nFirst of all, thanks for taking a look at this. Your comments are very thorough and I will respond to each of them in turn.\n\n> I haven't been able to do a thorough review yet, but in general I agree that this looks very nice!  Everything below should be interpreted as nitpicking; however, because of the last item (doctests) I must put this as 'needs work'.\n> \n> In spherical_plot3d, it is a 'drop' of water, not a 'drom'.\n\nYes, I think that's correct.\n\n> In plot3d where the transformations are added, should it be\n> \n> ```\n> elif adaptive:\n> ```\n> or \n> \n> ```\n> if adaptive:\n> ```\n> That is, does transformation exclude adaptive?  If so, this should be documented.  Also, shouldn't\n\nI think transformation excludes adaptive since parametric_plot3d doesn't support adaptive plots. I'll make sure to document this.\n\n> ```\n> +    from sage.symbolic.callable import is_CallableSymbolicExpression\n> ```\n> be done only if transformation is not None?\n\nSure. I don't see how that really matters though, since its just an import statement.\n\n> The `@`interact doctests don't really make sense in the command-line format.  I tried them nonetheless, and it popped up a bunch of jmol windows - looked nice!  But there must be a better way to doctest this; perhaps just A;B;C;D;E or something.\n\nHow about `show(A + B + C + D + E)` in the TESTS section below?\n\n> Also, why are Cylindrical and Spherical imported in plot3d/all.py?    It's not clear to me why someone would want that available but not just use e.g. spherical_plot3d or just import Spherical if they really needed it?\n\nThis is one of the major features of the transformation system. You can use spherical_plot3d, which will graph a function r in terms of phi and theta, or you can specify transformation=Spherical() which lets you choose the dependent and independent variables.\n\nFor example,\n\n```\nplot3d(..., transformation=Spherical('phi', ['r', 'theta']))\n```\nwill graph a function phi in terms of r and theta. So basically you get more flexibility by using Spherical(). Is there a way I could make that clearer in the documentation?\n\n> Also, doctests are needed for the abstract classes, and (for readability) a blank line between methods wouldn't hurt.\n\nOkay.",
    "created_at": "2010-02-08T01:53:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59894",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:18" align="right">comment:18</div>

Replying to [@kcrisman](#comment:17):

First of all, thanks for taking a look at this. Your comments are very thorough and I will respond to each of them in turn.

> I haven't been able to do a thorough review yet, but in general I agree that this looks very nice!  Everything below should be interpreted as nitpicking; however, because of the last item (doctests) I must put this as 'needs work'.
> 
> In spherical_plot3d, it is a 'drop' of water, not a 'drom'.

Yes, I think that's correct.

> In plot3d where the transformations are added, should it be
> 
> ```
> elif adaptive:
> ```
> or 
> 
> ```
> if adaptive:
> ```
> That is, does transformation exclude adaptive?  If so, this should be documented.  Also, shouldn't

I think transformation excludes adaptive since parametric_plot3d doesn't support adaptive plots. I'll make sure to document this.

> ```
> +    from sage.symbolic.callable import is_CallableSymbolicExpression
> ```
> be done only if transformation is not None?

Sure. I don't see how that really matters though, since its just an import statement.

> The `@`interact doctests don't really make sense in the command-line format.  I tried them nonetheless, and it popped up a bunch of jmol windows - looked nice!  But there must be a better way to doctest this; perhaps just A;B;C;D;E or something.

How about `show(A + B + C + D + E)` in the TESTS section below?

> Also, why are Cylindrical and Spherical imported in plot3d/all.py?    It's not clear to me why someone would want that available but not just use e.g. spherical_plot3d or just import Spherical if they really needed it?

This is one of the major features of the transformation system. You can use spherical_plot3d, which will graph a function r in terms of phi and theta, or you can specify transformation=Spherical() which lets you choose the dependent and independent variables.

For example,

```
plot3d(..., transformation=Spherical('phi', ['r', 'theta']))
```
will graph a function phi in terms of r and theta. So basically you get more flexibility by using Spherical(). Is there a way I could make that clearer in the documentation?

> Also, doctests are needed for the abstract classes, and (for readability) a blank line between methods wouldn't hurt.

Okay.



---

archive/issue_comments_059895.json:
```json
{
    "body": "based on sage 4.3.1.rc0",
    "created_at": "2010-02-08T04:06:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59895",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

based on sage 4.3.1.rc0



---

archive/issue_comments_059896.json:
```json
{
    "body": "Attachment: **[trac_7872_new-referee.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new-referee.patch.gz)**\n\nAttachment: **[trac_7872_new-all.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new-all.patch.gz)**\n\nbased on sage 4.3.1",
    "created_at": "2010-02-08T04:08:15Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59896",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

Attachment: **[trac_7872_new-referee.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new-referee.patch.gz)**

Attachment: **[trac_7872_new-all.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new-all.patch.gz)**

based on sage 4.3.1



---

archive/issue_comments_059897.json:
```json
{
    "body": "<div id=\"comment:19\" align=\"right\">comment:19</div>\n\nPlease take a look at the changes in trac_7872_new-referee.patch. You can apply trac_7872_new-all.patch to a new sage branch to get all of the changes.",
    "created_at": "2010-02-08T04:09:32Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59897",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:19" align="right">comment:19</div>

Please take a look at the changes in trac_7872_new-referee.patch. You can apply trac_7872_new-all.patch to a new sage branch to get all of the changes.



---

archive/issue_events_097634.json:
```json
{
    "actor": "https://github.com/sagetrac-wcauchois",
    "created_at": "2010-02-08T04:09:32Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97634"
}
```



---

archive/issue_events_097635.json:
```json
{
    "actor": "https://github.com/sagetrac-wcauchois",
    "created_at": "2010-02-08T04:09:32Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97635"
}
```



---

archive/issue_events_097636.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-12T19:55:05Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97636"
}
```



---

archive/issue_events_097637.json:
```json
{
    "actor": "https://github.com/kcrisman",
    "created_at": "2010-02-12T19:55:05Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97637"
}
```



---

archive/issue_comments_059898.json:
```json
{
    "body": "<div id=\"comment:20\" align=\"right\">comment:20</div>\n\n> > Also, why are Cylindrical and Spherical imported in plot3d/all.py?    It's not clear to me why someone would want that available but not just use e.g. spherical_plot3d or just import Spherical if they really needed it?\n\n> \n> This is one of the major features of the transformation system. You can use spherical_plot3d, which will graph a function r in terms of phi and theta, or you can specify transformation=Spherical() which lets you choose the dependent and independent variables.\n> \n> For example,\n> \n> ```\n> plot3d(..., transformation=Spherical('phi', ['r', 'theta']))\n> ```\n> will graph a function phi in terms of r and theta. So basically you get more flexibility by using Spherical(). Is there a way I could make that clearer in the documentation?\n> \n\nMost of the changes seem fine.  I am still confused about this, though.  Isn't\n\n```\nsage: spherical_plot3d(e^-y,(x,0,2*pi),(y,0,pi))\n```\nalready allowing one to use a different name for the variables?  \n\nAh, I think I see.  There are six different possibilities for order of independent variables and the dependent variable, and you want to allow all of these - it that it?  Maybe you should make it clearer that this is what is going on by saying that it's not the names, but rather which one is the dependent variable, you are changing - in fact, that the names look the same only to preserve the usual terminology - and then adding to\n\n```\n      sage: Spherical('theta', ['r', 'phi']) \n      Spherical coordinate system (theta in terms of r, phi) \n```\nby actually plotting something with this.  \n\nAlso, in line 623, I think it should be\n\n```\n   sage: var('r,u,v')\n``` \ninstead of r, u, u; I am surprised this doesn't give a doctest failure (I didn't get a chance to run that right now).\n\nIs it ok if I make it still 'needs work' to just clarify these?  For most users it will all be irrelevant, of course, but if we are really going to import Spherical() at the top level, then it should be very clear what the point is.",
    "created_at": "2010-02-12T19:55:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59898",
    "user": "https://github.com/kcrisman"
}
```

<div id="comment:20" align="right">comment:20</div>

> > Also, why are Cylindrical and Spherical imported in plot3d/all.py?    It's not clear to me why someone would want that available but not just use e.g. spherical_plot3d or just import Spherical if they really needed it?

> 
> This is one of the major features of the transformation system. You can use spherical_plot3d, which will graph a function r in terms of phi and theta, or you can specify transformation=Spherical() which lets you choose the dependent and independent variables.
> 
> For example,
> 
> ```
> plot3d(..., transformation=Spherical('phi', ['r', 'theta']))
> ```
> will graph a function phi in terms of r and theta. So basically you get more flexibility by using Spherical(). Is there a way I could make that clearer in the documentation?
> 

Most of the changes seem fine.  I am still confused about this, though.  Isn't

```
sage: spherical_plot3d(e^-y,(x,0,2*pi),(y,0,pi))
```
already allowing one to use a different name for the variables?  

Ah, I think I see.  There are six different possibilities for order of independent variables and the dependent variable, and you want to allow all of these - it that it?  Maybe you should make it clearer that this is what is going on by saying that it's not the names, but rather which one is the dependent variable, you are changing - in fact, that the names look the same only to preserve the usual terminology - and then adding to

```
      sage: Spherical('theta', ['r', 'phi']) 
      Spherical coordinate system (theta in terms of r, phi) 
```
by actually plotting something with this.  

Also, in line 623, I think it should be

```
   sage: var('r,u,v')
``` 
instead of r, u, u; I am surprised this doesn't give a doctest failure (I didn't get a chance to run that right now).

Is it ok if I make it still 'needs work' to just clarify these?  For most users it will all be irrelevant, of course, but if we are really going to import Spherical() at the top level, then it should be very clear what the point is.



---

archive/issue_comments_059899.json:
```json
{
    "body": "<div id=\"comment:21\" align=\"right\">comment:21</div>\n\nReplying to [@kcrisman](#comment:20):\n> Ah, I think I see.  There are six different possibilities for order of independent variables and the dependent variable, and you want to allow all of these - it that it?  Maybe you should make it clearer that this is what is going on by saying that it's not the names, but rather which one is the dependent variable, you are changing - in fact, that the names look the same only to preserve the usual terminology - and then adding to\n> \n> ```\n>       sage: Spherical('theta', ['r', 'phi']) \n>       Spherical coordinate system (theta in terms of r, phi) \n> ```\n> by actually plotting something with this.  \n\nIn the docstring on line 254, I do just that.\n\n> Also, in line 623, I think it should be\n> \n> ```\n>    sage: var('r,u,v')\n> ``` \n> instead of r, u, u; I am surprised this doesn't give a doctest failure (I didn't get a chance to run that right now).\n\nGood catch!\n\n> Is it ok if I make it still 'needs work' to just clarify these?  For most users it will all be irrelevant, of course, but if we are really going to import Spherical() at the top level, then it should be very clear what the point is.\n\nI've done my best on the documentation, but it still might not be entirely clear on how to use Spherical and Cylindrical. Most users, of course, can simply use spherical_plot3d and cylindrical_plot3d. Can you make any concrete suggestions on how to improve the documentation? Does anyone have any ideas for sentences to add?",
    "created_at": "2010-02-13T00:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59899",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:21" align="right">comment:21</div>

Replying to [@kcrisman](#comment:20):
> Ah, I think I see.  There are six different possibilities for order of independent variables and the dependent variable, and you want to allow all of these - it that it?  Maybe you should make it clearer that this is what is going on by saying that it's not the names, but rather which one is the dependent variable, you are changing - in fact, that the names look the same only to preserve the usual terminology - and then adding to
> 
> ```
>       sage: Spherical('theta', ['r', 'phi']) 
>       Spherical coordinate system (theta in terms of r, phi) 
> ```
> by actually plotting something with this.  

In the docstring on line 254, I do just that.

> Also, in line 623, I think it should be
> 
> ```
>    sage: var('r,u,v')
> ``` 
> instead of r, u, u; I am surprised this doesn't give a doctest failure (I didn't get a chance to run that right now).

Good catch!

> Is it ok if I make it still 'needs work' to just clarify these?  For most users it will all be irrelevant, of course, but if we are really going to import Spherical() at the top level, then it should be very clear what the point is.

I've done my best on the documentation, but it still might not be entirely clear on how to use Spherical and Cylindrical. Most users, of course, can simply use spherical_plot3d and cylindrical_plot3d. Can you make any concrete suggestions on how to improve the documentation? Does anyone have any ideas for sentences to add?



---

archive/issue_comments_059900.json:
```json
{
    "body": "<div id=\"comment:22\" align=\"right\">comment:22</div>\n\nIn your definition of spherical coordinates, is your second angle the *elevation*, or the *inclination*.  I think it might be the inclination, rather than what is stated in the docstring (\"elevation\").  Inclination is measured with 0 corresponding to the positive z-axis, and has a range of [0,pi].  Elevation is measured from the xy-plane, and has a range of [-pi/2,pi/2], if I understand things correctly.",
    "created_at": "2010-02-24T07:38:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59900",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:22" align="right">comment:22</div>

In your definition of spherical coordinates, is your second angle the *elevation*, or the *inclination*.  I think it might be the inclination, rather than what is stated in the docstring ("elevation").  Inclination is measured with 0 corresponding to the positive z-axis, and has a range of [0,pi].  Elevation is measured from the xy-plane, and has a range of [-pi/2,pi/2], if I understand things correctly.



---

archive/issue_comments_059901.json:
```json
{
    "body": "<div id=\"comment:23\" align=\"right\">comment:23</div>\n\nAlso, given the confusion surrounding different conventions and variable names for spherical coordinates, I think it would be better to use \"radius\", \"azimuth\", and \"inclination\" (or \"elevation\"), instead of \"r\", \"phi\", and \"theta\".  Then it's unambiguous what \n\n```\nSpherical('radius', ['azimuth', 'inclination'])\n```\n\nrepresents.",
    "created_at": "2010-02-24T07:45:23Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59901",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:23" align="right">comment:23</div>

Also, given the confusion surrounding different conventions and variable names for spherical coordinates, I think it would be better to use "radius", "azimuth", and "inclination" (or "elevation"), instead of "r", "phi", and "theta".  Then it's unambiguous what 

```
Spherical('radius', ['azimuth', 'inclination'])
```

represents.



---

archive/issue_comments_059902.json:
```json
{
    "body": "<div id=\"comment:24\" align=\"right\">comment:24</div>\n\nSimilarly, I think cylindrical coordinate components should be spelled out:\n\n```\nclass Cylindrical(sage.plot.plot3d.plot3d._CoordTrans):\n    all_vars = ['radius', 'azimuth', 'height']\n\n    _name = 'Cylindrical (radius, azimuth, height) coordinate system'\n\n    def gen_transform(self, radius=None, azimuth=None, height=None):\n        return (radius * cos(azimuth),\n                radius * sin(azimuth),\n                height)\n```",
    "created_at": "2010-02-24T07:54:17Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59902",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:24" align="right">comment:24</div>

Similarly, I think cylindrical coordinate components should be spelled out:

```
class Cylindrical(sage.plot.plot3d.plot3d._CoordTrans):
    all_vars = ['radius', 'azimuth', 'height']

    _name = 'Cylindrical (radius, azimuth, height) coordinate system'

    def gen_transform(self, radius=None, azimuth=None, height=None):
        return (radius * cos(azimuth),
                radius * sin(azimuth),
                height)
```



---

archive/issue_comments_059903.json:
```json
{
    "body": "<div id=\"comment:25\" align=\"right\">comment:25</div>\n\nOne more point that I thought of when trying to use this feature.  Why should I have to specify the names of variables more than once?  Introspection should be able to get these from my gen_transform function.  It seems like I should be able to do this:\n\n```\nclass Cylindrical(sage.plot.plot3d.plot3d._CoordTrans):\n    \"\"\"\n    Some docs for the mathematical definitions of the variables\n    \"\"\"\n    def gen_transform(self, radius=None, azimuth=None, height=None):\n        return (radius * cos(azimuth),\n                radius * sin(azimuth),\n                height)\n```\n\nand things should just work.  all_vars can be inferred from the keyword arguments to gen_transform.  It's pretty easy to come up with a good default _name (i.e., 'name of class (variables) coordinate system').",
    "created_at": "2010-02-24T08:19:11Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59903",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:25" align="right">comment:25</div>

One more point that I thought of when trying to use this feature.  Why should I have to specify the names of variables more than once?  Introspection should be able to get these from my gen_transform function.  It seems like I should be able to do this:

```
class Cylindrical(sage.plot.plot3d.plot3d._CoordTrans):
    """
    Some docs for the mathematical definitions of the variables
    """
    def gen_transform(self, radius=None, azimuth=None, height=None):
        return (radius * cos(azimuth),
                radius * sin(azimuth),
                height)
```

and things should just work.  all_vars can be inferred from the keyword arguments to gen_transform.  It's pretty easy to come up with a good default _name (i.e., 'name of class (variables) coordinate system').



---

archive/issue_events_097638.json:
```json
{
    "actor": "https://github.com/sagetrac-olazo",
    "created_at": "2010-02-24T08:19:11Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97638"
}
```



---

archive/issue_events_097639.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-24T08:19:11Z",
    "event": "assigned",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97639"
}
```



---

archive/issue_comments_059904.json:
```json
{
    "body": "<div id=\"comment:26\" align=\"right\">comment:26</div>\n\nAnother polishing point: when given this syntax\n\n```\nspherical=(w*cos(u)*sin(v),w*sin(u)*sin(v),w*cos(v),w) \nplot3d(2,(u,-pi,pi),(v,0,pi),transformation=spherical,plot_points=[100,100])\n```\n\nwhy do I have to specify the fourth argument in spherical (i.e., \"w\")?  In the plot, you know that I'm specifying u and v to be numeric ranges, so it should be easy for Sage to realize that the function variable is w and the independent variables are u and v.",
    "created_at": "2010-02-24T08:27:55Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59904",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:26" align="right">comment:26</div>

Another polishing point: when given this syntax

```
spherical=(w*cos(u)*sin(v),w*sin(u)*sin(v),w*cos(v),w) 
plot3d(2,(u,-pi,pi),(v,0,pi),transformation=spherical,plot_points=[100,100])
```

why do I have to specify the fourth argument in spherical (i.e., "w")?  In the plot, you know that I'm specifying u and v to be numeric ranges, so it should be easy for Sage to realize that the function variable is w and the independent variables are u and v.



---

archive/issue_comments_059905.json:
```json
{
    "body": "<div id=\"comment:27\" align=\"right\">comment:27</div>\n\nThe current code might have a problem if I do:\n\n```\nspherical=(w*cos(u)*sin(v),w*sin(u)*sin(v),w*cos(v),w) \nplot3d(lambda x,y: 2,(-pi,pi),(0,pi),transformation=spherical,plot_points=[100,100])\n\n```\n\nbecause the current strategy does not specify if u or v is the first coordinate range.",
    "created_at": "2010-02-24T08:44:35Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59905",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:27" align="right">comment:27</div>

The current code might have a problem if I do:

```
spherical=(w*cos(u)*sin(v),w*sin(u)*sin(v),w*cos(v),w) 
plot3d(lambda x,y: 2,(-pi,pi),(0,pi),transformation=spherical,plot_points=[100,100])

```

because the current strategy does not specify if u or v is the first coordinate range.



---

archive/issue_comments_059906.json:
```json
{
    "body": "<div id=\"comment:28\" align=\"right\">comment:28</div>\n\nIndeed, with the patch:\n\n```\nsage: var('u,v,w')\nsage: spherical=(w*cos(u)*sin(v),w*sin(u)*sin(v),w*cos(v),w) \nsage: plot3d(lambda x,y: 2,(-pi,pi),(0,pi),transformation=spherical,plot_points=[100,100])\nTraceback (most recent call last):\n...\nValueError: expected 3-tuple for urange and vrange\n```",
    "created_at": "2010-02-25T04:09:51Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59906",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:28" align="right">comment:28</div>

Indeed, with the patch:

```
sage: var('u,v,w')
sage: spherical=(w*cos(u)*sin(v),w*sin(u)*sin(v),w*cos(v),w) 
sage: plot3d(lambda x,y: 2,(-pi,pi),(0,pi),transformation=spherical,plot_points=[100,100])
Traceback (most recent call last):
...
ValueError: expected 3-tuple for urange and vrange
```



---

archive/issue_comments_059907.json:
```json
{
    "body": "Attachment: **[trac-7872-polish.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac-7872-polish.patch.gz)**\n\napply on top of trac_7872_new-all.patch; based on 4.3.2.",
    "created_at": "2010-02-27T10:11:53Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59907",
    "user": "https://github.com/jasongrout"
}
```

Attachment: **[trac-7872-polish.patch.gz](https://github.com/sagemath/sage/files/ticket7872/trac-7872-polish.patch.gz)**

apply on top of trac_7872_new-all.patch; based on 4.3.2.



---

archive/issue_comments_059908.json:
```json
{
    "body": "<div id=\"comment:29\" align=\"right\">comment:29</div>\n\nI've addressed every single one of my comments in the trac-7872-polish.patch.  I think this is great functionality, and definitely ready for review!",
    "created_at": "2010-02-27T10:13:42Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59908",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:29" align="right">comment:29</div>

I've addressed every single one of my comments in the trac-7872-polish.patch.  I think this is great functionality, and definitely ready for review!



---

archive/issue_events_097640.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T10:13:42Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20work",
    "label_color": "ffff00",
    "label_name": "needs work",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97640"
}
```



---

archive/issue_events_097641.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T10:13:42Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97641"
}
```



---

archive/issue_events_097642.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T10:13:53Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/p%3A%204%20%E2%80%93%20minor",
    "label_color": "ffe799",
    "label_name": "p: 4 \u2013 minor",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97642"
}
```



---

archive/issue_events_097643.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T10:13:53Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/p%3A%203%20%E2%80%93%20major",
    "label_color": "ffbb00",
    "label_name": "p: 3 \u2013 major",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97643"
}
```



---

archive/issue_comments_059909.json:
```json
{
    "body": "Changed author from **Bill Cauchois, Oscar Gerardo Lazo Arjona** to **Bill Cauchois, Oscar Gerardo Lazo Arjona, Jason Grout**",
    "created_at": "2010-02-27T10:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59909",
    "user": "https://github.com/jasongrout"
}
```

Changed author from **Bill Cauchois, Oscar Gerardo Lazo Arjona** to **Bill Cauchois, Oscar Gerardo Lazo Arjona, Jason Grout**



---

archive/issue_comments_059910.json:
```json
{
    "body": "Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Jason Grout**",
    "created_at": "2010-02-27T10:14:09Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59910",
    "user": "https://github.com/jasongrout"
}
```

Changed reviewer from **Karl-Dieter Crisman** to **Karl-Dieter Crisman, Jason Grout**



---

archive/issue_events_097644.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-02-27T10:18:14Z",
    "event": "unassigned",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "subject": "https://github.com/jasongrout",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97644"
}
```



---

archive/issue_comments_059911.json:
```json
{
    "body": "<div id=\"comment:33\" align=\"right\">comment:33</div>\n\nWow, great work Jason. Thank you so much. I've had a really tough quarter in school and I really didn't have time to work on this. I'm also excited to see this feature in Sage. Thanks to everyone who helped make this happen.",
    "created_at": "2010-02-27T10:21:02Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59911",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:33" align="right">comment:33</div>

Wow, great work Jason. Thank you so much. I've had a really tough quarter in school and I really didn't have time to work on this. I'm also excited to see this feature in Sage. Thanks to everyone who helped make this happen.



---

archive/issue_comments_059912.json:
```json
{
    "body": "<div id=\"comment:34\" align=\"right\">comment:34</div>\n\nReplying to [@sagetrac-wcauchois](#comment:33):\n> Wow, great work Jason. Thank you so much. I've had a really tough quarter in school and I really didn't have time to work on this. I'm also excited to see this feature in Sage. Thanks to everyone who helped make this happen.\n\nI totally understand.  Now I am talking about transformations in my calc 3 class, so I could take some time to finish this up.  I'm hoping it gets in fairly quickly, though I'll probably apply the patch to our class server anyway.\n\nI positive review your code (well, except for the changes I made :).  Can you review my code?",
    "created_at": "2010-02-27T16:41:05Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59912",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:34" align="right">comment:34</div>

Replying to [@sagetrac-wcauchois](#comment:33):
> Wow, great work Jason. Thank you so much. I've had a really tough quarter in school and I really didn't have time to work on this. I'm also excited to see this feature in Sage. Thanks to everyone who helped make this happen.

I totally understand.  Now I am talking about transformations in my calc 3 class, so I could take some time to finish this up.  I'm hoping it gets in fairly quickly, though I'll probably apply the patch to our class server anyway.

I positive review your code (well, except for the changes I made :).  Can you review my code?



---

archive/issue_comments_059913.json:
```json
{
    "body": "<div id=\"comment:35\" align=\"right\">comment:35</div>\n\nJason,\nI've taken a look at your code and you've done a great job of cleaning this up! I can't find any fault with it. Apply the following patches to Sage 4.3.3: trac-7872-polish.patch, trac_7872_new-all.patch. Applies fine and passes all doctests.\n\nNow which one of us should mark this as a positive review, or should we bring in a 3rd party?",
    "created_at": "2010-02-28T20:20:56Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59913",
    "user": "https://github.com/sagetrac-wcauchois"
}
```

<div id="comment:35" align="right">comment:35</div>

Jason,
I've taken a look at your code and you've done a great job of cleaning this up! I can't find any fault with it. Apply the following patches to Sage 4.3.3: trac-7872-polish.patch, trac_7872_new-all.patch. Applies fine and passes all doctests.

Now which one of us should mark this as a positive review, or should we bring in a 3rd party?



---

archive/issue_events_097645.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-03-01T12:09:22Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/needs%20review",
    "label_color": "7fff00",
    "label_name": "needs review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97645"
}
```



---

archive/issue_events_097646.json:
```json
{
    "actor": "https://github.com/jasongrout",
    "created_at": "2010-03-01T12:09:22Z",
    "event": "labeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97646"
}
```



---

archive/issue_comments_059914.json:
```json
{
    "body": "<div id=\"comment:36\" align=\"right\">comment:36</div>\n\nReplying to [@sagetrac-wcauchois](#comment:35):\n> Jason,\n> I've taken a look at your code and you've done a great job of cleaning this up! I can't find any fault with it. Apply the following patches to Sage 4.3.3: trac-7872-polish.patch, trac_7872_new-all.patch. Applies fine and passes all doctests.\n> \n\nApply the patches in this order, though: trac_7872_new-all.patch, trac-7872-polish.patch.\n\nThere is precedent for two people collaboratively writing and reviewing each other's code as being okay.  Since you've passed off on my code, and I've passed off on your code, I'll mark this as positive review.  olazo: can you look at this as well, and if you find a problem, change it back to needs work?",
    "created_at": "2010-03-01T12:09:22Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59914",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:36" align="right">comment:36</div>

Replying to [@sagetrac-wcauchois](#comment:35):
> Jason,
> I've taken a look at your code and you've done a great job of cleaning this up! I can't find any fault with it. Apply the following patches to Sage 4.3.3: trac-7872-polish.patch, trac_7872_new-all.patch. Applies fine and passes all doctests.
> 

Apply the patches in this order, though: trac_7872_new-all.patch, trac-7872-polish.patch.

There is precedent for two people collaboratively writing and reviewing each other's code as being okay.  Since you've passed off on my code, and I've passed off on your code, I'll mark this as positive review.  olazo: can you look at this as well, and if you find a problem, change it back to needs work?



---

archive/issue_comments_059915.json:
```json
{
    "body": "<div id=\"comment:37\" align=\"right\">comment:37</div>\n\n(actually, in this case, it was three people because olazo wrote the initial implementation!)",
    "created_at": "2010-03-01T12:10:14Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59915",
    "user": "https://github.com/jasongrout"
}
```

<div id="comment:37" align="right">comment:37</div>

(actually, in this case, it was three people because olazo wrote the initial implementation!)



---

archive/issue_comments_059916.json:
```json
{
    "body": "<div id=\"comment:38\" align=\"right\">comment:38</div>\n\nReplying to [@jasongrout](#comment:36):\n> There is precedent for two people collaboratively writing and reviewing each other's code as being okay.  Since you've passed off on my code, and I've passed off on your code, I'll mark this as positive review.  olazo: can you look at this as well, and if you find a problem, change it back to needs work?\n\nI can't find anything wrong with the code, it seems quite powerful already :) ! Thanks to you two for taking interest in this. I couldn't do any more recently because of school... It's been great so far though!",
    "created_at": "2010-03-03T03:12:45Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59916",
    "user": "https://github.com/sagetrac-olazo"
}
```

<div id="comment:38" align="right">comment:38</div>

Replying to [@jasongrout](#comment:36):
> There is precedent for two people collaboratively writing and reviewing each other's code as being okay.  Since you've passed off on my code, and I've passed off on your code, I'll mark this as positive review.  olazo: can you look at this as well, and if you find a problem, change it back to needs work?

I can't find anything wrong with the code, it seems quite powerful already :) ! Thanks to you two for taking interest in this. I couldn't do any more recently because of school... It's been great so far though!



---

archive/issue_comments_059917.json:
```json
{
    "body": "Merged: **sage-4.3.4.alpha0**",
    "created_at": "2010-03-03T14:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59917",
    "user": "https://github.com/sagetrac-mvngu"
}
```

Merged: **sage-4.3.4.alpha0**



---

archive/issue_events_097647.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-03T14:09:38Z",
    "event": "unlabeled",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "label": "https://github.com/sagemath/sage/labels/positive%20review",
    "label_color": "dfffc0",
    "label_name": "positive review",
    "label_text_color": "ffffff",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97647"
}
```



---

archive/issue_events_097648.json:
```json
{
    "actor": "https://github.com/sagetrac-mvngu",
    "created_at": "2010-03-03T14:09:38Z",
    "event": "closed",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_event",
    "url": "https://github.com/sagemath/sage/issues/7872#event-97648"
}
```



---

archive/issue_comments_059918.json:
```json
{
    "body": "<div id=\"comment:39\" align=\"right\">comment:39</div>\n\nMerged in this order:\n\n1. [trac_7872_new-all.patch](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new-all.patch.gz)\n2. [trac-7872-polish.patch](https://github.com/sagemath/sage/files/ticket7872/trac-7872-polish.patch.gz)",
    "created_at": "2010-03-03T14:09:38Z",
    "formatter": "markdown",
    "issue": "https://github.com/sagemath/sage/issues/7872",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sage/issues/7872#issuecomment-59918",
    "user": "https://github.com/sagetrac-mvngu"
}
```

<div id="comment:39" align="right">comment:39</div>

Merged in this order:

1. [trac_7872_new-all.patch](https://github.com/sagemath/sage/files/ticket7872/trac_7872_new-all.patch.gz)
2. [trac-7872-polish.patch](https://github.com/sagemath/sage/files/ticket7872/trac-7872-polish.patch.gz)
