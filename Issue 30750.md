# Issue 30750: fix lcalc on gcc-10

Issue created by migration from https://trac.sagemath.org/ticket/30987

Original creator: dimpase

Original creation time: 2020-11-30 22:19:43

CC:  mkoeppe fbissey saraedum tscrim

a followup to #30619


---

Comment by dimpase created at 2020-11-30 22:28:11

compilation goes through after adding 

```
return 0;
```

at the line 489, right before the closing `}` of this function.


---

Comment by dimpase created at 2020-11-30 22:29:22

oops, sorry, I removed ppls from cc


---

Comment by dimpase created at 2020-11-30 22:54:16

upstream issue:

https://gitlab.com/sagemath/lcalc/-/issues/3


---

Comment by fbissey created at 2020-12-01 00:16:16

Currently compile with warnings for me. Did you put a special flag to convert warnings to errors?


---

Comment by dimpase created at 2020-12-01 10:13:03

As the gitlab repo does not have a usable Makefile, and our patches don't apply, it's probably the best for the time being to add one more patch.


---

Comment by dimpase created at 2020-12-01 10:14:22

Replying to [comment:6 fbissey]:
> Currently compile with warnings for me. Did you put a special flag to convert warnings to errors?

no, I just used whatever the default settings/compilers on OpenSUSE Tumbleweed are.
So apparently these are their defaults.


---

Comment by dimpase created at 2020-12-01 12:49:12

here is the fix
----
New commits:


---

Comment by dimpase created at 2020-12-01 12:49:12

Changing status from new to needs_review.


---

Comment by git created at 2020-12-01 12:51:33

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by git created at 2020-12-01 12:57:53

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:


---

Comment by tscrim created at 2020-12-09 07:50:55

Changing status from needs_review to positive_review.


---

Comment by tscrim created at 2020-12-09 07:50:55

LGTM.


---

Comment by vbraun created at 2020-12-14 23:53:14

Resolution: fixed
