# Issue 32444: Changing brick polytopes of subword complexes to brick polyhedra

archive/issues_032444.json:
```json
{
    "body": "CC:  stumpc5 jipilab @kliem\n\nKeywords: subword complex, brick vector, brick polyhedron, brick polytope,\n\ngeneralize the method brick_polytope() of sage.combinat.subword_complex.py to brick_polyhedron() as done in\n\nhttps://arxiv.org/abs/2103.03715\n\nIssue created by migration from https://trac.sagemath.org/ticket/32681\n\n",
    "created_at": "2021-10-13T10:16:42Z",
    "labels": [
        "combinatorics",
        "major",
        "enhancement"
    ],
    "milestone": "https://github.com/sagemath/sagetest/milestones/sage-9.8",
    "title": "Changing brick polytopes of subword complexes to brick polyhedra",
    "type": "issue",
    "url": "https://github.com/sagemath/sagetest/issues/32444",
    "user": "@DennisJahn"
}
```
CC:  stumpc5 jipilab @kliem

Keywords: subword complex, brick vector, brick polyhedron, brick polytope,

generalize the method brick_polytope() of sage.combinat.subword_complex.py to brick_polyhedron() as done in

https://arxiv.org/abs/2103.03715

Issue created by migration from https://trac.sagemath.org/ticket/32681





---

archive/issue_comments_462836.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-14T09:12:27Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462836",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462837.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-14T10:18:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462837",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462838.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-14T11:05:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462838",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462839.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-14T12:35:42Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462839",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462840.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-14T13:24:57Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462840",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462841.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-18T07:05:24Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462841",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462842.json:
```json
{
    "body": "Changing status from new to needs_review.",
    "created_at": "2021-10-18T08:51:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462842",
    "user": "@DennisJahn"
}
```

Changing status from new to needs_review.



---

archive/issue_comments_462843.json:
```json
{
    "body": "\n```\n+        from warnings import warn\n+        warn(\"brick_polytope() is deprecated; brick_polyhedron() is used instead; results are different for non-spherical subword complexes\", DeprecationWarning)\n```\n\nbetter to use `deprecation` from `sage.misc.superseded` for this",
    "created_at": "2021-10-18T19:41:08Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462843",
    "user": "mkoeppe"
}
```


```
+        from warnings import warn
+        warn("brick_polytope() is deprecated; brick_polyhedron() is used instead; results are different for non-spherical subword complexes", DeprecationWarning)
```

better to use `deprecation` from `sage.misc.superseded` for this



---

archive/issue_comments_462844.json:
```json
{
    "body": "if you install the optional package `pynormaliz`, you can also do exact computations over number fields, this should probably be a user option",
    "created_at": "2021-10-18T19:42:53Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462844",
    "user": "mkoeppe"
}
```

if you install the optional package `pynormaliz`, you can also do exact computations over number fields, this should probably be a user option



---

archive/issue_comments_462845.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-19T09:10:51Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462845",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462846.json:
```json
{
    "body": "Replying to [comment:10 mkoeppe]:\n> if you install the optional package `pynormaliz`, you can also do exact computations over number fields, this should probably be a user option\n\nI did install it but keep getting problems with vertices over the universal cyclotomic field:\n\n1.618033988749895? of type <class 'sage.rings.qqbar.AlgebraicReal'> not valid to initialize an element of the universal cyclotomic field\n\nIs there a way to work around this?",
    "created_at": "2021-10-19T09:58:06Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462846",
    "user": "@DennisJahn"
}
```

Replying to [comment:10 mkoeppe]:
> if you install the optional package `pynormaliz`, you can also do exact computations over number fields, this should probably be a user option

I did install it but keep getting problems with vertices over the universal cyclotomic field:

1.618033988749895? of type <class 'sage.rings.qqbar.AlgebraicReal'> not valid to initialize an element of the universal cyclotomic field

Is there a way to work around this?



---

archive/issue_comments_462847.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-19T10:19:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462847",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462848.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-19T15:32:19Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462848",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462849.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-20T12:46:49Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462849",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462850.json:
```json
{
    "body": "\n```diff\ndiff --git a/src/sage/combinat/root_system/reflection_group_real.py b/src/sage/combinat/root_system/reflection_group_real.py\nindex 91333f0ca5..1fbf87496e 100644\n--- a/src/sage/combinat/root_system/reflection_group_real.py\n+++ b/src/sage/combinat/root_system/reflection_group_real.py\n@@ -706,8 +706,8 @@ class RealReflectionGroup(ComplexReflectionGroup):\n             [0, 1, 2]\n         \"\"\"\n         return self._index_set_inverse[i]\n-    \n-    def bruhat_cone(self, x, y, side = 'upper'):\n+\n+    def bruhat_cone(self, x, y, side='upper', backend='cdd'):\n         r\"\"\"\n         Return the polyhedral cone generated by the set of positive roots ``beta`` where ``s_beta`` is the reflection corresponding to ``beta`` and:\n \n@@ -744,12 +744,16 @@ class RealReflectionGroup(ComplexReflectionGroup):\n             raise ValueError(\"side must be either 'upper' or 'lower'\")\n         from sage.geometry.polyhedron.constructor import Polyhedron\n         if self.is_crystallographic():\n-            return Polyhedron(vertices = [[0]*self.rank()], rays = roots, ambient_dim = self.rank())\n+            return Polyhedron(vertices = [[0]*self.rank()], rays=roots, ambient_dim=self.rank(), backend=backend)\n         else:\n-            from warnings import warn\n-            warn(\"Using floating point numbers for roots of unity. This might cause numerical errors!\")\n-            from sage.rings.real_double import RDF\n-            return Polyhedron(vertices = [[0]*self.rank()], rays = roots, ambient_dim = self.rank(), base_ring = RDF)\n+            if backend == 'cdd':\n+                from warnings import warn\n+                warn(\"Using floating point numbers for roots of unity. This might cause numerical errors!\")\n+                from sage.rings.real_double import RDF as base_ring\n+                backend = 'cdd'\n+            else:\n+                from sage.rings.qqbar import AA as base_ring\n+            return Polyhedron(vertices = [[0]*self.rank()], rays=roots, ambient_dim=self.rank(), base_ring=base_ring, backend=backend)\n \n     class Element(RealReflectionGroupElement, ComplexReflectionGroup.Element):\n \ndiff --git a/src/sage/combinat/subword_complex.py b/src/sage/combinat/subword_complex.py\nindex bbf750b56d..dc64b5882c 100644\n--- a/src/sage/combinat/subword_complex.py\n+++ b/src/sage/combinat/subword_complex.py\n@@ -638,9 +638,9 @@ class SubwordComplexFacet(Simplex, Element):\n \n         - ``coefficients`` -- (optional) a list of coefficients used to\n           scale the fundamental weights\n-        \n+\n         - ``sign`` -- (default: ``'positive'``) must be one of the following:\n-        \n+\n           * ``'positive'`` - entries of the extended weight configuration are summed up as they are\n           * ``'negative'`` - entries of the extended weight configuration are summed up with a negative sign\n \n@@ -1660,9 +1660,9 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):\n \n         - coefficients -- (optional) a list of coefficients used to\n           scale the fundamental weights\n-        \n+\n         - ``sign`` -- (default: ``'positive'``) must be one of the following:\n-        \n+\n           * ``'positive'`` - for brick vectors, entries of the extended weight configuration are summed up as they are\n           * ``'negative'`` - for brick vectors, entries of the extended weight configuration are summed up with a negative sign\n \n@@ -1690,7 +1690,7 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):\n \n     def minkowski_summand(self, i):\n         r\"\"\"\n-        Return the `i` th Minkowski summand of ``self``. The brick polyhedron of ``self`` is the \n+        Return the `i` th Minkowski summand of ``self``. The brick polyhedron of ``self`` is the\n         Minkowski sum of its associated Bruhat cone and all Minkowski summands.\n \n         INPUT:\n@@ -1720,7 +1720,7 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):\n             min_sum = [[QQ(CC(v)) for v in F.extended_weight_configuration()[i]] for F in self]\n         return Polyhedron(min_sum)\n \n-    def brick_polyhedron(self, coefficients=None, sign='positive'):\n+    def brick_polyhedron(self, coefficients=None, sign='positive', backend='cdd'):\n         r\"\"\"\n         Return the brick polyhedron of ``self``.\n \n@@ -1731,9 +1731,9 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):\n \n         - coefficients -- (optional) a list of coefficients used to\n           scale the fundamental weights\n-        \n+\n         - ``sign`` -- (default: ``'positive'``) must be one of the following:\n-        \n+\n           * ``'positive'`` - entries of the extended weight configuration are summed up as they are.\n             The Bruhat cone is taken with a negative sign.\n           * ``'negative'`` - entries of the extended weight configuration are summed up with a negative sign.\n@@ -1762,29 +1762,32 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):\n             sage: SC = SubwordComplex(Q,W.w0)                           # optional - gap3\n             sage: SC.brick_polyhedron()                                 # optional - gap3\n             A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 32 vertices\n-            \n+\n             sage: W = ReflectionGroup(['B',2])                          # optional - gap3\n             sage: Q = W.w0.reduced_word()                               # optional - gap3\n             sage: SC = SubwordComplex(Q, W.from_reduced_word([1]))      # optional - gap3\n             sage: SC.brick_polyhedron()                                 # optional - gap3\n             A 2-dimensional polyhedron in QQ^2 defined as the convex hull of 2 vertices and 2 rays\n-            \n+\n         REFERENCES: [JahStu]_\n         \"\"\"\n         BV = self.brick_vectors(coefficients=coefficients, sign=sign)\n         G = self.group()\n         if sign == 'positive':\n-            BC = -G.bruhat_cone(self.pi(), G.demazure_product(self.word()))\n+            BC = -G.bruhat_cone(self.pi(), G.demazure_product(self.word()), backend=backend)\n         elif sign == 'negative':\n-            BC = G.bruhat_cone(self.pi(), G.demazure_product(self.word()))\n+            BC = G.bruhat_cone(self.pi(), G.demazure_product(self.word()), backend=backend)\n         else:\n             raise ValueError(\"sign must be either 'positive' or 'negative'\")\n         if G.coxeter_matrix().is_crystallographic():\n-            return Polyhedron(BV, ambient_dim = G.rank()) + BC\n+            return Polyhedron(BV, ambient_dim=G.rank(), backend=backend) + BC\n         else:\n-            from sage.rings.real_double import RDF\n-            return Polyhedron(BV, ambient_dim = G.rank(), base_ring = RDF) + BC\n-    \n+            if backend == 'cdd':\n+                from sage.rings.real_double import RDF as base_ring\n+            else:\n+                from sage.rings.qqbar import AA as base_ring\n+            return Polyhedron(BV, ambient_dim=G.rank(), base_ring=base_ring, backend=backend) + BC\n+\n     from sage.misc.superseded import deprecated_function_alias\n     brick_polytope = deprecated_function_alias(32681, brick_polyhedron)\n```\n\n\nThe `backend` keyword is missing anyway and should be added.\n\nIn can be documented similar to what is done in `src/sage/geometry/polyhedron/library.py`.\n\nA general remark: A keyword assignment should not have spaces guarding `=`: `Polyhedron(backend='cdd')`.",
    "created_at": "2021-10-25T09:12:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462850",
    "user": "@kliem"
}
```


```diff
diff --git a/src/sage/combinat/root_system/reflection_group_real.py b/src/sage/combinat/root_system/reflection_group_real.py
index 91333f0ca5..1fbf87496e 100644
--- a/src/sage/combinat/root_system/reflection_group_real.py
+++ b/src/sage/combinat/root_system/reflection_group_real.py
@@ -706,8 +706,8 @@ class RealReflectionGroup(ComplexReflectionGroup):
             [0, 1, 2]
         """
         return self._index_set_inverse[i]
-    
-    def bruhat_cone(self, x, y, side = 'upper'):
+
+    def bruhat_cone(self, x, y, side='upper', backend='cdd'):
         r"""
         Return the polyhedral cone generated by the set of positive roots ``beta`` where ``s_beta`` is the reflection corresponding to ``beta`` and:
 
@@ -744,12 +744,16 @@ class RealReflectionGroup(ComplexReflectionGroup):
             raise ValueError("side must be either 'upper' or 'lower'")
         from sage.geometry.polyhedron.constructor import Polyhedron
         if self.is_crystallographic():
-            return Polyhedron(vertices = [[0]*self.rank()], rays = roots, ambient_dim = self.rank())
+            return Polyhedron(vertices = [[0]*self.rank()], rays=roots, ambient_dim=self.rank(), backend=backend)
         else:
-            from warnings import warn
-            warn("Using floating point numbers for roots of unity. This might cause numerical errors!")
-            from sage.rings.real_double import RDF
-            return Polyhedron(vertices = [[0]*self.rank()], rays = roots, ambient_dim = self.rank(), base_ring = RDF)
+            if backend == 'cdd':
+                from warnings import warn
+                warn("Using floating point numbers for roots of unity. This might cause numerical errors!")
+                from sage.rings.real_double import RDF as base_ring
+                backend = 'cdd'
+            else:
+                from sage.rings.qqbar import AA as base_ring
+            return Polyhedron(vertices = [[0]*self.rank()], rays=roots, ambient_dim=self.rank(), base_ring=base_ring, backend=backend)
 
     class Element(RealReflectionGroupElement, ComplexReflectionGroup.Element):
 
diff --git a/src/sage/combinat/subword_complex.py b/src/sage/combinat/subword_complex.py
index bbf750b56d..dc64b5882c 100644
--- a/src/sage/combinat/subword_complex.py
+++ b/src/sage/combinat/subword_complex.py
@@ -638,9 +638,9 @@ class SubwordComplexFacet(Simplex, Element):
 
         - ``coefficients`` -- (optional) a list of coefficients used to
           scale the fundamental weights
-        
+
         - ``sign`` -- (default: ``'positive'``) must be one of the following:
-        
+
           * ``'positive'`` - entries of the extended weight configuration are summed up as they are
           * ``'negative'`` - entries of the extended weight configuration are summed up with a negative sign
 
@@ -1660,9 +1660,9 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):
 
         - coefficients -- (optional) a list of coefficients used to
           scale the fundamental weights
-        
+
         - ``sign`` -- (default: ``'positive'``) must be one of the following:
-        
+
           * ``'positive'`` - for brick vectors, entries of the extended weight configuration are summed up as they are
           * ``'negative'`` - for brick vectors, entries of the extended weight configuration are summed up with a negative sign
 
@@ -1690,7 +1690,7 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):
 
     def minkowski_summand(self, i):
         r"""
-        Return the `i` th Minkowski summand of ``self``. The brick polyhedron of ``self`` is the 
+        Return the `i` th Minkowski summand of ``self``. The brick polyhedron of ``self`` is the
         Minkowski sum of its associated Bruhat cone and all Minkowski summands.
 
         INPUT:
@@ -1720,7 +1720,7 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):
             min_sum = [[QQ(CC(v)) for v in F.extended_weight_configuration()[i]] for F in self]
         return Polyhedron(min_sum)
 
-    def brick_polyhedron(self, coefficients=None, sign='positive'):
+    def brick_polyhedron(self, coefficients=None, sign='positive', backend='cdd'):
         r"""
         Return the brick polyhedron of ``self``.
 
@@ -1731,9 +1731,9 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):
 
         - coefficients -- (optional) a list of coefficients used to
           scale the fundamental weights
-        
+
         - ``sign`` -- (default: ``'positive'``) must be one of the following:
-        
+
           * ``'positive'`` - entries of the extended weight configuration are summed up as they are.
             The Bruhat cone is taken with a negative sign.
           * ``'negative'`` - entries of the extended weight configuration are summed up with a negative sign.
@@ -1762,29 +1762,32 @@ class SubwordComplex(UniqueRepresentation, SimplicialComplex):
             sage: SC = SubwordComplex(Q,W.w0)                           # optional - gap3
             sage: SC.brick_polyhedron()                                 # optional - gap3
             A 3-dimensional polyhedron in RDF^3 defined as the convex hull of 32 vertices
-            
+
             sage: W = ReflectionGroup(['B',2])                          # optional - gap3
             sage: Q = W.w0.reduced_word()                               # optional - gap3
             sage: SC = SubwordComplex(Q, W.from_reduced_word([1]))      # optional - gap3
             sage: SC.brick_polyhedron()                                 # optional - gap3
             A 2-dimensional polyhedron in QQ^2 defined as the convex hull of 2 vertices and 2 rays
-            
+
         REFERENCES: [JahStu]_
         """
         BV = self.brick_vectors(coefficients=coefficients, sign=sign)
         G = self.group()
         if sign == 'positive':
-            BC = -G.bruhat_cone(self.pi(), G.demazure_product(self.word()))
+            BC = -G.bruhat_cone(self.pi(), G.demazure_product(self.word()), backend=backend)
         elif sign == 'negative':
-            BC = G.bruhat_cone(self.pi(), G.demazure_product(self.word()))
+            BC = G.bruhat_cone(self.pi(), G.demazure_product(self.word()), backend=backend)
         else:
             raise ValueError("sign must be either 'positive' or 'negative'")
         if G.coxeter_matrix().is_crystallographic():
-            return Polyhedron(BV, ambient_dim = G.rank()) + BC
+            return Polyhedron(BV, ambient_dim=G.rank(), backend=backend) + BC
         else:
-            from sage.rings.real_double import RDF
-            return Polyhedron(BV, ambient_dim = G.rank(), base_ring = RDF) + BC
-    
+            if backend == 'cdd':
+                from sage.rings.real_double import RDF as base_ring
+            else:
+                from sage.rings.qqbar import AA as base_ring
+            return Polyhedron(BV, ambient_dim=G.rank(), base_ring=base_ring, backend=backend) + BC
+
     from sage.misc.superseded import deprecated_function_alias
     brick_polytope = deprecated_function_alias(32681, brick_polyhedron)
```


The `backend` keyword is missing anyway and should be added.

In can be documented similar to what is done in `src/sage/geometry/polyhedron/library.py`.

A general remark: A keyword assignment should not have spaces guarding `=`: `Polyhedron(backend='cdd')`.



---

archive/issue_comments_462851.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. Last 10 new commits:",
    "created_at": "2021-10-25T09:22:20Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462851",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. Last 10 new commits:



---

archive/issue_comments_462852.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T13:58:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462852",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462853.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T14:14:17Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462853",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462854.json:
```json
{
    "body": "\n```diff\n-        - ``backend`` -- string (default: ``'ccd'``) -- The backend to use to create the polyhedron.\n+        - ``backend`` -- string (default: ``'cdd'``); the backend to use to create the polyhedron\n```\n\n\nand\n\n\n```diff\n-        - ``backend`` -- string (default: ``'cdd'``) The backend to use to create the polyhedron.\n+        - ``backend`` -- string (default: ``'cdd'``); the backend to use to create the polyhedron\n```\n",
    "created_at": "2021-10-25T14:20:28Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462854",
    "user": "@kliem"
}
```


```diff
-        - ``backend`` -- string (default: ``'ccd'``) -- The backend to use to create the polyhedron.
+        - ``backend`` -- string (default: ``'cdd'``); the backend to use to create the polyhedron
```


and


```diff
-        - ``backend`` -- string (default: ``'cdd'``) The backend to use to create the polyhedron.
+        - ``backend`` -- string (default: ``'cdd'``); the backend to use to create the polyhedron
```




---

archive/issue_comments_462855.json:
```json
{
    "body": "The above comment was edited to also remove the trailing period.",
    "created_at": "2021-10-25T14:22:35Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462855",
    "user": "@kliem"
}
```

The above comment was edited to also remove the trailing period.



---

archive/issue_comments_462856.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-25T14:26:31Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462856",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462857.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-26T06:50:48Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462857",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462858.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2021-10-26T08:08:54Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462858",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462859.json:
```json
{
    "body": "Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.",
    "created_at": "2021-12-18T19:53:12Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462859",
    "user": "mkoeppe"
}
```

Stalled in `needs_review` or `needs_info`; likely won't make it into Sage 9.5.



---

archive/issue_comments_462860.json:
```json
{
    "body": "Changing status from needs_review to needs_work.",
    "created_at": "2022-03-03T06:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462860",
    "user": "mkoeppe"
}
```

Changing status from needs_review to needs_work.



---

archive/issue_comments_462861.json:
```json
{
    "body": "merge conflict (red branch) => needs work",
    "created_at": "2022-03-03T06:55:55Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462861",
    "user": "mkoeppe"
}
```

merge conflict (red branch) => needs work



---

archive/issue_comments_462862.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:",
    "created_at": "2022-09-13T08:08:41Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462862",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. This was a forced push. New commits:



---

archive/issue_comments_462863.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-13T11:48:26Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462863",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462864.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-13T13:01:04Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462864",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462865.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-13T13:24:32Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462865",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462866.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-14T07:03:05Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462866",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462867.json:
```json
{
    "body": "Changing status from needs_work to needs_review.",
    "created_at": "2022-09-14T07:05:25Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462867",
    "user": "@DennisJahn"
}
```

Changing status from needs_work to needs_review.



---

archive/issue_comments_462868.json:
```json
{
    "body": "The code looks good to me! `@`tscrim, `@`chapoton: I am sure you have some comments, at least concerning the formatting and/or the doctests. Could you maybe have a quick look? -- Thanks!",
    "created_at": "2022-09-14T10:56:02Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462868",
    "user": "stumpc5"
}
```

The code looks good to me! `@`tscrim, `@`chapoton: I am sure you have some comments, at least concerning the formatting and/or the doctests. Could you maybe have a quick look? -- Thanks!



---

archive/issue_comments_462869.json:
```json
{
    "body": "doc does not build\n\n```\n /home/sagemath/sage/src/sage/combinat/subword_complex.py:docstring of sage.combinat.subword_complex.SubwordComplex.brick_polyhedron:50: WARNING: citation not found: JS2021\n```\n",
    "created_at": "2022-09-14T12:54:45Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462869",
    "user": "chapoton"
}
```

doc does not build

```
 /home/sagemath/sage/src/sage/combinat/subword_complex.py:docstring of sage.combinat.subword_complex.SubwordComplex.brick_polyhedron:50: WARNING: citation not found: JS2021
```




---

archive/issue_comments_462870.json:
```json
{
    "body": "the new deprecation must be doctested, for exemple in the module documentation near the top of the file",
    "created_at": "2022-09-14T13:35:59Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462870",
    "user": "chapoton"
}
```

the new deprecation must be doctested, for exemple in the module documentation near the top of the file



---

archive/issue_comments_462871.json:
```json
{
    "body": "Branch pushed to git repo; I updated commit sha1. New commits:",
    "created_at": "2022-09-14T17:02:16Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462871",
    "user": "git"
}
```

Branch pushed to git repo; I updated commit sha1. New commits:



---

archive/issue_comments_462872.json:
```json
{
    "body": "Replying to [comment:37 Fr\u00e9d\u00e9ric Chapoton]:\n> doc does not build\n> {{{\n>  /home/sagemath/sage/src/sage/combinat/subword_complex.py:docstring of sage.combinat.subword_complex.SubwordComplex.brick_polyhedron:50: WARNING: citation not found: JS2021\n> }}}\n\nThe reference [JS2021] was added in #32669\nI added the doctest for the new deprecation",
    "created_at": "2022-09-14T17:04:58Z",
    "issue": "https://github.com/sagemath/sagetest/issues/32444",
    "type": "issue_comment",
    "url": "https://github.com/sagemath/sagetest/issues/32444#issuecomment-462872",
    "user": "@DennisJahn"
}
```

Replying to [comment:37 Frédéric Chapoton]:
> doc does not build
> {{{
>  /home/sagemath/sage/src/sage/combinat/subword_complex.py:docstring of sage.combinat.subword_complex.SubwordComplex.brick_polyhedron:50: WARNING: citation not found: JS2021
> }}}

The reference [JS2021] was added in #32669
I added the doctest for the new deprecation
