# Issue 31831: Restore quiet in bootstrap and configure

Issue created by migration from https://trac.sagemath.org/ticket/32068

Original creator: slelievre

Original creation time: 2021-06-27 18:31:36

CC:  mjo mkoeppe slelievre

Keywords: bootstrap, configure, quiet

This is to restore quiet when running
`./bootstrap -q` and `./configure -q`.


---

Comment by slelievre created at 2021-06-27 18:36:07

On macOS 10.14.6 Mojave, fresh Git clone of Sage 9.4.beta3.

Are `./bootstrap -q` and `./configure -q`
expected to output the following?

```
$ . .homebrew-build-env
$ ./bootstrap -q
m4/sage_spkg_configures.m4:514: warning: The macro `AC_PROG_CC_C99' is obsolete.
m4/sage_spkg_configures.m4:514: You should run autoupdate.
./lib/autoconf/c.m4:1659: AC_PROG_CC_C99 is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:514: the top level
m4/sage_spkg_configures.m4:517: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:517: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:517: the top level
m4/sage_spkg_configures.m4:517: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:517: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:517: the top level
m4/sage_spkg_configures.m4:531: warning: The macro `AC_FOREACH' is obsolete.
m4/sage_spkg_configures.m4:531: You should run autoupdate.
./lib/autoconf/general.m4:191: AC_FOREACH is expanded from...
m4/ax_absolute_header.m4:41: AX_ABSOLUTE_HEADER is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
./lib/autoconf/headers.m4:89: _AC_CHECK_HEADER_COMPILE is expanded from...
./lib/autoconf/headers.m4:56: AC_CHECK_HEADER is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:531: the top level
m4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_RUN' is obsolete.
m4/sage_spkg_configures.m4:595: You should run autoupdate.
./lib/autoconf/general.m4:2997: AC_TRY_RUN is expanded from...
m4/ppl.m4:29: AM_PATH_PPL is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:595: the top level
m4/sage_spkg_configures.m4:595: warning: The macro `AC_TRY_LINK' is obsolete.
m4/sage_spkg_configures.m4:595: You should run autoupdate.
./lib/autoconf/general.m4:2920: AC_TRY_LINK is expanded from...
m4/ppl.m4:29: AM_PATH_PPL is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_configure.m4:159: SAGE_SPKG_DEPCHECK is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:692: _AS_IF_ELSE is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
m4/sage_spkg_configures.m4:595: the top level
configure.ac:447: warning: back quotes and double quotes must not be escaped in: multiple installation records for $SPKG_NAME: m4_newline($(ls -l "$SAGE_SPKG_INST/$SPKG_NAME"-*)) m4_newline([only one should exist, so please delete some or all of these files and re-run \"$srcdir/configure\"])
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
lib/m4sugar/m4sh.m4:699: AS_IF is expanded from...
m4/sage_spkg_collect.m4:69: SAGE_SPKG_COLLECT is expanded from...
configure.ac:447: the top level
```



```
$ ./configure -q
configure: WARNING: "/opt/s/sage9c/build/pkgs/termcap/type" is missing.  Leftovers from another branch?
```



---

Comment by mkoeppe created at 2021-06-27 18:37:22

There is a file in `build/pkgs/termcap/` that should be removed. 
The other warnings are fixed in #30668.


---

Comment by slelievre created at 2021-06-27 18:54:31

Changing keywords from "bootstrap, configure, quiet" to "".


---

Comment by slelievre created at 2021-06-27 18:54:31

Changing status from new to needs_review.


---

Comment by slelievre created at 2021-06-27 18:54:31

Thanks for the pointers. I'm changing the ticket title.

Please review.
----
New commits:


---

Comment by mkoeppe created at 2021-06-27 18:57:16

Changing status from needs_review to positive_review.


---

Comment by git created at 2021-06-28 16:34:01

Changing status from positive_review to needs_review.


---

Comment by git created at 2021-06-28 16:34:01

Branch pushed to git repo; I updated commit sha1 and set ticket back to needs_review. This was a forced push. New commits:


---

Comment by slelievre created at 2021-06-28 16:35:48

New commit also ending texttable/type with a newline,
while we're at cleaning up spkg files.


---

Comment by mkoeppe created at 2021-06-28 16:47:13

Changing status from needs_review to positive_review.


---

Comment by slelievre created at 2021-06-28 16:59:38

Thanks!


---

Comment by vbraun created at 2021-07-09 20:23:20

Resolution: fixed
